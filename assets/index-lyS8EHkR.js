(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))b(w);new MutationObserver(w=>{for(const S of w)if(S.type==="childList")for(const C of S.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&b(C)}).observe(document,{childList:!0,subtree:!0});function x(w){const S={};return w.integrity&&(S.integrity=w.integrity),w.referrerPolicy&&(S.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?S.credentials="include":w.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function b(w){if(w.ep)return;w.ep=!0;const S=x(w);fetch(w.href,S)}})();window.File&&window.FileReader&&window.FileList&&window.Blob||alert("The File APIs are not fully supported in this browser.");String.prototype.convertToHex=function(g){return this.split("").map(d=>("0"+d.charCodeAt(0).toString(16)).slice(-2)).join(g||"")};String.prototype.base64ToHex=function(){let g=atob(this.valueOf()),d="";for(let x=0;x<g.length;x++){let b=g.charCodeAt(x).toString(16);d+=b.length===2?b:"0"+b}return d};String.prototype.removeEnclosingQuotes=function(){let g=this.valueOf();for(;g.charAt(0)==='"'&&g.charAt(g.length-1)==='"';)g=g.substring(1,g.length-1);return g};String.prototype.removeDuplicateQuotes=function(){let g=this.valueOf(),d="";for(let x=0;x<g.length;x++)if(d+=g.charAt(x),g.charAt(x)=='"')for(;g.charAt(x+1)=='"';)x++;return d};function makeMap(g,d){const x=Object.create(null),b=g.split(",");for(let w=0;w<b.length;w++)x[b[w]]=!0;return d?w=>!!x[w.toLowerCase()]:w=>!!x[w]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,isOn=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&(g.charCodeAt(2)>122||g.charCodeAt(2)<97),isModelListener=g=>g.startsWith("onUpdate:"),extend=Object.assign,remove=(g,d)=>{const x=g.indexOf(d);x>-1&&g.splice(x,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(g,d)=>hasOwnProperty$1.call(g,d),isArray$1=Array.isArray,isMap=g=>toTypeString(g)==="[object Map]",isSet=g=>toTypeString(g)==="[object Set]",isFunction$1=g=>typeof g=="function",isString=g=>typeof g=="string",isSymbol=g=>typeof g=="symbol",isObject=g=>g!==null&&typeof g=="object",isPromise=g=>(isObject(g)||isFunction$1(g))&&isFunction$1(g.then)&&isFunction$1(g.catch),objectToString=Object.prototype.toString,toTypeString=g=>objectToString.call(g),toRawType=g=>toTypeString(g).slice(8,-1),isPlainObject=g=>toTypeString(g)==="[object Object]",isIntegerKey=g=>isString(g)&&g!=="NaN"&&g[0]!=="-"&&""+parseInt(g,10)===g,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=g=>{const d=Object.create(null);return x=>d[x]||(d[x]=g(x))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(g=>g.replace(camelizeRE,(d,x)=>x?x.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(g=>g.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(g=>g.charAt(0).toUpperCase()+g.slice(1)),toHandlerKey=cacheStringFunction(g=>g?`on${capitalize(g)}`:""),hasChanged=(g,d)=>!Object.is(g,d),invokeArrayFns=(g,d)=>{for(let x=0;x<g.length;x++)g[x](d)},def=(g,d,x)=>{Object.defineProperty(g,d,{configurable:!0,enumerable:!1,value:x})},looseToNumber=g=>{const d=parseFloat(g);return isNaN(d)?g:d};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(g){if(isArray$1(g)){const d={};for(let x=0;x<g.length;x++){const b=g[x],w=isString(b)?parseStringStyle(b):normalizeStyle(b);if(w)for(const S in w)d[S]=w[S]}return d}else if(isString(g)||isObject(g))return g}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(g){const d={};return g.replace(styleCommentRE,"").split(listDelimiterRE).forEach(x=>{if(x){const b=x.split(propertyDelimiterRE);b.length>1&&(d[b[0].trim()]=b[1].trim())}}),d}function normalizeClass(g){let d="";if(isString(g))d=g;else if(isArray$1(g))for(let x=0;x<g.length;x++){const b=normalizeClass(g[x]);b&&(d+=b+" ")}else if(isObject(g))for(const x in g)g[x]&&(d+=x+" ");return d.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(g){return!!g||g===""}const toDisplayString=g=>isString(g)?g:g==null?"":isArray$1(g)||isObject(g)&&(g.toString===objectToString||!isFunction$1(g.toString))?JSON.stringify(g,replacer,2):String(g),replacer=(g,d)=>d&&d.__v_isRef?replacer(g,d.value):isMap(d)?{[`Map(${d.size})`]:[...d.entries()].reduce((x,[b,w],S)=>(x[stringifySymbol(b,S)+" =>"]=w,x),{})}:isSet(d)?{[`Set(${d.size})`]:[...d.values()].map(x=>stringifySymbol(x))}:isSymbol(d)?stringifySymbol(d):isObject(d)&&!isArray$1(d)&&!isPlainObject(d)?String(d):d,stringifySymbol=(g,d="")=>{var x;return isSymbol(g)?`Symbol(${(x=g.description)!=null?x:d})`:g};let activeEffectScope;class EffectScope{constructor(d=!1){this.detached=d,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!d&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(d){if(this._active){const x=activeEffectScope;try{return activeEffectScope=this,d()}finally{activeEffectScope=x}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(d){if(this._active){let x,b;for(x=0,b=this.effects.length;x<b;x++)this.effects[x].stop();for(x=0,b=this.cleanups.length;x<b;x++)this.cleanups[x]();if(this.scopes)for(x=0,b=this.scopes.length;x<b;x++)this.scopes[x].stop(!0);if(!this.detached&&this.parent&&!d){const w=this.parent.scopes.pop();w&&w!==this&&(this.parent.scopes[this.index]=w,w.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(g,d=activeEffectScope){d&&d.active&&d.effects.push(g)}function getCurrentScope(){return activeEffectScope}const createDep=g=>{const d=new Set(g);return d.w=0,d.n=0,d},wasTracked=g=>(g.w&trackOpBit)>0,newTracked=g=>(g.n&trackOpBit)>0,initDepMarkers=({deps:g})=>{if(g.length)for(let d=0;d<g.length;d++)g[d].w|=trackOpBit},finalizeDepMarkers=g=>{const{deps:d}=g;if(d.length){let x=0;for(let b=0;b<d.length;b++){const w=d[b];wasTracked(w)&&!newTracked(w)?w.delete(g):d[x++]=w,w.w&=~trackOpBit,w.n&=~trackOpBit}d.length=x}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(d,x=null,b){this.fn=d,this.scheduler=x,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,b)}run(){if(!this.active)return this.fn();let d=activeEffect,x=shouldTrack;for(;d;){if(d===this)return;d=d.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=x,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(g){const{deps:d}=g;if(d.length){for(let x=0;x<d.length;x++)d[x].delete(g);d.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const g=trackStack.pop();shouldTrack=g===void 0?!0:g}function track(g,d,x){if(shouldTrack&&activeEffect){let b=targetMap.get(g);b||targetMap.set(g,b=new Map);let w=b.get(x);w||b.set(x,w=createDep()),trackEffects(w)}}function trackEffects(g,d){let x=!1;effectTrackDepth<=maxMarkerBits?newTracked(g)||(g.n|=trackOpBit,x=!wasTracked(g)):x=!g.has(activeEffect),x&&(g.add(activeEffect),activeEffect.deps.push(g))}function trigger(g,d,x,b,w,S){const C=targetMap.get(g);if(!C)return;let F=[];if(d==="clear")F=[...C.values()];else if(x==="length"&&isArray$1(g)){const E=Number(b);C.forEach((k,D)=>{(D==="length"||!isSymbol(D)&&D>=E)&&F.push(k)})}else switch(x!==void 0&&F.push(C.get(x)),d){case"add":isArray$1(g)?isIntegerKey(x)&&F.push(C.get("length")):(F.push(C.get(ITERATE_KEY)),isMap(g)&&F.push(C.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(g)||(F.push(C.get(ITERATE_KEY)),isMap(g)&&F.push(C.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(g)&&F.push(C.get(ITERATE_KEY));break}if(F.length===1)F[0]&&triggerEffects(F[0]);else{const E=[];for(const k of F)k&&E.push(...k);triggerEffects(createDep(E))}}function triggerEffects(g,d){const x=isArray$1(g)?g:[...g];for(const b of x)b.computed&&triggerEffect(b);for(const b of x)b.computed||triggerEffect(b)}function triggerEffect(g,d){(g!==activeEffect||g.allowRecurse)&&(g.scheduler?g.scheduler():g.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(g=>g!=="arguments"&&g!=="caller").map(g=>Symbol[g]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const g={};return["includes","indexOf","lastIndexOf"].forEach(d=>{g[d]=function(...x){const b=toRaw(this);for(let S=0,C=this.length;S<C;S++)track(b,"get",S+"");const w=b[d](...x);return w===-1||w===!1?b[d](...x.map(toRaw)):w}}),["push","pop","shift","unshift","splice"].forEach(d=>{g[d]=function(...x){pauseTracking();const b=toRaw(this)[d].apply(this,x);return resetTracking(),b}}),g}function hasOwnProperty(g){const d=toRaw(this);return track(d,"has",g),d.hasOwnProperty(g)}class BaseReactiveHandler{constructor(d=!1,x=!1){this._isReadonly=d,this._shallow=x}get(d,x,b){const w=this._isReadonly,S=this._shallow;if(x==="__v_isReactive")return!w;if(x==="__v_isReadonly")return w;if(x==="__v_isShallow")return S;if(x==="__v_raw")return b===(w?S?shallowReadonlyMap:readonlyMap:S?shallowReactiveMap:reactiveMap).get(d)||Object.getPrototypeOf(d)===Object.getPrototypeOf(b)?d:void 0;const C=isArray$1(d);if(!w){if(C&&hasOwn(arrayInstrumentations,x))return Reflect.get(arrayInstrumentations,x,b);if(x==="hasOwnProperty")return hasOwnProperty}const F=Reflect.get(d,x,b);return(isSymbol(x)?builtInSymbols.has(x):isNonTrackableKeys(x))||(w||track(d,"get",x),S)?F:isRef(F)?C&&isIntegerKey(x)?F:F.value:isObject(F)?w?readonly(F):reactive(F):F}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(d=!1){super(!1,d)}set(d,x,b,w){let S=d[x];if(!this._shallow){const E=isReadonly(S);if(!isShallow(b)&&!isReadonly(b)&&(S=toRaw(S),b=toRaw(b)),!isArray$1(d)&&isRef(S)&&!isRef(b))return E?!1:(S.value=b,!0)}const C=isArray$1(d)&&isIntegerKey(x)?Number(x)<d.length:hasOwn(d,x),F=Reflect.set(d,x,b,w);return d===toRaw(w)&&(C?hasChanged(b,S)&&trigger(d,"set",x,b):trigger(d,"add",x,b)),F}deleteProperty(d,x){const b=hasOwn(d,x);d[x];const w=Reflect.deleteProperty(d,x);return w&&b&&trigger(d,"delete",x,void 0),w}has(d,x){const b=Reflect.has(d,x);return(!isSymbol(x)||!builtInSymbols.has(x))&&track(d,"has",x),b}ownKeys(d){return track(d,"iterate",isArray$1(d)?"length":ITERATE_KEY),Reflect.ownKeys(d)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(d=!1){super(!0,d)}set(d,x){return!0}deleteProperty(d,x){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=g=>g,getProto=g=>Reflect.getPrototypeOf(g);function get(g,d,x=!1,b=!1){g=g.__v_raw;const w=toRaw(g),S=toRaw(d);x||(hasChanged(d,S)&&track(w,"get",d),track(w,"get",S));const{has:C}=getProto(w),F=b?toShallow:x?toReadonly:toReactive;if(C.call(w,d))return F(g.get(d));if(C.call(w,S))return F(g.get(S));g!==w&&g.get(d)}function has(g,d=!1){const x=this.__v_raw,b=toRaw(x),w=toRaw(g);return d||(hasChanged(g,w)&&track(b,"has",g),track(b,"has",w)),g===w?x.has(g):x.has(g)||x.has(w)}function size(g,d=!1){return g=g.__v_raw,!d&&track(toRaw(g),"iterate",ITERATE_KEY),Reflect.get(g,"size",g)}function add(g){g=toRaw(g);const d=toRaw(this);return getProto(d).has.call(d,g)||(d.add(g),trigger(d,"add",g,g)),this}function set(g,d){d=toRaw(d);const x=toRaw(this),{has:b,get:w}=getProto(x);let S=b.call(x,g);S||(g=toRaw(g),S=b.call(x,g));const C=w.call(x,g);return x.set(g,d),S?hasChanged(d,C)&&trigger(x,"set",g,d):trigger(x,"add",g,d),this}function deleteEntry(g){const d=toRaw(this),{has:x,get:b}=getProto(d);let w=x.call(d,g);w||(g=toRaw(g),w=x.call(d,g)),b&&b.call(d,g);const S=d.delete(g);return w&&trigger(d,"delete",g,void 0),S}function clear(){const g=toRaw(this),d=g.size!==0,x=g.clear();return d&&trigger(g,"clear",void 0,void 0),x}function createForEach(g,d){return function(b,w){const S=this,C=S.__v_raw,F=toRaw(C),E=d?toShallow:g?toReadonly:toReactive;return!g&&track(F,"iterate",ITERATE_KEY),C.forEach((k,D)=>b.call(w,E(k),E(D),S))}}function createIterableMethod(g,d,x){return function(...b){const w=this.__v_raw,S=toRaw(w),C=isMap(S),F=g==="entries"||g===Symbol.iterator&&C,E=g==="keys"&&C,k=w[g](...b),D=x?toShallow:d?toReadonly:toReactive;return!d&&track(S,"iterate",E?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:M,done:L}=k.next();return L?{value:M,done:L}:{value:F?[D(M[0]),D(M[1])]:D(M),done:L}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(g){return function(...d){return g==="delete"?!1:g==="clear"?void 0:this}}function createInstrumentations(){const g={get(S){return get(this,S)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},d={get(S){return get(this,S,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},x={get(S){return get(this,S,!0)},get size(){return size(this,!0)},has(S){return has.call(this,S,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},b={get(S){return get(this,S,!0,!0)},get size(){return size(this,!0)},has(S){return has.call(this,S,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(S=>{g[S]=createIterableMethod(S,!1,!1),x[S]=createIterableMethod(S,!0,!1),d[S]=createIterableMethod(S,!1,!0),b[S]=createIterableMethod(S,!0,!0)}),[g,x,d,b]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(g,d){const x=d?g?shallowReadonlyInstrumentations:shallowInstrumentations:g?readonlyInstrumentations:mutableInstrumentations;return(b,w,S)=>w==="__v_isReactive"?!g:w==="__v_isReadonly"?g:w==="__v_raw"?b:Reflect.get(hasOwn(x,w)&&w in b?x:b,w,S)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(g){switch(g){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(g){return g.__v_skip||!Object.isExtensible(g)?0:targetTypeMap(toRawType(g))}function reactive(g){return isReadonly(g)?g:createReactiveObject(g,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(g){return createReactiveObject(g,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(g){return createReactiveObject(g,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(g,d,x,b,w){if(!isObject(g)||g.__v_raw&&!(d&&g.__v_isReactive))return g;const S=w.get(g);if(S)return S;const C=getTargetType(g);if(C===0)return g;const F=new Proxy(g,C===2?b:x);return w.set(g,F),F}function isReactive(g){return isReadonly(g)?isReactive(g.__v_raw):!!(g&&g.__v_isReactive)}function isReadonly(g){return!!(g&&g.__v_isReadonly)}function isShallow(g){return!!(g&&g.__v_isShallow)}function isProxy(g){return isReactive(g)||isReadonly(g)}function toRaw(g){const d=g&&g.__v_raw;return d?toRaw(d):g}function markRaw(g){return def(g,"__v_skip",!0),g}const toReactive=g=>isObject(g)?reactive(g):g,toReadonly=g=>isObject(g)?readonly(g):g;function trackRefValue(g){shouldTrack&&activeEffect&&(g=toRaw(g),trackEffects(g.dep||(g.dep=createDep())))}function triggerRefValue(g,d){g=toRaw(g);const x=g.dep;x&&triggerEffects(x)}function isRef(g){return!!(g&&g.__v_isRef===!0)}function ref(g){return createRef(g,!1)}function shallowRef(g){return createRef(g,!0)}function createRef(g,d){return isRef(g)?g:new RefImpl(g,d)}class RefImpl{constructor(d,x){this.__v_isShallow=x,this.dep=void 0,this.__v_isRef=!0,this._rawValue=x?d:toRaw(d),this._value=x?d:toReactive(d)}get value(){return trackRefValue(this),this._value}set value(d){const x=this.__v_isShallow||isShallow(d)||isReadonly(d);d=x?d:toRaw(d),hasChanged(d,this._rawValue)&&(this._rawValue=d,this._value=x?d:toReactive(d),triggerRefValue(this))}}function unref(g){return isRef(g)?g.value:g}const shallowUnwrapHandlers={get:(g,d,x)=>unref(Reflect.get(g,d,x)),set:(g,d,x,b)=>{const w=g[d];return isRef(w)&&!isRef(x)?(w.value=x,!0):Reflect.set(g,d,x,b)}};function proxyRefs(g){return isReactive(g)?g:new Proxy(g,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(d,x,b,w){this._setter=x,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(d,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!w,this.__v_isReadonly=b}get value(){const d=toRaw(this);return trackRefValue(d),(d._dirty||!d._cacheable)&&(d._dirty=!1,d._value=d.effect.run()),d._value}set value(d){this._setter(d)}}function computed$1(g,d,x=!1){let b,w;const S=isFunction$1(g);return S?(b=g,w=NOOP$1):(b=g.get,w=g.set),new ComputedRefImpl(b,w,S||!w,x)}function warn$1(g,...d){}function callWithErrorHandling(g,d,x,b){let w;try{w=b?g(...b):g()}catch(S){handleError(S,d,x)}return w}function callWithAsyncErrorHandling(g,d,x,b){if(isFunction$1(g)){const S=callWithErrorHandling(g,d,x,b);return S&&isPromise(S)&&S.catch(C=>{handleError(C,d,x)}),S}const w=[];for(let S=0;S<g.length;S++)w.push(callWithAsyncErrorHandling(g[S],d,x,b));return w}function handleError(g,d,x,b=!0){const w=d?d.vnode:null;if(d){let S=d.parent;const C=d.proxy,F=x;for(;S;){const k=S.ec;if(k){for(let D=0;D<k.length;D++)if(k[D](g,C,F)===!1)return}S=S.parent}const E=d.appContext.config.errorHandler;if(E){callWithErrorHandling(E,null,10,[g,C,F]);return}}logError(g,x,w,b)}function logError(g,d,x,b=!0){console.error(g)}let isFlushing=!1,isFlushPending=!1;const queue$1=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(g){const d=currentFlushPromise||resolvedPromise;return g?d.then(this?g.bind(this):g):d}function findInsertionIndex(g){let d=flushIndex+1,x=queue$1.length;for(;d<x;){const b=d+x>>>1,w=queue$1[b],S=getId(w);S<g||S===g&&w.pre?d=b+1:x=b}return d}function queueJob(g){(!queue$1.length||!queue$1.includes(g,isFlushing&&g.allowRecurse?flushIndex+1:flushIndex))&&(g.id==null?queue$1.push(g):queue$1.splice(findInsertionIndex(g.id),0,g),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(g){const d=queue$1.indexOf(g);d>flushIndex&&queue$1.splice(d,1)}function queuePostFlushCb(g){isArray$1(g)?pendingPostFlushCbs.push(...g):(!activePostFlushCbs||!activePostFlushCbs.includes(g,g.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(g),queueFlush()}function flushPreFlushCbs(g,d,x=isFlushing?flushIndex+1:0){for(;x<queue$1.length;x++){const b=queue$1[x];if(b&&b.pre){if(g&&b.id!==g.uid)continue;queue$1.splice(x,1),x--,b()}}}function flushPostFlushCbs(g){if(pendingPostFlushCbs.length){const d=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...d);return}for(activePostFlushCbs=d,activePostFlushCbs.sort((x,b)=>getId(x)-getId(b)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=g=>g.id==null?1/0:g.id,comparator=(g,d)=>{const x=getId(g)-getId(d);if(x===0){if(g.pre&&!d.pre)return-1;if(d.pre&&!g.pre)return 1}return x};function flushJobs(g){isFlushPending=!1,isFlushing=!0,queue$1.sort(comparator);try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const d=queue$1[flushIndex];d&&d.active!==!1&&callWithErrorHandling(d,null,14)}}finally{flushIndex=0,queue$1.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$1.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(g,d,...x){if(g.isUnmounted)return;const b=g.vnode.props||EMPTY_OBJ;let w=x;const S=d.startsWith("update:"),C=S&&d.slice(7);if(C&&C in b){const D=`${C==="modelValue"?"model":C}Modifiers`,{number:M,trim:L}=b[D]||EMPTY_OBJ;L&&(w=x.map(R=>isString(R)?R.trim():R)),M&&(w=x.map(looseToNumber))}let F,E=b[F=toHandlerKey(d)]||b[F=toHandlerKey(camelize(d))];!E&&S&&(E=b[F=toHandlerKey(hyphenate(d))]),E&&callWithAsyncErrorHandling(E,g,6,w);const k=b[F+"Once"];if(k){if(!g.emitted)g.emitted={};else if(g.emitted[F])return;g.emitted[F]=!0,callWithAsyncErrorHandling(k,g,6,w)}}function normalizeEmitsOptions(g,d,x=!1){const b=d.emitsCache,w=b.get(g);if(w!==void 0)return w;const S=g.emits;let C={},F=!1;if(!isFunction$1(g)){const E=k=>{const D=normalizeEmitsOptions(k,d,!0);D&&(F=!0,extend(C,D))};!x&&d.mixins.length&&d.mixins.forEach(E),g.extends&&E(g.extends),g.mixins&&g.mixins.forEach(E)}return!S&&!F?(isObject(g)&&b.set(g,null),null):(isArray$1(S)?S.forEach(E=>C[E]=null):extend(C,S),isObject(g)&&b.set(g,C),C)}function isEmitListener(g,d){return!g||!isOn(d)?!1:(d=d.slice(2).replace(/Once$/,""),hasOwn(g,d[0].toLowerCase()+d.slice(1))||hasOwn(g,hyphenate(d))||hasOwn(g,d))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(g){const d=currentRenderingInstance;return currentRenderingInstance=g,currentScopeId=g&&g.type.__scopeId||null,d}function pushScopeId(g){currentScopeId=g}function popScopeId(){currentScopeId=null}function withCtx(g,d=currentRenderingInstance,x){if(!d||g._n)return g;const b=(...w)=>{b._d&&setBlockTracking(-1);const S=setCurrentRenderingInstance(d);let C;try{C=g(...w)}finally{setCurrentRenderingInstance(S),b._d&&setBlockTracking(1)}return C};return b._n=!0,b._c=!0,b._d=!0,b}function markAttrsAccessed(){}function renderComponentRoot(g){const{type:d,vnode:x,proxy:b,withProxy:w,props:S,propsOptions:[C],slots:F,attrs:E,emit:k,render:D,renderCache:M,data:L,setupState:R,ctx:U,inheritAttrs:j}=g;let H,z;const V=setCurrentRenderingInstance(g);try{if(x.shapeFlag&4){const $=w||b,K=$;H=normalizeVNode(D.call(K,$,M,S,R,L,U)),z=E}else{const $=d;H=normalizeVNode($.length>1?$(S,{attrs:E,slots:F,emit:k}):$(S,null)),z=d.props?E:getFunctionalFallthrough(E)}}catch($){blockStack.length=0,handleError($,g,1),H=createVNode(Comment)}let G=H;if(z&&j!==!1){const $=Object.keys(z),{shapeFlag:K}=G;$.length&&K&7&&(C&&$.some(isModelListener)&&(z=filterModelListeners(z,C)),G=cloneVNode(G,z))}return x.dirs&&(G=cloneVNode(G),G.dirs=G.dirs?G.dirs.concat(x.dirs):x.dirs),x.transition&&(G.transition=x.transition),H=G,setCurrentRenderingInstance(V),H}const getFunctionalFallthrough=g=>{let d;for(const x in g)(x==="class"||x==="style"||isOn(x))&&((d||(d={}))[x]=g[x]);return d},filterModelListeners=(g,d)=>{const x={};for(const b in g)(!isModelListener(b)||!(b.slice(9)in d))&&(x[b]=g[b]);return x};function shouldUpdateComponent(g,d,x){const{props:b,children:w,component:S}=g,{props:C,children:F,patchFlag:E}=d,k=S.emitsOptions;if(d.dirs||d.transition)return!0;if(x&&E>=0){if(E&1024)return!0;if(E&16)return b?hasPropsChanged(b,C,k):!!C;if(E&8){const D=d.dynamicProps;for(let M=0;M<D.length;M++){const L=D[M];if(C[L]!==b[L]&&!isEmitListener(k,L))return!0}}}else return(w||F)&&(!F||!F.$stable)?!0:b===C?!1:b?C?hasPropsChanged(b,C,k):!0:!!C;return!1}function hasPropsChanged(g,d,x){const b=Object.keys(d);if(b.length!==Object.keys(g).length)return!0;for(let w=0;w<b.length;w++){const S=b[w];if(d[S]!==g[S]&&!isEmitListener(x,S))return!0}return!1}function updateHOCHostEl({vnode:g,parent:d},x){for(;d&&d.subTree===g;)(g=d.vnode).el=x,d=d.parent}const COMPONENTS="components";function resolveComponent(g,d){return resolveAsset(COMPONENTS,g,!0,d)||g}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(g,d,x=!0,b=!1){const w=currentRenderingInstance||currentInstance;if(w){const S=w.type;if(g===COMPONENTS){const F=getComponentName(S,!1);if(F&&(F===d||F===camelize(d)||F===capitalize(camelize(d))))return S}const C=resolve(w[g]||S[g],d)||resolve(w.appContext[g],d);return!C&&b?S:C}}function resolve(g,d){return g&&(g[d]||g[camelize(d)]||g[capitalize(camelize(d))])}const isSuspense=g=>g.__isSuspense;function queueEffectWithSuspense(g,d){d&&d.pendingBranch?isArray$1(g)?d.effects.push(...g):d.effects.push(g):queuePostFlushCb(g)}function watchPostEffect(g,d){return doWatch(g,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(g,d,x){return doWatch(g,d,x)}function doWatch(g,d,{immediate:x,deep:b,flush:w,onTrack:S,onTrigger:C}=EMPTY_OBJ){var F;const E=getCurrentScope()===((F=currentInstance)==null?void 0:F.scope)?currentInstance:null;let k,D=!1,M=!1;if(isRef(g)?(k=()=>g.value,D=isShallow(g)):isReactive(g)?(k=()=>g,b=!0):isArray$1(g)?(M=!0,D=g.some($=>isReactive($)||isShallow($)),k=()=>g.map($=>{if(isRef($))return $.value;if(isReactive($))return traverse($);if(isFunction$1($))return callWithErrorHandling($,E,2)})):isFunction$1(g)?d?k=()=>callWithErrorHandling(g,E,2):k=()=>{if(!(E&&E.isUnmounted))return L&&L(),callWithAsyncErrorHandling(g,E,3,[R])}:k=NOOP$1,d&&b){const $=k;k=()=>traverse($())}let L,R=$=>{L=V.onStop=()=>{callWithErrorHandling($,E,4),L=V.onStop=void 0}},U;if(isInSSRComponentSetup)if(R=NOOP$1,d?x&&callWithAsyncErrorHandling(d,E,3,[k(),M?[]:void 0,R]):k(),w==="sync"){const $=useSSRContext();U=$.__watcherHandles||($.__watcherHandles=[])}else return NOOP$1;let j=M?new Array(g.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const H=()=>{if(V.active)if(d){const $=V.run();(b||D||(M?$.some((K,Z)=>hasChanged(K,j[Z])):hasChanged($,j)))&&(L&&L(),callWithAsyncErrorHandling(d,E,3,[$,j===INITIAL_WATCHER_VALUE?void 0:M&&j[0]===INITIAL_WATCHER_VALUE?[]:j,R]),j=$)}else V.run()};H.allowRecurse=!!d;let z;w==="sync"?z=H:w==="post"?z=()=>queuePostRenderEffect(H,E&&E.suspense):(H.pre=!0,E&&(H.id=E.uid),z=()=>queueJob(H));const V=new ReactiveEffect(k,z);d?x?H():j=V.run():w==="post"?queuePostRenderEffect(V.run.bind(V),E&&E.suspense):V.run();const G=()=>{V.stop(),E&&E.scope&&remove(E.scope.effects,V)};return U&&U.push(G),G}function instanceWatch(g,d,x){const b=this.proxy,w=isString(g)?g.includes(".")?createPathGetter(b,g):()=>b[g]:g.bind(b,b);let S;isFunction$1(d)?S=d:(S=d.handler,x=d);const C=currentInstance;setCurrentInstance(this);const F=doWatch(w,S.bind(b),x);return C?setCurrentInstance(C):unsetCurrentInstance(),F}function createPathGetter(g,d){const x=d.split(".");return()=>{let b=g;for(let w=0;w<x.length&&b;w++)b=b[x[w]];return b}}function traverse(g,d){if(!isObject(g)||g.__v_skip||(d=d||new Set,d.has(g)))return g;if(d.add(g),isRef(g))traverse(g.value,d);else if(isArray$1(g))for(let x=0;x<g.length;x++)traverse(g[x],d);else if(isSet(g)||isMap(g))g.forEach(x=>{traverse(x,d)});else if(isPlainObject(g))for(const x in g)traverse(g[x],d);return g}function withDirectives(g,d){const x=currentRenderingInstance;if(x===null)return g;const b=getExposeProxy(x)||x.proxy,w=g.dirs||(g.dirs=[]);for(let S=0;S<d.length;S++){let[C,F,E,k=EMPTY_OBJ]=d[S];C&&(isFunction$1(C)&&(C={mounted:C,updated:C}),C.deep&&traverse(F),w.push({dir:C,instance:b,value:F,oldValue:void 0,arg:E,modifiers:k}))}return g}function invokeDirectiveHook(g,d,x,b){const w=g.dirs,S=d&&d.dirs;for(let C=0;C<w.length;C++){const F=w[C];S&&(F.oldValue=S[C].value);let E=F.dir[b];E&&(pauseTracking(),callWithAsyncErrorHandling(E,x,8,[g.el,F,g,d]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(g,d){return isFunction$1(g)?extend({name:g.name},d,{setup:g}):g}const isAsyncWrapper=g=>!!g.type.__asyncLoader,isKeepAlive=g=>g.type.__isKeepAlive;function onActivated(g,d){registerKeepAliveHook(g,"a",d)}function onDeactivated(g,d){registerKeepAliveHook(g,"da",d)}function registerKeepAliveHook(g,d,x=currentInstance){const b=g.__wdc||(g.__wdc=()=>{let w=x;for(;w;){if(w.isDeactivated)return;w=w.parent}return g()});if(injectHook(d,b,x),x){let w=x.parent;for(;w&&w.parent;)isKeepAlive(w.parent.vnode)&&injectToKeepAliveRoot(b,d,x,w),w=w.parent}}function injectToKeepAliveRoot(g,d,x,b){const w=injectHook(d,g,b,!0);onUnmounted(()=>{remove(b[d],w)},x)}function injectHook(g,d,x=currentInstance,b=!1){if(x){const w=x[g]||(x[g]=[]),S=d.__weh||(d.__weh=(...C)=>{if(x.isUnmounted)return;pauseTracking(),setCurrentInstance(x);const F=callWithAsyncErrorHandling(d,x,g,C);return unsetCurrentInstance(),resetTracking(),F});return b?w.unshift(S):w.push(S),S}}const createHook=g=>(d,x=currentInstance)=>(!isInSSRComponentSetup||g==="sp")&&injectHook(g,(...b)=>d(...b),x),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(g,d=currentInstance){injectHook("ec",g,d)}function renderList(g,d,x,b){let w;const S=x&&x[b];if(isArray$1(g)||isString(g)){w=new Array(g.length);for(let C=0,F=g.length;C<F;C++)w[C]=d(g[C],C,void 0,S&&S[C])}else if(typeof g=="number"){w=new Array(g);for(let C=0;C<g;C++)w[C]=d(C+1,C,void 0,S&&S[C])}else if(isObject(g))if(g[Symbol.iterator])w=Array.from(g,(C,F)=>d(C,F,void 0,S&&S[F]));else{const C=Object.keys(g);w=new Array(C.length);for(let F=0,E=C.length;F<E;F++){const k=C[F];w[F]=d(g[k],k,F,S&&S[F])}}else w=[];return x&&(x[b]=w),w}function renderSlot(g,d,x={},b,w){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return d!=="default"&&(x.name=d),createVNode("slot",x,b&&b());let S=g[d];S&&S._c&&(S._d=!1),openBlock();const C=S&&ensureValidVNode(S(x)),F=createBlock(Fragment,{key:x.key||C&&C.key||`_${d}`},C||(b?b():[]),C&&g._===1?64:-2);return!w&&F.scopeId&&(F.slotScopeIds=[F.scopeId+"-s"]),S&&S._c&&(S._d=!0),F}function ensureValidVNode(g){return g.some(d=>isVNode(d)?!(d.type===Comment||d.type===Fragment&&!ensureValidVNode(d.children)):!0)?g:null}const getPublicInstance=g=>g?isStatefulComponent(g)?getExposeProxy(g)||g.proxy:getPublicInstance(g.parent):null,publicPropertiesMap=extend(Object.create(null),{$:g=>g,$el:g=>g.vnode.el,$data:g=>g.data,$props:g=>g.props,$attrs:g=>g.attrs,$slots:g=>g.slots,$refs:g=>g.refs,$parent:g=>getPublicInstance(g.parent),$root:g=>getPublicInstance(g.root),$emit:g=>g.emit,$options:g=>resolveMergedOptions(g),$forceUpdate:g=>g.f||(g.f=()=>queueJob(g.update)),$nextTick:g=>g.n||(g.n=nextTick.bind(g.proxy)),$watch:g=>instanceWatch.bind(g)}),hasSetupBinding=(g,d)=>g!==EMPTY_OBJ&&!g.__isScriptSetup&&hasOwn(g,d),PublicInstanceProxyHandlers={get({_:g},d){const{ctx:x,setupState:b,data:w,props:S,accessCache:C,type:F,appContext:E}=g;let k;if(d[0]!=="$"){const R=C[d];if(R!==void 0)switch(R){case 1:return b[d];case 2:return w[d];case 4:return x[d];case 3:return S[d]}else{if(hasSetupBinding(b,d))return C[d]=1,b[d];if(w!==EMPTY_OBJ&&hasOwn(w,d))return C[d]=2,w[d];if((k=g.propsOptions[0])&&hasOwn(k,d))return C[d]=3,S[d];if(x!==EMPTY_OBJ&&hasOwn(x,d))return C[d]=4,x[d];shouldCacheAccess&&(C[d]=0)}}const D=publicPropertiesMap[d];let M,L;if(D)return d==="$attrs"&&track(g,"get",d),D(g);if((M=F.__cssModules)&&(M=M[d]))return M;if(x!==EMPTY_OBJ&&hasOwn(x,d))return C[d]=4,x[d];if(L=E.config.globalProperties,hasOwn(L,d))return L[d]},set({_:g},d,x){const{data:b,setupState:w,ctx:S}=g;return hasSetupBinding(w,d)?(w[d]=x,!0):b!==EMPTY_OBJ&&hasOwn(b,d)?(b[d]=x,!0):hasOwn(g.props,d)||d[0]==="$"&&d.slice(1)in g?!1:(S[d]=x,!0)},has({_:{data:g,setupState:d,accessCache:x,ctx:b,appContext:w,propsOptions:S}},C){let F;return!!x[C]||g!==EMPTY_OBJ&&hasOwn(g,C)||hasSetupBinding(d,C)||(F=S[0])&&hasOwn(F,C)||hasOwn(b,C)||hasOwn(publicPropertiesMap,C)||hasOwn(w.config.globalProperties,C)},defineProperty(g,d,x){return x.get!=null?g._.accessCache[d]=0:hasOwn(x,"value")&&this.set(g,d,x.value,null),Reflect.defineProperty(g,d,x)}};function useSlots(){return getContext().slots}function getContext(){const g=getCurrentInstance();return g.setupContext||(g.setupContext=createSetupContext(g))}function normalizePropsOrEmits(g){return isArray$1(g)?g.reduce((d,x)=>(d[x]=null,d),{}):g}let shouldCacheAccess=!0;function applyOptions(g){const d=resolveMergedOptions(g),x=g.proxy,b=g.ctx;shouldCacheAccess=!1,d.beforeCreate&&callHook(d.beforeCreate,g,"bc");const{data:w,computed:S,methods:C,watch:F,provide:E,inject:k,created:D,beforeMount:M,mounted:L,beforeUpdate:R,updated:U,activated:j,deactivated:H,beforeDestroy:z,beforeUnmount:V,destroyed:G,unmounted:$,render:K,renderTracked:Z,renderTriggered:Q,errorCaptured:ne,serverPrefetch:le,expose:fe,inheritAttrs:be,components:me,directives:we,filters:oe}=d;if(k&&resolveInjections(k,b,null),C)for(const Ce in C){const Ne=C[Ce];isFunction$1(Ne)&&(b[Ce]=Ne.bind(x))}if(w){const Ce=w.call(x,x);isObject(Ce)&&(g.data=reactive(Ce))}if(shouldCacheAccess=!0,S)for(const Ce in S){const Ne=S[Ce],Oe=isFunction$1(Ne)?Ne.bind(x,x):isFunction$1(Ne.get)?Ne.get.bind(x,x):NOOP$1,Be=!isFunction$1(Ne)&&isFunction$1(Ne.set)?Ne.set.bind(x):NOOP$1,Ie=computed({get:Oe,set:Be});Object.defineProperty(b,Ce,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:Ee=>Ie.value=Ee})}if(F)for(const Ce in F)createWatcher(F[Ce],b,x,Ce);if(E){const Ce=isFunction$1(E)?E.call(x):E;Reflect.ownKeys(Ce).forEach(Ne=>{provide(Ne,Ce[Ne])})}D&&callHook(D,g,"c");function Ae(Ce,Ne){isArray$1(Ne)?Ne.forEach(Oe=>Ce(Oe.bind(x))):Ne&&Ce(Ne.bind(x))}if(Ae(onBeforeMount,M),Ae(onMounted,L),Ae(onBeforeUpdate,R),Ae(onUpdated,U),Ae(onActivated,j),Ae(onDeactivated,H),Ae(onErrorCaptured,ne),Ae(onRenderTracked,Z),Ae(onRenderTriggered,Q),Ae(onBeforeUnmount,V),Ae(onUnmounted,$),Ae(onServerPrefetch,le),isArray$1(fe))if(fe.length){const Ce=g.exposed||(g.exposed={});fe.forEach(Ne=>{Object.defineProperty(Ce,Ne,{get:()=>x[Ne],set:Oe=>x[Ne]=Oe})})}else g.exposed||(g.exposed={});K&&g.render===NOOP$1&&(g.render=K),be!=null&&(g.inheritAttrs=be),me&&(g.components=me),we&&(g.directives=we)}function resolveInjections(g,d,x=NOOP$1){isArray$1(g)&&(g=normalizeInject(g));for(const b in g){const w=g[b];let S;isObject(w)?"default"in w?S=inject(w.from||b,w.default,!0):S=inject(w.from||b):S=inject(w),isRef(S)?Object.defineProperty(d,b,{enumerable:!0,configurable:!0,get:()=>S.value,set:C=>S.value=C}):d[b]=S}}function callHook(g,d,x){callWithAsyncErrorHandling(isArray$1(g)?g.map(b=>b.bind(d.proxy)):g.bind(d.proxy),d,x)}function createWatcher(g,d,x,b){const w=b.includes(".")?createPathGetter(x,b):()=>x[b];if(isString(g)){const S=d[g];isFunction$1(S)&&watch(w,S)}else if(isFunction$1(g))watch(w,g.bind(x));else if(isObject(g))if(isArray$1(g))g.forEach(S=>createWatcher(S,d,x,b));else{const S=isFunction$1(g.handler)?g.handler.bind(x):d[g.handler];isFunction$1(S)&&watch(w,S,g)}}function resolveMergedOptions(g){const d=g.type,{mixins:x,extends:b}=d,{mixins:w,optionsCache:S,config:{optionMergeStrategies:C}}=g.appContext,F=S.get(d);let E;return F?E=F:!w.length&&!x&&!b?E=d:(E={},w.length&&w.forEach(k=>mergeOptions$1(E,k,C,!0)),mergeOptions$1(E,d,C)),isObject(d)&&S.set(d,E),E}function mergeOptions$1(g,d,x,b=!1){const{mixins:w,extends:S}=d;S&&mergeOptions$1(g,S,x,!0),w&&w.forEach(C=>mergeOptions$1(g,C,x,!0));for(const C in d)if(!(b&&C==="expose")){const F=internalOptionMergeStrats[C]||x&&x[C];g[C]=F?F(g[C],d[C]):d[C]}return g}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(g,d){return d?g?function(){return extend(isFunction$1(g)?g.call(this,this):g,isFunction$1(d)?d.call(this,this):d)}:d:g}function mergeInject(g,d){return mergeObjectOptions(normalizeInject(g),normalizeInject(d))}function normalizeInject(g){if(isArray$1(g)){const d={};for(let x=0;x<g.length;x++)d[g[x]]=g[x];return d}return g}function mergeAsArray(g,d){return g?[...new Set([].concat(g,d))]:d}function mergeObjectOptions(g,d){return g?extend(Object.create(null),g,d):d}function mergeEmitsOrPropsOptions(g,d){return g?isArray$1(g)&&isArray$1(d)?[...new Set([...g,...d])]:extend(Object.create(null),normalizePropsOrEmits(g),normalizePropsOrEmits(d??{})):d}function mergeWatchOptions(g,d){if(!g)return d;if(!d)return g;const x=extend(Object.create(null),g);for(const b in d)x[b]=mergeAsArray(g[b],d[b]);return x}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(g,d){return function(b,w=null){isFunction$1(b)||(b=extend({},b)),w!=null&&!isObject(w)&&(w=null);const S=createAppContext(),C=new WeakSet;let F=!1;const E=S.app={_uid:uid$1++,_component:b,_props:w,_container:null,_context:S,_instance:null,version,get config(){return S.config},set config(k){},use(k,...D){return C.has(k)||(k&&isFunction$1(k.install)?(C.add(k),k.install(E,...D)):isFunction$1(k)&&(C.add(k),k(E,...D))),E},mixin(k){return S.mixins.includes(k)||S.mixins.push(k),E},component(k,D){return D?(S.components[k]=D,E):S.components[k]},directive(k,D){return D?(S.directives[k]=D,E):S.directives[k]},mount(k,D,M){if(!F){const L=createVNode(b,w);return L.appContext=S,D&&d?d(L,k):g(L,k,M),F=!0,E._container=k,k.__vue_app__=E,getExposeProxy(L.component)||L.component.proxy}},unmount(){F&&(g(null,E._container),delete E._container.__vue_app__)},provide(k,D){return S.provides[k]=D,E},runWithContext(k){currentApp=E;try{return k()}finally{currentApp=null}}};return E}}let currentApp=null;function provide(g,d){if(currentInstance){let x=currentInstance.provides;const b=currentInstance.parent&&currentInstance.parent.provides;b===x&&(x=currentInstance.provides=Object.create(b)),x[g]=d}}function inject(g,d,x=!1){const b=currentInstance||currentRenderingInstance;if(b||currentApp){const w=b?b.parent==null?b.vnode.appContext&&b.vnode.appContext.provides:b.parent.provides:currentApp._context.provides;if(w&&g in w)return w[g];if(arguments.length>1)return x&&isFunction$1(d)?d.call(b&&b.proxy):d}}function initProps(g,d,x,b=!1){const w={},S={};def(S,InternalObjectKey,1),g.propsDefaults=Object.create(null),setFullProps(g,d,w,S);for(const C in g.propsOptions[0])C in w||(w[C]=void 0);x?g.props=b?w:shallowReactive(w):g.type.props?g.props=w:g.props=S,g.attrs=S}function updateProps(g,d,x,b){const{props:w,attrs:S,vnode:{patchFlag:C}}=g,F=toRaw(w),[E]=g.propsOptions;let k=!1;if((b||C>0)&&!(C&16)){if(C&8){const D=g.vnode.dynamicProps;for(let M=0;M<D.length;M++){let L=D[M];if(isEmitListener(g.emitsOptions,L))continue;const R=d[L];if(E)if(hasOwn(S,L))R!==S[L]&&(S[L]=R,k=!0);else{const U=camelize(L);w[U]=resolvePropValue(E,F,U,R,g,!1)}else R!==S[L]&&(S[L]=R,k=!0)}}}else{setFullProps(g,d,w,S)&&(k=!0);let D;for(const M in F)(!d||!hasOwn(d,M)&&((D=hyphenate(M))===M||!hasOwn(d,D)))&&(E?x&&(x[M]!==void 0||x[D]!==void 0)&&(w[M]=resolvePropValue(E,F,M,void 0,g,!0)):delete w[M]);if(S!==F)for(const M in S)(!d||!hasOwn(d,M))&&(delete S[M],k=!0)}k&&trigger(g,"set","$attrs")}function setFullProps(g,d,x,b){const[w,S]=g.propsOptions;let C=!1,F;if(d)for(let E in d){if(isReservedProp(E))continue;const k=d[E];let D;w&&hasOwn(w,D=camelize(E))?!S||!S.includes(D)?x[D]=k:(F||(F={}))[D]=k:isEmitListener(g.emitsOptions,E)||(!(E in b)||k!==b[E])&&(b[E]=k,C=!0)}if(S){const E=toRaw(x),k=F||EMPTY_OBJ;for(let D=0;D<S.length;D++){const M=S[D];x[M]=resolvePropValue(w,E,M,k[M],g,!hasOwn(k,M))}}return C}function resolvePropValue(g,d,x,b,w,S){const C=g[x];if(C!=null){const F=hasOwn(C,"default");if(F&&b===void 0){const E=C.default;if(C.type!==Function&&!C.skipFactory&&isFunction$1(E)){const{propsDefaults:k}=w;x in k?b=k[x]:(setCurrentInstance(w),b=k[x]=E.call(null,d),unsetCurrentInstance())}else b=E}C[0]&&(S&&!F?b=!1:C[1]&&(b===""||b===hyphenate(x))&&(b=!0))}return b}function normalizePropsOptions(g,d,x=!1){const b=d.propsCache,w=b.get(g);if(w)return w;const S=g.props,C={},F=[];let E=!1;if(!isFunction$1(g)){const D=M=>{E=!0;const[L,R]=normalizePropsOptions(M,d,!0);extend(C,L),R&&F.push(...R)};!x&&d.mixins.length&&d.mixins.forEach(D),g.extends&&D(g.extends),g.mixins&&g.mixins.forEach(D)}if(!S&&!E)return isObject(g)&&b.set(g,EMPTY_ARR),EMPTY_ARR;if(isArray$1(S))for(let D=0;D<S.length;D++){const M=camelize(S[D]);validatePropName(M)&&(C[M]=EMPTY_OBJ)}else if(S)for(const D in S){const M=camelize(D);if(validatePropName(M)){const L=S[D],R=C[M]=isArray$1(L)||isFunction$1(L)?{type:L}:extend({},L);if(R){const U=getTypeIndex(Boolean,R.type),j=getTypeIndex(String,R.type);R[0]=U>-1,R[1]=j<0||U<j,(U>-1||hasOwn(R,"default"))&&F.push(M)}}}const k=[C,F];return isObject(g)&&b.set(g,k),k}function validatePropName(g){return g[0]!=="$"}function getType$1(g){const d=g&&g.toString().match(/^\s*(function|class) (\w+)/);return d?d[2]:g===null?"null":""}function isSameType(g,d){return getType$1(g)===getType$1(d)}function getTypeIndex(g,d){return isArray$1(d)?d.findIndex(x=>isSameType(x,g)):isFunction$1(d)&&isSameType(d,g)?0:-1}const isInternalKey=g=>g[0]==="_"||g==="$stable",normalizeSlotValue=g=>isArray$1(g)?g.map(normalizeVNode):[normalizeVNode(g)],normalizeSlot$1=(g,d,x)=>{if(d._n)return d;const b=withCtx((...w)=>normalizeSlotValue(d(...w)),x);return b._c=!1,b},normalizeObjectSlots=(g,d,x)=>{const b=g._ctx;for(const w in g){if(isInternalKey(w))continue;const S=g[w];if(isFunction$1(S))d[w]=normalizeSlot$1(w,S,b);else if(S!=null){const C=normalizeSlotValue(S);d[w]=()=>C}}},normalizeVNodeSlots=(g,d)=>{const x=normalizeSlotValue(d);g.slots.default=()=>x},initSlots=(g,d)=>{if(g.vnode.shapeFlag&32){const x=d._;x?(g.slots=toRaw(d),def(d,"_",x)):normalizeObjectSlots(d,g.slots={})}else g.slots={},d&&normalizeVNodeSlots(g,d);def(g.slots,InternalObjectKey,1)},updateSlots=(g,d,x)=>{const{vnode:b,slots:w}=g;let S=!0,C=EMPTY_OBJ;if(b.shapeFlag&32){const F=d._;F?x&&F===1?S=!1:(extend(w,d),!x&&F===1&&delete w._):(S=!d.$stable,normalizeObjectSlots(d,w)),C=d}else d&&(normalizeVNodeSlots(g,d),C={default:1});if(S)for(const F in w)!isInternalKey(F)&&C[F]==null&&delete w[F]};function setRef(g,d,x,b,w=!1){if(isArray$1(g)){g.forEach((L,R)=>setRef(L,d&&(isArray$1(d)?d[R]:d),x,b,w));return}if(isAsyncWrapper(b)&&!w)return;const S=b.shapeFlag&4?getExposeProxy(b.component)||b.component.proxy:b.el,C=w?null:S,{i:F,r:E}=g,k=d&&d.r,D=F.refs===EMPTY_OBJ?F.refs={}:F.refs,M=F.setupState;if(k!=null&&k!==E&&(isString(k)?(D[k]=null,hasOwn(M,k)&&(M[k]=null)):isRef(k)&&(k.value=null)),isFunction$1(E))callWithErrorHandling(E,F,12,[C,D]);else{const L=isString(E),R=isRef(E);if(L||R){const U=()=>{if(g.f){const j=L?hasOwn(M,E)?M[E]:D[E]:E.value;w?isArray$1(j)&&remove(j,S):isArray$1(j)?j.includes(S)||j.push(S):L?(D[E]=[S],hasOwn(M,E)&&(M[E]=D[E])):(E.value=[S],g.k&&(D[g.k]=E.value))}else L?(D[E]=C,hasOwn(M,E)&&(M[E]=C)):R&&(E.value=C,g.k&&(D[g.k]=C))};C?(U.id=-1,queuePostRenderEffect(U,x)):U()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(g){return baseCreateRenderer(g)}function baseCreateRenderer(g,d){const x=getGlobalThis();x.__VUE__=!0;const{insert:b,remove:w,patchProp:S,createElement:C,createText:F,createComment:E,setText:k,setElementText:D,parentNode:M,nextSibling:L,setScopeId:R=NOOP$1,insertStaticContent:U}=g,j=(J,te,X,he=null,ue=null,ce=null,se=!1,xe=null,Se=!!te.dynamicChildren)=>{if(J===te)return;J&&!isSameVNodeType(J,te)&&(he=re(J),Ee(J,ue,ce,!0),J=null),te.patchFlag===-2&&(Se=!1,te.dynamicChildren=null);const{type:ve,ref:pe,shapeFlag:Fe}=te;switch(ve){case Text$1:H(J,te,X,he);break;case Comment:z(J,te,X,he);break;case Static:J==null&&V(te,X,he,se);break;case Fragment:me(J,te,X,he,ue,ce,se,xe,Se);break;default:Fe&1?K(J,te,X,he,ue,ce,se,xe,Se):Fe&6?we(J,te,X,he,ue,ce,se,xe,Se):(Fe&64||Fe&128)&&ve.process(J,te,X,he,ue,ce,se,xe,Se,Y)}pe!=null&&ue&&setRef(pe,J&&J.ref,ce,te||J,!te)},H=(J,te,X,he)=>{if(J==null)b(te.el=F(te.children),X,he);else{const ue=te.el=J.el;te.children!==J.children&&k(ue,te.children)}},z=(J,te,X,he)=>{J==null?b(te.el=E(te.children||""),X,he):te.el=J.el},V=(J,te,X,he)=>{[J.el,J.anchor]=U(J.children,te,X,he,J.el,J.anchor)},G=({el:J,anchor:te},X,he)=>{let ue;for(;J&&J!==te;)ue=L(J),b(J,X,he),J=ue;b(te,X,he)},$=({el:J,anchor:te})=>{let X;for(;J&&J!==te;)X=L(J),w(J),J=X;w(te)},K=(J,te,X,he,ue,ce,se,xe,Se)=>{se=se||te.type==="svg",J==null?Z(te,X,he,ue,ce,se,xe,Se):le(J,te,ue,ce,se,xe,Se)},Z=(J,te,X,he,ue,ce,se,xe)=>{let Se,ve;const{type:pe,props:Fe,shapeFlag:Re,transition:Te,dirs:Le}=J;if(Se=J.el=C(J.type,ce,Fe&&Fe.is,Fe),Re&8?D(Se,J.children):Re&16&&ne(J.children,Se,null,he,ue,ce&&pe!=="foreignObject",se,xe),Le&&invokeDirectiveHook(J,null,he,"created"),Q(Se,J,J.scopeId,se,he),Fe){for(const ie in Fe)ie!=="value"&&!isReservedProp(ie)&&S(Se,ie,null,Fe[ie],ce,J.children,he,ue,Pe);"value"in Fe&&S(Se,"value",null,Fe.value),(ve=Fe.onVnodeBeforeMount)&&invokeVNodeHook(ve,he,J)}Le&&invokeDirectiveHook(J,null,he,"beforeMount");const ye=needTransition(ue,Te);ye&&Te.beforeEnter(Se),b(Se,te,X),((ve=Fe&&Fe.onVnodeMounted)||ye||Le)&&queuePostRenderEffect(()=>{ve&&invokeVNodeHook(ve,he,J),ye&&Te.enter(Se),Le&&invokeDirectiveHook(J,null,he,"mounted")},ue)},Q=(J,te,X,he,ue)=>{if(X&&R(J,X),he)for(let ce=0;ce<he.length;ce++)R(J,he[ce]);if(ue){let ce=ue.subTree;if(te===ce){const se=ue.vnode;Q(J,se,se.scopeId,se.slotScopeIds,ue.parent)}}},ne=(J,te,X,he,ue,ce,se,xe,Se=0)=>{for(let ve=Se;ve<J.length;ve++){const pe=J[ve]=xe?cloneIfMounted(J[ve]):normalizeVNode(J[ve]);j(null,pe,te,X,he,ue,ce,se,xe)}},le=(J,te,X,he,ue,ce,se)=>{const xe=te.el=J.el;let{patchFlag:Se,dynamicChildren:ve,dirs:pe}=te;Se|=J.patchFlag&16;const Fe=J.props||EMPTY_OBJ,Re=te.props||EMPTY_OBJ;let Te;X&&toggleRecurse(X,!1),(Te=Re.onVnodeBeforeUpdate)&&invokeVNodeHook(Te,X,te,J),pe&&invokeDirectiveHook(te,J,X,"beforeUpdate"),X&&toggleRecurse(X,!0);const Le=ue&&te.type!=="foreignObject";if(ve?fe(J.dynamicChildren,ve,xe,X,he,Le,ce):se||Ne(J,te,xe,null,X,he,Le,ce,!1),Se>0){if(Se&16)be(xe,te,Fe,Re,X,he,ue);else if(Se&2&&Fe.class!==Re.class&&S(xe,"class",null,Re.class,ue),Se&4&&S(xe,"style",Fe.style,Re.style,ue),Se&8){const ye=te.dynamicProps;for(let ie=0;ie<ye.length;ie++){const de=ye[ie],ke=Fe[de],Me=Re[de];(Me!==ke||de==="value")&&S(xe,de,ke,Me,ue,J.children,X,he,Pe)}}Se&1&&J.children!==te.children&&D(xe,te.children)}else!se&&ve==null&&be(xe,te,Fe,Re,X,he,ue);((Te=Re.onVnodeUpdated)||pe)&&queuePostRenderEffect(()=>{Te&&invokeVNodeHook(Te,X,te,J),pe&&invokeDirectiveHook(te,J,X,"updated")},he)},fe=(J,te,X,he,ue,ce,se)=>{for(let xe=0;xe<te.length;xe++){const Se=J[xe],ve=te[xe],pe=Se.el&&(Se.type===Fragment||!isSameVNodeType(Se,ve)||Se.shapeFlag&70)?M(Se.el):X;j(Se,ve,pe,null,he,ue,ce,se,!0)}},be=(J,te,X,he,ue,ce,se)=>{if(X!==he){if(X!==EMPTY_OBJ)for(const xe in X)!isReservedProp(xe)&&!(xe in he)&&S(J,xe,X[xe],null,se,te.children,ue,ce,Pe);for(const xe in he){if(isReservedProp(xe))continue;const Se=he[xe],ve=X[xe];Se!==ve&&xe!=="value"&&S(J,xe,ve,Se,se,te.children,ue,ce,Pe)}"value"in he&&S(J,"value",X.value,he.value)}},me=(J,te,X,he,ue,ce,se,xe,Se)=>{const ve=te.el=J?J.el:F(""),pe=te.anchor=J?J.anchor:F("");let{patchFlag:Fe,dynamicChildren:Re,slotScopeIds:Te}=te;Te&&(xe=xe?xe.concat(Te):Te),J==null?(b(ve,X,he),b(pe,X,he),ne(te.children,X,pe,ue,ce,se,xe,Se)):Fe>0&&Fe&64&&Re&&J.dynamicChildren?(fe(J.dynamicChildren,Re,X,ue,ce,se,xe),(te.key!=null||ue&&te===ue.subTree)&&traverseStaticChildren(J,te,!0)):Ne(J,te,X,pe,ue,ce,se,xe,Se)},we=(J,te,X,he,ue,ce,se,xe,Se)=>{te.slotScopeIds=xe,J==null?te.shapeFlag&512?ue.ctx.activate(te,X,he,se,Se):oe(te,X,he,ue,ce,se,Se):ge(J,te,Se)},oe=(J,te,X,he,ue,ce,se)=>{const xe=J.component=createComponentInstance(J,he,ue);if(isKeepAlive(J)&&(xe.ctx.renderer=Y),setupComponent(xe),xe.asyncDep){if(ue&&ue.registerDep(xe,Ae),!J.el){const Se=xe.subTree=createVNode(Comment);z(null,Se,te,X)}return}Ae(xe,J,te,X,ue,ce,se)},ge=(J,te,X)=>{const he=te.component=J.component;if(shouldUpdateComponent(J,te,X))if(he.asyncDep&&!he.asyncResolved){Ce(he,te,X);return}else he.next=te,invalidateJob(he.update),he.update();else te.el=J.el,he.vnode=te},Ae=(J,te,X,he,ue,ce,se)=>{const xe=()=>{if(J.isMounted){let{next:pe,bu:Fe,u:Re,parent:Te,vnode:Le}=J,ye=pe,ie;toggleRecurse(J,!1),pe?(pe.el=Le.el,Ce(J,pe,se)):pe=Le,Fe&&invokeArrayFns(Fe),(ie=pe.props&&pe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ie,Te,pe,Le),toggleRecurse(J,!0);const de=renderComponentRoot(J),ke=J.subTree;J.subTree=de,j(ke,de,M(ke.el),re(ke),J,ue,ce),pe.el=de.el,ye===null&&updateHOCHostEl(J,de.el),Re&&queuePostRenderEffect(Re,ue),(ie=pe.props&&pe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ie,Te,pe,Le),ue)}else{let pe;const{el:Fe,props:Re}=te,{bm:Te,m:Le,parent:ye}=J,ie=isAsyncWrapper(te);if(toggleRecurse(J,!1),Te&&invokeArrayFns(Te),!ie&&(pe=Re&&Re.onVnodeBeforeMount)&&invokeVNodeHook(pe,ye,te),toggleRecurse(J,!0),Fe&&ee){const de=()=>{J.subTree=renderComponentRoot(J),ee(Fe,J.subTree,J,ue,null)};ie?te.type.__asyncLoader().then(()=>!J.isUnmounted&&de()):de()}else{const de=J.subTree=renderComponentRoot(J);j(null,de,X,he,J,ue,ce),te.el=de.el}if(Le&&queuePostRenderEffect(Le,ue),!ie&&(pe=Re&&Re.onVnodeMounted)){const de=te;queuePostRenderEffect(()=>invokeVNodeHook(pe,ye,de),ue)}(te.shapeFlag&256||ye&&isAsyncWrapper(ye.vnode)&&ye.vnode.shapeFlag&256)&&J.a&&queuePostRenderEffect(J.a,ue),J.isMounted=!0,te=X=he=null}},Se=J.effect=new ReactiveEffect(xe,()=>queueJob(ve),J.scope),ve=J.update=()=>Se.run();ve.id=J.uid,toggleRecurse(J,!0),ve()},Ce=(J,te,X)=>{te.component=J;const he=J.vnode.props;J.vnode=te,J.next=null,updateProps(J,te.props,he,X),updateSlots(J,te.children,X),pauseTracking(),flushPreFlushCbs(J),resetTracking()},Ne=(J,te,X,he,ue,ce,se,xe,Se=!1)=>{const ve=J&&J.children,pe=J?J.shapeFlag:0,Fe=te.children,{patchFlag:Re,shapeFlag:Te}=te;if(Re>0){if(Re&128){Be(ve,Fe,X,he,ue,ce,se,xe,Se);return}else if(Re&256){Oe(ve,Fe,X,he,ue,ce,se,xe,Se);return}}Te&8?(pe&16&&Pe(ve,ue,ce),Fe!==ve&&D(X,Fe)):pe&16?Te&16?Be(ve,Fe,X,he,ue,ce,se,xe,Se):Pe(ve,ue,ce,!0):(pe&8&&D(X,""),Te&16&&ne(Fe,X,he,ue,ce,se,xe,Se))},Oe=(J,te,X,he,ue,ce,se,xe,Se)=>{J=J||EMPTY_ARR,te=te||EMPTY_ARR;const ve=J.length,pe=te.length,Fe=Math.min(ve,pe);let Re;for(Re=0;Re<Fe;Re++){const Te=te[Re]=Se?cloneIfMounted(te[Re]):normalizeVNode(te[Re]);j(J[Re],Te,X,null,ue,ce,se,xe,Se)}ve>pe?Pe(J,ue,ce,!0,!1,Fe):ne(te,X,he,ue,ce,se,xe,Se,Fe)},Be=(J,te,X,he,ue,ce,se,xe,Se)=>{let ve=0;const pe=te.length;let Fe=J.length-1,Re=pe-1;for(;ve<=Fe&&ve<=Re;){const Te=J[ve],Le=te[ve]=Se?cloneIfMounted(te[ve]):normalizeVNode(te[ve]);if(isSameVNodeType(Te,Le))j(Te,Le,X,null,ue,ce,se,xe,Se);else break;ve++}for(;ve<=Fe&&ve<=Re;){const Te=J[Fe],Le=te[Re]=Se?cloneIfMounted(te[Re]):normalizeVNode(te[Re]);if(isSameVNodeType(Te,Le))j(Te,Le,X,null,ue,ce,se,xe,Se);else break;Fe--,Re--}if(ve>Fe){if(ve<=Re){const Te=Re+1,Le=Te<pe?te[Te].el:he;for(;ve<=Re;)j(null,te[ve]=Se?cloneIfMounted(te[ve]):normalizeVNode(te[ve]),X,Le,ue,ce,se,xe,Se),ve++}}else if(ve>Re)for(;ve<=Fe;)Ee(J[ve],ue,ce,!0),ve++;else{const Te=ve,Le=ve,ye=new Map;for(ve=Le;ve<=Re;ve++){const Ve=te[ve]=Se?cloneIfMounted(te[ve]):normalizeVNode(te[ve]);Ve.key!=null&&ye.set(Ve.key,ve)}let ie,de=0;const ke=Re-Le+1;let Me=!1,je=0;const He=new Array(ke);for(ve=0;ve<ke;ve++)He[ve]=0;for(ve=Te;ve<=Fe;ve++){const Ve=J[ve];if(de>=ke){Ee(Ve,ue,ce,!0);continue}let Ge;if(Ve.key!=null)Ge=ye.get(Ve.key);else for(ie=Le;ie<=Re;ie++)if(He[ie-Le]===0&&isSameVNodeType(Ve,te[ie])){Ge=ie;break}Ge===void 0?Ee(Ve,ue,ce,!0):(He[Ge-Le]=ve+1,Ge>=je?je=Ge:Me=!0,j(Ve,te[Ge],X,null,ue,ce,se,xe,Se),de++)}const ze=Me?getSequence(He):EMPTY_ARR;for(ie=ze.length-1,ve=ke-1;ve>=0;ve--){const Ve=Le+ve,Ge=te[Ve],$e=Ve+1<pe?te[Ve+1].el:he;He[ve]===0?j(null,Ge,X,$e,ue,ce,se,xe,Se):Me&&(ie<0||ve!==ze[ie]?Ie(Ge,X,$e,2):ie--)}}},Ie=(J,te,X,he,ue=null)=>{const{el:ce,type:se,transition:xe,children:Se,shapeFlag:ve}=J;if(ve&6){Ie(J.component.subTree,te,X,he);return}if(ve&128){J.suspense.move(te,X,he);return}if(ve&64){se.move(J,te,X,Y);return}if(se===Fragment){b(ce,te,X);for(let Fe=0;Fe<Se.length;Fe++)Ie(Se[Fe],te,X,he);b(J.anchor,te,X);return}if(se===Static){G(J,te,X);return}if(he!==2&&ve&1&&xe)if(he===0)xe.beforeEnter(ce),b(ce,te,X),queuePostRenderEffect(()=>xe.enter(ce),ue);else{const{leave:Fe,delayLeave:Re,afterLeave:Te}=xe,Le=()=>b(ce,te,X),ye=()=>{Fe(ce,()=>{Le(),Te&&Te()})};Re?Re(ce,Le,ye):ye()}else b(ce,te,X)},Ee=(J,te,X,he=!1,ue=!1)=>{const{type:ce,props:se,ref:xe,children:Se,dynamicChildren:ve,shapeFlag:pe,patchFlag:Fe,dirs:Re}=J;if(xe!=null&&setRef(xe,null,X,J,!0),pe&256){te.ctx.deactivate(J);return}const Te=pe&1&&Re,Le=!isAsyncWrapper(J);let ye;if(Le&&(ye=se&&se.onVnodeBeforeUnmount)&&invokeVNodeHook(ye,te,J),pe&6)_e(J.component,X,he);else{if(pe&128){J.suspense.unmount(X,he);return}Te&&invokeDirectiveHook(J,null,te,"beforeUnmount"),pe&64?J.type.remove(J,te,X,ue,Y,he):ve&&(ce!==Fragment||Fe>0&&Fe&64)?Pe(ve,te,X,!1,!0):(ce===Fragment&&Fe&384||!ue&&pe&16)&&Pe(Se,te,X),he&&Ue(J)}(Le&&(ye=se&&se.onVnodeUnmounted)||Te)&&queuePostRenderEffect(()=>{ye&&invokeVNodeHook(ye,te,J),Te&&invokeDirectiveHook(J,null,te,"unmounted")},X)},Ue=J=>{const{type:te,el:X,anchor:he,transition:ue}=J;if(te===Fragment){De(X,he);return}if(te===Static){$(J);return}const ce=()=>{w(X),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(J.shapeFlag&1&&ue&&!ue.persisted){const{leave:se,delayLeave:xe}=ue,Se=()=>se(X,ce);xe?xe(J.el,ce,Se):Se()}else ce()},De=(J,te)=>{let X;for(;J!==te;)X=L(J),w(J),J=X;w(te)},_e=(J,te,X)=>{const{bum:he,scope:ue,update:ce,subTree:se,um:xe}=J;he&&invokeArrayFns(he),ue.stop(),ce&&(ce.active=!1,Ee(se,J,te,X)),xe&&queuePostRenderEffect(xe,te),queuePostRenderEffect(()=>{J.isUnmounted=!0},te),te&&te.pendingBranch&&!te.isUnmounted&&J.asyncDep&&!J.asyncResolved&&J.suspenseId===te.pendingId&&(te.deps--,te.deps===0&&te.resolve())},Pe=(J,te,X,he=!1,ue=!1,ce=0)=>{for(let se=ce;se<J.length;se++)Ee(J[se],te,X,he,ue)},re=J=>J.shapeFlag&6?re(J.component.subTree):J.shapeFlag&128?J.suspense.next():L(J.anchor||J.el),ae=(J,te,X)=>{J==null?te._vnode&&Ee(te._vnode,null,null,!0):j(te._vnode||null,J,te,null,null,null,X),flushPreFlushCbs(),flushPostFlushCbs(),te._vnode=J},Y={p:j,um:Ee,m:Ie,r:Ue,mt:oe,mc:ne,pc:Ne,pbc:fe,n:re,o:g};let W,ee;return d&&([W,ee]=d(Y)),{render:ae,hydrate:W,createApp:createAppAPI(ae,W)}}function toggleRecurse({effect:g,update:d},x){g.allowRecurse=d.allowRecurse=x}function needTransition(g,d){return(!g||g&&!g.pendingBranch)&&d&&!d.persisted}function traverseStaticChildren(g,d,x=!1){const b=g.children,w=d.children;if(isArray$1(b)&&isArray$1(w))for(let S=0;S<b.length;S++){const C=b[S];let F=w[S];F.shapeFlag&1&&!F.dynamicChildren&&((F.patchFlag<=0||F.patchFlag===32)&&(F=w[S]=cloneIfMounted(w[S]),F.el=C.el),x||traverseStaticChildren(C,F)),F.type===Text$1&&(F.el=C.el)}}function getSequence(g){const d=g.slice(),x=[0];let b,w,S,C,F;const E=g.length;for(b=0;b<E;b++){const k=g[b];if(k!==0){if(w=x[x.length-1],g[w]<k){d[b]=w,x.push(b);continue}for(S=0,C=x.length-1;S<C;)F=S+C>>1,g[x[F]]<k?S=F+1:C=F;k<g[x[S]]&&(S>0&&(d[b]=x[S-1]),x[S]=b)}}for(S=x.length,C=x[S-1];S-- >0;)x[S]=C,C=d[C];return x}const isTeleport=g=>g.__isTeleport,Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(g=!1){blockStack.push(currentBlock=g?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(g){isBlockTreeEnabled+=g}function setupBlock(g){return g.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(g),g}function createElementBlock(g,d,x,b,w,S){return setupBlock(createBaseVNode(g,d,x,b,w,S,!0))}function createBlock(g,d,x,b,w){return setupBlock(createVNode(g,d,x,b,w,!0))}function isVNode(g){return g?g.__v_isVNode===!0:!1}function isSameVNodeType(g,d){return g.type===d.type&&g.key===d.key}const InternalObjectKey="__vInternal",normalizeKey=({key:g})=>g??null,normalizeRef=({ref:g,ref_key:d,ref_for:x})=>(typeof g=="number"&&(g=""+g),g!=null?isString(g)||isRef(g)||isFunction$1(g)?{i:currentRenderingInstance,r:g,k:d,f:!!x}:g:null);function createBaseVNode(g,d=null,x=null,b=0,w=null,S=g===Fragment?0:1,C=!1,F=!1){const E={__v_isVNode:!0,__v_skip:!0,type:g,props:d,key:d&&normalizeKey(d),ref:d&&normalizeRef(d),scopeId:currentScopeId,slotScopeIds:null,children:x,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:S,patchFlag:b,dynamicProps:w,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return F?(normalizeChildren(E,x),S&128&&g.normalize(E)):x&&(E.shapeFlag|=isString(x)?8:16),isBlockTreeEnabled>0&&!C&&currentBlock&&(E.patchFlag>0||S&6)&&E.patchFlag!==32&&currentBlock.push(E),E}const createVNode=_createVNode;function _createVNode(g,d=null,x=null,b=0,w=null,S=!1){if((!g||g===NULL_DYNAMIC_COMPONENT)&&(g=Comment),isVNode(g)){const F=cloneVNode(g,d,!0);return x&&normalizeChildren(F,x),isBlockTreeEnabled>0&&!S&&currentBlock&&(F.shapeFlag&6?currentBlock[currentBlock.indexOf(g)]=F:currentBlock.push(F)),F.patchFlag|=-2,F}if(isClassComponent(g)&&(g=g.__vccOpts),d){d=guardReactiveProps(d);let{class:F,style:E}=d;F&&!isString(F)&&(d.class=normalizeClass(F)),isObject(E)&&(isProxy(E)&&!isArray$1(E)&&(E=extend({},E)),d.style=normalizeStyle(E))}const C=isString(g)?1:isSuspense(g)?128:isTeleport(g)?64:isObject(g)?4:isFunction$1(g)?2:0;return createBaseVNode(g,d,x,b,w,C,S,!0)}function guardReactiveProps(g){return g?isProxy(g)||InternalObjectKey in g?extend({},g):g:null}function cloneVNode(g,d,x=!1){const{props:b,ref:w,patchFlag:S,children:C}=g,F=d?mergeProps(b||{},d):b;return{__v_isVNode:!0,__v_skip:!0,type:g.type,props:F,key:F&&normalizeKey(F),ref:d&&d.ref?x&&w?isArray$1(w)?w.concat(normalizeRef(d)):[w,normalizeRef(d)]:normalizeRef(d):w,scopeId:g.scopeId,slotScopeIds:g.slotScopeIds,children:C,target:g.target,targetAnchor:g.targetAnchor,staticCount:g.staticCount,shapeFlag:g.shapeFlag,patchFlag:d&&g.type!==Fragment?S===-1?16:S|16:S,dynamicProps:g.dynamicProps,dynamicChildren:g.dynamicChildren,appContext:g.appContext,dirs:g.dirs,transition:g.transition,component:g.component,suspense:g.suspense,ssContent:g.ssContent&&cloneVNode(g.ssContent),ssFallback:g.ssFallback&&cloneVNode(g.ssFallback),el:g.el,anchor:g.anchor,ctx:g.ctx,ce:g.ce}}function createTextVNode(g=" ",d=0){return createVNode(Text$1,null,g,d)}function createCommentVNode(g="",d=!1){return d?(openBlock(),createBlock(Comment,null,g)):createVNode(Comment,null,g)}function normalizeVNode(g){return g==null||typeof g=="boolean"?createVNode(Comment):isArray$1(g)?createVNode(Fragment,null,g.slice()):typeof g=="object"?cloneIfMounted(g):createVNode(Text$1,null,String(g))}function cloneIfMounted(g){return g.el===null&&g.patchFlag!==-1||g.memo?g:cloneVNode(g)}function normalizeChildren(g,d){let x=0;const{shapeFlag:b}=g;if(d==null)d=null;else if(isArray$1(d))x=16;else if(typeof d=="object")if(b&65){const w=d.default;w&&(w._c&&(w._d=!1),normalizeChildren(g,w()),w._c&&(w._d=!0));return}else{x=32;const w=d._;!w&&!(InternalObjectKey in d)?d._ctx=currentRenderingInstance:w===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?d._=1:(d._=2,g.patchFlag|=1024))}else isFunction$1(d)?(d={default:d,_ctx:currentRenderingInstance},x=32):(d=String(d),b&64?(x=16,d=[createTextVNode(d)]):x=8);g.children=d,g.shapeFlag|=x}function mergeProps(...g){const d={};for(let x=0;x<g.length;x++){const b=g[x];for(const w in b)if(w==="class")d.class!==b.class&&(d.class=normalizeClass([d.class,b.class]));else if(w==="style")d.style=normalizeStyle([d.style,b.style]);else if(isOn(w)){const S=d[w],C=b[w];C&&S!==C&&!(isArray$1(S)&&S.includes(C))&&(d[w]=S?[].concat(S,C):C)}else w!==""&&(d[w]=b[w])}return d}function invokeVNodeHook(g,d,x,b=null){callWithAsyncErrorHandling(g,d,7,[x,b])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(g,d,x){const b=g.type,w=(d?d.appContext:g.appContext)||emptyAppContext,S={uid:uid$2++,vnode:g,type:b,parent:d,appContext:w,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:d?d.provides:Object.create(w.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(b,w),emitsOptions:normalizeEmitsOptions(b,w),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:b.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:x,suspenseId:x?x.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return S.ctx={_:S},S.root=d?d.root:S,S.emit=emit.bind(null,S),g.ce&&g.ce(S),S}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(g=>currentInstance=g),internalSetCurrentInstance=g=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(d=>d(g)):globalCurrentInstanceSetters[0](g)};const setCurrentInstance=g=>{internalSetCurrentInstance(g),g.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(g){return g.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(g,d=!1){isInSSRComponentSetup=d;const{props:x,children:b}=g.vnode,w=isStatefulComponent(g);initProps(g,x,w,d),initSlots(g,b);const S=w?setupStatefulComponent(g,d):void 0;return isInSSRComponentSetup=!1,S}function setupStatefulComponent(g,d){const x=g.type;g.accessCache=Object.create(null),g.proxy=markRaw(new Proxy(g.ctx,PublicInstanceProxyHandlers));const{setup:b}=x;if(b){const w=g.setupContext=b.length>1?createSetupContext(g):null;setCurrentInstance(g),pauseTracking();const S=callWithErrorHandling(b,g,0,[g.props,w]);if(resetTracking(),unsetCurrentInstance(),isPromise(S)){if(S.then(unsetCurrentInstance,unsetCurrentInstance),d)return S.then(C=>{handleSetupResult(g,C,d)}).catch(C=>{handleError(C,g,0)});g.asyncDep=S}else handleSetupResult(g,S,d)}else finishComponentSetup(g,d)}function handleSetupResult(g,d,x){isFunction$1(d)?g.type.__ssrInlineRender?g.ssrRender=d:g.render=d:isObject(d)&&(g.setupState=proxyRefs(d)),finishComponentSetup(g,x)}let compile;function finishComponentSetup(g,d,x){const b=g.type;if(!g.render){if(!d&&compile&&!b.render){const w=b.template||resolveMergedOptions(g).template;if(w){const{isCustomElement:S,compilerOptions:C}=g.appContext.config,{delimiters:F,compilerOptions:E}=b,k=extend(extend({isCustomElement:S,delimiters:F},C),E);b.render=compile(w,k)}}g.render=b.render||NOOP$1}{setCurrentInstance(g),pauseTracking();try{applyOptions(g)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(g){return g.attrsProxy||(g.attrsProxy=new Proxy(g.attrs,{get(d,x){return track(g,"get","$attrs"),d[x]}}))}function createSetupContext(g){const d=x=>{g.exposed=x||{}};return{get attrs(){return getAttrsProxy(g)},slots:g.slots,emit:g.emit,expose:d}}function getExposeProxy(g){if(g.exposed)return g.exposeProxy||(g.exposeProxy=new Proxy(proxyRefs(markRaw(g.exposed)),{get(d,x){if(x in d)return d[x];if(x in publicPropertiesMap)return publicPropertiesMap[x](g)},has(d,x){return x in d||x in publicPropertiesMap}}))}function getComponentName(g,d=!0){return isFunction$1(g)?g.displayName||g.name:g.name||d&&g.__name}function isClassComponent(g){return isFunction$1(g)&&"__vccOpts"in g}const computed=(g,d)=>computed$1(g,d,isInSSRComponentSetup);function h$1(g,d,x){const b=arguments.length;return b===2?isObject(d)&&!isArray$1(d)?isVNode(d)?createVNode(g,null,[d]):createVNode(g,d):createVNode(g,null,d):(b>3?x=Array.prototype.slice.call(arguments,2):b===3&&isVNode(x)&&(x=[x]),createVNode(g,d,x))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.13",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(g,d,x)=>{d.insertBefore(g,x||null)},remove:g=>{const d=g.parentNode;d&&d.removeChild(g)},createElement:(g,d,x,b)=>{const w=d?doc.createElementNS(svgNS,g):doc.createElement(g,x?{is:x}:void 0);return g==="select"&&b&&b.multiple!=null&&w.setAttribute("multiple",b.multiple),w},createText:g=>doc.createTextNode(g),createComment:g=>doc.createComment(g),setText:(g,d)=>{g.nodeValue=d},setElementText:(g,d)=>{g.textContent=d},parentNode:g=>g.parentNode,nextSibling:g=>g.nextSibling,querySelector:g=>doc.querySelector(g),setScopeId(g,d){g.setAttribute(d,"")},insertStaticContent(g,d,x,b,w,S){const C=x?x.previousSibling:d.lastChild;if(w&&(w===S||w.nextSibling))for(;d.insertBefore(w.cloneNode(!0),x),!(w===S||!(w=w.nextSibling)););else{templateContainer.innerHTML=b?`<svg>${g}</svg>`:g;const F=templateContainer.content;if(b){const E=F.firstChild;for(;E.firstChild;)F.appendChild(E.firstChild);F.removeChild(E)}d.insertBefore(F,x)}return[C?C.nextSibling:d.firstChild,x?x.previousSibling:d.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(g,d,x){const b=g[vtcKey];b&&(d=(d?[d,...b]:[...b]).join(" ")),d==null?g.removeAttribute("class"):x?g.setAttribute("class",d):g.className=d}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(g,{value:d},{transition:x}){g[vShowOldKey]=g.style.display==="none"?"":g.style.display,x&&d?x.beforeEnter(g):setDisplay(g,d)},mounted(g,{value:d},{transition:x}){x&&d&&x.enter(g)},updated(g,{value:d,oldValue:x},{transition:b}){!d!=!x&&(b?d?(b.beforeEnter(g),setDisplay(g,!0),b.enter(g)):b.leave(g,()=>{setDisplay(g,!1)}):setDisplay(g,d))},beforeUnmount(g,{value:d}){setDisplay(g,d)}};function setDisplay(g,d){g.style.display=d?g[vShowOldKey]:"none"}const CSS_VAR_TEXT=Symbol("");function useCssVars(g){const d=getCurrentInstance();if(!d)return;const x=d.ut=(w=g(d.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${d.uid}"]`)).forEach(S=>setVarsOnNode(S,w))},b=()=>{const w=g(d.proxy);setVarsOnVNode(d.subTree,w),x(w)};watchPostEffect(b),onMounted(()=>{const w=new MutationObserver(b);w.observe(d.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>w.disconnect())})}function setVarsOnVNode(g,d){if(g.shapeFlag&128){const x=g.suspense;g=x.activeBranch,x.pendingBranch&&!x.isHydrating&&x.effects.push(()=>{setVarsOnVNode(x.activeBranch,d)})}for(;g.component;)g=g.component.subTree;if(g.shapeFlag&1&&g.el)setVarsOnNode(g.el,d);else if(g.type===Fragment)g.children.forEach(x=>setVarsOnVNode(x,d));else if(g.type===Static){let{el:x,anchor:b}=g;for(;x&&(setVarsOnNode(x,d),x!==b);)x=x.nextSibling}}function setVarsOnNode(g,d){if(g.nodeType===1){const x=g.style;let b="";for(const w in d)x.setProperty(`--${w}`,d[w]),b+=`--${w}: ${d[w]};`;x[CSS_VAR_TEXT]=b}}function patchStyle(g,d,x){const b=g.style,w=isString(x);if(x&&!w){if(d&&!isString(d))for(const S in d)x[S]==null&&setStyle(b,S,"");for(const S in x)setStyle(b,S,x[S])}else{const S=b.display;if(w){if(d!==x){const C=b[CSS_VAR_TEXT];C&&(x+=";"+C),b.cssText=x}}else d&&g.removeAttribute("style");vShowOldKey in g&&(b.display=S)}}const importantRE=/\s*!important$/;function setStyle(g,d,x){if(isArray$1(x))x.forEach(b=>setStyle(g,d,b));else if(x==null&&(x=""),d.startsWith("--"))g.setProperty(d,x);else{const b=autoPrefix(g,d);importantRE.test(x)?g.setProperty(hyphenate(b),x.replace(importantRE,""),"important"):g[b]=x}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(g,d){const x=prefixCache[d];if(x)return x;let b=camelize(d);if(b!=="filter"&&b in g)return prefixCache[d]=b;b=capitalize(b);for(let w=0;w<prefixes.length;w++){const S=prefixes[w]+b;if(S in g)return prefixCache[d]=S}return d}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(g,d,x,b,w){if(b&&d.startsWith("xlink:"))x==null?g.removeAttributeNS(xlinkNS,d.slice(6,d.length)):g.setAttributeNS(xlinkNS,d,x);else{const S=isSpecialBooleanAttr(d);x==null||S&&!includeBooleanAttr(x)?g.removeAttribute(d):g.setAttribute(d,S?"":x)}}function patchDOMProp(g,d,x,b,w,S,C){if(d==="innerHTML"||d==="textContent"){b&&C(b,w,S),g[d]=x??"";return}const F=g.tagName;if(d==="value"&&F!=="PROGRESS"&&!F.includes("-")){g._value=x;const k=F==="OPTION"?g.getAttribute("value"):g.value,D=x??"";k!==D&&(g.value=D),x==null&&g.removeAttribute(d);return}let E=!1;if(x===""||x==null){const k=typeof g[d];k==="boolean"?x=includeBooleanAttr(x):x==null&&k==="string"?(x="",E=!0):k==="number"&&(x=0,E=!0)}try{g[d]=x}catch{}E&&g.removeAttribute(d)}function addEventListener(g,d,x,b){g.addEventListener(d,x,b)}function removeEventListener(g,d,x,b){g.removeEventListener(d,x,b)}const veiKey=Symbol("_vei");function patchEvent(g,d,x,b,w=null){const S=g[veiKey]||(g[veiKey]={}),C=S[d];if(b&&C)C.value=b;else{const[F,E]=parseName(d);if(b){const k=S[d]=createInvoker(b,w);addEventListener(g,F,k,E)}else C&&(removeEventListener(g,F,C,E),S[d]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(g){let d;if(optionsModifierRE.test(g)){d={};let b;for(;b=g.match(optionsModifierRE);)g=g.slice(0,g.length-b[0].length),d[b[0].toLowerCase()]=!0}return[g[2]===":"?g.slice(3):hyphenate(g.slice(2)),d]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(g,d){const x=b=>{if(!b._vts)b._vts=Date.now();else if(b._vts<=x.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(b,x.value),d,5,[b])};return x.value=g,x.attached=getNow(),x}function patchStopImmediatePropagation(g,d){if(isArray$1(d)){const x=g.stopImmediatePropagation;return g.stopImmediatePropagation=()=>{x.call(g),g._stopped=!0},d.map(b=>w=>!w._stopped&&b&&b(w))}else return d}const isNativeOn=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&g.charCodeAt(2)>96&&g.charCodeAt(2)<123,patchProp=(g,d,x,b,w=!1,S,C,F,E)=>{d==="class"?patchClass(g,b,w):d==="style"?patchStyle(g,x,b):isOn(d)?isModelListener(d)||patchEvent(g,d,x,b,C):(d[0]==="."?(d=d.slice(1),!0):d[0]==="^"?(d=d.slice(1),!1):shouldSetAsProp(g,d,b,w))?patchDOMProp(g,d,b,S,C,F,E):(d==="true-value"?g._trueValue=b:d==="false-value"&&(g._falseValue=b),patchAttr(g,d,b,w))};function shouldSetAsProp(g,d,x,b){if(b)return!!(d==="innerHTML"||d==="textContent"||d in g&&isNativeOn(d)&&isFunction$1(x));if(d==="spellcheck"||d==="draggable"||d==="translate"||d==="form"||d==="list"&&g.tagName==="INPUT"||d==="type"&&g.tagName==="TEXTAREA")return!1;if(d==="width"||d==="height"){const w=g.tagName;if(w==="IMG"||w==="VIDEO"||w==="CANVAS"||w==="SOURCE")return!1}return isNativeOn(d)&&isString(x)?!1:d in g}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:g=>g.stopPropagation(),prevent:g=>g.preventDefault(),self:g=>g.target!==g.currentTarget,ctrl:g=>!g.ctrlKey,shift:g=>!g.shiftKey,alt:g=>!g.altKey,meta:g=>!g.metaKey,left:g=>"button"in g&&g.button!==0,middle:g=>"button"in g&&g.button!==1,right:g=>"button"in g&&g.button!==2,exact:(g,d)=>systemModifiers.some(x=>g[`${x}Key`]&&!d.includes(x))},withModifiers=(g,d)=>{const x=g._withMods||(g._withMods={}),b=d.join(".");return x[b]||(x[b]=(w,...S)=>{for(let C=0;C<d.length;C++){const F=modifierGuards[d[C]];if(F&&F(w,d))return}return g(w,...S)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(g,d)=>{const x=g._withKeys||(g._withKeys={}),b=d.join(".");return x[b]||(x[b]=w=>{if(!("key"in w))return;const S=hyphenate(w.key);if(d.some(C=>C===S||keyNames[C]===S))return g(w)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...g)=>{const d=ensureRenderer().createApp(...g),{mount:x}=d;return d.mount=b=>{const w=normalizeContainer(b);if(!w)return;const S=d._component;!isFunction$1(S)&&!S.render&&!S.template&&(S.template=w.innerHTML),w.innerHTML="";const C=x(w,!1,w instanceof SVGElement);return w instanceof Element&&(w.removeAttribute("v-cloak"),w.setAttribute("data-v-app","")),C},d};function normalizeContainer(g){return isString(g)?document.querySelector(g):g}const _export_sfc=(g,d)=>{const x=g.__vccOpts||g;for(const[b,w]of d)x[b]=w;return x},boxShadow={selected:"2px 2px 2px 1px rgba(0, 0, 0, 0.2)",default:"none"},_sfc_main$u={data(){return{header:""}},setup(){},methods:{setActiveButton(g){if(g.target.style.boxShadow===boxShadow.selected)return;const d=document.querySelector("header").children;for(const x of d)x.style.boxShadow=boxShadow.default;g.target.style.boxShadow=boxShadow.selected}}},_hoisted_1$s={class:"app_container"},_hoisted_2$l={ondragstart:"return false"};function _sfc_render$t(g,d,x,b,w,S){const C=resolveComponent("router-link"),F=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$s,[createBaseVNode("header",_hoisted_2$l,[createVNode(C,{to:{name:"home"},textContent:"На главную",onClick:S.setActiveButton},null,8,["onClick"]),createVNode(C,{to:{name:"detached"},textContent:"Открепленная подпись",onClick:S.setActiveButton},null,8,["onClick"]),createVNode(C,{to:{name:"with-view"},textContent:"Подпись с визуализацией",onClick:S.setActiveButton},null,8,["onClick"]),createVNode(C,{to:{name:"verify"},textContent:"Проверить подпись",onClick:S.setActiveButton},null,8,["onClick"])]),createVNode(F)])}const App=_export_sfc(_sfc_main$u,[["render",_sfc_render$t],["__scopeId","data-v-7252cc92"]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(g){return g.__esModule||g[Symbol.toStringTag]==="Module"}const assign$1=Object.assign;function applyToParams(g,d){const x={};for(const b in d){const w=d[b];x[b]=isArray(w)?w.map(g):g(w)}return x}const noop$1=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=g=>g.replace(TRAILING_SLASH_RE,"");function parseURL(g,d,x="/"){let b,w={},S="",C="";const F=d.indexOf("#");let E=d.indexOf("?");return F<E&&F>=0&&(E=-1),E>-1&&(b=d.slice(0,E),S=d.slice(E+1,F>-1?F:d.length),w=g(S)),F>-1&&(b=b||d.slice(0,F),C=d.slice(F,d.length)),b=resolveRelativePath(b??d,x),{fullPath:b+(S&&"?")+S+C,path:b,query:w,hash:C}}function stringifyURL(g,d){const x=d.query?g(d.query):"";return d.path+(x&&"?")+x+(d.hash||"")}function stripBase(g,d){return!d||!g.toLowerCase().startsWith(d.toLowerCase())?g:g.slice(d.length)||"/"}function isSameRouteLocation(g,d,x){const b=d.matched.length-1,w=x.matched.length-1;return b>-1&&b===w&&isSameRouteRecord(d.matched[b],x.matched[w])&&isSameRouteLocationParams(d.params,x.params)&&g(d.query)===g(x.query)&&d.hash===x.hash}function isSameRouteRecord(g,d){return(g.aliasOf||g)===(d.aliasOf||d)}function isSameRouteLocationParams(g,d){if(Object.keys(g).length!==Object.keys(d).length)return!1;for(const x in g)if(!isSameRouteLocationParamsValue(g[x],d[x]))return!1;return!0}function isSameRouteLocationParamsValue(g,d){return isArray(g)?isEquivalentArray(g,d):isArray(d)?isEquivalentArray(d,g):g===d}function isEquivalentArray(g,d){return isArray(d)?g.length===d.length&&g.every((x,b)=>x===d[b]):g.length===1&&g[0]===d}function resolveRelativePath(g,d){if(g.startsWith("/"))return g;if(!g)return d;const x=d.split("/"),b=g.split("/"),w=b[b.length-1];(w===".."||w===".")&&b.push("");let S=x.length-1,C,F;for(C=0;C<b.length;C++)if(F=b[C],F!==".")if(F==="..")S>1&&S--;else break;return x.slice(0,S).join("/")+"/"+b.slice(C-(C===b.length?1:0)).join("/")}var NavigationType;(function(g){g.pop="pop",g.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(g){g.back="back",g.forward="forward",g.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(g){if(!g)if(isBrowser){const d=document.querySelector("base");g=d&&d.getAttribute("href")||"/",g=g.replace(/^\w+:\/\/[^\/]+/,"")}else g="/";return g[0]!=="/"&&g[0]!=="#"&&(g="/"+g),removeTrailingSlash(g)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(g,d){return g.replace(BEFORE_HASH_RE,"#")+d}function getElementPosition(g,d){const x=document.documentElement.getBoundingClientRect(),b=g.getBoundingClientRect();return{behavior:d.behavior,left:b.left-x.left-(d.left||0),top:b.top-x.top-(d.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(g){let d;if("el"in g){const x=g.el,b=typeof x=="string"&&x.startsWith("#"),w=typeof x=="string"?b?document.getElementById(x.slice(1)):document.querySelector(x):x;if(!w)return;d=getElementPosition(w,g)}else d=g;"scrollBehavior"in document.documentElement.style?window.scrollTo(d):window.scrollTo(d.left!=null?d.left:window.pageXOffset,d.top!=null?d.top:window.pageYOffset)}function getScrollKey(g,d){return(history.state?history.state.position-d:-1)+g}const scrollPositions=new Map;function saveScrollPosition(g,d){scrollPositions.set(g,d)}function getSavedScrollPosition(g){const d=scrollPositions.get(g);return scrollPositions.delete(g),d}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(g,d){const{pathname:x,search:b,hash:w}=d,S=g.indexOf("#");if(S>-1){let F=w.includes(g.slice(S))?g.slice(S).length:1,E=w.slice(F);return E[0]!=="/"&&(E="/"+E),stripBase(E,"")}return stripBase(x,g)+b+w}function useHistoryListeners(g,d,x,b){let w=[],S=[],C=null;const F=({state:L})=>{const R=createCurrentLocation(g,location),U=x.value,j=d.value;let H=0;if(L){if(x.value=R,d.value=L,C&&C===U){C=null;return}H=j?L.position-j.position:0}else b(R);w.forEach(z=>{z(x.value,U,{delta:H,type:NavigationType.pop,direction:H?H>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function E(){C=x.value}function k(L){w.push(L);const R=()=>{const U=w.indexOf(L);U>-1&&w.splice(U,1)};return S.push(R),R}function D(){const{history:L}=window;L.state&&L.replaceState(assign$1({},L.state,{scroll:computeScrollPosition()}),"")}function M(){for(const L of S)L();S=[],window.removeEventListener("popstate",F),window.removeEventListener("beforeunload",D)}return window.addEventListener("popstate",F),window.addEventListener("beforeunload",D,{passive:!0}),{pauseListeners:E,listen:k,destroy:M}}function buildState(g,d,x,b=!1,w=!1){return{back:g,current:d,forward:x,replaced:b,position:window.history.length,scroll:w?computeScrollPosition():null}}function useHistoryStateNavigation(g){const{history:d,location:x}=window,b={value:createCurrentLocation(g,x)},w={value:d.state};w.value||S(b.value,{back:null,current:b.value,forward:null,position:d.length-1,replaced:!0,scroll:null},!0);function S(E,k,D){const M=g.indexOf("#"),L=M>-1?(x.host&&document.querySelector("base")?g:g.slice(M))+E:createBaseLocation()+g+E;try{d[D?"replaceState":"pushState"](k,"",L),w.value=k}catch(R){console.error(R),x[D?"replace":"assign"](L)}}function C(E,k){const D=assign$1({},d.state,buildState(w.value.back,E,w.value.forward,!0),k,{position:w.value.position});S(E,D,!0),b.value=E}function F(E,k){const D=assign$1({},w.value,d.state,{forward:E,scroll:computeScrollPosition()});S(D.current,D,!0);const M=assign$1({},buildState(b.value,E,null),{position:D.position+1},k);S(E,M,!1),b.value=E}return{location:b,state:w,push:F,replace:C}}function createWebHistory(g){g=normalizeBase(g);const d=useHistoryStateNavigation(g),x=useHistoryListeners(g,d.state,d.location,d.replace);function b(S,C=!0){C||x.pauseListeners(),history.go(S)}const w=assign$1({location:"",base:g,go:b,createHref:createHref.bind(null,g)},d,x);return Object.defineProperty(w,"location",{enumerable:!0,get:()=>d.location.value}),Object.defineProperty(w,"state",{enumerable:!0,get:()=>d.state.value}),w}function isRouteLocation(g){return typeof g=="string"||g&&typeof g=="object"}function isRouteName(g){return typeof g=="string"||typeof g=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(g){g[g.aborted=4]="aborted",g[g.cancelled=8]="cancelled",g[g.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(g,d){return assign$1(new Error,{type:g,[NavigationFailureSymbol]:!0},d)}function isNavigationFailure(g,d){return g instanceof Error&&NavigationFailureSymbol in g&&(d==null||!!(g.type&d))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(g,d){const x=assign$1({},BASE_PATH_PARSER_OPTIONS,d),b=[];let w=x.start?"^":"";const S=[];for(const k of g){const D=k.length?[]:[90];x.strict&&!k.length&&(w+="/");for(let M=0;M<k.length;M++){const L=k[M];let R=40+(x.sensitive?.25:0);if(L.type===0)M||(w+="/"),w+=L.value.replace(REGEX_CHARS_RE,"\\$&"),R+=40;else if(L.type===1){const{value:U,repeatable:j,optional:H,regexp:z}=L;S.push({name:U,repeatable:j,optional:H});const V=z||BASE_PARAM_PATTERN;if(V!==BASE_PARAM_PATTERN){R+=10;try{new RegExp(`(${V})`)}catch($){throw new Error(`Invalid custom RegExp for param "${U}" (${V}): `+$.message)}}let G=j?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;M||(G=H&&k.length<2?`(?:/${G})`:"/"+G),H&&(G+="?"),w+=G,R+=20,H&&(R+=-8),j&&(R+=-20),V===".*"&&(R+=-50)}D.push(R)}b.push(D)}if(x.strict&&x.end){const k=b.length-1;b[k][b[k].length-1]+=.7000000000000001}x.strict||(w+="/?"),x.end?w+="$":x.strict&&(w+="(?:/|$)");const C=new RegExp(w,x.sensitive?"":"i");function F(k){const D=k.match(C),M={};if(!D)return null;for(let L=1;L<D.length;L++){const R=D[L]||"",U=S[L-1];M[U.name]=R&&U.repeatable?R.split("/"):R}return M}function E(k){let D="",M=!1;for(const L of g){(!M||!D.endsWith("/"))&&(D+="/"),M=!1;for(const R of L)if(R.type===0)D+=R.value;else if(R.type===1){const{value:U,repeatable:j,optional:H}=R,z=U in k?k[U]:"";if(isArray(z)&&!j)throw new Error(`Provided param "${U}" is an array but it is not repeatable (* or + modifiers)`);const V=isArray(z)?z.join("/"):z;if(!V)if(H)L.length<2&&(D.endsWith("/")?D=D.slice(0,-1):M=!0);else throw new Error(`Missing required param "${U}"`);D+=V}}return D||"/"}return{re:C,score:b,keys:S,parse:F,stringify:E}}function compareScoreArray(g,d){let x=0;for(;x<g.length&&x<d.length;){const b=d[x]-g[x];if(b)return b;x++}return g.length<d.length?g.length===1&&g[0]===80?-1:1:g.length>d.length?d.length===1&&d[0]===80?1:-1:0}function comparePathParserScore(g,d){let x=0;const b=g.score,w=d.score;for(;x<b.length&&x<w.length;){const S=compareScoreArray(b[x],w[x]);if(S)return S;x++}if(Math.abs(w.length-b.length)===1){if(isLastScoreNegative(b))return 1;if(isLastScoreNegative(w))return-1}return w.length-b.length}function isLastScoreNegative(g){const d=g[g.length-1];return g.length>0&&d[d.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(g){if(!g)return[[]];if(g==="/")return[[ROOT_TOKEN]];if(!g.startsWith("/"))throw new Error(`Invalid path "${g}"`);function d(R){throw new Error(`ERR (${x})/"${k}": ${R}`)}let x=0,b=x;const w=[];let S;function C(){S&&w.push(S),S=[]}let F=0,E,k="",D="";function M(){k&&(x===0?S.push({type:0,value:k}):x===1||x===2||x===3?(S.length>1&&(E==="*"||E==="+")&&d(`A repeatable param (${k}) must be alone in its segment. eg: '/:ids+.`),S.push({type:1,value:k,regexp:D,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):d("Invalid state to consume buffer"),k="")}function L(){k+=E}for(;F<g.length;){if(E=g[F++],E==="\\"&&x!==2){b=x,x=4;continue}switch(x){case 0:E==="/"?(k&&M(),C()):E===":"?(M(),x=1):L();break;case 4:L(),x=b;break;case 1:E==="("?x=2:VALID_PARAM_RE.test(E)?L():(M(),x=0,E!=="*"&&E!=="?"&&E!=="+"&&F--);break;case 2:E===")"?D[D.length-1]=="\\"?D=D.slice(0,-1)+E:x=3:D+=E;break;case 3:M(),x=0,E!=="*"&&E!=="?"&&E!=="+"&&F--,D="";break;default:d("Unknown state");break}}return x===2&&d(`Unfinished custom RegExp for param "${k}"`),M(),C(),w}function createRouteRecordMatcher(g,d,x){const b=tokensToParser(tokenizePath(g.path),x),w=assign$1(b,{record:g,parent:d,children:[],alias:[]});return d&&!w.record.aliasOf==!d.record.aliasOf&&d.children.push(w),w}function createRouterMatcher(g,d){const x=[],b=new Map;d=mergeOptions({strict:!1,end:!0,sensitive:!1},d);function w(D){return b.get(D)}function S(D,M,L){const R=!L,U=normalizeRouteRecord(D);U.aliasOf=L&&L.record;const j=mergeOptions(d,D),H=[U];if("alias"in D){const G=typeof D.alias=="string"?[D.alias]:D.alias;for(const $ of G)H.push(assign$1({},U,{components:L?L.record.components:U.components,path:$,aliasOf:L?L.record:U}))}let z,V;for(const G of H){const{path:$}=G;if(M&&$[0]!=="/"){const K=M.record.path,Z=K[K.length-1]==="/"?"":"/";G.path=M.record.path+($&&Z+$)}if(z=createRouteRecordMatcher(G,M,j),L?L.alias.push(z):(V=V||z,V!==z&&V.alias.push(z),R&&D.name&&!isAliasRecord(z)&&C(D.name)),U.children){const K=U.children;for(let Z=0;Z<K.length;Z++)S(K[Z],z,L&&L.children[Z])}L=L||z,(z.record.components&&Object.keys(z.record.components).length||z.record.name||z.record.redirect)&&E(z)}return V?()=>{C(V)}:noop$1}function C(D){if(isRouteName(D)){const M=b.get(D);M&&(b.delete(D),x.splice(x.indexOf(M),1),M.children.forEach(C),M.alias.forEach(C))}else{const M=x.indexOf(D);M>-1&&(x.splice(M,1),D.record.name&&b.delete(D.record.name),D.children.forEach(C),D.alias.forEach(C))}}function F(){return x}function E(D){let M=0;for(;M<x.length&&comparePathParserScore(D,x[M])>=0&&(D.record.path!==x[M].record.path||!isRecordChildOf(D,x[M]));)M++;x.splice(M,0,D),D.record.name&&!isAliasRecord(D)&&b.set(D.record.name,D)}function k(D,M){let L,R={},U,j;if("name"in D&&D.name){if(L=b.get(D.name),!L)throw createRouterError(1,{location:D});j=L.record.name,R=assign$1(paramsFromLocation(M.params,L.keys.filter(V=>!V.optional).map(V=>V.name)),D.params&&paramsFromLocation(D.params,L.keys.map(V=>V.name))),U=L.stringify(R)}else if("path"in D)U=D.path,L=x.find(V=>V.re.test(U)),L&&(R=L.parse(U),j=L.record.name);else{if(L=M.name?b.get(M.name):x.find(V=>V.re.test(M.path)),!L)throw createRouterError(1,{location:D,currentLocation:M});j=L.record.name,R=assign$1({},M.params,D.params),U=L.stringify(R)}const H=[];let z=L;for(;z;)H.unshift(z.record),z=z.parent;return{name:j,path:U,params:R,matched:H,meta:mergeMetaFields(H)}}return g.forEach(D=>S(D)),{addRoute:S,resolve:k,removeRoute:C,getRoutes:F,getRecordMatcher:w}}function paramsFromLocation(g,d){const x={};for(const b of d)b in g&&(x[b]=g[b]);return x}function normalizeRouteRecord(g){return{path:g.path,redirect:g.redirect,name:g.name,meta:g.meta||{},aliasOf:void 0,beforeEnter:g.beforeEnter,props:normalizeRecordProps(g),children:g.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in g?g.components||null:g.component&&{default:g.component}}}function normalizeRecordProps(g){const d={},x=g.props||!1;if("component"in g)d.default=x;else for(const b in g.components)d[b]=typeof x=="object"?x[b]:x;return d}function isAliasRecord(g){for(;g;){if(g.record.aliasOf)return!0;g=g.parent}return!1}function mergeMetaFields(g){return g.reduce((d,x)=>assign$1(d,x.meta),{})}function mergeOptions(g,d){const x={};for(const b in g)x[b]=b in d?d[b]:g[b];return x}function isRecordChildOf(g,d){return d.children.some(x=>x===g||isRecordChildOf(g,x))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(g){return encodeURI(""+g).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(g){return commonEncode(g).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(g){return commonEncode(g).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(g){return encodeQueryValue(g).replace(EQUAL_RE,"%3D")}function encodePath(g){return commonEncode(g).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(g){return g==null?"":encodePath(g).replace(SLASH_RE,"%2F")}function decode(g){try{return decodeURIComponent(""+g)}catch{}return""+g}function parseQuery(g){const d={};if(g===""||g==="?")return d;const b=(g[0]==="?"?g.slice(1):g).split("&");for(let w=0;w<b.length;++w){const S=b[w].replace(PLUS_RE," "),C=S.indexOf("="),F=decode(C<0?S:S.slice(0,C)),E=C<0?null:decode(S.slice(C+1));if(F in d){let k=d[F];isArray(k)||(k=d[F]=[k]),k.push(E)}else d[F]=E}return d}function stringifyQuery(g){let d="";for(let x in g){const b=g[x];if(x=encodeQueryKey(x),b==null){b!==void 0&&(d+=(d.length?"&":"")+x);continue}(isArray(b)?b.map(S=>S&&encodeQueryValue(S)):[b&&encodeQueryValue(b)]).forEach(S=>{S!==void 0&&(d+=(d.length?"&":"")+x,S!=null&&(d+="="+S))})}return d}function normalizeQuery(g){const d={};for(const x in g){const b=g[x];b!==void 0&&(d[x]=isArray(b)?b.map(w=>w==null?null:""+w):b==null?b:""+b)}return d}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let g=[];function d(b){return g.push(b),()=>{const w=g.indexOf(b);w>-1&&g.splice(w,1)}}function x(){g=[]}return{add:d,list:()=>g.slice(),reset:x}}function guardToPromiseFn(g,d,x,b,w){const S=b&&(b.enterCallbacks[w]=b.enterCallbacks[w]||[]);return()=>new Promise((C,F)=>{const E=M=>{M===!1?F(createRouterError(4,{from:x,to:d})):M instanceof Error?F(M):isRouteLocation(M)?F(createRouterError(2,{from:d,to:M})):(S&&b.enterCallbacks[w]===S&&typeof M=="function"&&S.push(M),C())},k=g.call(b&&b.instances[w],d,x,E);let D=Promise.resolve(k);g.length<3&&(D=D.then(E)),D.catch(M=>F(M))})}function extractComponentsGuards(g,d,x,b){const w=[];for(const S of g)for(const C in S.components){let F=S.components[C];if(!(d!=="beforeRouteEnter"&&!S.instances[C]))if(isRouteComponent(F)){const k=(F.__vccOpts||F)[d];k&&w.push(guardToPromiseFn(k,x,b,S,C))}else{let E=F();w.push(()=>E.then(k=>{if(!k)return Promise.reject(new Error(`Couldn't resolve component "${C}" at "${S.path}"`));const D=isESModule(k)?k.default:k;S.components[C]=D;const L=(D.__vccOpts||D)[d];return L&&guardToPromiseFn(L,x,b,S,C)()}))}}return w}function isRouteComponent(g){return typeof g=="object"||"displayName"in g||"props"in g||"__vccOpts"in g}function useLink(g){const d=inject(routerKey),x=inject(routeLocationKey),b=computed(()=>d.resolve(unref(g.to))),w=computed(()=>{const{matched:E}=b.value,{length:k}=E,D=E[k-1],M=x.matched;if(!D||!M.length)return-1;const L=M.findIndex(isSameRouteRecord.bind(null,D));if(L>-1)return L;const R=getOriginalPath(E[k-2]);return k>1&&getOriginalPath(D)===R&&M[M.length-1].path!==R?M.findIndex(isSameRouteRecord.bind(null,E[k-2])):L}),S=computed(()=>w.value>-1&&includesParams(x.params,b.value.params)),C=computed(()=>w.value>-1&&w.value===x.matched.length-1&&isSameRouteLocationParams(x.params,b.value.params));function F(E={}){return guardEvent(E)?d[unref(g.replace)?"replace":"push"](unref(g.to)).catch(noop$1):Promise.resolve()}return{route:b,href:computed(()=>b.value.href),isActive:S,isExactActive:C,navigate:F}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(g,{slots:d}){const x=reactive(useLink(g)),{options:b}=inject(routerKey),w=computed(()=>({[getLinkClass(g.activeClass,b.linkActiveClass,"router-link-active")]:x.isActive,[getLinkClass(g.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:x.isExactActive}));return()=>{const S=d.default&&d.default(x);return g.custom?S:h$1("a",{"aria-current":x.isExactActive?g.ariaCurrentValue:null,href:x.href,onClick:x.navigate,class:w.value},S)}}}),RouterLink=RouterLinkImpl;function guardEvent(g){if(!(g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)&&!g.defaultPrevented&&!(g.button!==void 0&&g.button!==0)){if(g.currentTarget&&g.currentTarget.getAttribute){const d=g.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(d))return}return g.preventDefault&&g.preventDefault(),!0}}function includesParams(g,d){for(const x in d){const b=d[x],w=g[x];if(typeof b=="string"){if(b!==w)return!1}else if(!isArray(w)||w.length!==b.length||b.some((S,C)=>S!==w[C]))return!1}return!0}function getOriginalPath(g){return g?g.aliasOf?g.aliasOf.path:g.path:""}const getLinkClass=(g,d,x)=>g??d??x,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(g,{attrs:d,slots:x}){const b=inject(routerViewLocationKey),w=computed(()=>g.route||b.value),S=inject(viewDepthKey,0),C=computed(()=>{let k=unref(S);const{matched:D}=w.value;let M;for(;(M=D[k])&&!M.components;)k++;return k}),F=computed(()=>w.value.matched[C.value]);provide(viewDepthKey,computed(()=>C.value+1)),provide(matchedRouteKey,F),provide(routerViewLocationKey,w);const E=ref();return watch(()=>[E.value,F.value,g.name],([k,D,M],[L,R,U])=>{D&&(D.instances[M]=k,R&&R!==D&&k&&k===L&&(D.leaveGuards.size||(D.leaveGuards=R.leaveGuards),D.updateGuards.size||(D.updateGuards=R.updateGuards))),k&&D&&(!R||!isSameRouteRecord(D,R)||!L)&&(D.enterCallbacks[M]||[]).forEach(j=>j(k))},{flush:"post"}),()=>{const k=w.value,D=g.name,M=F.value,L=M&&M.components[D];if(!L)return normalizeSlot(x.default,{Component:L,route:k});const R=M.props[D],U=R?R===!0?k.params:typeof R=="function"?R(k):R:null,H=h$1(L,assign$1({},U,d,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(M.instances[D]=null)},ref:E}));return normalizeSlot(x.default,{Component:H,route:k})||H}}});function normalizeSlot(g,d){if(!g)return null;const x=g(d);return x.length===1?x[0]:x}const RouterView=RouterViewImpl;function createRouter(g){const d=createRouterMatcher(g.routes,g),x=g.parseQuery||parseQuery,b=g.stringifyQuery||stringifyQuery,w=g.history,S=useCallbacks(),C=useCallbacks(),F=useCallbacks(),E=shallowRef(START_LOCATION_NORMALIZED);let k=START_LOCATION_NORMALIZED;isBrowser&&g.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const D=applyToParams.bind(null,re=>""+re),M=applyToParams.bind(null,encodeParam),L=applyToParams.bind(null,decode);function R(re,ae){let Y,W;return isRouteName(re)?(Y=d.getRecordMatcher(re),W=ae):W=re,d.addRoute(W,Y)}function U(re){const ae=d.getRecordMatcher(re);ae&&d.removeRoute(ae)}function j(){return d.getRoutes().map(re=>re.record)}function H(re){return!!d.getRecordMatcher(re)}function z(re,ae){if(ae=assign$1({},ae||E.value),typeof re=="string"){const X=parseURL(x,re,ae.path),he=d.resolve({path:X.path},ae),ue=w.createHref(X.fullPath);return assign$1(X,he,{params:L(he.params),hash:decode(X.hash),redirectedFrom:void 0,href:ue})}let Y;if("path"in re)Y=assign$1({},re,{path:parseURL(x,re.path,ae.path).path});else{const X=assign$1({},re.params);for(const he in X)X[he]==null&&delete X[he];Y=assign$1({},re,{params:M(X)}),ae.params=M(ae.params)}const W=d.resolve(Y,ae),ee=re.hash||"";W.params=D(L(W.params));const J=stringifyURL(b,assign$1({},re,{hash:encodeHash(ee),path:W.path})),te=w.createHref(J);return assign$1({fullPath:J,hash:ee,query:b===stringifyQuery?normalizeQuery(re.query):re.query||{}},W,{redirectedFrom:void 0,href:te})}function V(re){return typeof re=="string"?parseURL(x,re,E.value.path):assign$1({},re)}function G(re,ae){if(k!==re)return createRouterError(8,{from:ae,to:re})}function $(re){return Q(re)}function K(re){return $(assign$1(V(re),{replace:!0}))}function Z(re){const ae=re.matched[re.matched.length-1];if(ae&&ae.redirect){const{redirect:Y}=ae;let W=typeof Y=="function"?Y(re):Y;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=V(W):{path:W},W.params={}),assign$1({query:re.query,hash:re.hash,params:"path"in W?{}:re.params},W)}}function Q(re,ae){const Y=k=z(re),W=E.value,ee=re.state,J=re.force,te=re.replace===!0,X=Z(Y);if(X)return Q(assign$1(V(X),{state:typeof X=="object"?assign$1({},ee,X.state):ee,force:J,replace:te}),ae||Y);const he=Y;he.redirectedFrom=ae;let ue;return!J&&isSameRouteLocation(b,W,Y)&&(ue=createRouterError(16,{to:he,from:W}),Ie(W,W,!0,!1)),(ue?Promise.resolve(ue):fe(he,W)).catch(ce=>isNavigationFailure(ce)?isNavigationFailure(ce,2)?ce:Be(ce):Ne(ce,he,W)).then(ce=>{if(ce){if(isNavigationFailure(ce,2))return Q(assign$1({replace:te},V(ce.to),{state:typeof ce.to=="object"?assign$1({},ee,ce.to.state):ee,force:J}),ae||he)}else ce=me(he,W,!0,te,ee);return be(he,W,ce),ce})}function ne(re,ae){const Y=G(re,ae);return Y?Promise.reject(Y):Promise.resolve()}function le(re){const ae=De.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(re):re()}function fe(re,ae){let Y;const[W,ee,J]=extractChangingRecords(re,ae);Y=extractComponentsGuards(W.reverse(),"beforeRouteLeave",re,ae);for(const X of W)X.leaveGuards.forEach(he=>{Y.push(guardToPromiseFn(he,re,ae))});const te=ne.bind(null,re,ae);return Y.push(te),Pe(Y).then(()=>{Y=[];for(const X of S.list())Y.push(guardToPromiseFn(X,re,ae));return Y.push(te),Pe(Y)}).then(()=>{Y=extractComponentsGuards(ee,"beforeRouteUpdate",re,ae);for(const X of ee)X.updateGuards.forEach(he=>{Y.push(guardToPromiseFn(he,re,ae))});return Y.push(te),Pe(Y)}).then(()=>{Y=[];for(const X of J)if(X.beforeEnter)if(isArray(X.beforeEnter))for(const he of X.beforeEnter)Y.push(guardToPromiseFn(he,re,ae));else Y.push(guardToPromiseFn(X.beforeEnter,re,ae));return Y.push(te),Pe(Y)}).then(()=>(re.matched.forEach(X=>X.enterCallbacks={}),Y=extractComponentsGuards(J,"beforeRouteEnter",re,ae),Y.push(te),Pe(Y))).then(()=>{Y=[];for(const X of C.list())Y.push(guardToPromiseFn(X,re,ae));return Y.push(te),Pe(Y)}).catch(X=>isNavigationFailure(X,8)?X:Promise.reject(X))}function be(re,ae,Y){F.list().forEach(W=>le(()=>W(re,ae,Y)))}function me(re,ae,Y,W,ee){const J=G(re,ae);if(J)return J;const te=ae===START_LOCATION_NORMALIZED,X=isBrowser?history.state:{};Y&&(W||te?w.replace(re.fullPath,assign$1({scroll:te&&X&&X.scroll},ee)):w.push(re.fullPath,ee)),E.value=re,Ie(re,ae,Y,te),Be()}let we;function oe(){we||(we=w.listen((re,ae,Y)=>{if(!_e.listening)return;const W=z(re),ee=Z(W);if(ee){Q(assign$1(ee,{replace:!0}),W).catch(noop$1);return}k=W;const J=E.value;isBrowser&&saveScrollPosition(getScrollKey(J.fullPath,Y.delta),computeScrollPosition()),fe(W,J).catch(te=>isNavigationFailure(te,12)?te:isNavigationFailure(te,2)?(Q(te.to,W).then(X=>{isNavigationFailure(X,20)&&!Y.delta&&Y.type===NavigationType.pop&&w.go(-1,!1)}).catch(noop$1),Promise.reject()):(Y.delta&&w.go(-Y.delta,!1),Ne(te,W,J))).then(te=>{te=te||me(W,J,!1),te&&(Y.delta&&!isNavigationFailure(te,8)?w.go(-Y.delta,!1):Y.type===NavigationType.pop&&isNavigationFailure(te,20)&&w.go(-1,!1)),be(W,J,te)}).catch(noop$1)}))}let ge=useCallbacks(),Ae=useCallbacks(),Ce;function Ne(re,ae,Y){Be(re);const W=Ae.list();return W.length?W.forEach(ee=>ee(re,ae,Y)):console.error(re),Promise.reject(re)}function Oe(){return Ce&&E.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((re,ae)=>{ge.add([re,ae])})}function Be(re){return Ce||(Ce=!re,oe(),ge.list().forEach(([ae,Y])=>re?Y(re):ae()),ge.reset()),re}function Ie(re,ae,Y,W){const{scrollBehavior:ee}=g;if(!isBrowser||!ee)return Promise.resolve();const J=!Y&&getSavedScrollPosition(getScrollKey(re.fullPath,0))||(W||!Y)&&history.state&&history.state.scroll||null;return nextTick().then(()=>ee(re,ae,J)).then(te=>te&&scrollToPosition(te)).catch(te=>Ne(te,re,ae))}const Ee=re=>w.go(re);let Ue;const De=new Set,_e={currentRoute:E,listening:!0,addRoute:R,removeRoute:U,hasRoute:H,getRoutes:j,resolve:z,options:g,push:$,replace:K,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:S.add,beforeResolve:C.add,afterEach:F.add,onError:Ae.add,isReady:Oe,install(re){const ae=this;re.component("RouterLink",RouterLink),re.component("RouterView",RouterView),re.config.globalProperties.$router=ae,Object.defineProperty(re.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(E)}),isBrowser&&!Ue&&E.value===START_LOCATION_NORMALIZED&&(Ue=!0,$(w.location).catch(ee=>{}));const Y={};for(const ee in START_LOCATION_NORMALIZED)Object.defineProperty(Y,ee,{get:()=>E.value[ee],enumerable:!0});re.provide(routerKey,ae),re.provide(routeLocationKey,shallowReactive(Y)),re.provide(routerViewLocationKey,E);const W=re.unmount;De.add(re),re.unmount=function(){De.delete(re),De.size<1&&(k=START_LOCATION_NORMALIZED,we&&we(),we=null,E.value=START_LOCATION_NORMALIZED,Ue=!1,Ce=!1),W()}}};function Pe(re){return re.reduce((ae,Y)=>ae.then(()=>le(Y)),Promise.resolve())}return _e}function extractChangingRecords(g,d){const x=[],b=[],w=[],S=Math.max(d.matched.length,g.matched.length);for(let C=0;C<S;C++){const F=d.matched[C];F&&(g.matched.find(k=>isSameRouteRecord(k,F))?b.push(F):x.push(F));const E=g.matched[C];E&&(d.matched.find(k=>isSameRouteRecord(k,E))||w.push(E))}return[x,b,w]}const _sfc_main$t={},_withScopeId$9=g=>(pushScopeId("data-v-8841f5ed"),g=g(),popScopeId(),g),_hoisted_1$r={class:"container flex-col"},_hoisted_2$k=_withScopeId$9(()=>createBaseVNode("h1",{class:"welcome"},"Добро пожаловать на сайт",-1)),_hoisted_3$g=_withScopeId$9(()=>createBaseVNode("p",{class:"description text"},"Электронная подпись — это цифровой аналог личной подписи от руки, она указывает на то, что документ подписан именно вами. Это знак вашего волеизъявления. Усиленные подписи также заверят, что в файл после подписания не вносили изменения. На распечатанном документе и на экране компьютера электронная подпись может быть не видна либо выглядеть как штамп или набор символов.",-1)),_hoisted_4$a=[_hoisted_2$k,_hoisted_3$g];function _sfc_render$s(g,d){return openBlock(),createElementBlock("article",_hoisted_1$r,_hoisted_4$a)}const Home=_export_sfc(_sfc_main$t,[["render",_sfc_render$s],["__scopeId","data-v-8841f5ed"]]),_imports_0="/signer/document.png",_sfc_main$s={name:"Uploading-field",props:{message:"",mimeTypeString:""},computed:{errorMessage:{get(){return this.errorMessage},set(g){this.$emit("update:message",g)}}},data(){return{isFieldActive:!1,counter:0}},emits:["file-changed","update:message"],methods:{onChangeFile:function(g){this.updateFile(g.target.files[0]),g.target.value=null},onDropHandler:async function(g){if(g.length>1||g.length===0){this.errorMessage="Нельзя сбрасывать больше одного файла!";return}const d=g[0];if(d.length<1){this.errorMessage="Некорректный файл!";return}this.updateFile(d)},updateFile:function(g){if(this.mimeTypeString.length&&!this.mimeTypeString.split(",").includes(g.type)){this.errorMessage=`Возможные типы файлов: ${this.mimeTypeString}`;return}if(g.size>this.$maxByteSize){alert("The file weighs more than 150mb");return}this.$emit("file-changed",g)}},mounted(){const g=this.$refs["upload-field-ref"];g.ondragleave=d=>{d.preventDefault(),this.counter--,this.counter===0&&(this.isFieldActive=!1)},g.ondrop=d=>{d.preventDefault(),this.isFieldActive=!1,this.counter=0,this.onDropHandler(d.dataTransfer.files)},g.ondragenter=d=>{d.preventDefault(),this.counter++,this.isFieldActive=!0},g.ondragover=d=>{d.preventDefault()}}},_withScopeId$8=g=>(pushScopeId("data-v-f06827a9"),g=g(),popScopeId(),g),_hoisted_1$q=_withScopeId$8(()=>createBaseVNode("img",{id:"img-doc",src:_imports_0,alt:"Значек документа",ondragstart:"return false"},null,-1)),_hoisted_2$j={class:"custom-button"},_hoisted_3$f=["accept"],_hoisted_4$9=_withScopeId$8(()=>createBaseVNode("p",null,"или перенесите его сюда",-1));function _sfc_render$r(g,d,x,b,w,S){return openBlock(),createElementBlock("div",{class:normalizeClass(["upload-field flex-col",{active:this.isFieldActive}]),ref:"upload-field-ref"},[_hoisted_1$q,createBaseVNode("label",_hoisted_2$j,[createBaseVNode("input",{type:"file",name:"file",accept:x.mimeTypeString,onChange:d[0]||(d[0]=(...C)=>S.onChangeFile&&S.onChangeFile(...C))},null,40,_hoisted_3$f),createTextVNode(" Выберете документ для подписи ")]),_hoisted_4$9],2)}const UploadingField=_export_sfc(_sfc_main$s,[["render",_sfc_render$r],["__scopeId","data-v-f06827a9"]]);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function commonjsRequire(g){throw new Error('Could not dynamically require "'+g+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(g,d){(function(x){g.exports=x()})(function(){return function x(b,w,S){function C(k,D){if(!w[k]){if(!b[k]){var M=typeof commonjsRequire=="function"&&commonjsRequire;if(!D&&M)return M(k,!0);if(F)return F(k,!0);var L=new Error("Cannot find module '"+k+"'");throw L.code="MODULE_NOT_FOUND",L}var R=w[k]={exports:{}};b[k][0].call(R.exports,function(U){var j=b[k][1][U];return C(j||U)},R,R.exports,x,b,w,S)}return w[k].exports}for(var F=typeof commonjsRequire=="function"&&commonjsRequire,E=0;E<S.length;E++)C(S[E]);return C}({1:[function(x,b,w){var S=x("./utils"),C=x("./support"),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w.encode=function(E){for(var k,D,M,L,R,U,j,H=[],z=0,V=E.length,G=V,$=S.getTypeOf(E)!=="string";z<E.length;)G=V-z,M=$?(k=E[z++],D=z<V?E[z++]:0,z<V?E[z++]:0):(k=E.charCodeAt(z++),D=z<V?E.charCodeAt(z++):0,z<V?E.charCodeAt(z++):0),L=k>>2,R=(3&k)<<4|D>>4,U=1<G?(15&D)<<2|M>>6:64,j=2<G?63&M:64,H.push(F.charAt(L)+F.charAt(R)+F.charAt(U)+F.charAt(j));return H.join("")},w.decode=function(E){var k,D,M,L,R,U,j=0,H=0,z="data:";if(E.substr(0,z.length)===z)throw new Error("Invalid base64 input, it looks like a data url.");var V,G=3*(E=E.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(E.charAt(E.length-1)===F.charAt(64)&&G--,E.charAt(E.length-2)===F.charAt(64)&&G--,G%1!=0)throw new Error("Invalid base64 input, bad content length.");for(V=C.uint8array?new Uint8Array(0|G):new Array(0|G);j<E.length;)k=F.indexOf(E.charAt(j++))<<2|(L=F.indexOf(E.charAt(j++)))>>4,D=(15&L)<<4|(R=F.indexOf(E.charAt(j++)))>>2,M=(3&R)<<6|(U=F.indexOf(E.charAt(j++))),V[H++]=k,R!==64&&(V[H++]=D),U!==64&&(V[H++]=M);return V}},{"./support":30,"./utils":32}],2:[function(x,b,w){var S=x("./external"),C=x("./stream/DataWorker"),F=x("./stream/Crc32Probe"),E=x("./stream/DataLengthProbe");function k(D,M,L,R,U){this.compressedSize=D,this.uncompressedSize=M,this.crc32=L,this.compression=R,this.compressedContent=U}k.prototype={getContentWorker:function(){var D=new C(S.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new E("data_length")),M=this;return D.on("end",function(){if(this.streamInfo.data_length!==M.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),D},getCompressedWorker:function(){return new C(S.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(D,M,L){return D.pipe(new F).pipe(new E("uncompressedSize")).pipe(M.compressWorker(L)).pipe(new E("compressedSize")).withStreamInfo("compression",M)},b.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(x,b,w){var S=x("./stream/GenericWorker");w.STORE={magic:"\0\0",compressWorker:function(){return new S("STORE compression")},uncompressWorker:function(){return new S("STORE decompression")}},w.DEFLATE=x("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(x,b,w){var S=x("./utils"),C=function(){for(var F,E=[],k=0;k<256;k++){F=k;for(var D=0;D<8;D++)F=1&F?3988292384^F>>>1:F>>>1;E[k]=F}return E}();b.exports=function(F,E){return F!==void 0&&F.length?S.getTypeOf(F)!=="string"?function(k,D,M,L){var R=C,U=L+M;k^=-1;for(var j=L;j<U;j++)k=k>>>8^R[255&(k^D[j])];return-1^k}(0|E,F,F.length,0):function(k,D,M,L){var R=C,U=L+M;k^=-1;for(var j=L;j<U;j++)k=k>>>8^R[255&(k^D.charCodeAt(j))];return-1^k}(0|E,F,F.length,0):0}},{"./utils":32}],5:[function(x,b,w){w.base64=!1,w.binary=!1,w.dir=!1,w.createFolders=!0,w.date=null,w.compression=null,w.compressionOptions=null,w.comment=null,w.unixPermissions=null,w.dosPermissions=null},{}],6:[function(x,b,w){var S=null;S=typeof Promise<"u"?Promise:x("lie"),b.exports={Promise:S}},{lie:37}],7:[function(x,b,w){var S=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",C=x("pako"),F=x("./utils"),E=x("./stream/GenericWorker"),k=S?"uint8array":"array";function D(M,L){E.call(this,"FlateWorker/"+M),this._pako=null,this._pakoAction=M,this._pakoOptions=L,this.meta={}}w.magic="\b\0",F.inherits(D,E),D.prototype.processChunk=function(M){this.meta=M.meta,this._pako===null&&this._createPako(),this._pako.push(F.transformTo(k,M.data),!1)},D.prototype.flush=function(){E.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){E.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new C[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var M=this;this._pako.onData=function(L){M.push({data:L,meta:M.meta})}},w.compressWorker=function(M){return new D("Deflate",M)},w.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(x,b,w){function S(R,U){var j,H="";for(j=0;j<U;j++)H+=String.fromCharCode(255&R),R>>>=8;return H}function C(R,U,j,H,z,V){var G,$,K=R.file,Z=R.compression,Q=V!==k.utf8encode,ne=F.transformTo("string",V(K.name)),le=F.transformTo("string",k.utf8encode(K.name)),fe=K.comment,be=F.transformTo("string",V(fe)),me=F.transformTo("string",k.utf8encode(fe)),we=le.length!==K.name.length,oe=me.length!==fe.length,ge="",Ae="",Ce="",Ne=K.dir,Oe=K.date,Be={crc32:0,compressedSize:0,uncompressedSize:0};U&&!j||(Be.crc32=R.crc32,Be.compressedSize=R.compressedSize,Be.uncompressedSize=R.uncompressedSize);var Ie=0;U&&(Ie|=8),Q||!we&&!oe||(Ie|=2048);var Ee=0,Ue=0;Ne&&(Ee|=16),z==="UNIX"?(Ue=798,Ee|=function(_e,Pe){var re=_e;return _e||(re=Pe?16893:33204),(65535&re)<<16}(K.unixPermissions,Ne)):(Ue=20,Ee|=function(_e){return 63&(_e||0)}(K.dosPermissions)),G=Oe.getUTCHours(),G<<=6,G|=Oe.getUTCMinutes(),G<<=5,G|=Oe.getUTCSeconds()/2,$=Oe.getUTCFullYear()-1980,$<<=4,$|=Oe.getUTCMonth()+1,$<<=5,$|=Oe.getUTCDate(),we&&(Ae=S(1,1)+S(D(ne),4)+le,ge+="up"+S(Ae.length,2)+Ae),oe&&(Ce=S(1,1)+S(D(be),4)+me,ge+="uc"+S(Ce.length,2)+Ce);var De="";return De+=`
\0`,De+=S(Ie,2),De+=Z.magic,De+=S(G,2),De+=S($,2),De+=S(Be.crc32,4),De+=S(Be.compressedSize,4),De+=S(Be.uncompressedSize,4),De+=S(ne.length,2),De+=S(ge.length,2),{fileRecord:M.LOCAL_FILE_HEADER+De+ne+ge,dirRecord:M.CENTRAL_FILE_HEADER+S(Ue,2)+De+S(be.length,2)+"\0\0\0\0"+S(Ee,4)+S(H,4)+ne+ge+be}}var F=x("../utils"),E=x("../stream/GenericWorker"),k=x("../utf8"),D=x("../crc32"),M=x("../signature");function L(R,U,j,H){E.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=U,this.zipPlatform=j,this.encodeFileName=H,this.streamFiles=R,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}F.inherits(L,E),L.prototype.push=function(R){var U=R.meta.percent||0,j=this.entriesCount,H=this._sources.length;this.accumulate?this.contentBuffer.push(R):(this.bytesWritten+=R.data.length,E.prototype.push.call(this,{data:R.data,meta:{currentFile:this.currentFile,percent:j?(U+100*(j-H-1))/j:100}}))},L.prototype.openedSource=function(R){this.currentSourceOffset=this.bytesWritten,this.currentFile=R.file.name;var U=this.streamFiles&&!R.file.dir;if(U){var j=C(R,U,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:j.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(R){this.accumulate=!1;var U=this.streamFiles&&!R.file.dir,j=C(R,U,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(j.dirRecord),U)this.push({data:function(H){return M.DATA_DESCRIPTOR+S(H.crc32,4)+S(H.compressedSize,4)+S(H.uncompressedSize,4)}(R),meta:{percent:100}});else for(this.push({data:j.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var R=this.bytesWritten,U=0;U<this.dirRecords.length;U++)this.push({data:this.dirRecords[U],meta:{percent:100}});var j=this.bytesWritten-R,H=function(z,V,G,$,K){var Z=F.transformTo("string",K($));return M.CENTRAL_DIRECTORY_END+"\0\0\0\0"+S(z,2)+S(z,2)+S(V,4)+S(G,4)+S(Z.length,2)+Z}(this.dirRecords.length,j,R,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(R){this._sources.push(R);var U=this;return R.on("data",function(j){U.processChunk(j)}),R.on("end",function(){U.closedSource(U.previous.streamInfo),U._sources.length?U.prepareNextSource():U.end()}),R.on("error",function(j){U.error(j)}),this},L.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(R){var U=this._sources;if(!E.prototype.error.call(this,R))return!1;for(var j=0;j<U.length;j++)try{U[j].error(R)}catch{}return!0},L.prototype.lock=function(){E.prototype.lock.call(this);for(var R=this._sources,U=0;U<R.length;U++)R[U].lock()},b.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(x,b,w){var S=x("../compressions"),C=x("./ZipFileWorker");w.generateWorker=function(F,E,k){var D=new C(E.streamFiles,k,E.platform,E.encodeFileName),M=0;try{F.forEach(function(L,R){M++;var U=function(V,G){var $=V||G,K=S[$];if(!K)throw new Error($+" is not a valid compression method !");return K}(R.options.compression,E.compression),j=R.options.compressionOptions||E.compressionOptions||{},H=R.dir,z=R.date;R._compressWorker(U,j).withStreamInfo("file",{name:L,dir:H,date:z,comment:R.comment||"",unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions}).pipe(D)}),D.entriesCount=M}catch(L){D.error(L)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(x,b,w){function S(){if(!(this instanceof S))return new S;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var C=new S;for(var F in this)typeof this[F]!="function"&&(C[F]=this[F]);return C}}(S.prototype=x("./object")).loadAsync=x("./load"),S.support=x("./support"),S.defaults=x("./defaults"),S.version="3.10.1",S.loadAsync=function(C,F){return new S().loadAsync(C,F)},S.external=x("./external"),b.exports=S},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(x,b,w){var S=x("./utils"),C=x("./external"),F=x("./utf8"),E=x("./zipEntries"),k=x("./stream/Crc32Probe"),D=x("./nodejsUtils");function M(L){return new C.Promise(function(R,U){var j=L.decompressed.getContentWorker().pipe(new k);j.on("error",function(H){U(H)}).on("end",function(){j.streamInfo.crc32!==L.decompressed.crc32?U(new Error("Corrupted zip : CRC32 mismatch")):R()}).resume()})}b.exports=function(L,R){var U=this;return R=S.extend(R||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:F.utf8decode}),D.isNode&&D.isStream(L)?C.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):S.prepareContent("the loaded zip file",L,!0,R.optimizedBinaryString,R.base64).then(function(j){var H=new E(R);return H.load(j),H}).then(function(j){var H=[C.Promise.resolve(j)],z=j.files;if(R.checkCRC32)for(var V=0;V<z.length;V++)H.push(M(z[V]));return C.Promise.all(H)}).then(function(j){for(var H=j.shift(),z=H.files,V=0;V<z.length;V++){var G=z[V],$=G.fileNameStr,K=S.resolve(G.fileNameStr);U.file(K,G.decompressed,{binary:!0,optimizedBinaryString:!0,date:G.date,dir:G.dir,comment:G.fileCommentStr.length?G.fileCommentStr:null,unixPermissions:G.unixPermissions,dosPermissions:G.dosPermissions,createFolders:R.createFolders}),G.dir||(U.file(K).unsafeOriginalName=$)}return H.zipComment.length&&(U.comment=H.zipComment),U})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(x,b,w){var S=x("../utils"),C=x("../stream/GenericWorker");function F(E,k){C.call(this,"Nodejs stream input adapter for "+E),this._upstreamEnded=!1,this._bindStream(k)}S.inherits(F,C),F.prototype._bindStream=function(E){var k=this;(this._stream=E).pause(),E.on("data",function(D){k.push({data:D,meta:{percent:0}})}).on("error",function(D){k.isPaused?this.generatedError=D:k.error(D)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},F.prototype.pause=function(){return!!C.prototype.pause.call(this)&&(this._stream.pause(),!0)},F.prototype.resume=function(){return!!C.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=F},{"../stream/GenericWorker":28,"../utils":32}],13:[function(x,b,w){var S=x("readable-stream").Readable;function C(F,E,k){S.call(this,E),this._helper=F;var D=this;F.on("data",function(M,L){D.push(M)||D._helper.pause(),k&&k(L)}).on("error",function(M){D.emit("error",M)}).on("end",function(){D.push(null)})}x("../utils").inherits(C,S),C.prototype._read=function(){this._helper.resume()},b.exports=C},{"../utils":32,"readable-stream":16}],14:[function(x,b,w){b.exports={isNode:typeof Buffer<"u",newBufferFrom:function(S,C){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(S,C);if(typeof S=="number")throw new Error('The "data" argument must not be a number');return new Buffer(S,C)},allocBuffer:function(S){if(Buffer.alloc)return Buffer.alloc(S);var C=new Buffer(S);return C.fill(0),C},isBuffer:function(S){return Buffer.isBuffer(S)},isStream:function(S){return S&&typeof S.on=="function"&&typeof S.pause=="function"&&typeof S.resume=="function"}}},{}],15:[function(x,b,w){function S(K,Z,Q){var ne,le=F.getTypeOf(Z),fe=F.extend(Q||{},D);fe.date=fe.date||new Date,fe.compression!==null&&(fe.compression=fe.compression.toUpperCase()),typeof fe.unixPermissions=="string"&&(fe.unixPermissions=parseInt(fe.unixPermissions,8)),fe.unixPermissions&&16384&fe.unixPermissions&&(fe.dir=!0),fe.dosPermissions&&16&fe.dosPermissions&&(fe.dir=!0),fe.dir&&(K=z(K)),fe.createFolders&&(ne=H(K))&&V.call(this,ne,!0);var be=le==="string"&&fe.binary===!1&&fe.base64===!1;Q&&Q.binary!==void 0||(fe.binary=!be),(Z instanceof M&&Z.uncompressedSize===0||fe.dir||!Z||Z.length===0)&&(fe.base64=!1,fe.binary=!0,Z="",fe.compression="STORE",le="string");var me=null;me=Z instanceof M||Z instanceof E?Z:U.isNode&&U.isStream(Z)?new j(K,Z):F.prepareContent(K,Z,fe.binary,fe.optimizedBinaryString,fe.base64);var we=new L(K,me,fe);this.files[K]=we}var C=x("./utf8"),F=x("./utils"),E=x("./stream/GenericWorker"),k=x("./stream/StreamHelper"),D=x("./defaults"),M=x("./compressedObject"),L=x("./zipObject"),R=x("./generate"),U=x("./nodejsUtils"),j=x("./nodejs/NodejsStreamInputAdapter"),H=function(K){K.slice(-1)==="/"&&(K=K.substring(0,K.length-1));var Z=K.lastIndexOf("/");return 0<Z?K.substring(0,Z):""},z=function(K){return K.slice(-1)!=="/"&&(K+="/"),K},V=function(K,Z){return Z=Z!==void 0?Z:D.createFolders,K=z(K),this.files[K]||S.call(this,K,null,{dir:!0,createFolders:Z}),this.files[K]};function G(K){return Object.prototype.toString.call(K)==="[object RegExp]"}var $={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(K){var Z,Q,ne;for(Z in this.files)ne=this.files[Z],(Q=Z.slice(this.root.length,Z.length))&&Z.slice(0,this.root.length)===this.root&&K(Q,ne)},filter:function(K){var Z=[];return this.forEach(function(Q,ne){K(Q,ne)&&Z.push(ne)}),Z},file:function(K,Z,Q){if(arguments.length!==1)return K=this.root+K,S.call(this,K,Z,Q),this;if(G(K)){var ne=K;return this.filter(function(fe,be){return!be.dir&&ne.test(fe)})}var le=this.files[this.root+K];return le&&!le.dir?le:null},folder:function(K){if(!K)return this;if(G(K))return this.filter(function(le,fe){return fe.dir&&K.test(le)});var Z=this.root+K,Q=V.call(this,Z),ne=this.clone();return ne.root=Q.name,ne},remove:function(K){K=this.root+K;var Z=this.files[K];if(Z||(K.slice(-1)!=="/"&&(K+="/"),Z=this.files[K]),Z&&!Z.dir)delete this.files[K];else for(var Q=this.filter(function(le,fe){return fe.name.slice(0,K.length)===K}),ne=0;ne<Q.length;ne++)delete this.files[Q[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(K){var Z,Q={};try{if((Q=F.extend(K||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:C.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");F.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var ne=Q.comment||this.comment||"";Z=R.generateWorker(this,Q,ne)}catch(le){(Z=new E("error")).error(le)}return new k(Z,Q.type||"string",Q.mimeType)},generateAsync:function(K,Z){return this.generateInternalStream(K).accumulate(Z)},generateNodeStream:function(K,Z){return(K=K||{}).type||(K.type="nodebuffer"),this.generateInternalStream(K).toNodejsStream(Z)}};b.exports=$},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(x,b,w){b.exports=x("stream")},{stream:void 0}],17:[function(x,b,w){var S=x("./DataReader");function C(F){S.call(this,F);for(var E=0;E<this.data.length;E++)F[E]=255&F[E]}x("../utils").inherits(C,S),C.prototype.byteAt=function(F){return this.data[this.zero+F]},C.prototype.lastIndexOfSignature=function(F){for(var E=F.charCodeAt(0),k=F.charCodeAt(1),D=F.charCodeAt(2),M=F.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===E&&this.data[L+1]===k&&this.data[L+2]===D&&this.data[L+3]===M)return L-this.zero;return-1},C.prototype.readAndCheckSignature=function(F){var E=F.charCodeAt(0),k=F.charCodeAt(1),D=F.charCodeAt(2),M=F.charCodeAt(3),L=this.readData(4);return E===L[0]&&k===L[1]&&D===L[2]&&M===L[3]},C.prototype.readData=function(F){if(this.checkOffset(F),F===0)return[];var E=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,E},b.exports=C},{"../utils":32,"./DataReader":18}],18:[function(x,b,w){var S=x("../utils");function C(F){this.data=F,this.length=F.length,this.index=0,this.zero=0}C.prototype={checkOffset:function(F){this.checkIndex(this.index+F)},checkIndex:function(F){if(this.length<this.zero+F||F<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+F+"). Corrupted zip ?")},setIndex:function(F){this.checkIndex(F),this.index=F},skip:function(F){this.setIndex(this.index+F)},byteAt:function(){},readInt:function(F){var E,k=0;for(this.checkOffset(F),E=this.index+F-1;E>=this.index;E--)k=(k<<8)+this.byteAt(E);return this.index+=F,k},readString:function(F){return S.transformTo("string",this.readData(F))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var F=this.readInt(4);return new Date(Date.UTC(1980+(F>>25&127),(F>>21&15)-1,F>>16&31,F>>11&31,F>>5&63,(31&F)<<1))}},b.exports=C},{"../utils":32}],19:[function(x,b,w){var S=x("./Uint8ArrayReader");function C(F){S.call(this,F)}x("../utils").inherits(C,S),C.prototype.readData=function(F){this.checkOffset(F);var E=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,E},b.exports=C},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(x,b,w){var S=x("./DataReader");function C(F){S.call(this,F)}x("../utils").inherits(C,S),C.prototype.byteAt=function(F){return this.data.charCodeAt(this.zero+F)},C.prototype.lastIndexOfSignature=function(F){return this.data.lastIndexOf(F)-this.zero},C.prototype.readAndCheckSignature=function(F){return F===this.readData(4)},C.prototype.readData=function(F){this.checkOffset(F);var E=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,E},b.exports=C},{"../utils":32,"./DataReader":18}],21:[function(x,b,w){var S=x("./ArrayReader");function C(F){S.call(this,F)}x("../utils").inherits(C,S),C.prototype.readData=function(F){if(this.checkOffset(F),F===0)return new Uint8Array(0);var E=this.data.subarray(this.zero+this.index,this.zero+this.index+F);return this.index+=F,E},b.exports=C},{"../utils":32,"./ArrayReader":17}],22:[function(x,b,w){var S=x("../utils"),C=x("../support"),F=x("./ArrayReader"),E=x("./StringReader"),k=x("./NodeBufferReader"),D=x("./Uint8ArrayReader");b.exports=function(M){var L=S.getTypeOf(M);return S.checkSupport(L),L!=="string"||C.uint8array?L==="nodebuffer"?new k(M):C.uint8array?new D(S.transformTo("uint8array",M)):new F(S.transformTo("array",M)):new E(M)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(x,b,w){w.LOCAL_FILE_HEADER="PK",w.CENTRAL_FILE_HEADER="PK",w.CENTRAL_DIRECTORY_END="PK",w.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",w.ZIP64_CENTRAL_DIRECTORY_END="PK",w.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(x,b,w){var S=x("./GenericWorker"),C=x("../utils");function F(E){S.call(this,"ConvertWorker to "+E),this.destType=E}C.inherits(F,S),F.prototype.processChunk=function(E){this.push({data:C.transformTo(this.destType,E.data),meta:E.meta})},b.exports=F},{"../utils":32,"./GenericWorker":28}],25:[function(x,b,w){var S=x("./GenericWorker"),C=x("../crc32");function F(){S.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}x("../utils").inherits(F,S),F.prototype.processChunk=function(E){this.streamInfo.crc32=C(E.data,this.streamInfo.crc32||0),this.push(E)},b.exports=F},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(x,b,w){var S=x("../utils"),C=x("./GenericWorker");function F(E){C.call(this,"DataLengthProbe for "+E),this.propName=E,this.withStreamInfo(E,0)}S.inherits(F,C),F.prototype.processChunk=function(E){if(E){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+E.data.length}C.prototype.processChunk.call(this,E)},b.exports=F},{"../utils":32,"./GenericWorker":28}],27:[function(x,b,w){var S=x("../utils"),C=x("./GenericWorker");function F(E){C.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,E.then(function(D){k.dataIsReady=!0,k.data=D,k.max=D&&D.length||0,k.type=S.getTypeOf(D),k.isPaused||k._tickAndRepeat()},function(D){k.error(D)})}S.inherits(F,C),F.prototype.cleanUp=function(){C.prototype.cleanUp.call(this),this.data=null},F.prototype.resume=function(){return!!C.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,S.delay(this._tickAndRepeat,[],this)),!0)},F.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(S.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},F.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var E=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":E=this.data.substring(this.index,k);break;case"uint8array":E=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":E=this.data.slice(this.index,k)}return this.index=k,this.push({data:E,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=F},{"../utils":32,"./GenericWorker":28}],28:[function(x,b,w){function S(C){this.name=C||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}S.prototype={push:function(C){this.emit("data",C)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(C){this.emit("error",C)}return!0},error:function(C){return!this.isFinished&&(this.isPaused?this.generatedError=C:(this.isFinished=!0,this.emit("error",C),this.previous&&this.previous.error(C),this.cleanUp()),!0)},on:function(C,F){return this._listeners[C].push(F),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(C,F){if(this._listeners[C])for(var E=0;E<this._listeners[C].length;E++)this._listeners[C][E].call(this,F)},pipe:function(C){return C.registerPrevious(this)},registerPrevious:function(C){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=C.streamInfo,this.mergeStreamInfo(),this.previous=C;var F=this;return C.on("data",function(E){F.processChunk(E)}),C.on("end",function(){F.end()}),C.on("error",function(E){F.error(E)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var C=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),C=!0),this.previous&&this.previous.resume(),!C},flush:function(){},processChunk:function(C){this.push(C)},withStreamInfo:function(C,F){return this.extraStreamInfo[C]=F,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var C in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,C)&&(this.streamInfo[C]=this.extraStreamInfo[C])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var C="Worker "+this.name;return this.previous?this.previous+" -> "+C:C}},b.exports=S},{}],29:[function(x,b,w){var S=x("../utils"),C=x("./ConvertWorker"),F=x("./GenericWorker"),E=x("../base64"),k=x("../support"),D=x("../external"),M=null;if(k.nodestream)try{M=x("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(U,j){return new D.Promise(function(H,z){var V=[],G=U._internalType,$=U._outputType,K=U._mimeType;U.on("data",function(Z,Q){V.push(Z),j&&j(Q)}).on("error",function(Z){V=[],z(Z)}).on("end",function(){try{var Z=function(Q,ne,le){switch(Q){case"blob":return S.newBlob(S.transformTo("arraybuffer",ne),le);case"base64":return E.encode(ne);default:return S.transformTo(Q,ne)}}($,function(Q,ne){var le,fe=0,be=null,me=0;for(le=0;le<ne.length;le++)me+=ne[le].length;switch(Q){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(be=new Uint8Array(me),le=0;le<ne.length;le++)be.set(ne[le],fe),fe+=ne[le].length;return be;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+Q+"'")}}(G,V),K);H(Z)}catch(Q){z(Q)}V=[]}).resume()})}function R(U,j,H){var z=j;switch(j){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=j,this._mimeType=H,S.checkSupport(z),this._worker=U.pipe(new C(z)),U.lock()}catch(V){this._worker=new F("error"),this._worker.error(V)}}R.prototype={accumulate:function(U){return L(this,U)},on:function(U,j){var H=this;return U==="data"?this._worker.on(U,function(z){j.call(H,z.data,z.meta)}):this._worker.on(U,function(){S.delay(j,arguments,H)}),this},resume:function(){return S.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(U){if(S.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new M(this,{objectMode:this._outputType!=="nodebuffer"},U)}},b.exports=R},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(x,b,w){if(w.base64=!0,w.array=!0,w.string=!0,w.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",w.nodebuffer=typeof Buffer<"u",w.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")w.blob=!1;else{var S=new ArrayBuffer(0);try{w.blob=new Blob([S],{type:"application/zip"}).size===0}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);C.append(S),w.blob=C.getBlob("application/zip").size===0}catch{w.blob=!1}}}try{w.nodestream=!!x("readable-stream").Readable}catch{w.nodestream=!1}},{"readable-stream":16}],31:[function(x,b,w){for(var S=x("./utils"),C=x("./support"),F=x("./nodejsUtils"),E=x("./stream/GenericWorker"),k=new Array(256),D=0;D<256;D++)k[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;k[254]=k[254]=1;function M(){E.call(this,"utf-8 decode"),this.leftOver=null}function L(){E.call(this,"utf-8 encode")}w.utf8encode=function(R){return C.nodebuffer?F.newBufferFrom(R,"utf-8"):function(U){var j,H,z,V,G,$=U.length,K=0;for(V=0;V<$;V++)(64512&(H=U.charCodeAt(V)))==55296&&V+1<$&&(64512&(z=U.charCodeAt(V+1)))==56320&&(H=65536+(H-55296<<10)+(z-56320),V++),K+=H<128?1:H<2048?2:H<65536?3:4;for(j=C.uint8array?new Uint8Array(K):new Array(K),V=G=0;G<K;V++)(64512&(H=U.charCodeAt(V)))==55296&&V+1<$&&(64512&(z=U.charCodeAt(V+1)))==56320&&(H=65536+(H-55296<<10)+(z-56320),V++),H<128?j[G++]=H:(H<2048?j[G++]=192|H>>>6:(H<65536?j[G++]=224|H>>>12:(j[G++]=240|H>>>18,j[G++]=128|H>>>12&63),j[G++]=128|H>>>6&63),j[G++]=128|63&H);return j}(R)},w.utf8decode=function(R){return C.nodebuffer?S.transformTo("nodebuffer",R).toString("utf-8"):function(U){var j,H,z,V,G=U.length,$=new Array(2*G);for(j=H=0;j<G;)if((z=U[j++])<128)$[H++]=z;else if(4<(V=k[z]))$[H++]=65533,j+=V-1;else{for(z&=V===2?31:V===3?15:7;1<V&&j<G;)z=z<<6|63&U[j++],V--;1<V?$[H++]=65533:z<65536?$[H++]=z:(z-=65536,$[H++]=55296|z>>10&1023,$[H++]=56320|1023&z)}return $.length!==H&&($.subarray?$=$.subarray(0,H):$.length=H),S.applyFromCharCode($)}(R=S.transformTo(C.uint8array?"uint8array":"array",R))},S.inherits(M,E),M.prototype.processChunk=function(R){var U=S.transformTo(C.uint8array?"uint8array":"array",R.data);if(this.leftOver&&this.leftOver.length){if(C.uint8array){var j=U;(U=new Uint8Array(j.length+this.leftOver.length)).set(this.leftOver,0),U.set(j,this.leftOver.length)}else U=this.leftOver.concat(U);this.leftOver=null}var H=function(V,G){var $;for((G=G||V.length)>V.length&&(G=V.length),$=G-1;0<=$&&(192&V[$])==128;)$--;return $<0||$===0?G:$+k[V[$]]>G?$:G}(U),z=U;H!==U.length&&(C.uint8array?(z=U.subarray(0,H),this.leftOver=U.subarray(H,U.length)):(z=U.slice(0,H),this.leftOver=U.slice(H,U.length))),this.push({data:w.utf8decode(z),meta:R.meta})},M.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:w.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},w.Utf8DecodeWorker=M,S.inherits(L,E),L.prototype.processChunk=function(R){this.push({data:w.utf8encode(R.data),meta:R.meta})},w.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(x,b,w){var S=x("./support"),C=x("./base64"),F=x("./nodejsUtils"),E=x("./external");function k(j){return j}function D(j,H){for(var z=0;z<j.length;++z)H[z]=255&j.charCodeAt(z);return H}x("setimmediate"),w.newBlob=function(j,H){w.checkSupport("blob");try{return new Blob([j],{type:H})}catch{try{var z=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return z.append(j),z.getBlob(H)}catch{throw new Error("Bug : can't construct the Blob.")}}};var M={stringifyByChunk:function(j,H,z){var V=[],G=0,$=j.length;if($<=z)return String.fromCharCode.apply(null,j);for(;G<$;)H==="array"||H==="nodebuffer"?V.push(String.fromCharCode.apply(null,j.slice(G,Math.min(G+z,$)))):V.push(String.fromCharCode.apply(null,j.subarray(G,Math.min(G+z,$)))),G+=z;return V.join("")},stringifyByChar:function(j){for(var H="",z=0;z<j.length;z++)H+=String.fromCharCode(j[z]);return H},applyCanBeUsed:{uint8array:function(){try{return S.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return S.nodebuffer&&String.fromCharCode.apply(null,F.allocBuffer(1)).length===1}catch{return!1}}()}};function L(j){var H=65536,z=w.getTypeOf(j),V=!0;if(z==="uint8array"?V=M.applyCanBeUsed.uint8array:z==="nodebuffer"&&(V=M.applyCanBeUsed.nodebuffer),V)for(;1<H;)try{return M.stringifyByChunk(j,z,H)}catch{H=Math.floor(H/2)}return M.stringifyByChar(j)}function R(j,H){for(var z=0;z<j.length;z++)H[z]=j[z];return H}w.applyFromCharCode=L;var U={};U.string={string:k,array:function(j){return D(j,new Array(j.length))},arraybuffer:function(j){return U.string.uint8array(j).buffer},uint8array:function(j){return D(j,new Uint8Array(j.length))},nodebuffer:function(j){return D(j,F.allocBuffer(j.length))}},U.array={string:L,array:k,arraybuffer:function(j){return new Uint8Array(j).buffer},uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return F.newBufferFrom(j)}},U.arraybuffer={string:function(j){return L(new Uint8Array(j))},array:function(j){return R(new Uint8Array(j),new Array(j.byteLength))},arraybuffer:k,uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return F.newBufferFrom(new Uint8Array(j))}},U.uint8array={string:L,array:function(j){return R(j,new Array(j.length))},arraybuffer:function(j){return j.buffer},uint8array:k,nodebuffer:function(j){return F.newBufferFrom(j)}},U.nodebuffer={string:L,array:function(j){return R(j,new Array(j.length))},arraybuffer:function(j){return U.nodebuffer.uint8array(j).buffer},uint8array:function(j){return R(j,new Uint8Array(j.length))},nodebuffer:k},w.transformTo=function(j,H){if(H=H||"",!j)return H;w.checkSupport(j);var z=w.getTypeOf(H);return U[z][j](H)},w.resolve=function(j){for(var H=j.split("/"),z=[],V=0;V<H.length;V++){var G=H[V];G==="."||G===""&&V!==0&&V!==H.length-1||(G===".."?z.pop():z.push(G))}return z.join("/")},w.getTypeOf=function(j){return typeof j=="string"?"string":Object.prototype.toString.call(j)==="[object Array]"?"array":S.nodebuffer&&F.isBuffer(j)?"nodebuffer":S.uint8array&&j instanceof Uint8Array?"uint8array":S.arraybuffer&&j instanceof ArrayBuffer?"arraybuffer":void 0},w.checkSupport=function(j){if(!S[j.toLowerCase()])throw new Error(j+" is not supported by this platform")},w.MAX_VALUE_16BITS=65535,w.MAX_VALUE_32BITS=-1,w.pretty=function(j){var H,z,V="";for(z=0;z<(j||"").length;z++)V+="\\x"+((H=j.charCodeAt(z))<16?"0":"")+H.toString(16).toUpperCase();return V},w.delay=function(j,H,z){setImmediate(function(){j.apply(z||null,H||[])})},w.inherits=function(j,H){function z(){}z.prototype=H.prototype,j.prototype=new z},w.extend=function(){var j,H,z={};for(j=0;j<arguments.length;j++)for(H in arguments[j])Object.prototype.hasOwnProperty.call(arguments[j],H)&&z[H]===void 0&&(z[H]=arguments[j][H]);return z},w.prepareContent=function(j,H,z,V,G){return E.Promise.resolve(H).then(function($){return S.blob&&($ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call($))!==-1)&&typeof FileReader<"u"?new E.Promise(function(K,Z){var Q=new FileReader;Q.onload=function(ne){K(ne.target.result)},Q.onerror=function(ne){Z(ne.target.error)},Q.readAsArrayBuffer($)}):$}).then(function($){var K=w.getTypeOf($);return K?(K==="arraybuffer"?$=w.transformTo("uint8array",$):K==="string"&&(G?$=C.decode($):z&&V!==!0&&($=function(Z){return D(Z,S.uint8array?new Uint8Array(Z.length):new Array(Z.length))}($))),$):E.Promise.reject(new Error("Can't read the data of '"+j+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(x,b,w){var S=x("./reader/readerFor"),C=x("./utils"),F=x("./signature"),E=x("./zipEntry"),k=x("./support");function D(M){this.files=[],this.loadOptions=M}D.prototype={checkSignature:function(M){if(!this.reader.readAndCheckSignature(M)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+C.pretty(L)+", expected "+C.pretty(M)+")")}},isSignature:function(M,L){var R=this.reader.index;this.reader.setIndex(M);var U=this.reader.readString(4)===L;return this.reader.setIndex(R),U},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var M=this.reader.readData(this.zipCommentLength),L=k.uint8array?"uint8array":"array",R=C.transformTo(L,M);this.zipComment=this.loadOptions.decodeFileName(R)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var M,L,R,U=this.zip64EndOfCentralSize-44;0<U;)M=this.reader.readInt(2),L=this.reader.readInt(4),R=this.reader.readData(L),this.zip64ExtensibleData[M]={id:M,length:L,value:R}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var M,L;for(M=0;M<this.files.length;M++)L=this.files[M],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(F.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var M;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(F.CENTRAL_FILE_HEADER);)(M=new E({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(M);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var M=this.reader.lastIndexOfSignature(F.CENTRAL_DIRECTORY_END);if(M<0)throw this.isSignature(0,F.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(M);var L=M;if(this.checkSignature(F.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===C.MAX_VALUE_16BITS||this.diskWithCentralDirStart===C.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===C.MAX_VALUE_16BITS||this.centralDirRecords===C.MAX_VALUE_16BITS||this.centralDirSize===C.MAX_VALUE_32BITS||this.centralDirOffset===C.MAX_VALUE_32BITS){if(this.zip64=!0,(M=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(M),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,F.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var U=L-R;if(0<U)this.isSignature(L,F.CENTRAL_FILE_HEADER)||(this.reader.zero=U);else if(U<0)throw new Error("Corrupted zip: missing "+Math.abs(U)+" bytes.")},prepareReader:function(M){this.reader=S(M)},load:function(M){this.prepareReader(M),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(x,b,w){var S=x("./reader/readerFor"),C=x("./utils"),F=x("./compressedObject"),E=x("./crc32"),k=x("./utf8"),D=x("./compressions"),M=x("./support");function L(R,U){this.options=R,this.loadOptions=U}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(R){var U,j;if(R.skip(22),this.fileNameLength=R.readInt(2),j=R.readInt(2),this.fileName=R.readData(this.fileNameLength),R.skip(j),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((U=function(H){for(var z in D)if(Object.prototype.hasOwnProperty.call(D,z)&&D[z].magic===H)return D[z];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+C.pretty(this.compressionMethod)+" unknown (inner file : "+C.transformTo("string",this.fileName)+")");this.decompressed=new F(this.compressedSize,this.uncompressedSize,this.crc32,U,R.readData(this.compressedSize))},readCentralPart:function(R){this.versionMadeBy=R.readInt(2),R.skip(2),this.bitFlag=R.readInt(2),this.compressionMethod=R.readString(2),this.date=R.readDate(),this.crc32=R.readInt(4),this.compressedSize=R.readInt(4),this.uncompressedSize=R.readInt(4);var U=R.readInt(2);if(this.extraFieldsLength=R.readInt(2),this.fileCommentLength=R.readInt(2),this.diskNumberStart=R.readInt(2),this.internalFileAttributes=R.readInt(2),this.externalFileAttributes=R.readInt(4),this.localHeaderOffset=R.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");R.skip(U),this.readExtraFields(R),this.parseZIP64ExtraField(R),this.fileComment=R.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var R=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),R==0&&(this.dosPermissions=63&this.externalFileAttributes),R==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var R=S(this.extraFields[1].value);this.uncompressedSize===C.MAX_VALUE_32BITS&&(this.uncompressedSize=R.readInt(8)),this.compressedSize===C.MAX_VALUE_32BITS&&(this.compressedSize=R.readInt(8)),this.localHeaderOffset===C.MAX_VALUE_32BITS&&(this.localHeaderOffset=R.readInt(8)),this.diskNumberStart===C.MAX_VALUE_32BITS&&(this.diskNumberStart=R.readInt(4))}},readExtraFields:function(R){var U,j,H,z=R.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});R.index+4<z;)U=R.readInt(2),j=R.readInt(2),H=R.readData(j),this.extraFields[U]={id:U,length:j,value:H};R.setIndex(z)},handleUTF8:function(){var R=M.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var U=this.findExtraFieldUnicodePath();if(U!==null)this.fileNameStr=U;else{var j=C.transformTo(R,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(j)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var z=C.transformTo(R,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(z)}}},findExtraFieldUnicodePath:function(){var R=this.extraFields[28789];if(R){var U=S(R.value);return U.readInt(1)!==1||E(this.fileName)!==U.readInt(4)?null:k.utf8decode(U.readData(R.length-5))}return null},findExtraFieldUnicodeComment:function(){var R=this.extraFields[25461];if(R){var U=S(R.value);return U.readInt(1)!==1||E(this.fileComment)!==U.readInt(4)?null:k.utf8decode(U.readData(R.length-5))}return null}},b.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(x,b,w){function S(U,j,H){this.name=U,this.dir=H.dir,this.date=H.date,this.comment=H.comment,this.unixPermissions=H.unixPermissions,this.dosPermissions=H.dosPermissions,this._data=j,this._dataBinary=H.binary,this.options={compression:H.compression,compressionOptions:H.compressionOptions}}var C=x("./stream/StreamHelper"),F=x("./stream/DataWorker"),E=x("./utf8"),k=x("./compressedObject"),D=x("./stream/GenericWorker");S.prototype={internalStream:function(U){var j=null,H="string";try{if(!U)throw new Error("No output type specified.");var z=(H=U.toLowerCase())==="string"||H==="text";H!=="binarystring"&&H!=="text"||(H="string"),j=this._decompressWorker();var V=!this._dataBinary;V&&!z&&(j=j.pipe(new E.Utf8EncodeWorker)),!V&&z&&(j=j.pipe(new E.Utf8DecodeWorker))}catch(G){(j=new D("error")).error(G)}return new C(j,H,"")},async:function(U,j){return this.internalStream(U).accumulate(j)},nodeStream:function(U,j){return this.internalStream(U||"nodebuffer").toNodejsStream(j)},_compressWorker:function(U,j){if(this._data instanceof k&&this._data.compression.magic===U.magic)return this._data.getCompressedWorker();var H=this._decompressWorker();return this._dataBinary||(H=H.pipe(new E.Utf8EncodeWorker)),k.createWorkerFrom(H,U,j)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof D?this._data:new F(this._data)}};for(var M=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},R=0;R<M.length;R++)S.prototype[M[R]]=L;b.exports=S},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(x,b,w){(function(S){var C,F,E=S.MutationObserver||S.WebKitMutationObserver;if(E){var k=0,D=new E(U),M=S.document.createTextNode("");D.observe(M,{characterData:!0}),C=function(){M.data=k=++k%2}}else if(S.setImmediate||S.MessageChannel===void 0)C="document"in S&&"onreadystatechange"in S.document.createElement("script")?function(){var j=S.document.createElement("script");j.onreadystatechange=function(){U(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},S.document.documentElement.appendChild(j)}:function(){setTimeout(U,0)};else{var L=new S.MessageChannel;L.port1.onmessage=U,C=function(){L.port2.postMessage(0)}}var R=[];function U(){var j,H;F=!0;for(var z=R.length;z;){for(H=R,R=[],j=-1;++j<z;)H[j]();z=R.length}F=!1}b.exports=function(j){R.push(j)!==1||F||C()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(x,b,w){var S=x("immediate");function C(){}var F={},E=["REJECTED"],k=["FULFILLED"],D=["PENDING"];function M(z){if(typeof z!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,z!==C&&j(this,z)}function L(z,V,G){this.promise=z,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof G=="function"&&(this.onRejected=G,this.callRejected=this.otherCallRejected)}function R(z,V,G){S(function(){var $;try{$=V(G)}catch(K){return F.reject(z,K)}$===z?F.reject(z,new TypeError("Cannot resolve promise with itself")):F.resolve(z,$)})}function U(z){var V=z&&z.then;if(z&&(typeof z=="object"||typeof z=="function")&&typeof V=="function")return function(){V.apply(z,arguments)}}function j(z,V){var G=!1;function $(Q){G||(G=!0,F.reject(z,Q))}function K(Q){G||(G=!0,F.resolve(z,Q))}var Z=H(function(){V(K,$)});Z.status==="error"&&$(Z.value)}function H(z,V){var G={};try{G.value=z(V),G.status="success"}catch($){G.status="error",G.value=$}return G}(b.exports=M).prototype.finally=function(z){if(typeof z!="function")return this;var V=this.constructor;return this.then(function(G){return V.resolve(z()).then(function(){return G})},function(G){return V.resolve(z()).then(function(){throw G})})},M.prototype.catch=function(z){return this.then(null,z)},M.prototype.then=function(z,V){if(typeof z!="function"&&this.state===k||typeof V!="function"&&this.state===E)return this;var G=new this.constructor(C);return this.state!==D?R(G,this.state===k?z:V,this.outcome):this.queue.push(new L(G,z,V)),G},L.prototype.callFulfilled=function(z){F.resolve(this.promise,z)},L.prototype.otherCallFulfilled=function(z){R(this.promise,this.onFulfilled,z)},L.prototype.callRejected=function(z){F.reject(this.promise,z)},L.prototype.otherCallRejected=function(z){R(this.promise,this.onRejected,z)},F.resolve=function(z,V){var G=H(U,V);if(G.status==="error")return F.reject(z,G.value);var $=G.value;if($)j(z,$);else{z.state=k,z.outcome=V;for(var K=-1,Z=z.queue.length;++K<Z;)z.queue[K].callFulfilled(V)}return z},F.reject=function(z,V){z.state=E,z.outcome=V;for(var G=-1,$=z.queue.length;++G<$;)z.queue[G].callRejected(V);return z},M.resolve=function(z){return z instanceof this?z:F.resolve(new this(C),z)},M.reject=function(z){var V=new this(C);return F.reject(V,z)},M.all=function(z){var V=this;if(Object.prototype.toString.call(z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=z.length,$=!1;if(!G)return this.resolve([]);for(var K=new Array(G),Z=0,Q=-1,ne=new this(C);++Q<G;)le(z[Q],Q);return ne;function le(fe,be){V.resolve(fe).then(function(me){K[be]=me,++Z!==G||$||($=!0,F.resolve(ne,K))},function(me){$||($=!0,F.reject(ne,me))})}},M.race=function(z){var V=this;if(Object.prototype.toString.call(z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=z.length,$=!1;if(!G)return this.resolve([]);for(var K=-1,Z=new this(C);++K<G;)Q=z[K],V.resolve(Q).then(function(ne){$||($=!0,F.resolve(Z,ne))},function(ne){$||($=!0,F.reject(Z,ne))});var Q;return Z}},{immediate:36}],38:[function(x,b,w){var S={};(0,x("./lib/utils/common").assign)(S,x("./lib/deflate"),x("./lib/inflate"),x("./lib/zlib/constants")),b.exports=S},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(x,b,w){var S=x("./zlib/deflate"),C=x("./utils/common"),F=x("./utils/strings"),E=x("./zlib/messages"),k=x("./zlib/zstream"),D=Object.prototype.toString,M=0,L=-1,R=0,U=8;function j(z){if(!(this instanceof j))return new j(z);this.options=C.assign({level:L,method:U,chunkSize:16384,windowBits:15,memLevel:8,strategy:R,to:""},z||{});var V=this.options;V.raw&&0<V.windowBits?V.windowBits=-V.windowBits:V.gzip&&0<V.windowBits&&V.windowBits<16&&(V.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var G=S.deflateInit2(this.strm,V.level,V.method,V.windowBits,V.memLevel,V.strategy);if(G!==M)throw new Error(E[G]);if(V.header&&S.deflateSetHeader(this.strm,V.header),V.dictionary){var $;if($=typeof V.dictionary=="string"?F.string2buf(V.dictionary):D.call(V.dictionary)==="[object ArrayBuffer]"?new Uint8Array(V.dictionary):V.dictionary,(G=S.deflateSetDictionary(this.strm,$))!==M)throw new Error(E[G]);this._dict_set=!0}}function H(z,V){var G=new j(V);if(G.push(z,!0),G.err)throw G.msg||E[G.err];return G.result}j.prototype.push=function(z,V){var G,$,K=this.strm,Z=this.options.chunkSize;if(this.ended)return!1;$=V===~~V?V:V===!0?4:0,typeof z=="string"?K.input=F.string2buf(z):D.call(z)==="[object ArrayBuffer]"?K.input=new Uint8Array(z):K.input=z,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new C.Buf8(Z),K.next_out=0,K.avail_out=Z),(G=S.deflate(K,$))!==1&&G!==M)return this.onEnd(G),!(this.ended=!0);K.avail_out!==0&&(K.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(F.buf2binstring(C.shrinkBuf(K.output,K.next_out))):this.onData(C.shrinkBuf(K.output,K.next_out)))}while((0<K.avail_in||K.avail_out===0)&&G!==1);return $===4?(G=S.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===M):$!==2||(this.onEnd(M),!(K.avail_out=0))},j.prototype.onData=function(z){this.chunks.push(z)},j.prototype.onEnd=function(z){z===M&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=C.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},w.Deflate=j,w.deflate=H,w.deflateRaw=function(z,V){return(V=V||{}).raw=!0,H(z,V)},w.gzip=function(z,V){return(V=V||{}).gzip=!0,H(z,V)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(x,b,w){var S=x("./zlib/inflate"),C=x("./utils/common"),F=x("./utils/strings"),E=x("./zlib/constants"),k=x("./zlib/messages"),D=x("./zlib/zstream"),M=x("./zlib/gzheader"),L=Object.prototype.toString;function R(j){if(!(this instanceof R))return new R(j);this.options=C.assign({chunkSize:16384,windowBits:0,to:""},j||{});var H=this.options;H.raw&&0<=H.windowBits&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),!(0<=H.windowBits&&H.windowBits<16)||j&&j.windowBits||(H.windowBits+=32),15<H.windowBits&&H.windowBits<48&&!(15&H.windowBits)&&(H.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var z=S.inflateInit2(this.strm,H.windowBits);if(z!==E.Z_OK)throw new Error(k[z]);this.header=new M,S.inflateGetHeader(this.strm,this.header)}function U(j,H){var z=new R(H);if(z.push(j,!0),z.err)throw z.msg||k[z.err];return z.result}R.prototype.push=function(j,H){var z,V,G,$,K,Z,Q=this.strm,ne=this.options.chunkSize,le=this.options.dictionary,fe=!1;if(this.ended)return!1;V=H===~~H?H:H===!0?E.Z_FINISH:E.Z_NO_FLUSH,typeof j=="string"?Q.input=F.binstring2buf(j):L.call(j)==="[object ArrayBuffer]"?Q.input=new Uint8Array(j):Q.input=j,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new C.Buf8(ne),Q.next_out=0,Q.avail_out=ne),(z=S.inflate(Q,E.Z_NO_FLUSH))===E.Z_NEED_DICT&&le&&(Z=typeof le=="string"?F.string2buf(le):L.call(le)==="[object ArrayBuffer]"?new Uint8Array(le):le,z=S.inflateSetDictionary(this.strm,Z)),z===E.Z_BUF_ERROR&&fe===!0&&(z=E.Z_OK,fe=!1),z!==E.Z_STREAM_END&&z!==E.Z_OK)return this.onEnd(z),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&z!==E.Z_STREAM_END&&(Q.avail_in!==0||V!==E.Z_FINISH&&V!==E.Z_SYNC_FLUSH)||(this.options.to==="string"?(G=F.utf8border(Q.output,Q.next_out),$=Q.next_out-G,K=F.buf2string(Q.output,G),Q.next_out=$,Q.avail_out=ne-$,$&&C.arraySet(Q.output,Q.output,G,$,0),this.onData(K)):this.onData(C.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&(fe=!0)}while((0<Q.avail_in||Q.avail_out===0)&&z!==E.Z_STREAM_END);return z===E.Z_STREAM_END&&(V=E.Z_FINISH),V===E.Z_FINISH?(z=S.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===E.Z_OK):V!==E.Z_SYNC_FLUSH||(this.onEnd(E.Z_OK),!(Q.avail_out=0))},R.prototype.onData=function(j){this.chunks.push(j)},R.prototype.onEnd=function(j){j===E.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=C.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},w.Inflate=R,w.inflate=U,w.inflateRaw=function(j,H){return(H=H||{}).raw=!0,U(j,H)},w.ungzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(x,b,w){var S=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";w.assign=function(E){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var D=k.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var M in D)D.hasOwnProperty(M)&&(E[M]=D[M])}}return E},w.shrinkBuf=function(E,k){return E.length===k?E:E.subarray?E.subarray(0,k):(E.length=k,E)};var C={arraySet:function(E,k,D,M,L){if(k.subarray&&E.subarray)E.set(k.subarray(D,D+M),L);else for(var R=0;R<M;R++)E[L+R]=k[D+R]},flattenChunks:function(E){var k,D,M,L,R,U;for(k=M=0,D=E.length;k<D;k++)M+=E[k].length;for(U=new Uint8Array(M),k=L=0,D=E.length;k<D;k++)R=E[k],U.set(R,L),L+=R.length;return U}},F={arraySet:function(E,k,D,M,L){for(var R=0;R<M;R++)E[L+R]=k[D+R]},flattenChunks:function(E){return[].concat.apply([],E)}};w.setTyped=function(E){E?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,C)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,F))},w.setTyped(S)},{}],42:[function(x,b,w){var S=x("./common"),C=!0,F=!0;try{String.fromCharCode.apply(null,[0])}catch{C=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{F=!1}for(var E=new S.Buf8(256),k=0;k<256;k++)E[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function D(M,L){if(L<65537&&(M.subarray&&F||!M.subarray&&C))return String.fromCharCode.apply(null,S.shrinkBuf(M,L));for(var R="",U=0;U<L;U++)R+=String.fromCharCode(M[U]);return R}E[254]=E[254]=1,w.string2buf=function(M){var L,R,U,j,H,z=M.length,V=0;for(j=0;j<z;j++)(64512&(R=M.charCodeAt(j)))==55296&&j+1<z&&(64512&(U=M.charCodeAt(j+1)))==56320&&(R=65536+(R-55296<<10)+(U-56320),j++),V+=R<128?1:R<2048?2:R<65536?3:4;for(L=new S.Buf8(V),j=H=0;H<V;j++)(64512&(R=M.charCodeAt(j)))==55296&&j+1<z&&(64512&(U=M.charCodeAt(j+1)))==56320&&(R=65536+(R-55296<<10)+(U-56320),j++),R<128?L[H++]=R:(R<2048?L[H++]=192|R>>>6:(R<65536?L[H++]=224|R>>>12:(L[H++]=240|R>>>18,L[H++]=128|R>>>12&63),L[H++]=128|R>>>6&63),L[H++]=128|63&R);return L},w.buf2binstring=function(M){return D(M,M.length)},w.binstring2buf=function(M){for(var L=new S.Buf8(M.length),R=0,U=L.length;R<U;R++)L[R]=M.charCodeAt(R);return L},w.buf2string=function(M,L){var R,U,j,H,z=L||M.length,V=new Array(2*z);for(R=U=0;R<z;)if((j=M[R++])<128)V[U++]=j;else if(4<(H=E[j]))V[U++]=65533,R+=H-1;else{for(j&=H===2?31:H===3?15:7;1<H&&R<z;)j=j<<6|63&M[R++],H--;1<H?V[U++]=65533:j<65536?V[U++]=j:(j-=65536,V[U++]=55296|j>>10&1023,V[U++]=56320|1023&j)}return D(V,U)},w.utf8border=function(M,L){var R;for((L=L||M.length)>M.length&&(L=M.length),R=L-1;0<=R&&(192&M[R])==128;)R--;return R<0||R===0?L:R+E[M[R]]>L?R:L}},{"./common":41}],43:[function(x,b,w){b.exports=function(S,C,F,E){for(var k=65535&S|0,D=S>>>16&65535|0,M=0;F!==0;){for(F-=M=2e3<F?2e3:F;D=D+(k=k+C[E++]|0)|0,--M;);k%=65521,D%=65521}return k|D<<16|0}},{}],44:[function(x,b,w){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(x,b,w){var S=function(){for(var C,F=[],E=0;E<256;E++){C=E;for(var k=0;k<8;k++)C=1&C?3988292384^C>>>1:C>>>1;F[E]=C}return F}();b.exports=function(C,F,E,k){var D=S,M=k+E;C^=-1;for(var L=k;L<M;L++)C=C>>>8^D[255&(C^F[L])];return-1^C}},{}],46:[function(x,b,w){var S,C=x("../utils/common"),F=x("./trees"),E=x("./adler32"),k=x("./crc32"),D=x("./messages"),M=0,L=4,R=0,U=-2,j=-1,H=4,z=2,V=8,G=9,$=286,K=30,Z=19,Q=2*$+1,ne=15,le=3,fe=258,be=fe+le+1,me=42,we=113,oe=1,ge=2,Ae=3,Ce=4;function Ne(X,he){return X.msg=D[he],he}function Oe(X){return(X<<1)-(4<X?9:0)}function Be(X){for(var he=X.length;0<=--he;)X[he]=0}function Ie(X){var he=X.state,ue=he.pending;ue>X.avail_out&&(ue=X.avail_out),ue!==0&&(C.arraySet(X.output,he.pending_buf,he.pending_out,ue,X.next_out),X.next_out+=ue,he.pending_out+=ue,X.total_out+=ue,X.avail_out-=ue,he.pending-=ue,he.pending===0&&(he.pending_out=0))}function Ee(X,he){F._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,he),X.block_start=X.strstart,Ie(X.strm)}function Ue(X,he){X.pending_buf[X.pending++]=he}function De(X,he){X.pending_buf[X.pending++]=he>>>8&255,X.pending_buf[X.pending++]=255&he}function _e(X,he){var ue,ce,se=X.max_chain_length,xe=X.strstart,Se=X.prev_length,ve=X.nice_match,pe=X.strstart>X.w_size-be?X.strstart-(X.w_size-be):0,Fe=X.window,Re=X.w_mask,Te=X.prev,Le=X.strstart+fe,ye=Fe[xe+Se-1],ie=Fe[xe+Se];X.prev_length>=X.good_match&&(se>>=2),ve>X.lookahead&&(ve=X.lookahead);do if(Fe[(ue=he)+Se]===ie&&Fe[ue+Se-1]===ye&&Fe[ue]===Fe[xe]&&Fe[++ue]===Fe[xe+1]){xe+=2,ue++;do;while(Fe[++xe]===Fe[++ue]&&Fe[++xe]===Fe[++ue]&&Fe[++xe]===Fe[++ue]&&Fe[++xe]===Fe[++ue]&&Fe[++xe]===Fe[++ue]&&Fe[++xe]===Fe[++ue]&&Fe[++xe]===Fe[++ue]&&Fe[++xe]===Fe[++ue]&&xe<Le);if(ce=fe-(Le-xe),xe=Le-fe,Se<ce){if(X.match_start=he,ve<=(Se=ce))break;ye=Fe[xe+Se-1],ie=Fe[xe+Se]}}while((he=Te[he&Re])>pe&&--se!=0);return Se<=X.lookahead?Se:X.lookahead}function Pe(X){var he,ue,ce,se,xe,Se,ve,pe,Fe,Re,Te=X.w_size;do{if(se=X.window_size-X.lookahead-X.strstart,X.strstart>=Te+(Te-be)){for(C.arraySet(X.window,X.window,Te,Te,0),X.match_start-=Te,X.strstart-=Te,X.block_start-=Te,he=ue=X.hash_size;ce=X.head[--he],X.head[he]=Te<=ce?ce-Te:0,--ue;);for(he=ue=Te;ce=X.prev[--he],X.prev[he]=Te<=ce?ce-Te:0,--ue;);se+=Te}if(X.strm.avail_in===0)break;if(Se=X.strm,ve=X.window,pe=X.strstart+X.lookahead,Fe=se,Re=void 0,Re=Se.avail_in,Fe<Re&&(Re=Fe),ue=Re===0?0:(Se.avail_in-=Re,C.arraySet(ve,Se.input,Se.next_in,Re,pe),Se.state.wrap===1?Se.adler=E(Se.adler,ve,Re,pe):Se.state.wrap===2&&(Se.adler=k(Se.adler,ve,Re,pe)),Se.next_in+=Re,Se.total_in+=Re,Re),X.lookahead+=ue,X.lookahead+X.insert>=le)for(xe=X.strstart-X.insert,X.ins_h=X.window[xe],X.ins_h=(X.ins_h<<X.hash_shift^X.window[xe+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[xe+le-1])&X.hash_mask,X.prev[xe&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=xe,xe++,X.insert--,!(X.lookahead+X.insert<le)););}while(X.lookahead<be&&X.strm.avail_in!==0)}function re(X,he){for(var ue,ce;;){if(X.lookahead<be){if(Pe(X),X.lookahead<be&&he===M)return oe;if(X.lookahead===0)break}if(ue=0,X.lookahead>=le&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+le-1])&X.hash_mask,ue=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),ue!==0&&X.strstart-ue<=X.w_size-be&&(X.match_length=_e(X,ue)),X.match_length>=le)if(ce=F._tr_tally(X,X.strstart-X.match_start,X.match_length-le),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=le){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+le-1])&X.hash_mask,ue=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else ce=F._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(ce&&(Ee(X,!1),X.strm.avail_out===0))return oe}return X.insert=X.strstart<le-1?X.strstart:le-1,he===L?(Ee(X,!0),X.strm.avail_out===0?Ae:Ce):X.last_lit&&(Ee(X,!1),X.strm.avail_out===0)?oe:ge}function ae(X,he){for(var ue,ce,se;;){if(X.lookahead<be){if(Pe(X),X.lookahead<be&&he===M)return oe;if(X.lookahead===0)break}if(ue=0,X.lookahead>=le&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+le-1])&X.hash_mask,ue=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=le-1,ue!==0&&X.prev_length<X.max_lazy_match&&X.strstart-ue<=X.w_size-be&&(X.match_length=_e(X,ue),X.match_length<=5&&(X.strategy===1||X.match_length===le&&4096<X.strstart-X.match_start)&&(X.match_length=le-1)),X.prev_length>=le&&X.match_length<=X.prev_length){for(se=X.strstart+X.lookahead-le,ce=F._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-le),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=se&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+le-1])&X.hash_mask,ue=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=le-1,X.strstart++,ce&&(Ee(X,!1),X.strm.avail_out===0))return oe}else if(X.match_available){if((ce=F._tr_tally(X,0,X.window[X.strstart-1]))&&Ee(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return oe}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(ce=F._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<le-1?X.strstart:le-1,he===L?(Ee(X,!0),X.strm.avail_out===0?Ae:Ce):X.last_lit&&(Ee(X,!1),X.strm.avail_out===0)?oe:ge}function Y(X,he,ue,ce,se){this.good_length=X,this.max_lazy=he,this.nice_length=ue,this.max_chain=ce,this.func=se}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=V,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*Q),this.dyn_dtree=new C.Buf16(2*(2*K+1)),this.bl_tree=new C.Buf16(2*(2*Z+1)),Be(this.dyn_ltree),Be(this.dyn_dtree),Be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(ne+1),this.heap=new C.Buf16(2*$+1),Be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*$+1),Be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(X){var he;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=z,(he=X.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?me:we,X.adler=he.wrap===2?0:1,he.last_flush=M,F._tr_init(he),R):Ne(X,U)}function J(X){var he=ee(X);return he===R&&function(ue){ue.window_size=2*ue.w_size,Be(ue.head),ue.max_lazy_match=S[ue.level].max_lazy,ue.good_match=S[ue.level].good_length,ue.nice_match=S[ue.level].nice_length,ue.max_chain_length=S[ue.level].max_chain,ue.strstart=0,ue.block_start=0,ue.lookahead=0,ue.insert=0,ue.match_length=ue.prev_length=le-1,ue.match_available=0,ue.ins_h=0}(X.state),he}function te(X,he,ue,ce,se,xe){if(!X)return U;var Se=1;if(he===j&&(he=6),ce<0?(Se=0,ce=-ce):15<ce&&(Se=2,ce-=16),se<1||G<se||ue!==V||ce<8||15<ce||he<0||9<he||xe<0||H<xe)return Ne(X,U);ce===8&&(ce=9);var ve=new W;return(X.state=ve).strm=X,ve.wrap=Se,ve.gzhead=null,ve.w_bits=ce,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=se+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+le-1)/le),ve.window=new C.Buf8(2*ve.w_size),ve.head=new C.Buf16(ve.hash_size),ve.prev=new C.Buf16(ve.w_size),ve.lit_bufsize=1<<se+6,ve.pending_buf_size=4*ve.lit_bufsize,ve.pending_buf=new C.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=he,ve.strategy=xe,ve.method=ue,J(X)}S=[new Y(0,0,0,0,function(X,he){var ue=65535;for(ue>X.pending_buf_size-5&&(ue=X.pending_buf_size-5);;){if(X.lookahead<=1){if(Pe(X),X.lookahead===0&&he===M)return oe;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var ce=X.block_start+ue;if((X.strstart===0||X.strstart>=ce)&&(X.lookahead=X.strstart-ce,X.strstart=ce,Ee(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-be&&(Ee(X,!1),X.strm.avail_out===0))return oe}return X.insert=0,he===L?(Ee(X,!0),X.strm.avail_out===0?Ae:Ce):(X.strstart>X.block_start&&(Ee(X,!1),X.strm.avail_out),oe)}),new Y(4,4,8,4,re),new Y(4,5,16,8,re),new Y(4,6,32,32,re),new Y(4,4,16,16,ae),new Y(8,16,32,32,ae),new Y(8,16,128,128,ae),new Y(8,32,128,256,ae),new Y(32,128,258,1024,ae),new Y(32,258,258,4096,ae)],w.deflateInit=function(X,he){return te(X,he,V,15,8,0)},w.deflateInit2=te,w.deflateReset=J,w.deflateResetKeep=ee,w.deflateSetHeader=function(X,he){return X&&X.state?X.state.wrap!==2?U:(X.state.gzhead=he,R):U},w.deflate=function(X,he){var ue,ce,se,xe;if(!X||!X.state||5<he||he<0)return X?Ne(X,U):U;if(ce=X.state,!X.output||!X.input&&X.avail_in!==0||ce.status===666&&he!==L)return Ne(X,X.avail_out===0?-5:U);if(ce.strm=X,ue=ce.last_flush,ce.last_flush=he,ce.status===me)if(ce.wrap===2)X.adler=0,Ue(ce,31),Ue(ce,139),Ue(ce,8),ce.gzhead?(Ue(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),Ue(ce,255&ce.gzhead.time),Ue(ce,ce.gzhead.time>>8&255),Ue(ce,ce.gzhead.time>>16&255),Ue(ce,ce.gzhead.time>>24&255),Ue(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),Ue(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(Ue(ce,255&ce.gzhead.extra.length),Ue(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(X.adler=k(X.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=69):(Ue(ce,0),Ue(ce,0),Ue(ce,0),Ue(ce,0),Ue(ce,0),Ue(ce,ce.level===9?2:2<=ce.strategy||ce.level<2?4:0),Ue(ce,3),ce.status=we);else{var Se=V+(ce.w_bits-8<<4)<<8;Se|=(2<=ce.strategy||ce.level<2?0:ce.level<6?1:ce.level===6?2:3)<<6,ce.strstart!==0&&(Se|=32),Se+=31-Se%31,ce.status=we,De(ce,Se),ce.strstart!==0&&(De(ce,X.adler>>>16),De(ce,65535&X.adler)),X.adler=1}if(ce.status===69)if(ce.gzhead.extra){for(se=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>se&&(X.adler=k(X.adler,ce.pending_buf,ce.pending-se,se)),Ie(X),se=ce.pending,ce.pending!==ce.pending_buf_size));)Ue(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>se&&(X.adler=k(X.adler,ce.pending_buf,ce.pending-se,se)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=73)}else ce.status=73;if(ce.status===73)if(ce.gzhead.name){se=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>se&&(X.adler=k(X.adler,ce.pending_buf,ce.pending-se,se)),Ie(X),se=ce.pending,ce.pending===ce.pending_buf_size)){xe=1;break}xe=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,Ue(ce,xe)}while(xe!==0);ce.gzhead.hcrc&&ce.pending>se&&(X.adler=k(X.adler,ce.pending_buf,ce.pending-se,se)),xe===0&&(ce.gzindex=0,ce.status=91)}else ce.status=91;if(ce.status===91)if(ce.gzhead.comment){se=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>se&&(X.adler=k(X.adler,ce.pending_buf,ce.pending-se,se)),Ie(X),se=ce.pending,ce.pending===ce.pending_buf_size)){xe=1;break}xe=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,Ue(ce,xe)}while(xe!==0);ce.gzhead.hcrc&&ce.pending>se&&(X.adler=k(X.adler,ce.pending_buf,ce.pending-se,se)),xe===0&&(ce.status=103)}else ce.status=103;if(ce.status===103&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&Ie(X),ce.pending+2<=ce.pending_buf_size&&(Ue(ce,255&X.adler),Ue(ce,X.adler>>8&255),X.adler=0,ce.status=we)):ce.status=we),ce.pending!==0){if(Ie(X),X.avail_out===0)return ce.last_flush=-1,R}else if(X.avail_in===0&&Oe(he)<=Oe(ue)&&he!==L)return Ne(X,-5);if(ce.status===666&&X.avail_in!==0)return Ne(X,-5);if(X.avail_in!==0||ce.lookahead!==0||he!==M&&ce.status!==666){var ve=ce.strategy===2?function(pe,Fe){for(var Re;;){if(pe.lookahead===0&&(Pe(pe),pe.lookahead===0)){if(Fe===M)return oe;break}if(pe.match_length=0,Re=F._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++,Re&&(Ee(pe,!1),pe.strm.avail_out===0))return oe}return pe.insert=0,Fe===L?(Ee(pe,!0),pe.strm.avail_out===0?Ae:Ce):pe.last_lit&&(Ee(pe,!1),pe.strm.avail_out===0)?oe:ge}(ce,he):ce.strategy===3?function(pe,Fe){for(var Re,Te,Le,ye,ie=pe.window;;){if(pe.lookahead<=fe){if(Pe(pe),pe.lookahead<=fe&&Fe===M)return oe;if(pe.lookahead===0)break}if(pe.match_length=0,pe.lookahead>=le&&0<pe.strstart&&(Te=ie[Le=pe.strstart-1])===ie[++Le]&&Te===ie[++Le]&&Te===ie[++Le]){ye=pe.strstart+fe;do;while(Te===ie[++Le]&&Te===ie[++Le]&&Te===ie[++Le]&&Te===ie[++Le]&&Te===ie[++Le]&&Te===ie[++Le]&&Te===ie[++Le]&&Te===ie[++Le]&&Le<ye);pe.match_length=fe-(ye-Le),pe.match_length>pe.lookahead&&(pe.match_length=pe.lookahead)}if(pe.match_length>=le?(Re=F._tr_tally(pe,1,pe.match_length-le),pe.lookahead-=pe.match_length,pe.strstart+=pe.match_length,pe.match_length=0):(Re=F._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++),Re&&(Ee(pe,!1),pe.strm.avail_out===0))return oe}return pe.insert=0,Fe===L?(Ee(pe,!0),pe.strm.avail_out===0?Ae:Ce):pe.last_lit&&(Ee(pe,!1),pe.strm.avail_out===0)?oe:ge}(ce,he):S[ce.level].func(ce,he);if(ve!==Ae&&ve!==Ce||(ce.status=666),ve===oe||ve===Ae)return X.avail_out===0&&(ce.last_flush=-1),R;if(ve===ge&&(he===1?F._tr_align(ce):he!==5&&(F._tr_stored_block(ce,0,0,!1),he===3&&(Be(ce.head),ce.lookahead===0&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),Ie(X),X.avail_out===0))return ce.last_flush=-1,R}return he!==L?R:ce.wrap<=0?1:(ce.wrap===2?(Ue(ce,255&X.adler),Ue(ce,X.adler>>8&255),Ue(ce,X.adler>>16&255),Ue(ce,X.adler>>24&255),Ue(ce,255&X.total_in),Ue(ce,X.total_in>>8&255),Ue(ce,X.total_in>>16&255),Ue(ce,X.total_in>>24&255)):(De(ce,X.adler>>>16),De(ce,65535&X.adler)),Ie(X),0<ce.wrap&&(ce.wrap=-ce.wrap),ce.pending!==0?R:1)},w.deflateEnd=function(X){var he;return X&&X.state?(he=X.state.status)!==me&&he!==69&&he!==73&&he!==91&&he!==103&&he!==we&&he!==666?Ne(X,U):(X.state=null,he===we?Ne(X,-3):R):U},w.deflateSetDictionary=function(X,he){var ue,ce,se,xe,Se,ve,pe,Fe,Re=he.length;if(!X||!X.state||(xe=(ue=X.state).wrap)===2||xe===1&&ue.status!==me||ue.lookahead)return U;for(xe===1&&(X.adler=E(X.adler,he,Re,0)),ue.wrap=0,Re>=ue.w_size&&(xe===0&&(Be(ue.head),ue.strstart=0,ue.block_start=0,ue.insert=0),Fe=new C.Buf8(ue.w_size),C.arraySet(Fe,he,Re-ue.w_size,ue.w_size,0),he=Fe,Re=ue.w_size),Se=X.avail_in,ve=X.next_in,pe=X.input,X.avail_in=Re,X.next_in=0,X.input=he,Pe(ue);ue.lookahead>=le;){for(ce=ue.strstart,se=ue.lookahead-(le-1);ue.ins_h=(ue.ins_h<<ue.hash_shift^ue.window[ce+le-1])&ue.hash_mask,ue.prev[ce&ue.w_mask]=ue.head[ue.ins_h],ue.head[ue.ins_h]=ce,ce++,--se;);ue.strstart=ce,ue.lookahead=le-1,Pe(ue)}return ue.strstart+=ue.lookahead,ue.block_start=ue.strstart,ue.insert=ue.lookahead,ue.lookahead=0,ue.match_length=ue.prev_length=le-1,ue.match_available=0,X.next_in=ve,X.input=pe,X.avail_in=Se,ue.wrap=xe,R},w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(x,b,w){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(x,b,w){b.exports=function(S,C){var F,E,k,D,M,L,R,U,j,H,z,V,G,$,K,Z,Q,ne,le,fe,be,me,we,oe,ge;F=S.state,E=S.next_in,oe=S.input,k=E+(S.avail_in-5),D=S.next_out,ge=S.output,M=D-(C-S.avail_out),L=D+(S.avail_out-257),R=F.dmax,U=F.wsize,j=F.whave,H=F.wnext,z=F.window,V=F.hold,G=F.bits,$=F.lencode,K=F.distcode,Z=(1<<F.lenbits)-1,Q=(1<<F.distbits)-1;e:do{G<15&&(V+=oe[E++]<<G,G+=8,V+=oe[E++]<<G,G+=8),ne=$[V&Z];t:for(;;){if(V>>>=le=ne>>>24,G-=le,(le=ne>>>16&255)===0)ge[D++]=65535&ne;else{if(!(16&le)){if(!(64&le)){ne=$[(65535&ne)+(V&(1<<le)-1)];continue t}if(32&le){F.mode=12;break e}S.msg="invalid literal/length code",F.mode=30;break e}fe=65535&ne,(le&=15)&&(G<le&&(V+=oe[E++]<<G,G+=8),fe+=V&(1<<le)-1,V>>>=le,G-=le),G<15&&(V+=oe[E++]<<G,G+=8,V+=oe[E++]<<G,G+=8),ne=K[V&Q];n:for(;;){if(V>>>=le=ne>>>24,G-=le,!(16&(le=ne>>>16&255))){if(!(64&le)){ne=K[(65535&ne)+(V&(1<<le)-1)];continue n}S.msg="invalid distance code",F.mode=30;break e}if(be=65535&ne,G<(le&=15)&&(V+=oe[E++]<<G,(G+=8)<le&&(V+=oe[E++]<<G,G+=8)),R<(be+=V&(1<<le)-1)){S.msg="invalid distance too far back",F.mode=30;break e}if(V>>>=le,G-=le,(le=D-M)<be){if(j<(le=be-le)&&F.sane){S.msg="invalid distance too far back",F.mode=30;break e}if(we=z,(me=0)===H){if(me+=U-le,le<fe){for(fe-=le;ge[D++]=z[me++],--le;);me=D-be,we=ge}}else if(H<le){if(me+=U+H-le,(le-=H)<fe){for(fe-=le;ge[D++]=z[me++],--le;);if(me=0,H<fe){for(fe-=le=H;ge[D++]=z[me++],--le;);me=D-be,we=ge}}}else if(me+=H-le,le<fe){for(fe-=le;ge[D++]=z[me++],--le;);me=D-be,we=ge}for(;2<fe;)ge[D++]=we[me++],ge[D++]=we[me++],ge[D++]=we[me++],fe-=3;fe&&(ge[D++]=we[me++],1<fe&&(ge[D++]=we[me++]))}else{for(me=D-be;ge[D++]=ge[me++],ge[D++]=ge[me++],ge[D++]=ge[me++],2<(fe-=3););fe&&(ge[D++]=ge[me++],1<fe&&(ge[D++]=ge[me++]))}break}}break}}while(E<k&&D<L);E-=fe=G>>3,V&=(1<<(G-=fe<<3))-1,S.next_in=E,S.next_out=D,S.avail_in=E<k?k-E+5:5-(E-k),S.avail_out=D<L?L-D+257:257-(D-L),F.hold=V,F.bits=G}},{}],49:[function(x,b,w){var S=x("../utils/common"),C=x("./adler32"),F=x("./crc32"),E=x("./inffast"),k=x("./inftrees"),D=1,M=2,L=0,R=-2,U=1,j=852,H=592;function z(me){return(me>>>24&255)+(me>>>8&65280)+((65280&me)<<8)+((255&me)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new S.Buf16(320),this.work=new S.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function G(me){var we;return me&&me.state?(we=me.state,me.total_in=me.total_out=we.total=0,me.msg="",we.wrap&&(me.adler=1&we.wrap),we.mode=U,we.last=0,we.havedict=0,we.dmax=32768,we.head=null,we.hold=0,we.bits=0,we.lencode=we.lendyn=new S.Buf32(j),we.distcode=we.distdyn=new S.Buf32(H),we.sane=1,we.back=-1,L):R}function $(me){var we;return me&&me.state?((we=me.state).wsize=0,we.whave=0,we.wnext=0,G(me)):R}function K(me,we){var oe,ge;return me&&me.state?(ge=me.state,we<0?(oe=0,we=-we):(oe=1+(we>>4),we<48&&(we&=15)),we&&(we<8||15<we)?R:(ge.window!==null&&ge.wbits!==we&&(ge.window=null),ge.wrap=oe,ge.wbits=we,$(me))):R}function Z(me,we){var oe,ge;return me?(ge=new V,(me.state=ge).window=null,(oe=K(me,we))!==L&&(me.state=null),oe):R}var Q,ne,le=!0;function fe(me){if(le){var we;for(Q=new S.Buf32(512),ne=new S.Buf32(32),we=0;we<144;)me.lens[we++]=8;for(;we<256;)me.lens[we++]=9;for(;we<280;)me.lens[we++]=7;for(;we<288;)me.lens[we++]=8;for(k(D,me.lens,0,288,Q,0,me.work,{bits:9}),we=0;we<32;)me.lens[we++]=5;k(M,me.lens,0,32,ne,0,me.work,{bits:5}),le=!1}me.lencode=Q,me.lenbits=9,me.distcode=ne,me.distbits=5}function be(me,we,oe,ge){var Ae,Ce=me.state;return Ce.window===null&&(Ce.wsize=1<<Ce.wbits,Ce.wnext=0,Ce.whave=0,Ce.window=new S.Buf8(Ce.wsize)),ge>=Ce.wsize?(S.arraySet(Ce.window,we,oe-Ce.wsize,Ce.wsize,0),Ce.wnext=0,Ce.whave=Ce.wsize):(ge<(Ae=Ce.wsize-Ce.wnext)&&(Ae=ge),S.arraySet(Ce.window,we,oe-ge,Ae,Ce.wnext),(ge-=Ae)?(S.arraySet(Ce.window,we,oe-ge,ge,0),Ce.wnext=ge,Ce.whave=Ce.wsize):(Ce.wnext+=Ae,Ce.wnext===Ce.wsize&&(Ce.wnext=0),Ce.whave<Ce.wsize&&(Ce.whave+=Ae))),0}w.inflateReset=$,w.inflateReset2=K,w.inflateResetKeep=G,w.inflateInit=function(me){return Z(me,15)},w.inflateInit2=Z,w.inflate=function(me,we){var oe,ge,Ae,Ce,Ne,Oe,Be,Ie,Ee,Ue,De,_e,Pe,re,ae,Y,W,ee,J,te,X,he,ue,ce,se=0,xe=new S.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!me||!me.state||!me.output||!me.input&&me.avail_in!==0)return R;(oe=me.state).mode===12&&(oe.mode=13),Ne=me.next_out,Ae=me.output,Be=me.avail_out,Ce=me.next_in,ge=me.input,Oe=me.avail_in,Ie=oe.hold,Ee=oe.bits,Ue=Oe,De=Be,he=L;e:for(;;)switch(oe.mode){case U:if(oe.wrap===0){oe.mode=13;break}for(;Ee<16;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(2&oe.wrap&&Ie===35615){xe[oe.check=0]=255&Ie,xe[1]=Ie>>>8&255,oe.check=F(oe.check,xe,2,0),Ee=Ie=0,oe.mode=2;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(1&oe.wrap)||(((255&Ie)<<8)+(Ie>>8))%31){me.msg="incorrect header check",oe.mode=30;break}if((15&Ie)!=8){me.msg="unknown compression method",oe.mode=30;break}if(Ee-=4,X=8+(15&(Ie>>>=4)),oe.wbits===0)oe.wbits=X;else if(X>oe.wbits){me.msg="invalid window size",oe.mode=30;break}oe.dmax=1<<X,me.adler=oe.check=1,oe.mode=512&Ie?10:12,Ee=Ie=0;break;case 2:for(;Ee<16;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(oe.flags=Ie,(255&oe.flags)!=8){me.msg="unknown compression method",oe.mode=30;break}if(57344&oe.flags){me.msg="unknown header flags set",oe.mode=30;break}oe.head&&(oe.head.text=Ie>>8&1),512&oe.flags&&(xe[0]=255&Ie,xe[1]=Ie>>>8&255,oe.check=F(oe.check,xe,2,0)),Ee=Ie=0,oe.mode=3;case 3:for(;Ee<32;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}oe.head&&(oe.head.time=Ie),512&oe.flags&&(xe[0]=255&Ie,xe[1]=Ie>>>8&255,xe[2]=Ie>>>16&255,xe[3]=Ie>>>24&255,oe.check=F(oe.check,xe,4,0)),Ee=Ie=0,oe.mode=4;case 4:for(;Ee<16;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}oe.head&&(oe.head.xflags=255&Ie,oe.head.os=Ie>>8),512&oe.flags&&(xe[0]=255&Ie,xe[1]=Ie>>>8&255,oe.check=F(oe.check,xe,2,0)),Ee=Ie=0,oe.mode=5;case 5:if(1024&oe.flags){for(;Ee<16;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}oe.length=Ie,oe.head&&(oe.head.extra_len=Ie),512&oe.flags&&(xe[0]=255&Ie,xe[1]=Ie>>>8&255,oe.check=F(oe.check,xe,2,0)),Ee=Ie=0}else oe.head&&(oe.head.extra=null);oe.mode=6;case 6:if(1024&oe.flags&&(Oe<(_e=oe.length)&&(_e=Oe),_e&&(oe.head&&(X=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),S.arraySet(oe.head.extra,ge,Ce,_e,X)),512&oe.flags&&(oe.check=F(oe.check,ge,_e,Ce)),Oe-=_e,Ce+=_e,oe.length-=_e),oe.length))break e;oe.length=0,oe.mode=7;case 7:if(2048&oe.flags){if(Oe===0)break e;for(_e=0;X=ge[Ce+_e++],oe.head&&X&&oe.length<65536&&(oe.head.name+=String.fromCharCode(X)),X&&_e<Oe;);if(512&oe.flags&&(oe.check=F(oe.check,ge,_e,Ce)),Oe-=_e,Ce+=_e,X)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=8;case 8:if(4096&oe.flags){if(Oe===0)break e;for(_e=0;X=ge[Ce+_e++],oe.head&&X&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(X)),X&&_e<Oe;);if(512&oe.flags&&(oe.check=F(oe.check,ge,_e,Ce)),Oe-=_e,Ce+=_e,X)break e}else oe.head&&(oe.head.comment=null);oe.mode=9;case 9:if(512&oe.flags){for(;Ee<16;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(Ie!==(65535&oe.check)){me.msg="header crc mismatch",oe.mode=30;break}Ee=Ie=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),me.adler=oe.check=0,oe.mode=12;break;case 10:for(;Ee<32;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}me.adler=oe.check=z(Ie),Ee=Ie=0,oe.mode=11;case 11:if(oe.havedict===0)return me.next_out=Ne,me.avail_out=Be,me.next_in=Ce,me.avail_in=Oe,oe.hold=Ie,oe.bits=Ee,2;me.adler=oe.check=1,oe.mode=12;case 12:if(we===5||we===6)break e;case 13:if(oe.last){Ie>>>=7&Ee,Ee-=7&Ee,oe.mode=27;break}for(;Ee<3;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}switch(oe.last=1&Ie,Ee-=1,3&(Ie>>>=1)){case 0:oe.mode=14;break;case 1:if(fe(oe),oe.mode=20,we!==6)break;Ie>>>=2,Ee-=2;break e;case 2:oe.mode=17;break;case 3:me.msg="invalid block type",oe.mode=30}Ie>>>=2,Ee-=2;break;case 14:for(Ie>>>=7&Ee,Ee-=7&Ee;Ee<32;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if((65535&Ie)!=(Ie>>>16^65535)){me.msg="invalid stored block lengths",oe.mode=30;break}if(oe.length=65535&Ie,Ee=Ie=0,oe.mode=15,we===6)break e;case 15:oe.mode=16;case 16:if(_e=oe.length){if(Oe<_e&&(_e=Oe),Be<_e&&(_e=Be),_e===0)break e;S.arraySet(Ae,ge,Ce,_e,Ne),Oe-=_e,Ce+=_e,Be-=_e,Ne+=_e,oe.length-=_e;break}oe.mode=12;break;case 17:for(;Ee<14;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(oe.nlen=257+(31&Ie),Ie>>>=5,Ee-=5,oe.ndist=1+(31&Ie),Ie>>>=5,Ee-=5,oe.ncode=4+(15&Ie),Ie>>>=4,Ee-=4,286<oe.nlen||30<oe.ndist){me.msg="too many length or distance symbols",oe.mode=30;break}oe.have=0,oe.mode=18;case 18:for(;oe.have<oe.ncode;){for(;Ee<3;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}oe.lens[Se[oe.have++]]=7&Ie,Ie>>>=3,Ee-=3}for(;oe.have<19;)oe.lens[Se[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,ue={bits:oe.lenbits},he=k(0,oe.lens,0,19,oe.lencode,0,oe.work,ue),oe.lenbits=ue.bits,he){me.msg="invalid code lengths set",oe.mode=30;break}oe.have=0,oe.mode=19;case 19:for(;oe.have<oe.nlen+oe.ndist;){for(;Y=(se=oe.lencode[Ie&(1<<oe.lenbits)-1])>>>16&255,W=65535&se,!((ae=se>>>24)<=Ee);){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(W<16)Ie>>>=ae,Ee-=ae,oe.lens[oe.have++]=W;else{if(W===16){for(ce=ae+2;Ee<ce;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(Ie>>>=ae,Ee-=ae,oe.have===0){me.msg="invalid bit length repeat",oe.mode=30;break}X=oe.lens[oe.have-1],_e=3+(3&Ie),Ie>>>=2,Ee-=2}else if(W===17){for(ce=ae+3;Ee<ce;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}Ee-=ae,X=0,_e=3+(7&(Ie>>>=ae)),Ie>>>=3,Ee-=3}else{for(ce=ae+7;Ee<ce;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}Ee-=ae,X=0,_e=11+(127&(Ie>>>=ae)),Ie>>>=7,Ee-=7}if(oe.have+_e>oe.nlen+oe.ndist){me.msg="invalid bit length repeat",oe.mode=30;break}for(;_e--;)oe.lens[oe.have++]=X}}if(oe.mode===30)break;if(oe.lens[256]===0){me.msg="invalid code -- missing end-of-block",oe.mode=30;break}if(oe.lenbits=9,ue={bits:oe.lenbits},he=k(D,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,ue),oe.lenbits=ue.bits,he){me.msg="invalid literal/lengths set",oe.mode=30;break}if(oe.distbits=6,oe.distcode=oe.distdyn,ue={bits:oe.distbits},he=k(M,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,ue),oe.distbits=ue.bits,he){me.msg="invalid distances set",oe.mode=30;break}if(oe.mode=20,we===6)break e;case 20:oe.mode=21;case 21:if(6<=Oe&&258<=Be){me.next_out=Ne,me.avail_out=Be,me.next_in=Ce,me.avail_in=Oe,oe.hold=Ie,oe.bits=Ee,E(me,De),Ne=me.next_out,Ae=me.output,Be=me.avail_out,Ce=me.next_in,ge=me.input,Oe=me.avail_in,Ie=oe.hold,Ee=oe.bits,oe.mode===12&&(oe.back=-1);break}for(oe.back=0;Y=(se=oe.lencode[Ie&(1<<oe.lenbits)-1])>>>16&255,W=65535&se,!((ae=se>>>24)<=Ee);){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(Y&&!(240&Y)){for(ee=ae,J=Y,te=W;Y=(se=oe.lencode[te+((Ie&(1<<ee+J)-1)>>ee)])>>>16&255,W=65535&se,!(ee+(ae=se>>>24)<=Ee);){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}Ie>>>=ee,Ee-=ee,oe.back+=ee}if(Ie>>>=ae,Ee-=ae,oe.back+=ae,oe.length=W,Y===0){oe.mode=26;break}if(32&Y){oe.back=-1,oe.mode=12;break}if(64&Y){me.msg="invalid literal/length code",oe.mode=30;break}oe.extra=15&Y,oe.mode=22;case 22:if(oe.extra){for(ce=oe.extra;Ee<ce;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}oe.length+=Ie&(1<<oe.extra)-1,Ie>>>=oe.extra,Ee-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=23;case 23:for(;Y=(se=oe.distcode[Ie&(1<<oe.distbits)-1])>>>16&255,W=65535&se,!((ae=se>>>24)<=Ee);){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(!(240&Y)){for(ee=ae,J=Y,te=W;Y=(se=oe.distcode[te+((Ie&(1<<ee+J)-1)>>ee)])>>>16&255,W=65535&se,!(ee+(ae=se>>>24)<=Ee);){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}Ie>>>=ee,Ee-=ee,oe.back+=ee}if(Ie>>>=ae,Ee-=ae,oe.back+=ae,64&Y){me.msg="invalid distance code",oe.mode=30;break}oe.offset=W,oe.extra=15&Y,oe.mode=24;case 24:if(oe.extra){for(ce=oe.extra;Ee<ce;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}oe.offset+=Ie&(1<<oe.extra)-1,Ie>>>=oe.extra,Ee-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){me.msg="invalid distance too far back",oe.mode=30;break}oe.mode=25;case 25:if(Be===0)break e;if(_e=De-Be,oe.offset>_e){if((_e=oe.offset-_e)>oe.whave&&oe.sane){me.msg="invalid distance too far back",oe.mode=30;break}Pe=_e>oe.wnext?(_e-=oe.wnext,oe.wsize-_e):oe.wnext-_e,_e>oe.length&&(_e=oe.length),re=oe.window}else re=Ae,Pe=Ne-oe.offset,_e=oe.length;for(Be<_e&&(_e=Be),Be-=_e,oe.length-=_e;Ae[Ne++]=re[Pe++],--_e;);oe.length===0&&(oe.mode=21);break;case 26:if(Be===0)break e;Ae[Ne++]=oe.length,Be--,oe.mode=21;break;case 27:if(oe.wrap){for(;Ee<32;){if(Oe===0)break e;Oe--,Ie|=ge[Ce++]<<Ee,Ee+=8}if(De-=Be,me.total_out+=De,oe.total+=De,De&&(me.adler=oe.check=oe.flags?F(oe.check,Ae,De,Ne-De):C(oe.check,Ae,De,Ne-De)),De=Be,(oe.flags?Ie:z(Ie))!==oe.check){me.msg="incorrect data check",oe.mode=30;break}Ee=Ie=0}oe.mode=28;case 28:if(oe.wrap&&oe.flags){for(;Ee<32;){if(Oe===0)break e;Oe--,Ie+=ge[Ce++]<<Ee,Ee+=8}if(Ie!==(4294967295&oe.total)){me.msg="incorrect length check",oe.mode=30;break}Ee=Ie=0}oe.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return R}return me.next_out=Ne,me.avail_out=Be,me.next_in=Ce,me.avail_in=Oe,oe.hold=Ie,oe.bits=Ee,(oe.wsize||De!==me.avail_out&&oe.mode<30&&(oe.mode<27||we!==4))&&be(me,me.output,me.next_out,De-me.avail_out)?(oe.mode=31,-4):(Ue-=me.avail_in,De-=me.avail_out,me.total_in+=Ue,me.total_out+=De,oe.total+=De,oe.wrap&&De&&(me.adler=oe.check=oe.flags?F(oe.check,Ae,De,me.next_out-De):C(oe.check,Ae,De,me.next_out-De)),me.data_type=oe.bits+(oe.last?64:0)+(oe.mode===12?128:0)+(oe.mode===20||oe.mode===15?256:0),(Ue==0&&De===0||we===4)&&he===L&&(he=-5),he)},w.inflateEnd=function(me){if(!me||!me.state)return R;var we=me.state;return we.window&&(we.window=null),me.state=null,L},w.inflateGetHeader=function(me,we){var oe;return me&&me.state&&2&(oe=me.state).wrap?((oe.head=we).done=!1,L):R},w.inflateSetDictionary=function(me,we){var oe,ge=we.length;return me&&me.state?(oe=me.state).wrap!==0&&oe.mode!==11?R:oe.mode===11&&C(1,we,ge,0)!==oe.check?-3:be(me,we,ge,ge)?(oe.mode=31,-4):(oe.havedict=1,L):R},w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(x,b,w){var S=x("../utils/common"),C=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],F=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(D,M,L,R,U,j,H,z){var V,G,$,K,Z,Q,ne,le,fe,be=z.bits,me=0,we=0,oe=0,ge=0,Ae=0,Ce=0,Ne=0,Oe=0,Be=0,Ie=0,Ee=null,Ue=0,De=new S.Buf16(16),_e=new S.Buf16(16),Pe=null,re=0;for(me=0;me<=15;me++)De[me]=0;for(we=0;we<R;we++)De[M[L+we]]++;for(Ae=be,ge=15;1<=ge&&De[ge]===0;ge--);if(ge<Ae&&(Ae=ge),ge===0)return U[j++]=20971520,U[j++]=20971520,z.bits=1,0;for(oe=1;oe<ge&&De[oe]===0;oe++);for(Ae<oe&&(Ae=oe),me=Oe=1;me<=15;me++)if(Oe<<=1,(Oe-=De[me])<0)return-1;if(0<Oe&&(D===0||ge!==1))return-1;for(_e[1]=0,me=1;me<15;me++)_e[me+1]=_e[me]+De[me];for(we=0;we<R;we++)M[L+we]!==0&&(H[_e[M[L+we]]++]=we);if(Q=D===0?(Ee=Pe=H,19):D===1?(Ee=C,Ue-=257,Pe=F,re-=257,256):(Ee=E,Pe=k,-1),me=oe,Z=j,Ne=we=Ie=0,$=-1,K=(Be=1<<(Ce=Ae))-1,D===1&&852<Be||D===2&&592<Be)return 1;for(;;){for(ne=me-Ne,fe=H[we]<Q?(le=0,H[we]):H[we]>Q?(le=Pe[re+H[we]],Ee[Ue+H[we]]):(le=96,0),V=1<<me-Ne,oe=G=1<<Ce;U[Z+(Ie>>Ne)+(G-=V)]=ne<<24|le<<16|fe|0,G!==0;);for(V=1<<me-1;Ie&V;)V>>=1;if(V!==0?(Ie&=V-1,Ie+=V):Ie=0,we++,--De[me]==0){if(me===ge)break;me=M[L+H[we]]}if(Ae<me&&(Ie&K)!==$){for(Ne===0&&(Ne=Ae),Z+=oe,Oe=1<<(Ce=me-Ne);Ce+Ne<ge&&!((Oe-=De[Ce+Ne])<=0);)Ce++,Oe<<=1;if(Be+=1<<Ce,D===1&&852<Be||D===2&&592<Be)return 1;U[$=Ie&K]=Ae<<24|Ce<<16|Z-j|0}}return Ie!==0&&(U[Z+Ie]=me-Ne<<24|64<<16|0),z.bits=Ae,0}},{"../utils/common":41}],51:[function(x,b,w){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(x,b,w){var S=x("../utils/common"),C=0,F=1;function E(se){for(var xe=se.length;0<=--xe;)se[xe]=0}var k=0,D=29,M=256,L=M+1+D,R=30,U=19,j=2*L+1,H=15,z=16,V=7,G=256,$=16,K=17,Z=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=new Array(2*(L+2));E(be);var me=new Array(2*R);E(me);var we=new Array(512);E(we);var oe=new Array(256);E(oe);var ge=new Array(D);E(ge);var Ae,Ce,Ne,Oe=new Array(R);function Be(se,xe,Se,ve,pe){this.static_tree=se,this.extra_bits=xe,this.extra_base=Se,this.elems=ve,this.max_length=pe,this.has_stree=se&&se.length}function Ie(se,xe){this.dyn_tree=se,this.max_code=0,this.stat_desc=xe}function Ee(se){return se<256?we[se]:we[256+(se>>>7)]}function Ue(se,xe){se.pending_buf[se.pending++]=255&xe,se.pending_buf[se.pending++]=xe>>>8&255}function De(se,xe,Se){se.bi_valid>z-Se?(se.bi_buf|=xe<<se.bi_valid&65535,Ue(se,se.bi_buf),se.bi_buf=xe>>z-se.bi_valid,se.bi_valid+=Se-z):(se.bi_buf|=xe<<se.bi_valid&65535,se.bi_valid+=Se)}function _e(se,xe,Se){De(se,Se[2*xe],Se[2*xe+1])}function Pe(se,xe){for(var Se=0;Se|=1&se,se>>>=1,Se<<=1,0<--xe;);return Se>>>1}function re(se,xe,Se){var ve,pe,Fe=new Array(H+1),Re=0;for(ve=1;ve<=H;ve++)Fe[ve]=Re=Re+Se[ve-1]<<1;for(pe=0;pe<=xe;pe++){var Te=se[2*pe+1];Te!==0&&(se[2*pe]=Pe(Fe[Te]++,Te))}}function ae(se){var xe;for(xe=0;xe<L;xe++)se.dyn_ltree[2*xe]=0;for(xe=0;xe<R;xe++)se.dyn_dtree[2*xe]=0;for(xe=0;xe<U;xe++)se.bl_tree[2*xe]=0;se.dyn_ltree[2*G]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function Y(se){8<se.bi_valid?Ue(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function W(se,xe,Se,ve){var pe=2*xe,Fe=2*Se;return se[pe]<se[Fe]||se[pe]===se[Fe]&&ve[xe]<=ve[Se]}function ee(se,xe,Se){for(var ve=se.heap[Se],pe=Se<<1;pe<=se.heap_len&&(pe<se.heap_len&&W(xe,se.heap[pe+1],se.heap[pe],se.depth)&&pe++,!W(xe,ve,se.heap[pe],se.depth));)se.heap[Se]=se.heap[pe],Se=pe,pe<<=1;se.heap[Se]=ve}function J(se,xe,Se){var ve,pe,Fe,Re,Te=0;if(se.last_lit!==0)for(;ve=se.pending_buf[se.d_buf+2*Te]<<8|se.pending_buf[se.d_buf+2*Te+1],pe=se.pending_buf[se.l_buf+Te],Te++,ve===0?_e(se,pe,xe):(_e(se,(Fe=oe[pe])+M+1,xe),(Re=Q[Fe])!==0&&De(se,pe-=ge[Fe],Re),_e(se,Fe=Ee(--ve),Se),(Re=ne[Fe])!==0&&De(se,ve-=Oe[Fe],Re)),Te<se.last_lit;);_e(se,G,xe)}function te(se,xe){var Se,ve,pe,Fe=xe.dyn_tree,Re=xe.stat_desc.static_tree,Te=xe.stat_desc.has_stree,Le=xe.stat_desc.elems,ye=-1;for(se.heap_len=0,se.heap_max=j,Se=0;Se<Le;Se++)Fe[2*Se]!==0?(se.heap[++se.heap_len]=ye=Se,se.depth[Se]=0):Fe[2*Se+1]=0;for(;se.heap_len<2;)Fe[2*(pe=se.heap[++se.heap_len]=ye<2?++ye:0)]=1,se.depth[pe]=0,se.opt_len--,Te&&(se.static_len-=Re[2*pe+1]);for(xe.max_code=ye,Se=se.heap_len>>1;1<=Se;Se--)ee(se,Fe,Se);for(pe=Le;Se=se.heap[1],se.heap[1]=se.heap[se.heap_len--],ee(se,Fe,1),ve=se.heap[1],se.heap[--se.heap_max]=Se,se.heap[--se.heap_max]=ve,Fe[2*pe]=Fe[2*Se]+Fe[2*ve],se.depth[pe]=(se.depth[Se]>=se.depth[ve]?se.depth[Se]:se.depth[ve])+1,Fe[2*Se+1]=Fe[2*ve+1]=pe,se.heap[1]=pe++,ee(se,Fe,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],function(ie,de){var ke,Me,je,He,ze,Ve,Ge=de.dyn_tree,$e=de.max_code,Xe=de.stat_desc.static_tree,We=de.stat_desc.has_stree,Ye=de.stat_desc.extra_bits,Ke=de.stat_desc.extra_base,qe=de.stat_desc.max_length,Qe=0;for(He=0;He<=H;He++)ie.bl_count[He]=0;for(Ge[2*ie.heap[ie.heap_max]+1]=0,ke=ie.heap_max+1;ke<j;ke++)qe<(He=Ge[2*Ge[2*(Me=ie.heap[ke])+1]+1]+1)&&(He=qe,Qe++),Ge[2*Me+1]=He,$e<Me||(ie.bl_count[He]++,ze=0,Ke<=Me&&(ze=Ye[Me-Ke]),Ve=Ge[2*Me],ie.opt_len+=Ve*(He+ze),We&&(ie.static_len+=Ve*(Xe[2*Me+1]+ze)));if(Qe!==0){do{for(He=qe-1;ie.bl_count[He]===0;)He--;ie.bl_count[He]--,ie.bl_count[He+1]+=2,ie.bl_count[qe]--,Qe-=2}while(0<Qe);for(He=qe;He!==0;He--)for(Me=ie.bl_count[He];Me!==0;)$e<(je=ie.heap[--ke])||(Ge[2*je+1]!==He&&(ie.opt_len+=(He-Ge[2*je+1])*Ge[2*je],Ge[2*je+1]=He),Me--)}}(se,xe),re(Fe,ye,se.bl_count)}function X(se,xe,Se){var ve,pe,Fe=-1,Re=xe[1],Te=0,Le=7,ye=4;for(Re===0&&(Le=138,ye=3),xe[2*(Se+1)+1]=65535,ve=0;ve<=Se;ve++)pe=Re,Re=xe[2*(ve+1)+1],++Te<Le&&pe===Re||(Te<ye?se.bl_tree[2*pe]+=Te:pe!==0?(pe!==Fe&&se.bl_tree[2*pe]++,se.bl_tree[2*$]++):Te<=10?se.bl_tree[2*K]++:se.bl_tree[2*Z]++,Fe=pe,ye=(Te=0)===Re?(Le=138,3):pe===Re?(Le=6,3):(Le=7,4))}function he(se,xe,Se){var ve,pe,Fe=-1,Re=xe[1],Te=0,Le=7,ye=4;for(Re===0&&(Le=138,ye=3),ve=0;ve<=Se;ve++)if(pe=Re,Re=xe[2*(ve+1)+1],!(++Te<Le&&pe===Re)){if(Te<ye)for(;_e(se,pe,se.bl_tree),--Te!=0;);else pe!==0?(pe!==Fe&&(_e(se,pe,se.bl_tree),Te--),_e(se,$,se.bl_tree),De(se,Te-3,2)):Te<=10?(_e(se,K,se.bl_tree),De(se,Te-3,3)):(_e(se,Z,se.bl_tree),De(se,Te-11,7));Fe=pe,ye=(Te=0)===Re?(Le=138,3):pe===Re?(Le=6,3):(Le=7,4)}}E(Oe);var ue=!1;function ce(se,xe,Se,ve){De(se,(k<<1)+(ve?1:0),3),function(pe,Fe,Re,Te){Y(pe),Te&&(Ue(pe,Re),Ue(pe,~Re)),S.arraySet(pe.pending_buf,pe.window,Fe,Re,pe.pending),pe.pending+=Re}(se,xe,Se,!0)}w._tr_init=function(se){ue||(function(){var xe,Se,ve,pe,Fe,Re=new Array(H+1);for(pe=ve=0;pe<D-1;pe++)for(ge[pe]=ve,xe=0;xe<1<<Q[pe];xe++)oe[ve++]=pe;for(oe[ve-1]=pe,pe=Fe=0;pe<16;pe++)for(Oe[pe]=Fe,xe=0;xe<1<<ne[pe];xe++)we[Fe++]=pe;for(Fe>>=7;pe<R;pe++)for(Oe[pe]=Fe<<7,xe=0;xe<1<<ne[pe]-7;xe++)we[256+Fe++]=pe;for(Se=0;Se<=H;Se++)Re[Se]=0;for(xe=0;xe<=143;)be[2*xe+1]=8,xe++,Re[8]++;for(;xe<=255;)be[2*xe+1]=9,xe++,Re[9]++;for(;xe<=279;)be[2*xe+1]=7,xe++,Re[7]++;for(;xe<=287;)be[2*xe+1]=8,xe++,Re[8]++;for(re(be,L+1,Re),xe=0;xe<R;xe++)me[2*xe+1]=5,me[2*xe]=Pe(xe,5);Ae=new Be(be,Q,M+1,L,H),Ce=new Be(me,ne,0,R,H),Ne=new Be(new Array(0),le,0,U,V)}(),ue=!0),se.l_desc=new Ie(se.dyn_ltree,Ae),se.d_desc=new Ie(se.dyn_dtree,Ce),se.bl_desc=new Ie(se.bl_tree,Ne),se.bi_buf=0,se.bi_valid=0,ae(se)},w._tr_stored_block=ce,w._tr_flush_block=function(se,xe,Se,ve){var pe,Fe,Re=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=function(Te){var Le,ye=4093624447;for(Le=0;Le<=31;Le++,ye>>>=1)if(1&ye&&Te.dyn_ltree[2*Le]!==0)return C;if(Te.dyn_ltree[18]!==0||Te.dyn_ltree[20]!==0||Te.dyn_ltree[26]!==0)return F;for(Le=32;Le<M;Le++)if(Te.dyn_ltree[2*Le]!==0)return F;return C}(se)),te(se,se.l_desc),te(se,se.d_desc),Re=function(Te){var Le;for(X(Te,Te.dyn_ltree,Te.l_desc.max_code),X(Te,Te.dyn_dtree,Te.d_desc.max_code),te(Te,Te.bl_desc),Le=U-1;3<=Le&&Te.bl_tree[2*fe[Le]+1]===0;Le--);return Te.opt_len+=3*(Le+1)+5+5+4,Le}(se),pe=se.opt_len+3+7>>>3,(Fe=se.static_len+3+7>>>3)<=pe&&(pe=Fe)):pe=Fe=Se+5,Se+4<=pe&&xe!==-1?ce(se,xe,Se,ve):se.strategy===4||Fe===pe?(De(se,2+(ve?1:0),3),J(se,be,me)):(De(se,4+(ve?1:0),3),function(Te,Le,ye,ie){var de;for(De(Te,Le-257,5),De(Te,ye-1,5),De(Te,ie-4,4),de=0;de<ie;de++)De(Te,Te.bl_tree[2*fe[de]+1],3);he(Te,Te.dyn_ltree,Le-1),he(Te,Te.dyn_dtree,ye-1)}(se,se.l_desc.max_code+1,se.d_desc.max_code+1,Re+1),J(se,se.dyn_ltree,se.dyn_dtree)),ae(se),ve&&Y(se)},w._tr_tally=function(se,xe,Se){return se.pending_buf[se.d_buf+2*se.last_lit]=xe>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&xe,se.pending_buf[se.l_buf+se.last_lit]=255&Se,se.last_lit++,xe===0?se.dyn_ltree[2*Se]++:(se.matches++,xe--,se.dyn_ltree[2*(oe[Se]+M+1)]++,se.dyn_dtree[2*Ee(xe)]++),se.last_lit===se.lit_bufsize-1},w._tr_align=function(se){De(se,2,3),_e(se,G,be),function(xe){xe.bi_valid===16?(Ue(xe,xe.bi_buf),xe.bi_buf=0,xe.bi_valid=0):8<=xe.bi_valid&&(xe.pending_buf[xe.pending++]=255&xe.bi_buf,xe.bi_buf>>=8,xe.bi_valid-=8)}(se)}},{"../utils/common":41}],53:[function(x,b,w){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(x,b,w){(function(S){(function(C,F){if(!C.setImmediate){var E,k,D,M,L=1,R={},U=!1,j=C.document,H=Object.getPrototypeOf&&Object.getPrototypeOf(C);H=H&&H.setTimeout?H:C,E={}.toString.call(C.process)==="[object process]"?function($){process.nextTick(function(){V($)})}:function(){if(C.postMessage&&!C.importScripts){var $=!0,K=C.onmessage;return C.onmessage=function(){$=!1},C.postMessage("","*"),C.onmessage=K,$}}()?(M="setImmediate$"+Math.random()+"$",C.addEventListener?C.addEventListener("message",G,!1):C.attachEvent("onmessage",G),function($){C.postMessage(M+$,"*")}):C.MessageChannel?((D=new MessageChannel).port1.onmessage=function($){V($.data)},function($){D.port2.postMessage($)}):j&&"onreadystatechange"in j.createElement("script")?(k=j.documentElement,function($){var K=j.createElement("script");K.onreadystatechange=function(){V($),K.onreadystatechange=null,k.removeChild(K),K=null},k.appendChild(K)}):function($){setTimeout(V,0,$)},H.setImmediate=function($){typeof $!="function"&&($=new Function(""+$));for(var K=new Array(arguments.length-1),Z=0;Z<K.length;Z++)K[Z]=arguments[Z+1];var Q={callback:$,args:K};return R[L]=Q,E(L),L++},H.clearImmediate=z}function z($){delete R[$]}function V($){if(U)setTimeout(V,0,$);else{var K=R[$];if(K){U=!0;try{(function(Z){var Q=Z.callback,ne=Z.args;switch(ne.length){case 0:Q();break;case 1:Q(ne[0]);break;case 2:Q(ne[0],ne[1]);break;case 3:Q(ne[0],ne[1],ne[2]);break;default:Q.apply(F,ne)}})(K)}finally{z($),U=!1}}}}function G($){$.source===C&&typeof $.data=="string"&&$.data.indexOf(M)===0&&V(+$.data.slice(M.length))}})(typeof self>"u"?S===void 0?this:S:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports),_sfc_main$r={components:{UploadingField},data(){return{isActive:!1,counter:0}},props:{errorCertificateMessage:"",mimeTypeString:""},computed:{errorMessage:{get(){return this.errorCertificateMessage},set(g){this.$emit("update:errorCertificateMessage",g)}}},emits:["update:errorCertificateMessage","uploaded"],methods:{onChangeFile:async function(g){let d=g.name.split(".").pop(),x=[];if(d==="zip"){let b=await new JSZip.loadAsync(g,{createFolders:!1});for(const w in b.files){const S=b.files[w];S.dir||x.push({name:w.split("/").pop(),base:await S.async("base64"),approve:!0})}}else x.push({name:g.name,base:g,approve:!0});this.$emit("uploaded",x)}}},_hoisted_1$p={class:"container flex-col"},_hoisted_2$i={class:"box1"},_hoisted_3$e=["textContent"];function _sfc_render$q(g,d,x,b,w,S){const C=resolveComponent("uploading-field");return openBlock(),createElementBlock("div",_hoisted_1$p,[createBaseVNode("header",_hoisted_2$i,[renderSlot(g.$slots,"header",{},void 0,!0)]),createVNode(C,{class:"box2",message:S.errorMessage,"onUpdate:message":d[0]||(d[0]=F=>S.errorMessage=F),"mime-type-string":x.mimeTypeString,onFileChanged:S.onChangeFile},null,8,["message","mime-type-string","onFileChanged"]),createBaseVNode("p",{class:"errorMessage",textContent:toDisplayString(S.errorMessage)},null,8,_hoisted_3$e)])}const PageUpload=_export_sfc(_sfc_main$r,[["render",_sfc_render$q],["__scopeId","data-v-59fe249b"]]),_sfc_main$q={props:{width:"100%",height:"100%"}},__injectCSSVars__=()=>{useCssVars(g=>({"7a087834":g.width,faa481f2:g.height}))},__setup__=_sfc_main$q.setup;_sfc_main$q.setup=__setup__?(g,d)=>(__injectCSSVars__(),__setup__(g,d)):__injectCSSVars__;const _withScopeId$7=g=>(pushScopeId("data-v-422895f0"),g=g(),popScopeId(),g),_hoisted_1$o={class:"preload-container"},_hoisted_2$h=_withScopeId$7(()=>createBaseVNode("div",{class:"preloader"},[createBaseVNode("div",{class:"preloader__row"},[createBaseVNode("div",{class:"preloader__item"}),createBaseVNode("div",{class:"preloader__item"})])],-1)),_hoisted_3$d=[_hoisted_2$h];function _sfc_render$p(g,d,x,b,w,S){return openBlock(),createElementBlock("div",_hoisted_1$o,_hoisted_3$d)}const Preloader=_export_sfc(_sfc_main$q,[["render",_sfc_render$p],["__scopeId","data-v-422895f0"]]),bufferToFile=function(g,d,x){let b=new Blob([g],{type:x});return new File([b],d,{type:x})},download=function(g,d){let x=window.URL.createObjectURL(g);downloadURL(x,d),setTimeout(function(){return window.URL.revokeObjectURL(x)},1e3)},downloadURL=function(g,d){let x;x=document.createElement("a"),x.href=g,x.download=d,document.body.appendChild(x),x.style.display="none",x.click(),x.remove()},_sfc_main$p={name:"PageDownloadZip",props:["files","signResult"],methods:{async downloadZip(){const g=this.files.filter(b=>b.approve===!0);for(let b=0;b<g.length;b++)g[b].sig=this.signResult.signatures[b];let d=new JSZip;g.forEach(b=>{const w=d.folder(b.name);w.file(b.name,b.base,{base64:!0}),w.file(`${b.name}.sig`,b.sig)});const x=await d.generateAsync({type:"blob"});download(x,"test.zip")}}};function _sfc_render$o(g,d,x,b,w,S){return openBlock(),createElementBlock("label",{class:"custom-button-2",style:{width:"150px","align-self":"center"},onClick:d[0]||(d[0]=(...C)=>S.downloadZip&&S.downloadZip(...C))}," Скачать ")}const PageDownloadZip=_export_sfc(_sfc_main$p,[["render",_sfc_render$o]]),_sfc_main$o={components:{preloader:Preloader},props:["certList"],data(){return{certificateSelected:!1,loading:!0,showAll:!1,selectedCertName:""}},watch:{certList(g){g.length&&(this.loading=!1),console.debug(g)}},emits:["cancel","get-certificate"],methods:{onClickCert:function(g,d,x){if(!d||(this.selectedCertName=x.removeEnclosingQuotes(),g.currentTarget.classList.contains("selected")))return;let b=document.getElementsByClassName("selected");b.length>0&&b[0].classList.remove("selected"),g.currentTarget.classList.add("selected"),this.certificateSelected=!0},onGetSelectedCert:function(){let d=document.getElementsByClassName("selected")[0].getAttribute("data-thumbprint"),x=this.certList.find(b=>b.thumbprint===d);x.CN=x.CN.removeEnclosingQuotes().removeDuplicateQuotes(),this.$emit("get-certificate",x)},toggleSlider:function(){this.showAll=!this.showAll,document.querySelector(".slider").classList.toggle("right")}},mounted(){this.certList instanceof Array&&this.certList.length>0&&(this.loading=!1)}},_withScopeId$6=g=>(pushScopeId("data-v-aec87ae7"),g=g(),popScopeId(),g),_hoisted_1$n={class:"modal-mask"},_hoisted_2$g={class:"modal-wrapper"},_hoisted_3$c={class:"modal-container",ondragstart:"return false"},_hoisted_4$8={class:"modal-header"},_hoisted_5$7=_withScopeId$6(()=>createBaseVNode("h2",null,"Выберите сертификат:",-1)),_hoisted_6$6=_withScopeId$6(()=>createBaseVNode("div",{class:"slider"},null,-1)),_hoisted_7$6=[_hoisted_6$6],_hoisted_8$2={class:"modal-body"},_hoisted_9$1={key:1,id:"certificate__keys__wrapper"},_hoisted_10$1=["onClick","data-thumbprint"],_hoisted_11$1=_withScopeId$6(()=>createBaseVNode("br",null,null,-1)),_hoisted_12$1={class:"modal-footer"};function _sfc_render$n(g,d,x,b,w,S){const C=resolveComponent("preloader");return openBlock(),createElementBlock("div",_hoisted_1$n,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$8,[renderSlot(g.$slots,"header",{},()=>[_hoisted_5$7,createBaseVNode("div",{class:"switch",onClick:d[0]||(d[0]=(...F)=>S.toggleSlider&&S.toggleSlider(...F))},_hoisted_7$6)],!0)]),createBaseVNode("div",_hoisted_8$2,[renderSlot(g.$slots,"body",{},()=>[w.loading?(openBlock(),createBlock(C,{key:0,height:"500px"})):(openBlock(),createElementBlock("section",_hoisted_9$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(x.certList,F=>withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["certificate__keys__content__block",{"non-valid-cert":!F.valid,"valid-cert":F.valid}]),onClick:E=>S.onClickCert(E,F.valid,F.name),onDblclick:d[1]||(d[1]=(...E)=>S.onGetSelectedCert&&S.onGetSelectedCert(...E)),"data-thumbprint":F.thumbprint},[createBaseVNode("h4",null,[createTextVNode(toDisplayString(F.name.removeEnclosingQuotes()),1),_hoisted_11$1,withDirectives(createBaseVNode("span",null,"(Не прошел проверку)",512),[[vShow,!F.valid]])]),createBaseVNode("ul",null,[createBaseVNode("li",null,"Серийный номер: "+toDisplayString(F.serialNumber),1),createBaseVNode("li",null,"Владелец: "+toDisplayString(F.name.removeEnclosingQuotes()),1),createBaseVNode("li",null,"Действителен: "+toDisplayString(F.validFromDate)+" по "+toDisplayString(F.validToDate),1)])],42,_hoisted_10$1)),[[vShow,F.valid|w.showAll]])),256))]))],!0)]),createBaseVNode("div",_hoisted_12$1,[renderSlot(g.$slots,"footer",{},()=>[w.certificateSelected?(openBlock(),createElementBlock("div",{key:0,class:"custom-button resume link",onClick:d[2]||(d[2]=(...F)=>S.onGetSelectedCert&&S.onGetSelectedCert(...F))}," Продолжить ("+toDisplayString(w.selectedCertName)+") ",1)):createCommentVNode("",!0),createBaseVNode("div",{class:"custom-button",onClick:d[3]||(d[3]=F=>g.$emit("cancel"))}," Отмена ")],!0)])])])])}const SelectCertModal=_export_sfc(_sfc_main$o,[["render",_sfc_render$n],["__scopeId","data-v-aec87ae7"]]),_sfc_main$n={name:"SelectedCertView",props:["certificate"],emits:["change"]},_withScopeId$5=g=>(pushScopeId("data-v-e731a779"),g=g(),popScopeId(),g),_hoisted_1$m={class:"certificate"},_hoisted_2$f={class:"selected-cert"},_hoisted_3$b=_withScopeId$5(()=>createBaseVNode("h4",null,"Выбранный сертификат:",-1));function _sfc_render$m(g,d,x,b,w,S){return openBlock(),createElementBlock("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$f,[_hoisted_3$b,createBaseVNode("ul",null,[createBaseVNode("li",null,"Владелец: ("+toDisplayString(x.certificate.CN)+")",1),createBaseVNode("li",null,"Издатель: ("+toDisplayString(x.certificate.issuerName)+")",1),createBaseVNode("li",null,"Действителен: (с "+toDisplayString(x.certificate.validFromDate)+" по "+toDisplayString(x.certificate.validToDate)+")",1)])]),createBaseVNode("label",{class:"custom-button-2",onClick:d[0]||(d[0]=C=>this.$emit("change"))}," Сменить сертификат ")])}const SelectedCertView=_export_sfc(_sfc_main$n,[["render",_sfc_render$m],["__scopeId","data-v-e731a779"]]),_sfc_main$m={name:"ApproveUploaded",props:["files"],emits:["update:files"],methods:{getTextButton(g){return g?"Исключить":"Вернуть"}}},_hoisted_1$l={style:{display:"flex","align-items":"center"}},_hoisted_2$e=["onClick","textContent"];function _sfc_render$l(g,d,x,b,w,S){return openBlock(!0),createElementBlock(Fragment,null,renderList(x.files,(C,F)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["file",{"file-cancel":!C.approve}])},[createBaseVNode("h4",_hoisted_1$l,toDisplayString(C.name),1),createBaseVNode("label",{class:"custom-button-2 delete-bth",onClick:E=>C.approve=!C.approve,textContent:toDisplayString(S.getTextButton(C.approve))},null,8,_hoisted_2$e)],2))),256)}const ApproveUploaded=_export_sfc(_sfc_main$m,[["render",_sfc_render$l],["__scopeId","data-v-a5341675"]]),_sfc_main$l={name:"PageApprove",components:{ApproveUploaded,SelectedCertView,ModalCertificateSelect:SelectCertModal},props:["files"],emits:["try-sign"],watch:{},data(){return{showModalCertificateSelect:!1,certList:[],selectedCert:null}},methods:{async tryGetCert(){this.showModalCertificateSelect=!0;try{this.certList=await getCertificates()}catch(g){alert("Посмотри в консоль"),console.error(g),this.showModalCertificateSelect=!1}}}},_hoisted_1$k={class:"approve-container"};function _sfc_render$k(g,d,x,b,w,S){const C=resolveComponent("ModalCertificateSelect"),F=resolveComponent("ApproveUploaded"),E=resolveComponent("SelectedCertView");return openBlock(),createElementBlock(Fragment,null,[withDirectives(createVNode(C,{"cert-list":w.certList,onCancel:d[0]||(d[0]=k=>w.showModalCertificateSelect=!1),onGetCertificate:d[1]||(d[1]=k=>{this.selectedCert=k,w.showModalCertificateSelect=!1})},null,8,["cert-list"]),[[vShow,w.showModalCertificateSelect]]),createBaseVNode("div",_hoisted_1$k,[createVNode(F,{files:x.files},null,8,["files"]),w.selectedCert?(openBlock(),createBlock(E,{key:0,certificate:w.selectedCert,onChange:d[2]||(d[2]=k=>w.showModalCertificateSelect=!0)},null,8,["certificate"])):(openBlock(),createElementBlock("label",{key:1,class:"custom-button-2",onClick:d[3]||(d[3]=(...k)=>S.tryGetCert&&S.tryGetCert(...k))}," Выбрать сертификат ")),withDirectives(createBaseVNode("label",{class:"custom-button-2",onClick:d[4]||(d[4]=k=>g.$emit("try-sign",w.selectedCert.thumbprint,x.files))}," Подписать ",512),[[vShow,w.selectedCert]])])],64)}const PageApprove=_export_sfc(_sfc_main$l,[["render",_sfc_render$k],["__scopeId","data-v-731005f3"]]),_sfc_main$k={components:{PageApprove,PageDownloadZip,PageUpload,Preloader},data(){return{preloader:!1,files:[],signed:!1,errorCertificateMessage:"",signResult:{}}},methods:{async trySignFiles(g,d){console.debug("trySignFiles"),console.debug(d);let x=d.filter(b=>b.approve===!0).map(b=>b.base);if(x.length===0){alert("no files to sign");return}try{this.signResult=await signData(x,g),this.signed=!0}catch(b){console.log(b),alert(b)}},showUploadedFiles(g){this.files=g}}},_hoisted_1$j=createBaseVNode("h1",null,"Создать открепленную подпись",-1);function _sfc_render$j(g,d,x,b,w,S){const C=resolveComponent("preloader"),F=resolveComponent("PageUpload"),E=resolveComponent("PageApprove"),k=resolveComponent("PageDownloadZip");return openBlock(),createElementBlock(Fragment,null,[withDirectives(createVNode(C,{height:"600px"},null,512),[[vShow,w.preloader]]),w.files.length===0?(openBlock(),createBlock(F,{key:0,"mime-type-string":"",onUploaded:S.showUploadedFiles,"error-certificate-message":w.errorCertificateMessage,"onUpdate:errorCertificateMessage":d[0]||(d[0]=D=>w.errorCertificateMessage=D)},{header:withCtx(()=>[_hoisted_1$j]),_:1},8,["onUploaded","error-certificate-message"])):w.signed?(openBlock(),createBlock(k,{key:2,files:w.files,"sign-result":w.signResult},null,8,["files","sign-result"])):(openBlock(),createBlock(E,{key:1,files:w.files,onTrySign:S.trySignFiles},null,8,["files","onTrySign"]))],64)}const Detached=_export_sfc(_sfc_main$k,[["render",_sfc_render$j]]),_sfc_main$j={emits:["cancel","approve"]},_hoisted_1$i={class:"modal-mask"},_hoisted_2$d={class:"modal-wrapper"},_hoisted_3$a={class:"modal-container",ondragstart:"return false"},_hoisted_4$7={class:"modal-header"},_hoisted_5$6=createBaseVNode("h2",null,"Предупреждение!",-1),_hoisted_6$5={class:"modal-body"},_hoisted_7$5=createBaseVNode("b",null,"утерян",-1),_hoisted_8$1={class:"modal-footer"};function _sfc_render$i(g,d,x,b,w,S){return openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$a,[createBaseVNode("div",_hoisted_4$7,[renderSlot(g.$slots,"header",{},()=>[_hoisted_5$6])]),createBaseVNode("div",_hoisted_6$5,[renderSlot(g.$slots,"body",{},()=>[createTextVNode(" После смены сертификата, прогресс будет "),_hoisted_7$5,createTextVNode(". ")])]),createBaseVNode("div",_hoisted_8$1,[renderSlot(g.$slots,"footer",{},()=>[createBaseVNode("div",{class:"custom-button resume link",onClick:d[0]||(d[0]=C=>g.$emit("approve"))}," Удалить прогресс "),createBaseVNode("div",{class:"custom-button resume",onClick:d[1]||(d[1]=C=>g.$emit("cancel"))}," Отмена ")])])])])])}const ApproveChange=_export_sfc(_sfc_main$j,[["render",_sfc_render$i]]),_sfc_main$i={components:{SelectedCertView,ApproveChange},props:{certificate:{},signCount:0},data(){return{showApprove:!1}},methods:{approveOrAsk:function(){this.signCount>0?this.showApprove=!0:this.$emit("change-cert")}},emits:["change-cert"]};function _sfc_render$h(g,d,x,b,w,S){const C=resolveComponent("SelectedCertView"),F=resolveComponent("approve-change");return openBlock(),createElementBlock(Fragment,null,[createVNode(C,{certificate:x.certificate,onChange:S.approveOrAsk},null,8,["certificate","onChange"]),withDirectives(createVNode(F,{onCancel:d[0]||(d[0]=E=>w.showApprove=!1),onApprove:d[1]||(d[1]=E=>{this.$emit("change-cert"),w.showApprove=!1})},null,512),[[vShow,w.showApprove]])],64)}const CertificateViewAndChange=_export_sfc(_sfc_main$i,[["render",_sfc_render$h]]);function isFunction(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Function]"}function snapToGrid(g,d,x,b=1){const[w,S]=typeof b=="number"?[b,b]:b,C=Math.round(d/w/g[0])*g[0],F=Math.round(x/S/g[1])*g[1];return[C,F]}function computeWidth(g,d,x){return g-d-x}function computeHeight(g,d,x){return g-d-x}function restrictToBounds(g,d,x){return d!==null&&g<d?d:x!==null&&x<g?x:g}function matchesSelectorToParentElements(g,d,x){let b=g;const w=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(S=>isFunction(b[S]));if(!isFunction(b[w]))return!1;do{if(b[w](d))return!0;if(b===x)return!1;b=b.parentNode}while(b);return!1}function getComputedSize(g){const d=window.getComputedStyle(g);return[parseFloat(d.getPropertyValue("width"),10),parseFloat(d.getPropertyValue("height"),10)]}function addEvent(g,d,x){g&&(g.attachEvent?g.attachEvent("on"+d,x):g.addEventListener?g.addEventListener(d,x,!0):g["on"+d]=x)}function removeEvent(g,d,x){g&&(g.detachEvent?g.detachEvent("on"+d,x):g.removeEventListener?g.removeEventListener(d,x,!0):g["on"+d]=null)}const _hoisted_1$h=["onMousedown","onTouchstart"],_sfc_main$h={__name:"DraggableResizable",props:{draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:g=>typeof g=="string"?g==="auto":g>=0},w:{type:[Number,String],validator:g=>typeof g=="number"?g>0:g==="auto"},h:{type:[Number,String],validator:g=>typeof g=="number"?g>0:g==="auto"},minWidth:{type:Number,default:0,validator:g=>g>=0},minHeight:{type:Number,default:0,validator:g=>g>=0},maxWidth:{type:Number,default:null,validator:g=>g>=0},maxHeight:{type:Number,default:null,validator:g=>g>=0},active:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},activeOnHover:{type:Boolean,default:!1},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},lockAspectRatio:{type:Boolean,default:!1},handlesType:{type:String,default:"handles",validator:g=>["handles","borders","custom"].includes(g)},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:g=>{const d=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(g.filter(x=>d.has(x))).size===g.length}},handlesSize:{type:Number,default:10},handlesBorder:{type:String,default:"0.5px solid #bbb"},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:g=>["x","y","both"].includes(g)},grid:{type:Array,validator:g=>Array.isArray(g)&&typeof g[0]=="number"&&typeof g[1]=="number"},showGrid:{type:[Boolean,String],default:!1,validator:g=>[!0,!1,"x","y","both"].includes(g)},gridColor:{type:String,default:"rgba(0, 0, 0, 0.1)"},parent:{type:[Boolean,String],default:!1},scale:{type:[Number,Array],default:1,validator:g=>typeof g=="number"?g>0:g.length===2&&g[0]>0&&g[1]>0},className:{type:String,default:"drv"},classNameDraggable:{type:String,default:"drv-draggable"},classNameResizable:{type:String,default:"drv-resizable"},classNameDragging:{type:String,default:"drv-dragging"},classNameResizing:{type:String,default:"drv-resizing"},classNameActive:{type:String,default:"drv-active"},classNameHandle:{type:String,default:"drv-handle"},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},emits:["update:x","update:y","update:w","update:h","update:active","resizing","resizestop","dragging","dragstop","activated","deactivated"],setup(g,{emit:d}){useCssVars(ze=>({cd6b3e9a:G.value,"5383905e":K.value,"01679a86":$.value}));const x={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},b={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},w={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let S=x.mouse;const C=g,F=d,E=ref(null),k=ref(null),D=ref({h:"auto",w:"auto",active:!1,x:0,y:0}),M=useSlots(),L=computed({get(){return C.w||D.value.w},set(ze){F("update:w",ze),D.value.w=ze}}),R=computed({get(){return C.h||D.value.h},set(ze){F("update:h",ze),D.value.h=ze}}),U=computed({get(){return C.x||D.value.x},set(ze){F("update:x",ze),D.value.x=ze}}),j=computed({get(){return C.y||D.value.y},set(ze){F("update:y",ze),D.value.y=ze}}),H=ref(null),z=ref(null),V=computed({get(){return C.active||D.value.active},set(ze){F("update:active",ze),D.value.active=ze}}),G=computed(()=>C.handlesSize+"px"),$=computed(()=>C.handlesSize/2+"px"),K=computed(()=>C.handlesBorder),Z=ref(!1),Q=ref(!1),ne=ref(null),le=ref(null),fe=ref(null),be=ref(null),me=ref(!1),we=ref(!1),oe=ref(!1),ge=ref(!1),Ae=ref(null),Ce=ref(null),Ne=computed(()=>({transform:`translate(${U.value}px, ${j.value}px)`,width:_e.value,height:Pe.value,zIndex:C.z,...we.value&&C.disableUserSelect?b:w})),Oe=inject("drvContainerClass",{}),Be=computed(()=>Oe.value?"."+Oe.value:C.parent),Ie=inject("drvContainerGrid",{}),Ee=computed(()=>!Ie||!Ie.value?C.grid||[1,1]:C.grid?C.grid:Ie.value),Ue=computed(()=>{const ze={x:`linear-gradient(-90deg, ${C.gridColor} 1px, transparent 1px) 0px 0px / ${Ee.value[0]}px ${Ee.value[0]}px`,y:`linear-gradient(0deg, ${C.gridColor} 1px, transparent 1px) 0px 0px / ${Ee.value[1]}px ${Ee.value[1]}px`};return C.showGrid==="x"||C.showGrid==="y"?ze[C.showGrid]:C.showGrid?`${ze.x}, ${ze.y}`:null}),De=computed(()=>C.resizable?C.handles:[]),_e=computed(()=>L.value==="auto"&&!Z.value?"auto":L.value+"px"),Pe=computed(()=>R.value==="auto"&&!Q.value?"auto":R.value+"px"),re=ref(C.minWidth),ae=ref(C.minHeight),Y=ref(C.maxWidth),W=ref(C.maxHeight),ee=computed(()=>!!be.value&&(be.value.includes("l")||be.value.includes("r"))),J=computed(()=>!!be.value&&(be.value.includes("t")||be.value.includes("b"))),te=()=>{Ae.value={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},Ce.value={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},X=()=>{if(Be.value){const ze=typeof Be.value=="string"?E.value.closest(Be.value):E.value.parentNode;k.value=ze;const Ve=window.getComputedStyle(ze,null);return[parseInt(Ve.getPropertyValue("width"),10),parseInt(Ve.getPropertyValue("height"),10)]}return[null,null]},he=()=>{if(Be.value&&C.showGrid){if(!k.value){const ze=typeof ze.value=="string"?E.value.closest(ze.value):E.value.parentNode;k.value=ze}k.value.style.background=Ue.value}},ue=ze=>{S=x.touch,se(ze)},ce=ze=>{S=x.mouse,se(ze)},se=ze=>{if(ze instanceof MouseEvent&&ze.which!==1)return;const Ve=ze.target||ze.srcElement;if(E.value.contains(Ve)){if(C.onDragStart(ze)===!1)return;if(C.dragHandle&&!matchesSelectorToParentElements(Ve,C.dragHandle,E.value)||C.dragCancel&&matchesSelectorToParentElements(Ve,C.dragCancel,E.value)){we.value=!1;return}V.value||(V.value=!0,F("activated")),C.draggable&&(oe.value=!0),Ae.value.mouseX=ze.touches?ze.touches[0].pageX:ze.pageX,Ae.value.mouseY=ze.touches?ze.touches[0].pageY:ze.pageY,Ae.value.left=U.value,Ae.value.right=H.value,Ae.value.top=j.value,Ae.value.bottom=z.value,Be.value&&(Ce.value=xe()),addEvent(document.documentElement,S.move,Re),addEvent(document.documentElement,S.stop,Me)}},xe=()=>({minLeft:U.value%Ee.value[0],maxLeft:Math.floor((le.value-L.value-U.value)/Ee.value[0])*Ee.value[0]+U.value,minRight:H.value%Ee.value[0],maxRight:Math.floor((le.value-L.value-H.value)/Ee.value[0])*Ee.value[0]+H.value,minTop:j.value%Ee.value[1],maxTop:Math.floor((fe.value-R.value-j.value)/Ee.value[1])*Ee.value[1]+j.value,minBottom:z.value%Ee.value[1],maxBottom:Math.floor((fe.value-R.value-z.value)/Ee.value[1])*Ee.value[1]+z.value}),Se=ze=>{const Ve=ze.target||ze.srcElement,Ge=new RegExp(C.className+"-([trmbl]{2})","");(!E.value||!E.value.contains(Ve)&&!Ge.test(Ve.className))&&(V.value&&!C.preventDeactivation&&(V.value=!1,F("deactivated")),removeEvent(document.documentElement,S.move,ie)),te()},ve=(ze,Ve)=>{S=x.touch,pe(ze,Ve)},pe=(ze,Ve)=>{Ve instanceof MouseEvent&&Ve.which!==1||C.onResizeStart(ze,Ve)!==!1&&(Ve.stopPropagation&&Ve.stopPropagation(),C.lockAspectRatio&&!ze.includes("m")?be.value="m"+ze.substring(1):be.value=ze,ge.value=!0,Ae.value.mouseX=Ve.touches?Ve.touches[0].pageX:Ve.pageX,Ae.value.mouseY=Ve.touches?Ve.touches[0].pageY:Ve.pageY,Ae.value.left=U.value,Ae.value.right=H.value,Ae.value.top=j.value,Ae.value.bottom=z.value,Ce.value=Fe(),addEvent(document.documentElement,S.move,ie),addEvent(document.documentElement,S.stop,Me))},Fe=()=>{const[ze,Ve]=Ee.value;C.lockAspectRatio&&(re.value/ae.value>ne.value?ae.value=re.value/ne.value:re.value=ne.value*ae.value,Y.value&&W.value?(Y.value=Math.min(Y.value,ne.value*W.value),W.value=Math.min(W.value,Y.value/ne.value)):Y.value?W.value=Y.value/ne.value:W.value&&(Y.value=ne.value*W.value)),Y.value=Y.value-Y.value%ze,W.value=W.value-W.value%Ve;const Ge={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return Be.value?(Ge.minLeft=U.value%ze,Ge.maxLeft=U.value+Math.floor((L.value-re.value)/ze)*ze,Ge.minTop=j.value%Ve,Ge.maxTop=j.value+Math.floor((R.value-ae.value)/Ve)*Ve,Ge.minRight=H.value%ze,Ge.maxRight=H.value+Math.floor((L.value-re.value)/ze)*ze,Ge.minBottom=z.value%Ve,Ge.maxBottom=z.value+Math.floor((R.value-ae.value)/Ve)*Ve,Y.value&&(Ge.minLeft=Math.max(Ge.minLeft,le.value-H.value-Y.value),Ge.minRight=Math.max(Ge.minRight,le.value-U.value-Y.value)),W.value&&(Ge.minTop=Math.max(Ge.minTop,fe.value-z.value-W.value),Ge.minBottom=Math.max(Ge.minBottom,fe.value-j.value-W.value)),C.lockAspectRatio&&(Ge.minLeft=Math.max(Ge.minLeft,U.value-j.value*ne.value),Ge.minTop=Math.max(Ge.minTop,j.value-U.value/ne.value),Ge.minRight=Math.max(Ge.minRight,H.value-z.value*ne.value),Ge.minBottom=Math.max(Ge.minBottom,z.value-H.value/ne.value))):(Ge.minLeft=null,Ge.maxLeft=U.value+Math.floor((L.value-re.value)/ze)*ze,Ge.minTop=null,Ge.maxTop=j.value+Math.floor((R.value-ae.value)/Ve)*Ve,Ge.minRight=null,Ge.maxRight=H.value+Math.floor((L.value-re.value)/ze)*ze,Ge.minBottom=null,Ge.maxBottom=z.value+Math.floor((R.value-ae.value)/Ve)*Ve,Y.value&&(Ge.minLeft=-(H.value+Y.value),Ge.minRight=-(U.value+Y.value)),W.value&&(Ge.minTop=-(z.value+W.value),Ge.minBottom=-(j.value+W.value)),C.lockAspectRatio&&Y.value&&W.value&&(Ge.minLeft=Math.min(Ge.minLeft,-(H.value+Y.value)),Ge.minTop=Math.min(Ge.minTop,-(W.value+z.value)),Ge.minRight=Math.min(Ge.minRight,-U.value-Y.value),Ge.minBottom=Math.min(Ge.minBottom,-j.value-W.value))),Ge},Re=ze=>{me.value?ie(ze):oe.value&&Te(ze)},Te=ze=>{const Ve=C.axis&&C.axis!=="y"?Ae.value.mouseX-(ze.touches?ze.touches[0].pageX:ze.pageX):0,Ge=C.axis&&C.axis!=="x"?Ae.value.mouseY-(ze.touches?ze.touches[0].pageY:ze.pageY):0,[$e,Xe]=snapToGrid(Ee.value,Ve,Ge,C.scale),We=restrictToBounds(Ae.value.left-$e,Ce.value.minLeft,Ce.value.maxLeft),Ye=restrictToBounds(Ae.value.top-Xe,Ce.value.minTop,Ce.value.maxTop);if(C.onDrag(U,j)===!1)return;const Ke=restrictToBounds(Ae.value.right+$e,Ce.value.minRight,Ce.value.maxRight),qe=restrictToBounds(Ae.value.bottom+Xe,Ce.value.minBottom,Ce.value.maxBottom);U.value=We,j.value=Ye,H.value=Ke,z.value=qe,F("dragging",U.value,j.value),we.value=!0},Le=ze=>{const[Ve]=snapToGrid(Ee.value,ze,j.value,1),Ge=restrictToBounds(Ve,Ce.value.minLeft,Ce.value.maxLeft);U.value=Ge,H.value=le.value-L.value-Ge},ye=ze=>{const[,Ve]=snapToGrid(Ee.value,U.value,ze,1),Ge=restrictToBounds(Ve,Ce.value.minTop,Ce.value.maxTop);j.value=Ge,z.value=fe.value-R.value-Ge},ie=ze=>{let Ve=U.value,Ge=j.value,$e=H.value,Xe=z.value;const We=Ae.value.mouseX-(ze.touches?ze.touches[0].pageX:ze.pageX),Ye=Ae.value.mouseY-(ze.touches?ze.touches[0].pageY:ze.pageY);!Z.value&&We&&(Z.value=!0),!Q.value&&Ye&&(Q.value=!0);const[Ke,qe]=snapToGrid(Ee.value,We,Ye,C.scale);be.value.includes("b")?(Xe=restrictToBounds(Ae.value.bottom+qe,Ce.value.minBottom,Ce.value.maxBottom),C.lockAspectRatio&&J&&($e=H.value-(z.value-Xe)*ne.value)):be.value.includes("t")&&(Ge=restrictToBounds(Ae.value.top-qe,Ce.value.minTop,Ce.value.maxTop),C.lockAspectRatio&&J&&(Ve=U.value-(j.value-Ge)*ne.value)),be.value.includes("r")?($e=restrictToBounds(Ae.value.right+Ke,Ce.value.minRight,Ce.value.maxRight),C.lockAspectRatio&&ee&&(Xe=z.value-(H.value-$e)/ne.value)):be.value.includes("l")&&(Ve=restrictToBounds(Ae.value.left-Ke,Ce.value.minLeft,Ce.value.maxLeft),C.lockAspectRatio&&ee&&(Ge=j.value-(U.value-Ve)/ne.value));const Qe=computeWidth(le.value,Ve,$e),tt=computeHeight(fe.value,Ge,Xe);C.onResize(be.value,Ve,Ge,Qe,tt)!==!1&&(U.value=Ve,j.value=Ge,H.value=$e,z.value=Xe,L.value=Qe,R.value=tt,F("resizing",U.value,j.value,L.value,R.value),me.value=!0)},de=ze=>{const[Ve]=snapToGrid(Ee.value,ze,0,1);let Ge=restrictToBounds(le.value-Ve-U.value,Ce.value.minRight,Ce.value.maxRight),$e=z.value;C.lockAspectRatio&&($e=z.value-(H.value-Ge)/ne.value);const Xe=computeWidth(le.value,U.value,Ge),We=computeHeight(fe.value,j.value,$e);H.value=Ge,z.value=$e,L.value=Xe,R.value=We},ke=ze=>{const[,Ve]=snapToGrid(Ee.value,0,ze,1);let Ge=restrictToBounds(fe.value-Ve-j.value,Ce.value.minBottom,Ce.value.maxBottom),$e=H.value;C.lockAspectRatio&&($e=H.value-(z.value-Ge)*ne.value);const Xe=computeWidth(le.value,U.value,$e),We=computeHeight(fe.value,j.value,Ge);H.value=$e,z.value=Ge,L.value=Xe,R.value=We},Me=()=>{be.value=null,te(),oe.value=!1,ge.value=!1,me.value&&(me.value=!1,F("resizestop",U.value,j.value,L.value,R.value)),we.value&&(we.value=!1,F("dragstop",U.value,j.value)),removeEvent(document.documentElement,S.move,ie)},je=()=>{C.activeOnHover&&(V.value=!0)},He=()=>{C.activeOnHover&&!we.value&&(V.value=!1)};return onMounted(()=>{te(),C.enableNativeDrag||(E.value.ondragstart=()=>!1);const[ze,Ve]=X();le.value=ze,fe.value=Ve;const[Ge,$e]=getComputedSize(E.value);ne.value=(L.value!=="auto"?L.value:Ge)/(R.value!=="auto"?R.value:$e),L.value=L.value!=="auto"?L.value:Ge,R.value=R.value!=="auto"?R.value:$e,H.value=le.value-L.value-U.value,z.value=fe.value-R.value-j.value,V.value&&F("activated"),C.showGrid&&he(),addEvent(document.documentElement,"mousedown",Se),addEvent(document.documentElement,"touchend touchcancel",Se)}),watch(()=>C.x,ze=>{me.value||we.value||(Be.value&&(Ce.value=xe()),Le(ze))}),watch(()=>C.y,ze=>{me.value||we.value||(Be.value&&(Ce.value=xe()),ye(ze))}),watch(()=>C.lockAspectRatio,ze=>{ze?ne.value=L.value/R.value:ne.value=void 0}),watch(()=>C.w,ze=>{me.value||we.value||(Be.value&&(Ce.value=Fe()),de(ze))}),watch(()=>C.h,ze=>{me.value||we.value||(Be.value&&(Ce.value=Fe()),ke(ze))}),watch(()=>C.showGrid,()=>{he()}),watch(()=>C.grid,()=>{he()}),(ze,Ve)=>(openBlock(),createElementBlock("div",{ref_key:"el",ref:E,style:normalizeStyle(Ne.value),class:normalizeClass([{[g.classNameActive]:V.value,[g.classNameDragging]:we.value,[g.classNameResizing]:me.value,[g.classNameDraggable]:g.draggable,[g.classNameResizable]:g.resizable},g.className]),onMousedown:ce,onTouchstart:ue,onMouseover:je,onMouseleave:He},[createBaseVNode("div",{class:normalizeClass("drv-"+g.handlesType)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value,Ge=>(openBlock(),createElementBlock("div",{key:Ge,class:normalizeClass([g.classNameHandle,g.classNameHandle+"-"+Ge,g.classNameHandle!=="drv-handle"?"drv-handle":"",g.classNameHandle!=="drv-handle"?"drv-handle-"+Ge:""]),style:normalizeStyle({display:V.value?"block":"none"}),onMousedown:withModifiers($e=>pe(Ge,$e),["stop","prevent"]),onTouchstart:withModifiers($e=>ve(Ge,$e),["stop","prevent"])},[unref(M)["handle-"+Ge]?renderSlot(ze.$slots,"handle-"+Ge,{key:0}):createCommentVNode("",!0),unref(M)["handle-"+Ge]?createCommentVNode("",!0):renderSlot(ze.$slots,"handle",{key:1})],46,_hoisted_1$h))),128))],2),renderSlot(ze.$slots,"default")],38))}},_sfc_main$g={props:{selectedCert:{serialNumber:"",issuerName:"",validFromDate:"",validToDate:""}}},_hoisted_1$g={viewBox:"-5 -5 410 160",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$c=createBaseVNode("rect",{width:"400",height:"145",fill:"none",rx:"15",ry:"15",stroke:"black","stroke-width":"3px"},null,-1),_hoisted_3$9=createBaseVNode("text",{x:"130",y:"30",class:"svg-title"},"ДОКУМЕНТ ПОДПИСАН",-1),_hoisted_4$6=createBaseVNode("text",{x:"115",y:"50",class:"svg-title"},"ЭЛЕКТРОННОЙ ПОДПИСЬЮ",-1),_hoisted_5$5={x:"10",y:"80",class:"svg-text"},_hoisted_6$4={x:"10",y:"100",class:"svg-text"},_hoisted_7$4={x:"10",y:"120",class:"svg-text"};function _sfc_render$g(g,d,x,b,w,S){return openBlock(),createElementBlock("svg",_hoisted_1$g,[_hoisted_2$c,_hoisted_3$9,_hoisted_4$6,createBaseVNode("text",_hoisted_5$5,"Сертификат: "+toDisplayString(x.selectedCert.serialNumber),1),createBaseVNode("text",_hoisted_6$4,"Владелец: "+toDisplayString(x.selectedCert.CN.removeEnclosingQuotes().removeDuplicateQuotes()),1),createBaseVNode("text",_hoisted_7$4,"Действителен: c "+toDisplayString(x.selectedCert.validFromDate)+" до "+toDisplayString(x.selectedCert.validToDate),1)])}const certificateSvg=_export_sfc(_sfc_main$g,[["render",_sfc_render$g]]),_sfc_main$f={name:"drag-resize-cert",components:{certificateSvg,DraggableResizable:_sfc_main$h},props:{certificate:{},element:{x:10,y:10,width:400,height:150,isActive:!0}}},_withScopeId$4=g=>(pushScopeId("data-v-68d58d33"),g=g(),popScopeId(),g),_hoisted_1$f=_withScopeId$4(()=>createBaseVNode("div",{id:"handle-br"},"SIZE",-1));function _sfc_render$f(g,d,x,b,w,S){const C=resolveComponent("certificate-svg"),F=resolveComponent("draggable-resizable");return openBlock(),createBlock(F,{x:x.element.x,"onUpdate:x":d[0]||(d[0]=E=>x.element.x=E),y:x.element.y,"onUpdate:y":d[1]||(d[1]=E=>x.element.y=E),h:x.element.height,"onUpdate:h":d[2]||(d[2]=E=>x.element.height=E),w:x.element.width,"onUpdate:w":d[3]||(d[3]=E=>x.element.width=E),active:x.element.isActive,"onUpdate:active":d[4]||(d[4]=E=>x.element.isActive=E),"min-height":75,"max-height":200,"lock-aspect-ratio":!0,"disable-user-select":!0,handles:["br"],"class-name-draggable":"draggable","handles-border":"none",parent:!0,"class-name-active":"active",style:{"z-index":"10"}},{"handle-br":withCtx(()=>[_hoisted_1$f]),default:withCtx(()=>[createVNode(C,{"selected-cert":x.certificate},null,8,["selected-cert"])]),_:1},8,["x","y","h","w","active"])}const DragResizeCert=_export_sfc(_sfc_main$f,[["render",_sfc_render$f],["__scopeId","data-v-68d58d33"]]),_sfc_main$e={name:"addSignAppearanceButton",props:{dragAndResize:!1,signCount:0},emits:["update:dragAndResize","updateSign","cancel","clearDict","createSignature"]},_hoisted_1$e={key:0,class:"flex-row",style:{"justify-content":"space-between","align-items":"start"}},_hoisted_2$b={class:"signCount"};function _sfc_render$e(g,d,x,b,w,S){return openBlock(),createElementBlock(Fragment,null,[x.dragAndResize?(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("label",{class:"custom-button-2 save-bth",onClick:d[0]||(d[0]=C=>this.$emit("updateSign"))}," Сохранить изменения "),createBaseVNode("label",{class:"custom-button-2 cancel-bth",onClick:d[1]||(d[1]=C=>this.$emit("cancel"))}," Отмена ")])):(openBlock(),createElementBlock("label",{key:1,class:"custom-button-2 main-bth",onClick:d[2]||(d[2]=C=>this.$emit("update:dragAndResize",!0))}," Добавить оттиск ")),createBaseVNode("p",_hoisted_2$b,"Количество созданных оттисков: "+toDisplayString(x.signCount),1),createBaseVNode("button",{class:"custom-button",onClick:d[3]||(d[3]=C=>g.$emit("clearDict"))},"Сбросить"),createBaseVNode("label",{class:"custom-button-2 indent",onClick:d[4]||(d[4]=C=>g.$emit("createSignature"))}," Подписать и сохранить ")],64)}const AddSignAppearanceBar=_export_sfc(_sfc_main$e,[["render",_sfc_render$e],["__scopeId","data-v-357bf92c"]]),_sfc_main$d=defineComponent({name:"PageNavigation",props:["countPages","currentPageComputed"],emits:["input","tryUpdatePage"]}),_hoisted_1$d={id:"navigation_controls"},_hoisted_2$a=["value"],_hoisted_3$8={id:"count_pages"};function _sfc_render$d(g,d,x,b,w,S){return openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("button",{id:"go_previous",class:"custom-button",style:{background:"white"},onClick:d[0]||(d[0]=C=>g.$emit("tryUpdatePage",g.currentPageComputed-1))}," — "),createBaseVNode("input",{id:"current_page",value:g.currentPageComputed,onKeyup:d[1]||(d[1]=withKeys(C=>{C.target.blur()},["enter"])),onBlur:d[2]||(d[2]=C=>g.$emit("input",C)),type:"number"},null,40,_hoisted_2$a),createBaseVNode("p",_hoisted_3$8,toDisplayString("  ")+"/ "+toDisplayString(g.countPages),1),createBaseVNode("button",{id:"go_next",class:"custom-button",style:{background:"white"},onClick:d[3]||(d[3]=C=>g.$emit("tryUpdatePage",g.currentPageComputed+1))}," + ")])}const PageNavigation=_export_sfc(_sfc_main$d,[["render",_sfc_render$d],["__scopeId","data-v-cb00e95d"]]),scriptRel="modulepreload",assetsURL=function(g){return"/signer/"+g},seen={},__vitePreload=function(d,x,b){let w=Promise.resolve();if(x&&x.length>0){const S=document.getElementsByTagName("link");w=Promise.all(x.map(C=>{if(C=assetsURL(C),C in seen)return;seen[C]=!0;const F=C.endsWith(".css"),E=F?'[rel="stylesheet"]':"";if(!!b)for(let M=S.length-1;M>=0;M--){const L=S[M];if(L.href===C&&(!F||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${C}"]${E}`))return;const D=document.createElement("link");if(D.rel=F?"stylesheet":scriptRel,F||(D.as="script",D.crossOrigin=""),D.href=C,document.head.appendChild(D),F)return new Promise((M,L)=>{D.addEventListener("load",M),D.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${C}`)))})}))}return w.then(()=>d()).catch(S=>{const C=new Event("vite:preloadError",{cancelable:!0});if(C.payload=S,window.dispatchEvent(C),!C.defaultPrevented)throw S})};var __webpack_modules__={640:(g,d,x)=>{x.d(d,{AnnotationLayer:()=>_e,FreeTextAnnotationElement:()=>be,InkAnnotationElement:()=>Ne,StampAnnotationElement:()=>Ue});var b=x(266),w=x(473),S=x(780);function C(Pe){return Math.floor(Math.max(0,Math.min(1,Pe))*255).toString(16).padStart(2,"0")}function F(Pe){return Math.max(0,Math.min(255,255*Pe))}class E{static CMYK_G([re,ae,Y,W]){return["G",1-Math.min(1,.3*re+.59*Y+.11*ae+W)]}static G_CMYK([re]){return["CMYK",0,0,0,1-re]}static G_RGB([re]){return["RGB",re,re,re]}static G_rgb([re]){return re=F(re),[re,re,re]}static G_HTML([re]){const ae=C(re);return`#${ae}${ae}${ae}`}static RGB_G([re,ae,Y]){return["G",.3*re+.59*ae+.11*Y]}static RGB_rgb(re){return re.map(F)}static RGB_HTML(re){return`#${re.map(C).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([re,ae,Y,W]){return["RGB",1-Math.min(1,re+W),1-Math.min(1,Y+W),1-Math.min(1,ae+W)]}static CMYK_rgb([re,ae,Y,W]){return[F(1-Math.min(1,re+W)),F(1-Math.min(1,Y+W)),F(1-Math.min(1,ae+W))]}static CMYK_HTML(re){const ae=this.CMYK_RGB(re).slice(1);return this.RGB_HTML(ae)}static RGB_CMYK([re,ae,Y]){const W=1-re,ee=1-ae,J=1-Y,te=Math.min(W,ee,J);return["CMYK",W,ee,J,te]}}var k=x(160);const D=1e3,M=9,L=new WeakSet;function R(Pe){return{width:Pe[2]-Pe[0],height:Pe[3]-Pe[1]}}class U{static create(re){switch(re.data.annotationType){case b.AnnotationType.LINK:return new H(re);case b.AnnotationType.TEXT:return new z(re);case b.AnnotationType.WIDGET:switch(re.data.fieldType){case"Tx":return new G(re);case"Btn":return re.data.radioButton?new Z(re):re.data.checkBox?new K(re):new Q(re);case"Ch":return new ne(re);case"Sig":return new $(re)}return new V(re);case b.AnnotationType.POPUP:return new le(re);case b.AnnotationType.FREETEXT:return new be(re);case b.AnnotationType.LINE:return new me(re);case b.AnnotationType.SQUARE:return new we(re);case b.AnnotationType.CIRCLE:return new oe(re);case b.AnnotationType.POLYLINE:return new ge(re);case b.AnnotationType.CARET:return new Ce(re);case b.AnnotationType.INK:return new Ne(re);case b.AnnotationType.POLYGON:return new Ae(re);case b.AnnotationType.HIGHLIGHT:return new Oe(re);case b.AnnotationType.UNDERLINE:return new Be(re);case b.AnnotationType.SQUIGGLY:return new Ie(re);case b.AnnotationType.STRIKEOUT:return new Ee(re);case b.AnnotationType.STAMP:return new Ue(re);case b.AnnotationType.FILEATTACHMENT:return new De(re);default:return new j(re)}}}class j{#e=!1;constructor(re,{isRenderable:ae=!1,ignoreBorder:Y=!1,createQuadrilaterals:W=!1}={}){this.isRenderable=ae,this.data=re.data,this.layer=re.layer,this.linkService=re.linkService,this.downloadManager=re.downloadManager,this.imageResourcesPath=re.imageResourcesPath,this.renderForms=re.renderForms,this.svgFactory=re.svgFactory,this.annotationStorage=re.annotationStorage,this.enableScripting=re.enableScripting,this.hasJSActions=re.hasJSActions,this._fieldObjects=re.fieldObjects,this.parent=re.parent,ae&&(this.container=this._createContainer(Y)),W&&this._createQuadrilaterals()}static _hasPopupData({titleObj:re,contentsObj:ae,richText:Y}){return!!(re?.str||ae?.str||Y?.str)}get hasPopupData(){return j._hasPopupData(this.data)}_createContainer(re){const{data:ae,parent:{page:Y,viewport:W}}=this,ee=document.createElement("section");ee.setAttribute("data-annotation-id",ae.id),this instanceof V||(ee.tabIndex=D),ee.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ee.setAttribute("aria-haspopup","dialog"),ae.noRotate&&ee.classList.add("norotate");const{pageWidth:J,pageHeight:te,pageX:X,pageY:he}=W.rawDims;if(!ae.rect||this instanceof le){const{rotation:Se}=ae;return!ae.hasOwnCanvas&&Se!==0&&this.setRotation(Se,ee),ee}const{width:ue,height:ce}=R(ae.rect),se=b.Util.normalizeRect([ae.rect[0],Y.view[3]-ae.rect[1]+Y.view[1],ae.rect[2],Y.view[3]-ae.rect[3]+Y.view[1]]);if(!re&&ae.borderStyle.width>0){ee.style.borderWidth=`${ae.borderStyle.width}px`;const Se=ae.borderStyle.horizontalCornerRadius,ve=ae.borderStyle.verticalCornerRadius;if(Se>0||ve>0){const Fe=`calc(${Se}px * var(--scale-factor)) / calc(${ve}px * var(--scale-factor))`;ee.style.borderRadius=Fe}else if(this instanceof Z){const Fe=`calc(${ue}px * var(--scale-factor)) / calc(${ce}px * var(--scale-factor))`;ee.style.borderRadius=Fe}switch(ae.borderStyle.style){case b.AnnotationBorderStyleType.SOLID:ee.style.borderStyle="solid";break;case b.AnnotationBorderStyleType.DASHED:ee.style.borderStyle="dashed";break;case b.AnnotationBorderStyleType.BEVELED:(0,b.warn)("Unimplemented border style: beveled");break;case b.AnnotationBorderStyleType.INSET:(0,b.warn)("Unimplemented border style: inset");break;case b.AnnotationBorderStyleType.UNDERLINE:ee.style.borderBottomStyle="solid";break}const pe=ae.borderColor||null;pe?(this.#e=!0,ee.style.borderColor=b.Util.makeHexColor(pe[0]|0,pe[1]|0,pe[2]|0)):ee.style.borderWidth=0}ee.style.left=`${100*(se[0]-X)/J}%`,ee.style.top=`${100*(se[1]-he)/te}%`;const{rotation:xe}=ae;return ae.hasOwnCanvas||xe===0?(ee.style.width=`${100*ue/J}%`,ee.style.height=`${100*ce/te}%`):this.setRotation(xe,ee),ee}setRotation(re,ae=this.container){if(!this.data.rect)return;const{pageWidth:Y,pageHeight:W}=this.parent.viewport.rawDims,{width:ee,height:J}=R(this.data.rect);let te,X;re%180===0?(te=100*ee/Y,X=100*J/W):(te=100*J/Y,X=100*ee/W),ae.style.width=`${te}%`,ae.style.height=`${X}%`,ae.setAttribute("data-main-rotation",(360-re)%360)}get _commonActions(){const re=(ae,Y,W)=>{const ee=W.detail[ae],J=ee[0],te=ee.slice(1);W.target.style[Y]=E[`${J}_HTML`](te),this.annotationStorage.setValue(this.data.id,{[Y]:E[`${J}_rgb`](te)})};return(0,b.shadow)(this,"_commonActions",{display:ae=>{const{display:Y}=ae.detail,W=Y%2===1;this.container.style.visibility=W?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:W,noPrint:Y===1||Y===2})},print:ae=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ae.detail.print})},hidden:ae=>{const{hidden:Y}=ae.detail;this.container.style.visibility=Y?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Y,noView:Y})},focus:ae=>{setTimeout(()=>ae.target.focus({preventScroll:!1}),0)},userName:ae=>{ae.target.title=ae.detail.userName},readonly:ae=>{ae.target.disabled=ae.detail.readonly},required:ae=>{this._setRequired(ae.target,ae.detail.required)},bgColor:ae=>{re("bgColor","backgroundColor",ae)},fillColor:ae=>{re("fillColor","backgroundColor",ae)},fgColor:ae=>{re("fgColor","color",ae)},textColor:ae=>{re("textColor","color",ae)},borderColor:ae=>{re("borderColor","borderColor",ae)},strokeColor:ae=>{re("strokeColor","borderColor",ae)},rotation:ae=>{const Y=ae.detail.rotation;this.setRotation(Y),this.annotationStorage.setValue(this.data.id,{rotation:Y})}})}_dispatchEventFromSandbox(re,ae){const Y=this._commonActions;for(const W of Object.keys(ae.detail))(re[W]||Y[W])?.(ae)}_setDefaultPropertiesFromJS(re){if(!this.enableScripting)return;const ae=this.annotationStorage.getRawValue(this.data.id);if(!ae)return;const Y=this._commonActions;for(const[W,ee]of Object.entries(ae)){const J=Y[W];if(J){const te={detail:{[W]:ee},target:re};J(te),delete ae[W]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:re}=this.data;if(!re)return;const[ae,Y,W,ee]=this.data.rect;if(re.length===1){const[,{x:ve,y:pe},{x:Fe,y:Re}]=re[0];if(W===ve&&ee===pe&&ae===Fe&&Y===Re)return}const{style:J}=this.container;let te;if(this.#e){const{borderColor:ve,borderWidth:pe}=J;J.borderWidth=0,te=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ve}" stroke-width="${pe}">`],this.container.classList.add("hasBorder")}const X=W-ae,he=ee-Y,{svgFactory:ue}=this,ce=ue.createElement("svg");ce.classList.add("quadrilateralsContainer"),ce.setAttribute("width",0),ce.setAttribute("height",0);const se=ue.createElement("defs");ce.append(se);const xe=ue.createElement("clipPath"),Se=`clippath_${this.data.id}`;xe.setAttribute("id",Se),xe.setAttribute("clipPathUnits","objectBoundingBox"),se.append(xe);for(const[,{x:ve,y:pe},{x:Fe,y:Re}]of re){const Te=ue.createElement("rect"),Le=(Fe-ae)/X,ye=(ee-pe)/he,ie=(ve-Fe)/X,de=(pe-Re)/he;Te.setAttribute("x",Le),Te.setAttribute("y",ye),Te.setAttribute("width",ie),Te.setAttribute("height",de),xe.append(Te),te?.push(`<rect vector-effect="non-scaling-stroke" x="${Le}" y="${ye}" width="${ie}" height="${de}"/>`)}this.#e&&(te.push("</g></svg>')"),J.backgroundImage=te.join("")),this.container.append(ce),this.container.style.clipPath=`url(#${Se})`}_createPopup(){const{container:re,data:ae}=this;re.setAttribute("aria-haspopup","dialog");const Y=new le({data:{color:ae.color,titleObj:ae.titleObj,modificationDate:ae.modificationDate,contentsObj:ae.contentsObj,richText:ae.richText,parentRect:ae.rect,borderStyle:0,id:`popup_${ae.id}`,rotation:ae.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Y.render())}render(){(0,b.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(re,ae=null){const Y=[];if(this._fieldObjects){const W=this._fieldObjects[re];if(W)for(const{page:ee,id:J,exportValues:te}of W){if(ee===-1||J===ae)continue;const X=typeof te=="string"?te:null,he=document.querySelector(`[data-element-id="${J}"]`);if(he&&!L.has(he)){(0,b.warn)(`_getElementsByName - element not allowed: ${J}`);continue}Y.push({id:J,exportValue:X,domElement:he})}return Y}for(const W of document.getElementsByName(re)){const{exportValue:ee}=W,J=W.getAttribute("data-element-id");J!==ae&&L.has(W)&&Y.push({id:J,exportValue:ee,domElement:W})}return Y}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const re=this.getElementsToTriggerPopup();if(Array.isArray(re))for(const ae of re)ae.classList.add("highlightArea");else re.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:re,data:{id:ae}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:re,editId:ae})})}}class H extends j{constructor(re,ae=null){super(re,{isRenderable:!0,ignoreBorder:!!ae?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=re.data.isTooltipOnly}render(){const{data:re,linkService:ae}=this,Y=document.createElement("a");Y.setAttribute("data-element-id",re.id);let W=!1;return re.url?(ae.addLinkAttributes(Y,re.url,re.newWindow),W=!0):re.action?(this._bindNamedAction(Y,re.action),W=!0):re.attachment?(this.#t(Y,re.attachment,re.attachmentDest),W=!0):re.setOCGState?(this.#n(Y,re.setOCGState),W=!0):re.dest?(this._bindLink(Y,re.dest),W=!0):(re.actions&&(re.actions.Action||re.actions["Mouse Up"]||re.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Y,re),W=!0),re.resetForm?(this._bindResetFormAction(Y,re.resetForm),W=!0):this.isTooltipOnly&&!W&&(this._bindLink(Y,""),W=!0)),this.container.classList.add("linkAnnotation"),W&&this.container.append(Y),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(re,ae){re.href=this.linkService.getDestinationHash(ae),re.onclick=()=>(ae&&this.linkService.goToDestination(ae),!1),(ae||ae==="")&&this.#e()}_bindNamedAction(re,ae){re.href=this.linkService.getAnchorUrl(""),re.onclick=()=>(this.linkService.executeNamedAction(ae),!1),this.#e()}#t(re,ae,Y=null){re.href=this.linkService.getAnchorUrl(""),re.onclick=()=>(this.downloadManager?.openOrDownloadData(ae.content,ae.filename,Y),!1),this.#e()}#n(re,ae){re.href=this.linkService.getAnchorUrl(""),re.onclick=()=>(this.linkService.executeSetOCGState(ae),!1),this.#e()}_bindJSAction(re,ae){re.href=this.linkService.getAnchorUrl("");const Y=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const W of Object.keys(ae.actions)){const ee=Y.get(W);ee&&(re[ee]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae.id,name:W}}),!1))}re.onclick||(re.onclick=()=>!1),this.#e()}_bindResetFormAction(re,ae){const Y=re.onclick;if(Y||(re.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,b.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Y||(re.onclick=()=>!1);return}re.onclick=()=>{Y?.();const{fields:W,refs:ee,include:J}=ae,te=[];if(W.length!==0||ee.length!==0){const ue=new Set(ee);for(const ce of W){const se=this._fieldObjects[ce]||[];for(const{id:xe}of se)ue.add(xe)}for(const ce of Object.values(this._fieldObjects))for(const se of ce)ue.has(se.id)===J&&te.push(se)}else for(const ue of Object.values(this._fieldObjects))te.push(...ue);const X=this.annotationStorage,he=[];for(const ue of te){const{id:ce}=ue;switch(he.push(ce),ue.type){case"text":{const xe=ue.defaultValue||"";X.setValue(ce,{value:xe});break}case"checkbox":case"radiobutton":{const xe=ue.defaultValue===ue.exportValues;X.setValue(ce,{value:xe});break}case"combobox":case"listbox":{const xe=ue.defaultValue||"";X.setValue(ce,{value:xe});break}default:continue}const se=document.querySelector(`[data-element-id="${ce}"]`);if(se){if(!L.has(se)){(0,b.warn)(`_bindResetFormAction - element not allowed: ${ce}`);continue}}else continue;se.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:he,name:"ResetForm"}}),!1}}}class z extends j{constructor(re){super(re,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const re=document.createElement("img");return re.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",re.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),re.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(re),this.container}}class V extends j{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(re){this.data.hasOwnCanvas&&(re.previousSibling?.nodeName==="CANVAS"&&(re.previousSibling.hidden=!0),re.hidden=!1)}_getKeyModifier(re){return b.FeatureTest.platform.isMac?re.metaKey:re.ctrlKey}_setEventListener(re,ae,Y,W,ee){Y.includes("mouse")?re.addEventListener(Y,J=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:ee(J),shift:J.shiftKey,modifier:this._getKeyModifier(J)}})}):re.addEventListener(Y,J=>{if(Y==="blur"){if(!ae.focused||!J.relatedTarget)return;ae.focused=!1}else if(Y==="focus"){if(ae.focused)return;ae.focused=!0}ee&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:W,value:ee(J)}})})}_setEventListeners(re,ae,Y,W){for(const[ee,J]of Y)(J==="Action"||this.data.actions?.[J])&&((J==="Focus"||J==="Blur")&&(ae||={focused:!1}),this._setEventListener(re,ae,ee,J,W),J==="Focus"&&!this.data.actions?.Blur?this._setEventListener(re,ae,"blur","Blur",null):J==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(re,ae,"focus","Focus",null))}_setBackgroundColor(re){const ae=this.data.backgroundColor||null;re.style.backgroundColor=ae===null?"transparent":b.Util.makeHexColor(ae[0],ae[1],ae[2])}_setTextStyle(re){const ae=["left","center","right"],{fontColor:Y}=this.data.defaultAppearanceData,W=this.data.defaultAppearanceData.fontSize||M,ee=re.style;let J;const te=2,X=he=>Math.round(10*he)/10;if(this.data.multiLine){const he=Math.abs(this.data.rect[3]-this.data.rect[1]-te),ue=Math.round(he/(b.LINE_FACTOR*W))||1,ce=he/ue;J=Math.min(W,X(ce/b.LINE_FACTOR))}else{const he=Math.abs(this.data.rect[3]-this.data.rect[1]-te);J=Math.min(W,X(he/b.LINE_FACTOR))}ee.fontSize=`calc(${J}px * var(--scale-factor))`,ee.color=b.Util.makeHexColor(Y[0],Y[1],Y[2]),this.data.textAlignment!==null&&(ee.textAlign=ae[this.data.textAlignment])}_setRequired(re,ae){ae?re.setAttribute("required",!0):re.removeAttribute("required"),re.setAttribute("aria-required",ae)}}class G extends V{constructor(re){const ae=re.renderForms||re.data.hasOwnCanvas||!re.data.hasAppearance&&!!re.data.fieldValue;super(re,{isRenderable:ae})}setPropertyOnSiblings(re,ae,Y,W){const ee=this.annotationStorage;for(const J of this._getElementsByName(re.name,re.id))J.domElement&&(J.domElement[ae]=Y),ee.setValue(J.id,{[W]:Y})}render(){const re=this.annotationStorage,ae=this.data.id;this.container.classList.add("textWidgetAnnotation");let Y=null;if(this.renderForms){const W=re.getValue(ae,{value:this.data.fieldValue});let ee=W.value||"";const J=re.getValue(ae,{charLimit:this.data.maxLen}).charLimit;J&&ee.length>J&&(ee=ee.slice(0,J));let te=W.formattedValue||this.data.textContent?.join(`
`)||null;te&&this.data.comb&&(te=te.replaceAll(/\s+/g,""));const X={userValue:ee,formattedValue:te,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Y=document.createElement("textarea"),Y.textContent=te??ee,this.data.doNotScroll&&(Y.style.overflowY="hidden")):(Y=document.createElement("input"),Y.type="text",Y.setAttribute("value",te??ee),this.data.doNotScroll&&(Y.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Y.hidden=!0),L.add(Y),Y.setAttribute("data-element-id",ae),Y.disabled=this.data.readOnly,Y.name=this.data.fieldName,Y.tabIndex=D,this._setRequired(Y,this.data.required),J&&(Y.maxLength=J),Y.addEventListener("input",ue=>{re.setValue(ae,{value:ue.target.value}),this.setPropertyOnSiblings(Y,"value",ue.target.value,"value"),X.formattedValue=null}),Y.addEventListener("resetform",ue=>{const ce=this.data.defaultFieldValue??"";Y.value=X.userValue=ce,X.formattedValue=null});let he=ue=>{const{formattedValue:ce}=X;ce!=null&&(ue.target.value=ce),ue.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Y.addEventListener("focus",ce=>{if(X.focused)return;const{target:se}=ce;X.userValue&&(se.value=X.userValue),X.lastCommittedValue=se.value,X.commitKey=1,this.data.actions?.Focus||(X.focused=!0)}),Y.addEventListener("updatefromsandbox",ce=>{this.showElementAndHideCanvas(ce.target);const se={value(xe){X.userValue=xe.detail.value??"",re.setValue(ae,{value:X.userValue.toString()}),xe.target.value=X.userValue},formattedValue(xe){const{formattedValue:Se}=xe.detail;X.formattedValue=Se,Se!=null&&xe.target!==document.activeElement&&(xe.target.value=Se),re.setValue(ae,{formattedValue:Se})},selRange(xe){xe.target.setSelectionRange(...xe.detail.selRange)},charLimit:xe=>{const{charLimit:Se}=xe.detail,{target:ve}=xe;if(Se===0){ve.removeAttribute("maxLength");return}ve.setAttribute("maxLength",Se);let pe=X.userValue;!pe||pe.length<=Se||(pe=pe.slice(0,Se),ve.value=X.userValue=pe,re.setValue(ae,{value:pe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae,name:"Keystroke",value:pe,willCommit:!0,commitKey:1,selStart:ve.selectionStart,selEnd:ve.selectionEnd}}))}};this._dispatchEventFromSandbox(se,ce)}),Y.addEventListener("keydown",ce=>{X.commitKey=1;let se=-1;if(ce.key==="Escape"?se=0:ce.key==="Enter"&&!this.data.multiLine?se=2:ce.key==="Tab"&&(X.commitKey=3),se===-1)return;const{value:xe}=ce.target;X.lastCommittedValue!==xe&&(X.lastCommittedValue=xe,X.userValue=xe,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae,name:"Keystroke",value:xe,willCommit:!0,commitKey:se,selStart:ce.target.selectionStart,selEnd:ce.target.selectionEnd}}))});const ue=he;he=null,Y.addEventListener("blur",ce=>{if(!X.focused||!ce.relatedTarget)return;this.data.actions?.Blur||(X.focused=!1);const{value:se}=ce.target;X.userValue=se,X.lastCommittedValue!==se&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae,name:"Keystroke",value:se,willCommit:!0,commitKey:X.commitKey,selStart:ce.target.selectionStart,selEnd:ce.target.selectionEnd}}),ue(ce)}),this.data.actions?.Keystroke&&Y.addEventListener("beforeinput",ce=>{X.lastCommittedValue=null;const{data:se,target:xe}=ce,{value:Se,selectionStart:ve,selectionEnd:pe}=xe;let Fe=ve,Re=pe;switch(ce.inputType){case"deleteWordBackward":{const Te=Se.substring(0,ve).match(/\w*[^\w]*$/);Te&&(Fe-=Te[0].length);break}case"deleteWordForward":{const Te=Se.substring(ve).match(/^[^\w]*\w*/);Te&&(Re+=Te[0].length);break}case"deleteContentBackward":ve===pe&&(Fe-=1);break;case"deleteContentForward":ve===pe&&(Re+=1);break}ce.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae,name:"Keystroke",value:Se,change:se||"",willCommit:!1,selStart:Fe,selEnd:Re}})}),this._setEventListeners(Y,X,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ce=>ce.target.value)}if(he&&Y.addEventListener("blur",he),this.data.comb){const ce=(this.data.rect[2]-this.data.rect[0])/J;Y.classList.add("comb"),Y.style.letterSpacing=`calc(${ce}px * var(--scale-factor) - 1ch)`}}else Y=document.createElement("div"),Y.textContent=this.data.fieldValue,Y.style.verticalAlign="middle",Y.style.display="table-cell",this.data.hasOwnCanvas&&(Y.hidden=!0);return this._setTextStyle(Y),this._setBackgroundColor(Y),this._setDefaultPropertiesFromJS(Y),this.container.append(Y),this.container}}class $ extends V{constructor(re){super(re,{isRenderable:!!re.data.hasOwnCanvas})}}class K extends V{constructor(re){super(re,{isRenderable:re.renderForms})}render(){const re=this.annotationStorage,ae=this.data,Y=ae.id;let W=re.getValue(Y,{value:ae.exportValue===ae.fieldValue}).value;typeof W=="string"&&(W=W!=="Off",re.setValue(Y,{value:W})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ee=document.createElement("input");return L.add(ee),ee.setAttribute("data-element-id",Y),ee.disabled=ae.readOnly,this._setRequired(ee,this.data.required),ee.type="checkbox",ee.name=ae.fieldName,W&&ee.setAttribute("checked",!0),ee.setAttribute("exportValue",ae.exportValue),ee.tabIndex=D,ee.addEventListener("change",J=>{const{name:te,checked:X}=J.target;for(const he of this._getElementsByName(te,Y)){const ue=X&&he.exportValue===ae.exportValue;he.domElement&&(he.domElement.checked=ue),re.setValue(he.id,{value:ue})}re.setValue(Y,{value:X})}),ee.addEventListener("resetform",J=>{const te=ae.defaultFieldValue||"Off";J.target.checked=te===ae.exportValue}),this.enableScripting&&this.hasJSActions&&(ee.addEventListener("updatefromsandbox",J=>{const te={value(X){X.target.checked=X.detail.value!=="Off",re.setValue(Y,{value:X.target.checked})}};this._dispatchEventFromSandbox(te,J)}),this._setEventListeners(ee,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)),this._setBackgroundColor(ee),this._setDefaultPropertiesFromJS(ee),this.container.append(ee),this.container}}class Z extends V{constructor(re){super(re,{isRenderable:re.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const re=this.annotationStorage,ae=this.data,Y=ae.id;let W=re.getValue(Y,{value:ae.fieldValue===ae.buttonValue}).value;if(typeof W=="string"&&(W=W!==ae.buttonValue,re.setValue(Y,{value:W})),W)for(const J of this._getElementsByName(ae.fieldName,Y))re.setValue(J.id,{value:!1});const ee=document.createElement("input");if(L.add(ee),ee.setAttribute("data-element-id",Y),ee.disabled=ae.readOnly,this._setRequired(ee,this.data.required),ee.type="radio",ee.name=ae.fieldName,W&&ee.setAttribute("checked",!0),ee.tabIndex=D,ee.addEventListener("change",J=>{const{name:te,checked:X}=J.target;for(const he of this._getElementsByName(te,Y))re.setValue(he.id,{value:!1});re.setValue(Y,{value:X})}),ee.addEventListener("resetform",J=>{const te=ae.defaultFieldValue;J.target.checked=te!=null&&te===ae.buttonValue}),this.enableScripting&&this.hasJSActions){const J=ae.buttonValue;ee.addEventListener("updatefromsandbox",te=>{const X={value:he=>{const ue=J===he.detail.value;for(const ce of this._getElementsByName(he.target.name)){const se=ue&&ce.id===Y;ce.domElement&&(ce.domElement.checked=se),re.setValue(ce.id,{value:se})}}};this._dispatchEventFromSandbox(X,te)}),this._setEventListeners(ee,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],te=>te.target.checked)}return this._setBackgroundColor(ee),this._setDefaultPropertiesFromJS(ee),this.container.append(ee),this.container}}class Q extends H{constructor(re){super(re,{ignoreBorder:re.data.hasAppearance})}render(){const re=super.render();re.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(re.title=this.data.alternativeText);const ae=re.lastChild;return this.enableScripting&&this.hasJSActions&&ae&&(this._setDefaultPropertiesFromJS(ae),ae.addEventListener("updatefromsandbox",Y=>{this._dispatchEventFromSandbox({},Y)})),re}}class ne extends V{constructor(re){super(re,{isRenderable:re.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const re=this.annotationStorage,ae=this.data.id,Y=re.getValue(ae,{value:this.data.fieldValue}),W=document.createElement("select");L.add(W),W.setAttribute("data-element-id",ae),W.disabled=this.data.readOnly,this._setRequired(W,this.data.required),W.name=this.data.fieldName,W.tabIndex=D;let ee=this.data.combo&&this.data.options.length>0;this.data.combo||(W.size=this.data.options.length,this.data.multiSelect&&(W.multiple=!0)),W.addEventListener("resetform",ue=>{const ce=this.data.defaultFieldValue;for(const se of W.options)se.selected=se.value===ce});for(const ue of this.data.options){const ce=document.createElement("option");ce.textContent=ue.displayValue,ce.value=ue.exportValue,Y.value.includes(ue.exportValue)&&(ce.setAttribute("selected",!0),ee=!1),W.append(ce)}let J=null;if(ee){const ue=document.createElement("option");ue.value=" ",ue.setAttribute("hidden",!0),ue.setAttribute("selected",!0),W.prepend(ue),J=()=>{ue.remove(),W.removeEventListener("input",J),J=null},W.addEventListener("input",J)}const te=ue=>{const ce=ue?"value":"textContent",{options:se,multiple:xe}=W;return xe?Array.prototype.filter.call(se,Se=>Se.selected).map(Se=>Se[ce]):se.selectedIndex===-1?null:se[se.selectedIndex][ce]};let X=te(!1);const he=ue=>{const ce=ue.target.options;return Array.prototype.map.call(ce,se=>({displayValue:se.textContent,exportValue:se.value}))};return this.enableScripting&&this.hasJSActions?(W.addEventListener("updatefromsandbox",ue=>{const ce={value(se){J?.();const xe=se.detail.value,Se=new Set(Array.isArray(xe)?xe:[xe]);for(const ve of W.options)ve.selected=Se.has(ve.value);re.setValue(ae,{value:te(!0)}),X=te(!1)},multipleSelection(se){W.multiple=!0},remove(se){const xe=W.options,Se=se.detail.remove;xe[Se].selected=!1,W.remove(Se),xe.length>0&&Array.prototype.findIndex.call(xe,pe=>pe.selected)===-1&&(xe[0].selected=!0),re.setValue(ae,{value:te(!0),items:he(se)}),X=te(!1)},clear(se){for(;W.length!==0;)W.remove(0);re.setValue(ae,{value:null,items:[]}),X=te(!1)},insert(se){const{index:xe,displayValue:Se,exportValue:ve}=se.detail.insert,pe=W.children[xe],Fe=document.createElement("option");Fe.textContent=Se,Fe.value=ve,pe?pe.before(Fe):W.append(Fe),re.setValue(ae,{value:te(!0),items:he(se)}),X=te(!1)},items(se){const{items:xe}=se.detail;for(;W.length!==0;)W.remove(0);for(const Se of xe){const{displayValue:ve,exportValue:pe}=Se,Fe=document.createElement("option");Fe.textContent=ve,Fe.value=pe,W.append(Fe)}W.options.length>0&&(W.options[0].selected=!0),re.setValue(ae,{value:te(!0),items:he(se)}),X=te(!1)},indices(se){const xe=new Set(se.detail.indices);for(const Se of se.target.options)Se.selected=xe.has(Se.index);re.setValue(ae,{value:te(!0)}),X=te(!1)},editable(se){se.target.disabled=!se.detail.editable}};this._dispatchEventFromSandbox(ce,ue)}),W.addEventListener("input",ue=>{const ce=te(!0);re.setValue(ae,{value:ce}),ue.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae,name:"Keystroke",value:X,changeEx:ce,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(W,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ue=>ue.target.value)):W.addEventListener("input",function(ue){re.setValue(ae,{value:te(!0)})}),this.data.combo&&this._setTextStyle(W),this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class le extends j{constructor(re){const{data:ae,elements:Y}=re;super(re,{isRenderable:j._hasPopupData(ae)}),this.elements=Y}render(){this.container.classList.add("popupAnnotation");const re=new fe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ae=[];for(const Y of this.elements)Y.popup=re,ae.push(Y.data.id),Y.addHighlightArea();return this.container.setAttribute("aria-controls",ae.map(Y=>`${b.AnnotationPrefix}${Y}`).join(",")),this.container}}class fe{#e=this.#m.bind(this);#t=this.#F.bind(this);#n=this.#y.bind(this);#r=this.#d.bind(this);#s=null;#i=null;#c=null;#l=null;#o=null;#u=null;#a=null;#f=!1;#h=null;#g=null;#p=null;#b=null;#x=!1;constructor({container:re,color:ae,elements:Y,titleObj:W,modificationDate:ee,contentsObj:J,richText:te,parent:X,rect:he,parentRect:ue,open:ce}){this.#i=re,this.#b=W,this.#c=J,this.#p=te,this.#u=X,this.#s=ae,this.#g=he,this.#a=ue,this.#o=Y,this.#l=w.PDFDateString.toDateObject(ee),this.trigger=Y.flatMap(se=>se.getElementsToTriggerPopup());for(const se of this.trigger)se.addEventListener("click",this.#r),se.addEventListener("mouseenter",this.#n),se.addEventListener("mouseleave",this.#t),se.classList.add("popupTriggerArea");for(const se of Y)se.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,ce&&this.#d()}render(){if(this.#h)return;const{page:{view:re},viewport:{rawDims:{pageWidth:ae,pageHeight:Y,pageX:W,pageY:ee}}}=this.#u,J=this.#h=document.createElement("div");if(J.className="popup",this.#s){const Te=J.style.outlineColor=b.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?J.style.backgroundColor=`color-mix(in srgb, ${Te} 30%, white)`:J.style.backgroundColor=b.Util.makeHexColor(...this.#s.map(ye=>Math.floor(.7*(255-ye)+ye)))}const te=document.createElement("span");te.className="header";const X=document.createElement("h1");if(te.append(X),{dir:X.dir,str:X.textContent}=this.#b,J.append(te),this.#l){const Te=document.createElement("span");Te.classList.add("popupDate"),Te.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),Te.setAttribute("data-l10n-args",JSON.stringify({date:this.#l.toLocaleDateString(),time:this.#l.toLocaleTimeString()})),te.append(Te)}const he=this.#c,ue=this.#p;if(ue?.str&&(!he?.str||he.str===ue.str))k.XfaLayer.render({xfaHtml:ue.html,intent:"richText",div:J}),J.lastChild.classList.add("richText","popupContent");else{const Te=this._formatContents(he);J.append(Te)}let ce=!!this.#a,se=ce?this.#a:this.#g;for(const Te of this.#o)if(!se||b.Util.intersect(Te.data.rect,se)!==null){se=Te.data.rect,ce=!0;break}const xe=b.Util.normalizeRect([se[0],re[3]-se[1]+re[1],se[2],re[3]-se[3]+re[1]]),Se=5,ve=ce?se[2]-se[0]+Se:0,pe=xe[0]+ve,Fe=xe[1],{style:Re}=this.#i;Re.left=`${100*(pe-W)/ae}%`,Re.top=`${100*(Fe-ee)/Y}%`,this.#i.append(J)}_formatContents({str:re,dir:ae}){const Y=document.createElement("p");Y.classList.add("popupContent"),Y.dir=ae;const W=re.split(/(?:\r\n?|\n)/);for(let ee=0,J=W.length;ee<J;++ee){const te=W[ee];Y.append(document.createTextNode(te)),ee<J-1&&Y.append(document.createElement("br"))}return Y}#m(re){re.altKey||re.shiftKey||re.ctrlKey||re.metaKey||(re.key==="Enter"||re.key==="Escape"&&this.#f)&&this.#d()}#d(){this.#f=!this.#f,this.#f?(this.#y(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#F(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#y(){this.#h||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#F(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#x=this.isVisible,this.#x&&(this.#i.hidden=!0)}maybeShow(){this.#x&&(this.#x=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class be extends j{constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0}),this.textContent=re.data.textContent,this.textPosition=re.data.textPosition,this.annotationEditorType=b.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const re=document.createElement("div");re.classList.add("annotationTextContent"),re.setAttribute("role","comment");for(const ae of this.textContent){const Y=document.createElement("span");Y.textContent=ae,re.append(Y)}this.container.append(re)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class me extends j{#e=null;constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const re=this.data,{width:ae,height:Y}=R(re.rect),W=this.svgFactory.create(ae,Y,!0),ee=this.#e=this.svgFactory.createElement("svg:line");return ee.setAttribute("x1",re.rect[2]-re.lineCoordinates[0]),ee.setAttribute("y1",re.rect[3]-re.lineCoordinates[1]),ee.setAttribute("x2",re.rect[2]-re.lineCoordinates[2]),ee.setAttribute("y2",re.rect[3]-re.lineCoordinates[3]),ee.setAttribute("stroke-width",re.borderStyle.width||1),ee.setAttribute("stroke","transparent"),ee.setAttribute("fill","transparent"),W.append(ee),this.container.append(W),!re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class we extends j{#e=null;constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const re=this.data,{width:ae,height:Y}=R(re.rect),W=this.svgFactory.create(ae,Y,!0),ee=re.borderStyle.width,J=this.#e=this.svgFactory.createElement("svg:rect");return J.setAttribute("x",ee/2),J.setAttribute("y",ee/2),J.setAttribute("width",ae-ee),J.setAttribute("height",Y-ee),J.setAttribute("stroke-width",ee||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),W.append(J),this.container.append(W),!re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class oe extends j{#e=null;constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const re=this.data,{width:ae,height:Y}=R(re.rect),W=this.svgFactory.create(ae,Y,!0),ee=re.borderStyle.width,J=this.#e=this.svgFactory.createElement("svg:ellipse");return J.setAttribute("cx",ae/2),J.setAttribute("cy",Y/2),J.setAttribute("rx",ae/2-ee/2),J.setAttribute("ry",Y/2-ee/2),J.setAttribute("stroke-width",ee||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),W.append(J),this.container.append(W),!re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ge extends j{#e=null;constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const re=this.data,{width:ae,height:Y}=R(re.rect),W=this.svgFactory.create(ae,Y,!0);let ee=[];for(const te of re.vertices){const X=te.x-re.rect[0],he=re.rect[3]-te.y;ee.push(X+","+he)}ee=ee.join(" ");const J=this.#e=this.svgFactory.createElement(this.svgElementName);return J.setAttribute("points",ee),J.setAttribute("stroke-width",re.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),W.append(J),this.container.append(W),!re.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ae extends ge{constructor(re){super(re),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ce extends j{constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ne extends j{#e=[];constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=b.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const re=this.data,{width:ae,height:Y}=R(re.rect),W=this.svgFactory.create(ae,Y,!0);for(const ee of re.inkLists){let J=[];for(const X of ee){const he=X.x-re.rect[0],ue=re.rect[3]-X.y;J.push(`${he},${ue}`)}J=J.join(" ");const te=this.svgFactory.createElement(this.svgElementName);this.#e.push(te),te.setAttribute("points",J),te.setAttribute("stroke-width",re.borderStyle.width||1),te.setAttribute("stroke","transparent"),te.setAttribute("fill","transparent"),!re.popupRef&&this.hasPopupData&&this._createPopup(),W.append(te)}return this.container.append(W),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Oe extends j{constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Be extends j{constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ie extends j{constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ee extends j{constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ue extends j{constructor(re){super(re,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class De extends j{#e=null;constructor(re){super(re,{isRenderable:!0});const{filename:ae,content:Y}=this.data.file;this.filename=(0,w.getFilenameFromUrl)(ae,!0),this.content=Y,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:ae,content:Y})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:re,data:ae}=this;let Y;ae.hasAppearance||ae.fillAlpha===0?Y=document.createElement("div"):(Y=document.createElement("img"),Y.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ae.name)?"paperclip":"pushpin"}.svg`,ae.fillAlpha&&ae.fillAlpha<1&&(Y.style=`filter: opacity(${Math.round(ae.fillAlpha*100)}%);`)),Y.addEventListener("dblclick",this.#t.bind(this)),this.#e=Y;const{isMac:W}=b.FeatureTest.platform;return re.addEventListener("keydown",ee=>{ee.key==="Enter"&&(W?ee.metaKey:ee.ctrlKey)&&this.#t()}),!ae.popupRef&&this.hasPopupData?this._createPopup():Y.classList.add("popupTriggerArea"),re.append(Y),re}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class _e{#e=null;#t=null;#n=new Map;constructor({div:re,accessibilityManager:ae,annotationCanvasMap:Y,page:W,viewport:ee}){this.div=re,this.#e=ae,this.#t=Y,this.page=W,this.viewport=ee,this.zIndex=0}#r(re,ae){const Y=re.firstChild||re;Y.id=`${b.AnnotationPrefix}${ae}`,this.div.append(re),this.#e?.moveElementInDOM(this.div,re,Y,!1)}async render(re){const{annotations:ae}=re,Y=this.div;(0,w.setLayerDimensions)(Y,this.viewport);const W=new Map,ee={data:null,layer:Y,linkService:re.linkService,downloadManager:re.downloadManager,imageResourcesPath:re.imageResourcesPath||"",renderForms:re.renderForms!==!1,svgFactory:new w.DOMSVGFactory,annotationStorage:re.annotationStorage||new S.AnnotationStorage,enableScripting:re.enableScripting===!0,hasJSActions:re.hasJSActions,fieldObjects:re.fieldObjects,parent:this,elements:null};for(const J of ae){if(J.noHTML)continue;const te=J.annotationType===b.AnnotationType.POPUP;if(te){const ue=W.get(J.id);if(!ue)continue;ee.elements=ue}else{const{width:ue,height:ce}=R(J.rect);if(ue<=0||ce<=0)continue}ee.data=J;const X=U.create(ee);if(!X.isRenderable)continue;if(!te&&J.popupRef){const ue=W.get(J.popupRef);ue?ue.push(X):W.set(J.popupRef,[X])}X.annotationEditorType>0&&this.#n.set(X.data.id,X);const he=X.render();J.hidden&&(he.style.visibility="hidden"),this.#r(he,J.id)}this.#s()}update({viewport:re}){const ae=this.div;this.viewport=re,(0,w.setLayerDimensions)(ae,{rotation:re.rotation}),this.#s(),ae.hidden=!1}#s(){if(!this.#t)return;const re=this.div;for(const[ae,Y]of this.#t){const W=re.querySelector(`[data-annotation-id="${ae}"]`);if(!W)continue;const{firstChild:ee}=W;ee?ee.nodeName==="CANVAS"?ee.replaceWith(Y):ee.before(Y):W.append(Y)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(re){return this.#n.get(re)}}},780:(g,d,x)=>{x.d(d,{AnnotationStorage:()=>F,PrintAnnotationStorage:()=>E,SerializableEmpty:()=>C});var b=x(266),w=x(796),S=x(825);const C=Object.freeze({map:null,hash:"",transfer:void 0});class F{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(D,M){const L=this.#t.get(D);return L===void 0?M:Object.assign(M,L)}getRawValue(D){return this.#t.get(D)}remove(D){if(this.#t.delete(D),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const M of this.#t.values())if(M instanceof w.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(D,M){const L=this.#t.get(D);let R=!1;if(L!==void 0)for(const[U,j]of Object.entries(M))L[U]!==j&&(R=!0,L[U]=j);else R=!0,this.#t.set(D,M);R&&this.#n(),M instanceof w.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(M.constructor._type)}has(D){return this.#t.has(D)}getAll(){return this.#t.size>0?(0,b.objectFromMap)(this.#t):null}setAll(D){for(const[M,L]of Object.entries(D))this.setValue(M,L)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new E(this)}get serializable(){if(this.#t.size===0)return C;const D=new Map,M=new S.MurmurHash3_64,L=[],R=Object.create(null);let U=!1;for(const[j,H]of this.#t){const z=H instanceof w.AnnotationEditor?H.serialize(!1,R):H;z&&(D.set(j,z),M.update(`${j}:${JSON.stringify(z)}`),U||=!!z.bitmap)}if(U)for(const j of D.values())j.bitmap&&L.push(j.bitmap);return D.size>0?{map:D,hash:M.hexdigest(),transfer:L}:C}}class E extends F{#e;constructor(D){super();const{map:M,hash:L,transfer:R}=D.serializable,U=structuredClone(M,R?{transfer:R}:null);this.#e={map:U,hash:L,transfer:R}}get print(){(0,b.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}},406:(g,d,x)=>{x.a(g,async(b,w)=>{try{let me=function(Y){if(typeof Y=="string"||Y instanceof URL?Y={url:Y}:(0,S.isArrayBuffer)(Y)&&(Y={data:Y}),typeof Y!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Y.url&&!Y.data&&!Y.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const W=new Ae,{docId:ee}=W,J=Y.url?oe(Y.url):null,te=Y.data?ge(Y.data):null,X=Y.httpHeaders||null,he=Y.withCredentials===!0,ue=Y.password??null,ce=Y.range instanceof Ce?Y.range:null,se=Number.isInteger(Y.rangeChunkSize)&&Y.rangeChunkSize>0?Y.rangeChunkSize:K;let xe=Y.worker instanceof Ee?Y.worker:null;const Se=Y.verbosity,ve=typeof Y.docBaseUrl=="string"&&!(0,F.isDataScheme)(Y.docBaseUrl)?Y.docBaseUrl:null,pe=typeof Y.cMapUrl=="string"?Y.cMapUrl:null,Fe=Y.cMapPacked!==!1,Re=Y.CMapReaderFactory||le,Te=typeof Y.standardFontDataUrl=="string"?Y.standardFontDataUrl:null,Le=Y.StandardFontDataFactory||be,ye=Y.stopAtErrors!==!0,ie=Number.isInteger(Y.maxImageSize)&&Y.maxImageSize>-1?Y.maxImageSize:-1,de=Y.isEvalSupported!==!1,ke=typeof Y.isOffscreenCanvasSupported=="boolean"?Y.isOffscreenCanvasSupported:!S.isNodeJS,Me=Number.isInteger(Y.canvasMaxAreaInBytes)?Y.canvasMaxAreaInBytes:-1,je=typeof Y.disableFontFace=="boolean"?Y.disableFontFace:S.isNodeJS,He=Y.fontExtraProperties===!0,ze=Y.enableXfa===!0,Ve=Y.ownerDocument||globalThis.document,Ge=Y.disableRange===!0,$e=Y.disableStream===!0,Xe=Y.disableAutoFetch===!0,We=Y.pdfBug===!0,Ye=ce?ce.length:Y.length??NaN,Ke=typeof Y.useSystemFonts=="boolean"?Y.useSystemFonts:!S.isNodeJS&&!je,qe=typeof Y.useWorkerFetch=="boolean"?Y.useWorkerFetch:Re===F.DOMCMapReaderFactory&&Le===F.DOMStandardFontDataFactory&&pe&&Te&&(0,F.isValidFetchUrl)(pe,document.baseURI)&&(0,F.isValidFetchUrl)(Te,document.baseURI),Qe=Y.canvasFactory||new ne({ownerDocument:Ve}),tt=Y.filterFactory||new fe({docId:ee,ownerDocument:Ve}),ot=null;(0,S.setVerbosityLevel)(Se);const et={canvasFactory:Qe,filterFactory:tt};if(qe||(et.cMapReaderFactory=new Re({baseUrl:pe,isCompressed:Fe}),et.standardFontDataFactory=new Le({baseUrl:Te})),!xe){const nt={verbosity:Se,port:M.GlobalWorkerOptions.workerPort};xe=nt.port?Ee.fromPort(nt):new Ee(nt),W._worker=xe}const Je={docId:ee,apiVersion:"4.0.269",data:te,password:ue,disableAutoFetch:Xe,rangeChunkSize:se,length:Ye,docBaseUrl:ve,enableXfa:ze,evaluatorOptions:{maxImageSize:ie,disableFontFace:je,ignoreErrors:ye,isEvalSupported:de,isOffscreenCanvasSupported:ke,canvasMaxAreaInBytes:Me,fontExtraProperties:He,useSystemFonts:Ke,cMapUrl:qe?pe:null,standardFontDataUrl:qe?Te:null}},ct={ignoreErrors:ye,isEvalSupported:de,disableFontFace:je,fontExtraProperties:He,enableXfa:ze,ownerDocument:Ve,disableAutoFetch:Xe,pdfBug:We,styleElement:ot};return xe.promise.then(function(){if(W.destroyed)throw new Error("Loading aborted");const nt=we(xe,Je),rt=new Promise(function(Ze){let at;ce?at=new j.PDFDataTransportStream({length:Ye,initialData:ce.initialData,progressiveDone:ce.progressiveDone,contentDispositionFilename:ce.contentDispositionFilename,disableRange:Ge,disableStream:$e},ce):te||(at=(it=>S.isNodeJS?new V.PDFNodeStream(it):(0,F.isValidFetchUrl)(it.url)?new H.PDFFetchStream(it):new z.PDFNetworkStream(it))({url:J,length:Ye,httpHeaders:X,withCredentials:he,rangeChunkSize:se,disableRange:Ge,disableStream:$e})),Ze(at)});return Promise.all([nt,rt]).then(function([Ze,at]){if(W.destroyed)throw new Error("Loading aborted");const lt=new L.MessageHandler(ee,Ze,xe.port),it=new Ue(lt,W,at,ct,et);W._transport=it,lt.send("Ready",null)})}).catch(W._capability.reject),W},oe=function(Y){if(Y instanceof URL)return Y.href;try{return new URL(Y,window.location).href}catch{if(S.isNodeJS&&typeof Y=="string")return Y}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")},ge=function(Y){if(S.isNodeJS&&typeof Buffer<"u"&&Y instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Y instanceof Uint8Array&&Y.byteLength===Y.buffer.byteLength)return Y;if(typeof Y=="string")return(0,S.stringToBytes)(Y);if(typeof Y=="object"&&!isNaN(Y?.length)||(0,S.isArrayBuffer)(Y))return new Uint8Array(Y);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")};x.d(d,{PDFDataRangeTransport:()=>Ce,PDFWorker:()=>Ee,build:()=>ae,getDocument:()=>me,version:()=>re});var S=x(266),C=x(780),F=x(473),E=x(742),k=x(738),D=x(250),M=x(368),L=x(694),R=x(472),U=x(890),j=x(92),H=x(171),z=x(474),V=x(498),G=x(521),$=b([k,V]);[k,V]=$.then?(await $)():$;const K=65536,Z=100,Q=5e3,ne=S.isNodeJS?k.NodeCanvasFactory:F.DOMCanvasFactory,le=S.isNodeJS?k.NodeCMapReaderFactory:F.DOMCMapReaderFactory,fe=S.isNodeJS?k.NodeFilterFactory:F.DOMFilterFactory,be=S.isNodeJS?k.NodeStandardFontDataFactory:F.DOMStandardFontDataFactory;async function we(Y,W){if(Y.destroyed)throw new Error("Worker was destroyed");const ee=await Y.messageHandler.sendWithPromise("GetDocRequest",W,W.data?[W.data.buffer]:null);if(Y.destroyed)throw new Error("Worker was destroyed");return ee}class Ae{static#e=0;constructor(){this._capability=new S.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Ae.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(W){throw this._worker?.port&&delete this._worker._pendingDestroy,W}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class Ce{constructor(W,ee,J=!1,te=null){this.length=W,this.initialData=ee,this.progressiveDone=J,this.contentDispositionFilename=te,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new S.PromiseCapability}addRangeListener(W){this._rangeListeners.push(W)}addProgressListener(W){this._progressListeners.push(W)}addProgressiveReadListener(W){this._progressiveReadListeners.push(W)}addProgressiveDoneListener(W){this._progressiveDoneListeners.push(W)}onDataRange(W,ee){for(const J of this._rangeListeners)J(W,ee)}onDataProgress(W,ee){this._readyCapability.promise.then(()=>{for(const J of this._progressListeners)J(W,ee)})}onDataProgressiveRead(W){this._readyCapability.promise.then(()=>{for(const ee of this._progressiveReadListeners)ee(W)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const W of this._progressiveDoneListeners)W()})}transportReady(){this._readyCapability.resolve()}requestDataRange(W,ee){(0,S.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ne{constructor(W,ee){this._pdfInfo=W,this._transport=ee}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,S.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(W){return this._transport.getPage(W)}getPageIndex(W){return this._transport.getPageIndex(W)}getDestinations(){return this._transport.getDestinations()}getDestination(W){return this._transport.getDestination(W)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(W=!1){return this._transport.startCleanup(W||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Oe{#e=null;#t=!1;constructor(W,ee,J,te=!1){this._pageIndex=W,this._pageInfo=ee,this._transport=J,this._stats=te?new F.StatTimer:null,this._pdfBug=te,this.commonObjs=J.commonObjs,this.objs=new De,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:W,rotation:ee=this.rotate,offsetX:J=0,offsetY:te=0,dontFlip:X=!1}={}){return new F.PageViewport({viewBox:this.view,scale:W,rotation:ee,offsetX:J,offsetY:te,dontFlip:X})}getAnnotations({intent:W="display"}={}){const ee=this._transport.getRenderingIntent(W);return this._transport.getAnnotations(this._pageIndex,ee.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,S.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:W,viewport:ee,intent:J="display",annotationMode:te=S.AnnotationMode.ENABLE,transform:X=null,background:he=null,optionalContentConfigPromise:ue=null,annotationCanvasMap:ce=null,pageColors:se=null,printAnnotationStorage:xe=null}){this._stats?.time("Overall");const Se=this._transport.getRenderingIntent(J,te,xe);this.#t=!1,this.#r(),ue||(ue=this._transport.getOptionalContentConfig());let ve=this._intentStates.get(Se.cacheKey);ve||(ve=Object.create(null),this._intentStates.set(Se.cacheKey,ve)),ve.streamReaderCancelTimeout&&(clearTimeout(ve.streamReaderCancelTimeout),ve.streamReaderCancelTimeout=null);const pe=!!(Se.renderingIntent&S.RenderingIntentFlag.PRINT);ve.displayReadyCapability||(ve.displayReadyCapability=new S.PromiseCapability,ve.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(Se));const Fe=Le=>{ve.renderTasks.delete(Re),(this._maybeCleanupAfterRender||pe)&&(this.#t=!0),this.#n(!pe),Le?(Re.capability.reject(Le),this._abortOperatorList({intentState:ve,reason:Le instanceof Error?Le:new Error(Le)})):Re.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},Re=new Pe({callback:Fe,params:{canvasContext:W,viewport:ee,transform:X,background:he},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ce,operatorList:ve.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!pe,pdfBug:this._pdfBug,pageColors:se});(ve.renderTasks||=new Set).add(Re);const Te=Re.task;return Promise.all([ve.displayReadyCapability.promise,ue]).then(([Le,ye])=>{if(this.destroyed){Fe();return}this._stats?.time("Rendering"),Re.initializeGraphics({transparency:Le,optionalContentConfig:ye}),Re.operatorListChanged()}).catch(Fe),Te}getOperatorList({intent:W="display",annotationMode:ee=S.AnnotationMode.ENABLE,printAnnotationStorage:J=null}={}){function te(){he.operatorList.lastChunk&&(he.opListReadCapability.resolve(he.operatorList),he.renderTasks.delete(ue))}const X=this._transport.getRenderingIntent(W,ee,J,!0);let he=this._intentStates.get(X.cacheKey);he||(he=Object.create(null),this._intentStates.set(X.cacheKey,he));let ue;return he.opListReadCapability||(ue=Object.create(null),ue.operatorListChanged=te,he.opListReadCapability=new S.PromiseCapability,(he.renderTasks||=new Set).add(ue),he.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(X)),he.opListReadCapability.promise}streamTextContent({includeMarkedContent:W=!1,disableNormalization:ee=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:W===!0,disableNormalization:ee===!0},{highWaterMark:100,size(te){return te.items.length}})}getTextContent(W={}){if(this._transport._htmlForXfa)return this.getXfa().then(J=>G.XfaText.textContent(J));const ee=this.streamTextContent(W);return new Promise(function(J,te){function X(){he.read().then(function({value:ce,done:se}){if(se){J(ue);return}Object.assign(ue.styles,ce.styles),ue.items.push(...ce.items),X()},te)}const he=ee.getReader(),ue={items:[],styles:Object.create(null)};X()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const W=[];for(const ee of this._intentStates.values())if(this._abortOperatorList({intentState:ee,reason:new Error("Page was destroyed."),force:!0}),!ee.opListReadCapability)for(const J of ee.renderTasks)W.push(J.completed),J.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(W)}cleanup(W=!1){this.#t=!0;const ee=this.#n(!1);return W&&ee&&(this._stats&&=new F.StatTimer),ee}#n(W=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(W)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},Q),!1;for(const{renderTasks:ee,operatorList:J}of this._intentStates.values())if(ee.size>0||!J.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(W,ee){const J=this._intentStates.get(ee);J&&(this._stats?.timeEnd("Page Request"),J.displayReadyCapability?.resolve(W))}_renderPageChunk(W,ee){for(let J=0,te=W.length;J<te;J++)ee.operatorList.fnArray.push(W.fnArray[J]),ee.operatorList.argsArray.push(W.argsArray[J]);ee.operatorList.lastChunk=W.lastChunk,ee.operatorList.separateAnnots=W.separateAnnots;for(const J of ee.renderTasks)J.operatorListChanged();W.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:W,cacheKey:ee,annotationStorageSerializable:J}){const{map:te,transfer:X}=J,ue=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:W,cacheKey:ee,annotationStorage:te},X).getReader(),ce=this._intentStates.get(ee);ce.streamReader=ue;const se=()=>{ue.read().then(({value:xe,done:Se})=>{if(Se){ce.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(xe,ce),se())},xe=>{if(ce.streamReader=null,!this._transport.destroyed){if(ce.operatorList){ce.operatorList.lastChunk=!0;for(const Se of ce.renderTasks)Se.operatorListChanged();this.#n(!0)}if(ce.displayReadyCapability)ce.displayReadyCapability.reject(xe);else if(ce.opListReadCapability)ce.opListReadCapability.reject(xe);else throw xe}})};se()}_abortOperatorList({intentState:W,reason:ee,force:J=!1}){if(W.streamReader){if(W.streamReaderCancelTimeout&&(clearTimeout(W.streamReaderCancelTimeout),W.streamReaderCancelTimeout=null),!J){if(W.renderTasks.size>0)return;if(ee instanceof F.RenderingCancelledException){let te=Z;ee.extraDelay>0&&ee.extraDelay<1e3&&(te+=ee.extraDelay),W.streamReaderCancelTimeout=setTimeout(()=>{W.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:W,reason:ee,force:!0})},te);return}}if(W.streamReader.cancel(new S.AbortException(ee.message)).catch(()=>{}),W.streamReader=null,!this._transport.destroyed){for(const[te,X]of this._intentStates)if(X===W){this._intentStates.delete(te);break}this.cleanup()}}}get stats(){return this._stats}}class Be{#e=new Set;#t=Promise.resolve();postMessage(W,ee){const J={data:structuredClone(W,ee?{transfer:ee}:null)};this.#t.then(()=>{for(const te of this.#e)te.call(this,J)})}addEventListener(W,ee){this.#e.add(ee)}removeEventListener(W,ee){this.#e.delete(ee)}terminate(){this.#e.clear()}}const Ie={isWorkerDisabled:!1,fakeWorkerId:0};S.isNodeJS&&(Ie.isWorkerDisabled=!0,M.GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),Ie.isSameOrigin=function(Y,W){let ee;try{if(ee=new URL(Y),!ee.origin||ee.origin==="null")return!1}catch{return!1}const J=new URL(W,ee);return ee.origin===J.origin},Ie.createCDNWrapper=function(Y){const W=`await import("${Y}");`;return URL.createObjectURL(new Blob([W],{type:"text/javascript"}))};class Ee{static#e;constructor({name:W=null,port:ee=null,verbosity:J=(0,S.getVerbosityLevel)()}={}){if(this.name=W,this.destroyed=!1,this.verbosity=J,this._readyCapability=new S.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ee){if(Ee.#e?.has(ee))throw new Error("Cannot use more than one PDFWorker per port.");(Ee.#e||=new WeakMap).set(ee,this),this._initializeFromPort(ee);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(W){this._port=W,this._messageHandler=new L.MessageHandler("main","worker",W),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Ie.isWorkerDisabled&&!Ee.#t){let{workerSrc:W}=Ee;try{Ie.isSameOrigin(window.location.href,W)||(W=Ie.createCDNWrapper(new URL(W,window.location).href));const ee=new Worker(W,{type:"module"}),J=new L.MessageHandler("main","worker",ee),te=()=>{ee.removeEventListener("error",X),J.destroy(),ee.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},X=()=>{this._webWorker||te()};ee.addEventListener("error",X),J.on("test",ue=>{if(ee.removeEventListener("error",X),this.destroyed){te();return}ue?(this._messageHandler=J,this._port=ee,this._webWorker=ee,this._readyCapability.resolve(),J.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),J.destroy(),ee.terminate())}),J.on("ready",ue=>{if(ee.removeEventListener("error",X),this.destroyed){te();return}try{he()}catch{this._setupFakeWorker()}});const he=()=>{const ue=new Uint8Array;J.send("test",ue,[ue.buffer])};he();return}catch{(0,S.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Ie.isWorkerDisabled||((0,S.warn)("Setting up fake worker."),Ie.isWorkerDisabled=!0),Ee._setupFakeWorkerGlobal.then(W=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ee=new Be;this._port=ee;const J=`fake${Ie.fakeWorkerId++}`,te=new L.MessageHandler(J+"_worker",J,ee);W.setup(te,ee);const X=new L.MessageHandler(J,J+"_worker",ee);this._messageHandler=X,this._readyCapability.resolve(),X.send("configure",{verbosity:this.verbosity})}).catch(W=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${W.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ee.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(W){if(!W?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const ee=this.#e?.get(W.port);if(ee){if(ee._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ee}return new Ee(W)}static get workerSrc(){if(M.GlobalWorkerOptions.workerSrc)return M.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#t(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const W=async()=>this.#t?this.#t:(await __vitePreload(()=>import(this.workerSrc),__vite__mapDeps([]))).WorkerMessageHandler;return(0,S.shadow)(this,"_setupFakeWorkerGlobal",W())}}class Ue{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(W,ee,J,te,X){this.messageHandler=W,this.loadingTask=ee,this.commonObjs=new De,this.fontLoader=new E.FontLoader({ownerDocument:te.ownerDocument,styleElement:te.styleElement}),this._params=te,this.canvasFactory=X.canvasFactory,this.filterFactory=X.filterFactory,this.cMapReaderFactory=X.cMapReaderFactory,this.standardFontDataFactory=X.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=J,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new S.PromiseCapability,this.setupMessageHandler()}#s(W,ee=null){const J=this.#e.get(W);if(J)return J;const te=this.messageHandler.sendWithPromise(W,ee);return this.#e.set(W,te),te}get annotationStorage(){return(0,S.shadow)(this,"annotationStorage",new C.AnnotationStorage)}getRenderingIntent(W,ee=S.AnnotationMode.ENABLE,J=null,te=!1){let X=S.RenderingIntentFlag.DISPLAY,he=C.SerializableEmpty;switch(W){case"any":X=S.RenderingIntentFlag.ANY;break;case"display":break;case"print":X=S.RenderingIntentFlag.PRINT;break;default:(0,S.warn)(`getRenderingIntent - invalid intent: ${W}`)}switch(ee){case S.AnnotationMode.DISABLE:X+=S.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case S.AnnotationMode.ENABLE:break;case S.AnnotationMode.ENABLE_FORMS:X+=S.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case S.AnnotationMode.ENABLE_STORAGE:X+=S.RenderingIntentFlag.ANNOTATIONS_STORAGE,he=(X&S.RenderingIntentFlag.PRINT&&J instanceof C.PrintAnnotationStorage?J:this.annotationStorage).serializable;break;default:(0,S.warn)(`getRenderingIntent - invalid annotationMode: ${ee}`)}return te&&(X+=S.RenderingIntentFlag.OPLIST),{renderingIntent:X,cacheKey:`${X}_${he.hash}`,annotationStorageSerializable:he}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new S.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const W=[];for(const J of this.#t.values())W.push(J._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ee=this.messageHandler.sendWithPromise("Terminate",null);return W.push(ee),Promise.all(W).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new S.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:W,loadingTask:ee}=this;W.on("GetReader",(J,te)=>{(0,S.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=X=>{this._lastProgress={loaded:X.loaded,total:X.total}},te.onPull=()=>{this._fullReader.read().then(function({value:X,done:he}){if(he){te.close();return}(0,S.assert)(X instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(X),1,[X])}).catch(X=>{te.error(X)})},te.onCancel=X=>{this._fullReader.cancel(X),te.ready.catch(he=>{if(!this.destroyed)throw he})}}),W.on("ReaderHeadersReady",J=>{const te=new S.PromiseCapability,X=this._fullReader;return X.headersReady.then(()=>{(!X.isStreamingSupported||!X.isRangeSupported)&&(this._lastProgress&&ee.onProgress?.(this._lastProgress),X.onProgress=he=>{ee.onProgress?.({loaded:he.loaded,total:he.total})}),te.resolve({isStreamingSupported:X.isStreamingSupported,isRangeSupported:X.isRangeSupported,contentLength:X.contentLength})},te.reject),te.promise}),W.on("GetRangeReader",(J,te)=>{(0,S.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const X=this._networkStream.getRangeReader(J.begin,J.end);if(!X){te.close();return}te.onPull=()=>{X.read().then(function({value:he,done:ue}){if(ue){te.close();return}(0,S.assert)(he instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(he),1,[he])}).catch(he=>{te.error(he)})},te.onCancel=he=>{X.cancel(he),te.ready.catch(ue=>{if(!this.destroyed)throw ue})}}),W.on("GetDoc",({pdfInfo:J})=>{this._numPages=J.numPages,this._htmlForXfa=J.htmlForXfa,delete J.htmlForXfa,ee._capability.resolve(new Ne(J,this))}),W.on("DocException",function(J){let te;switch(J.name){case"PasswordException":te=new S.PasswordException(J.message,J.code);break;case"InvalidPDFException":te=new S.InvalidPDFException(J.message);break;case"MissingPDFException":te=new S.MissingPDFException(J.message);break;case"UnexpectedResponseException":te=new S.UnexpectedResponseException(J.message,J.status);break;case"UnknownErrorException":te=new S.UnknownErrorException(J.message,J.details);break;default:(0,S.unreachable)("DocException - expected a valid Error.")}ee._capability.reject(te)}),W.on("PasswordRequest",J=>{if(this.#r=new S.PromiseCapability,ee.onPassword){const te=X=>{X instanceof Error?this.#r.reject(X):this.#r.resolve({password:X})};try{ee.onPassword(te,J.code)}catch(X){this.#r.reject(X)}}else this.#r.reject(new S.PasswordException(J.message,J.code));return this.#r.promise}),W.on("DataLoaded",J=>{ee.onProgress?.({loaded:J.length,total:J.length}),this.downloadInfoCapability.resolve(J)}),W.on("StartRenderPage",J=>{if(this.destroyed)return;this.#t.get(J.pageIndex)._startRenderPage(J.transparency,J.cacheKey)}),W.on("commonobj",([J,te,X])=>{if(!this.destroyed&&!this.commonObjs.has(J))switch(te){case"Font":const he=this._params;if("error"in X){const se=X.error;(0,S.warn)(`Error during font loading: ${se}`),this.commonObjs.resolve(J,se);break}const ue=he.pdfBug&&globalThis.FontInspector?.enabled?(se,xe)=>globalThis.FontInspector.fontAdded(se,xe):null,ce=new E.FontFaceObject(X,{isEvalSupported:he.isEvalSupported,disableFontFace:he.disableFontFace,ignoreErrors:he.ignoreErrors,inspectFont:ue});this.fontLoader.bind(ce).catch(se=>W.sendWithPromise("FontFallback",{id:J})).finally(()=>{!he.fontExtraProperties&&ce.data&&(ce.data=null),this.commonObjs.resolve(J,ce)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(J,X);break;default:throw new Error(`Got unknown common object type ${te}`)}}),W.on("obj",([J,te,X,he])=>{if(this.destroyed)return;const ue=this.#t.get(te);if(!ue.objs.has(J)){if(ue._intentStates.size===0){he?.bitmap?.close();return}switch(X){case"Image":if(ue.objs.resolve(J,he),he){let ce;if(he.bitmap){const{width:se,height:xe}=he;ce=se*xe*4}else ce=he.data?.length||0;ce>S.MAX_IMAGE_SIZE_TO_CACHE&&(ue._maybeCleanupAfterRender=!0)}break;case"Pattern":ue.objs.resolve(J,he);break;default:throw new Error(`Got unknown object type ${X}`)}}}),W.on("DocProgress",J=>{this.destroyed||ee.onProgress?.({loaded:J.loaded,total:J.total})}),W.on("FetchBuiltInCMap",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(J):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),W.on("FetchStandardFontData",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(J):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,S.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:W,transfer:ee}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:W,filename:this._fullReader?.filename??null},ee).finally(()=>{this.annotationStorage.resetModified()})}getPage(W){if(!Number.isInteger(W)||W<=0||W>this._numPages)return Promise.reject(new Error("Invalid page request."));const ee=W-1,J=this.#n.get(ee);if(J)return J;const te=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ee}).then(X=>{if(this.destroyed)throw new Error("Transport destroyed");const he=new Oe(ee,X,this,this._params.pdfBug);return this.#t.set(ee,he),he});return this.#n.set(ee,te),te}getPageIndex(W){return typeof W!="object"||W===null||!Number.isInteger(W.num)||W.num<0||!Number.isInteger(W.gen)||W.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:W.num,gen:W.gen})}getAnnotations(W,ee){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:W,intent:ee})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(W){return typeof W!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:W})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(W){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:W})}getStructTree(W){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:W})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(W=>new U.OptionalContentConfig(W))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const W="GetMetadata",ee=this.#e.get(W);if(ee)return ee;const J=this.messageHandler.sendWithPromise(W,null).then(te=>({info:te[0],metadata:te[1]?new R.Metadata(te[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(W,J),J}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(W=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ee of this.#t.values())if(!ee.cleanup())throw new Error(`startCleanup: Page ${ee.pageNumber} is currently rendering.`);this.commonObjs.clear(),W||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:W,enableXfa:ee}=this._params;return(0,S.shadow)(this,"loadingParams",{disableAutoFetch:W,enableXfa:ee})}}class De{#e=Object.create(null);#t(W){return this.#e[W]||={capability:new S.PromiseCapability,data:null}}get(W,ee=null){if(ee){const te=this.#t(W);return te.capability.promise.then(()=>ee(te.data)),null}const J=this.#e[W];if(!J?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${W}.`);return J.data}has(W){return this.#e[W]?.capability.settled||!1}resolve(W,ee=null){const J=this.#t(W);J.data=ee,J.capability.resolve()}clear(){for(const W in this.#e){const{data:ee}=this.#e[W];ee?.bitmap?.close()}this.#e=Object.create(null)}}class _e{#e=null;constructor(W){this.#e=W,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(W=0){this.#e.cancel(null,W)}get separateAnnots(){const{separateAnnots:W}=this.#e.operatorList;if(!W)return!1;const{annotationCanvasMap:ee}=this.#e;return W.form||W.canvas&&ee?.size>0}}class Pe{static#e=new WeakSet;constructor({callback:W,params:ee,objs:J,commonObjs:te,annotationCanvasMap:X,operatorList:he,pageIndex:ue,canvasFactory:ce,filterFactory:se,useRequestAnimationFrame:xe=!1,pdfBug:Se=!1,pageColors:ve=null}){this.callback=W,this.params=ee,this.objs=J,this.commonObjs=te,this.annotationCanvasMap=X,this.operatorListIdx=null,this.operatorList=he,this._pageIndex=ue,this.canvasFactory=ce,this.filterFactory=se,this._pdfBug=Se,this.pageColors=ve,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=xe===!0&&typeof window<"u",this.cancelled=!1,this.capability=new S.PromiseCapability,this.task=new _e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ee.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:W=!1,optionalContentConfig:ee}){if(this.cancelled)return;if(this._canvas){if(Pe.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pe.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:J,viewport:te,transform:X,background:he}=this.params;this.gfx=new D.CanvasGraphics(J,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ee},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:X,viewport:te,transparency:W,background:he}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(W=null,ee=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),Pe.#e.delete(this._canvas),this.callback(W||new F.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ee))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Pe.#e.delete(this._canvas),this.callback())))}}const re="4.0.269",ae="f4b396f6c";w()}catch(K){w(K)}})},822:(g,d,x)=>{x.d(d,{BaseCMapReaderFactory:()=>C,BaseCanvasFactory:()=>S,BaseFilterFactory:()=>w,BaseSVGFactory:()=>E,BaseStandardFontDataFactory:()=>F});var b=x(266);class w{constructor(){this.constructor===w&&(0,b.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(D){return"none"}addHCMFilter(D,M){return"none"}addHighlightHCMFilter(D,M,L,R){return"none"}destroy(D=!1){}}class S{constructor(){this.constructor===S&&(0,b.unreachable)("Cannot initialize BaseCanvasFactory.")}create(D,M){if(D<=0||M<=0)throw new Error("Invalid canvas size");const L=this._createCanvas(D,M);return{canvas:L,context:L.getContext("2d")}}reset(D,M,L){if(!D.canvas)throw new Error("Canvas is not specified");if(M<=0||L<=0)throw new Error("Invalid canvas size");D.canvas.width=M,D.canvas.height=L}destroy(D){if(!D.canvas)throw new Error("Canvas is not specified");D.canvas.width=0,D.canvas.height=0,D.canvas=null,D.context=null}_createCanvas(D,M){(0,b.unreachable)("Abstract method `_createCanvas` called.")}}class C{constructor({baseUrl:D=null,isCompressed:M=!0}){this.constructor===C&&(0,b.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=D,this.isCompressed=M}async fetch({name:D}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!D)throw new Error("CMap name must be specified.");const M=this.baseUrl+D+(this.isCompressed?".bcmap":""),L=this.isCompressed?b.CMapCompressionType.BINARY:b.CMapCompressionType.NONE;return this._fetchData(M,L).catch(R=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${M}`)})}_fetchData(D,M){(0,b.unreachable)("Abstract method `_fetchData` called.")}}class F{constructor({baseUrl:D=null}){this.constructor===F&&(0,b.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=D}async fetch({filename:D}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!D)throw new Error("Font filename must be specified.");const M=`${this.baseUrl}${D}`;return this._fetchData(M).catch(L=>{throw new Error(`Unable to load font data at: ${M}`)})}_fetchData(D){(0,b.unreachable)("Abstract method `_fetchData` called.")}}class E{constructor(){this.constructor===E&&(0,b.unreachable)("Cannot initialize BaseSVGFactory.")}create(D,M,L=!1){if(D<=0||M<=0)throw new Error("Invalid SVG dimensions");const R=this._createSVG("svg:svg");return R.setAttribute("version","1.1"),L||(R.setAttribute("width",`${D}px`),R.setAttribute("height",`${M}px`)),R.setAttribute("preserveAspectRatio","none"),R.setAttribute("viewBox",`0 0 ${D} ${M}`),R}createElement(D){if(typeof D!="string")throw new Error("Invalid SVG element type");return this._createSVG(D)}_createSVG(D){(0,b.unreachable)("Abstract method `_createSVG` called.")}}},250:(g,d,x)=>{x.d(d,{CanvasGraphics:()=>re});var b=x(266),w=x(473);const S={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function C(ae,Y){if(!Y)return;const W=Y[2]-Y[0],ee=Y[3]-Y[1],J=new Path2D;J.rect(Y[0],Y[1],W,ee),ae.clip(J)}class F{constructor(){this.constructor===F&&(0,b.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,b.unreachable)("Abstract method `getPattern` called.")}}class E extends F{constructor(Y){super(),this._type=Y[1],this._bbox=Y[2],this._colorStops=Y[3],this._p0=Y[4],this._p1=Y[5],this._r0=Y[6],this._r1=Y[7],this.matrix=null}_createGradient(Y){let W;this._type==="axial"?W=Y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(W=Y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ee of this._colorStops)W.addColorStop(ee[0],ee[1]);return W}getPattern(Y,W,ee,J){let te;if(J===S.STROKE||J===S.FILL){const X=W.current.getClippedPathBoundingBox(J,(0,w.getCurrentTransform)(Y))||[0,0,0,0],he=Math.ceil(X[2]-X[0])||1,ue=Math.ceil(X[3]-X[1])||1,ce=W.cachedCanvases.getCanvas("pattern",he,ue,!0),se=ce.context;se.clearRect(0,0,se.canvas.width,se.canvas.height),se.beginPath(),se.rect(0,0,se.canvas.width,se.canvas.height),se.translate(-X[0],-X[1]),ee=b.Util.transform(ee,[1,0,0,1,X[0],X[1]]),se.transform(...W.baseTransform),this.matrix&&se.transform(...this.matrix),C(se,this._bbox),se.fillStyle=this._createGradient(se),se.fill(),te=Y.createPattern(ce.canvas,"no-repeat");const xe=new DOMMatrix(ee);te.setTransform(xe)}else C(Y,this._bbox),te=this._createGradient(Y);return te}}function k(ae,Y,W,ee,J,te,X,he){const ue=Y.coords,ce=Y.colors,se=ae.data,xe=ae.width*4;let Se;ue[W+1]>ue[ee+1]&&(Se=W,W=ee,ee=Se,Se=te,te=X,X=Se),ue[ee+1]>ue[J+1]&&(Se=ee,ee=J,J=Se,Se=X,X=he,he=Se),ue[W+1]>ue[ee+1]&&(Se=W,W=ee,ee=Se,Se=te,te=X,X=Se);const ve=(ue[W]+Y.offsetX)*Y.scaleX,pe=(ue[W+1]+Y.offsetY)*Y.scaleY,Fe=(ue[ee]+Y.offsetX)*Y.scaleX,Re=(ue[ee+1]+Y.offsetY)*Y.scaleY,Te=(ue[J]+Y.offsetX)*Y.scaleX,Le=(ue[J+1]+Y.offsetY)*Y.scaleY;if(pe>=Le)return;const ye=ce[te],ie=ce[te+1],de=ce[te+2],ke=ce[X],Me=ce[X+1],je=ce[X+2],He=ce[he],ze=ce[he+1],Ve=ce[he+2],Ge=Math.round(pe),$e=Math.round(Le);let Xe,We,Ye,Ke,qe,Qe,tt,ot;for(let et=Ge;et<=$e;et++){if(et<Re){const Ze=et<pe?0:(pe-et)/(pe-Re);Xe=ve-(ve-Fe)*Ze,We=ye-(ye-ke)*Ze,Ye=ie-(ie-Me)*Ze,Ke=de-(de-je)*Ze}else{let Ze;et>Le?Ze=1:Re===Le?Ze=0:Ze=(Re-et)/(Re-Le),Xe=Fe-(Fe-Te)*Ze,We=ke-(ke-He)*Ze,Ye=Me-(Me-ze)*Ze,Ke=je-(je-Ve)*Ze}let Je;et<pe?Je=0:et>Le?Je=1:Je=(pe-et)/(pe-Le),qe=ve-(ve-Te)*Je,Qe=ye-(ye-He)*Je,tt=ie-(ie-ze)*Je,ot=de-(de-Ve)*Je;const ct=Math.round(Math.min(Xe,qe)),nt=Math.round(Math.max(Xe,qe));let rt=xe*et+ct*4;for(let Ze=ct;Ze<=nt;Ze++)Je=(Xe-Ze)/(Xe-qe),Je<0?Je=0:Je>1&&(Je=1),se[rt++]=We-(We-Qe)*Je|0,se[rt++]=Ye-(Ye-tt)*Je|0,se[rt++]=Ke-(Ke-ot)*Je|0,se[rt++]=255}}function D(ae,Y,W){const ee=Y.coords,J=Y.colors;let te,X;switch(Y.type){case"lattice":const he=Y.verticesPerRow,ue=Math.floor(ee.length/he)-1,ce=he-1;for(te=0;te<ue;te++){let se=te*he;for(let xe=0;xe<ce;xe++,se++)k(ae,W,ee[se],ee[se+1],ee[se+he],J[se],J[se+1],J[se+he]),k(ae,W,ee[se+he+1],ee[se+1],ee[se+he],J[se+he+1],J[se+1],J[se+he])}break;case"triangles":for(te=0,X=ee.length;te<X;te+=3)k(ae,W,ee[te],ee[te+1],ee[te+2],J[te],J[te+1],J[te+2]);break;default:throw new Error("illegal figure")}}class M extends F{constructor(Y){super(),this._coords=Y[2],this._colors=Y[3],this._figures=Y[4],this._bounds=Y[5],this._bbox=Y[7],this._background=Y[8],this.matrix=null}_createMeshCanvas(Y,W,ee){const he=Math.floor(this._bounds[0]),ue=Math.floor(this._bounds[1]),ce=Math.ceil(this._bounds[2])-he,se=Math.ceil(this._bounds[3])-ue,xe=Math.min(Math.ceil(Math.abs(ce*Y[0]*1.1)),3e3),Se=Math.min(Math.ceil(Math.abs(se*Y[1]*1.1)),3e3),ve=ce/xe,pe=se/Se,Fe={coords:this._coords,colors:this._colors,offsetX:-he,offsetY:-ue,scaleX:1/ve,scaleY:1/pe},Re=xe+2*2,Te=Se+2*2,Le=ee.getCanvas("mesh",Re,Te,!1),ye=Le.context,ie=ye.createImageData(xe,Se);if(W){const ke=ie.data;for(let Me=0,je=ke.length;Me<je;Me+=4)ke[Me]=W[0],ke[Me+1]=W[1],ke[Me+2]=W[2],ke[Me+3]=255}for(const ke of this._figures)D(ie,ke,Fe);return ye.putImageData(ie,2,2),{canvas:Le.canvas,offsetX:he-2*ve,offsetY:ue-2*pe,scaleX:ve,scaleY:pe}}getPattern(Y,W,ee,J){C(Y,this._bbox);let te;if(J===S.SHADING)te=b.Util.singularValueDecompose2dScale((0,w.getCurrentTransform)(Y));else if(te=b.Util.singularValueDecompose2dScale(W.baseTransform),this.matrix){const he=b.Util.singularValueDecompose2dScale(this.matrix);te=[te[0]*he[0],te[1]*he[1]]}const X=this._createMeshCanvas(te,J===S.SHADING?null:this._background,W.cachedCanvases);return J!==S.SHADING&&(Y.setTransform(...W.baseTransform),this.matrix&&Y.transform(...this.matrix)),Y.translate(X.offsetX,X.offsetY),Y.scale(X.scaleX,X.scaleY),Y.createPattern(X.canvas,"no-repeat")}}class L extends F{getPattern(){return"hotpink"}}function R(ae){switch(ae[0]){case"RadialAxial":return new E(ae);case"Mesh":return new M(ae);case"Dummy":return new L}throw new Error(`Unknown IR type: ${ae[0]}`)}const U={COLORED:1,UNCOLORED:2};class j{static MAX_PATTERN_SIZE=3e3;constructor(Y,W,ee,J,te){this.operatorList=Y[2],this.matrix=Y[3]||[1,0,0,1,0,0],this.bbox=Y[4],this.xstep=Y[5],this.ystep=Y[6],this.paintType=Y[7],this.tilingType=Y[8],this.color=W,this.ctx=ee,this.canvasGraphicsFactory=J,this.baseTransform=te}createPatternCanvas(Y){const W=this.operatorList,ee=this.bbox,J=this.xstep,te=this.ystep,X=this.paintType,he=this.tilingType,ue=this.color,ce=this.canvasGraphicsFactory;(0,b.info)("TilingType: "+he);const se=ee[0],xe=ee[1],Se=ee[2],ve=ee[3],pe=b.Util.singularValueDecompose2dScale(this.matrix),Fe=b.Util.singularValueDecompose2dScale(this.baseTransform),Re=[pe[0]*Fe[0],pe[1]*Fe[1]],Te=this.getSizeAndScale(J,this.ctx.canvas.width,Re[0]),Le=this.getSizeAndScale(te,this.ctx.canvas.height,Re[1]),ye=Y.cachedCanvases.getCanvas("pattern",Te.size,Le.size,!0),ie=ye.context,de=ce.createCanvasGraphics(ie);de.groupLevel=Y.groupLevel,this.setFillAndStrokeStyleToContext(de,X,ue);let ke=se,Me=xe,je=Se,He=ve;return se<0&&(ke=0,je+=Math.abs(se)),xe<0&&(Me=0,He+=Math.abs(xe)),ie.translate(-(Te.scale*ke),-(Le.scale*Me)),de.transform(Te.scale,0,0,Le.scale,0,0),ie.save(),this.clipBbox(de,ke,Me,je,He),de.baseTransform=(0,w.getCurrentTransform)(de.ctx),de.executeOperatorList(W),de.endDrawing(),{canvas:ye.canvas,scaleX:Te.scale,scaleY:Le.scale,offsetX:ke,offsetY:Me}}getSizeAndScale(Y,W,ee){Y=Math.abs(Y);const J=Math.max(j.MAX_PATTERN_SIZE,W);let te=Math.ceil(Y*ee);return te>=J?te=J:ee=te/Y,{scale:ee,size:te}}clipBbox(Y,W,ee,J,te){const X=J-W,he=te-ee;Y.ctx.rect(W,ee,X,he),Y.current.updateRectMinMax((0,w.getCurrentTransform)(Y.ctx),[W,ee,J,te]),Y.clip(),Y.endPath()}setFillAndStrokeStyleToContext(Y,W,ee){const J=Y.ctx,te=Y.current;switch(W){case U.COLORED:const X=this.ctx;J.fillStyle=X.fillStyle,J.strokeStyle=X.strokeStyle,te.fillColor=X.fillStyle,te.strokeColor=X.strokeStyle;break;case U.UNCOLORED:const he=b.Util.makeHexColor(ee[0],ee[1],ee[2]);J.fillStyle=he,J.strokeStyle=he,te.fillColor=he,te.strokeColor=he;break;default:throw new b.FormatError(`Unsupported paint type: ${W}`)}}getPattern(Y,W,ee,J){let te=ee;J!==S.SHADING&&(te=b.Util.transform(te,W.baseTransform),this.matrix&&(te=b.Util.transform(te,this.matrix)));const X=this.createPatternCanvas(W);let he=new DOMMatrix(te);he=he.translate(X.offsetX,X.offsetY),he=he.scale(1/X.scaleX,1/X.scaleY);const ue=Y.createPattern(X.canvas,"repeat");return ue.setTransform(he),ue}}function H({src:ae,srcPos:Y=0,dest:W,width:ee,height:J,nonBlackColor:te=4294967295,inverseDecode:X=!1}){const he=b.FeatureTest.isLittleEndian?4278190080:255,[ue,ce]=X?[te,he]:[he,te],se=ee>>3,xe=ee&7,Se=ae.length;W=new Uint32Array(W.buffer);let ve=0;for(let pe=0;pe<J;pe++){for(const Re=Y+se;Y<Re;Y++){const Te=Y<Se?ae[Y]:255;W[ve++]=Te&128?ce:ue,W[ve++]=Te&64?ce:ue,W[ve++]=Te&32?ce:ue,W[ve++]=Te&16?ce:ue,W[ve++]=Te&8?ce:ue,W[ve++]=Te&4?ce:ue,W[ve++]=Te&2?ce:ue,W[ve++]=Te&1?ce:ue}if(xe===0)continue;const Fe=Y<Se?ae[Y++]:255;for(let Re=0;Re<xe;Re++)W[ve++]=Fe&1<<7-Re?ce:ue}return{srcPos:Y,destPos:ve}}const z=16,V=100,G=4096,$=15,K=10,Z=1e3,Q=16;function ne(ae,Y){if(ae._removeMirroring)throw new Error("Context is already forwarding operations.");ae.__originalSave=ae.save,ae.__originalRestore=ae.restore,ae.__originalRotate=ae.rotate,ae.__originalScale=ae.scale,ae.__originalTranslate=ae.translate,ae.__originalTransform=ae.transform,ae.__originalSetTransform=ae.setTransform,ae.__originalResetTransform=ae.resetTransform,ae.__originalClip=ae.clip,ae.__originalMoveTo=ae.moveTo,ae.__originalLineTo=ae.lineTo,ae.__originalBezierCurveTo=ae.bezierCurveTo,ae.__originalRect=ae.rect,ae.__originalClosePath=ae.closePath,ae.__originalBeginPath=ae.beginPath,ae._removeMirroring=()=>{ae.save=ae.__originalSave,ae.restore=ae.__originalRestore,ae.rotate=ae.__originalRotate,ae.scale=ae.__originalScale,ae.translate=ae.__originalTranslate,ae.transform=ae.__originalTransform,ae.setTransform=ae.__originalSetTransform,ae.resetTransform=ae.__originalResetTransform,ae.clip=ae.__originalClip,ae.moveTo=ae.__originalMoveTo,ae.lineTo=ae.__originalLineTo,ae.bezierCurveTo=ae.__originalBezierCurveTo,ae.rect=ae.__originalRect,ae.closePath=ae.__originalClosePath,ae.beginPath=ae.__originalBeginPath,delete ae._removeMirroring},ae.save=function(){Y.save(),this.__originalSave()},ae.restore=function(){Y.restore(),this.__originalRestore()},ae.translate=function(ee,J){Y.translate(ee,J),this.__originalTranslate(ee,J)},ae.scale=function(ee,J){Y.scale(ee,J),this.__originalScale(ee,J)},ae.transform=function(ee,J,te,X,he,ue){Y.transform(ee,J,te,X,he,ue),this.__originalTransform(ee,J,te,X,he,ue)},ae.setTransform=function(ee,J,te,X,he,ue){Y.setTransform(ee,J,te,X,he,ue),this.__originalSetTransform(ee,J,te,X,he,ue)},ae.resetTransform=function(){Y.resetTransform(),this.__originalResetTransform()},ae.rotate=function(ee){Y.rotate(ee),this.__originalRotate(ee)},ae.clip=function(ee){Y.clip(ee),this.__originalClip(ee)},ae.moveTo=function(W,ee){Y.moveTo(W,ee),this.__originalMoveTo(W,ee)},ae.lineTo=function(W,ee){Y.lineTo(W,ee),this.__originalLineTo(W,ee)},ae.bezierCurveTo=function(W,ee,J,te,X,he){Y.bezierCurveTo(W,ee,J,te,X,he),this.__originalBezierCurveTo(W,ee,J,te,X,he)},ae.rect=function(W,ee,J,te){Y.rect(W,ee,J,te),this.__originalRect(W,ee,J,te)},ae.closePath=function(){Y.closePath(),this.__originalClosePath()},ae.beginPath=function(){Y.beginPath(),this.__originalBeginPath()}}class le{constructor(Y){this.canvasFactory=Y,this.cache=Object.create(null)}getCanvas(Y,W,ee){let J;return this.cache[Y]!==void 0?(J=this.cache[Y],this.canvasFactory.reset(J,W,ee)):(J=this.canvasFactory.create(W,ee),this.cache[Y]=J),J}delete(Y){delete this.cache[Y]}clear(){for(const Y in this.cache){const W=this.cache[Y];this.canvasFactory.destroy(W),delete this.cache[Y]}}}function fe(ae,Y,W,ee,J,te,X,he,ue,ce){const[se,xe,Se,ve,pe,Fe]=(0,w.getCurrentTransform)(ae);if(xe===0&&Se===0){const Le=X*se+pe,ye=Math.round(Le),ie=he*ve+Fe,de=Math.round(ie),ke=(X+ue)*se+pe,Me=Math.abs(Math.round(ke)-ye)||1,je=(he+ce)*ve+Fe,He=Math.abs(Math.round(je)-de)||1;return ae.setTransform(Math.sign(se),0,0,Math.sign(ve),ye,de),ae.drawImage(Y,W,ee,J,te,0,0,Me,He),ae.setTransform(se,xe,Se,ve,pe,Fe),[Me,He]}if(se===0&&ve===0){const Le=he*Se+pe,ye=Math.round(Le),ie=X*xe+Fe,de=Math.round(ie),ke=(he+ce)*Se+pe,Me=Math.abs(Math.round(ke)-ye)||1,je=(X+ue)*xe+Fe,He=Math.abs(Math.round(je)-de)||1;return ae.setTransform(0,Math.sign(xe),Math.sign(Se),0,ye,de),ae.drawImage(Y,W,ee,J,te,0,0,He,Me),ae.setTransform(se,xe,Se,ve,pe,Fe),[He,Me]}ae.drawImage(Y,W,ee,J,te,X,he,ue,ce);const Re=Math.hypot(se,xe),Te=Math.hypot(Se,ve);return[Re*ue,Te*ce]}function be(ae){const{width:Y,height:W}=ae;if(Y>Z||W>Z)return null;const ee=1e3,J=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),te=Y+1;let X=new Uint8Array(te*(W+1)),he,ue,ce;const se=Y+7&-8;let xe=new Uint8Array(se*W),Se=0;for(const Te of ae.data){let Le=128;for(;Le>0;)xe[Se++]=Te&Le?0:255,Le>>=1}let ve=0;for(Se=0,xe[Se]!==0&&(X[0]=1,++ve),ue=1;ue<Y;ue++)xe[Se]!==xe[Se+1]&&(X[ue]=xe[Se]?2:1,++ve),Se++;for(xe[Se]!==0&&(X[ue]=2,++ve),he=1;he<W;he++){Se=he*se,ce=he*te,xe[Se-se]!==xe[Se]&&(X[ce]=xe[Se]?1:8,++ve);let Te=(xe[Se]?4:0)+(xe[Se-se]?8:0);for(ue=1;ue<Y;ue++)Te=(Te>>2)+(xe[Se+1]?4:0)+(xe[Se-se+1]?8:0),J[Te]&&(X[ce+ue]=J[Te],++ve),Se++;if(xe[Se-se]!==xe[Se]&&(X[ce+ue]=xe[Se]?2:4,++ve),ve>ee)return null}for(Se=se*(W-1),ce=he*te,xe[Se]!==0&&(X[ce]=8,++ve),ue=1;ue<Y;ue++)xe[Se]!==xe[Se+1]&&(X[ce+ue]=xe[Se]?4:8,++ve),Se++;if(xe[Se]!==0&&(X[ce+ue]=4,++ve),ve>ee)return null;const pe=new Int32Array([0,te,-1,0,-te,0,0,0,1]),Fe=new Path2D;for(he=0;ve&&he<=W;he++){let Te=he*te;const Le=Te+Y;for(;Te<Le&&!X[Te];)Te++;if(Te===Le)continue;Fe.moveTo(Te%te,he);const ye=Te;let ie=X[Te];do{const de=pe[ie];do Te+=de;while(!X[Te]);const ke=X[Te];ke!==5&&ke!==10?(ie=ke,X[Te]=0):(ie=ke&51*ie>>4,X[Te]&=ie>>2|ie<<2),Fe.lineTo(Te%te,Te/te|0),X[Te]||--ve}while(ye!==Te);--he}return xe=null,X=null,function(Te){Te.save(),Te.scale(1/Y,-1/W),Te.translate(0,-W),Te.fill(Fe),Te.beginPath(),Te.restore()}}class me{constructor(Y,W){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=b.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=b.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Y,W])}clone(){const Y=Object.create(this);return Y.clipBox=this.clipBox.slice(),Y}setCurrentPoint(Y,W){this.x=Y,this.y=W}updatePathMinMax(Y,W,ee){[W,ee]=b.Util.applyTransform([W,ee],Y),this.minX=Math.min(this.minX,W),this.minY=Math.min(this.minY,ee),this.maxX=Math.max(this.maxX,W),this.maxY=Math.max(this.maxY,ee)}updateRectMinMax(Y,W){const ee=b.Util.applyTransform(W,Y),J=b.Util.applyTransform(W.slice(2),Y),te=b.Util.applyTransform([W[0],W[3]],Y),X=b.Util.applyTransform([W[2],W[1]],Y);this.minX=Math.min(this.minX,ee[0],J[0],te[0],X[0]),this.minY=Math.min(this.minY,ee[1],J[1],te[1],X[1]),this.maxX=Math.max(this.maxX,ee[0],J[0],te[0],X[0]),this.maxY=Math.max(this.maxY,ee[1],J[1],te[1],X[1])}updateScalingPathMinMax(Y,W){b.Util.scaleMinMax(Y,W),this.minX=Math.min(this.minX,W[0]),this.maxX=Math.max(this.maxX,W[1]),this.minY=Math.min(this.minY,W[2]),this.maxY=Math.max(this.maxY,W[3])}updateCurvePathMinMax(Y,W,ee,J,te,X,he,ue,ce,se){const xe=b.Util.bezierBoundingBox(W,ee,J,te,X,he,ue,ce);if(se){se[0]=Math.min(se[0],xe[0],xe[2]),se[1]=Math.max(se[1],xe[0],xe[2]),se[2]=Math.min(se[2],xe[1],xe[3]),se[3]=Math.max(se[3],xe[1],xe[3]);return}this.updateRectMinMax(Y,xe)}getPathBoundingBox(Y=S.FILL,W=null){const ee=[this.minX,this.minY,this.maxX,this.maxY];if(Y===S.STROKE){W||(0,b.unreachable)("Stroke bounding box must include transform.");const J=b.Util.singularValueDecompose2dScale(W),te=J[0]*this.lineWidth/2,X=J[1]*this.lineWidth/2;ee[0]-=te,ee[1]-=X,ee[2]+=te,ee[3]+=X}return ee}updateClipFromPath(){const Y=b.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Y||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Y){this.clipBox=Y,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Y=S.FILL,W=null){return b.Util.intersect(this.clipBox,this.getPathBoundingBox(Y,W))}}function we(ae,Y){if(typeof ImageData<"u"&&Y instanceof ImageData){ae.putImageData(Y,0,0);return}const W=Y.height,ee=Y.width,J=W%Q,te=(W-J)/Q,X=J===0?te:te+1,he=ae.createImageData(ee,Q);let ue=0,ce;const se=Y.data,xe=he.data;let Se,ve,pe,Fe;if(Y.kind===b.ImageKind.GRAYSCALE_1BPP){const Re=se.byteLength,Te=new Uint32Array(xe.buffer,0,xe.byteLength>>2),Le=Te.length,ye=ee+7>>3,ie=4294967295,de=b.FeatureTest.isLittleEndian?4278190080:255;for(Se=0;Se<X;Se++){for(pe=Se<te?Q:J,ce=0,ve=0;ve<pe;ve++){const ke=Re-ue;let Me=0;const je=ke>ye?ee:ke*8-7,He=je&-8;let ze=0,Ve=0;for(;Me<He;Me+=8)Ve=se[ue++],Te[ce++]=Ve&128?ie:de,Te[ce++]=Ve&64?ie:de,Te[ce++]=Ve&32?ie:de,Te[ce++]=Ve&16?ie:de,Te[ce++]=Ve&8?ie:de,Te[ce++]=Ve&4?ie:de,Te[ce++]=Ve&2?ie:de,Te[ce++]=Ve&1?ie:de;for(;Me<je;Me++)ze===0&&(Ve=se[ue++],ze=128),Te[ce++]=Ve&ze?ie:de,ze>>=1}for(;ce<Le;)Te[ce++]=0;ae.putImageData(he,0,Se*Q)}}else if(Y.kind===b.ImageKind.RGBA_32BPP){for(ve=0,Fe=ee*Q*4,Se=0;Se<te;Se++)xe.set(se.subarray(ue,ue+Fe)),ue+=Fe,ae.putImageData(he,0,ve),ve+=Q;Se<X&&(Fe=ee*J*4,xe.set(se.subarray(ue,ue+Fe)),ae.putImageData(he,0,ve))}else if(Y.kind===b.ImageKind.RGB_24BPP)for(pe=Q,Fe=ee*pe,Se=0;Se<X;Se++){for(Se>=te&&(pe=J,Fe=ee*pe),ce=0,ve=Fe;ve--;)xe[ce++]=se[ue++],xe[ce++]=se[ue++],xe[ce++]=se[ue++],xe[ce++]=255;ae.putImageData(he,0,Se*Q)}else throw new Error(`bad image kind: ${Y.kind}`)}function oe(ae,Y){if(Y.bitmap){ae.drawImage(Y.bitmap,0,0);return}const W=Y.height,ee=Y.width,J=W%Q,te=(W-J)/Q,X=J===0?te:te+1,he=ae.createImageData(ee,Q);let ue=0;const ce=Y.data,se=he.data;for(let xe=0;xe<X;xe++){const Se=xe<te?Q:J;({srcPos:ue}=H({src:ce,srcPos:ue,dest:se,width:ee,height:Se,nonBlackColor:0})),ae.putImageData(he,0,xe*Q)}}function ge(ae,Y){const W=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ee of W)ae[ee]!==void 0&&(Y[ee]=ae[ee]);ae.setLineDash!==void 0&&(Y.setLineDash(ae.getLineDash()),Y.lineDashOffset=ae.lineDashOffset)}function Ae(ae){if(ae.strokeStyle=ae.fillStyle="#000000",ae.fillRule="nonzero",ae.globalAlpha=1,ae.lineWidth=1,ae.lineCap="butt",ae.lineJoin="miter",ae.miterLimit=10,ae.globalCompositeOperation="source-over",ae.font="10px sans-serif",ae.setLineDash!==void 0&&(ae.setLineDash([]),ae.lineDashOffset=0),!b.isNodeJS){const{filter:Y}=ae;Y!=="none"&&Y!==""&&(ae.filter="none")}}function Ce(ae,Y,W,ee){const J=ae.length;for(let te=3;te<J;te+=4){const X=ae[te];if(X===0)ae[te-3]=Y,ae[te-2]=W,ae[te-1]=ee;else if(X<255){const he=255-X;ae[te-3]=ae[te-3]*X+Y*he>>8,ae[te-2]=ae[te-2]*X+W*he>>8,ae[te-1]=ae[te-1]*X+ee*he>>8}}}function Ne(ae,Y,W){const ee=ae.length,J=1/255;for(let te=3;te<ee;te+=4){const X=W?W[ae[te]]:ae[te];Y[te]=Y[te]*X*J|0}}function Oe(ae,Y,W){const ee=ae.length;for(let J=3;J<ee;J+=4){const te=ae[J-3]*77+ae[J-2]*152+ae[J-1]*28;Y[J]=W?Y[J]*W[te>>8]>>8:Y[J]*te>>16}}function Be(ae,Y,W,ee,J,te,X,he,ue,ce,se){const xe=!!te,Se=xe?te[0]:0,ve=xe?te[1]:0,pe=xe?te[2]:0,Fe=J==="Luminosity"?Oe:Ne,Te=Math.min(ee,Math.ceil(1048576/W));for(let Le=0;Le<ee;Le+=Te){const ye=Math.min(Te,ee-Le),ie=ae.getImageData(he-ce,Le+(ue-se),W,ye),de=Y.getImageData(he,Le+ue,W,ye);xe&&Ce(ie.data,Se,ve,pe),Fe(ie.data,de.data,X),Y.putImageData(de,he,Le+ue)}}function Ie(ae,Y,W,ee){const J=ee[0],te=ee[1],X=ee[2]-J,he=ee[3]-te;X===0||he===0||(Be(Y.context,W,X,he,Y.subtype,Y.backdrop,Y.transferMap,J,te,Y.offsetX,Y.offsetY),ae.save(),ae.globalAlpha=1,ae.globalCompositeOperation="source-over",ae.setTransform(1,0,0,1,0,0),ae.drawImage(W.canvas,0,0),ae.restore())}function Ee(ae,Y){const W=b.Util.singularValueDecompose2dScale(ae);W[0]=Math.fround(W[0]),W[1]=Math.fround(W[1]);const ee=Math.fround((globalThis.devicePixelRatio||1)*w.PixelsPerInch.PDF_TO_CSS_UNITS);return Y!==void 0?Y:W[0]<=ee||W[1]<=ee}const Ue=["butt","round","square"],De=["miter","round","bevel"],_e={},Pe={};class re{constructor(Y,W,ee,J,te,{optionalContentConfig:X,markedContentStack:he=null},ue,ce){this.ctx=Y,this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=W,this.objs=ee,this.canvasFactory=J,this.filterFactory=te,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=he||[],this.optionalContentConfig=X,this.cachedCanvases=new le(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ue,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ce,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Y,W=null){return typeof Y=="string"?Y.startsWith("g_")?this.commonObjs.get(Y):this.objs.get(Y):W}beginDrawing({transform:Y,viewport:W,transparency:ee=!1,background:J=null}){const te=this.ctx.canvas.width,X=this.ctx.canvas.height,he=this.ctx.fillStyle;if(this.ctx.fillStyle=J||"#ffffff",this.ctx.fillRect(0,0,te,X),this.ctx.fillStyle=he,ee){const ue=this.cachedCanvases.getCanvas("transparent",te,X);this.compositeCtx=this.ctx,this.transparentCanvas=ue.canvas,this.ctx=ue.context,this.ctx.save(),this.ctx.transform(...(0,w.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ae(this.ctx),Y&&(this.ctx.transform(...Y),this.outputScaleX=Y[0],this.outputScaleY=Y[0]),this.ctx.transform(...W.transform),this.viewportScale=W.scale,this.baseTransform=(0,w.getCurrentTransform)(this.ctx)}executeOperatorList(Y,W,ee,J){const te=Y.argsArray,X=Y.fnArray;let he=W||0;const ue=te.length;if(ue===he)return he;const ce=ue-he>K&&typeof ee=="function",se=ce?Date.now()+$:0;let xe=0;const Se=this.commonObjs,ve=this.objs;let pe;for(;;){if(J!==void 0&&he===J.nextBreakPoint)return J.breakIt(he,ee),he;if(pe=X[he],pe!==b.OPS.dependency)this[pe].apply(this,te[he]);else for(const Fe of te[he]){const Re=Fe.startsWith("g_")?Se:ve;if(!Re.has(Fe))return Re.get(Fe,ee),he}if(he++,he===ue)return he;if(ce&&++xe>K){if(Date.now()>se)return ee(),he;xe=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Y of this._cachedBitmapsMap.values()){for(const W of Y.values())typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement&&(W.width=W.height=0);Y.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const Y=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Y!=="none"){const W=this.ctx.filter;this.ctx.filter=Y,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=W}}}_scaleImage(Y,W){const ee=Y.width,J=Y.height;let te=Math.max(Math.hypot(W[0],W[1]),1),X=Math.max(Math.hypot(W[2],W[3]),1),he=ee,ue=J,ce="prescale1",se,xe;for(;te>2&&he>1||X>2&&ue>1;){let Se=he,ve=ue;te>2&&he>1&&(Se=he>=16384?Math.floor(he/2)-1||1:Math.ceil(he/2),te/=he/Se),X>2&&ue>1&&(ve=ue>=16384?Math.floor(ue/2)-1||1:Math.ceil(ue)/2,X/=ue/ve),se=this.cachedCanvases.getCanvas(ce,Se,ve),xe=se.context,xe.clearRect(0,0,Se,ve),xe.drawImage(Y,0,0,he,ue,0,0,Se,ve),Y=se.canvas,he=Se,ue=ve,ce=ce==="prescale1"?"prescale2":"prescale1"}return{img:Y,paintWidth:he,paintHeight:ue}}_createMaskCanvas(Y){const W=this.ctx,{width:ee,height:J}=Y,te=this.current.fillColor,X=this.current.patternFill,he=(0,w.getCurrentTransform)(W);let ue,ce,se,xe;if((Y.bitmap||Y.data)&&Y.count>1){const je=Y.bitmap||Y.data.buffer;ce=JSON.stringify(X?he:[he.slice(0,4),te]),ue=this._cachedBitmapsMap.get(je),ue||(ue=new Map,this._cachedBitmapsMap.set(je,ue));const He=ue.get(ce);if(He&&!X){const ze=Math.round(Math.min(he[0],he[2])+he[4]),Ve=Math.round(Math.min(he[1],he[3])+he[5]);return{canvas:He,offsetX:ze,offsetY:Ve}}se=He}se||(xe=this.cachedCanvases.getCanvas("maskCanvas",ee,J),oe(xe.context,Y));let Se=b.Util.transform(he,[1/ee,0,0,-1/J,0,0]);Se=b.Util.transform(Se,[1,0,0,1,0,-J]);const[ve,pe,Fe,Re]=b.Util.getAxialAlignedBoundingBox([0,0,ee,J],Se),Te=Math.round(Fe-ve)||1,Le=Math.round(Re-pe)||1,ye=this.cachedCanvases.getCanvas("fillCanvas",Te,Le),ie=ye.context,de=ve,ke=pe;ie.translate(-de,-ke),ie.transform(...Se),se||(se=this._scaleImage(xe.canvas,(0,w.getCurrentTransformInverse)(ie)),se=se.img,ue&&X&&ue.set(ce,se)),ie.imageSmoothingEnabled=Ee((0,w.getCurrentTransform)(ie),Y.interpolate),fe(ie,se,0,0,se.width,se.height,0,0,ee,J),ie.globalCompositeOperation="source-in";const Me=b.Util.transform((0,w.getCurrentTransformInverse)(ie),[1,0,0,1,-de,-ke]);return ie.fillStyle=X?te.getPattern(W,this,Me,S.FILL):te,ie.fillRect(0,0,ee,J),ue&&!X&&(this.cachedCanvases.delete("fillCanvas"),ue.set(ce,ye.canvas)),{canvas:ye.canvas,offsetX:Math.round(de),offsetY:Math.round(ke)}}setLineWidth(Y){Y!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Y,this.ctx.lineWidth=Y}setLineCap(Y){this.ctx.lineCap=Ue[Y]}setLineJoin(Y){this.ctx.lineJoin=De[Y]}setMiterLimit(Y){this.ctx.miterLimit=Y}setDash(Y,W){const ee=this.ctx;ee.setLineDash!==void 0&&(ee.setLineDash(Y),ee.lineDashOffset=W)}setRenderingIntent(Y){}setFlatness(Y){}setGState(Y){for(const[W,ee]of Y)switch(W){case"LW":this.setLineWidth(ee);break;case"LC":this.setLineCap(ee);break;case"LJ":this.setLineJoin(ee);break;case"ML":this.setMiterLimit(ee);break;case"D":this.setDash(ee[0],ee[1]);break;case"RI":this.setRenderingIntent(ee);break;case"FL":this.setFlatness(ee);break;case"Font":this.setFont(ee[0],ee[1]);break;case"CA":this.current.strokeAlpha=ee;break;case"ca":this.current.fillAlpha=ee,this.ctx.globalAlpha=ee;break;case"BM":this.ctx.globalCompositeOperation=ee;break;case"SMask":this.current.activeSMask=ee?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ee);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Y=this.inSMaskMode;this.current.activeSMask&&!Y?this.beginSMaskMode():!this.current.activeSMask&&Y&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Y=this.ctx.canvas.width,W=this.ctx.canvas.height,ee="smaskGroupAt"+this.groupLevel,J=this.cachedCanvases.getCanvas(ee,Y,W);this.suspendedCtx=this.ctx,this.ctx=J.context;const te=this.ctx;te.setTransform(...(0,w.getCurrentTransform)(this.suspendedCtx)),ge(this.suspendedCtx,te),ne(te,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ge(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Y){if(!this.current.activeSMask)return;Y?(Y[0]=Math.floor(Y[0]),Y[1]=Math.floor(Y[1]),Y[2]=Math.ceil(Y[2]),Y[3]=Math.ceil(Y[3])):Y=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const W=this.current.activeSMask,ee=this.suspendedCtx;Ie(ee,W,this.ctx,Y),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ge(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Y=this.current;this.stateStack.push(Y),this.current=Y.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ge(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Y,W,ee,J,te,X){this.ctx.transform(Y,W,ee,J,te,X),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Y,W,ee){const J=this.ctx,te=this.current;let X=te.x,he=te.y,ue,ce;const se=(0,w.getCurrentTransform)(J),xe=se[0]===0&&se[3]===0||se[1]===0&&se[2]===0,Se=xe?ee.slice(0):null;for(let ve=0,pe=0,Fe=Y.length;ve<Fe;ve++)switch(Y[ve]|0){case b.OPS.rectangle:X=W[pe++],he=W[pe++];const Re=W[pe++],Te=W[pe++],Le=X+Re,ye=he+Te;J.moveTo(X,he),Re===0||Te===0?J.lineTo(Le,ye):(J.lineTo(Le,he),J.lineTo(Le,ye),J.lineTo(X,ye)),xe||te.updateRectMinMax(se,[X,he,Le,ye]),J.closePath();break;case b.OPS.moveTo:X=W[pe++],he=W[pe++],J.moveTo(X,he),xe||te.updatePathMinMax(se,X,he);break;case b.OPS.lineTo:X=W[pe++],he=W[pe++],J.lineTo(X,he),xe||te.updatePathMinMax(se,X,he);break;case b.OPS.curveTo:ue=X,ce=he,X=W[pe+4],he=W[pe+5],J.bezierCurveTo(W[pe],W[pe+1],W[pe+2],W[pe+3],X,he),te.updateCurvePathMinMax(se,ue,ce,W[pe],W[pe+1],W[pe+2],W[pe+3],X,he,Se),pe+=6;break;case b.OPS.curveTo2:ue=X,ce=he,J.bezierCurveTo(X,he,W[pe],W[pe+1],W[pe+2],W[pe+3]),te.updateCurvePathMinMax(se,ue,ce,X,he,W[pe],W[pe+1],W[pe+2],W[pe+3],Se),X=W[pe+2],he=W[pe+3],pe+=4;break;case b.OPS.curveTo3:ue=X,ce=he,X=W[pe+2],he=W[pe+3],J.bezierCurveTo(W[pe],W[pe+1],X,he,X,he),te.updateCurvePathMinMax(se,ue,ce,W[pe],W[pe+1],X,he,X,he,Se),pe+=4;break;case b.OPS.closePath:J.closePath();break}xe&&te.updateScalingPathMinMax(se,Se),te.setCurrentPoint(X,he)}closePath(){this.ctx.closePath()}stroke(Y=!0){const W=this.ctx,ee=this.current.strokeColor;W.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ee=="object"&&ee?.getPattern?(W.save(),W.strokeStyle=ee.getPattern(W,this,(0,w.getCurrentTransformInverse)(W),S.STROKE),this.rescaleAndStroke(!1),W.restore()):this.rescaleAndStroke(!0)),Y&&this.consumePath(this.current.getClippedPathBoundingBox()),W.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Y=!0){const W=this.ctx,ee=this.current.fillColor,J=this.current.patternFill;let te=!1;J&&(W.save(),W.fillStyle=ee.getPattern(W,this,(0,w.getCurrentTransformInverse)(W),S.FILL),te=!0);const X=this.current.getClippedPathBoundingBox();this.contentVisible&&X!==null&&(this.pendingEOFill?(W.fill("evenodd"),this.pendingEOFill=!1):W.fill()),te&&W.restore(),Y&&this.consumePath(X)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_e}eoClip(){this.pendingClip=Pe}beginText(){this.current.textMatrix=b.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Y=this.pendingTextPaths,W=this.ctx;if(Y===void 0){W.beginPath();return}W.save(),W.beginPath();for(const ee of Y)W.setTransform(...ee.transform),W.translate(ee.x,ee.y),ee.addToPath(W,ee.fontSize);W.restore(),W.clip(),W.beginPath(),delete this.pendingTextPaths}setCharSpacing(Y){this.current.charSpacing=Y}setWordSpacing(Y){this.current.wordSpacing=Y}setHScale(Y){this.current.textHScale=Y/100}setLeading(Y){this.current.leading=-Y}setFont(Y,W){const ee=this.commonObjs.get(Y),J=this.current;if(!ee)throw new Error(`Can't find font for ${Y}`);if(J.fontMatrix=ee.fontMatrix||b.FONT_IDENTITY_MATRIX,(J.fontMatrix[0]===0||J.fontMatrix[3]===0)&&(0,b.warn)("Invalid font matrix for font "+Y),W<0?(W=-W,J.fontDirection=-1):J.fontDirection=1,this.current.font=ee,this.current.fontSize=W,ee.isType3Font)return;const te=ee.loadedName||"sans-serif",X=ee.systemFontInfo?.css||`"${te}", ${ee.fallbackName}`;let he="normal";ee.black?he="900":ee.bold&&(he="bold");const ue=ee.italic?"italic":"normal";let ce=W;W<z?ce=z:W>V&&(ce=V),this.current.fontSizeScale=W/ce,this.ctx.font=`${ue} ${he} ${ce}px ${X}`}setTextRenderingMode(Y){this.current.textRenderingMode=Y}setTextRise(Y){this.current.textRise=Y}moveText(Y,W){this.current.x=this.current.lineX+=Y,this.current.y=this.current.lineY+=W}setLeadingMoveText(Y,W){this.setLeading(-W),this.moveText(Y,W)}setTextMatrix(Y,W,ee,J,te,X){this.current.textMatrix=[Y,W,ee,J,te,X],this.current.textMatrixScale=Math.hypot(Y,W),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Y,W,ee,J){const te=this.ctx,X=this.current,he=X.font,ue=X.textRenderingMode,ce=X.fontSize/X.fontSizeScale,se=ue&b.TextRenderingMode.FILL_STROKE_MASK,xe=!!(ue&b.TextRenderingMode.ADD_TO_PATH_FLAG),Se=X.patternFill&&!he.missingFile;let ve;(he.disableFontFace||xe||Se)&&(ve=he.getPathGenerator(this.commonObjs,Y)),he.disableFontFace||Se?(te.save(),te.translate(W,ee),te.beginPath(),ve(te,ce),J&&te.setTransform(...J),(se===b.TextRenderingMode.FILL||se===b.TextRenderingMode.FILL_STROKE)&&te.fill(),(se===b.TextRenderingMode.STROKE||se===b.TextRenderingMode.FILL_STROKE)&&te.stroke(),te.restore()):((se===b.TextRenderingMode.FILL||se===b.TextRenderingMode.FILL_STROKE)&&te.fillText(Y,W,ee),(se===b.TextRenderingMode.STROKE||se===b.TextRenderingMode.FILL_STROKE)&&te.strokeText(Y,W,ee)),xe&&(this.pendingTextPaths||=[]).push({transform:(0,w.getCurrentTransform)(te),x:W,y:ee,fontSize:ce,addToPath:ve})}get isFontSubpixelAAEnabled(){const{context:Y}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Y.scale(1.5,1),Y.fillText("I",0,10);const W=Y.getImageData(0,0,10,10).data;let ee=!1;for(let J=3;J<W.length;J+=4)if(W[J]>0&&W[J]<255){ee=!0;break}return(0,b.shadow)(this,"isFontSubpixelAAEnabled",ee)}showText(Y){const W=this.current,ee=W.font;if(ee.isType3Font)return this.showType3Text(Y);const J=W.fontSize;if(J===0)return;const te=this.ctx,X=W.fontSizeScale,he=W.charSpacing,ue=W.wordSpacing,ce=W.fontDirection,se=W.textHScale*ce,xe=Y.length,Se=ee.vertical,ve=Se?1:-1,pe=ee.defaultVMetrics,Fe=J*W.fontMatrix[0],Re=W.textRenderingMode===b.TextRenderingMode.FILL&&!ee.disableFontFace&&!W.patternFill;te.save(),te.transform(...W.textMatrix),te.translate(W.x,W.y+W.textRise),ce>0?te.scale(se,-1):te.scale(se,1);let Te;if(W.patternFill){te.save();const ke=W.fillColor.getPattern(te,this,(0,w.getCurrentTransformInverse)(te),S.FILL);Te=(0,w.getCurrentTransform)(te),te.restore(),te.fillStyle=ke}let Le=W.lineWidth;const ye=W.textMatrixScale;if(ye===0||Le===0){const ke=W.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;(ke===b.TextRenderingMode.STROKE||ke===b.TextRenderingMode.FILL_STROKE)&&(Le=this.getSinglePixelWidth())}else Le/=ye;if(X!==1&&(te.scale(X,X),Le/=X),te.lineWidth=Le,ee.isInvalidPDFjsFont){const ke=[];let Me=0;for(const je of Y)ke.push(je.unicode),Me+=je.width;te.fillText(ke.join(""),0,0),W.x+=Me*Fe*se,te.restore(),this.compose();return}let ie=0,de;for(de=0;de<xe;++de){const ke=Y[de];if(typeof ke=="number"){ie+=ve*ke*J/1e3;continue}let Me=!1;const je=(ke.isSpace?ue:0)+he,He=ke.fontChar,ze=ke.accent;let Ve,Ge,$e=ke.width;if(Se){const We=ke.vmetric||pe,Ye=-(ke.vmetric?We[1]:$e*.5)*Fe,Ke=We[2]*Fe;$e=We?-We[0]:$e,Ve=Ye/X,Ge=(ie+Ke)/X}else Ve=ie/X,Ge=0;if(ee.remeasure&&$e>0){const We=te.measureText(He).width*1e3/J*X;if($e<We&&this.isFontSubpixelAAEnabled){const Ye=$e/We;Me=!0,te.save(),te.scale(Ye,1),Ve/=Ye}else $e!==We&&(Ve+=($e-We)/2e3*J/X)}if(this.contentVisible&&(ke.isInFont||ee.missingFile)){if(Re&&!ze)te.fillText(He,Ve,Ge);else if(this.paintChar(He,Ve,Ge,Te),ze){const We=Ve+J*ze.offset.x/X,Ye=Ge-J*ze.offset.y/X;this.paintChar(ze.fontChar,We,Ye,Te)}}const Xe=Se?$e*Fe-je*ce:$e*Fe+je*ce;ie+=Xe,Me&&te.restore()}Se?W.y-=ie:W.x+=ie*se,te.restore(),this.compose()}showType3Text(Y){const W=this.ctx,ee=this.current,J=ee.font,te=ee.fontSize,X=ee.fontDirection,he=J.vertical?1:-1,ue=ee.charSpacing,ce=ee.wordSpacing,se=ee.textHScale*X,xe=ee.fontMatrix||b.FONT_IDENTITY_MATRIX,Se=Y.length,ve=ee.textRenderingMode===b.TextRenderingMode.INVISIBLE;let pe,Fe,Re,Te;if(!(ve||te===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,W.save(),W.transform(...ee.textMatrix),W.translate(ee.x,ee.y),W.scale(se,X),pe=0;pe<Se;++pe){if(Fe=Y[pe],typeof Fe=="number"){Te=he*Fe*te/1e3,this.ctx.translate(Te,0),ee.x+=Te*se;continue}const Le=(Fe.isSpace?ce:0)+ue,ye=J.charProcOperatorList[Fe.operatorListId];if(!ye){(0,b.warn)(`Type3 character "${Fe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Fe,this.save(),W.scale(te,te),W.transform(...xe),this.executeOperatorList(ye),this.restore()),Re=b.Util.applyTransform([Fe.width,0],xe)[0]*te+Le,W.translate(Re,0),ee.x+=Re*se}W.restore(),this.processingType3=null}}setCharWidth(Y,W){}setCharWidthAndBounds(Y,W,ee,J,te,X){this.ctx.rect(ee,J,te-ee,X-J),this.ctx.clip(),this.endPath()}getColorN_Pattern(Y){let W;if(Y[0]==="TilingPattern"){const ee=Y[1],J=this.baseTransform||(0,w.getCurrentTransform)(this.ctx),te={createCanvasGraphics:X=>new re(X,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};W=new j(Y,ee,this.ctx,te,J)}else W=this._getPattern(Y[1],Y[2]);return W}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Y,W,ee){const J=b.Util.makeHexColor(Y,W,ee);this.ctx.strokeStyle=J,this.current.strokeColor=J}setFillRGBColor(Y,W,ee){const J=b.Util.makeHexColor(Y,W,ee);this.ctx.fillStyle=J,this.current.fillColor=J,this.current.patternFill=!1}_getPattern(Y,W=null){let ee;return this.cachedPatterns.has(Y)?ee=this.cachedPatterns.get(Y):(ee=R(this.getObject(Y)),this.cachedPatterns.set(Y,ee)),W&&(ee.matrix=W),ee}shadingFill(Y){if(!this.contentVisible)return;const W=this.ctx;this.save();const ee=this._getPattern(Y);W.fillStyle=ee.getPattern(W,this,(0,w.getCurrentTransformInverse)(W),S.SHADING);const J=(0,w.getCurrentTransformInverse)(W);if(J){const{width:te,height:X}=W.canvas,[he,ue,ce,se]=b.Util.getAxialAlignedBoundingBox([0,0,te,X],J);this.ctx.fillRect(he,ue,ce-he,se-ue)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,b.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,b.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Y,W){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Y)&&Y.length===6&&this.transform(...Y),this.baseTransform=(0,w.getCurrentTransform)(this.ctx),W)){const ee=W[2]-W[0],J=W[3]-W[1];this.ctx.rect(W[0],W[1],ee,J),this.current.updateRectMinMax((0,w.getCurrentTransform)(this.ctx),W),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Y){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const W=this.ctx;Y.isolated||(0,b.info)("TODO: Support non-isolated groups."),Y.knockout&&(0,b.warn)("Knockout groups not supported.");const ee=(0,w.getCurrentTransform)(W);if(Y.matrix&&W.transform(...Y.matrix),!Y.bbox)throw new Error("Bounding box is required.");let J=b.Util.getAxialAlignedBoundingBox(Y.bbox,(0,w.getCurrentTransform)(W));const te=[0,0,W.canvas.width,W.canvas.height];J=b.Util.intersect(J,te)||[0,0,0,0];const X=Math.floor(J[0]),he=Math.floor(J[1]);let ue=Math.max(Math.ceil(J[2])-X,1),ce=Math.max(Math.ceil(J[3])-he,1),se=1,xe=1;ue>G&&(se=ue/G,ue=G),ce>G&&(xe=ce/G,ce=G),this.current.startNewPathAndClipBox([0,0,ue,ce]);let Se="groupAt"+this.groupLevel;Y.smask&&(Se+="_smask_"+this.smaskCounter++%2);const ve=this.cachedCanvases.getCanvas(Se,ue,ce),pe=ve.context;pe.scale(1/se,1/xe),pe.translate(-X,-he),pe.transform(...ee),Y.smask?this.smaskStack.push({canvas:ve.canvas,context:pe,offsetX:X,offsetY:he,scaleX:se,scaleY:xe,subtype:Y.smask.subtype,backdrop:Y.smask.backdrop,transferMap:Y.smask.transferMap||null,startTransformInverse:null}):(W.setTransform(1,0,0,1,0,0),W.translate(X,he),W.scale(se,xe),W.save()),ge(W,pe),this.ctx=pe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(W),this.groupLevel++}endGroup(Y){if(!this.contentVisible)return;this.groupLevel--;const W=this.ctx,ee=this.groupStack.pop();if(this.ctx=ee,this.ctx.imageSmoothingEnabled=!1,Y.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const J=(0,w.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...J);const te=b.Util.getAxialAlignedBoundingBox([0,0,W.canvas.width,W.canvas.height],J);this.ctx.drawImage(W.canvas,0,0),this.ctx.restore(),this.compose(te)}}beginAnnotation(Y,W,ee,J,te){if(this.#e(),Ae(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(W)&&W.length===4){const X=W[2]-W[0],he=W[3]-W[1];if(te&&this.annotationCanvasMap){ee=ee.slice(),ee[4]-=W[0],ee[5]-=W[1],W=W.slice(),W[0]=W[1]=0,W[2]=X,W[3]=he;const[ue,ce]=b.Util.singularValueDecompose2dScale((0,w.getCurrentTransform)(this.ctx)),{viewportScale:se}=this,xe=Math.ceil(X*this.outputScaleX*se),Se=Math.ceil(he*this.outputScaleY*se);this.annotationCanvas=this.canvasFactory.create(xe,Se);const{canvas:ve,context:pe}=this.annotationCanvas;this.annotationCanvasMap.set(Y,ve),this.annotationCanvas.savedCtx=this.ctx,this.ctx=pe,this.ctx.save(),this.ctx.setTransform(ue,0,0,-ce,0,he*ce),Ae(this.ctx)}else Ae(this.ctx),this.ctx.rect(W[0],W[1],X,he),this.ctx.clip(),this.endPath()}this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ee),this.transform(...J)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Y){if(!this.contentVisible)return;const W=Y.count;Y=this.getObject(Y.data,Y),Y.count=W;const ee=this.ctx,J=this.processingType3;if(J&&(J.compiled===void 0&&(J.compiled=be(Y)),J.compiled)){J.compiled(ee);return}const te=this._createMaskCanvas(Y),X=te.canvas;ee.save(),ee.setTransform(1,0,0,1,0,0),ee.drawImage(X,te.offsetX,te.offsetY),ee.restore(),this.compose()}paintImageMaskXObjectRepeat(Y,W,ee=0,J=0,te,X){if(!this.contentVisible)return;Y=this.getObject(Y.data,Y);const he=this.ctx;he.save();const ue=(0,w.getCurrentTransform)(he);he.transform(W,ee,J,te,0,0);const ce=this._createMaskCanvas(Y);he.setTransform(1,0,0,1,ce.offsetX-ue[4],ce.offsetY-ue[5]);for(let se=0,xe=X.length;se<xe;se+=2){const Se=b.Util.transform(ue,[W,ee,J,te,X[se],X[se+1]]),[ve,pe]=b.Util.applyTransform([0,0],Se);he.drawImage(ce.canvas,ve,pe)}he.restore(),this.compose()}paintImageMaskXObjectGroup(Y){if(!this.contentVisible)return;const W=this.ctx,ee=this.current.fillColor,J=this.current.patternFill;for(const te of Y){const{data:X,width:he,height:ue,transform:ce}=te,se=this.cachedCanvases.getCanvas("maskCanvas",he,ue),xe=se.context;xe.save();const Se=this.getObject(X,te);oe(xe,Se),xe.globalCompositeOperation="source-in",xe.fillStyle=J?ee.getPattern(xe,this,(0,w.getCurrentTransformInverse)(W),S.FILL):ee,xe.fillRect(0,0,he,ue),xe.restore(),W.save(),W.transform(...ce),W.scale(1,-1),fe(W,se.canvas,0,0,he,ue,0,-1,1,1),W.restore()}this.compose()}paintImageXObject(Y){if(!this.contentVisible)return;const W=this.getObject(Y);if(!W){(0,b.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(W)}paintImageXObjectRepeat(Y,W,ee,J){if(!this.contentVisible)return;const te=this.getObject(Y);if(!te){(0,b.warn)("Dependent image isn't ready yet");return}const X=te.width,he=te.height,ue=[];for(let ce=0,se=J.length;ce<se;ce+=2)ue.push({transform:[W,0,0,ee,J[ce],J[ce+1]],x:0,y:0,w:X,h:he});this.paintInlineImageXObjectGroup(te,ue)}applyTransferMapsToCanvas(Y){return this.current.transferMaps!=="none"&&(Y.filter=this.current.transferMaps,Y.drawImage(Y.canvas,0,0),Y.filter="none"),Y.canvas}applyTransferMapsToBitmap(Y){if(this.current.transferMaps==="none")return Y.bitmap;const{bitmap:W,width:ee,height:J}=Y,te=this.cachedCanvases.getCanvas("inlineImage",ee,J),X=te.context;return X.filter=this.current.transferMaps,X.drawImage(W,0,0),X.filter="none",te.canvas}paintInlineImageXObject(Y){if(!this.contentVisible)return;const W=Y.width,ee=Y.height,J=this.ctx;if(this.save(),!b.isNodeJS){const{filter:he}=J;he!=="none"&&he!==""&&(J.filter="none")}J.scale(1/W,-1/ee);let te;if(Y.bitmap)te=this.applyTransferMapsToBitmap(Y);else if(typeof HTMLElement=="function"&&Y instanceof HTMLElement||!Y.data)te=Y;else{const ue=this.cachedCanvases.getCanvas("inlineImage",W,ee).context;we(ue,Y),te=this.applyTransferMapsToCanvas(ue)}const X=this._scaleImage(te,(0,w.getCurrentTransformInverse)(J));J.imageSmoothingEnabled=Ee((0,w.getCurrentTransform)(J),Y.interpolate),fe(J,X.img,0,0,X.paintWidth,X.paintHeight,0,-ee,W,ee),this.compose(),this.restore()}paintInlineImageXObjectGroup(Y,W){if(!this.contentVisible)return;const ee=this.ctx;let J;if(Y.bitmap)J=Y.bitmap;else{const te=Y.width,X=Y.height,ue=this.cachedCanvases.getCanvas("inlineImage",te,X).context;we(ue,Y),J=this.applyTransferMapsToCanvas(ue)}for(const te of W)ee.save(),ee.transform(...te.transform),ee.scale(1,-1),fe(ee,J,te.x,te.y,te.w,te.h,0,-1,1,1),ee.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Y){}markPointProps(Y,W){}beginMarkedContent(Y){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Y,W){Y==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(W)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Y){const W=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Y);const ee=this.ctx;this.pendingClip&&(W||(this.pendingClip===Pe?ee.clip("evenodd"):ee.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ee.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Y=(0,w.getCurrentTransform)(this.ctx);if(Y[1]===0&&Y[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Y[0]),Math.abs(Y[3]));else{const W=Math.abs(Y[0]*Y[3]-Y[2]*Y[1]),ee=Math.hypot(Y[0],Y[2]),J=Math.hypot(Y[1],Y[3]);this._cachedGetSinglePixelWidth=Math.max(ee,J)/W}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Y}=this.current,{a:W,b:ee,c:J,d:te}=this.ctx.getTransform();let X,he;if(ee===0&&J===0){const ue=Math.abs(W),ce=Math.abs(te);if(ue===ce)if(Y===0)X=he=1/ue;else{const se=ue*Y;X=he=se<1?1/se:1}else if(Y===0)X=1/ue,he=1/ce;else{const se=ue*Y,xe=ce*Y;X=se<1?1/se:1,he=xe<1?1/xe:1}}else{const ue=Math.abs(W*te-ee*J),ce=Math.hypot(W,ee),se=Math.hypot(J,te);if(Y===0)X=se/ue,he=ce/ue;else{const xe=Y*ue;X=se>xe?se/xe:1,he=ce>xe?ce/xe:1}}this._cachedScaleForStroking[0]=X,this._cachedScaleForStroking[1]=he}return this._cachedScaleForStroking}rescaleAndStroke(Y){const{ctx:W}=this,{lineWidth:ee}=this.current,[J,te]=this.getScaleForStroking();if(W.lineWidth=ee||1,J===1&&te===1){W.stroke();return}const X=W.getLineDash();if(Y&&W.save(),W.scale(J,te),X.length>0){const he=Math.max(J,te);W.setLineDash(X.map(ue=>ue/he)),W.lineDashOffset/=he}W.stroke(),Y&&W.restore()}isContentVisible(){for(let Y=this.markedContentStack.length-1;Y>=0;Y--)if(!this.markedContentStack[Y].visible)return!1;return!0}}for(const ae in b.OPS)re.prototype[ae]!==void 0&&(re.prototype[b.OPS[ae]]=re.prototype[ae])},473:(g,d,x)=>{x.d(d,{DOMCMapReaderFactory:()=>D,DOMCanvasFactory:()=>E,DOMFilterFactory:()=>F,DOMSVGFactory:()=>L,DOMStandardFontDataFactory:()=>M,PDFDateString:()=>Q,PageViewport:()=>R,PixelsPerInch:()=>C,RenderingCancelledException:()=>U,StatTimer:()=>G,fetchData:()=>k,getColorValues:()=>fe,getCurrentTransform:()=>be,getCurrentTransformInverse:()=>me,getFilenameFromUrl:()=>z,getPdfFilenameFromUrl:()=>V,getRGB:()=>le,getXfaPageViewport:()=>ne,isDataScheme:()=>j,isPdfFile:()=>H,isValidFetchUrl:()=>$,noContextMenu:()=>K,setLayerDimensions:()=>we});var b=x(822),w=x(266);const S="http://www.w3.org/2000/svg";class C{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class F extends b.BaseFilterFactory{#e;#t;#n;#r;#s;#i;#c;#l;#o;#u;#a=0;constructor({docId:ge,ownerDocument:Ae=globalThis.document}={}){super(),this.#n=ge,this.#r=Ae}get#f(){return this.#e||=new Map}get#h(){if(!this.#t){const ge=this.#r.createElement("div"),{style:Ae}=ge;Ae.visibility="hidden",Ae.contain="strict",Ae.width=Ae.height=0,Ae.position="absolute",Ae.top=Ae.left=0,Ae.zIndex=-1;const Ce=this.#r.createElementNS(S,"svg");Ce.setAttribute("width",0),Ce.setAttribute("height",0),this.#t=this.#r.createElementNS(S,"defs"),ge.append(Ce),Ce.append(this.#t),this.#r.body.append(ge)}return this.#t}addFilter(ge){if(!ge)return"none";let Ae=this.#f.get(ge);if(Ae)return Ae;let Ce,Ne,Oe,Be;if(ge.length===1){const De=ge[0],_e=new Array(256);for(let Pe=0;Pe<256;Pe++)_e[Pe]=De[Pe]/255;Be=Ce=Ne=Oe=_e.join(",")}else{const[De,_e,Pe]=ge,re=new Array(256),ae=new Array(256),Y=new Array(256);for(let W=0;W<256;W++)re[W]=De[W]/255,ae[W]=_e[W]/255,Y[W]=Pe[W]/255;Ce=re.join(","),Ne=ae.join(","),Oe=Y.join(","),Be=`${Ce}${Ne}${Oe}`}if(Ae=this.#f.get(Be),Ae)return this.#f.set(ge,Ae),Ae;const Ie=`g_${this.#n}_transfer_map_${this.#a++}`,Ee=`url(#${Ie})`;this.#f.set(ge,Ee),this.#f.set(Be,Ee);const Ue=this.#p(Ie);return this.#x(Ce,Ne,Oe,Ue),Ee}addHCMFilter(ge,Ae){const Ce=`${ge}-${Ae}`;if(this.#i===Ce)return this.#c;if(this.#i=Ce,this.#c="none",this.#s?.remove(),!ge||!Ae)return this.#c;const Ne=this.#m(ge);ge=w.Util.makeHexColor(...Ne);const Oe=this.#m(Ae);if(Ae=w.Util.makeHexColor(...Oe),this.#h.style.color="",ge==="#000000"&&Ae==="#ffffff"||ge===Ae)return this.#c;const Be=new Array(256);for(let _e=0;_e<=255;_e++){const Pe=_e/255;Be[_e]=Pe<=.03928?Pe/12.92:((Pe+.055)/1.055)**2.4}const Ie=Be.join(","),Ee=`g_${this.#n}_hcm_filter`,Ue=this.#l=this.#p(Ee);this.#x(Ie,Ie,Ie,Ue),this.#g(Ue);const De=(_e,Pe)=>{const re=Ne[_e]/255,ae=Oe[_e]/255,Y=new Array(Pe+1);for(let W=0;W<=Pe;W++)Y[W]=re+W/Pe*(ae-re);return Y.join(",")};return this.#x(De(0,5),De(1,5),De(2,5),Ue),this.#c=`url(#${Ee})`,this.#c}addHighlightHCMFilter(ge,Ae,Ce,Ne){const Oe=`${ge}-${Ae}-${Ce}-${Ne}`;if(this.#o===Oe)return this.#u;if(this.#o=Oe,this.#u="none",this.#l?.remove(),!ge||!Ae)return this.#u;const[Be,Ie]=[ge,Ae].map(this.#m.bind(this));let Ee=Math.round(.2126*Be[0]+.7152*Be[1]+.0722*Be[2]),Ue=Math.round(.2126*Ie[0]+.7152*Ie[1]+.0722*Ie[2]),[De,_e]=[Ce,Ne].map(this.#m.bind(this));Ue<Ee&&([Ee,Ue,De,_e]=[Ue,Ee,_e,De]),this.#h.style.color="";const Pe=(Y,W,ee)=>{const J=new Array(256),te=(Ue-Ee)/ee,X=Y/255,he=(W-Y)/(255*ee);let ue=0;for(let ce=0;ce<=ee;ce++){const se=Math.round(Ee+ce*te),xe=X+ce*he;for(let Se=ue;Se<=se;Se++)J[Se]=xe;ue=se+1}for(let ce=ue;ce<256;ce++)J[ce]=J[ue-1];return J.join(",")},re=`g_${this.#n}_hcm_highlight_filter`,ae=this.#l=this.#p(re);return this.#g(ae),this.#x(Pe(De[0],_e[0],5),Pe(De[1],_e[1],5),Pe(De[2],_e[2],5),ae),this.#u=`url(#${re})`,this.#u}destroy(ge=!1){ge&&(this.#c||this.#u)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#a=0)}#g(ge){const Ae=this.#r.createElementNS(S,"feColorMatrix");Ae.setAttribute("type","matrix"),Ae.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ge.append(Ae)}#p(ge){const Ae=this.#r.createElementNS(S,"filter");return Ae.setAttribute("color-interpolation-filters","sRGB"),Ae.setAttribute("id",ge),this.#h.append(Ae),Ae}#b(ge,Ae,Ce){const Ne=this.#r.createElementNS(S,Ae);Ne.setAttribute("type","discrete"),Ne.setAttribute("tableValues",Ce),ge.append(Ne)}#x(ge,Ae,Ce,Ne){const Oe=this.#r.createElementNS(S,"feComponentTransfer");Ne.append(Oe),this.#b(Oe,"feFuncR",ge),this.#b(Oe,"feFuncG",Ae),this.#b(Oe,"feFuncB",Ce)}#m(ge){return this.#h.style.color=ge,le(getComputedStyle(this.#h).getPropertyValue("color"))}}class E extends b.BaseCanvasFactory{constructor({ownerDocument:ge=globalThis.document}={}){super(),this._document=ge}_createCanvas(ge,Ae){const Ce=this._document.createElement("canvas");return Ce.width=ge,Ce.height=Ae,Ce}}async function k(oe,ge="text"){if($(oe,document.baseURI)){const Ae=await fetch(oe);if(!Ae.ok)throw new Error(Ae.statusText);switch(ge){case"arraybuffer":return Ae.arrayBuffer();case"blob":return Ae.blob();case"json":return Ae.json()}return Ae.text()}return new Promise((Ae,Ce)=>{const Ne=new XMLHttpRequest;Ne.open("GET",oe,!0),Ne.responseType=ge,Ne.onreadystatechange=()=>{if(Ne.readyState===XMLHttpRequest.DONE){if(Ne.status===200||Ne.status===0){let Oe;switch(ge){case"arraybuffer":case"blob":case"json":Oe=Ne.response;break;default:Oe=Ne.responseText;break}if(Oe){Ae(Oe);return}}Ce(new Error(Ne.statusText))}},Ne.send(null)})}class D extends b.BaseCMapReaderFactory{_fetchData(ge,Ae){return k(ge,this.isCompressed?"arraybuffer":"text").then(Ce=>({cMapData:Ce instanceof ArrayBuffer?new Uint8Array(Ce):(0,w.stringToBytes)(Ce),compressionType:Ae}))}}class M extends b.BaseStandardFontDataFactory{_fetchData(ge){return k(ge,"arraybuffer").then(Ae=>new Uint8Array(Ae))}}class L extends b.BaseSVGFactory{_createSVG(ge){return document.createElementNS(S,ge)}}class R{constructor({viewBox:ge,scale:Ae,rotation:Ce,offsetX:Ne=0,offsetY:Oe=0,dontFlip:Be=!1}){this.viewBox=ge,this.scale=Ae,this.rotation=Ce,this.offsetX=Ne,this.offsetY=Oe;const Ie=(ge[2]+ge[0])/2,Ee=(ge[3]+ge[1])/2;let Ue,De,_e,Pe;switch(Ce%=360,Ce<0&&(Ce+=360),Ce){case 180:Ue=-1,De=0,_e=0,Pe=1;break;case 90:Ue=0,De=1,_e=1,Pe=0;break;case 270:Ue=0,De=-1,_e=-1,Pe=0;break;case 0:Ue=1,De=0,_e=0,Pe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Be&&(_e=-_e,Pe=-Pe);let re,ae,Y,W;Ue===0?(re=Math.abs(Ee-ge[1])*Ae+Ne,ae=Math.abs(Ie-ge[0])*Ae+Oe,Y=(ge[3]-ge[1])*Ae,W=(ge[2]-ge[0])*Ae):(re=Math.abs(Ie-ge[0])*Ae+Ne,ae=Math.abs(Ee-ge[1])*Ae+Oe,Y=(ge[2]-ge[0])*Ae,W=(ge[3]-ge[1])*Ae),this.transform=[Ue*Ae,De*Ae,_e*Ae,Pe*Ae,re-Ue*Ae*Ie-_e*Ae*Ee,ae-De*Ae*Ie-Pe*Ae*Ee],this.width=Y,this.height=W}get rawDims(){const{viewBox:ge}=this;return(0,w.shadow)(this,"rawDims",{pageWidth:ge[2]-ge[0],pageHeight:ge[3]-ge[1],pageX:ge[0],pageY:ge[1]})}clone({scale:ge=this.scale,rotation:Ae=this.rotation,offsetX:Ce=this.offsetX,offsetY:Ne=this.offsetY,dontFlip:Oe=!1}={}){return new R({viewBox:this.viewBox.slice(),scale:ge,rotation:Ae,offsetX:Ce,offsetY:Ne,dontFlip:Oe})}convertToViewportPoint(ge,Ae){return w.Util.applyTransform([ge,Ae],this.transform)}convertToViewportRectangle(ge){const Ae=w.Util.applyTransform([ge[0],ge[1]],this.transform),Ce=w.Util.applyTransform([ge[2],ge[3]],this.transform);return[Ae[0],Ae[1],Ce[0],Ce[1]]}convertToPdfPoint(ge,Ae){return w.Util.applyInverseTransform([ge,Ae],this.transform)}}class U extends w.BaseException{constructor(ge,Ae=0){super(ge,"RenderingCancelledException"),this.extraDelay=Ae}}function j(oe){const ge=oe.length;let Ae=0;for(;Ae<ge&&oe[Ae].trim()==="";)Ae++;return oe.substring(Ae,Ae+5).toLowerCase()==="data:"}function H(oe){return typeof oe=="string"&&/\.pdf$/i.test(oe)}function z(oe,ge=!1){return ge||([oe]=oe.split(/[#?]/,1)),oe.substring(oe.lastIndexOf("/")+1)}function V(oe,ge="document.pdf"){if(typeof oe!="string")return ge;if(j(oe))return(0,w.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ge;const Ae=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ce=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ne=Ae.exec(oe);let Oe=Ce.exec(Ne[1])||Ce.exec(Ne[2])||Ce.exec(Ne[3]);if(Oe&&(Oe=Oe[0],Oe.includes("%")))try{Oe=Ce.exec(decodeURIComponent(Oe))[0]}catch{}return Oe||ge}class G{started=Object.create(null);times=[];time(ge){ge in this.started&&(0,w.warn)(`Timer is already running for ${ge}`),this.started[ge]=Date.now()}timeEnd(ge){ge in this.started||(0,w.warn)(`Timer has not been started for ${ge}`),this.times.push({name:ge,start:this.started[ge],end:Date.now()}),delete this.started[ge]}toString(){const ge=[];let Ae=0;for(const{name:Ce}of this.times)Ae=Math.max(Ce.length,Ae);for(const{name:Ce,start:Ne,end:Oe}of this.times)ge.push(`${Ce.padEnd(Ae)} ${Oe-Ne}ms
`);return ge.join("")}}function $(oe,ge){try{const{protocol:Ae}=ge?new URL(oe,ge):new URL(oe);return Ae==="http:"||Ae==="https:"}catch{return!1}}function K(oe){oe.preventDefault()}let Z;class Q{static toDateObject(ge){if(!ge||typeof ge!="string")return null;Z||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const Ae=Z.exec(ge);if(!Ae)return null;const Ce=parseInt(Ae[1],10);let Ne=parseInt(Ae[2],10);Ne=Ne>=1&&Ne<=12?Ne-1:0;let Oe=parseInt(Ae[3],10);Oe=Oe>=1&&Oe<=31?Oe:1;let Be=parseInt(Ae[4],10);Be=Be>=0&&Be<=23?Be:0;let Ie=parseInt(Ae[5],10);Ie=Ie>=0&&Ie<=59?Ie:0;let Ee=parseInt(Ae[6],10);Ee=Ee>=0&&Ee<=59?Ee:0;const Ue=Ae[7]||"Z";let De=parseInt(Ae[8],10);De=De>=0&&De<=23?De:0;let _e=parseInt(Ae[9],10)||0;return _e=_e>=0&&_e<=59?_e:0,Ue==="-"?(Be+=De,Ie+=_e):Ue==="+"&&(Be-=De,Ie-=_e),new Date(Date.UTC(Ce,Ne,Oe,Be,Ie,Ee))}}function ne(oe,{scale:ge=1,rotation:Ae=0}){const{width:Ce,height:Ne}=oe.attributes.style,Oe=[0,0,parseInt(Ce),parseInt(Ne)];return new R({viewBox:Oe,scale:ge,rotation:Ae})}function le(oe){if(oe.startsWith("#")){const ge=parseInt(oe.slice(1),16);return[(ge&16711680)>>16,(ge&65280)>>8,ge&255]}return oe.startsWith("rgb(")?oe.slice(4,-1).split(",").map(ge=>parseInt(ge)):oe.startsWith("rgba(")?oe.slice(5,-1).split(",").map(ge=>parseInt(ge)).slice(0,3):((0,w.warn)(`Not a valid color format: "${oe}"`),[0,0,0])}function fe(oe){const ge=document.createElement("span");ge.style.visibility="hidden",document.body.append(ge);for(const Ae of oe.keys()){ge.style.color=Ae;const Ce=window.getComputedStyle(ge).color;oe.set(Ae,le(Ce))}ge.remove()}function be(oe){const{a:ge,b:Ae,c:Ce,d:Ne,e:Oe,f:Be}=oe.getTransform();return[ge,Ae,Ce,Ne,Oe,Be]}function me(oe){const{a:ge,b:Ae,c:Ce,d:Ne,e:Oe,f:Be}=oe.getTransform().invertSelf();return[ge,Ae,Ce,Ne,Oe,Be]}function we(oe,ge,Ae=!1,Ce=!0){if(ge instanceof R){const{pageWidth:Ne,pageHeight:Oe}=ge.rawDims,{style:Be}=oe,Ie=w.FeatureTest.isCSSRoundSupported,Ee=`var(--scale-factor) * ${Ne}px`,Ue=`var(--scale-factor) * ${Oe}px`,De=Ie?`round(${Ee}, 1px)`:`calc(${Ee})`,_e=Ie?`round(${Ue}, 1px)`:`calc(${Ue})`;!Ae||ge.rotation%180===0?(Be.width=De,Be.height=_e):(Be.width=_e,Be.height=De)}Ce&&oe.setAttribute("data-main-rotation",ge.rotation)}},423:(g,d,x)=>{x.d(d,{DrawLayer:()=>S});var b=x(473),w=x(266);class S{#e=null;#t=0;#n=new Map;constructor({pageIndex:F}){this.pageIndex=F}setParent(F){if(!this.#e){this.#e=F;return}if(this.#e!==F){if(this.#n.size>0)for(const E of this.#n.values())E.remove(),F.append(E);this.#e=F}}static get _svgFactory(){return(0,w.shadow)(this,"_svgFactory",new b.DOMSVGFactory)}static#r(F,{x:E,y:k,width:D,height:M}){const{style:L}=F;L.top=`${100*k}%`,L.left=`${100*E}%`,L.width=`${100*D}%`,L.height=`${100*M}%`}#s(F){const E=S._svgFactory.create(1,1,!0);return this.#e.append(E),S.#r(E,F),E}highlight({outlines:F,box:E},k,D){const M=this.#t++,L=this.#s(E);L.classList.add("highlight");const R=S._svgFactory.createElement("defs");L.append(R);const U=S._svgFactory.createElement("path");R.append(U);const j=`path_p${this.pageIndex}_${M}`;U.setAttribute("id",j),U.setAttribute("d",S.#i(F));const H=S._svgFactory.createElement("clipPath");R.append(H);const z=`clip_${j}`;H.setAttribute("id",z),H.setAttribute("clipPathUnits","objectBoundingBox");const V=S._svgFactory.createElement("use");H.append(V),V.setAttribute("href",`#${j}`),V.classList.add("clip");const G=S._svgFactory.createElement("use");return L.append(G),L.setAttribute("fill",k),L.setAttribute("fill-opacity",D),G.setAttribute("href",`#${j}`),this.#n.set(M,L),{id:M,clipPathId:`url(#${z})`}}highlightOutline({outlines:F,box:E}){const k=this.#t++,D=this.#s(E);D.classList.add("highlightOutline");const M=S._svgFactory.createElement("defs");D.append(M);const L=S._svgFactory.createElement("path");M.append(L);const R=`path_p${this.pageIndex}_${k}`;L.setAttribute("id",R),L.setAttribute("d",S.#i(F)),L.setAttribute("vector-effect","non-scaling-stroke");const U=S._svgFactory.createElement("use");D.append(U),U.setAttribute("href",`#${R}`);const j=U.cloneNode();return D.append(j),U.classList.add("mainOutline"),j.classList.add("secondaryOutline"),this.#n.set(k,D),k}static#i(F){const E=[];for(const k of F){let[D,M]=k;E.push(`M${D} ${M}`);for(let L=2;L<k.length;L+=2){const R=k[L],U=k[L+1];R===D?(E.push(`V${U}`),M=U):U===M&&(E.push(`H${R}`),D=R)}E.push("Z")}return E.join(" ")}updateBox(F,E){S.#r(this.#n.get(F),E)}rotate(F,E){this.#n.get(F).setAttribute("data-main-rotation",E)}changeColor(F,E){this.#n.get(F).setAttribute("fill",E)}changeOpacity(F,E){this.#n.get(F).setAttribute("fill-opacity",E)}addClass(F,E){this.#n.get(F).classList.add(E)}removeClass(F,E){this.#n.get(F).classList.remove(E)}remove(F){this.#n.get(F).remove(),this.#n.delete(F)}destroy(){this.#e=null;for(const F of this.#n.values())F.remove();this.#n.clear()}}},331:(g,d,x)=>{x.d(d,{AnnotationEditorLayer:()=>M});var b=x(266),w=x(796),S=x(812),C=x(640);class F extends w.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#s;#i="";#c=`${this.id}-editor`;#l;#o=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const R=F.prototype,U=z=>z.isEmpty(),j=S.AnnotationEditorUIManager.TRANSLATE_SMALL,H=S.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,b.shadow)(this,"_keyboardManager",new S.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],R.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],R.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],R._translateEmpty,{args:[-j,0],checker:U}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],R._translateEmpty,{args:[-H,0],checker:U}],[["ArrowRight","mac+ArrowRight"],R._translateEmpty,{args:[j,0],checker:U}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],R._translateEmpty,{args:[H,0],checker:U}],[["ArrowUp","mac+ArrowUp"],R._translateEmpty,{args:[0,-j],checker:U}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],R._translateEmpty,{args:[0,-H],checker:U}],[["ArrowDown","mac+ArrowDown"],R._translateEmpty,{args:[0,j],checker:U}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],R._translateEmpty,{args:[0,H],checker:U}]]))}static _type="freetext";static _editorType=b.AnnotationEditorType.FREETEXT;constructor(R){super({...R,name:"freeTextEditor"}),this.#s=R.color||F._defaultColor||w.AnnotationEditor._defaultLineColor,this.#l=R.fontSize||F._defaultFontSize}static initialize(R){w.AnnotationEditor.initialize(R,{strings:["pdfjs-free-text-default-content"]});const U=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(U.getPropertyValue("--freetext-padding"))}static updateDefaultParams(R,U){switch(R){case b.AnnotationEditorParamsType.FREETEXT_SIZE:F._defaultFontSize=U;break;case b.AnnotationEditorParamsType.FREETEXT_COLOR:F._defaultColor=U;break}}updateParams(R,U){switch(R){case b.AnnotationEditorParamsType.FREETEXT_SIZE:this.#u(U);break;case b.AnnotationEditorParamsType.FREETEXT_COLOR:this.#a(U);break}}static get defaultPropertiesToUpdate(){return[[b.AnnotationEditorParamsType.FREETEXT_SIZE,F._defaultFontSize],[b.AnnotationEditorParamsType.FREETEXT_COLOR,F._defaultColor||w.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[b.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[b.AnnotationEditorParamsType.FREETEXT_COLOR,this.#s]]}#u(R){const U=H=>{this.editorDiv.style.fontSize=`calc(${H}px * var(--scale-factor))`,this.translate(0,-(H-this.#l)*this.parentScale),this.#l=H,this.#h()},j=this.#l;this.addCommands({cmd:()=>{U(R)},undo:()=>{U(j)},mustExec:!0,type:b.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(R){const U=this.#s;this.addCommands({cmd:()=>{this.#s=this.editorDiv.style.color=R},undo:()=>{this.#s=this.editorDiv.style.color=U},mustExec:!0,type:b.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(R,U){this._uiManager.translateSelectedEditors(R,U,!0)}getInitialTranslation(){const R=this.parentScale;return[-F._internalPadding*R,-(F._internalPadding+this.#l)*R]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(b.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#c),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(R){this._focusEventsAllowed&&(super.focusin(R),R.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#b();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#f(){const R=this.editorDiv.getElementsByTagName("div");if(R.length===0)return this.editorDiv.innerText;const U=[];for(const j of R)U.push(j.innerText.replace(/\r\n?|\n/,""));return U.join(`
`)}#h(){const[R,U]=this.parentDimensions;let j;if(this.isAttachedToDOM)j=this.div.getBoundingClientRect();else{const{currentLayer:H,div:z}=this,V=z.style.display;z.style.display="hidden",H.div.append(this.div),j=z.getBoundingClientRect(),z.remove(),z.style.display=V}this.rotation%180===this.parentRotation%180?(this.width=j.width/R,this.height=j.height/U):(this.width=j.height/R,this.height=j.width/U),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const R=this.#i,U=this.#i=this.#f().trimEnd();if(R===U)return;const j=H=>{if(this.#i=H,!H){this.remove();return}this.#g(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{j(U)},undo:()=>{j(R)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(R){this.enterInEditMode()}keydown(R){R.target===this.div&&R.key==="Enter"&&(this.enterInEditMode(),R.preventDefault())}editorDivKeydown(R){F._keyboardManager.exec(this,R)}editorDivFocus(R){this.isEditing=!0}editorDivBlur(R){this.isEditing=!1}editorDivInput(R){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let R,U;this.width&&(R=this.x,U=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#c),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),w.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(H=>this.editorDiv?.setAttribute("default-content",H)),this.editorDiv.contentEditable=!0;const{style:j}=this.editorDiv;if(j.fontSize=`calc(${this.#l}px * var(--scale-factor))`,j.color=this.#s,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,S.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[H,z]=this.parentDimensions;if(this.annotationElementId){const{position:V}=this.#o;let[G,$]=this.getInitialTranslation();[G,$]=this.pageTranslationToScreen(G,$);const[K,Z]=this.pageDimensions,[Q,ne]=this.pageTranslation;let le,fe;switch(this.rotation){case 0:le=R+(V[0]-Q)/K,fe=U+this.height-(V[1]-ne)/Z;break;case 90:le=R+(V[0]-Q)/K,fe=U-(V[1]-ne)/Z,[G,$]=[$,-G];break;case 180:le=R-this.width+(V[0]-Q)/K,fe=U-(V[1]-ne)/Z,[G,$]=[-G,-$];break;case 270:le=R+(V[0]-Q-this.height*Z)/K,fe=U+(V[1]-ne-this.width*K)/Z,[G,$]=[-$,G];break}this.setAt(le*H,fe*z,G,$)}else this.setAt(R*H,U*z,this.width*H,this.height*z);this.#g(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#g(){if(this.editorDiv.replaceChildren(),!!this.#i)for(const R of this.#i.split(`
`)){const U=document.createElement("div");U.append(R?document.createTextNode(R):document.createElement("br")),this.editorDiv.append(U)}}get contentDiv(){return this.editorDiv}static deserialize(R,U,j){let H=null;if(R instanceof C.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:V,fontColor:G},rect:$,rotation:K,id:Z},textContent:Q,textPosition:ne,parent:{page:{pageNumber:le}}}=R;if(!Q||Q.length===0)return null;H=R={annotationType:b.AnnotationEditorType.FREETEXT,color:Array.from(G),fontSize:V,value:Q.join(`
`),position:ne,pageIndex:le-1,rect:$,rotation:K,id:Z,deleted:!1}}const z=super.deserialize(R,U,j);return z.#l=R.fontSize,z.#s=b.Util.makeHexColor(...R.color),z.#i=R.value,z.annotationElementId=R.id||null,z.#o=H,z}serialize(R=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const U=F._internalPadding*this.parentScale,j=this.getRect(U,U),H=w.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#s),z={annotationType:b.AnnotationEditorType.FREETEXT,color:H,fontSize:this.#l,value:this.#i,pageIndex:this.pageIndex,rect:j,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return R?z:this.annotationElementId&&!this.#p(z)?null:(z.id=this.annotationElementId,z)}#p(R){const{value:U,fontSize:j,color:H,rect:z,pageIndex:V}=this.#o;return R.value!==U||R.fontSize!==j||R.rect.some((G,$)=>Math.abs(G-z[$])>=1)||R.color.some((G,$)=>G!==H[$])||R.pageIndex!==V}#b(R=!1){if(!this.annotationElementId)return;if(this.#h(),!R&&(this.width===0||this.height===0)){setTimeout(()=>this.#b(!0),0);return}const U=F._internalPadding*this.parentScale;this.#o.rect=this.getRect(U,U)}}var E=x(473);class k extends w.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#i=this.canvasPointerdown.bind(this);#c=null;#l=new Path2D;#o=!1;#u=!1;#a=!1;#f=null;#h=0;#g=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=b.AnnotationEditorType.INK;constructor(R){super({...R,name:"inkEditor"}),this.color=R.color||null,this.thickness=R.thickness||null,this.opacity=R.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(R){w.AnnotationEditor.initialize(R)}static updateDefaultParams(R,U){switch(R){case b.AnnotationEditorParamsType.INK_THICKNESS:k._defaultThickness=U;break;case b.AnnotationEditorParamsType.INK_COLOR:k._defaultColor=U;break;case b.AnnotationEditorParamsType.INK_OPACITY:k._defaultOpacity=U/100;break}}updateParams(R,U){switch(R){case b.AnnotationEditorParamsType.INK_THICKNESS:this.#b(U);break;case b.AnnotationEditorParamsType.INK_COLOR:this.#x(U);break;case b.AnnotationEditorParamsType.INK_OPACITY:this.#m(U);break}}static get defaultPropertiesToUpdate(){return[[b.AnnotationEditorParamsType.INK_THICKNESS,k._defaultThickness],[b.AnnotationEditorParamsType.INK_COLOR,k._defaultColor||w.AnnotationEditor._defaultLineColor],[b.AnnotationEditorParamsType.INK_OPACITY,Math.round(k._defaultOpacity*100)]]}get propertiesToUpdate(){return[[b.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||k._defaultThickness],[b.AnnotationEditorParamsType.INK_COLOR,this.color||k._defaultColor||w.AnnotationEditor._defaultLineColor],[b.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??k._defaultOpacity))]]}#b(R){const U=this.thickness;this.addCommands({cmd:()=>{this.thickness=R,this.#I()},undo:()=>{this.thickness=U,this.#I()},mustExec:!0,type:b.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#x(R){const U=this.color;this.addCommands({cmd:()=>{this.color=R,this.#v()},undo:()=>{this.color=U,this.#v()},mustExec:!0,type:b.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(R){R/=100;const U=this.opacity;this.addCommands({cmd:()=>{this.opacity=R,this.#v()},undo:()=>{this.opacity=U,this.#v()},mustExec:!0,type:b.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#E(),this.#T()),this.isAttachedToDOM||(this.parent.add(this),this.#w()),this.#I()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#c&&(clearTimeout(this.#c),this.#c=null),this.#f.disconnect(),this.#f=null,super.remove())}setParent(R){!this.parent&&R?this._uiManager.removeShouldRescale(this):this.parent&&R===null&&this._uiManager.addShouldRescale(this),super.setParent(R)}onScaleChanging(){const[R,U]=this.parentDimensions,j=this.width*R,H=this.height*U;this.setDimensions(j,H)}enableEditMode(){this.#o||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#i))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#i))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#d(){const{parentRotation:R,parentDimensions:[U,j]}=this;switch(R){case 90:return[0,j,j,U];case 180:return[U,j,U,j];case 270:return[U,0,j,U];default:return[0,0,U,j]}}#y(){const{ctx:R,color:U,opacity:j,thickness:H,parentScale:z,scaleFactor:V}=this;R.lineWidth=H*z/V,R.lineCap="round",R.lineJoin="round",R.miterLimit=10,R.strokeStyle=`${U}${(0,S.opacityToHex)(j)}`}#F(R,U){this.canvas.addEventListener("contextmenu",E.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#s),this.canvas.removeEventListener("pointerdown",this.#i),this.isEditing=!0,this.#a||(this.#a=!0,this.#w(),this.thickness||=k._defaultThickness,this.color||=k._defaultColor||w.AnnotationEditor._defaultLineColor,this.opacity??=k._defaultOpacity),this.currentPath.push([R,U]),this.#u=!1,this.#y(),this.#p=()=>{this.#R(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#_(R,U){const[j,H]=this.currentPath.at(-1);if(this.currentPath.length>1&&R===j&&U===H)return;const z=this.currentPath;let V=this.#l;if(z.push([R,U]),this.#u=!0,z.length<=2){V.moveTo(...z[0]),V.lineTo(R,U);return}z.length===3&&(this.#l=V=new Path2D,V.moveTo(...z[0])),this.#M(V,...z.at(-3),...z.at(-2),R,U)}#D(){if(this.currentPath.length===0)return;const R=this.currentPath.at(-1);this.#l.lineTo(...R)}#O(R,U){this.#p=null,R=Math.min(Math.max(R,0),this.canvas.width),U=Math.min(Math.max(U,0),this.canvas.height),this.#_(R,U),this.#D();let j;if(this.currentPath.length!==1)j=this.#B();else{const $=[R,U];j=[[$,$.slice(),$.slice(),$]]}const H=this.#l,z=this.currentPath;this.currentPath=[],this.#l=new Path2D;const V=()=>{this.allRawPaths.push(z),this.paths.push(j),this.bezierPath2D.push(H),this.rebuild()},G=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#E(),this.#T()),this.#I())};this.addCommands({cmd:V,undo:G,mustExec:!0})}#R(){if(!this.#u)return;this.#u=!1;const R=Math.ceil(this.thickness*this.parentScale),U=this.currentPath.slice(-3),j=U.map(V=>V[0]),H=U.map(V=>V[1]);Math.min(...j)-R,Math.max(...j)+R,Math.min(...H)-R,Math.max(...H)+R;const{ctx:z}=this;z.save(),z.clearRect(0,0,this.canvas.width,this.canvas.height);for(const V of this.bezierPath2D)z.stroke(V);z.stroke(this.#l),z.restore()}#M(R,U,j,H,z,V,G){const $=(U+H)/2,K=(j+z)/2,Z=(H+V)/2,Q=(z+G)/2;R.bezierCurveTo($+2*(H-$)/3,K+2*(z-K)/3,Z+2*(H-Z)/3,Q+2*(z-Q)/3,Z,Q)}#B(){const R=this.currentPath;if(R.length<=2)return[[R[0],R[0],R.at(-1),R.at(-1)]];const U=[];let j,[H,z]=R[0];for(j=1;j<R.length-2;j++){const[ne,le]=R[j],[fe,be]=R[j+1],me=(ne+fe)/2,we=(le+be)/2,oe=[H+2*(ne-H)/3,z+2*(le-z)/3],ge=[me+2*(ne-me)/3,we+2*(le-we)/3];U.push([[H,z],oe,ge,[me,we]]),[H,z]=[me,we]}const[V,G]=R[j],[$,K]=R[j+1],Z=[H+2*(V-H)/3,z+2*(G-z)/3],Q=[$+2*(V-$)/3,K+2*(G-K)/3];return U.push([[H,z],Z,Q,[$,K]]),U}#v(){if(this.isEmpty()){this.#A();return}this.#y();const{canvas:R,ctx:U}=this;U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,R.width,R.height),this.#A();for(const j of this.bezierPath2D)U.stroke(j)}commit(){this.#o||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#o=!0,this.div.classList.add("disabled"),this.#I(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(R){this._focusEventsAllowed&&(super.focusin(R),this.enableEditMode())}canvasPointerdown(R){R.button!==0||!this.isInEditMode()||this.#o||(this.setInForeground(),R.preventDefault(),R.pointerType!=="mouse"&&!this.div.contains(document.activeElement)&&this.div.focus({preventScroll:!0}),this.#F(R.offsetX,R.offsetY))}canvasPointermove(R){R.preventDefault(),this.#_(R.offsetX,R.offsetY)}canvasPointerup(R){R.preventDefault(),this.#P(R)}canvasPointerleave(R){this.#P(R)}#P(R){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#i),this.#c&&clearTimeout(this.#c),this.#c=setTimeout(()=>{this.#c=null,this.canvas.removeEventListener("contextmenu",E.noContextMenu)},10),this.#O(R.offsetX,R.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#E(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#T(){this.#f=new ResizeObserver(R=>{const U=R[0].contentRect;U.width&&U.height&&this.setDimensions(U.width,U.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#o}render(){if(this.div)return this.div;let R,U;this.width&&(R=this.x,U=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[j,H,z,V]=this.#d();if(this.setAt(j,H,0,0),this.setDims(z,V),this.#E(),this.width){const[G,$]=this.parentDimensions;this.setAspectRatio(this.width*G,this.height*$),this.setAt(R*G,U*$,this.width*G,this.height*$),this.#a=!0,this.#w(),this.setDims(this.width*G,this.height*$),this.#v(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#T(),this.div}#w(){if(!this.#a)return;const[R,U]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*R),this.canvas.height=Math.ceil(this.height*U),this.#A()}setDimensions(R,U){const j=Math.round(R),H=Math.round(U);if(this.#h===j&&this.#g===H)return;this.#h=j,this.#g=H,this.canvas.style.visibility="hidden";const[z,V]=this.parentDimensions;this.width=R/z,this.height=U/V,this.fixAndSetPosition(),this.#o&&this.#S(R,U),this.#w(),this.#v(),this.canvas.style.visibility="visible",this.fixDims()}#S(R,U){const j=this.#j(),H=(R-j)/this.#t,z=(U-j)/this.#e;this.scaleFactor=Math.min(H,z)}#A(){const R=this.#j()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+R,this.translationY*this.scaleFactor+R)}static#L(R){const U=new Path2D;for(let j=0,H=R.length;j<H;j++){const[z,V,G,$]=R[j];j===0&&U.moveTo(...z),U.bezierCurveTo(V[0],V[1],G[0],G[1],$[0],$[1])}return U}static#N(R,U,j){const[H,z,V,G]=U;switch(j){case 0:for(let $=0,K=R.length;$<K;$+=2)R[$]+=H,R[$+1]=G-R[$+1];break;case 90:for(let $=0,K=R.length;$<K;$+=2){const Z=R[$];R[$]=R[$+1]+H,R[$+1]=Z+z}break;case 180:for(let $=0,K=R.length;$<K;$+=2)R[$]=V-R[$],R[$+1]+=z;break;case 270:for(let $=0,K=R.length;$<K;$+=2){const Z=R[$];R[$]=V-R[$+1],R[$+1]=G-Z}break;default:throw new Error("Invalid rotation")}return R}static#k(R,U,j){const[H,z,V,G]=U;switch(j){case 0:for(let $=0,K=R.length;$<K;$+=2)R[$]-=H,R[$+1]=G-R[$+1];break;case 90:for(let $=0,K=R.length;$<K;$+=2){const Z=R[$];R[$]=R[$+1]-z,R[$+1]=Z-H}break;case 180:for(let $=0,K=R.length;$<K;$+=2)R[$]=V-R[$],R[$+1]-=z;break;case 270:for(let $=0,K=R.length;$<K;$+=2){const Z=R[$];R[$]=G-R[$+1],R[$+1]=V-Z}break;default:throw new Error("Invalid rotation")}return R}#H(R,U,j,H){const z=[],V=this.thickness/2,G=R*U+V,$=R*j+V;for(const K of this.paths){const Z=[],Q=[];for(let ne=0,le=K.length;ne<le;ne++){const[fe,be,me,we]=K[ne],oe=R*fe[0]+G,ge=R*fe[1]+$,Ae=R*be[0]+G,Ce=R*be[1]+$,Ne=R*me[0]+G,Oe=R*me[1]+$,Be=R*we[0]+G,Ie=R*we[1]+$;ne===0&&(Z.push(oe,ge),Q.push(oe,ge)),Z.push(Ae,Ce,Ne,Oe,Be,Ie),Q.push(Ae,Ce),ne===le-1&&Q.push(Be,Ie)}z.push({bezier:k.#N(Z,H,this.rotation),points:k.#N(Q,H,this.rotation)})}return z}#U(){let R=1/0,U=-1/0,j=1/0,H=-1/0;for(const z of this.paths)for(const[V,G,$,K]of z){const Z=b.Util.bezierBoundingBox(...V,...G,...$,...K);R=Math.min(R,Z[0]),j=Math.min(j,Z[1]),U=Math.max(U,Z[2]),H=Math.max(H,Z[3])}return[R,j,U,H]}#j(){return this.#o?Math.ceil(this.thickness*this.parentScale):0}#I(R=!1){if(this.isEmpty())return;if(!this.#o){this.#v();return}const U=this.#U(),j=this.#j();this.#t=Math.max(w.AnnotationEditor.MIN_SIZE,U[2]-U[0]),this.#e=Math.max(w.AnnotationEditor.MIN_SIZE,U[3]-U[1]);const H=Math.ceil(j+this.#t*this.scaleFactor),z=Math.ceil(j+this.#e*this.scaleFactor),[V,G]=this.parentDimensions;this.width=H/V,this.height=z/G,this.setAspectRatio(H,z);const $=this.translationX,K=this.translationY;this.translationX=-U[0],this.translationY=-U[1],this.#w(),this.#v(),this.#h=H,this.#g=z,this.setDims(H,z);const Z=R?j/this.scaleFactor/2:0;this.translate($-this.translationX-Z,K-this.translationY-Z)}static deserialize(R,U,j){if(R instanceof C.InkAnnotationElement)return null;const H=super.deserialize(R,U,j);H.thickness=R.thickness,H.color=b.Util.makeHexColor(...R.color),H.opacity=R.opacity;const[z,V]=H.pageDimensions,G=H.width*z,$=H.height*V,K=H.parentScale,Z=R.thickness/2;H.#o=!0,H.#h=Math.round(G),H.#g=Math.round($);const{paths:Q,rect:ne,rotation:le}=R;for(let{bezier:be}of Q){be=k.#k(be,ne,le);const me=[];H.paths.push(me);let we=K*(be[0]-Z),oe=K*(be[1]-Z);for(let Ae=2,Ce=be.length;Ae<Ce;Ae+=6){const Ne=K*(be[Ae]-Z),Oe=K*(be[Ae+1]-Z),Be=K*(be[Ae+2]-Z),Ie=K*(be[Ae+3]-Z),Ee=K*(be[Ae+4]-Z),Ue=K*(be[Ae+5]-Z);me.push([[we,oe],[Ne,Oe],[Be,Ie],[Ee,Ue]]),we=Ee,oe=Ue}const ge=this.#L(me);H.bezierPath2D.push(ge)}const fe=H.#U();return H.#t=Math.max(w.AnnotationEditor.MIN_SIZE,fe[2]-fe[0]),H.#e=Math.max(w.AnnotationEditor.MIN_SIZE,fe[3]-fe[1]),H.#S(G,$),H}serialize(){if(this.isEmpty())return null;const R=this.getRect(0,0),U=w.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:b.AnnotationEditorType.INK,color:U,thickness:this.thickness,opacity:this.opacity,paths:this.#H(this.scaleFactor/this.parentScale,this.translationX,this.translationY,R),pageIndex:this.pageIndex,rect:R,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class D extends w.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#s=null;#i="";#c=null;#l=null;#o=null;#u=!1;#a=!1;static _type="stamp";static _editorType=b.AnnotationEditorType.STAMP;constructor(R){super({...R,name:"stampEditor"}),this.#r=R.bitmapUrl,this.#s=R.bitmapFile}static initialize(R){w.AnnotationEditor.initialize(R)}static get supportedTypes(){const R=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,b.shadow)(this,"supportedTypes",R.map(U=>`image/${U}`))}static get supportedTypesStr(){return(0,b.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(R){return this.supportedTypes.includes(R)}static paste(R,U){U.pasteEditor(b.AnnotationEditorType.STAMP,{bitmapFile:R.getAsFile()})}#f(R,U=!1){if(!R){this.remove();return}this.#e=R.bitmap,U||(this.#t=R.id,this.#u=R.isSvg),R.file&&(this.#i=R.file.name),this.#p()}#h(){this.#n=null,this._uiManager.enableWaiting(!1),this.#c&&this.div.focus()}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(U=>this.#f(U,!0)).finally(()=>this.#h());return}if(this.#r){const U=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(U).then(j=>this.#f(j)).finally(()=>this.#h());return}if(this.#s){const U=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(U).then(j=>this.#f(j)).finally(()=>this.#h());return}const R=document.createElement("input");R.type="file",R.accept=D.supportedTypesStr,this.#n=new Promise(U=>{R.addEventListener("change",async()=>{if(!R.files||R.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const j=await this._uiManager.imageManager.getFromFile(R.files[0]);this.#f(j)}U()}),R.addEventListener("cancel",()=>{this.remove(),U()})}).finally(()=>this.#h()),R.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#c?.remove(),this.#c=null,this.#l?.disconnect(),this.#l=null,this.#o&&(clearTimeout(this.#o),this.#o=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s)}get isResizable(){return!0}render(){if(this.div)return this.div;let R,U;if(this.width&&(R=this.x,U=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#g(),this.width){const[j,H]=this.parentDimensions;this.setAt(R*j,U*H,this.width*j,this.height*H)}return this.div}#p(){const{div:R}=this;let{width:U,height:j}=this.#e;const[H,z]=this.pageDimensions,V=.75;if(this.width)U=this.width*H,j=this.height*z;else if(U>V*H||j>V*z){const Z=Math.min(V*H/U,V*z/j);U*=Z,j*=Z}const[G,$]=this.parentDimensions;this.setDims(U*G/H,j*$/z),this._uiManager.enableWaiting(!1);const K=this.#c=document.createElement("canvas");R.append(K),R.hidden=!1,this.#m(U,j),this.#y(),this.#a||(this.parent.addUndoableEditor(this),this.#a=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),this.#i&&K.setAttribute("aria-label",this.#i)}#b(R,U){const[j,H]=this.parentDimensions;this.width=R/j,this.height=U/H,this.setDims(R,U),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#o!==null&&clearTimeout(this.#o);const z=200;this.#o=setTimeout(()=>{this.#o=null,this.#m(R,U)},z)}#x(R,U){const{width:j,height:H}=this.#e;let z=j,V=H,G=this.#e;for(;z>2*R||V>2*U;){const $=z,K=V;z>2*R&&(z=z>=16384?Math.floor(z/2)-1:Math.ceil(z/2)),V>2*U&&(V=V>=16384?Math.floor(V/2)-1:Math.ceil(V/2));const Z=new OffscreenCanvas(z,V);Z.getContext("2d").drawImage(G,0,0,$,K,0,0,z,V),G=Z.transferToImageBitmap()}return G}#m(R,U){R=Math.ceil(R),U=Math.ceil(U);const j=this.#c;if(!j||j.width===R&&j.height===U)return;j.width=R,j.height=U;const H=this.#u?this.#e:this.#x(R,U),z=j.getContext("2d");z.filter=this._uiManager.hcmFilter,z.drawImage(H,0,0,H.width,H.height,0,0,R,U)}getImageForAltText(){return this.#c}#d(R){if(R){if(this.#u){const H=this._uiManager.imageManager.getSvgUrl(this.#t);if(H)return H}const U=document.createElement("canvas");return{width:U.width,height:U.height}=this.#e,U.getContext("2d").drawImage(this.#e,0,0),U.toDataURL()}if(this.#u){const[U,j]=this.pageDimensions,H=Math.round(this.width*U*E.PixelsPerInch.PDF_TO_CSS_UNITS),z=Math.round(this.height*j*E.PixelsPerInch.PDF_TO_CSS_UNITS),V=new OffscreenCanvas(H,z);return V.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,H,z),V.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#l=new ResizeObserver(R=>{const U=R[0].contentRect;U.width&&U.height&&this.#b(U.width,U.height)}),this.#l.observe(this.div)}static deserialize(R,U,j){if(R instanceof C.StampAnnotationElement)return null;const H=super.deserialize(R,U,j),{rect:z,bitmapUrl:V,bitmapId:G,isSvg:$,accessibilityData:K}=R;G&&j.imageManager.isValidId(G)?H.#t=G:H.#r=V,H.#u=$;const[Z,Q]=H.pageDimensions;return H.width=(z[2]-z[0])/Z,H.height=(z[3]-z[1])/Q,K&&(H.altTextData=K),H}serialize(R=!1,U=null){if(this.isEmpty())return null;const j={annotationType:b.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(R)return j.bitmapUrl=this.#d(!0),j.accessibilityData=this.altTextData,j;const{decorative:H,altText:z}=this.altTextData;if(!H&&z&&(j.accessibilityData={type:"Figure",alt:z}),U===null)return j;U.stamps||=new Map;const V=this.#u?(j.rect[2]-j.rect[0])*(j.rect[3]-j.rect[1]):null;if(!U.stamps.has(this.#t))U.stamps.set(this.#t,{area:V,serialized:j}),j.bitmap=this.#d(!1);else if(this.#u){const G=U.stamps.get(this.#t);V>G.area&&(G.area=V,G.serialized.bitmap.close(),G.serialized.bitmap=this.#d(!1))}return j}}class M{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#s=this.pointerdown.bind(this);#i=null;#c=new Map;#l=!1;#o=!1;#u=!1;#a;static _initialized=!1;static#f=new Map([F,k,D].map(R=>[R._editorType,R]));constructor({uiManager:R,pageIndex:U,div:j,accessibilityManager:H,annotationLayer:z,viewport:V,l10n:G}){const $=[...M.#f.values()];if(!M._initialized){M._initialized=!0;for(const K of $)K.initialize(G)}R.registerEditorTypes($),this.#a=R,this.pageIndex=U,this.div=j,this.#e=H,this.#n=z,this.viewport=V,this.#a.addLayer(this)}get isEmpty(){return this.#c.size===0}updateToolbar(R){this.#a.updateToolbar(R)}updateMode(R=this.#a.getMode()){if(this.#b(),R===b.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),R!==b.AnnotationEditorType.NONE){const{classList:U}=this.div;for(const j of M.#f.values())U.toggle(`${j._type}Editing`,R===j._editorType);this.div.hidden=!1}}addInkEditorIfNeeded(R){if(!R&&this.#a.getMode()!==b.AnnotationEditorType.INK)return;if(!R){for(const j of this.#c.values())if(j.isEmpty()){j.setInBackground();return}}this.#g({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(R){this.#a.setEditingState(R)}addCommands(R){this.#a.addCommands(R)}togglePointerEvents(R=!1){this.div.classList.toggle("disabled",!R)}enable(){this.togglePointerEvents(!0);const R=new Set;for(const j of this.#c.values())j.enableEditing(),j.annotationElementId&&R.add(j.annotationElementId);if(!this.#n)return;const U=this.#n.getEditableAnnotations();for(const j of U){if(j.hide(),this.#a.isDeletedAnnotationElement(j.data.id)||R.has(j.data.id))continue;const H=this.deserialize(j);H&&(this.addOrRebuild(H),H.enableEditing())}}disable(){this.#u=!0,this.togglePointerEvents(!1);const R=new Set;for(const j of this.#c.values()){if(j.disableEditing(),!j.annotationElementId||j.serialize()!==null){R.add(j.annotationElementId);continue}this.getEditableAnnotation(j.annotationElementId)?.show(),j.remove()}if(this.#n){const j=this.#n.getEditableAnnotations();for(const H of j){const{id:z}=H.data;R.has(z)||this.#a.isDeletedAnnotationElement(z)||H.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:U}=this.div;for(const j of M.#f.values())U.remove(`${j._type}Editing`);this.#u=!1}getEditableAnnotation(R){return this.#n?.getEditableAnnotation(R)||null}setActiveEditor(R){this.#a.getActive()!==R&&this.#a.setActiveEditor(R)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#r)}attach(R){this.#c.set(R.id,R);const{annotationElementId:U}=R;U&&this.#a.isDeletedAnnotationElement(U)&&this.#a.removeDeletedAnnotationElement(R)}detach(R){this.#c.delete(R.id),this.#e?.removePointerInTextLayer(R.contentDiv),!this.#u&&R.annotationElementId&&this.#a.addDeletedAnnotationElement(R)}remove(R){this.detach(R),this.#a.removeEditor(R),R.div.remove(),R.isAttachedToDOM=!1,this.#o||this.addInkEditorIfNeeded(!1)}changeParent(R){R.parent!==this&&(R.annotationElementId&&(this.#a.addDeletedAnnotationElement(R.annotationElementId),w.AnnotationEditor.deleteAnnotationElement(R),R.annotationElementId=null),this.attach(R),R.parent?.detach(R),R.setParent(this),R.div&&R.isAttachedToDOM&&(R.div.remove(),this.div.append(R.div)))}add(R){if(this.changeParent(R),this.#a.addEditor(R),this.attach(R),!R.isAttachedToDOM){const U=R.render();this.div.append(U),R.isAttachedToDOM=!0}R.fixAndSetPosition(),R.onceAdded(),this.#a.addToAnnotationStorage(R)}moveEditorInDOM(R){if(!R.isAttachedToDOM)return;const{activeElement:U}=document;R.div.contains(U)&&!this.#i&&(R._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,R.div.contains(document.activeElement)?R._focusEventsAllowed=!0:(R.div.addEventListener("focusin",()=>{R._focusEventsAllowed=!0},{once:!0}),U.focus())},0)),R._structTreeParentId=this.#e?.moveElementInDOM(this.div,R.div,R.contentDiv,!0)}addOrRebuild(R){R.needsToBeRebuilt()?(R.parent||=this,R.rebuild()):this.add(R)}addUndoableEditor(R){const U=()=>R._uiManager.rebuild(R),j=()=>{R.remove()};this.addCommands({cmd:U,undo:j,mustExec:!1})}getNextId(){return this.#a.getId()}#h(R){const U=M.#f.get(this.#a.getMode());return U?new U.prototype.constructor(R):null}pasteEditor(R,U){this.#a.updateToolbar(R),this.#a.updateMode(R);const{offsetX:j,offsetY:H}=this.#p(),z=this.getNextId(),V=this.#h({parent:this,id:z,x:j,y:H,uiManager:this.#a,isCentered:!0,...U});V&&this.add(V)}deserialize(R){return M.#f.get(R.annotationType??R.annotationEditorType)?.deserialize(R,this,this.#a)||null}#g(R,U){const j=this.getNextId(),H=this.#h({parent:this,id:j,x:R.offsetX,y:R.offsetY,uiManager:this.#a,isCentered:U});return H&&this.add(H),H}#p(){const{x:R,y:U,width:j,height:H}=this.div.getBoundingClientRect(),z=Math.max(0,R),V=Math.max(0,U),G=Math.min(window.innerWidth,R+j),$=Math.min(window.innerHeight,U+H),K=(z+G)/2-R,Z=(V+$)/2-U,[Q,ne]=this.viewport.rotation%180===0?[K,Z]:[Z,K];return{offsetX:Q,offsetY:ne}}addNewEditor(){this.#g(this.#p(),!0)}setSelected(R){this.#a.setSelected(R)}toggleSelected(R){this.#a.toggleSelected(R)}isSelected(R){return this.#a.isSelected(R)}unselect(R){this.#a.unselect(R)}pointerup(R){const{isMac:U}=b.FeatureTest.platform;if(!(R.button!==0||R.ctrlKey&&U)&&R.target===this.div&&this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}if(this.#a.getMode()===b.AnnotationEditorType.STAMP){this.#a.unselectAll();return}this.#g(R,!1)}}pointerdown(R){if(this.#l){this.#l=!1;return}const{isMac:U}=b.FeatureTest.platform;if(R.button!==0||R.ctrlKey&&U||R.target!==this.div)return;this.#l=!0;const j=this.#a.getActive();this.#t=!j||j.isEmpty()}findNewParent(R,U,j){const H=this.#a.findParent(U,j);return H===null||H===this?!1:(H.changeParent(R),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const R of this.#c.values())this.#e?.removePointerInTextLayer(R.contentDiv),R.setParent(null),R.isAttachedToDOM=!1,R.div.remove();this.div=null,this.#c.clear(),this.#a.removeLayer(this)}#b(){this.#o=!0;for(const R of this.#c.values())R.isEmpty()&&R.remove();this.#o=!1}render({viewport:R}){this.viewport=R,(0,E.setLayerDimensions)(this.div,R);for(const U of this.#a.getEditors(this.pageIndex))this.add(U);this.updateMode()}update({viewport:R}){this.#a.commitOrRemove(),this.viewport=R,(0,E.setLayerDimensions)(this.div,{rotation:R.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:R,pageHeight:U}=this.viewport.rawDims;return[R,U]}}},796:(g,d,x)=>{x.d(d,{AnnotationEditor:()=>F});var b=x(812),w=x(266),S=x(473);class C{#e=null;#t;#n=null;constructor(D){this.#t=D}render(){const D=this.#e=document.createElement("div");D.className="editToolbar",D.addEventListener("contextmenu",S.noContextMenu),D.addEventListener("pointerdown",C.#r);const M=this.#n=document.createElement("div");return M.className="buttons",D.append(M),this.#l(),D}static#r(D){D.stopPropagation()}#s(D){this.#t._focusEventsAllowed=!1,D.preventDefault(),D.stopPropagation()}#i(D){this.#t._focusEventsAllowed=!0,D.preventDefault(),D.stopPropagation()}#c(D){D.addEventListener("focusin",this.#s.bind(this),{capture:!0}),D.addEventListener("focusout",this.#i.bind(this),{capture:!0}),D.addEventListener("contextmenu",S.noContextMenu)}hide(){this.#e.classList.add("hidden")}show(){this.#e.classList.remove("hidden")}#l(){const D=document.createElement("button");D.className="delete",D.tabIndex=0,D.setAttribute("data-l10n-id","pdfjs-editor-remove-button"),this.#c(D),D.addEventListener("click",M=>{this.#t._uiManager.delete()}),this.#n.append(D)}remove(){this.#e.remove()}}class F{#e=null;#t="";#n=!1;#r=null;#s=null;#i=null;#c=!1;#l=!1;#o=null;#u=null;#a=this.focusin.bind(this);#f=this.focusout.bind(this);#h=null;#g="";#p=!1;#b=!1;#x=!1;#m=!1;#d=null;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#y=!1;#F=F._zIndex++;static _borderLineWidth=-1;static _colorManager=new b.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;static get _resizerKeyboardManager(){const D=F.prototype._resizeWithKeyboard,M=b.AnnotationEditorUIManager.TRANSLATE_SMALL,L=b.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,w.shadow)(this,"_resizerKeyboardManager",new b.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],D,{args:[-M,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],D,{args:[-L,0]}],[["ArrowRight","mac+ArrowRight"],D,{args:[M,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],D,{args:[L,0]}],[["ArrowUp","mac+ArrowUp"],D,{args:[0,-M]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],D,{args:[0,-L]}],[["ArrowDown","mac+ArrowDown"],D,{args:[0,M]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],D,{args:[0,L]}],[["Escape","mac+Escape"],F.prototype._stopResizingWithKeyboard]]))}constructor(D){this.constructor===F&&(0,w.unreachable)("Cannot initialize AnnotationEditor."),this.parent=D.parent,this.id=D.id,this.width=this.height=null,this.pageIndex=D.parent.pageIndex,this.name=D.name,this.div=null,this._uiManager=D.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=D.isCentered,this._structTreeParentId=null;const{rotation:M,rawDims:{pageWidth:L,pageHeight:R,pageX:U,pageY:j}}=this.parent.viewport;this.rotation=M,this.pageRotation=(360+M-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[L,R],this.pageTranslation=[U,j];const[H,z]=this.parentDimensions;this.x=D.x/H,this.y=D.y/z,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,w.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(D){const M=new E({id:D.parent.getNextId(),parent:D.parent,uiManager:D._uiManager});M.annotationElementId=D.annotationElementId,M.deleted=!0,M._uiManager.addToAnnotationStorage(M)}static initialize(D,M=null){if(F._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(R=>[R,D.get(R.replaceAll(/([A-Z])/g,U=>`-${U.toLowerCase()}`))])),M?.strings)for(const R of M.strings)F._l10nPromise.set(R,D.get(R));if(F._borderLineWidth!==-1)return;const L=getComputedStyle(document.documentElement);F._borderLineWidth=parseFloat(L.getPropertyValue("--outline-width"))||0}static updateDefaultParams(D,M){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(D){return!1}static paste(D,M){(0,w.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#y}set _isDraggable(D){this.#y=D,this.div?.classList.toggle("draggable",D)}get isEnterHandled(){return!0}center(){const[D,M]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*M/(D*2),this.y+=this.width*D/(M*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*M/(D*2),this.y-=this.width*D/(M*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(D){this._uiManager.addCommands(D)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#F}setParent(D){D!==null?(this.pageIndex=D.pageIndex,this.pageDimensions=D.pageDimensions):this.#k(),this.parent=D}focusin(D){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(D){!this._focusEventsAllowed||!this.isAttachedToDOM||D.relatedTarget?.closest(`#${this.id}`)||(D.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(D,M,L,R){const[U,j]=this.parentDimensions;[L,R]=this.screenToPageTranslation(L,R),this.x=(D+L)/U,this.y=(M+R)/j,this.fixAndSetPosition()}#_([D,M],L,R){[L,R]=this.screenToPageTranslation(L,R),this.x+=L/D,this.y+=R/M,this.fixAndSetPosition()}translate(D,M){this.#_(this.parentDimensions,D,M)}translateInPage(D,M){this.#_(this.pageDimensions,D,M),this.div.scrollIntoView({block:"nearest"})}drag(D,M){const[L,R]=this.parentDimensions;if(this.x+=D/L,this.y+=M/R,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:V,y:G}=this.div.getBoundingClientRect();this.parent.findNewParent(this,V,G)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:U,y:j}=this;const[H,z]=this.#D();U+=H,j+=z,this.div.style.left=`${(100*U).toFixed(2)}%`,this.div.style.top=`${(100*j).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#D(){const[D,M]=this.parentDimensions,{_borderLineWidth:L}=F,R=L/D,U=L/M;switch(this.rotation){case 90:return[-R,U];case 180:return[R,U];case 270:return[R,-U];default:return[-R,-U]}}fixAndSetPosition(){const[D,M]=this.pageDimensions;let{x:L,y:R,width:U,height:j}=this;switch(U*=D,j*=M,L*=D,R*=M,this.rotation){case 0:L=Math.max(0,Math.min(D-U,L)),R=Math.max(0,Math.min(M-j,R));break;case 90:L=Math.max(0,Math.min(D-j,L)),R=Math.min(M,Math.max(U,R));break;case 180:L=Math.min(D,Math.max(U,L)),R=Math.min(M,Math.max(j,R));break;case 270:L=Math.min(D,Math.max(j,L)),R=Math.max(0,Math.min(M-U,R));break}this.x=L/=D,this.y=R/=M;const[H,z]=this.#D();L+=H,R+=z;const{style:V}=this.div;V.left=`${(100*L).toFixed(2)}%`,V.top=`${(100*R).toFixed(2)}%`,this.moveInDOM()}static#O(D,M,L){switch(L){case 90:return[M,-D];case 180:return[-D,-M];case 270:return[-M,D];default:return[D,M]}}screenToPageTranslation(D,M){return F.#O(D,M,this.parentRotation)}pageTranslationToScreen(D,M){return F.#O(D,M,360-this.parentRotation)}#R(D){switch(D){case 90:{const[M,L]=this.pageDimensions;return[0,-M/L,L/M,0]}case 180:return[-1,0,0,-1];case 270:{const[M,L]=this.pageDimensions;return[0,M/L,-L/M,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:D,pageDimensions:[M,L]}=this,R=M*D,U=L*D;return w.FeatureTest.isCSSRoundSupported?[Math.round(R),Math.round(U)]:[R,U]}setDims(D,M){const[L,R]=this.parentDimensions;this.div.style.width=`${(100*D/L).toFixed(2)}%`,this.#l||(this.div.style.height=`${(100*M/R).toFixed(2)}%`),this.#r?.classList.toggle("small",D<F.SMALL_EDITOR_SIZE||M<F.SMALL_EDITOR_SIZE)}fixDims(){const{style:D}=this.div,{height:M,width:L}=D,R=L.endsWith("%"),U=!this.#l&&M.endsWith("%");if(R&&U)return;const[j,H]=this.parentDimensions;R||(D.width=`${(100*parseFloat(L)/j).toFixed(2)}%`),!this.#l&&!U&&(D.height=`${(100*parseFloat(M)/H).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#M(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const D=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const M of D){const L=document.createElement("div");this.#o.append(L),L.classList.add("resizer",M),L.setAttribute("data-resizer-name",M),L.addEventListener("pointerdown",this.#B.bind(this,M)),L.addEventListener("contextmenu",S.noContextMenu),L.tabIndex=-1}this.div.prepend(this.#o)}#B(D,M){M.preventDefault();const{isMac:L}=w.FeatureTest.platform;if(M.button!==0||M.ctrlKey&&L)return;this.#T(!1);const R=this.#P.bind(this,D),U=this._isDraggable;this._isDraggable=!1;const j={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",R,j);const H=this.x,z=this.y,V=this.width,G=this.height,$=this.parent.div.style.cursor,K=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(M.target).cursor;const Z=()=>{this.parent.togglePointerEvents(!0),this.#T(!0),this._isDraggable=U,window.removeEventListener("pointerup",Z),window.removeEventListener("blur",Z),window.removeEventListener("pointermove",R,j),this.parent.div.style.cursor=$,this.div.style.cursor=K,this.#v(H,z,V,G)};window.addEventListener("pointerup",Z),window.addEventListener("blur",Z)}#v(D,M,L,R){const U=this.x,j=this.y,H=this.width,z=this.height;U===D&&j===M&&H===L&&z===R||this.addCommands({cmd:()=>{this.width=H,this.height=z,this.x=U,this.y=j;const[V,G]=this.parentDimensions;this.setDims(V*H,G*z),this.fixAndSetPosition()},undo:()=>{this.width=L,this.height=R,this.x=D,this.y=M;const[V,G]=this.parentDimensions;this.setDims(V*L,G*R),this.fixAndSetPosition()},mustExec:!0})}#P(D,M){const[L,R]=this.parentDimensions,U=this.x,j=this.y,H=this.width,z=this.height,V=F.MIN_SIZE/L,G=F.MIN_SIZE/R,$=Pe=>Math.round(Pe*1e4)/1e4,K=this.#R(this.rotation),Z=(Pe,re)=>[K[0]*Pe+K[2]*re,K[1]*Pe+K[3]*re],Q=this.#R(360-this.rotation),ne=(Pe,re)=>[Q[0]*Pe+Q[2]*re,Q[1]*Pe+Q[3]*re];let le,fe,be=!1,me=!1;switch(D){case"topLeft":be=!0,le=(Pe,re)=>[0,0],fe=(Pe,re)=>[Pe,re];break;case"topMiddle":le=(Pe,re)=>[Pe/2,0],fe=(Pe,re)=>[Pe/2,re];break;case"topRight":be=!0,le=(Pe,re)=>[Pe,0],fe=(Pe,re)=>[0,re];break;case"middleRight":me=!0,le=(Pe,re)=>[Pe,re/2],fe=(Pe,re)=>[0,re/2];break;case"bottomRight":be=!0,le=(Pe,re)=>[Pe,re],fe=(Pe,re)=>[0,0];break;case"bottomMiddle":le=(Pe,re)=>[Pe/2,re],fe=(Pe,re)=>[Pe/2,0];break;case"bottomLeft":be=!0,le=(Pe,re)=>[0,re],fe=(Pe,re)=>[Pe,0];break;case"middleLeft":me=!0,le=(Pe,re)=>[0,re/2],fe=(Pe,re)=>[Pe,re/2];break}const we=le(H,z),oe=fe(H,z);let ge=Z(...oe);const Ae=$(U+ge[0]),Ce=$(j+ge[1]);let Ne=1,Oe=1,[Be,Ie]=this.screenToPageTranslation(M.movementX,M.movementY);if([Be,Ie]=ne(Be/L,Ie/R),be){const Pe=Math.hypot(H,z);Ne=Oe=Math.max(Math.min(Math.hypot(oe[0]-we[0]-Be,oe[1]-we[1]-Ie)/Pe,1/H,1/z),V/H,G/z)}else me?Ne=Math.max(V,Math.min(1,Math.abs(oe[0]-we[0]-Be)))/H:Oe=Math.max(G,Math.min(1,Math.abs(oe[1]-we[1]-Ie)))/z;const Ee=$(H*Ne),Ue=$(z*Oe);ge=Z(...fe(Ee,Ue));const De=Ae-ge[0],_e=Ce-ge[1];this.width=Ee,this.height=Ue,this.x=De,this.y=_e,this.setDims(L*Ee,R*Ue),this.fixAndSetPosition()}async addAltTextButton(){if(this.#r)return;const D=this.#r=document.createElement("button");D.className="altText";const M=await F._l10nPromise.get("pdfjs-editor-alt-text-button-label");D.textContent=M,D.setAttribute("aria-label",M),D.tabIndex="0",D.addEventListener("contextmenu",S.noContextMenu),D.addEventListener("pointerdown",R=>R.stopPropagation());const L=R=>{this.#r.hidden=!0,R.preventDefault(),this._uiManager.editAltText(this)};D.addEventListener("click",L,{capture:!0}),D.addEventListener("keydown",R=>{R.target===D&&R.key==="Enter"&&(this.#c=!0,L(R))}),this.#E(),this.div.append(D),F.SMALL_EDITOR_SIZE||(F.SMALL_EDITOR_SIZE=Math.min(128,Math.round(D.getBoundingClientRect().width*(1+40/100))))}async#E(){const D=this.#r;if(!D)return;if(!this.#t&&!this.#n){D.classList.remove("done"),this.#s?.remove();return}D.classList.add("done"),F._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(R=>{D.setAttribute("aria-label",R)});let M=this.#s;if(!M){this.#s=M=document.createElement("span"),M.className="tooltip",M.setAttribute("role","tooltip");const R=M.id=`alt-text-tooltip-${this.id}`;D.setAttribute("aria-describedby",R);const U=100;D.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#s.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},U)}),D.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s?.classList.remove("show")})}M.innerText=this.#n?await F._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#t,M.parentNode||D.append(M),this.getImageForAltText()?.setAttribute("aria-describedby",M.id)}#T(D=!1){this.#r&&(!D&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#r.disabled=!D)}altTextFinish(){this.#r&&(this.#r.hidden=!1,this.#r.focus({focusVisible:this.#c}),this.#c=!1)}addEditToolbar(){this.#h||this.#x||(this.#h=new C(this),this.div.append(this.#h.render()))}removeEditToolbar(){this.#h&&(this.#h.remove(),this.#h=null)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#t,decorative:this.#n}}set altTextData({altText:D,decorative:M}){this.#t===D&&this.#n===M||(this.#t=D,this.#n=M,this.#E())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#a),this.div.addEventListener("focusout",this.#f);const[D,M]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*M/D).toFixed(2)}%`,this.div.style.maxHeight=`${(100*D/M).toFixed(2)}%`);const[L,R]=this.getInitialTranslation();return this.translate(L,R),(0,b.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(D){const{isMac:M}=w.FeatureTest.platform;if(D.button!==0||D.ctrlKey&&M){D.preventDefault();return}this.#p=!0,this.#w(D)}#w(D){if(!this._isDraggable)return;const M=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let L,R;M&&(L={passive:!0,capture:!0},R=j=>{const[H,z]=this.screenToPageTranslation(j.movementX,j.movementY);this._uiManager.dragSelectedEditors(H,z)},window.addEventListener("pointermove",R,L));const U=()=>{if(window.removeEventListener("pointerup",U),window.removeEventListener("blur",U),M&&window.removeEventListener("pointermove",R,L),this.#p=!1,!this._uiManager.endDragSession()){const{isMac:j}=w.FeatureTest.platform;D.ctrlKey&&!j||D.shiftKey||D.metaKey&&j?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",U),window.addEventListener("blur",U)}moveInDOM(){this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.#d=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(D,M,L){D.changeParent(this),this.x=M,this.y=L,this.fixAndSetPosition()}getRect(D,M){const L=this.parentScale,[R,U]=this.pageDimensions,[j,H]=this.pageTranslation,z=D/L,V=M/L,G=this.x*R,$=this.y*U,K=this.width*R,Z=this.height*U;switch(this.rotation){case 0:return[G+z+j,U-$-V-Z+H,G+z+K+j,U-$-V+H];case 90:return[G+V+j,U-$+z+H,G+V+Z+j,U-$+z+K+H];case 180:return[G-z-K+j,U-$+V+H,G-z+j,U-$+V+Z+H];case 270:return[G-V-Z+j,U-$-z-K+H,G-V+j,U-$-z+H];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(D,M){const[L,R,U,j]=D,H=U-L,z=j-R;switch(this.rotation){case 0:return[L,M-j,H,z];case 90:return[L,M-R,z,H];case 180:return[U,M-R,H,z];case 270:return[U,M-j,z,H];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#x=!0}disableEditMode(){this.#x=!1}isInEditMode(){return this.#x}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#a),this.div?.addEventListener("focusout",this.#f)}serialize(D=!1,M=null){(0,w.unreachable)("An editor must be serializable")}static deserialize(D,M,L){const R=new this.prototype.constructor({parent:M,id:M.getNextId(),uiManager:L});R.rotation=D.rotation;const[U,j]=R.pageDimensions,[H,z,V,G]=R.getRectInCurrentCoords(D.rect,j);return R.x=H/U,R.y=z/j,R.width=V/U,R.height=G/j,R}remove(){this.div.removeEventListener("focusin",this.#a),this.div.removeEventListener("focusout",this.#f),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#r?.remove(),this.#r=null,this.#s=null,this.#d&&(clearTimeout(this.#d),this.#d=null),this.#k(),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#M(),this.#o.classList.remove("hidden"),(0,b.bindEvents)(this,this.div,["keydown"]))}keydown(D){if(!this.isResizable||D.target!==this.div||D.key!=="Enter")return;this._uiManager.setSelected(this),this.#u={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const M=this.#o.children;if(!this.#e){this.#e=Array.from(M);const j=this.#S.bind(this),H=this.#A.bind(this);for(const z of this.#e){const V=z.getAttribute("data-resizer-name");z.setAttribute("role","spinbutton"),z.addEventListener("keydown",j),z.addEventListener("blur",H),z.addEventListener("focus",this.#L.bind(this,V)),F._l10nPromise.get(`pdfjs-editor-resizer-label-${V}`).then(G=>z.setAttribute("aria-label",G))}}const L=this.#e[0];let R=0;for(const j of M){if(j===L)break;R++}const U=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(U!==R){if(U<R)for(let H=0;H<R-U;H++)this.#o.append(this.#o.firstChild);else if(U>R)for(let H=0;H<U-R;H++)this.#o.firstChild.before(this.#o.lastChild);let j=0;for(const H of M){const V=this.#e[j++].getAttribute("data-resizer-name");F._l10nPromise.get(`pdfjs-editor-resizer-label-${V}`).then(G=>H.setAttribute("aria-label",G))}}this.#N(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),D.preventDefault(),D.stopImmediatePropagation()}#S(D){F._resizerKeyboardManager.exec(this,D)}#A(D){this.#m&&D.relatedTarget?.parentNode!==this.#o&&this.#k()}#L(D){this.#g=this.#m?D:""}#N(D){if(this.#e)for(const M of this.#e)M.tabIndex=D}_resizeWithKeyboard(D,M){this.#m&&this.#P(this.#g,{movementX:D,movementY:M})}#k(){if(this.#m=!1,this.#N(-1),this.#u){const{savedX:D,savedY:M,savedWidth:L,savedHeight:R}=this.#u;this.#v(D,M,L,R),this.#u=null}}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.addEditToolbar(),this.#h?.show()}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),this.#h?.hide()}updateParams(D,M){}disableEditing(){this.#r&&(this.#r.hidden=!0)}enableEditing(){this.#r&&(this.#r.hidden=!1)}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#b}set isEditing(D){this.#b=D,this.parent&&(D?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(D,M){this.#l=!0;const L=D/M,{style:R}=this.div;R.aspectRatio=L,R.height="auto"}static get MIN_SIZE(){return 16}}class E extends F{constructor(D){super(D),this.annotationElementId=D.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},405:(g,d,x)=>{x.d(d,{Outliner:()=>b});class b{#e;#t=[];#n=[];constructor(S,C=0,F=0,E=!0){let k=1/0,D=-1/0,M=1/0,L=-1/0;const U=10**-4;for(const{x:K,y:Z,width:Q,height:ne}of S){const le=Math.floor((K-C)/U)*U,fe=Math.ceil((K+Q+C)/U)*U,be=Math.floor((Z-C)/U)*U,me=Math.ceil((Z+ne+C)/U)*U,we=[le,be,me,!0],oe=[fe,be,me,!1];this.#t.push(we,oe),k=Math.min(k,le),D=Math.max(D,fe),M=Math.min(M,be),L=Math.max(L,me)}const j=D-k+2*F,H=L-M+2*F,z=k-F,V=M-F,G=this.#t.at(E?-1:-2),$=[G[0],G[2]];for(const K of this.#t){const[Z,Q,ne]=K;K[0]=(Z-z)/j,K[1]=(Q-V)/H,K[2]=(ne-V)/H}this.#e={x:z,y:V,width:j,height:H,lastPoint:$}}getOutlines(){this.#t.sort((C,F)=>C[0]-F[0]||C[1]-F[1]||C[2]-F[2]);const S=[];for(const C of this.#t)C[3]?(S.push(...this.#l(C)),this.#i(C)):(this.#c(C),S.push(...this.#l(C)));return this.#r(S)}#r(S){const C=[],F=new Set;for(const D of S){const[M,L,R]=D;C.push([M,L,D],[M,R,D])}C.sort((D,M)=>D[1]-M[1]||D[0]-M[0]);for(let D=0,M=C.length;D<M;D+=2){const L=C[D][2],R=C[D+1][2];L.push(R),R.push(L),F.add(L),F.add(R)}const E=[];let k;for(;F.size>0;){const D=F.values().next().value;let[M,L,R,U,j]=D;F.delete(D);let H=M,z=L;for(k=[M,R],E.push(k);;){let V;if(F.has(U))V=U;else if(F.has(j))V=j;else break;F.delete(V),[M,L,R,U,j]=V,H!==M&&(k.push(H,z,M,z===L?L:R),H=M),z=z===L?R:L}k.push(H,z)}return{outlines:E,box:this.#e}}#s(S){const C=this.#n;let F=0,E=C.length-1;for(;F<=E;){const k=F+E>>1,D=C[k][0];if(D===S)return k;D<S?F=k+1:E=k-1}return E+1}#i([,S,C]){const F=this.#s(S);this.#n.splice(F,0,[S,C])}#c([,S,C]){const F=this.#s(S);for(let E=F;E<this.#n.length;E++){const[k,D]=this.#n[E];if(k!==S)break;if(k===S&&D===C){this.#n.splice(E,1);return}}for(let E=F-1;E>=0;E--){const[k,D]=this.#n[E];if(k!==S)break;if(k===S&&D===C){this.#n.splice(E,1);return}}}#l(S){const[C,F,E]=S,k=[[C,F,E]],D=this.#s(E);for(let M=0;M<D;M++){const[L,R]=this.#n[M];for(let U=0,j=k.length;U<j;U++){const[,H,z]=k[U];if(!(R<=H||z<=L)){if(H>=L){if(z>R)k[U][1]=R;else{if(j===1)return[];k.splice(U,1),U--,j--}continue}k[U][2]=L,z>R&&k.push([C,R,z])}}}return k}}},812:(g,d,x)=>{x.d(d,{AnnotationEditorUIManager:()=>L,ColorManager:()=>M,KeyboardManager:()=>D,bindEvents:()=>S,opacityToHex:()=>C});var b=x(266),w=x(473);function S(R,U,j){for(const H of j)U.addEventListener(H,R[H].bind(R))}function C(R){return Math.round(Math.min(255,Math.max(1,255*R))).toString(16).padStart(2,"0")}class F{#e=0;getId(){return`${b.AnnotationEditorPrefix}${this.#e++}`}}class E{#e=(0,b.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const U='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',H=new OffscreenCanvas(1,3).getContext("2d"),z=new Image;z.src=U;const V=z.decode().then(()=>(H.drawImage(z,0,0,1,1,0,0,1,3),new Uint32Array(H.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,b.shadow)(this,"_isSVGFittingCanvas",V)}async#r(U,j){this.#n||=new Map;let H=this.#n.get(U);if(H===null)return null;if(H?.bitmap)return H.refCounter+=1,H;try{H||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let z;if(typeof j=="string"?(H.url=j,z=await(0,w.fetchData)(j,"blob")):z=H.file=j,z.type==="image/svg+xml"){const V=E._isSVGFittingCanvas,G=new FileReader,$=new Image,K=new Promise((Z,Q)=>{$.onload=()=>{H.bitmap=$,H.isSvg=!0,Z()},G.onload=async()=>{const ne=H.svgUrl=G.result;$.src=await V?`${ne}#svgView(preserveAspectRatio(none))`:ne},$.onerror=G.onerror=Q});G.readAsDataURL(z),await K}else H.bitmap=await createImageBitmap(z);H.refCounter=1}catch(z){console.error(z),H=null}return this.#n.set(U,H),H&&this.#n.set(H.id,H),H}async getFromFile(U){const{lastModified:j,name:H,size:z,type:V}=U;return this.#r(`${j}_${H}_${z}_${V}`,U)}async getFromUrl(U){return this.#r(U,U)}async getFromId(U){this.#n||=new Map;const j=this.#n.get(U);return j?j.bitmap?(j.refCounter+=1,j):j.file?this.getFromFile(j.file):this.getFromUrl(j.url):null}getSvgUrl(U){const j=this.#n.get(U);return j?.isSvg?j.svgUrl:null}deleteId(U){this.#n||=new Map;const j=this.#n.get(U);j&&(j.refCounter-=1,j.refCounter===0&&(j.bitmap=null))}isValidId(U){return U.startsWith(`image_${this.#e}_`)}}class k{#e=[];#t=!1;#n;#r=-1;constructor(U=128){this.#n=U}add({cmd:U,undo:j,mustExec:H,type:z=NaN,overwriteIfSameType:V=!1,keepUndo:G=!1}){if(H&&U(),this.#t)return;const $={cmd:U,undo:j,type:z};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push($);return}if(V&&this.#e[this.#r].type===z){G&&($.undo=this.#e[this.#r].undo),this.#e[this.#r]=$;return}const K=this.#r+1;K===this.#n?this.#e.splice(0,1):(this.#r=K,K<this.#e.length&&this.#e.splice(K)),this.#e.push($)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}class D{constructor(U){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:j}=b.FeatureTest.platform;for(const[H,z,V={}]of U)for(const G of H){const $=G.startsWith("mac+");j&&$?(this.callbacks.set(G.slice(4),{callback:z,options:V}),this.allKeys.add(G.split("+").at(-1))):!j&&!$&&(this.callbacks.set(G,{callback:z,options:V}),this.allKeys.add(G.split("+").at(-1)))}}#e(U){U.altKey&&this.buffer.push("alt"),U.ctrlKey&&this.buffer.push("ctrl"),U.metaKey&&this.buffer.push("meta"),U.shiftKey&&this.buffer.push("shift"),this.buffer.push(U.key);const j=this.buffer.join("+");return this.buffer.length=0,j}exec(U,j){if(!this.allKeys.has(j.key))return;const H=this.callbacks.get(this.#e(j));if(!H)return;const{callback:z,options:{bubbles:V=!1,args:G=[],checker:$=null}}=H;$&&!$(U,j)||(z.bind(U,...G)(),V||(j.stopPropagation(),j.preventDefault()))}}class M{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const U=new Map([["CanvasText",null],["Canvas",null]]);return(0,w.getColorValues)(U),(0,b.shadow)(this,"_colors",U)}convert(U){const j=(0,w.getRGB)(U);if(!window.matchMedia("(forced-colors: active)").matches)return j;for(const[H,z]of this._colors)if(z.every((V,G)=>V===j[G]))return M._colorsMapping.get(H);return j}getHexCode(U){const j=this._colors.get(U);return j?b.Util.makeHexColor(...j):U}}class L{#e=null;#t=new Map;#n=new Map;#r=null;#s=null;#i=new k;#c=0;#l=new Set;#o=null;#u=null;#a=new Set;#f=null;#h=null;#g=new F;#p=!1;#b=!1;#x=null;#m=b.AnnotationEditorType.NONE;#d=new Set;#y=null;#F=this.blur.bind(this);#_=this.focus.bind(this);#D=this.copy.bind(this);#O=this.cut.bind(this);#R=this.paste.bind(this);#M=this.keydown.bind(this);#B=this.onEditingAction.bind(this);#v=this.onPageChanging.bind(this);#P=this.onScaleChanging.bind(this);#E=this.onRotationChanging.bind(this);#T={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#w=[0,0];#S=null;#A=null;#L=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const U=L.prototype,j=G=>G.#A.contains(document.activeElement)&&G.hasSomethingToControl(),H=(G,{target:$})=>{if($ instanceof HTMLInputElement){const{type:K}=$;return K!=="text"&&K!=="number"}return!0},z=this.TRANSLATE_SMALL,V=this.TRANSLATE_BIG;return(0,b.shadow)(this,"_keyboardManager",new D([[["ctrl+a","mac+meta+a"],U.selectAll,{checker:H}],[["ctrl+z","mac+meta+z"],U.undo,{checker:H}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],U.redo,{checker:H}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],U.delete,{checker:H}],[["Enter","mac+Enter"],U.addNewEditorFromKeyboard,{checker:(G,{target:$})=>!($ instanceof HTMLButtonElement)&&G.#A.contains($)&&!G.isEnterHandled}],[[" ","mac+ "],U.addNewEditorFromKeyboard,{checker:G=>G.#A.contains(document.activeElement)}],[["Escape","mac+Escape"],U.unselectAll],[["ArrowLeft","mac+ArrowLeft"],U.translateSelectedEditors,{args:[-z,0],checker:j}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],U.translateSelectedEditors,{args:[-V,0],checker:j}],[["ArrowRight","mac+ArrowRight"],U.translateSelectedEditors,{args:[z,0],checker:j}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],U.translateSelectedEditors,{args:[V,0],checker:j}],[["ArrowUp","mac+ArrowUp"],U.translateSelectedEditors,{args:[0,-z],checker:j}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],U.translateSelectedEditors,{args:[0,-V],checker:j}],[["ArrowDown","mac+ArrowDown"],U.translateSelectedEditors,{args:[0,z],checker:j}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],U.translateSelectedEditors,{args:[0,V],checker:j}]]))}constructor(U,j,H,z,V,G){this.#A=U,this.#L=j,this.#r=H,this._eventBus=z,this._eventBus._on("editingaction",this.#B),this._eventBus._on("pagechanging",this.#v),this._eventBus._on("scalechanging",this.#P),this._eventBus._on("rotationchanging",this.#E),this.#s=V.annotationStorage,this.#f=V.filterFactory,this.#y=G,this.viewParameters={realScale:w.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#U(),this.#k(),this._eventBus._off("editingaction",this.#B),this._eventBus._off("pagechanging",this.#v),this._eventBus._off("scalechanging",this.#P),this._eventBus._off("rotationchanging",this.#E);for(const U of this.#n.values())U.destroy();this.#n.clear(),this.#t.clear(),this.#a.clear(),this.#e=null,this.#d.clear(),this.#i.destroy(),this.#r.destroy(),this.#h&&(clearTimeout(this.#h),this.#h=null),this.#S&&(clearTimeout(this.#S),this.#S=null)}get hcmFilter(){return(0,b.shadow)(this,"hcmFilter",this.#y?this.#f.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,b.shadow)(this,"direction",getComputedStyle(this.#A).direction)}editAltText(U){this.#r?.editAltText(this,U)}onPageChanging({pageNumber:U}){this.#c=U-1}focusMainContainer(){this.#A.focus()}findParent(U,j){for(const H of this.#n.values()){const{x:z,y:V,width:G,height:$}=H.div.getBoundingClientRect();if(U>=z&&U<=z+G&&j>=V&&j<=V+$)return H}return null}disableUserSelect(U=!1){this.#L.classList.toggle("noUserSelect",U)}addShouldRescale(U){this.#a.add(U)}removeShouldRescale(U){this.#a.delete(U)}onScaleChanging({scale:U}){this.commitOrRemove(),this.viewParameters.realScale=U*w.PixelsPerInch.PDF_TO_CSS_UNITS;for(const j of this.#a)j.onScaleChanging()}onRotationChanging({pagesRotation:U}){this.commitOrRemove(),this.viewParameters.rotation=U}addToAnnotationStorage(U){!U.isEmpty()&&this.#s&&!this.#s.has(U.id)&&this.#s.setValue(U.id,U)}#N(){window.addEventListener("focus",this.#_),window.addEventListener("blur",this.#F)}#k(){window.removeEventListener("focus",this.#_),window.removeEventListener("blur",this.#F)}blur(){if(!this.hasSelection)return;const{activeElement:U}=document;for(const j of this.#d)if(j.div.contains(U)){this.#x=[j,U],j._focusEventsAllowed=!1;break}}focus(){if(!this.#x)return;const[U,j]=this.#x;this.#x=null,j.addEventListener("focusin",()=>{U._focusEventsAllowed=!0},{once:!0}),j.focus()}#H(){window.addEventListener("keydown",this.#M)}#U(){window.removeEventListener("keydown",this.#M)}#j(){document.addEventListener("copy",this.#D),document.addEventListener("cut",this.#O),document.addEventListener("paste",this.#R)}#I(){document.removeEventListener("copy",this.#D),document.removeEventListener("cut",this.#O),document.removeEventListener("paste",this.#R)}addEditListeners(){this.#H(),this.#j()}removeEditListeners(){this.#U(),this.#I()}copy(U){if(U.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const j=[];for(const H of this.#d){const z=H.serialize(!0);z&&j.push(z)}j.length!==0&&U.clipboardData.setData("application/pdfjs",JSON.stringify(j))}cut(U){this.copy(U),this.delete()}paste(U){U.preventDefault();const{clipboardData:j}=U;for(const V of j.items)for(const G of this.#u)if(G.isHandlingMimeForPasting(V.type)){G.paste(V,this.currentLayer);return}let H=j.getData("application/pdfjs");if(!H)return;try{H=JSON.parse(H)}catch(V){(0,b.warn)(`paste: "${V.message}".`);return}if(!Array.isArray(H))return;this.unselectAll();const z=this.currentLayer;try{const V=[];for(const K of H){const Z=z.deserialize(K);if(!Z)return;V.push(Z)}const G=()=>{for(const K of V)this.#G(K);this.#$(V)},$=()=>{for(const K of V)K.remove()};this.addCommands({cmd:G,undo:$,mustExec:!0})}catch(V){(0,b.warn)(`paste: "${V.message}".`)}}keydown(U){this.isEditorHandlingKeyboard||L._keyboardManager.exec(this,U)}onEditingAction(U){["undo","redo","delete","selectAll"].includes(U.name)&&this[U.name]()}#C(U){Object.entries(U).some(([H,z])=>this.#T[H]!==z)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#T,U)})}#z(U){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:U})}setEditingState(U){U?(this.#N(),this.#H(),this.#j(),this.#C({isEditing:this.#m!==b.AnnotationEditorType.NONE,isEmpty:this.#V(),hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:this.#i.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#k(),this.#U(),this.#I(),this.#C({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(U){if(!this.#u){this.#u=U;for(const j of this.#u)this.#z(j.defaultPropertiesToUpdate)}}getId(){return this.#g.getId()}get currentLayer(){return this.#n.get(this.#c)}getLayer(U){return this.#n.get(U)}get currentPageIndex(){return this.#c}addLayer(U){this.#n.set(U.pageIndex,U),this.#p?U.enable():U.disable()}removeLayer(U){this.#n.delete(U.pageIndex)}updateMode(U,j=null,H=!1){if(this.#m!==U){if(this.#m=U,U===b.AnnotationEditorType.NONE){this.setEditingState(!1),this.#q();return}this.setEditingState(!0),this.#X(),this.unselectAll();for(const z of this.#n.values())z.updateMode(U);if(!j&&H){this.addNewEditorFromKeyboard();return}if(j){for(const z of this.#t.values())if(z.annotationElementId===j){this.setSelected(z),z.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.addNewEditor()}updateToolbar(U){U!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:U})}updateParams(U,j){if(this.#u){if(U===b.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor();return}for(const H of this.#d)H.updateParams(U,j);for(const H of this.#u)H.updateDefaultParams(U,j)}}enableWaiting(U=!1){if(this.#b!==U){this.#b=U;for(const j of this.#n.values())U?j.disableClick():j.enableClick(),j.div.classList.toggle("waiting",U)}}#X(){if(!this.#p){this.#p=!0;for(const U of this.#n.values())U.enable()}}#q(){if(this.unselectAll(),this.#p){this.#p=!1;for(const U of this.#n.values())U.disable()}}getEditors(U){const j=[];for(const H of this.#t.values())H.pageIndex===U&&j.push(H);return j}getEditor(U){return this.#t.get(U)}addEditor(U){this.#t.set(U.id,U)}removeEditor(U){U.div.contains(document.activeElement)&&(this.#h&&clearTimeout(this.#h),this.#h=setTimeout(()=>{this.focusMainContainer(),this.#h=null},0)),this.#t.delete(U.id),this.unselect(U),(!U.annotationElementId||!this.#l.has(U.annotationElementId))&&this.#s?.remove(U.id)}addDeletedAnnotationElement(U){this.#l.add(U.annotationElementId),U.deleted=!0}isDeletedAnnotationElement(U){return this.#l.has(U)}removeDeletedAnnotationElement(U){this.#l.delete(U.annotationElementId),U.deleted=!1}#G(U){const j=this.#n.get(U.pageIndex);j?j.addOrRebuild(U):this.addEditor(U)}setActiveEditor(U){this.#e!==U&&(this.#e=U,U&&this.#z(U.propertiesToUpdate))}toggleSelected(U){if(this.#d.has(U)){this.#d.delete(U),U.unselect(),this.#C({hasSelectedEditor:this.hasSelection});return}this.#d.add(U),U.select(),this.#z(U.propertiesToUpdate),this.#C({hasSelectedEditor:!0})}setSelected(U){for(const j of this.#d)j!==U&&j.unselect();this.#d.clear(),this.#d.add(U),U.select(),this.#z(U.propertiesToUpdate),this.#C({hasSelectedEditor:!0})}isSelected(U){return this.#d.has(U)}get firstSelectedEditor(){return this.#d.values().next().value}unselect(U){U.unselect(),this.#d.delete(U),this.#C({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#d.size!==0}get isEnterHandled(){return this.#d.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#i.undo(),this.#C({hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#V()})}redo(){this.#i.redo(),this.#C({hasSomethingToUndo:!0,hasSomethingToRedo:this.#i.hasSomethingToRedo(),isEmpty:this.#V()})}addCommands(U){this.#i.add(U),this.#C({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#V()})}#V(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const U of this.#t.values())return U.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const U=[...this.#d],j=()=>{for(const z of U)z.remove()},H=()=>{for(const z of U)this.#G(z)};this.addCommands({cmd:j,undo:H,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#$(U){this.#d.clear();for(const j of U)j.isEmpty()||(this.#d.add(j),j.select());this.#C({hasSelectedEditor:!0})}selectAll(){for(const U of this.#d)U.commit();this.#$(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const U of this.#d)U.unselect();this.#d.clear(),this.#C({hasSelectedEditor:!1})}}translateSelectedEditors(U,j,H=!1){if(H||this.commitOrRemove(),!this.hasSelection)return;this.#w[0]+=U,this.#w[1]+=j;const[z,V]=this.#w,G=[...this.#d],$=1e3;this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.#S=null,this.#w[0]=this.#w[1]=0,this.addCommands({cmd:()=>{for(const K of G)this.#t.has(K.id)&&K.translateInPage(z,V)},undo:()=>{for(const K of G)this.#t.has(K.id)&&K.translateInPage(-z,-V)},mustExec:!1})},$);for(const K of G)K.translateInPage(U,j)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#o=new Map;for(const U of this.#d)this.#o.set(U,{savedX:U.x,savedY:U.y,savedPageIndex:U.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#o)return!1;this.disableUserSelect(!1);const U=this.#o;this.#o=null;let j=!1;for(const[{x:z,y:V,pageIndex:G},$]of U)$.newX=z,$.newY=V,$.newPageIndex=G,j||=z!==$.savedX||V!==$.savedY||G!==$.savedPageIndex;if(!j)return!1;const H=(z,V,G,$)=>{if(this.#t.has(z.id)){const K=this.#n.get($);K?z._setParentAndPosition(K,V,G):(z.pageIndex=$,z.x=V,z.y=G)}};return this.addCommands({cmd:()=>{for(const[z,{newX:V,newY:G,newPageIndex:$}]of U)H(z,V,G,$)},undo:()=>{for(const[z,{savedX:V,savedY:G,savedPageIndex:$}]of U)H(z,V,G,$)},mustExec:!0}),!0}dragSelectedEditors(U,j){if(this.#o)for(const H of this.#o.keys())H.drag(U,j)}rebuild(U){if(U.parent===null){const j=this.getLayer(U.pageIndex);j?(j.changeParent(U),j.addOrRebuild(U)):(this.addEditor(U),this.addToAnnotationStorage(U),U.rebuild())}else U.parent.addOrRebuild(U)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#d.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(U){return this.#e===U}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,b.shadow)(this,"imageManager",new E)}}},171:(g,d,x)=>{x.d(d,{PDFFetchStream:()=>E});var b=x(266),w=x(253);function S(M,L,R){return{method:"GET",headers:M,signal:R.signal,mode:"cors",credentials:L?"include":"same-origin",redirect:"follow"}}function C(M){const L=new Headers;for(const R in M){const U=M[R];U!==void 0&&L.append(R,U)}return L}function F(M){return M instanceof Uint8Array?M.buffer:M instanceof ArrayBuffer?M:((0,b.warn)(`getArrayBuffer - unexpected data format: ${M}`),new Uint8Array(M).buffer)}class E{constructor(L){this.source=L,this.isHttp=/^https?:/i.test(L.url),this.httpHeaders=this.isHttp&&L.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new k(this),this._fullRequestReader}getRangeReader(L,R){if(R<=this._progressiveDataLength)return null;const U=new D(this,L,R);return this._rangeRequestReaders.push(U),U}cancelAllRequests(L){this._fullRequestReader?.cancel(L);for(const R of this._rangeRequestReaders.slice(0))R.cancel(L)}}class k{constructor(L){this._stream=L,this._reader=null,this._loaded=0,this._filename=null;const R=L.source;this._withCredentials=R.withCredentials||!1,this._contentLength=R.length,this._headersCapability=new b.PromiseCapability,this._disableRange=R.disableRange||!1,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!R.disableStream,this._isRangeSupported=!R.disableRange,this._headers=C(this._stream.httpHeaders);const U=R.url;fetch(U,S(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,w.validateResponseStatus)(j.status))throw(0,w.createResponseStatusError)(j.status,U);this._reader=j.body.getReader(),this._headersCapability.resolve();const H=G=>j.headers.get(G),{allowRangeRequests:z,suggestedLength:V}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:H,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=z,this._contentLength=V||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(H),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new b.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:L,done:R}=await this._reader.read();return R?{value:L,done:R}:(this._loaded+=L.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:F(L),done:!1})}cancel(L){this._reader?.cancel(L),this._abortController.abort()}}class D{constructor(L,R,U){this._stream=L,this._reader=null,this._loaded=0;const j=L.source;this._withCredentials=j.withCredentials||!1,this._readCapability=new b.PromiseCapability,this._isStreamingSupported=!j.disableStream,this._abortController=new AbortController,this._headers=C(this._stream.httpHeaders),this._headers.append("Range",`bytes=${R}-${U-1}`);const H=j.url;fetch(H,S(this._headers,this._withCredentials,this._abortController)).then(z=>{if(!(0,w.validateResponseStatus)(z.status))throw(0,w.createResponseStatusError)(z.status,H);this._readCapability.resolve(),this._reader=z.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:L,done:R}=await this._reader.read();return R?{value:L,done:R}:(this._loaded+=L.byteLength,this.onProgress?.({loaded:this._loaded}),{value:F(L),done:!1})}cancel(L){this._reader?.cancel(L),this._abortController.abort()}}},742:(g,d,x)=>{x.d(d,{FontFaceObject:()=>S,FontLoader:()=>w});var b=x(266);class w{#e=new Set;constructor({ownerDocument:F=globalThis.document,styleElement:E=null}){this._document=F,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(F){this.nativeFontFaces.add(F),this._document.fonts.add(F)}removeNativeFontFace(F){this.nativeFontFaces.delete(F),this._document.fonts.delete(F)}insertRule(F){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const E=this.styleElement.sheet;E.insertRule(F,E.cssRules.length)}clear(){for(const F of this.nativeFontFaces)this._document.fonts.delete(F);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:F,_inspectFont:E}){if(!(!F||this.#e.has(F.loadedName))){if((0,b.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:k,src:D,style:M}=F,L=new FontFace(k,D,M);this.addNativeFontFace(L);try{await L.load(),this.#e.add(k),E?.(F)}catch{(0,b.warn)(`Cannot load system font: ${F.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(L)}return}(0,b.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(F){if(F.attached||F.missingFile&&!F.systemFontInfo)return;if(F.attached=!0,F.systemFontInfo){await this.loadSystemFont(F);return}if(this.isFontLoadingAPISupported){const k=F.createNativeFontFace();if(k){this.addNativeFontFace(k);try{await k.loaded}catch(D){throw(0,b.warn)(`Failed to load font '${k.family}': '${D}'.`),F.disableFontFace=!0,D}}return}const E=F.createFontFaceRule();if(E){if(this.insertRule(E),this.isSyncFontLoadingSupported)return;await new Promise(k=>{const D=this._queueLoadingCallback(k);this._prepareFontLoadEvent(F,D)})}}get isFontLoadingAPISupported(){const F=!!this._document?.fonts;return(0,b.shadow)(this,"isFontLoadingAPISupported",F)}get isSyncFontLoadingSupported(){let F=!1;return(b.isNodeJS||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(F=!0),(0,b.shadow)(this,"isSyncFontLoadingSupported",F)}_queueLoadingCallback(F){function E(){for((0,b.assert)(!D.done,"completeRequest() cannot be called twice."),D.done=!0;k.length>0&&k[0].done;){const M=k.shift();setTimeout(M.callback,0)}}const{loadingRequests:k}=this,D={done:!1,complete:E,callback:F};return k.push(D),D}get _loadTestFont(){const F=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,b.shadow)(this,"_loadTestFont",F)}_prepareFontLoadEvent(F,E){function k(fe,be){return fe.charCodeAt(be)<<24|fe.charCodeAt(be+1)<<16|fe.charCodeAt(be+2)<<8|fe.charCodeAt(be+3)&255}function D(fe,be,me,we){const oe=fe.substring(0,be),ge=fe.substring(be+me);return oe+we+ge}let M,L;const R=this._document.createElement("canvas");R.width=1,R.height=1;const U=R.getContext("2d");let j=0;function H(fe,be){if(++j>30){(0,b.warn)("Load test font never loaded."),be();return}if(U.font="30px "+fe,U.fillText(".",0,20),U.getImageData(0,0,1,1).data[3]>0){be();return}setTimeout(H.bind(null,fe,be))}const z=`lt${Date.now()}${this.loadTestFontId++}`;let V=this._loadTestFont;V=D(V,976,z.length,z);const $=16,K=1482184792;let Z=k(V,$);for(M=0,L=z.length-3;M<L;M+=4)Z=Z-K+k(z,M)|0;M<z.length&&(Z=Z-K+k(z+"XXX",M)|0),V=D(V,$,4,(0,b.string32)(Z));const Q=`url(data:font/opentype;base64,${btoa(V)});`,ne=`@font-face {font-family:"${z}";src:${Q}}`;this.insertRule(ne);const le=this._document.createElement("div");le.style.visibility="hidden",le.style.width=le.style.height="10px",le.style.position="absolute",le.style.top=le.style.left="0px";for(const fe of[F.loadedName,z]){const be=this._document.createElement("span");be.textContent="Hi",be.style.fontFamily=fe,le.append(be)}this._document.body.append(le),H(z,()=>{le.remove(),E.complete()})}}class S{constructor(F,{isEvalSupported:E=!0,disableFontFace:k=!1,ignoreErrors:D=!1,inspectFont:M=null}){this.compiledGlyphs=Object.create(null);for(const L in F)this[L]=F[L];this.isEvalSupported=E!==!1,this.disableFontFace=k===!0,this.ignoreErrors=D===!0,this._inspectFont=M}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let F;if(!this.cssFontInfo)F=new FontFace(this.loadedName,this.data,{});else{const E={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(E.style=`oblique ${this.cssFontInfo.italicAngle}deg`),F=new FontFace(this.cssFontInfo.fontFamily,this.data,E)}return this._inspectFont?.(this),F}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const F=(0,b.bytesToString)(this.data),E=`url(data:${this.mimetype};base64,${btoa(F)});`;let k;if(!this.cssFontInfo)k=`@font-face {font-family:"${this.loadedName}";src:${E}}`;else{let D=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(D+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),k=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${D}src:${E}}`}return this._inspectFont?.(this,E),k}getPathGenerator(F,E){if(this.compiledGlyphs[E]!==void 0)return this.compiledGlyphs[E];let k;try{k=F.get(this.loadedName+"_path_"+E)}catch(D){if(!this.ignoreErrors)throw D;return(0,b.warn)(`getPathGenerator - ignoring character: "${D}".`),this.compiledGlyphs[E]=function(M,L){}}if(this.isEvalSupported&&b.FeatureTest.isEvalSupported){const D=[];for(const M of k){const L=M.args!==void 0?M.args.join(","):"";D.push("c.",M.cmd,"(",L,`);
`)}return this.compiledGlyphs[E]=new Function("c","size",D.join(""))}return this.compiledGlyphs[E]=function(D,M){for(const L of k)L.cmd==="scale"&&(L.args=[M,-M]),D[L.cmd].apply(D,L.args)}}}},472:(g,d,x)=>{x.d(d,{Metadata:()=>w});var b=x(266);class w{#e;#t;constructor({parsedData:C,rawData:F}){this.#e=C,this.#t=F}getRaw(){return this.#t}get(C){return this.#e.get(C)??null}getAll(){return(0,b.objectFromMap)(this.#e)}has(C){return this.#e.has(C)}}},474:(g,d,x)=>{x.d(d,{PDFNetworkStream:()=>k});var b=x(266),w=x(253);const S=200,C=206;function F(L){const R=L.response;return typeof R!="string"?R:(0,b.stringToBytes)(R).buffer}class E{constructor(R,U={}){this.url=R,this.isHttp=/^https?:/i.test(R),this.httpHeaders=this.isHttp&&U.httpHeaders||Object.create(null),this.withCredentials=U.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(R,U,j){const H={begin:R,end:U};for(const z in j)H[z]=j[z];return this.request(H)}requestFull(R){return this.request(R)}request(R){const U=new XMLHttpRequest,j=this.currXhrId++,H=this.pendingRequests[j]={xhr:U};U.open("GET",this.url),U.withCredentials=this.withCredentials;for(const z in this.httpHeaders){const V=this.httpHeaders[z];V!==void 0&&U.setRequestHeader(z,V)}return this.isHttp&&"begin"in R&&"end"in R?(U.setRequestHeader("Range",`bytes=${R.begin}-${R.end-1}`),H.expectedStatus=C):H.expectedStatus=S,U.responseType="arraybuffer",R.onError&&(U.onerror=function(z){R.onError(U.status)}),U.onreadystatechange=this.onStateChange.bind(this,j),U.onprogress=this.onProgress.bind(this,j),H.onHeadersReceived=R.onHeadersReceived,H.onDone=R.onDone,H.onError=R.onError,H.onProgress=R.onProgress,U.send(null),j}onProgress(R,U){const j=this.pendingRequests[R];j&&j.onProgress?.(U)}onStateChange(R,U){const j=this.pendingRequests[R];if(!j)return;const H=j.xhr;if(H.readyState>=2&&j.onHeadersReceived&&(j.onHeadersReceived(),delete j.onHeadersReceived),H.readyState!==4||!(R in this.pendingRequests))return;if(delete this.pendingRequests[R],H.status===0&&this.isHttp){j.onError?.(H.status);return}const z=H.status||S;if(!(z===S&&j.expectedStatus===C)&&z!==j.expectedStatus){j.onError?.(H.status);return}const G=F(H);if(z===C){const $=H.getResponseHeader("Content-Range"),K=/bytes (\d+)-(\d+)\/(\d+)/.exec($);j.onDone({begin:parseInt(K[1],10),chunk:G})}else G?j.onDone({begin:0,chunk:G}):j.onError?.(H.status)}getRequestXhr(R){return this.pendingRequests[R].xhr}isPendingRequest(R){return R in this.pendingRequests}abortRequest(R){const U=this.pendingRequests[R].xhr;delete this.pendingRequests[R],U.abort()}}class k{constructor(R){this._source=R,this._manager=new E(R.url,{httpHeaders:R.httpHeaders,withCredentials:R.withCredentials}),this._rangeChunkSize=R.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(R){const U=this._rangeRequestReaders.indexOf(R);U>=0&&this._rangeRequestReaders.splice(U,1)}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new D(this._manager,this._source),this._fullRequestReader}getRangeReader(R,U){const j=new M(this._manager,R,U);return j.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(j),j}cancelAllRequests(R){this._fullRequestReader?.cancel(R);for(const U of this._rangeRequestReaders.slice(0))U.cancel(R)}}class D{constructor(R,U){this._manager=R;const j={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=U.url,this._fullRequestId=R.requestFull(j),this._headersReceivedCapability=new b.PromiseCapability,this._disableRange=U.disableRange||!1,this._contentLength=U.length,this._rangeChunkSize=U.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const R=this._fullRequestId,U=this._manager.getRequestXhr(R),j=V=>U.getResponseHeader(V),{allowRangeRequests:H,suggestedLength:z}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});H&&(this._isRangeSupported=!0),this._contentLength=z||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(j),this._isRangeSupported&&this._manager.abortRequest(R),this._headersReceivedCapability.resolve()}_onDone(R){if(R&&(this._requests.length>0?this._requests.shift().resolve({value:R.chunk,done:!1}):this._cachedChunks.push(R.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(R){this._storedError=(0,w.createResponseStatusError)(R,this._url),this._headersReceivedCapability.reject(this._storedError);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(R){this.onProgress?.({loaded:R.loaded,total:R.lengthComputable?R.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const R=new b.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0,this._headersReceivedCapability.reject(R);for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class M{constructor(R,U,j){this._manager=R;const H={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._requestId=R.requestRange(U,j,H),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(R){const U=R.chunk;this._requests.length>0?this._requests.shift().resolve({value:U,done:!1}):this._queuedChunk=U,this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(R){this._storedError=(0,w.createResponseStatusError)(R,this._url);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(R){this.isStreamingSupported||this.onProgress?.({loaded:R.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const U=this._queuedChunk;return this._queuedChunk=null,{value:U,done:!1}}if(this._done)return{value:void 0,done:!0};const R=new b.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},253:(g,d,x)=>{x.d(d,{createResponseStatusError:()=>E,extractFilenameFromHeader:()=>F,validateRangeRequestCapabilities:()=>C,validateResponseStatus:()=>k});var b=x(266);function w(D){let M=!0,L=R("filename\\*","i").exec(D);if(L){L=L[1];let $=z(L);return $=unescape($),$=V($),$=G($),j($)}if(L=H(D),L){const $=G(L);return j($)}if(L=R("filename","i").exec(D),L){L=L[1];let $=z(L);return $=G($),j($)}function R($,K){return new RegExp("(?:^|;)\\s*"+$+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',K)}function U($,K){if($){if(!/^[\x00-\xFF]+$/.test(K))return K;try{const Z=new TextDecoder($,{fatal:!0}),Q=(0,b.stringToBytes)(K);K=Z.decode(Q),M=!1}catch{}}return K}function j($){return M&&/[\x80-\xff]/.test($)&&($=U("utf-8",$),M&&($=U("iso-8859-1",$))),$}function H($){const K=[];let Z;const Q=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Z=Q.exec($))!==null;){let[,le,fe,be]=Z;if(le=parseInt(le,10),le in K){if(le===0)break;continue}K[le]=[fe,be]}const ne=[];for(let le=0;le<K.length&&le in K;++le){let[fe,be]=K[le];be=z(be),fe&&(be=unescape(be),le===0&&(be=V(be))),ne.push(be)}return ne.join("")}function z($){if($.startsWith('"')){const K=$.slice(1).split('\\"');for(let Z=0;Z<K.length;++Z){const Q=K[Z].indexOf('"');Q!==-1&&(K[Z]=K[Z].slice(0,Q),K.length=Z+1),K[Z]=K[Z].replaceAll(/\\(.)/g,"$1")}$=K.join('"')}return $}function V($){const K=$.indexOf("'");if(K===-1)return $;const Z=$.slice(0,K),ne=$.slice(K+1).replace(/^[^']*'/,"");return U(Z,ne)}function G($){return!$.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test($)?$:$.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(K,Z,Q,ne){if(Q==="q"||Q==="Q")return ne=ne.replaceAll("_"," "),ne=ne.replaceAll(/=([0-9a-fA-F]{2})/g,function(le,fe){return String.fromCharCode(parseInt(fe,16))}),U(Z,ne);try{ne=atob(ne)}catch{}return U(Z,ne)})}return""}var S=x(473);function C({getResponseHeader:D,isHttp:M,rangeChunkSize:L,disableRange:R}){const U={allowRangeRequests:!1,suggestedLength:void 0},j=parseInt(D("Content-Length"),10);return!Number.isInteger(j)||(U.suggestedLength=j,j<=2*L)||R||!M||D("Accept-Ranges")!=="bytes"||(D("Content-Encoding")||"identity")!=="identity"||(U.allowRangeRequests=!0),U}function F(D){const M=D("Content-Disposition");if(M){let L=w(M);if(L.includes("%"))try{L=decodeURIComponent(L)}catch{}if((0,S.isPdfFile)(L))return L}return null}function E(D,M){return D===404||D===0&&M.startsWith("file:")?new b.MissingPDFException('Missing PDF "'+M+'".'):new b.UnexpectedResponseException(`Unexpected server response (${D}) while retrieving PDF "${M}".`,D)}function k(D){return D===200||D===206}},498:(g,d,x)=>{x.a(g,async(b,w)=>{try{let L=function(K){const Z=D.parse(K);return Z.protocol==="file:"||Z.host?Z:/^[a-z]:[/\\]/i.test(K)?D.parse(`file:///${K}`):(Z.host||(Z.protocol="file:"),Z)},H=function(K,Z){return{protocol:K.protocol,auth:K.auth,host:K.hostname,port:K.port,path:K.path,method:"GET",headers:Z}};x.d(d,{PDFNodeStream:()=>R});var S=x(266),C=x(253);let F,E,k,D;S.isNodeJS&&(F=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),E=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),k=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),D=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])));const M=/^file:\/\/\/[a-zA-Z]:\//;class R{constructor(Z){this.source=Z,this.url=L(Z.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Z.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,S.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new G(this):new z(this),this._fullRequestReader}getRangeReader(Z,Q){if(Q<=this._progressiveDataLength)return null;const ne=this.isFsUrl?new $(this,Z,Q):new V(this,Z,Q);return this._rangeRequestReaders.push(ne),ne}cancelAllRequests(Z){this._fullRequestReader?.cancel(Z);for(const Q of this._rangeRequestReaders.slice(0))Q.cancel(Z)}}class U{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null;const Q=Z.source;this._contentLength=Q.length,this._loaded=0,this._filename=null,this._disableRange=Q.disableRange||!1,this._rangeChunkSize=Q.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Q.disableStream,this._isRangeSupported=!Q.disableRange,this._readableStream=null,this._readCapability=new S.PromiseCapability,this._headersCapability=new S.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Z=this._readableStream.read();return Z===null?(this._readCapability=new S.PromiseCapability,this.read()):(this._loaded+=Z.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Z).buffer,done:!1})}cancel(Z){if(!this._readableStream){this._error(Z);return}this._readableStream.destroy(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",Q=>{this._error(Q)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new S.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class j{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new S.PromiseCapability;const Q=Z.source;this._isStreamingSupported=!Q.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Z=this._readableStream.read();return Z===null?(this._readCapability=new S.PromiseCapability,this.read()):(this._loaded+=Z.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(Z).buffer,done:!1})}cancel(Z){if(!this._readableStream){this._error(Z);return}this._readableStream.destroy(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",Q=>{this._error(Q)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class z extends U{constructor(Z){super(Z);const Q=ne=>{if(ne.statusCode===404){const me=new S.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=me,this._headersCapability.reject(me);return}this._headersCapability.resolve(),this._setReadableStream(ne);const le=me=>this._readableStream.headers[me.toLowerCase()],{allowRangeRequests:fe,suggestedLength:be}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:le,isHttp:Z.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=fe,this._contentLength=be||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(le)};this._request=null,this._url.protocol==="http:"?this._request=E.request(H(this._url,Z.httpHeaders),Q):this._request=k.request(H(this._url,Z.httpHeaders),Q),this._request.on("error",ne=>{this._storedError=ne,this._headersCapability.reject(ne)}),this._request.end()}}class V extends j{constructor(Z,Q,ne){super(Z),this._httpHeaders={};for(const fe in Z.httpHeaders){const be=Z.httpHeaders[fe];be!==void 0&&(this._httpHeaders[fe]=be)}this._httpHeaders.Range=`bytes=${Q}-${ne-1}`;const le=fe=>{if(fe.statusCode===404){const be=new S.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=be;return}this._setReadableStream(fe)};this._request=null,this._url.protocol==="http:"?this._request=E.request(H(this._url,this._httpHeaders),le):this._request=k.request(H(this._url,this._httpHeaders),le),this._request.on("error",fe=>{this._storedError=fe}),this._request.end()}}class G extends U{constructor(Z){super(Z);let Q=decodeURIComponent(this._url.path);M.test(this._url.href)&&(Q=Q.replace(/^\//,"")),F.lstat(Q,(ne,le)=>{if(ne){ne.code==="ENOENT"&&(ne=new S.MissingPDFException(`Missing PDF "${Q}".`)),this._storedError=ne,this._headersCapability.reject(ne);return}this._contentLength=le.size,this._setReadableStream(F.createReadStream(Q)),this._headersCapability.resolve()})}}class $ extends j{constructor(Z,Q,ne){super(Z);let le=decodeURIComponent(this._url.path);M.test(this._url.href)&&(le=le.replace(/^\//,"")),this._setReadableStream(F.createReadStream(le,{start:Q,end:ne-1}))}}w()}catch(F){w(F)}},1)},738:(g,d,x)=>{x.a(g,async(b,w)=>{try{x.d(d,{NodeCMapReaderFactory:()=>R,NodeCanvasFactory:()=>L,NodeFilterFactory:()=>M,NodeStandardFontDataFactory:()=>U});var S=x(822),C=x(266);let F,E,k;if(C.isNodeJS){F=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([]));try{E=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([]))}catch{}try{k=await __vitePreload(()=>import("./path2d-polyfill.esm-kxgC9fkc.js"),__vite__mapDeps([]))}catch{}}const D=function(j){return new Promise((H,z)=>{F.readFile(j,(V,G)=>{if(V||!G){z(new Error(V));return}H(new Uint8Array(G))})})};class M extends S.BaseFilterFactory{}class L extends S.BaseCanvasFactory{_createCanvas(H,z){return E.createCanvas(H,z)}}class R extends S.BaseCMapReaderFactory{_fetchData(H,z){return D(H).then(V=>({cMapData:V,compressionType:z}))}}class U extends S.BaseStandardFontDataFactory{_fetchData(H){return D(H)}}w()}catch(F){w(F)}},1)},890:(g,d,x)=>{x.d(d,{OptionalContentConfig:()=>F});var b=x(266),w=x(825);const S=Symbol("INTERNAL");class C{#e=!0;constructor(k,D){this.name=k,this.intent=D}get visible(){return this.#e}_setVisible(k,D){k!==S&&(0,b.unreachable)("Internal method `_setVisible` called."),this.#e=D}}class F{#e=null;#t=new Map;#n=null;#r=null;constructor(k){if(this.name=null,this.creator=null,k!==null){this.name=k.name,this.creator=k.creator,this.#r=k.order;for(const D of k.groups)this.#t.set(D.id,new C(D.name,D.intent));if(k.baseState==="OFF")for(const D of this.#t.values())D._setVisible(S,!1);for(const D of k.on)this.#t.get(D)._setVisible(S,!0);for(const D of k.off)this.#t.get(D)._setVisible(S,!1);this.#n=this.getHash()}}#s(k){const D=k.length;if(D<2)return!0;const M=k[0];for(let L=1;L<D;L++){const R=k[L];let U;if(Array.isArray(R))U=this.#s(R);else if(this.#t.has(R))U=this.#t.get(R).visible;else return(0,b.warn)(`Optional content group not found: ${R}`),!0;switch(M){case"And":if(!U)return!1;break;case"Or":if(U)return!0;break;case"Not":return!U;default:return!0}}return M==="And"}isVisible(k){if(this.#t.size===0)return!0;if(!k)return(0,b.warn)("Optional content group not defined."),!0;if(k.type==="OCG")return this.#t.has(k.id)?this.#t.get(k.id).visible:((0,b.warn)(`Optional content group not found: ${k.id}`),!0);if(k.type==="OCMD"){if(k.expression)return this.#s(k.expression);if(!k.policy||k.policy==="AnyOn"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(this.#t.get(D).visible)return!0}return!1}else if(k.policy==="AllOn"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(!this.#t.get(D).visible)return!1}return!0}else if(k.policy==="AnyOff"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(!this.#t.get(D).visible)return!0}return!1}else if(k.policy==="AllOff"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(this.#t.get(D).visible)return!1}return!0}return(0,b.warn)(`Unknown optional content policy ${k.policy}.`),!0}return(0,b.warn)(`Unknown group type ${k.type}.`),!0}setVisibility(k,D=!0){if(!this.#t.has(k)){(0,b.warn)(`Optional content group not found: ${k}`);return}this.#t.get(k)._setVisible(S,!!D),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,b.objectFromMap)(this.#t):null}getGroup(k){return this.#t.get(k)||null}getHash(){if(this.#e!==null)return this.#e;const k=new w.MurmurHash3_64;for(const[D,M]of this.#t)k.update(`${D}:${M.visible}`);return this.#e=k.hexdigest()}}},739:(g,d,x)=>{x.d(d,{renderTextLayer:()=>j,updateTextLayer:()=>H});var b=x(266),w=x(473);const S=1e5,C=30,F=.8,E=new Map;function k(z,V){let G;if(V&&b.FeatureTest.isOffscreenCanvasSupported)G=new OffscreenCanvas(z,z).getContext("2d",{alpha:!1});else{const $=document.createElement("canvas");$.width=$.height=z,G=$.getContext("2d",{alpha:!1})}return G}function D(z,V){const G=E.get(z);if(G)return G;const $=k(C,V);$.font=`${C}px ${z}`;const K=$.measureText("");let Z=K.fontBoundingBoxAscent,Q=Math.abs(K.fontBoundingBoxDescent);if(Z){const le=Z/(Z+Q);return E.set(z,le),$.canvas.width=$.canvas.height=0,le}$.strokeStyle="red",$.clearRect(0,0,C,C),$.strokeText("g",0,0);let ne=$.getImageData(0,0,C,C).data;Q=0;for(let le=ne.length-1-3;le>=0;le-=4)if(ne[le]>0){Q=Math.ceil(le/4/C);break}$.clearRect(0,0,C,C),$.strokeText("A",0,C),ne=$.getImageData(0,0,C,C).data,Z=0;for(let le=0,fe=ne.length;le<fe;le+=4)if(ne[le]>0){Z=C-Math.floor(le/4/C);break}if($.canvas.width=$.canvas.height=0,Z){const le=Z/(Z+Q);return E.set(z,le),le}return E.set(z,F),F}function M(z,V,G){const $=document.createElement("span"),K={angle:0,canvasWidth:0,hasText:V.str!=="",hasEOL:V.hasEOL,fontSize:0};z._textDivs.push($);const Z=b.Util.transform(z._transform,V.transform);let Q=Math.atan2(Z[1],Z[0]);const ne=G[V.fontName];ne.vertical&&(Q+=Math.PI/2);const le=z._fontInspectorEnabled&&ne.fontSubstitution||ne.fontFamily,fe=Math.hypot(Z[2],Z[3]),be=fe*D(le,z._isOffscreenCanvasSupported);let me,we;Q===0?(me=Z[4],we=Z[5]-be):(me=Z[4]+be*Math.sin(Q),we=Z[5]-be*Math.cos(Q));const oe="calc(var(--scale-factor)*",ge=$.style;z._container===z._rootContainer?(ge.left=`${(100*me/z._pageWidth).toFixed(2)}%`,ge.top=`${(100*we/z._pageHeight).toFixed(2)}%`):(ge.left=`${oe}${me.toFixed(2)}px)`,ge.top=`${oe}${we.toFixed(2)}px)`),ge.fontSize=`${oe}${fe.toFixed(2)}px)`,ge.fontFamily=le,K.fontSize=fe,$.setAttribute("role","presentation"),$.textContent=V.str,$.dir=V.dir,z._fontInspectorEnabled&&($.dataset.fontName=ne.fontSubstitutionLoadedName||V.fontName),Q!==0&&(K.angle=Q*(180/Math.PI));let Ae=!1;if(V.str.length>1)Ae=!0;else if(V.str!==" "&&V.transform[0]!==V.transform[3]){const Ce=Math.abs(V.transform[0]),Ne=Math.abs(V.transform[3]);Ce!==Ne&&Math.max(Ce,Ne)/Math.min(Ce,Ne)>1.5&&(Ae=!0)}Ae&&(K.canvasWidth=ne.vertical?V.height:V.width),z._textDivProperties.set($,K),z._isReadableStream&&z._layoutText($)}function L(z){const{div:V,scale:G,properties:$,ctx:K,prevFontSize:Z,prevFontFamily:Q}=z,{style:ne}=V;let le="";if($.canvasWidth!==0&&$.hasText){const{fontFamily:fe}=ne,{canvasWidth:be,fontSize:me}=$;(Z!==me||Q!==fe)&&(K.font=`${me*G}px ${fe}`,z.prevFontSize=me,z.prevFontFamily=fe);const{width:we}=K.measureText(V.textContent);we>0&&(le=`scaleX(${be*G/we})`)}$.angle!==0&&(le=`rotate(${$.angle}deg) ${le}`),le.length>0&&(ne.transform=le)}function R(z){if(z._canceled)return;const V=z._textDivs,G=z._capability;if(V.length>S){G.resolve();return}if(!z._isReadableStream)for(const K of V)z._layoutText(K);G.resolve()}class U{constructor({textContentSource:V,container:G,viewport:$,textDivs:K,textDivProperties:Z,textContentItemsStr:Q,isOffscreenCanvasSupported:ne}){this._textContentSource=V,this._isReadableStream=V instanceof ReadableStream,this._container=this._rootContainer=G,this._textDivs=K||[],this._textContentItemsStr=Q||[],this._isOffscreenCanvasSupported=ne,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=Z||new WeakMap,this._canceled=!1,this._capability=new b.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:$.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:k(0,ne)};const{pageWidth:le,pageHeight:fe,pageX:be,pageY:me}=$.rawDims;this._transform=[1,0,0,-1,-be,me+fe],this._pageWidth=le,this._pageHeight=fe,(0,w.setLayerDimensions)(G,$),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new b.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new b.AbortException("TextLayer task cancelled."))}_processItems(V,G){for(const $ of V){if($.str===void 0){if($.type==="beginMarkedContentProps"||$.type==="beginMarkedContent"){const K=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),$.id!==null&&this._container.setAttribute("id",`${$.id}`),K.append(this._container)}else $.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push($.str),M(this,$,G)}}_layoutText(V){const G=this._layoutTextParams.properties=this._textDivProperties.get(V);if(this._layoutTextParams.div=V,L(this._layoutTextParams),G.hasText&&this._container.append(V),G.hasEOL){const $=document.createElement("br");$.setAttribute("role","presentation"),this._container.append($)}}_render(){const V=new b.PromiseCapability;let G=Object.create(null);if(this._isReadableStream){const $=()=>{this._reader.read().then(({value:K,done:Z})=>{if(Z){V.resolve();return}Object.assign(G,K.styles),this._processItems(K.items,G),$()},V.reject)};this._reader=this._textContentSource.getReader(),$()}else if(this._textContentSource){const{items:$,styles:K}=this._textContentSource;this._processItems($,K),V.resolve()}else throw new Error('No "textContentSource" parameter specified.');V.promise.then(()=>{G=null,R(this)},this._capability.reject)}}function j(z){const V=new U(z);return V._render(),V}function H({container:z,viewport:V,textDivs:G,textDivProperties:$,isOffscreenCanvasSupported:K,mustRotate:Z=!0,mustRescale:Q=!0}){if(Z&&(0,w.setLayerDimensions)(z,{rotation:V.rotation}),Q){const ne=k(0,K),fe={prevFontSize:null,prevFontFamily:null,div:null,scale:V.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ne};for(const be of G)fe.properties=$.get(be),fe.div=be,L(fe)}}},92:(g,d,x)=>{x.d(d,{PDFDataTransportStream:()=>S});var b=x(266),w=x(473);class S{constructor({length:k,initialData:D,progressiveDone:M=!1,contentDispositionFilename:L=null,disableRange:R=!1,disableStream:U=!1},j){if((0,b.assert)(j,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=M,this._contentDispositionFilename=L,D?.length>0){const H=D instanceof Uint8Array&&D.byteLength===D.buffer.byteLength?D.buffer:new Uint8Array(D).buffer;this._queuedChunks.push(H)}this._pdfDataRangeTransport=j,this._isStreamingSupported=!U,this._isRangeSupported=!R,this._contentLength=k,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((H,z)=>{this._onReceiveData({begin:H,chunk:z})}),this._pdfDataRangeTransport.addProgressListener((H,z)=>{this._onProgress({loaded:H,total:z})}),this._pdfDataRangeTransport.addProgressiveReadListener(H=>{this._onReceiveData({chunk:H})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:k,chunk:D}){const M=D instanceof Uint8Array&&D.byteLength===D.buffer.byteLength?D.buffer:new Uint8Array(D).buffer;if(k===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(M):this._queuedChunks.push(M);else{const L=this._rangeReaders.some(function(R){return R._begin!==k?!1:(R._enqueue(M),!0)});(0,b.assert)(L,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(k){k.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:k.loaded}):this._fullRequestReader?.onProgress?.({loaded:k.loaded,total:k.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(k){const D=this._rangeReaders.indexOf(k);D>=0&&this._rangeReaders.splice(D,1)}getFullReader(){(0,b.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const k=this._queuedChunks;return this._queuedChunks=null,new C(this,k,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(k,D){if(D<=this._progressiveDataLength)return null;const M=new F(this,k,D);return this._pdfDataRangeTransport.requestDataRange(k,D),this._rangeReaders.push(M),M}cancelAllRequests(k){this._fullRequestReader?.cancel(k);for(const D of this._rangeReaders.slice(0))D.cancel(k);this._pdfDataRangeTransport.abort()}}class C{constructor(k,D,M=!1,L=null){this._stream=k,this._done=M||!1,this._filename=(0,w.isPdfFile)(L)?L:null,this._queuedChunks=D||[],this._loaded=0;for(const R of this._queuedChunks)this._loaded+=R.byteLength;this._requests=[],this._headersReady=Promise.resolve(),k._fullRequestReader=this,this.onProgress=null}_enqueue(k){this._done||(this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunks.push(k),this._loaded+=k.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const k=new b.PromiseCapability;return this._requests.push(k),k.promise}cancel(k){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class F{constructor(k,D,M){this._stream=k,this._begin=D,this._end=M,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(k){if(!this._done){if(this._requests.length===0)this._queuedChunk=k;else{this._requests.shift().resolve({value:k,done:!1});for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const D=this._queuedChunk;return this._queuedChunk=null,{value:D,done:!1}}if(this._done)return{value:void 0,done:!0};const k=new b.PromiseCapability;return this._requests.push(k),k.promise}cancel(k){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},368:(g,d,x)=>{x.d(d,{GlobalWorkerOptions:()=>b});const b=Object.create(null);b.workerPort=null,b.workerSrc=""},160:(g,d,x)=>{x.d(d,{XfaLayer:()=>w});var b=x(521);class w{static setupStorage(C,F,E,k,D){const M=k.getValue(F,{value:null});switch(E.name){case"textarea":if(M.value!==null&&(C.textContent=M.value),D==="print")break;C.addEventListener("input",L=>{k.setValue(F,{value:L.target.value})});break;case"input":if(E.attributes.type==="radio"||E.attributes.type==="checkbox"){if(M.value===E.attributes.xfaOn?C.setAttribute("checked",!0):M.value===E.attributes.xfaOff&&C.removeAttribute("checked"),D==="print")break;C.addEventListener("change",L=>{k.setValue(F,{value:L.target.checked?L.target.getAttribute("xfaOn"):L.target.getAttribute("xfaOff")})})}else{if(M.value!==null&&C.setAttribute("value",M.value),D==="print")break;C.addEventListener("input",L=>{k.setValue(F,{value:L.target.value})})}break;case"select":if(M.value!==null){C.setAttribute("value",M.value);for(const L of E.children)L.attributes.value===M.value?L.attributes.selected=!0:L.attributes.hasOwnProperty("selected")&&delete L.attributes.selected}C.addEventListener("input",L=>{const R=L.target.options,U=R.selectedIndex===-1?"":R[R.selectedIndex].value;k.setValue(F,{value:U})});break}}static setAttributes({html:C,element:F,storage:E=null,intent:k,linkService:D}){const{attributes:M}=F,L=C instanceof HTMLAnchorElement;M.type==="radio"&&(M.name=`${M.name}-${k}`);for(const[R,U]of Object.entries(M))if(U!=null)switch(R){case"class":U.length&&C.setAttribute(R,U.join(" "));break;case"dataId":break;case"id":C.setAttribute("data-element-id",U);break;case"style":Object.assign(C.style,U);break;case"textContent":C.textContent=U;break;default:(!L||R!=="href"&&R!=="newWindow")&&C.setAttribute(R,U)}L&&D.addLinkAttributes(C,M.href,M.newWindow),E&&M.dataId&&this.setupStorage(C,M.dataId,F,E)}static render(C){const F=C.annotationStorage,E=C.linkService,k=C.xfaHtml,D=C.intent||"display",M=document.createElement(k.name);k.attributes&&this.setAttributes({html:M,element:k,intent:D,linkService:E});const L=D!=="richText",R=C.div;if(R.append(M),C.viewport){const H=`matrix(${C.viewport.transform.join(",")})`;R.style.transform=H}L&&R.setAttribute("class","xfaLayer xfaFont");const U=[];if(k.children.length===0){if(k.value){const H=document.createTextNode(k.value);M.append(H),L&&b.XfaText.shouldBuildText(k.name)&&U.push(H)}return{textDivs:U}}const j=[[k,-1,M]];for(;j.length>0;){const[H,z,V]=j.at(-1);if(z+1===H.children.length){j.pop();continue}const G=H.children[++j.at(-1)[1]];if(G===null)continue;const{name:$}=G;if($==="#text"){const Z=document.createTextNode(G.value);U.push(Z),V.append(Z);continue}const K=G?.attributes?.xmlns?document.createElementNS(G.attributes.xmlns,$):document.createElement($);if(V.append(K),G.attributes&&this.setAttributes({html:K,element:G,storage:F,intent:D,linkService:E}),G.children?.length>0)j.push([G,-1,K]);else if(G.value){const Z=document.createTextNode(G.value);L&&b.XfaText.shouldBuildText($)&&U.push(Z),K.append(Z)}}for(const H of R.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))H.setAttribute("readOnly",!0);return{textDivs:U}}static update(C){const F=`matrix(${C.viewport.transform.join(",")})`;C.div.style.transform=F,C.div.hidden=!1}}},521:(g,d,x)=>{x.d(d,{XfaText:()=>b});class b{static textContent(S){const C=[],F={items:C,styles:Object.create(null)};function E(k){if(!k)return;let D=null;const M=k.name;if(M==="#text")D=k.value;else if(b.shouldBuildText(M))k?.attributes?.textContent?D=k.attributes.textContent:k.value&&(D=k.value);else return;if(D!==null&&C.push({str:D}),!!k.children)for(const L of k.children)E(L)}return E(S),F}static shouldBuildText(S){return!(S==="textarea"||S==="input"||S==="option"||S==="select")}}},907:(g,d,x)=>{x.a(g,async(b,w)=>{try{x.d(d,{AbortException:()=>S.AbortException,AnnotationEditorLayer:()=>k.AnnotationEditorLayer,AnnotationEditorParamsType:()=>S.AnnotationEditorParamsType,AnnotationEditorType:()=>S.AnnotationEditorType,AnnotationEditorUIManager:()=>D.AnnotationEditorUIManager,AnnotationLayer:()=>M.AnnotationLayer,AnnotationMode:()=>S.AnnotationMode,CMapCompressionType:()=>S.CMapCompressionType,DOMSVGFactory:()=>F.DOMSVGFactory,DrawLayer:()=>L.DrawLayer,FeatureTest:()=>S.FeatureTest,GlobalWorkerOptions:()=>R.GlobalWorkerOptions,ImageKind:()=>S.ImageKind,InvalidPDFException:()=>S.InvalidPDFException,MissingPDFException:()=>S.MissingPDFException,OPS:()=>S.OPS,Outliner:()=>U.Outliner,PDFDataRangeTransport:()=>C.PDFDataRangeTransport,PDFDateString:()=>F.PDFDateString,PDFWorker:()=>C.PDFWorker,PasswordResponses:()=>S.PasswordResponses,PermissionFlag:()=>S.PermissionFlag,PixelsPerInch:()=>F.PixelsPerInch,PromiseCapability:()=>S.PromiseCapability,RenderingCancelledException:()=>F.RenderingCancelledException,UnexpectedResponseException:()=>S.UnexpectedResponseException,Util:()=>S.Util,VerbosityLevel:()=>S.VerbosityLevel,XfaLayer:()=>j.XfaLayer,build:()=>C.build,createValidAbsoluteUrl:()=>S.createValidAbsoluteUrl,fetchData:()=>F.fetchData,getDocument:()=>C.getDocument,getFilenameFromUrl:()=>F.getFilenameFromUrl,getPdfFilenameFromUrl:()=>F.getPdfFilenameFromUrl,getXfaPageViewport:()=>F.getXfaPageViewport,isDataScheme:()=>F.isDataScheme,isPdfFile:()=>F.isPdfFile,noContextMenu:()=>F.noContextMenu,normalizeUnicode:()=>S.normalizeUnicode,renderTextLayer:()=>E.renderTextLayer,setLayerDimensions:()=>F.setLayerDimensions,shadow:()=>S.shadow,updateTextLayer:()=>E.updateTextLayer,version:()=>C.version});var S=x(266),C=x(406),F=x(473),E=x(739),k=x(331),D=x(812),M=x(640),L=x(423),R=x(368),U=x(405),j=x(160),H=b([C]);C=(H.then?(await H)():H)[0];const z="4.0.269",V="f4b396f6c";w()}catch(z){w(z)}})},694:(g,d,x)=>{x.d(d,{MessageHandler:()=>F});var b=x(266);const w={UNKNOWN:0,DATA:1,ERROR:2},S={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function C(E){switch(E instanceof Error||typeof E=="object"&&E!==null||(0,b.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),E.name){case"AbortException":return new b.AbortException(E.message);case"MissingPDFException":return new b.MissingPDFException(E.message);case"PasswordException":return new b.PasswordException(E.message,E.code);case"UnexpectedResponseException":return new b.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new b.UnknownErrorException(E.message,E.details);default:return new b.UnknownErrorException(E.message,E.toString())}}class F{constructor(k,D,M){this.sourceName=k,this.targetName=D,this.comObj=M,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=L=>{const R=L.data;if(R.targetName!==this.sourceName)return;if(R.stream){this.#t(R);return}if(R.callback){const j=R.callbackId,H=this.callbackCapabilities[j];if(!H)throw new Error(`Cannot resolve callback ${j}`);if(delete this.callbackCapabilities[j],R.callback===w.DATA)H.resolve(R.data);else if(R.callback===w.ERROR)H.reject(C(R.reason));else throw new Error("Unexpected callback case");return}const U=this.actionHandler[R.action];if(!U)throw new Error(`Unknown action from worker: ${R.action}`);if(R.callbackId){const j=this.sourceName,H=R.sourceName;new Promise(function(z){z(U(R.data))}).then(function(z){M.postMessage({sourceName:j,targetName:H,callback:w.DATA,callbackId:R.callbackId,data:z})},function(z){M.postMessage({sourceName:j,targetName:H,callback:w.ERROR,callbackId:R.callbackId,reason:C(z)})});return}if(R.streamId){this.#e(R);return}U(R.data)},M.addEventListener("message",this._onComObjOnMessage)}on(k,D){const M=this.actionHandler;if(M[k])throw new Error(`There is already an actionName called "${k}"`);M[k]=D}send(k,D,M){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,data:D},M)}sendWithPromise(k,D,M){const L=this.callbackId++,R=new b.PromiseCapability;this.callbackCapabilities[L]=R;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,callbackId:L,data:D},M)}catch(U){R.reject(U)}return R.promise}sendWithStream(k,D,M,L){const R=this.streamId++,U=this.sourceName,j=this.targetName,H=this.comObj;return new ReadableStream({start:z=>{const V=new b.PromiseCapability;return this.streamControllers[R]={controller:z,startCall:V,pullCall:null,cancelCall:null,isClosed:!1},H.postMessage({sourceName:U,targetName:j,action:k,streamId:R,data:D,desiredSize:z.desiredSize},L),V.promise},pull:z=>{const V=new b.PromiseCapability;return this.streamControllers[R].pullCall=V,H.postMessage({sourceName:U,targetName:j,stream:S.PULL,streamId:R,desiredSize:z.desiredSize}),V.promise},cancel:z=>{(0,b.assert)(z instanceof Error,"cancel must have a valid reason");const V=new b.PromiseCapability;return this.streamControllers[R].cancelCall=V,this.streamControllers[R].isClosed=!0,H.postMessage({sourceName:U,targetName:j,stream:S.CANCEL,streamId:R,reason:C(z)}),V.promise}},M)}#e(k){const D=k.streamId,M=this.sourceName,L=k.sourceName,R=this.comObj,U=this,j=this.actionHandler[k.action],H={enqueue(z,V=1,G){if(this.isCancelled)return;const $=this.desiredSize;this.desiredSize-=V,$>0&&this.desiredSize<=0&&(this.sinkCapability=new b.PromiseCapability,this.ready=this.sinkCapability.promise),R.postMessage({sourceName:M,targetName:L,stream:S.ENQUEUE,streamId:D,chunk:z},G)},close(){this.isCancelled||(this.isCancelled=!0,R.postMessage({sourceName:M,targetName:L,stream:S.CLOSE,streamId:D}),delete U.streamSinks[D])},error(z){(0,b.assert)(z instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,R.postMessage({sourceName:M,targetName:L,stream:S.ERROR,streamId:D,reason:C(z)}))},sinkCapability:new b.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:k.desiredSize,ready:null};H.sinkCapability.resolve(),H.ready=H.sinkCapability.promise,this.streamSinks[D]=H,new Promise(function(z){z(j(k.data,H))}).then(function(){R.postMessage({sourceName:M,targetName:L,stream:S.START_COMPLETE,streamId:D,success:!0})},function(z){R.postMessage({sourceName:M,targetName:L,stream:S.START_COMPLETE,streamId:D,reason:C(z)})})}#t(k){const D=k.streamId,M=this.sourceName,L=k.sourceName,R=this.comObj,U=this.streamControllers[D],j=this.streamSinks[D];switch(k.stream){case S.START_COMPLETE:k.success?U.startCall.resolve():U.startCall.reject(C(k.reason));break;case S.PULL_COMPLETE:k.success?U.pullCall.resolve():U.pullCall.reject(C(k.reason));break;case S.PULL:if(!j){R.postMessage({sourceName:M,targetName:L,stream:S.PULL_COMPLETE,streamId:D,success:!0});break}j.desiredSize<=0&&k.desiredSize>0&&j.sinkCapability.resolve(),j.desiredSize=k.desiredSize,new Promise(function(H){H(j.onPull?.())}).then(function(){R.postMessage({sourceName:M,targetName:L,stream:S.PULL_COMPLETE,streamId:D,success:!0})},function(H){R.postMessage({sourceName:M,targetName:L,stream:S.PULL_COMPLETE,streamId:D,reason:C(H)})});break;case S.ENQUEUE:if((0,b.assert)(U,"enqueue should have stream controller"),U.isClosed)break;U.controller.enqueue(k.chunk);break;case S.CLOSE:if((0,b.assert)(U,"close should have stream controller"),U.isClosed)break;U.isClosed=!0,U.controller.close(),this.#n(U,D);break;case S.ERROR:(0,b.assert)(U,"error should have stream controller"),U.controller.error(C(k.reason)),this.#n(U,D);break;case S.CANCEL_COMPLETE:k.success?U.cancelCall.resolve():U.cancelCall.reject(C(k.reason)),this.#n(U,D);break;case S.CANCEL:if(!j)break;new Promise(function(H){H(j.onCancel?.(C(k.reason)))}).then(function(){R.postMessage({sourceName:M,targetName:L,stream:S.CANCEL_COMPLETE,streamId:D,success:!0})},function(H){R.postMessage({sourceName:M,targetName:L,stream:S.CANCEL_COMPLETE,streamId:D,reason:C(H)})}),j.sinkCapability.reject(C(k.reason)),j.isCancelled=!0,delete this.streamSinks[D];break;default:throw new Error("Unexpected stream case")}}async#n(k,D){await Promise.allSettled([k.startCall?.promise,k.pullCall?.promise,k.cancelCall?.promise]),delete this.streamControllers[D]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},825:(g,d,x)=>{x.d(d,{MurmurHash3_64:()=>F});var b=x(266);const w=3285377520,S=4294901760,C=65535;class F{constructor(k){this.h1=k?k&4294967295:w,this.h2=k?k&4294967295:w}update(k){let D,M;if(typeof k=="string"){D=new Uint8Array(k.length*2),M=0;for(let Q=0,ne=k.length;Q<ne;Q++){const le=k.charCodeAt(Q);le<=255?D[M++]=le:(D[M++]=le>>>8,D[M++]=le&255)}}else if((0,b.isArrayBuffer)(k))D=k.slice(),M=D.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const L=M>>2,R=M-L*4,U=new Uint32Array(D.buffer,0,L);let j=0,H=0,z=this.h1,V=this.h2;const G=3432918353,$=461845907,K=G&C,Z=$&C;for(let Q=0;Q<L;Q++)Q&1?(j=U[Q],j=j*G&S|j*K&C,j=j<<15|j>>>17,j=j*$&S|j*Z&C,z^=j,z=z<<13|z>>>19,z=z*5+3864292196):(H=U[Q],H=H*G&S|H*K&C,H=H<<15|H>>>17,H=H*$&S|H*Z&C,V^=H,V=V<<13|V>>>19,V=V*5+3864292196);switch(j=0,R){case 3:j^=D[L*4+2]<<16;case 2:j^=D[L*4+1]<<8;case 1:j^=D[L*4],j=j*G&S|j*K&C,j=j<<15|j>>>17,j=j*$&S|j*Z&C,L&1?z^=j:V^=j}this.h1=z,this.h2=V}hexdigest(){let k=this.h1,D=this.h2;return k^=D>>>1,k=k*3981806797&S|k*36045&C,D=D*4283543511&S|((D<<16|k>>>16)*2950163797&S)>>>16,k^=D>>>1,k=k*444984403&S|k*60499&C,D=D*3301882366&S|((D<<16|k>>>16)*3120437893&S)>>>16,k^=D>>>1,(k>>>0).toString(16).padStart(8,"0")+(D>>>0).toString(16).padStart(8,"0")}}},266:(g,d,x)=>{x.d(d,{AbortException:()=>Ue,AnnotationBorderStyleType:()=>z,AnnotationEditorParamsType:()=>L,AnnotationEditorPrefix:()=>D,AnnotationEditorType:()=>M,AnnotationMode:()=>k,AnnotationPrefix:()=>Se,AnnotationType:()=>H,BaseException:()=>Ae,CMapCompressionType:()=>G,FONT_IDENTITY_MATRIX:()=>S,FeatureTest:()=>W,FormatError:()=>Ee,IDENTITY_MATRIX:()=>w,ImageKind:()=>j,InvalidPDFException:()=>Oe,LINE_FACTOR:()=>F,MAX_IMAGE_SIZE_TO_CACHE:()=>C,MissingPDFException:()=>Be,OPS:()=>$,PasswordException:()=>Ce,PasswordResponses:()=>K,PermissionFlag:()=>R,PromiseCapability:()=>he,RenderingIntentFlag:()=>E,TextRenderingMode:()=>U,UnexpectedResponseException:()=>Ie,UnknownErrorException:()=>Ne,Util:()=>J,VerbosityLevel:()=>V,assert:()=>me,bytesToString:()=>De,createValidAbsoluteUrl:()=>oe,getUuid:()=>xe,getVerbosityLevel:()=>ne,info:()=>le,isArrayBuffer:()=>X,isNodeJS:()=>b,normalizeUnicode:()=>se,objectFromMap:()=>re,setVerbosityLevel:()=>Q,shadow:()=>ge,string32:()=>Pe,stringToBytes:()=>_e,unreachable:()=>be,warn:()=>fe});const b=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),w=[1,0,0,1,0,0],S=[.001,0,0,.001,0,0],C=1e7,F=1.35,E={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},D="pdfjs_internal_editor_",M={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},L={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},R={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},U={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},j={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},H={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},z={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},V={ERRORS:0,WARNINGS:1,INFOS:5},G={NONE:0,BINARY:1},$={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},K={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Z=V.WARNINGS;function Q(ve){Number.isInteger(ve)&&(Z=ve)}function ne(){return Z}function le(ve){Z>=V.INFOS&&console.log(`Info: ${ve}`)}function fe(ve){Z>=V.WARNINGS&&console.log(`Warning: ${ve}`)}function be(ve){throw new Error(ve)}function me(ve,pe){ve||be(pe)}function we(ve){switch(ve?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oe(ve,pe=null,Fe=null){if(!ve)return null;try{if(Fe&&typeof ve=="string"&&(Fe.addDefaultProtocol&&ve.startsWith("www.")&&ve.match(/\./g)?.length>=2&&(ve=`http://${ve}`),Fe.tryConvertEncoding))try{ve=te(ve)}catch{}const Re=pe?new URL(ve,pe):new URL(ve);if(we(Re))return Re}catch{}return null}function ge(ve,pe,Fe,Re=!1){return Object.defineProperty(ve,pe,{value:Fe,enumerable:!Re,configurable:!0,writable:!1}),Fe}const Ae=function(){function pe(Fe,Re){this.constructor===pe&&be("Cannot initialize BaseException."),this.message=Fe,this.name=Re}return pe.prototype=new Error,pe.constructor=pe,pe}();class Ce extends Ae{constructor(pe,Fe){super(pe,"PasswordException"),this.code=Fe}}class Ne extends Ae{constructor(pe,Fe){super(pe,"UnknownErrorException"),this.details=Fe}}class Oe extends Ae{constructor(pe){super(pe,"InvalidPDFException")}}class Be extends Ae{constructor(pe){super(pe,"MissingPDFException")}}class Ie extends Ae{constructor(pe,Fe){super(pe,"UnexpectedResponseException"),this.status=Fe}}class Ee extends Ae{constructor(pe){super(pe,"FormatError")}}class Ue extends Ae{constructor(pe){super(pe,"AbortException")}}function De(ve){(typeof ve!="object"||ve?.length===void 0)&&be("Invalid argument for bytesToString");const pe=ve.length,Fe=8192;if(pe<Fe)return String.fromCharCode.apply(null,ve);const Re=[];for(let Te=0;Te<pe;Te+=Fe){const Le=Math.min(Te+Fe,pe),ye=ve.subarray(Te,Le);Re.push(String.fromCharCode.apply(null,ye))}return Re.join("")}function _e(ve){typeof ve!="string"&&be("Invalid argument for stringToBytes");const pe=ve.length,Fe=new Uint8Array(pe);for(let Re=0;Re<pe;++Re)Fe[Re]=ve.charCodeAt(Re)&255;return Fe}function Pe(ve){return String.fromCharCode(ve>>24&255,ve>>16&255,ve>>8&255,ve&255)}function re(ve){const pe=Object.create(null);for(const[Fe,Re]of ve)pe[Fe]=Re;return pe}function ae(){const ve=new Uint8Array(4);return ve[0]=1,new Uint32Array(ve.buffer,0,1)[0]===1}function Y(){try{return new Function(""),!0}catch{return!1}}class W{static get isLittleEndian(){return ge(this,"isLittleEndian",ae())}static get isEvalSupported(){return ge(this,"isEvalSupported",Y())}static get isOffscreenCanvasSupported(){return ge(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?ge(this,"platform",{isMac:navigator.platform.includes("Mac")}):ge(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return ge(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const ee=[...Array(256).keys()].map(ve=>ve.toString(16).padStart(2,"0"));class J{static makeHexColor(pe,Fe,Re){return`#${ee[pe]}${ee[Fe]}${ee[Re]}`}static scaleMinMax(pe,Fe){let Re;pe[0]?(pe[0]<0&&(Re=Fe[0],Fe[0]=Fe[1],Fe[1]=Re),Fe[0]*=pe[0],Fe[1]*=pe[0],pe[3]<0&&(Re=Fe[2],Fe[2]=Fe[3],Fe[3]=Re),Fe[2]*=pe[3],Fe[3]*=pe[3]):(Re=Fe[0],Fe[0]=Fe[2],Fe[2]=Re,Re=Fe[1],Fe[1]=Fe[3],Fe[3]=Re,pe[1]<0&&(Re=Fe[2],Fe[2]=Fe[3],Fe[3]=Re),Fe[2]*=pe[1],Fe[3]*=pe[1],pe[2]<0&&(Re=Fe[0],Fe[0]=Fe[1],Fe[1]=Re),Fe[0]*=pe[2],Fe[1]*=pe[2]),Fe[0]+=pe[4],Fe[1]+=pe[4],Fe[2]+=pe[5],Fe[3]+=pe[5]}static transform(pe,Fe){return[pe[0]*Fe[0]+pe[2]*Fe[1],pe[1]*Fe[0]+pe[3]*Fe[1],pe[0]*Fe[2]+pe[2]*Fe[3],pe[1]*Fe[2]+pe[3]*Fe[3],pe[0]*Fe[4]+pe[2]*Fe[5]+pe[4],pe[1]*Fe[4]+pe[3]*Fe[5]+pe[5]]}static applyTransform(pe,Fe){const Re=pe[0]*Fe[0]+pe[1]*Fe[2]+Fe[4],Te=pe[0]*Fe[1]+pe[1]*Fe[3]+Fe[5];return[Re,Te]}static applyInverseTransform(pe,Fe){const Re=Fe[0]*Fe[3]-Fe[1]*Fe[2],Te=(pe[0]*Fe[3]-pe[1]*Fe[2]+Fe[2]*Fe[5]-Fe[4]*Fe[3])/Re,Le=(-pe[0]*Fe[1]+pe[1]*Fe[0]+Fe[4]*Fe[1]-Fe[5]*Fe[0])/Re;return[Te,Le]}static getAxialAlignedBoundingBox(pe,Fe){const Re=this.applyTransform(pe,Fe),Te=this.applyTransform(pe.slice(2,4),Fe),Le=this.applyTransform([pe[0],pe[3]],Fe),ye=this.applyTransform([pe[2],pe[1]],Fe);return[Math.min(Re[0],Te[0],Le[0],ye[0]),Math.min(Re[1],Te[1],Le[1],ye[1]),Math.max(Re[0],Te[0],Le[0],ye[0]),Math.max(Re[1],Te[1],Le[1],ye[1])]}static inverseTransform(pe){const Fe=pe[0]*pe[3]-pe[1]*pe[2];return[pe[3]/Fe,-pe[1]/Fe,-pe[2]/Fe,pe[0]/Fe,(pe[2]*pe[5]-pe[4]*pe[3])/Fe,(pe[4]*pe[1]-pe[5]*pe[0])/Fe]}static singularValueDecompose2dScale(pe){const Fe=[pe[0],pe[2],pe[1],pe[3]],Re=pe[0]*Fe[0]+pe[1]*Fe[2],Te=pe[0]*Fe[1]+pe[1]*Fe[3],Le=pe[2]*Fe[0]+pe[3]*Fe[2],ye=pe[2]*Fe[1]+pe[3]*Fe[3],ie=(Re+ye)/2,de=Math.sqrt((Re+ye)**2-4*(Re*ye-Le*Te))/2,ke=ie+de||1,Me=ie-de||1;return[Math.sqrt(ke),Math.sqrt(Me)]}static normalizeRect(pe){const Fe=pe.slice(0);return pe[0]>pe[2]&&(Fe[0]=pe[2],Fe[2]=pe[0]),pe[1]>pe[3]&&(Fe[1]=pe[3],Fe[3]=pe[1]),Fe}static intersect(pe,Fe){const Re=Math.max(Math.min(pe[0],pe[2]),Math.min(Fe[0],Fe[2])),Te=Math.min(Math.max(pe[0],pe[2]),Math.max(Fe[0],Fe[2]));if(Re>Te)return null;const Le=Math.max(Math.min(pe[1],pe[3]),Math.min(Fe[1],Fe[3])),ye=Math.min(Math.max(pe[1],pe[3]),Math.max(Fe[1],Fe[3]));return Le>ye?null:[Re,Le,Te,ye]}static bezierBoundingBox(pe,Fe,Re,Te,Le,ye,ie,de){const ke=[],Me=[[],[]];let je,He,ze,Ve,Ge,$e,Xe,We;for(let Qe=0;Qe<2;++Qe){if(Qe===0?(He=6*pe-12*Re+6*Le,je=-3*pe+9*Re-9*Le+3*ie,ze=3*Re-3*pe):(He=6*Fe-12*Te+6*ye,je=-3*Fe+9*Te-9*ye+3*de,ze=3*Te-3*Fe),Math.abs(je)<1e-12){if(Math.abs(He)<1e-12)continue;Ve=-ze/He,0<Ve&&Ve<1&&ke.push(Ve);continue}Xe=He*He-4*ze*je,We=Math.sqrt(Xe),!(Xe<0)&&(Ge=(-He+We)/(2*je),0<Ge&&Ge<1&&ke.push(Ge),$e=(-He-We)/(2*je),0<$e&&$e<1&&ke.push($e))}let Ye=ke.length,Ke;const qe=Ye;for(;Ye--;)Ve=ke[Ye],Ke=1-Ve,Me[0][Ye]=Ke*Ke*Ke*pe+3*Ke*Ke*Ve*Re+3*Ke*Ve*Ve*Le+Ve*Ve*Ve*ie,Me[1][Ye]=Ke*Ke*Ke*Fe+3*Ke*Ke*Ve*Te+3*Ke*Ve*Ve*ye+Ve*Ve*Ve*de;return Me[0][qe]=pe,Me[1][qe]=Fe,Me[0][qe+1]=ie,Me[1][qe+1]=de,Me[0].length=Me[1].length=qe+2,[Math.min(...Me[0]),Math.min(...Me[1]),Math.max(...Me[0]),Math.max(...Me[1])]}}function te(ve){return decodeURIComponent(escape(ve))}function X(ve){return typeof ve=="object"&&ve?.byteLength!==void 0}class he{#e=!1;constructor(){this.promise=new Promise((pe,Fe)=>{this.resolve=Re=>{this.#e=!0,pe(Re)},this.reject=Re=>{this.#e=!0,Fe(Re)}})}get settled(){return this.#e}}let ue=null,ce=null;function se(ve){return ue||(ue=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ce=new Map([["ﬅ","ſt"]])),ve.replaceAll(ue,(pe,Fe,Re)=>Fe?Fe.normalize("NFKC"):ce.get(Re))}function xe(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ve=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ve);else for(let pe=0;pe<32;pe++)ve[pe]=Math.floor(Math.random()*255);return De(ve)}const Se="pdfjs_internal_id_"}},__webpack_module_cache__={};function __webpack_require__$1(g){var d=__webpack_module_cache__[g];if(d!==void 0)return d.exports;var x=__webpack_module_cache__[g]={exports:{}};return __webpack_modules__[g](x,x.exports,__webpack_require__$1),x.exports}(()=>{var g=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",d=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",x=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",b=S=>{S&&S.d<1&&(S.d=1,S.forEach(C=>C.r--),S.forEach(C=>C.r--?C.r++:C()))},w=S=>S.map(C=>{if(C!==null&&typeof C=="object"){if(C[g])return C;if(C.then){var F=[];F.d=0,C.then(D=>{E[d]=D,b(F)},D=>{E[x]=D,b(F)});var E={};return E[g]=D=>D(F),E}}var k={};return k[g]=D=>{},k[d]=C,k});__webpack_require__$1.a=(S,C,F)=>{var E;F&&((E=[]).d=-1);var k=new Set,D=S.exports,M,L,R,U=new Promise((j,H)=>{R=H,L=j});U[d]=D,U[g]=j=>(E&&j(E),k.forEach(j),U.catch(H=>{})),S.exports=U,C(j=>{M=w(j);var H,z=()=>M.map(G=>{if(G[x])throw G[x];return G[d]}),V=new Promise(G=>{H=()=>G(z),H.r=0;var $=K=>K!==E&&!k.has(K)&&(k.add(K),K&&!K.d&&(H.r++,K.push(H)));M.map(K=>K[g]($))});return H.r?V:z()},j=>(j?R(U[x]=j):L(D),b(E))),E&&E.d<0&&(E.d=0)}})();__webpack_require__$1.d=(g,d)=>{for(var x in d)__webpack_require__$1.o(d,x)&&!__webpack_require__$1.o(g,x)&&Object.defineProperty(g,x,{enumerable:!0,get:d[x]})};__webpack_require__$1.o=(g,d)=>Object.prototype.hasOwnProperty.call(g,d);var __webpack_exports__$1=__webpack_require__$1(907);__webpack_exports__$1=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=__webpack_exports__$1);__webpack_exports__$1.AbortException;__webpack_exports__$1.AnnotationEditorLayer;__webpack_exports__$1.AnnotationEditorParamsType;__webpack_exports__$1.AnnotationEditorType;__webpack_exports__$1.AnnotationEditorUIManager;__webpack_exports__$1.AnnotationLayer;__webpack_exports__$1.AnnotationMode;__webpack_exports__$1.CMapCompressionType;__webpack_exports__$1.DOMSVGFactory;__webpack_exports__$1.DrawLayer;__webpack_exports__$1.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__$1.GlobalWorkerOptions;__webpack_exports__$1.ImageKind;__webpack_exports__$1.InvalidPDFException;__webpack_exports__$1.MissingPDFException;__webpack_exports__$1.OPS;__webpack_exports__$1.Outliner;__webpack_exports__$1.PDFDataRangeTransport;__webpack_exports__$1.PDFDateString;__webpack_exports__$1.PDFWorker;__webpack_exports__$1.PasswordResponses;__webpack_exports__$1.PermissionFlag;__webpack_exports__$1.PixelsPerInch;__webpack_exports__$1.PromiseCapability;__webpack_exports__$1.RenderingCancelledException;__webpack_exports__$1.UnexpectedResponseException;__webpack_exports__$1.Util;__webpack_exports__$1.VerbosityLevel;__webpack_exports__$1.XfaLayer;__webpack_exports__$1.build;__webpack_exports__$1.createValidAbsoluteUrl;__webpack_exports__$1.fetchData;var __webpack_exports__getDocument=__webpack_exports__$1.getDocument;__webpack_exports__$1.getFilenameFromUrl;__webpack_exports__$1.getPdfFilenameFromUrl;__webpack_exports__$1.getXfaPageViewport;__webpack_exports__$1.isDataScheme;__webpack_exports__$1.isPdfFile;__webpack_exports__$1.noContextMenu;__webpack_exports__$1.normalizeUnicode;__webpack_exports__$1.renderTextLayer;__webpack_exports__$1.setLayerDimensions;__webpack_exports__$1.shadow;__webpack_exports__$1.updateTextLayer;__webpack_exports__$1.version;var __webpack_require__={};__webpack_require__.d=(g,d)=>{for(var x in d)__webpack_require__.o(d,x)&&!__webpack_require__.o(g,x)&&Object.defineProperty(g,x,{enumerable:!0,get:d[x]})};__webpack_require__.o=(g,d)=>Object.prototype.hasOwnProperty.call(g,d);var __webpack_exports__=globalThis.pdfjsWorker={};__webpack_require__.d(__webpack_exports__,{WorkerMessageHandler:()=>WorkerMessageHandler});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,LINE_DESCENT_FACTOR=.35,BASELINE_FACTOR=LINE_DESCENT_FACTOR/LINE_FACTOR,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode$1={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationReplyType={GROUP:"Group",REPLY:"R"},AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},PageActionEventType={O:"PageOpen",C:"PageClose"},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(g){Number.isInteger(g)&&(verbosity=g)}function getVerbosityLevel(){return verbosity}function info(g){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${g}`)}function warn(g){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${g}`)}function unreachable(g){throw new Error(g)}function assert(g,d){g||unreachable(d)}function _isValidProtocol(g){switch(g?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(g,d=null,x=null){if(!g)return null;try{if(x&&typeof g=="string"&&(x.addDefaultProtocol&&g.startsWith("www.")&&g.match(/\./g)?.length>=2&&(g=`http://${g}`),x.tryConvertEncoding))try{g=stringToUTF8String(g)}catch{}const b=d?new URL(g,d):new URL(g);if(_isValidProtocol(b))return b}catch{}return null}function shadow(g,d,x,b=!1){return Object.defineProperty(g,d,{value:x,enumerable:!b,configurable:!0,writable:!1}),x}const BaseException=function(){function d(x,b){this.constructor===d&&unreachable("Cannot initialize BaseException."),this.message=x,this.name=b}return d.prototype=new Error,d.constructor=d,d}();class PasswordException extends BaseException{constructor(d,x){super(d,"PasswordException"),this.code=x}}class UnknownErrorException extends BaseException{constructor(d,x){super(d,"UnknownErrorException"),this.details=x}}class InvalidPDFException extends BaseException{constructor(d){super(d,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(d){super(d,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(d,x){super(d,"UnexpectedResponseException"),this.status=x}}class FormatError extends BaseException{constructor(d){super(d,"FormatError")}}class AbortException extends BaseException{constructor(d){super(d,"AbortException")}}function bytesToString(g){(typeof g!="object"||g?.length===void 0)&&unreachable("Invalid argument for bytesToString");const d=g.length,x=8192;if(d<x)return String.fromCharCode.apply(null,g);const b=[];for(let w=0;w<d;w+=x){const S=Math.min(w+x,d),C=g.subarray(w,S);b.push(String.fromCharCode.apply(null,C))}return b.join("")}function stringToBytes(g){typeof g!="string"&&unreachable("Invalid argument for stringToBytes");const d=g.length,x=new Uint8Array(d);for(let b=0;b<d;++b)x[b]=g.charCodeAt(b)&255;return x}function string32(g){return String.fromCharCode(g>>24&255,g>>16&255,g>>8&255,g&255)}function objectSize(g){return Object.keys(g).length}function isLittleEndian(){const g=new Uint8Array(4);return g[0]=1,new Uint32Array(g.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return shadow(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hexNumbers=[...Array(256).keys()].map(g=>g.toString(16).padStart(2,"0"));class Util{static makeHexColor(d,x,b){return`#${hexNumbers[d]}${hexNumbers[x]}${hexNumbers[b]}`}static scaleMinMax(d,x){let b;d[0]?(d[0]<0&&(b=x[0],x[0]=x[1],x[1]=b),x[0]*=d[0],x[1]*=d[0],d[3]<0&&(b=x[2],x[2]=x[3],x[3]=b),x[2]*=d[3],x[3]*=d[3]):(b=x[0],x[0]=x[2],x[2]=b,b=x[1],x[1]=x[3],x[3]=b,d[1]<0&&(b=x[2],x[2]=x[3],x[3]=b),x[2]*=d[1],x[3]*=d[1],d[2]<0&&(b=x[0],x[0]=x[1],x[1]=b),x[0]*=d[2],x[1]*=d[2]),x[0]+=d[4],x[1]+=d[4],x[2]+=d[5],x[3]+=d[5]}static transform(d,x){return[d[0]*x[0]+d[2]*x[1],d[1]*x[0]+d[3]*x[1],d[0]*x[2]+d[2]*x[3],d[1]*x[2]+d[3]*x[3],d[0]*x[4]+d[2]*x[5]+d[4],d[1]*x[4]+d[3]*x[5]+d[5]]}static applyTransform(d,x){const b=d[0]*x[0]+d[1]*x[2]+x[4],w=d[0]*x[1]+d[1]*x[3]+x[5];return[b,w]}static applyInverseTransform(d,x){const b=x[0]*x[3]-x[1]*x[2],w=(d[0]*x[3]-d[1]*x[2]+x[2]*x[5]-x[4]*x[3])/b,S=(-d[0]*x[1]+d[1]*x[0]+x[4]*x[1]-x[5]*x[0])/b;return[w,S]}static getAxialAlignedBoundingBox(d,x){const b=this.applyTransform(d,x),w=this.applyTransform(d.slice(2,4),x),S=this.applyTransform([d[0],d[3]],x),C=this.applyTransform([d[2],d[1]],x);return[Math.min(b[0],w[0],S[0],C[0]),Math.min(b[1],w[1],S[1],C[1]),Math.max(b[0],w[0],S[0],C[0]),Math.max(b[1],w[1],S[1],C[1])]}static inverseTransform(d){const x=d[0]*d[3]-d[1]*d[2];return[d[3]/x,-d[1]/x,-d[2]/x,d[0]/x,(d[2]*d[5]-d[4]*d[3])/x,(d[4]*d[1]-d[5]*d[0])/x]}static singularValueDecompose2dScale(d){const x=[d[0],d[2],d[1],d[3]],b=d[0]*x[0]+d[1]*x[2],w=d[0]*x[1]+d[1]*x[3],S=d[2]*x[0]+d[3]*x[2],C=d[2]*x[1]+d[3]*x[3],F=(b+C)/2,E=Math.sqrt((b+C)**2-4*(b*C-S*w))/2,k=F+E||1,D=F-E||1;return[Math.sqrt(k),Math.sqrt(D)]}static normalizeRect(d){const x=d.slice(0);return d[0]>d[2]&&(x[0]=d[2],x[2]=d[0]),d[1]>d[3]&&(x[1]=d[3],x[3]=d[1]),x}static intersect(d,x){const b=Math.max(Math.min(d[0],d[2]),Math.min(x[0],x[2])),w=Math.min(Math.max(d[0],d[2]),Math.max(x[0],x[2]));if(b>w)return null;const S=Math.max(Math.min(d[1],d[3]),Math.min(x[1],x[3])),C=Math.min(Math.max(d[1],d[3]),Math.max(x[1],x[3]));return S>C?null:[b,S,w,C]}static bezierBoundingBox(d,x,b,w,S,C,F,E){const k=[],D=[[],[]];let M,L,R,U,j,H,z,V;for(let Z=0;Z<2;++Z){if(Z===0?(L=6*d-12*b+6*S,M=-3*d+9*b-9*S+3*F,R=3*b-3*d):(L=6*x-12*w+6*C,M=-3*x+9*w-9*C+3*E,R=3*w-3*x),Math.abs(M)<1e-12){if(Math.abs(L)<1e-12)continue;U=-R/L,0<U&&U<1&&k.push(U);continue}z=L*L-4*R*M,V=Math.sqrt(z),!(z<0)&&(j=(-L+V)/(2*M),0<j&&j<1&&k.push(j),H=(-L-V)/(2*M),0<H&&H<1&&k.push(H))}let G=k.length,$;const K=G;for(;G--;)U=k[G],$=1-U,D[0][G]=$*$*$*d+3*$*$*U*b+3*$*U*U*S+U*U*U*F,D[1][G]=$*$*$*x+3*$*$*U*w+3*$*U*U*C+U*U*U*E;return D[0][K]=d,D[1][K]=x,D[0][K+1]=F,D[1][K+1]=E,D[0].length=D[1].length=K+2,[Math.min(...D[0]),Math.min(...D[1]),Math.max(...D[0]),Math.max(...D[1])]}}const PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToPDFString(g){if(g[0]>="ï"){let x;if(g[0]==="þ"&&g[1]==="ÿ"?(x="utf-16be",g.length%2===1&&(g=g.slice(0,-1))):g[0]==="ÿ"&&g[1]==="þ"?(x="utf-16le",g.length%2===1&&(g=g.slice(0,-1))):g[0]==="ï"&&g[1]==="»"&&g[2]==="¿"&&(x="utf-8"),x)try{const b=new TextDecoder(x,{fatal:!0}),w=stringToBytes(g),S=b.decode(w);return S.includes("\x1B")?S.replaceAll(/\x1b[^\x1b]*(?:\x1b|$)/g,""):S}catch(b){warn(`stringToPDFString: "${b}".`)}}const d=[];for(let x=0,b=g.length;x<b;x++){const w=g.charCodeAt(x);if(w===27){for(;++x<b&&g.charCodeAt(x)!==27;);continue}const S=PDFStringTranslateTable[w];d.push(S?String.fromCharCode(S):g.charAt(x))}return d.join("")}function stringToUTF8String(g){return decodeURIComponent(escape(g))}function utf8StringToString(g){return unescape(encodeURIComponent(g))}function isArrayBuffer(g){return typeof g=="object"&&g?.byteLength!==void 0}function isArrayEqual(g,d){if(g.length!==d.length)return!1;for(let x=0,b=g.length;x<b;x++)if(g[x]!==d[x])return!1;return!0}function getModificationDate(g=new Date){return[g.getUTCFullYear().toString(),(g.getUTCMonth()+1).toString().padStart(2,"0"),g.getUTCDate().toString().padStart(2,"0"),g.getUTCHours().toString().padStart(2,"0"),g.getUTCMinutes().toString().padStart(2,"0"),g.getUTCSeconds().toString().padStart(2,"0")].join("")}class PromiseCapability{#e=!1;constructor(){this.promise=new Promise((d,x)=>{this.resolve=b=>{this.#e=!0,d(b)},this.reject=b=>{this.#e=!0,x(b)}})}get settled(){return this.#e}}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(g){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),g.replaceAll(NormalizeRegex,(d,x,b)=>x?x.normalize("NFKC"):NormalizationMap.get(b))}const AnnotationPrefix="pdfjs_internal_id_",CIRCULAR_REF=Symbol("CIRCULAR_REF"),EOF=Symbol("EOF");let CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null);function clearPrimitiveCaches(){CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null)}class Name{constructor(d){this.name=d}static get(d){return NameCache[d]||=new Name(d)}}class Cmd{constructor(d){this.cmd=d}static get(d){return CmdCache[d]||=new Cmd(d)}}const nonSerializable=function(){return nonSerializable};class Dict{constructor(d=null){this._map=Object.create(null),this.xref=d,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=nonSerializable}assignXref(d){this.xref=d}get size(){return Object.keys(this._map).length}get(d,x,b){let w=this._map[d];return w===void 0&&x!==void 0&&(w=this._map[x],w===void 0&&b!==void 0&&(w=this._map[b])),w instanceof Ref&&this.xref?this.xref.fetch(w,this.suppressEncryption):w}async getAsync(d,x,b){let w=this._map[d];return w===void 0&&x!==void 0&&(w=this._map[x],w===void 0&&b!==void 0&&(w=this._map[b])),w instanceof Ref&&this.xref?this.xref.fetchAsync(w,this.suppressEncryption):w}getArray(d,x,b){let w=this._map[d];if(w===void 0&&x!==void 0&&(w=this._map[x],w===void 0&&b!==void 0&&(w=this._map[b])),w instanceof Ref&&this.xref&&(w=this.xref.fetch(w,this.suppressEncryption)),Array.isArray(w)){w=w.slice();for(let S=0,C=w.length;S<C;S++)w[S]instanceof Ref&&this.xref&&(w[S]=this.xref.fetch(w[S],this.suppressEncryption))}return w}getRaw(d){return this._map[d]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(d,x){this._map[d]=x}has(d){return this._map[d]!==void 0}forEach(d){for(const x in this._map)d(x,this.get(x))}static get empty(){const d=new Dict(null);return d.set=(x,b)=>{unreachable("Should not call `set` on the empty dictionary.")},shadow(this,"empty",d)}static merge({xref:d,dictArray:x,mergeSubDicts:b=!1}){const w=new Dict(d),S=new Map;for(const C of x)if(C instanceof Dict)for(const[F,E]of Object.entries(C._map)){let k=S.get(F);if(k===void 0)k=[],S.set(F,k);else if(!b||!(E instanceof Dict))continue;k.push(E)}for(const[C,F]of S){if(F.length===1||!(F[0]instanceof Dict)){w._map[C]=F[0];continue}const E=new Dict(d);for(const k of F)for(const[D,M]of Object.entries(k._map))E._map[D]===void 0&&(E._map[D]=M);E.size>0&&(w._map[C]=E)}return S.clear(),w.size>0?w:Dict.empty}clone(){const d=new Dict(this.xref);for(const x of this.getKeys())d.set(x,this.getRaw(x));return d}}class Ref{constructor(d,x){this.num=d,this.gen=x}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(d){const x=RefCache[d];if(x)return x;const b=/^(\d+)R(\d*)$/.exec(d);return!b||b[1]==="0"?null:RefCache[d]=new Ref(parseInt(b[1]),b[2]?parseInt(b[2]):0)}static get(d,x){const b=x===0?`${d}R`:`${d}R${x}`;return RefCache[b]||=new Ref(d,x)}}class RefSet{constructor(d=null){this._set=new Set(d?._set)}has(d){return this._set.has(d.toString())}put(d){this._set.add(d.toString())}remove(d){this._set.delete(d.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}class RefSetCache{constructor(){this._map=new Map}get size(){return this._map.size}get(d){return this._map.get(d.toString())}has(d){return this._map.has(d.toString())}put(d,x){this._map.set(d.toString(),x)}putAlias(d,x){this._map.set(d.toString(),this.get(x))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function isName(g,d){return g instanceof Name&&(d===void 0||g.name===d)}function isCmd(g,d){return g instanceof Cmd&&(d===void 0||g.cmd===d)}function isDict(g,d){return g instanceof Dict&&(d===void 0||isName(g.get("Type"),d))}function isRefsEqual(g,d){return g.num===d.num&&g.gen===d.gen}class BaseStream{constructor(){this.constructor===BaseStream&&unreachable("Cannot initialize BaseStream.")}get length(){unreachable("Abstract getter `length` accessed")}get isEmpty(){unreachable("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return shadow(this,"isDataLoaded",!0)}getByte(){unreachable("Abstract method `getByte` called")}getBytes(d){unreachable("Abstract method `getBytes` called")}peekByte(){const d=this.getByte();return d!==-1&&this.pos--,d}peekBytes(d){const x=this.getBytes(d);return this.pos-=x.length,x}getUint16(){const d=this.getByte(),x=this.getByte();return d===-1||x===-1?-1:(d<<8)+x}getInt32(){const d=this.getByte(),x=this.getByte(),b=this.getByte(),w=this.getByte();return(d<<24)+(x<<16)+(b<<8)+w}getByteRange(d,x){unreachable("Abstract method `getByteRange` called")}getString(d){return bytesToString(this.getBytes(d))}skip(d){this.pos+=d||1}reset(){unreachable("Abstract method `reset` called")}moveStart(){unreachable("Abstract method `moveStart` called")}makeSubStream(d,x,b=null){unreachable("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}const PDF_VERSION_REGEXP=/^[1-9]\.\d$/;function getLookupTableFactory(g){let d;return function(){return g&&(d=Object.create(null),g(d),g=null),d}}class MissingDataException extends BaseException{constructor(d,x){super(`Missing data [${d}, ${x})`,"MissingDataException"),this.begin=d,this.end=x}}class ParserEOFException extends BaseException{constructor(d){super(d,"ParserEOFException")}}class XRefEntryException extends BaseException{constructor(d){super(d,"XRefEntryException")}}class XRefParseException extends BaseException{constructor(d){super(d,"XRefParseException")}}function arrayBuffersToBytes(g){const d=g.length;if(d===0)return new Uint8Array(0);if(d===1)return new Uint8Array(g[0]);let x=0;for(let S=0;S<d;S++)x+=g[S].byteLength;const b=new Uint8Array(x);let w=0;for(let S=0;S<d;S++){const C=new Uint8Array(g[S]);b.set(C,w),w+=C.byteLength}return b}function getInheritableProperty({dict:g,key:d,getArray:x=!1,stopWhenFound:b=!0}){let w;const S=new RefSet;for(;g instanceof Dict&&!(g.objId&&S.has(g.objId));){g.objId&&S.put(g.objId);const C=x?g.getArray(d):g.get(d);if(C!==void 0){if(b)return C;(w||=[]).push(C)}g=g.get("Parent")}return w}const ROMAN_NUMBER_MAP=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function toRomanNumerals(g,d=!1){assert(Number.isInteger(g)&&g>0,"The number should be a positive integer.");const x=[];let b;for(;g>=1e3;)g-=1e3,x.push("M");b=g/100|0,g%=100,x.push(ROMAN_NUMBER_MAP[b]),b=g/10|0,g%=10,x.push(ROMAN_NUMBER_MAP[10+b]),x.push(ROMAN_NUMBER_MAP[20+g]);const w=x.join("");return d?w.toLowerCase():w}function log2(g){return g<=0?0:Math.ceil(Math.log2(g))}function readInt8(g,d){return g[d]<<24>>24}function readUint16(g,d){return g[d]<<8|g[d+1]}function readUint32(g,d){return(g[d]<<24|g[d+1]<<16|g[d+2]<<8|g[d+3])>>>0}function isWhiteSpace(g){return g===32||g===9||g===13||g===10}function parseXFAPath(g){const d=/(.+)\[(\d+)\]$/;return g.split(".").map(x=>{const b=x.match(d);return b?{name:b[1],pos:parseInt(b[2],10)}:{name:x,pos:0}})}function escapePDFName(g){const d=[];let x=0;for(let b=0,w=g.length;b<w;b++){const S=g.charCodeAt(b);(S<33||S>126||S===35||S===40||S===41||S===60||S===62||S===91||S===93||S===123||S===125||S===47||S===37)&&(x<b&&d.push(g.substring(x,b)),d.push(`#${S.toString(16)}`),x=b+1)}return d.length===0?g:(x<g.length&&d.push(g.substring(x,g.length)),d.join(""))}function escapeString(g){return g.replaceAll(/([()\\\n\r])/g,d=>d===`
`?"\\n":d==="\r"?"\\r":`\\${d}`)}function _collectJS(g,d,x,b){if(!g)return;let w=null;if(g instanceof Ref){if(b.has(g))return;w=g,b.put(w),g=d.fetch(g)}if(Array.isArray(g))for(const S of g)_collectJS(S,d,x,b);else if(g instanceof Dict){if(isName(g.get("S"),"JavaScript")){const S=g.get("JS");let C;S instanceof BaseStream?C=S.getString():typeof S=="string"&&(C=S),C&&=stringToPDFString(C).replaceAll("\0",""),C&&x.push(C)}_collectJS(g.getRaw("Next"),d,x,b)}w&&b.remove(w)}function collectActions(g,d,x){const b=Object.create(null),w=getInheritableProperty({dict:d,key:"AA",stopWhenFound:!1});if(w)for(let S=w.length-1;S>=0;S--){const C=w[S];if(C instanceof Dict)for(const F of C.getKeys()){const E=x[F];if(!E)continue;const k=C.getRaw(F),D=new RefSet,M=[];_collectJS(k,g,M,D),M.length>0&&(b[E]=M)}}if(d.has("A")){const S=d.get("A"),C=new RefSet,F=[];_collectJS(S,g,F,C),F.length>0&&(b.Action=F)}return objectSize(b)>0?b:null}const XMLEntities={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function encodeToXmlString(g){const d=[];let x=0;for(let b=0,w=g.length;b<w;b++){const S=g.codePointAt(b);if(32<=S&&S<=126){const C=XMLEntities[S];C&&(x<b&&d.push(g.substring(x,b)),d.push(C),x=b+1)}else x<b&&d.push(g.substring(x,b)),d.push(`&#x${S.toString(16).toUpperCase()};`),S>55295&&(S<57344||S>65533)&&b++,x=b+1}return d.length===0?g:(x<g.length&&d.push(g.substring(x,g.length)),d.join(""))}function validateFontName(g,d=!1){const x=/^("|').*("|')$/.exec(g);if(x&&x[1]===x[2]){if(new RegExp(`[^\\\\]${x[1]}`).test(g.slice(1,-1)))return d&&warn(`FontFamily contains unescaped ${x[1]}: ${g}.`),!1}else for(const b of g.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(b)||!/^[\w-\\]+$/.test(b))return d&&warn(`FontFamily contains invalid <custom-ident>: ${g}.`),!1;return!0}function validateCSSFont(g){const d="14",x="400",b=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:w,fontWeight:S,italicAngle:C}=g;if(!validateFontName(w,!0))return!1;const F=S?S.toString():"";g.fontWeight=b.has(F)?F:x;const E=parseFloat(C);return g.italicAngle=isNaN(E)||E<-90||E>90?d:C.toString(),!0}function recoverJsURL(g){const d=["app.launchURL","window.open","xfa.host.gotoURL"],b=new RegExp("^\\s*("+d.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(g);if(b?.[2]){const w=b[2];let S=!1;return b[3]==="true"&&b[1]==="app.launchURL"&&(S=!0),{url:w,newWindow:S}}return null}function numberToString$1(g){if(Number.isInteger(g))return g.toString();const d=Math.round(g*100);return d%100===0?(d/100).toString():d%10===0?g.toFixed(1):g.toFixed(2)}function getNewAnnotationsMap(g){if(!g)return null;const d=new Map;for(const[x,b]of g){if(!x.startsWith(AnnotationEditorPrefix))continue;let w=d.get(b.pageIndex);w||(w=[],d.set(b.pageIndex,w)),w.push(b)}return d.size>0?d:null}function isAscii(g){return/^[\x00-\x7F]*$/.test(g)}function stringToUTF16HexString(g){const d=[];for(let x=0,b=g.length;x<b;x++){const w=g.charCodeAt(x);d.push((w>>8&255).toString(16).padStart(2,"0"),(w&255).toString(16).padStart(2,"0"))}return d.join("")}function stringToUTF16String(g,d=!1){const x=[];d&&x.push("þÿ");for(let b=0,w=g.length;b<w;b++){const S=g.charCodeAt(b);x.push(String.fromCharCode(S>>8&255),String.fromCharCode(S&255))}return x.join("")}function getRotationMatrix(g,d,x){switch(g){case 90:return[0,1,-1,0,d,0];case 180:return[-1,0,0,-1,d,x];case 270:return[0,-1,1,0,0,x];default:throw new Error("Invalid rotation")}}let Stream$1=class dt extends BaseStream{constructor(d,x,b,w){super(),this.bytes=d instanceof Uint8Array?d:new Uint8Array(d),this.start=x||0,this.pos=this.start,this.end=x+b||this.bytes.length,this.dict=w}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(d){const x=this.bytes,b=this.pos,w=this.end;if(!d)return x.subarray(b,w);let S=b+d;return S>w&&(S=w),this.pos=S,x.subarray(b,S)}getByteRange(d,x){return d<0&&(d=0),x>this.end&&(x=this.end),this.bytes.subarray(d,x)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(d,x,b=null){return new dt(this.bytes.buffer,d,x,b)}};class StringStream extends Stream$1{constructor(d){super(stringToBytes(d))}}class NullStream extends Stream$1{constructor(){super(new Uint8Array(0))}}class ChunkedStream extends Stream$1{constructor(d,x,b){super(new Uint8Array(d),0,d,null),this.chunkSize=x,this._loadedChunks=new Set,this.numChunks=Math.ceil(d/x),this.manager=b,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const d=[];for(let x=0,b=this.numChunks;x<b;++x)this._loadedChunks.has(x)||d.push(x);return d}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(d,x){const b=this.chunkSize;if(d%b!==0)throw new Error(`Bad begin offset: ${d}`);const w=d+x.byteLength;if(w%b!==0&&w!==this.bytes.length)throw new Error(`Bad end offset: ${w}`);this.bytes.set(new Uint8Array(x),d);const S=Math.floor(d/b),C=Math.floor((w-1)/b)+1;for(let F=S;F<C;++F)this._loadedChunks.add(F)}onReceiveProgressiveData(d){let x=this.progressiveDataLength;const b=Math.floor(x/this.chunkSize);this.bytes.set(new Uint8Array(d),x),x+=d.byteLength,this.progressiveDataLength=x;const w=x>=this.end?this.numChunks:Math.floor(x/this.chunkSize);for(let S=b;S<w;++S)this._loadedChunks.add(S)}ensureByte(d){if(d<this.progressiveDataLength)return;const x=Math.floor(d/this.chunkSize);if(!(x>this.numChunks)&&x!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(x))throw new MissingDataException(d,d+1);this.lastSuccessfulEnsureByteChunk=x}}ensureRange(d,x){if(d>=x||x<=this.progressiveDataLength)return;const b=Math.floor(d/this.chunkSize);if(b>this.numChunks)return;const w=Math.min(Math.floor((x-1)/this.chunkSize)+1,this.numChunks);for(let S=b;S<w;++S)if(!this._loadedChunks.has(S))throw new MissingDataException(d,x)}nextEmptyChunk(d){const x=this.numChunks;for(let b=0;b<x;++b){const w=(d+b)%x;if(!this._loadedChunks.has(w))return w}return null}hasChunk(d){return this._loadedChunks.has(d)}getByte(){const d=this.pos;return d>=this.end?-1:(d>=this.progressiveDataLength&&this.ensureByte(d),this.bytes[this.pos++])}getBytes(d){const x=this.bytes,b=this.pos,w=this.end;if(!d)return w>this.progressiveDataLength&&this.ensureRange(b,w),x.subarray(b,w);let S=b+d;return S>w&&(S=w),S>this.progressiveDataLength&&this.ensureRange(b,S),this.pos=S,x.subarray(b,S)}getByteRange(d,x){return d<0&&(d=0),x>this.end&&(x=this.end),x>this.progressiveDataLength&&this.ensureRange(d,x),this.bytes.subarray(d,x)}makeSubStream(d,x,b=null){x?d+x>this.progressiveDataLength&&this.ensureRange(d,d+x):d>=this.progressiveDataLength&&this.ensureByte(d);function w(){}w.prototype=Object.create(this),w.prototype.getMissingChunks=function(){const C=this.chunkSize,F=Math.floor(this.start/C),E=Math.floor((this.end-1)/C)+1,k=[];for(let D=F;D<E;++D)this._loadedChunks.has(D)||k.push(D);return k},Object.defineProperty(w.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const S=new w;return S.pos=S.start=d,S.end=d+x||this.end,S.dict=b,S}getBaseStreams(){return[this]}}class ChunkedStreamManager{constructor(d,x){this.length=x.length,this.chunkSize=x.rangeChunkSize,this.stream=new ChunkedStream(this.length,this.chunkSize,this),this.pdfNetworkStream=d,this.disableAutoFetch=x.disableAutoFetch,this.msgHandler=x.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new PromiseCapability}sendRequest(d,x){const b=this.pdfNetworkStream.getRangeReader(d,x);b.isStreamingSupported||(b.onProgress=this.onProgress.bind(this));let w=[],S=0;return new Promise((C,F)=>{const E=({value:k,done:D})=>{try{if(D){const M=arrayBuffersToBytes(w);w=null,C(M);return}S+=k.byteLength,b.isStreamingSupported&&this.onProgress({loaded:S}),w.push(k),b.read().then(E,F)}catch(M){F(M)}};b.read().then(E,F)}).then(C=>{this.aborted||this.onReceiveData({chunk:C,begin:d})})}requestAllChunks(d=!1){if(!d){const x=this.stream.getMissingChunks();this._requestChunks(x)}return this._loadedStreamCapability.promise}_requestChunks(d){const x=this.currRequestId++,b=new Set;this._chunksNeededByRequest.set(x,b);for(const C of d)this.stream.hasChunk(C)||b.add(C);if(b.size===0)return Promise.resolve();const w=new PromiseCapability;this._promisesByRequest.set(x,w);const S=[];for(const C of b){let F=this._requestsByChunk.get(C);F||(F=[],this._requestsByChunk.set(C,F),S.push(C)),F.push(x)}if(S.length>0){const C=this.groupChunks(S);for(const F of C){const E=F.beginChunk*this.chunkSize,k=Math.min(F.endChunk*this.chunkSize,this.length);this.sendRequest(E,k).catch(w.reject)}}return w.promise.catch(C=>{if(!this.aborted)throw C})}getStream(){return this.stream}requestRange(d,x){x=Math.min(x,this.length);const b=this.getBeginChunk(d),w=this.getEndChunk(x),S=[];for(let C=b;C<w;++C)S.push(C);return this._requestChunks(S)}requestRanges(d=[]){const x=[];for(const b of d){const w=this.getBeginChunk(b.begin),S=this.getEndChunk(b.end);for(let C=w;C<S;++C)x.includes(C)||x.push(C)}return x.sort(function(b,w){return b-w}),this._requestChunks(x)}groupChunks(d){const x=[];let b=-1,w=-1;for(let S=0,C=d.length;S<C;++S){const F=d[S];b<0&&(b=F),w>=0&&w+1!==F&&(x.push({beginChunk:b,endChunk:w+1}),b=F),S+1===d.length&&x.push({beginChunk:b,endChunk:F+1}),w=F}return x}onProgress(d){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+d.loaded,total:this.length})}onReceiveData(d){const x=d.chunk,b=d.begin===void 0,w=b?this.progressiveDataLength:d.begin,S=w+x.byteLength,C=Math.floor(w/this.chunkSize),F=S<this.length?Math.floor(S/this.chunkSize):Math.ceil(S/this.chunkSize);b?(this.stream.onReceiveProgressiveData(x),this.progressiveDataLength=S):this.stream.onReceiveData(w,x),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const E=[];for(let k=C;k<F;++k){const D=this._requestsByChunk.get(k);if(D){this._requestsByChunk.delete(k);for(const M of D){const L=this._chunksNeededByRequest.get(M);L.has(k)&&L.delete(k),!(L.size>0)&&E.push(M)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let k;if(this.stream.numChunksLoaded===1){const D=this.stream.numChunks-1;this.stream.hasChunk(D)||(k=D)}else k=this.stream.nextEmptyChunk(F);Number.isInteger(k)&&this._requestChunks([k])}for(const k of E){const D=this._promisesByRequest.get(k);this._promisesByRequest.delete(k),D.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(d){this._loadedStreamCapability.reject(d)}getBeginChunk(d){return Math.floor(d/this.chunkSize)}getEndChunk(d){return Math.floor((d-1)/this.chunkSize)+1}abort(d){this.aborted=!0,this.pdfNetworkStream?.cancelAllRequests(d);for(const x of this._promisesByRequest.values())x.reject(d)}}function resizeRgbImage(g,d,x,b,w,S,C){C=C!==1?0:C;const E=x/w,k=b/S;let D=0,M;const L=new Uint16Array(w),R=x*3;for(let U=0;U<w;U++)L[U]=Math.floor(U*E)*3;for(let U=0;U<S;U++){const j=Math.floor(U*k)*R;for(let H=0;H<w;H++)M=j+L[H],d[D++]=g[M++],d[D++]=g[M++],d[D++]=g[M++],D+=C}}let ColorSpace$1=class ht{constructor(d,x){this.constructor===ht&&unreachable("Cannot initialize ColorSpace."),this.name=d,this.numComps=x}getRgb(d,x){const b=new Uint8ClampedArray(3);return this.getRgbItem(d,x,b,0),b}getRgbItem(d,x,b,w){unreachable("Should not call ColorSpace.getRgbItem")}getRgbBuffer(d,x,b,w,S,C,F){unreachable("Should not call ColorSpace.getRgbBuffer")}getOutputLength(d,x){unreachable("Should not call ColorSpace.getOutputLength")}isPassthrough(d){return!1}isDefaultDecode(d,x){return ht.isDefaultDecode(d,this.numComps)}fillRgb(d,x,b,w,S,C,F,E,k){const D=x*b;let M=null;const L=1<<F,R=b!==S||x!==w;if(this.isPassthrough(F))M=E;else if(this.numComps===1&&D>L&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const U=F<=8?new Uint8Array(L):new Uint16Array(L);for(let H=0;H<L;H++)U[H]=H;const j=new Uint8ClampedArray(L*3);if(this.getRgbBuffer(U,0,L,j,0,F,0),R){M=new Uint8Array(D*3);let H=0;for(let z=0;z<D;++z){const V=E[z]*3;M[H++]=j[V],M[H++]=j[V+1],M[H++]=j[V+2]}}else{let H=0;for(let z=0;z<D;++z){const V=E[z]*3;d[H++]=j[V],d[H++]=j[V+1],d[H++]=j[V+2],H+=k}}}else R?(M=new Uint8ClampedArray(D*3),this.getRgbBuffer(E,0,D,M,0,F,0)):this.getRgbBuffer(E,0,w*C,d,0,F,k);if(M)if(R)resizeRgbImage(M,d,x,b,w,S,k);else{let U=0,j=0;for(let H=0,z=w*C;H<z;H++)d[U++]=M[j++],d[U++]=M[j++],d[U++]=M[j++],U+=k}}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!0)}static _cache(d,x,b,w){if(!b)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!w)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let S,C;d instanceof Ref&&(C=d,d=x.fetch(d)),d instanceof Name&&(S=d.name),(S||C)&&b.set(S,C,w)}static getCached(d,x,b){if(!b)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(d instanceof Ref){const w=b.getByRef(d);if(w)return w;try{d=x.fetch(d)}catch(S){if(S instanceof MissingDataException)throw S}}if(d instanceof Name){const w=b.getByName(d.name);if(w)return w}return null}static async parseAsync({cs:d,xref:x,resources:b=null,pdfFunctionFactory:w,localColorSpaceCache:S}){const C=this._parse(d,x,b,w);return this._cache(d,x,S,C),C}static parse({cs:d,xref:x,resources:b=null,pdfFunctionFactory:w,localColorSpaceCache:S}){const C=this.getCached(d,x,S);if(C)return C;const F=this._parse(d,x,b,w);return this._cache(d,x,S,F),F}static _parse(d,x,b=null,w){if(d=x.fetchIfRef(d),d instanceof Name)switch(d.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new PatternCS(null);default:if(b instanceof Dict){const S=b.get("ColorSpace");if(S instanceof Dict){const C=S.get(d.name);if(C){if(C instanceof Name)return this._parse(C,x,b,w);d=C;break}}}throw new FormatError(`Unrecognized ColorSpace: ${d.name}`)}if(Array.isArray(d)){const S=x.fetchIfRef(d[0]).name;let C,F,E,k,D,M;switch(S){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return C=x.fetchIfRef(d[1]),k=C.getArray("WhitePoint"),D=C.getArray("BlackPoint"),M=C.get("Gamma"),new CalGrayCS(k,D,M);case"CalRGB":C=x.fetchIfRef(d[1]),k=C.getArray("WhitePoint"),D=C.getArray("BlackPoint"),M=C.getArray("Gamma");const L=C.getArray("Matrix");return new CalRGBCS(k,D,M,L);case"ICCBased":const U=x.fetchIfRef(d[1]).dict;F=U.get("N");const j=U.get("Alternate");if(j){const K=this._parse(j,x,b,w);if(K.numComps===F)return K;warn("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(F===1)return this.singletons.gray;if(F===3)return this.singletons.rgb;if(F===4)return this.singletons.cmyk;break;case"Pattern":return E=d[1]||null,E&&(E=this._parse(E,x,b,w)),new PatternCS(E);case"I":case"Indexed":E=this._parse(d[1],x,b,w);const H=x.fetchIfRef(d[2])+1,z=x.fetchIfRef(d[3]);return new IndexedCS(E,H,z);case"Separation":case"DeviceN":const V=x.fetchIfRef(d[1]);F=Array.isArray(V)?V.length:1,E=this._parse(d[2],x,b,w);const G=w.create(d[3]);return new AlternateCS(F,E,G);case"Lab":C=x.fetchIfRef(d[1]),k=C.getArray("WhitePoint"),D=C.getArray("BlackPoint");const $=C.getArray("Range");return new LabCS(k,D,$);default:throw new FormatError(`Unimplemented ColorSpace object: ${S}`)}}throw new FormatError(`Unrecognized ColorSpace object: ${d}`)}static isDefaultDecode(d,x){if(!Array.isArray(d))return!0;if(x*2!==d.length)return warn("The decode map is not the correct length"),!0;for(let b=0,w=d.length;b<w;b+=2)if(d[b]!==0||d[b+1]!==1)return!1;return!0}static get singletons(){return shadow(this,"singletons",{get gray(){return shadow(this,"gray",new DeviceGrayCS)},get rgb(){return shadow(this,"rgb",new DeviceRgbCS)},get cmyk(){return shadow(this,"cmyk",new DeviceCmykCS)}})}};class AlternateCS extends ColorSpace$1{constructor(d,x,b){super("Alternate",d),this.base=x,this.tintFn=b,this.tmpBuf=new Float32Array(x.numComps)}getRgbItem(d,x,b,w){const S=this.tmpBuf;this.tintFn(d,x,S,0),this.base.getRgbItem(S,0,b,w)}getRgbBuffer(d,x,b,w,S,C,F){const E=this.tintFn,k=this.base,D=1/((1<<C)-1),M=k.numComps,L=k.usesZeroToOneRange,R=(k.isPassthrough(8)||!L)&&F===0;let U=R?S:0;const j=R?w:new Uint8ClampedArray(M*b),H=this.numComps,z=new Float32Array(H),V=new Float32Array(M);let G,$;for(G=0;G<b;G++){for($=0;$<H;$++)z[$]=d[x++]*D;if(E(z,0,V,0),L)for($=0;$<M;$++)j[U++]=V[$]*255;else k.getRgbItem(V,0,j,U),U+=M}R||k.getRgbBuffer(j,0,b,w,S,8,F)}getOutputLength(d,x){return this.base.getOutputLength(d*this.base.numComps/this.numComps,x)}}class PatternCS extends ColorSpace$1{constructor(d){super("Pattern",null),this.base=d}isDefaultDecode(d,x){unreachable("Should not call PatternCS.isDefaultDecode")}}class IndexedCS extends ColorSpace$1{constructor(d,x,b){super("Indexed",1),this.base=d,this.highVal=x;const w=d.numComps*x;if(this.lookup=new Uint8Array(w),b instanceof BaseStream){const S=b.getBytes(w);this.lookup.set(S)}else if(typeof b=="string")for(let S=0;S<w;++S)this.lookup[S]=b.charCodeAt(S)&255;else throw new FormatError(`IndexedCS - unrecognized lookup table: ${b}`)}getRgbItem(d,x,b,w){const S=this.base.numComps,C=d[x]*S;this.base.getRgbBuffer(this.lookup,C,1,b,w,8,0)}getRgbBuffer(d,x,b,w,S,C,F){const E=this.base,k=E.numComps,D=E.getOutputLength(k,F),M=this.lookup;for(let L=0;L<b;++L){const R=d[x++]*k;E.getRgbBuffer(M,R,1,w,S,8,F),S+=D}}getOutputLength(d,x){return this.base.getOutputLength(d*this.base.numComps,x)}isDefaultDecode(d,x){return Array.isArray(d)?d.length!==2?(warn("Decode map length is not correct"),!0):!Number.isInteger(x)||x<1?(warn("Bits per component is not correct"),!0):d[0]===0&&d[1]===(1<<x)-1:!0}}class DeviceGrayCS extends ColorSpace$1{constructor(){super("DeviceGray",1)}getRgbItem(d,x,b,w){const S=d[x]*255;b[w]=b[w+1]=b[w+2]=S}getRgbBuffer(d,x,b,w,S,C,F){const E=255/((1<<C)-1);let k=x,D=S;for(let M=0;M<b;++M){const L=E*d[k++];w[D++]=L,w[D++]=L,w[D++]=L,D+=F}}getOutputLength(d,x){return d*(3+x)}}class DeviceRgbCS extends ColorSpace$1{constructor(){super("DeviceRGB",3)}getRgbItem(d,x,b,w){b[w]=d[x]*255,b[w+1]=d[x+1]*255,b[w+2]=d[x+2]*255}getRgbBuffer(d,x,b,w,S,C,F){if(C===8&&F===0){w.set(d.subarray(x,x+b*3),S);return}const E=255/((1<<C)-1);let k=x,D=S;for(let M=0;M<b;++M)w[D++]=E*d[k++],w[D++]=E*d[k++],w[D++]=E*d[k++],D+=F}getOutputLength(d,x){return d*(3+x)/3|0}isPassthrough(d){return d===8}}class DeviceCmykCS extends ColorSpace$1{constructor(){super("DeviceCMYK",4)}#e(d,x,b,w,S){const C=d[x]*b,F=d[x+1]*b,E=d[x+2]*b,k=d[x+3]*b;w[S]=255+C*(-4.387332384609988*C+54.48615194189176*F+18.82290502165302*E+212.25662451639585*k+-285.2331026137004)+F*(1.7149763477362134*F-5.6096736904047315*E+-17.873870861415444*k-5.497006427196366)+E*(-2.5217340131683033*E-21.248923337353073*k+17.5119270841813)+k*(-21.86122147463605*k-189.48180835922747),w[S+1]=255+C*(8.841041422036149*C+60.118027045597366*F+6.871425592049007*E+31.159100130055922*k+-79.2970844816548)+F*(-15.310361306967817*F+17.575251261109482*E+131.35250912493976*k-190.9453302588951)+E*(4.444339102852739*E+9.8632861493405*k-24.86741582555878)+k*(-20.737325471181034*k-187.80453709719578),w[S+2]=255+C*(.8842522430003296*C+8.078677503112928*F+30.89978309703729*E-.23883238689178934*k+-14.183576799673286)+F*(10.49593273432072*F+63.02378494754052*E+50.606957656360734*k-112.23884253719248)+E*(.03296041114873217*E+115.60384449646641*k+-193.58209356861505)+k*(-22.33816807309886*k-180.12613974708367)}getRgbItem(d,x,b,w){this.#e(d,x,1,b,w)}getRgbBuffer(d,x,b,w,S,C,F){const E=1/((1<<C)-1);for(let k=0;k<b;k++)this.#e(d,x,E,w,S),x+=4,S+=3+F}getOutputLength(d,x){return d/4*(3+x)|0}}class CalGrayCS extends ColorSpace$1{constructor(d,x,b){if(super("CalGray",1),!d)throw new FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=d,[this.XB,this.YB,this.ZB]=x||[0,0,0],this.G=b||1,this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&(info(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&warn(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&(info(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}#e(d,x,b,w,S){const F=(d[x]*S)**this.G,E=this.YW*F,k=Math.max(295.8*E**.3333333333333333-40.8,0);b[w]=k,b[w+1]=k,b[w+2]=k}getRgbItem(d,x,b,w){this.#e(d,x,b,w,1)}getRgbBuffer(d,x,b,w,S,C,F){const E=1/((1<<C)-1);for(let k=0;k<b;++k)this.#e(d,x,w,S,E),x+=1,S+=3+F}getOutputLength(d,x){return d*(3+x)}}class CalRGBCS extends ColorSpace$1{static#e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]);static#t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]);static#n=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]);static#r=new Float32Array([1,1,1]);static#s=new Float32Array(3);static#i=new Float32Array(3);static#c=new Float32Array(3);static#l=(24/116)**3/8;constructor(d,x,b,w){if(super("CalRGB",3),!d)throw new FormatError("WhitePoint missing - required for color space CalRGB");const[S,C,F]=this.whitePoint=d,[E,k,D]=this.blackPoint=x||new Float32Array(3);if([this.GR,this.GG,this.GB]=b||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=w||new Float32Array([1,0,0,0,1,0,0,0,1]),S<0||F<0||C!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(E<0||k<0||D<0)&&(info(`Invalid BlackPoint for ${this.name} [${E}, ${k}, ${D}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&(info(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}#o(d,x,b){b[0]=d[0]*x[0]+d[1]*x[1]+d[2]*x[2],b[1]=d[3]*x[0]+d[4]*x[1]+d[5]*x[2],b[2]=d[6]*x[0]+d[7]*x[1]+d[8]*x[2]}#u(d,x,b){b[0]=x[0]*1/d[0],b[1]=x[1]*1/d[1],b[2]=x[2]*1/d[2]}#a(d,x,b){b[0]=x[0]*.95047/d[0],b[1]=x[1]*1/d[1],b[2]=x[2]*1.08883/d[2]}#f(d){return d<=.0031308?this.#h(0,1,12.92*d):d>=.99554525?1:this.#h(0,1,(1+.055)*d**(1/2.4)-.055)}#h(d,x,b){return Math.max(d,Math.min(x,b))}#g(d){return d<0?-this.#g(-d):d>8?((d+16)/116)**3:d*CalRGBCS.#l}#p(d,x,b){if(d[0]===0&&d[1]===0&&d[2]===0){b[0]=x[0],b[1]=x[1],b[2]=x[2];return}const w=this.#g(0),S=w,C=this.#g(d[0]),F=w,E=this.#g(d[1]),k=w,D=this.#g(d[2]),M=(1-S)/(1-C),L=1-M,R=(1-F)/(1-E),U=1-R,j=(1-k)/(1-D),H=1-j;b[0]=x[0]*M+L,b[1]=x[1]*R+U,b[2]=x[2]*j+H}#b(d,x,b){if(d[0]===1&&d[2]===1){b[0]=x[0],b[1]=x[1],b[2]=x[2];return}const w=b;this.#o(CalRGBCS.#e,x,w);const S=CalRGBCS.#s;this.#u(d,w,S),this.#o(CalRGBCS.#t,S,b)}#x(d,x,b){const w=b;this.#o(CalRGBCS.#e,x,w);const S=CalRGBCS.#s;this.#a(d,w,S),this.#o(CalRGBCS.#t,S,b)}#m(d,x,b,w,S){const C=this.#h(0,1,d[x]*S),F=this.#h(0,1,d[x+1]*S),E=this.#h(0,1,d[x+2]*S),k=C===1?1:C**this.GR,D=F===1?1:F**this.GG,M=E===1?1:E**this.GB,L=this.MXA*k+this.MXB*D+this.MXC*M,R=this.MYA*k+this.MYB*D+this.MYC*M,U=this.MZA*k+this.MZB*D+this.MZC*M,j=CalRGBCS.#i;j[0]=L,j[1]=R,j[2]=U;const H=CalRGBCS.#c;this.#b(this.whitePoint,j,H);const z=CalRGBCS.#i;this.#p(this.blackPoint,H,z);const V=CalRGBCS.#c;this.#x(CalRGBCS.#r,z,V);const G=CalRGBCS.#i;this.#o(CalRGBCS.#n,V,G),b[w]=this.#f(G[0])*255,b[w+1]=this.#f(G[1])*255,b[w+2]=this.#f(G[2])*255}getRgbItem(d,x,b,w){this.#m(d,x,b,w,1)}getRgbBuffer(d,x,b,w,S,C,F){const E=1/((1<<C)-1);for(let k=0;k<b;++k)this.#m(d,x,w,S,E),x+=3,S+=3+F}getOutputLength(d,x){return d*(3+x)/3|0}}class LabCS extends ColorSpace$1{constructor(d,x,b){if(super("Lab",3),!d)throw new FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=d,[this.amin,this.amax,this.bmin,this.bmax]=b||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=x||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&(info("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(info("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}#e(d){return d>=6/29?d**3:108/841*(d-4/29)}#t(d,x,b,w){return b+d*(w-b)/x}#n(d,x,b,w,S){let C=d[x],F=d[x+1],E=d[x+2];b!==!1&&(C=this.#t(C,b,0,100),F=this.#t(F,b,this.amin,this.amax),E=this.#t(E,b,this.bmin,this.bmax)),F>this.amax?F=this.amax:F<this.amin&&(F=this.amin),E>this.bmax?E=this.bmax:E<this.bmin&&(E=this.bmin);const k=(C+16)/116,D=k+F/500,M=k-E/200,L=this.XW*this.#e(D),R=this.YW*this.#e(k),U=this.ZW*this.#e(M);let j,H,z;this.ZW<1?(j=L*3.1339+R*-1.617+U*-.4906,H=L*-.9785+R*1.916+U*.0333,z=L*.072+R*-.229+U*1.4057):(j=L*3.2406+R*-1.5372+U*-.4986,H=L*-.9689+R*1.8758+U*.0415,z=L*.0557+R*-.204+U*1.057),w[S]=Math.sqrt(j)*255,w[S+1]=Math.sqrt(H)*255,w[S+2]=Math.sqrt(z)*255}getRgbItem(d,x,b,w){this.#n(d,x,!1,b,w)}getRgbBuffer(d,x,b,w,S,C,F){const E=(1<<C)-1;for(let k=0;k<b;k++)this.#n(d,x,E,w,S),x+=3,S+=3+F}getOutputLength(d,x){return d*(3+x)/3|0}isDefaultDecode(d,x){return!0}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!1)}}function hexToInt(g,d){let x=0;for(let b=0;b<=d;b++)x=x<<8|g[b];return x>>>0}function hexToStr(g,d){return d===1?String.fromCharCode(g[0],g[1]):d===3?String.fromCharCode(g[0],g[1],g[2],g[3]):String.fromCharCode(...g.subarray(0,d+1))}function addHex(g,d,x){let b=0;for(let w=x;w>=0;w--)b+=g[w]+d[w],g[w]=b&255,b>>=8}function incHex(g,d){let x=1;for(let b=d;b>=0&&x>0;b--)x+=g[b],g[b]=x&255,x>>=8}const MAX_NUM_SIZE=16,MAX_ENCODED_NUM_SIZE=19;class BinaryCMapStream{constructor(d){this.buffer=d,this.pos=0,this.end=d.length,this.tmpBuf=new Uint8Array(MAX_ENCODED_NUM_SIZE)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let d=0,x;do{const b=this.readByte();if(b<0)throw new FormatError("unexpected EOF in bcmap");x=!(b&128),d=d<<7|b&127}while(!x);return d}readSigned(){const d=this.readNumber();return d&1?~(d>>>1):d>>>1}readHex(d,x){d.set(this.buffer.subarray(this.pos,this.pos+x+1)),this.pos+=x+1}readHexNumber(d,x){let b;const w=this.tmpBuf;let S=0;do{const k=this.readByte();if(k<0)throw new FormatError("unexpected EOF in bcmap");b=!(k&128),w[S++]=k&127}while(!b);let C=x,F=0,E=0;for(;C>=0;){for(;E<8&&w.length>0;)F|=w[--S]<<E,E+=7;d[C]=F&255,C--,F>>=8,E-=8}}readHexSigned(d,x){this.readHexNumber(d,x);const b=d[x]&1?255:0;let w=0;for(let S=0;S<=x;S++)w=(w&1)<<8|d[S],d[S]=w>>1^b}readString(){const d=this.readNumber(),x=new Array(d);for(let b=0;b<d;b++)x[b]=this.readNumber();return String.fromCharCode(...x)}}class BinaryCMapReader{async process(d,x,b){const w=new BinaryCMapStream(d),S=w.readByte();x.vertical=!!(S&1);let C=null;const F=new Uint8Array(MAX_NUM_SIZE),E=new Uint8Array(MAX_NUM_SIZE),k=new Uint8Array(MAX_NUM_SIZE),D=new Uint8Array(MAX_NUM_SIZE),M=new Uint8Array(MAX_NUM_SIZE);let L,R;for(;(R=w.readByte())>=0;){const U=R>>5;if(U===7){switch(R&31){case 0:w.readString();break;case 1:C=w.readString();break}continue}const j=!!(R&16),H=R&15;if(H+1>MAX_NUM_SIZE)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const z=1,V=w.readNumber();switch(U){case 0:w.readHex(F,H),w.readHexNumber(E,H),addHex(E,F,H),x.addCodespaceRange(H+1,hexToInt(F,H),hexToInt(E,H));for(let G=1;G<V;G++)incHex(E,H),w.readHexNumber(F,H),addHex(F,E,H),w.readHexNumber(E,H),addHex(E,F,H),x.addCodespaceRange(H+1,hexToInt(F,H),hexToInt(E,H));break;case 1:w.readHex(F,H),w.readHexNumber(E,H),addHex(E,F,H),w.readNumber();for(let G=1;G<V;G++)incHex(E,H),w.readHexNumber(F,H),addHex(F,E,H),w.readHexNumber(E,H),addHex(E,F,H),w.readNumber();break;case 2:w.readHex(k,H),L=w.readNumber(),x.mapOne(hexToInt(k,H),L);for(let G=1;G<V;G++)incHex(k,H),j||(w.readHexNumber(M,H),addHex(k,M,H)),L=w.readSigned()+(L+1),x.mapOne(hexToInt(k,H),L);break;case 3:w.readHex(F,H),w.readHexNumber(E,H),addHex(E,F,H),L=w.readNumber(),x.mapCidRange(hexToInt(F,H),hexToInt(E,H),L);for(let G=1;G<V;G++)incHex(E,H),j?F.set(E):(w.readHexNumber(F,H),addHex(F,E,H)),w.readHexNumber(E,H),addHex(E,F,H),L=w.readNumber(),x.mapCidRange(hexToInt(F,H),hexToInt(E,H),L);break;case 4:w.readHex(k,z),w.readHex(D,H),x.mapOne(hexToInt(k,z),hexToStr(D,H));for(let G=1;G<V;G++)incHex(k,z),j||(w.readHexNumber(M,z),addHex(k,M,z)),incHex(D,H),w.readHexSigned(M,H),addHex(D,M,H),x.mapOne(hexToInt(k,z),hexToStr(D,H));break;case 5:w.readHex(F,z),w.readHexNumber(E,z),addHex(E,F,z),w.readHex(D,H),x.mapBfRange(hexToInt(F,z),hexToInt(E,z),hexToStr(D,H));for(let G=1;G<V;G++)incHex(E,z),j?F.set(E):(w.readHexNumber(F,z),addHex(F,E,z)),w.readHexNumber(E,z),addHex(E,F,z),w.readHex(D,H),x.mapBfRange(hexToInt(F,z),hexToInt(E,z),hexToStr(D,H));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${U}`)}}return C?b(C):x}}const emptyBuffer$1=new Uint8Array(0);let DecodeStream$1=class extends BaseStream{constructor(d){if(super(),this._rawMinBufferLength=d||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer$1,this.minBufferLength=512,d)for(;this.minBufferLength<d;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(d){const x=this.buffer;if(d<=x.byteLength)return x;let b=this.minBufferLength;for(;b<d;)b*=2;const w=new Uint8Array(b);return w.set(x),this.buffer=w}getByte(){const d=this.pos;for(;this.bufferLength<=d;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(d){const x=this.pos;let b;if(d){for(this.ensureBuffer(x+d),b=x+d;!this.eof&&this.bufferLength<b;)this.readBlock();const w=this.bufferLength;b>w&&(b=w)}else{for(;!this.eof;)this.readBlock();b=this.bufferLength}return this.pos=b,this.buffer.subarray(x,b)}reset(){this.pos=0}makeSubStream(d,x,b=null){if(x===void 0)for(;!this.eof;)this.readBlock();else{const w=d+x;for(;this.bufferLength<=w&&!this.eof;)this.readBlock()}return new Stream$1(this.buffer,d,x,b)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}};class StreamsSequenceStream extends DecodeStream$1{constructor(d,x=null){let b=0;for(const w of d)b+=w instanceof DecodeStream$1?w._rawMinBufferLength:w.length;super(b),this.streams=d,this._onError=x}readBlock(){const d=this.streams;if(d.length===0){this.eof=!0;return}const x=d.shift();let b;try{b=x.getBytes()}catch(F){if(this._onError){this._onError(F,x.dict?.objId);return}throw F}const w=this.bufferLength,S=w+b.length;this.ensureBuffer(S).set(b,w),this.bufferLength=S}getBaseStreams(){const d=[];for(const x of this.streams){const b=x.getBaseStreams();b&&d.push(...b)}return d.length>0?d:null}}let Ascii85Stream$1=class extends DecodeStream$1{constructor(d,x){x&&(x*=.8),super(x),this.str=d,this.dict=d.dict,this.input=new Uint8Array(5)}readBlock(){const w=this.str;let S=w.getByte();for(;isWhiteSpace(S);)S=w.getByte();if(S===-1||S===126){this.eof=!0;return}const C=this.bufferLength;let F,E;if(S===122){for(F=this.ensureBuffer(C+4),E=0;E<4;++E)F[C+E]=0;this.bufferLength+=4}else{const k=this.input;for(k[0]=S,E=1;E<5;++E){for(S=w.getByte();isWhiteSpace(S);)S=w.getByte();if(k[E]=S,S===-1||S===126)break}if(F=this.ensureBuffer(C+E-1),this.bufferLength+=E-1,E<5){for(;E<5;++E)k[E]=117;this.eof=!0}let D=0;for(E=0;E<5;++E)D=D*85+(k[E]-33);for(E=3;E>=0;--E)F[C+E]=D&255,D>>=8}}},AsciiHexStream$1=class extends DecodeStream$1{constructor(d,x){x&&(x*=.5),super(x),this.str=d,this.dict=d.dict,this.firstDigit=-1}readBlock(){const x=this.str.getBytes(8e3);if(!x.length){this.eof=!0;return}const b=x.length+1>>1,w=this.ensureBuffer(this.bufferLength+b);let S=this.bufferLength,C=this.firstDigit;for(const F of x){let E;if(F>=48&&F<=57)E=F&15;else if(F>=65&&F<=70||F>=97&&F<=102)E=(F&15)+9;else if(F===62){this.eof=!0;break}else continue;C<0?C=E:(w[S++]=C<<4|E,C=-1)}C>=0&&this.eof&&(w[S++]=C<<4,C=-1),this.firstDigit=C,this.bufferLength=S}};const ccittEOL=-2,ccittEOF=-1,twoDimPass=0,twoDimHoriz=1,twoDimVert0=2,twoDimVertR1=3,twoDimVertL1=4,twoDimVertR2=5,twoDimVertL2=6,twoDimVertR3=7,twoDimVertL3=8,twoDimTable=[[-1,-1],[-1,-1],[7,twoDimVertL3],[7,twoDimVertR3],[6,twoDimVertL2],[6,twoDimVertL2],[6,twoDimVertR2],[6,twoDimVertR2],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0]],whiteTable1=[[-1,-1],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],whiteTable2=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],blackTable1=[[-1,-1],[-1,-1],[12,ccittEOL],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],blackTable2=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],blackTable3=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class CCITTFaxDecoder{constructor(d,x={}){if(!d||typeof d.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=d,this.eof=!1,this.encoding=x.K||0,this.eoline=x.EndOfLine||!1,this.byteAlign=x.EncodedByteAlign||!1,this.columns=x.Columns||1728,this.rows=x.Rows||0,this.eoblock=x.EndOfBlock??!0,this.black=x.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let b;for(;(b=this._lookBits(12))===0;)this._eatBits(1);b===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const d=this.refLine,x=this.codingLine,b=this.columns;let w,S,C,F;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let k,D,M;if(this.nextLine2D){for(F=0;x[F]<b;++F)d[F]=x[F];for(d[F++]=b,d[F]=b,x[0]=0,this.codingPos=0,w=0,S=0;x[this.codingPos]<b;)switch(k=this._getTwoDimCode(),k){case twoDimPass:this._addPixels(d[w+1],S),d[w+1]<b&&(w+=2);break;case twoDimHoriz:if(k=D=0,S){do k+=M=this._getBlackCode();while(M>=64);do D+=M=this._getWhiteCode();while(M>=64)}else{do k+=M=this._getWhiteCode();while(M>=64);do D+=M=this._getBlackCode();while(M>=64)}for(this._addPixels(x[this.codingPos]+k,S),x[this.codingPos]<b&&this._addPixels(x[this.codingPos]+D,S^1);d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case twoDimVertR3:if(this._addPixels(d[w]+3,S),S^=1,x[this.codingPos]<b)for(++w;d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case twoDimVertR2:if(this._addPixels(d[w]+2,S),S^=1,x[this.codingPos]<b)for(++w;d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case twoDimVertR1:if(this._addPixels(d[w]+1,S),S^=1,x[this.codingPos]<b)for(++w;d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case twoDimVert0:if(this._addPixels(d[w],S),S^=1,x[this.codingPos]<b)for(++w;d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case twoDimVertL3:if(this._addPixelsNeg(d[w]-3,S),S^=1,x[this.codingPos]<b)for(w>0?--w:++w;d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case twoDimVertL2:if(this._addPixelsNeg(d[w]-2,S),S^=1,x[this.codingPos]<b)for(w>0?--w:++w;d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case twoDimVertL1:if(this._addPixelsNeg(d[w]-1,S),S^=1,x[this.codingPos]<b)for(w>0?--w:++w;d[w]<=x[this.codingPos]&&d[w]<b;)w+=2;break;case ccittEOF:this._addPixels(b,0),this.eof=!0;break;default:info("bad 2d code"),this._addPixels(b,0),this.err=!0}}else for(x[0]=0,this.codingPos=0,S=0;x[this.codingPos]<b;){if(k=0,S)do k+=M=this._getBlackCode();while(M>=64);else do k+=M=this._getWhiteCode();while(M>=64);this._addPixels(x[this.codingPos]+k,S),S^=1}let L=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(k=this._lookBits(12),this.eoline)for(;k!==ccittEOF&&k!==1;)this._eatBits(1),k=this._lookBits(12);else for(;k===0;)this._eatBits(1),k=this._lookBits(12);k===1?(this._eatBits(12),L=!0):k===ccittEOF&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&L&&this.byteAlign){if(k=this._lookBits(12),k===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(F=0;F<4;++F)k=this._lookBits(12),k!==1&&info("bad rtc code: "+k),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(k=this._lookBits(13),k===ccittEOF)return this.eof=!0,-1;if(k>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(k&1))}this.outputBits=x[0]>0?x[this.codingPos=0]:x[this.codingPos=1],this.row++}let E;if(this.outputBits>=8)E=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&x[this.codingPos]<b&&(this.codingPos++,this.outputBits=x[this.codingPos]-x[this.codingPos-1]);else{C=8,E=0;do{if(typeof this.outputBits!="number")throw new FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>C?(E<<=C,this.codingPos&1||(E|=255>>8-C),this.outputBits-=C,C=0):(E<<=this.outputBits,this.codingPos&1||(E|=255>>8-this.outputBits),C-=this.outputBits,this.outputBits=0,x[this.codingPos]<b?(this.codingPos++,this.outputBits=x[this.codingPos]-x[this.codingPos-1]):C>0&&(E<<=C,C=0))}while(C)}return this.black&&(E^=255),E}_addPixels(d,x){const b=this.codingLine;let w=this.codingPos;d>b[w]&&(d>this.columns&&(info("row is wrong length"),this.err=!0,d=this.columns),w&1^x&&++w,b[w]=d),this.codingPos=w}_addPixelsNeg(d,x){const b=this.codingLine;let w=this.codingPos;if(d>b[w])d>this.columns&&(info("row is wrong length"),this.err=!0,d=this.columns),w&1^x&&++w,b[w]=d;else if(d<b[w]){for(d<0&&(info("invalid code"),this.err=!0,d=0);w>0&&d<b[w-1];)--w;b[w]=d}this.codingPos=w}_findTableCode(d,x,b,w){const S=w||0;for(let C=d;C<=x;++C){let F=this._lookBits(C);if(F===ccittEOF)return[!0,1,!1];if(C<x&&(F<<=x-C),!S||F>=S){const E=b[F-S];if(E[0]===C)return this._eatBits(C),[!0,E[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let d=0,x;if(this.eoblock){if(d=this._lookBits(7),x=twoDimTable[d],x?.[0]>0)return this._eatBits(x[0]),x[1]}else{const b=this._findTableCode(1,7,twoDimTable);if(b[0]&&b[2])return b[1]}return info("Bad two dim code"),ccittEOF}_getWhiteCode(){let d=0,x;if(this.eoblock){if(d=this._lookBits(12),d===ccittEOF)return 1;if(x=d>>5?whiteTable2[d>>3]:whiteTable1[d],x[0]>0)return this._eatBits(x[0]),x[1]}else{let b=this._findTableCode(1,9,whiteTable2);if(b[0]||(b=this._findTableCode(11,12,whiteTable1),b[0]))return b[1]}return info("bad white code"),this._eatBits(1),1}_getBlackCode(){let d,x;if(this.eoblock){if(d=this._lookBits(13),d===ccittEOF)return 1;if(d>>7?!(d>>9)&&d>>7?x=blackTable2[(d>>1)-64]:x=blackTable3[d>>7]:x=blackTable1[d],x[0]>0)return this._eatBits(x[0]),x[1]}else{let b=this._findTableCode(2,6,blackTable3);if(b[0]||(b=this._findTableCode(7,12,blackTable2,64),b[0])||(b=this._findTableCode(10,13,blackTable1),b[0]))return b[1]}return info("bad black code"),this._eatBits(1),1}_lookBits(d){let x;for(;this.inputBits<d;){if((x=this.source.next())===-1)return this.inputBits===0?ccittEOF:this.inputBuf<<d-this.inputBits&65535>>16-d;this.inputBuf=this.inputBuf<<8|x,this.inputBits+=8}return this.inputBuf>>this.inputBits-d&65535>>16-d}_eatBits(d){(this.inputBits-=d)<0&&(this.inputBits=0)}}class CCITTFaxStream extends DecodeStream$1{constructor(d,x,b){super(x),this.str=d,this.dict=d.dict,b instanceof Dict||(b=Dict.empty);const w={next(){return d.getByte()}};this.ccittFaxDecoder=new CCITTFaxDecoder(w,{K:b.get("K"),EndOfLine:b.get("EndOfLine"),EncodedByteAlign:b.get("EncodedByteAlign"),Columns:b.get("Columns"),Rows:b.get("Rows"),EndOfBlock:b.get("EndOfBlock"),BlackIs1:b.get("BlackIs1")})}readBlock(){for(;!this.eof;){const d=this.ccittFaxDecoder.readNextChar();if(d===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=d}}}const codeLenCodeMap$1=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode$1=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode$1=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab$1=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab$1=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];let FlateStream$1=class extends DecodeStream$1{constructor(d,x){super(x),this.str=d,this.dict=d.dict;const b=d.getByte(),w=d.getByte();if(b===-1||w===-1)throw new FormatError(`Invalid header in flate stream: ${b}, ${w}`);if((b&15)!==8)throw new FormatError(`Unknown compression method in flate stream: ${b}, ${w}`);if(((b<<8)+w)%31!==0)throw new FormatError(`Bad FCHECK in flate stream: ${b}, ${w}`);if(w&32)throw new FormatError(`FDICT bit set in flate stream: ${b}, ${w}`);this.codeSize=0,this.codeBuf=0}getBits(d){const x=this.str;let b=this.codeSize,w=this.codeBuf,S;for(;b<d;){if((S=x.getByte())===-1)throw new FormatError("Bad encoding in flate stream");w|=S<<b,b+=8}return S=w&(1<<d)-1,this.codeBuf=w>>d,this.codeSize=b-=d,S}getCode(d){const x=this.str,b=d[0],w=d[1];let S=this.codeSize,C=this.codeBuf,F;for(;S<w&&(F=x.getByte())!==-1;)C|=F<<S,S+=8;const E=b[C&(1<<w)-1],k=E>>16,D=E&65535;if(k<1||S<k)throw new FormatError("Bad encoding in flate stream");return this.codeBuf=C>>k,this.codeSize=S-k,D}generateHuffmanTable(d){const x=d.length;let b=0,w;for(w=0;w<x;++w)d[w]>b&&(b=d[w]);const S=1<<b,C=new Int32Array(S);for(let F=1,E=0,k=2;F<=b;++F,E<<=1,k<<=1)for(let D=0;D<x;++D)if(d[D]===F){let M=0,L=E;for(w=0;w<F;++w)M=M<<1|L&1,L>>=1;for(w=M;w<S;w+=k)C[w]=F<<16|D;++E}return[C,b]}readBlock(){let d,x;const b=this.str;let w=this.getBits(3);if(w&1&&(this.eof=!0),w>>=1,w===0){let k;if((k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");let D=k;if((k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");if(D|=k<<8,(k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");let M=k;if((k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");if(M|=k<<8,M!==(~D&65535)&&(D!==0||M!==0))throw new FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const L=this.bufferLength,R=L+D;if(d=this.ensureBuffer(R),this.bufferLength=R,D===0)b.peekByte()===-1&&(this.eof=!0);else{const U=b.getBytes(D);d.set(U,L),U.length<D&&(this.eof=!0)}return}let S,C;if(w===1)S=fixedLitCodeTab$1,C=fixedDistCodeTab$1;else if(w===2){const k=this.getBits(5)+257,D=this.getBits(5)+1,M=this.getBits(4)+4,L=new Uint8Array(codeLenCodeMap$1.length);let R;for(R=0;R<M;++R)L[codeLenCodeMap$1[R]]=this.getBits(3);const U=this.generateHuffmanTable(L);x=0,R=0;const j=k+D,H=new Uint8Array(j);let z,V,G;for(;R<j;){const $=this.getCode(U);if($===16)z=2,V=3,G=x;else if($===17)z=3,V=3,G=x=0;else if($===18)z=7,V=11,G=x=0;else{H[R++]=x=$;continue}let K=this.getBits(z)+V;for(;K-- >0;)H[R++]=G}S=this.generateHuffmanTable(H.subarray(0,k)),C=this.generateHuffmanTable(H.subarray(k,j))}else throw new FormatError("Unknown block type in flate stream");d=this.buffer;let F=d?d.length:0,E=this.bufferLength;for(;;){let k=this.getCode(S);if(k<256){E+1>=F&&(d=this.ensureBuffer(E+1),F=d.length),d[E++]=k;continue}if(k===256){this.bufferLength=E;return}k-=257,k=lengthDecode$1[k];let D=k>>16;D>0&&(D=this.getBits(D)),x=(k&65535)+D,k=this.getCode(C),k=distDecode$1[k],D=k>>16,D>0&&(D=this.getBits(D));const M=(k&65535)+D;E+x>=F&&(d=this.ensureBuffer(E+x),F=d.length);for(let L=0;L<x;++L,++E)d[E]=d[E-M]}}};const QeTable=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class ArithmeticDecoder{constructor(d,x,b){this.data=d,this.bp=x,this.dataEnd=b,this.chigh=d[x],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const d=this.data;let x=this.bp;d[x]===255?d[x+1]>143?(this.clow+=65280,this.ct=8):(x++,this.clow+=d[x]<<9,this.ct=7,this.bp=x):(x++,this.clow+=x<this.dataEnd?d[x]<<8:65280,this.ct=8,this.bp=x),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(d,x){let b=d[x]>>1,w=d[x]&1;const S=QeTable[b],C=S.qe;let F,E=this.a-C;if(this.chigh<C)E<C?(E=C,F=w,b=S.nmps):(E=C,F=1^w,S.switchFlag===1&&(w=F),b=S.nlps);else{if(this.chigh-=C,E&32768)return this.a=E,w;E<C?(F=1^w,S.switchFlag===1&&(w=F),b=S.nlps):(F=w,b=S.nmps)}do this.ct===0&&this.byteIn(),E<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(E&32768));return this.a=E,d[x]=b<<1|w,F}}class Jbig2Error extends BaseException{constructor(d){super(`JBIG2 error: ${d}`,"Jbig2Error")}}class ContextCache{getContexts(d){return d in this?this[d]:this[d]=new Int8Array(65536)}}class DecodingContext{constructor(d,x,b){this.data=d,this.start=x,this.end=b}get decoder(){const d=new ArithmeticDecoder(this.data,this.start,this.end);return shadow(this,"decoder",d)}get contextCache(){const d=new ContextCache;return shadow(this,"contextCache",d)}}const MAX_INT_32=2**31-1,MIN_INT_32=-(2**31);function decodeInteger(g,d,x){const b=g.getContexts(d);let w=1;function S(k){let D=0;for(let M=0;M<k;M++){const L=x.readBit(b,w);w=w<256?w<<1|L:(w<<1|L)&511|256,D=D<<1|L}return D>>>0}const C=S(1),F=S(1)?S(1)?S(1)?S(1)?S(1)?S(32)+4436:S(12)+340:S(8)+84:S(6)+20:S(4)+4:S(2);let E;return C===0?E=F:F>0&&(E=-F),E>=MIN_INT_32&&E<=MAX_INT_32?E:null}function decodeIAID(g,d,x){const b=g.getContexts("IAID");let w=1;for(let S=0;S<x;S++){const C=d.readBit(b,w);w=w<<1|C}return x<31?w&(1<<x)-1:w&2147483647}const SegmentTypes=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],CodingTemplates=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],RefinementTemplates=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],ReusedContexts=[39717,1941,229,405],RefinementReusedContexts=[32,8];function decodeBitmapTemplate0(g,d,x){const b=x.decoder,w=x.contextCache.getContexts("GB"),S=[];let C,F,E,k,D,M,L;const R=31735;for(F=0;F<d;F++)for(D=S[F]=new Uint8Array(g),M=F<1?D:S[F-1],L=F<2?D:S[F-2],C=L[0]<<13|L[1]<<12|L[2]<<11|M[0]<<7|M[1]<<6|M[2]<<5|M[3]<<4,E=0;E<g;E++)D[E]=k=b.readBit(w,C),C=(C&R)<<1|(E+3<g?L[E+3]<<11:0)|(E+4<g?M[E+4]<<4:0)|k;return S}function decodeBitmap(g,d,x,b,w,S,C,F){if(g){const Ue=new Reader(F.data,F.start,F.end);return decodeMMRBitmap(Ue,d,x,!1)}if(b===0&&!S&&!w&&C.length===4&&C[0].x===3&&C[0].y===-1&&C[1].x===-3&&C[1].y===-1&&C[2].x===2&&C[2].y===-2&&C[3].x===-2&&C[3].y===-2)return decodeBitmapTemplate0(d,x,F);const E=!!S,k=CodingTemplates[b].concat(C);k.sort(function(Ue,De){return Ue.y-De.y||Ue.x-De.x});const D=k.length,M=new Int8Array(D),L=new Int8Array(D),R=[];let U=0,j=0,H=0,z=0,V,G;for(G=0;G<D;G++)M[G]=k[G].x,L[G]=k[G].y,j=Math.min(j,k[G].x),H=Math.max(H,k[G].x),z=Math.min(z,k[G].y),G<D-1&&k[G].y===k[G+1].y&&k[G].x===k[G+1].x-1?U|=1<<D-1-G:R.push(G);const $=R.length,K=new Int8Array($),Z=new Int8Array($),Q=new Uint16Array($);for(V=0;V<$;V++)G=R[V],K[V]=k[G].x,Z[V]=k[G].y,Q[V]=1<<D-1-G;const ne=-j,le=-z,fe=d-H,be=ReusedContexts[b];let me=new Uint8Array(d);const we=[],oe=F.decoder,ge=F.contextCache.getContexts("GB");let Ae=0,Ce,Ne,Oe,Be=0,Ie,Ee;for(let Ue=0;Ue<x;Ue++){if(w){const De=oe.readBit(ge,be);if(Ae^=De,Ae){we.push(me);continue}}for(me=new Uint8Array(me),we.push(me),Ce=0;Ce<d;Ce++){if(E&&S[Ue][Ce]){me[Ce]=0;continue}if(Ce>=ne&&Ce<fe&&Ue>=le)for(Be=Be<<1&U,G=0;G<$;G++)Ne=Ue+Z[G],Oe=Ce+K[G],Ie=we[Ne][Oe],Ie&&(Ie=Q[G],Be|=Ie);else for(Be=0,Ee=D-1,G=0;G<D;G++,Ee--)Oe=Ce+M[G],Oe>=0&&Oe<d&&(Ne=Ue+L[G],Ne>=0&&(Ie=we[Ne][Oe],Ie&&(Be|=Ie<<Ee)));const De=oe.readBit(ge,Be);me[Ce]=De}}return we}function decodeRefinement(g,d,x,b,w,S,C,F,E){let k=RefinementTemplates[x].coding;x===0&&(k=k.concat([F[0]]));const D=k.length,M=new Int32Array(D),L=new Int32Array(D);let R;for(R=0;R<D;R++)M[R]=k[R].x,L[R]=k[R].y;let U=RefinementTemplates[x].reference;x===0&&(U=U.concat([F[1]]));const j=U.length,H=new Int32Array(j),z=new Int32Array(j);for(R=0;R<j;R++)H[R]=U[R].x,z[R]=U[R].y;const V=b[0].length,G=b.length,$=RefinementReusedContexts[x],K=[],Z=E.decoder,Q=E.contextCache.getContexts("GR");let ne=0;for(let le=0;le<d;le++){if(C){const be=Z.readBit(Q,$);if(ne^=be,ne)throw new Jbig2Error("prediction is not supported")}const fe=new Uint8Array(g);K.push(fe);for(let be=0;be<g;be++){let me,we,oe=0;for(R=0;R<D;R++)me=le+L[R],we=be+M[R],me<0||we<0||we>=g?oe<<=1:oe=oe<<1|K[me][we];for(R=0;R<j;R++)me=le+z[R]-S,we=be+H[R]-w,me<0||me>=G||we<0||we>=V?oe<<=1:oe=oe<<1|b[me][we];const ge=Z.readBit(Q,oe);fe[be]=ge}}return K}function decodeSymbolDictionary(g,d,x,b,w,S,C,F,E,k,D,M){if(g&&d)throw new Jbig2Error("symbol refinement with Huffman is not supported");const L=[];let R=0,U=log2(x.length+b);const j=D.decoder,H=D.contextCache;let z,V;for(g&&(z=getStandardTable(1),V=[],U=Math.max(U,1));L.length<b;){const le=g?S.tableDeltaHeight.decode(M):decodeInteger(H,"IADH",j);R+=le;let fe=0,be=0;const me=g?V.length:0;for(;;){const we=g?S.tableDeltaWidth.decode(M):decodeInteger(H,"IADW",j);if(we===null)break;fe+=we,be+=fe;let oe;if(d){const ge=decodeInteger(H,"IAAI",j);if(ge>1)oe=decodeTextRegion(g,d,fe,R,0,ge,1,x.concat(L),U,0,0,1,0,S,E,k,D,0,M);else{const Ae=decodeIAID(H,j,U),Ce=decodeInteger(H,"IARDX",j),Ne=decodeInteger(H,"IARDY",j),Oe=Ae<x.length?x[Ae]:L[Ae-x.length];oe=decodeRefinement(fe,R,E,Oe,Ce,Ne,!1,k,D)}L.push(oe)}else g?V.push(fe):(oe=decodeBitmap(!1,fe,R,C,!1,null,F,D),L.push(oe))}if(g&&!d){const we=S.tableBitmapSize.decode(M);M.byteAlign();let oe;if(we===0)oe=readUncompressedBitmap(M,be,R);else{const Ae=M.end,Ce=M.position+we;M.end=Ce,oe=decodeMMRBitmap(M,be,R,!1),M.end=Ae,M.position=Ce}const ge=V.length;if(me===ge-1)L.push(oe);else{let Ae,Ce,Ne=0,Oe,Be,Ie;for(Ae=me;Ae<ge;Ae++){for(Be=V[Ae],Oe=Ne+Be,Ie=[],Ce=0;Ce<R;Ce++)Ie.push(oe[Ce].subarray(Ne,Oe));L.push(Ie),Ne=Oe}}}}const G=[],$=[];let K=!1,Z,Q;const ne=x.length+b;for(;$.length<ne;){let le=g?z.decode(M):decodeInteger(H,"IAEX",j);for(;le--;)$.push(K);K=!K}for(Z=0,Q=x.length;Z<Q;Z++)$[Z]&&G.push(x[Z]);for(let le=0;le<b;Z++,le++)$[Z]&&G.push(L[le]);return G}function decodeTextRegion(g,d,x,b,w,S,C,F,E,k,D,M,L,R,U,j,H,z,V){if(g&&d)throw new Jbig2Error("refinement with Huffman is not supported");const G=[];let $,K;for($=0;$<b;$++){if(K=new Uint8Array(x),w)for(let fe=0;fe<x;fe++)K[fe]=w;G.push(K)}const Z=H.decoder,Q=H.contextCache;let ne=g?-R.tableDeltaT.decode(V):-decodeInteger(Q,"IADT",Z),le=0;for($=0;$<S;){const fe=g?R.tableDeltaT.decode(V):decodeInteger(Q,"IADT",Z);ne+=fe;const be=g?R.tableFirstS.decode(V):decodeInteger(Q,"IAFS",Z);le+=be;let me=le;do{let we=0;C>1&&(we=g?V.readBits(z):decodeInteger(Q,"IAIT",Z));const oe=C*ne+we,ge=g?R.symbolIDTable.decode(V):decodeIAID(Q,Z,E),Ae=d&&(g?V.readBit():decodeInteger(Q,"IARI",Z));let Ce=F[ge],Ne=Ce[0].length,Oe=Ce.length;if(Ae){const Pe=decodeInteger(Q,"IARDW",Z),re=decodeInteger(Q,"IARDH",Z),ae=decodeInteger(Q,"IARDX",Z),Y=decodeInteger(Q,"IARDY",Z);Ne+=Pe,Oe+=re,Ce=decodeRefinement(Ne,Oe,U,Ce,(Pe>>1)+ae,(re>>1)+Y,!1,j,H)}const Be=oe-(M&1?0:Oe-1),Ie=me-(M&2?Ne-1:0);let Ee,Ue,De;if(k){for(Ee=0;Ee<Oe;Ee++){if(K=G[Ie+Ee],!K)continue;De=Ce[Ee];const Pe=Math.min(x-Be,Ne);switch(L){case 0:for(Ue=0;Ue<Pe;Ue++)K[Be+Ue]|=De[Ue];break;case 2:for(Ue=0;Ue<Pe;Ue++)K[Be+Ue]^=De[Ue];break;default:throw new Jbig2Error(`operator ${L} is not supported`)}}me+=Oe-1}else{for(Ue=0;Ue<Oe;Ue++)if(K=G[Be+Ue],!!K)switch(De=Ce[Ue],L){case 0:for(Ee=0;Ee<Ne;Ee++)K[Ie+Ee]|=De[Ee];break;case 2:for(Ee=0;Ee<Ne;Ee++)K[Ie+Ee]^=De[Ee];break;default:throw new Jbig2Error(`operator ${L} is not supported`)}me+=Ne-1}$++;const _e=g?R.tableDeltaS.decode(V):decodeInteger(Q,"IADS",Z);if(_e===null)break;me+=_e+D}while(!0)}return G}function decodePatternDictionary(g,d,x,b,w,S){const C=[];g||(C.push({x:-d,y:0}),w===0&&C.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const F=(b+1)*d,E=decodeBitmap(g,F,x,w,!1,null,C,S),k=[];for(let D=0;D<=b;D++){const M=[],L=d*D,R=L+d;for(let U=0;U<x;U++)M.push(E[U].subarray(L,R));k.push(M)}return k}function decodeHalftoneRegion(g,d,x,b,w,S,C,F,E,k,D,M,L,R,U){if(C)throw new Jbig2Error("skip is not supported");if(F!==0)throw new Jbig2Error(`operator "${F}" is not supported in halftone region`);const H=[];let z,V,G;for(z=0;z<w;z++){if(G=new Uint8Array(b),S)for(V=0;V<b;V++)G[V]=S;H.push(G)}const $=d.length,K=d[0],Z=K[0].length,Q=K.length,ne=log2($),le=[];g||(le.push({x:x<=1?3:2,y:-1}),x===0&&le.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const fe=[];let be,me;for(g&&(be=new Reader(U.data,U.start,U.end)),z=ne-1;z>=0;z--)g?me=decodeMMRBitmap(be,E,k,!0):me=decodeBitmap(!1,E,k,x,!1,null,le,U),fe[z]=me;let we,oe,ge,Ae,Ce,Ne,Oe,Be,Ie;for(we=0;we<k;we++)for(oe=0;oe<E;oe++){for(ge=0,Ae=0,V=ne-1;V>=0;V--)ge^=fe[V][we][oe],Ae|=ge<<V;if(Ce=d[Ae],Ne=D+we*R+oe*L>>8,Oe=M+we*L-oe*R>>8,Ne>=0&&Ne+Z<=b&&Oe>=0&&Oe+Q<=w)for(z=0;z<Q;z++)for(Ie=H[Oe+z],Be=Ce[z],V=0;V<Z;V++)Ie[Ne+V]|=Be[V];else{let Ee,Ue;for(z=0;z<Q;z++)if(Ue=Oe+z,!(Ue<0||Ue>=w))for(Ie=H[Ue],Be=Ce[z],V=0;V<Z;V++)Ee=Ne+V,Ee>=0&&Ee<b&&(Ie[Ee]|=Be[V])}}return H}function readSegmentHeader(g,d){const x={};x.number=readUint32(g,d);const b=g[d+4],w=b&63;if(!SegmentTypes[w])throw new Jbig2Error("invalid segment type: "+w);x.type=w,x.typeName=SegmentTypes[w],x.deferredNonRetain=!!(b&128);const S=!!(b&64),C=g[d+5];let F=C>>5&7;const E=[C&31];let k=d+6;if(C===7){F=readUint32(g,k-1)&536870911,k+=3;let U=F+7>>3;for(E[0]=g[k++];--U>0;)E.push(g[k++])}else if(C===5||C===6)throw new Jbig2Error("invalid referred-to flags");x.retainBits=E;let D=4;x.number<=256?D=1:x.number<=65536&&(D=2);const M=[];let L,R;for(L=0;L<F;L++){let U;D===1?U=g[k]:D===2?U=readUint16(g,k):U=readUint32(g,k),M.push(U),k+=D}if(x.referredTo=M,S?(x.pageAssociation=readUint32(g,k),k+=4):x.pageAssociation=g[k++],x.length=readUint32(g,k),k+=4,x.length===4294967295)if(w===38){const U=readRegionSegmentInformation(g,k),H=!!(g[k+RegionSegmentInformationFieldLength]&1),z=6,V=new Uint8Array(z);for(H||(V[0]=255,V[1]=172),V[2]=U.height>>>24&255,V[3]=U.height>>16&255,V[4]=U.height>>8&255,V[5]=U.height&255,L=k,R=g.length;L<R;L++){let G=0;for(;G<z&&V[G]===g[L+G];)G++;if(G===z){x.length=L+z;break}}if(x.length===4294967295)throw new Jbig2Error("segment end was not found")}else throw new Jbig2Error("invalid unknown segment length");return x.headerEnd=k,x}function readSegments(g,d,x,b){const w=[];let S=x;for(;S<b;){const C=readSegmentHeader(d,S);S=C.headerEnd;const F={header:C,data:d};if(g.randomAccess||(F.start=S,S+=C.length,F.end=S),w.push(F),C.type===51)break}if(g.randomAccess)for(let C=0,F=w.length;C<F;C++)w[C].start=S,S+=w[C].header.length,w[C].end=S;return w}function readRegionSegmentInformation(g,d){return{width:readUint32(g,d),height:readUint32(g,d+4),x:readUint32(g,d+8),y:readUint32(g,d+12),combinationOperator:g[d+16]&7}}const RegionSegmentInformationFieldLength=17;function processSegment(g,d){const x=g.header,b=g.data,w=g.end;let S=g.start,C,F,E,k;switch(x.type){case 0:const M={},L=readUint16(b,S);if(M.huffman=!!(L&1),M.refinement=!!(L&2),M.huffmanDHSelector=L>>2&3,M.huffmanDWSelector=L>>4&3,M.bitmapSizeSelector=L>>6&1,M.aggregationInstancesSelector=L>>7&1,M.bitmapCodingContextUsed=!!(L&256),M.bitmapCodingContextRetained=!!(L&512),M.template=L>>10&3,M.refinementTemplate=L>>12&1,S+=2,!M.huffman){for(k=M.template===0?4:1,F=[],E=0;E<k;E++)F.push({x:readInt8(b,S),y:readInt8(b,S+1)}),S+=2;M.at=F}if(M.refinement&&!M.refinementTemplate){for(F=[],E=0;E<2;E++)F.push({x:readInt8(b,S),y:readInt8(b,S+1)}),S+=2;M.refinementAt=F}M.numberOfExportedSymbols=readUint32(b,S),S+=4,M.numberOfNewSymbols=readUint32(b,S),S+=4,C=[M,x.number,x.referredTo,b,S,w];break;case 6:case 7:const R={};R.info=readRegionSegmentInformation(b,S),S+=RegionSegmentInformationFieldLength;const U=readUint16(b,S);if(S+=2,R.huffman=!!(U&1),R.refinement=!!(U&2),R.logStripSize=U>>2&3,R.stripSize=1<<R.logStripSize,R.referenceCorner=U>>4&3,R.transposed=!!(U&64),R.combinationOperator=U>>7&3,R.defaultPixelValue=U>>9&1,R.dsOffset=U<<17>>27,R.refinementTemplate=U>>15&1,R.huffman){const Q=readUint16(b,S);S+=2,R.huffmanFS=Q&3,R.huffmanDS=Q>>2&3,R.huffmanDT=Q>>4&3,R.huffmanRefinementDW=Q>>6&3,R.huffmanRefinementDH=Q>>8&3,R.huffmanRefinementDX=Q>>10&3,R.huffmanRefinementDY=Q>>12&3,R.huffmanRefinementSizeSelector=!!(Q&16384)}if(R.refinement&&!R.refinementTemplate){for(F=[],E=0;E<2;E++)F.push({x:readInt8(b,S),y:readInt8(b,S+1)}),S+=2;R.refinementAt=F}R.numberOfSymbolInstances=readUint32(b,S),S+=4,C=[R,x.referredTo,b,S,w];break;case 16:const j={},H=b[S++];j.mmr=!!(H&1),j.template=H>>1&3,j.patternWidth=b[S++],j.patternHeight=b[S++],j.maxPatternIndex=readUint32(b,S),S+=4,C=[j,x.number,b,S,w];break;case 22:case 23:const z={};z.info=readRegionSegmentInformation(b,S),S+=RegionSegmentInformationFieldLength;const V=b[S++];z.mmr=!!(V&1),z.template=V>>1&3,z.enableSkip=!!(V&8),z.combinationOperator=V>>4&7,z.defaultPixelValue=V>>7&1,z.gridWidth=readUint32(b,S),S+=4,z.gridHeight=readUint32(b,S),S+=4,z.gridOffsetX=readUint32(b,S)&4294967295,S+=4,z.gridOffsetY=readUint32(b,S)&4294967295,S+=4,z.gridVectorX=readUint16(b,S),S+=2,z.gridVectorY=readUint16(b,S),S+=2,C=[z,x.referredTo,b,S,w];break;case 38:case 39:const G={};G.info=readRegionSegmentInformation(b,S),S+=RegionSegmentInformationFieldLength;const $=b[S++];if(G.mmr=!!($&1),G.template=$>>1&3,G.prediction=!!($&8),!G.mmr){for(k=G.template===0?4:1,F=[],E=0;E<k;E++)F.push({x:readInt8(b,S),y:readInt8(b,S+1)}),S+=2;G.at=F}C=[G,b,S,w];break;case 48:const K={width:readUint32(b,S),height:readUint32(b,S+4),resolutionX:readUint32(b,S+8),resolutionY:readUint32(b,S+12)};K.height===4294967295&&delete K.height;const Z=b[S+16];readUint16(b,S+17),K.lossless=!!(Z&1),K.refinement=!!(Z&2),K.defaultPixelValue=Z>>2&1,K.combinationOperator=Z>>3&3,K.requiresBuffer=!!(Z&32),K.combinationOperatorOverride=!!(Z&64),C=[K];break;case 49:break;case 50:break;case 51:break;case 53:C=[x.number,b,S,w];break;case 62:break;default:throw new Jbig2Error(`segment type ${x.typeName}(${x.type}) is not implemented`)}const D="on"+x.typeName;D in d&&d[D].apply(d,C)}function processSegments(g,d){for(let x=0,b=g.length;x<b;x++)processSegment(g[x],d)}function parseJbig2Chunks(g){const d=new SimpleSegmentVisitor;for(let x=0,b=g.length;x<b;x++){const w=g[x],S=readSegments({},w.data,w.start,w.end);processSegments(S,d)}return d.buffer}class SimpleSegmentVisitor{onPageInformation(d){this.currentPageInfo=d;const x=d.width+7>>3,b=new Uint8ClampedArray(x*d.height);d.defaultPixelValue&&b.fill(255),this.buffer=b}drawBitmap(d,x){const b=this.currentPageInfo,w=d.width,S=d.height,C=b.width+7>>3,F=b.combinationOperatorOverride?d.combinationOperator:b.combinationOperator,E=this.buffer,k=128>>(d.x&7);let D=d.y*C+(d.x>>3),M,L,R,U;switch(F){case 0:for(M=0;M<S;M++){for(R=k,U=D,L=0;L<w;L++)x[M][L]&&(E[U]|=R),R>>=1,R||(R=128,U++);D+=C}break;case 2:for(M=0;M<S;M++){for(R=k,U=D,L=0;L<w;L++)x[M][L]&&(E[U]^=R),R>>=1,R||(R=128,U++);D+=C}break;default:throw new Jbig2Error(`operator ${F} is not supported`)}}onImmediateGenericRegion(d,x,b,w){const S=d.info,C=new DecodingContext(x,b,w),F=decodeBitmap(d.mmr,S.width,S.height,d.template,d.prediction,null,d.at,C);this.drawBitmap(S,F)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(d,x,b,w,S,C){let F,E;d.huffman&&(F=getSymbolDictionaryHuffmanTables(d,b,this.customTables),E=new Reader(w,S,C));let k=this.symbols;k||(this.symbols=k={});const D=[];for(const L of b){const R=k[L];R&&D.push(...R)}const M=new DecodingContext(w,S,C);k[x]=decodeSymbolDictionary(d.huffman,d.refinement,D,d.numberOfNewSymbols,d.numberOfExportedSymbols,F,d.template,d.at,d.refinementTemplate,d.refinementAt,M,E)}onImmediateTextRegion(d,x,b,w,S){const C=d.info;let F,E;const k=this.symbols,D=[];for(const U of x){const j=k[U];j&&D.push(...j)}const M=log2(D.length);d.huffman&&(E=new Reader(b,w,S),F=getTextRegionHuffmanTables(d,x,this.customTables,D.length,E));const L=new DecodingContext(b,w,S),R=decodeTextRegion(d.huffman,d.refinement,C.width,C.height,d.defaultPixelValue,d.numberOfSymbolInstances,d.stripSize,D,M,d.transposed,d.dsOffset,d.referenceCorner,d.combinationOperator,F,d.refinementTemplate,d.refinementAt,L,d.logStripSize,E);this.drawBitmap(C,R)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(d,x,b,w,S){let C=this.patterns;C||(this.patterns=C={});const F=new DecodingContext(b,w,S);C[x]=decodePatternDictionary(d.mmr,d.patternWidth,d.patternHeight,d.maxPatternIndex,d.template,F)}onImmediateHalftoneRegion(d,x,b,w,S){const C=this.patterns[x[0]],F=d.info,E=new DecodingContext(b,w,S),k=decodeHalftoneRegion(d.mmr,C,d.template,F.width,F.height,d.defaultPixelValue,d.enableSkip,d.combinationOperator,d.gridWidth,d.gridHeight,d.gridOffsetX,d.gridOffsetY,d.gridVectorX,d.gridVectorY,E);this.drawBitmap(F,k)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(d,x,b,w){let S=this.customTables;S||(this.customTables=S={}),S[d]=decodeTablesSegment(x,b,w)}}class HuffmanLine{constructor(d){d.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=d[0],this.rangeLength=0,this.prefixCode=d[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=d[0],this.prefixLength=d[1],this.rangeLength=d[2],this.prefixCode=d[3],this.isLowerRange=d[4]==="lower")}}class HuffmanTreeNode{constructor(d){this.children=[],d?(this.isLeaf=!0,this.rangeLength=d.rangeLength,this.rangeLow=d.rangeLow,this.isLowerRange=d.isLowerRange,this.isOOB=d.isOOB):this.isLeaf=!1}buildTree(d,x){const b=d.prefixCode>>x&1;if(x<=0)this.children[b]=new HuffmanTreeNode(d);else{let w=this.children[b];w||(this.children[b]=w=new HuffmanTreeNode(null)),w.buildTree(d,x-1)}}decodeNode(d){if(this.isLeaf){if(this.isOOB)return null;const b=d.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-b:b)}const x=this.children[d.readBit()];if(!x)throw new Jbig2Error("invalid Huffman data");return x.decodeNode(d)}}class HuffmanTable{constructor(d,x){x||this.assignPrefixCodes(d),this.rootNode=new HuffmanTreeNode(null);for(let b=0,w=d.length;b<w;b++){const S=d[b];S.prefixLength>0&&this.rootNode.buildTree(S,S.prefixLength-1)}}decode(d){return this.rootNode.decodeNode(d)}assignPrefixCodes(d){const x=d.length;let b=0;for(let D=0;D<x;D++)b=Math.max(b,d[D].prefixLength);const w=new Uint32Array(b+1);for(let D=0;D<x;D++)w[d[D].prefixLength]++;let S=1,C=0,F,E,k;for(w[0]=0;S<=b;){for(C=C+w[S-1]<<1,F=C,E=0;E<x;)k=d[E],k.prefixLength===S&&(k.prefixCode=F,F++),E++;S++}}}function decodeTablesSegment(g,d,x){const b=g[d],w=readUint32(g,d+1)&4294967295,S=readUint32(g,d+5)&4294967295,C=new Reader(g,d+9,x),F=(b>>1&7)+1,E=(b>>4&7)+1,k=[];let D,M,L=w;do D=C.readBits(F),M=C.readBits(E),k.push(new HuffmanLine([L,D,M,0])),L+=1<<M;while(L<S);return D=C.readBits(F),k.push(new HuffmanLine([w-1,D,32,0,"lower"])),D=C.readBits(F),k.push(new HuffmanLine([S,D,32,0])),b&1&&(D=C.readBits(F),k.push(new HuffmanLine([D,0]))),new HuffmanTable(k,!1)}const standardTablesCache={};function getStandardTable(g){let d=standardTablesCache[g];if(d)return d;let x;switch(g){case 1:x=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:x=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:x=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:x=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:x=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:x=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:x=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:x=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:x=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:x=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:x=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:x=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:x=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:x=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:x=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new Jbig2Error(`standard table B.${g} does not exist`)}for(let b=0,w=x.length;b<w;b++)x[b]=new HuffmanLine(x[b]);return d=new HuffmanTable(x,!0),standardTablesCache[g]=d,d}class Reader{constructor(d,x,b){this.data=d,this.start=x,this.end=b,this.position=x,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new Jbig2Error("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const d=this.currentByte>>this.shift&1;return this.shift--,d}readBits(d){let x=0,b;for(b=d-1;b>=0;b--)x|=this.readBit()<<b;return x}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function getCustomHuffmanTable(g,d,x){let b=0;for(let w=0,S=d.length;w<S;w++){const C=x[d[w]];if(C){if(g===b)return C;b++}}throw new Jbig2Error("can't find custom Huffman table")}function getTextRegionHuffmanTables(g,d,x,b,w){const S=[];for(let L=0;L<=34;L++){const R=w.readBits(4);S.push(new HuffmanLine([L,R,0,0]))}const C=new HuffmanTable(S,!1);S.length=0;for(let L=0;L<b;){const R=C.decode(w);if(R>=32){let U,j,H;switch(R){case 32:if(L===0)throw new Jbig2Error("no previous value in symbol ID table");j=w.readBits(2)+3,U=S[L-1].prefixLength;break;case 33:j=w.readBits(3)+3,U=0;break;case 34:j=w.readBits(7)+11,U=0;break;default:throw new Jbig2Error("invalid code length in symbol ID table")}for(H=0;H<j;H++)S.push(new HuffmanLine([L,U,0,0])),L++}else S.push(new HuffmanLine([L,R,0,0])),L++}w.byteAlign();const F=new HuffmanTable(S,!1);let E=0,k,D,M;switch(g.huffmanFS){case 0:case 1:k=getStandardTable(g.huffmanFS+6);break;case 3:k=getCustomHuffmanTable(E,d,x),E++;break;default:throw new Jbig2Error("invalid Huffman FS selector")}switch(g.huffmanDS){case 0:case 1:case 2:D=getStandardTable(g.huffmanDS+8);break;case 3:D=getCustomHuffmanTable(E,d,x),E++;break;default:throw new Jbig2Error("invalid Huffman DS selector")}switch(g.huffmanDT){case 0:case 1:case 2:M=getStandardTable(g.huffmanDT+11);break;case 3:M=getCustomHuffmanTable(E,d,x),E++;break;default:throw new Jbig2Error("invalid Huffman DT selector")}if(g.refinement)throw new Jbig2Error("refinement with Huffman is not supported");return{symbolIDTable:F,tableFirstS:k,tableDeltaS:D,tableDeltaT:M}}function getSymbolDictionaryHuffmanTables(g,d,x){let b=0,w,S;switch(g.huffmanDHSelector){case 0:case 1:w=getStandardTable(g.huffmanDHSelector+4);break;case 3:w=getCustomHuffmanTable(b,d,x),b++;break;default:throw new Jbig2Error("invalid Huffman DH selector")}switch(g.huffmanDWSelector){case 0:case 1:S=getStandardTable(g.huffmanDWSelector+2);break;case 3:S=getCustomHuffmanTable(b,d,x),b++;break;default:throw new Jbig2Error("invalid Huffman DW selector")}let C,F;return g.bitmapSizeSelector?(C=getCustomHuffmanTable(b,d,x),b++):C=getStandardTable(1),g.aggregationInstancesSelector?F=getCustomHuffmanTable(b,d,x):F=getStandardTable(1),{tableDeltaHeight:w,tableDeltaWidth:S,tableBitmapSize:C,tableAggregateInstances:F}}function readUncompressedBitmap(g,d,x){const b=[];for(let w=0;w<x;w++){const S=new Uint8Array(d);b.push(S);for(let C=0;C<d;C++)S[C]=g.readBit();g.byteAlign()}return b}function decodeMMRBitmap(g,d,x,b){const w={K:-1,Columns:d,Rows:x,BlackIs1:!0,EndOfBlock:b},S=new CCITTFaxDecoder(g,w),C=[];let F,E=!1;for(let k=0;k<x;k++){const D=new Uint8Array(d);C.push(D);let M=-1;for(let L=0;L<d;L++)M<0&&(F=S.readNextChar(),F===-1&&(F=0,E=!0),M=7),D[L]=F>>M&1,M--}if(b&&!E)for(let D=0;D<5&&S.readNextChar()!==-1;D++);return C}class Jbig2Image{parseChunks(d){return parseJbig2Chunks(d)}parse(d){throw new Error("Not implemented: Jbig2Image.parse")}}class Jbig2Stream extends DecodeStream$1{constructor(d,x,b){super(x),this.stream=d,this.dict=d.dict,this.maybeLength=x,this.params=b}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(d){}readBlock(){if(this.eof)return;const d=new Jbig2Image,x=[];if(this.params instanceof Dict){const S=this.params.get("JBIG2Globals");if(S instanceof BaseStream){const C=S.getBytes();x.push({data:C,start:0,end:C.length})}}x.push({data:this.bytes,start:0,end:this.bytes.length});const b=d.parseChunks(x),w=b.length;for(let S=0;S<w;S++)b[S]^=255;this.buffer=b,this.bufferLength=w,this.eof=!0}}function convertToRGBA(g){switch(g.kind){case ImageKind.GRAYSCALE_1BPP:return convertBlackAndWhiteToRGBA(g);case ImageKind.RGB_24BPP:return convertRGBToRGBA(g)}return null}function convertBlackAndWhiteToRGBA({src:g,srcPos:d=0,dest:x,width:b,height:w,nonBlackColor:S=4294967295,inverseDecode:C=!1}){const F=FeatureTest.isLittleEndian?4278190080:255,[E,k]=C?[S,F]:[F,S],D=b>>3,M=b&7,L=g.length;x=new Uint32Array(x.buffer);let R=0;for(let U=0;U<w;U++){for(const H=d+D;d<H;d++){const z=d<L?g[d]:255;x[R++]=z&128?k:E,x[R++]=z&64?k:E,x[R++]=z&32?k:E,x[R++]=z&16?k:E,x[R++]=z&8?k:E,x[R++]=z&4?k:E,x[R++]=z&2?k:E,x[R++]=z&1?k:E}if(M===0)continue;const j=d<L?g[d++]:255;for(let H=0;H<M;H++)x[R++]=j&1<<7-H?k:E}return{srcPos:d,destPos:R}}function convertRGBToRGBA({src:g,srcPos:d=0,dest:x,destPos:b=0,width:w,height:S}){let C=0;const F=g.length>>2,E=new Uint32Array(g.buffer,d,F);if(FeatureTest.isLittleEndian){for(;C<F-2;C+=3,b+=4){const k=E[C],D=E[C+1],M=E[C+2];x[b]=k|4278190080,x[b+1]=k>>>24|D<<8|4278190080,x[b+2]=D>>>16|M<<16|4278190080,x[b+3]=M>>>8|4278190080}for(let k=C*4,D=g.length;k<D;k+=3)x[b++]=g[k]|g[k+1]<<8|g[k+2]<<16|4278190080}else{for(;C<F-2;C+=3,b+=4){const k=E[C],D=E[C+1],M=E[C+2];x[b]=k|255,x[b+1]=k<<24|D>>>8|255,x[b+2]=D<<16|M>>>16|255,x[b+3]=M<<8|255}for(let k=C*4,D=g.length;k<D;k+=3)x[b++]=g[k]<<24|g[k+1]<<16|g[k+2]<<8|255}return{srcPos:d,destPos:b}}function grayToRGBA(g,d){if(FeatureTest.isLittleEndian)for(let x=0,b=g.length;x<b;x++)d[x]=g[x]*65793|4278190080;else for(let x=0,b=g.length;x<b;x++)d[x]=g[x]*16843008|255}class JpegError extends BaseException{constructor(d){super(`JPEG error: ${d}`,"JpegError")}}class DNLMarkerError extends BaseException{constructor(d,x){super(d,"DNLMarkerError"),this.scanLines=x}}class EOIMarkerError extends BaseException{constructor(d){super(d,"EOIMarkerError")}}const dctZigZag=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dctCos1=4017,dctSin1=799,dctCos3=3406,dctSin3=2276,dctCos6=1567,dctSin6=3784,dctSqrt2=5793,dctSqrt1d2=2896;function buildHuffmanTable(g,d){let x=0,b,w,S=16;for(;S>0&&!g[S-1];)S--;const C=[{children:[],index:0}];let F=C[0],E;for(b=0;b<S;b++){for(w=0;w<g[b];w++){for(F=C.pop(),F.children[F.index]=d[x];F.index>0;)F=C.pop();for(F.index++,C.push(F);C.length<=b;)C.push(E={children:[],index:0}),F.children[F.index]=E.children,F=E;x++}b+1<S&&(C.push(E={children:[],index:0}),F.children[F.index]=E.children,F=E)}return C[0].children}function getBlockBufferOffset(g,d,x){return 64*((g.blocksPerLine+1)*d+x)}function decodeScan(g,d,x,b,w,S,C,F,E,k=!1){const D=x.mcusPerLine,M=x.progressive,L=d;let R=0,U=0;function j(){if(U>0)return U--,R>>U&1;if(R=g[d++],R===255){const Pe=g[d++];if(Pe){if(Pe===220&&k){d+=2;const re=readUint16(g,d);if(d+=2,re>0&&re!==x.scanLines)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",re)}else if(Pe===217){if(k){const re=be*(x.precision===8?8:0);if(re>0&&Math.round(x.scanLines/re)>=5)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",re)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new JpegError(`unexpected marker ${(R<<8|Pe).toString(16)}`)}}return U=7,R>>>7}function H(Pe){let re=Pe;for(;;){switch(re=re[j()],typeof re){case"number":return re;case"object":continue}throw new JpegError("invalid huffman sequence")}}function z(Pe){let re=0;for(;Pe>0;)re=re<<1|j(),Pe--;return re}function V(Pe){if(Pe===1)return j()===1?1:-1;const re=z(Pe);return re>=1<<Pe-1?re:re+(-1<<Pe)+1}function G(Pe,re){const ae=H(Pe.huffmanTableDC),Y=ae===0?0:V(ae);Pe.blockData[re]=Pe.pred+=Y;let W=1;for(;W<64;){const ee=H(Pe.huffmanTableAC),J=ee&15,te=ee>>4;if(J===0){if(te<15)break;W+=16;continue}W+=te;const X=dctZigZag[W];Pe.blockData[re+X]=V(J),W++}}function $(Pe,re){const ae=H(Pe.huffmanTableDC),Y=ae===0?0:V(ae)<<E;Pe.blockData[re]=Pe.pred+=Y}function K(Pe,re){Pe.blockData[re]|=j()<<E}let Z=0;function Q(Pe,re){if(Z>0){Z--;return}let ae=S;const Y=C;for(;ae<=Y;){const W=H(Pe.huffmanTableAC),ee=W&15,J=W>>4;if(ee===0){if(J<15){Z=z(J)+(1<<J)-1;break}ae+=16;continue}ae+=J;const te=dctZigZag[ae];Pe.blockData[re+te]=V(ee)*(1<<E),ae++}}let ne=0,le;function fe(Pe,re){let ae=S;const Y=C;let W=0,ee,J;for(;ae<=Y;){const te=re+dctZigZag[ae],X=Pe.blockData[te]<0?-1:1;switch(ne){case 0:if(J=H(Pe.huffmanTableAC),ee=J&15,W=J>>4,ee===0)W<15?(Z=z(W)+(1<<W),ne=4):(W=16,ne=1);else{if(ee!==1)throw new JpegError("invalid ACn encoding");le=V(ee),ne=W?2:3}continue;case 1:case 2:Pe.blockData[te]?Pe.blockData[te]+=X*(j()<<E):(W--,W===0&&(ne=ne===2?3:0));break;case 3:Pe.blockData[te]?Pe.blockData[te]+=X*(j()<<E):(Pe.blockData[te]=le<<E,ne=0);break;case 4:Pe.blockData[te]&&(Pe.blockData[te]+=X*(j()<<E));break}ae++}ne===4&&(Z--,Z===0&&(ne=0))}let be=0;function me(Pe,re,ae,Y,W){const ee=ae/D|0,J=ae%D;be=ee*Pe.v+Y;const te=J*Pe.h+W,X=getBlockBufferOffset(Pe,be,te);re(Pe,X)}function we(Pe,re,ae){be=ae/Pe.blocksPerLine|0;const Y=ae%Pe.blocksPerLine,W=getBlockBufferOffset(Pe,be,Y);re(Pe,W)}const oe=b.length;let ge,Ae,Ce,Ne,Oe,Be;M?S===0?Be=F===0?$:K:Be=F===0?Q:fe:Be=G;let Ie=0,Ee;const Ue=oe===1?b[0].blocksPerLine*b[0].blocksPerColumn:D*x.mcusPerColumn;let De,_e;for(;Ie<=Ue;){const Pe=w?Math.min(Ue-Ie,w):Ue;if(Pe>0){for(Ae=0;Ae<oe;Ae++)b[Ae].pred=0;if(Z=0,oe===1)for(ge=b[0],Oe=0;Oe<Pe;Oe++)we(ge,Be,Ie),Ie++;else for(Oe=0;Oe<Pe;Oe++){for(Ae=0;Ae<oe;Ae++)for(ge=b[Ae],De=ge.h,_e=ge.v,Ce=0;Ce<_e;Ce++)for(Ne=0;Ne<De;Ne++)me(ge,Be,Ie,Ce,Ne);Ie++}}if(U=0,Ee=findNextFileMarker(g,d),!Ee)break;if(Ee.invalid){const re=Pe>0?"unexpected":"excessive";warn(`decodeScan - ${re} MCU data, current marker is: ${Ee.invalid}`),d=Ee.offset}if(Ee.marker>=65488&&Ee.marker<=65495)d+=2;else break}return d-L}function quantizeAndInverse(g,d,x){const b=g.quantizationTable,w=g.blockData;let S,C,F,E,k,D,M,L,R,U,j,H,z,V,G,$,K;if(!b)throw new JpegError("missing required Quantization Table.");for(let Z=0;Z<64;Z+=8){if(R=w[d+Z],U=w[d+Z+1],j=w[d+Z+2],H=w[d+Z+3],z=w[d+Z+4],V=w[d+Z+5],G=w[d+Z+6],$=w[d+Z+7],R*=b[Z],!(U|j|H|z|V|G|$)){K=dctSqrt2*R+512>>10,x[Z]=K,x[Z+1]=K,x[Z+2]=K,x[Z+3]=K,x[Z+4]=K,x[Z+5]=K,x[Z+6]=K,x[Z+7]=K;continue}U*=b[Z+1],j*=b[Z+2],H*=b[Z+3],z*=b[Z+4],V*=b[Z+5],G*=b[Z+6],$*=b[Z+7],S=dctSqrt2*R+128>>8,C=dctSqrt2*z+128>>8,F=j,E=G,k=dctSqrt1d2*(U-$)+128>>8,L=dctSqrt1d2*(U+$)+128>>8,D=H<<4,M=V<<4,S=S+C+1>>1,C=S-C,K=F*dctSin6+E*dctCos6+128>>8,F=F*dctCos6-E*dctSin6+128>>8,E=K,k=k+M+1>>1,M=k-M,L=L+D+1>>1,D=L-D,S=S+E+1>>1,E=S-E,C=C+F+1>>1,F=C-F,K=k*dctSin3+L*dctCos3+2048>>12,k=k*dctCos3-L*dctSin3+2048>>12,L=K,K=D*dctSin1+M*dctCos1+2048>>12,D=D*dctCos1-M*dctSin1+2048>>12,M=K,x[Z]=S+L,x[Z+7]=S-L,x[Z+1]=C+M,x[Z+6]=C-M,x[Z+2]=F+D,x[Z+5]=F-D,x[Z+3]=E+k,x[Z+4]=E-k}for(let Z=0;Z<8;++Z){if(R=x[Z],U=x[Z+8],j=x[Z+16],H=x[Z+24],z=x[Z+32],V=x[Z+40],G=x[Z+48],$=x[Z+56],!(U|j|H|z|V|G|$)){K=dctSqrt2*R+8192>>14,K<-2040?K=0:K>=2024?K=255:K=K+2056>>4,w[d+Z]=K,w[d+Z+8]=K,w[d+Z+16]=K,w[d+Z+24]=K,w[d+Z+32]=K,w[d+Z+40]=K,w[d+Z+48]=K,w[d+Z+56]=K;continue}S=dctSqrt2*R+2048>>12,C=dctSqrt2*z+2048>>12,F=j,E=G,k=dctSqrt1d2*(U-$)+2048>>12,L=dctSqrt1d2*(U+$)+2048>>12,D=H,M=V,S=(S+C+1>>1)+4112,C=S-C,K=F*dctSin6+E*dctCos6+2048>>12,F=F*dctCos6-E*dctSin6+2048>>12,E=K,k=k+M+1>>1,M=k-M,L=L+D+1>>1,D=L-D,S=S+E+1>>1,E=S-E,C=C+F+1>>1,F=C-F,K=k*dctSin3+L*dctCos3+2048>>12,k=k*dctCos3-L*dctSin3+2048>>12,L=K,K=D*dctSin1+M*dctCos1+2048>>12,D=D*dctCos1-M*dctSin1+2048>>12,M=K,R=S+L,$=S-L,U=C+M,G=C-M,j=F+D,V=F-D,H=E+k,z=E-k,R<16?R=0:R>=4080?R=255:R>>=4,U<16?U=0:U>=4080?U=255:U>>=4,j<16?j=0:j>=4080?j=255:j>>=4,H<16?H=0:H>=4080?H=255:H>>=4,z<16?z=0:z>=4080?z=255:z>>=4,V<16?V=0:V>=4080?V=255:V>>=4,G<16?G=0:G>=4080?G=255:G>>=4,$<16?$=0:$>=4080?$=255:$>>=4,w[d+Z]=R,w[d+Z+8]=U,w[d+Z+16]=j,w[d+Z+24]=H,w[d+Z+32]=z,w[d+Z+40]=V,w[d+Z+48]=G,w[d+Z+56]=$}}function buildComponentData(g,d){const x=d.blocksPerLine,b=d.blocksPerColumn,w=new Int16Array(64);for(let S=0;S<b;S++)for(let C=0;C<x;C++){const F=getBlockBufferOffset(d,S,C);quantizeAndInverse(d,F,w)}return d.blockData}function findNextFileMarker(g,d,x=d){const b=g.length-1;let w=x<d?x:d;if(d>=b)return null;const S=readUint16(g,d);if(S>=65472&&S<=65534)return{invalid:null,marker:S,offset:d};let C=readUint16(g,w);for(;!(C>=65472&&C<=65534);){if(++w>=b)return null;C=readUint16(g,w)}return{invalid:S.toString(16),marker:C,offset:w}}class JpegImage{constructor({decodeTransform:d=null,colorTransform:x=-1}={}){this._decodeTransform=d,this._colorTransform=x}parse(d,{dnlScanLines:x=null}={}){function b(){const j=readUint16(d,S);S+=2;let H=S+j-2;const z=findNextFileMarker(d,H,S);z?.invalid&&(warn("readDataBlock - incorrect length, current marker is: "+z.invalid),H=z.offset);const V=d.subarray(S,H);return S+=V.length,V}function w(j){const H=Math.ceil(j.samplesPerLine/8/j.maxH),z=Math.ceil(j.scanLines/8/j.maxV);for(const V of j.components){const G=Math.ceil(Math.ceil(j.samplesPerLine/8)*V.h/j.maxH),$=Math.ceil(Math.ceil(j.scanLines/8)*V.v/j.maxV),K=H*V.h,Q=64*(z*V.v)*(K+1);V.blockData=new Int16Array(Q),V.blocksPerLine=G,V.blocksPerColumn=$}j.mcusPerLine=H,j.mcusPerColumn=z}let S=0,C=null,F=null,E,k,D=0;const M=[],L=[],R=[];let U=readUint16(d,S);if(S+=2,U!==65496)throw new JpegError("SOI not found");U=readUint16(d,S),S+=2;e:for(;U!==65497;){let j,H,z;switch(U){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const V=b();U===65504&&V[0]===74&&V[1]===70&&V[2]===73&&V[3]===70&&V[4]===0&&(C={version:{major:V[5],minor:V[6]},densityUnits:V[7],xDensity:V[8]<<8|V[9],yDensity:V[10]<<8|V[11],thumbWidth:V[12],thumbHeight:V[13],thumbData:V.subarray(14,14+3*V[12]*V[13])}),U===65518&&V[0]===65&&V[1]===100&&V[2]===111&&V[3]===98&&V[4]===101&&(F={version:V[5]<<8|V[6],flags0:V[7]<<8|V[8],flags1:V[9]<<8|V[10],transformCode:V[11]});break;case 65499:const G=readUint16(d,S);S+=2;const $=G+S-2;let K;for(;S<$;){const Ne=d[S++],Oe=new Uint16Array(64);if(Ne>>4)if(Ne>>4===1)for(H=0;H<64;H++)K=dctZigZag[H],Oe[K]=readUint16(d,S),S+=2;else throw new JpegError("DQT - invalid table spec");else for(H=0;H<64;H++)K=dctZigZag[H],Oe[K]=d[S++];M[Ne&15]=Oe}break;case 65472:case 65473:case 65474:if(E)throw new JpegError("Only single frame JPEGs supported");S+=2,E={},E.extended=U===65473,E.progressive=U===65474,E.precision=d[S++];const Z=readUint16(d,S);S+=2,E.scanLines=x||Z,E.samplesPerLine=readUint16(d,S),S+=2,E.components=[],E.componentIds={};const Q=d[S++];let ne=0,le=0;for(j=0;j<Q;j++){const Ne=d[S],Oe=d[S+1]>>4,Be=d[S+1]&15;ne<Oe&&(ne=Oe),le<Be&&(le=Be);const Ie=d[S+2];z=E.components.push({h:Oe,v:Be,quantizationId:Ie,quantizationTable:null}),E.componentIds[Ne]=z-1,S+=3}E.maxH=ne,E.maxV=le,w(E);break;case 65476:const fe=readUint16(d,S);for(S+=2,j=2;j<fe;){const Ne=d[S++],Oe=new Uint8Array(16);let Be=0;for(H=0;H<16;H++,S++)Be+=Oe[H]=d[S];const Ie=new Uint8Array(Be);for(H=0;H<Be;H++,S++)Ie[H]=d[S];j+=17+Be,(Ne>>4?L:R)[Ne&15]=buildHuffmanTable(Oe,Ie)}break;case 65501:S+=2,k=readUint16(d,S),S+=2;break;case 65498:const be=++D===1&&!x;S+=2;const me=d[S++],we=[];for(j=0;j<me;j++){const Ne=d[S++],Oe=E.componentIds[Ne],Be=E.components[Oe];Be.index=Ne;const Ie=d[S++];Be.huffmanTableDC=R[Ie>>4],Be.huffmanTableAC=L[Ie&15],we.push(Be)}const oe=d[S++],ge=d[S++],Ae=d[S++];try{const Ne=decodeScan(d,S,E,we,k,oe,ge,Ae>>4,Ae&15,be);S+=Ne}catch(Ne){if(Ne instanceof DNLMarkerError)return warn(`${Ne.message} -- attempting to re-parse the JPEG image.`),this.parse(d,{dnlScanLines:Ne.scanLines});if(Ne instanceof EOIMarkerError){warn(`${Ne.message} -- ignoring the rest of the image data.`);break e}throw Ne}break;case 65500:S+=4;break;case 65535:d[S]!==255&&S--;break;default:const Ce=findNextFileMarker(d,S-2,S-3);if(Ce?.invalid){warn("JpegImage.parse - unexpected data, current marker is: "+Ce.invalid),S=Ce.offset;break}if(!Ce||S>=d.length-1){warn("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new JpegError("JpegImage.parse - unknown marker: "+U.toString(16))}U=readUint16(d,S),S+=2}if(!E)throw new JpegError("JpegImage.parse - no frame data found.");this.width=E.samplesPerLine,this.height=E.scanLines,this.jfif=C,this.adobe=F,this.components=[];for(const j of E.components){const H=M[j.quantizationId];H&&(j.quantizationTable=H),this.components.push({index:j.index,output:buildComponentData(E,j),scaleX:j.h/E.maxH,scaleY:j.v/E.maxV,blocksPerLine:j.blocksPerLine,blocksPerColumn:j.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(d,x,b=!1){const w=this.width/d,S=this.height/x;let C,F,E,k,D,M,L,R,U,j,H=0,z;const V=this.components.length,G=d*x*V,$=new Uint8ClampedArray(G),K=new Uint32Array(d),Z=4294967288;let Q;for(L=0;L<V;L++){if(C=this.components[L],F=C.scaleX*w,E=C.scaleY*S,H=L,z=C.output,k=C.blocksPerLine+1<<3,F!==Q){for(D=0;D<d;D++)R=0|D*F,K[D]=(R&Z)<<3|R&7;Q=F}for(M=0;M<x;M++)for(R=0|M*E,j=k*(R&Z)|(R&7)<<3,D=0;D<d;D++)$[H]=z[j+K[D]],H+=V}let ne=this._decodeTransform;if(!b&&V===4&&!ne&&(ne=new Int32Array([-256,255,-256,255,-256,255,-256,255])),ne)for(L=0;L<G;)for(R=0,U=0;R<V;R++,L++,U+=2)$[L]=($[L]*ne[U]>>8)+ne[U+1];return $}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(d){let x,b,w;for(let S=0,C=d.length;S<C;S+=3)x=d[S],b=d[S+1],w=d[S+2],d[S]=x-179.456+1.402*w,d[S+1]=x+135.459-.344*b-.714*w,d[S+2]=x-226.816+1.772*b;return d}_convertYccToRgba(d,x){for(let b=0,w=0,S=d.length;b<S;b+=3,w+=4){const C=d[b],F=d[b+1],E=d[b+2];x[w]=C-179.456+1.402*E,x[w+1]=C+135.459-.344*F-.714*E,x[w+2]=C-226.816+1.772*F,x[w+3]=255}return x}_convertYcckToRgb(d){let x,b,w,S,C=0;for(let F=0,E=d.length;F<E;F+=4)x=d[F],b=d[F+1],w=d[F+2],S=d[F+3],d[C++]=-122.67195406894+b*(-660635669420364e-19*b+.000437130475926232*w-54080610064599e-18*x+.00048449797120281*S-.154362151871126)+w*(-.000957964378445773*w+.000817076911346625*x-.00477271405408747*S+1.53380253221734)+x*(.000961250184130688*x-.00266257332283933*S+.48357088451265)+S*(-.000336197177618394*S+.484791561490776),d[C++]=107.268039397724+b*(219927104525741e-19*b-.000640992018297945*w+.000659397001245577*x+.000426105652938837*S-.176491792462875)+w*(-.000778269941513683*w+.00130872261408275*x+.000770482631801132*S-.151051492775562)+x*(.00126935368114843*x-.00265090189010898*S+.25802910206845)+S*(-.000318913117588328*S-.213742400323665),d[C++]=-20.810012546947+b*(-.000570115196973677*b-263409051004589e-19*w+.0020741088115012*x-.00288260236853442*S+.814272968359295)+w*(-153496057440975e-19*w-.000132689043961446*x+.000560833691242812*S-.195152027534049)+x*(.00174418132927582*x-.00255243321439347*S+.116935020465145)+S*(-.000343531996510555*S+.24165260232407);return d.subarray(0,C)}_convertYcckToRgba(d){for(let x=0,b=d.length;x<b;x+=4){const w=d[x],S=d[x+1],C=d[x+2],F=d[x+3];d[x]=-122.67195406894+S*(-660635669420364e-19*S+.000437130475926232*C-54080610064599e-18*w+.00048449797120281*F-.154362151871126)+C*(-.000957964378445773*C+.000817076911346625*w-.00477271405408747*F+1.53380253221734)+w*(.000961250184130688*w-.00266257332283933*F+.48357088451265)+F*(-.000336197177618394*F+.484791561490776),d[x+1]=107.268039397724+S*(219927104525741e-19*S-.000640992018297945*C+.000659397001245577*w+.000426105652938837*F-.176491792462875)+C*(-.000778269941513683*C+.00130872261408275*w+.000770482631801132*F-.151051492775562)+w*(.00126935368114843*w-.00265090189010898*F+.25802910206845)+F*(-.000318913117588328*F-.213742400323665),d[x+2]=-20.810012546947+S*(-.000570115196973677*S-263409051004589e-19*C+.0020741088115012*w-.00288260236853442*F+.814272968359295)+C*(-153496057440975e-19*C-.000132689043961446*w+.000560833691242812*F-.195152027534049)+w*(.00174418132927582*w-.00255243321439347*F+.116935020465145)+F*(-.000343531996510555*F+.24165260232407),d[x+3]=255}return d}_convertYcckToCmyk(d){let x,b,w;for(let S=0,C=d.length;S<C;S+=4)x=d[S],b=d[S+1],w=d[S+2],d[S]=434.456-x-1.402*w,d[S+1]=119.541-x+.344*b+.714*w,d[S+2]=481.816-x-1.772*b;return d}_convertCmykToRgb(d){let x,b,w,S,C=0;for(let F=0,E=d.length;F<E;F+=4)x=d[F],b=d[F+1],w=d[F+2],S=d[F+3],d[C++]=255+x*(-6747147073602441e-20*x+.0008379262121013727*b+.0002894718188643294*w+.003264231057537806*S-1.1185611867203937)+b*(26374107616089405e-21*b-8626949158638572e-20*w-.0002748769067499491*S-.02155688794978967)+w*(-3878099212869363e-20*w-.0003267808279485286*S+.0686742238595345)-S*(.0003361971776183937*S+.7430659151342254),d[C++]=255+x*(.00013596372813588848*x+.000924537132573585*b+.00010567359618683593*w+.0004791864687436512*S-.3109689587515875)+b*(-.00023545346108370344*b+.0002702845253534714*w+.0020200308977307156*S-.7488052167015494)+w*(6834815998235662e-20*w+.00015168452363460973*S-.09751927774728933)-S*(.0003189131175883281*S+.7364883807733168),d[C++]=255+x*(13598650411385307e-21*x+.00012423956175490851*b+.0004751985097583589*w-36729317476630422e-22*S-.05562186980264034)+b*(.00016141380598724676*b+.0009692239130725186*w+.0007782692450036253*S-.44015232367526463)+w*(5068882914068769e-22*w+.0017778369011375071*S-.7591454649749609)-S*(.0003435319965105553*S+.7063770186160144);return d.subarray(0,C)}_convertCmykToRgba(d){for(let x=0,b=d.length;x<b;x+=4){const w=d[x],S=d[x+1],C=d[x+2],F=d[x+3];d[x]=255+w*(-6747147073602441e-20*w+.0008379262121013727*S+.0002894718188643294*C+.003264231057537806*F-1.1185611867203937)+S*(26374107616089405e-21*S-8626949158638572e-20*C-.0002748769067499491*F-.02155688794978967)+C*(-3878099212869363e-20*C-.0003267808279485286*F+.0686742238595345)-F*(.0003361971776183937*F+.7430659151342254),d[x+1]=255+w*(.00013596372813588848*w+.000924537132573585*S+.00010567359618683593*C+.0004791864687436512*F-.3109689587515875)+S*(-.00023545346108370344*S+.0002702845253534714*C+.0020200308977307156*F-.7488052167015494)+C*(6834815998235662e-20*C+.00015168452363460973*F-.09751927774728933)-F*(.0003189131175883281*F+.7364883807733168),d[x+2]=255+w*(13598650411385307e-21*w+.00012423956175490851*S+.0004751985097583589*C-36729317476630422e-22*F-.05562186980264034)+S*(.00016141380598724676*S+.0009692239130725186*C+.0007782692450036253*F-.44015232367526463)+C*(5068882914068769e-22*C+.0017778369011375071*F-.7591454649749609)-F*(.0003435319965105553*F+.7063770186160144),d[x+3]=255}return d}getData({width:d,height:x,forceRGBA:b=!1,forceRGB:w=!1,isSourcePDF:S=!1}){if(this.numComponents>4)throw new JpegError("Unsupported color mode");const C=this._getLinearizedBlockData(d,x,S);if(this.numComponents===1&&(b||w)){const F=C.length*(b?4:3),E=new Uint8ClampedArray(F);let k=0;if(b)grayToRGBA(C,new Uint32Array(E.buffer));else for(const D of C)E[k++]=D,E[k++]=D,E[k++]=D;return E}else if(this.numComponents===3&&this._isColorConversionNeeded){if(b){const F=new Uint8ClampedArray(C.length/3*4);return this._convertYccToRgba(C,F)}return this._convertYccToRgb(C)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return b?this._convertYcckToRgba(C):w?this._convertYcckToRgb(C):this._convertYcckToCmyk(C);if(b)return this._convertCmykToRgba(C);if(w)return this._convertCmykToRgb(C)}return C}}class JpegStream extends DecodeStream$1{constructor(d,x,b){let w;for(;(w=d.getByte())!==-1;)if(w===255){d.skip(-1);break}super(x),this.stream=d,this.dict=d.dict,this.maybeLength=x,this.params=b}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(d){}readBlock(){if(this.eof)return;const d={decodeTransform:void 0,colorTransform:void 0},x=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(x)){const S=this.dict.get("BPC","BitsPerComponent")||8,C=x.length,F=new Int32Array(C);let E=!1;const k=(1<<S)-1;for(let D=0;D<C;D+=2)F[D]=(x[D+1]-x[D])*256|0,F[D+1]=x[D]*k|0,(F[D]!==256||F[D+1]!==0)&&(E=!0);E&&(d.decodeTransform=F)}if(this.params instanceof Dict){const S=this.params.get("ColorTransform");Number.isInteger(S)&&(d.colorTransform=S)}const b=new JpegImage(d);b.parse(this.bytes);const w=b.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=w,this.bufferLength=w.length,this.eof=!0}}class JpxError extends BaseException{constructor(d){super(`JPX error: ${d}`,"JpxError")}}const SubbandsGainLog2={LL:0,LH:1,HL:1,HH:2};class JpxImage{constructor(){this.failOnCorruptedImage=!1}parse(d){if(readUint16(d,0)===65359){this.parseCodestream(d,0,d.length);return}const b=d.length;let w=0;for(;w<b;){let S=8,C=readUint32(d,w);const F=readUint32(d,w+4);if(w+=S,C===1&&(C=readUint32(d,w)*4294967296+readUint32(d,w+4),w+=8,S+=8),C===0&&(C=b-w+S),C<S)throw new JpxError("Invalid box field size");const E=C-S;let k=!0;switch(F){case 1785737832:k=!1;break;case 1668246642:const D=d[w];if(D===1){const L=readUint32(d,w+3);switch(L){case 16:case 17:case 18:break;default:warn("Unknown colorspace "+L);break}}else D===2&&info("ICC profile not supported");break;case 1785737827:this.parseCodestream(d,w,w+E);break;case 1783636e3:readUint32(d,w)!==218793738&&warn("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const M=String.fromCharCode(F>>24&255,F>>16&255,F>>8&255,F&255);warn(`Unsupported header type ${F} (${M}).`);break}k&&(w+=E)}}parseImageProperties(d){let x=d.getByte();for(;x>=0;){const b=x;if(x=d.getByte(),(b<<8|x)===65361){d.skip(4);const S=d.getInt32()>>>0,C=d.getInt32()>>>0,F=d.getInt32()>>>0,E=d.getInt32()>>>0;d.skip(16);const k=d.getUint16();this.width=S-F,this.height=C-E,this.componentsCount=k,this.bitsPerComponent=8;return}}throw new JpxError("No size marker found in JPX stream")}parseCodestream(d,x,b){const w={};let S=!1;try{let C=x;for(;C+1<b;){const F=readUint16(d,C);C+=2;let E=0,k,D,M,L,R,U;switch(F){case 65359:w.mainHeader=!0;break;case 65497:break;case 65361:E=readUint16(d,C);const j={};j.Xsiz=readUint32(d,C+4),j.Ysiz=readUint32(d,C+8),j.XOsiz=readUint32(d,C+12),j.YOsiz=readUint32(d,C+16),j.XTsiz=readUint32(d,C+20),j.YTsiz=readUint32(d,C+24),j.XTOsiz=readUint32(d,C+28),j.YTOsiz=readUint32(d,C+32);const H=readUint16(d,C+36);j.Csiz=H;const z=[];k=C+38;for(let le=0;le<H;le++){const fe={precision:(d[k]&127)+1,isSigned:!!(d[k]&128),XRsiz:d[k+1],YRsiz:d[k+2]};k+=3,calculateComponentDimensions(fe,j),z.push(fe)}w.SIZ=j,w.components=z,calculateTileGrids(w,z),w.QCC=[],w.COC=[];break;case 65372:E=readUint16(d,C);const V={};switch(k=C+2,D=d[k++],D&31){case 0:L=8,R=!0;break;case 1:L=16,R=!1;break;case 2:L=16,R=!0;break;default:throw new Error("Invalid SQcd value "+D)}for(V.noQuantization=L===8,V.scalarExpounded=R,V.guardBits=D>>5,M=[];k<E+C;){const le={};L===8?(le.epsilon=d[k++]>>3,le.mu=0):(le.epsilon=d[k]>>3,le.mu=(d[k]&7)<<8|d[k+1],k+=2),M.push(le)}V.SPqcds=M,w.mainHeader?w.QCD=V:(w.currentTile.QCD=V,w.currentTile.QCC=[]);break;case 65373:E=readUint16(d,C);const G={};k=C+2;let $;switch(w.SIZ.Csiz<257?$=d[k++]:($=readUint16(d,k),k+=2),D=d[k++],D&31){case 0:L=8,R=!0;break;case 1:L=16,R=!1;break;case 2:L=16,R=!0;break;default:throw new Error("Invalid SQcd value "+D)}for(G.noQuantization=L===8,G.scalarExpounded=R,G.guardBits=D>>5,M=[];k<E+C;){const le={};L===8?(le.epsilon=d[k++]>>3,le.mu=0):(le.epsilon=d[k]>>3,le.mu=(d[k]&7)<<8|d[k+1],k+=2),M.push(le)}G.SPqcds=M,w.mainHeader?w.QCC[$]=G:w.currentTile.QCC[$]=G;break;case 65362:E=readUint16(d,C);const K={};k=C+2;const Z=d[k++];K.entropyCoderWithCustomPrecincts=!!(Z&1),K.sopMarkerUsed=!!(Z&2),K.ephMarkerUsed=!!(Z&4),K.progressionOrder=d[k++],K.layersCount=readUint16(d,k),k+=2,K.multipleComponentTransform=d[k++],K.decompositionLevelsCount=d[k++],K.xcb=(d[k++]&15)+2,K.ycb=(d[k++]&15)+2;const Q=d[k++];if(K.selectiveArithmeticCodingBypass=!!(Q&1),K.resetContextProbabilities=!!(Q&2),K.terminationOnEachCodingPass=!!(Q&4),K.verticallyStripe=!!(Q&8),K.predictableTermination=!!(Q&16),K.segmentationSymbolUsed=!!(Q&32),K.reversibleTransformation=d[k++],K.entropyCoderWithCustomPrecincts){const le=[];for(;k<E+C;){const fe=d[k++];le.push({PPx:fe&15,PPy:fe>>4})}K.precinctsSizes=le}const ne=[];K.selectiveArithmeticCodingBypass&&ne.push("selectiveArithmeticCodingBypass"),K.terminationOnEachCodingPass&&ne.push("terminationOnEachCodingPass"),K.verticallyStripe&&ne.push("verticallyStripe"),K.predictableTermination&&ne.push("predictableTermination"),ne.length>0&&(S=!0,warn(`JPX: Unsupported COD options (${ne.join(", ")}).`)),w.mainHeader?w.COD=K:(w.currentTile.COD=K,w.currentTile.COC=[]);break;case 65424:E=readUint16(d,C),U={},U.index=readUint16(d,C+2),U.length=readUint32(d,C+4),U.dataEnd=U.length+C-2,U.partIndex=d[C+8],U.partsCount=d[C+9],w.mainHeader=!1,U.partIndex===0&&(U.COD=w.COD,U.COC=w.COC.slice(0),U.QCD=w.QCD,U.QCC=w.QCC.slice(0)),w.currentTile=U;break;case 65427:U=w.currentTile,U.partIndex===0&&(initializeTile(w,U.index),buildPackets(w)),E=U.dataEnd-C,parseTilePackets(w,d,C,E);break;case 65363:warn("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:E=readUint16(d,C);break;default:throw new Error("Unknown codestream code: "+F.toString(16))}C+=E}}catch(C){if(S||this.failOnCorruptedImage)throw new JpxError(C.message);warn(`JPX: Trying to recover from: "${C.message}".`)}this.tiles=transformComponents(w),this.width=w.SIZ.Xsiz-w.SIZ.XOsiz,this.height=w.SIZ.Ysiz-w.SIZ.YOsiz,this.componentsCount=w.SIZ.Csiz}}function calculateComponentDimensions(g,d){g.x0=Math.ceil(d.XOsiz/g.XRsiz),g.x1=Math.ceil(d.Xsiz/g.XRsiz),g.y0=Math.ceil(d.YOsiz/g.YRsiz),g.y1=Math.ceil(d.Ysiz/g.YRsiz),g.width=g.x1-g.x0,g.height=g.y1-g.y0}function calculateTileGrids(g,d){const x=g.SIZ,b=[];let w;const S=Math.ceil((x.Xsiz-x.XTOsiz)/x.XTsiz),C=Math.ceil((x.Ysiz-x.YTOsiz)/x.YTsiz);for(let E=0;E<C;E++)for(let k=0;k<S;k++)w={},w.tx0=Math.max(x.XTOsiz+k*x.XTsiz,x.XOsiz),w.ty0=Math.max(x.YTOsiz+E*x.YTsiz,x.YOsiz),w.tx1=Math.min(x.XTOsiz+(k+1)*x.XTsiz,x.Xsiz),w.ty1=Math.min(x.YTOsiz+(E+1)*x.YTsiz,x.Ysiz),w.width=w.tx1-w.tx0,w.height=w.ty1-w.ty0,w.components=[],b.push(w);g.tiles=b;const F=x.Csiz;for(let E=0,k=F;E<k;E++){const D=d[E];for(let M=0,L=b.length;M<L;M++){const R={};w=b[M],R.tcx0=Math.ceil(w.tx0/D.XRsiz),R.tcy0=Math.ceil(w.ty0/D.YRsiz),R.tcx1=Math.ceil(w.tx1/D.XRsiz),R.tcy1=Math.ceil(w.ty1/D.YRsiz),R.width=R.tcx1-R.tcx0,R.height=R.tcy1-R.tcy0,w.components[E]=R}}}function getBlocksDimensions(g,d,x){const b=d.codingStyleParameters,w={};return b.entropyCoderWithCustomPrecincts?(w.PPx=b.precinctsSizes[x].PPx,w.PPy=b.precinctsSizes[x].PPy):(w.PPx=15,w.PPy=15),w.xcb_=x>0?Math.min(b.xcb,w.PPx-1):Math.min(b.xcb,w.PPx),w.ycb_=x>0?Math.min(b.ycb,w.PPy-1):Math.min(b.ycb,w.PPy),w}function buildPrecincts(g,d,x){const b=1<<x.PPx,w=1<<x.PPy,S=d.resLevel===0,C=1<<x.PPx+(S?0:-1),F=1<<x.PPy+(S?0:-1),E=d.trx1>d.trx0?Math.ceil(d.trx1/b)-Math.floor(d.trx0/b):0,k=d.try1>d.try0?Math.ceil(d.try1/w)-Math.floor(d.try0/w):0,D=E*k;d.precinctParameters={precinctWidth:b,precinctHeight:w,numprecinctswide:E,numprecinctshigh:k,numprecincts:D,precinctWidthInSubband:C,precinctHeightInSubband:F}}function buildCodeblocks(g,d,x){const b=x.xcb_,w=x.ycb_,S=1<<b,C=1<<w,F=d.tbx0>>b,E=d.tby0>>w,k=d.tbx1+S-1>>b,D=d.tby1+C-1>>w,M=d.resolution.precinctParameters,L=[],R=[];let U,j,H,z;for(j=E;j<D;j++)for(U=F;U<k;U++){H={cbx:U,cby:j,tbx0:S*U,tby0:C*j,tbx1:S*(U+1),tby1:C*(j+1)},H.tbx0_=Math.max(d.tbx0,H.tbx0),H.tby0_=Math.max(d.tby0,H.tby0),H.tbx1_=Math.min(d.tbx1,H.tbx1),H.tby1_=Math.min(d.tby1,H.tby1);const V=Math.floor((H.tbx0_-d.tbx0)/M.precinctWidthInSubband),G=Math.floor((H.tby0_-d.tby0)/M.precinctHeightInSubband);if(z=V+G*M.numprecinctswide,H.precinctNumber=z,H.subbandType=d.type,H.Lblock=3,H.tbx1_<=H.tbx0_||H.tby1_<=H.tby0_)continue;L.push(H);let $=R[z];$!==void 0?(U<$.cbxMin?$.cbxMin=U:U>$.cbxMax&&($.cbxMax=U),j<$.cbyMin?$.cbxMin=j:j>$.cbyMax&&($.cbyMax=j)):R[z]=$={cbxMin:U,cbyMin:j,cbxMax:U,cbyMax:j},H.precinct=$}d.codeblockParameters={codeblockWidth:b,codeblockHeight:w,numcodeblockwide:k-F+1,numcodeblockhigh:D-E+1},d.codeblocks=L,d.precincts=R}function createPacket(g,d,x){const b=[],w=g.subbands;for(let S=0,C=w.length;S<C;S++){const E=w[S].codeblocks;for(let k=0,D=E.length;k<D;k++){const M=E[k];M.precinctNumber===d&&b.push(M)}}return{layerNumber:x,codeblocks:b}}function LayerResolutionComponentPositionIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],w=b.codingStyleDefaultParameters.layersCount,S=d.Csiz;let C=0;for(let M=0;M<S;M++)C=Math.max(C,b.components[M].codingStyleParameters.decompositionLevelsCount);let F=0,E=0,k=0,D=0;this.nextPacket=function(){for(;F<w;F++){for(;E<=C;E++){for(;k<S;k++){const L=b.components[k];if(E>L.codingStyleParameters.decompositionLevelsCount)continue;const R=L.resolutions[E],U=R.precinctParameters.numprecincts;for(;D<U;){const j=createPacket(R,D,F);return D++,j}D=0}k=0}E=0}throw new JpxError("Out of packets")}}function ResolutionLayerComponentPositionIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],w=b.codingStyleDefaultParameters.layersCount,S=d.Csiz;let C=0;for(let M=0;M<S;M++)C=Math.max(C,b.components[M].codingStyleParameters.decompositionLevelsCount);let F=0,E=0,k=0,D=0;this.nextPacket=function(){for(;F<=C;F++){for(;E<w;E++){for(;k<S;k++){const L=b.components[k];if(F>L.codingStyleParameters.decompositionLevelsCount)continue;const R=L.resolutions[F],U=R.precinctParameters.numprecincts;for(;D<U;){const j=createPacket(R,D,E);return D++,j}D=0}k=0}E=0}throw new JpxError("Out of packets")}}function ResolutionPositionComponentLayerIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],w=b.codingStyleDefaultParameters.layersCount,S=d.Csiz;let C,F,E,k,D=0;for(E=0;E<S;E++){const L=b.components[E];D=Math.max(D,L.codingStyleParameters.decompositionLevelsCount)}const M=new Int32Array(D+1);for(F=0;F<=D;++F){let L=0;for(E=0;E<S;++E){const R=b.components[E].resolutions;F<R.length&&(L=Math.max(L,R[F].precinctParameters.numprecincts))}M[F]=L}C=0,F=0,E=0,k=0,this.nextPacket=function(){for(;F<=D;F++){for(;k<M[F];k++){for(;E<S;E++){const R=b.components[E];if(F>R.codingStyleParameters.decompositionLevelsCount)continue;const U=R.resolutions[F],j=U.precinctParameters.numprecincts;if(!(k>=j)){for(;C<w;){const H=createPacket(U,k,C);return C++,H}C=0}}E=0}k=0}throw new JpxError("Out of packets")}}function PositionComponentResolutionLayerIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],w=b.codingStyleDefaultParameters.layersCount,S=d.Csiz,C=getPrecinctSizesInImageScale(b),F=C;let E=0,k=0,D=0,M=0,L=0;this.nextPacket=function(){for(;L<F.maxNumHigh;L++){for(;M<F.maxNumWide;M++){for(;D<S;D++){const U=b.components[D],j=U.codingStyleParameters.decompositionLevelsCount;for(;k<=j;k++){const H=U.resolutions[k],z=C.components[D].resolutions[k],V=getPrecinctIndexIfExist(M,L,z,F,H);if(V!==null){for(;E<w;){const G=createPacket(H,V,E);return E++,G}E=0}}k=0}D=0}M=0}throw new JpxError("Out of packets")}}function ComponentPositionResolutionLayerIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],w=b.codingStyleDefaultParameters.layersCount,S=d.Csiz,C=getPrecinctSizesInImageScale(b);let F=0,E=0,k=0,D=0,M=0;this.nextPacket=function(){for(;k<S;++k){const R=b.components[k],U=C.components[k],j=R.codingStyleParameters.decompositionLevelsCount;for(;M<U.maxNumHigh;M++){for(;D<U.maxNumWide;D++){for(;E<=j;E++){const H=R.resolutions[E],z=U.resolutions[E],V=getPrecinctIndexIfExist(D,M,z,U,H);if(V!==null){for(;F<w;){const G=createPacket(H,V,F);return F++,G}F=0}}E=0}D=0}M=0}throw new JpxError("Out of packets")}}function getPrecinctIndexIfExist(g,d,x,b,w){const S=g*b.minWidth,C=d*b.minHeight;if(S%x.width!==0||C%x.height!==0)return null;const F=C/x.width*w.precinctParameters.numprecinctswide;return S/x.height+F}function getPrecinctSizesInImageScale(g){const d=g.components.length;let x=Number.MAX_VALUE,b=Number.MAX_VALUE,w=0,S=0;const C=new Array(d);for(let F=0;F<d;F++){const E=g.components[F],k=E.codingStyleParameters.decompositionLevelsCount,D=new Array(k+1);let M=Number.MAX_VALUE,L=Number.MAX_VALUE,R=0,U=0,j=1;for(let H=k;H>=0;--H){const z=E.resolutions[H],V=j*z.precinctParameters.precinctWidth,G=j*z.precinctParameters.precinctHeight;M=Math.min(M,V),L=Math.min(L,G),R=Math.max(R,z.precinctParameters.numprecinctswide),U=Math.max(U,z.precinctParameters.numprecinctshigh),D[H]={width:V,height:G},j<<=1}x=Math.min(x,M),b=Math.min(b,L),w=Math.max(w,R),S=Math.max(S,U),C[F]={resolutions:D,minWidth:M,minHeight:L,maxNumWide:R,maxNumHigh:U}}return{components:C,minWidth:x,minHeight:b,maxNumWide:w,maxNumHigh:S}}function buildPackets(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],w=d.Csiz;for(let C=0;C<w;C++){const F=b.components[C],E=F.codingStyleParameters.decompositionLevelsCount,k=[],D=[];for(let M=0;M<=E;M++){const L=getBlocksDimensions(g,F,M),R={},U=1<<E-M;R.trx0=Math.ceil(F.tcx0/U),R.try0=Math.ceil(F.tcy0/U),R.trx1=Math.ceil(F.tcx1/U),R.try1=Math.ceil(F.tcy1/U),R.resLevel=M,buildPrecincts(g,R,L),k.push(R);let j;if(M===0)j={},j.type="LL",j.tbx0=Math.ceil(F.tcx0/U),j.tby0=Math.ceil(F.tcy0/U),j.tbx1=Math.ceil(F.tcx1/U),j.tby1=Math.ceil(F.tcy1/U),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),R.subbands=[j];else{const H=1<<E-M+1,z=[];j={},j.type="HL",j.tbx0=Math.ceil(F.tcx0/H-.5),j.tby0=Math.ceil(F.tcy0/H),j.tbx1=Math.ceil(F.tcx1/H-.5),j.tby1=Math.ceil(F.tcy1/H),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),z.push(j),j={},j.type="LH",j.tbx0=Math.ceil(F.tcx0/H),j.tby0=Math.ceil(F.tcy0/H-.5),j.tbx1=Math.ceil(F.tcx1/H),j.tby1=Math.ceil(F.tcy1/H-.5),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),z.push(j),j={},j.type="HH",j.tbx0=Math.ceil(F.tcx0/H-.5),j.tby0=Math.ceil(F.tcy0/H-.5),j.tbx1=Math.ceil(F.tcx1/H-.5),j.tby1=Math.ceil(F.tcy1/H-.5),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),z.push(j),R.subbands=z}}F.resolutions=k,F.subbands=D}const S=b.codingStyleDefaultParameters.progressionOrder;switch(S){case 0:b.packetsIterator=new LayerResolutionComponentPositionIterator(g);break;case 1:b.packetsIterator=new ResolutionLayerComponentPositionIterator(g);break;case 2:b.packetsIterator=new ResolutionPositionComponentLayerIterator(g);break;case 3:b.packetsIterator=new PositionComponentResolutionLayerIterator(g);break;case 4:b.packetsIterator=new ComponentPositionResolutionLayerIterator(g);break;default:throw new JpxError(`Unsupported progression order ${S}`)}}function parseTilePackets(g,d,x,b){let w=0,S,C=0,F=!1;function E(V){for(;C<V;){const G=d[x+w];w++,F?(S=S<<7|G,C+=7,F=!1):(S=S<<8|G,C+=8),G===255&&(F=!0)}return C-=V,S>>>C&(1<<V)-1}function k(V){return d[x+w-1]===255&&d[x+w]===V?(D(1),!0):d[x+w]===255&&d[x+w+1]===V?(D(2),!0):!1}function D(V){w+=V}function M(){C=0,F&&(w++,F=!1)}function L(){if(E(1)===0)return 1;if(E(1)===0)return 2;let V=E(2);return V<3?V+3:(V=E(5),V<31?V+6:(V=E(7),V+37))}const R=g.currentTile.index,U=g.tiles[R],j=g.COD.sopMarkerUsed,H=g.COD.ephMarkerUsed,z=U.packetsIterator;for(;w<b;){M(),j&&k(145)&&D(4);const V=z.nextPacket();if(!E(1))continue;const G=V.layerNumber,$=[];let K;for(let Z=0,Q=V.codeblocks.length;Z<Q;Z++){K=V.codeblocks[Z];let ne=K.precinct;const le=K.cbx-ne.cbxMin,fe=K.cby-ne.cbyMin;let be=!1,me=!1,we,oe;if(K.included!==void 0)be=!!E(1);else{ne=K.precinct;let Oe;if(ne.inclusionTree!==void 0)Oe=ne.inclusionTree;else{const Be=ne.cbxMax-ne.cbxMin+1,Ie=ne.cbyMax-ne.cbyMin+1;Oe=new InclusionTree(Be,Ie,G),oe=new TagTree(Be,Ie),ne.inclusionTree=Oe,ne.zeroBitPlanesTree=oe;for(let Ee=0;Ee<G;Ee++)if(E(1)!==0)throw new JpxError("Invalid tag tree")}if(Oe.reset(le,fe,G))for(;;)if(E(1)){if(we=!Oe.nextLevel(),we){K.included=!0,be=me=!0;break}}else{Oe.incrementValue(G);break}}if(!be)continue;if(me){for(oe=ne.zeroBitPlanesTree,oe.reset(le,fe);;)if(E(1)){if(we=!oe.nextLevel(),we)break}else oe.incrementValue();K.zeroBitPlanes=oe.value}const ge=L();for(;E(1);)K.Lblock++;const Ae=log2(ge),Ce=(ge<1<<Ae?Ae-1:Ae)+K.Lblock,Ne=E(Ce);$.push({codeblock:K,codingpasses:ge,dataLength:Ne})}for(M(),H&&k(146);$.length>0;){const Z=$.shift();K=Z.codeblock,K.data===void 0&&(K.data=[]),K.data.push({data:d,start:x+w,end:x+w+Z.dataLength,codingpasses:Z.codingpasses}),w+=Z.dataLength}}return w}function copyCoefficients(g,d,x,b,w,S,C,F,E){const k=b.tbx0,D=b.tby0,M=b.tbx1-b.tbx0,L=b.codeblocks,R=b.type.charAt(0)==="H"?1:0,U=b.type.charAt(1)==="H"?d:0;for(let j=0,H=L.length;j<H;++j){const z=L[j],V=z.tbx1_-z.tbx0_,G=z.tby1_-z.tby0_;if(V===0||G===0||z.data===void 0)continue;const $=new BitModel(V,G,z.subbandType,z.zeroBitPlanes,S);let K=2;const Z=z.data;let Q=0,ne=0,le,fe,be;for(le=0,fe=Z.length;le<fe;le++)be=Z[le],Q+=be.end-be.start,ne+=be.codingpasses;const me=new Uint8Array(Q);let we=0;for(le=0,fe=Z.length;le<fe;le++){be=Z[le];const De=be.data.subarray(be.start,be.end);me.set(De,we),we+=De.length}const oe=new ArithmeticDecoder(me,0,Q);for($.setDecoder(oe),le=0;le<ne;le++){switch(K){case 0:$.runSignificancePropagationPass();break;case 1:$.runMagnitudeRefinementPass();break;case 2:$.runCleanupPass(),F&&$.checkSegmentationSymbol();break}E&&$.reset(),K=(K+1)%3}let ge=z.tbx0_-k+(z.tby0_-D)*M;const Ae=$.coefficentsSign,Ce=$.coefficentsMagnitude,Ne=$.bitsDecoded,Oe=C?0:.5;let Be,Ie,Ee;we=0;const Ue=b.type!=="LL";for(le=0;le<G;le++){const _e=2*(ge/M|0)*(d-M)+R+U;for(Be=0;Be<V;Be++){if(Ie=Ce[we],Ie!==0){Ie=(Ie+Oe)*w,Ae[we]!==0&&(Ie=-Ie),Ee=Ne[we];const Pe=Ue?_e+(ge<<1):ge;g[Pe]=C&&Ee>=S?Ie:Ie*(1<<S-Ee)}ge++,we++}ge+=M-V}}}function transformTile(g,d,x){const b=d.components[x],w=b.codingStyleParameters,S=b.quantizationParameters,C=w.decompositionLevelsCount,F=S.SPqcds,E=S.scalarExpounded,k=S.guardBits,D=w.segmentationSymbolUsed,M=w.resetContextProbabilities,L=g.components[x].precision,R=w.reversibleTransformation,U=R?new ReversibleTransform:new IrreversibleTransform,j=[];let H=0;for(let V=0;V<=C;V++){const G=b.resolutions[V],$=G.trx1-G.trx0,K=G.try1-G.try0,Z=new Float32Array($*K);for(let Q=0,ne=G.subbands.length;Q<ne;Q++){let le,fe;E?(le=F[H].mu,fe=F[H].epsilon,H++):(le=F[0].mu,fe=F[0].epsilon+(V>0?1-V:0));const be=G.subbands[Q],me=SubbandsGainLog2[be.type],we=R?1:2**(L+me-fe)*(1+le/2048),oe=k+fe-1;copyCoefficients(Z,$,K,be,we,oe,R,D,M)}j.push({width:$,height:K,items:Z})}const z=U.calculate(j,b.tcx0,b.tcy0);return{left:b.tcx0,top:b.tcy0,width:z.width,height:z.height,items:z.items}}function transformComponents(g){const d=g.SIZ,x=g.components,b=d.Csiz,w=[];for(let S=0,C=g.tiles.length;S<C;S++){const F=g.tiles[S],E=[];for(let $=0;$<b;$++)E[$]=transformTile(g,F,$);const k=E[0],D=new Uint8ClampedArray(k.items.length*b),M={left:k.left,top:k.top,width:k.width,height:k.height,items:D};let L,R,U=0,j,H,z,V,G;if(F.codingStyleDefaultParameters.multipleComponentTransform){const $=b===4,K=E[0].items,Z=E[1].items,Q=E[2].items,ne=$?E[3].items:null;L=x[0].precision-8,R=(128<<L)+.5;const le=F.components[0],fe=b-3;if(H=K.length,le.codingStyleParameters.reversibleTransformation)for(j=0;j<H;j++,U+=fe){z=K[j]+R,V=Z[j],G=Q[j];const be=z-(G+V>>2);D[U++]=be+G>>L,D[U++]=be>>L,D[U++]=be+V>>L}else for(j=0;j<H;j++,U+=fe)z=K[j]+R,V=Z[j],G=Q[j],D[U++]=z+1.402*G>>L,D[U++]=z-.34413*V-.71414*G>>L,D[U++]=z+1.772*V>>L;if($)for(j=0,U=3;j<H;j++,U+=4)D[U]=ne[j]+R>>L}else for(let $=0;$<b;$++){const K=E[$].items;for(L=x[$].precision-8,R=(128<<L)+.5,U=$,j=0,H=K.length;j<H;j++)D[U]=K[j]+R>>L,U+=b}w.push(M)}return w}function initializeTile(g,d){const b=g.SIZ.Csiz,w=g.tiles[d];for(let S=0;S<b;S++){const C=w.components[S],F=g.currentTile.QCC[S]!==void 0?g.currentTile.QCC[S]:g.currentTile.QCD;C.quantizationParameters=F;const E=g.currentTile.COC[S]!==void 0?g.currentTile.COC[S]:g.currentTile.COD;C.codingStyleParameters=E}w.codingStyleDefaultParameters=g.currentTile.COD}class TagTree{constructor(d,x){const b=log2(Math.max(d,x))+1;this.levels=[];for(let w=0;w<b;w++){const S={width:d,height:x,items:[]};this.levels.push(S),d=Math.ceil(d/2),x=Math.ceil(x/2)}}reset(d,x){let b=0,w=0,S;for(;b<this.levels.length;){S=this.levels[b];const C=d+x*S.width;if(S.items[C]!==void 0){w=S.items[C];break}S.index=C,d>>=1,x>>=1,b++}b--,S=this.levels[b],S.items[S.index]=w,this.currentLevel=b,delete this.value}incrementValue(){const d=this.levels[this.currentLevel];d.items[d.index]++}nextLevel(){let d=this.currentLevel,x=this.levels[d];const b=x.items[x.index];return d--,d<0?(this.value=b,!1):(this.currentLevel=d,x=this.levels[d],x.items[x.index]=b,!0)}}class InclusionTree{constructor(d,x,b){const w=log2(Math.max(d,x))+1;this.levels=[];for(let S=0;S<w;S++){const C=new Uint8Array(d*x);for(let E=0,k=C.length;E<k;E++)C[E]=b;const F={width:d,height:x,items:C};this.levels.push(F),d=Math.ceil(d/2),x=Math.ceil(x/2)}}reset(d,x,b){let w=0;for(;w<this.levels.length;){const S=this.levels[w],C=d+x*S.width;S.index=C;const F=S.items[C];if(F===255)break;if(F>b)return this.currentLevel=w,this.propagateValues(),!1;d>>=1,x>>=1,w++}return this.currentLevel=w-1,!0}incrementValue(d){const x=this.levels[this.currentLevel];x.items[x.index]=d+1,this.propagateValues()}propagateValues(){let d=this.currentLevel,x=this.levels[d];const b=x.items[x.index];for(;--d>=0;)x=this.levels[d],x.items[x.index]=b}nextLevel(){let d=this.currentLevel,x=this.levels[d];const b=x.items[x.index];return x.items[x.index]=255,d--,d<0?!1:(this.currentLevel=d,x=this.levels[d],x.items[x.index]=b,!0)}}class BitModel{static UNIFORM_CONTEXT=17;static RUNLENGTH_CONTEXT=18;static LLAndLHContextsLabel=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]);static HLContextLabel=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]);static HHContextLabel=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);constructor(d,x,b,w,S){this.width=d,this.height=x;let C;b==="HH"?C=BitModel.HHContextLabel:b==="HL"?C=BitModel.HLContextLabel:C=BitModel.LLAndLHContextsLabel,this.contextLabelTable=C;const F=d*x;this.neighborsSignificance=new Uint8Array(F),this.coefficentsSign=new Uint8Array(F);let E;S>14?E=new Uint32Array(F):S>6?E=new Uint16Array(F):E=new Uint8Array(F),this.coefficentsMagnitude=E,this.processingFlags=new Uint8Array(F);const k=new Uint8Array(F);if(w!==0)for(let D=0;D<F;D++)k[D]=w;this.bitsDecoded=k,this.reset()}setDecoder(d){this.decoder=d}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[BitModel.UNIFORM_CONTEXT]=92,this.contexts[BitModel.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(d,x,b){const w=this.neighborsSignificance,S=this.width,C=this.height,F=x>0,E=x+1<S;let k;d>0&&(k=b-S,F&&(w[k-1]+=16),E&&(w[k+1]+=16),w[k]+=4),d+1<C&&(k=b+S,F&&(w[k-1]+=16),E&&(w[k+1]+=16),w[k]+=4),F&&(w[b-1]+=1),E&&(w[b+1]+=1),w[b]|=128}runSignificancePropagationPass(){const d=this.decoder,x=this.width,b=this.height,w=this.coefficentsMagnitude,S=this.coefficentsSign,C=this.neighborsSignificance,F=this.processingFlags,E=this.contexts,k=this.contextLabelTable,D=this.bitsDecoded,M=-2,L=1,R=2;for(let U=0;U<b;U+=4)for(let j=0;j<x;j++){let H=U*x+j;for(let z=0;z<4;z++,H+=x){const V=U+z;if(V>=b)break;if(F[H]&=M,w[H]||!C[H])continue;const G=k[C[H]];if(d.readBit(E,G)){const K=this.decodeSignBit(V,j,H);S[H]=K,w[H]=1,this.setNeighborsSignificance(V,j,H),F[H]|=R}D[H]++,F[H]|=L}}}decodeSignBit(d,x,b){const w=this.width,S=this.height,C=this.coefficentsMagnitude,F=this.coefficentsSign;let E,k,D,M,L,R;M=x>0&&C[b-1]!==0,x+1<w&&C[b+1]!==0?(D=F[b+1],M?(k=F[b-1],E=1-D-k):E=1-D-D):M?(k=F[b-1],E=1-k-k):E=0;const U=3*E;return M=d>0&&C[b-w]!==0,d+1<S&&C[b+w]!==0?(D=F[b+w],M?(k=F[b-w],E=1-D-k+U):E=1-D-D+U):M?(k=F[b-w],E=1-k-k+U):E=U,E>=0?(L=9+E,R=this.decoder.readBit(this.contexts,L)):(L=9-E,R=this.decoder.readBit(this.contexts,L)^1),R}runMagnitudeRefinementPass(){const d=this.decoder,x=this.width,b=this.height,w=this.coefficentsMagnitude,S=this.neighborsSignificance,C=this.contexts,F=this.bitsDecoded,E=this.processingFlags,k=1,D=2,M=x*b,L=x*4;for(let R=0,U;R<M;R=U){U=Math.min(M,R+L);for(let j=0;j<x;j++)for(let H=R+j;H<U;H+=x){if(!w[H]||E[H]&k)continue;let z=16;E[H]&D&&(E[H]^=D,z=(S[H]&127)===0?15:14);const V=d.readBit(C,z);w[H]=w[H]<<1|V,F[H]++,E[H]|=k}}}runCleanupPass(){const d=this.decoder,x=this.width,b=this.height,w=this.neighborsSignificance,S=this.coefficentsMagnitude,C=this.coefficentsSign,F=this.contexts,E=this.contextLabelTable,k=this.bitsDecoded,D=this.processingFlags,M=1,L=2,R=x,U=x*2,j=x*3;let H;for(let z=0;z<b;z=H){H=Math.min(z+4,b);const V=z*x,G=z+3<b;for(let $=0;$<x;$++){const K=V+$,Z=G&&D[K]===0&&D[K+R]===0&&D[K+U]===0&&D[K+j]===0&&w[K]===0&&w[K+R]===0&&w[K+U]===0&&w[K+j]===0;let Q=0,ne=K,le=z,fe;if(Z){if(!d.readBit(F,BitModel.RUNLENGTH_CONTEXT)){k[K]++,k[K+R]++,k[K+U]++,k[K+j]++;continue}Q=d.readBit(F,BitModel.UNIFORM_CONTEXT)<<1|d.readBit(F,BitModel.UNIFORM_CONTEXT),Q!==0&&(le=z+Q,ne+=Q*x),fe=this.decodeSignBit(le,$,ne),C[ne]=fe,S[ne]=1,this.setNeighborsSignificance(le,$,ne),D[ne]|=L,ne=K;for(let me=z;me<=le;me++,ne+=x)k[ne]++;Q++}for(le=z+Q;le<H;le++,ne+=x){if(S[ne]||D[ne]&M)continue;const be=E[w[ne]];d.readBit(F,be)===1&&(fe=this.decodeSignBit(le,$,ne),C[ne]=fe,S[ne]=1,this.setNeighborsSignificance(le,$,ne),D[ne]|=L),k[ne]++}}}}checkSegmentationSymbol(){const d=this.decoder,x=this.contexts;if((d.readBit(x,BitModel.UNIFORM_CONTEXT)<<3|d.readBit(x,BitModel.UNIFORM_CONTEXT)<<2|d.readBit(x,BitModel.UNIFORM_CONTEXT)<<1|d.readBit(x,BitModel.UNIFORM_CONTEXT))!==10)throw new JpxError("Invalid segmentation symbol")}}let Transform$1=class ft{constructor(){this.constructor===ft&&unreachable("Cannot initialize Transform.")}calculate(d,x,b){let w=d[0];for(let S=1,C=d.length;S<C;S++)w=this.iterate(w,d[S],x,b);return w}extend(d,x,b){let w=x-1,S=x+1,C=x+b-2,F=x+b;d[w--]=d[S++],d[F++]=d[C--],d[w--]=d[S++],d[F++]=d[C--],d[w--]=d[S++],d[F++]=d[C--],d[w]=d[S],d[F]=d[C]}filter(d,x,b){unreachable("Abstract method `filter` called")}iterate(d,x,b,w){const S=d.width,C=d.height;let F=d.items;const E=x.width,k=x.height,D=x.items;let M,L,R,U,j,H;for(R=0,M=0;M<C;M++)for(U=M*2*E,L=0;L<S;L++,R++,U+=2)D[U]=F[R];F=d.items=null;const z=4,V=new Float32Array(E+2*z);if(E===1){if(b&1)for(H=0,R=0;H<k;H++,R+=E)D[R]*=.5}else for(H=0,R=0;H<k;H++,R+=E)V.set(D.subarray(R,R+E),z),this.extend(V,z,E),this.filter(V,z,E),D.set(V.subarray(z,z+E),R);let G=16;const $=[];for(M=0;M<G;M++)$.push(new Float32Array(k+2*z));let K,Z=0;if(d=z+k,k===1){if(w&1)for(j=0;j<E;j++)D[j]*=.5}else for(j=0;j<E;j++){if(Z===0){for(G=Math.min(E-j,G),R=j,U=z;U<d;R+=E,U++)for(K=0;K<G;K++)$[K][U]=D[R+K];Z=G}Z--;const Q=$[Z];if(this.extend(Q,z,k),this.filter(Q,z,k),Z===0)for(R=j-G+1,U=z;U<d;R+=E,U++)for(K=0;K<G;K++)D[R+K]=$[K][U]}return{width:E,height:k,items:D}}};class IrreversibleTransform extends Transform$1{filter(d,x,b){const w=b>>1;x|=0;let S,C,F,E;const k=-1.586134342059924,D=-.052980118572961,M=.882911075530934,L=.443506852043971,R=1.230174104914001,U=1/R;for(S=x-3,C=w+4;C--;S+=2)d[S]*=U;for(S=x-2,F=L*d[S-1],C=w+3;C--&&(E=L*d[S+1],d[S]=R*d[S]-F-E,C--);S+=2)S+=2,F=L*d[S+1],d[S]=R*d[S]-F-E;for(S=x-1,F=M*d[S-1],C=w+2;C--&&(E=M*d[S+1],d[S]-=F+E,C--);S+=2)S+=2,F=M*d[S+1],d[S]-=F+E;for(S=x,F=D*d[S-1],C=w+1;C--&&(E=D*d[S+1],d[S]-=F+E,C--);S+=2)S+=2,F=D*d[S+1],d[S]-=F+E;if(w!==0)for(S=x+1,F=k*d[S-1],C=w;C--&&(E=k*d[S+1],d[S]-=F+E,C--);S+=2)S+=2,F=k*d[S+1],d[S]-=F+E}}class ReversibleTransform extends Transform$1{filter(d,x,b){const w=b>>1;x|=0;let S,C;for(S=x,C=w+1;C--;S+=2)d[S]-=d[S-1]+d[S+1]+2>>2;for(S=x+1,C=w;C--;S+=2)d[S]+=d[S-1]+d[S+1]>>1}}class JpxStream extends DecodeStream$1{constructor(d,x,b){super(x),this.stream=d,this.dict=d.dict,this.maybeLength=x,this.params=b}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(d){}readBlock(){if(this.eof)return;const d=new JpxImage;d.parse(this.bytes);const x=d.width,b=d.height,w=d.componentsCount,S=d.tiles.length;if(S===1)this.buffer=d.tiles[0].items;else{const C=new Uint8ClampedArray(x*b*w);for(let F=0;F<S;F++){const E=d.tiles[F],k=E.width,D=E.height,M=E.left,L=E.top,R=E.items;let U=0,j=(x*L+M)*w;const H=x*w,z=k*w;for(let V=0;V<D;V++){const G=R.subarray(U,U+z);C.set(G,j),U+=z,j+=H}}this.buffer=C}this.bufferLength=this.buffer.length,this.eof=!0}}let LZWStream$1=class extends DecodeStream$1{constructor(d,x,b){super(x),this.str=d,this.dict=d.dict,this.cachedData=0,this.bitsCached=0;const w=4096,S={earlyChange:b,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(w),dictionaryLengths:new Uint16Array(w),dictionaryPrevCodes:new Uint16Array(w),currentSequence:new Uint8Array(w),currentSequenceLength:0};for(let C=0;C<256;++C)S.dictionaryValues[C]=C,S.dictionaryLengths[C]=1;this.lzwState=S}readBits(d){let x=this.bitsCached,b=this.cachedData;for(;x<d;){const w=this.str.getByte();if(w===-1)return this.eof=!0,null;b=b<<8|w,x+=8}return this.bitsCached=x-=d,this.cachedData=b,this.lastCode=null,b>>>x&(1<<d)-1}readBlock(){let b=1024,w,S,C;const F=this.lzwState;if(!F)return;const E=F.earlyChange;let k=F.nextCode;const D=F.dictionaryValues,M=F.dictionaryLengths,L=F.dictionaryPrevCodes;let R=F.codeLength,U=F.prevCode;const j=F.currentSequence;let H=F.currentSequenceLength,z=0,V=this.bufferLength,G=this.ensureBuffer(this.bufferLength+b);for(w=0;w<512;w++){const $=this.readBits(R),K=H>0;if($<256)j[0]=$,H=1;else if($>=258)if($<k)for(H=M[$],S=H-1,C=$;S>=0;S--)j[S]=D[C],C=L[C];else j[H++]=j[0];else if($===256){R=9,k=258,H=0;continue}else{this.eof=!0,delete this.lzwState;break}if(K&&(L[k]=U,M[k]=M[U]+1,D[k]=j[0],k++,R=k+E&k+E-1?R:Math.min(Math.log(k+E)/.6931471805599453+1,12)|0),U=$,z+=H,b<z){do b+=512;while(b<z);G=this.ensureBuffer(this.bufferLength+b)}for(S=0;S<H;S++)G[V++]=j[S]}F.nextCode=k,F.codeLength=R,F.prevCode=U,F.currentSequenceLength=H,this.bufferLength=V}};class PredictorStream extends DecodeStream$1{constructor(d,x,b){if(super(x),!(b instanceof Dict))return d;const w=this.predictor=b.get("Predictor")||1;if(w<=1)return d;if(w!==2&&(w<10||w>15))throw new FormatError(`Unsupported predictor: ${w}`);this.readBlock=w===2?this.readBlockTiff:this.readBlockPng,this.str=d,this.dict=d.dict;const S=this.colors=b.get("Colors")||1,C=this.bits=b.get("BPC","BitsPerComponent")||8,F=this.columns=b.get("Columns")||1;return this.pixBytes=S*C+7>>3,this.rowBytes=F*S*C+7>>3,this}readBlockTiff(){const d=this.rowBytes,x=this.bufferLength,b=this.ensureBuffer(x+d),w=this.bits,S=this.colors,C=this.str.getBytes(d);if(this.eof=!C.length,this.eof)return;let F=0,E=0,k=0,D=0,M=x,L;if(w===1&&S===1)for(L=0;L<d;++L){let R=C[L]^F;R^=R>>1,R^=R>>2,R^=R>>4,F=(R&1)<<7,b[M++]=R}else if(w===8){for(L=0;L<S;++L)b[M++]=C[L];for(;L<d;++L)b[M]=b[M-S]+C[L],M++}else if(w===16){const R=S*2;for(L=0;L<R;++L)b[M++]=C[L];for(;L<d;L+=2){const U=((C[L]&255)<<8)+(C[L+1]&255)+((b[M-R]&255)<<8)+(b[M-R+1]&255);b[M++]=U>>8&255,b[M++]=U&255}}else{const R=new Uint8Array(S+1),U=(1<<w)-1;let j=0,H=x;const z=this.columns;for(L=0;L<z;++L)for(let V=0;V<S;++V)k<w&&(F=F<<8|C[j++]&255,k+=8),R[V]=R[V]+(F>>k-w)&U,k-=w,E=E<<w|R[V],D+=w,D>=8&&(b[H++]=E>>D-8&255,D-=8);D>0&&(b[H++]=(E<<8-D)+(F&(1<<8-D)-1))}this.bufferLength+=d}readBlockPng(){const d=this.rowBytes,x=this.pixBytes,b=this.str.getByte(),w=this.str.getBytes(d);if(this.eof=!w.length,this.eof)return;const S=this.bufferLength,C=this.ensureBuffer(S+d);let F=C.subarray(S-d,S);F.length===0&&(F=new Uint8Array(d));let E,k=S,D,M;switch(b){case 0:for(E=0;E<d;++E)C[k++]=w[E];break;case 1:for(E=0;E<x;++E)C[k++]=w[E];for(;E<d;++E)C[k]=C[k-x]+w[E]&255,k++;break;case 2:for(E=0;E<d;++E)C[k++]=F[E]+w[E]&255;break;case 3:for(E=0;E<x;++E)C[k++]=(F[E]>>1)+w[E];for(;E<d;++E)C[k]=(F[E]+C[k-x]>>1)+w[E]&255,k++;break;case 4:for(E=0;E<x;++E)D=F[E],M=w[E],C[k++]=D+M;for(;E<d;++E){D=F[E];const L=F[E-x],R=C[k-x],U=R+D-L;let j=U-R;j<0&&(j=-j);let H=U-D;H<0&&(H=-H);let z=U-L;z<0&&(z=-z),M=w[E],j<=H&&j<=z?C[k++]=R+M:H<=z?C[k++]=D+M:C[k++]=L+M}break;default:throw new FormatError(`Unsupported predictor: ${b}`)}this.bufferLength+=d}}let RunLengthStream$1=class extends DecodeStream$1{constructor(d,x){super(x),this.str=d,this.dict=d.dict}readBlock(){const d=this.str.getBytes(2);if(!d||d.length<2||d[0]===128){this.eof=!0;return}let x,b=this.bufferLength,w=d[0];if(w<128){if(x=this.ensureBuffer(b+w+1),x[b++]=d[1],w>0){const S=this.str.getBytes(w);x.set(S,b),b+=w}}else{w=257-w;const S=d[1];x=this.ensureBuffer(b+w+1);for(let C=0;C<w;C++)x[b++]=S}this.bufferLength=b}};const MAX_LENGTH_TO_CACHE=1e3;function getInlineImageCacheKey(g){const d=[],x=g.length;let b=0;for(;b<x-1;)d.push(g[b++]<<8|g[b++]);return b<x&&d.push(g[b]),x+"_"+String.fromCharCode.apply(null,d)}let Parser$1=class{constructor({lexer:d,xref:x,allowStreams:b=!1,recoveryMode:w=!1}){this.lexer=d,this.xref=x,this.allowStreams=b,this.recoveryMode=w,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(d){if(d instanceof MissingDataException)throw d;return!1}}getObj(d=null){const x=this.buf1;if(this.shift(),x instanceof Cmd)switch(x.cmd){case"BI":return this.makeInlineImage(d);case"[":const b=[];for(;!isCmd(this.buf1,"]")&&this.buf1!==EOF;)b.push(this.getObj(d));if(this.buf1===EOF){if(this.recoveryMode)return b;throw new ParserEOFException("End of file inside array.")}return this.shift(),b;case"<<":const w=new Dict(this.xref);for(;!isCmd(this.buf1,">>")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name)){info("Malformed dictionary: key must be a name object"),this.shift();continue}const S=this.buf1.name;if(this.shift(),this.buf1===EOF)break;w.set(S,this.getObj(d))}if(this.buf1===EOF){if(this.recoveryMode)return w;throw new ParserEOFException("End of file inside dictionary.")}return isCmd(this.buf2,"stream")?this.allowStreams?this.makeStream(w,d):w:(this.shift(),w);default:return x}if(Number.isInteger(x)){if(Number.isInteger(this.buf1)&&isCmd(this.buf2,"R")){const b=Ref.get(x,this.buf1);return this.shift(),this.shift(),b}return x}return typeof x=="string"&&d?d.decryptString(x):x}findDefaultInlineStreamEnd(d){const{knownCommands:E}=this.lexer,k=d.pos,D=15;let M=0,L,R;for(;(L=d.getByte())!==-1;)if(M===0)M=L===69?1:0;else if(M===1)M=L===73?2:0;else if(L===32||L===10||L===13){R=d.pos;const j=d.peekBytes(D),H=j.length;if(H===0)break;for(let G=0;G<H;G++)if(L=j[G],!(L===0&&j[G+1]!==0)&&L!==10&&L!==13&&(L<32||L>127)){M=0;break}if(M!==2)continue;if(!E){warn("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const z=new Lexer(new Stream$1(j.slice()),E);z._hexStringWarn=()=>{};let V=0;for(;;){const G=z.getObj();if(G===EOF){M=0;break}if(G instanceof Cmd){const $=E[G.cmd];if($){if($.variableArgs?V<=$.numArgs:V===$.numArgs)break}else{M=0;break}V=0;continue}V++}if(M===2)break}else M=0;L===-1&&(warn("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),R&&(warn('... trying to recover by using the last "EI" occurrence.'),d.skip(-(d.pos-R))));let U=4;return d.skip(-U),L=d.peekByte(),d.skip(U),isWhiteSpace(L)||U--,d.pos-U-k}findDCTDecodeInlineStreamEnd(d){const x=d.pos;let b=!1,w,S;for(;(w=d.getByte())!==-1;)if(w===255){switch(d.getByte()){case 0:break;case 255:d.skip(-1);break;case 217:b=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:S=d.getUint16(),S>2?d.skip(S-2):d.skip(-2);break}if(b)break}const C=d.pos-x;return w===-1?(warn("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),d.skip(-C),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),C)}findASCII85DecodeInlineStreamEnd(d){const w=d.pos;let S;for(;(S=d.getByte())!==-1;)if(S===126){const F=d.pos;for(S=d.peekByte();isWhiteSpace(S);)d.skip(),S=d.peekByte();if(S===62){d.skip();break}if(d.pos>F){const E=d.peekBytes(2);if(E[0]===69&&E[1]===73)break}}const C=d.pos-w;return S===-1?(warn("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-C),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),C)}findASCIIHexDecodeInlineStreamEnd(d){const b=d.pos;let w;for(;(w=d.getByte())!==-1&&w!==62;);const S=d.pos-b;return w===-1?(warn("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-S),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),S)}inlineStreamSkipEI(d){let w=0,S;for(;(S=d.getByte())!==-1;)if(w===0)w=S===69?1:0;else if(w===1)w=S===73?2:0;else if(w===2)break}makeInlineImage(d){const x=this.lexer,b=x.stream,w=Object.create(null);let S;for(;!isCmd(this.buf1,"ID")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name))throw new FormatError("Dictionary key must be a name object");const R=this.buf1.name;if(this.shift(),this.buf1===EOF)break;w[R]=this.getObj(d)}x.beginInlineImagePos!==-1&&(S=b.pos-x.beginInlineImagePos);const C=this.xref.fetchIfRef(w.F||w.Filter);let F;if(C instanceof Name)F=C.name;else if(Array.isArray(C)){const R=this.xref.fetchIfRef(C[0]);R instanceof Name&&(F=R.name)}const E=b.pos;let k;switch(F){case"DCT":case"DCTDecode":k=this.findDCTDecodeInlineStreamEnd(b);break;case"A85":case"ASCII85Decode":k=this.findASCII85DecodeInlineStreamEnd(b);break;case"AHx":case"ASCIIHexDecode":k=this.findASCIIHexDecodeInlineStreamEnd(b);break;default:k=this.findDefaultInlineStreamEnd(b)}let D;if(k<MAX_LENGTH_TO_CACHE&&S>0){const R=b.pos;b.pos=x.beginInlineImagePos,D=getInlineImageCacheKey(b.getBytes(S+k)),b.pos=R;const U=this.imageCache[D];if(U!==void 0)return this.buf2=Cmd.get("EI"),this.shift(),U.reset(),U}const M=new Dict(this.xref);for(const R in w)M.set(R,w[R]);let L=b.makeSubStream(E,k,M);return d&&(L=d.createStream(L,k)),L=this.filter(L,M,k),L.dict=M,D!==void 0&&(L.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[D]=L),this.buf2=Cmd.get("EI"),this.shift(),L}_findStreamLength(d,x){const{stream:b}=this.lexer;b.pos=d;const w=2048,S=x.length;for(;b.pos<b.end;){const C=b.peekBytes(w),F=C.length-S;if(F<=0)break;let E=0;for(;E<F;){let k=0;for(;k<S&&C[E+k]===x[k];)k++;if(k>=S)return b.pos+=E,b.pos-d;E++}b.pos+=F}return-1}makeStream(d,x){const b=this.lexer;let w=b.stream;b.skipToNextLine();const S=w.pos-1;let C=d.get("Length");if(Number.isInteger(C)||(info(`Bad length "${C&&C.toString()}" in stream.`),C=0),w.pos=S+C,b.nextChar(),this.tryShift()&&isCmd(this.buf2,"endstream"))this.shift();else{const F=new Uint8Array([101,110,100,115,116,114,101,97,109]);let E=this._findStreamLength(S,F);if(E<0){for(let D=1;D<=1;D++){const M=F.length-D,L=F.slice(0,M),R=this._findStreamLength(S,L);if(R>=0){const U=w.peekBytes(M+1)[M];if(!isWhiteSpace(U))break;info(`Found "${bytesToString(L)}" when searching for endstream command.`),E=R;break}}if(E<0)throw new FormatError("Missing endstream command.")}C=E,b.nextChar(),this.shift(),this.shift()}return this.shift(),w=w.makeSubStream(S,C,d),x&&(w=x.createStream(w,C)),w=this.filter(w,d,C),w.dict=d,w}filter(d,x,b){let w=x.get("F","Filter"),S=x.get("DP","DecodeParms");if(w instanceof Name)return Array.isArray(S)&&warn("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(d,w.name,b,S);let C=b;if(Array.isArray(w)){const F=w,E=S;for(let k=0,D=F.length;k<D;++k){if(w=this.xref.fetchIfRef(F[k]),!(w instanceof Name))throw new FormatError(`Bad filter name "${w}"`);S=null,Array.isArray(E)&&k in E&&(S=this.xref.fetchIfRef(E[k])),d=this.makeFilter(d,w.name,C,S),C=null}}return d}makeFilter(d,x,b,w){if(b===0)return warn(`Empty "${x}" stream.`),new NullStream;try{switch(x){case"Fl":case"FlateDecode":return w?new PredictorStream(new FlateStream$1(d,b),b,w):new FlateStream$1(d,b);case"LZW":case"LZWDecode":let S=1;return w?(w.has("EarlyChange")&&(S=w.get("EarlyChange")),new PredictorStream(new LZWStream$1(d,b,S),b,w)):new LZWStream$1(d,b,S);case"DCT":case"DCTDecode":return new JpegStream(d,b,w);case"JPX":case"JPXDecode":return new JpxStream(d,b,w);case"A85":case"ASCII85Decode":return new Ascii85Stream$1(d,b);case"AHx":case"ASCIIHexDecode":return new AsciiHexStream$1(d,b);case"CCF":case"CCITTFaxDecode":return new CCITTFaxStream(d,b,w);case"RL":case"RunLengthDecode":return new RunLengthStream$1(d,b);case"JBIG2Decode":return new Jbig2Stream(d,b,w)}return warn(`Filter "${x}" is not supported.`),d}catch(S){if(S instanceof MissingDataException)throw S;return warn(`Invalid stream: "${S}"`),new NullStream}}};const specialChars=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function toHexDigit(g){return g>=48&&g<=57?g&15:g>=65&&g<=70||g>=97&&g<=102?(g&15)+9:-1}class Lexer{constructor(d,x=null){this.stream=d,this.nextChar(),this.strBuf=[],this.knownCommands=x,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let d=this.currentChar,x=!1,b=0,w=1;if(d===45?(w=-1,d=this.nextChar(),d===45&&(d=this.nextChar())):d===43&&(d=this.nextChar()),d===10||d===13)do d=this.nextChar();while(d===10||d===13);if(d===46&&(b=10,d=this.nextChar()),d<48||d>57){const E=`Invalid number: ${String.fromCharCode(d)} (charCode ${d})`;if(isWhiteSpace(d)||d===-1)return info(`Lexer.getNumber - "${E}".`),0;throw new FormatError(E)}let S=d-48,C=0,F=1;for(;(d=this.nextChar())>=0;)if(d>=48&&d<=57){const E=d-48;x?C=C*10+E:(b!==0&&(b*=10),S=S*10+E)}else if(d===46)if(b===0)b=1;else break;else if(d===45)warn("Badly formatted number: minus sign in the middle");else if(d===69||d===101){if(d=this.peekChar(),d===43||d===45)F=d===45?-1:1,this.nextChar();else if(d<48||d>57)break;x=!0}else break;return b!==0&&(S/=b),x&&(S*=10**(F*C)),w*S}getString(){let d=1,x=!1;const b=this.strBuf;b.length=0;let w=this.nextChar();for(;;){let S=!1;switch(w|0){case-1:warn("Unterminated string"),x=!0;break;case 40:++d,b.push("(");break;case 41:--d===0?(this.nextChar(),x=!0):b.push(")");break;case 92:switch(w=this.nextChar(),w){case-1:warn("Unterminated string"),x=!0;break;case 110:b.push(`
`);break;case 114:b.push("\r");break;case 116:b.push("	");break;case 98:b.push("\b");break;case 102:b.push("\f");break;case 92:case 40:case 41:b.push(String.fromCharCode(w));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let C=w&15;w=this.nextChar(),S=!0,w>=48&&w<=55&&(C=(C<<3)+(w&15),w=this.nextChar(),w>=48&&w<=55&&(S=!1,C=(C<<3)+(w&15))),b.push(String.fromCharCode(C));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:b.push(String.fromCharCode(w));break}break;default:b.push(String.fromCharCode(w));break}if(x)break;S||(w=this.nextChar())}return b.join("")}getName(){let d,x;const b=this.strBuf;for(b.length=0;(d=this.nextChar())>=0&&!specialChars[d];)if(d===35){if(d=this.nextChar(),specialChars[d]){warn("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),b.push("#");break}const w=toHexDigit(d);if(w!==-1){x=d,d=this.nextChar();const S=toHexDigit(d);if(S===-1){if(warn(`Lexer_getName: Illegal digit (${String.fromCharCode(d)}) in hexadecimal number.`),b.push("#",String.fromCharCode(x)),specialChars[d])break;b.push(String.fromCharCode(d));continue}b.push(String.fromCharCode(w<<4|S))}else b.push("#",String.fromCharCode(d))}else b.push(String.fromCharCode(d));return b.length>127&&warn(`Name token is longer than allowed by the spec: ${b.length}`),Name.get(b.join(""))}_hexStringWarn(d){if(this._hexStringNumWarn++===5){warn("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||warn(`getHexString - ignoring invalid character: ${d}`)}getHexString(){const d=this.strBuf;d.length=0;let x=this.currentChar,b=!0,w,S;for(this._hexStringNumWarn=0;;)if(x<0){warn("Unterminated hex string");break}else if(x===62){this.nextChar();break}else if(specialChars[x]===1){x=this.nextChar();continue}else{if(b){if(w=toHexDigit(x),w===-1){this._hexStringWarn(x),x=this.nextChar();continue}}else{if(S=toHexDigit(x),S===-1){this._hexStringWarn(x),x=this.nextChar();continue}d.push(String.fromCharCode(w<<4|S))}b=!b,x=this.nextChar()}return d.join("")}getObj(){let d=!1,x=this.currentChar;for(;;){if(x<0)return EOF;if(d)(x===10||x===13)&&(d=!1);else if(x===37)d=!0;else if(specialChars[x]!==1)break;x=this.nextChar()}switch(x|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Cmd.get("[");case 93:return this.nextChar(),Cmd.get("]");case 60:return x=this.nextChar(),x===60?(this.nextChar(),Cmd.get("<<")):this.getHexString();case 62:return x=this.nextChar(),x===62?(this.nextChar(),Cmd.get(">>")):Cmd.get(">");case 123:return this.nextChar(),Cmd.get("{");case 125:return this.nextChar(),Cmd.get("}");case 41:throw this.nextChar(),new FormatError(`Illegal character: ${x}`)}let b=String.fromCharCode(x);if(x<32||x>127){const C=this.peekChar();if(C>=32&&C<=127)return this.nextChar(),Cmd.get(b)}const w=this.knownCommands;let S=w?.[b]!==void 0;for(;(x=this.nextChar())>=0&&!specialChars[x];){const C=b+String.fromCharCode(x);if(S&&w[C]===void 0)break;if(b.length===128)throw new FormatError(`Command token too long: ${b.length}`);b=C,S=w?.[b]!==void 0}return b==="true"?!0:b==="false"?!1:b==="null"?null:(b==="BI"&&(this.beginInlineImagePos=this.stream.pos),Cmd.get(b))}skipToNextLine(){let d=this.currentChar;for(;d>=0;){if(d===13){d=this.nextChar(),d===10&&this.nextChar();break}else if(d===10){this.nextChar();break}d=this.nextChar()}}}class Linearization{static create(d){function x(M,L,R=!1){const U=M.get(L);if(Number.isInteger(U)&&(R?U>=0:U>0))return U;throw new Error(`The "${L}" parameter in the linearization dictionary is invalid.`)}function b(M){const L=M.get("H");let R;if(Array.isArray(L)&&((R=L.length)===2||R===4)){for(let U=0;U<R;U++){const j=L[U];if(!(Number.isInteger(j)&&j>0))throw new Error(`Hint (${U}) in the linearization dictionary is invalid.`)}return L}throw new Error("Hint array in the linearization dictionary is invalid.")}const w=new Parser$1({lexer:new Lexer(d),xref:null}),S=w.getObj(),C=w.getObj(),F=w.getObj(),E=w.getObj();let k,D;if(Number.isInteger(S)&&Number.isInteger(C)&&isCmd(F,"obj")&&E instanceof Dict&&typeof(k=E.get("Linearized"))=="number"&&k>0){if((D=x(E,"L"))!==d.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:D,hints:b(E),objectNumberFirst:x(E,"O"),endFirst:x(E,"E"),numPages:x(E,"N"),mainXRefEntriesOffset:x(E,"T"),pageFirst:E.has("P")?x(E,"P",!0):0}}}const BUILT_IN_CMAPS=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],MAX_MAP_RANGE=2**24-1;class CMap{constructor(d=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=d}addCodespaceRange(d,x,b){this.codespaceRanges[d-1].push(x,b),this.numCodespaceRanges++}mapCidRange(d,x,b){if(x-d>MAX_MAP_RANGE)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;d<=x;)this._map[d++]=b++}mapBfRange(d,x,b){if(x-d>MAX_MAP_RANGE)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const w=b.length-1;for(;d<=x;){this._map[d++]=b;const S=b.charCodeAt(w)+1;if(S>255){b=b.substring(0,w-1)+String.fromCharCode(b.charCodeAt(w-1)+1)+"\0";continue}b=b.substring(0,w)+String.fromCharCode(S)}}mapBfRangeToArray(d,x,b){if(x-d>MAX_MAP_RANGE)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const w=b.length;let S=0;for(;d<=x&&S<w;)this._map[d]=b[S++],++d}mapOne(d,x){this._map[d]=x}lookup(d){return this._map[d]}contains(d){return this._map[d]!==void 0}forEach(d){const x=this._map,b=x.length;if(b<=65536)for(let w=0;w<b;w++)x[w]!==void 0&&d(w,x[w]);else for(const w in x)d(w,x[w])}charCodeOf(d){const x=this._map;if(x.length<=65536)return x.indexOf(d);for(const b in x)if(x[b]===d)return b|0;return-1}getMap(){return this._map}readCharCode(d,x,b){let w=0;const S=this.codespaceRanges;for(let C=0,F=S.length;C<F;C++){w=(w<<8|d.charCodeAt(x+C))>>>0;const E=S[C];for(let k=0,D=E.length;k<D;){const M=E[k++],L=E[k++];if(w>=M&&w<=L){b.charcode=w,b.length=C+1;return}}}b.charcode=0,b.length=1}getCharCodeLength(d){const x=this.codespaceRanges;for(let b=0,w=x.length;b<w;b++){const S=x[b];for(let C=0,F=S.length;C<F;){const E=S[C++],k=S[C++];if(d>=E&&d<=k)return b+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let d=0;d<65536;d++)if(this._map[d]!==d)return!1;return!0}}class IdentityCMap extends CMap{constructor(d,x){super(),this.vertical=d,this.addCodespaceRange(x,0,65535)}mapCidRange(d,x,b){unreachable("should not call mapCidRange")}mapBfRange(d,x,b){unreachable("should not call mapBfRange")}mapBfRangeToArray(d,x,b){unreachable("should not call mapBfRangeToArray")}mapOne(d,x){unreachable("should not call mapCidOne")}lookup(d){return Number.isInteger(d)&&d<=65535?d:void 0}contains(d){return Number.isInteger(d)&&d<=65535}forEach(d){for(let x=0;x<=65535;x++)d(x,x)}charCodeOf(d){return Number.isInteger(d)&&d<=65535?d:-1}getMap(){const d=new Array(65536);for(let x=0;x<=65535;x++)d[x]=x;return d}get length(){return 65536}get isIdentityCMap(){unreachable("should not access .isIdentityCMap")}}function strToInt(g){let d=0;for(let x=0;x<g.length;x++)d=d<<8|g.charCodeAt(x);return d>>>0}function expectString(g){if(typeof g!="string")throw new FormatError("Malformed CMap: expected string.")}function expectInt(g){if(!Number.isInteger(g))throw new FormatError("Malformed CMap: expected int.")}function parseBfChar(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endbfchar"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectString(x);const w=x;g.mapOne(b,w)}}function parseBfRange(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endbfrange"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectString(x);const w=strToInt(x);if(x=d.getObj(),Number.isInteger(x)||typeof x=="string"){const S=Number.isInteger(x)?String.fromCharCode(x):x;g.mapBfRange(b,w,S)}else if(isCmd(x,"[")){x=d.getObj();const S=[];for(;!isCmd(x,"]")&&x!==EOF;)S.push(x),x=d.getObj();g.mapBfRangeToArray(b,w,S)}else break}throw new FormatError("Invalid bf range.")}function parseCidChar(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endcidchar"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectInt(x);const w=x;g.mapOne(b,w)}}function parseCidRange(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endcidrange"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectString(x);const w=strToInt(x);x=d.getObj(),expectInt(x);const S=x;g.mapCidRange(b,w,S)}}function parseCodespaceRange(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endcodespacerange"))return;if(typeof x!="string")break;const b=strToInt(x);if(x=d.getObj(),typeof x!="string")break;const w=strToInt(x);g.addCodespaceRange(x.length,b,w)}throw new FormatError("Invalid codespace range.")}function parseWMode(g,d){const x=d.getObj();Number.isInteger(x)&&(g.vertical=!!x)}function parseCMapName(g,d){const x=d.getObj();x instanceof Name&&(g.name=x.name)}async function parseCMap(g,d,x,b){let w,S;e:for(;;)try{const C=d.getObj();if(C===EOF)break;if(C instanceof Name)C.name==="WMode"?parseWMode(g,d):C.name==="CMapName"&&parseCMapName(g,d),w=C;else if(C instanceof Cmd)switch(C.cmd){case"endcmap":break e;case"usecmap":w instanceof Name&&(S=w.name);break;case"begincodespacerange":parseCodespaceRange(g,d);break;case"beginbfchar":parseBfChar(g,d);break;case"begincidchar":parseCidChar(g,d);break;case"beginbfrange":parseBfRange(g,d);break;case"begincidrange":parseCidRange(g,d);break}}catch(C){if(C instanceof MissingDataException)throw C;warn("Invalid cMap data: "+C);continue}return!b&&S&&(b=S),b?extendCMap(g,x,b):g}async function extendCMap(g,d,x){if(g.useCMap=await createBuiltInCMap(x,d),g.numCodespaceRanges===0){const b=g.useCMap.codespaceRanges;for(let w=0;w<b.length;w++)g.codespaceRanges[w]=b[w].slice();g.numCodespaceRanges=g.useCMap.numCodespaceRanges}return g.useCMap.forEach(function(b,w){g.contains(b)||g.mapOne(b,g.useCMap.lookup(b))}),g}async function createBuiltInCMap(g,d){if(g==="Identity-H")return new IdentityCMap(!1,2);if(g==="Identity-V")return new IdentityCMap(!0,2);if(!BUILT_IN_CMAPS.includes(g))throw new Error("Unknown CMap name: "+g);if(!d)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:x,compressionType:b}=await d(g),w=new CMap(!0);if(b===CMapCompressionType.BINARY)return new BinaryCMapReader().process(x,w,S=>extendCMap(w,d,S));if(b===CMapCompressionType.NONE){const S=new Lexer(new Stream$1(x));return parseCMap(w,S,d,null)}throw new Error(`Invalid CMap "compressionType" value: ${b}`)}class CMapFactory{static async create({encoding:d,fetchBuiltInCMap:x,useCMap:b}){if(d instanceof Name)return createBuiltInCMap(d.name,x);if(d instanceof BaseStream){const w=await parseCMap(new CMap,new Lexer(d),x,b);return w.isIdentityCMap?createBuiltInCMap(w.name,x):w}throw new Error("Encoding required.")}}const ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"],ExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],MacExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],MacRomanEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"],StandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""],WinAnsiEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"],SymbolSetEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""],ZapfDingbatsEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];function getEncoding(g){switch(g){case"WinAnsiEncoding":return WinAnsiEncoding;case"StandardEncoding":return StandardEncoding;case"MacRomanEncoding":return MacRomanEncoding;case"SymbolSetEncoding":return SymbolSetEncoding;case"ZapfDingbatsEncoding":return ZapfDingbatsEncoding;case"ExpertEncoding":return ExpertEncoding;case"MacExpertEncoding":return MacExpertEncoding;default:return null}}const MAX_SUBR_NESTING=10,CFFStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],NUM_STANDARD_CFF_STRINGS=391,CharstringValidationData=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],CharstringValidationData12=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]+g[d-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]-g[d-1]}},{id:"div",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]/g[d-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(g,d){g[d-1]=-g[d-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]*g[d-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class CFFParser{constructor(d,x,b){this.bytes=d.getBytes(),this.properties=x,this.seacAnalysisEnabled=!!b}parse(){const d=this.properties,x=new CFF;this.cff=x;const b=this.parseHeader(),w=this.parseIndex(b.endPos),S=this.parseIndex(w.endPos),C=this.parseIndex(S.endPos),F=this.parseIndex(C.endPos),E=this.parseDict(S.obj.get(0)),k=this.createDict(CFFTopDict,E,x.strings);x.header=b.obj,x.names=this.parseNameIndex(w.obj),x.strings=this.parseStringIndex(C.obj),x.topDict=k,x.globalSubrIndex=F.obj,this.parsePrivateDict(x.topDict),x.isCIDFont=k.hasName("ROS");const D=k.getByName("CharStrings"),M=this.parseIndex(D).obj,L=k.getByName("FontMatrix");L&&(d.fontMatrix=L);const R=k.getByName("FontBBox");R&&(d.ascent=Math.max(R[3],R[1]),d.descent=Math.min(R[1],R[3]),d.ascentScaled=!0);let U,j;if(x.isCIDFont){const z=this.parseIndex(k.getByName("FDArray")).obj;for(let V=0,G=z.count;V<G;++V){const $=z.get(V),K=this.createDict(CFFTopDict,this.parseDict($),x.strings);this.parsePrivateDict(K),x.fdArray.push(K)}j=null,U=this.parseCharsets(k.getByName("charset"),M.count,x.strings,!0),x.fdSelect=this.parseFDSelect(k.getByName("FDSelect"),M.count)}else U=this.parseCharsets(k.getByName("charset"),M.count,x.strings,!1),j=this.parseEncoding(k.getByName("Encoding"),d,x.strings,U.charset);x.charset=U,x.encoding=j;const H=this.parseCharStrings({charStrings:M,localSubrIndex:k.privateDict.subrsIndex,globalSubrIndex:F.obj,fdSelect:x.fdSelect,fdArray:x.fdArray,privateDict:k.privateDict});return x.charStrings=H.charStrings,x.seacs=H.seacs,x.widths=H.widths,x}parseHeader(){let d=this.bytes;const x=d.length;let b=0;for(;b<x&&d[b]!==1;)++b;if(b>=x)throw new FormatError("Invalid CFF header");b!==0&&(info("cff data is shifted"),d=d.subarray(b),this.bytes=d);const w=d[0],S=d[1],C=d[2],F=d[3];return{obj:new CFFHeader(w,S,C,F),endPos:C}}parseDict(d){let x=0;function b(){let E=d[x++];return E===30?w():E===28?(E=d[x++],E=(E<<24|d[x++]<<16)>>16,E):E===29?(E=d[x++],E=E<<8|d[x++],E=E<<8|d[x++],E=E<<8|d[x++],E):E>=32&&E<=246?E-139:E>=247&&E<=250?(E-247)*256+d[x++]+108:E>=251&&E<=254?-((E-251)*256)-d[x++]-108:(warn('CFFParser_parseDict: "'+E+'" is a reserved command.'),NaN)}function w(){let E="";const D=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],M=d.length;for(;x<M;){const L=d[x++],R=L>>4,U=L&15;if(R===15||(E+=D[R],U===15))break;E+=D[U]}return parseFloat(E)}let S=[];const C=[];x=0;const F=d.length;for(;x<F;){let E=d[x];E<=21?(E===12&&(E=E<<8|d[++x]),C.push([E,S]),S=[],++x):S.push(b())}return C}parseIndex(d){const x=new CFFIndex,b=this.bytes,w=b[d++]<<8|b[d++],S=[];let C=d,F,E;if(w!==0){const k=b[d++],D=d+(w+1)*k-1;for(F=0,E=w+1;F<E;++F){let M=0;for(let L=0;L<k;++L)M<<=8,M+=b[d++];S.push(D+M)}C=S[w]}for(F=0,E=S.length-1;F<E;++F){const k=S[F],D=S[F+1];x.add(b.subarray(k,D))}return{obj:x,endPos:C}}parseNameIndex(d){const x=[];for(let b=0,w=d.count;b<w;++b){const S=d.get(b);x.push(bytesToString(S))}return x}parseStringIndex(d){const x=new CFFStrings;for(let b=0,w=d.count;b<w;++b){const S=d.get(b);x.add(bytesToString(S))}return x}createDict(d,x,b){const w=new d(b);for(const[S,C]of x)w.setByKey(S,C);return w}parseCharString(d,x,b,w){if(!x||d.callDepth>MAX_SUBR_NESTING)return!1;let S=d.stackSize;const C=d.stack;let F=x.length;for(let E=0;E<F;){const k=x[E++];let D=null;if(k===12){const M=x[E++];M===0?(x[E-2]=139,x[E-1]=22,S=0):D=CharstringValidationData12[M]}else if(k===28)C[S]=(x[E]<<24|x[E+1]<<16)>>16,E+=2,S++;else if(k===14){if(S>=4&&(S-=4,this.seacAnalysisEnabled))return d.seac=C.slice(S,S+4),!1;D=CharstringValidationData[k]}else if(k>=32&&k<=246)C[S]=k-139,S++;else if(k>=247&&k<=254)C[S]=k<251?(k-247<<8)+x[E]+108:-(k-251<<8)-x[E]-108,E++,S++;else if(k===255)C[S]=(x[E]<<24|x[E+1]<<16|x[E+2]<<8|x[E+3])/65536,E+=4,S++;else if(k===19||k===20){if(d.hints+=S>>1,d.hints===0){x.copyWithin(E-1,E,-1),E-=1,F-=1;continue}E+=d.hints+7>>3,S%=2,D=CharstringValidationData[k]}else if(k===10||k===29){const M=k===10?b:w;if(!M)return D=CharstringValidationData[k],warn("Missing subrsIndex for "+D.id),!1;let L=32768;M.count<1240?L=107:M.count<33900&&(L=1131);const R=C[--S]+L;if(R<0||R>=M.count||isNaN(R))return D=CharstringValidationData[k],warn("Out of bounds subrIndex for "+D.id),!1;if(d.stackSize=S,d.callDepth++,!this.parseCharString(d,M.get(R),b,w))return!1;d.callDepth--,S=d.stackSize;continue}else{if(k===11)return d.stackSize=S,!0;if(k===0&&E===x.length)x[E-1]=14,D=CharstringValidationData[14];else if(k===9){x.copyWithin(E-1,E,-1),E-=1,F-=1;continue}else D=CharstringValidationData[k]}if(D){if(D.stem&&(d.hints+=S>>1,k===3||k===23?d.hasVStems=!0:d.hasVStems&&(k===1||k===18)&&(warn("CFF stem hints are in wrong order"),x[E-1]=k===1?3:23)),"min"in D&&!d.undefStack&&S<D.min)return warn("Not enough parameters for "+D.id+"; actual: "+S+", expected: "+D.min),S===0?(x[E-1]=14,!0):!1;d.firstStackClearing&&D.stackClearing&&(d.firstStackClearing=!1,S-=D.min,S>=2&&D.stem?S%=2:S>1&&warn("Found too many parameters for stack-clearing command"),S>0&&(d.width=C[S-1])),"stackDelta"in D?("stackFn"in D&&D.stackFn(C,S),S+=D.stackDelta):D.stackClearing?S=0:D.resetStack?(S=0,d.undefStack=!1):D.undefStack&&(S=0,d.undefStack=!0,d.firstStackClearing=!1)}}return F<x.length&&x.fill(14,F),d.stackSize=S,!0}parseCharStrings({charStrings:d,localSubrIndex:x,globalSubrIndex:b,fdSelect:w,fdArray:S,privateDict:C}){const F=[],E=[],k=d.count;for(let D=0;D<k;D++){const M=d.get(D),L={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let R=!0,U=null,j=C;if(w&&S.length){const H=w.getFDIndex(D);H===-1&&(warn("Glyph index is not in fd select."),R=!1),H>=S.length&&(warn("Invalid fd index for glyph index."),R=!1),R&&(j=S[H].privateDict,U=j.subrsIndex)}else x&&(U=x);if(R&&(R=this.parseCharString(L,M,U,b)),L.width!==null){const H=j.getByName("nominalWidthX");E[D]=H+L.width}else{const H=j.getByName("defaultWidthX");E[D]=H}L.seac!==null&&(F[D]=L.seac),R||d.set(D,new Uint8Array([14]))}return{charStrings:d,seacs:F,widths:E}}emptyPrivateDictionary(d){const x=this.createDict(CFFPrivateDict,[],d.strings);d.setByKey(18,[0,0]),d.privateDict=x}parsePrivateDict(d){if(!d.hasName("Private")){this.emptyPrivateDictionary(d);return}const x=d.getByName("Private");if(!Array.isArray(x)||x.length!==2){d.removeByName("Private");return}const b=x[0],w=x[1];if(b===0||w>=this.bytes.length){this.emptyPrivateDictionary(d);return}const S=w+b,C=this.bytes.subarray(w,S),F=this.parseDict(C),E=this.createDict(CFFPrivateDict,F,d.strings);if(d.privateDict=E,E.getByName("ExpansionFactor")===0&&E.setByName("ExpansionFactor",.06),!E.getByName("Subrs"))return;const k=E.getByName("Subrs"),D=w+k;if(k===0||D>=this.bytes.length){this.emptyPrivateDictionary(d);return}const M=this.parseIndex(D);E.subrsIndex=M.obj}parseCharsets(d,x,b,w){if(d===0)return new CFFCharset(!0,CFFCharsetPredefinedTypes.ISO_ADOBE,ISOAdobeCharset);if(d===1)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT,ExpertCharset);if(d===2)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT_SUBSET,ExpertSubsetCharset);const S=this.bytes,C=d,F=S[d++],E=[w?0:".notdef"];let k,D,M;switch(x-=1,F){case 0:for(M=0;M<x;M++)k=S[d++]<<8|S[d++],E.push(w?k:b.get(k));break;case 1:for(;E.length<=x;)for(k=S[d++]<<8|S[d++],D=S[d++],M=0;M<=D;M++)E.push(w?k++:b.get(k++));break;case 2:for(;E.length<=x;)for(k=S[d++]<<8|S[d++],D=S[d++]<<8|S[d++],M=0;M<=D;M++)E.push(w?k++:b.get(k++));break;default:throw new FormatError("Unknown charset format")}const L=d,R=S.subarray(C,L);return new CFFCharset(!1,F,E,R)}parseEncoding(d,x,b,w){const S=Object.create(null),C=this.bytes;let F=!1,E,k,D,M=null;function L(){const R=C[d++];for(k=0;k<R;k++){const U=C[d++],j=(C[d++]<<8)+(C[d++]&255);S[U]=w.indexOf(b.get(j))}}if(d===0||d===1){F=!0,E=d;const R=d?ExpertEncoding:StandardEncoding;for(k=0,D=w.length;k<D;k++){const U=R.indexOf(w[k]);U!==-1&&(S[U]=k)}}else{const R=d;switch(E=C[d++],E&127){case 0:const j=C[d++];for(k=1;k<=j;k++)S[C[d++]]=k;break;case 1:const H=C[d++];let z=1;for(k=0;k<H;k++){const V=C[d++],G=C[d++];for(let $=V;$<=V+G;$++)S[$]=z++}break;default:throw new FormatError(`Unknown encoding format: ${E} in CFF`)}const U=d;E&128&&(C[R]&=127,L()),M=C.subarray(R,U)}return E&=127,new CFFEncoding(F,E,S,M)}parseFDSelect(d,x){const b=this.bytes,w=b[d++],S=[];let C;switch(w){case 0:for(C=0;C<x;++C){const E=b[d++];S.push(E)}break;case 3:const F=b[d++]<<8|b[d++];for(C=0;C<F;++C){let E=b[d++]<<8|b[d++];C===0&&E!==0&&(warn("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),E=0);const k=b[d++],D=b[d]<<8|b[d+1];for(let M=E;M<D;++M)S.push(k)}d+=2;break;default:throw new FormatError(`parseFDSelect: Unknown format "${w}".`)}if(S.length!==x)throw new FormatError("parseFDSelect: Invalid font data.");return new CFFFDSelect(w,S)}}class CFF{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new CFFStrings,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){warn("Not enough space in charstrings to duplicate first glyph.");return}const d=this.charStrings.get(0);this.charStrings.add(d),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(d){return d<0||d>=this.charStrings.count?!1:this.charStrings.get(d).length>0}}class CFFHeader{constructor(d,x,b,w){this.major=d,this.minor=x,this.hdrSize=b,this.offSize=w}}class CFFStrings{constructor(){this.strings=[]}get(d){return d>=0&&d<=NUM_STANDARD_CFF_STRINGS-1?CFFStandardStrings[d]:d-NUM_STANDARD_CFF_STRINGS<=this.strings.length?this.strings[d-NUM_STANDARD_CFF_STRINGS]:CFFStandardStrings[0]}getSID(d){let x=CFFStandardStrings.indexOf(d);return x!==-1?x:(x=this.strings.indexOf(d),x!==-1?x+NUM_STANDARD_CFF_STRINGS:-1)}add(d){this.strings.push(d)}get count(){return this.strings.length}}class CFFIndex{constructor(){this.objects=[],this.length=0}add(d){this.length+=d.length,this.objects.push(d)}set(d,x){this.length+=x.length-this.objects[d].length,this.objects[d]=x}get(d){return this.objects[d]}get count(){return this.objects.length}}class CFFDict{constructor(d,x){this.keyToNameMap=d.keyToNameMap,this.nameToKeyMap=d.nameToKeyMap,this.defaults=d.defaults,this.types=d.types,this.opcodes=d.opcodes,this.order=d.order,this.strings=x,this.values=Object.create(null)}setByKey(d,x){if(!(d in this.keyToNameMap))return!1;if(x.length===0)return!0;for(const w of x)if(isNaN(w))return warn(`Invalid CFFDict value: "${x}" for key "${d}".`),!0;const b=this.types[d];return(b==="num"||b==="sid"||b==="offset")&&(x=x[0]),this.values[d]=x,!0}setByName(d,x){if(!(d in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name "${d}"`);this.values[this.nameToKeyMap[d]]=x}hasName(d){return this.nameToKeyMap[d]in this.values}getByName(d){if(!(d in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name ${d}"`);const x=this.nameToKeyMap[d];return x in this.values?this.values[x]:this.defaults[x]}removeByName(d){delete this.values[this.nameToKeyMap[d]]}static createTables(d){const x={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const b of d){const w=Array.isArray(b[0])?(b[0][0]<<8)+b[0][1]:b[0];x.keyToNameMap[w]=b[1],x.nameToKeyMap[b[1]]=w,x.types[w]=b[2],x.defaults[w]=b[3],x.opcodes[w]=Array.isArray(b[0])?b[0]:[b[0]],x.order.push(w)}return x}}const CFFTopDictLayout=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class CFFTopDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFTopDictLayout))}constructor(d){super(CFFTopDict.tables,d),this.privateDict=null}}const CFFPrivateDictLayout=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class CFFPrivateDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFPrivateDictLayout))}constructor(d){super(CFFPrivateDict.tables,d),this.subrsIndex=null}}const CFFCharsetPredefinedTypes={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class CFFCharset{constructor(d,x,b,w){this.predefined=d,this.format=x,this.charset=b,this.raw=w}}class CFFEncoding{constructor(d,x,b,w){this.predefined=d,this.format=x,this.encoding=b,this.raw=w}}class CFFFDSelect{constructor(d,x){this.format=d,this.fdSelect=x}getFDIndex(d){return d<0||d>=this.fdSelect.length?-1:this.fdSelect[d]}}class CFFOffsetTracker{constructor(){this.offsets=Object.create(null)}isTracking(d){return d in this.offsets}track(d,x){if(d in this.offsets)throw new FormatError(`Already tracking location of ${d}`);this.offsets[d]=x}offset(d){for(const x in this.offsets)this.offsets[x]+=d}setEntryLocation(d,x,b){if(!(d in this.offsets))throw new FormatError(`Not tracking location of ${d}`);const w=b.data,S=this.offsets[d],C=5;for(let F=0,E=x.length;F<E;++F){const k=F*C+S,D=k+1,M=k+2,L=k+3,R=k+4;if(w[k]!==29||w[D]!==0||w[M]!==0||w[L]!==0||w[R]!==0)throw new FormatError("writing to an offset that is not empty");const U=x[F];w[k]=29,w[D]=U>>24&255,w[M]=U>>16&255,w[L]=U>>8&255,w[R]=U&255}}}class CFFCompiler{constructor(d){this.cff=d}compile(){const d=this.cff,x={data:[],length:0,add(L){try{this.data.push(...L)}catch{this.data=this.data.concat(L)}this.length=this.data.length}},b=this.compileHeader(d.header);x.add(b);const w=this.compileNameIndex(d.names);if(x.add(w),d.isCIDFont&&d.topDict.hasName("FontMatrix")){const L=d.topDict.getByName("FontMatrix");d.topDict.removeByName("FontMatrix");for(const R of d.fdArray){let U=L.slice(0);R.hasName("FontMatrix")&&(U=Util.transform(U,R.getByName("FontMatrix"))),R.setByName("FontMatrix",U)}}d.topDict.getByName("XUID")?.length>16&&d.topDict.removeByName("XUID"),d.topDict.setByName("charset",0);let C=this.compileTopDicts([d.topDict],x.length,d.isCIDFont);x.add(C.output);const F=C.trackers[0],E=this.compileStringIndex(d.strings.strings);x.add(E);const k=this.compileIndex(d.globalSubrIndex);if(x.add(k),d.encoding&&d.topDict.hasName("Encoding"))if(d.encoding.predefined)F.setEntryLocation("Encoding",[d.encoding.format],x);else{const L=this.compileEncoding(d.encoding);F.setEntryLocation("Encoding",[x.length],x),x.add(L)}const D=this.compileCharset(d.charset,d.charStrings.count,d.strings,d.isCIDFont);F.setEntryLocation("charset",[x.length],x),x.add(D);const M=this.compileCharStrings(d.charStrings);if(F.setEntryLocation("CharStrings",[x.length],x),x.add(M),d.isCIDFont){F.setEntryLocation("FDSelect",[x.length],x);const L=this.compileFDSelect(d.fdSelect);x.add(L),C=this.compileTopDicts(d.fdArray,x.length,!0),F.setEntryLocation("FDArray",[x.length],x),x.add(C.output);const R=C.trackers;this.compilePrivateDicts(d.fdArray,R,x)}return this.compilePrivateDicts([d.topDict],[F],x),x.add([0]),x.data}encodeNumber(d){return Number.isInteger(d)?this.encodeInteger(d):this.encodeFloat(d)}static get EncodeFloatRegExp(){return shadow(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(d){let x=d.toString();const b=CFFCompiler.EncodeFloatRegExp.exec(x);if(b){const E=parseFloat("1e"+((b[2]?+b[2]:0)+b[1].length));x=(Math.round(d*E)/E).toString()}let w="",S,C;for(S=0,C=x.length;S<C;++S){const E=x[S];E==="e"?w+=x[++S]==="-"?"c":"b":E==="."?w+="a":E==="-"?w+="e":w+=E}w+=w.length&1?"f":"ff";const F=[30];for(S=0,C=w.length;S<C;S+=2)F.push(parseInt(w.substring(S,S+2),16));return F}encodeInteger(d){let x;return d>=-107&&d<=107?x=[d+139]:d>=108&&d<=1131?(d-=108,x=[(d>>8)+247,d&255]):d>=-1131&&d<=-108?(d=-d-108,x=[(d>>8)+251,d&255]):d>=-32768&&d<=32767?x=[28,d>>8&255,d&255]:x=[29,d>>24&255,d>>16&255,d>>8&255,d&255],x}compileHeader(d){return[d.major,d.minor,4,d.offSize]}compileNameIndex(d){const x=new CFFIndex;for(const b of d){const w=Math.min(b.length,127);let S=new Array(w);for(let C=0;C<w;C++){let F=b[C];(F<"!"||F>"~"||F==="["||F==="]"||F==="("||F===")"||F==="{"||F==="}"||F==="<"||F===">"||F==="/"||F==="%")&&(F="_"),S[C]=F}S=S.join(""),S===""&&(S="Bad_Font_Name"),x.add(stringToBytes(S))}return this.compileIndex(x)}compileTopDicts(d,x,b){const w=[];let S=new CFFIndex;for(const C of d){b&&(C.removeByName("CIDFontVersion"),C.removeByName("CIDFontRevision"),C.removeByName("CIDFontType"),C.removeByName("CIDCount"),C.removeByName("UIDBase"));const F=new CFFOffsetTracker,E=this.compileDict(C,F);w.push(F),S.add(E),F.offset(x)}return S=this.compileIndex(S,w),{trackers:w,output:S}}compilePrivateDicts(d,x,b){for(let w=0,S=d.length;w<S;++w){const C=d[w],F=C.privateDict;if(!F||!C.hasName("Private"))throw new FormatError("There must be a private dictionary.");const E=new CFFOffsetTracker,k=this.compileDict(F,E);let D=b.length;if(E.offset(D),k.length||(D=0),x[w].setEntryLocation("Private",[k.length,D],b),b.add(k),F.subrsIndex&&F.hasName("Subrs")){const M=this.compileIndex(F.subrsIndex);E.setEntryLocation("Subrs",[k.length],b),b.add(M)}}}compileDict(d,x){const b=[];for(const w of d.order){if(!(w in d.values))continue;let S=d.values[w],C=d.types[w];if(Array.isArray(C)||(C=[C]),Array.isArray(S)||(S=[S]),S.length!==0){for(let F=0,E=C.length;F<E;++F){const k=C[F],D=S[F];switch(k){case"num":case"sid":b.push(...this.encodeNumber(D));break;case"offset":const M=d.keyToNameMap[w];x.isTracking(M)||x.track(M,b.length),b.push(29,0,0,0,0);break;case"array":case"delta":b.push(...this.encodeNumber(D));for(let L=1,R=S.length;L<R;++L)b.push(...this.encodeNumber(S[L]));break;default:throw new FormatError(`Unknown data type of ${k}`)}}b.push(...d.opcodes[w])}}return b}compileStringIndex(d){const x=new CFFIndex;for(const b of d)x.add(stringToBytes(b));return this.compileIndex(x)}compileCharStrings(d){const x=new CFFIndex;for(let b=0;b<d.count;b++){const w=d.get(b);if(w.length===0){x.add(new Uint8Array([139,14]));continue}x.add(w)}return this.compileIndex(x)}compileCharset(d,x,b,w){let S;const C=x-1;if(w)S=new Uint8Array([2,0,0,C>>8&255,C&255]);else{const F=1+C*2;S=new Uint8Array(F),S[0]=0;let E=0;const k=d.charset.length;let D=!1;for(let M=1;M<S.length;M+=2){let L=0;if(E<k){const R=d.charset[E++];L=b.getSID(R),L===-1&&(L=0,D||(D=!0,warn(`Couldn't find ${R} in CFF strings`)))}S[M]=L>>8&255,S[M+1]=L&255}}return this.compileTypedArray(S)}compileEncoding(d){return this.compileTypedArray(d.raw)}compileFDSelect(d){const x=d.format;let b,w;switch(x){case 0:for(b=new Uint8Array(1+d.fdSelect.length),b[0]=x,w=0;w<d.fdSelect.length;w++)b[w+1]=d.fdSelect[w];break;case 3:const S=0;let C=d.fdSelect[0];const F=[x,0,0,S>>8&255,S&255,C];for(w=1;w<d.fdSelect.length;w++){const k=d.fdSelect[w];k!==C&&(F.push(w>>8&255,w&255,k),C=k)}const E=(F.length-3)/3;F[1]=E>>8&255,F[2]=E&255,F.push(w>>8&255,w&255),b=new Uint8Array(F);break}return this.compileTypedArray(b)}compileTypedArray(d){return Array.from(d)}compileIndex(d,x=[]){const b=d.objects,w=b.length;if(w===0)return[0,0];const S=[w>>8&255,w&255];let C=1,F;for(F=0;F<w;++F)C+=b[F].length;let E;C<256?E=1:C<65536?E=2:C<16777216?E=3:E=4,S.push(E);let k=1;for(F=0;F<w+1;F++)E===1?S.push(k&255):E===2?S.push(k>>8&255,k&255):E===3?S.push(k>>16&255,k>>8&255,k&255):S.push(k>>>24&255,k>>16&255,k>>8&255,k&255),b[F]&&(k+=b[F].length);for(F=0;F<w;F++)x[F]&&x[F].offset(S.length),S.push(...b[F]);return S}}const getGlyphsUnicode=getLookupTableFactory(function(g){g.A=65,g.AE=198,g.AEacute=508,g.AEmacron=482,g.AEsmall=63462,g.Aacute=193,g.Aacutesmall=63457,g.Abreve=258,g.Abreveacute=7854,g.Abrevecyrillic=1232,g.Abrevedotbelow=7862,g.Abrevegrave=7856,g.Abrevehookabove=7858,g.Abrevetilde=7860,g.Acaron=461,g.Acircle=9398,g.Acircumflex=194,g.Acircumflexacute=7844,g.Acircumflexdotbelow=7852,g.Acircumflexgrave=7846,g.Acircumflexhookabove=7848,g.Acircumflexsmall=63458,g.Acircumflextilde=7850,g.Acute=63177,g.Acutesmall=63412,g.Acyrillic=1040,g.Adblgrave=512,g.Adieresis=196,g.Adieresiscyrillic=1234,g.Adieresismacron=478,g.Adieresissmall=63460,g.Adotbelow=7840,g.Adotmacron=480,g.Agrave=192,g.Agravesmall=63456,g.Ahookabove=7842,g.Aiecyrillic=1236,g.Ainvertedbreve=514,g.Alpha=913,g.Alphatonos=902,g.Amacron=256,g.Amonospace=65313,g.Aogonek=260,g.Aring=197,g.Aringacute=506,g.Aringbelow=7680,g.Aringsmall=63461,g.Asmall=63329,g.Atilde=195,g.Atildesmall=63459,g.Aybarmenian=1329,g.B=66,g.Bcircle=9399,g.Bdotaccent=7682,g.Bdotbelow=7684,g.Becyrillic=1041,g.Benarmenian=1330,g.Beta=914,g.Bhook=385,g.Blinebelow=7686,g.Bmonospace=65314,g.Brevesmall=63220,g.Bsmall=63330,g.Btopbar=386,g.C=67,g.Caarmenian=1342,g.Cacute=262,g.Caron=63178,g.Caronsmall=63221,g.Ccaron=268,g.Ccedilla=199,g.Ccedillaacute=7688,g.Ccedillasmall=63463,g.Ccircle=9400,g.Ccircumflex=264,g.Cdot=266,g.Cdotaccent=266,g.Cedillasmall=63416,g.Chaarmenian=1353,g.Cheabkhasiancyrillic=1212,g.Checyrillic=1063,g.Chedescenderabkhasiancyrillic=1214,g.Chedescendercyrillic=1206,g.Chedieresiscyrillic=1268,g.Cheharmenian=1347,g.Chekhakassiancyrillic=1227,g.Cheverticalstrokecyrillic=1208,g.Chi=935,g.Chook=391,g.Circumflexsmall=63222,g.Cmonospace=65315,g.Coarmenian=1361,g.Csmall=63331,g.D=68,g.DZ=497,g.DZcaron=452,g.Daarmenian=1332,g.Dafrican=393,g.Dcaron=270,g.Dcedilla=7696,g.Dcircle=9401,g.Dcircumflexbelow=7698,g.Dcroat=272,g.Ddotaccent=7690,g.Ddotbelow=7692,g.Decyrillic=1044,g.Deicoptic=1006,g.Delta=8710,g.Deltagreek=916,g.Dhook=394,g.Dieresis=63179,g.DieresisAcute=63180,g.DieresisGrave=63181,g.Dieresissmall=63400,g.Digammagreek=988,g.Djecyrillic=1026,g.Dlinebelow=7694,g.Dmonospace=65316,g.Dotaccentsmall=63223,g.Dslash=272,g.Dsmall=63332,g.Dtopbar=395,g.Dz=498,g.Dzcaron=453,g.Dzeabkhasiancyrillic=1248,g.Dzecyrillic=1029,g.Dzhecyrillic=1039,g.E=69,g.Eacute=201,g.Eacutesmall=63465,g.Ebreve=276,g.Ecaron=282,g.Ecedillabreve=7708,g.Echarmenian=1333,g.Ecircle=9402,g.Ecircumflex=202,g.Ecircumflexacute=7870,g.Ecircumflexbelow=7704,g.Ecircumflexdotbelow=7878,g.Ecircumflexgrave=7872,g.Ecircumflexhookabove=7874,g.Ecircumflexsmall=63466,g.Ecircumflextilde=7876,g.Ecyrillic=1028,g.Edblgrave=516,g.Edieresis=203,g.Edieresissmall=63467,g.Edot=278,g.Edotaccent=278,g.Edotbelow=7864,g.Efcyrillic=1060,g.Egrave=200,g.Egravesmall=63464,g.Eharmenian=1335,g.Ehookabove=7866,g.Eightroman=8551,g.Einvertedbreve=518,g.Eiotifiedcyrillic=1124,g.Elcyrillic=1051,g.Elevenroman=8554,g.Emacron=274,g.Emacronacute=7702,g.Emacrongrave=7700,g.Emcyrillic=1052,g.Emonospace=65317,g.Encyrillic=1053,g.Endescendercyrillic=1186,g.Eng=330,g.Enghecyrillic=1188,g.Enhookcyrillic=1223,g.Eogonek=280,g.Eopen=400,g.Epsilon=917,g.Epsilontonos=904,g.Ercyrillic=1056,g.Ereversed=398,g.Ereversedcyrillic=1069,g.Escyrillic=1057,g.Esdescendercyrillic=1194,g.Esh=425,g.Esmall=63333,g.Eta=919,g.Etarmenian=1336,g.Etatonos=905,g.Eth=208,g.Ethsmall=63472,g.Etilde=7868,g.Etildebelow=7706,g.Euro=8364,g.Ezh=439,g.Ezhcaron=494,g.Ezhreversed=440,g.F=70,g.Fcircle=9403,g.Fdotaccent=7710,g.Feharmenian=1366,g.Feicoptic=996,g.Fhook=401,g.Fitacyrillic=1138,g.Fiveroman=8548,g.Fmonospace=65318,g.Fourroman=8547,g.Fsmall=63334,g.G=71,g.GBsquare=13191,g.Gacute=500,g.Gamma=915,g.Gammaafrican=404,g.Gangiacoptic=1002,g.Gbreve=286,g.Gcaron=486,g.Gcedilla=290,g.Gcircle=9404,g.Gcircumflex=284,g.Gcommaaccent=290,g.Gdot=288,g.Gdotaccent=288,g.Gecyrillic=1043,g.Ghadarmenian=1346,g.Ghemiddlehookcyrillic=1172,g.Ghestrokecyrillic=1170,g.Gheupturncyrillic=1168,g.Ghook=403,g.Gimarmenian=1331,g.Gjecyrillic=1027,g.Gmacron=7712,g.Gmonospace=65319,g.Grave=63182,g.Gravesmall=63328,g.Gsmall=63335,g.Gsmallhook=667,g.Gstroke=484,g.H=72,g.H18533=9679,g.H18543=9642,g.H18551=9643,g.H22073=9633,g.HPsquare=13259,g.Haabkhasiancyrillic=1192,g.Hadescendercyrillic=1202,g.Hardsigncyrillic=1066,g.Hbar=294,g.Hbrevebelow=7722,g.Hcedilla=7720,g.Hcircle=9405,g.Hcircumflex=292,g.Hdieresis=7718,g.Hdotaccent=7714,g.Hdotbelow=7716,g.Hmonospace=65320,g.Hoarmenian=1344,g.Horicoptic=1e3,g.Hsmall=63336,g.Hungarumlaut=63183,g.Hungarumlautsmall=63224,g.Hzsquare=13200,g.I=73,g.IAcyrillic=1071,g.IJ=306,g.IUcyrillic=1070,g.Iacute=205,g.Iacutesmall=63469,g.Ibreve=300,g.Icaron=463,g.Icircle=9406,g.Icircumflex=206,g.Icircumflexsmall=63470,g.Icyrillic=1030,g.Idblgrave=520,g.Idieresis=207,g.Idieresisacute=7726,g.Idieresiscyrillic=1252,g.Idieresissmall=63471,g.Idot=304,g.Idotaccent=304,g.Idotbelow=7882,g.Iebrevecyrillic=1238,g.Iecyrillic=1045,g.Ifraktur=8465,g.Igrave=204,g.Igravesmall=63468,g.Ihookabove=7880,g.Iicyrillic=1048,g.Iinvertedbreve=522,g.Iishortcyrillic=1049,g.Imacron=298,g.Imacroncyrillic=1250,g.Imonospace=65321,g.Iniarmenian=1339,g.Iocyrillic=1025,g.Iogonek=302,g.Iota=921,g.Iotaafrican=406,g.Iotadieresis=938,g.Iotatonos=906,g.Ismall=63337,g.Istroke=407,g.Itilde=296,g.Itildebelow=7724,g.Izhitsacyrillic=1140,g.Izhitsadblgravecyrillic=1142,g.J=74,g.Jaarmenian=1345,g.Jcircle=9407,g.Jcircumflex=308,g.Jecyrillic=1032,g.Jheharmenian=1355,g.Jmonospace=65322,g.Jsmall=63338,g.K=75,g.KBsquare=13189,g.KKsquare=13261,g.Kabashkircyrillic=1184,g.Kacute=7728,g.Kacyrillic=1050,g.Kadescendercyrillic=1178,g.Kahookcyrillic=1219,g.Kappa=922,g.Kastrokecyrillic=1182,g.Kaverticalstrokecyrillic=1180,g.Kcaron=488,g.Kcedilla=310,g.Kcircle=9408,g.Kcommaaccent=310,g.Kdotbelow=7730,g.Keharmenian=1364,g.Kenarmenian=1343,g.Khacyrillic=1061,g.Kheicoptic=998,g.Khook=408,g.Kjecyrillic=1036,g.Klinebelow=7732,g.Kmonospace=65323,g.Koppacyrillic=1152,g.Koppagreek=990,g.Ksicyrillic=1134,g.Ksmall=63339,g.L=76,g.LJ=455,g.LL=63167,g.Lacute=313,g.Lambda=923,g.Lcaron=317,g.Lcedilla=315,g.Lcircle=9409,g.Lcircumflexbelow=7740,g.Lcommaaccent=315,g.Ldot=319,g.Ldotaccent=319,g.Ldotbelow=7734,g.Ldotbelowmacron=7736,g.Liwnarmenian=1340,g.Lj=456,g.Ljecyrillic=1033,g.Llinebelow=7738,g.Lmonospace=65324,g.Lslash=321,g.Lslashsmall=63225,g.Lsmall=63340,g.M=77,g.MBsquare=13190,g.Macron=63184,g.Macronsmall=63407,g.Macute=7742,g.Mcircle=9410,g.Mdotaccent=7744,g.Mdotbelow=7746,g.Menarmenian=1348,g.Mmonospace=65325,g.Msmall=63341,g.Mturned=412,g.Mu=924,g.N=78,g.NJ=458,g.Nacute=323,g.Ncaron=327,g.Ncedilla=325,g.Ncircle=9411,g.Ncircumflexbelow=7754,g.Ncommaaccent=325,g.Ndotaccent=7748,g.Ndotbelow=7750,g.Nhookleft=413,g.Nineroman=8552,g.Nj=459,g.Njecyrillic=1034,g.Nlinebelow=7752,g.Nmonospace=65326,g.Nowarmenian=1350,g.Nsmall=63342,g.Ntilde=209,g.Ntildesmall=63473,g.Nu=925,g.O=79,g.OE=338,g.OEsmall=63226,g.Oacute=211,g.Oacutesmall=63475,g.Obarredcyrillic=1256,g.Obarreddieresiscyrillic=1258,g.Obreve=334,g.Ocaron=465,g.Ocenteredtilde=415,g.Ocircle=9412,g.Ocircumflex=212,g.Ocircumflexacute=7888,g.Ocircumflexdotbelow=7896,g.Ocircumflexgrave=7890,g.Ocircumflexhookabove=7892,g.Ocircumflexsmall=63476,g.Ocircumflextilde=7894,g.Ocyrillic=1054,g.Odblacute=336,g.Odblgrave=524,g.Odieresis=214,g.Odieresiscyrillic=1254,g.Odieresissmall=63478,g.Odotbelow=7884,g.Ogoneksmall=63227,g.Ograve=210,g.Ogravesmall=63474,g.Oharmenian=1365,g.Ohm=8486,g.Ohookabove=7886,g.Ohorn=416,g.Ohornacute=7898,g.Ohorndotbelow=7906,g.Ohorngrave=7900,g.Ohornhookabove=7902,g.Ohorntilde=7904,g.Ohungarumlaut=336,g.Oi=418,g.Oinvertedbreve=526,g.Omacron=332,g.Omacronacute=7762,g.Omacrongrave=7760,g.Omega=8486,g.Omegacyrillic=1120,g.Omegagreek=937,g.Omegaroundcyrillic=1146,g.Omegatitlocyrillic=1148,g.Omegatonos=911,g.Omicron=927,g.Omicrontonos=908,g.Omonospace=65327,g.Oneroman=8544,g.Oogonek=490,g.Oogonekmacron=492,g.Oopen=390,g.Oslash=216,g.Oslashacute=510,g.Oslashsmall=63480,g.Osmall=63343,g.Ostrokeacute=510,g.Otcyrillic=1150,g.Otilde=213,g.Otildeacute=7756,g.Otildedieresis=7758,g.Otildesmall=63477,g.P=80,g.Pacute=7764,g.Pcircle=9413,g.Pdotaccent=7766,g.Pecyrillic=1055,g.Peharmenian=1354,g.Pemiddlehookcyrillic=1190,g.Phi=934,g.Phook=420,g.Pi=928,g.Piwrarmenian=1363,g.Pmonospace=65328,g.Psi=936,g.Psicyrillic=1136,g.Psmall=63344,g.Q=81,g.Qcircle=9414,g.Qmonospace=65329,g.Qsmall=63345,g.R=82,g.Raarmenian=1356,g.Racute=340,g.Rcaron=344,g.Rcedilla=342,g.Rcircle=9415,g.Rcommaaccent=342,g.Rdblgrave=528,g.Rdotaccent=7768,g.Rdotbelow=7770,g.Rdotbelowmacron=7772,g.Reharmenian=1360,g.Rfraktur=8476,g.Rho=929,g.Ringsmall=63228,g.Rinvertedbreve=530,g.Rlinebelow=7774,g.Rmonospace=65330,g.Rsmall=63346,g.Rsmallinverted=641,g.Rsmallinvertedsuperior=694,g.S=83,g.SF010000=9484,g.SF020000=9492,g.SF030000=9488,g.SF040000=9496,g.SF050000=9532,g.SF060000=9516,g.SF070000=9524,g.SF080000=9500,g.SF090000=9508,g.SF100000=9472,g.SF110000=9474,g.SF190000=9569,g.SF200000=9570,g.SF210000=9558,g.SF220000=9557,g.SF230000=9571,g.SF240000=9553,g.SF250000=9559,g.SF260000=9565,g.SF270000=9564,g.SF280000=9563,g.SF360000=9566,g.SF370000=9567,g.SF380000=9562,g.SF390000=9556,g.SF400000=9577,g.SF410000=9574,g.SF420000=9568,g.SF430000=9552,g.SF440000=9580,g.SF450000=9575,g.SF460000=9576,g.SF470000=9572,g.SF480000=9573,g.SF490000=9561,g.SF500000=9560,g.SF510000=9554,g.SF520000=9555,g.SF530000=9579,g.SF540000=9578,g.Sacute=346,g.Sacutedotaccent=7780,g.Sampigreek=992,g.Scaron=352,g.Scarondotaccent=7782,g.Scaronsmall=63229,g.Scedilla=350,g.Schwa=399,g.Schwacyrillic=1240,g.Schwadieresiscyrillic=1242,g.Scircle=9416,g.Scircumflex=348,g.Scommaaccent=536,g.Sdotaccent=7776,g.Sdotbelow=7778,g.Sdotbelowdotaccent=7784,g.Seharmenian=1357,g.Sevenroman=8550,g.Shaarmenian=1351,g.Shacyrillic=1064,g.Shchacyrillic=1065,g.Sheicoptic=994,g.Shhacyrillic=1210,g.Shimacoptic=1004,g.Sigma=931,g.Sixroman=8549,g.Smonospace=65331,g.Softsigncyrillic=1068,g.Ssmall=63347,g.Stigmagreek=986,g.T=84,g.Tau=932,g.Tbar=358,g.Tcaron=356,g.Tcedilla=354,g.Tcircle=9417,g.Tcircumflexbelow=7792,g.Tcommaaccent=354,g.Tdotaccent=7786,g.Tdotbelow=7788,g.Tecyrillic=1058,g.Tedescendercyrillic=1196,g.Tenroman=8553,g.Tetsecyrillic=1204,g.Theta=920,g.Thook=428,g.Thorn=222,g.Thornsmall=63486,g.Threeroman=8546,g.Tildesmall=63230,g.Tiwnarmenian=1359,g.Tlinebelow=7790,g.Tmonospace=65332,g.Toarmenian=1337,g.Tonefive=444,g.Tonesix=388,g.Tonetwo=423,g.Tretroflexhook=430,g.Tsecyrillic=1062,g.Tshecyrillic=1035,g.Tsmall=63348,g.Twelveroman=8555,g.Tworoman=8545,g.U=85,g.Uacute=218,g.Uacutesmall=63482,g.Ubreve=364,g.Ucaron=467,g.Ucircle=9418,g.Ucircumflex=219,g.Ucircumflexbelow=7798,g.Ucircumflexsmall=63483,g.Ucyrillic=1059,g.Udblacute=368,g.Udblgrave=532,g.Udieresis=220,g.Udieresisacute=471,g.Udieresisbelow=7794,g.Udieresiscaron=473,g.Udieresiscyrillic=1264,g.Udieresisgrave=475,g.Udieresismacron=469,g.Udieresissmall=63484,g.Udotbelow=7908,g.Ugrave=217,g.Ugravesmall=63481,g.Uhookabove=7910,g.Uhorn=431,g.Uhornacute=7912,g.Uhorndotbelow=7920,g.Uhorngrave=7914,g.Uhornhookabove=7916,g.Uhorntilde=7918,g.Uhungarumlaut=368,g.Uhungarumlautcyrillic=1266,g.Uinvertedbreve=534,g.Ukcyrillic=1144,g.Umacron=362,g.Umacroncyrillic=1262,g.Umacrondieresis=7802,g.Umonospace=65333,g.Uogonek=370,g.Upsilon=933,g.Upsilon1=978,g.Upsilonacutehooksymbolgreek=979,g.Upsilonafrican=433,g.Upsilondieresis=939,g.Upsilondieresishooksymbolgreek=980,g.Upsilonhooksymbol=978,g.Upsilontonos=910,g.Uring=366,g.Ushortcyrillic=1038,g.Usmall=63349,g.Ustraightcyrillic=1198,g.Ustraightstrokecyrillic=1200,g.Utilde=360,g.Utildeacute=7800,g.Utildebelow=7796,g.V=86,g.Vcircle=9419,g.Vdotbelow=7806,g.Vecyrillic=1042,g.Vewarmenian=1358,g.Vhook=434,g.Vmonospace=65334,g.Voarmenian=1352,g.Vsmall=63350,g.Vtilde=7804,g.W=87,g.Wacute=7810,g.Wcircle=9420,g.Wcircumflex=372,g.Wdieresis=7812,g.Wdotaccent=7814,g.Wdotbelow=7816,g.Wgrave=7808,g.Wmonospace=65335,g.Wsmall=63351,g.X=88,g.Xcircle=9421,g.Xdieresis=7820,g.Xdotaccent=7818,g.Xeharmenian=1341,g.Xi=926,g.Xmonospace=65336,g.Xsmall=63352,g.Y=89,g.Yacute=221,g.Yacutesmall=63485,g.Yatcyrillic=1122,g.Ycircle=9422,g.Ycircumflex=374,g.Ydieresis=376,g.Ydieresissmall=63487,g.Ydotaccent=7822,g.Ydotbelow=7924,g.Yericyrillic=1067,g.Yerudieresiscyrillic=1272,g.Ygrave=7922,g.Yhook=435,g.Yhookabove=7926,g.Yiarmenian=1349,g.Yicyrillic=1031,g.Yiwnarmenian=1362,g.Ymonospace=65337,g.Ysmall=63353,g.Ytilde=7928,g.Yusbigcyrillic=1130,g.Yusbigiotifiedcyrillic=1132,g.Yuslittlecyrillic=1126,g.Yuslittleiotifiedcyrillic=1128,g.Z=90,g.Zaarmenian=1334,g.Zacute=377,g.Zcaron=381,g.Zcaronsmall=63231,g.Zcircle=9423,g.Zcircumflex=7824,g.Zdot=379,g.Zdotaccent=379,g.Zdotbelow=7826,g.Zecyrillic=1047,g.Zedescendercyrillic=1176,g.Zedieresiscyrillic=1246,g.Zeta=918,g.Zhearmenian=1338,g.Zhebrevecyrillic=1217,g.Zhecyrillic=1046,g.Zhedescendercyrillic=1174,g.Zhedieresiscyrillic=1244,g.Zlinebelow=7828,g.Zmonospace=65338,g.Zsmall=63354,g.Zstroke=437,g.a=97,g.aabengali=2438,g.aacute=225,g.aadeva=2310,g.aagujarati=2694,g.aagurmukhi=2566,g.aamatragurmukhi=2622,g.aarusquare=13059,g.aavowelsignbengali=2494,g.aavowelsigndeva=2366,g.aavowelsigngujarati=2750,g.abbreviationmarkarmenian=1375,g.abbreviationsigndeva=2416,g.abengali=2437,g.abopomofo=12570,g.abreve=259,g.abreveacute=7855,g.abrevecyrillic=1233,g.abrevedotbelow=7863,g.abrevegrave=7857,g.abrevehookabove=7859,g.abrevetilde=7861,g.acaron=462,g.acircle=9424,g.acircumflex=226,g.acircumflexacute=7845,g.acircumflexdotbelow=7853,g.acircumflexgrave=7847,g.acircumflexhookabove=7849,g.acircumflextilde=7851,g.acute=180,g.acutebelowcmb=791,g.acutecmb=769,g.acutecomb=769,g.acutedeva=2388,g.acutelowmod=719,g.acutetonecmb=833,g.acyrillic=1072,g.adblgrave=513,g.addakgurmukhi=2673,g.adeva=2309,g.adieresis=228,g.adieresiscyrillic=1235,g.adieresismacron=479,g.adotbelow=7841,g.adotmacron=481,g.ae=230,g.aeacute=509,g.aekorean=12624,g.aemacron=483,g.afii00208=8213,g.afii08941=8356,g.afii10017=1040,g.afii10018=1041,g.afii10019=1042,g.afii10020=1043,g.afii10021=1044,g.afii10022=1045,g.afii10023=1025,g.afii10024=1046,g.afii10025=1047,g.afii10026=1048,g.afii10027=1049,g.afii10028=1050,g.afii10029=1051,g.afii10030=1052,g.afii10031=1053,g.afii10032=1054,g.afii10033=1055,g.afii10034=1056,g.afii10035=1057,g.afii10036=1058,g.afii10037=1059,g.afii10038=1060,g.afii10039=1061,g.afii10040=1062,g.afii10041=1063,g.afii10042=1064,g.afii10043=1065,g.afii10044=1066,g.afii10045=1067,g.afii10046=1068,g.afii10047=1069,g.afii10048=1070,g.afii10049=1071,g.afii10050=1168,g.afii10051=1026,g.afii10052=1027,g.afii10053=1028,g.afii10054=1029,g.afii10055=1030,g.afii10056=1031,g.afii10057=1032,g.afii10058=1033,g.afii10059=1034,g.afii10060=1035,g.afii10061=1036,g.afii10062=1038,g.afii10063=63172,g.afii10064=63173,g.afii10065=1072,g.afii10066=1073,g.afii10067=1074,g.afii10068=1075,g.afii10069=1076,g.afii10070=1077,g.afii10071=1105,g.afii10072=1078,g.afii10073=1079,g.afii10074=1080,g.afii10075=1081,g.afii10076=1082,g.afii10077=1083,g.afii10078=1084,g.afii10079=1085,g.afii10080=1086,g.afii10081=1087,g.afii10082=1088,g.afii10083=1089,g.afii10084=1090,g.afii10085=1091,g.afii10086=1092,g.afii10087=1093,g.afii10088=1094,g.afii10089=1095,g.afii10090=1096,g.afii10091=1097,g.afii10092=1098,g.afii10093=1099,g.afii10094=1100,g.afii10095=1101,g.afii10096=1102,g.afii10097=1103,g.afii10098=1169,g.afii10099=1106,g.afii10100=1107,g.afii10101=1108,g.afii10102=1109,g.afii10103=1110,g.afii10104=1111,g.afii10105=1112,g.afii10106=1113,g.afii10107=1114,g.afii10108=1115,g.afii10109=1116,g.afii10110=1118,g.afii10145=1039,g.afii10146=1122,g.afii10147=1138,g.afii10148=1140,g.afii10192=63174,g.afii10193=1119,g.afii10194=1123,g.afii10195=1139,g.afii10196=1141,g.afii10831=63175,g.afii10832=63176,g.afii10846=1241,g.afii299=8206,g.afii300=8207,g.afii301=8205,g.afii57381=1642,g.afii57388=1548,g.afii57392=1632,g.afii57393=1633,g.afii57394=1634,g.afii57395=1635,g.afii57396=1636,g.afii57397=1637,g.afii57398=1638,g.afii57399=1639,g.afii57400=1640,g.afii57401=1641,g.afii57403=1563,g.afii57407=1567,g.afii57409=1569,g.afii57410=1570,g.afii57411=1571,g.afii57412=1572,g.afii57413=1573,g.afii57414=1574,g.afii57415=1575,g.afii57416=1576,g.afii57417=1577,g.afii57418=1578,g.afii57419=1579,g.afii57420=1580,g.afii57421=1581,g.afii57422=1582,g.afii57423=1583,g.afii57424=1584,g.afii57425=1585,g.afii57426=1586,g.afii57427=1587,g.afii57428=1588,g.afii57429=1589,g.afii57430=1590,g.afii57431=1591,g.afii57432=1592,g.afii57433=1593,g.afii57434=1594,g.afii57440=1600,g.afii57441=1601,g.afii57442=1602,g.afii57443=1603,g.afii57444=1604,g.afii57445=1605,g.afii57446=1606,g.afii57448=1608,g.afii57449=1609,g.afii57450=1610,g.afii57451=1611,g.afii57452=1612,g.afii57453=1613,g.afii57454=1614,g.afii57455=1615,g.afii57456=1616,g.afii57457=1617,g.afii57458=1618,g.afii57470=1607,g.afii57505=1700,g.afii57506=1662,g.afii57507=1670,g.afii57508=1688,g.afii57509=1711,g.afii57511=1657,g.afii57512=1672,g.afii57513=1681,g.afii57514=1722,g.afii57519=1746,g.afii57534=1749,g.afii57636=8362,g.afii57645=1470,g.afii57658=1475,g.afii57664=1488,g.afii57665=1489,g.afii57666=1490,g.afii57667=1491,g.afii57668=1492,g.afii57669=1493,g.afii57670=1494,g.afii57671=1495,g.afii57672=1496,g.afii57673=1497,g.afii57674=1498,g.afii57675=1499,g.afii57676=1500,g.afii57677=1501,g.afii57678=1502,g.afii57679=1503,g.afii57680=1504,g.afii57681=1505,g.afii57682=1506,g.afii57683=1507,g.afii57684=1508,g.afii57685=1509,g.afii57686=1510,g.afii57687=1511,g.afii57688=1512,g.afii57689=1513,g.afii57690=1514,g.afii57694=64298,g.afii57695=64299,g.afii57700=64331,g.afii57705=64287,g.afii57716=1520,g.afii57717=1521,g.afii57718=1522,g.afii57723=64309,g.afii57793=1460,g.afii57794=1461,g.afii57795=1462,g.afii57796=1467,g.afii57797=1464,g.afii57798=1463,g.afii57799=1456,g.afii57800=1458,g.afii57801=1457,g.afii57802=1459,g.afii57803=1474,g.afii57804=1473,g.afii57806=1465,g.afii57807=1468,g.afii57839=1469,g.afii57841=1471,g.afii57842=1472,g.afii57929=700,g.afii61248=8453,g.afii61289=8467,g.afii61352=8470,g.afii61573=8236,g.afii61574=8237,g.afii61575=8238,g.afii61664=8204,g.afii63167=1645,g.afii64937=701,g.agrave=224,g.agujarati=2693,g.agurmukhi=2565,g.ahiragana=12354,g.ahookabove=7843,g.aibengali=2448,g.aibopomofo=12574,g.aideva=2320,g.aiecyrillic=1237,g.aigujarati=2704,g.aigurmukhi=2576,g.aimatragurmukhi=2632,g.ainarabic=1593,g.ainfinalarabic=65226,g.aininitialarabic=65227,g.ainmedialarabic=65228,g.ainvertedbreve=515,g.aivowelsignbengali=2504,g.aivowelsigndeva=2376,g.aivowelsigngujarati=2760,g.akatakana=12450,g.akatakanahalfwidth=65393,g.akorean=12623,g.alef=1488,g.alefarabic=1575,g.alefdageshhebrew=64304,g.aleffinalarabic=65166,g.alefhamzaabovearabic=1571,g.alefhamzaabovefinalarabic=65156,g.alefhamzabelowarabic=1573,g.alefhamzabelowfinalarabic=65160,g.alefhebrew=1488,g.aleflamedhebrew=64335,g.alefmaddaabovearabic=1570,g.alefmaddaabovefinalarabic=65154,g.alefmaksuraarabic=1609,g.alefmaksurafinalarabic=65264,g.alefmaksurainitialarabic=65267,g.alefmaksuramedialarabic=65268,g.alefpatahhebrew=64302,g.alefqamatshebrew=64303,g.aleph=8501,g.allequal=8780,g.alpha=945,g.alphatonos=940,g.amacron=257,g.amonospace=65345,g.ampersand=38,g.ampersandmonospace=65286,g.ampersandsmall=63270,g.amsquare=13250,g.anbopomofo=12578,g.angbopomofo=12580,g.angbracketleft=12296,g.angbracketright=12297,g.angkhankhuthai=3674,g.angle=8736,g.anglebracketleft=12296,g.anglebracketleftvertical=65087,g.anglebracketright=12297,g.anglebracketrightvertical=65088,g.angleleft=9001,g.angleright=9002,g.angstrom=8491,g.anoteleia=903,g.anudattadeva=2386,g.anusvarabengali=2434,g.anusvaradeva=2306,g.anusvaragujarati=2690,g.aogonek=261,g.apaatosquare=13056,g.aparen=9372,g.apostrophearmenian=1370,g.apostrophemod=700,g.apple=63743,g.approaches=8784,g.approxequal=8776,g.approxequalorimage=8786,g.approximatelyequal=8773,g.araeaekorean=12686,g.araeakorean=12685,g.arc=8978,g.arighthalfring=7834,g.aring=229,g.aringacute=507,g.aringbelow=7681,g.arrowboth=8596,g.arrowdashdown=8675,g.arrowdashleft=8672,g.arrowdashright=8674,g.arrowdashup=8673,g.arrowdblboth=8660,g.arrowdbldown=8659,g.arrowdblleft=8656,g.arrowdblright=8658,g.arrowdblup=8657,g.arrowdown=8595,g.arrowdownleft=8601,g.arrowdownright=8600,g.arrowdownwhite=8681,g.arrowheaddownmod=709,g.arrowheadleftmod=706,g.arrowheadrightmod=707,g.arrowheadupmod=708,g.arrowhorizex=63719,g.arrowleft=8592,g.arrowleftdbl=8656,g.arrowleftdblstroke=8653,g.arrowleftoverright=8646,g.arrowleftwhite=8678,g.arrowright=8594,g.arrowrightdblstroke=8655,g.arrowrightheavy=10142,g.arrowrightoverleft=8644,g.arrowrightwhite=8680,g.arrowtableft=8676,g.arrowtabright=8677,g.arrowup=8593,g.arrowupdn=8597,g.arrowupdnbse=8616,g.arrowupdownbase=8616,g.arrowupleft=8598,g.arrowupleftofdown=8645,g.arrowupright=8599,g.arrowupwhite=8679,g.arrowvertex=63718,g.asciicircum=94,g.asciicircummonospace=65342,g.asciitilde=126,g.asciitildemonospace=65374,g.ascript=593,g.ascriptturned=594,g.asmallhiragana=12353,g.asmallkatakana=12449,g.asmallkatakanahalfwidth=65383,g.asterisk=42,g.asteriskaltonearabic=1645,g.asteriskarabic=1645,g.asteriskmath=8727,g.asteriskmonospace=65290,g.asterisksmall=65121,g.asterism=8258,g.asuperior=63209,g.asymptoticallyequal=8771,g.at=64,g.atilde=227,g.atmonospace=65312,g.atsmall=65131,g.aturned=592,g.aubengali=2452,g.aubopomofo=12576,g.audeva=2324,g.augujarati=2708,g.augurmukhi=2580,g.aulengthmarkbengali=2519,g.aumatragurmukhi=2636,g.auvowelsignbengali=2508,g.auvowelsigndeva=2380,g.auvowelsigngujarati=2764,g.avagrahadeva=2365,g.aybarmenian=1377,g.ayin=1506,g.ayinaltonehebrew=64288,g.ayinhebrew=1506,g.b=98,g.babengali=2476,g.backslash=92,g.backslashmonospace=65340,g.badeva=2348,g.bagujarati=2732,g.bagurmukhi=2604,g.bahiragana=12400,g.bahtthai=3647,g.bakatakana=12496,g.bar=124,g.barmonospace=65372,g.bbopomofo=12549,g.bcircle=9425,g.bdotaccent=7683,g.bdotbelow=7685,g.beamedsixteenthnotes=9836,g.because=8757,g.becyrillic=1073,g.beharabic=1576,g.behfinalarabic=65168,g.behinitialarabic=65169,g.behiragana=12409,g.behmedialarabic=65170,g.behmeeminitialarabic=64671,g.behmeemisolatedarabic=64520,g.behnoonfinalarabic=64621,g.bekatakana=12505,g.benarmenian=1378,g.bet=1489,g.beta=946,g.betasymbolgreek=976,g.betdagesh=64305,g.betdageshhebrew=64305,g.bethebrew=1489,g.betrafehebrew=64332,g.bhabengali=2477,g.bhadeva=2349,g.bhagujarati=2733,g.bhagurmukhi=2605,g.bhook=595,g.bihiragana=12403,g.bikatakana=12499,g.bilabialclick=664,g.bindigurmukhi=2562,g.birusquare=13105,g.blackcircle=9679,g.blackdiamond=9670,g.blackdownpointingtriangle=9660,g.blackleftpointingpointer=9668,g.blackleftpointingtriangle=9664,g.blacklenticularbracketleft=12304,g.blacklenticularbracketleftvertical=65083,g.blacklenticularbracketright=12305,g.blacklenticularbracketrightvertical=65084,g.blacklowerlefttriangle=9699,g.blacklowerrighttriangle=9698,g.blackrectangle=9644,g.blackrightpointingpointer=9658,g.blackrightpointingtriangle=9654,g.blacksmallsquare=9642,g.blacksmilingface=9787,g.blacksquare=9632,g.blackstar=9733,g.blackupperlefttriangle=9700,g.blackupperrighttriangle=9701,g.blackuppointingsmalltriangle=9652,g.blackuppointingtriangle=9650,g.blank=9251,g.blinebelow=7687,g.block=9608,g.bmonospace=65346,g.bobaimaithai=3610,g.bohiragana=12412,g.bokatakana=12508,g.bparen=9373,g.bqsquare=13251,g.braceex=63732,g.braceleft=123,g.braceleftbt=63731,g.braceleftmid=63730,g.braceleftmonospace=65371,g.braceleftsmall=65115,g.bracelefttp=63729,g.braceleftvertical=65079,g.braceright=125,g.bracerightbt=63742,g.bracerightmid=63741,g.bracerightmonospace=65373,g.bracerightsmall=65116,g.bracerighttp=63740,g.bracerightvertical=65080,g.bracketleft=91,g.bracketleftbt=63728,g.bracketleftex=63727,g.bracketleftmonospace=65339,g.bracketlefttp=63726,g.bracketright=93,g.bracketrightbt=63739,g.bracketrightex=63738,g.bracketrightmonospace=65341,g.bracketrighttp=63737,g.breve=728,g.brevebelowcmb=814,g.brevecmb=774,g.breveinvertedbelowcmb=815,g.breveinvertedcmb=785,g.breveinverteddoublecmb=865,g.bridgebelowcmb=810,g.bridgeinvertedbelowcmb=826,g.brokenbar=166,g.bstroke=384,g.bsuperior=63210,g.btopbar=387,g.buhiragana=12406,g.bukatakana=12502,g.bullet=8226,g.bulletinverse=9688,g.bulletoperator=8729,g.bullseye=9678,g.c=99,g.caarmenian=1390,g.cabengali=2458,g.cacute=263,g.cadeva=2330,g.cagujarati=2714,g.cagurmukhi=2586,g.calsquare=13192,g.candrabindubengali=2433,g.candrabinducmb=784,g.candrabindudeva=2305,g.candrabindugujarati=2689,g.capslock=8682,g.careof=8453,g.caron=711,g.caronbelowcmb=812,g.caroncmb=780,g.carriagereturn=8629,g.cbopomofo=12568,g.ccaron=269,g.ccedilla=231,g.ccedillaacute=7689,g.ccircle=9426,g.ccircumflex=265,g.ccurl=597,g.cdot=267,g.cdotaccent=267,g.cdsquare=13253,g.cedilla=184,g.cedillacmb=807,g.cent=162,g.centigrade=8451,g.centinferior=63199,g.centmonospace=65504,g.centoldstyle=63394,g.centsuperior=63200,g.chaarmenian=1401,g.chabengali=2459,g.chadeva=2331,g.chagujarati=2715,g.chagurmukhi=2587,g.chbopomofo=12564,g.cheabkhasiancyrillic=1213,g.checkmark=10003,g.checyrillic=1095,g.chedescenderabkhasiancyrillic=1215,g.chedescendercyrillic=1207,g.chedieresiscyrillic=1269,g.cheharmenian=1395,g.chekhakassiancyrillic=1228,g.cheverticalstrokecyrillic=1209,g.chi=967,g.chieuchacirclekorean=12919,g.chieuchaparenkorean=12823,g.chieuchcirclekorean=12905,g.chieuchkorean=12618,g.chieuchparenkorean=12809,g.chochangthai=3594,g.chochanthai=3592,g.chochingthai=3593,g.chochoethai=3596,g.chook=392,g.cieucacirclekorean=12918,g.cieucaparenkorean=12822,g.cieuccirclekorean=12904,g.cieuckorean=12616,g.cieucparenkorean=12808,g.cieucuparenkorean=12828,g.circle=9675,g.circlecopyrt=169,g.circlemultiply=8855,g.circleot=8857,g.circleplus=8853,g.circlepostalmark=12342,g.circlewithlefthalfblack=9680,g.circlewithrighthalfblack=9681,g.circumflex=710,g.circumflexbelowcmb=813,g.circumflexcmb=770,g.clear=8999,g.clickalveolar=450,g.clickdental=448,g.clicklateral=449,g.clickretroflex=451,g.club=9827,g.clubsuitblack=9827,g.clubsuitwhite=9831,g.cmcubedsquare=13220,g.cmonospace=65347,g.cmsquaredsquare=13216,g.coarmenian=1409,g.colon=58,g.colonmonetary=8353,g.colonmonospace=65306,g.colonsign=8353,g.colonsmall=65109,g.colontriangularhalfmod=721,g.colontriangularmod=720,g.comma=44,g.commaabovecmb=787,g.commaaboverightcmb=789,g.commaaccent=63171,g.commaarabic=1548,g.commaarmenian=1373,g.commainferior=63201,g.commamonospace=65292,g.commareversedabovecmb=788,g.commareversedmod=701,g.commasmall=65104,g.commasuperior=63202,g.commaturnedabovecmb=786,g.commaturnedmod=699,g.compass=9788,g.congruent=8773,g.contourintegral=8750,g.control=8963,g.controlACK=6,g.controlBEL=7,g.controlBS=8,g.controlCAN=24,g.controlCR=13,g.controlDC1=17,g.controlDC2=18,g.controlDC3=19,g.controlDC4=20,g.controlDEL=127,g.controlDLE=16,g.controlEM=25,g.controlENQ=5,g.controlEOT=4,g.controlESC=27,g.controlETB=23,g.controlETX=3,g.controlFF=12,g.controlFS=28,g.controlGS=29,g.controlHT=9,g.controlLF=10,g.controlNAK=21,g.controlNULL=0,g.controlRS=30,g.controlSI=15,g.controlSO=14,g.controlSOT=2,g.controlSTX=1,g.controlSUB=26,g.controlSYN=22,g.controlUS=31,g.controlVT=11,g.copyright=169,g.copyrightsans=63721,g.copyrightserif=63193,g.cornerbracketleft=12300,g.cornerbracketlefthalfwidth=65378,g.cornerbracketleftvertical=65089,g.cornerbracketright=12301,g.cornerbracketrighthalfwidth=65379,g.cornerbracketrightvertical=65090,g.corporationsquare=13183,g.cosquare=13255,g.coverkgsquare=13254,g.cparen=9374,g.cruzeiro=8354,g.cstretched=663,g.curlyand=8911,g.curlyor=8910,g.currency=164,g.cyrBreve=63185,g.cyrFlex=63186,g.cyrbreve=63188,g.cyrflex=63189,g.d=100,g.daarmenian=1380,g.dabengali=2470,g.dadarabic=1590,g.dadeva=2342,g.dadfinalarabic=65214,g.dadinitialarabic=65215,g.dadmedialarabic=65216,g.dagesh=1468,g.dageshhebrew=1468,g.dagger=8224,g.daggerdbl=8225,g.dagujarati=2726,g.dagurmukhi=2598,g.dahiragana=12384,g.dakatakana=12480,g.dalarabic=1583,g.dalet=1491,g.daletdagesh=64307,g.daletdageshhebrew=64307,g.dalethebrew=1491,g.dalfinalarabic=65194,g.dammaarabic=1615,g.dammalowarabic=1615,g.dammatanaltonearabic=1612,g.dammatanarabic=1612,g.danda=2404,g.dargahebrew=1447,g.dargalefthebrew=1447,g.dasiapneumatacyrilliccmb=1157,g.dblGrave=63187,g.dblanglebracketleft=12298,g.dblanglebracketleftvertical=65085,g.dblanglebracketright=12299,g.dblanglebracketrightvertical=65086,g.dblarchinvertedbelowcmb=811,g.dblarrowleft=8660,g.dblarrowright=8658,g.dbldanda=2405,g.dblgrave=63190,g.dblgravecmb=783,g.dblintegral=8748,g.dbllowline=8215,g.dbllowlinecmb=819,g.dbloverlinecmb=831,g.dblprimemod=698,g.dblverticalbar=8214,g.dblverticallineabovecmb=782,g.dbopomofo=12553,g.dbsquare=13256,g.dcaron=271,g.dcedilla=7697,g.dcircle=9427,g.dcircumflexbelow=7699,g.dcroat=273,g.ddabengali=2465,g.ddadeva=2337,g.ddagujarati=2721,g.ddagurmukhi=2593,g.ddalarabic=1672,g.ddalfinalarabic=64393,g.dddhadeva=2396,g.ddhabengali=2466,g.ddhadeva=2338,g.ddhagujarati=2722,g.ddhagurmukhi=2594,g.ddotaccent=7691,g.ddotbelow=7693,g.decimalseparatorarabic=1643,g.decimalseparatorpersian=1643,g.decyrillic=1076,g.degree=176,g.dehihebrew=1453,g.dehiragana=12391,g.deicoptic=1007,g.dekatakana=12487,g.deleteleft=9003,g.deleteright=8998,g.delta=948,g.deltaturned=397,g.denominatorminusonenumeratorbengali=2552,g.dezh=676,g.dhabengali=2471,g.dhadeva=2343,g.dhagujarati=2727,g.dhagurmukhi=2599,g.dhook=599,g.dialytikatonos=901,g.dialytikatonoscmb=836,g.diamond=9830,g.diamondsuitwhite=9826,g.dieresis=168,g.dieresisacute=63191,g.dieresisbelowcmb=804,g.dieresiscmb=776,g.dieresisgrave=63192,g.dieresistonos=901,g.dihiragana=12386,g.dikatakana=12482,g.dittomark=12291,g.divide=247,g.divides=8739,g.divisionslash=8725,g.djecyrillic=1106,g.dkshade=9619,g.dlinebelow=7695,g.dlsquare=13207,g.dmacron=273,g.dmonospace=65348,g.dnblock=9604,g.dochadathai=3598,g.dodekthai=3604,g.dohiragana=12393,g.dokatakana=12489,g.dollar=36,g.dollarinferior=63203,g.dollarmonospace=65284,g.dollaroldstyle=63268,g.dollarsmall=65129,g.dollarsuperior=63204,g.dong=8363,g.dorusquare=13094,g.dotaccent=729,g.dotaccentcmb=775,g.dotbelowcmb=803,g.dotbelowcomb=803,g.dotkatakana=12539,g.dotlessi=305,g.dotlessj=63166,g.dotlessjstrokehook=644,g.dotmath=8901,g.dottedcircle=9676,g.doubleyodpatah=64287,g.doubleyodpatahhebrew=64287,g.downtackbelowcmb=798,g.downtackmod=725,g.dparen=9375,g.dsuperior=63211,g.dtail=598,g.dtopbar=396,g.duhiragana=12389,g.dukatakana=12485,g.dz=499,g.dzaltone=675,g.dzcaron=454,g.dzcurl=677,g.dzeabkhasiancyrillic=1249,g.dzecyrillic=1109,g.dzhecyrillic=1119,g.e=101,g.eacute=233,g.earth=9793,g.ebengali=2447,g.ebopomofo=12572,g.ebreve=277,g.ecandradeva=2317,g.ecandragujarati=2701,g.ecandravowelsigndeva=2373,g.ecandravowelsigngujarati=2757,g.ecaron=283,g.ecedillabreve=7709,g.echarmenian=1381,g.echyiwnarmenian=1415,g.ecircle=9428,g.ecircumflex=234,g.ecircumflexacute=7871,g.ecircumflexbelow=7705,g.ecircumflexdotbelow=7879,g.ecircumflexgrave=7873,g.ecircumflexhookabove=7875,g.ecircumflextilde=7877,g.ecyrillic=1108,g.edblgrave=517,g.edeva=2319,g.edieresis=235,g.edot=279,g.edotaccent=279,g.edotbelow=7865,g.eegurmukhi=2575,g.eematragurmukhi=2631,g.efcyrillic=1092,g.egrave=232,g.egujarati=2703,g.eharmenian=1383,g.ehbopomofo=12573,g.ehiragana=12360,g.ehookabove=7867,g.eibopomofo=12575,g.eight=56,g.eightarabic=1640,g.eightbengali=2542,g.eightcircle=9319,g.eightcircleinversesansserif=10129,g.eightdeva=2414,g.eighteencircle=9329,g.eighteenparen=9349,g.eighteenperiod=9369,g.eightgujarati=2798,g.eightgurmukhi=2670,g.eighthackarabic=1640,g.eighthangzhou=12328,g.eighthnotebeamed=9835,g.eightideographicparen=12839,g.eightinferior=8328,g.eightmonospace=65304,g.eightoldstyle=63288,g.eightparen=9339,g.eightperiod=9359,g.eightpersian=1784,g.eightroman=8567,g.eightsuperior=8312,g.eightthai=3672,g.einvertedbreve=519,g.eiotifiedcyrillic=1125,g.ekatakana=12456,g.ekatakanahalfwidth=65396,g.ekonkargurmukhi=2676,g.ekorean=12628,g.elcyrillic=1083,g.element=8712,g.elevencircle=9322,g.elevenparen=9342,g.elevenperiod=9362,g.elevenroman=8570,g.ellipsis=8230,g.ellipsisvertical=8942,g.emacron=275,g.emacronacute=7703,g.emacrongrave=7701,g.emcyrillic=1084,g.emdash=8212,g.emdashvertical=65073,g.emonospace=65349,g.emphasismarkarmenian=1371,g.emptyset=8709,g.enbopomofo=12579,g.encyrillic=1085,g.endash=8211,g.endashvertical=65074,g.endescendercyrillic=1187,g.eng=331,g.engbopomofo=12581,g.enghecyrillic=1189,g.enhookcyrillic=1224,g.enspace=8194,g.eogonek=281,g.eokorean=12627,g.eopen=603,g.eopenclosed=666,g.eopenreversed=604,g.eopenreversedclosed=606,g.eopenreversedhook=605,g.eparen=9376,g.epsilon=949,g.epsilontonos=941,g.equal=61,g.equalmonospace=65309,g.equalsmall=65126,g.equalsuperior=8316,g.equivalence=8801,g.erbopomofo=12582,g.ercyrillic=1088,g.ereversed=600,g.ereversedcyrillic=1101,g.escyrillic=1089,g.esdescendercyrillic=1195,g.esh=643,g.eshcurl=646,g.eshortdeva=2318,g.eshortvowelsigndeva=2374,g.eshreversedloop=426,g.eshsquatreversed=645,g.esmallhiragana=12359,g.esmallkatakana=12455,g.esmallkatakanahalfwidth=65386,g.estimated=8494,g.esuperior=63212,g.eta=951,g.etarmenian=1384,g.etatonos=942,g.eth=240,g.etilde=7869,g.etildebelow=7707,g.etnahtafoukhhebrew=1425,g.etnahtafoukhlefthebrew=1425,g.etnahtahebrew=1425,g.etnahtalefthebrew=1425,g.eturned=477,g.eukorean=12641,g.euro=8364,g.evowelsignbengali=2503,g.evowelsigndeva=2375,g.evowelsigngujarati=2759,g.exclam=33,g.exclamarmenian=1372,g.exclamdbl=8252,g.exclamdown=161,g.exclamdownsmall=63393,g.exclammonospace=65281,g.exclamsmall=63265,g.existential=8707,g.ezh=658,g.ezhcaron=495,g.ezhcurl=659,g.ezhreversed=441,g.ezhtail=442,g.f=102,g.fadeva=2398,g.fagurmukhi=2654,g.fahrenheit=8457,g.fathaarabic=1614,g.fathalowarabic=1614,g.fathatanarabic=1611,g.fbopomofo=12552,g.fcircle=9429,g.fdotaccent=7711,g.feharabic=1601,g.feharmenian=1414,g.fehfinalarabic=65234,g.fehinitialarabic=65235,g.fehmedialarabic=65236,g.feicoptic=997,g.female=9792,g.ff=64256,g.f_f=64256,g.ffi=64259,g.f_f_i=64259,g.ffl=64260,g.f_f_l=64260,g.fi=64257,g.f_i=64257,g.fifteencircle=9326,g.fifteenparen=9346,g.fifteenperiod=9366,g.figuredash=8210,g.filledbox=9632,g.filledrect=9644,g.finalkaf=1498,g.finalkafdagesh=64314,g.finalkafdageshhebrew=64314,g.finalkafhebrew=1498,g.finalmem=1501,g.finalmemhebrew=1501,g.finalnun=1503,g.finalnunhebrew=1503,g.finalpe=1507,g.finalpehebrew=1507,g.finaltsadi=1509,g.finaltsadihebrew=1509,g.firsttonechinese=713,g.fisheye=9673,g.fitacyrillic=1139,g.five=53,g.fivearabic=1637,g.fivebengali=2539,g.fivecircle=9316,g.fivecircleinversesansserif=10126,g.fivedeva=2411,g.fiveeighths=8541,g.fivegujarati=2795,g.fivegurmukhi=2667,g.fivehackarabic=1637,g.fivehangzhou=12325,g.fiveideographicparen=12836,g.fiveinferior=8325,g.fivemonospace=65301,g.fiveoldstyle=63285,g.fiveparen=9336,g.fiveperiod=9356,g.fivepersian=1781,g.fiveroman=8564,g.fivesuperior=8309,g.fivethai=3669,g.fl=64258,g.f_l=64258,g.florin=402,g.fmonospace=65350,g.fmsquare=13209,g.fofanthai=3615,g.fofathai=3613,g.fongmanthai=3663,g.forall=8704,g.four=52,g.fourarabic=1636,g.fourbengali=2538,g.fourcircle=9315,g.fourcircleinversesansserif=10125,g.fourdeva=2410,g.fourgujarati=2794,g.fourgurmukhi=2666,g.fourhackarabic=1636,g.fourhangzhou=12324,g.fourideographicparen=12835,g.fourinferior=8324,g.fourmonospace=65300,g.fournumeratorbengali=2551,g.fouroldstyle=63284,g.fourparen=9335,g.fourperiod=9355,g.fourpersian=1780,g.fourroman=8563,g.foursuperior=8308,g.fourteencircle=9325,g.fourteenparen=9345,g.fourteenperiod=9365,g.fourthai=3668,g.fourthtonechinese=715,g.fparen=9377,g.fraction=8260,g.franc=8355,g.g=103,g.gabengali=2455,g.gacute=501,g.gadeva=2327,g.gafarabic=1711,g.gaffinalarabic=64403,g.gafinitialarabic=64404,g.gafmedialarabic=64405,g.gagujarati=2711,g.gagurmukhi=2583,g.gahiragana=12364,g.gakatakana=12460,g.gamma=947,g.gammalatinsmall=611,g.gammasuperior=736,g.gangiacoptic=1003,g.gbopomofo=12557,g.gbreve=287,g.gcaron=487,g.gcedilla=291,g.gcircle=9430,g.gcircumflex=285,g.gcommaaccent=291,g.gdot=289,g.gdotaccent=289,g.gecyrillic=1075,g.gehiragana=12370,g.gekatakana=12466,g.geometricallyequal=8785,g.gereshaccenthebrew=1436,g.gereshhebrew=1523,g.gereshmuqdamhebrew=1437,g.germandbls=223,g.gershayimaccenthebrew=1438,g.gershayimhebrew=1524,g.getamark=12307,g.ghabengali=2456,g.ghadarmenian=1394,g.ghadeva=2328,g.ghagujarati=2712,g.ghagurmukhi=2584,g.ghainarabic=1594,g.ghainfinalarabic=65230,g.ghaininitialarabic=65231,g.ghainmedialarabic=65232,g.ghemiddlehookcyrillic=1173,g.ghestrokecyrillic=1171,g.gheupturncyrillic=1169,g.ghhadeva=2394,g.ghhagurmukhi=2650,g.ghook=608,g.ghzsquare=13203,g.gihiragana=12366,g.gikatakana=12462,g.gimarmenian=1379,g.gimel=1490,g.gimeldagesh=64306,g.gimeldageshhebrew=64306,g.gimelhebrew=1490,g.gjecyrillic=1107,g.glottalinvertedstroke=446,g.glottalstop=660,g.glottalstopinverted=662,g.glottalstopmod=704,g.glottalstopreversed=661,g.glottalstopreversedmod=705,g.glottalstopreversedsuperior=740,g.glottalstopstroke=673,g.glottalstopstrokereversed=674,g.gmacron=7713,g.gmonospace=65351,g.gohiragana=12372,g.gokatakana=12468,g.gparen=9378,g.gpasquare=13228,g.gradient=8711,g.grave=96,g.gravebelowcmb=790,g.gravecmb=768,g.gravecomb=768,g.gravedeva=2387,g.gravelowmod=718,g.gravemonospace=65344,g.gravetonecmb=832,g.greater=62,g.greaterequal=8805,g.greaterequalorless=8923,g.greatermonospace=65310,g.greaterorequivalent=8819,g.greaterorless=8823,g.greateroverequal=8807,g.greatersmall=65125,g.gscript=609,g.gstroke=485,g.guhiragana=12368,g.guillemotleft=171,g.guillemotright=187,g.guilsinglleft=8249,g.guilsinglright=8250,g.gukatakana=12464,g.guramusquare=13080,g.gysquare=13257,g.h=104,g.haabkhasiancyrillic=1193,g.haaltonearabic=1729,g.habengali=2489,g.hadescendercyrillic=1203,g.hadeva=2361,g.hagujarati=2745,g.hagurmukhi=2617,g.haharabic=1581,g.hahfinalarabic=65186,g.hahinitialarabic=65187,g.hahiragana=12399,g.hahmedialarabic=65188,g.haitusquare=13098,g.hakatakana=12495,g.hakatakanahalfwidth=65418,g.halantgurmukhi=2637,g.hamzaarabic=1569,g.hamzalowarabic=1569,g.hangulfiller=12644,g.hardsigncyrillic=1098,g.harpoonleftbarbup=8636,g.harpoonrightbarbup=8640,g.hasquare=13258,g.hatafpatah=1458,g.hatafpatah16=1458,g.hatafpatah23=1458,g.hatafpatah2f=1458,g.hatafpatahhebrew=1458,g.hatafpatahnarrowhebrew=1458,g.hatafpatahquarterhebrew=1458,g.hatafpatahwidehebrew=1458,g.hatafqamats=1459,g.hatafqamats1b=1459,g.hatafqamats28=1459,g.hatafqamats34=1459,g.hatafqamatshebrew=1459,g.hatafqamatsnarrowhebrew=1459,g.hatafqamatsquarterhebrew=1459,g.hatafqamatswidehebrew=1459,g.hatafsegol=1457,g.hatafsegol17=1457,g.hatafsegol24=1457,g.hatafsegol30=1457,g.hatafsegolhebrew=1457,g.hatafsegolnarrowhebrew=1457,g.hatafsegolquarterhebrew=1457,g.hatafsegolwidehebrew=1457,g.hbar=295,g.hbopomofo=12559,g.hbrevebelow=7723,g.hcedilla=7721,g.hcircle=9431,g.hcircumflex=293,g.hdieresis=7719,g.hdotaccent=7715,g.hdotbelow=7717,g.he=1492,g.heart=9829,g.heartsuitblack=9829,g.heartsuitwhite=9825,g.hedagesh=64308,g.hedageshhebrew=64308,g.hehaltonearabic=1729,g.heharabic=1607,g.hehebrew=1492,g.hehfinalaltonearabic=64423,g.hehfinalalttwoarabic=65258,g.hehfinalarabic=65258,g.hehhamzaabovefinalarabic=64421,g.hehhamzaaboveisolatedarabic=64420,g.hehinitialaltonearabic=64424,g.hehinitialarabic=65259,g.hehiragana=12408,g.hehmedialaltonearabic=64425,g.hehmedialarabic=65260,g.heiseierasquare=13179,g.hekatakana=12504,g.hekatakanahalfwidth=65421,g.hekutaarusquare=13110,g.henghook=615,g.herutusquare=13113,g.het=1495,g.hethebrew=1495,g.hhook=614,g.hhooksuperior=689,g.hieuhacirclekorean=12923,g.hieuhaparenkorean=12827,g.hieuhcirclekorean=12909,g.hieuhkorean=12622,g.hieuhparenkorean=12813,g.hihiragana=12402,g.hikatakana=12498,g.hikatakanahalfwidth=65419,g.hiriq=1460,g.hiriq14=1460,g.hiriq21=1460,g.hiriq2d=1460,g.hiriqhebrew=1460,g.hiriqnarrowhebrew=1460,g.hiriqquarterhebrew=1460,g.hiriqwidehebrew=1460,g.hlinebelow=7830,g.hmonospace=65352,g.hoarmenian=1392,g.hohipthai=3627,g.hohiragana=12411,g.hokatakana=12507,g.hokatakanahalfwidth=65422,g.holam=1465,g.holam19=1465,g.holam26=1465,g.holam32=1465,g.holamhebrew=1465,g.holamnarrowhebrew=1465,g.holamquarterhebrew=1465,g.holamwidehebrew=1465,g.honokhukthai=3630,g.hookabovecomb=777,g.hookcmb=777,g.hookpalatalizedbelowcmb=801,g.hookretroflexbelowcmb=802,g.hoonsquare=13122,g.horicoptic=1001,g.horizontalbar=8213,g.horncmb=795,g.hotsprings=9832,g.house=8962,g.hparen=9379,g.hsuperior=688,g.hturned=613,g.huhiragana=12405,g.huiitosquare=13107,g.hukatakana=12501,g.hukatakanahalfwidth=65420,g.hungarumlaut=733,g.hungarumlautcmb=779,g.hv=405,g.hyphen=45,g.hypheninferior=63205,g.hyphenmonospace=65293,g.hyphensmall=65123,g.hyphensuperior=63206,g.hyphentwo=8208,g.i=105,g.iacute=237,g.iacyrillic=1103,g.ibengali=2439,g.ibopomofo=12583,g.ibreve=301,g.icaron=464,g.icircle=9432,g.icircumflex=238,g.icyrillic=1110,g.idblgrave=521,g.ideographearthcircle=12943,g.ideographfirecircle=12939,g.ideographicallianceparen=12863,g.ideographiccallparen=12858,g.ideographiccentrecircle=12965,g.ideographicclose=12294,g.ideographiccomma=12289,g.ideographiccommaleft=65380,g.ideographiccongratulationparen=12855,g.ideographiccorrectcircle=12963,g.ideographicearthparen=12847,g.ideographicenterpriseparen=12861,g.ideographicexcellentcircle=12957,g.ideographicfestivalparen=12864,g.ideographicfinancialcircle=12950,g.ideographicfinancialparen=12854,g.ideographicfireparen=12843,g.ideographichaveparen=12850,g.ideographichighcircle=12964,g.ideographiciterationmark=12293,g.ideographiclaborcircle=12952,g.ideographiclaborparen=12856,g.ideographicleftcircle=12967,g.ideographiclowcircle=12966,g.ideographicmedicinecircle=12969,g.ideographicmetalparen=12846,g.ideographicmoonparen=12842,g.ideographicnameparen=12852,g.ideographicperiod=12290,g.ideographicprintcircle=12958,g.ideographicreachparen=12867,g.ideographicrepresentparen=12857,g.ideographicresourceparen=12862,g.ideographicrightcircle=12968,g.ideographicsecretcircle=12953,g.ideographicselfparen=12866,g.ideographicsocietyparen=12851,g.ideographicspace=12288,g.ideographicspecialparen=12853,g.ideographicstockparen=12849,g.ideographicstudyparen=12859,g.ideographicsunparen=12848,g.ideographicsuperviseparen=12860,g.ideographicwaterparen=12844,g.ideographicwoodparen=12845,g.ideographiczero=12295,g.ideographmetalcircle=12942,g.ideographmooncircle=12938,g.ideographnamecircle=12948,g.ideographsuncircle=12944,g.ideographwatercircle=12940,g.ideographwoodcircle=12941,g.ideva=2311,g.idieresis=239,g.idieresisacute=7727,g.idieresiscyrillic=1253,g.idotbelow=7883,g.iebrevecyrillic=1239,g.iecyrillic=1077,g.ieungacirclekorean=12917,g.ieungaparenkorean=12821,g.ieungcirclekorean=12903,g.ieungkorean=12615,g.ieungparenkorean=12807,g.igrave=236,g.igujarati=2695,g.igurmukhi=2567,g.ihiragana=12356,g.ihookabove=7881,g.iibengali=2440,g.iicyrillic=1080,g.iideva=2312,g.iigujarati=2696,g.iigurmukhi=2568,g.iimatragurmukhi=2624,g.iinvertedbreve=523,g.iishortcyrillic=1081,g.iivowelsignbengali=2496,g.iivowelsigndeva=2368,g.iivowelsigngujarati=2752,g.ij=307,g.ikatakana=12452,g.ikatakanahalfwidth=65394,g.ikorean=12643,g.ilde=732,g.iluyhebrew=1452,g.imacron=299,g.imacroncyrillic=1251,g.imageorapproximatelyequal=8787,g.imatragurmukhi=2623,g.imonospace=65353,g.increment=8710,g.infinity=8734,g.iniarmenian=1387,g.integral=8747,g.integralbottom=8993,g.integralbt=8993,g.integralex=63733,g.integraltop=8992,g.integraltp=8992,g.intersection=8745,g.intisquare=13061,g.invbullet=9688,g.invcircle=9689,g.invsmileface=9787,g.iocyrillic=1105,g.iogonek=303,g.iota=953,g.iotadieresis=970,g.iotadieresistonos=912,g.iotalatin=617,g.iotatonos=943,g.iparen=9380,g.irigurmukhi=2674,g.ismallhiragana=12355,g.ismallkatakana=12451,g.ismallkatakanahalfwidth=65384,g.issharbengali=2554,g.istroke=616,g.isuperior=63213,g.iterationhiragana=12445,g.iterationkatakana=12541,g.itilde=297,g.itildebelow=7725,g.iubopomofo=12585,g.iucyrillic=1102,g.ivowelsignbengali=2495,g.ivowelsigndeva=2367,g.ivowelsigngujarati=2751,g.izhitsacyrillic=1141,g.izhitsadblgravecyrillic=1143,g.j=106,g.jaarmenian=1393,g.jabengali=2460,g.jadeva=2332,g.jagujarati=2716,g.jagurmukhi=2588,g.jbopomofo=12560,g.jcaron=496,g.jcircle=9433,g.jcircumflex=309,g.jcrossedtail=669,g.jdotlessstroke=607,g.jecyrillic=1112,g.jeemarabic=1580,g.jeemfinalarabic=65182,g.jeeminitialarabic=65183,g.jeemmedialarabic=65184,g.jeharabic=1688,g.jehfinalarabic=64395,g.jhabengali=2461,g.jhadeva=2333,g.jhagujarati=2717,g.jhagurmukhi=2589,g.jheharmenian=1403,g.jis=12292,g.jmonospace=65354,g.jparen=9381,g.jsuperior=690,g.k=107,g.kabashkircyrillic=1185,g.kabengali=2453,g.kacute=7729,g.kacyrillic=1082,g.kadescendercyrillic=1179,g.kadeva=2325,g.kaf=1499,g.kafarabic=1603,g.kafdagesh=64315,g.kafdageshhebrew=64315,g.kaffinalarabic=65242,g.kafhebrew=1499,g.kafinitialarabic=65243,g.kafmedialarabic=65244,g.kafrafehebrew=64333,g.kagujarati=2709,g.kagurmukhi=2581,g.kahiragana=12363,g.kahookcyrillic=1220,g.kakatakana=12459,g.kakatakanahalfwidth=65398,g.kappa=954,g.kappasymbolgreek=1008,g.kapyeounmieumkorean=12657,g.kapyeounphieuphkorean=12676,g.kapyeounpieupkorean=12664,g.kapyeounssangpieupkorean=12665,g.karoriisquare=13069,g.kashidaautoarabic=1600,g.kashidaautonosidebearingarabic=1600,g.kasmallkatakana=12533,g.kasquare=13188,g.kasraarabic=1616,g.kasratanarabic=1613,g.kastrokecyrillic=1183,g.katahiraprolongmarkhalfwidth=65392,g.kaverticalstrokecyrillic=1181,g.kbopomofo=12558,g.kcalsquare=13193,g.kcaron=489,g.kcedilla=311,g.kcircle=9434,g.kcommaaccent=311,g.kdotbelow=7731,g.keharmenian=1412,g.kehiragana=12369,g.kekatakana=12465,g.kekatakanahalfwidth=65401,g.kenarmenian=1391,g.kesmallkatakana=12534,g.kgreenlandic=312,g.khabengali=2454,g.khacyrillic=1093,g.khadeva=2326,g.khagujarati=2710,g.khagurmukhi=2582,g.khaharabic=1582,g.khahfinalarabic=65190,g.khahinitialarabic=65191,g.khahmedialarabic=65192,g.kheicoptic=999,g.khhadeva=2393,g.khhagurmukhi=2649,g.khieukhacirclekorean=12920,g.khieukhaparenkorean=12824,g.khieukhcirclekorean=12906,g.khieukhkorean=12619,g.khieukhparenkorean=12810,g.khokhaithai=3586,g.khokhonthai=3589,g.khokhuatthai=3587,g.khokhwaithai=3588,g.khomutthai=3675,g.khook=409,g.khorakhangthai=3590,g.khzsquare=13201,g.kihiragana=12365,g.kikatakana=12461,g.kikatakanahalfwidth=65399,g.kiroguramusquare=13077,g.kiromeetorusquare=13078,g.kirosquare=13076,g.kiyeokacirclekorean=12910,g.kiyeokaparenkorean=12814,g.kiyeokcirclekorean=12896,g.kiyeokkorean=12593,g.kiyeokparenkorean=12800,g.kiyeoksioskorean=12595,g.kjecyrillic=1116,g.klinebelow=7733,g.klsquare=13208,g.kmcubedsquare=13222,g.kmonospace=65355,g.kmsquaredsquare=13218,g.kohiragana=12371,g.kohmsquare=13248,g.kokaithai=3585,g.kokatakana=12467,g.kokatakanahalfwidth=65402,g.kooposquare=13086,g.koppacyrillic=1153,g.koreanstandardsymbol=12927,g.koroniscmb=835,g.kparen=9382,g.kpasquare=13226,g.ksicyrillic=1135,g.ktsquare=13263,g.kturned=670,g.kuhiragana=12367,g.kukatakana=12463,g.kukatakanahalfwidth=65400,g.kvsquare=13240,g.kwsquare=13246,g.l=108,g.labengali=2482,g.lacute=314,g.ladeva=2354,g.lagujarati=2738,g.lagurmukhi=2610,g.lakkhangyaothai=3653,g.lamaleffinalarabic=65276,g.lamalefhamzaabovefinalarabic=65272,g.lamalefhamzaaboveisolatedarabic=65271,g.lamalefhamzabelowfinalarabic=65274,g.lamalefhamzabelowisolatedarabic=65273,g.lamalefisolatedarabic=65275,g.lamalefmaddaabovefinalarabic=65270,g.lamalefmaddaaboveisolatedarabic=65269,g.lamarabic=1604,g.lambda=955,g.lambdastroke=411,g.lamed=1500,g.lameddagesh=64316,g.lameddageshhebrew=64316,g.lamedhebrew=1500,g.lamfinalarabic=65246,g.lamhahinitialarabic=64714,g.laminitialarabic=65247,g.lamjeeminitialarabic=64713,g.lamkhahinitialarabic=64715,g.lamlamhehisolatedarabic=65010,g.lammedialarabic=65248,g.lammeemhahinitialarabic=64904,g.lammeeminitialarabic=64716,g.largecircle=9711,g.lbar=410,g.lbelt=620,g.lbopomofo=12556,g.lcaron=318,g.lcedilla=316,g.lcircle=9435,g.lcircumflexbelow=7741,g.lcommaaccent=316,g.ldot=320,g.ldotaccent=320,g.ldotbelow=7735,g.ldotbelowmacron=7737,g.leftangleabovecmb=794,g.lefttackbelowcmb=792,g.less=60,g.lessequal=8804,g.lessequalorgreater=8922,g.lessmonospace=65308,g.lessorequivalent=8818,g.lessorgreater=8822,g.lessoverequal=8806,g.lesssmall=65124,g.lezh=622,g.lfblock=9612,g.lhookretroflex=621,g.lira=8356,g.liwnarmenian=1388,g.lj=457,g.ljecyrillic=1113,g.ll=63168,g.lladeva=2355,g.llagujarati=2739,g.llinebelow=7739,g.llladeva=2356,g.llvocalicbengali=2529,g.llvocalicdeva=2401,g.llvocalicvowelsignbengali=2531,g.llvocalicvowelsigndeva=2403,g.lmiddletilde=619,g.lmonospace=65356,g.lmsquare=13264,g.lochulathai=3628,g.logicaland=8743,g.logicalnot=172,g.logicalnotreversed=8976,g.logicalor=8744,g.lolingthai=3621,g.longs=383,g.lowlinecenterline=65102,g.lowlinecmb=818,g.lowlinedashed=65101,g.lozenge=9674,g.lparen=9383,g.lslash=322,g.lsquare=8467,g.lsuperior=63214,g.ltshade=9617,g.luthai=3622,g.lvocalicbengali=2444,g.lvocalicdeva=2316,g.lvocalicvowelsignbengali=2530,g.lvocalicvowelsigndeva=2402,g.lxsquare=13267,g.m=109,g.mabengali=2478,g.macron=175,g.macronbelowcmb=817,g.macroncmb=772,g.macronlowmod=717,g.macronmonospace=65507,g.macute=7743,g.madeva=2350,g.magujarati=2734,g.magurmukhi=2606,g.mahapakhhebrew=1444,g.mahapakhlefthebrew=1444,g.mahiragana=12414,g.maichattawalowleftthai=63637,g.maichattawalowrightthai=63636,g.maichattawathai=3659,g.maichattawaupperleftthai=63635,g.maieklowleftthai=63628,g.maieklowrightthai=63627,g.maiekthai=3656,g.maiekupperleftthai=63626,g.maihanakatleftthai=63620,g.maihanakatthai=3633,g.maitaikhuleftthai=63625,g.maitaikhuthai=3655,g.maitholowleftthai=63631,g.maitholowrightthai=63630,g.maithothai=3657,g.maithoupperleftthai=63629,g.maitrilowleftthai=63634,g.maitrilowrightthai=63633,g.maitrithai=3658,g.maitriupperleftthai=63632,g.maiyamokthai=3654,g.makatakana=12510,g.makatakanahalfwidth=65423,g.male=9794,g.mansyonsquare=13127,g.maqafhebrew=1470,g.mars=9794,g.masoracirclehebrew=1455,g.masquare=13187,g.mbopomofo=12551,g.mbsquare=13268,g.mcircle=9436,g.mcubedsquare=13221,g.mdotaccent=7745,g.mdotbelow=7747,g.meemarabic=1605,g.meemfinalarabic=65250,g.meeminitialarabic=65251,g.meemmedialarabic=65252,g.meemmeeminitialarabic=64721,g.meemmeemisolatedarabic=64584,g.meetorusquare=13133,g.mehiragana=12417,g.meizierasquare=13182,g.mekatakana=12513,g.mekatakanahalfwidth=65426,g.mem=1502,g.memdagesh=64318,g.memdageshhebrew=64318,g.memhebrew=1502,g.menarmenian=1396,g.merkhahebrew=1445,g.merkhakefulahebrew=1446,g.merkhakefulalefthebrew=1446,g.merkhalefthebrew=1445,g.mhook=625,g.mhzsquare=13202,g.middledotkatakanahalfwidth=65381,g.middot=183,g.mieumacirclekorean=12914,g.mieumaparenkorean=12818,g.mieumcirclekorean=12900,g.mieumkorean=12609,g.mieumpansioskorean=12656,g.mieumparenkorean=12804,g.mieumpieupkorean=12654,g.mieumsioskorean=12655,g.mihiragana=12415,g.mikatakana=12511,g.mikatakanahalfwidth=65424,g.minus=8722,g.minusbelowcmb=800,g.minuscircle=8854,g.minusmod=727,g.minusplus=8723,g.minute=8242,g.miribaarusquare=13130,g.mirisquare=13129,g.mlonglegturned=624,g.mlsquare=13206,g.mmcubedsquare=13219,g.mmonospace=65357,g.mmsquaredsquare=13215,g.mohiragana=12418,g.mohmsquare=13249,g.mokatakana=12514,g.mokatakanahalfwidth=65427,g.molsquare=13270,g.momathai=3617,g.moverssquare=13223,g.moverssquaredsquare=13224,g.mparen=9384,g.mpasquare=13227,g.mssquare=13235,g.msuperior=63215,g.mturned=623,g.mu=181,g.mu1=181,g.muasquare=13186,g.muchgreater=8811,g.muchless=8810,g.mufsquare=13196,g.mugreek=956,g.mugsquare=13197,g.muhiragana=12416,g.mukatakana=12512,g.mukatakanahalfwidth=65425,g.mulsquare=13205,g.multiply=215,g.mumsquare=13211,g.munahhebrew=1443,g.munahlefthebrew=1443,g.musicalnote=9834,g.musicalnotedbl=9835,g.musicflatsign=9837,g.musicsharpsign=9839,g.mussquare=13234,g.muvsquare=13238,g.muwsquare=13244,g.mvmegasquare=13241,g.mvsquare=13239,g.mwmegasquare=13247,g.mwsquare=13245,g.n=110,g.nabengali=2472,g.nabla=8711,g.nacute=324,g.nadeva=2344,g.nagujarati=2728,g.nagurmukhi=2600,g.nahiragana=12394,g.nakatakana=12490,g.nakatakanahalfwidth=65413,g.napostrophe=329,g.nasquare=13185,g.nbopomofo=12555,g.nbspace=160,g.ncaron=328,g.ncedilla=326,g.ncircle=9437,g.ncircumflexbelow=7755,g.ncommaaccent=326,g.ndotaccent=7749,g.ndotbelow=7751,g.nehiragana=12397,g.nekatakana=12493,g.nekatakanahalfwidth=65416,g.newsheqelsign=8362,g.nfsquare=13195,g.ngabengali=2457,g.ngadeva=2329,g.ngagujarati=2713,g.ngagurmukhi=2585,g.ngonguthai=3591,g.nhiragana=12435,g.nhookleft=626,g.nhookretroflex=627,g.nieunacirclekorean=12911,g.nieunaparenkorean=12815,g.nieuncieuckorean=12597,g.nieuncirclekorean=12897,g.nieunhieuhkorean=12598,g.nieunkorean=12596,g.nieunpansioskorean=12648,g.nieunparenkorean=12801,g.nieunsioskorean=12647,g.nieuntikeutkorean=12646,g.nihiragana=12395,g.nikatakana=12491,g.nikatakanahalfwidth=65414,g.nikhahitleftthai=63641,g.nikhahitthai=3661,g.nine=57,g.ninearabic=1641,g.ninebengali=2543,g.ninecircle=9320,g.ninecircleinversesansserif=10130,g.ninedeva=2415,g.ninegujarati=2799,g.ninegurmukhi=2671,g.ninehackarabic=1641,g.ninehangzhou=12329,g.nineideographicparen=12840,g.nineinferior=8329,g.ninemonospace=65305,g.nineoldstyle=63289,g.nineparen=9340,g.nineperiod=9360,g.ninepersian=1785,g.nineroman=8568,g.ninesuperior=8313,g.nineteencircle=9330,g.nineteenparen=9350,g.nineteenperiod=9370,g.ninethai=3673,g.nj=460,g.njecyrillic=1114,g.nkatakana=12531,g.nkatakanahalfwidth=65437,g.nlegrightlong=414,g.nlinebelow=7753,g.nmonospace=65358,g.nmsquare=13210,g.nnabengali=2467,g.nnadeva=2339,g.nnagujarati=2723,g.nnagurmukhi=2595,g.nnnadeva=2345,g.nohiragana=12398,g.nokatakana=12494,g.nokatakanahalfwidth=65417,g.nonbreakingspace=160,g.nonenthai=3603,g.nonuthai=3609,g.noonarabic=1606,g.noonfinalarabic=65254,g.noonghunnaarabic=1722,g.noonghunnafinalarabic=64415,g.nooninitialarabic=65255,g.noonjeeminitialarabic=64722,g.noonjeemisolatedarabic=64587,g.noonmedialarabic=65256,g.noonmeeminitialarabic=64725,g.noonmeemisolatedarabic=64590,g.noonnoonfinalarabic=64653,g.notcontains=8716,g.notelement=8713,g.notelementof=8713,g.notequal=8800,g.notgreater=8815,g.notgreaternorequal=8817,g.notgreaternorless=8825,g.notidentical=8802,g.notless=8814,g.notlessnorequal=8816,g.notparallel=8742,g.notprecedes=8832,g.notsubset=8836,g.notsucceeds=8833,g.notsuperset=8837,g.nowarmenian=1398,g.nparen=9385,g.nssquare=13233,g.nsuperior=8319,g.ntilde=241,g.nu=957,g.nuhiragana=12396,g.nukatakana=12492,g.nukatakanahalfwidth=65415,g.nuktabengali=2492,g.nuktadeva=2364,g.nuktagujarati=2748,g.nuktagurmukhi=2620,g.numbersign=35,g.numbersignmonospace=65283,g.numbersignsmall=65119,g.numeralsigngreek=884,g.numeralsignlowergreek=885,g.numero=8470,g.nun=1504,g.nundagesh=64320,g.nundageshhebrew=64320,g.nunhebrew=1504,g.nvsquare=13237,g.nwsquare=13243,g.nyabengali=2462,g.nyadeva=2334,g.nyagujarati=2718,g.nyagurmukhi=2590,g.o=111,g.oacute=243,g.oangthai=3629,g.obarred=629,g.obarredcyrillic=1257,g.obarreddieresiscyrillic=1259,g.obengali=2451,g.obopomofo=12571,g.obreve=335,g.ocandradeva=2321,g.ocandragujarati=2705,g.ocandravowelsigndeva=2377,g.ocandravowelsigngujarati=2761,g.ocaron=466,g.ocircle=9438,g.ocircumflex=244,g.ocircumflexacute=7889,g.ocircumflexdotbelow=7897,g.ocircumflexgrave=7891,g.ocircumflexhookabove=7893,g.ocircumflextilde=7895,g.ocyrillic=1086,g.odblacute=337,g.odblgrave=525,g.odeva=2323,g.odieresis=246,g.odieresiscyrillic=1255,g.odotbelow=7885,g.oe=339,g.oekorean=12634,g.ogonek=731,g.ogonekcmb=808,g.ograve=242,g.ogujarati=2707,g.oharmenian=1413,g.ohiragana=12362,g.ohookabove=7887,g.ohorn=417,g.ohornacute=7899,g.ohorndotbelow=7907,g.ohorngrave=7901,g.ohornhookabove=7903,g.ohorntilde=7905,g.ohungarumlaut=337,g.oi=419,g.oinvertedbreve=527,g.okatakana=12458,g.okatakanahalfwidth=65397,g.okorean=12631,g.olehebrew=1451,g.omacron=333,g.omacronacute=7763,g.omacrongrave=7761,g.omdeva=2384,g.omega=969,g.omega1=982,g.omegacyrillic=1121,g.omegalatinclosed=631,g.omegaroundcyrillic=1147,g.omegatitlocyrillic=1149,g.omegatonos=974,g.omgujarati=2768,g.omicron=959,g.omicrontonos=972,g.omonospace=65359,g.one=49,g.onearabic=1633,g.onebengali=2535,g.onecircle=9312,g.onecircleinversesansserif=10122,g.onedeva=2407,g.onedotenleader=8228,g.oneeighth=8539,g.onefitted=63196,g.onegujarati=2791,g.onegurmukhi=2663,g.onehackarabic=1633,g.onehalf=189,g.onehangzhou=12321,g.oneideographicparen=12832,g.oneinferior=8321,g.onemonospace=65297,g.onenumeratorbengali=2548,g.oneoldstyle=63281,g.oneparen=9332,g.oneperiod=9352,g.onepersian=1777,g.onequarter=188,g.oneroman=8560,g.onesuperior=185,g.onethai=3665,g.onethird=8531,g.oogonek=491,g.oogonekmacron=493,g.oogurmukhi=2579,g.oomatragurmukhi=2635,g.oopen=596,g.oparen=9386,g.openbullet=9702,g.option=8997,g.ordfeminine=170,g.ordmasculine=186,g.orthogonal=8735,g.oshortdeva=2322,g.oshortvowelsigndeva=2378,g.oslash=248,g.oslashacute=511,g.osmallhiragana=12361,g.osmallkatakana=12457,g.osmallkatakanahalfwidth=65387,g.ostrokeacute=511,g.osuperior=63216,g.otcyrillic=1151,g.otilde=245,g.otildeacute=7757,g.otildedieresis=7759,g.oubopomofo=12577,g.overline=8254,g.overlinecenterline=65098,g.overlinecmb=773,g.overlinedashed=65097,g.overlinedblwavy=65100,g.overlinewavy=65099,g.overscore=175,g.ovowelsignbengali=2507,g.ovowelsigndeva=2379,g.ovowelsigngujarati=2763,g.p=112,g.paampssquare=13184,g.paasentosquare=13099,g.pabengali=2474,g.pacute=7765,g.padeva=2346,g.pagedown=8671,g.pageup=8670,g.pagujarati=2730,g.pagurmukhi=2602,g.pahiragana=12401,g.paiyannoithai=3631,g.pakatakana=12497,g.palatalizationcyrilliccmb=1156,g.palochkacyrillic=1216,g.pansioskorean=12671,g.paragraph=182,g.parallel=8741,g.parenleft=40,g.parenleftaltonearabic=64830,g.parenleftbt=63725,g.parenleftex=63724,g.parenleftinferior=8333,g.parenleftmonospace=65288,g.parenleftsmall=65113,g.parenleftsuperior=8317,g.parenlefttp=63723,g.parenleftvertical=65077,g.parenright=41,g.parenrightaltonearabic=64831,g.parenrightbt=63736,g.parenrightex=63735,g.parenrightinferior=8334,g.parenrightmonospace=65289,g.parenrightsmall=65114,g.parenrightsuperior=8318,g.parenrighttp=63734,g.parenrightvertical=65078,g.partialdiff=8706,g.paseqhebrew=1472,g.pashtahebrew=1433,g.pasquare=13225,g.patah=1463,g.patah11=1463,g.patah1d=1463,g.patah2a=1463,g.patahhebrew=1463,g.patahnarrowhebrew=1463,g.patahquarterhebrew=1463,g.patahwidehebrew=1463,g.pazerhebrew=1441,g.pbopomofo=12550,g.pcircle=9439,g.pdotaccent=7767,g.pe=1508,g.pecyrillic=1087,g.pedagesh=64324,g.pedageshhebrew=64324,g.peezisquare=13115,g.pefinaldageshhebrew=64323,g.peharabic=1662,g.peharmenian=1402,g.pehebrew=1508,g.pehfinalarabic=64343,g.pehinitialarabic=64344,g.pehiragana=12410,g.pehmedialarabic=64345,g.pekatakana=12506,g.pemiddlehookcyrillic=1191,g.perafehebrew=64334,g.percent=37,g.percentarabic=1642,g.percentmonospace=65285,g.percentsmall=65130,g.period=46,g.periodarmenian=1417,g.periodcentered=183,g.periodhalfwidth=65377,g.periodinferior=63207,g.periodmonospace=65294,g.periodsmall=65106,g.periodsuperior=63208,g.perispomenigreekcmb=834,g.perpendicular=8869,g.perthousand=8240,g.peseta=8359,g.pfsquare=13194,g.phabengali=2475,g.phadeva=2347,g.phagujarati=2731,g.phagurmukhi=2603,g.phi=966,g.phi1=981,g.phieuphacirclekorean=12922,g.phieuphaparenkorean=12826,g.phieuphcirclekorean=12908,g.phieuphkorean=12621,g.phieuphparenkorean=12812,g.philatin=632,g.phinthuthai=3642,g.phisymbolgreek=981,g.phook=421,g.phophanthai=3614,g.phophungthai=3612,g.phosamphaothai=3616,g.pi=960,g.pieupacirclekorean=12915,g.pieupaparenkorean=12819,g.pieupcieuckorean=12662,g.pieupcirclekorean=12901,g.pieupkiyeokkorean=12658,g.pieupkorean=12610,g.pieupparenkorean=12805,g.pieupsioskiyeokkorean=12660,g.pieupsioskorean=12612,g.pieupsiostikeutkorean=12661,g.pieupthieuthkorean=12663,g.pieuptikeutkorean=12659,g.pihiragana=12404,g.pikatakana=12500,g.pisymbolgreek=982,g.piwrarmenian=1411,g.planckover2pi=8463,g.planckover2pi1=8463,g.plus=43,g.plusbelowcmb=799,g.pluscircle=8853,g.plusminus=177,g.plusmod=726,g.plusmonospace=65291,g.plussmall=65122,g.plussuperior=8314,g.pmonospace=65360,g.pmsquare=13272,g.pohiragana=12413,g.pointingindexdownwhite=9759,g.pointingindexleftwhite=9756,g.pointingindexrightwhite=9758,g.pointingindexupwhite=9757,g.pokatakana=12509,g.poplathai=3611,g.postalmark=12306,g.postalmarkface=12320,g.pparen=9387,g.precedes=8826,g.prescription=8478,g.primemod=697,g.primereversed=8245,g.product=8719,g.projective=8965,g.prolongedkana=12540,g.propellor=8984,g.propersubset=8834,g.propersuperset=8835,g.proportion=8759,g.proportional=8733,g.psi=968,g.psicyrillic=1137,g.psilipneumatacyrilliccmb=1158,g.pssquare=13232,g.puhiragana=12407,g.pukatakana=12503,g.pvsquare=13236,g.pwsquare=13242,g.q=113,g.qadeva=2392,g.qadmahebrew=1448,g.qafarabic=1602,g.qaffinalarabic=65238,g.qafinitialarabic=65239,g.qafmedialarabic=65240,g.qamats=1464,g.qamats10=1464,g.qamats1a=1464,g.qamats1c=1464,g.qamats27=1464,g.qamats29=1464,g.qamats33=1464,g.qamatsde=1464,g.qamatshebrew=1464,g.qamatsnarrowhebrew=1464,g.qamatsqatanhebrew=1464,g.qamatsqatannarrowhebrew=1464,g.qamatsqatanquarterhebrew=1464,g.qamatsqatanwidehebrew=1464,g.qamatsquarterhebrew=1464,g.qamatswidehebrew=1464,g.qarneyparahebrew=1439,g.qbopomofo=12561,g.qcircle=9440,g.qhook=672,g.qmonospace=65361,g.qof=1511,g.qofdagesh=64327,g.qofdageshhebrew=64327,g.qofhebrew=1511,g.qparen=9388,g.quarternote=9833,g.qubuts=1467,g.qubuts18=1467,g.qubuts25=1467,g.qubuts31=1467,g.qubutshebrew=1467,g.qubutsnarrowhebrew=1467,g.qubutsquarterhebrew=1467,g.qubutswidehebrew=1467,g.question=63,g.questionarabic=1567,g.questionarmenian=1374,g.questiondown=191,g.questiondownsmall=63423,g.questiongreek=894,g.questionmonospace=65311,g.questionsmall=63295,g.quotedbl=34,g.quotedblbase=8222,g.quotedblleft=8220,g.quotedblmonospace=65282,g.quotedblprime=12318,g.quotedblprimereversed=12317,g.quotedblright=8221,g.quoteleft=8216,g.quoteleftreversed=8219,g.quotereversed=8219,g.quoteright=8217,g.quoterightn=329,g.quotesinglbase=8218,g.quotesingle=39,g.quotesinglemonospace=65287,g.r=114,g.raarmenian=1404,g.rabengali=2480,g.racute=341,g.radeva=2352,g.radical=8730,g.radicalex=63717,g.radoverssquare=13230,g.radoverssquaredsquare=13231,g.radsquare=13229,g.rafe=1471,g.rafehebrew=1471,g.ragujarati=2736,g.ragurmukhi=2608,g.rahiragana=12425,g.rakatakana=12521,g.rakatakanahalfwidth=65431,g.ralowerdiagonalbengali=2545,g.ramiddlediagonalbengali=2544,g.ramshorn=612,g.ratio=8758,g.rbopomofo=12566,g.rcaron=345,g.rcedilla=343,g.rcircle=9441,g.rcommaaccent=343,g.rdblgrave=529,g.rdotaccent=7769,g.rdotbelow=7771,g.rdotbelowmacron=7773,g.referencemark=8251,g.reflexsubset=8838,g.reflexsuperset=8839,g.registered=174,g.registersans=63720,g.registerserif=63194,g.reharabic=1585,g.reharmenian=1408,g.rehfinalarabic=65198,g.rehiragana=12428,g.rekatakana=12524,g.rekatakanahalfwidth=65434,g.resh=1512,g.reshdageshhebrew=64328,g.reshhebrew=1512,g.reversedtilde=8765,g.reviahebrew=1431,g.reviamugrashhebrew=1431,g.revlogicalnot=8976,g.rfishhook=638,g.rfishhookreversed=639,g.rhabengali=2525,g.rhadeva=2397,g.rho=961,g.rhook=637,g.rhookturned=635,g.rhookturnedsuperior=693,g.rhosymbolgreek=1009,g.rhotichookmod=734,g.rieulacirclekorean=12913,g.rieulaparenkorean=12817,g.rieulcirclekorean=12899,g.rieulhieuhkorean=12608,g.rieulkiyeokkorean=12602,g.rieulkiyeoksioskorean=12649,g.rieulkorean=12601,g.rieulmieumkorean=12603,g.rieulpansioskorean=12652,g.rieulparenkorean=12803,g.rieulphieuphkorean=12607,g.rieulpieupkorean=12604,g.rieulpieupsioskorean=12651,g.rieulsioskorean=12605,g.rieulthieuthkorean=12606,g.rieultikeutkorean=12650,g.rieulyeorinhieuhkorean=12653,g.rightangle=8735,g.righttackbelowcmb=793,g.righttriangle=8895,g.rihiragana=12426,g.rikatakana=12522,g.rikatakanahalfwidth=65432,g.ring=730,g.ringbelowcmb=805,g.ringcmb=778,g.ringhalfleft=703,g.ringhalfleftarmenian=1369,g.ringhalfleftbelowcmb=796,g.ringhalfleftcentered=723,g.ringhalfright=702,g.ringhalfrightbelowcmb=825,g.ringhalfrightcentered=722,g.rinvertedbreve=531,g.rittorusquare=13137,g.rlinebelow=7775,g.rlongleg=636,g.rlonglegturned=634,g.rmonospace=65362,g.rohiragana=12429,g.rokatakana=12525,g.rokatakanahalfwidth=65435,g.roruathai=3619,g.rparen=9389,g.rrabengali=2524,g.rradeva=2353,g.rragurmukhi=2652,g.rreharabic=1681,g.rrehfinalarabic=64397,g.rrvocalicbengali=2528,g.rrvocalicdeva=2400,g.rrvocalicgujarati=2784,g.rrvocalicvowelsignbengali=2500,g.rrvocalicvowelsigndeva=2372,g.rrvocalicvowelsigngujarati=2756,g.rsuperior=63217,g.rtblock=9616,g.rturned=633,g.rturnedsuperior=692,g.ruhiragana=12427,g.rukatakana=12523,g.rukatakanahalfwidth=65433,g.rupeemarkbengali=2546,g.rupeesignbengali=2547,g.rupiah=63197,g.ruthai=3620,g.rvocalicbengali=2443,g.rvocalicdeva=2315,g.rvocalicgujarati=2699,g.rvocalicvowelsignbengali=2499,g.rvocalicvowelsigndeva=2371,g.rvocalicvowelsigngujarati=2755,g.s=115,g.sabengali=2488,g.sacute=347,g.sacutedotaccent=7781,g.sadarabic=1589,g.sadeva=2360,g.sadfinalarabic=65210,g.sadinitialarabic=65211,g.sadmedialarabic=65212,g.sagujarati=2744,g.sagurmukhi=2616,g.sahiragana=12373,g.sakatakana=12469,g.sakatakanahalfwidth=65403,g.sallallahoualayhewasallamarabic=65018,g.samekh=1505,g.samekhdagesh=64321,g.samekhdageshhebrew=64321,g.samekhhebrew=1505,g.saraaathai=3634,g.saraaethai=3649,g.saraaimaimalaithai=3652,g.saraaimaimuanthai=3651,g.saraamthai=3635,g.saraathai=3632,g.saraethai=3648,g.saraiileftthai=63622,g.saraiithai=3637,g.saraileftthai=63621,g.saraithai=3636,g.saraothai=3650,g.saraueeleftthai=63624,g.saraueethai=3639,g.saraueleftthai=63623,g.sarauethai=3638,g.sarauthai=3640,g.sarauuthai=3641,g.sbopomofo=12569,g.scaron=353,g.scarondotaccent=7783,g.scedilla=351,g.schwa=601,g.schwacyrillic=1241,g.schwadieresiscyrillic=1243,g.schwahook=602,g.scircle=9442,g.scircumflex=349,g.scommaaccent=537,g.sdotaccent=7777,g.sdotbelow=7779,g.sdotbelowdotaccent=7785,g.seagullbelowcmb=828,g.second=8243,g.secondtonechinese=714,g.section=167,g.seenarabic=1587,g.seenfinalarabic=65202,g.seeninitialarabic=65203,g.seenmedialarabic=65204,g.segol=1462,g.segol13=1462,g.segol1f=1462,g.segol2c=1462,g.segolhebrew=1462,g.segolnarrowhebrew=1462,g.segolquarterhebrew=1462,g.segoltahebrew=1426,g.segolwidehebrew=1462,g.seharmenian=1405,g.sehiragana=12379,g.sekatakana=12475,g.sekatakanahalfwidth=65406,g.semicolon=59,g.semicolonarabic=1563,g.semicolonmonospace=65307,g.semicolonsmall=65108,g.semivoicedmarkkana=12444,g.semivoicedmarkkanahalfwidth=65439,g.sentisquare=13090,g.sentosquare=13091,g.seven=55,g.sevenarabic=1639,g.sevenbengali=2541,g.sevencircle=9318,g.sevencircleinversesansserif=10128,g.sevendeva=2413,g.seveneighths=8542,g.sevengujarati=2797,g.sevengurmukhi=2669,g.sevenhackarabic=1639,g.sevenhangzhou=12327,g.sevenideographicparen=12838,g.seveninferior=8327,g.sevenmonospace=65303,g.sevenoldstyle=63287,g.sevenparen=9338,g.sevenperiod=9358,g.sevenpersian=1783,g.sevenroman=8566,g.sevensuperior=8311,g.seventeencircle=9328,g.seventeenparen=9348,g.seventeenperiod=9368,g.seventhai=3671,g.sfthyphen=173,g.shaarmenian=1399,g.shabengali=2486,g.shacyrillic=1096,g.shaddaarabic=1617,g.shaddadammaarabic=64609,g.shaddadammatanarabic=64606,g.shaddafathaarabic=64608,g.shaddakasraarabic=64610,g.shaddakasratanarabic=64607,g.shade=9618,g.shadedark=9619,g.shadelight=9617,g.shademedium=9618,g.shadeva=2358,g.shagujarati=2742,g.shagurmukhi=2614,g.shalshelethebrew=1427,g.shbopomofo=12565,g.shchacyrillic=1097,g.sheenarabic=1588,g.sheenfinalarabic=65206,g.sheeninitialarabic=65207,g.sheenmedialarabic=65208,g.sheicoptic=995,g.sheqel=8362,g.sheqelhebrew=8362,g.sheva=1456,g.sheva115=1456,g.sheva15=1456,g.sheva22=1456,g.sheva2e=1456,g.shevahebrew=1456,g.shevanarrowhebrew=1456,g.shevaquarterhebrew=1456,g.shevawidehebrew=1456,g.shhacyrillic=1211,g.shimacoptic=1005,g.shin=1513,g.shindagesh=64329,g.shindageshhebrew=64329,g.shindageshshindot=64300,g.shindageshshindothebrew=64300,g.shindageshsindot=64301,g.shindageshsindothebrew=64301,g.shindothebrew=1473,g.shinhebrew=1513,g.shinshindot=64298,g.shinshindothebrew=64298,g.shinsindot=64299,g.shinsindothebrew=64299,g.shook=642,g.sigma=963,g.sigma1=962,g.sigmafinal=962,g.sigmalunatesymbolgreek=1010,g.sihiragana=12375,g.sikatakana=12471,g.sikatakanahalfwidth=65404,g.siluqhebrew=1469,g.siluqlefthebrew=1469,g.similar=8764,g.sindothebrew=1474,g.siosacirclekorean=12916,g.siosaparenkorean=12820,g.sioscieuckorean=12670,g.sioscirclekorean=12902,g.sioskiyeokkorean=12666,g.sioskorean=12613,g.siosnieunkorean=12667,g.siosparenkorean=12806,g.siospieupkorean=12669,g.siostikeutkorean=12668,g.six=54,g.sixarabic=1638,g.sixbengali=2540,g.sixcircle=9317,g.sixcircleinversesansserif=10127,g.sixdeva=2412,g.sixgujarati=2796,g.sixgurmukhi=2668,g.sixhackarabic=1638,g.sixhangzhou=12326,g.sixideographicparen=12837,g.sixinferior=8326,g.sixmonospace=65302,g.sixoldstyle=63286,g.sixparen=9337,g.sixperiod=9357,g.sixpersian=1782,g.sixroman=8565,g.sixsuperior=8310,g.sixteencircle=9327,g.sixteencurrencydenominatorbengali=2553,g.sixteenparen=9347,g.sixteenperiod=9367,g.sixthai=3670,g.slash=47,g.slashmonospace=65295,g.slong=383,g.slongdotaccent=7835,g.smileface=9786,g.smonospace=65363,g.sofpasuqhebrew=1475,g.softhyphen=173,g.softsigncyrillic=1100,g.sohiragana=12381,g.sokatakana=12477,g.sokatakanahalfwidth=65407,g.soliduslongoverlaycmb=824,g.solidusshortoverlaycmb=823,g.sorusithai=3625,g.sosalathai=3624,g.sosothai=3595,g.sosuathai=3626,g.space=32,g.spacehackarabic=32,g.spade=9824,g.spadesuitblack=9824,g.spadesuitwhite=9828,g.sparen=9390,g.squarebelowcmb=827,g.squarecc=13252,g.squarecm=13213,g.squarediagonalcrosshatchfill=9641,g.squarehorizontalfill=9636,g.squarekg=13199,g.squarekm=13214,g.squarekmcapital=13262,g.squareln=13265,g.squarelog=13266,g.squaremg=13198,g.squaremil=13269,g.squaremm=13212,g.squaremsquared=13217,g.squareorthogonalcrosshatchfill=9638,g.squareupperlefttolowerrightfill=9639,g.squareupperrighttolowerleftfill=9640,g.squareverticalfill=9637,g.squarewhitewithsmallblack=9635,g.srsquare=13275,g.ssabengali=2487,g.ssadeva=2359,g.ssagujarati=2743,g.ssangcieuckorean=12617,g.ssanghieuhkorean=12677,g.ssangieungkorean=12672,g.ssangkiyeokkorean=12594,g.ssangnieunkorean=12645,g.ssangpieupkorean=12611,g.ssangsioskorean=12614,g.ssangtikeutkorean=12600,g.ssuperior=63218,g.sterling=163,g.sterlingmonospace=65505,g.strokelongoverlaycmb=822,g.strokeshortoverlaycmb=821,g.subset=8834,g.subsetnotequal=8842,g.subsetorequal=8838,g.succeeds=8827,g.suchthat=8715,g.suhiragana=12377,g.sukatakana=12473,g.sukatakanahalfwidth=65405,g.sukunarabic=1618,g.summation=8721,g.sun=9788,g.superset=8835,g.supersetnotequal=8843,g.supersetorequal=8839,g.svsquare=13276,g.syouwaerasquare=13180,g.t=116,g.tabengali=2468,g.tackdown=8868,g.tackleft=8867,g.tadeva=2340,g.tagujarati=2724,g.tagurmukhi=2596,g.taharabic=1591,g.tahfinalarabic=65218,g.tahinitialarabic=65219,g.tahiragana=12383,g.tahmedialarabic=65220,g.taisyouerasquare=13181,g.takatakana=12479,g.takatakanahalfwidth=65408,g.tatweelarabic=1600,g.tau=964,g.tav=1514,g.tavdages=64330,g.tavdagesh=64330,g.tavdageshhebrew=64330,g.tavhebrew=1514,g.tbar=359,g.tbopomofo=12554,g.tcaron=357,g.tccurl=680,g.tcedilla=355,g.tcheharabic=1670,g.tchehfinalarabic=64379,g.tchehinitialarabic=64380,g.tchehmedialarabic=64381,g.tcircle=9443,g.tcircumflexbelow=7793,g.tcommaaccent=355,g.tdieresis=7831,g.tdotaccent=7787,g.tdotbelow=7789,g.tecyrillic=1090,g.tedescendercyrillic=1197,g.teharabic=1578,g.tehfinalarabic=65174,g.tehhahinitialarabic=64674,g.tehhahisolatedarabic=64524,g.tehinitialarabic=65175,g.tehiragana=12390,g.tehjeeminitialarabic=64673,g.tehjeemisolatedarabic=64523,g.tehmarbutaarabic=1577,g.tehmarbutafinalarabic=65172,g.tehmedialarabic=65176,g.tehmeeminitialarabic=64676,g.tehmeemisolatedarabic=64526,g.tehnoonfinalarabic=64627,g.tekatakana=12486,g.tekatakanahalfwidth=65411,g.telephone=8481,g.telephoneblack=9742,g.telishagedolahebrew=1440,g.telishaqetanahebrew=1449,g.tencircle=9321,g.tenideographicparen=12841,g.tenparen=9341,g.tenperiod=9361,g.tenroman=8569,g.tesh=679,g.tet=1496,g.tetdagesh=64312,g.tetdageshhebrew=64312,g.tethebrew=1496,g.tetsecyrillic=1205,g.tevirhebrew=1435,g.tevirlefthebrew=1435,g.thabengali=2469,g.thadeva=2341,g.thagujarati=2725,g.thagurmukhi=2597,g.thalarabic=1584,g.thalfinalarabic=65196,g.thanthakhatlowleftthai=63640,g.thanthakhatlowrightthai=63639,g.thanthakhatthai=3660,g.thanthakhatupperleftthai=63638,g.theharabic=1579,g.thehfinalarabic=65178,g.thehinitialarabic=65179,g.thehmedialarabic=65180,g.thereexists=8707,g.therefore=8756,g.theta=952,g.theta1=977,g.thetasymbolgreek=977,g.thieuthacirclekorean=12921,g.thieuthaparenkorean=12825,g.thieuthcirclekorean=12907,g.thieuthkorean=12620,g.thieuthparenkorean=12811,g.thirteencircle=9324,g.thirteenparen=9344,g.thirteenperiod=9364,g.thonangmonthothai=3601,g.thook=429,g.thophuthaothai=3602,g.thorn=254,g.thothahanthai=3607,g.thothanthai=3600,g.thothongthai=3608,g.thothungthai=3606,g.thousandcyrillic=1154,g.thousandsseparatorarabic=1644,g.thousandsseparatorpersian=1644,g.three=51,g.threearabic=1635,g.threebengali=2537,g.threecircle=9314,g.threecircleinversesansserif=10124,g.threedeva=2409,g.threeeighths=8540,g.threegujarati=2793,g.threegurmukhi=2665,g.threehackarabic=1635,g.threehangzhou=12323,g.threeideographicparen=12834,g.threeinferior=8323,g.threemonospace=65299,g.threenumeratorbengali=2550,g.threeoldstyle=63283,g.threeparen=9334,g.threeperiod=9354,g.threepersian=1779,g.threequarters=190,g.threequartersemdash=63198,g.threeroman=8562,g.threesuperior=179,g.threethai=3667,g.thzsquare=13204,g.tihiragana=12385,g.tikatakana=12481,g.tikatakanahalfwidth=65409,g.tikeutacirclekorean=12912,g.tikeutaparenkorean=12816,g.tikeutcirclekorean=12898,g.tikeutkorean=12599,g.tikeutparenkorean=12802,g.tilde=732,g.tildebelowcmb=816,g.tildecmb=771,g.tildecomb=771,g.tildedoublecmb=864,g.tildeoperator=8764,g.tildeoverlaycmb=820,g.tildeverticalcmb=830,g.timescircle=8855,g.tipehahebrew=1430,g.tipehalefthebrew=1430,g.tippigurmukhi=2672,g.titlocyrilliccmb=1155,g.tiwnarmenian=1407,g.tlinebelow=7791,g.tmonospace=65364,g.toarmenian=1385,g.tohiragana=12392,g.tokatakana=12488,g.tokatakanahalfwidth=65412,g.tonebarextrahighmod=741,g.tonebarextralowmod=745,g.tonebarhighmod=742,g.tonebarlowmod=744,g.tonebarmidmod=743,g.tonefive=445,g.tonesix=389,g.tonetwo=424,g.tonos=900,g.tonsquare=13095,g.topatakthai=3599,g.tortoiseshellbracketleft=12308,g.tortoiseshellbracketleftsmall=65117,g.tortoiseshellbracketleftvertical=65081,g.tortoiseshellbracketright=12309,g.tortoiseshellbracketrightsmall=65118,g.tortoiseshellbracketrightvertical=65082,g.totaothai=3605,g.tpalatalhook=427,g.tparen=9391,g.trademark=8482,g.trademarksans=63722,g.trademarkserif=63195,g.tretroflexhook=648,g.triagdn=9660,g.triaglf=9668,g.triagrt=9658,g.triagup=9650,g.ts=678,g.tsadi=1510,g.tsadidagesh=64326,g.tsadidageshhebrew=64326,g.tsadihebrew=1510,g.tsecyrillic=1094,g.tsere=1461,g.tsere12=1461,g.tsere1e=1461,g.tsere2b=1461,g.tserehebrew=1461,g.tserenarrowhebrew=1461,g.tserequarterhebrew=1461,g.tserewidehebrew=1461,g.tshecyrillic=1115,g.tsuperior=63219,g.ttabengali=2463,g.ttadeva=2335,g.ttagujarati=2719,g.ttagurmukhi=2591,g.tteharabic=1657,g.ttehfinalarabic=64359,g.ttehinitialarabic=64360,g.ttehmedialarabic=64361,g.tthabengali=2464,g.tthadeva=2336,g.tthagujarati=2720,g.tthagurmukhi=2592,g.tturned=647,g.tuhiragana=12388,g.tukatakana=12484,g.tukatakanahalfwidth=65410,g.tusmallhiragana=12387,g.tusmallkatakana=12483,g.tusmallkatakanahalfwidth=65391,g.twelvecircle=9323,g.twelveparen=9343,g.twelveperiod=9363,g.twelveroman=8571,g.twentycircle=9331,g.twentyhangzhou=21316,g.twentyparen=9351,g.twentyperiod=9371,g.two=50,g.twoarabic=1634,g.twobengali=2536,g.twocircle=9313,g.twocircleinversesansserif=10123,g.twodeva=2408,g.twodotenleader=8229,g.twodotleader=8229,g.twodotleadervertical=65072,g.twogujarati=2792,g.twogurmukhi=2664,g.twohackarabic=1634,g.twohangzhou=12322,g.twoideographicparen=12833,g.twoinferior=8322,g.twomonospace=65298,g.twonumeratorbengali=2549,g.twooldstyle=63282,g.twoparen=9333,g.twoperiod=9353,g.twopersian=1778,g.tworoman=8561,g.twostroke=443,g.twosuperior=178,g.twothai=3666,g.twothirds=8532,g.u=117,g.uacute=250,g.ubar=649,g.ubengali=2441,g.ubopomofo=12584,g.ubreve=365,g.ucaron=468,g.ucircle=9444,g.ucircumflex=251,g.ucircumflexbelow=7799,g.ucyrillic=1091,g.udattadeva=2385,g.udblacute=369,g.udblgrave=533,g.udeva=2313,g.udieresis=252,g.udieresisacute=472,g.udieresisbelow=7795,g.udieresiscaron=474,g.udieresiscyrillic=1265,g.udieresisgrave=476,g.udieresismacron=470,g.udotbelow=7909,g.ugrave=249,g.ugujarati=2697,g.ugurmukhi=2569,g.uhiragana=12358,g.uhookabove=7911,g.uhorn=432,g.uhornacute=7913,g.uhorndotbelow=7921,g.uhorngrave=7915,g.uhornhookabove=7917,g.uhorntilde=7919,g.uhungarumlaut=369,g.uhungarumlautcyrillic=1267,g.uinvertedbreve=535,g.ukatakana=12454,g.ukatakanahalfwidth=65395,g.ukcyrillic=1145,g.ukorean=12636,g.umacron=363,g.umacroncyrillic=1263,g.umacrondieresis=7803,g.umatragurmukhi=2625,g.umonospace=65365,g.underscore=95,g.underscoredbl=8215,g.underscoremonospace=65343,g.underscorevertical=65075,g.underscorewavy=65103,g.union=8746,g.universal=8704,g.uogonek=371,g.uparen=9392,g.upblock=9600,g.upperdothebrew=1476,g.upsilon=965,g.upsilondieresis=971,g.upsilondieresistonos=944,g.upsilonlatin=650,g.upsilontonos=973,g.uptackbelowcmb=797,g.uptackmod=724,g.uragurmukhi=2675,g.uring=367,g.ushortcyrillic=1118,g.usmallhiragana=12357,g.usmallkatakana=12453,g.usmallkatakanahalfwidth=65385,g.ustraightcyrillic=1199,g.ustraightstrokecyrillic=1201,g.utilde=361,g.utildeacute=7801,g.utildebelow=7797,g.uubengali=2442,g.uudeva=2314,g.uugujarati=2698,g.uugurmukhi=2570,g.uumatragurmukhi=2626,g.uuvowelsignbengali=2498,g.uuvowelsigndeva=2370,g.uuvowelsigngujarati=2754,g.uvowelsignbengali=2497,g.uvowelsigndeva=2369,g.uvowelsigngujarati=2753,g.v=118,g.vadeva=2357,g.vagujarati=2741,g.vagurmukhi=2613,g.vakatakana=12535,g.vav=1493,g.vavdagesh=64309,g.vavdagesh65=64309,g.vavdageshhebrew=64309,g.vavhebrew=1493,g.vavholam=64331,g.vavholamhebrew=64331,g.vavvavhebrew=1520,g.vavyodhebrew=1521,g.vcircle=9445,g.vdotbelow=7807,g.vecyrillic=1074,g.veharabic=1700,g.vehfinalarabic=64363,g.vehinitialarabic=64364,g.vehmedialarabic=64365,g.vekatakana=12537,g.venus=9792,g.verticalbar=124,g.verticallineabovecmb=781,g.verticallinebelowcmb=809,g.verticallinelowmod=716,g.verticallinemod=712,g.vewarmenian=1406,g.vhook=651,g.vikatakana=12536,g.viramabengali=2509,g.viramadeva=2381,g.viramagujarati=2765,g.visargabengali=2435,g.visargadeva=2307,g.visargagujarati=2691,g.vmonospace=65366,g.voarmenian=1400,g.voicediterationhiragana=12446,g.voicediterationkatakana=12542,g.voicedmarkkana=12443,g.voicedmarkkanahalfwidth=65438,g.vokatakana=12538,g.vparen=9393,g.vtilde=7805,g.vturned=652,g.vuhiragana=12436,g.vukatakana=12532,g.w=119,g.wacute=7811,g.waekorean=12633,g.wahiragana=12431,g.wakatakana=12527,g.wakatakanahalfwidth=65436,g.wakorean=12632,g.wasmallhiragana=12430,g.wasmallkatakana=12526,g.wattosquare=13143,g.wavedash=12316,g.wavyunderscorevertical=65076,g.wawarabic=1608,g.wawfinalarabic=65262,g.wawhamzaabovearabic=1572,g.wawhamzaabovefinalarabic=65158,g.wbsquare=13277,g.wcircle=9446,g.wcircumflex=373,g.wdieresis=7813,g.wdotaccent=7815,g.wdotbelow=7817,g.wehiragana=12433,g.weierstrass=8472,g.wekatakana=12529,g.wekorean=12638,g.weokorean=12637,g.wgrave=7809,g.whitebullet=9702,g.whitecircle=9675,g.whitecircleinverse=9689,g.whitecornerbracketleft=12302,g.whitecornerbracketleftvertical=65091,g.whitecornerbracketright=12303,g.whitecornerbracketrightvertical=65092,g.whitediamond=9671,g.whitediamondcontainingblacksmalldiamond=9672,g.whitedownpointingsmalltriangle=9663,g.whitedownpointingtriangle=9661,g.whiteleftpointingsmalltriangle=9667,g.whiteleftpointingtriangle=9665,g.whitelenticularbracketleft=12310,g.whitelenticularbracketright=12311,g.whiterightpointingsmalltriangle=9657,g.whiterightpointingtriangle=9655,g.whitesmallsquare=9643,g.whitesmilingface=9786,g.whitesquare=9633,g.whitestar=9734,g.whitetelephone=9743,g.whitetortoiseshellbracketleft=12312,g.whitetortoiseshellbracketright=12313,g.whiteuppointingsmalltriangle=9653,g.whiteuppointingtriangle=9651,g.wihiragana=12432,g.wikatakana=12528,g.wikorean=12639,g.wmonospace=65367,g.wohiragana=12434,g.wokatakana=12530,g.wokatakanahalfwidth=65382,g.won=8361,g.wonmonospace=65510,g.wowaenthai=3623,g.wparen=9394,g.wring=7832,g.wsuperior=695,g.wturned=653,g.wynn=447,g.x=120,g.xabovecmb=829,g.xbopomofo=12562,g.xcircle=9447,g.xdieresis=7821,g.xdotaccent=7819,g.xeharmenian=1389,g.xi=958,g.xmonospace=65368,g.xparen=9395,g.xsuperior=739,g.y=121,g.yaadosquare=13134,g.yabengali=2479,g.yacute=253,g.yadeva=2351,g.yaekorean=12626,g.yagujarati=2735,g.yagurmukhi=2607,g.yahiragana=12420,g.yakatakana=12516,g.yakatakanahalfwidth=65428,g.yakorean=12625,g.yamakkanthai=3662,g.yasmallhiragana=12419,g.yasmallkatakana=12515,g.yasmallkatakanahalfwidth=65388,g.yatcyrillic=1123,g.ycircle=9448,g.ycircumflex=375,g.ydieresis=255,g.ydotaccent=7823,g.ydotbelow=7925,g.yeharabic=1610,g.yehbarreearabic=1746,g.yehbarreefinalarabic=64431,g.yehfinalarabic=65266,g.yehhamzaabovearabic=1574,g.yehhamzaabovefinalarabic=65162,g.yehhamzaaboveinitialarabic=65163,g.yehhamzaabovemedialarabic=65164,g.yehinitialarabic=65267,g.yehmedialarabic=65268,g.yehmeeminitialarabic=64733,g.yehmeemisolatedarabic=64600,g.yehnoonfinalarabic=64660,g.yehthreedotsbelowarabic=1745,g.yekorean=12630,g.yen=165,g.yenmonospace=65509,g.yeokorean=12629,g.yeorinhieuhkorean=12678,g.yerahbenyomohebrew=1450,g.yerahbenyomolefthebrew=1450,g.yericyrillic=1099,g.yerudieresiscyrillic=1273,g.yesieungkorean=12673,g.yesieungpansioskorean=12675,g.yesieungsioskorean=12674,g.yetivhebrew=1434,g.ygrave=7923,g.yhook=436,g.yhookabove=7927,g.yiarmenian=1397,g.yicyrillic=1111,g.yikorean=12642,g.yinyang=9775,g.yiwnarmenian=1410,g.ymonospace=65369,g.yod=1497,g.yoddagesh=64313,g.yoddageshhebrew=64313,g.yodhebrew=1497,g.yodyodhebrew=1522,g.yodyodpatahhebrew=64287,g.yohiragana=12424,g.yoikorean=12681,g.yokatakana=12520,g.yokatakanahalfwidth=65430,g.yokorean=12635,g.yosmallhiragana=12423,g.yosmallkatakana=12519,g.yosmallkatakanahalfwidth=65390,g.yotgreek=1011,g.yoyaekorean=12680,g.yoyakorean=12679,g.yoyakthai=3618,g.yoyingthai=3597,g.yparen=9396,g.ypogegrammeni=890,g.ypogegrammenigreekcmb=837,g.yr=422,g.yring=7833,g.ysuperior=696,g.ytilde=7929,g.yturned=654,g.yuhiragana=12422,g.yuikorean=12684,g.yukatakana=12518,g.yukatakanahalfwidth=65429,g.yukorean=12640,g.yusbigcyrillic=1131,g.yusbigiotifiedcyrillic=1133,g.yuslittlecyrillic=1127,g.yuslittleiotifiedcyrillic=1129,g.yusmallhiragana=12421,g.yusmallkatakana=12517,g.yusmallkatakanahalfwidth=65389,g.yuyekorean=12683,g.yuyeokorean=12682,g.yyabengali=2527,g.yyadeva=2399,g.z=122,g.zaarmenian=1382,g.zacute=378,g.zadeva=2395,g.zagurmukhi=2651,g.zaharabic=1592,g.zahfinalarabic=65222,g.zahinitialarabic=65223,g.zahiragana=12374,g.zahmedialarabic=65224,g.zainarabic=1586,g.zainfinalarabic=65200,g.zakatakana=12470,g.zaqefgadolhebrew=1429,g.zaqefqatanhebrew=1428,g.zarqahebrew=1432,g.zayin=1494,g.zayindagesh=64310,g.zayindageshhebrew=64310,g.zayinhebrew=1494,g.zbopomofo=12567,g.zcaron=382,g.zcircle=9449,g.zcircumflex=7825,g.zcurl=657,g.zdot=380,g.zdotaccent=380,g.zdotbelow=7827,g.zecyrillic=1079,g.zedescendercyrillic=1177,g.zedieresiscyrillic=1247,g.zehiragana=12380,g.zekatakana=12476,g.zero=48,g.zeroarabic=1632,g.zerobengali=2534,g.zerodeva=2406,g.zerogujarati=2790,g.zerogurmukhi=2662,g.zerohackarabic=1632,g.zeroinferior=8320,g.zeromonospace=65296,g.zerooldstyle=63280,g.zeropersian=1776,g.zerosuperior=8304,g.zerothai=3664,g.zerowidthjoiner=65279,g.zerowidthnonjoiner=8204,g.zerowidthspace=8203,g.zeta=950,g.zhbopomofo=12563,g.zhearmenian=1386,g.zhebrevecyrillic=1218,g.zhecyrillic=1078,g.zhedescendercyrillic=1175,g.zhedieresiscyrillic=1245,g.zihiragana=12376,g.zikatakana=12472,g.zinorhebrew=1454,g.zlinebelow=7829,g.zmonospace=65370,g.zohiragana=12382,g.zokatakana=12478,g.zparen=9397,g.zretroflexhook=656,g.zstroke=438,g.zuhiragana=12378,g.zukatakana=12474,g[".notdef"]=0,g.angbracketleftbig=9001,g.angbracketleftBig=9001,g.angbracketleftbigg=9001,g.angbracketleftBigg=9001,g.angbracketrightBig=9002,g.angbracketrightbig=9002,g.angbracketrightBigg=9002,g.angbracketrightbigg=9002,g.arrowhookleft=8618,g.arrowhookright=8617,g.arrowlefttophalf=8636,g.arrowleftbothalf=8637,g.arrownortheast=8599,g.arrownorthwest=8598,g.arrowrighttophalf=8640,g.arrowrightbothalf=8641,g.arrowsoutheast=8600,g.arrowsouthwest=8601,g.backslashbig=8726,g.backslashBig=8726,g.backslashBigg=8726,g.backslashbigg=8726,g.bardbl=8214,g.bracehtipdownleft=65079,g.bracehtipdownright=65079,g.bracehtipupleft=65080,g.bracehtipupright=65080,g.braceleftBig=123,g.braceleftbig=123,g.braceleftbigg=123,g.braceleftBigg=123,g.bracerightBig=125,g.bracerightbig=125,g.bracerightbigg=125,g.bracerightBigg=125,g.bracketleftbig=91,g.bracketleftBig=91,g.bracketleftbigg=91,g.bracketleftBigg=91,g.bracketrightBig=93,g.bracketrightbig=93,g.bracketrightbigg=93,g.bracketrightBigg=93,g.ceilingleftbig=8968,g.ceilingleftBig=8968,g.ceilingleftBigg=8968,g.ceilingleftbigg=8968,g.ceilingrightbig=8969,g.ceilingrightBig=8969,g.ceilingrightbigg=8969,g.ceilingrightBigg=8969,g.circledotdisplay=8857,g.circledottext=8857,g.circlemultiplydisplay=8855,g.circlemultiplytext=8855,g.circleplusdisplay=8853,g.circleplustext=8853,g.contintegraldisplay=8750,g.contintegraltext=8750,g.coproductdisplay=8720,g.coproducttext=8720,g.floorleftBig=8970,g.floorleftbig=8970,g.floorleftbigg=8970,g.floorleftBigg=8970,g.floorrightbig=8971,g.floorrightBig=8971,g.floorrightBigg=8971,g.floorrightbigg=8971,g.hatwide=770,g.hatwider=770,g.hatwidest=770,g.intercal=7488,g.integraldisplay=8747,g.integraltext=8747,g.intersectiondisplay=8898,g.intersectiontext=8898,g.logicalanddisplay=8743,g.logicalandtext=8743,g.logicalordisplay=8744,g.logicalortext=8744,g.parenleftBig=40,g.parenleftbig=40,g.parenleftBigg=40,g.parenleftbigg=40,g.parenrightBig=41,g.parenrightbig=41,g.parenrightBigg=41,g.parenrightbigg=41,g.prime=8242,g.productdisplay=8719,g.producttext=8719,g.radicalbig=8730,g.radicalBig=8730,g.radicalBigg=8730,g.radicalbigg=8730,g.radicalbt=8730,g.radicaltp=8730,g.radicalvertex=8730,g.slashbig=47,g.slashBig=47,g.slashBigg=47,g.slashbigg=47,g.summationdisplay=8721,g.summationtext=8721,g.tildewide=732,g.tildewider=732,g.tildewidest=732,g.uniondisplay=8899,g.unionmultidisplay=8846,g.unionmultitext=8846,g.unionsqdisplay=8852,g.unionsqtext=8852,g.uniontext=8899,g.vextenddouble=8741,g.vextendsingle=8739}),getDingbatsGlyphsUnicode=getLookupTableFactory(function(g){g.space=32,g.a1=9985,g.a2=9986,g.a202=9987,g.a3=9988,g.a4=9742,g.a5=9990,g.a119=9991,g.a118=9992,g.a117=9993,g.a11=9755,g.a12=9758,g.a13=9996,g.a14=9997,g.a15=9998,g.a16=9999,g.a105=1e4,g.a17=10001,g.a18=10002,g.a19=10003,g.a20=10004,g.a21=10005,g.a22=10006,g.a23=10007,g.a24=10008,g.a25=10009,g.a26=10010,g.a27=10011,g.a28=10012,g.a6=10013,g.a7=10014,g.a8=10015,g.a9=10016,g.a10=10017,g.a29=10018,g.a30=10019,g.a31=10020,g.a32=10021,g.a33=10022,g.a34=10023,g.a35=9733,g.a36=10025,g.a37=10026,g.a38=10027,g.a39=10028,g.a40=10029,g.a41=10030,g.a42=10031,g.a43=10032,g.a44=10033,g.a45=10034,g.a46=10035,g.a47=10036,g.a48=10037,g.a49=10038,g.a50=10039,g.a51=10040,g.a52=10041,g.a53=10042,g.a54=10043,g.a55=10044,g.a56=10045,g.a57=10046,g.a58=10047,g.a59=10048,g.a60=10049,g.a61=10050,g.a62=10051,g.a63=10052,g.a64=10053,g.a65=10054,g.a66=10055,g.a67=10056,g.a68=10057,g.a69=10058,g.a70=10059,g.a71=9679,g.a72=10061,g.a73=9632,g.a74=10063,g.a203=10064,g.a75=10065,g.a204=10066,g.a76=9650,g.a77=9660,g.a78=9670,g.a79=10070,g.a81=9687,g.a82=10072,g.a83=10073,g.a84=10074,g.a97=10075,g.a98=10076,g.a99=10077,g.a100=10078,g.a101=10081,g.a102=10082,g.a103=10083,g.a104=10084,g.a106=10085,g.a107=10086,g.a108=10087,g.a112=9827,g.a111=9830,g.a110=9829,g.a109=9824,g.a120=9312,g.a121=9313,g.a122=9314,g.a123=9315,g.a124=9316,g.a125=9317,g.a126=9318,g.a127=9319,g.a128=9320,g.a129=9321,g.a130=10102,g.a131=10103,g.a132=10104,g.a133=10105,g.a134=10106,g.a135=10107,g.a136=10108,g.a137=10109,g.a138=10110,g.a139=10111,g.a140=10112,g.a141=10113,g.a142=10114,g.a143=10115,g.a144=10116,g.a145=10117,g.a146=10118,g.a147=10119,g.a148=10120,g.a149=10121,g.a150=10122,g.a151=10123,g.a152=10124,g.a153=10125,g.a154=10126,g.a155=10127,g.a156=10128,g.a157=10129,g.a158=10130,g.a159=10131,g.a160=10132,g.a161=8594,g.a163=8596,g.a164=8597,g.a196=10136,g.a165=10137,g.a192=10138,g.a166=10139,g.a167=10140,g.a168=10141,g.a169=10142,g.a170=10143,g.a171=10144,g.a172=10145,g.a173=10146,g.a162=10147,g.a174=10148,g.a175=10149,g.a176=10150,g.a177=10151,g.a178=10152,g.a179=10153,g.a193=10154,g.a180=10155,g.a199=10156,g.a181=10157,g.a200=10158,g.a182=10159,g.a201=10161,g.a183=10162,g.a184=10163,g.a197=10164,g.a185=10165,g.a194=10166,g.a198=10167,g.a186=10168,g.a195=10169,g.a187=10170,g.a188=10171,g.a189=10172,g.a190=10173,g.a191=10174,g.a89=10088,g.a90=10089,g.a93=10090,g.a94=10091,g.a91=10092,g.a92=10093,g.a205=10094,g.a85=10095,g.a206=10096,g.a86=10097,g.a87=10098,g.a88=10099,g.a95=10100,g.a96=10101,g[".notdef"]=0}),getSpecialPUASymbols=getLookupTableFactory(function(g){g[63721]=169,g[63193]=169,g[63720]=174,g[63194]=174,g[63722]=8482,g[63195]=8482,g[63729]=9127,g[63730]=9128,g[63731]=9129,g[63740]=9131,g[63741]=9132,g[63742]=9133,g[63726]=9121,g[63727]=9122,g[63728]=9123,g[63737]=9124,g[63738]=9125,g[63739]=9126,g[63723]=9115,g[63724]=9116,g[63725]=9117,g[63734]=9118,g[63735]=9119,g[63736]=9120});function mapSpecialUnicodeValues(g){return g>=65520&&g<=65535?0:g>=62976&&g<=63743?getSpecialPUASymbols()[g]||g:g===173?45:g}function getUnicodeForGlyph(g,d){let x=d[g];if(x!==void 0)return x;if(!g)return-1;if(g[0]==="u"){const b=g.length;let w;if(b===7&&g[1]==="n"&&g[2]==="i")w=g.substring(3);else if(b>=5&&b<=7)w=g.substring(1);else return-1;if(w===w.toUpperCase()&&(x=parseInt(w,16),x>=0))return x}return-1}const UnicodeRanges=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function getUnicodeRangeFor(g,d=-1){if(d!==-1){const x=UnicodeRanges[d];for(let b=0,w=x.length;b<w;b+=2)if(g>=x[b]&&g<=x[b+1])return d}for(let x=0,b=UnicodeRanges.length;x<b;x++){const w=UnicodeRanges[x];for(let S=0,C=w.length;S<C;S+=2)if(g>=w[S]&&g<=w[S+1])return x}return-1}const SpecialCharRegExp=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),CategoryCache=new Map;function getCharUnicodeCategory(g){const d=CategoryCache.get(g);if(d)return d;const x=g.match(SpecialCharRegExp),b={isWhitespace:!!x?.[1],isZeroWidthDiacritic:!!x?.[2],isInvisibleFormatMark:!!x?.[3]};return CategoryCache.set(g,b),b}function clearUnicodeCaches(){CategoryCache.clear()}const SEAC_ANALYSIS_ENABLED=!0,FontFlags={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function recoverGlyphName(g,d){if(d[g]!==void 0)return g;const x=getUnicodeForGlyph(g,d);if(x!==-1){for(const b in d)if(d[b]===x)return b}return info("Unable to recover a standard glyph name for: "+g),g}function type1FontGlyphMapping(g,d,x){const b=Object.create(null);let w,S,C;const F=!!(g.flags&FontFlags.Symbolic);if(g.isInternalFont)for(C=d,S=0;S<C.length;S++)w=x.indexOf(C[S]),b[S]=w>=0?w:0;else if(g.baseEncodingName)for(C=getEncoding(g.baseEncodingName),S=0;S<C.length;S++)w=x.indexOf(C[S]),b[S]=w>=0?w:0;else if(F)for(S in d)b[S]=d[S];else for(C=StandardEncoding,S=0;S<C.length;S++)w=x.indexOf(C[S]),b[S]=w>=0?w:0;const E=g.differences;let k;if(E)for(S in E){const D=E[S];if(w=x.indexOf(D),w===-1){k||(k=getGlyphsUnicode());const M=recoverGlyphName(D,k);M!==D&&(w=x.indexOf(M))}b[S]=w>=0?w:0}return b}function normalizeFontName(g){return g.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}const getStdFontMap=getLookupTableFactory(function(g){g["Times-Roman"]="Times-Roman",g.Helvetica="Helvetica",g.Courier="Courier",g.Symbol="Symbol",g["Times-Bold"]="Times-Bold",g["Helvetica-Bold"]="Helvetica-Bold",g["Courier-Bold"]="Courier-Bold",g.ZapfDingbats="ZapfDingbats",g["Times-Italic"]="Times-Italic",g["Helvetica-Oblique"]="Helvetica-Oblique",g["Courier-Oblique"]="Courier-Oblique",g["Times-BoldItalic"]="Times-BoldItalic",g["Helvetica-BoldOblique"]="Helvetica-BoldOblique",g["Courier-BoldOblique"]="Courier-BoldOblique",g.ArialNarrow="Helvetica",g["ArialNarrow-Bold"]="Helvetica-Bold",g["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",g["ArialNarrow-Italic"]="Helvetica-Oblique",g.ArialBlack="Helvetica",g["ArialBlack-Bold"]="Helvetica-Bold",g["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",g["ArialBlack-Italic"]="Helvetica-Oblique",g["Arial-Black"]="Helvetica",g["Arial-Black-Bold"]="Helvetica-Bold",g["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",g["Arial-Black-Italic"]="Helvetica-Oblique",g.Arial="Helvetica",g["Arial-Bold"]="Helvetica-Bold",g["Arial-BoldItalic"]="Helvetica-BoldOblique",g["Arial-Italic"]="Helvetica-Oblique",g.ArialMT="Helvetica",g["Arial-BoldItalicMT"]="Helvetica-BoldOblique",g["Arial-BoldMT"]="Helvetica-Bold",g["Arial-ItalicMT"]="Helvetica-Oblique",g["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",g["Arial-BoldMT-Bold"]="Helvetica-Bold",g["Arial-ItalicMT-Italic"]="Helvetica-Oblique",g.ArialUnicodeMS="Helvetica",g["ArialUnicodeMS-Bold"]="Helvetica-Bold",g["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",g["ArialUnicodeMS-Italic"]="Helvetica-Oblique",g["Courier-BoldItalic"]="Courier-BoldOblique",g["Courier-Italic"]="Courier-Oblique",g.CourierNew="Courier",g["CourierNew-Bold"]="Courier-Bold",g["CourierNew-BoldItalic"]="Courier-BoldOblique",g["CourierNew-Italic"]="Courier-Oblique",g["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",g["CourierNewPS-BoldMT"]="Courier-Bold",g["CourierNewPS-ItalicMT"]="Courier-Oblique",g.CourierNewPSMT="Courier",g["Helvetica-BoldItalic"]="Helvetica-BoldOblique",g["Helvetica-Italic"]="Helvetica-Oblique",g["Symbol-Bold"]="Symbol",g["Symbol-BoldItalic"]="Symbol",g["Symbol-Italic"]="Symbol",g.TimesNewRoman="Times-Roman",g["TimesNewRoman-Bold"]="Times-Bold",g["TimesNewRoman-BoldItalic"]="Times-BoldItalic",g["TimesNewRoman-Italic"]="Times-Italic",g.TimesNewRomanPS="Times-Roman",g["TimesNewRomanPS-Bold"]="Times-Bold",g["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",g["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",g["TimesNewRomanPS-BoldMT"]="Times-Bold",g["TimesNewRomanPS-Italic"]="Times-Italic",g["TimesNewRomanPS-ItalicMT"]="Times-Italic",g.TimesNewRomanPSMT="Times-Roman",g["TimesNewRomanPSMT-Bold"]="Times-Bold",g["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",g["TimesNewRomanPSMT-Italic"]="Times-Italic"}),getFontNameToFileMap=getLookupTableFactory(function(g){g.Courier="FoxitFixed.pfb",g["Courier-Bold"]="FoxitFixedBold.pfb",g["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",g["Courier-Oblique"]="FoxitFixedItalic.pfb",g.Helvetica="LiberationSans-Regular.ttf",g["Helvetica-Bold"]="LiberationSans-Bold.ttf",g["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",g["Helvetica-Oblique"]="LiberationSans-Italic.ttf",g["Times-Roman"]="FoxitSerif.pfb",g["Times-Bold"]="FoxitSerifBold.pfb",g["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",g["Times-Italic"]="FoxitSerifItalic.pfb",g.Symbol="FoxitSymbol.pfb",g.ZapfDingbats="FoxitDingbats.pfb",g["LiberationSans-Regular"]="LiberationSans-Regular.ttf",g["LiberationSans-Bold"]="LiberationSans-Bold.ttf",g["LiberationSans-Italic"]="LiberationSans-Italic.ttf",g["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"}),getNonStdFontMap=getLookupTableFactory(function(g){g.Calibri="Helvetica",g["Calibri-Bold"]="Helvetica-Bold",g["Calibri-BoldItalic"]="Helvetica-BoldOblique",g["Calibri-Italic"]="Helvetica-Oblique",g.CenturyGothic="Helvetica",g["CenturyGothic-Bold"]="Helvetica-Bold",g["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",g["CenturyGothic-Italic"]="Helvetica-Oblique",g.ComicSansMS="Comic Sans MS",g["ComicSansMS-Bold"]="Comic Sans MS-Bold",g["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",g["ComicSansMS-Italic"]="Comic Sans MS-Italic",g.Impact="Helvetica",g["ItcSymbol-Bold"]="Helvetica-Bold",g["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",g["ItcSymbol-Book"]="Helvetica",g["ItcSymbol-BookItalic"]="Helvetica-Oblique",g["ItcSymbol-Medium"]="Helvetica",g["ItcSymbol-MediumItalic"]="Helvetica-Oblique",g.LucidaConsole="Courier",g["LucidaConsole-Bold"]="Courier-Bold",g["LucidaConsole-BoldItalic"]="Courier-BoldOblique",g["LucidaConsole-Italic"]="Courier-Oblique",g["LucidaSans-Demi"]="Helvetica-Bold",g["MS-Gothic"]="MS Gothic",g["MS-Gothic-Bold"]="MS Gothic-Bold",g["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",g["MS-Gothic-Italic"]="MS Gothic-Italic",g["MS-Mincho"]="MS Mincho",g["MS-Mincho-Bold"]="MS Mincho-Bold",g["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",g["MS-Mincho-Italic"]="MS Mincho-Italic",g["MS-PGothic"]="MS PGothic",g["MS-PGothic-Bold"]="MS PGothic-Bold",g["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",g["MS-PGothic-Italic"]="MS PGothic-Italic",g["MS-PMincho"]="MS PMincho",g["MS-PMincho-Bold"]="MS PMincho-Bold",g["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",g["MS-PMincho-Italic"]="MS PMincho-Italic",g.NuptialScript="Times-Italic",g.SegoeUISymbol="Helvetica"}),getSerifFonts=getLookupTableFactory(function(g){g["Adobe Jenson"]=!0,g["Adobe Text"]=!0,g.Albertus=!0,g.Aldus=!0,g.Alexandria=!0,g.Algerian=!0,g["American Typewriter"]=!0,g.Antiqua=!0,g.Apex=!0,g.Arno=!0,g.Aster=!0,g.Aurora=!0,g.Baskerville=!0,g.Bell=!0,g.Bembo=!0,g["Bembo Schoolbook"]=!0,g.Benguiat=!0,g["Berkeley Old Style"]=!0,g["Bernhard Modern"]=!0,g["Berthold City"]=!0,g.Bodoni=!0,g["Bauer Bodoni"]=!0,g["Book Antiqua"]=!0,g.Bookman=!0,g["Bordeaux Roman"]=!0,g["Californian FB"]=!0,g.Calisto=!0,g.Calvert=!0,g.Capitals=!0,g.Cambria=!0,g.Cartier=!0,g.Caslon=!0,g.Catull=!0,g.Centaur=!0,g["Century Old Style"]=!0,g["Century Schoolbook"]=!0,g.Chaparral=!0,g["Charis SIL"]=!0,g.Cheltenham=!0,g["Cholla Slab"]=!0,g.Clarendon=!0,g.Clearface=!0,g.Cochin=!0,g.Colonna=!0,g["Computer Modern"]=!0,g["Concrete Roman"]=!0,g.Constantia=!0,g["Cooper Black"]=!0,g.Corona=!0,g.Ecotype=!0,g.Egyptienne=!0,g.Elephant=!0,g.Excelsior=!0,g.Fairfield=!0,g["FF Scala"]=!0,g.Folkard=!0,g.Footlight=!0,g.FreeSerif=!0,g["Friz Quadrata"]=!0,g.Garamond=!0,g.Gentium=!0,g.Georgia=!0,g.Gloucester=!0,g["Goudy Old Style"]=!0,g["Goudy Schoolbook"]=!0,g["Goudy Pro Font"]=!0,g.Granjon=!0,g["Guardian Egyptian"]=!0,g.Heather=!0,g.Hercules=!0,g["High Tower Text"]=!0,g.Hiroshige=!0,g["Hoefler Text"]=!0,g["Humana Serif"]=!0,g.Imprint=!0,g["Ionic No. 5"]=!0,g.Janson=!0,g.Joanna=!0,g.Korinna=!0,g.Lexicon=!0,g.LiberationSerif=!0,g["Liberation Serif"]=!0,g["Linux Libertine"]=!0,g.Literaturnaya=!0,g.Lucida=!0,g["Lucida Bright"]=!0,g.Melior=!0,g.Memphis=!0,g.Miller=!0,g.Minion=!0,g.Modern=!0,g["Mona Lisa"]=!0,g["Mrs Eaves"]=!0,g["MS Serif"]=!0,g["Museo Slab"]=!0,g["New York"]=!0,g["Nimbus Roman"]=!0,g["NPS Rawlinson Roadway"]=!0,g.NuptialScript=!0,g.Palatino=!0,g.Perpetua=!0,g.Plantin=!0,g["Plantin Schoolbook"]=!0,g.Playbill=!0,g["Poor Richard"]=!0,g["Rawlinson Roadway"]=!0,g.Renault=!0,g.Requiem=!0,g.Rockwell=!0,g.Roman=!0,g["Rotis Serif"]=!0,g.Sabon=!0,g.Scala=!0,g.Seagull=!0,g.Sistina=!0,g.Souvenir=!0,g.STIX=!0,g["Stone Informal"]=!0,g["Stone Serif"]=!0,g.Sylfaen=!0,g.Times=!0,g.Trajan=!0,g.Trinité=!0,g["Trump Mediaeval"]=!0,g.Utopia=!0,g["Vale Type"]=!0,g["Bitstream Vera"]=!0,g["Vera Serif"]=!0,g.Versailles=!0,g.Wanted=!0,g.Weiss=!0,g["Wide Latin"]=!0,g.Windsor=!0,g.XITS=!0}),getSymbolsFonts=getLookupTableFactory(function(g){g.Dingbats=!0,g.Symbol=!0,g.ZapfDingbats=!0,g.Wingdings=!0,g["Wingdings-Bold"]=!0,g["Wingdings-Regular"]=!0}),getGlyphMapForStandardFonts=getLookupTableFactory(function(g){g[2]=10,g[3]=32,g[4]=33,g[5]=34,g[6]=35,g[7]=36,g[8]=37,g[9]=38,g[10]=39,g[11]=40,g[12]=41,g[13]=42,g[14]=43,g[15]=44,g[16]=45,g[17]=46,g[18]=47,g[19]=48,g[20]=49,g[21]=50,g[22]=51,g[23]=52,g[24]=53,g[25]=54,g[26]=55,g[27]=56,g[28]=57,g[29]=58,g[30]=894,g[31]=60,g[32]=61,g[33]=62,g[34]=63,g[35]=64,g[36]=65,g[37]=66,g[38]=67,g[39]=68,g[40]=69,g[41]=70,g[42]=71,g[43]=72,g[44]=73,g[45]=74,g[46]=75,g[47]=76,g[48]=77,g[49]=78,g[50]=79,g[51]=80,g[52]=81,g[53]=82,g[54]=83,g[55]=84,g[56]=85,g[57]=86,g[58]=87,g[59]=88,g[60]=89,g[61]=90,g[62]=91,g[63]=92,g[64]=93,g[65]=94,g[66]=95,g[67]=96,g[68]=97,g[69]=98,g[70]=99,g[71]=100,g[72]=101,g[73]=102,g[74]=103,g[75]=104,g[76]=105,g[77]=106,g[78]=107,g[79]=108,g[80]=109,g[81]=110,g[82]=111,g[83]=112,g[84]=113,g[85]=114,g[86]=115,g[87]=116,g[88]=117,g[89]=118,g[90]=119,g[91]=120,g[92]=121,g[93]=122,g[94]=123,g[95]=124,g[96]=125,g[97]=126,g[98]=196,g[99]=197,g[100]=199,g[101]=201,g[102]=209,g[103]=214,g[104]=220,g[105]=225,g[106]=224,g[107]=226,g[108]=228,g[109]=227,g[110]=229,g[111]=231,g[112]=233,g[113]=232,g[114]=234,g[115]=235,g[116]=237,g[117]=236,g[118]=238,g[119]=239,g[120]=241,g[121]=243,g[122]=242,g[123]=244,g[124]=246,g[125]=245,g[126]=250,g[127]=249,g[128]=251,g[129]=252,g[130]=8224,g[131]=176,g[132]=162,g[133]=163,g[134]=167,g[135]=8226,g[136]=182,g[137]=223,g[138]=174,g[139]=169,g[140]=8482,g[141]=180,g[142]=168,g[143]=8800,g[144]=198,g[145]=216,g[146]=8734,g[147]=177,g[148]=8804,g[149]=8805,g[150]=165,g[151]=181,g[152]=8706,g[153]=8721,g[154]=8719,g[156]=8747,g[157]=170,g[158]=186,g[159]=8486,g[160]=230,g[161]=248,g[162]=191,g[163]=161,g[164]=172,g[165]=8730,g[166]=402,g[167]=8776,g[168]=8710,g[169]=171,g[170]=187,g[171]=8230,g[179]=8220,g[180]=8221,g[181]=8216,g[182]=8217,g[200]=193,g[203]=205,g[207]=211,g[210]=218,g[223]=711,g[224]=321,g[225]=322,g[226]=352,g[227]=353,g[228]=381,g[229]=382,g[233]=221,g[234]=253,g[252]=263,g[253]=268,g[254]=269,g[258]=258,g[260]=260,g[261]=261,g[265]=280,g[266]=281,g[267]=282,g[268]=283,g[269]=313,g[275]=323,g[276]=324,g[278]=328,g[283]=344,g[284]=345,g[285]=346,g[286]=347,g[292]=367,g[295]=377,g[296]=378,g[298]=380,g[305]=963,g[306]=964,g[307]=966,g[308]=8215,g[309]=8252,g[310]=8319,g[311]=8359,g[312]=8592,g[313]=8593,g[337]=9552,g[493]=1039,g[494]=1040,g[672]=1488,g[673]=1489,g[674]=1490,g[675]=1491,g[676]=1492,g[677]=1493,g[678]=1494,g[679]=1495,g[680]=1496,g[681]=1497,g[682]=1498,g[683]=1499,g[684]=1500,g[685]=1501,g[686]=1502,g[687]=1503,g[688]=1504,g[689]=1505,g[690]=1506,g[691]=1507,g[692]=1508,g[693]=1509,g[694]=1510,g[695]=1511,g[696]=1512,g[697]=1513,g[698]=1514,g[705]=1524,g[706]=8362,g[710]=64288,g[711]=64298,g[759]=1617,g[761]=1776,g[763]=1778,g[775]=1652,g[777]=1764,g[778]=1780,g[779]=1781,g[780]=1782,g[782]=771,g[783]=64726,g[786]=8363,g[788]=8532,g[790]=768,g[791]=769,g[792]=768,g[795]=803,g[797]=64336,g[798]=64337,g[799]=64342,g[800]=64343,g[801]=64344,g[802]=64345,g[803]=64362,g[804]=64363,g[805]=64364,g[2424]=7821,g[2425]=7822,g[2426]=7823,g[2427]=7824,g[2428]=7825,g[2429]=7826,g[2430]=7827,g[2433]=7682,g[2678]=8045,g[2679]=8046,g[2830]=1552,g[2838]=686,g[2840]=751,g[2842]=753,g[2843]=754,g[2844]=755,g[2846]=757,g[2856]=767,g[2857]=848,g[2858]=849,g[2862]=853,g[2863]=854,g[2864]=855,g[2865]=861,g[2866]=862,g[2906]=7460,g[2908]=7462,g[2909]=7463,g[2910]=7464,g[2912]=7466,g[2913]=7467,g[2914]=7468,g[2916]=7470,g[2917]=7471,g[2918]=7472,g[2920]=7474,g[2921]=7475,g[2922]=7476,g[2924]=7478,g[2925]=7479,g[2926]=7480,g[2928]=7482,g[2929]=7483,g[2930]=7484,g[2932]=7486,g[2933]=7487,g[2934]=7488,g[2936]=7490,g[2937]=7491,g[2938]=7492,g[2940]=7494,g[2941]=7495,g[2942]=7496,g[2944]=7498,g[2946]=7500,g[2948]=7502,g[2950]=7504,g[2951]=7505,g[2952]=7506,g[2954]=7508,g[2955]=7509,g[2956]=7510,g[2958]=7512,g[2959]=7513,g[2960]=7514,g[2962]=7516,g[2963]=7517,g[2964]=7518,g[2966]=7520,g[2967]=7521,g[2968]=7522,g[2970]=7524,g[2971]=7525,g[2972]=7526,g[2974]=7528,g[2975]=7529,g[2976]=7530,g[2978]=1537,g[2979]=1538,g[2980]=1539,g[2982]=1549,g[2983]=1551,g[2984]=1552,g[2986]=1554,g[2987]=1555,g[2988]=1556,g[2990]=1623,g[2991]=1624,g[2995]=1775,g[2999]=1791,g[3002]=64290,g[3003]=64291,g[3004]=64292,g[3006]=64294,g[3007]=64295,g[3008]=64296,g[3011]=1900,g[3014]=8223,g[3015]=8244,g[3017]=7532,g[3018]=7533,g[3019]=7534,g[3075]=7590,g[3076]=7591,g[3079]=7594,g[3080]=7595,g[3083]=7598,g[3084]=7599,g[3087]=7602,g[3088]=7603,g[3091]=7606,g[3092]=7607,g[3095]=7610,g[3096]=7611,g[3099]=7614,g[3100]=7615,g[3103]=7618,g[3104]=7619,g[3107]=8337,g[3108]=8338,g[3116]=1884,g[3119]=1885,g[3120]=1885,g[3123]=1886,g[3124]=1886,g[3127]=1887,g[3128]=1887,g[3131]=1888,g[3132]=1888,g[3135]=1889,g[3136]=1889,g[3139]=1890,g[3140]=1890,g[3143]=1891,g[3144]=1891,g[3147]=1892,g[3148]=1892,g[3153]=580,g[3154]=581,g[3157]=584,g[3158]=585,g[3161]=588,g[3162]=589,g[3165]=891,g[3166]=892,g[3169]=1274,g[3170]=1275,g[3173]=1278,g[3174]=1279,g[3181]=7622,g[3182]=7623,g[3282]=11799,g[3316]=578,g[3379]=42785,g[3393]=1159,g[3416]=8377}),getSupplementalGlyphMapForArialBlack=getLookupTableFactory(function(g){g[227]=322,g[264]=261,g[291]=346}),getSupplementalGlyphMapForCalibri=getLookupTableFactory(function(g){g[1]=32,g[4]=65,g[5]=192,g[6]=193,g[9]=196,g[17]=66,g[18]=67,g[21]=268,g[24]=68,g[28]=69,g[29]=200,g[30]=201,g[32]=282,g[38]=70,g[39]=71,g[44]=72,g[47]=73,g[48]=204,g[49]=205,g[58]=74,g[60]=75,g[62]=76,g[68]=77,g[69]=78,g[75]=79,g[76]=210,g[80]=214,g[87]=80,g[89]=81,g[90]=82,g[92]=344,g[94]=83,g[97]=352,g[100]=84,g[104]=85,g[109]=220,g[115]=86,g[116]=87,g[121]=88,g[122]=89,g[124]=221,g[127]=90,g[129]=381,g[258]=97,g[259]=224,g[260]=225,g[263]=228,g[268]=261,g[271]=98,g[272]=99,g[273]=263,g[275]=269,g[282]=100,g[286]=101,g[287]=232,g[288]=233,g[290]=283,g[295]=281,g[296]=102,g[336]=103,g[346]=104,g[349]=105,g[350]=236,g[351]=237,g[361]=106,g[364]=107,g[367]=108,g[371]=322,g[373]=109,g[374]=110,g[381]=111,g[382]=242,g[383]=243,g[386]=246,g[393]=112,g[395]=113,g[396]=114,g[398]=345,g[400]=115,g[401]=347,g[403]=353,g[410]=116,g[437]=117,g[442]=252,g[448]=118,g[449]=119,g[454]=120,g[455]=121,g[457]=253,g[460]=122,g[462]=382,g[463]=380,g[853]=44,g[855]=58,g[856]=46,g[876]=47,g[878]=45,g[882]=45,g[894]=40,g[895]=41,g[896]=91,g[897]=93,g[923]=64,g[1004]=48,g[1005]=49,g[1006]=50,g[1007]=51,g[1008]=52,g[1009]=53,g[1010]=54,g[1011]=55,g[1012]=56,g[1013]=57,g[1081]=37,g[1085]=43,g[1086]=45});function getStandardFontName(g){const d=normalizeFontName(g);return getStdFontMap()[d]}function isKnownFontName(g){const d=normalizeFontName(g);return!!(getStdFontMap()[d]||getNonStdFontMap()[d]||getSerifFonts()[d]||getSymbolsFonts()[d])}class ToUnicodeMap{constructor(d=[]){this._map=d}get length(){return this._map.length}forEach(d){for(const x in this._map)d(x,this._map[x].charCodeAt(0))}has(d){return this._map[d]!==void 0}get(d){return this._map[d]}charCodeOf(d){const x=this._map;if(x.length<=65536)return x.indexOf(d);for(const b in x)if(x[b]===d)return b|0;return-1}amend(d){for(const x in d)this._map[x]=d[x]}}class IdentityToUnicodeMap{constructor(d,x){this.firstChar=d,this.lastChar=x}get length(){return this.lastChar+1-this.firstChar}forEach(d){for(let x=this.firstChar,b=this.lastChar;x<=b;x++)d(x,x)}has(d){return this.firstChar<=d&&d<=this.lastChar}get(d){if(this.firstChar<=d&&d<=this.lastChar)return String.fromCharCode(d)}charCodeOf(d){return Number.isInteger(d)&&d>=this.firstChar&&d<=this.lastChar?d:-1}amend(d){unreachable("Should not call amend()")}}class CFFFont{constructor(d,x){this.properties=x;const b=new CFFParser(d,x,SEAC_ANALYSIS_ENABLED);this.cff=b.parse(),this.cff.duplicateFirstGlyph();const w=new CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=w.compile()}catch{warn("Failed to compile font "+x.loadedName),this.data=d}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const d=this.cff,x=this.properties,{cidToGidMap:b,cMap:w}=x,S=d.charset.charset;let C,F;if(x.composite){let k;if(b?.length>0){k=Object.create(null);for(let M=0,L=b.length;M<L;M++){const R=b[M];R!==void 0&&(k[R]=M)}}C=Object.create(null);let D;if(d.isCIDFont)for(F=0;F<S.length;F++){const M=S[F];D=w.charCodeOf(M),k?.[D]!==void 0&&(D=k[D]),C[D]=F}else for(F=0;F<d.charStrings.count;F++)D=w.charCodeOf(F),C[D]=F;return C}let E=d.encoding?d.encoding.encoding:null;return x.isInternalFont&&(E=x.defaultEncoding),C=type1FontGlyphMapping(x,E,S),C}hasGlyphId(d){return this.cff.hasGlyphId(d)}_createBuiltInEncoding(){const{charset:d,encoding:x}=this.cff;if(!d||!x)return;const b=d.charset,w=x.encoding,S=[];for(const C in w){const F=w[C];if(F>=0){const E=b[F];E&&(S[C]=E)}}S.length>0&&(this.properties.builtInEncoding=S)}}function getUint32(g,d){return(g[d]<<24|g[d+1]<<16|g[d+2]<<8|g[d+3])>>>0}function getUint16(g,d){return g[d]<<8|g[d+1]}function getInt16(g,d){return(g[d]<<24|g[d+1]<<16)>>16}function getInt8(g,d){return g[d]<<24>>24}function getFloat214(g,d){return getInt16(g,d)/16384}function getSubroutineBias(g){const d=g.length;let x=32768;return d<1240?x=107:d<33900&&(x=1131),x}function parseCmap(g,d,x){const b=getUint16(g,d+2)===1?getUint32(g,d+8):getUint32(g,d+16),w=getUint16(g,d+b);let S,C,F;if(w===4){getUint16(g,d+b+2);const E=getUint16(g,d+b+6)>>1;for(C=d+b+14,S=[],F=0;F<E;F++,C+=2)S[F]={end:getUint16(g,C)};for(C+=2,F=0;F<E;F++,C+=2)S[F].start=getUint16(g,C);for(F=0;F<E;F++,C+=2)S[F].idDelta=getUint16(g,C);for(F=0;F<E;F++,C+=2){let k=getUint16(g,C);if(k!==0){S[F].ids=[];for(let D=0,M=S[F].end-S[F].start+1;D<M;D++)S[F].ids[D]=getUint16(g,C+k),k+=2}}return S}else if(w===12){const E=getUint32(g,d+b+12);for(C=d+b+16,S=[],F=0;F<E;F++)d=getUint32(g,C),S.push({start:d,end:getUint32(g,C+4),idDelta:getUint32(g,C+8)-d}),C+=12;return S}throw new FormatError(`unsupported cmap: ${w}`)}function parseCff(g,d,x,b){const w={},C=new CFFParser(new Stream$1(g,d,x-d),w,b).parse();return{glyphs:C.charStrings.objects,subrs:C.topDict.privateDict?.subrsIndex?.objects,gsubrs:C.globalSubrIndex?.objects,isCFFCIDFont:C.isCIDFont,fdSelect:C.fdSelect,fdArray:C.fdArray}}function parseGlyfTable(g,d,x){let b,w;x?(b=4,w=getUint32):(b=2,w=(F,E)=>2*getUint16(F,E));const S=[];let C=w(d,0);for(let F=b;F<d.length;F+=b){const E=w(d,F);S.push(g.subarray(C,E)),C=E}return S}function lookupCmap(g,d){const x=d.codePointAt(0);let b=0,w=0,S=g.length-1;for(;w<S;){const C=w+S+1>>1;x<g[C].start?S=C-1:w=C}return g[w].start<=x&&x<=g[w].end&&(b=g[w].idDelta+(g[w].ids?g[w].ids[x-g[w].start]:x)&65535),{charCode:x,glyphId:b}}function compileGlyf(g,d,x){function b(M,L){d.push({cmd:"moveTo",args:[M,L]})}function w(M,L){d.push({cmd:"lineTo",args:[M,L]})}function S(M,L,R,U){d.push({cmd:"quadraticCurveTo",args:[M,L,R,U]})}let C=0;const F=getInt16(g,C);let E,k=0,D=0;if(C+=10,F<0)do{E=getUint16(g,C);const M=getUint16(g,C+2);C+=4;let L,R;E&1?(E&2?(L=getInt16(g,C),R=getInt16(g,C+2)):(L=getUint16(g,C),R=getUint16(g,C+2)),C+=4):E&2?(L=getInt8(g,C++),R=getInt8(g,C++)):(L=g[C++],R=g[C++]),E&2?(k=L,D=R):(k=0,D=0);let U=1,j=1,H=0,z=0;E&8?(U=j=getFloat214(g,C),C+=2):E&64?(U=getFloat214(g,C),j=getFloat214(g,C+2),C+=4):E&128&&(U=getFloat214(g,C),H=getFloat214(g,C+2),z=getFloat214(g,C+4),j=getFloat214(g,C+6),C+=8);const V=x.glyphs[M];V&&(d.push({cmd:"save"},{cmd:"transform",args:[U,H,z,j,k,D]}),compileGlyf(V,d,x),d.push({cmd:"restore"}))}while(E&32);else{const M=[];let L,R;for(L=0;L<F;L++)M.push(getUint16(g,C)),C+=2;const U=getUint16(g,C);C+=2+U;const j=M.at(-1)+1,H=[];for(;H.length<j;){E=g[C++];let V=1;for(E&8&&(V+=g[C++]);V-- >0;)H.push({flags:E})}for(L=0;L<j;L++){switch(H[L].flags&18){case 0:k+=getInt16(g,C),C+=2;break;case 2:k-=g[C++];break;case 18:k+=g[C++];break}H[L].x=k}for(L=0;L<j;L++){switch(H[L].flags&36){case 0:D+=getInt16(g,C),C+=2;break;case 4:D-=g[C++];break;case 36:D+=g[C++];break}H[L].y=D}let z=0;for(C=0;C<F;C++){const V=M[C],G=H.slice(z,V+1);if(G[0].flags&1)G.push(G[0]);else if(G.at(-1).flags&1)G.unshift(G.at(-1));else{const $={flags:1,x:(G[0].x+G.at(-1).x)/2,y:(G[0].y+G.at(-1).y)/2};G.unshift($),G.push($)}for(b(G[0].x,G[0].y),L=1,R=G.length;L<R;L++)G[L].flags&1?w(G[L].x,G[L].y):G[L+1].flags&1?(S(G[L].x,G[L].y,G[L+1].x,G[L+1].y),L++):S(G[L].x,G[L].y,(G[L].x+G[L+1].x)/2,(G[L].y+G[L+1].y)/2);z=V+1}}}function compileCharString(g,d,x,b){function w(L,R){d.push({cmd:"moveTo",args:[L,R]})}function S(L,R){d.push({cmd:"lineTo",args:[L,R]})}function C(L,R,U,j,H,z){d.push({cmd:"bezierCurveTo",args:[L,R,U,j,H,z]})}const F=[];let E=0,k=0,D=0;function M(L){let R=0;for(;R<L.length;){let U=!1,j=L[R++],H,z,V,G,$,K,Z,Q,ne;switch(j){case 1:D+=F.length>>1,U=!0;break;case 3:D+=F.length>>1,U=!0;break;case 4:k+=F.pop(),w(E,k),U=!0;break;case 5:for(;F.length>0;)E+=F.shift(),k+=F.shift(),S(E,k);break;case 6:for(;F.length>0&&(E+=F.shift(),S(E,k),F.length!==0);)k+=F.shift(),S(E,k);break;case 7:for(;F.length>0&&(k+=F.shift(),S(E,k),F.length!==0);)E+=F.shift(),S(E,k);break;case 8:for(;F.length>0;)H=E+F.shift(),V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+F.shift(),C(H,V,z,G,E,k);break;case 10:if(Q=F.pop(),ne=null,x.isCFFCIDFont){const le=x.fdSelect.getFDIndex(b);if(le>=0&&le<x.fdArray.length){const fe=x.fdArray[le];let be;fe.privateDict?.subrsIndex&&(be=fe.privateDict.subrsIndex.objects),be&&(Q+=getSubroutineBias(be),ne=be[Q])}else warn("Invalid fd index for glyph index.")}else ne=x.subrs[Q+x.subrsBias];ne&&M(ne);break;case 11:return;case 12:switch(j=L[R++],j){case 34:H=E+F.shift(),z=H+F.shift(),$=k+F.shift(),E=z+F.shift(),C(H,k,z,$,E,$),H=E+F.shift(),z=H+F.shift(),E=z+F.shift(),C(H,$,z,k,E,k);break;case 35:H=E+F.shift(),V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+F.shift(),C(H,V,z,G,E,k),H=E+F.shift(),V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+F.shift(),C(H,V,z,G,E,k),F.pop();break;case 36:H=E+F.shift(),$=k+F.shift(),z=H+F.shift(),K=$+F.shift(),E=z+F.shift(),C(H,$,z,K,E,K),H=E+F.shift(),z=H+F.shift(),Z=K+F.shift(),E=z+F.shift(),C(H,K,z,Z,E,k);break;case 37:const le=E,fe=k;H=E+F.shift(),V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+F.shift(),C(H,V,z,G,E,k),H=E+F.shift(),V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z,k=G,Math.abs(E-le)>Math.abs(k-fe)?E+=F.shift():k+=F.shift(),C(H,V,z,G,E,k);break;default:throw new FormatError(`unknown operator: 12 ${j}`)}break;case 14:if(F.length>=4){const le=F.pop(),fe=F.pop();k=F.pop(),E=F.pop(),d.push({cmd:"save"},{cmd:"translate",args:[E,k]});let be=lookupCmap(x.cmap,String.fromCharCode(x.glyphNameMap[StandardEncoding[le]]));compileCharString(x.glyphs[be.glyphId],d,x,be.glyphId),d.push({cmd:"restore"}),be=lookupCmap(x.cmap,String.fromCharCode(x.glyphNameMap[StandardEncoding[fe]])),compileCharString(x.glyphs[be.glyphId],d,x,be.glyphId)}return;case 18:D+=F.length>>1,U=!0;break;case 19:D+=F.length>>1,R+=D+7>>3,U=!0;break;case 20:D+=F.length>>1,R+=D+7>>3,U=!0;break;case 21:k+=F.pop(),E+=F.pop(),w(E,k),U=!0;break;case 22:E+=F.pop(),w(E,k),U=!0;break;case 23:D+=F.length>>1,U=!0;break;case 24:for(;F.length>2;)H=E+F.shift(),V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+F.shift(),C(H,V,z,G,E,k);E+=F.shift(),k+=F.shift(),S(E,k);break;case 25:for(;F.length>6;)E+=F.shift(),k+=F.shift(),S(E,k);H=E+F.shift(),V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+F.shift(),C(H,V,z,G,E,k);break;case 26:for(F.length%2&&(E+=F.shift());F.length>0;)H=E,V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z,k=G+F.shift(),C(H,V,z,G,E,k);break;case 27:for(F.length%2&&(k+=F.shift());F.length>0;)H=E+F.shift(),V=k,z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G,C(H,V,z,G,E,k);break;case 28:F.push((L[R]<<24|L[R+1]<<16)>>16),R+=2;break;case 29:Q=F.pop()+x.gsubrsBias,ne=x.gsubrs[Q],ne&&M(ne);break;case 30:for(;F.length>0&&(H=E,V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+(F.length===1?F.shift():0),C(H,V,z,G,E,k),F.length!==0);)H=E+F.shift(),V=k,z=H+F.shift(),G=V+F.shift(),k=G+F.shift(),E=z+(F.length===1?F.shift():0),C(H,V,z,G,E,k);break;case 31:for(;F.length>0&&(H=E+F.shift(),V=k,z=H+F.shift(),G=V+F.shift(),k=G+F.shift(),E=z+(F.length===1?F.shift():0),C(H,V,z,G,E,k),F.length!==0);)H=E,V=k+F.shift(),z=H+F.shift(),G=V+F.shift(),E=z+F.shift(),k=G+(F.length===1?F.shift():0),C(H,V,z,G,E,k);break;default:if(j<32)throw new FormatError(`unknown operator: ${j}`);j<247?F.push(j-139):j<251?F.push((j-247)*256+L[R++]+108):j<255?F.push(-(j-251)*256-L[R++]-108):(F.push((L[R]<<24|L[R+1]<<16|L[R+2]<<8|L[R+3])/65536),R+=4);break}U&&(F.length=0)}}M(g)}const NOOP=[];class CompiledFont{constructor(d){this.constructor===CompiledFont&&unreachable("Cannot initialize CompiledFont."),this.fontMatrix=d,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(d){const{charCode:x,glyphId:b}=lookupCmap(this.cmap,d);let w=this.compiledGlyphs[b];if(!w)try{w=this.compileGlyph(this.glyphs[b],b),this.compiledGlyphs[b]=w}catch(S){throw this.compiledGlyphs[b]=NOOP,this.compiledCharCodeToGlyphId[x]===void 0&&(this.compiledCharCodeToGlyphId[x]=b),S}return this.compiledCharCodeToGlyphId[x]===void 0&&(this.compiledCharCodeToGlyphId[x]=b),w}compileGlyph(d,x){if(!d||d.length===0||d[0]===14)return NOOP;let b=this.fontMatrix;if(this.isCFFCIDFont){const S=this.fdSelect.getFDIndex(x);S>=0&&S<this.fdArray.length?b=this.fdArray[S].getByName("FontMatrix")||FONT_IDENTITY_MATRIX:warn("Invalid fd index for glyph index.")}const w=[{cmd:"save"},{cmd:"transform",args:b.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(d,w,x),w.push({cmd:"restore"}),w}compileGlyphImpl(){unreachable("Children classes should implement this.")}hasBuiltPath(d){const{charCode:x,glyphId:b}=lookupCmap(this.cmap,d);return this.compiledGlyphs[b]!==void 0&&this.compiledCharCodeToGlyphId[x]!==void 0}}class TrueTypeCompiled extends CompiledFont{constructor(d,x,b){super(b||[488e-6,0,0,488e-6,0,0]),this.glyphs=d,this.cmap=x}compileGlyphImpl(d,x){compileGlyf(d,x,this)}}class Type2Compiled extends CompiledFont{constructor(d,x,b,w){super(b||[.001,0,0,.001,0,0]),this.glyphs=d.glyphs,this.gsubrs=d.gsubrs||[],this.subrs=d.subrs||[],this.cmap=x,this.glyphNameMap=w||getGlyphsUnicode(),this.gsubrsBias=getSubroutineBias(this.gsubrs),this.subrsBias=getSubroutineBias(this.subrs),this.isCFFCIDFont=d.isCFFCIDFont,this.fdSelect=d.fdSelect,this.fdArray=d.fdArray}compileGlyphImpl(d,x,b){compileCharString(d,x,this,b)}}class FontRendererFactory{static create(d,x){const b=new Uint8Array(d.data);let w,S,C,F,E,k;const D=getUint16(b,4);for(let M=0,L=12;M<D;M++,L+=16){const R=bytesToString(b.subarray(L,L+4)),U=getUint32(b,L+8),j=getUint32(b,L+12);switch(R){case"cmap":w=parseCmap(b,U);break;case"glyf":S=b.subarray(U,U+j);break;case"loca":C=b.subarray(U,U+j);break;case"head":k=getUint16(b,U+18),E=getUint16(b,U+50);break;case"CFF ":F=parseCff(b,U,U+j,x);break}}if(S){const M=k?[1/k,0,0,1/k,0,0]:d.fontMatrix;return new TrueTypeCompiled(parseGlyfTable(S,C,E),w,M)}return new Type2Compiled(F,w,d.fontMatrix,d.glyphNameMap)}}const getMetrics=getLookupTableFactory(function(g){g.Courier=600,g["Courier-Bold"]=600,g["Courier-BoldOblique"]=600,g["Courier-Oblique"]=600,g.Helvetica=getLookupTableFactory(function(d){d.space=278,d.exclam=278,d.quotedbl=355,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=667,d.quoteright=222,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=278,d.semicolon=278,d.less=584,d.equal=584,d.greater=584,d.question=556,d.at=1015,d.A=667,d.B=667,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=500,d.K=667,d.L=556,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=278,d.backslash=278,d.bracketright=278,d.asciicircum=469,d.underscore=556,d.quoteleft=222,d.a=556,d.b=556,d.c=500,d.d=556,d.e=556,d.f=278,d.g=556,d.h=556,d.i=222,d.j=222,d.k=500,d.l=222,d.m=833,d.n=556,d.o=556,d.p=556,d.q=556,d.r=333,d.s=500,d.t=278,d.u=556,d.v=500,d.w=722,d.x=500,d.y=500,d.z=500,d.braceleft=334,d.bar=260,d.braceright=334,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=191,d.quotedblleft=333,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=500,d.fl=500,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=537,d.bullet=350,d.quotesinglbase=222,d.quotedblbase=333,d.quotedblright=333,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=556,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=222,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=556,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=667,d.aacute=556,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=500,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=500,d.aring=556,d.Ncommaaccent=722,d.lacute=222,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=500,d.scedilla=500,d.iacute=278,d.lozenge=471,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=556,d.acircumflex=556,d.Amacron=667,d.rcaron=333,d.ccedilla=500,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=643,d.Umacron=722,d.uring=556,d.threesuperior=333,d.Ograve=778,d.Agrave=667,d.Abreve=667,d.multiply=584,d.uacute=556,d.Tcaron=611,d.partialdiff=476,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=500,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=260,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=333,d.omacron=556,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=222,d.tcaron=317,d.eogonek=556,d.Uogonek=722,d.Aacute=667,d.Adieresis=667,d.egrave=556,d.zacute=500,d.iogonek=222,d.Oacute=778,d.oacute=556,d.amacron=556,d.sacute=500,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=556,d.twosuperior=333,d.Odieresis=778,d.mu=556,d.igrave=278,d.ohungarumlaut=556,d.Eogonek=667,d.dcroat=556,d.threequarters=834,d.Scedilla=667,d.lcaron=299,d.Kcommaaccent=667,d.Lacute=556,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=556,d.onehalf=834,d.lessequal=549,d.ocircumflex=556,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=556,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=556,d.Ccaron=722,d.ugrave=556,d.radical=453,d.Dcaron=722,d.rcommaaccent=333,d.Ntilde=722,d.otilde=556,d.Rcommaaccent=722,d.Lcommaaccent=556,d.Atilde=667,d.Aogonek=667,d.Aring=667,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=500,d.minus=584,d.Icircumflex=278,d.ncaron=556,d.tcommaaccent=278,d.logicalnot=584,d.odieresis=556,d.udieresis=556,d.notequal=549,d.gcommaaccent=556,d.eth=556,d.zcaron=500,d.ncommaaccent=556,d.onesuperior=333,d.imacron=278,d.Euro=556}),g["Helvetica-Bold"]=getLookupTableFactory(function(d){d.space=278,d.exclam=333,d.quotedbl=474,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=722,d.quoteright=278,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=333,d.semicolon=333,d.less=584,d.equal=584,d.greater=584,d.question=611,d.at=975,d.A=722,d.B=722,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=556,d.K=722,d.L=611,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=584,d.underscore=556,d.quoteleft=278,d.a=556,d.b=611,d.c=556,d.d=611,d.e=556,d.f=333,d.g=611,d.h=611,d.i=278,d.j=278,d.k=556,d.l=278,d.m=889,d.n=611,d.o=611,d.p=611,d.q=611,d.r=389,d.s=556,d.t=333,d.u=611,d.v=556,d.w=778,d.x=556,d.y=556,d.z=500,d.braceleft=389,d.bar=280,d.braceright=389,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=238,d.quotedblleft=500,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=611,d.fl=611,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=556,d.bullet=350,d.quotesinglbase=278,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=611,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=278,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=611,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=722,d.aacute=556,d.Ucircumflex=722,d.yacute=556,d.scommaaccent=556,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=611,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=556,d.aring=556,d.Ncommaaccent=722,d.lacute=278,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=556,d.scedilla=556,d.iacute=278,d.lozenge=494,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=611,d.acircumflex=556,d.Amacron=722,d.rcaron=389,d.ccedilla=556,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=743,d.Umacron=722,d.uring=611,d.threesuperior=333,d.Ograve=778,d.Agrave=722,d.Abreve=722,d.multiply=584,d.uacute=611,d.Tcaron=611,d.partialdiff=494,d.ydieresis=556,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=556,d.nacute=611,d.umacron=611,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=280,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=389,d.omacron=611,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=278,d.tcaron=389,d.eogonek=556,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=556,d.zacute=500,d.iogonek=278,d.Oacute=778,d.oacute=611,d.amacron=556,d.sacute=556,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=611,d.twosuperior=333,d.Odieresis=778,d.mu=611,d.igrave=278,d.ohungarumlaut=611,d.Eogonek=667,d.dcroat=611,d.threequarters=834,d.Scedilla=667,d.lcaron=400,d.Kcommaaccent=722,d.Lacute=611,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=611,d.onehalf=834,d.lessequal=549,d.ocircumflex=611,d.ntilde=611,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=611,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=611,d.Ccaron=722,d.ugrave=611,d.radical=549,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=722,d.otilde=611,d.Rcommaaccent=722,d.Lcommaaccent=611,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=556,d.minus=584,d.Icircumflex=278,d.ncaron=611,d.tcommaaccent=333,d.logicalnot=584,d.odieresis=611,d.udieresis=611,d.notequal=549,d.gcommaaccent=611,d.eth=611,d.zcaron=500,d.ncommaaccent=611,d.onesuperior=333,d.imacron=278,d.Euro=556}),g["Helvetica-BoldOblique"]=getLookupTableFactory(function(d){d.space=278,d.exclam=333,d.quotedbl=474,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=722,d.quoteright=278,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=333,d.semicolon=333,d.less=584,d.equal=584,d.greater=584,d.question=611,d.at=975,d.A=722,d.B=722,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=556,d.K=722,d.L=611,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=584,d.underscore=556,d.quoteleft=278,d.a=556,d.b=611,d.c=556,d.d=611,d.e=556,d.f=333,d.g=611,d.h=611,d.i=278,d.j=278,d.k=556,d.l=278,d.m=889,d.n=611,d.o=611,d.p=611,d.q=611,d.r=389,d.s=556,d.t=333,d.u=611,d.v=556,d.w=778,d.x=556,d.y=556,d.z=500,d.braceleft=389,d.bar=280,d.braceright=389,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=238,d.quotedblleft=500,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=611,d.fl=611,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=556,d.bullet=350,d.quotesinglbase=278,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=611,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=278,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=611,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=722,d.aacute=556,d.Ucircumflex=722,d.yacute=556,d.scommaaccent=556,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=611,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=556,d.aring=556,d.Ncommaaccent=722,d.lacute=278,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=556,d.scedilla=556,d.iacute=278,d.lozenge=494,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=611,d.acircumflex=556,d.Amacron=722,d.rcaron=389,d.ccedilla=556,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=743,d.Umacron=722,d.uring=611,d.threesuperior=333,d.Ograve=778,d.Agrave=722,d.Abreve=722,d.multiply=584,d.uacute=611,d.Tcaron=611,d.partialdiff=494,d.ydieresis=556,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=556,d.nacute=611,d.umacron=611,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=280,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=389,d.omacron=611,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=278,d.tcaron=389,d.eogonek=556,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=556,d.zacute=500,d.iogonek=278,d.Oacute=778,d.oacute=611,d.amacron=556,d.sacute=556,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=611,d.twosuperior=333,d.Odieresis=778,d.mu=611,d.igrave=278,d.ohungarumlaut=611,d.Eogonek=667,d.dcroat=611,d.threequarters=834,d.Scedilla=667,d.lcaron=400,d.Kcommaaccent=722,d.Lacute=611,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=611,d.onehalf=834,d.lessequal=549,d.ocircumflex=611,d.ntilde=611,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=611,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=611,d.Ccaron=722,d.ugrave=611,d.radical=549,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=722,d.otilde=611,d.Rcommaaccent=722,d.Lcommaaccent=611,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=556,d.minus=584,d.Icircumflex=278,d.ncaron=611,d.tcommaaccent=333,d.logicalnot=584,d.odieresis=611,d.udieresis=611,d.notequal=549,d.gcommaaccent=611,d.eth=611,d.zcaron=500,d.ncommaaccent=611,d.onesuperior=333,d.imacron=278,d.Euro=556}),g["Helvetica-Oblique"]=getLookupTableFactory(function(d){d.space=278,d.exclam=278,d.quotedbl=355,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=667,d.quoteright=222,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=278,d.semicolon=278,d.less=584,d.equal=584,d.greater=584,d.question=556,d.at=1015,d.A=667,d.B=667,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=500,d.K=667,d.L=556,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=278,d.backslash=278,d.bracketright=278,d.asciicircum=469,d.underscore=556,d.quoteleft=222,d.a=556,d.b=556,d.c=500,d.d=556,d.e=556,d.f=278,d.g=556,d.h=556,d.i=222,d.j=222,d.k=500,d.l=222,d.m=833,d.n=556,d.o=556,d.p=556,d.q=556,d.r=333,d.s=500,d.t=278,d.u=556,d.v=500,d.w=722,d.x=500,d.y=500,d.z=500,d.braceleft=334,d.bar=260,d.braceright=334,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=191,d.quotedblleft=333,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=500,d.fl=500,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=537,d.bullet=350,d.quotesinglbase=222,d.quotedblbase=333,d.quotedblright=333,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=556,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=222,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=556,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=667,d.aacute=556,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=500,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=500,d.aring=556,d.Ncommaaccent=722,d.lacute=222,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=500,d.scedilla=500,d.iacute=278,d.lozenge=471,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=556,d.acircumflex=556,d.Amacron=667,d.rcaron=333,d.ccedilla=500,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=643,d.Umacron=722,d.uring=556,d.threesuperior=333,d.Ograve=778,d.Agrave=667,d.Abreve=667,d.multiply=584,d.uacute=556,d.Tcaron=611,d.partialdiff=476,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=500,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=260,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=333,d.omacron=556,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=222,d.tcaron=317,d.eogonek=556,d.Uogonek=722,d.Aacute=667,d.Adieresis=667,d.egrave=556,d.zacute=500,d.iogonek=222,d.Oacute=778,d.oacute=556,d.amacron=556,d.sacute=500,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=556,d.twosuperior=333,d.Odieresis=778,d.mu=556,d.igrave=278,d.ohungarumlaut=556,d.Eogonek=667,d.dcroat=556,d.threequarters=834,d.Scedilla=667,d.lcaron=299,d.Kcommaaccent=667,d.Lacute=556,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=556,d.onehalf=834,d.lessequal=549,d.ocircumflex=556,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=556,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=556,d.Ccaron=722,d.ugrave=556,d.radical=453,d.Dcaron=722,d.rcommaaccent=333,d.Ntilde=722,d.otilde=556,d.Rcommaaccent=722,d.Lcommaaccent=556,d.Atilde=667,d.Aogonek=667,d.Aring=667,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=500,d.minus=584,d.Icircumflex=278,d.ncaron=556,d.tcommaaccent=278,d.logicalnot=584,d.odieresis=556,d.udieresis=556,d.notequal=549,d.gcommaaccent=556,d.eth=556,d.zcaron=500,d.ncommaaccent=556,d.onesuperior=333,d.imacron=278,d.Euro=556}),g.Symbol=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.universal=713,d.numbersign=500,d.existential=549,d.percent=833,d.ampersand=778,d.suchthat=439,d.parenleft=333,d.parenright=333,d.asteriskmath=500,d.plus=549,d.comma=250,d.minus=549,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=278,d.semicolon=278,d.less=549,d.equal=549,d.greater=549,d.question=444,d.congruent=549,d.Alpha=722,d.Beta=667,d.Chi=722,d.Delta=612,d.Epsilon=611,d.Phi=763,d.Gamma=603,d.Eta=722,d.Iota=333,d.theta1=631,d.Kappa=722,d.Lambda=686,d.Mu=889,d.Nu=722,d.Omicron=722,d.Pi=768,d.Theta=741,d.Rho=556,d.Sigma=592,d.Tau=611,d.Upsilon=690,d.sigma1=439,d.Omega=768,d.Xi=645,d.Psi=795,d.Zeta=611,d.bracketleft=333,d.therefore=863,d.bracketright=333,d.perpendicular=658,d.underscore=500,d.radicalex=500,d.alpha=631,d.beta=549,d.chi=549,d.delta=494,d.epsilon=439,d.phi=521,d.gamma=411,d.eta=603,d.iota=329,d.phi1=603,d.kappa=549,d.lambda=549,d.mu=576,d.nu=521,d.omicron=549,d.pi=549,d.theta=521,d.rho=549,d.sigma=603,d.tau=439,d.upsilon=576,d.omega1=713,d.omega=686,d.xi=493,d.psi=686,d.zeta=494,d.braceleft=480,d.bar=200,d.braceright=480,d.similar=549,d.Euro=750,d.Upsilon1=620,d.minute=247,d.lessequal=549,d.fraction=167,d.infinity=713,d.florin=500,d.club=753,d.diamond=753,d.heart=753,d.spade=753,d.arrowboth=1042,d.arrowleft=987,d.arrowup=603,d.arrowright=987,d.arrowdown=603,d.degree=400,d.plusminus=549,d.second=411,d.greaterequal=549,d.multiply=549,d.proportional=713,d.partialdiff=494,d.bullet=460,d.divide=549,d.notequal=549,d.equivalence=549,d.approxequal=549,d.ellipsis=1e3,d.arrowvertex=603,d.arrowhorizex=1e3,d.carriagereturn=658,d.aleph=823,d.Ifraktur=686,d.Rfraktur=795,d.weierstrass=987,d.circlemultiply=768,d.circleplus=768,d.emptyset=823,d.intersection=768,d.union=768,d.propersuperset=713,d.reflexsuperset=713,d.notsubset=713,d.propersubset=713,d.reflexsubset=713,d.element=713,d.notelement=713,d.angle=768,d.gradient=713,d.registerserif=790,d.copyrightserif=790,d.trademarkserif=890,d.product=823,d.radical=549,d.dotmath=250,d.logicalnot=713,d.logicaland=603,d.logicalor=603,d.arrowdblboth=1042,d.arrowdblleft=987,d.arrowdblup=603,d.arrowdblright=987,d.arrowdbldown=603,d.lozenge=494,d.angleleft=329,d.registersans=790,d.copyrightsans=790,d.trademarksans=786,d.summation=713,d.parenlefttp=384,d.parenleftex=384,d.parenleftbt=384,d.bracketlefttp=384,d.bracketleftex=384,d.bracketleftbt=384,d.bracelefttp=494,d.braceleftmid=494,d.braceleftbt=494,d.braceex=494,d.angleright=329,d.integral=274,d.integraltp=686,d.integralex=686,d.integralbt=686,d.parenrighttp=384,d.parenrightex=384,d.parenrightbt=384,d.bracketrighttp=384,d.bracketrightex=384,d.bracketrightbt=384,d.bracerighttp=494,d.bracerightmid=494,d.bracerightbt=494,d.apple=790}),g["Times-Roman"]=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.quotedbl=408,d.numbersign=500,d.dollar=500,d.percent=833,d.ampersand=778,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=564,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=278,d.semicolon=278,d.less=564,d.equal=564,d.greater=564,d.question=444,d.at=921,d.A=722,d.B=667,d.C=667,d.D=722,d.E=611,d.F=556,d.G=722,d.H=722,d.I=333,d.J=389,d.K=722,d.L=611,d.M=889,d.N=722,d.O=722,d.P=556,d.Q=722,d.R=667,d.S=556,d.T=611,d.U=722,d.V=722,d.W=944,d.X=722,d.Y=722,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=469,d.underscore=500,d.quoteleft=333,d.a=444,d.b=500,d.c=444,d.d=500,d.e=444,d.f=333,d.g=500,d.h=500,d.i=278,d.j=278,d.k=500,d.l=278,d.m=778,d.n=500,d.o=500,d.p=500,d.q=500,d.r=333,d.s=389,d.t=278,d.u=500,d.v=500,d.w=722,d.x=500,d.y=500,d.z=444,d.braceleft=480,d.bar=200,d.braceright=480,d.asciitilde=541,d.exclamdown=333,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=180,d.quotedblleft=444,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=556,d.fl=556,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=453,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=444,d.quotedblright=444,d.guillemotright=500,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=444,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=889,d.ordfeminine=276,d.Lslash=611,d.Oslash=722,d.OE=889,d.ordmasculine=310,d.ae=667,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=722,d.germandbls=500,d.Idieresis=333,d.eacute=444,d.abreve=444,d.uhungarumlaut=500,d.ecaron=444,d.Ydieresis=722,d.divide=564,d.Yacute=722,d.Acircumflex=722,d.aacute=444,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=444,d.Uacute=722,d.uogonek=500,d.Edieresis=611,d.Dcroat=722,d.commaaccent=250,d.copyright=760,d.Emacron=611,d.ccaron=444,d.aring=444,d.Ncommaaccent=722,d.lacute=278,d.agrave=444,d.Tcommaaccent=611,d.Cacute=667,d.atilde=444,d.Edotaccent=611,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=471,d.Rcaron=667,d.Gcommaaccent=722,d.ucircumflex=500,d.acircumflex=444,d.Amacron=722,d.rcaron=333,d.ccedilla=444,d.Zdotaccent=611,d.Thorn=556,d.Omacron=722,d.Racute=667,d.Sacute=556,d.dcaron=588,d.Umacron=722,d.uring=500,d.threesuperior=300,d.Ograve=722,d.Agrave=722,d.Abreve=722,d.multiply=564,d.uacute=500,d.Tcaron=611,d.partialdiff=476,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=611,d.adieresis=444,d.edieresis=444,d.cacute=444,d.nacute=500,d.umacron=500,d.Ncaron=722,d.Iacute=333,d.plusminus=564,d.brokenbar=200,d.registered=760,d.Gbreve=722,d.Idotaccent=333,d.summation=600,d.Egrave=611,d.racute=333,d.omacron=500,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=667,d.lcommaaccent=278,d.tcaron=326,d.eogonek=444,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=444,d.zacute=444,d.iogonek=278,d.Oacute=722,d.oacute=500,d.amacron=444,d.sacute=389,d.idieresis=278,d.Ocircumflex=722,d.Ugrave=722,d.Delta=612,d.thorn=500,d.twosuperior=300,d.Odieresis=722,d.mu=500,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=611,d.dcroat=500,d.threequarters=750,d.Scedilla=556,d.lcaron=344,d.Kcommaaccent=722,d.Lacute=611,d.trademark=980,d.edotaccent=444,d.Igrave=333,d.Imacron=333,d.Lcaron=611,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=500,d.Uhungarumlaut=722,d.Eacute=611,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=556,d.Scommaaccent=556,d.Ohungarumlaut=722,d.degree=400,d.ograve=500,d.Ccaron=667,d.ugrave=500,d.radical=453,d.Dcaron=722,d.rcommaaccent=333,d.Ntilde=722,d.otilde=500,d.Rcommaaccent=667,d.Lcommaaccent=611,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=722,d.zdotaccent=444,d.Ecaron=611,d.Iogonek=333,d.kcommaaccent=500,d.minus=564,d.Icircumflex=333,d.ncaron=500,d.tcommaaccent=278,d.logicalnot=564,d.odieresis=500,d.udieresis=500,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=444,d.ncommaaccent=500,d.onesuperior=300,d.imacron=278,d.Euro=500}),g["Times-Bold"]=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.quotedbl=555,d.numbersign=500,d.dollar=500,d.percent=1e3,d.ampersand=833,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=570,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=333,d.semicolon=333,d.less=570,d.equal=570,d.greater=570,d.question=500,d.at=930,d.A=722,d.B=667,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=778,d.I=389,d.J=500,d.K=778,d.L=667,d.M=944,d.N=722,d.O=778,d.P=611,d.Q=778,d.R=722,d.S=556,d.T=667,d.U=722,d.V=722,d.W=1e3,d.X=722,d.Y=722,d.Z=667,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=581,d.underscore=500,d.quoteleft=333,d.a=500,d.b=556,d.c=444,d.d=556,d.e=444,d.f=333,d.g=500,d.h=556,d.i=278,d.j=333,d.k=556,d.l=278,d.m=833,d.n=556,d.o=500,d.p=556,d.q=556,d.r=444,d.s=389,d.t=333,d.u=556,d.v=500,d.w=722,d.x=500,d.y=500,d.z=444,d.braceleft=394,d.bar=220,d.braceright=394,d.asciitilde=520,d.exclamdown=333,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=278,d.quotedblleft=500,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=556,d.fl=556,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=540,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=500,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=500,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=300,d.Lslash=667,d.Oslash=778,d.OE=1e3,d.ordmasculine=330,d.ae=722,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=722,d.germandbls=556,d.Idieresis=389,d.eacute=444,d.abreve=500,d.uhungarumlaut=556,d.ecaron=444,d.Ydieresis=722,d.divide=570,d.Yacute=722,d.Acircumflex=722,d.aacute=500,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=500,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=747,d.Emacron=667,d.ccaron=444,d.aring=500,d.Ncommaaccent=722,d.lacute=278,d.agrave=500,d.Tcommaaccent=667,d.Cacute=722,d.atilde=500,d.Edotaccent=667,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=494,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=556,d.acircumflex=500,d.Amacron=722,d.rcaron=444,d.ccedilla=444,d.Zdotaccent=667,d.Thorn=611,d.Omacron=778,d.Racute=722,d.Sacute=556,d.dcaron=672,d.Umacron=722,d.uring=556,d.threesuperior=300,d.Ograve=778,d.Agrave=722,d.Abreve=722,d.multiply=570,d.uacute=556,d.Tcaron=667,d.partialdiff=494,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=500,d.edieresis=444,d.cacute=444,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=389,d.plusminus=570,d.brokenbar=220,d.registered=747,d.Gbreve=778,d.Idotaccent=389,d.summation=600,d.Egrave=667,d.racute=444,d.omacron=500,d.Zacute=667,d.Zcaron=667,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=278,d.tcaron=416,d.eogonek=444,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=444,d.zacute=444,d.iogonek=278,d.Oacute=778,d.oacute=500,d.amacron=500,d.sacute=389,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=556,d.twosuperior=300,d.Odieresis=778,d.mu=556,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=667,d.dcroat=556,d.threequarters=750,d.Scedilla=556,d.lcaron=394,d.Kcommaaccent=778,d.Lacute=667,d.trademark=1e3,d.edotaccent=444,d.Igrave=389,d.Imacron=389,d.Lcaron=667,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=556,d.Scommaaccent=556,d.Ohungarumlaut=778,d.degree=400,d.ograve=500,d.Ccaron=722,d.ugrave=556,d.radical=549,d.Dcaron=722,d.rcommaaccent=444,d.Ntilde=722,d.otilde=500,d.Rcommaaccent=722,d.Lcommaaccent=667,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=778,d.zdotaccent=444,d.Ecaron=667,d.Iogonek=389,d.kcommaaccent=556,d.minus=570,d.Icircumflex=389,d.ncaron=556,d.tcommaaccent=333,d.logicalnot=570,d.odieresis=500,d.udieresis=556,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=444,d.ncommaaccent=556,d.onesuperior=300,d.imacron=278,d.Euro=500}),g["Times-BoldItalic"]=getLookupTableFactory(function(d){d.space=250,d.exclam=389,d.quotedbl=555,d.numbersign=500,d.dollar=500,d.percent=833,d.ampersand=778,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=570,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=333,d.semicolon=333,d.less=570,d.equal=570,d.greater=570,d.question=500,d.at=832,d.A=667,d.B=667,d.C=667,d.D=722,d.E=667,d.F=667,d.G=722,d.H=778,d.I=389,d.J=500,d.K=667,d.L=611,d.M=889,d.N=722,d.O=722,d.P=611,d.Q=722,d.R=667,d.S=556,d.T=611,d.U=722,d.V=667,d.W=889,d.X=667,d.Y=611,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=570,d.underscore=500,d.quoteleft=333,d.a=500,d.b=500,d.c=444,d.d=500,d.e=444,d.f=333,d.g=500,d.h=556,d.i=278,d.j=278,d.k=500,d.l=278,d.m=778,d.n=556,d.o=500,d.p=500,d.q=500,d.r=389,d.s=389,d.t=278,d.u=556,d.v=444,d.w=667,d.x=500,d.y=444,d.z=389,d.braceleft=348,d.bar=220,d.braceright=348,d.asciitilde=570,d.exclamdown=389,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=278,d.quotedblleft=500,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=556,d.fl=556,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=500,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=500,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=500,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=944,d.ordfeminine=266,d.Lslash=611,d.Oslash=722,d.OE=944,d.ordmasculine=300,d.ae=722,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=722,d.germandbls=500,d.Idieresis=389,d.eacute=444,d.abreve=500,d.uhungarumlaut=556,d.ecaron=444,d.Ydieresis=611,d.divide=570,d.Yacute=611,d.Acircumflex=667,d.aacute=500,d.Ucircumflex=722,d.yacute=444,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=500,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=747,d.Emacron=667,d.ccaron=444,d.aring=500,d.Ncommaaccent=722,d.lacute=278,d.agrave=500,d.Tcommaaccent=611,d.Cacute=667,d.atilde=500,d.Edotaccent=667,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=494,d.Rcaron=667,d.Gcommaaccent=722,d.ucircumflex=556,d.acircumflex=500,d.Amacron=667,d.rcaron=389,d.ccedilla=444,d.Zdotaccent=611,d.Thorn=611,d.Omacron=722,d.Racute=667,d.Sacute=556,d.dcaron=608,d.Umacron=722,d.uring=556,d.threesuperior=300,d.Ograve=722,d.Agrave=667,d.Abreve=667,d.multiply=570,d.uacute=556,d.Tcaron=611,d.partialdiff=494,d.ydieresis=444,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=500,d.edieresis=444,d.cacute=444,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=389,d.plusminus=570,d.brokenbar=220,d.registered=747,d.Gbreve=722,d.Idotaccent=389,d.summation=600,d.Egrave=667,d.racute=389,d.omacron=500,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=667,d.lcommaaccent=278,d.tcaron=366,d.eogonek=444,d.Uogonek=722,d.Aacute=667,d.Adieresis=667,d.egrave=444,d.zacute=389,d.iogonek=278,d.Oacute=722,d.oacute=500,d.amacron=500,d.sacute=389,d.idieresis=278,d.Ocircumflex=722,d.Ugrave=722,d.Delta=612,d.thorn=500,d.twosuperior=300,d.Odieresis=722,d.mu=576,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=667,d.dcroat=500,d.threequarters=750,d.Scedilla=556,d.lcaron=382,d.Kcommaaccent=667,d.Lacute=611,d.trademark=1e3,d.edotaccent=444,d.Igrave=389,d.Imacron=389,d.Lcaron=611,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=556,d.Scommaaccent=556,d.Ohungarumlaut=722,d.degree=400,d.ograve=500,d.Ccaron=667,d.ugrave=556,d.radical=549,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=722,d.otilde=500,d.Rcommaaccent=667,d.Lcommaaccent=611,d.Atilde=667,d.Aogonek=667,d.Aring=667,d.Otilde=722,d.zdotaccent=389,d.Ecaron=667,d.Iogonek=389,d.kcommaaccent=500,d.minus=606,d.Icircumflex=389,d.ncaron=556,d.tcommaaccent=278,d.logicalnot=606,d.odieresis=500,d.udieresis=556,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=389,d.ncommaaccent=556,d.onesuperior=300,d.imacron=278,d.Euro=500}),g["Times-Italic"]=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.quotedbl=420,d.numbersign=500,d.dollar=500,d.percent=833,d.ampersand=778,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=675,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=333,d.semicolon=333,d.less=675,d.equal=675,d.greater=675,d.question=500,d.at=920,d.A=611,d.B=611,d.C=667,d.D=722,d.E=611,d.F=611,d.G=722,d.H=722,d.I=333,d.J=444,d.K=667,d.L=556,d.M=833,d.N=667,d.O=722,d.P=611,d.Q=722,d.R=611,d.S=500,d.T=556,d.U=722,d.V=611,d.W=833,d.X=611,d.Y=556,d.Z=556,d.bracketleft=389,d.backslash=278,d.bracketright=389,d.asciicircum=422,d.underscore=500,d.quoteleft=333,d.a=500,d.b=500,d.c=444,d.d=500,d.e=444,d.f=278,d.g=500,d.h=500,d.i=278,d.j=278,d.k=444,d.l=278,d.m=722,d.n=500,d.o=500,d.p=500,d.q=500,d.r=389,d.s=389,d.t=278,d.u=500,d.v=444,d.w=667,d.x=444,d.y=444,d.z=389,d.braceleft=400,d.bar=275,d.braceright=400,d.asciitilde=541,d.exclamdown=389,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=214,d.quotedblleft=556,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=500,d.fl=500,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=523,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=556,d.quotedblright=556,d.guillemotright=500,d.ellipsis=889,d.perthousand=1e3,d.questiondown=500,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=889,d.AE=889,d.ordfeminine=276,d.Lslash=556,d.Oslash=722,d.OE=944,d.ordmasculine=310,d.ae=667,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=667,d.germandbls=500,d.Idieresis=333,d.eacute=444,d.abreve=500,d.uhungarumlaut=500,d.ecaron=444,d.Ydieresis=556,d.divide=675,d.Yacute=556,d.Acircumflex=611,d.aacute=500,d.Ucircumflex=722,d.yacute=444,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=500,d.Uacute=722,d.uogonek=500,d.Edieresis=611,d.Dcroat=722,d.commaaccent=250,d.copyright=760,d.Emacron=611,d.ccaron=444,d.aring=500,d.Ncommaaccent=667,d.lacute=278,d.agrave=500,d.Tcommaaccent=556,d.Cacute=667,d.atilde=500,d.Edotaccent=611,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=471,d.Rcaron=611,d.Gcommaaccent=722,d.ucircumflex=500,d.acircumflex=500,d.Amacron=611,d.rcaron=389,d.ccedilla=444,d.Zdotaccent=556,d.Thorn=611,d.Omacron=722,d.Racute=611,d.Sacute=500,d.dcaron=544,d.Umacron=722,d.uring=500,d.threesuperior=300,d.Ograve=722,d.Agrave=611,d.Abreve=611,d.multiply=675,d.uacute=500,d.Tcaron=556,d.partialdiff=476,d.ydieresis=444,d.Nacute=667,d.icircumflex=278,d.Ecircumflex=611,d.adieresis=500,d.edieresis=444,d.cacute=444,d.nacute=500,d.umacron=500,d.Ncaron=667,d.Iacute=333,d.plusminus=675,d.brokenbar=275,d.registered=760,d.Gbreve=722,d.Idotaccent=333,d.summation=600,d.Egrave=611,d.racute=389,d.omacron=500,d.Zacute=556,d.Zcaron=556,d.greaterequal=549,d.Eth=722,d.Ccedilla=667,d.lcommaaccent=278,d.tcaron=300,d.eogonek=444,d.Uogonek=722,d.Aacute=611,d.Adieresis=611,d.egrave=444,d.zacute=389,d.iogonek=278,d.Oacute=722,d.oacute=500,d.amacron=500,d.sacute=389,d.idieresis=278,d.Ocircumflex=722,d.Ugrave=722,d.Delta=612,d.thorn=500,d.twosuperior=300,d.Odieresis=722,d.mu=500,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=611,d.dcroat=500,d.threequarters=750,d.Scedilla=500,d.lcaron=300,d.Kcommaaccent=667,d.Lacute=556,d.trademark=980,d.edotaccent=444,d.Igrave=333,d.Imacron=333,d.Lcaron=611,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=500,d.Uhungarumlaut=722,d.Eacute=611,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=500,d.Scommaaccent=500,d.Ohungarumlaut=722,d.degree=400,d.ograve=500,d.Ccaron=667,d.ugrave=500,d.radical=453,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=667,d.otilde=500,d.Rcommaaccent=611,d.Lcommaaccent=556,d.Atilde=611,d.Aogonek=611,d.Aring=611,d.Otilde=722,d.zdotaccent=389,d.Ecaron=611,d.Iogonek=333,d.kcommaaccent=444,d.minus=675,d.Icircumflex=333,d.ncaron=500,d.tcommaaccent=278,d.logicalnot=675,d.odieresis=500,d.udieresis=500,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=389,d.ncommaaccent=500,d.onesuperior=300,d.imacron=278,d.Euro=500}),g.ZapfDingbats=getLookupTableFactory(function(d){d.space=278,d.a1=974,d.a2=961,d.a202=974,d.a3=980,d.a4=719,d.a5=789,d.a119=790,d.a118=791,d.a117=690,d.a11=960,d.a12=939,d.a13=549,d.a14=855,d.a15=911,d.a16=933,d.a105=911,d.a17=945,d.a18=974,d.a19=755,d.a20=846,d.a21=762,d.a22=761,d.a23=571,d.a24=677,d.a25=763,d.a26=760,d.a27=759,d.a28=754,d.a6=494,d.a7=552,d.a8=537,d.a9=577,d.a10=692,d.a29=786,d.a30=788,d.a31=788,d.a32=790,d.a33=793,d.a34=794,d.a35=816,d.a36=823,d.a37=789,d.a38=841,d.a39=823,d.a40=833,d.a41=816,d.a42=831,d.a43=923,d.a44=744,d.a45=723,d.a46=749,d.a47=790,d.a48=792,d.a49=695,d.a50=776,d.a51=768,d.a52=792,d.a53=759,d.a54=707,d.a55=708,d.a56=682,d.a57=701,d.a58=826,d.a59=815,d.a60=789,d.a61=789,d.a62=707,d.a63=687,d.a64=696,d.a65=689,d.a66=786,d.a67=787,d.a68=713,d.a69=791,d.a70=785,d.a71=791,d.a72=873,d.a73=761,d.a74=762,d.a203=762,d.a75=759,d.a204=759,d.a76=892,d.a77=892,d.a78=788,d.a79=784,d.a81=438,d.a82=138,d.a83=277,d.a84=415,d.a97=392,d.a98=392,d.a99=668,d.a100=668,d.a89=390,d.a90=390,d.a93=317,d.a94=317,d.a91=276,d.a92=276,d.a205=509,d.a85=509,d.a206=410,d.a86=410,d.a87=234,d.a88=234,d.a95=334,d.a96=334,d.a101=732,d.a102=544,d.a103=544,d.a104=910,d.a106=667,d.a107=760,d.a108=760,d.a112=776,d.a111=595,d.a110=694,d.a109=626,d.a120=788,d.a121=788,d.a122=788,d.a123=788,d.a124=788,d.a125=788,d.a126=788,d.a127=788,d.a128=788,d.a129=788,d.a130=788,d.a131=788,d.a132=788,d.a133=788,d.a134=788,d.a135=788,d.a136=788,d.a137=788,d.a138=788,d.a139=788,d.a140=788,d.a141=788,d.a142=788,d.a143=788,d.a144=788,d.a145=788,d.a146=788,d.a147=788,d.a148=788,d.a149=788,d.a150=788,d.a151=788,d.a152=788,d.a153=788,d.a154=788,d.a155=788,d.a156=788,d.a157=788,d.a158=788,d.a159=788,d.a160=894,d.a161=838,d.a163=1016,d.a164=458,d.a196=748,d.a165=924,d.a192=748,d.a166=918,d.a167=927,d.a168=928,d.a169=928,d.a170=834,d.a171=873,d.a172=828,d.a173=924,d.a162=924,d.a174=917,d.a175=930,d.a176=931,d.a177=463,d.a178=883,d.a179=836,d.a193=836,d.a180=867,d.a199=867,d.a181=696,d.a200=696,d.a182=874,d.a201=874,d.a183=760,d.a184=946,d.a197=771,d.a185=865,d.a194=771,d.a198=888,d.a186=967,d.a195=888,d.a187=831,d.a188=873,d.a189=927,d.a190=970,d.a191=918})}),getFontBasicMetrics=getLookupTableFactory(function(g){g.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},g["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},g["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},g["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},g.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},g["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},g["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},g["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},g["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},g["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},g["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},g["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},g.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},g.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}}),ON_CURVE_POINT=1,X_SHORT_VECTOR=2,Y_SHORT_VECTOR=4,REPEAT_FLAG=8,X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR=16,Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR=32,OVERLAP_SIMPLE=64,ARG_1_AND_2_ARE_WORDS=1,ARGS_ARE_XY_VALUES=2,WE_HAVE_A_SCALE=8,MORE_COMPONENTS=32,WE_HAVE_AN_X_AND_Y_SCALE=64,WE_HAVE_A_TWO_BY_TWO=128,WE_HAVE_INSTRUCTIONS=256;class GlyfTable{constructor({glyfTable:d,isGlyphLocationsLong:x,locaTable:b,numGlyphs:w}){this.glyphs=[];const S=new DataView(b.buffer,b.byteOffset,b.byteLength),C=new DataView(d.buffer,d.byteOffset,d.byteLength),F=x?4:2;let E=x?S.getUint32(0):2*S.getUint16(0),k=0;for(let D=0;D<w;D++){k+=F;const M=x?S.getUint32(k):2*S.getUint16(k);if(M===E){this.glyphs.push(new Glyph({}));continue}const L=Glyph.parse(E,C);this.glyphs.push(L),E=M}}getSize(){return this.glyphs.reduce((d,x)=>{const b=x.getSize();return d+(b+3&-4)},0)}write(){const d=this.getSize(),x=new DataView(new ArrayBuffer(d)),b=d>131070,w=b?4:2,S=new DataView(new ArrayBuffer((this.glyphs.length+1)*w));b?S.setUint32(0,0):S.setUint16(0,0);let C=0,F=0;for(const E of this.glyphs)C+=E.write(C,x),C=C+3&-4,F+=w,b?S.setUint32(F,C):S.setUint16(F,C>>1);return{isLocationLong:b,loca:new Uint8Array(S.buffer),glyf:new Uint8Array(x.buffer)}}scale(d){for(let x=0,b=this.glyphs.length;x<b;x++)this.glyphs[x].scale(d[x])}}class Glyph{constructor({header:d=null,simple:x=null,composites:b=null}){this.header=d,this.simple=x,this.composites=b}static parse(d,x){const[b,w]=GlyphHeader.parse(d,x);if(d+=b,w.numberOfContours<0){const C=[];for(;;){const[F,E]=CompositeGlyph.parse(d,x);if(d+=F,C.push(E),!(E.flags&MORE_COMPONENTS))break}return new Glyph({header:w,composites:C})}const S=SimpleGlyph.parse(d,x,w.numberOfContours);return new Glyph({header:w,simple:S})}getSize(){if(!this.header)return 0;const d=this.simple?this.simple.getSize():this.composites.reduce((x,b)=>x+b.getSize(),0);return this.header.getSize()+d}write(d,x){if(!this.header)return 0;const b=d;if(d+=this.header.write(d,x),this.simple)d+=this.simple.write(d,x);else for(const w of this.composites)d+=w.write(d,x);return d-b}scale(d){if(!this.header)return;const x=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(x,d),this.simple)this.simple.scale(x,d);else for(const b of this.composites)b.scale(x,d)}}class GlyphHeader{constructor({numberOfContours:d,xMin:x,yMin:b,xMax:w,yMax:S}){this.numberOfContours=d,this.xMin=x,this.yMin=b,this.xMax=w,this.yMax=S}static parse(d,x){return[10,new GlyphHeader({numberOfContours:x.getInt16(d),xMin:x.getInt16(d+2),yMin:x.getInt16(d+4),xMax:x.getInt16(d+6),yMax:x.getInt16(d+8)})]}getSize(){return 10}write(d,x){return x.setInt16(d,this.numberOfContours),x.setInt16(d+2,this.xMin),x.setInt16(d+4,this.yMin),x.setInt16(d+6,this.xMax),x.setInt16(d+8,this.yMax),10}scale(d,x){this.xMin=Math.round(d+(this.xMin-d)*x),this.xMax=Math.round(d+(this.xMax-d)*x)}}class Contour{constructor({flags:d,xCoordinates:x,yCoordinates:b}){this.xCoordinates=x,this.yCoordinates=b,this.flags=d}}class SimpleGlyph{constructor({contours:d,instructions:x}){this.contours=d,this.instructions=x}static parse(d,x,b){const w=[];for(let H=0;H<b;H++){const z=x.getUint16(d);d+=2,w.push(z)}const S=w[b-1]+1,C=x.getUint16(d);d+=2;const F=new Uint8Array(x).slice(d,d+C);d+=C;const E=[];for(let H=0;H<S;d++,H++){let z=x.getUint8(d);if(E.push(z),z&REPEAT_FLAG){const V=x.getUint8(++d);z^=REPEAT_FLAG;for(let G=0;G<V;G++)E.push(z);H+=V}}const k=[];let D=[],M=[],L=[];const R=[];let U=0,j=0;for(let H=0;H<S;H++){const z=E[H];if(z&X_SHORT_VECTOR){const V=x.getUint8(d++);j+=z&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR?V:-V,D.push(j)}else z&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(j+=x.getInt16(d),d+=2),D.push(j);w[U]===H&&(U++,k.push(D),D=[])}j=0,U=0;for(let H=0;H<S;H++){const z=E[H];if(z&Y_SHORT_VECTOR){const V=x.getUint8(d++);j+=z&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR?V:-V,M.push(j)}else z&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(j+=x.getInt16(d),d+=2),M.push(j);L.push(z&ON_CURVE_POINT|z&OVERLAP_SIMPLE),w[U]===H&&(D=k[U],U++,R.push(new Contour({flags:L,xCoordinates:D,yCoordinates:M})),M=[],L=[])}return new SimpleGlyph({contours:R,instructions:F})}getSize(){let d=this.contours.length*2+2+this.instructions.length,x=0,b=0;for(const w of this.contours){d+=w.flags.length;for(let S=0,C=w.xCoordinates.length;S<C;S++){const F=w.xCoordinates[S],E=w.yCoordinates[S];let k=Math.abs(F-x);k>255?d+=2:k>0&&(d+=1),x=F,k=Math.abs(E-b),k>255?d+=2:k>0&&(d+=1),b=E}}return d}write(d,x){const b=d,w=[],S=[],C=[];let F=0,E=0;for(const k of this.contours){for(let D=0,M=k.xCoordinates.length;D<M;D++){let L=k.flags[D];const R=k.xCoordinates[D];let U=R-F;if(U===0)L|=X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR,w.push(0);else{const H=Math.abs(U);H<=255?(L|=U>=0?X_SHORT_VECTOR|X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR:X_SHORT_VECTOR,w.push(H)):w.push(U)}F=R;const j=k.yCoordinates[D];if(U=j-E,U===0)L|=Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR,S.push(0);else{const H=Math.abs(U);H<=255?(L|=U>=0?Y_SHORT_VECTOR|Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR:Y_SHORT_VECTOR,S.push(H)):S.push(U)}E=j,C.push(L)}x.setUint16(d,w.length-1),d+=2}x.setUint16(d,this.instructions.length),d+=2,this.instructions.length&&(new Uint8Array(x.buffer,0,x.buffer.byteLength).set(this.instructions,d),d+=this.instructions.length);for(const k of C)x.setUint8(d++,k);for(let k=0,D=w.length;k<D;k++){const M=w[k],L=C[k];L&X_SHORT_VECTOR?x.setUint8(d++,M):L&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(x.setInt16(d,M),d+=2)}for(let k=0,D=S.length;k<D;k++){const M=S[k],L=C[k];L&Y_SHORT_VECTOR?x.setUint8(d++,M):L&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(x.setInt16(d,M),d+=2)}return d-b}scale(d,x){for(const b of this.contours)if(b.xCoordinates.length!==0)for(let w=0,S=b.xCoordinates.length;w<S;w++)b.xCoordinates[w]=Math.round(d+(b.xCoordinates[w]-d)*x)}}class CompositeGlyph{constructor({flags:d,glyphIndex:x,argument1:b,argument2:w,transf:S,instructions:C}){this.flags=d,this.glyphIndex=x,this.argument1=b,this.argument2=w,this.transf=S,this.instructions=C}static parse(d,x){const b=d,w=[];let S=x.getUint16(d);const C=x.getUint16(d+2);d+=4;let F,E;S&ARG_1_AND_2_ARE_WORDS?(S&ARGS_ARE_XY_VALUES?(F=x.getInt16(d),E=x.getInt16(d+2)):(F=x.getUint16(d),E=x.getUint16(d+2)),d+=4,S^=ARG_1_AND_2_ARE_WORDS):(S&ARGS_ARE_XY_VALUES?(F=x.getInt8(d),E=x.getInt8(d+1)):(F=x.getUint8(d),E=x.getUint8(d+1)),d+=2),S&WE_HAVE_A_SCALE?(w.push(x.getUint16(d)),d+=2):S&WE_HAVE_AN_X_AND_Y_SCALE?(w.push(x.getUint16(d),x.getUint16(d+2)),d+=4):S&WE_HAVE_A_TWO_BY_TWO&&(w.push(x.getUint16(d),x.getUint16(d+2),x.getUint16(d+4),x.getUint16(d+6)),d+=8);let k=null;if(S&WE_HAVE_INSTRUCTIONS){const D=x.getUint16(d);d+=2,k=new Uint8Array(x).slice(d,d+D),d+=D}return[d-b,new CompositeGlyph({flags:S,glyphIndex:C,argument1:F,argument2:E,transf:w,instructions:k})]}getSize(){let d=4+this.transf.length*2;return this.flags&WE_HAVE_INSTRUCTIONS&&(d+=2+this.instructions.length),d+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(d+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(d+=2),d}write(d,x){const b=d;return this.flags&ARGS_ARE_XY_VALUES?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=ARG_1_AND_2_ARE_WORDS):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=ARG_1_AND_2_ARE_WORDS),x.setUint16(d,this.flags),x.setUint16(d+2,this.glyphIndex),d+=4,this.flags&ARG_1_AND_2_ARE_WORDS?(this.flags&ARGS_ARE_XY_VALUES?(x.setInt16(d,this.argument1),x.setInt16(d+2,this.argument2)):(x.setUint16(d,this.argument1),x.setUint16(d+2,this.argument2)),d+=4):(x.setUint8(d,this.argument1),x.setUint8(d+1,this.argument2),d+=2),this.flags&WE_HAVE_INSTRUCTIONS&&(x.setUint16(d,this.instructions.length),d+=2,this.instructions.length&&(new Uint8Array(x.buffer,0,x.buffer.byteLength).set(this.instructions,d),d+=this.instructions.length)),d-b}scale(d,x){}}function writeInt16(g,d,x){g[d]=x>>8&255,g[d+1]=x&255}function writeInt32(g,d,x){g[d]=x>>24&255,g[d+1]=x>>16&255,g[d+2]=x>>8&255,g[d+3]=x&255}function writeData(g,d,x){if(x instanceof Uint8Array)g.set(x,d);else if(typeof x=="string")for(let b=0,w=x.length;b<w;b++)g[d++]=x.charCodeAt(b)&255;else for(const b of x)g[d++]=b&255}const OTF_HEADER_SIZE=12,OTF_TABLE_ENTRY_SIZE=16;class OpenTypeFileBuilder{constructor(d){this.sfnt=d,this.tables=Object.create(null)}static getSearchParams(d,x){let b=1,w=0;for(;(b^d)>b;)b<<=1,w++;const S=b*x;return{range:S,entry:w,rangeShift:x*d-S}}toArray(){let d=this.sfnt;const x=this.tables,b=Object.keys(x);b.sort();const w=b.length;let S,C,F,E,k,D=OTF_HEADER_SIZE+w*OTF_TABLE_ENTRY_SIZE;const M=[D];for(S=0;S<w;S++){E=x[b[S]];const U=(E.length+3&-4)>>>0;D+=U,M.push(D)}const L=new Uint8Array(D);for(S=0;S<w;S++)E=x[b[S]],writeData(L,M[S],E);d==="true"&&(d=string32(65536)),L[0]=d.charCodeAt(0)&255,L[1]=d.charCodeAt(1)&255,L[2]=d.charCodeAt(2)&255,L[3]=d.charCodeAt(3)&255,writeInt16(L,4,w);const R=OpenTypeFileBuilder.getSearchParams(w,16);for(writeInt16(L,6,R.range),writeInt16(L,8,R.entry),writeInt16(L,10,R.rangeShift),D=OTF_HEADER_SIZE,S=0;S<w;S++){k=b[S],L[D]=k.charCodeAt(0)&255,L[D+1]=k.charCodeAt(1)&255,L[D+2]=k.charCodeAt(2)&255,L[D+3]=k.charCodeAt(3)&255;let U=0;for(C=M[S],F=M[S+1];C<F;C+=4){const j=readUint32(L,C);U=U+j>>>0}writeInt32(L,D+4,U),writeInt32(L,D+8,M[S]),writeInt32(L,D+12,x[k].length),D+=OTF_TABLE_ENTRY_SIZE}return L}addTable(d,x){if(d in this.tables)throw new Error("Table "+d+" already exists");this.tables[d]=x}}const HINTING_ENABLED=!1,COMMAND_MAP={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Type1CharString{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(d,x,b){const w=d.length;let S=!1,C,F,E;for(let k=0;k<w;k++){let D=d[k];if(D<32){switch(D===12&&(D=(D<<8)+d[++k]),D){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){S=!0;break}const j=this.stack.pop();this.stack.push(0,j);break}S=this.executeCommand(1,COMMAND_MAP.vmoveto);break;case 5:S=this.executeCommand(2,COMMAND_MAP.rlineto);break;case 6:S=this.executeCommand(1,COMMAND_MAP.hlineto);break;case 7:S=this.executeCommand(1,COMMAND_MAP.vlineto);break;case 8:S=this.executeCommand(6,COMMAND_MAP.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){S=!0;break}if(E=this.stack.pop(),!x[E]){S=!0;break}S=this.convert(x[E],x,b);break;case 11:return S;case 13:if(this.stack.length<2){S=!0;break}C=this.stack.pop(),F=this.stack.pop(),this.lsb=F,this.width=C,this.stack.push(C,F),S=this.executeCommand(2,COMMAND_MAP.hmoveto);break;case 14:this.output.push(COMMAND_MAP.endchar[0]);break;case 21:if(this.flexing)break;S=this.executeCommand(2,COMMAND_MAP.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}S=this.executeCommand(1,COMMAND_MAP.hmoveto);break;case 30:S=this.executeCommand(4,COMMAND_MAP.vhcurveto);break;case 31:S=this.executeCommand(4,COMMAND_MAP.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(b){const j=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-j,S=this.executeCommand(0,COMMAND_MAP.endchar)}else S=this.executeCommand(4,COMMAND_MAP.endchar);break;case 3079:if(this.stack.length<4){S=!0;break}this.stack.pop(),C=this.stack.pop();const M=this.stack.pop();F=this.stack.pop(),this.lsb=F,this.width=C,this.stack.push(C,F,M),S=this.executeCommand(3,COMMAND_MAP.rmoveto);break;case 3084:if(this.stack.length<2){S=!0;break}const L=this.stack.pop(),R=this.stack.pop();this.stack.push(R/L);break;case 3088:if(this.stack.length<2){S=!0;break}E=this.stack.pop();const U=this.stack.pop();if(E===0&&U===3){const j=this.stack.splice(-17,17);this.stack.push(j[2]+j[0],j[3]+j[1],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14]),S=this.executeCommand(13,COMMAND_MAP.flex,!0),this.flexing=!1,this.stack.push(j[15],j[16])}else E===1&&U===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:warn('Unknown type 1 charstring command of "'+D+'"');break}if(S)break;continue}else D<=246?D-=139:D<=250?D=(D-247)*256+d[++k]+108:D<=254?D=-((D-251)*256)-d[++k]-108:D=(d[++k]&255)<<24|(d[++k]&255)<<16|(d[++k]&255)<<8|(d[++k]&255)<<0;this.stack.push(D)}return S}executeCommand(d,x,b){const w=this.stack.length;if(d>w)return!0;const S=w-d;for(let C=S;C<w;C++){let F=this.stack[C];Number.isInteger(F)?this.output.push(28,F>>8&255,F&255):(F=65536*F|0,this.output.push(255,F>>24&255,F>>16&255,F>>8&255,F&255))}return this.output.push(...x),b?this.stack.splice(S,d):this.stack.length=0,!1}}const EEXEC_ENCRYPT_KEY=55665,CHAR_STRS_ENCRYPT_KEY=4330;function isHexDigit(g){return g>=48&&g<=57||g>=65&&g<=70||g>=97&&g<=102}function decrypt(g,d,x){if(x>=g.length)return new Uint8Array(0);const b=52845,w=22719;let S=d|0,C,F;for(C=0;C<x;C++)S=(g[C]+S)*b+w&65535;const E=g.length-x,k=new Uint8Array(E);for(C=x,F=0;F<E;C++,F++){const D=g[C];k[F]=D^S>>8,S=(D+S)*b+w&65535}return k}function decryptAscii(g,d,x){let S=d|0;const C=g.length,F=C>>>1,E=new Uint8Array(F);let k,D;for(k=0,D=0;k<C;k++){const M=g[k];if(!isHexDigit(M))continue;k++;let L;for(;k<C&&!isHexDigit(L=g[k]);)k++;if(k<C){const R=parseInt(String.fromCharCode(M,L),16);E[D++]=R^S>>8,S=(R+S)*52845+22719&65535}}return E.slice(x,D)}function isSpecial(g){return g===47||g===91||g===93||g===123||g===125||g===40||g===41}class Type1Parser{constructor(d,x,b){if(x){const w=d.getBytes(),S=!((isHexDigit(w[0])||isWhiteSpace(w[0]))&&isHexDigit(w[1])&&isHexDigit(w[2])&&isHexDigit(w[3])&&isHexDigit(w[4])&&isHexDigit(w[5])&&isHexDigit(w[6])&&isHexDigit(w[7]));d=new Stream$1(S?decrypt(w,EEXEC_ENCRYPT_KEY,4):decryptAscii(w,EEXEC_ENCRYPT_KEY,4))}this.seacAnalysisEnabled=!!b,this.stream=d,this.nextChar()}readNumberArray(){this.getToken();const d=[];for(;;){const x=this.getToken();if(x===null||x==="]"||x==="}")break;d.push(parseFloat(x||0))}return d}readNumber(){const d=this.getToken();return parseFloat(d||0)}readInt(){const d=this.getToken();return parseInt(d||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let d=!1,x=this.currentChar;for(;;){if(x===-1)return null;if(d)(x===10||x===13)&&(d=!1);else if(x===37)d=!0;else if(!isWhiteSpace(x))break;x=this.nextChar()}if(isSpecial(x))return this.nextChar(),String.fromCharCode(x);let b="";do b+=String.fromCharCode(x),x=this.nextChar();while(x>=0&&!isWhiteSpace(x)&&!isSpecial(x));return b}readCharStrings(d,x){return x===-1?d:decrypt(d,CHAR_STRS_ENCRYPT_KEY,x)}extractFontProgram(d){const x=this.stream,b=[],w=[],S=Object.create(null);S.lenIV=4;const C={subrs:[],charstrings:[],properties:{privateData:S}};let F,E,k,D;for(;(F=this.getToken())!==null;)if(F==="/")switch(F=this.getToken(),F){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();F=this.getToken(),!(F===null||F==="end");){if(F!=="/")continue;const L=this.getToken();E=this.readInt(),this.getToken(),k=E>0?x.getBytes(E):new Uint8Array(0),D=C.properties.privateData.lenIV;const R=this.readCharStrings(k,D);this.nextChar(),F=this.getToken(),F==="noaccess"?this.getToken():F==="/"&&this.prevChar(),w.push({glyph:L,encoded:R})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const L=this.readInt();E=this.readInt(),this.getToken(),k=E>0?x.getBytes(E):new Uint8Array(0),D=C.properties.privateData.lenIV;const R=this.readCharStrings(k,D);this.nextChar(),F=this.getToken(),F==="noaccess"&&this.getToken(),b[L]=R}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const M=this.readNumberArray();M.length>0&&M.length%2===0&&HINTING_ENABLED&&(C.properties.privateData[F]=M);break;case"StemSnapH":case"StemSnapV":C.properties.privateData[F]=this.readNumberArray();break;case"StdHW":case"StdVW":C.properties.privateData[F]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":C.properties.privateData[F]=this.readNumber();break;case"ExpansionFactor":C.properties.privateData[F]=this.readNumber()||.06;break;case"ForceBold":C.properties.privateData[F]=this.readBoolean();break}for(const{encoded:M,glyph:L}of w){const R=new Type1CharString,U=R.convert(M,b,this.seacAnalysisEnabled);let j=R.output;U&&(j=[14]);const H={glyphName:L,charstring:j,width:R.width,lsb:R.lsb,seac:R.seac};if(L===".notdef"?C.charstrings.unshift(H):C.charstrings.push(H),d.builtInEncoding){const z=d.builtInEncoding.indexOf(L);z>-1&&d.widths[z]===void 0&&z>=d.firstChar&&z<=d.lastChar&&(d.widths[z]=R.width)}}return C}extractFontHeader(d){let x;for(;(x=this.getToken())!==null;)if(x==="/")switch(x=this.getToken(),x){case"FontMatrix":const b=this.readNumberArray();d.fontMatrix=b;break;case"Encoding":const w=this.getToken();let S;if(!/^\d+$/.test(w))S=getEncoding(w);else{S=[];const F=parseInt(w,10)|0;this.getToken();for(let E=0;E<F;E++){for(x=this.getToken();x!=="dup"&&x!=="def";)if(x=this.getToken(),x===null)return;if(x==="def")break;const k=this.readInt();this.getToken();const D=this.getToken();S[k]=D,this.getToken()}}d.builtInEncoding=S;break;case"FontBBox":const C=this.readNumberArray();d.ascent=Math.max(C[3],C[1]),d.descent=Math.min(C[1],C[3]),d.ascentScaled=!0;break}}}function findBlock(g,d,x){const b=g.length,w=d.length,S=b-w;let C=x,F=!1;for(;C<S;){let E=0;for(;E<w&&g[C+E]===d[E];)E++;if(E>=w){for(C+=E;C<b&&isWhiteSpace(g[C]);)C++;F=!0;break}C++}return{found:F,length:C}}function getHeaderBlock(g,d){const x=[101,101,120,101,99],b=g.pos;let w,S,C;try{w=g.getBytes(d),S=w.length}catch{}if(S===d&&(C=findBlock(w,x,d-2*x.length),C.found&&C.length===d))return{stream:new Stream$1(w),length:d};warn('Invalid "Length1" property in Type1 font -- trying to recover.'),g.pos=b;const F=2048;let E;for(;;){const k=g.peekBytes(F);if(C=findBlock(k,x,0),C.length===0)break;if(g.pos+=C.length,C.found){E=g.pos-b;break}}return g.pos=b,E?{stream:new Stream$1(g.getBytes(E)),length:E}:(warn('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new Stream$1(g.getBytes(d)),length:d})}function getEexecBlock(g,d){const x=g.getBytes();if(x.length===0)throw new FormatError("getEexecBlock - no font program found.");return{stream:new Stream$1(x),length:x.length}}class Type1Font{constructor(d,x,b){let S=b.length1;b.length2;let C=x.peekBytes(6);const F=C[0]===128&&C[1]===1;F&&(x.skip(6),S=C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const E=getHeaderBlock(x,S);new Type1Parser(E.stream,!1,SEAC_ANALYSIS_ENABLED).extractFontHeader(b),F&&(C=x.getBytes(6),C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const D=getEexecBlock(x),L=new Type1Parser(D.stream,!0,SEAC_ANALYSIS_ENABLED).extractFontProgram(b);for(const H in L.properties)b[H]=L.properties[H];const R=L.charstrings,U=this.getType2Charstrings(R),j=this.getType2Subrs(L.subrs);this.charstrings=R,this.data=this.wrap(d,U,this.charstrings,j,b),this.seacs=this.getSeacs(L.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const d=[".notdef"];for(const{glyphName:x}of this.charstrings)d.push(x);return d}getGlyphMapping(d){const x=this.charstrings;if(d.composite){const F=Object.create(null);for(let E=0,k=x.length;E<k;E++){const D=d.cMap.charCodeOf(E);F[D]=E+1}return F}const b=[".notdef"];let w,S;for(S=0;S<x.length;S++)b.push(x[S].glyphName);const C=d.builtInEncoding;if(C){w=Object.create(null);for(const F in C)S=b.indexOf(C[F]),S>=0&&(w[F]=S)}return type1FontGlyphMapping(d,w,b)}hasGlyphId(d){return d<0||d>=this.numGlyphs?!1:d===0?!0:this.charstrings[d-1].charstring.length>0}getSeacs(d){const x=[];for(let b=0,w=d.length;b<w;b++){const S=d[b];S.seac&&(x[b+1]=S.seac)}return x}getType2Charstrings(d){const x=[];for(const b of d)x.push(b.charstring);return x}getType2Subrs(d){let x=0;const b=d.length;b<1133?x=107:b<33769?x=1131:x=32768;const w=[];let S;for(S=0;S<x;S++)w.push([11]);for(S=0;S<b;S++)w.push(d[S]);return w}wrap(d,x,b,w,S){const C=new CFF;C.header=new CFFHeader(1,0,4,4),C.names=[d];const F=new CFFTopDict;F.setByName("version",391),F.setByName("Notice",392),F.setByName("FullName",393),F.setByName("FamilyName",394),F.setByName("Weight",395),F.setByName("Encoding",null),F.setByName("FontMatrix",S.fontMatrix),F.setByName("FontBBox",S.bbox),F.setByName("charset",null),F.setByName("CharStrings",null),F.setByName("Private",null),C.topDict=F;const E=new CFFStrings;E.add("Version 0.11"),E.add("See original notice"),E.add(d),E.add(d),E.add("Medium"),C.strings=E,C.globalSubrIndex=new CFFIndex;const k=x.length,D=[".notdef"];let M,L;for(M=0;M<k;M++){const V=b[M].glyphName;CFFStandardStrings.indexOf(V)===-1&&E.add(V),D.push(V)}C.charset=new CFFCharset(!1,0,D);const R=new CFFIndex;for(R.add([139,14]),M=0;M<k;M++)R.add(x[M]);C.charStrings=R;const U=new CFFPrivateDict;U.setByName("Subrs",null);const j=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(M=0,L=j.length;M<L;M++){const V=j[M];if(!(V in S.privateData))continue;const G=S.privateData[V];if(Array.isArray(G))for(let $=G.length-1;$>0;$--)G[$]-=G[$-1];U.setByName(V,G)}C.topDict.privateDict=U;const H=new CFFIndex;for(M=0,L=w.length;M<L;M++)H.add(w[M]);return U.subrsIndex=H,new CFFCompiler(C).compile()}}const PRIVATE_USE_AREAS=[[57344,63743],[1048576,1114109]],PDF_GLYPH_SPACE_UNITS=1e3,EXPORT_DATA_PROPERTIES=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],EXPORT_DATA_EXTRA_PROPERTIES=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function adjustWidths(g){if(!g.fontMatrix||g.fontMatrix[0]===FONT_IDENTITY_MATRIX[0])return;const d=.001/g.fontMatrix[0],x=g.widths;for(const b in x)x[b]*=d;g.defaultWidth*=d}function adjustTrueTypeToUnicode(g,d,x){if(g.isInternalFont||g.hasIncludedToUnicodeMap||g.hasEncoding||g.toUnicode instanceof IdentityToUnicodeMap||!d||x.length===0||g.defaultEncoding===WinAnsiEncoding)return;for(const C of x)if(!isWinNameRecord(C))return;const b=WinAnsiEncoding,w=[],S=getGlyphsUnicode();for(const C in b){const F=b[C];if(F==="")continue;const E=S[F];E!==void 0&&(w[C]=String.fromCharCode(E))}w.length>0&&g.toUnicode.amend(w)}function adjustType1ToUnicode(g,d){if(g.isInternalFont||g.hasIncludedToUnicodeMap||d===g.defaultEncoding||g.toUnicode instanceof IdentityToUnicodeMap)return;const x=[],b=getGlyphsUnicode();for(const w in d){if(g.hasEncoding&&(g.baseEncodingName||g.differences[w]!==void 0))continue;const S=d[w],C=getUnicodeForGlyph(S,b);C!==-1&&(x[w]=String.fromCharCode(C))}x.length>0&&g.toUnicode.amend(x)}function amendFallbackToUnicode(g){if(!g.fallbackToUnicode||g.toUnicode instanceof IdentityToUnicodeMap)return;const d=[];for(const x in g.fallbackToUnicode)g.toUnicode.has(x)||(d[x]=g.fallbackToUnicode[x]);d.length>0&&g.toUnicode.amend(d)}class fonts_Glyph{constructor(d,x,b,w,S,C,F,E,k){this.originalCharCode=d,this.fontChar=x,this.unicode=b,this.accent=w,this.width=S,this.vmetric=C,this.operatorListId=F,this.isSpace=E,this.isInFont=k}get category(){return shadow(this,"category",getCharUnicodeCategory(this.unicode),!0)}}function int16(g,d){return(g<<8)+d}function writeSignedInt16(g,d,x){g[d+1]=x,g[d]=x>>>8}function signedInt16(g,d){const x=(g<<8)+d;return x&32768?x-65536:x}function writeUint32(g,d,x){g[d+3]=x&255,g[d+2]=x>>>8,g[d+1]=x>>>16,g[d]=x>>>24}function int32(g,d,x,b){return(g<<24)+(d<<16)+(x<<8)+b}function string16(g){return String.fromCharCode(g>>8&255,g&255)}function safeString16(g){return g>32767?g=32767:g<-32768&&(g=-32768),String.fromCharCode(g>>8&255,g&255)}function isTrueTypeFile(g){const d=g.peekBytes(4);return readUint32(d,0)===65536||bytesToString(d)==="true"}function isTrueTypeCollectionFile(g){const d=g.peekBytes(4);return bytesToString(d)==="ttcf"}function isOpenTypeFile(g){const d=g.peekBytes(4);return bytesToString(d)==="OTTO"}function isType1File(g){const d=g.peekBytes(2);return d[0]===37&&d[1]===33||d[0]===128&&d[1]===1}function isCFFFile(g){const d=g.peekBytes(4);return d[0]>=1&&d[3]>=1&&d[3]<=4}function getFontFileType(g,{type:d,subtype:x,composite:b}){let w,S;return isTrueTypeFile(g)||isTrueTypeCollectionFile(g)?w=b?"CIDFontType2":"TrueType":isOpenTypeFile(g)?w=b?"CIDFontType2":"OpenType":isType1File(g)?b?w="CIDFontType0":w=d==="MMType1"?"MMType1":"Type1":isCFFFile(g)?b?(w="CIDFontType0",S="CIDFontType0C"):(w=d==="MMType1"?"MMType1":"Type1",S="Type1C"):(warn("getFontFileType: Unable to detect correct font file Type/Subtype."),w=d,S=x),[w,S]}function applyStandardFontGlyphMap(g,d){for(const x in d)g[+x]=d[x]}function buildToFontChar(g,d,x){const b=[];let w;for(let S=0,C=g.length;S<C;S++)w=getUnicodeForGlyph(g[S],d),w!==-1&&(b[S]=w);for(const S in x)w=getUnicodeForGlyph(x[S],d),w!==-1&&(b[+S]=w);return b}function isMacNameRecord(g){return g.platform===1&&g.encoding===0&&g.language===0}function isWinNameRecord(g){return g.platform===3&&g.encoding===1&&g.language===1033}function convertCidString(g,d,x=!1){switch(d.length){case 1:return d.charCodeAt(0);case 2:return d.charCodeAt(0)<<8|d.charCodeAt(1)}const b=`Unsupported CID string (charCode ${g}): "${d}".`;if(x)throw new FormatError(b);return warn(b),d}function adjustMapping(g,d,x,b){const w=Object.create(null),S=new Map,C=[],F=new Set;let E=0,D=PRIVATE_USE_AREAS[E][0],M=PRIVATE_USE_AREAS[E][1];const L=R=>PRIVATE_USE_AREAS[0][0]<=R&&R<=PRIVATE_USE_AREAS[0][1]||PRIVATE_USE_AREAS[1][0]<=R&&R<=PRIVATE_USE_AREAS[1][1];for(let R in g){R|=0;let U=g[R];if(!d(U))continue;if(D>M){if(E++,E>=PRIVATE_USE_AREAS.length){warn("Ran out of space in font private use area.");break}D=PRIVATE_USE_AREAS[E][0],M=PRIVATE_USE_AREAS[E][1]}const j=D++;U===0&&(U=x);let H=b.get(R);typeof H=="string"&&(H=H.codePointAt(0)),H&&!L(H)&&!F.has(U)&&(S.set(H,U),F.add(U)),w[j]=U,C[R]=j}return{toFontChar:C,charCodeToGlyphId:w,toUnicodeExtraMap:S,nextAvailableFontCharCode:D}}function getRanges(g,d,x){const b=[];for(const C in g)g[C]>=x||b.push({fontCharCode:C|0,glyphId:g[C]});if(d)for(const[C,F]of d)F>=x||b.push({fontCharCode:C,glyphId:F});b.length===0&&b.push({fontCharCode:0,glyphId:0}),b.sort(function(F,E){return F.fontCharCode-E.fontCharCode});const w=[],S=b.length;for(let C=0;C<S;){const F=b[C].fontCharCode,E=[b[C].glyphId];++C;let k=F;for(;C<S&&k+1===b[C].fontCharCode&&(E.push(b[C].glyphId),++k,++C,k!==65535););w.push([F,k,E])}return w}function createCmapTable(g,d,x){const b=getRanges(g,d,x),w=b.at(-1)[1]>65535?2:1;let S="\0\0"+string16(w)+"\0\0"+string32(4+w*8),C,F,E,k;for(C=b.length-1;C>=0&&!(b[C][0]<=65535);--C);const D=C+1;b[C][0]<65535&&b[C][1]===65535&&(b[C][1]=65534);const M=b[C][1]<65535?1:0,L=D+M,R=OpenTypeFileBuilder.getSearchParams(L,2);let U="",j="",H="",z="",V="",G=0,$,K,Z,Q;for(C=0,F=D;C<F;C++){$=b[C],K=$[0],Z=$[1],U+=string16(K),j+=string16(Z),Q=$[2];let be=!0;for(E=1,k=Q.length;E<k;++E)if(Q[E]!==Q[E-1]+1){be=!1;break}if(be){const me=Q[0];H+=string16(me-K&65535),z+=string16(0)}else{const me=(L-C)*2+G*2;for(G+=Z-K+1,H+=string16(0),z+=string16(me),E=0,k=Q.length;E<k;++E)V+=string16(Q[E])}}M>0&&(j+="ÿÿ",U+="ÿÿ",H+="\0",z+="\0\0");const ne="\0\0"+string16(2*L)+string16(R.range)+string16(R.entry)+string16(R.rangeShift)+j+"\0\0"+U+H+z+V;let le="",fe="";if(w>1){for(S+=`\0\0
`+string32(4+w*8+4+ne.length),le="",C=0,F=b.length;C<F;C++){$=b[C],K=$[0],Q=$[2];let be=Q[0];for(E=1,k=Q.length;E<k;++E)Q[E]!==Q[E-1]+1&&(Z=$[0]+E-1,le+=string32(K)+string32(Z)+string32(be),K=Z+1,be=Q[E]);le+=string32(K)+string32($[1])+string32(be)}fe="\0\f\0\0"+string32(le.length+16)+"\0\0\0\0"+string32(le.length/12)}return S+"\0"+string16(ne.length+4)+ne+fe+le}function validateOS2Table(g,d){d.pos=(d.start||0)+g.offset;const x=d.getUint16();d.skip(60);const b=d.getUint16();if(x<4&&b&768)return!1;const w=d.getUint16(),S=d.getUint16();return w>S||(d.skip(6),d.getUint16()===0)?!1:(g.data[8]=g.data[9]=0,!0)}function createOS2Table(g,d,x){x||={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let b=0,w=0,S=0,C=0,F=null,E=0,k=-1;if(d){for(let z in d)if(z|=0,(F>z||!F)&&(F=z),E<z&&(E=z),k=getUnicodeRangeFor(z,k),k<32)b|=1<<k;else if(k<64)w|=1<<k-32;else if(k<96)S|=1<<k-64;else if(k<123)C|=1<<k-96;else throw new FormatError("Unicode ranges Bits > 123 are reserved for internal usage");E>65535&&(E=65535)}else F=0,E=255;const D=g.bbox||[0,0,0,0],M=x.unitsPerEm||1/(g.fontMatrix||FONT_IDENTITY_MATRIX)[0],L=g.ascentScaled?1:M/PDF_GLYPH_SPACE_UNITS,R=x.ascent||Math.round(L*(g.ascent||D[3]));let U=x.descent||Math.round(L*(g.descent||D[1]));U>0&&g.descent>0&&D[1]<0&&(U=-U);const j=x.yMax||R,H=-x.yMin||-U;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(g.fixedPitch?9:0)+"\0\0\0\0\0\0"+string32(b)+string32(w)+string32(S)+string32(C)+"*21*"+string16(g.italicAngle?1:0)+string16(F||g.firstChar)+string16(E||g.lastChar)+string16(R)+string16(U)+"\0d"+string16(j)+string16(H)+"\0\0\0\0\0\0\0\0"+string16(g.xHeight)+string16(g.capHeight)+string16(0)+string16(F||g.firstChar)+"\0"}function createPostTable(g){const d=Math.floor(g.italicAngle*65536);return"\0\0\0"+string32(d)+"\0\0\0\0"+string32(g.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function createPostscriptName(g){return g.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function createNameTable(g,d){d||(d=[[],[]]);const x=[d[0][0]||"Original licence",d[0][1]||g,d[0][2]||"Unknown",d[0][3]||"uniqueID",d[0][4]||g,d[0][5]||"Version 0.11",d[0][6]||createPostscriptName(g),d[0][7]||"Unknown",d[0][8]||"Unknown",d[0][9]||"Unknown"],b=[];let w,S,C,F,E;for(w=0,S=x.length;w<S;w++){E=d[1][w]||x[w];const H=[];for(C=0,F=E.length;C<F;C++)H.push(string16(E.charCodeAt(C)));b.push(H.join(""))}const k=[x,b],D=["\0","\0"],M=["\0\0","\0"],L=["\0\0","	"],R=x.length*D.length;let U="\0\0"+string16(R)+string16(R*12+6),j=0;for(w=0,S=D.length;w<S;w++){const H=k[w];for(C=0,F=H.length;C<F;C++){E=H[C];const z=D[w]+M[w]+L[w]+string16(C)+string16(E.length)+string16(j);U+=z,j+=E.length}}return U+=x.join("")+b.join(""),U}let Font$2=class{constructor(d,x,b){this.name=d,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=b.loadedName,this.isType3Font=b.isType3Font,this.missingFile=!1,this.cssFontInfo=b.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let w=!!(b.flags&FontFlags.Serif);if(!w&&!b.isSimulatedFlags){const k=d.replaceAll(/[,_]/g,"-").split("-")[0],D=getSerifFonts();for(const M of k.split("+"))if(D[M]){w=!0;break}}this.isSerifFont=w,this.isSymbolicFont=!!(b.flags&FontFlags.Symbolic),this.isMonospace=!!(b.flags&FontFlags.FixedPitch);let{type:S,subtype:C}=b;this.type=S,this.subtype=C,this.systemFontInfo=b.systemFontInfo;const F=d.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!F,this.isInvalidPDFjsFont?this.fallbackName=F[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",this.systemFontInfo?.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=b.differences,this.widths=b.widths,this.defaultWidth=b.defaultWidth,this.composite=b.composite,this.cMap=b.cMap,this.capHeight=b.capHeight/PDF_GLYPH_SPACE_UNITS,this.ascent=b.ascent/PDF_GLYPH_SPACE_UNITS,this.descent=b.descent/PDF_GLYPH_SPACE_UNITS,this.lineHeight=this.ascent-this.descent,this.fontMatrix=b.fontMatrix,this.bbox=b.bbox,this.defaultEncoding=b.defaultEncoding,this.toUnicode=b.toUnicode,this.toFontChar=[],b.type==="Type3"){for(let k=0;k<256;k++)this.toFontChar[k]=this.differences[k]||b.defaultEncoding[k];return}if(this.cidEncoding=b.cidEncoding||"",this.vertical=!!b.vertical,this.vertical&&(this.vmetrics=b.vmetrics,this.defaultVMetrics=b.defaultVMetrics),!x||x.isEmpty){x&&warn('Font file is empty in "'+d+'" ('+this.loadedName+")"),this.fallbackToSystemFont(b);return}[S,C]=getFontFileType(x,b),(S!==this.type||C!==this.subtype)&&info(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${S}/${C}.`);let E;try{switch(S){case"MMType1":info("MMType1 font ("+d+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const k=C==="Type1C"||C==="CIDFontType0C"?new CFFFont(x,b):new Type1Font(d,x,b);adjustWidths(b),E=this.convert(d,k,b);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",E=this.checkAndRepair(d,x,b),this.isOpenType&&(adjustWidths(b),S="OpenType");break;default:throw new FormatError(`Font ${S} is not supported`)}}catch(k){warn(k),this.fallbackToSystemFont(b);return}amendFallbackToUnicode(b),this.data=E,this.type=S,this.subtype=C,this.fontMatrix=b.fontMatrix,this.widths=b.widths,this.defaultWidth=b.defaultWidth,this.toUnicode=b.toUnicode,this.seacMap=b.seacMap}get renderer(){const d=FontRendererFactory.create(this,SEAC_ANALYSIS_ENABLED);return shadow(this,"renderer",d)}exportData(d=!1){const x=d?[...EXPORT_DATA_PROPERTIES,...EXPORT_DATA_EXTRA_PROPERTIES]:EXPORT_DATA_PROPERTIES,b=Object.create(null);let w,S;for(w of x)S=this[w],S!==void 0&&(b[w]=S);return b}fallbackToSystemFont(d){this.missingFile=!0;const{name:x,type:b}=this;let w=normalizeFontName(x);const S=getStdFontMap(),C=getNonStdFontMap(),F=!!S[w],E=!!(C[w]&&S[C[w]]);w=S[w]||C[w]||w;const D=getFontBasicMetrics()[w];D&&(isNaN(this.ascent)&&(this.ascent=D.ascent/PDF_GLYPH_SPACE_UNITS),isNaN(this.descent)&&(this.descent=D.descent/PDF_GLYPH_SPACE_UNITS),isNaN(this.capHeight)&&(this.capHeight=D.capHeight/PDF_GLYPH_SPACE_UNITS)),this.bold=/bold/gi.test(w),this.italic=/oblique|italic/gi.test(w),this.black=/Black/g.test(x);const M=/Narrow/g.test(x);if(this.remeasure=(!F||M)&&Object.keys(this.widths).length>0,(F||E)&&b==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const L=d.cidToGidMap,R=[];if(applyStandardFontGlyphMap(R,getGlyphMapForStandardFonts()),/Arial-?Black/i.test(x)?applyStandardFontGlyphMap(R,getSupplementalGlyphMapForArialBlack()):/Calibri/i.test(x)&&applyStandardFontGlyphMap(R,getSupplementalGlyphMapForCalibri()),L){for(const U in R){const j=R[U];L[j]!==void 0&&(R[+U]=L[j])}L.length!==this.toUnicode.length&&d.hasIncludedToUnicodeMap&&this.toUnicode instanceof IdentityToUnicodeMap&&this.toUnicode.forEach(function(U,j){const H=R[U];L[H]===void 0&&(R[+U]=j)})}this.toUnicode instanceof IdentityToUnicodeMap||this.toUnicode.forEach(function(U,j){R[+U]=j}),this.toFontChar=R,this.toUnicode=new ToUnicodeMap(R)}else if(/Symbol/i.test(w))this.toFontChar=buildToFontChar(SymbolSetEncoding,getGlyphsUnicode(),this.differences);else if(/Dingbats/i.test(w))this.toFontChar=buildToFontChar(ZapfDingbatsEncoding,getDingbatsGlyphsUnicode(),this.differences);else if(F){const L=buildToFontChar(this.defaultEncoding,getGlyphsUnicode(),this.differences);b==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof IdentityToUnicodeMap)&&this.toUnicode.forEach(function(R,U){L[+R]=U}),this.toFontChar=L}else{const L=getGlyphsUnicode(),R=[];this.toUnicode.forEach((U,j)=>{if(!this.composite){const H=this.differences[U]||this.defaultEncoding[U],z=getUnicodeForGlyph(H,L);z!==-1&&(j=z)}R[+U]=j}),this.composite&&this.toUnicode instanceof IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(x)&&applyStandardFontGlyphMap(R,getGlyphMapForStandardFonts()),this.toFontChar=R}amendFallbackToUnicode(d),this.loadedName=w.split("-")[0]}checkAndRepair(d,x,b){const w=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function S(De,_e){const Pe=Object.create(null);Pe["OS/2"]=null,Pe.cmap=null,Pe.head=null,Pe.hhea=null,Pe.hmtx=null,Pe.maxp=null,Pe.name=null,Pe.post=null;for(let re=0;re<_e;re++){const ae=C(De);w.includes(ae.tag)&&ae.length!==0&&(Pe[ae.tag]=ae)}return Pe}function C(De){const _e=De.getString(4),Pe=De.getInt32()>>>0,re=De.getInt32()>>>0,ae=De.getInt32()>>>0,Y=De.pos;De.pos=De.start||0,De.skip(re);const W=De.getBytes(ae);return De.pos=Y,_e==="head"&&(W[8]=W[9]=W[10]=W[11]=0,W[17]|=32),{tag:_e,checksum:Pe,length:ae,offset:re,data:W}}function F(De){return{version:De.getString(4),numTables:De.getUint16(),searchRange:De.getUint16(),entrySelector:De.getUint16(),rangeShift:De.getUint16()}}function E(De){const _e=De.getString(4);assert(_e==="ttcf","Must be a TrueType Collection font.");const Pe=De.getUint16(),re=De.getUint16(),ae=De.getInt32()>>>0,Y=[];for(let ee=0;ee<ae;ee++)Y.push(De.getInt32()>>>0);const W={ttcTag:_e,majorVersion:Pe,minorVersion:re,numFonts:ae,offsetTable:Y};switch(Pe){case 1:return W;case 2:return W.dsigTag=De.getInt32()>>>0,W.dsigLength=De.getInt32()>>>0,W.dsigOffset=De.getInt32()>>>0,W}throw new FormatError(`Invalid TrueType Collection majorVersion: ${Pe}.`)}function k(De,_e){const{numFonts:Pe,offsetTable:re}=E(De),ae=_e.split("+");let Y;for(let W=0;W<Pe;W++){De.pos=(De.start||0)+re[W];const ee=F(De),J=S(De,ee.numTables);if(!J.name)throw new FormatError('TrueType Collection font must contain a "name" table.');const[te]=H(J.name);for(let X=0,he=te.length;X<he;X++)for(let ue=0,ce=te[X].length;ue<ce;ue++){const se=te[X][ue]?.replaceAll(/\s/g,"");if(se){if(se===_e)return{header:ee,tables:J};if(!(ae.length<2))for(const xe of ae)se===xe&&(Y={name:xe,header:ee,tables:J})}}}if(Y)return warn(`TrueType Collection does not contain "${_e}" font, falling back to "${Y.name}" font instead.`),{header:Y.header,tables:Y.tables};throw new FormatError(`TrueType Collection does not contain "${_e}" font.`)}function D(De,_e,Pe,re){if(!De)return warn("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let ae,Y=(_e.start||0)+De.offset;_e.pos=Y,_e.skip(2);const W=_e.getUint16();let ee,J=!1;for(let se=0;se<W;se++){const xe=_e.getUint16(),Se=_e.getUint16(),ve=_e.getInt32()>>>0;let pe=!1;if(!(ee?.platformId===xe&&ee?.encodingId===Se)){if(xe===0&&(Se===0||Se===1||Se===3))pe=!0;else if(xe===1&&Se===0)pe=!0;else if(xe===3&&Se===1&&(re||!ee))pe=!0,Pe||(J=!0);else if(Pe&&xe===3&&Se===0){pe=!0;let Fe=!0;if(se<W-1){const Re=_e.peekBytes(2);int16(Re[0],Re[1])<xe&&(Fe=!1)}Fe&&(J=!0)}if(pe&&(ee={platformId:xe,encodingId:Se,offset:ve}),J)break}}if(ee&&(_e.pos=Y+ee.offset),!ee||_e.peekByte()===-1)return warn("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const te=_e.getUint16();let X=!1;const he=[];let ue,ce;if(te===0){for(_e.skip(4),ue=0;ue<256;ue++){const se=_e.getByte();se&&he.push({charCode:ue,glyphId:se})}X=!0}else if(te===2){_e.skip(4);const se=[];let xe=0;for(let ve=0;ve<256;ve++){const pe=_e.getUint16()>>3;se.push(pe),xe=Math.max(pe,xe)}const Se=[];for(let ve=0;ve<=xe;ve++)Se.push({firstCode:_e.getUint16(),entryCount:_e.getUint16(),idDelta:signedInt16(_e.getByte(),_e.getByte()),idRangePos:_e.pos+_e.getUint16()});for(let ve=0;ve<256;ve++)if(se[ve]===0)_e.pos=Se[0].idRangePos+2*ve,ce=_e.getUint16(),he.push({charCode:ve,glyphId:ce});else{const pe=Se[se[ve]];for(ue=0;ue<pe.entryCount;ue++){const Fe=(ve<<8)+ue+pe.firstCode;_e.pos=pe.idRangePos+2*ue,ce=_e.getUint16(),ce!==0&&(ce=(ce+pe.idDelta)%65536),he.push({charCode:Fe,glyphId:ce})}}}else if(te===4){_e.skip(4);const se=_e.getUint16()>>1;_e.skip(6);const xe=[];let Se;for(Se=0;Se<se;Se++)xe.push({end:_e.getUint16()});for(_e.skip(2),Se=0;Se<se;Se++)xe[Se].start=_e.getUint16();for(Se=0;Se<se;Se++)xe[Se].delta=_e.getUint16();let ve=0,pe;for(Se=0;Se<se;Se++){ae=xe[Se];const Re=_e.getUint16();if(!Re){ae.offsetIndex=-1;continue}pe=(Re>>1)-(se-Se),ae.offsetIndex=pe,ve=Math.max(ve,pe+ae.end-ae.start+1)}const Fe=[];for(ue=0;ue<ve;ue++)Fe.push(_e.getUint16());for(Se=0;Se<se;Se++){ae=xe[Se],Y=ae.start;const Re=ae.end,Te=ae.delta;for(pe=ae.offsetIndex,ue=Y;ue<=Re;ue++)ue!==65535&&(ce=pe<0?ue:Fe[pe+ue-Y],ce=ce+Te&65535,he.push({charCode:ue,glyphId:ce}))}}else if(te===6){_e.skip(4);const se=_e.getUint16(),xe=_e.getUint16();for(ue=0;ue<xe;ue++){ce=_e.getUint16();const Se=se+ue;he.push({charCode:Se,glyphId:ce})}}else if(te===12){_e.skip(10);const se=_e.getInt32()>>>0;for(ue=0;ue<se;ue++){const xe=_e.getInt32()>>>0,Se=_e.getInt32()>>>0;let ve=_e.getInt32()>>>0;for(let pe=xe;pe<=Se;pe++)he.push({charCode:pe,glyphId:ve++})}}else return warn("cmap table has unsupported format: "+te),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};he.sort(function(se,xe){return se.charCode-xe.charCode});for(let se=1;se<he.length;se++)he[se-1].charCode===he[se].charCode&&(he.splice(se,1),se--);return{platformId:ee.platformId,encodingId:ee.encodingId,mappings:he,hasShortCmap:X}}function M(De,_e,Pe,re,ae,Y){if(!_e){Pe&&(Pe.data=null);return}De.pos=(De.start||0)+_e.offset,De.pos+=4,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2;const W=De.getUint16();De.pos+=8,De.pos+=2;let ee=De.getUint16();W!==0&&(int16(re.data[44],re.data[45])&2||(_e.data[22]=0,_e.data[23]=0)),ee>ae&&(info(`The numOfMetrics (${ee}) should not be greater than the numGlyphs (${ae}).`),ee=ae,_e.data[34]=(ee&65280)>>8,_e.data[35]=ee&255);const te=ae-ee-(Pe.length-ee*4>>1);if(te>0){const X=new Uint8Array(Pe.length+te*2);X.set(Pe.data),Y&&(X[Pe.length]=Pe.data[2],X[Pe.length+1]=Pe.data[3]),Pe.data=X}}function L(De,_e,Pe,re,ae,Y){const W={length:0,sizeOfInstructions:0};if(_e<0||_e>=De.length||Pe>De.length||Pe-_e<=12)return W;const ee=De.subarray(_e,Pe),J=signedInt16(ee[2],ee[3]),te=signedInt16(ee[4],ee[5]),X=signedInt16(ee[6],ee[7]),he=signedInt16(ee[8],ee[9]);J>X&&(writeSignedInt16(ee,2,X),writeSignedInt16(ee,6,J)),te>he&&(writeSignedInt16(ee,4,he),writeSignedInt16(ee,8,te));const ue=signedInt16(ee[0],ee[1]);if(ue<0)return ue<-1||(re.set(ee,ae),W.length=ee.length),W;let ce,se=10,xe=0;for(ce=0;ce<ue;ce++)xe=(ee[se]<<8|ee[se+1])+1,se+=2;const Se=se,ve=ee[se]<<8|ee[se+1];W.sizeOfInstructions=ve,se+=2+ve;const pe=se;let Fe=0;for(ce=0;ce<xe;ce++){const Te=ee[se++];Te&192&&(ee[se-1]=Te&63);let Le=2;Te&2?Le=1:Te&16&&(Le=0);let ye=2;Te&4?ye=1:Te&32&&(ye=0);const ie=Le+ye;if(Fe+=ie,Te&8){const de=ee[se++];de===0&&(ee[se-1]^=8),ce+=de,Fe+=de*ie}}if(Fe===0)return W;let Re=se+Fe;return Re>ee.length?W:!Y&&ve>0?(re.set(ee.subarray(0,Se),ae),re.set([0,0],ae+Se),re.set(ee.subarray(pe,Re),ae+Se+2),Re-=ve,ee.length-Re>3&&(Re=Re+3&-4),W.length=Re,W):ee.length-Re>3?(Re=Re+3&-4,re.set(ee.subarray(0,Re),ae),W.length=Re,W):(re.set(ee,ae),W.length=ee.length,W)}function R(De,_e,Pe){const re=De.data,ae=int32(re[0],re[1],re[2],re[3]);ae>>16!==1&&(info("Attempting to fix invalid version in head table: "+ae),re[0]=0,re[1]=1,re[2]=0,re[3]=0);const Y=int16(re[50],re[51]);if(Y<0||Y>1){info("Attempting to fix invalid indexToLocFormat in head table: "+Y);const W=_e+1;if(Pe===W<<1)re[50]=0,re[51]=0;else if(Pe===W<<2)re[50]=0,re[51]=1;else throw new FormatError("Could not fix indexToLocFormat: "+Y)}}function U(De,_e,Pe,re,ae,Y,W){let ee,J,te;re?(ee=4,J=function(Le,ye){return Le[ye]<<24|Le[ye+1]<<16|Le[ye+2]<<8|Le[ye+3]},te=function(Le,ye,ie){Le[ye]=ie>>>24&255,Le[ye+1]=ie>>16&255,Le[ye+2]=ie>>8&255,Le[ye+3]=ie&255}):(ee=2,J=function(Le,ye){return Le[ye]<<9|Le[ye+1]<<1},te=function(Le,ye,ie){Le[ye]=ie>>9&255,Le[ye+1]=ie>>1&255});const X=Y?Pe+1:Pe,he=ee*(1+X),ue=new Uint8Array(he);ue.set(De.data.subarray(0,he)),De.data=ue;const ce=_e.data,se=ce.length,xe=new Uint8Array(se);let Se,ve;const pe=[];for(Se=0,ve=0;Se<Pe+1;Se++,ve+=ee){let Te=J(ue,ve);Te>se&&(Te=se),pe.push({index:Se,offset:Te,endOffset:0})}for(pe.sort((Te,Le)=>Te.offset-Le.offset),Se=0;Se<Pe;Se++)pe[Se].endOffset=pe[Se+1].offset;for(pe.sort((Te,Le)=>Te.index-Le.index),Se=0;Se<Pe;Se++){const{offset:Te,endOffset:Le}=pe[Se];if(Te!==0||Le!==0)break;const ye=pe[Se+1].offset;if(ye!==0){pe[Se].endOffset=ye;break}}const Fe=Object.create(null);let Re=0;for(te(ue,0,Re),Se=0,ve=ee;Se<Pe;Se++,ve+=ee){const Te=L(ce,pe[Se].offset,pe[Se].endOffset,xe,Re,ae),Le=Te.length;Le===0&&(Fe[Se]=!0),Te.sizeOfInstructions>W&&(W=Te.sizeOfInstructions),Re+=Le,te(ue,ve,Re)}if(Re===0){const Te=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Se=0,ve=ee;Se<X;Se++,ve+=ee)te(ue,ve,Te.length);_e.data=Te}else if(Y){const Te=J(ue,ee);xe.length>Te+Re?_e.data=xe.subarray(0,Te+Re):(_e.data=new Uint8Array(Te+Re),_e.data.set(xe.subarray(0,Re))),_e.data.set(xe.subarray(0,Te),Re),te(De.data,ue.length-ee,Re+Te)}else _e.data=xe.subarray(0,Re);return{missingGlyphs:Fe,maxSizeOfInstructions:W}}function j(De,_e,Pe){const re=(x.start||0)+De.offset;x.pos=re;const ae=De.length,Y=re+ae,W=x.getInt32();x.skip(28);let ee,J=!0,te;switch(W){case 65536:ee=MacStandardGlyphOrdering;break;case 131072:const X=x.getUint16();if(X!==Pe){J=!1;break}const he=[];for(te=0;te<X;++te){const se=x.getUint16();if(se>=32768){J=!1;break}he.push(se)}if(!J)break;const ue=[],ce=[];for(;x.pos<Y;){const se=x.getByte();for(ce.length=se,te=0;te<se;++te)ce[te]=String.fromCharCode(x.getByte());ue.push(ce.join(""))}for(ee=[],te=0;te<X;++te){const se=he[te];if(se<258){ee.push(MacStandardGlyphOrdering[se]);continue}ee.push(ue[se-258])}break;case 196608:break;default:warn("Unknown/unsupported post table version "+W),J=!1,_e.defaultEncoding&&(ee=_e.defaultEncoding);break}return _e.glyphNames=ee,J}function H(De){const _e=(x.start||0)+De.offset;x.pos=_e;const Pe=[[],[]],re=[],ae=De.length,Y=_e+ae;if(x.getUint16()!==0||ae<6)return[Pe,re];const J=x.getUint16(),te=x.getUint16(),X=12;let he,ue;for(he=0;he<J&&x.pos+X<=Y;he++){const ce={platform:x.getUint16(),encoding:x.getUint16(),language:x.getUint16(),name:x.getUint16(),length:x.getUint16(),offset:x.getUint16()};(isMacNameRecord(ce)||isWinNameRecord(ce))&&re.push(ce)}for(he=0,ue=re.length;he<ue;he++){const ce=re[he];if(ce.length<=0)continue;const se=_e+te+ce.offset;if(se+ce.length>Y)continue;x.pos=se;const xe=ce.name;if(ce.encoding){let Se="";for(let ve=0,pe=ce.length;ve<pe;ve+=2)Se+=String.fromCharCode(x.getUint16());Pe[1][xe]=Se}else Pe[0][xe]=x.getString(ce.length)}return[Pe,re]}const z=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function V(De,_e){let Pe=De.data,re=0,ae,Y,W,ee,J,te=0,X=0;const he=[],ue=[],ce=[];let se=_e.tooComplexToFollowFunctions,xe=!1,Se=0,ve=0;for(let Fe=Pe.length;re<Fe;){const Re=Pe[re++];if(Re===64)if(Y=Pe[re++],xe||ve)re+=Y;else for(ae=0;ae<Y;ae++)he.push(Pe[re++]);else if(Re===65)if(Y=Pe[re++],xe||ve)re+=Y*2;else for(ae=0;ae<Y;ae++)W=Pe[re++],he.push(W<<8|Pe[re++]);else if((Re&248)===176)if(Y=Re-176+1,xe||ve)re+=Y;else for(ae=0;ae<Y;ae++)he.push(Pe[re++]);else if((Re&248)===184)if(Y=Re-184+1,xe||ve)re+=Y*2;else for(ae=0;ae<Y;ae++)W=Pe[re++],he.push(W<<8|Pe[re++]);else if(Re===43&&!se){if(!xe&&!ve){if(ee=he.at(-1),isNaN(ee))info("TT: CALL empty stack (or invalid entry).");else if(_e.functionsUsed[ee]=!0,ee in _e.functionsStackDeltas){const Te=he.length+_e.functionsStackDeltas[ee];if(Te<0){warn("TT: CALL invalid functions stack delta."),_e.hintsValid=!1;return}he.length=Te}else if(ee in _e.functionsDefined&&!ce.includes(ee)){if(ue.push({data:Pe,i:re,stackTop:he.length-1}),ce.push(ee),J=_e.functionsDefined[ee],!J){warn("TT: CALL non-existent function"),_e.hintsValid=!1;return}Pe=J.data,re=J.i}}}else if(Re===44&&!se)(xe||ve)&&(warn("TT: nested FDEFs not allowed"),se=!0),xe=!0,X=re,ee=he.pop(),_e.functionsDefined[ee]={data:Pe,i:re};else if(Re===45)if(xe)xe=!1,te=re;else{if(J=ue.pop(),!J){warn("TT: ENDF bad stack"),_e.hintsValid=!1;return}ee=ce.pop(),Pe=J.data,re=J.i,_e.functionsStackDeltas[ee]=he.length-J.stackTop}else if(Re===137)(xe||ve)&&(warn("TT: nested IDEFs not allowed"),se=!0),xe=!0,X=re;else if(Re===88)++Se;else if(Re===27)ve=Se;else if(Re===89)ve===Se&&(ve=0),--Se;else if(Re===28&&!xe&&!ve){const Te=he.at(-1);Te>0&&(re+=Te-1)}if(!xe&&!ve){let Te=0;for(Re<=142?Te=z[Re]:Re>=192&&Re<=223?Te=-1:Re>=224&&(Te=-2),Re>=113&&Re<=117&&(Y=he.pop(),isNaN(Y)||(Te=-Y*2));Te<0&&he.length>0;)he.pop(),Te++;for(;Te>0;)he.push(NaN),Te--}}_e.tooComplexToFollowFunctions=se;const pe=[Pe];re>Pe.length&&pe.push(new Uint8Array(re-Pe.length)),X>te&&(warn("TT: complementing a missing function tail"),pe.push(new Uint8Array([34,45]))),$(De,pe)}function G(De,_e){if(!De.tooComplexToFollowFunctions){if(De.functionsDefined.length>_e){warn("TT: more functions defined than expected"),De.hintsValid=!1;return}for(let Pe=0,re=De.functionsUsed.length;Pe<re;Pe++){if(Pe>_e){warn("TT: invalid function id: "+Pe),De.hintsValid=!1;return}if(De.functionsUsed[Pe]&&!De.functionsDefined[Pe]){warn("TT: undefined function: "+Pe),De.hintsValid=!1;return}}}}function $(De,_e){if(_e.length>1){let Pe=0,re,ae;for(re=0,ae=_e.length;re<ae;re++)Pe+=_e[re].length;Pe=Pe+3&-4;const Y=new Uint8Array(Pe);let W=0;for(re=0,ae=_e.length;re<ae;re++)Y.set(_e[re],W),W+=_e[re].length;De.data=Y,De.length=Pe}}function K(De,_e,Pe,re){const ae={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(De&&V(De,ae),_e&&V(_e,ae),De&&G(ae,re),Pe&&Pe.length&1){const Y=new Uint8Array(Pe.length+1);Y.set(Pe.data),Pe.data=Y}return ae.hintsValid}x=new Stream$1(new Uint8Array(x.getBytes()));let Z,Q;if(isTrueTypeCollectionFile(x)){const De=k(x,this.name);Z=De.header,Q=De.tables}else Z=F(x),Q=S(x,Z.numTables);let ne,le;const fe=!Q["CFF "];if(fe){if(!Q.loca)throw new FormatError('Required "loca" table is not found');Q.glyf||(warn('Required "glyf" table is not found -- trying to recover.'),Q.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const De=b.composite&&(b.cidToGidMap?.length>0||!(b.cMap instanceof IdentityCMap));if(Z.version==="OTTO"&&!De||!Q.head||!Q.hhea||!Q.maxp||!Q.post)return le=new Stream$1(Q["CFF "].data),ne=new CFFFont(le,b),adjustWidths(b),this.convert(d,ne,b);delete Q.glyf,delete Q.loca,delete Q.fpgm,delete Q.prep,delete Q["cvt "],this.isOpenType=!0}if(!Q.maxp)throw new FormatError('Required "maxp" table is not found');x.pos=(x.start||0)+Q.maxp.offset;let be=x.getInt32();const me=x.getUint16();if(be!==65536&&be!==20480){if(Q.maxp.length===6)be=20480;else if(Q.maxp.length>=32)be=65536;else throw new FormatError('"maxp" table has a wrong version number');writeUint32(Q.maxp.data,0,be)}if(b.scaleFactors?.length===me&&fe){const{scaleFactors:De}=b,_e=int16(Q.head.data[50],Q.head.data[51]),Pe=new GlyfTable({glyfTable:Q.glyf.data,isGlyphLocationsLong:_e,locaTable:Q.loca.data,numGlyphs:me});Pe.scale(De);const{glyf:re,loca:ae,isLocationLong:Y}=Pe.write();Q.glyf.data=re,Q.loca.data=ae,Y!==!!_e&&(Q.head.data[50]=0,Q.head.data[51]=Y?1:0);const W=Q.hmtx.data;for(let ee=0;ee<me;ee++){const J=4*ee,te=Math.round(De[ee]*int16(W[J],W[J+1]));W[J]=te>>8&255,W[J+1]=te&255;const X=Math.round(De[ee]*signedInt16(W[J+2],W[J+3]));writeSignedInt16(W,J+2,X)}}let we=me+1,oe=!0;we>65535&&(oe=!1,we=me,warn("Not enough space in glyfs to duplicate first glyph."));let ge=0,Ae=0;be>=65536&&Q.maxp.length>=32&&(x.pos+=8,x.getUint16()>2&&(Q.maxp.data[14]=0,Q.maxp.data[15]=2),x.pos+=4,ge=x.getUint16(),x.pos+=4,Ae=x.getUint16()),Q.maxp.data[4]=we>>8,Q.maxp.data[5]=we&255;const Ce=K(Q.fpgm,Q.prep,Q["cvt "],ge);if(Ce||(delete Q.fpgm,delete Q.prep,delete Q["cvt "]),M(x,Q.hhea,Q.hmtx,Q.head,we,oe),!Q.head)throw new FormatError('Required "head" table is not found');R(Q.head,me,fe?Q.loca.length:0);let Ne=Object.create(null);if(fe){const De=int16(Q.head.data[50],Q.head.data[51]),_e=U(Q.loca,Q.glyf,me,De,Ce,oe,Ae);Ne=_e.missingGlyphs,be>=65536&&Q.maxp.length>=32&&(Q.maxp.data[26]=_e.maxSizeOfInstructions>>8,Q.maxp.data[27]=_e.maxSizeOfInstructions&255)}if(!Q.hhea)throw new FormatError('Required "hhea" table is not found');Q.hhea.data[10]===0&&Q.hhea.data[11]===0&&(Q.hhea.data[10]=255,Q.hhea.data[11]=255);const Oe={unitsPerEm:int16(Q.head.data[18],Q.head.data[19]),yMax:signedInt16(Q.head.data[42],Q.head.data[43]),yMin:signedInt16(Q.head.data[38],Q.head.data[39]),ascent:signedInt16(Q.hhea.data[4],Q.hhea.data[5]),descent:signedInt16(Q.hhea.data[6],Q.hhea.data[7]),lineGap:signedInt16(Q.hhea.data[8],Q.hhea.data[9])};this.ascent=Oe.ascent/Oe.unitsPerEm,this.descent=Oe.descent/Oe.unitsPerEm,this.lineGap=Oe.lineGap/Oe.unitsPerEm,this.cssFontInfo?.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Q.post&&j(Q.post,b,me),Q.post={tag:"post",data:createPostTable(b)};const Be=[];function Ie(De){return!Ne[De]}if(b.composite){const De=b.cidToGidMap||[],_e=De.length===0;b.cMap.forEach(function(Pe,re){if(typeof re=="string"&&(re=convertCidString(Pe,re,!0)),re>65535)throw new FormatError("Max size of CID is 65,535");let ae=-1;_e?ae=re:De[re]!==void 0&&(ae=De[re]),ae>=0&&ae<me&&Ie(ae)&&(Be[Pe]=ae)})}else{const De=D(Q.cmap,x,this.isSymbolicFont,b.hasEncoding),_e=De.platformId,Pe=De.encodingId,re=De.mappings;let ae=[],Y=!1;if(b.hasEncoding&&(b.baseEncodingName==="MacRomanEncoding"||b.baseEncodingName==="WinAnsiEncoding")&&(ae=getEncoding(b.baseEncodingName)),b.hasEncoding&&!this.isSymbolicFont&&(_e===3&&Pe===1||_e===1&&Pe===0)){const W=getGlyphsUnicode();for(let ee=0;ee<256;ee++){let J;if(this.differences[ee]!==void 0?J=this.differences[ee]:ae.length&&ae[ee]!==""?J=ae[ee]:J=StandardEncoding[ee],!J)continue;const te=recoverGlyphName(J,W);let X;if(_e===3&&Pe===1?X=W[te]:_e===1&&Pe===0&&(X=MacRomanEncoding.indexOf(te)),X===void 0){if(!b.glyphNames&&b.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof IdentityToUnicodeMap)){const he=this.toUnicode.get(ee);he&&(X=he.codePointAt(0))}if(X===void 0)continue}for(const he of re)if(he.charCode===X){Be[ee]=he.glyphId;break}}}else if(_e===0){for(const W of re)Be[W.charCode]=W.glyphId;Y=!0}else for(const W of re){let ee=W.charCode;_e===3&&ee>=61440&&ee<=61695&&(ee&=255),Be[ee]=W.glyphId}if(b.glyphNames&&(ae.length||this.differences.length))for(let W=0;W<256;++W){if(!Y&&Be[W]!==void 0)continue;const ee=this.differences[W]||ae[W];if(!ee)continue;const J=b.glyphNames.indexOf(ee);J>0&&Ie(J)&&(Be[W]=J)}}Be.length===0&&(Be[0]=0);let Ee=we-1;if(oe||(Ee=0),!b.cssFontInfo){const De=adjustMapping(Be,Ie,Ee,this.toUnicode);this.toFontChar=De.toFontChar,Q.cmap={tag:"cmap",data:createCmapTable(De.charCodeToGlyphId,De.toUnicodeExtraMap,we)},(!Q["OS/2"]||!validateOS2Table(Q["OS/2"],x))&&(Q["OS/2"]={tag:"OS/2",data:createOS2Table(b,De.charCodeToGlyphId,Oe)})}if(!fe)try{le=new Stream$1(Q["CFF "].data),ne=new CFFParser(le,b,SEAC_ANALYSIS_ENABLED).parse(),ne.duplicateFirstGlyph();const _e=new CFFCompiler(ne);Q["CFF "].data=_e.compile()}catch{warn("Failed to compile font "+b.loadedName)}if(!Q.name)Q.name={tag:"name",data:createNameTable(this.name)};else{const[De,_e]=H(Q.name);Q.name.data=createNameTable(d,De),this.psName=De[0][6]||null,b.composite||adjustTrueTypeToUnicode(b,this.isSymbolicFont,_e)}const Ue=new OpenTypeFileBuilder(Z.version);for(const De in Q)Ue.addTable(De,Q[De].data);return Ue.toArray()}convert(d,x,b){b.fixedPitch=!1,b.builtInEncoding&&adjustType1ToUnicode(b,b.builtInEncoding);let w=1;x instanceof CFFFont&&(w=x.numGlyphs-1);const S=x.getGlyphMapping(b);let C=null,F=S,E=null;b.cssFontInfo||(C=adjustMapping(S,x.hasGlyphId.bind(x),w,this.toUnicode),this.toFontChar=C.toFontChar,F=C.charCodeToGlyphId,E=C.toUnicodeExtraMap);const k=x.numGlyphs;function D(j,H){let z=null;for(const V in j)H===j[V]&&(z||=[]).push(V|0);return z}function M(j,H){for(const z in j)if(H===j[z])return z|0;return C.charCodeToGlyphId[C.nextAvailableFontCharCode]=H,C.nextAvailableFontCharCode++}const L=x.seacs;if(C&&SEAC_ANALYSIS_ENABLED&&L?.length){const j=b.fontMatrix||FONT_IDENTITY_MATRIX,H=x.getCharset(),z=Object.create(null);for(let V in L){V|=0;const G=L[V],$=StandardEncoding[G[2]],K=StandardEncoding[G[3]],Z=H.indexOf($),Q=H.indexOf(K);if(Z<0||Q<0)continue;const ne={x:G[0]*j[0]+G[1]*j[2]+j[4],y:G[0]*j[1]+G[1]*j[3]+j[5]},le=D(S,V);if(le)for(const fe of le){const be=C.charCodeToGlyphId,me=M(be,Z),we=M(be,Q);z[fe]={baseFontCharCode:me,accentFontCharCode:we,accentOffset:ne}}}b.seacMap=z}const R=1/(b.fontMatrix||FONT_IDENTITY_MATRIX)[0],U=new OpenTypeFileBuilder("OTTO");return U.addTable("CFF ",x.data),U.addTable("OS/2",createOS2Table(b,F)),U.addTable("cmap",createCmapTable(F,E,k)),U.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+safeString16(R)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+safeString16(b.descent)+"ÿ"+safeString16(b.ascent)+string16(b.italicAngle?2:0)+"\0\0\0\0\0\0\0"),U.addTable("hhea","\0\0\0"+safeString16(b.ascent)+safeString16(b.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+safeString16(b.capHeight)+safeString16(Math.tan(b.italicAngle)*b.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+string16(k)),U.addTable("hmtx",function(){const H=x.charstrings,z=x.cff?x.cff.widths:null;let V="\0\0\0\0";for(let G=1,$=k;G<$;G++){let K=0;if(H){const Z=H[G-1];K="width"in Z?Z.width:0}else z&&(K=Math.ceil(z[G]||0));V+=string16(K)+string16(0)}return V}()),U.addTable("maxp","\0\0P\0"+string16(k)),U.addTable("name",createNameTable(d)),U.addTable("post",createPostTable(b)),U.toArray()}get spaceWidth(){const d=["space","minus","one","i","I"];let x;for(const b of d){if(b in this.widths){x=this.widths[b];break}const S=getGlyphsUnicode()[b];let C=0;if(this.composite&&this.cMap.contains(S)&&(C=this.cMap.lookup(S),typeof C=="string"&&(C=convertCidString(S,C))),!C&&this.toUnicode&&(C=this.toUnicode.charCodeOf(S)),C<=0&&(C=S),x=this.widths[C],x)break}return shadow(this,"spaceWidth",x||this.defaultWidth)}_charToGlyph(d,x=!1){let b=this._glyphCache[d];if(b?.isSpace===x)return b;let w,S,C,F=d;this.cMap?.contains(d)&&(F=this.cMap.lookup(d),typeof F=="string"&&(F=convertCidString(d,F))),S=this.widths[F],typeof S!="number"&&(S=this.defaultWidth);const E=this.vmetrics?.[F];let k=this.toUnicode.get(d)||d;typeof k=="number"&&(k=String.fromCharCode(k));let D=this.toFontChar[d]!==void 0;if(w=this.toFontChar[d]||d,this.missingFile){const R=this.differences[d]||this.defaultEncoding[d];(R===".notdef"||R==="")&&this.type==="Type1"&&(w=32),w=mapSpecialUnicodeValues(w)}this.isType3Font&&(C=w);let M=null;if(this.seacMap?.[d]){D=!0;const R=this.seacMap[d];w=R.baseFontCharCode,M={fontChar:String.fromCodePoint(R.accentFontCharCode),offset:R.accentOffset}}let L="";return typeof w=="number"&&(w<=1114111?L=String.fromCodePoint(w):warn(`charToGlyph - invalid fontCharCode: ${w}`)),b=new fonts_Glyph(d,L,k,M,S,E,C,x,D),this._glyphCache[d]=b}charsToGlyphs(d){let x=this._charsCache[d];if(x)return x;if(x=[],this.cMap){const b=Object.create(null),w=d.length;let S=0;for(;S<w;){this.cMap.readCharCode(d,S,b);const{charcode:C,length:F}=b;S+=F;const E=this._charToGlyph(C,F===1&&d.charCodeAt(S-1)===32);x.push(E)}}else for(let b=0,w=d.length;b<w;++b){const S=d.charCodeAt(b),C=this._charToGlyph(S,S===32);x.push(C)}return this._charsCache[d]=x}getCharPositions(d){const x=[];if(this.cMap){const b=Object.create(null);let w=0;for(;w<d.length;){this.cMap.readCharCode(d,w,b);const S=b.length;x.push([w,w+S]),w+=S}}else for(let b=0,w=d.length;b<w;++b)x.push([b,b+1]);return x}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(d){const x=[],b=[],w=()=>x.length%2===1,S=this.toUnicode instanceof IdentityToUnicodeMap?C=>this.toUnicode.charCodeOf(C):C=>this.toUnicode.charCodeOf(String.fromCodePoint(C));for(let C=0,F=d.length;C<F;C++){const E=d.codePointAt(C);if(E>55295&&(E<57344||E>65533)&&C++,this.toUnicode){const k=S(E);if(k!==-1){w()&&(x.push(b.join("")),b.length=0);const D=this.cMap?this.cMap.getCharCodeLength(k):1;for(let M=D-1;M>=0;M--)b.push(String.fromCharCode(k>>8*M&255));continue}}w()||(x.push(b.join("")),b.length=0),b.push(String.fromCodePoint(E))}return x.push(b.join("")),x}};class ErrorFont{constructor(d){this.error=d,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(d){return[d]}exportData(d=!1){return{error:this.error}}}const ShadingType={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Pattern{constructor(){unreachable("Cannot initialize Pattern.")}static parseShading(d,x,b,w,S){const C=d instanceof BaseStream?d.dict:d,F=C.get("ShadingType");try{switch(F){case ShadingType.AXIAL:case ShadingType.RADIAL:return new RadialAxialShading(C,x,b,w,S);case ShadingType.FREE_FORM_MESH:case ShadingType.LATTICE_FORM_MESH:case ShadingType.COONS_PATCH_MESH:case ShadingType.TENSOR_PATCH_MESH:return new MeshShading(d,x,b,w,S);default:throw new FormatError("Unsupported ShadingType: "+F)}}catch(E){if(E instanceof MissingDataException)throw E;return warn(E),new DummyShading}}}class BaseShading{static SMALL_NUMBER=1e-6;constructor(){this.constructor===BaseShading&&unreachable("Cannot initialize BaseShading.")}getIR(){unreachable("Abstract method `getIR` called.")}}class RadialAxialShading extends BaseShading{constructor(d,x,b,w,S){super(),this.coordsArr=d.getArray("Coords"),this.shadingType=d.get("ShadingType");const C=ColorSpace$1.parse({cs:d.getRaw("CS")||d.getRaw("ColorSpace"),xref:x,resources:b,pdfFunctionFactory:w,localColorSpaceCache:S}),F=d.getArray("BBox");this.bbox=Array.isArray(F)&&F.length===4?Util.normalizeRect(F):null;let E=0,k=1;if(d.has("Domain")){const Ce=d.getArray("Domain");E=Ce[0],k=Ce[1]}let D=!1,M=!1;if(d.has("Extend")){const Ce=d.getArray("Extend");D=Ce[0],M=Ce[1]}if(this.shadingType===ShadingType.RADIAL&&(!D||!M)){const[Ce,Ne,Oe,Be,Ie,Ee]=this.coordsArr,Ue=Math.hypot(Ce-Be,Ne-Ie);Oe<=Ee+Ue&&Ee<=Oe+Ue&&warn("Unsupported radial gradient.")}this.extendStart=D,this.extendEnd=M;const L=d.getRaw("Function"),R=w.createFromArray(L),U=840,j=(k-E)/U,H=this.colorStops=[];if(E>=k||j<=0){info("Bad shading domain.");return}const z=new Float32Array(C.numComps),V=new Float32Array(1);let G,$=0;V[0]=E,R(V,0,z,0);let K=C.getRgb(z,0);const Z=Util.makeHexColor(K[0],K[1],K[2]);H.push([0,Z]);let Q=1;V[0]=E+j,R(V,0,z,0);let ne=C.getRgb(z,0),le=ne[0]-K[0]+1,fe=ne[1]-K[1]+1,be=ne[2]-K[2]+1,me=ne[0]-K[0]-1,we=ne[1]-K[1]-1,oe=ne[2]-K[2]-1;for(let Ce=2;Ce<U;Ce++){V[0]=E+Ce*j,R(V,0,z,0),G=C.getRgb(z,0);const Ne=Ce-$;if(le=Math.min(le,(G[0]-K[0]+1)/Ne),fe=Math.min(fe,(G[1]-K[1]+1)/Ne),be=Math.min(be,(G[2]-K[2]+1)/Ne),me=Math.max(me,(G[0]-K[0]-1)/Ne),we=Math.max(we,(G[1]-K[1]-1)/Ne),oe=Math.max(oe,(G[2]-K[2]-1)/Ne),!(me<=le&&we<=fe&&oe<=be)){const Be=Util.makeHexColor(ne[0],ne[1],ne[2]);H.push([Q/U,Be]),le=G[0]-ne[0]+1,fe=G[1]-ne[1]+1,be=G[2]-ne[2]+1,me=G[0]-ne[0]-1,we=G[1]-ne[1]-1,oe=G[2]-ne[2]-1,$=Q,K=ne}Q=Ce,ne=G}const ge=Util.makeHexColor(ne[0],ne[1],ne[2]);H.push([1,ge]);let Ae="transparent";d.has("Background")&&(G=C.getRgb(d.get("Background"),0),Ae=Util.makeHexColor(G[0],G[1],G[2])),D||(H.unshift([0,Ae]),H[1][0]+=BaseShading.SMALL_NUMBER),M||(H.at(-1)[0]-=BaseShading.SMALL_NUMBER,H.push([1,Ae])),this.colorStops=H}getIR(){const d=this.coordsArr,x=this.shadingType;let b,w,S,C,F;return x===ShadingType.AXIAL?(w=[d[0],d[1]],S=[d[2],d[3]],C=null,F=null,b="axial"):x===ShadingType.RADIAL?(w=[d[0],d[1]],S=[d[3],d[4]],C=d[2],F=d[5],b="radial"):unreachable(`getPattern type unknown: ${x}`),["RadialAxial",b,this.bbox,this.colorStops,w,S,C,F]}}class MeshStreamReader{constructor(d,x){this.stream=d,this.context=x,this.buffer=0,this.bufferLength=0;const b=x.numComps;this.tmpCompsBuf=new Float32Array(b);const w=x.colorSpace.numComps;this.tmpCsCompsBuf=x.colorFn?new Float32Array(w):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const d=this.stream.getByte();return d<0?!1:(this.buffer=d,this.bufferLength=8,!0)}readBits(d){let x=this.buffer,b=this.bufferLength;if(d===32){if(b===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;x=x<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const w=this.stream.getByte();return this.buffer=w&(1<<b)-1,(x<<8-b|(w&255)>>b)>>>0}if(d===8&&b===0)return this.stream.getByte();for(;b<d;)x=x<<8|this.stream.getByte(),b+=8;return b-=d,this.bufferLength=b,this.buffer=x&(1<<b)-1,x>>b}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const d=this.context.bitsPerCoordinate,x=this.readBits(d),b=this.readBits(d),w=this.context.decode,S=d<32?1/((1<<d)-1):23283064365386963e-26;return[x*S*(w[1]-w[0])+w[0],b*S*(w[3]-w[2])+w[2]]}readComponents(){const d=this.context.numComps,x=this.context.bitsPerComponent,b=x<32?1/((1<<x)-1):23283064365386963e-26,w=this.context.decode,S=this.tmpCompsBuf;for(let F=0,E=4;F<d;F++,E+=2){const k=this.readBits(x);S[F]=k*b*(w[E+1]-w[E])+w[E]}const C=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(S,0,C,0),this.context.colorSpace.getRgb(C,0)}}let bCache=Object.create(null);function buildB(g){const d=[];for(let x=0;x<=g;x++){const b=x/g,w=1-b;d.push(new Float32Array([w**3,3*b*w**2,3*b**2*w,b**3]))}return d}function getB(g){return bCache[g]||=buildB(g)}function clearPatternCaches(){bCache=Object.create(null)}class MeshShading extends BaseShading{static MIN_SPLIT_PATCH_CHUNKS_AMOUNT=3;static MAX_SPLIT_PATCH_CHUNKS_AMOUNT=20;static TRIANGLE_DENSITY=20;constructor(d,x,b,w,S){if(super(),!(d instanceof BaseStream))throw new FormatError("Mesh data is not a stream");const C=d.dict;this.shadingType=C.get("ShadingType");const F=C.getArray("BBox");this.bbox=Array.isArray(F)&&F.length===4?Util.normalizeRect(F):null;const E=ColorSpace$1.parse({cs:C.getRaw("CS")||C.getRaw("ColorSpace"),xref:x,resources:b,pdfFunctionFactory:w,localColorSpaceCache:S});this.background=C.has("Background")?E.getRgb(C.get("Background"),0):null;const k=C.getRaw("Function"),D=k?w.createFromArray(k):null;this.coords=[],this.colors=[],this.figures=[];const M={bitsPerCoordinate:C.get("BitsPerCoordinate"),bitsPerComponent:C.get("BitsPerComponent"),bitsPerFlag:C.get("BitsPerFlag"),decode:C.getArray("Decode"),colorFn:D,colorSpace:E,numComps:D?1:E.numComps},L=new MeshStreamReader(d,M);let R=!1;switch(this.shadingType){case ShadingType.FREE_FORM_MESH:this._decodeType4Shading(L);break;case ShadingType.LATTICE_FORM_MESH:const U=C.get("VerticesPerRow")|0;if(U<2)throw new FormatError("Invalid VerticesPerRow");this._decodeType5Shading(L,U);break;case ShadingType.COONS_PATCH_MESH:this._decodeType6Shading(L),R=!0;break;case ShadingType.TENSOR_PATCH_MESH:this._decodeType7Shading(L),R=!0;break;default:unreachable("Unsupported mesh type.");break}if(R){this._updateBounds();for(let U=0,j=this.figures.length;U<j;U++)this._buildFigureFromPatch(U)}this._updateBounds(),this._packData()}_decodeType4Shading(d){const x=this.coords,b=this.colors,w=[];let S=0;for(;d.hasData;){const C=d.readFlag(),F=d.readCoordinate(),E=d.readComponents();if(S===0){if(!(0<=C&&C<=2))throw new FormatError("Unknown type4 flag");switch(C){case 0:S=3;break;case 1:w.push(w.at(-2),w.at(-1)),S=1;break;case 2:w.push(w.at(-3),w.at(-1)),S=1;break}}w.push(x.length),x.push(F),b.push(E),S--,d.align()}this.figures.push({type:"triangles",coords:new Int32Array(w),colors:new Int32Array(w)})}_decodeType5Shading(d,x){const b=this.coords,w=this.colors,S=[];for(;d.hasData;){const C=d.readCoordinate(),F=d.readComponents();S.push(b.length),b.push(C),w.push(F)}this.figures.push({type:"lattice",coords:new Int32Array(S),colors:new Int32Array(S),verticesPerRow:x})}_decodeType6Shading(d){const x=this.coords,b=this.colors,w=new Int32Array(16),S=new Int32Array(4);for(;d.hasData;){const C=d.readFlag();if(!(0<=C&&C<=3))throw new FormatError("Unknown type6 flag");const F=x.length;for(let R=0,U=C!==0?8:12;R<U;R++)x.push(d.readCoordinate());const E=b.length;for(let R=0,U=C!==0?2:4;R<U;R++)b.push(d.readComponents());let k,D,M,L;switch(C){case 0:w[12]=F+3,w[13]=F+4,w[14]=F+5,w[15]=F+6,w[8]=F+2,w[11]=F+7,w[4]=F+1,w[7]=F+8,w[0]=F,w[1]=F+11,w[2]=F+10,w[3]=F+9,S[2]=E+1,S[3]=E+2,S[0]=E,S[1]=E+3;break;case 1:k=w[12],D=w[13],M=w[14],L=w[15],w[12]=L,w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=M,w[11]=F+3,w[4]=D,w[7]=F+4,w[0]=k,w[1]=F+7,w[2]=F+6,w[3]=F+5,k=S[2],D=S[3],S[2]=D,S[3]=E,S[0]=k,S[1]=E+1;break;case 2:k=w[15],D=w[11],w[12]=w[3],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[7],w[11]=F+3,w[4]=D,w[7]=F+4,w[0]=k,w[1]=F+7,w[2]=F+6,w[3]=F+5,k=S[3],S[2]=S[1],S[3]=E,S[0]=k,S[1]=E+1;break;case 3:w[12]=w[0],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[1],w[11]=F+3,w[4]=w[2],w[7]=F+4,w[0]=w[3],w[1]=F+7,w[2]=F+6,w[3]=F+5,S[2]=S[0],S[3]=E,S[0]=S[1],S[1]=E+1;break}w[5]=x.length,x.push([(-4*x[w[0]][0]-x[w[15]][0]+6*(x[w[4]][0]+x[w[1]][0])-2*(x[w[12]][0]+x[w[3]][0])+3*(x[w[13]][0]+x[w[7]][0]))/9,(-4*x[w[0]][1]-x[w[15]][1]+6*(x[w[4]][1]+x[w[1]][1])-2*(x[w[12]][1]+x[w[3]][1])+3*(x[w[13]][1]+x[w[7]][1]))/9]),w[6]=x.length,x.push([(-4*x[w[3]][0]-x[w[12]][0]+6*(x[w[2]][0]+x[w[7]][0])-2*(x[w[0]][0]+x[w[15]][0])+3*(x[w[4]][0]+x[w[14]][0]))/9,(-4*x[w[3]][1]-x[w[12]][1]+6*(x[w[2]][1]+x[w[7]][1])-2*(x[w[0]][1]+x[w[15]][1])+3*(x[w[4]][1]+x[w[14]][1]))/9]),w[9]=x.length,x.push([(-4*x[w[12]][0]-x[w[3]][0]+6*(x[w[8]][0]+x[w[13]][0])-2*(x[w[0]][0]+x[w[15]][0])+3*(x[w[11]][0]+x[w[1]][0]))/9,(-4*x[w[12]][1]-x[w[3]][1]+6*(x[w[8]][1]+x[w[13]][1])-2*(x[w[0]][1]+x[w[15]][1])+3*(x[w[11]][1]+x[w[1]][1]))/9]),w[10]=x.length,x.push([(-4*x[w[15]][0]-x[w[0]][0]+6*(x[w[11]][0]+x[w[14]][0])-2*(x[w[12]][0]+x[w[3]][0])+3*(x[w[2]][0]+x[w[8]][0]))/9,(-4*x[w[15]][1]-x[w[0]][1]+6*(x[w[11]][1]+x[w[14]][1])-2*(x[w[12]][1]+x[w[3]][1])+3*(x[w[2]][1]+x[w[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(w),colors:new Int32Array(S)})}}_decodeType7Shading(d){const x=this.coords,b=this.colors,w=new Int32Array(16),S=new Int32Array(4);for(;d.hasData;){const C=d.readFlag();if(!(0<=C&&C<=3))throw new FormatError("Unknown type7 flag");const F=x.length;for(let R=0,U=C!==0?12:16;R<U;R++)x.push(d.readCoordinate());const E=b.length;for(let R=0,U=C!==0?2:4;R<U;R++)b.push(d.readComponents());let k,D,M,L;switch(C){case 0:w[12]=F+3,w[13]=F+4,w[14]=F+5,w[15]=F+6,w[8]=F+2,w[9]=F+13,w[10]=F+14,w[11]=F+7,w[4]=F+1,w[5]=F+12,w[6]=F+15,w[7]=F+8,w[0]=F,w[1]=F+11,w[2]=F+10,w[3]=F+9,S[2]=E+1,S[3]=E+2,S[0]=E,S[1]=E+3;break;case 1:k=w[12],D=w[13],M=w[14],L=w[15],w[12]=L,w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=M,w[9]=F+9,w[10]=F+10,w[11]=F+3,w[4]=D,w[5]=F+8,w[6]=F+11,w[7]=F+4,w[0]=k,w[1]=F+7,w[2]=F+6,w[3]=F+5,k=S[2],D=S[3],S[2]=D,S[3]=E,S[0]=k,S[1]=E+1;break;case 2:k=w[15],D=w[11],w[12]=w[3],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[7],w[9]=F+9,w[10]=F+10,w[11]=F+3,w[4]=D,w[5]=F+8,w[6]=F+11,w[7]=F+4,w[0]=k,w[1]=F+7,w[2]=F+6,w[3]=F+5,k=S[3],S[2]=S[1],S[3]=E,S[0]=k,S[1]=E+1;break;case 3:w[12]=w[0],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[1],w[9]=F+9,w[10]=F+10,w[11]=F+3,w[4]=w[2],w[5]=F+8,w[6]=F+11,w[7]=F+4,w[0]=w[3],w[1]=F+7,w[2]=F+6,w[3]=F+5,S[2]=S[0],S[3]=E,S[0]=S[1],S[1]=E+1;break}this.figures.push({type:"patch",coords:new Int32Array(w),colors:new Int32Array(S)})}}_buildFigureFromPatch(d){const x=this.figures[d];assert(x.type==="patch","Unexpected patch mesh figure");const b=this.coords,w=this.colors,S=x.coords,C=x.colors,F=Math.min(b[S[0]][0],b[S[3]][0],b[S[12]][0],b[S[15]][0]),E=Math.min(b[S[0]][1],b[S[3]][1],b[S[12]][1],b[S[15]][1]),k=Math.max(b[S[0]][0],b[S[3]][0],b[S[12]][0],b[S[15]][0]),D=Math.max(b[S[0]][1],b[S[3]][1],b[S[12]][1],b[S[15]][1]);let M=Math.ceil((k-F)*MeshShading.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));M=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,M));let L=Math.ceil((D-E)*MeshShading.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));L=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,L));const R=M+1,U=new Int32Array((L+1)*R),j=new Int32Array((L+1)*R);let H=0;const z=new Uint8Array(3),V=new Uint8Array(3),G=w[C[0]],$=w[C[1]],K=w[C[2]],Z=w[C[3]],Q=getB(L),ne=getB(M);for(let le=0;le<=L;le++){z[0]=(G[0]*(L-le)+K[0]*le)/L|0,z[1]=(G[1]*(L-le)+K[1]*le)/L|0,z[2]=(G[2]*(L-le)+K[2]*le)/L|0,V[0]=($[0]*(L-le)+Z[0]*le)/L|0,V[1]=($[1]*(L-le)+Z[1]*le)/L|0,V[2]=($[2]*(L-le)+Z[2]*le)/L|0;for(let fe=0;fe<=M;fe++,H++){if((le===0||le===L)&&(fe===0||fe===M))continue;let be=0,me=0,we=0;for(let ge=0;ge<=3;ge++)for(let Ae=0;Ae<=3;Ae++,we++){const Ce=Q[le][ge]*ne[fe][Ae];be+=b[S[we]][0]*Ce,me+=b[S[we]][1]*Ce}U[H]=b.length,b.push([be,me]),j[H]=w.length;const oe=new Uint8Array(3);oe[0]=(z[0]*(M-fe)+V[0]*fe)/M|0,oe[1]=(z[1]*(M-fe)+V[1]*fe)/M|0,oe[2]=(z[2]*(M-fe)+V[2]*fe)/M|0,w.push(oe)}}U[0]=S[0],j[0]=C[0],U[M]=S[3],j[M]=C[1],U[R*L]=S[12],j[R*L]=C[2],U[R*L+M]=S[15],j[R*L+M]=C[3],this.figures[d]={type:"lattice",coords:U,colors:j,verticesPerRow:R}}_updateBounds(){let d=this.coords[0][0],x=this.coords[0][1],b=d,w=x;for(let S=1,C=this.coords.length;S<C;S++){const F=this.coords[S][0],E=this.coords[S][1];d=d>F?F:d,x=x>E?E:x,b=b<F?F:b,w=w<E?E:w}this.bounds=[d,x,b,w]}_packData(){let d,x,b,w;const S=this.coords,C=new Float32Array(S.length*2);for(d=0,b=0,x=S.length;d<x;d++){const D=S[d];C[b++]=D[0],C[b++]=D[1]}this.coords=C;const F=this.colors,E=new Uint8Array(F.length*3);for(d=0,b=0,x=F.length;d<x;d++){const D=F[d];E[b++]=D[0],E[b++]=D[1],E[b++]=D[2]}this.colors=E;const k=this.figures;for(d=0,x=k.length;d<x;d++){const D=k[d],M=D.coords,L=D.colors;for(b=0,w=M.length;b<w;b++)M[b]*=2,L[b]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class DummyShading extends BaseShading{getIR(){return["Dummy"]}}function getTilingPatternIR(g,d,x){const b=d.getArray("Matrix"),w=Util.normalizeRect(d.getArray("BBox")),S=d.get("XStep"),C=d.get("YStep"),F=d.get("PaintType"),E=d.get("TilingType");if(w[2]-w[0]===0||w[3]-w[1]===0)throw new FormatError(`Invalid getTilingPatternIR /BBox array: [${w}].`);return["TilingPattern",x,g,b,w,S,C,F,E]}const CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207},HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2},LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2},SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0},getXFAFontMap=getLookupTableFactory(function(g){g["MyriadPro-Regular"]=g["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:MyriadProRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:MyriadProRegularMetrics},g["MyriadPro-Bold"]=g["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:MyriadProBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:MyriadProBoldMetrics},g["MyriadPro-It"]=g["MyriadPro-Italic"]=g["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:MyriadProItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:MyriadProItalicMetrics},g["MyriadPro-BoldIt"]=g["MyriadPro-BoldItalic"]=g["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:MyriadProBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:MyriadProBoldItalicMetrics},g.ArialMT=g.Arial=g["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping},g["Arial-BoldMT"]=g["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping},g["Arial-ItalicMT"]=g["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping},g["Arial-BoldItalicMT"]=g["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping},g["Calibri-Regular"]={name:"LiberationSans-Regular",factors:CalibriRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:CalibriRegularMetrics},g["Calibri-Bold"]={name:"LiberationSans-Bold",factors:CalibriBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:CalibriBoldMetrics},g["Calibri-Italic"]={name:"LiberationSans-Italic",factors:CalibriItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:CalibriItalicMetrics},g["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:CalibriBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:CalibriBoldItalicMetrics},g["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:SegoeuiRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:SegoeuiRegularMetrics},g["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:SegoeuiBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:SegoeuiBoldMetrics},g["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:SegoeuiItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:SegoeuiItalicMetrics},g["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:SegoeuiBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:SegoeuiBoldItalicMetrics},g["Helvetica-Regular"]=g.Helvetica={name:"LiberationSans-Regular",factors:HelveticaRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:HelveticaRegularMetrics},g["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:HelveticaBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:HelveticaBoldMetrics},g["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:HelveticaItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:HelveticaItalicMetrics},g["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:HelveticaBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:HelveticaBoldItalicMetrics}});function getXfaFontName(g){const d=normalizeFontName(g);return getXFAFontMap()[d]}function getXfaFontWidths(g){const d=getXfaFontName(g);if(!d)return null;const{baseWidths:x,baseMapping:b,factors:w}=d,S=w?x.map((k,D)=>k*w[D]):x;let C=-2,F;const E=[];for(const[k,D]of b.map((M,L)=>[M,L]).sort(([M],[L])=>M-L))k!==-1&&(k===C+1?(F.push(S[D]),C+=1):(C=k,F=[S[D]],E.push(k,F)));return E}function getXfaFontDict(g){const d=getXfaFontWidths(g),x=new Dict(null);x.set("BaseFont",Name.get(g)),x.set("Type",Name.get("Font")),x.set("Subtype",Name.get("CIDFontType2")),x.set("Encoding",Name.get("Identity-H")),x.set("CIDToGIDMap",Name.get("Identity")),x.set("W",d),x.set("FirstChar",d[0]),x.set("LastChar",d.at(-2)+d.at(-1).length-1);const b=new Dict(null);x.set("FontDescriptor",b);const w=new Dict(null);return w.set("Ordering","Identity"),w.set("Registry","Adobe"),w.set("Supplement",0),x.set("CIDSystemInfo",w),x}class PostScriptParser{constructor(d){this.lexer=d,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(d){return this.token.type===d?(this.nextToken(),!0):!1}expect(d){if(this.accept(d))return!0;throw new FormatError(`Unexpected symbol: found ${this.token.type} expected ${d}.`)}parse(){return this.nextToken(),this.expect(PostScriptTokenTypes.LBRACE),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(PostScriptTokenTypes.NUMBER))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.LBRACE))this.parseCondition();else return}parseCondition(){const d=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.accept(PostScriptTokenTypes.IF))this.operators[d]=this.operators.length,this.operators[d+1]="jz";else if(this.accept(PostScriptTokenTypes.LBRACE)){const x=this.operators.length;this.operators.push(null,null);const b=this.operators.length;this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.expect(PostScriptTokenTypes.IFELSE),this.operators[x]=this.operators.length,this.operators[x+1]="j",this.operators[d]=b,this.operators[d+1]="jz"}else throw new FormatError("PS Function: error parsing conditional.")}}const PostScriptTokenTypes={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class PostScriptToken{static get opCache(){return shadow(this,"opCache",Object.create(null))}constructor(d,x){this.type=d,this.value=x}static getOperator(d){return PostScriptToken.opCache[d]||=new PostScriptToken(PostScriptTokenTypes.OPERATOR,d)}static get LBRACE(){return shadow(this,"LBRACE",new PostScriptToken(PostScriptTokenTypes.LBRACE,"{"))}static get RBRACE(){return shadow(this,"RBRACE",new PostScriptToken(PostScriptTokenTypes.RBRACE,"}"))}static get IF(){return shadow(this,"IF",new PostScriptToken(PostScriptTokenTypes.IF,"IF"))}static get IFELSE(){return shadow(this,"IFELSE",new PostScriptToken(PostScriptTokenTypes.IFELSE,"IFELSE"))}}class PostScriptLexer{constructor(d){this.stream=d,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let d=!1,x=this.currentChar;for(;;){if(x<0)return EOF;if(d)(x===10||x===13)&&(d=!1);else if(x===37)d=!0;else if(!isWhiteSpace(x))break;x=this.nextChar()}switch(x|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new PostScriptToken(PostScriptTokenTypes.NUMBER,this.getNumber());case 123:return this.nextChar(),PostScriptToken.LBRACE;case 125:return this.nextChar(),PostScriptToken.RBRACE}const b=this.strBuf;for(b.length=0,b[0]=String.fromCharCode(x);(x=this.nextChar())>=0&&(x>=65&&x<=90||x>=97&&x<=122);)b.push(String.fromCharCode(x));const w=b.join("");switch(w.toLowerCase()){case"if":return PostScriptToken.IF;case"ifelse":return PostScriptToken.IFELSE;default:return PostScriptToken.getOperator(w)}}getNumber(){let d=this.currentChar;const x=this.strBuf;for(x.length=0,x[0]=String.fromCharCode(d);(d=this.nextChar())>=0&&(d>=48&&d<=57||d===45||d===46);)x.push(String.fromCharCode(d));const b=parseFloat(x.join(""));if(isNaN(b))throw new FormatError(`Invalid floating point number: ${b}`);return b}}class BaseLocalCache{constructor(d){this.constructor===BaseLocalCache&&unreachable("Cannot initialize BaseLocalCache."),this._onlyRefs=d?.onlyRefs===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new RefSetCache}getByName(d){this._onlyRefs&&unreachable("Should not call `getByName` method.");const x=this._nameRefMap.get(d);return x?this.getByRef(x):this._imageMap.get(d)||null}getByRef(d){return this._imageCache.get(d)||null}set(d,x,b){unreachable("Abstract method `set` called.")}}class LocalImageCache extends BaseLocalCache{set(d,x=null,b){if(typeof d!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(x){if(this._imageCache.has(x))return;this._nameRefMap.set(d,x),this._imageCache.put(x,b);return}this._imageMap.has(d)||this._imageMap.set(d,b)}}class LocalColorSpaceCache extends BaseLocalCache{set(d=null,x=null,b){if(typeof d!="string"&&!x)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(x){if(this._imageCache.has(x))return;d!==null&&this._nameRefMap.set(d,x),this._imageCache.put(x,b);return}this._imageMap.has(d)||this._imageMap.set(d,b)}}class LocalFunctionCache extends BaseLocalCache{constructor(d){super({onlyRefs:!0})}set(d=null,x,b){if(!x)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,b)}}class LocalGStateCache extends BaseLocalCache{set(d,x=null,b){if(typeof d!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(x){if(this._imageCache.has(x))return;this._nameRefMap.set(d,x),this._imageCache.put(x,b);return}this._imageMap.has(d)||this._imageMap.set(d,b)}}class LocalTilingPatternCache extends BaseLocalCache{constructor(d){super({onlyRefs:!0})}set(d=null,x,b){if(!x)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,b)}}class RegionalImageCache extends BaseLocalCache{constructor(d){super({onlyRefs:!0})}set(d=null,x,b){if(!x)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,b)}}class GlobalImageCache{static NUM_PAGES_THRESHOLD=2;static MIN_IMAGES_TO_CACHE=10;static MAX_BYTE_SIZE=5*MAX_IMAGE_SIZE_TO_CACHE;constructor(){this._refCache=new RefSetCache,this._imageCache=new RefSetCache}get _byteSize(){let d=0;for(const x of this._imageCache)d+=x.byteSize;return d}get _cacheLimitReached(){return!(this._imageCache.size<GlobalImageCache.MIN_IMAGES_TO_CACHE||this._byteSize<GlobalImageCache.MAX_BYTE_SIZE)}shouldCache(d,x){let b=this._refCache.get(d);return b||(b=new Set,this._refCache.put(d,b)),b.add(x),!(b.size<GlobalImageCache.NUM_PAGES_THRESHOLD||!this._imageCache.has(d)&&this._cacheLimitReached)}addByteSize(d,x){const b=this._imageCache.get(d);b&&(b.byteSize||(b.byteSize=x))}getData(d,x){const b=this._refCache.get(d);if(!b||b.size<GlobalImageCache.NUM_PAGES_THRESHOLD)return null;const w=this._imageCache.get(d);return w?(b.add(x),w):null}setData(d,x){if(!this._refCache.has(d))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(d)){if(this._cacheLimitReached){warn("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(d,x)}}clear(d=!1){d||this._refCache.clear(),this._imageCache.clear()}}class PDFFunctionFactory{constructor({xref:d,isEvalSupported:x=!0}){this.xref=d,this.isEvalSupported=x!==!1}create(d){const x=this.getCached(d);if(x)return x;const b=PDFFunction.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:d instanceof Ref?this.xref.fetch(d):d});return this._cache(d,b),b}createFromArray(d){const x=this.getCached(d);if(x)return x;const b=PDFFunction.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:d instanceof Ref?this.xref.fetch(d):d});return this._cache(d,b),b}getCached(d){let x;if(d instanceof Ref?x=d:d instanceof Dict?x=d.objId:d instanceof BaseStream&&(x=d.dict?.objId),x){const b=this._localFunctionCache.getByRef(x);if(b)return b}return null}_cache(d,x){if(!x)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let b;d instanceof Ref?b=d:d instanceof Dict?b=d.objId:d instanceof BaseStream&&(b=d.dict?.objId),b&&this._localFunctionCache.set(null,b,x)}get _localFunctionCache(){return shadow(this,"_localFunctionCache",new LocalFunctionCache)}}function toNumberArray(g){if(!Array.isArray(g))return null;const d=g.length;for(let x=0;x<d;x++)if(typeof g[x]!="number"){const b=new Array(d);for(let w=0;w<d;w++)b[w]=+g[w];return b}return g}class PDFFunction{static getSampleArray(d,x,b,w){let S,C,F=1;for(S=0,C=d.length;S<C;S++)F*=d[S];F*=x;const E=new Array(F);let k=0,D=0;const M=1/(2**b-1),L=w.getBytes((F*b+7)/8);let R=0;for(S=0;S<F;S++){for(;k<b;)D<<=8,D|=L[R++],k+=8;k-=b,E[S]=(D>>k)*M,D&=(1<<k)-1}return E}static parse({xref:d,isEvalSupported:x,fn:b}){const w=b.dict||b;switch(w.get("FunctionType")){case 0:return this.constructSampled({xref:d,isEvalSupported:x,fn:b,dict:w});case 1:break;case 2:return this.constructInterpolated({xref:d,isEvalSupported:x,dict:w});case 3:return this.constructStiched({xref:d,isEvalSupported:x,dict:w});case 4:return this.constructPostScript({xref:d,isEvalSupported:x,fn:b,dict:w})}throw new FormatError("Unknown type of function")}static parseArray({xref:d,isEvalSupported:x,fnObj:b}){if(!Array.isArray(b))return this.parse({xref:d,isEvalSupported:x,fn:b});const w=[];for(const S of b)w.push(this.parse({xref:d,isEvalSupported:x,fn:d.fetchIfRef(S)}));return function(S,C,F,E){for(let k=0,D=w.length;k<D;k++)w[k](S,C,F,E+k)}}static constructSampled({xref:d,isEvalSupported:x,fn:b,dict:w}){function S(z){const V=z.length,G=[];let $=0;for(let K=0;K<V;K+=2)G[$++]=[z[K],z[K+1]];return G}function C(z,V,G,$,K){return $+(z-V)*((K-$)/(G-V))}let F=toNumberArray(w.getArray("Domain")),E=toNumberArray(w.getArray("Range"));if(!F||!E)throw new FormatError("No domain or range");const k=F.length/2,D=E.length/2;F=S(F),E=S(E);const M=toNumberArray(w.getArray("Size")),L=w.get("BitsPerSample"),R=w.get("Order")||1;R!==1&&info("No support for cubic spline interpolation: "+R);let U=toNumberArray(w.getArray("Encode"));if(U)U=S(U);else{U=[];for(let z=0;z<k;++z)U.push([0,M[z]-1])}let j=toNumberArray(w.getArray("Decode"));j=j?S(j):E;const H=this.getSampleArray(M,D,L,b);return function(V,G,$,K){const Z=1<<k,Q=new Float64Array(Z),ne=new Uint32Array(Z);let le,fe;for(fe=0;fe<Z;fe++)Q[fe]=1;let be=D,me=1;for(le=0;le<k;++le){const we=F[le][0],oe=F[le][1],ge=Math.min(Math.max(V[G+le],we),oe);let Ae=C(ge,we,oe,U[le][0],U[le][1]);const Ce=M[le];Ae=Math.min(Math.max(Ae,0),Ce-1);const Ne=Ae<Ce-1?Math.floor(Ae):Ae-1,Oe=Ne+1-Ae,Be=Ae-Ne,Ie=Ne*be,Ee=Ie+be;for(fe=0;fe<Z;fe++)fe&me?(Q[fe]*=Be,ne[fe]+=Ee):(Q[fe]*=Oe,ne[fe]+=Ie);be*=Ce,me<<=1}for(fe=0;fe<D;++fe){let we=0;for(le=0;le<Z;le++)we+=H[ne[le]+fe]*Q[le];we=C(we,0,1,j[fe][0],j[fe][1]),$[K+fe]=Math.min(Math.max(we,E[fe][0]),E[fe][1])}}}static constructInterpolated({xref:d,isEvalSupported:x,dict:b}){const w=toNumberArray(b.getArray("C0"))||[0],S=toNumberArray(b.getArray("C1"))||[1],C=b.get("N"),F=[];for(let k=0,D=w.length;k<D;++k)F.push(S[k]-w[k]);const E=F.length;return function(D,M,L,R){const U=C===1?D[M]:D[M]**C;for(let j=0;j<E;++j)L[R+j]=w[j]+U*F[j]}}static constructStiched({xref:d,isEvalSupported:x,dict:b}){const w=toNumberArray(b.getArray("Domain"));if(!w)throw new FormatError("No domain");if(w.length/2!==1)throw new FormatError("Bad domain for stiched function");const C=[];for(const D of b.get("Functions"))C.push(this.parse({xref:d,isEvalSupported:x,fn:d.fetchIfRef(D)}));const F=toNumberArray(b.getArray("Bounds")),E=toNumberArray(b.getArray("Encode")),k=new Float32Array(1);return function(M,L,R,U){const H=function(ne,le,fe){return ne>fe?ne=fe:ne<le&&(ne=le),ne}(M[L],w[0],w[1]),z=F.length;let V;for(V=0;V<z&&!(H<F[V]);++V);let G=w[0];V>0&&(G=F[V-1]);let $=w[1];V<F.length&&($=F[V]);const K=E[2*V],Z=E[2*V+1];k[0]=G===$?K:K+(H-G)*(Z-K)/($-G),C[V](k,0,R,U)}}static constructPostScript({xref:d,isEvalSupported:x,fn:b,dict:w}){const S=toNumberArray(w.getArray("Domain")),C=toNumberArray(w.getArray("Range"));if(!S)throw new FormatError("No domain.");if(!C)throw new FormatError("No range.");const F=new PostScriptLexer(b),k=new PostScriptParser(F).parse();if(x&&FeatureTest.isEvalSupported){const z=new PostScriptCompiler().compile(k,S,C);if(z)return new Function("src","srcOffset","dest","destOffset",z)}info("Unable to compile PS function");const D=C.length>>1,M=S.length>>1,L=new PostScriptEvaluator(k),R=Object.create(null);let j=2048*4;const H=new Float32Array(M);return function(V,G,$,K){let Z,Q,ne="";const le=H;for(Z=0;Z<M;Z++)Q=V[G+Z],le[Z]=Q,ne+=Q+"_";const fe=R[ne];if(fe!==void 0){$.set(fe,K);return}const be=new Float32Array(D),me=L.execute(le),we=me.length-D;for(Z=0;Z<D;Z++){Q=me[we+Z];let oe=C[Z*2];Q<oe?Q=oe:(oe=C[Z*2+1],Q>oe&&(Q=oe)),be[Z]=Q}j>0&&(j--,R[ne]=be),$.set(be,K)}}}function isPDFFunction(g){let d;if(g instanceof Dict)d=g;else if(g instanceof BaseStream)d=g.dict;else return!1;return d.has("FunctionType")}class PostScriptStack{static MAX_STACK_SIZE=100;constructor(d){this.stack=d?Array.from(d):[]}push(d){if(this.stack.length>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(d)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(d){if(this.stack.length+d>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const x=this.stack;for(let b=x.length-d,w=d-1;w>=0;w--,b++)x.push(x[b])}index(d){this.push(this.stack[this.stack.length-d-1])}roll(d,x){const b=this.stack,w=b.length-d,S=b.length-1,C=w+(x-Math.floor(x/d)*d);for(let F=w,E=S;F<E;F++,E--){const k=b[F];b[F]=b[E],b[E]=k}for(let F=w,E=C-1;F<E;F++,E--){const k=b[F];b[F]=b[E],b[E]=k}for(let F=C,E=S;F<E;F++,E--){const k=b[F];b[F]=b[E],b[E]=k}}}class PostScriptEvaluator{constructor(d){this.operators=d}execute(d){const x=new PostScriptStack(d);let b=0;const w=this.operators,S=w.length;let C,F,E;for(;b<S;){if(C=w[b++],typeof C=="number"){x.push(C);continue}switch(C){case"jz":E=x.pop(),F=x.pop(),F||(b=E);break;case"j":F=x.pop(),b=F;break;case"abs":F=x.pop(),x.push(Math.abs(F));break;case"add":E=x.pop(),F=x.pop(),x.push(F+E);break;case"and":E=x.pop(),F=x.pop(),typeof F=="boolean"&&typeof E=="boolean"?x.push(F&&E):x.push(F&E);break;case"atan":E=x.pop(),F=x.pop(),F=Math.atan2(F,E)/Math.PI*180,F<0&&(F+=360),x.push(F);break;case"bitshift":E=x.pop(),F=x.pop(),F>0?x.push(F<<E):x.push(F>>E);break;case"ceiling":F=x.pop(),x.push(Math.ceil(F));break;case"copy":F=x.pop(),x.copy(F);break;case"cos":F=x.pop(),x.push(Math.cos(F%360/180*Math.PI));break;case"cvi":F=x.pop()|0,x.push(F);break;case"cvr":break;case"div":E=x.pop(),F=x.pop(),x.push(F/E);break;case"dup":x.copy(1);break;case"eq":E=x.pop(),F=x.pop(),x.push(F===E);break;case"exch":x.roll(2,1);break;case"exp":E=x.pop(),F=x.pop(),x.push(F**E);break;case"false":x.push(!1);break;case"floor":F=x.pop(),x.push(Math.floor(F));break;case"ge":E=x.pop(),F=x.pop(),x.push(F>=E);break;case"gt":E=x.pop(),F=x.pop(),x.push(F>E);break;case"idiv":E=x.pop(),F=x.pop(),x.push(F/E|0);break;case"index":F=x.pop(),x.index(F);break;case"le":E=x.pop(),F=x.pop(),x.push(F<=E);break;case"ln":F=x.pop(),x.push(Math.log(F));break;case"log":F=x.pop(),x.push(Math.log10(F));break;case"lt":E=x.pop(),F=x.pop(),x.push(F<E);break;case"mod":E=x.pop(),F=x.pop(),x.push(F%E);break;case"mul":E=x.pop(),F=x.pop(),x.push(F*E);break;case"ne":E=x.pop(),F=x.pop(),x.push(F!==E);break;case"neg":F=x.pop(),x.push(-F);break;case"not":F=x.pop(),typeof F=="boolean"?x.push(!F):x.push(~F);break;case"or":E=x.pop(),F=x.pop(),typeof F=="boolean"&&typeof E=="boolean"?x.push(F||E):x.push(F|E);break;case"pop":x.pop();break;case"roll":E=x.pop(),F=x.pop(),x.roll(F,E);break;case"round":F=x.pop(),x.push(Math.round(F));break;case"sin":F=x.pop(),x.push(Math.sin(F%360/180*Math.PI));break;case"sqrt":F=x.pop(),x.push(Math.sqrt(F));break;case"sub":E=x.pop(),F=x.pop(),x.push(F-E);break;case"true":x.push(!0);break;case"truncate":F=x.pop(),F=F<0?Math.ceil(F):Math.floor(F),x.push(F);break;case"xor":E=x.pop(),F=x.pop(),typeof F=="boolean"&&typeof E=="boolean"?x.push(F!==E):x.push(F^E);break;default:throw new FormatError(`Unknown operator ${C}`)}}return x.stack}}class AstNode{constructor(d){this.type=d}visit(d){unreachable("abstract method")}}class AstArgument extends AstNode{constructor(d,x,b){super("args"),this.index=d,this.min=x,this.max=b}visit(d){d.visitArgument(this)}}class AstLiteral extends AstNode{constructor(d){super("literal"),this.number=d,this.min=d,this.max=d}visit(d){d.visitLiteral(this)}}class AstBinaryOperation extends AstNode{constructor(d,x,b,w,S){super("binary"),this.op=d,this.arg1=x,this.arg2=b,this.min=w,this.max=S}visit(d){d.visitBinaryOperation(this)}}class AstMin extends AstNode{constructor(d,x){super("max"),this.arg=d,this.min=d.min,this.max=x}visit(d){d.visitMin(this)}}class AstVariable extends AstNode{constructor(d,x,b){super("var"),this.index=d,this.min=x,this.max=b}visit(d){d.visitVariable(this)}}class AstVariableDefinition extends AstNode{constructor(d,x){super("definition"),this.variable=d,this.arg=x}visit(d){d.visitVariableDefinition(this)}}class ExpressionBuilderVisitor{constructor(){this.parts=[]}visitArgument(d){this.parts.push("Math.max(",d.min,", Math.min(",d.max,", src[srcOffset + ",d.index,"]))")}visitVariable(d){this.parts.push("v",d.index)}visitLiteral(d){this.parts.push(d.number)}visitBinaryOperation(d){this.parts.push("("),d.arg1.visit(this),this.parts.push(" ",d.op," "),d.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(d){this.parts.push("var "),d.variable.visit(this),this.parts.push(" = "),d.arg.visit(this),this.parts.push(";")}visitMin(d){this.parts.push("Math.min("),d.arg.visit(this),this.parts.push(", ",d.max,")")}toString(){return this.parts.join("")}}function buildAddOperation(g,d){return d.type==="literal"&&d.number===0?g:g.type==="literal"&&g.number===0?d:d.type==="literal"&&g.type==="literal"?new AstLiteral(g.number+d.number):new AstBinaryOperation("+",g,d,g.min+d.min,g.max+d.max)}function buildMulOperation(g,d){if(d.type==="literal"){if(d.number===0)return new AstLiteral(0);if(d.number===1)return g;if(g.type==="literal")return new AstLiteral(g.number*d.number)}if(g.type==="literal"){if(g.number===0)return new AstLiteral(0);if(g.number===1)return d}const x=Math.min(g.min*d.min,g.min*d.max,g.max*d.min,g.max*d.max),b=Math.max(g.min*d.min,g.min*d.max,g.max*d.min,g.max*d.max);return new AstBinaryOperation("*",g,d,x,b)}function buildSubOperation(g,d){if(d.type==="literal"){if(d.number===0)return g;if(g.type==="literal")return new AstLiteral(g.number-d.number)}return d.type==="binary"&&d.op==="-"&&g.type==="literal"&&g.number===1&&d.arg1.type==="literal"&&d.arg1.number===1?d.arg2:new AstBinaryOperation("-",g,d,g.min-d.max,g.max-d.min)}function buildMinOperation(g,d){return g.min>=d?new AstLiteral(d):g.max<=d?g:new AstMin(g,d)}class PostScriptCompiler{compile(d,x,b){const w=[],S=[],C=x.length>>1,F=b.length>>1;let E=0,k,D,M,L,R,U,j,H;for(let V=0;V<C;V++)w.push(new AstArgument(V,x[V*2],x[V*2+1]));for(let V=0,G=d.length;V<G;V++){if(H=d[V],typeof H=="number"){w.push(new AstLiteral(H));continue}switch(H){case"add":if(w.length<2)return null;L=w.pop(),M=w.pop(),w.push(buildAddOperation(M,L));break;case"cvr":if(w.length<1)return null;break;case"mul":if(w.length<2)return null;L=w.pop(),M=w.pop(),w.push(buildMulOperation(M,L));break;case"sub":if(w.length<2)return null;L=w.pop(),M=w.pop(),w.push(buildSubOperation(M,L));break;case"exch":if(w.length<2)return null;R=w.pop(),U=w.pop(),w.push(R,U);break;case"pop":if(w.length<1)return null;w.pop();break;case"index":if(w.length<1||(M=w.pop(),M.type!=="literal")||(k=M.number,k<0||!Number.isInteger(k)||w.length<k))return null;if(R=w[w.length-k-1],R.type==="literal"||R.type==="var"){w.push(R);break}j=new AstVariable(E++,R.min,R.max),w[w.length-k-1]=j,w.push(j),S.push(new AstVariableDefinition(j,R));break;case"dup":if(w.length<1)return null;if(typeof d[V+1]=="number"&&d[V+2]==="gt"&&d[V+3]===V+7&&d[V+4]==="jz"&&d[V+5]==="pop"&&d[V+6]===d[V+1]){M=w.pop(),w.push(buildMinOperation(M,d[V+1])),V+=6;break}if(R=w.at(-1),R.type==="literal"||R.type==="var"){w.push(R);break}j=new AstVariable(E++,R.min,R.max),w[w.length-1]=j,w.push(j),S.push(new AstVariableDefinition(j,R));break;case"roll":if(w.length<2||(L=w.pop(),M=w.pop(),L.type!=="literal"||M.type!=="literal")||(D=L.number,k=M.number,k<=0||!Number.isInteger(k)||!Number.isInteger(D)||w.length<k))return null;if(D=(D%k+k)%k,D===0)break;w.push(...w.splice(w.length-k,k-D));break;default:return null}}if(w.length!==F)return null;const z=[];for(const V of S){const G=new ExpressionBuilderVisitor;V.visit(G),z.push(G.toString())}for(let V=0,G=w.length;V<G;V++){const $=w[V],K=new ExpressionBuilderVisitor;$.visit(K);const Z=b[V*2],Q=b[V*2+1],ne=[K.toString()];Z>$.min&&(ne.unshift("Math.max(",Z,", "),ne.push(")")),Q<$.max&&(ne.unshift("Math.min(",Q,", "),ne.push(")")),ne.unshift("dest[destOffset + ",V,"] = "),ne.push(";"),z.push(ne.join(""))}return z.join(`
`)}}const baseTypes=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],arabicTypes=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function isOdd(g){return(g&1)!==0}function isEven(g){return(g&1)===0}function findUnequal(g,d,x){let b,w;for(b=d,w=g.length;b<w;++b)if(g[b]!==x)return b;return b}function setValues(g,d,x,b){for(let w=d;w<x;++w)g[w]=b}function reverseValues(g,d,x){for(let b=d,w=x-1;b<w;++b,--w){const S=g[b];g[b]=g[w],g[w]=S}}function createBidiText(g,d,x=!1){let b="ltr";return x?b="ttb":d||(b="rtl"),{str:g,dir:b}}const chars$2=[],types=[];function bidi(g,d=-1,x=!1){let b=!0;const w=g.length;if(w===0||x)return createBidiText(g,b,x);chars$2.length=w,types.length=w;let S=0,C,F;for(C=0;C<w;++C){chars$2[C]=g.charAt(C);const z=g.charCodeAt(C);let V="L";z<=255?V=baseTypes[z]:1424<=z&&z<=1524?V="R":1536<=z&&z<=1791?(V=arabicTypes[z&255],V||warn("Bidi: invalid Unicode character "+z.toString(16))):(1792<=z&&z<=2220||64336<=z&&z<=65023||65136<=z&&z<=65279)&&(V="AL"),(V==="R"||V==="AL"||V==="AN")&&S++,types[C]=V}if(S===0)return b=!0,createBidiText(g,b);d===-1&&(S/w<.3&&w>4?(b=!0,d=0):(b=!1,d=1));const E=[];for(C=0;C<w;++C)E[C]=d;const k=isOdd(d)?"R":"L",D=k,M=D;let L=D;for(C=0;C<w;++C)types[C]==="NSM"?types[C]=L:L=types[C];L=D;let R;for(C=0;C<w;++C)R=types[C],R==="EN"?types[C]=L==="AL"?"AN":"EN":(R==="R"||R==="L"||R==="AL")&&(L=R);for(C=0;C<w;++C)R=types[C],R==="AL"&&(types[C]="R");for(C=1;C<w-1;++C)types[C]==="ES"&&types[C-1]==="EN"&&types[C+1]==="EN"&&(types[C]="EN"),types[C]==="CS"&&(types[C-1]==="EN"||types[C-1]==="AN")&&types[C+1]===types[C-1]&&(types[C]=types[C-1]);for(C=0;C<w;++C)if(types[C]==="EN"){for(let z=C-1;z>=0&&types[z]==="ET";--z)types[z]="EN";for(let z=C+1;z<w&&types[z]==="ET";++z)types[z]="EN"}for(C=0;C<w;++C)R=types[C],(R==="WS"||R==="ES"||R==="ET"||R==="CS")&&(types[C]="ON");for(L=D,C=0;C<w;++C)R=types[C],R==="EN"?types[C]=L==="L"?"L":"EN":(R==="R"||R==="L")&&(L=R);for(C=0;C<w;++C)if(types[C]==="ON"){const z=findUnequal(types,C+1,"ON");let V=D;C>0&&(V=types[C-1]);let G=M;z+1<w&&(G=types[z+1]),V!=="L"&&(V="R"),G!=="L"&&(G="R"),V===G&&setValues(types,C,z,V),C=z-1}for(C=0;C<w;++C)types[C]==="ON"&&(types[C]=k);for(C=0;C<w;++C)R=types[C],isEven(E[C])?R==="R"?E[C]+=1:(R==="AN"||R==="EN")&&(E[C]+=2):(R==="L"||R==="AN"||R==="EN")&&(E[C]+=1);let U=-1,j=99,H;for(C=0,F=E.length;C<F;++C)H=E[C],U<H&&(U=H),j>H&&isOdd(H)&&(j=H);for(H=U;H>=j;--H){let z=-1;for(C=0,F=E.length;C<F;++C)E[C]<H?z>=0&&(reverseValues(chars$2,z,C),z=-1):z<0&&(z=C);z>=0&&reverseValues(chars$2,z,E.length)}for(C=0,F=chars$2.length;C<F;++C){const z=chars$2[C];(z==="<"||z===">")&&(chars$2[C]="")}return createBidiText(chars$2.join(""),b)}const NORMAL={style:"normal",weight:"normal"},BOLD={style:"normal",weight:"bold"},ITALIC={style:"italic",weight:"normal"},BOLDITALIC={style:"italic",weight:"bold"},substitutionMap=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:NORMAL,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:BOLD,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:ITALIC,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:BOLDITALIC,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:NORMAL,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:BOLD,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:ITALIC,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:BOLDITALIC,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:NORMAL,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:BOLD,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:ITALIC,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:BOLDITALIC,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:NORMAL,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:BOLD,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:ITALIC,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:NORMAL,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:BOLD,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:ITALIC,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:NORMAL}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),fontAliases=new Map([["Arial-Black","ArialBlack"]]);function getStyleToAppend(g){switch(g){case BOLD:return"Bold";case ITALIC:return"Italic";case BOLDITALIC:return"Bold Italic";default:if(g?.weight==="bold")return"Bold";if(g?.style==="italic")return"Italic"}return""}function generateFont({alias:g,local:d,path:x,fallback:b,style:w,ultimate:S},C,F,E=!0,k=!0,D=""){const M={style:null,ultimate:null};if(d){const L=D?` ${D}`:"";for(const R of d)C.push(`local(${R}${L})`)}if(g){const L=substitutionMap.get(g),R=D||getStyleToAppend(w);Object.assign(M,generateFont(L,C,F,E&&!b,k&&!x,R))}if(w&&(M.style=w),S&&(M.ultimate=S),E&&b){const L=substitutionMap.get(b),{ultimate:R}=generateFont(L,C,F,E,k&&!x,D);M.ultimate||=R}return k&&x&&F&&C.push(`url(${F}${x})`),M}function getFontSubstitution(g,d,x,b,w){b=normalizeFontName(b);const S=b;let C=g.get(S);if(C)return C;let F=substitutionMap.get(b);if(!F){for(const[j,H]of fontAliases)if(b.startsWith(j)){b=`${H}${b.substring(j.length)}`,F=substitutionMap.get(b);break}}let E=!1;F||(F=substitutionMap.get(w),E=!0);const k=`${d.getDocId()}_s${d.createFontId()}`;if(!F){if(!validateFontName(b))return g.set(S,null),null;const j=/bold/gi.test(b),H=/oblique|italic/gi.test(b),z=j&&H&&BOLDITALIC||j&&BOLD||H&&ITALIC||NORMAL;return C={css:k,guessFallback:!0,loadedName:k,baseFontName:b,src:`local(${b})`,style:z},g.set(S,C),C}const D=[];E&&validateFontName(b)&&D.push(`local(${b})`);const{style:M,ultimate:L}=generateFont(F,D,x),R=L===null,U=R?"":`,${L}`;return C={css:`${k}${U}`,guessFallback:R,loadedName:k,baseFontName:b,src:D.join(","),style:M},g.set(S,C),C}const MIN_IMAGE_DIM=2048,MAX_IMAGE_DIM=65537,MAX_ERROR=128;class ImageResizer{constructor(d,x){this._imgData=d,this._isMask=x}static needsToBeResized(d,x){if(d<=this._goodSquareLength&&x<=this._goodSquareLength)return!1;const{MAX_DIM:b}=this;if(d>b||x>b)return!0;const w=d*x;if(this._hasMaxArea)return w>this.MAX_AREA;if(w<this._goodSquareLength**2)return!1;if(this._areGoodDims(d,x))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(d*x))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,b,MAX_ERROR,0);const S=this.MAX_AREA=this._goodSquareLength**2;return w>S}static get MAX_DIM(){return shadow(this,"MAX_DIM",this._guessMax(MIN_IMAGE_DIM,MAX_IMAGE_DIM,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,shadow(this,"MAX_AREA",this._guessMax(ImageResizer._goodSquareLength,this.MAX_DIM,MAX_ERROR,0)**2)}static set MAX_AREA(d){d>=0&&(this._hasMaxArea=!0,shadow(this,"MAX_AREA",d))}static setMaxArea(d){this._hasMaxArea||(this.MAX_AREA=d>>2)}static _areGoodDims(d,x){try{const b=new OffscreenCanvas(d,x),w=b.getContext("2d");w.fillRect(0,0,1,1);const S=w.getImageData(0,0,1,1).data[3];return b.width=b.height=1,S!==0}catch{return!1}}static _guessMax(d,x,b,w){for(;d+b+1<x;){const S=Math.floor((d+x)/2),C=w||S;this._areGoodDims(S,C)?d=S:x=S}return d}static async createImage(d,x=!1){return new ImageResizer(d,x)._createImage()}async _createImage(){const d=this._encodeBMP(),x=new Blob([d.buffer],{type:"image/bmp"}),b=createImageBitmap(x),{MAX_AREA:w,MAX_DIM:S}=ImageResizer,{_imgData:C}=this,{width:F,height:E}=C,k=Math.max(F/S,E/S,Math.sqrt(F*E/w)),D=Math.max(k,2),M=Math.round(10*(k+1.25))/10/D,L=Math.floor(Math.log2(M)),R=new Array(L+2).fill(2);R[0]=D,R.splice(-1,1,M/(1<<L));let U=F,j=E,H=await b;for(const z of R){const V=U,G=j;U=Math.floor(U/z)-1,j=Math.floor(j/z)-1;const $=new OffscreenCanvas(U,j);$.getContext("2d").drawImage(H,0,0,V,G,0,0,U,j),H=$.transferToImageBitmap()}return C.data=null,C.bitmap=H,C.width=U,C.height=j,C}_encodeBMP(){const{width:d,height:x,kind:b}=this._imgData;let w=this._imgData.data,S,C=new Uint8Array(0),F=C,E=0;switch(b){case ImageKind.GRAYSCALE_1BPP:{S=1,C=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const j=d+7>>3,H=j+3&-4;if(j!==H){const z=new Uint8Array(H*x);let V=0;for(let G=0,$=x*j;G<$;G+=j,V+=H)z.set(w.subarray(G,G+j),V);w=z}break}case ImageKind.RGB_24BPP:{if(S=24,d&3){const j=3*d,H=j+3&-4,z=H-j,V=new Uint8Array(H*x);let G=0;for(let $=0,K=x*j;$<K;$+=j){const Z=w.subarray($,$+j);for(let Q=0;Q<j;Q+=3)V[G++]=Z[Q+2],V[G++]=Z[Q+1],V[G++]=Z[Q];G+=z}w=V}else for(let j=0,H=w.length;j<H;j+=3){const z=w[j];w[j]=w[j+2],w[j+2]=z}break}case ImageKind.RGBA_32BPP:S=32,E=3,F=new Uint8Array(68);const U=new DataView(F.buffer);FeatureTest.isLittleEndian?(U.setUint32(0,255,!0),U.setUint32(4,65280,!0),U.setUint32(8,16711680,!0),U.setUint32(12,4278190080,!0)):(U.setUint32(0,4278190080,!0),U.setUint32(4,16711680,!0),U.setUint32(8,65280,!0),U.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let k=0;const D=40+F.length,M=14+D+C.length+w.length,L=new Uint8Array(M),R=new DataView(L.buffer);return R.setUint16(k,19778,!0),k+=2,R.setUint32(k,M,!0),k+=4,R.setUint32(k,0,!0),k+=4,R.setUint32(k,14+D+C.length,!0),k+=4,R.setUint32(k,D,!0),k+=4,R.setInt32(k,d,!0),k+=4,R.setInt32(k,-x,!0),k+=4,R.setUint16(k,1,!0),k+=2,R.setUint16(k,S,!0),k+=2,R.setUint32(k,E,!0),k+=4,R.setUint32(k,0,!0),k+=4,R.setInt32(k,0,!0),k+=4,R.setInt32(k,0,!0),k+=4,R.setUint32(k,C.length/4,!0),k+=4,R.setUint32(k,0,!0),k+=4,L.set(F,k),k+=F.length,L.set(C,k),k+=C.length,L.set(w,k),L}}ImageResizer._goodSquareLength=MIN_IMAGE_DIM;const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(d){this.h1=d?d&4294967295:SEED,this.h2=d?d&4294967295:SEED}update(d){let x,b;if(typeof d=="string"){x=new Uint8Array(d.length*2),b=0;for(let j=0,H=d.length;j<H;j++){const z=d.charCodeAt(j);z<=255?x[b++]=z:(x[b++]=z>>>8,x[b++]=z&255)}}else if(isArrayBuffer(d))x=d.slice(),b=x.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const w=b>>2,S=b-w*4,C=new Uint32Array(x.buffer,0,w);let F=0,E=0,k=this.h1,D=this.h2;const M=3432918353,L=461845907,R=M&MASK_LOW,U=L&MASK_LOW;for(let j=0;j<w;j++)j&1?(F=C[j],F=F*M&MASK_HIGH|F*R&MASK_LOW,F=F<<15|F>>>17,F=F*L&MASK_HIGH|F*U&MASK_LOW,k^=F,k=k<<13|k>>>19,k=k*5+3864292196):(E=C[j],E=E*M&MASK_HIGH|E*R&MASK_LOW,E=E<<15|E>>>17,E=E*L&MASK_HIGH|E*U&MASK_LOW,D^=E,D=D<<13|D>>>19,D=D*5+3864292196);switch(F=0,S){case 3:F^=x[w*4+2]<<16;case 2:F^=x[w*4+1]<<8;case 1:F^=x[w*4],F=F*M&MASK_HIGH|F*R&MASK_LOW,F=F<<15|F>>>17,F=F*L&MASK_HIGH|F*U&MASK_LOW,w&1?k^=F:D^=F}this.h1=k,this.h2=D}hexdigest(){let d=this.h1,x=this.h2;return d^=x>>>1,d=d*3981806797&MASK_HIGH|d*36045&MASK_LOW,x=x*4283543511&MASK_HIGH|((x<<16|d>>>16)*2950163797&MASK_HIGH)>>>16,d^=x>>>1,d=d*444984403&MASK_HIGH|d*60499&MASK_LOW,x=x*3301882366&MASK_HIGH|((x<<16|d>>>16)*3120437893&MASK_HIGH)>>>16,d^=x>>>1,(d>>>0).toString(16).padStart(8,"0")+(x>>>0).toString(16).padStart(8,"0")}}function addState(g,d,x,b,w){let S=g;for(let C=0,F=d.length-1;C<F;C++){const E=d[C];S=S[E]||=[]}S[d.at(-1)]={checkFn:x,iterateFn:b,processFn:w}}const InitialState=[];addState(InitialState,[OPS.save,OPS.transform,OPS.paintInlineImageXObject,OPS.restore],null,function(d,x){const b=d.fnArray,w=d.iCurr-3,S=(x-w)%4;switch(S){case 0:return b[x]===OPS.save;case 1:return b[x]===OPS.transform;case 2:return b[x]===OPS.paintInlineImageXObject;case 3:return b[x]===OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${S}`)},function(d,x){const F=d.fnArray,E=d.argsArray,k=d.iCurr,D=k-3,M=k-2,L=k-1,R=Math.min(Math.floor((x-D)/4),200);if(R<10)return x-(x-D)%4;let U=0;const j=[];let H=0,z=1,V=1;for(let ne=0;ne<R;ne++){const le=E[M+(ne<<2)],fe=E[L+(ne<<2)][0];z+fe.width>1e3&&(U=Math.max(U,z),V+=H+2*1,z=0,H=0),j.push({transform:le,x:z,y:V,w:fe.width,h:fe.height}),z+=fe.width+2*1,H=Math.max(H,fe.height)}const G=Math.max(U,z)+1,$=V+H+1,K=new Uint8Array(G*$*4),Z=G<<2;for(let ne=0;ne<R;ne++){const le=E[L+(ne<<2)][0].data,fe=j[ne].w<<2;let be=0,me=j[ne].x+j[ne].y*G<<2;K.set(le.subarray(0,fe),me-Z);for(let we=0,oe=j[ne].h;we<oe;we++)K.set(le.subarray(be,be+fe),me),be+=fe,me+=Z;for(K.set(le.subarray(be-fe,be),me);me>=0;)le[me-4]=le[me],le[me-3]=le[me+1],le[me-2]=le[me+2],le[me-1]=le[me+3],le[me+fe]=le[me+fe-4],le[me+fe+1]=le[me+fe-3],le[me+fe+2]=le[me+fe-2],le[me+fe+3]=le[me+fe-1],me-=Z}const Q={width:G,height:$};if(d.isOffscreenCanvasSupported){const ne=new OffscreenCanvas(G,$);ne.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(K.buffer),G,$),0,0),Q.bitmap=ne.transferToImageBitmap(),Q.data=null}else Q.kind=ImageKind.RGBA_32BPP,Q.data=K;return F.splice(D,R*4,OPS.paintInlineImageXObjectGroup),E.splice(D,R*4,[Q,j]),D+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageMaskXObject,OPS.restore],null,function(d,x){const b=d.fnArray,w=d.iCurr-3,S=(x-w)%4;switch(S){case 0:return b[x]===OPS.save;case 1:return b[x]===OPS.transform;case 2:return b[x]===OPS.paintImageMaskXObject;case 3:return b[x]===OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${S}`)},function(d,x){const C=d.fnArray,F=d.argsArray,E=d.iCurr,k=E-3,D=E-2,M=E-1;let L=Math.floor((x-k)/4);if(L<10)return x-(x-k)%4;let R=!1,U,j;const H=F[M][0],z=F[D][0],V=F[D][1],G=F[D][2],$=F[D][3];if(V===G){R=!0,U=D+4;let K=M+4;for(let Z=1;Z<L;Z++,U+=4,K+=4)if(j=F[U],F[K][0]!==H||j[0]!==z||j[1]!==V||j[2]!==G||j[3]!==$){Z<10?R=!1:L=Z;break}}if(R){L=Math.min(L,1e3);const K=new Float32Array(L*2);U=D;for(let Z=0;Z<L;Z++,U+=4)j=F[U],K[Z<<1]=j[4],K[(Z<<1)+1]=j[5];C.splice(k,L*4,OPS.paintImageMaskXObjectRepeat),F.splice(k,L*4,[H,z,V,G,$,K])}else{L=Math.min(L,100);const K=[];for(let Z=0;Z<L;Z++){j=F[D+(Z<<2)];const Q=F[M+(Z<<2)][0];K.push({data:Q.data,width:Q.width,height:Q.height,interpolate:Q.interpolate,count:Q.count,transform:j})}C.splice(k,L*4,OPS.paintImageMaskXObjectGroup),F.splice(k,L*4,[K])}return k+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageXObject,OPS.restore],function(g){const d=g.argsArray,x=g.iCurr-2;return d[x][1]===0&&d[x][2]===0},function(d,x){const b=d.fnArray,w=d.argsArray,S=d.iCurr-3,C=(x-S)%4;switch(C){case 0:return b[x]===OPS.save;case 1:if(b[x]!==OPS.transform)return!1;const F=d.iCurr-2,E=w[F][0],k=w[F][3];return!(w[x][0]!==E||w[x][1]!==0||w[x][2]!==0||w[x][3]!==k);case 2:if(b[x]!==OPS.paintImageXObject)return!1;const D=d.iCurr-1,M=w[D][0];return w[x][0]===M;case 3:return b[x]===OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${C}`)},function(g,d){const w=g.fnArray,S=g.argsArray,C=g.iCurr,F=C-3,E=C-2,k=C-1,D=S[k][0],M=S[E][0],L=S[E][3],R=Math.min(Math.floor((d-F)/4),1e3);if(R<3)return d-(d-F)%4;const U=new Float32Array(R*2);let j=E;for(let z=0;z<R;z++,j+=4){const V=S[j];U[z<<1]=V[4],U[(z<<1)+1]=V[5]}const H=[D,M,L,U];return w.splice(F,R*4,OPS.paintImageXObjectRepeat),S.splice(F,R*4,H),F+1});addState(InitialState,[OPS.beginText,OPS.setFont,OPS.setTextMatrix,OPS.showText,OPS.endText],null,function(d,x){const b=d.fnArray,w=d.argsArray,S=d.iCurr-4,C=(x-S)%5;switch(C){case 0:return b[x]===OPS.beginText;case 1:return b[x]===OPS.setFont;case 2:return b[x]===OPS.setTextMatrix;case 3:if(b[x]!==OPS.showText)return!1;const F=d.iCurr-3,E=w[F][0],k=w[F][1];return!(w[x][0]!==E||w[x][1]!==k);case 4:return b[x]===OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${C}`)},function(g,d){const w=g.fnArray,S=g.argsArray,C=g.iCurr,F=C-4,E=C-3,k=C-2,D=C-1,M=C,L=S[E][0],R=S[E][1];let U=Math.min(Math.floor((d-F)/5),1e3);if(U<3)return d-(d-F)%5;let j=F;F>=4&&w[F-4]===w[E]&&w[F-3]===w[k]&&w[F-2]===w[D]&&w[F-1]===w[M]&&S[F-4][0]===L&&S[F-4][1]===R&&(U++,j-=5);let H=j+4;for(let z=1;z<U;z++)w.splice(H,3),S.splice(H,3),H+=2;return H+1});class NullOptimizer{constructor(d){this.queue=d}_optimize(){}push(d,x){this.queue.fnArray.push(d),this.queue.argsArray.push(x),this._optimize()}flush(){}reset(){}}class QueueOptimizer extends NullOptimizer{constructor(d){super(d),this.state=null,this.context={iCurr:0,fnArray:d.fnArray,argsArray:d.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(d){this.context.isOffscreenCanvasSupported=d}_optimize(){const d=this.queue.fnArray;let x=this.lastProcessed,b=d.length,w=this.state,S=this.match;if(!w&&!S&&x+1===b&&!InitialState[d[x]]){this.lastProcessed=b;return}const C=this.context;for(;x<b;){if(S){if((0,S.iterateFn)(C,x)){x++;continue}if(x=(0,S.processFn)(C,x+1),b=d.length,S=null,w=null,x>=b)break}if(w=(w||InitialState)[d[x]],!w||Array.isArray(w)){x++;continue}if(C.iCurr=x,x++,w.checkFn&&!(0,w.checkFn)(C)){w=null;continue}S=w,w=null}this.state=w,this.match=S,this.lastProcessed=x}flush(){for(;this.match;){const d=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,d),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class OperatorList{static CHUNK_SIZE=1e3;static CHUNK_SIZE_ABOUT=this.CHUNK_SIZE-5;constructor(d=0,x){this._streamSink=x,this.fnArray=[],this.argsArray=[],this.optimizer=x&&!(d&RenderingIntentFlag.OPLIST)?new QueueOptimizer(this):new NullOptimizer(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=x?null:Promise.resolve()}set isOffscreenCanvasSupported(d){this.optimizer.isOffscreenCanvasSupported=d}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(d,x){this.optimizer.push(d,x),this.weight++,this._streamSink&&(this.weight>=OperatorList.CHUNK_SIZE?this.flush():this.weight>=OperatorList.CHUNK_SIZE_ABOUT&&(d===OPS.restore||d===OPS.endText)&&this.flush())}addImageOps(d,x,b){b!==void 0&&this.addOp(OPS.beginMarkedContentProps,["OC",b]),this.addOp(d,x),b!==void 0&&this.addOp(OPS.endMarkedContent,[])}addDependency(d){this.dependencies.has(d)||(this.dependencies.add(d),this.addOp(OPS.dependency,[d]))}addDependencies(d){for(const x of d)this.addDependency(x)}addOpList(d){if(!(d instanceof OperatorList)){warn('addOpList - ignoring invalid "opList" parameter.');return}for(const x of d.dependencies)this.dependencies.add(x);for(let x=0,b=d.length;x<b;x++)this.addOp(d.fnArray[x],d.argsArray[x])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const d=[],{fnArray:x,argsArray:b,length:w}=this;for(let S=0;S<w;S++)switch(x[S]){case OPS.paintInlineImageXObject:case OPS.paintInlineImageXObjectGroup:case OPS.paintImageMaskXObject:const C=b[S][0];!C.cached&&C.data?.buffer instanceof ArrayBuffer&&d.push(C.data.buffer);break}return d}flush(d=!1,x=null){this.optimizer.flush();const b=this.length;this._totalLength+=b,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:d,separateAnnots:x,length:b},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}function decodeAndClamp(g,d,x,b){return g=d+g*x,g<0?g=0:g>b&&(g=b),g}function resizeImageMask(g,d,x,b,w,S){const C=w*S;let F;d<=8?F=new Uint8Array(C):d<=16?F=new Uint16Array(C):F=new Uint32Array(C);const E=x/w,k=b/S;let D,M,L,R=0,U;const j=new Uint16Array(w),H=x;for(D=0;D<w;D++)j[D]=Math.floor(D*E);for(D=0;D<S;D++)for(L=Math.floor(D*k)*H,M=0;M<w;M++)U=L+j[M],F[R++]=g[U];return F}let PDFImage$1=class st{constructor({xref:d,res:x,image:b,isInline:w=!1,smask:S=null,mask:C=null,isMask:F=!1,pdfFunctionFactory:E,localColorSpaceCache:k}){this.image=b;const D=b.dict,M=D.get("F","Filter");let L;if(M instanceof Name)L=M.name;else if(Array.isArray(M)){const H=d.fetchIfRef(M[0]);H instanceof Name&&(L=H.name)}switch(L){case"JPXDecode":const H=new JpxImage;H.parseImageProperties(b.stream),b.stream.reset(),b.width=H.width,b.height=H.height,b.bitsPerComponent=H.bitsPerComponent,b.numComps=H.componentsCount;break;case"JBIG2Decode":b.bitsPerComponent=1,b.numComps=1;break}let R=D.get("W","Width"),U=D.get("H","Height");if(Number.isInteger(b.width)&&b.width>0&&Number.isInteger(b.height)&&b.height>0&&(b.width!==R||b.height!==U)&&(warn("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),R=b.width,U=b.height),R<1||U<1)throw new FormatError(`Invalid image width: ${R} or height: ${U}`);this.width=R,this.height=U,this.interpolate=D.get("I","Interpolate"),this.imageMask=D.get("IM","ImageMask")||!1,this.matte=D.get("Matte")||!1;let j=b.bitsPerComponent;if(!j&&(j=D.get("BPC","BitsPerComponent"),!j))if(this.imageMask)j=1;else throw new FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=j,!this.imageMask){let H=D.getRaw("CS")||D.getRaw("ColorSpace");if(!H)switch(info("JPX images (which do not require color spaces)"),b.numComps){case 1:H=Name.get("DeviceGray");break;case 3:H=Name.get("DeviceRGB");break;case 4:H=Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${b.numComps} color components not supported.`)}this.colorSpace=ColorSpace$1.parse({cs:H,xref:d,resources:w?x:null,pdfFunctionFactory:E,localColorSpaceCache:k}),this.numComps=this.colorSpace.numComps}if(this.decode=D.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,j)||F&&!ColorSpace$1.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const H=(1<<j)-1;this.decodeCoefficients=[],this.decodeAddends=[];const z=this.colorSpace?.name==="Indexed";for(let V=0,G=0;V<this.decode.length;V+=2,++G){const $=this.decode[V],K=this.decode[V+1];this.decodeCoefficients[G]=z?(K-$)/H:K-$,this.decodeAddends[G]=z?$:H*$}}S?this.smask=new st({xref:d,res:x,image:S,isInline:w,pdfFunctionFactory:E,localColorSpaceCache:k}):C&&(C instanceof BaseStream?C.dict.get("IM","ImageMask")?this.mask=new st({xref:d,res:x,image:C,isInline:w,isMask:!0,pdfFunctionFactory:E,localColorSpaceCache:k}):warn("Ignoring /Mask in image without /ImageMask."):this.mask=C)}static async buildImage({xref:d,res:x,image:b,isInline:w=!1,pdfFunctionFactory:S,localColorSpaceCache:C}){const F=b;let E=null,k=null;const D=b.dict.get("SMask"),M=b.dict.get("Mask");return D?D instanceof BaseStream?E=D:warn("Unsupported /SMask format."):M&&(M instanceof BaseStream||Array.isArray(M)?k=M:warn("Unsupported /Mask format.")),new st({xref:d,res:x,image:F,isInline:w,smask:E,mask:k,pdfFunctionFactory:S,localColorSpaceCache:C})}static createRawMask({imgArray:d,width:x,height:b,imageIsFromDecodeStream:w,inverseDecode:S,interpolate:C}){const F=(x+7>>3)*b,E=d.byteLength,k=F===E;let D,M;if(w&&(!S||k)?D=d:S?(D=new Uint8Array(F),D.set(d),D.fill(255,E)):D=new Uint8Array(d),S)for(M=0;M<E;M++)D[M]^=255;return{data:D,width:x,height:b,interpolate:C}}static async createMask({imgArray:d,width:x,height:b,imageIsFromDecodeStream:w,inverseDecode:S,interpolate:C,isOffscreenCanvasSupported:F=!1}){const E=x===1&&b===1&&S===(d.length===0||!!(d[0]&128));if(E)return{isSingleOpaquePixel:E};if(F){if(ImageResizer.needsToBeResized(x,b)){const R=new Uint8ClampedArray(x*b*4);return convertBlackAndWhiteToRGBA({src:d,dest:R,width:x,height:b,nonBlackColor:0,inverseDecode:S}),ImageResizer.createImage({kind:ImageKind.RGBA_32BPP,data:R,width:x,height:b,interpolate:C})}const k=new OffscreenCanvas(x,b),D=k.getContext("2d"),M=D.createImageData(x,b);convertBlackAndWhiteToRGBA({src:d,dest:M.data,width:x,height:b,nonBlackColor:0,inverseDecode:S}),D.putImageData(M,0,0);const L=k.transferToImageBitmap();return{data:null,width:x,height:b,interpolate:C,bitmap:L}}return this.createRawMask({imgArray:d,width:x,height:b,inverseDecode:S,imageIsFromDecodeStream:w,interpolate:C})}get drawWidth(){return Math.max(this.width,this.smask?.width||0,this.mask?.width||0)}get drawHeight(){return Math.max(this.height,this.smask?.height||0,this.mask?.height||0)}decodeBuffer(d){const x=this.bpc,b=this.numComps,w=this.decodeAddends,S=this.decodeCoefficients,C=(1<<x)-1;let F,E;if(x===1){for(F=0,E=d.length;F<E;F++)d[F]=+!d[F];return}let k=0;for(F=0,E=this.width*this.height;F<E;F++)for(let D=0;D<b;D++)d[k]=decodeAndClamp(d[k],w[D],S[D],C),k++}getComponents(d){const x=this.bpc;if(x===8)return d;const b=this.width,w=this.height,S=this.numComps,C=b*w*S;let F=0,E;x<=8?E=new Uint8Array(C):x<=16?E=new Uint16Array(C):E=new Uint32Array(C);const k=b*S,D=(1<<x)-1;let M=0,L,R;if(x===1){let U,j,H;for(let z=0;z<w;z++){for(j=M+(k&-8),H=M+k;M<j;)R=d[F++],E[M]=R>>7&1,E[M+1]=R>>6&1,E[M+2]=R>>5&1,E[M+3]=R>>4&1,E[M+4]=R>>3&1,E[M+5]=R>>2&1,E[M+6]=R>>1&1,E[M+7]=R&1,M+=8;if(M<H)for(R=d[F++],U=128;M<H;)E[M++]=+!!(R&U),U>>=1}}else{let U=0;for(R=0,M=0,L=C;M<L;++M){for(M%k===0&&(R=0,U=0);U<x;)R=R<<8|d[F++],U+=8;const j=U-x;let H=R>>j;H<0?H=0:H>D&&(H=D),E[M]=H,R&=(1<<j)-1,U=j}}return E}fillOpacity(d,x,b,w,S){const C=this.smask,F=this.mask;let E,k,D,M,L,R;if(C)k=C.width,D=C.height,E=new Uint8ClampedArray(k*D),C.fillGrayBuffer(E),(k!==x||D!==b)&&(E=resizeImageMask(E,C.bpc,k,D,x,b));else if(F)if(F instanceof st){for(k=F.width,D=F.height,E=new Uint8ClampedArray(k*D),F.numComps=1,F.fillGrayBuffer(E),M=0,L=k*D;M<L;++M)E[M]=255-E[M];(k!==x||D!==b)&&(E=resizeImageMask(E,F.bpc,k,D,x,b))}else if(Array.isArray(F)){E=new Uint8ClampedArray(x*b);const U=this.numComps;for(M=0,L=x*b;M<L;++M){let j=0;const H=M*U;for(R=0;R<U;++R){const z=S[H+R],V=R*2;if(z<F[V]||z>F[V+1]){j=255;break}}E[M]=j}}else throw new FormatError("Unknown mask format.");if(E)for(M=0,R=3,L=x*w;M<L;++M,R+=4)d[R]=E[M];else for(M=0,R=3,L=x*w;M<L;++M,R+=4)d[R]=255}undoPreblend(d,x,b){const w=this.smask?.matte;if(!w)return;const S=this.colorSpace.getRgb(w,0),C=S[0],F=S[1],E=S[2],k=x*b*4;for(let D=0;D<k;D+=4){const M=d[D+3];if(M===0){d[D]=255,d[D+1]=255,d[D+2]=255;continue}const L=255/M;d[D]=(d[D]-C)*L+C,d[D+1]=(d[D+1]-F)*L+F,d[D+2]=(d[D+2]-E)*L+E}}async createImageData(d=!1,x=!1){const b=this.drawWidth,w=this.drawHeight,S={width:b,height:w,interpolate:this.interpolate,kind:0,data:null},C=this.numComps,F=this.width,E=this.height,k=this.bpc,D=F*C*k+7>>3,M=x&&ImageResizer.needsToBeResized(b,w);if(!d){let K;if(this.colorSpace.name==="DeviceGray"&&k===1?K=ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&k===8&&!this.needsDecode&&(K=ImageKind.RGB_24BPP),K&&!this.smask&&!this.mask&&b===F&&w===E){const Z=this.getImageBytes(E*D,{});if(x)return M?ImageResizer.createImage({data:Z,kind:K,width:b,height:w,interpolate:this.interpolate},this.needsDecode):this.createBitmap(K,F,E,Z);if(S.kind=K,S.data=Z,this.needsDecode){assert(K===ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const Q=S.data;for(let ne=0,le=Q.length;ne<le;ne++)Q[ne]^=255}return S}if(this.image instanceof JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let Z=E*D;if(x&&!M){let Q=!1;switch(this.colorSpace.name){case"DeviceGray":Z*=4,Q=!0;break;case"DeviceRGB":Z=Z/3*4,Q=!0;break;case"DeviceCMYK":Q=!0;break}if(Q){const ne=this.getImageBytes(Z,{drawWidth:b,drawHeight:w,forceRGBA:!0});return this.createBitmap(ImageKind.RGBA_32BPP,b,w,ne)}}else switch(this.colorSpace.name){case"DeviceGray":Z*=3;case"DeviceRGB":case"DeviceCMYK":return S.kind=ImageKind.RGB_24BPP,S.data=this.getImageBytes(Z,{drawWidth:b,drawHeight:w,forceRGB:!0}),M?ImageResizer.createImage(S):S}}}const L=this.getImageBytes(E*D,{internal:!0}),R=0|L.length/D*w/E,U=this.getComponents(L);let j,H,z,V,G,$;if(x&&!M&&(z=new OffscreenCanvas(b,w),V=z.getContext("2d"),G=V.createImageData(b,w),$=G.data),S.kind=ImageKind.RGBA_32BPP,!d&&!this.smask&&!this.mask?(!x||M?(S.kind=ImageKind.RGB_24BPP,$=new Uint8ClampedArray(b*w*3),j=0):(new Uint32Array($.buffer).fill(FeatureTest.isLittleEndian?4278190080:255),j=1),H=!1):((!x||M)&&($=new Uint8ClampedArray(b*w*4)),j=1,H=!0,this.fillOpacity($,b,w,R,U)),this.needsDecode&&this.decodeBuffer(U),this.colorSpace.fillRgb($,F,E,b,w,R,k,U,j),H&&this.undoPreblend($,b,R),x&&!M){V.putImageData(G,0,0);const K=z.transferToImageBitmap();return{data:null,width:b,height:w,bitmap:K,interpolate:this.interpolate}}return S.data=$,M?ImageResizer.createImage(S):S}fillGrayBuffer(d){const x=this.numComps;if(x!==1)throw new FormatError(`Reading gray scale from a color image: ${x}`);const b=this.width,w=this.height,S=this.bpc,C=b*x*S+7>>3,F=this.getImageBytes(w*C,{internal:!0}),E=this.getComponents(F);let k,D;if(S===1){if(D=b*w,this.needsDecode)for(k=0;k<D;++k)d[k]=E[k]-1&255;else for(k=0;k<D;++k)d[k]=-E[k]&255;return}this.needsDecode&&this.decodeBuffer(E),D=b*w;const M=255/((1<<S)-1);for(k=0;k<D;++k)d[k]=M*E[k]}createBitmap(d,x,b,w){const S=new OffscreenCanvas(x,b),C=S.getContext("2d");let F;d===ImageKind.RGBA_32BPP?F=new ImageData(w,x,b):(F=C.createImageData(x,b),convertToRGBA({kind:d,src:w,dest:new Uint32Array(F.data.buffer),width:x,height:b,inverseDecode:this.needsDecode})),C.putImageData(F,0,0);const E=S.transferToImageBitmap();return{data:null,width:x,height:b,bitmap:E,interpolate:this.interpolate}}getImageBytes(d,{drawWidth:x,drawHeight:b,forceRGBA:w=!1,forceRGB:S=!1,internal:C=!1}){this.image.reset(),this.image.drawWidth=x||this.width,this.image.drawHeight=b||this.height,this.image.forceRGBA=!!w,this.image.forceRGB=!!S;const F=this.image.getBytes(d);return C||this.image instanceof DecodeStream$1?F:(assert(F instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(F))}};const DefaultPartialEvaluatorOptions=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),PatternType={TILING:1,SHADING:2},TEXT_CHUNK_BATCH_SIZE=10,deferred=Promise.resolve();function normalizeBlendMode(g,d=!1){if(Array.isArray(g)){for(const x of g){const b=normalizeBlendMode(x,!0);if(b)return b}return warn(`Unsupported blend mode Array: ${g}`),"source-over"}if(!(g instanceof Name))return d?null:"source-over";switch(g.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return d?null:(warn(`Unsupported blend mode: ${g.name}`),"source-over")}function incrementCachedImageMaskCount(g){g.fn===OPS.paintImageMaskXObject&&g.args[0]?.count>0&&g.args[0].count++}class TimeSlotManager{static TIME_SLOT_DURATION_MS=20;static CHECK_TIME_EVERY=100;constructor(){this.reset()}check(){return++this.checked<TimeSlotManager.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+TimeSlotManager.TIME_SLOT_DURATION_MS,this.checked=0}}class PartialEvaluator{constructor({xref:d,handler:x,pageIndex:b,idFactory:w,fontCache:S,builtInCMapCache:C,standardFontDataCache:F,globalImageCache:E,systemFontCache:k,options:D=null}){this.xref=d,this.handler=x,this.pageIndex=b,this.idFactory=w,this.fontCache=S,this.builtInCMapCache=C,this.standardFontDataCache=F,this.globalImageCache=E,this.systemFontCache=k,this.options=D||DefaultPartialEvaluatorOptions,this.parsingType3Font=!1,this._regionalImageCache=new RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const d=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return shadow(this,"_pdfFunctionFactory",d)}clone(d=null){const x=Object.create(this);return x.options=Object.assign(Object.create(null),this.options,d),x}hasBlendModes(d,x){if(!(d instanceof Dict)||d.objId&&x.has(d.objId))return!1;const b=new RefSet(x);d.objId&&b.put(d.objId);const w=[d],S=this.xref;for(;w.length;){const C=w.shift(),F=C.get("ExtGState");if(F instanceof Dict)for(let k of F.getRawValues()){if(k instanceof Ref){if(b.has(k))continue;try{k=S.fetch(k)}catch(M){b.put(k),info(`hasBlendModes - ignoring ExtGState: "${M}".`);continue}}if(!(k instanceof Dict))continue;k.objId&&b.put(k.objId);const D=k.get("BM");if(D instanceof Name){if(D.name!=="Normal")return!0;continue}if(D!==void 0&&Array.isArray(D)){for(const M of D)if(M instanceof Name&&M.name!=="Normal")return!0}}const E=C.get("XObject");if(E instanceof Dict)for(let k of E.getRawValues()){if(k instanceof Ref){if(b.has(k))continue;try{k=S.fetch(k)}catch(M){b.put(k),info(`hasBlendModes - ignoring XObject: "${M}".`);continue}}if(!(k instanceof BaseStream))continue;k.dict.objId&&b.put(k.dict.objId);const D=k.dict.get("Resources");D instanceof Dict&&(D.objId&&b.has(D.objId)||(w.push(D),D.objId&&b.put(D.objId)))}}for(const C of b)x.put(C);return!1}async fetchBuiltInCMap(d){const x=this.builtInCMapCache.get(d);if(x)return x;let b;if(this.options.cMapUrl!==null){const w=`${this.options.cMapUrl}${d}.bcmap`,S=await fetch(w);if(!S.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${w}" with "${S.statusText}".`);b={cMapData:new Uint8Array(await S.arrayBuffer()),compressionType:CMapCompressionType.BINARY}}else b=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:d});return b.compressionType!==CMapCompressionType.NONE&&this.builtInCMapCache.set(d,b),b}async fetchStandardFontData(d){const x=this.standardFontDataCache.get(d);if(x)return new Stream$1(x);if(this.options.useSystemFonts&&d!=="Symbol"&&d!=="ZapfDingbats")return null;const b=getFontNameToFileMap(),w=b[d];let S;if(this.options.standardFontDataUrl!==null){const C=`${this.options.standardFontDataUrl}${w}`,F=await fetch(C);F.ok?S=new Uint8Array(await F.arrayBuffer()):warn(`fetchStandardFontData: failed to fetch file "${C}" with "${F.statusText}".`)}else try{S=await this.handler.sendWithPromise("FetchStandardFontData",{filename:w})}catch(C){warn(`fetchStandardFontData: failed to fetch file "${w}" with "${C}".`)}return S?(this.standardFontDataCache.set(d,S),new Stream$1(S)):null}async buildFormXObject(d,x,b,w,S,C,F){const E=x.dict,k=E.getArray("Matrix");let D=E.getArray("BBox");D=Array.isArray(D)&&D.length===4?Util.normalizeRect(D):null;let M,L;E.has("OC")&&(M=await this.parseMarkedContentProps(E.get("OC"),d)),M!==void 0&&w.addOp(OPS.beginMarkedContentProps,["OC",M]);const R=E.get("Group");if(R){L={matrix:k,bbox:D,smask:b,isolated:!1,knockout:!1};const j=R.get("S");let H=null;if(isName(j,"Transparency")&&(L.isolated=R.get("I")||!1,L.knockout=R.get("K")||!1,R.has("CS"))){const z=R.getRaw("CS"),V=ColorSpace$1.getCached(z,this.xref,F);V?H=V:H=await this.parseColorSpace({cs:z,resources:d,localColorSpaceCache:F})}b?.backdrop&&(H||=ColorSpace$1.singletons.rgb,b.backdrop=H.getRgb(b.backdrop,0)),w.addOp(OPS.beginGroup,[L])}const U=R?[k,null]:[k,D];return w.addOp(OPS.paintFormXObjectBegin,U),this.getOperatorList({stream:x,task:S,resources:E.get("Resources")||d,operatorList:w,initialState:C}).then(function(){w.addOp(OPS.paintFormXObjectEnd,[]),R&&w.addOp(OPS.endGroup,[L]),M!==void 0&&w.addOp(OPS.endMarkedContent,[])})}_sendImgData(d,x,b=!1){const w=x?[x.bitmap||x.data.buffer]:null;return this.parsingType3Font||b?this.handler.send("commonobj",[d,"Image",x],w):this.handler.send("obj",[d,this.pageIndex,"Image",x],w)}async buildPaintImageXObject({resources:d,image:x,isInline:b=!1,operatorList:w,cacheKey:S,localImageCache:C,localColorSpaceCache:F}){const E=x.dict,k=E.objId,D=E.get("W","Width"),M=E.get("H","Height");if(!(D&&typeof D=="number")||!(M&&typeof M=="number")){warn("Image dimensions are missing, or not numbers.");return}const L=this.options.maxImageSize;if(L!==-1&&D*M>L){const $="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){warn($);return}throw new Error($)}let R;E.has("OC")&&(R=await this.parseMarkedContentProps(E.get("OC"),d));const U=E.get("IM","ImageMask")||!1;let j,H;if(U){const $=E.get("I","Interpolate"),K=D+7>>3,Z=x.getBytes(K*M),Q=E.getArray("D","Decode");if(this.parsingType3Font){if(j=PDFImage$1.createRawMask({imgArray:Z,width:D,height:M,imageIsFromDecodeStream:x instanceof DecodeStream$1,inverseDecode:Q?.[0]>0,interpolate:$}),j.cached=!!S,H=[j],w.addImageOps(OPS.paintImageMaskXObject,H,R),S){const le={fn:OPS.paintImageMaskXObject,args:H,optionalContent:R};C.set(S,k,le),k&&this._regionalImageCache.set(null,k,le)}return}if(j=await PDFImage$1.createMask({imgArray:Z,width:D,height:M,imageIsFromDecodeStream:x instanceof DecodeStream$1,inverseDecode:Q?.[0]>0,interpolate:$,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),j.isSingleOpaquePixel){if(w.addImageOps(OPS.paintSolidColorImageMask,[],R),S){const le={fn:OPS.paintSolidColorImageMask,args:[],optionalContent:R};C.set(S,k,le),k&&this._regionalImageCache.set(null,k,le)}return}const ne=`mask_${this.idFactory.createObjId()}`;if(w.addDependency(ne),this._sendImgData(ne,j),H=[{data:ne,width:j.width,height:j.height,interpolate:j.interpolate,count:1}],w.addImageOps(OPS.paintImageMaskXObject,H,R),S){const le={fn:OPS.paintImageMaskXObject,args:H,optionalContent:R};C.set(S,k,le),k&&this._regionalImageCache.set(null,k,le)}return}const z=200;if(b&&!E.has("SMask")&&!E.has("Mask")&&D+M<z){j=await new PDFImage$1({xref:this.xref,res:d,image:x,isInline:b,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:F}).createImageData(!0,!1),w.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,w.addImageOps(OPS.paintInlineImageXObject,[j],R);return}let V=`img_${this.idFactory.createObjId()}`,G=!1;if(this.parsingType3Font?V=`${this.idFactory.getDocId()}_type3_${V}`:k&&(G=this.globalImageCache.shouldCache(k,this.pageIndex),G&&(V=`${this.idFactory.getDocId()}_${V}`)),w.addDependency(V),H=[V,D,M],PDFImage$1.buildImage({xref:this.xref,res:d,image:x,isInline:b,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:F}).then(async $=>{if(j=await $.createImageData(!1,this.options.isOffscreenCanvasSupported),S&&k&&G){const K=j.bitmap?j.width*j.height*4:j.data.length;this.globalImageCache.addByteSize(k,K)}return this._sendImgData(V,j,G)}).catch($=>(warn(`Unable to decode image "${V}": "${$}".`),this._sendImgData(V,null,G))),w.addImageOps(OPS.paintImageXObject,H,R),S){const $={fn:OPS.paintImageXObject,args:H,optionalContent:R};C.set(S,k,$),k&&(this._regionalImageCache.set(null,k,$),G&&(assert(!b,"Cannot cache an inline image globally."),this.globalImageCache.setData(k,{objId:V,fn:OPS.paintImageXObject,args:H,optionalContent:R,byteSize:0})))}}handleSMask(d,x,b,w,S,C){const F=d.get("G"),E={subtype:d.get("S").name,backdrop:d.get("BC")},k=d.get("TR");if(isPDFFunction(k)){const D=this._pdfFunctionFactory.create(k),M=new Uint8Array(256),L=new Float32Array(1);for(let R=0;R<256;R++)L[0]=R/255,D(L,0,L,0),M[R]=L[0]*255|0;E.transferMap=M}return this.buildFormXObject(x,F,E,b,w,S.state.clone(),C)}handleTransferFunction(d){let x;if(Array.isArray(d))x=d;else if(isPDFFunction(d))x=[d];else return null;const b=[];let w=0,S=0;for(const C of x){const F=this.xref.fetchIfRef(C);if(w++,isName(F,"Identity")){b.push(null);continue}else if(!isPDFFunction(F))return null;const E=this._pdfFunctionFactory.create(F),k=new Uint8Array(256),D=new Float32Array(1);for(let M=0;M<256;M++)D[0]=M/255,E(D,0,D,0),k[M]=D[0]*255|0;b.push(k),S++}return!(w===1||w===4)||S===0?null:b}handleTilingType(d,x,b,w,S,C,F,E){const k=new OperatorList,D=Dict.merge({xref:this.xref,dictArray:[S.get("Resources"),b]});return this.getOperatorList({stream:w,task:F,resources:D,operatorList:k}).then(function(){const M=k.getIR(),L=getTilingPatternIR(M,S,x);C.addDependencies(k.dependencies),C.addOp(d,L),S.objId&&E.set(null,S.objId,{operatorListIR:M,dict:S})}).catch(M=>{if(!(M instanceof AbortException)){if(this.options.ignoreErrors){warn(`handleTilingType - ignoring pattern: "${M}".`);return}throw M}})}handleSetFont(d,x,b,w,S,C,F=null,E=null){const k=x?.[0]instanceof Name?x[0].name:null;return this.loadFont(k,b,d,F,E).then(D=>D.font.isType3Font?D.loadType3Data(this,d,S).then(function(){return w.addDependencies(D.type3Dependencies),D}).catch(M=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Type3 font load error: ${M}`),dict:D.font,evaluatorOptions:this.options})):D).then(D=>(C.font=D.font,D.send(this.handler),D.loadedName))}handleText(d,x){const b=x.font,w=b.charsToGlyphs(d);return b.data&&(x.textRenderingMode&TextRenderingMode$1.ADD_TO_PATH_FLAG||x.fillColorSpace.name==="Pattern"||b.disableFontFace||this.options.disableFontFace)&&PartialEvaluator.buildFontPaths(b,w,this.handler,this.options),w}ensureStateFont(d){if(d.font)return;const x=new FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){warn(`ensureStateFont: "${x}".`);return}throw x}async setGState({resources:d,gState:x,operatorList:b,cacheKey:w,task:S,stateManager:C,localGStateCache:F,localColorSpaceCache:E}){const k=x.objId;let D=!0;const M=[];let L=Promise.resolve();for(const R of x.getKeys()){const U=x.get(R);switch(R){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":M.push([R,U]);break;case"Font":D=!1,L=L.then(()=>this.handleSetFont(d,null,U[0],b,S,C.state).then(function(H){b.addDependency(H),M.push([R,[H,U[1]]])}));break;case"BM":M.push([R,normalizeBlendMode(U)]);break;case"SMask":if(isName(U,"None")){M.push([R,!1]);break}U instanceof Dict?(D=!1,L=L.then(()=>this.handleSMask(U,d,b,S,C,E)),M.push([R,!0])):warn("Unsupported SMask type");break;case"TR":const j=this.handleTransferFunction(U);M.push([R,j]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":info("graphic state operator "+R);break;default:info("Unknown graphic state operator "+R);break}}return L.then(function(){M.length>0&&b.addOp(OPS.setGState,[M]),D&&F.set(w,k,M)})}loadFont(d,x,b,w=null,S=null){const C=async()=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Font "${d}" is not available.`),dict:x,evaluatorOptions:this.options});let F;if(x)x instanceof Ref&&(F=x);else{const U=b.get("Font");U&&(F=U.getRaw(d))}if(F){if(this.parsingType3Font&&this.type3FontRefs.has(F))return C();if(this.fontCache.has(F))return this.fontCache.get(F);x=this.xref.fetchIfRef(F)}if(!(x instanceof Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return warn(`Font "${d}" is not available.`),C();warn(`Font "${d}" is not available -- attempting to fallback to a default font.`),x=w||PartialEvaluator.fallbackFontDict}if(x.cacheKey&&this.fontCache.has(x.cacheKey))return this.fontCache.get(x.cacheKey);const E=new PromiseCapability;let k;try{k=this.preEvaluateFont(x),k.cssFontInfo=S}catch(U){return warn(`loadFont - preEvaluateFont failed: "${U}".`),C()}const{descriptor:D,hash:M}=k,L=F instanceof Ref;let R;if(M&&D instanceof Dict){const U=D.fontAliases||=Object.create(null);if(U[M]){const j=U[M].aliasRef;if(L&&j&&this.fontCache.has(j))return this.fontCache.putAlias(F,j),this.fontCache.get(F)}else U[M]={fontID:this.idFactory.createFontId()};L&&(U[M].aliasRef=F),R=U[M].fontID}else R=this.idFactory.createFontId();return assert(R?.startsWith("f"),'The "fontID" must be (correctly) defined.'),L?this.fontCache.put(F,E.promise):(x.cacheKey=`cacheKey_${R}`,this.fontCache.put(x.cacheKey,E.promise)),x.loadedName=`${this.idFactory.getDocId()}_${R}`,this.translateFont(k).then(U=>{E.resolve(new TranslatedFont({loadedName:x.loadedName,font:U,dict:x,evaluatorOptions:this.options}))}).catch(U=>{warn(`loadFont - translateFont failed: "${U}".`),E.resolve(new TranslatedFont({loadedName:x.loadedName,font:new ErrorFont(U instanceof Error?U.message:U),dict:x,evaluatorOptions:this.options}))}),E.promise}buildPath(d,x,b,w=!1){const S=d.length-1;if(b||(b=[]),S<0||d.fnArray[S]!==OPS.constructPath){w&&(warn(`Encountered path operator "${x}" inside of a text object.`),d.addOp(OPS.save,null));let C;switch(x){case OPS.rectangle:const F=b[0]+b[2],E=b[1]+b[3];C=[Math.min(b[0],F),Math.max(b[0],F),Math.min(b[1],E),Math.max(b[1],E)];break;case OPS.moveTo:case OPS.lineTo:C=[b[0],b[0],b[1],b[1]];break;default:C=[1/0,-1/0,1/0,-1/0];break}d.addOp(OPS.constructPath,[[x],b,C]),w&&d.addOp(OPS.restore,null)}else{const C=d.argsArray[S];C[0].push(x),C[1].push(...b);const F=C[2];switch(x){case OPS.rectangle:const E=b[0]+b[2],k=b[1]+b[3];F[0]=Math.min(F[0],b[0],E),F[1]=Math.max(F[1],b[0],E),F[2]=Math.min(F[2],b[1],k),F[3]=Math.max(F[3],b[1],k);break;case OPS.moveTo:case OPS.lineTo:F[0]=Math.min(F[0],b[0]),F[1]=Math.max(F[1],b[0]),F[2]=Math.min(F[2],b[1]),F[3]=Math.max(F[3],b[1]);break}}}parseColorSpace({cs:d,resources:x,localColorSpaceCache:b}){return ColorSpace$1.parseAsync({cs:d,xref:this.xref,resources:x,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:b}).catch(w=>{if(w instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`parseColorSpace - ignoring ColorSpace: "${w}".`),null;throw w})}parseShading({shading:d,resources:x,localColorSpaceCache:b,localShadingPatternCache:w}){let S=w.get(d);if(!S){var C=Pattern.parseShading(d,this.xref,x,this._pdfFunctionFactory,b);const F=C.getIR();S=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(S=`${this.idFactory.getDocId()}_type3_${S}`),w.set(d,S),this.parsingType3Font?this.handler.send("commonobj",[S,"Pattern",F]):this.handler.send("obj",[S,this.pageIndex,"Pattern",F])}return S}handleColorN(d,x,b,w,S,C,F,E,k,D){const M=b.pop();if(M instanceof Name){const L=S.getRaw(M.name),R=L instanceof Ref&&k.getByRef(L);if(R)try{const j=w.base?w.base.getRgb(b,0):null,H=getTilingPatternIR(R.operatorListIR,R.dict,j);d.addOp(x,H);return}catch{}const U=this.xref.fetchIfRef(L);if(U){const j=U instanceof BaseStream?U.dict:U,H=j.get("PatternType");if(H===PatternType.TILING){const z=w.base?w.base.getRgb(b,0):null;return this.handleTilingType(x,z,C,U,j,d,F,k)}else if(H===PatternType.SHADING){const z=j.get("Shading"),V=j.getArray("Matrix"),G=this.parseShading({shading:z,resources:C,localColorSpaceCache:E,localShadingPatternCache:D});d.addOp(x,["Shading",G,V]);return}throw new FormatError(`Unknown PatternType: ${H}`)}}throw new FormatError(`Unknown PatternName: ${M}`)}_parseVisibilityExpression(d,x,b){if(++x>10){warn("Visibility expression is too deeply nested");return}const S=d.length,C=this.xref.fetchIfRef(d[0]);if(S<2||!(C instanceof Name)){warn("Invalid visibility expression");return}switch(C.name){case"And":case"Or":case"Not":b.push(C.name);break;default:warn(`Invalid operator ${C.name} in visibility expression`);return}for(let F=1;F<S;F++){const E=d[F],k=this.xref.fetchIfRef(E);if(Array.isArray(k)){const D=[];b.push(D),this._parseVisibilityExpression(k,x,D)}else E instanceof Ref&&b.push(E.toString())}}async parseMarkedContentProps(d,x){let b;if(d instanceof Name)b=x.get("Properties").get(d.name);else if(d instanceof Dict)b=d;else throw new FormatError("Optional content properties malformed.");const w=b.get("Type")?.name;if(w==="OCG")return{type:w,id:b.objId};if(w==="OCMD"){const S=b.get("VE");if(Array.isArray(S)){const F=[];if(this._parseVisibilityExpression(S,0,F),F.length>0)return{type:"OCMD",expression:F}}const C=b.get("OCGs");if(Array.isArray(C)||C instanceof Dict){const F=[];if(Array.isArray(C))for(const E of C)F.push(E.toString());else F.push(C.objId);return{type:w,ids:F,policy:b.get("P")instanceof Name?b.get("P").name:null,expression:null}}else if(C instanceof Ref)return{type:w,id:C.toString()}}return null}getOperatorList({stream:d,task:x,resources:b,operatorList:w,initialState:S=null,fallbackFontDict:C=null}){if(b||=Dict.empty,S||=new EvalState,!w)throw new Error('getOperatorList: missing "operatorList" parameter');const F=this,E=this.xref;let k=!1;const D=new LocalImageCache,M=new LocalColorSpaceCache,L=new LocalGStateCache,R=new LocalTilingPatternCache,U=new Map,j=b.get("XObject")||Dict.empty,H=b.get("Pattern")||Dict.empty,z=new StateManager(S),V=new EvaluatorPreprocessor(d,E,z),G=new TimeSlotManager;function $(K){for(let Z=0,Q=V.savedStatesDepth;Z<Q;Z++)w.addOp(OPS.restore,[])}return new Promise(function K(Z,Q){const ne=function(Ee){Promise.all([Ee,w.ready]).then(function(){try{K(Z,Q)}catch(Ue){Q(Ue)}},Q)};x.ensureNotTerminated(),G.reset();const le={};let fe,be,me,we,oe,ge;for(;!(fe=G.check())&&(le.args=null,!!V.read(le));){let Ee=le.args,Ue=le.fn;switch(Ue|0){case OPS.paintXObject:if(ge=Ee[0]instanceof Name,oe=Ee[0].name,ge){const _e=D.getByName(oe);if(_e){w.addImageOps(_e.fn,_e.args,_e.optionalContent),incrementCachedImageMaskCount(_e),Ee=null;continue}}ne(new Promise(function(_e,Pe){if(!ge)throw new FormatError("XObject must be referred to by name.");let re=j.getRaw(oe);if(re instanceof Ref){const Y=D.getByRef(re)||F._regionalImageCache.getByRef(re);if(Y){w.addImageOps(Y.fn,Y.args,Y.optionalContent),incrementCachedImageMaskCount(Y),_e();return}const W=F.globalImageCache.getData(re,F.pageIndex);if(W){w.addDependency(W.objId),w.addImageOps(W.fn,W.args,W.optionalContent),_e();return}re=E.fetch(re)}if(!(re instanceof BaseStream))throw new FormatError("XObject should be a stream");const ae=re.dict.get("Subtype");if(!(ae instanceof Name))throw new FormatError("XObject should have a Name subtype");if(ae.name==="Form"){z.save(),F.buildFormXObject(b,re,null,w,x,z.state.clone(),M).then(function(){z.restore(),_e()},Pe);return}else if(ae.name==="Image"){F.buildPaintImageXObject({resources:b,image:re,operatorList:w,cacheKey:oe,localImageCache:D,localColorSpaceCache:M}).then(_e,Pe);return}else if(ae.name==="PS")info("Ignored XObject subtype PS");else throw new FormatError(`Unhandled XObject subtype ${ae.name}`);_e()}).catch(function(_e){if(!(_e instanceof AbortException)){if(F.options.ignoreErrors){warn(`getOperatorList - ignoring XObject: "${_e}".`);return}throw _e}}));return;case OPS.setFont:var Ae=Ee[1];ne(F.handleSetFont(b,Ee,null,w,x,z.state,C).then(function(_e){w.addDependency(_e),w.addOp(OPS.setFont,[_e,Ae])}));return;case OPS.beginText:k=!0;break;case OPS.endText:k=!1;break;case OPS.endInlineImage:var Ce=Ee[0].cacheKey;if(Ce){const _e=D.getByName(Ce);if(_e){w.addImageOps(_e.fn,_e.args,_e.optionalContent),incrementCachedImageMaskCount(_e),Ee=null;continue}}ne(F.buildPaintImageXObject({resources:b,image:Ee[0],isInline:!0,operatorList:w,cacheKey:Ce,localImageCache:D,localColorSpaceCache:M}));return;case OPS.showText:if(!z.state.font){F.ensureStateFont(z.state);continue}Ee[0]=F.handleText(Ee[0],z.state);break;case OPS.showSpacedText:if(!z.state.font){F.ensureStateFont(z.state);continue}var Ne=[],Oe=z.state;for(const _e of Ee[0])typeof _e=="string"?Ne.push(...F.handleText(_e,Oe)):typeof _e=="number"&&Ne.push(_e);Ee[0]=Ne,Ue=OPS.showText;break;case OPS.nextLineShowText:if(!z.state.font){F.ensureStateFont(z.state);continue}w.addOp(OPS.nextLine),Ee[0]=F.handleText(Ee[0],z.state),Ue=OPS.showText;break;case OPS.nextLineSetSpacingShowText:if(!z.state.font){F.ensureStateFont(z.state);continue}w.addOp(OPS.nextLine),w.addOp(OPS.setWordSpacing,[Ee.shift()]),w.addOp(OPS.setCharSpacing,[Ee.shift()]),Ee[0]=F.handleText(Ee[0],z.state),Ue=OPS.showText;break;case OPS.setTextRenderingMode:z.state.textRenderingMode=Ee[0];break;case OPS.setFillColorSpace:{const _e=ColorSpace$1.getCached(Ee[0],E,M);if(_e){z.state.fillColorSpace=_e;continue}ne(F.parseColorSpace({cs:Ee[0],resources:b,localColorSpaceCache:M}).then(function(Pe){Pe&&(z.state.fillColorSpace=Pe)}));return}case OPS.setStrokeColorSpace:{const _e=ColorSpace$1.getCached(Ee[0],E,M);if(_e){z.state.strokeColorSpace=_e;continue}ne(F.parseColorSpace({cs:Ee[0],resources:b,localColorSpaceCache:M}).then(function(Pe){Pe&&(z.state.strokeColorSpace=Pe)}));return}case OPS.setFillColor:we=z.state.fillColorSpace,Ee=we.getRgb(Ee,0),Ue=OPS.setFillRGBColor;break;case OPS.setStrokeColor:we=z.state.strokeColorSpace,Ee=we.getRgb(Ee,0),Ue=OPS.setStrokeRGBColor;break;case OPS.setFillGray:z.state.fillColorSpace=ColorSpace$1.singletons.gray,Ee=ColorSpace$1.singletons.gray.getRgb(Ee,0),Ue=OPS.setFillRGBColor;break;case OPS.setStrokeGray:z.state.strokeColorSpace=ColorSpace$1.singletons.gray,Ee=ColorSpace$1.singletons.gray.getRgb(Ee,0),Ue=OPS.setStrokeRGBColor;break;case OPS.setFillCMYKColor:z.state.fillColorSpace=ColorSpace$1.singletons.cmyk,Ee=ColorSpace$1.singletons.cmyk.getRgb(Ee,0),Ue=OPS.setFillRGBColor;break;case OPS.setStrokeCMYKColor:z.state.strokeColorSpace=ColorSpace$1.singletons.cmyk,Ee=ColorSpace$1.singletons.cmyk.getRgb(Ee,0),Ue=OPS.setStrokeRGBColor;break;case OPS.setFillRGBColor:z.state.fillColorSpace=ColorSpace$1.singletons.rgb,Ee=ColorSpace$1.singletons.rgb.getRgb(Ee,0);break;case OPS.setStrokeRGBColor:z.state.strokeColorSpace=ColorSpace$1.singletons.rgb,Ee=ColorSpace$1.singletons.rgb.getRgb(Ee,0);break;case OPS.setFillColorN:if(we=z.state.fillColorSpace,we.name==="Pattern"){ne(F.handleColorN(w,OPS.setFillColorN,Ee,we,H,b,x,M,R,U));return}Ee=we.getRgb(Ee,0),Ue=OPS.setFillRGBColor;break;case OPS.setStrokeColorN:if(we=z.state.strokeColorSpace,we.name==="Pattern"){ne(F.handleColorN(w,OPS.setStrokeColorN,Ee,we,H,b,x,M,R,U));return}Ee=we.getRgb(Ee,0),Ue=OPS.setStrokeRGBColor;break;case OPS.shadingFill:var Be=b.get("Shading");if(!Be)throw new FormatError("No shading resource found");var Ie=Be.get(Ee[0].name);if(!Ie)throw new FormatError("No shading object found");Ee=[F.parseShading({shading:Ie,resources:b,localColorSpaceCache:M,localShadingPatternCache:U})],Ue=OPS.shadingFill;break;case OPS.setGState:if(ge=Ee[0]instanceof Name,oe=Ee[0].name,ge){const _e=L.getByName(oe);if(_e){_e.length>0&&w.addOp(OPS.setGState,[_e]),Ee=null;continue}}ne(new Promise(function(_e,Pe){if(!ge)throw new FormatError("GState must be referred to by name.");const re=b.get("ExtGState");if(!(re instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const ae=re.get(oe);if(!(ae instanceof Dict))throw new FormatError("GState should be a dictionary.");F.setGState({resources:b,gState:ae,operatorList:w,cacheKey:oe,task:x,stateManager:z,localGStateCache:L,localColorSpaceCache:M}).then(_e,Pe)}).catch(function(_e){if(!(_e instanceof AbortException)){if(F.options.ignoreErrors){warn(`getOperatorList - ignoring ExtGState: "${_e}".`);return}throw _e}}));return;case OPS.moveTo:case OPS.lineTo:case OPS.curveTo:case OPS.curveTo2:case OPS.curveTo3:case OPS.closePath:case OPS.rectangle:F.buildPath(w,Ue,Ee,k);continue;case OPS.markPoint:case OPS.markPointProps:case OPS.beginCompat:case OPS.endCompat:continue;case OPS.beginMarkedContentProps:if(!(Ee[0]instanceof Name)){warn(`Expected name for beginMarkedContentProps arg0=${Ee[0]}`);continue}if(Ee[0].name==="OC"){ne(F.parseMarkedContentProps(Ee[1],b).then(_e=>{w.addOp(OPS.beginMarkedContentProps,["OC",_e])}).catch(_e=>{if(!(_e instanceof AbortException)){if(F.options.ignoreErrors){warn(`getOperatorList - ignoring beginMarkedContentProps: "${_e}".`);return}throw _e}}));return}Ee=[Ee[0].name,Ee[1]instanceof Dict?Ee[1].get("MCID"):null];break;case OPS.beginMarkedContent:case OPS.endMarkedContent:default:if(Ee!==null){for(be=0,me=Ee.length;be<me&&!(Ee[be]instanceof Dict);be++);if(be<me){warn("getOperatorList - ignoring operator: "+Ue);continue}}}w.addOp(Ue,Ee)}if(fe){ne(deferred);return}$(),Z()}).catch(K=>{if(!(K instanceof AbortException)){if(this.options.ignoreErrors){warn(`getOperatorList - ignoring errors during "${x.name}" task: "${K}".`),$();return}throw K}})}getTextContent({stream:d,task:x,resources:b,stateManager:w=null,includeMarkedContent:S=!1,sink:C,seenStyles:F=new Set,viewBox:E,markedContentData:k=null,disableNormalization:D=!1}){b||=Dict.empty,w||=new StateManager(new TextState),S&&(k||={level:0});const M={items:[],styles:Object.create(null)},L={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},R=[" "," "];let U=0;function j(W){const ee=(U+1)%2,J=R[U]!==" "&&R[ee]===" ";return R[U]=W,U=ee,J}function H(){return R[U]!==" "&&R[(U+1)%2]===" "}function z(){R[0]=R[1]=" ",U=0}const V=.102,G=.03,$=-.2,K=.102,Z=.6,Q=.25,ne=this,le=this.xref,fe=[];let be=null;const me=new LocalImageCache,we=new LocalGStateCache,oe=new EvaluatorPreprocessor(d,le,w);let ge;function Ae({width:W=0,height:ee=0,transform:J=L.prevTransform,fontName:te=L.fontName}){M.items.push({str:" ",dir:"ltr",width:W,height:ee,transform:J,fontName:te,hasEOL:!1})}function Ce(){const W=ge.font,ee=[ge.fontSize*ge.textHScale,0,0,ge.fontSize,0,ge.textRise];if(W.isType3Font&&(ge.fontSize<=1||W.isCharBBox)&&!isArrayEqual(ge.fontMatrix,FONT_IDENTITY_MATRIX)){const J=W.bbox[3]-W.bbox[1];J>0&&(ee[3]*=J*ge.fontMatrix[3])}return Util.transform(ge.ctm,Util.transform(ge.textMatrix,ee))}function Ne(){if(L.initialized)return L;const{font:W,loadedName:ee}=ge;if(!F.has(ee)&&(F.add(ee),M.styles[ee]={fontFamily:W.fallbackName,ascent:W.ascent,descent:W.descent,vertical:W.vertical},ne.options.fontExtraProperties&&W.systemFontInfo)){const ue=M.styles[ee];ue.fontSubstitution=W.systemFontInfo.css,ue.fontSubstitutionLoadedName=W.systemFontInfo.loadedName}L.fontName=ee;const J=L.transform=Ce();W.vertical?(L.width=L.totalWidth=Math.hypot(J[0],J[1]),L.height=L.totalHeight=0,L.vertical=!0):(L.width=L.totalWidth=0,L.height=L.totalHeight=Math.hypot(J[2],J[3]),L.vertical=!1);const te=Math.hypot(ge.textLineMatrix[0],ge.textLineMatrix[1]),X=Math.hypot(ge.ctm[0],ge.ctm[1]);L.textAdvanceScale=X*te;const{fontSize:he}=ge;return L.trackingSpaceMin=he*V,L.notASpace=he*G,L.negativeSpaceMax=he*$,L.spaceInFlowMin=he*K,L.spaceInFlowMax=he*Z,L.hasEOL=!1,L.initialized=!0,L}function Oe(){if(!L.initialized)return;const W=Math.hypot(ge.textLineMatrix[0],ge.textLineMatrix[1]),J=Math.hypot(ge.ctm[0],ge.ctm[1])*W;J!==L.textAdvanceScale&&(L.vertical?(L.totalHeight+=L.height*L.textAdvanceScale,L.height=0):(L.totalWidth+=L.width*L.textAdvanceScale,L.width=0),L.textAdvanceScale=J)}function Be(W){let ee=W.str.join("");D||(ee=normalizeUnicode(ee));const J=bidi(ee,-1,W.vertical);return{str:J.str,dir:J.dir,width:Math.abs(W.totalWidth),height:Math.abs(W.totalHeight),transform:W.transform,fontName:W.fontName,hasEOL:W.hasEOL}}function Ie(W,ee){return ne.loadFont(W,ee,b).then(function(J){return J.font.isType3Font?J.loadType3Data(ne,b,x).catch(function(){}).then(function(){return J}):J}).then(function(J){ge.loadedName=J.loadedName,ge.font=J.font,ge.fontMatrix=J.font.fontMatrix||FONT_IDENTITY_MATRIX})}function Ee(W,ee,J){const te=Math.hypot(J[0],J[1]);return[(J[0]*W+J[1]*ee)/te,(J[2]*W+J[3]*ee)/te]}function Ue(W){const ee=Ce();let J=ee[4],te=ee[5];if(ge.font?.vertical){if(J<E[0]||J>E[2]||te+W<E[1]||te>E[3])return!1}else if(J+W<E[0]||J>E[2]||te<E[1]||te>E[3])return!1;if(!ge.font||!L.prevTransform)return!0;let X=L.prevTransform[4],he=L.prevTransform[5];if(X===J&&he===te)return!0;let ue=-1;switch(ee[0]&&ee[1]===0&&ee[2]===0?ue=ee[0]>0?0:180:ee[1]&&ee[0]===0&&ee[3]===0&&(ue=ee[1]>0?90:270),ue){case 0:break;case 90:[J,te]=[te,J],[X,he]=[he,X];break;case 180:[J,te,X,he]=[-J,-te,-X,-he];break;case 270:[J,te]=[-te,-J],[X,he]=[-he,-X];break;default:[J,te]=Ee(J,te,ee),[X,he]=Ee(X,he,L.prevTransform)}if(ge.font.vertical){const Se=(he-te)/L.textAdvanceScale,ve=J-X,pe=Math.sign(L.height);return Se<pe*L.negativeSpaceMax?Math.abs(ve)>.5*L.width?(_e(),!0):(z(),re(),!0):Math.abs(ve)>L.width?(_e(),!0):(Se<=pe*L.notASpace&&z(),Se<=pe*L.trackingSpaceMin?H()?(z(),re(),Ae({height:Math.abs(Se)})):L.height+=Se:Pe(Se,L.prevTransform,pe)||(L.str.length===0?(z(),Ae({height:Math.abs(Se)})):L.height+=Se),Math.abs(ve)>L.width*Q&&re(),!0)}const ce=(J-X)/L.textAdvanceScale,se=te-he,xe=Math.sign(L.width);return ce<xe*L.negativeSpaceMax?Math.abs(se)>.5*L.height?(_e(),!0):(z(),re(),!0):Math.abs(se)>L.height?(_e(),!0):(ce<=xe*L.notASpace&&z(),ce<=xe*L.trackingSpaceMin?H()?(z(),re(),Ae({width:Math.abs(ce)})):L.width+=ce:Pe(ce,L.prevTransform,xe)||(L.str.length===0?(z(),Ae({width:Math.abs(ce)})):L.width+=ce),Math.abs(se)>L.height*Q&&re(),!0)}function De({chars:W,extraSpacing:ee}){const J=ge.font;if(!W){const he=ge.charSpacing+ee;he&&(J.vertical?ge.translateTextMatrix(0,-he):ge.translateTextMatrix(he*ge.textHScale,0));return}const te=J.charsToGlyphs(W),X=ge.fontMatrix[0]*ge.fontSize;for(let he=0,ue=te.length;he<ue;he++){const ce=te[he],{category:se}=ce;if(se.isInvisibleFormatMark)continue;let xe=ge.charSpacing+(he+1===ue?ee:0),Se=ce.width;J.vertical&&(Se=ce.vmetric?ce.vmetric[0]:-Se);let ve=Se*X;if(se.isWhitespace){J.vertical?(xe+=-ve+ge.wordSpacing,ge.translateTextMatrix(0,-xe)):(xe+=ve+ge.wordSpacing,ge.translateTextMatrix(xe*ge.textHScale,0)),j(" ");continue}if(!se.isZeroWidthDiacritic&&!Ue(ve)){J.vertical?ge.translateTextMatrix(0,ve):ge.translateTextMatrix(ve*ge.textHScale,0);continue}const pe=Ne();se.isZeroWidthDiacritic&&(ve=0),J.vertical?(ge.translateTextMatrix(0,ve),ve=Math.abs(ve),pe.height+=ve):(ve*=ge.textHScale,ge.translateTextMatrix(ve,0),pe.width+=ve),ve&&(pe.prevTransform=Ce());const Fe=ce.unicode;j(Fe)&&pe.str.push(" "),pe.str.push(Fe),xe&&(J.vertical?ge.translateTextMatrix(0,-xe):ge.translateTextMatrix(xe*ge.textHScale,0))}}function _e(){z(),L.initialized?(L.hasEOL=!0,re()):M.items.push({str:"",dir:"ltr",width:0,height:0,transform:Ce(),fontName:ge.loadedName,hasEOL:!0})}function Pe(W,ee,J){if(J*L.spaceInFlowMin<=W&&W<=J*L.spaceInFlowMax)return L.initialized&&(z(),L.str.push(" ")),!1;const te=L.fontName;let X=0;return L.vertical&&(X=W,W=0),re(),z(),Ae({width:Math.abs(W),height:Math.abs(X),transform:ee||Ce(),fontName:te}),!0}function re(){!L.initialized||!L.str||(L.vertical?L.totalHeight+=L.height*L.textAdvanceScale:L.totalWidth+=L.width*L.textAdvanceScale,M.items.push(Be(L)),L.initialized=!1,L.str.length=0)}function ae(W=!1){const ee=M.items.length;ee!==0&&(W&&ee<TEXT_CHUNK_BATCH_SIZE||(C.enqueue(M,ee),M.items=[],M.styles=Object.create(null)))}const Y=new TimeSlotManager;return new Promise(function W(ee,J){const te=function(ve){ae(!0),Promise.all([ve,C.ready]).then(function(){try{W(ee,J)}catch(pe){J(pe)}},J)};x.ensureNotTerminated(),Y.reset();const X={};let he,ue=[];for(;!(he=Y.check())&&(ue.length=0,X.args=ue,!!oe.read(X));){const ve=ge;ge=w.state;const pe=X.fn;switch(ue=X.args,pe|0){case OPS.setFont:var ce=ue[0].name,se=ue[1];if(ge.font&&ce===ge.fontName&&se===ge.fontSize)break;re(),ge.fontName=ce,ge.fontSize=se,te(Ie(ce,null));return;case OPS.setTextRise:ge.textRise=ue[0];break;case OPS.setHScale:ge.textHScale=ue[0]/100;break;case OPS.setLeading:ge.leading=ue[0];break;case OPS.moveText:ge.translateTextLineMatrix(ue[0],ue[1]),ge.textMatrix=ge.textLineMatrix.slice();break;case OPS.setLeadingMoveText:ge.leading=-ue[1],ge.translateTextLineMatrix(ue[0],ue[1]),ge.textMatrix=ge.textLineMatrix.slice();break;case OPS.nextLine:ge.carriageReturn();break;case OPS.setTextMatrix:ge.setTextMatrix(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),ge.setTextLineMatrix(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),Oe();break;case OPS.setCharSpacing:ge.charSpacing=ue[0];break;case OPS.setWordSpacing:ge.wordSpacing=ue[0];break;case OPS.beginText:ge.textMatrix=IDENTITY_MATRIX.slice(),ge.textLineMatrix=IDENTITY_MATRIX.slice();break;case OPS.showSpacedText:if(!w.state.font){ne.ensureStateFont(w.state);continue}const Fe=(ge.font.vertical?1:-1)*ge.fontSize/1e3,Re=ue[0];for(let Te=0,Le=Re.length;Te<Le;Te++){const ye=Re[Te];if(typeof ye=="string")fe.push(ye);else if(typeof ye=="number"&&ye!==0){const ie=fe.join("");fe.length=0,De({chars:ie,extraSpacing:ye*Fe})}}if(fe.length>0){const Te=fe.join("");fe.length=0,De({chars:Te,extraSpacing:0})}break;case OPS.showText:if(!w.state.font){ne.ensureStateFont(w.state);continue}De({chars:ue[0],extraSpacing:0});break;case OPS.nextLineShowText:if(!w.state.font){ne.ensureStateFont(w.state);continue}ge.carriageReturn(),De({chars:ue[0],extraSpacing:0});break;case OPS.nextLineSetSpacingShowText:if(!w.state.font){ne.ensureStateFont(w.state);continue}ge.wordSpacing=ue[0],ge.charSpacing=ue[1],ge.carriageReturn(),De({chars:ue[2],extraSpacing:0});break;case OPS.paintXObject:re(),be||(be=b.get("XObject")||Dict.empty);var xe=ue[0]instanceof Name,Se=ue[0].name;if(xe&&me.getByName(Se))break;te(new Promise(function(Te,Le){if(!xe)throw new FormatError("XObject must be referred to by name.");let ye=be.getRaw(Se);if(ye instanceof Ref){if(me.getByRef(ye)){Te();return}if(ne.globalImageCache.getData(ye,ne.pageIndex)){Te();return}ye=le.fetch(ye)}if(!(ye instanceof BaseStream))throw new FormatError("XObject should be a stream");const ie=ye.dict.get("Subtype");if(!(ie instanceof Name))throw new FormatError("XObject should have a Name subtype");if(ie.name!=="Form"){me.set(Se,ye.dict.objId,!0),Te();return}const de=w.state.clone(),ke=new StateManager(de),Me=ye.dict.getArray("Matrix");Array.isArray(Me)&&Me.length===6&&ke.transform(Me),ae();const je={enqueueInvoked:!1,enqueue(He,ze){this.enqueueInvoked=!0,C.enqueue(He,ze)},get desiredSize(){return C.desiredSize},get ready(){return C.ready}};ne.getTextContent({stream:ye,task:x,resources:ye.dict.get("Resources")||b,stateManager:ke,includeMarkedContent:S,sink:je,seenStyles:F,viewBox:E,markedContentData:k,disableNormalization:D}).then(function(){je.enqueueInvoked||me.set(Se,ye.dict.objId,!0),Te()},Le)}).catch(function(Te){if(!(Te instanceof AbortException)){if(ne.options.ignoreErrors){warn(`getTextContent - ignoring XObject: "${Te}".`);return}throw Te}}));return;case OPS.setGState:if(xe=ue[0]instanceof Name,Se=ue[0].name,xe&&we.getByName(Se))break;te(new Promise(function(Te,Le){if(!xe)throw new FormatError("GState must be referred to by name.");const ye=b.get("ExtGState");if(!(ye instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const ie=ye.get(Se);if(!(ie instanceof Dict))throw new FormatError("GState should be a dictionary.");const de=ie.get("Font");if(!de){we.set(Se,ie.objId,!0),Te();return}re(),ge.fontName=null,ge.fontSize=de[1],Ie(null,de[0]).then(Te,Le)}).catch(function(Te){if(!(Te instanceof AbortException)){if(ne.options.ignoreErrors){warn(`getTextContent - ignoring ExtGState: "${Te}".`);return}throw Te}}));return;case OPS.beginMarkedContent:re(),S&&(k.level++,M.items.push({type:"beginMarkedContent",tag:ue[0]instanceof Name?ue[0].name:null}));break;case OPS.beginMarkedContentProps:if(re(),S){k.level++;let Te=null;ue[1]instanceof Dict&&(Te=ue[1].get("MCID")),M.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Te)?`${ne.idFactory.getPageObjId()}_mc${Te}`:null,tag:ue[0]instanceof Name?ue[0].name:null})}break;case OPS.endMarkedContent:if(re(),S){if(k.level===0)break;k.level--,M.items.push({type:"endMarkedContent"})}break;case OPS.restore:ve&&(ve.font!==ge.font||ve.fontSize!==ge.fontSize||ve.fontName!==ge.fontName)&&re();break}if(M.items.length>=C.desiredSize){he=!0;break}}if(he){te(deferred);return}re(),ae(),ee()}).catch(W=>{if(!(W instanceof AbortException)){if(this.options.ignoreErrors){warn(`getTextContent - ignoring errors during "${x.name}" task: "${W}".`),re(),ae();return}throw W}})}extractDataStructures(d,x,b){const w=this.xref;let S;const C=this.readToUnicode(b.toUnicode||d.get("ToUnicode")||x.get("ToUnicode"));if(b.composite){const L=d.get("CIDSystemInfo");L instanceof Dict&&(b.cidSystemInfo={registry:stringToPDFString(L.get("Registry")),ordering:stringToPDFString(L.get("Ordering")),supplement:L.get("Supplement")});try{const R=d.get("CIDToGIDMap");R instanceof BaseStream&&(S=R.getBytes())}catch(R){if(!this.options.ignoreErrors)throw R;warn(`extractDataStructures - ignoring CIDToGIDMap data: "${R}".`)}}const F=[];let E=null,k;if(d.has("Encoding")){if(k=d.get("Encoding"),k instanceof Dict){if(E=k.get("BaseEncoding"),E=E instanceof Name?E.name:null,k.has("Differences")){const L=k.get("Differences");let R=0;for(const U of L){const j=w.fetchIfRef(U);if(typeof j=="number")R=j;else if(j instanceof Name)F[R++]=j.name;else throw new FormatError(`Invalid entry in 'Differences' array: ${j}`)}}}else if(k instanceof Name)E=k.name;else{const L="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new FormatError(L);warn(L)}E!=="MacRomanEncoding"&&E!=="MacExpertEncoding"&&E!=="WinAnsiEncoding"&&(E=null)}const D=!b.file||b.isInternalFont,M=getSymbolsFonts()[b.name];if(E&&D&&M&&(E=null),E)b.defaultEncoding=getEncoding(E);else{const L=!!(b.flags&FontFlags.Symbolic),R=!!(b.flags&FontFlags.Nonsymbolic);k=StandardEncoding,b.type==="TrueType"&&!R&&(k=WinAnsiEncoding),(L||M)&&(k=MacRomanEncoding,D&&(/Symbol/i.test(b.name)?k=SymbolSetEncoding:/Dingbats/i.test(b.name)?k=ZapfDingbatsEncoding:/Wingdings/i.test(b.name)&&(k=WinAnsiEncoding))),b.defaultEncoding=k}return b.differences=F,b.baseEncodingName=E,b.hasEncoding=!!E||F.length>0,b.dict=d,C.then(L=>(b.toUnicode=L,this.buildToUnicode(b))).then(L=>(b.toUnicode=L,S&&(b.cidToGidMap=this.readCidToGidMap(S,L)),b))}_simpleFontToUnicode(d,x=!1){assert(!d.composite,"Must be a simple font.");const b=[],w=d.defaultEncoding.slice(),S=d.baseEncodingName,C=d.differences;for(const E in C){const k=C[E];k!==".notdef"&&(w[E]=k)}const F=getGlyphsUnicode();for(const E in w){let k=w[E];if(k==="")continue;let D=F[k];if(D!==void 0){b[E]=String.fromCharCode(D);continue}let M=0;switch(k[0]){case"G":k.length===3&&(M=parseInt(k.substring(1),16));break;case"g":k.length===5&&(M=parseInt(k.substring(1),16));break;case"C":case"c":if(k.length>=3&&k.length<=4){const L=k.substring(1);if(x){M=parseInt(L,16);break}if(M=+L,Number.isNaN(M)&&Number.isInteger(parseInt(L,16)))return this._simpleFontToUnicode(d,!0)}break;case"u":D=getUnicodeForGlyph(k,F),D!==-1&&(M=D);break;default:switch(k){case"f_h":case"f_t":case"T_h":b[E]=k.replaceAll("_","");continue}break}if(M>0&&M<=1114111&&Number.isInteger(M)){if(S&&M===+E){const L=getEncoding(S);if(L&&(k=L[E])){b[E]=String.fromCharCode(F[k]);continue}}b[E]=String.fromCodePoint(M)}}return b}async buildToUnicode(d){if(d.hasIncludedToUnicodeMap=d.toUnicode?.length>0,d.hasIncludedToUnicodeMap)return!d.composite&&d.hasEncoding&&(d.fallbackToUnicode=this._simpleFontToUnicode(d)),d.toUnicode;if(!d.composite)return new ToUnicodeMap(this._simpleFontToUnicode(d));if(d.composite&&(d.cMap.builtInCMap&&!(d.cMap instanceof IdentityCMap)||d.cidSystemInfo.registry==="Adobe"&&(d.cidSystemInfo.ordering==="GB1"||d.cidSystemInfo.ordering==="CNS1"||d.cidSystemInfo.ordering==="Japan1"||d.cidSystemInfo.ordering==="Korea1"))){const{registry:x,ordering:b}=d.cidSystemInfo,w=Name.get(`${x}-${b}-UCS2`),S=await CMapFactory.create({encoding:w,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),C=[],F=[];return d.cMap.forEach(function(E,k){if(k>65535)throw new FormatError("Max size of CID is 65,535");const D=S.lookup(k);if(D){F.length=0;for(let M=0,L=D.length;M<L;M+=2)F.push((D.charCodeAt(M)<<8)+D.charCodeAt(M+1));C[E]=String.fromCharCode(...F)}}),new ToUnicodeMap(C)}return new IdentityToUnicodeMap(d.firstChar,d.lastChar)}readToUnicode(d){return d?d instanceof Name?CMapFactory.create({encoding:d,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(x){return x instanceof IdentityCMap?new IdentityToUnicodeMap(0,65535):new ToUnicodeMap(x.getMap())}):d instanceof BaseStream?CMapFactory.create({encoding:d,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(x){if(x instanceof IdentityCMap)return new IdentityToUnicodeMap(0,65535);const b=new Array(x.length);return x.forEach(function(w,S){if(typeof S=="number"){b[w]=String.fromCodePoint(S);return}const C=[];for(let F=0;F<S.length;F+=2){const E=S.charCodeAt(F)<<8|S.charCodeAt(F+1);if((E&63488)!==55296){C.push(E);continue}F+=2;const k=S.charCodeAt(F)<<8|S.charCodeAt(F+1);C.push(((E&1023)<<10)+(k&1023)+65536)}b[w]=String.fromCodePoint(...C)}),new ToUnicodeMap(b)},x=>{if(x instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`readToUnicode - ignoring ToUnicode data: "${x}".`),null;throw x}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(d,x){const b=[];for(let w=0,S=d.length;w<S;w++){const C=d[w++]<<8|d[w],F=w>>1;C===0&&!x.has(F)||(b[F]=C)}return b}extractWidths(d,x,b){const w=this.xref;let S=[],C=0;const F=[];let E,k,D,M,L,R,U,j;if(b.composite){if(C=d.has("DW")?d.get("DW"):1e3,j=d.get("W"),j)for(k=0,D=j.length;k<D;k++)if(R=w.fetchIfRef(j[k++]),U=w.fetchIfRef(j[k]),Array.isArray(U))for(M=0,L=U.length;M<L;M++)S[R++]=w.fetchIfRef(U[M]);else{const V=w.fetchIfRef(j[++k]);for(M=R;M<=U;M++)S[M]=V}if(b.vertical){let V=d.getArray("DW2")||[880,-1e3];if(E=[V[1],C*.5,V[0]],V=d.get("W2"),V)for(k=0,D=V.length;k<D;k++)if(R=w.fetchIfRef(V[k++]),U=w.fetchIfRef(V[k]),Array.isArray(U))for(M=0,L=U.length;M<L;M++)F[R++]=[w.fetchIfRef(U[M++]),w.fetchIfRef(U[M++]),w.fetchIfRef(U[M])];else{const G=[w.fetchIfRef(V[++k]),w.fetchIfRef(V[++k]),w.fetchIfRef(V[++k])];for(M=R;M<=U;M++)F[M]=G}}}else{const V=b.firstChar;if(j=d.get("Widths"),j){for(M=V,k=0,D=j.length;k<D;k++)S[M++]=w.fetchIfRef(j[k]);C=parseFloat(x.get("MissingWidth"))||0}else{const G=d.get("BaseFont");if(G instanceof Name){const $=this.getBaseFontMetrics(G.name);S=this.buildCharCodeToWidth($.widths,b),C=$.defaultWidth}}}let H=!0,z=C;for(const V in S){const G=S[V];if(G){if(!z){z=G;continue}if(z!==G){H=!1;break}}}H?b.flags|=FontFlags.FixedPitch:b.flags&=~FontFlags.FixedPitch,b.defaultWidth=C,b.widths=S,b.defaultVMetrics=E,b.vmetrics=F}isSerifFont(d){const x=d.split("-")[0];return x in getSerifFonts()||/serif/gi.test(x)}getBaseFontMetrics(d){let x=0,b=Object.create(null),w=!1,C=getStdFontMap()[d]||d;const F=getMetrics();C in F||(C=this.isSerifFont(d)?"Times-Roman":"Helvetica");const E=F[C];return typeof E=="number"?(x=E,w=!0):b=E(),{defaultWidth:x,monospace:w,widths:b}}buildCharCodeToWidth(d,x){const b=Object.create(null),w=x.differences,S=x.defaultEncoding;for(let C=0;C<256;C++){if(C in w&&d[w[C]]){b[C]=d[w[C]];continue}if(C in S&&d[S[C]]){b[C]=d[S[C]];continue}}return b}preEvaluateFont(d){const x=d;let b=d.get("Subtype");if(!(b instanceof Name))throw new FormatError("invalid font Subtype");let w=!1,S,C;if(b.name==="Type0"){const D=d.get("DescendantFonts");if(!D)throw new FormatError("Descendant fonts are not specified");if(d=Array.isArray(D)?this.xref.fetchIfRef(D[0]):D,!(d instanceof Dict))throw new FormatError("Descendant font is not a dictionary.");if(b=d.get("Subtype"),!(b instanceof Name))throw new FormatError("invalid font Subtype");w=!0}const F=d.get("FirstChar")||0,E=d.get("LastChar")||(w?65535:255),k=d.get("FontDescriptor");if(k){S=new MurmurHash3_64;const D=x.getRaw("Encoding");if(D instanceof Name)S.update(D.name);else if(D instanceof Ref)S.update(D.toString());else if(D instanceof Dict){for(const L of D.getRawValues())if(L instanceof Name)S.update(L.name);else if(L instanceof Ref)S.update(L.toString());else if(Array.isArray(L)){const R=L.length,U=new Array(R);for(let j=0;j<R;j++){const H=L[j];H instanceof Name?U[j]=H.name:(typeof H=="number"||H instanceof Ref)&&(U[j]=H.toString())}S.update(U.join())}}if(S.update(`${F}-${E}`),C=d.get("ToUnicode")||x.get("ToUnicode"),C instanceof BaseStream){const L=C.str||C,R=L.buffer?new Uint8Array(L.buffer.buffer,0,L.bufferLength):new Uint8Array(L.bytes.buffer,L.start,L.end-L.start);S.update(R)}else C instanceof Name&&S.update(C.name);const M=d.get("Widths")||x.get("Widths");if(Array.isArray(M)){const L=[];for(const R of M)(typeof R=="number"||R instanceof Ref)&&L.push(R.toString());S.update(L.join())}if(w){S.update("compositeFont");const L=d.get("W")||x.get("W");if(Array.isArray(L)){const U=[];for(const j of L)if(typeof j=="number"||j instanceof Ref)U.push(j.toString());else if(Array.isArray(j)){const H=[];for(const z of j)(typeof z=="number"||z instanceof Ref)&&H.push(z.toString());U.push(`[${H.join()}]`)}S.update(U.join())}const R=d.getRaw("CIDToGIDMap")||x.getRaw("CIDToGIDMap");R instanceof Name?S.update(R.name):R instanceof Ref?S.update(R.toString()):R instanceof BaseStream&&S.update(R.peekBytes())}}return{descriptor:k,dict:d,baseDict:x,composite:w,type:b.name,firstChar:F,lastChar:E,toUnicode:C,hash:S?S.hexdigest():""}}async translateFont({descriptor:d,dict:x,baseDict:b,composite:w,type:S,firstChar:C,lastChar:F,toUnicode:E,cssFontInfo:k}){const D=S==="Type3";let M;if(!d)if(D)d=new Dict(null),d.set("FontName",Name.get(S)),d.set("FontBBox",x.getArray("FontBBox")||[0,0,0,0]);else{let ne=x.get("BaseFont");if(!(ne instanceof Name))throw new FormatError("Base font is not specified");ne=ne.name.replaceAll(/[,_]/g,"-");const le=this.getBaseFontMetrics(ne),fe=ne.split("-")[0],be=(this.isSerifFont(fe)?FontFlags.Serif:0)|(le.monospace?FontFlags.FixedPitch:0)|(getSymbolsFonts()[fe]?FontFlags.Symbolic:FontFlags.Nonsymbolic);M={type:S,name:ne,loadedName:b.loadedName,systemFontInfo:null,widths:le.widths,defaultWidth:le.defaultWidth,isSimulatedFlags:!0,flags:be,firstChar:C,lastChar:F,toUnicode:E,xHeight:0,capHeight:0,italicAngle:0,isType3Font:D};const me=x.get("Widths"),we=getStandardFontName(ne);let oe=null;return we&&(oe=await this.fetchStandardFontData(we),M.isInternalFont=!!oe),!M.isInternalFont&&this.options.useSystemFonts&&(M.systemFontInfo=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,ne,we)),this.extractDataStructures(x,x,M).then(ge=>{if(me){const Ae=[];let Ce=C;for(const Ne of me)Ae[Ce++]=this.xref.fetchIfRef(Ne);ge.widths=Ae}else ge.widths=this.buildCharCodeToWidth(le.widths,ge);return new Font$2(ne,oe,ge)})}let L=d.get("FontName"),R=x.get("BaseFont");typeof L=="string"&&(L=Name.get(L)),typeof R=="string"&&(R=Name.get(R));const U=L?.name,j=R?.name;if(!D&&U!==j&&(info(`The FontDescriptor's FontName is "${U}" but should be the same as the Font's BaseFont "${j}".`),U&&j&&(j.startsWith(U)||!isKnownFontName(U)&&isKnownFontName(j))&&(L=null)),L||=R,!(L instanceof Name))throw new FormatError("invalid font name");let H,z,V,G,$;try{H=d.get("FontFile","FontFile2","FontFile3")}catch(ne){if(!this.options.ignoreErrors)throw ne;warn(`translateFont - fetching "${L.name}" font file: "${ne}".`),H=new NullStream}let K=!1,Z=null,Q=null;if(H){if(H.dict){const ne=H.dict.get("Subtype");ne instanceof Name&&(z=ne.name),V=H.dict.get("Length1"),G=H.dict.get("Length2"),$=H.dict.get("Length3")}}else if(k){const ne=getXfaFontName(L.name);ne&&(k.fontFamily=`${k.fontFamily}-PdfJS-XFA`,k.metrics=ne.metrics||null,Z=ne.factors||null,H=await this.fetchStandardFontData(ne.name),K=!!H,b=x=getXfaFontDict(L.name),w=!0)}else if(!D){const ne=getStandardFontName(L.name);ne&&(H=await this.fetchStandardFontData(ne),K=!!H),!K&&this.options.useSystemFonts&&(Q=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,L.name,ne))}if(M={type:S,name:L.name,subtype:z,file:H,length1:V,length2:G,length3:$,isInternalFont:K,loadedName:b.loadedName,composite:w,fixedPitch:!1,fontMatrix:x.getArray("FontMatrix")||FONT_IDENTITY_MATRIX,firstChar:C,lastChar:F,toUnicode:E,bbox:d.getArray("FontBBox")||x.getArray("FontBBox"),ascent:d.get("Ascent"),descent:d.get("Descent"),xHeight:d.get("XHeight")||0,capHeight:d.get("CapHeight")||0,flags:d.get("Flags"),italicAngle:d.get("ItalicAngle")||0,isType3Font:D,cssFontInfo:k,scaleFactors:Z,systemFontInfo:Q},w){const ne=b.get("Encoding");ne instanceof Name&&(M.cidEncoding=ne.name);const le=await CMapFactory.create({encoding:ne,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});M.cMap=le,M.vertical=M.cMap.vertical}return this.extractDataStructures(x,b,M).then(ne=>(this.extractWidths(x,d,ne),new Font$2(L.name,H,ne)))}static buildFontPaths(d,x,b,w){function S(C){const F=`${d.loadedName}_path_${C}`;try{if(d.renderer.hasBuiltPath(C))return;b.send("commonobj",[F,"FontPath",d.renderer.getPathJs(C)])}catch(E){if(w.ignoreErrors){warn(`buildFontPaths - ignoring ${F} glyph: "${E}".`);return}throw E}}for(const C of x){S(C.fontChar);const F=C.accent;F?.fontChar&&S(F.fontChar)}}static get fallbackFontDict(){const d=new Dict;return d.set("BaseFont",Name.get("Helvetica")),d.set("Type",Name.get("FallbackType")),d.set("Subtype",Name.get("FallbackType")),d.set("Encoding",Name.get("WinAnsiEncoding")),shadow(this,"fallbackFontDict",d)}}class TranslatedFont{constructor({loadedName:d,font:x,dict:b,evaluatorOptions:w}){this.loadedName=d,this.font=x,this.dict=b,this._evaluatorOptions=w||DefaultPartialEvaluatorOptions,this.type3Loaded=null,this.type3Dependencies=x.isType3Font?new Set:null,this.sent=!1}send(d){this.sent||(this.sent=!0,d.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(d){this.font.data&&(this.font.disableFontFace=!0,PartialEvaluator.buildFontPaths(this.font,this.font.glyphCacheValues,d,this._evaluatorOptions))}loadType3Data(d,x,b){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const w=d.clone({ignoreErrors:!1});w.parsingType3Font=!0;const S=new RefSet(d.type3FontRefs);this.dict.objId&&!S.has(this.dict.objId)&&S.put(this.dict.objId),w.type3FontRefs=S;const C=this.font,F=this.type3Dependencies;let E=Promise.resolve();const k=this.dict.get("CharProcs"),D=this.dict.get("Resources")||x,M=Object.create(null),L=Util.normalizeRect(C.bbox||[0,0,0,0]),R=L[2]-L[0],U=L[3]-L[1],j=Math.hypot(R,U);for(const H of k.getKeys())E=E.then(()=>{const z=k.get(H),V=new OperatorList;return w.getOperatorList({stream:z,task:b,resources:D,operatorList:V}).then(()=>{V.fnArray[0]===OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(V,j),M[H]=V.getIR();for(const G of V.dependencies)F.add(G)}).catch(function(G){warn(`Type3 font resource "${H}" is not available.`);const $=new OperatorList;M[H]=$.getIR()})});return this.type3Loaded=E.then(()=>{C.charProcOperatorList=M,this._bbox&&(C.isCharBBox=!0,C.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(d,x=NaN){const b=Util.normalizeRect(d.argsArray[0].slice(2)),w=b[2]-b[0],S=b[3]-b[1],C=Math.hypot(w,S);w===0||S===0?(d.fnArray.splice(0,1),d.argsArray.splice(0,1)):(x===0||Math.round(C/x)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],b[0]),this._bbox[1]=Math.min(this._bbox[1],b[1]),this._bbox[2]=Math.max(this._bbox[2],b[2]),this._bbox[3]=Math.max(this._bbox[3],b[3]));let F=0,E=d.length;for(;F<E;){switch(d.fnArray[F]){case OPS.setCharWidthAndBounds:break;case OPS.setStrokeColorSpace:case OPS.setFillColorSpace:case OPS.setStrokeColor:case OPS.setStrokeColorN:case OPS.setFillColor:case OPS.setFillColorN:case OPS.setStrokeGray:case OPS.setFillGray:case OPS.setStrokeRGBColor:case OPS.setFillRGBColor:case OPS.setStrokeCMYKColor:case OPS.setFillCMYKColor:case OPS.shadingFill:case OPS.setRenderingIntent:d.fnArray.splice(F,1),d.argsArray.splice(F,1),E--;continue;case OPS.setGState:const[k]=d.argsArray[F];let D=0,M=k.length;for(;D<M;){const[L]=k[D];switch(L){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":k.splice(D,1),M--;continue}D++}break}F++}}}class StateManager{constructor(d=new EvalState){this.state=d,this.stateStack=[]}save(){const d=this.state;this.stateStack.push(this.state),this.state=d.clone()}restore(){const d=this.stateStack.pop();d&&(this.state=d)}transform(d){this.state.ctm=Util.transform(this.state.ctm,d)}}class TextState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=FONT_IDENTITY_MATRIX,this.textMatrix=IDENTITY_MATRIX.slice(),this.textLineMatrix=IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(d,x,b,w,S,C){const F=this.textMatrix;F[0]=d,F[1]=x,F[2]=b,F[3]=w,F[4]=S,F[5]=C}setTextLineMatrix(d,x,b,w,S,C){const F=this.textLineMatrix;F[0]=d,F[1]=x,F[2]=b,F[3]=w,F[4]=S,F[5]=C}translateTextMatrix(d,x){const b=this.textMatrix;b[4]=b[0]*d+b[2]*x+b[4],b[5]=b[1]*d+b[3]*x+b[5]}translateTextLineMatrix(d,x){const b=this.textLineMatrix;b[4]=b[0]*d+b[2]*x+b[4],b[5]=b[1]*d+b[3]*x+b[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const d=Object.create(this);return d.textMatrix=this.textMatrix.slice(),d.textLineMatrix=this.textLineMatrix.slice(),d.fontMatrix=this.fontMatrix.slice(),d}}class EvalState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.font=null,this.textRenderingMode=TextRenderingMode$1.FILL,this.fillColorSpace=ColorSpace$1.singletons.gray,this.strokeColorSpace=ColorSpace$1.singletons.gray}clone(){return Object.create(this)}}class EvaluatorPreprocessor{static get opMap(){return shadow(this,"opMap",{w:{id:OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:OPS.setGState,numArgs:1,variableArgs:!1},q:{id:OPS.save,numArgs:0,variableArgs:!1},Q:{id:OPS.restore,numArgs:0,variableArgs:!1},cm:{id:OPS.transform,numArgs:6,variableArgs:!1},m:{id:OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:OPS.closePath,numArgs:0,variableArgs:!1},re:{id:OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:OPS.stroke,numArgs:0,variableArgs:!1},s:{id:OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:OPS.fill,numArgs:0,variableArgs:!1},F:{id:OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:OPS.endPath,numArgs:0,variableArgs:!1},W:{id:OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}static MAX_INVALID_PATH_OPS=10;constructor(d,x,b=new StateManager){this.parser=new Parser$1({lexer:new Lexer(d,EvaluatorPreprocessor.opMap),xref:x}),this.stateManager=b,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(d){let x=d.args;for(;;){const b=this.parser.getObj();if(b instanceof Cmd){const w=b.cmd,S=EvaluatorPreprocessor.opMap[w];if(!S){warn(`Unknown command "${w}".`);continue}const C=S.id,F=S.numArgs;let E=x!==null?x.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=C>=OPS.moveTo&&C<=OPS.endPath,S.variableArgs)E>F&&info(`Command ${w}: expected [0, ${F}] args, but received ${E} args.`);else{if(E!==F){const k=this.nonProcessedArgs;for(;E>F;)k.push(x.shift()),E--;for(;E<F&&k.length!==0;)x===null&&(x=[]),x.unshift(k.pop()),E++}if(E<F){const k=`command ${w}: expected ${F} args, but received ${E} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>EvaluatorPreprocessor.MAX_INVALID_PATH_OPS)throw new FormatError(`Invalid ${k}`);warn(`Skipping ${k}`),x!==null&&(x.length=0);continue}}return this.preprocessCommand(C,x),d.fn=C,d.args=x,!0}if(b===EOF)return!1;if(b!==null&&(x===null&&(x=[]),x.push(b),x.length>33))throw new FormatError("Too many arguments")}}preprocessCommand(d,x){switch(d|0){case OPS.save:this.stateManager.save();break;case OPS.restore:this.stateManager.restore();break;case OPS.transform:this.stateManager.transform(x);break}}}class DefaultAppearanceEvaluator extends EvaluatorPreprocessor{constructor(d){super(new StringStream(d))}parse(){const d={fn:0,args:[]},x={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;d.args.length=0,!!this.read(d);){if(this.savedStatesDepth!==0)continue;const{fn:b,args:w}=d;switch(b|0){case OPS.setFont:const[S,C]=w;S instanceof Name&&(x.fontName=S.name),typeof C=="number"&&C>0&&(x.fontSize=C);break;case OPS.setFillRGBColor:ColorSpace$1.singletons.rgb.getRgbItem(w,0,x.fontColor,0);break;case OPS.setFillGray:ColorSpace$1.singletons.gray.getRgbItem(w,0,x.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace$1.singletons.cmyk.getRgbItem(w,0,x.fontColor,0);break}}}catch(b){warn(`parseDefaultAppearance - ignoring errors: "${b}".`)}return x}}function parseDefaultAppearance(g){return new DefaultAppearanceEvaluator(g).parse()}class AppearanceStreamEvaluator extends EvaluatorPreprocessor{constructor(d,x,b){super(d),this.stream=d,this.evaluatorOptions=x,this.xref=b,this.resources=d.dict?.get("Resources")}parse(){const d={fn:0,args:[]};let x={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:ColorSpace$1.singletons.gray},b=!1;const w=[];try{for(;d.args.length=0,!(b||!this.read(d));){const{fn:S,args:C}=d;switch(S|0){case OPS.save:w.push({scaleFactor:x.scaleFactor,fontSize:x.fontSize,fontName:x.fontName,fontColor:x.fontColor.slice(),fillColorSpace:x.fillColorSpace});break;case OPS.restore:x=w.pop()||x;break;case OPS.setTextMatrix:x.scaleFactor*=Math.hypot(C[0],C[1]);break;case OPS.setFont:const[F,E]=C;F instanceof Name&&(x.fontName=F.name),typeof E=="number"&&E>0&&(x.fontSize=E*x.scaleFactor);break;case OPS.setFillColorSpace:x.fillColorSpace=ColorSpace$1.parse({cs:C[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case OPS.setFillColor:x.fillColorSpace.getRgbItem(C,0,x.fontColor,0);break;case OPS.setFillRGBColor:ColorSpace$1.singletons.rgb.getRgbItem(C,0,x.fontColor,0);break;case OPS.setFillGray:ColorSpace$1.singletons.gray.getRgbItem(C,0,x.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace$1.singletons.cmyk.getRgbItem(C,0,x.fontColor,0);break;case OPS.showText:case OPS.showSpacedText:case OPS.nextLineShowText:case OPS.nextLineSetSpacingShowText:b=!0;break}}}catch(S){warn(`parseAppearanceStream - ignoring errors: "${S}".`)}return this.stream.reset(),delete x.scaleFactor,delete x.fillColorSpace,x}get _localColorSpaceCache(){return shadow(this,"_localColorSpaceCache",new LocalColorSpaceCache)}get _pdfFunctionFactory(){const d=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return shadow(this,"_pdfFunctionFactory",d)}}function parseAppearanceStream(g,d,x){return new AppearanceStreamEvaluator(g,d,x).parse()}function getPdfColor(g,d){if(g[0]===g[1]&&g[1]===g[2]){const x=g[0]/255;return`${numberToString$1(x)} ${d?"g":"G"}`}return Array.from(g,x=>numberToString$1(x/255)).join(" ")+` ${d?"rg":"RG"}`}function createDefaultAppearance({fontSize:g,fontName:d,fontColor:x}){return`/${escapePDFName(d)} ${g} Tf ${getPdfColor(x,!0)}`}class FakeUnicodeFont{constructor(d,x){this.xref=d,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=x;const b=new OffscreenCanvas(1,1);this.ctxMeasure=b.getContext("2d"),FakeUnicodeFont._fontNameId||(FakeUnicodeFont._fontNameId=1),this.fontName=Name.get(`InvalidPDFjsFont_${x}_${FakeUnicodeFont._fontNameId++}`)}get toUnicodeRef(){if(!FakeUnicodeFont._toUnicodeRef){const d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,x=FakeUnicodeFont.toUnicodeStream=new StringStream(d),b=new Dict(this.xref);x.dict=b,b.set("Length",d.length),FakeUnicodeFont._toUnicodeRef=this.xref.getNewPersistentRef(x)}return FakeUnicodeFont._toUnicodeRef}get fontDescriptorRef(){if(!FakeUnicodeFont._fontDescriptorRef){const d=new Dict(this.xref);d.set("Type",Name.get("FontDescriptor")),d.set("FontName",this.fontName),d.set("FontFamily","MyriadPro Regular"),d.set("FontBBox",[0,0,0,0]),d.set("FontStretch",Name.get("Normal")),d.set("FontWeight",400),d.set("ItalicAngle",0),FakeUnicodeFont._fontDescriptorRef=this.xref.getNewPersistentRef(d)}return FakeUnicodeFont._fontDescriptorRef}get descendantFontRef(){const d=new Dict(this.xref);d.set("BaseFont",this.fontName),d.set("Type",Name.get("Font")),d.set("Subtype",Name.get("CIDFontType0")),d.set("CIDToGIDMap",Name.get("Identity")),d.set("FirstChar",this.firstChar),d.set("LastChar",this.lastChar),d.set("FontDescriptor",this.fontDescriptorRef),d.set("DW",1e3);const x=[],b=[...this.widths.entries()].sort();let w=null,S=null;for(const[F,E]of b){if(!w){w=F,S=[E];continue}F===w+S.length?S.push(E):(x.push(w,S),w=F,S=[E])}w&&x.push(w,S),d.set("W",x);const C=new Dict(this.xref);return C.set("Ordering","Identity"),C.set("Registry","Adobe"),C.set("Supplement",0),d.set("CIDSystemInfo",C),this.xref.getNewPersistentRef(d)}get baseFontRef(){const d=new Dict(this.xref);return d.set("BaseFont",this.fontName),d.set("Type",Name.get("Font")),d.set("Subtype",Name.get("Type0")),d.set("Encoding",Name.get("Identity-H")),d.set("DescendantFonts",[this.descendantFontRef]),d.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(d)}get resources(){const d=new Dict(this.xref),x=new Dict(this.xref);return x.set(this.fontName.name,this.baseFontRef),d.set("Font",x),d}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(d){const x=this._createContext();for(const b of d.split(/\r\n?|\n/))for(const w of b.split("")){const S=w.charCodeAt(0);if(this.widths.has(S))continue;const C=x.measureText(w),F=Math.ceil(C.width);this.widths.set(S,F),this.firstChar=Math.min(S,this.firstChar),this.lastChar=Math.max(S,this.lastChar)}return this.resources}createAppearance(d,x,b,w,S,C){const F=this._createContext(),E=[];let k=-1/0;for(const we of d.split(/\r\n?|\n/)){E.push(we);const oe=F.measureText(we).width;k=Math.max(k,oe);for(const ge of we.split("")){const Ae=ge.charCodeAt(0);let Ce=this.widths.get(Ae);if(Ce===void 0){const Ne=F.measureText(ge);Ce=Math.ceil(Ne.width),this.widths.set(Ae,Ce),this.firstChar=Math.min(Ae,this.firstChar),this.lastChar=Math.max(Ae,this.lastChar)}}}k*=w/1e3;const[D,M,L,R]=x;let U=L-D,j=R-M;b%180!==0&&([U,j]=[j,U]);let H=1;k>U&&(H=U/k);let z=1;const V=LINE_FACTOR*w,G=LINE_DESCENT_FACTOR*w,$=V*E.length;$>j&&(z=j/$);const K=Math.min(H,z),Z=w*K,Q=["q",`0 0 ${numberToString$1(U)} ${numberToString$1(j)} re W n`,"BT",`1 0 0 1 0 ${numberToString$1(j+G)} Tm 0 Tc ${getPdfColor(S,!0)}`,`/${this.fontName.name} ${numberToString$1(Z)} Tf`],{resources:ne}=this;if(C=typeof C=="number"&&C>=0&&C<=1?C:1,C!==1){Q.push("/R0 gs");const we=new Dict(this.xref),oe=new Dict(this.xref);oe.set("ca",C),oe.set("CA",C),oe.set("Type",Name.get("ExtGState")),we.set("R0",oe),ne.set("ExtGState",we)}const le=numberToString$1(V);for(const we of E)Q.push(`0 -${le} Td <${stringToUTF16HexString(we)}> Tj`);Q.push("ET","Q");const fe=Q.join(`
`),be=new Dict(this.xref);if(be.set("Subtype",Name.get("Form")),be.set("Type",Name.get("XObject")),be.set("BBox",[0,0,U,j]),be.set("Length",fe.length),be.set("Resources",ne),b){const we=getRotationMatrix(b,U,j);be.set("Matrix",we)}const me=new StringStream(fe);return me.dict=be,me}}class NameOrNumberTree{constructor(d,x,b){this.constructor===NameOrNumberTree&&unreachable("Cannot initialize NameOrNumberTree."),this.root=d,this.xref=x,this._type=b}getAll(){const d=new Map;if(!this.root)return d;const x=this.xref,b=new RefSet;b.put(this.root);const w=[this.root];for(;w.length>0;){const S=x.fetchIfRef(w.shift());if(!(S instanceof Dict))continue;if(S.has("Kids")){const F=S.get("Kids");if(!Array.isArray(F))continue;for(const E of F){if(b.has(E))throw new FormatError(`Duplicate entry in "${this._type}" tree.`);w.push(E),b.put(E)}continue}const C=S.get(this._type);if(Array.isArray(C))for(let F=0,E=C.length;F<E;F+=2)d.set(x.fetchIfRef(C[F]),x.fetchIfRef(C[F+1]))}return d}get(d){if(!this.root)return null;const x=this.xref;let b=x.fetchIfRef(this.root),w=0;const S=10;for(;b.has("Kids");){if(++w>S)return warn(`Search depth limit reached for "${this._type}" tree.`),null;const F=b.get("Kids");if(!Array.isArray(F))return null;let E=0,k=F.length-1;for(;E<=k;){const D=E+k>>1,M=x.fetchIfRef(F[D]),L=M.get("Limits");if(d<x.fetchIfRef(L[0]))k=D-1;else if(d>x.fetchIfRef(L[1]))E=D+1;else{b=M;break}}if(E>k)return null}const C=b.get(this._type);if(Array.isArray(C)){let F=0,E=C.length-2;for(;F<=E;){const k=F+E>>1,D=k+(k&1),M=x.fetchIfRef(C[D]);if(d<M)E=D-2;else if(d>M)F=D+2;else return x.fetchIfRef(C[D+1])}}return null}}class NameTree extends NameOrNumberTree{constructor(d,x){super(d,x,"Names")}}class NumberTree extends NameOrNumberTree{constructor(d,x){super(d,x,"Nums")}}function clearGlobalCaches(){clearPatternCaches(),clearPrimitiveCaches(),clearUnicodeCaches()}function pickPlatformItem(g){return g.has("UF")?g.get("UF"):g.has("F")?g.get("F"):g.has("Unix")?g.get("Unix"):g.has("Mac")?g.get("Mac"):g.has("DOS")?g.get("DOS"):null}class FileSpec{constructor(d,x){d instanceof Dict&&(this.xref=x,this.root=d,d.has("FS")&&(this.fs=d.get("FS")),this.description=d.has("Desc")?stringToPDFString(d.get("Desc")):"",d.has("RF")&&warn("Related file specifications are not supported"),this.contentAvailable=!0,d.has("EF")||(this.contentAvailable=!1,warn("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const d=pickPlatformItem(this.root)||"unnamed";this._filename=stringToPDFString(d).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=pickPlatformItem(this.root.get("EF")));let d=null;if(this.contentRef){const x=this.xref.fetchIfRef(this.contentRef);x instanceof BaseStream?d=x.getBytes():warn("Embedded file specification points to non-existing/invalid content")}else warn("Embedded file specification does not have a content");return d}get serializable(){return{filename:this.filename,content:this.content}}}const XMLParserErrorCode={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function isWhitespace(g,d){const x=g[d];return x===" "||x===`
`||x==="\r"||x==="	"}function isWhitespaceString(g){for(let d=0,x=g.length;d<x;d++)if(!isWhitespace(g,d))return!1;return!0}class XMLParserBase{_resolveEntities(d){return d.replaceAll(/&([^;]+);/g,(x,b)=>{if(b.substring(0,2)==="#x")return String.fromCodePoint(parseInt(b.substring(2),16));if(b.substring(0,1)==="#")return String.fromCodePoint(parseInt(b.substring(1),10));switch(b){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(b)})}_parseContent(d,x){const b=[];let w=x;function S(){for(;w<d.length&&isWhitespace(d,w);)++w}for(;w<d.length&&!isWhitespace(d,w)&&d[w]!==">"&&d[w]!=="/";)++w;const C=d.substring(x,w);for(S();w<d.length&&d[w]!==">"&&d[w]!=="/"&&d[w]!=="?";){S();let F="",E="";for(;w<d.length&&!isWhitespace(d,w)&&d[w]!=="=";)F+=d[w],++w;if(S(),d[w]!=="=")return null;++w,S();const k=d[w];if(k!=='"'&&k!=="'")return null;const D=d.indexOf(k,++w);if(D<0)return null;E=d.substring(w,D),b.push({name:F,value:this._resolveEntities(E)}),w=D+1,S()}return{name:C,attributes:b,parsed:w-x}}_parseProcessingInstruction(d,x){let b=x;function w(){for(;b<d.length&&isWhitespace(d,b);)++b}for(;b<d.length&&!isWhitespace(d,b)&&d[b]!==">"&&d[b]!=="?"&&d[b]!=="/";)++b;const S=d.substring(x,b);w();const C=b;for(;b<d.length&&(d[b]!=="?"||d[b+1]!==">");)++b;const F=d.substring(C,b);return{name:S,value:F,parsed:b-x}}parseXml(d){let x=0;for(;x<d.length;){const b=d[x];let w=x;if(b==="<"){++w;const S=d[w];let C;switch(S){case"/":if(++w,C=d.indexOf(">",w),C<0){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onEndElement(d.substring(w,C)),w=C+1;break;case"?":++w;const F=this._parseProcessingInstruction(d,w);if(d.substring(w+F.parsed,w+F.parsed+2)!=="?>"){this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);return}this.onPi(F.name,F.value),w+=F.parsed+2;break;case"!":if(d.substring(w+1,w+3)==="--"){if(C=d.indexOf("-->",w+3),C<0){this.onError(XMLParserErrorCode.UnterminatedComment);return}this.onComment(d.substring(w+3,C)),w=C+3}else if(d.substring(w+1,w+8)==="[CDATA["){if(C=d.indexOf("]]>",w+8),C<0){this.onError(XMLParserErrorCode.UnterminatedCdat);return}this.onCdata(d.substring(w+8,C)),w=C+3}else if(d.substring(w+1,w+8)==="DOCTYPE"){const D=d.indexOf("[",w+8);let M=!1;if(C=d.indexOf(">",w+8),C<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}if(D>0&&C>D){if(C=d.indexOf("]>",w+8),C<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}M=!0}const L=d.substring(w+8,C+(M?1:0));this.onDoctype(L),w=C+(M?2:1)}else{this.onError(XMLParserErrorCode.MalformedElement);return}break;default:const E=this._parseContent(d,w);if(E===null){this.onError(XMLParserErrorCode.MalformedElement);return}let k=!1;if(d.substring(w+E.parsed,w+E.parsed+2)==="/>")k=!0;else if(d.substring(w+E.parsed,w+E.parsed+1)!==">"){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onBeginElement(E.name,E.attributes,k),w+=E.parsed+(k?2:1);break}}else{for(;w<d.length&&d[w]!=="<";)w++;const S=d.substring(x,w);this.onText(this._resolveEntities(S))}x=w}}onResolveEntity(d){return`&${d};`}onPi(d,x){}onComment(d){}onCdata(d){}onDoctype(d){}onText(d){}onBeginElement(d,x,b){}onEndElement(d){}onError(d){}}class SimpleDOMNode{constructor(d,x){this.nodeName=d,this.nodeValue=x,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes?.[0]}get nextSibling(){const d=this.parentNode.childNodes;if(!d)return;const x=d.indexOf(this);if(x!==-1)return d[x+1]}get textContent(){return this.childNodes?this.childNodes.map(function(d){return d.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes?.length>0}searchNode(d,x){if(x>=d.length)return this;const b=d[x];if(b.name.startsWith("#")&&x<d.length-1)return this.searchNode(d,x+1);const w=[];let S=this;for(;;){if(b.name===S.nodeName)if(b.pos===0){const C=S.searchNode(d,x+1);if(C!==null)return C}else{if(w.length===0)return null;{const[C]=w.pop();let F=0;for(const E of C.childNodes)if(b.name===E.nodeName){if(F===b.pos)return E.searchNode(d,x+1);F++}return S.searchNode(d,x+1)}}if(S.childNodes?.length>0)w.push([S,0]),S=S.childNodes[0];else{if(w.length===0)return null;for(;w.length!==0;){const[C,F]=w.pop(),E=F+1;if(E<C.childNodes.length){w.push([C,E]),S=C.childNodes[E];break}}if(w.length===0)return null}}}dump(d){if(this.nodeName==="#text"){d.push(encodeToXmlString(this.nodeValue));return}if(d.push(`<${this.nodeName}`),this.attributes)for(const x of this.attributes)d.push(` ${x.name}="${encodeToXmlString(x.value)}"`);if(this.hasChildNodes()){d.push(">");for(const x of this.childNodes)x.dump(d);d.push(`</${this.nodeName}>`)}else this.nodeValue?d.push(`>${encodeToXmlString(this.nodeValue)}</${this.nodeName}>`):d.push("/>")}}class SimpleXMLParser extends XMLParserBase{constructor({hasAttributes:d=!1,lowerCaseName:x=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=XMLParserErrorCode.NoError,this._hasAttributes=d,this._lowerCaseName=x}parseFromString(d){if(this._currentFragment=[],this._stack=[],this._errorCode=XMLParserErrorCode.NoError,this.parseXml(d),this._errorCode!==XMLParserErrorCode.NoError)return;const[x]=this._currentFragment;if(x)return{documentElement:x}}onText(d){if(isWhitespaceString(d))return;const x=new SimpleDOMNode("#text",d);this._currentFragment.push(x)}onCdata(d){const x=new SimpleDOMNode("#text",d);this._currentFragment.push(x)}onBeginElement(d,x,b){this._lowerCaseName&&(d=d.toLowerCase());const w=new SimpleDOMNode(d);w.childNodes=[],this._hasAttributes&&(w.attributes=x),this._currentFragment.push(w),!b&&(this._stack.push(this._currentFragment),this._currentFragment=w.childNodes)}onEndElement(d){this._currentFragment=this._stack.pop()||[];const x=this._currentFragment.at(-1);if(!x)return null;for(const b of x.childNodes)b.parentNode=x;return x}onError(d){this._errorCode=d}}class MetadataParser{constructor(d){d=this._repair(d);const b=new SimpleXMLParser({lowerCaseName:!0}).parseFromString(d);this._metadataMap=new Map,this._data=d,b&&this._parse(b)}_repair(d){return d.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(x,b){const w=b.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(C,F,E,k){return String.fromCharCode(F*64+E*8+k*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(C,F){switch(F){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${F} isn't defined.`)}),S=[">"];for(let C=0,F=w.length;C<F;C+=2){const E=w.charCodeAt(C)*256+w.charCodeAt(C+1);E>=32&&E<127&&E!==60&&E!==62&&E!==38?S.push(String.fromCharCode(E)):S.push("&#x"+(65536+E).toString(16).substring(1)+";")}return S.join("")})}_getSequence(d){const x=d.nodeName;return x!=="rdf:bag"&&x!=="rdf:seq"&&x!=="rdf:alt"?null:d.childNodes.filter(b=>b.nodeName==="rdf:li")}_parseArray(d){if(!d.hasChildNodes())return;const[x]=d.childNodes,b=this._getSequence(x)||[];this._metadataMap.set(d.nodeName,b.map(w=>w.textContent.trim()))}_parse(d){let x=d.documentElement;if(x.nodeName!=="rdf:rdf")for(x=x.firstChild;x&&x.nodeName!=="rdf:rdf";)x=x.nextSibling;if(!(!x||x.nodeName!=="rdf:rdf"||!x.hasChildNodes())){for(const b of x.childNodes)if(b.nodeName==="rdf:description")for(const w of b.childNodes){const S=w.nodeName;switch(S){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(w);continue}this._metadataMap.set(S,w.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}const chunkSize=512;class DecryptStream extends DecodeStream$1{constructor(d,x,b){super(x),this.str=d,this.dict=d.dict,this.decrypt=b,this.nextChunk=null,this.initialized=!1}readBlock(){let d;if(this.initialized?d=this.nextChunk:(d=this.str.getBytes(chunkSize),this.initialized=!0),!d||d.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(chunkSize);const x=this.nextChunk?.length>0,b=this.decrypt;d=b(d,!x);const w=this.bufferLength,S=w+d.length;this.ensureBuffer(S).set(d,w),this.bufferLength=S}}class ARCFourCipher{constructor(d){this.a=0,this.b=0;const x=new Uint8Array(256),b=d.length;for(let w=0;w<256;++w)x[w]=w;for(let w=0,S=0;w<256;++w){const C=x[w];S=S+C+d[w%b]&255,x[w]=x[S],x[S]=C}this.s=x}encryptBlock(d){let x=this.a,b=this.b;const w=this.s,S=d.length,C=new Uint8Array(S);for(let F=0;F<S;++F){x=x+1&255;const E=w[x];b=b+E&255;const k=w[b];w[x]=k,w[b]=E,C[F]=d[F]^w[E+k&255]}return this.a=x,this.b=b,C}decryptBlock(d){return this.encryptBlock(d)}encrypt(d){return this.encryptBlock(d)}}const calculateMD5=function(){const d=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),x=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function b(w,S,C){let F=1732584193,E=-271733879,k=-1732584194,D=271733878;const M=C+72&-64,L=new Uint8Array(M);let R,U;for(R=0;R<C;++R)L[R]=w[S++];L[R++]=128;const j=M-8;for(;R<j;)L[R++]=0;L[R++]=C<<3&255,L[R++]=C>>5&255,L[R++]=C>>13&255,L[R++]=C>>21&255,L[R++]=C>>>29&255,L[R++]=0,L[R++]=0,L[R++]=0;const H=new Int32Array(16);for(R=0;R<M;){for(U=0;U<16;++U,R+=4)H[U]=L[R]|L[R+1]<<8|L[R+2]<<16|L[R+3]<<24;let z=F,V=E,G=k,$=D,K,Z;for(U=0;U<64;++U){U<16?(K=V&G|~V&$,Z=U):U<32?(K=$&V|~$&G,Z=5*U+1&15):U<48?(K=V^G^$,Z=3*U+5&15):(K=G^(V|~$),Z=7*U&15);const Q=$,ne=z+K+x[U]+H[Z]|0,le=d[U];$=G,G=V,V=V+(ne<<le|ne>>>32-le)|0,z=Q}F=F+z|0,E=E+V|0,k=k+G|0,D=D+$|0}return new Uint8Array([F&255,F>>8&255,F>>16&255,F>>>24&255,E&255,E>>8&255,E>>16&255,E>>>24&255,k&255,k>>8&255,k>>16&255,k>>>24&255,D&255,D>>8&255,D>>16&255,D>>>24&255])}return b}();class Word64{constructor(d,x){this.high=d|0,this.low=x|0}and(d){this.high&=d.high,this.low&=d.low}xor(d){this.high^=d.high,this.low^=d.low}or(d){this.high|=d.high,this.low|=d.low}shiftRight(d){d>=32?(this.low=this.high>>>d-32|0,this.high=0):(this.low=this.low>>>d|this.high<<32-d,this.high=this.high>>>d|0)}shiftLeft(d){d>=32?(this.high=this.low<<d-32,this.low=0):(this.high=this.high<<d|this.low>>>32-d,this.low<<=d)}rotateRight(d){let x,b;d&32?(b=this.low,x=this.high):(x=this.low,b=this.high),d&=31,this.low=x>>>d|b<<32-d,this.high=b>>>d|x<<32-d}not(){this.high=~this.high,this.low=~this.low}add(d){const x=(this.low>>>0)+(d.low>>>0);let b=(this.high>>>0)+(d.high>>>0);x>4294967295&&(b+=1),this.low=x|0,this.high=b|0}copyTo(d,x){d[x]=this.high>>>24&255,d[x+1]=this.high>>16&255,d[x+2]=this.high>>8&255,d[x+3]=this.high&255,d[x+4]=this.low>>>24&255,d[x+5]=this.low>>16&255,d[x+6]=this.low>>8&255,d[x+7]=this.low&255}assign(d){this.high=d.high,this.low=d.low}}const calculateSHA256=function(){function d(D,M){return D>>>M|D<<32-M}function x(D,M,L){return D&M^~D&L}function b(D,M,L){return D&M^D&L^M&L}function w(D){return d(D,2)^d(D,13)^d(D,22)}function S(D){return d(D,6)^d(D,11)^d(D,25)}function C(D){return d(D,7)^d(D,18)^D>>>3}function F(D){return d(D,17)^d(D,19)^D>>>10}const E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(D,M,L){let R=1779033703,U=3144134277,j=1013904242,H=2773480762,z=1359893119,V=2600822924,G=528734635,$=1541459225;const K=Math.ceil((L+9)/64)*64,Z=new Uint8Array(K);let Q,ne;for(Q=0;Q<L;++Q)Z[Q]=D[M++];Z[Q++]=128;const le=K-8;for(;Q<le;)Z[Q++]=0;Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=L>>>29&255,Z[Q++]=L>>21&255,Z[Q++]=L>>13&255,Z[Q++]=L>>5&255,Z[Q++]=L<<3&255;const fe=new Uint32Array(64);for(Q=0;Q<K;){for(ne=0;ne<16;++ne)fe[ne]=Z[Q]<<24|Z[Q+1]<<16|Z[Q+2]<<8|Z[Q+3],Q+=4;for(ne=16;ne<64;++ne)fe[ne]=F(fe[ne-2])+fe[ne-7]+C(fe[ne-15])+fe[ne-16]|0;let be=R,me=U,we=j,oe=H,ge=z,Ae=V,Ce=G,Ne=$,Oe,Be;for(ne=0;ne<64;++ne)Oe=Ne+S(ge)+x(ge,Ae,Ce)+E[ne]+fe[ne],Be=w(be)+b(be,me,we),Ne=Ce,Ce=Ae,Ae=ge,ge=oe+Oe|0,oe=we,we=me,me=be,be=Oe+Be|0;R=R+be|0,U=U+me|0,j=j+we|0,H=H+oe|0,z=z+ge|0,V=V+Ae|0,G=G+Ce|0,$=$+Ne|0}return new Uint8Array([R>>24&255,R>>16&255,R>>8&255,R&255,U>>24&255,U>>16&255,U>>8&255,U&255,j>>24&255,j>>16&255,j>>8&255,j&255,H>>24&255,H>>16&255,H>>8&255,H&255,z>>24&255,z>>16&255,z>>8&255,z&255,V>>24&255,V>>16&255,V>>8&255,V&255,G>>24&255,G>>16&255,G>>8&255,G&255,$>>24&255,$>>16&255,$>>8&255,$&255])}return k}(),calculateSHA512=function(){function d(k,D,M,L,R){k.assign(D),k.and(M),R.assign(D),R.not(),R.and(L),k.xor(R)}function x(k,D,M,L,R){k.assign(D),k.and(M),R.assign(D),R.and(L),k.xor(R),R.assign(M),R.and(L),k.xor(R)}function b(k,D,M){k.assign(D),k.rotateRight(28),M.assign(D),M.rotateRight(34),k.xor(M),M.assign(D),M.rotateRight(39),k.xor(M)}function w(k,D,M){k.assign(D),k.rotateRight(14),M.assign(D),M.rotateRight(18),k.xor(M),M.assign(D),M.rotateRight(41),k.xor(M)}function S(k,D,M){k.assign(D),k.rotateRight(1),M.assign(D),M.rotateRight(8),k.xor(M),M.assign(D),M.shiftRight(7),k.xor(M)}function C(k,D,M){k.assign(D),k.rotateRight(19),M.assign(D),M.rotateRight(61),k.xor(M),M.assign(D),M.shiftRight(6),k.xor(M)}const F=[new Word64(1116352408,3609767458),new Word64(1899447441,602891725),new Word64(3049323471,3964484399),new Word64(3921009573,2173295548),new Word64(961987163,4081628472),new Word64(1508970993,3053834265),new Word64(2453635748,2937671579),new Word64(2870763221,3664609560),new Word64(3624381080,2734883394),new Word64(310598401,1164996542),new Word64(607225278,1323610764),new Word64(1426881987,3590304994),new Word64(1925078388,4068182383),new Word64(2162078206,991336113),new Word64(2614888103,633803317),new Word64(3248222580,3479774868),new Word64(3835390401,2666613458),new Word64(4022224774,944711139),new Word64(264347078,2341262773),new Word64(604807628,2007800933),new Word64(770255983,1495990901),new Word64(1249150122,1856431235),new Word64(1555081692,3175218132),new Word64(1996064986,2198950837),new Word64(2554220882,3999719339),new Word64(2821834349,766784016),new Word64(2952996808,2566594879),new Word64(3210313671,3203337956),new Word64(3336571891,1034457026),new Word64(3584528711,2466948901),new Word64(113926993,3758326383),new Word64(338241895,168717936),new Word64(666307205,1188179964),new Word64(773529912,1546045734),new Word64(1294757372,1522805485),new Word64(1396182291,2643833823),new Word64(1695183700,2343527390),new Word64(1986661051,1014477480),new Word64(2177026350,1206759142),new Word64(2456956037,344077627),new Word64(2730485921,1290863460),new Word64(2820302411,3158454273),new Word64(3259730800,3505952657),new Word64(3345764771,106217008),new Word64(3516065817,3606008344),new Word64(3600352804,1432725776),new Word64(4094571909,1467031594),new Word64(275423344,851169720),new Word64(430227734,3100823752),new Word64(506948616,1363258195),new Word64(659060556,3750685593),new Word64(883997877,3785050280),new Word64(958139571,3318307427),new Word64(1322822218,3812723403),new Word64(1537002063,2003034995),new Word64(1747873779,3602036899),new Word64(1955562222,1575990012),new Word64(2024104815,1125592928),new Word64(2227730452,2716904306),new Word64(2361852424,442776044),new Word64(2428436474,593698344),new Word64(2756734187,3733110249),new Word64(3204031479,2999351573),new Word64(3329325298,3815920427),new Word64(3391569614,3928383900),new Word64(3515267271,566280711),new Word64(3940187606,3454069534),new Word64(4118630271,4000239992),new Word64(116418474,1914138554),new Word64(174292421,2731055270),new Word64(289380356,3203993006),new Word64(460393269,320620315),new Word64(685471733,587496836),new Word64(852142971,1086792851),new Word64(1017036298,365543100),new Word64(1126000580,2618297676),new Word64(1288033470,3409855158),new Word64(1501505948,4234509866),new Word64(1607167915,987167468),new Word64(1816402316,1246189591)];function E(k,D,M,L=!1){let R,U,j,H,z,V,G,$;L?(R=new Word64(3418070365,3238371032),U=new Word64(1654270250,914150663),j=new Word64(2438529370,812702999),H=new Word64(355462360,4144912697),z=new Word64(1731405415,4290775857),V=new Word64(2394180231,1750603025),G=new Word64(3675008525,1694076839),$=new Word64(1203062813,3204075428)):(R=new Word64(1779033703,4089235720),U=new Word64(3144134277,2227873595),j=new Word64(1013904242,4271175723),H=new Word64(2773480762,1595750129),z=new Word64(1359893119,2917565137),V=new Word64(2600822924,725511199),G=new Word64(528734635,4215389547),$=new Word64(1541459225,327033209));const K=Math.ceil((M+17)/128)*128,Z=new Uint8Array(K);let Q,ne;for(Q=0;Q<M;++Q)Z[Q]=k[D++];Z[Q++]=128;const le=K-16;for(;Q<le;)Z[Q++]=0;Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=0,Z[Q++]=M>>>29&255,Z[Q++]=M>>21&255,Z[Q++]=M>>13&255,Z[Q++]=M>>5&255,Z[Q++]=M<<3&255;const fe=new Array(80);for(Q=0;Q<80;Q++)fe[Q]=new Word64(0,0);let be=new Word64(0,0),me=new Word64(0,0),we=new Word64(0,0),oe=new Word64(0,0),ge=new Word64(0,0),Ae=new Word64(0,0),Ce=new Word64(0,0),Ne=new Word64(0,0);const Oe=new Word64(0,0),Be=new Word64(0,0),Ie=new Word64(0,0),Ee=new Word64(0,0);let Ue;for(Q=0;Q<K;){for(ne=0;ne<16;++ne)fe[ne].high=Z[Q]<<24|Z[Q+1]<<16|Z[Q+2]<<8|Z[Q+3],fe[ne].low=Z[Q+4]<<24|Z[Q+5]<<16|Z[Q+6]<<8|Z[Q+7],Q+=8;for(ne=16;ne<80;++ne)Ue=fe[ne],C(Ue,fe[ne-2],Ee),Ue.add(fe[ne-7]),S(Ie,fe[ne-15],Ee),Ue.add(Ie),Ue.add(fe[ne-16]);for(be.assign(R),me.assign(U),we.assign(j),oe.assign(H),ge.assign(z),Ae.assign(V),Ce.assign(G),Ne.assign($),ne=0;ne<80;++ne)Oe.assign(Ne),w(Ie,ge,Ee),Oe.add(Ie),d(Ie,ge,Ae,Ce,Ee),Oe.add(Ie),Oe.add(F[ne]),Oe.add(fe[ne]),b(Be,be,Ee),x(Ie,be,me,we,Ee),Be.add(Ie),Ue=Ne,Ne=Ce,Ce=Ae,Ae=ge,oe.add(Oe),ge=oe,oe=we,we=me,me=be,Ue.assign(Oe),Ue.add(Be),be=Ue;R.add(be),U.add(me),j.add(we),H.add(oe),z.add(ge),V.add(Ae),G.add(Ce),$.add(Ne)}let De;return L?(De=new Uint8Array(48),R.copyTo(De,0),U.copyTo(De,8),j.copyTo(De,16),H.copyTo(De,24),z.copyTo(De,32),V.copyTo(De,40)):(De=new Uint8Array(64),R.copyTo(De,0),U.copyTo(De,8),j.copyTo(De,16),H.copyTo(De,24),z.copyTo(De,32),V.copyTo(De,40),G.copyTo(De,48),$.copyTo(De,56)),De}return E}();function calculateSHA384(g,d,x){return calculateSHA512(g,d,x,!0)}class NullCipher{decryptBlock(d){return d}encrypt(d){return d}}class AESBaseCipher{constructor(){this.constructor===AESBaseCipher&&unreachable("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let d=0;d<256;d++)this._mixCol[d]=d<128?d<<1:d<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(d){unreachable("Cannot call `_expandKey` on the base class")}_decrypt(d,x){let b,w,S;const C=new Uint8Array(16);C.set(d);for(let F=0,E=this._keySize;F<16;++F,++E)C[F]^=x[E];for(let F=this._cyclesOfRepetition-1;F>=1;--F){b=C[13],C[13]=C[9],C[9]=C[5],C[5]=C[1],C[1]=b,b=C[14],w=C[10],C[14]=C[6],C[10]=C[2],C[6]=b,C[2]=w,b=C[15],w=C[11],S=C[7],C[15]=C[3],C[11]=b,C[7]=w,C[3]=S;for(let E=0;E<16;++E)C[E]=this._inv_s[C[E]];for(let E=0,k=F*16;E<16;++E,++k)C[E]^=x[k];for(let E=0;E<16;E+=4){const k=this._mix[C[E]],D=this._mix[C[E+1]],M=this._mix[C[E+2]],L=this._mix[C[E+3]];b=k^D>>>8^D<<24^M>>>16^M<<16^L>>>24^L<<8,C[E]=b>>>24&255,C[E+1]=b>>16&255,C[E+2]=b>>8&255,C[E+3]=b&255}}b=C[13],C[13]=C[9],C[9]=C[5],C[5]=C[1],C[1]=b,b=C[14],w=C[10],C[14]=C[6],C[10]=C[2],C[6]=b,C[2]=w,b=C[15],w=C[11],S=C[7],C[15]=C[3],C[11]=b,C[7]=w,C[3]=S;for(let F=0;F<16;++F)C[F]=this._inv_s[C[F]],C[F]^=x[F];return C}_encrypt(d,x){const b=this._s;let w,S,C;const F=new Uint8Array(16);F.set(d);for(let E=0;E<16;++E)F[E]^=x[E];for(let E=1;E<this._cyclesOfRepetition;E++){for(let k=0;k<16;++k)F[k]=b[F[k]];C=F[1],F[1]=F[5],F[5]=F[9],F[9]=F[13],F[13]=C,C=F[2],S=F[6],F[2]=F[10],F[6]=F[14],F[10]=C,F[14]=S,C=F[3],S=F[7],w=F[11],F[3]=F[15],F[7]=C,F[11]=S,F[15]=w;for(let k=0;k<16;k+=4){const D=F[k+0],M=F[k+1],L=F[k+2],R=F[k+3];w=D^M^L^R,F[k+0]^=w^this._mixCol[D^M],F[k+1]^=w^this._mixCol[M^L],F[k+2]^=w^this._mixCol[L^R],F[k+3]^=w^this._mixCol[R^D]}for(let k=0,D=E*16;k<16;++k,++D)F[k]^=x[D]}for(let E=0;E<16;++E)F[E]=b[F[E]];C=F[1],F[1]=F[5],F[5]=F[9],F[9]=F[13],F[13]=C,C=F[2],S=F[6],F[2]=F[10],F[6]=F[14],F[10]=C,F[14]=S,C=F[3],S=F[7],w=F[11],F[3]=F[15],F[7]=C,F[11]=S,F[15]=w;for(let E=0,k=this._keySize;E<16;++E,++k)F[E]^=x[k];return F}_decryptBlock2(d,x){const b=d.length;let w=this.buffer,S=this.bufferPosition;const C=[];let F=this.iv;for(let D=0;D<b;++D){if(w[S]=d[D],++S,S<16)continue;const M=this._decrypt(w,this._key);for(let L=0;L<16;++L)M[L]^=F[L];F=w,C.push(M),w=new Uint8Array(16),S=0}if(this.buffer=w,this.bufferLength=S,this.iv=F,C.length===0)return new Uint8Array(0);let E=16*C.length;if(x){const D=C.at(-1);let M=D[15];if(M<=16){for(let L=15,R=16-M;L>=R;--L)if(D[L]!==M){M=0;break}E-=M,C[C.length-1]=D.subarray(0,16-M)}}const k=new Uint8Array(E);for(let D=0,M=0,L=C.length;D<L;++D,M+=16)k.set(C[D],M);return k}decryptBlock(d,x,b=null){const w=d.length,S=this.buffer;let C=this.bufferPosition;if(b)this.iv=b;else{for(let F=0;C<16&&F<w;++F,++C)S[C]=d[F];if(C<16)return this.bufferLength=C,new Uint8Array(0);this.iv=S,d=d.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(d,x)}encrypt(d,x){const b=d.length;let w=this.buffer,S=this.bufferPosition;const C=[];x||(x=new Uint8Array(16));for(let k=0;k<b;++k){if(w[S]=d[k],++S,S<16)continue;for(let M=0;M<16;++M)w[M]^=x[M];const D=this._encrypt(w,this._key);x=D,C.push(D),w=new Uint8Array(16),S=0}if(this.buffer=w,this.bufferLength=S,this.iv=x,C.length===0)return new Uint8Array(0);const F=16*C.length,E=new Uint8Array(F);for(let k=0,D=0,M=C.length;k<M;++k,D+=16)E.set(C[k],D);return E}}class AES128Cipher extends AESBaseCipher{constructor(d){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(d)}_expandKey(d){const b=this._s,w=this._rcon,S=new Uint8Array(176);S.set(d);for(let C=16,F=1;C<176;++F){let E=S[C-3],k=S[C-2],D=S[C-1],M=S[C-4];E=b[E],k=b[k],D=b[D],M=b[M],E^=w[F];for(let L=0;L<4;++L)S[C]=E^=S[C-16],C++,S[C]=k^=S[C-16],C++,S[C]=D^=S[C-16],C++,S[C]=M^=S[C-16],C++}return S}}class AES256Cipher extends AESBaseCipher{constructor(d){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(d)}_expandKey(d){const b=this._s,w=new Uint8Array(240);w.set(d);let S=1,C,F,E,k;for(let D=32,M=1;D<240;++M){D%32===16?(C=b[C],F=b[F],E=b[E],k=b[k]):D%32===0&&(C=w[D-3],F=w[D-2],E=w[D-1],k=w[D-4],C=b[C],F=b[F],E=b[E],k=b[k],C^=S,(S<<=1)>=256&&(S=(S^27)&255));for(let L=0;L<4;++L)w[D]=C^=w[D-32],D++,w[D]=F^=w[D-32],D++,w[D]=E^=w[D-32],D++,w[D]=k^=w[D-32],D++}return w}}class PDF17{checkOwnerPassword(d,x,b,w){const S=new Uint8Array(d.length+56);S.set(d,0),S.set(x,d.length),S.set(b,d.length+x.length);const C=calculateSHA256(S,0,S.length);return isArrayEqual(C,w)}checkUserPassword(d,x,b){const w=new Uint8Array(d.length+8);w.set(d,0),w.set(x,d.length);const S=calculateSHA256(w,0,w.length);return isArrayEqual(S,b)}getOwnerKey(d,x,b,w){const S=new Uint8Array(d.length+56);S.set(d,0),S.set(x,d.length),S.set(b,d.length+x.length);const C=calculateSHA256(S,0,S.length);return new AES256Cipher(C).decryptBlock(w,!1,new Uint8Array(16))}getUserKey(d,x,b){const w=new Uint8Array(d.length+8);w.set(d,0),w.set(x,d.length);const S=calculateSHA256(w,0,w.length);return new AES256Cipher(S).decryptBlock(b,!1,new Uint8Array(16))}}class PDF20{_hash(d,x,b){let w=calculateSHA256(x,0,x.length).subarray(0,32),S=[0],C=0;for(;C<64||S.at(-1)>C-32;){const F=d.length+w.length+b.length,E=new Uint8Array(F);let k=0;E.set(d,k),k+=d.length,E.set(w,k),k+=w.length,E.set(b,k);const D=new Uint8Array(F*64);for(let R=0,U=0;R<64;R++,U+=F)D.set(E,U);S=new AES128Cipher(w.subarray(0,16)).encrypt(D,w.subarray(16,32));const L=S.slice(0,16).reduce((R,U)=>R+U,0)%3;L===0?w=calculateSHA256(S,0,S.length):L===1?w=calculateSHA384(S,0,S.length):L===2&&(w=calculateSHA512(S,0,S.length)),C++}return w.subarray(0,32)}checkOwnerPassword(d,x,b,w){const S=new Uint8Array(d.length+56);S.set(d,0),S.set(x,d.length),S.set(b,d.length+x.length);const C=this._hash(d,S,b);return isArrayEqual(C,w)}checkUserPassword(d,x,b){const w=new Uint8Array(d.length+8);w.set(d,0),w.set(x,d.length);const S=this._hash(d,w,[]);return isArrayEqual(S,b)}getOwnerKey(d,x,b,w){const S=new Uint8Array(d.length+56);S.set(d,0),S.set(x,d.length),S.set(b,d.length+x.length);const C=this._hash(d,S,b);return new AES256Cipher(C).decryptBlock(w,!1,new Uint8Array(16))}getUserKey(d,x,b){const w=new Uint8Array(d.length+8);w.set(d,0),w.set(x,d.length);const S=this._hash(d,w,[]);return new AES256Cipher(S).decryptBlock(b,!1,new Uint8Array(16))}}class CipherTransform{constructor(d,x){this.StringCipherConstructor=d,this.StreamCipherConstructor=x}createStream(d,x){const b=new this.StreamCipherConstructor;return new DecryptStream(d,x,function(S,C){return b.decryptBlock(S,C)})}decryptString(d){const x=new this.StringCipherConstructor;let b=stringToBytes(d);return b=x.decryptBlock(b,!0),bytesToString(b)}encryptString(d){const x=new this.StringCipherConstructor;if(x instanceof AESBaseCipher){const S=16-d.length%16;d+=String.fromCharCode(S).repeat(S);const C=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(C);else for(let k=0;k<16;k++)C[k]=Math.floor(256*Math.random());let F=stringToBytes(d);F=x.encrypt(F,C);const E=new Uint8Array(16+F.length);return E.set(C),E.set(F,16),bytesToString(E)}let b=stringToBytes(d);return b=x.encrypt(b),bytesToString(b)}}class CipherTransformFactory{static#e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);#t(d,x,b,w,S,C,F,E,k,D,M,L){if(x){const U=Math.min(127,x.length);x=x.subarray(0,U)}else x=[];const R=d===6?new PDF20:new PDF17;return R.checkUserPassword(x,E,F)?R.getUserKey(x,k,M):x.length&&R.checkOwnerPassword(x,w,C,b)?R.getOwnerKey(x,S,C,D):null}#n(d,x,b,w,S,C,F,E){const k=40+b.length+d.length,D=new Uint8Array(k);let M=0,L,R;if(x)for(R=Math.min(32,x.length);M<R;++M)D[M]=x[M];for(L=0;M<32;)D[M++]=CipherTransformFactory.#e[L++];for(L=0,R=b.length;L<R;++L)D[M++]=b[L];for(D[M++]=S&255,D[M++]=S>>8&255,D[M++]=S>>16&255,D[M++]=S>>>24&255,L=0,R=d.length;L<R;++L)D[M++]=d[L];C>=4&&!E&&(D[M++]=255,D[M++]=255,D[M++]=255,D[M++]=255);let U=calculateMD5(D,0,M);const j=F>>3;if(C>=3)for(L=0;L<50;++L)U=calculateMD5(U,0,j);const H=U.subarray(0,j);let z,V;if(C>=3){for(M=0;M<32;++M)D[M]=CipherTransformFactory.#e[M];for(L=0,R=d.length;L<R;++L)D[M++]=d[L];z=new ARCFourCipher(H),V=z.encryptBlock(calculateMD5(D,0,M)),R=H.length;const G=new Uint8Array(R);for(L=1;L<=19;++L){for(let $=0;$<R;++$)G[$]=H[$]^L;z=new ARCFourCipher(G),V=z.encryptBlock(V)}for(L=0,R=V.length;L<R;++L)if(w[L]!==V[L])return null}else for(z=new ARCFourCipher(H),V=z.encryptBlock(CipherTransformFactory.#e),L=0,R=V.length;L<R;++L)if(w[L]!==V[L])return null;return H}#r(d,x,b,w){const S=new Uint8Array(32);let C=0;const F=Math.min(32,d.length);for(;C<F;++C)S[C]=d[C];let E=0;for(;C<32;)S[C++]=CipherTransformFactory.#e[E++];let k=calculateMD5(S,0,C);const D=w>>3;if(b>=3)for(E=0;E<50;++E)k=calculateMD5(k,0,k.length);let M,L;if(b>=3){L=x;const R=new Uint8Array(D);for(E=19;E>=0;E--){for(let U=0;U<D;++U)R[U]=k[U]^E;M=new ARCFourCipher(R),L=M.encryptBlock(L)}}else M=new ARCFourCipher(k.subarray(0,D)),L=M.encryptBlock(x);return L}#s(d,x,b,w=!1){const S=new Uint8Array(b.length+9),C=b.length;let F;for(F=0;F<C;++F)S[F]=b[F];return S[F++]=d&255,S[F++]=d>>8&255,S[F++]=d>>16&255,S[F++]=x&255,S[F++]=x>>8&255,w&&(S[F++]=115,S[F++]=65,S[F++]=108,S[F++]=84),calculateMD5(S,0,F).subarray(0,Math.min(b.length+5,16))}#i(d,x,b,w,S){if(!(x instanceof Name))throw new FormatError("Invalid crypt filter name.");const C=this,E=d.get(x.name)?.get("CFM");if(!E||E.name==="None")return function(){return new NullCipher};if(E.name==="V2")return function(){return new ARCFourCipher(C.#s(b,w,S,!1))};if(E.name==="AESV2")return function(){return new AES128Cipher(C.#s(b,w,S,!0))};if(E.name==="AESV3")return function(){return new AES256Cipher(S)};throw new FormatError("Unknown crypto method")}constructor(d,x,b){const w=d.get("Filter");if(!isName(w,"Standard"))throw new FormatError("unknown encryption method");this.filterName=w.name,this.dict=d;const S=d.get("V");if(!Number.isInteger(S)||S!==1&&S!==2&&S!==4&&S!==5)throw new FormatError("unsupported encryption algorithm");this.algorithm=S;let C=d.get("Length");if(!C)if(S<=3)C=40;else{const z=d.get("CF"),V=d.get("StmF");z instanceof Dict&&V instanceof Name&&(z.suppressEncryption=!0,C=z.get(V.name)?.get("Length")||128,C<40&&(C<<=3))}if(!Number.isInteger(C)||C<40||C%8!==0)throw new FormatError("invalid key length");const F=stringToBytes(d.get("O")),E=stringToBytes(d.get("U")),k=F.subarray(0,32),D=E.subarray(0,32),M=d.get("P"),L=d.get("R"),R=(S===4||S===5)&&d.get("EncryptMetadata")!==!1;this.encryptMetadata=R;const U=stringToBytes(x);let j;if(b){if(L===6)try{b=utf8StringToString(b)}catch{warn("CipherTransformFactory: Unable to convert UTF8 encoded password.")}j=stringToBytes(b)}let H;if(S!==5)H=this.#n(U,j,k,D,M,L,C,R);else{const z=F.subarray(32,40),V=F.subarray(40,48),G=E.subarray(0,48),$=E.subarray(32,40),K=E.subarray(40,48),Z=stringToBytes(d.get("OE")),Q=stringToBytes(d.get("UE")),ne=stringToBytes(d.get("Perms"));H=this.#t(L,j,k,z,V,G,D,$,K,Z,Q,ne)}if(!H&&!b)throw new PasswordException("No password given",PasswordResponses.NEED_PASSWORD);if(!H&&b){const z=this.#r(j,k,L,C);H=this.#n(U,z,k,D,M,L,C,R)}if(!H)throw new PasswordException("Incorrect Password",PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=H,S>=4){const z=d.get("CF");z instanceof Dict&&(z.suppressEncryption=!0),this.cf=z,this.stmf=d.get("StmF")||Name.get("Identity"),this.strf=d.get("StrF")||Name.get("Identity"),this.eff=d.get("EFF")||this.stmf}}createCipherTransform(d,x){if(this.algorithm===4||this.algorithm===5)return new CipherTransform(this.#i(this.cf,this.strf,d,x,this.encryptionKey),this.#i(this.cf,this.stmf,d,x,this.encryptionKey));const b=this.#s(d,x,this.encryptionKey,!1),w=function(){return new ARCFourCipher(b)};return new CipherTransform(w,w)}}async function writeObject(g,d,x,{encrypt:b=null}){const w=b?.createCipherTransform(g.num,g.gen);x.push(`${g.num} ${g.gen} obj
`),d instanceof Dict?await writeDict(d,x,w):d instanceof BaseStream?await writeStream(d,x,w):Array.isArray(d)&&await writeArray(d,x,w),x.push(`
endobj
`)}async function writeDict(g,d,x){d.push("<<");for(const b of g.getKeys())d.push(` /${escapePDFName(b)} `),await writeValue(g.getRaw(b),d,x);d.push(">>")}async function writeStream(g,d,x){let b=g.getBytes();const{dict:w}=g,[S,C]=await Promise.all([w.getAsync("Filter"),w.getAsync("DecodeParms")]),F=Array.isArray(S)?await w.xref.fetchIfRefAsync(S[0]):S,E=isName(F,"FlateDecode"),k=256;if(typeof CompressionStream<"u"&&(b.length>=k||E))try{const M=new CompressionStream("deflate"),L=M.writable.getWriter();L.write(b),L.close();const R=await new Response(M.readable).arrayBuffer();b=new Uint8Array(R);let U,j;S?E||(U=Array.isArray(S)?[Name.get("FlateDecode"),...S]:[Name.get("FlateDecode"),S],C&&(j=Array.isArray(C)?[null,...C]:[null,C])):U=Name.get("FlateDecode"),U&&w.set("Filter",U),j&&w.set("DecodeParms",j)}catch(M){info(`writeStream - cannot compress data: "${M}".`)}let D=bytesToString(b);x&&(D=x.encryptString(D)),w.set("Length",D.length),await writeDict(w,d,x),d.push(` stream
`,D,`
endstream`)}async function writeArray(g,d,x){d.push("[");let b=!0;for(const w of g)b?b=!1:d.push(" "),await writeValue(w,d,x);d.push("]")}async function writeValue(g,d,x){g instanceof Name?d.push(`/${escapePDFName(g.name)}`):g instanceof Ref?d.push(`${g.num} ${g.gen} R`):Array.isArray(g)?await writeArray(g,d,x):typeof g=="string"?(x&&(g=x.encryptString(g)),d.push(`(${escapeString(g)})`)):typeof g=="number"?d.push(numberToString$1(g)):typeof g=="boolean"?d.push(g.toString()):g instanceof Dict?await writeDict(g,d,x):g instanceof BaseStream?await writeStream(g,d,x):g===null?d.push("null"):warn(`Unhandled value in writer: ${typeof g}, please file a bug.`)}function writeInt(g,d,x,b){for(let w=d+x-1;w>x-1;w--)b[w]=g&255,g>>=8;return x+d}function writeString(g,d,x){for(let b=0,w=g.length;b<w;b++)x[d+b]=g.charCodeAt(b)&255}function computeMD5(g,d){const x=Math.floor(Date.now()/1e3),b=d.filename||"",w=[x.toString(),b,g.toString()];let S=w.reduce((E,k)=>E+k.length,0);for(const E of Object.values(d.info))w.push(E),S+=E.length;const C=new Uint8Array(S);let F=0;for(const E of w)writeString(E,F,C),F+=E.length;return bytesToString(calculateMD5(C))}function writeXFADataForAcroform(g,d){const x=new SimpleXMLParser({hasAttributes:!0}).parseFromString(g);for(const{xfa:w}of d){if(!w)continue;const{path:S,value:C}=w;if(!S)continue;const F=parseXFAPath(S);let E=x.documentElement.searchNode(F,0);!E&&F.length>1&&(E=x.documentElement.searchNode([F.at(-1)],0)),E?E.childNodes=Array.isArray(C)?C.map(k=>new SimpleDOMNode("value",k)):[new SimpleDOMNode("#text",C)]:warn(`Node not found for path: ${S}`)}const b=[];return x.documentElement.dump(b),b.join("")}async function updateAcroform({xref:g,acroForm:d,acroFormRef:x,hasXfa:b,hasXfaDatasetsEntry:w,xfaDatasetsRef:S,needAppearances:C,newRefs:F}){if(b&&!w&&!S&&warn("XFA - Cannot save it"),!C&&(!b||!S||w))return;const E=d.clone();if(b&&!w){const D=d.get("XFA").slice();D.splice(2,0,"datasets"),D.splice(3,0,S),E.set("XFA",D)}C&&E.set("NeedAppearances",!0);const k=[];await writeObject(x,E,k,g),F.push({ref:x,data:k.join("")})}function updateXFA({xfaData:g,xfaDatasetsRef:d,newRefs:x,xref:b}){if(g===null){const C=b.fetchIfRef(d);g=writeXFADataForAcroform(C.getString(),x)}const w=b.encrypt;w&&(g=w.createCipherTransform(d.num,d.gen).encryptString(g));const S=`${d.num} ${d.gen} obj
<< /Type /EmbeddedFile /Length ${g.length}>>
stream
`+g+`
endstream
endobj
`;x.push({ref:d,data:S})}async function incrementalUpdate({originalData:g,xrefInfo:d,newRefs:x,xref:b=null,hasXfa:w=!1,xfaDatasetsRef:S=null,hasXfaDatasetsEntry:C=!1,needAppearances:F,acroFormRef:E=null,acroForm:k=null,xfaData:D=null}){await updateAcroform({xref:b,acroForm:k,acroFormRef:E,hasXfa:w,hasXfaDatasetsEntry:C,xfaDatasetsRef:S,needAppearances:F,newRefs:x}),w&&updateXFA({xfaData:D,xfaDatasetsRef:S,newRefs:x,xref:b});const M=new Dict(null),L=d.newRef;let R,U;const j=g.at(-1);j===10||j===13?(R=[],U=g.length):(R=[`
`],U=g.length+1),M.set("Size",L.num+1),M.set("Prev",d.startXRef),M.set("Type",Name.get("XRef")),d.rootRef!==null&&M.set("Root",d.rootRef),d.infoRef!==null&&M.set("Info",d.infoRef),d.encryptRef!==null&&M.set("Encrypt",d.encryptRef),x.push({ref:L,data:""}),x=x.sort((be,me)=>be.ref.num-me.ref.num);const H=[[0,1,65535]],z=[0,1];let V=0;for(const{ref:be,data:me}of x)V=Math.max(V,U),H.push([1,U,Math.min(be.gen,65535)]),U+=me.length,z.push(be.num,1),R.push(me);if(M.set("Index",z),Array.isArray(d.fileIds)&&d.fileIds.length>0){const be=computeMD5(U,d);M.set("ID",[d.fileIds[0],be])}const $=[1,Math.ceil(Math.log2(V)/8),2],Z=($[0]+$[1]+$[2])*H.length;M.set("W",$),M.set("Length",Z),R.push(`${L.num} ${L.gen} obj
`),await writeDict(M,R,null),R.push(` stream
`);const Q=R.reduce((be,me)=>be+me.length,0),ne=`
endstream
endobj
startxref
${U}
%%EOF
`,le=new Uint8Array(g.length+Q+Z+ne.length);le.set(g);let fe=g.length;for(const be of R)writeString(be,fe,le),fe+=be.length;for(const[be,me,we]of H)fe=writeInt(be,$[0],fe,le),fe=writeInt(me,$[1],fe,le),fe=writeInt(we,$[2],fe,le);return writeString(ne,fe,le),le}const MAX_DEPTH=40,StructElementType={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5};class StructTreeRoot{constructor(d,x){this.dict=d,this.ref=x instanceof Ref?x:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}#e(d,x,b){if(!(d instanceof Ref)||x<0)return;this.structParentIds||=new RefSetCache;let w=this.structParentIds.get(d);w||(w=[],this.structParentIds.put(d,w)),w.push([x,b])}addAnnotationIdToPage(d,x){this.#e(d,x,StructElementType.ANNOTATION)}readRoleMap(){const d=this.dict.get("RoleMap");d instanceof Dict&&d.forEach((x,b)=>{b instanceof Name&&this.roleMap.set(x,b.name)})}static async canCreateStructureTree({catalogRef:d,pdfManager:x,newAnnotationsByPage:b}){if(!(d instanceof Ref))return warn("Cannot save the struct tree: no catalog reference."),!1;let w=0,S=!0;for(const[C,F]of b){const{ref:E}=await x.getPage(C);if(!(E instanceof Ref)){warn(`Cannot save the struct tree: page ${C} has no ref.`),S=!0;break}for(const k of F)k.accessibilityData?.type&&(k.parentTreeId=w++,S=!1)}if(S){for(const C of b.values())for(const F of C)delete F.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:d,xref:x,catalogRef:b,pdfManager:w,newRefs:S}){const C=w.catalog.cloneDict(),F=x.getNewTemporaryRef();C.set("StructTreeRoot",F);const E=[];await writeObject(b,C,E,x),S.push({ref:b,data:E.join("")});const k=new Dict(x);k.set("Type",Name.get("StructTreeRoot"));const D=x.getNewTemporaryRef();k.set("ParentTree",D);const M=[];k.set("K",M);const L=new Dict(x),R=[];L.set("Nums",R);const U=await this.#t({newAnnotationsByPage:d,structTreeRootRef:F,kids:M,nums:R,xref:x,pdfManager:w,newRefs:S,buffer:E});k.set("ParentTreeNextKey",U),E.length=0,await writeObject(D,L,E,x),S.push({ref:D,data:E.join("")}),E.length=0,await writeObject(F,k,E,x),S.push({ref:F,data:E.join("")})}async canUpdateStructTree({pdfManager:d,xref:x,newAnnotationsByPage:b}){if(!this.ref)return warn("Cannot update the struct tree: no root reference."),!1;let w=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(w)||w<0)return warn("Cannot update the struct tree: invalid next key."),!1;const S=this.dict.get("ParentTree");if(!(S instanceof Dict))return warn("Cannot update the struct tree: ParentTree isn't a dict."),!1;const C=S.get("Nums");if(!Array.isArray(C))return warn("Cannot update the struct tree: nums isn't an array."),!1;const F=new NumberTree(S,x);for(const k of b.keys()){const{pageDict:D}=await d.getPage(k);if(!D.has("StructParents"))continue;const M=D.get("StructParents");if(!Number.isInteger(M)||!Array.isArray(F.get(M)))return warn(`Cannot save the struct tree: page ${k} has a wrong id.`),!1}let E=!0;for(const[k,D]of b){const{pageDict:M}=await d.getPage(k);StructTreeRoot.#n({elements:D,xref:this.dict.xref,pageDict:M,numberTree:F});for(const L of D)L.accessibilityData?.type&&(L.parentTreeId=w++,E=!1)}if(E){for(const k of b.values())for(const D of k)delete D.parentTreeId,delete D.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:d,pdfManager:x,newRefs:b}){const w=this.dict.xref,S=this.dict.clone(),C=this.ref;let F=S.getRaw("ParentTree"),E;F instanceof Ref?E=w.fetch(F):(E=F,F=w.getNewTemporaryRef(),S.set("ParentTree",F)),E=E.clone();let k=E.getRaw("Nums"),D=null;k instanceof Ref&&(D=k,k=w.fetch(D)),k=k.slice(),D||E.set("Nums",k);let M=S.getRaw("K"),L=null;M instanceof Ref?(L=M,M=w.fetch(L)):(L=w.getNewTemporaryRef(),S.set("K",L)),M=Array.isArray(M)?M.slice():[M];const R=[],U=await StructTreeRoot.#t({newAnnotationsByPage:d,structTreeRootRef:C,kids:M,nums:k,xref:w,pdfManager:x,newRefs:b,buffer:R});S.set("ParentTreeNextKey",U),R.length=0,await writeObject(L,M,R,w),b.push({ref:L,data:R.join("")}),D&&(R.length=0,await writeObject(D,k,R,w),b.push({ref:D,data:R.join("")})),R.length=0,await writeObject(F,E,R,w),b.push({ref:F,data:R.join("")}),R.length=0,await writeObject(C,S,R,w),b.push({ref:C,data:R.join("")})}static async#t({newAnnotationsByPage:d,structTreeRootRef:x,kids:b,nums:w,xref:S,pdfManager:C,newRefs:F,buffer:E}){const k=Name.get("OBJR");let D=-1/0;for(const[M,L]of d){const{ref:R}=await C.getPage(M),U=R instanceof Ref;for(const{accessibilityData:j,ref:H,parentTreeId:z,structTreeParent:V}of L){if(!j?.type)continue;const{type:G,title:$,lang:K,alt:Z,expanded:Q,actualText:ne}=j;D=Math.max(D,z);const le=S.getNewTemporaryRef(),fe=new Dict(S);fe.set("S",Name.get(G)),$&&fe.set("T",$),K&&fe.set("Lang",K),Z&&fe.set("Alt",Z),Q&&fe.set("E",Q),ne&&fe.set("ActualText",ne),V?await this.#r({structTreeParent:V,tagDict:fe,newTagRef:le,fallbackRef:x,xref:S,newRefs:F,buffer:E}):fe.set("P",x);const be=new Dict(S);fe.set("K",be),be.set("Type",k),U&&be.set("Pg",R),be.set("Obj",H),E.length=0,await writeObject(le,fe,E,S),F.push({ref:le,data:E.join("")}),w.push(z,le),b.push(le)}}return D+1}static#n({elements:d,xref:x,pageDict:b,numberTree:w}){const S=new Map;for(const k of d)if(k.structTreeParentId){const D=parseInt(k.structTreeParentId.split("_mc")[1],10);S.set(D,k)}const C=b.get("StructParents");if(!Number.isInteger(C))return;const F=w.get(C),E=(k,D,M)=>{const L=S.get(k);if(L){const R=D.getRaw("P"),U=x.fetchIfRef(R);return R instanceof Ref&&U instanceof Dict&&(L.structTreeParent={ref:M,dict:D}),!0}return!1};for(const k of F){if(!(k instanceof Ref))continue;const D=x.fetch(k),M=D.get("K");if(Number.isInteger(M)){E(M,D,k);continue}if(Array.isArray(M)){for(let L of M)if(L=x.fetchIfRef(L),Number.isInteger(L)&&E(L,D,k))break}}}static async#r({structTreeParent:{ref:d,dict:x},tagDict:b,newTagRef:w,fallbackRef:S,xref:C,newRefs:F,buffer:E}){const k=x.getRaw("P");let D=C.fetchIfRef(k);b.set("P",k);let M=!1,L,R=D.getRaw("K");if(R instanceof Ref?L=C.fetch(R):(L=R,R=C.getNewTemporaryRef(),D=D.clone(),D.set("K",R),M=!0),Array.isArray(L)){const U=L.indexOf(d);if(U>=0)L=L.slice(),L.splice(U+1,0,w);else{warn("Cannot update the struct tree: parent kid not found."),b.set("P",S);return}}else L instanceof Dict&&(L=[R,w],R=C.getNewTemporaryRef(),D.set("K",R),M=!0);E.length=0,await writeObject(R,L,E,C),F.push({ref:R,data:E.join("")}),M&&(E.length=0,await writeObject(k,D,E,C),F.push({ref:k,data:E.join("")}))}}class StructElementNode{constructor(d,x){this.tree=d,this.dict=x,this.kids=[],this.parseKids()}get role(){const d=this.dict.get("S"),x=d instanceof Name?d.name:"",{root:b}=this.tree;return b.roleMap.has(x)?b.roleMap.get(x):x}parseKids(){let d=null;const x=this.dict.getRaw("Pg");x instanceof Ref&&(d=x.toString());const b=this.dict.get("K");if(Array.isArray(b))for(const w of b){const S=this.parseKid(d,w);S&&this.kids.push(S)}else{const w=this.parseKid(d,b);w&&this.kids.push(w)}}parseKid(d,x){if(Number.isInteger(x))return this.tree.pageDict.objId!==d?null:new StructElement({type:StructElementType.PAGE_CONTENT,mcid:x,pageObjId:d});let b=null;if(x instanceof Ref?b=this.dict.xref.fetch(x):x instanceof Dict&&(b=x),!b)return null;const w=b.getRaw("Pg");w instanceof Ref&&(d=w.toString());const S=b.get("Type")instanceof Name?b.get("Type").name:null;if(S==="MCR"){if(this.tree.pageDict.objId!==d)return null;const C=b.getRaw("Stm");return new StructElement({type:StructElementType.STREAM_CONTENT,refObjId:C instanceof Ref?C.toString():null,pageObjId:d,mcid:b.get("MCID")})}if(S==="OBJR"){if(this.tree.pageDict.objId!==d)return null;const C=b.getRaw("Obj");return new StructElement({type:StructElementType.OBJECT,refObjId:C instanceof Ref?C.toString():null,pageObjId:d})}return new StructElement({type:StructElementType.ELEMENT,dict:b})}}class StructElement{constructor({type:d,dict:x=null,mcid:b=null,pageObjId:w=null,refObjId:S=null}){this.type=d,this.dict=x,this.mcid=b,this.pageObjId=w,this.refObjId=S,this.parentNode=null}}class StructTreePage{constructor(d,x){this.root=d,this.rootDict=d?d.dict:null,this.pageDict=x,this.nodes=[]}parse(d){if(!this.root||!this.rootDict)return;const x=this.rootDict.get("ParentTree");if(!x)return;const b=this.pageDict.get("StructParents"),w=d instanceof Ref&&this.root.structParentIds?.get(d);if(!Number.isInteger(b)&&!w)return;const S=new Map,C=new NumberTree(x,this.rootDict.xref);if(Number.isInteger(b)){const F=C.get(b);if(Array.isArray(F))for(const E of F)E instanceof Ref&&this.addNode(this.rootDict.xref.fetch(E),S)}if(w)for(const[F,E]of w){const k=C.get(F);if(k){const D=this.addNode(this.rootDict.xref.fetchIfRef(k),S);D?.kids?.length===1&&D.kids[0].type===StructElementType.OBJECT&&(D.kids[0].type=E)}}}addNode(d,x,b=0){if(b>MAX_DEPTH)return warn("StructTree MAX_DEPTH reached."),null;if(x.has(d))return x.get(d);const w=new StructElementNode(this,d);x.set(d,w);const S=d.get("P");if(!S||isName(S.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(d,w)||x.delete(d),w;const C=this.addNode(S,x,b+1);if(!C)return w;let F=!1;for(const E of C.kids)E.type===StructElementType.ELEMENT&&E.dict===d&&(E.parentNode=w,F=!0);return F||x.delete(d),w}addTopLevelNode(d,x){const b=this.rootDict.get("K");if(!b)return!1;if(b instanceof Dict)return b.objId!==d.objId?!1:(this.nodes[0]=x,!0);if(!Array.isArray(b))return!0;let w=!1;for(let S=0;S<b.length;S++)b[S]?.toString()===d.objId&&(this.nodes[S]=x,w=!0);return w}get serializable(){function d(b,w,S=0){if(S>MAX_DEPTH){warn("StructTree too deep to be fully serialized.");return}const C=Object.create(null);C.role=b.role,C.children=[],w.children.push(C);const F=b.dict.get("Alt");typeof F=="string"&&(C.alt=stringToPDFString(F));const E=b.dict.get("Lang");typeof E=="string"&&(C.lang=stringToPDFString(E));for(const k of b.kids){const D=k.type===StructElementType.ELEMENT?k.parentNode:null;if(D){d(D,C,S+1);continue}else k.type===StructElementType.PAGE_CONTENT||k.type===StructElementType.STREAM_CONTENT?C.children.push({type:"content",id:`p${k.pageObjId}_mc${k.mcid}`}):k.type===StructElementType.OBJECT?C.children.push({type:"object",id:k.refObjId}):k.type===StructElementType.ANNOTATION&&C.children.push({type:"annotation",id:`${AnnotationPrefix}${k.refObjId}`})}}const x=Object.create(null);x.children=[],x.role="Root";for(const b of this.nodes)b&&d(b,x);return x}}function fetchDestination(g){return g instanceof Dict&&(g=g.get("D")),Array.isArray(g)?g:null}function fetchRemoteDest(g){let d=g.get("D");if(d){if(d instanceof Name&&(d=d.name),typeof d=="string")return stringToPDFString(d);if(Array.isArray(d))return JSON.stringify(d)}return null}class Catalog{constructor(d,x){if(this.pdfManager=d,this.xref=x,this._catDict=x.getCatalogObj(),!(this._catDict instanceof Dict))throw new FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new GlobalImageCache,this.pageKidsCountCache=new RefSetCache,this.pageIndexCache=new RefSetCache,this.nonBlendModesSet=new RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const d=this._catDict.get("Version");if(d instanceof Name){if(PDF_VERSION_REGEXP.test(d.name))return shadow(this,"version",d.name);warn(`Invalid PDF catalog version: ${d.name}`)}return shadow(this,"version",null)}get lang(){const d=this._catDict.get("Lang");return shadow(this,"lang",typeof d=="string"?stringToPDFString(d):null)}get needsRendering(){const d=this._catDict.get("NeedsRendering");return shadow(this,"needsRendering",typeof d=="boolean"?d:!1)}get collection(){let d=null;try{const x=this._catDict.get("Collection");x instanceof Dict&&x.size>0&&(d=x)}catch(x){if(x instanceof MissingDataException)throw x;info("Cannot fetch Collection entry; assuming no collection is present.")}return shadow(this,"collection",d)}get acroForm(){let d=null;try{const x=this._catDict.get("AcroForm");x instanceof Dict&&x.size>0&&(d=x)}catch(x){if(x instanceof MissingDataException)throw x;info("Cannot fetch AcroForm entry; assuming no forms are present.")}return shadow(this,"acroForm",d)}get acroFormRef(){const d=this._catDict.getRaw("AcroForm");return shadow(this,"acroFormRef",d instanceof Ref?d:null)}get metadata(){const d=this._catDict.getRaw("Metadata");if(!(d instanceof Ref))return shadow(this,"metadata",null);let x=null;try{const b=this.xref.fetch(d,!this.xref.encrypt?.encryptMetadata);if(b instanceof BaseStream&&b.dict instanceof Dict){const w=b.dict.get("Type"),S=b.dict.get("Subtype");if(isName(w,"Metadata")&&isName(S,"XML")){const C=stringToUTF8String(b.getString());C&&(x=new MetadataParser(C).serializable)}}}catch(b){if(b instanceof MissingDataException)throw b;info(`Skipping invalid Metadata: "${b}".`)}return shadow(this,"metadata",x)}get markInfo(){let d=null;try{d=this._readMarkInfo()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read mark info.")}return shadow(this,"markInfo",d)}_readMarkInfo(){const d=this._catDict.get("MarkInfo");if(!(d instanceof Dict))return null;const x={Marked:!1,UserProperties:!1,Suspects:!1};for(const b in x){const w=d.get(b);typeof w=="boolean"&&(x[b]=w)}return x}get structTreeRoot(){let d=null;try{d=this._readStructTreeRoot()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable read to structTreeRoot info.")}return shadow(this,"structTreeRoot",d)}_readStructTreeRoot(){const d=this._catDict.getRaw("StructTreeRoot"),x=this.xref.fetchIfRef(d);if(!(x instanceof Dict))return null;const b=new StructTreeRoot(x,d);return b.init(),b}get toplevelPagesDict(){const d=this._catDict.get("Pages");if(!(d instanceof Dict))throw new FormatError("Invalid top-level pages dictionary.");return shadow(this,"toplevelPagesDict",d)}get documentOutline(){let d=null;try{d=this._readDocumentOutline()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read document outline.")}return shadow(this,"documentOutline",d)}_readDocumentOutline(){let d=this._catDict.get("Outlines");if(!(d instanceof Dict)||(d=d.getRaw("First"),!(d instanceof Ref)))return null;const x={items:[]},b=[{obj:d,parent:x}],w=new RefSet;w.put(d);const S=this.xref,C=new Uint8ClampedArray(3);for(;b.length>0;){const F=b.shift(),E=S.fetchIfRef(F.obj);if(E===null)continue;if(!E.has("Title"))throw new FormatError("Invalid outline item encountered.");const k={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:E,resultObj:k,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const D=E.get("Title"),M=E.get("F")||0,L=E.getArray("C"),R=E.get("Count");let U=C;Array.isArray(L)&&L.length===3&&(L[0]!==0||L[1]!==0||L[2]!==0)&&(U=ColorSpace$1.singletons.rgb.getRgb(L,0));const j={action:k.action,attachment:k.attachment,dest:k.dest,url:k.url,unsafeUrl:k.unsafeUrl,newWindow:k.newWindow,setOCGState:k.setOCGState,title:stringToPDFString(D),color:U,count:Number.isInteger(R)?R:void 0,bold:!!(M&2),italic:!!(M&1),items:[]};F.parent.items.push(j),d=E.getRaw("First"),d instanceof Ref&&!w.has(d)&&(b.push({obj:d,parent:j}),w.put(d)),d=E.getRaw("Next"),d instanceof Ref&&!w.has(d)&&(b.push({obj:d,parent:F.parent}),w.put(d))}return x.items.length>0?x.items:null}get permissions(){let d=null;try{d=this._readPermissions()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read permissions.")}return shadow(this,"permissions",d)}_readPermissions(){const d=this.xref.trailer.get("Encrypt");if(!(d instanceof Dict))return null;let x=d.get("P");if(typeof x!="number")return null;x+=2**32;const b=[];for(const w in PermissionFlag){const S=PermissionFlag[w];x&S&&b.push(S)}return b}get optionalContentConfig(){let d=null;try{const x=this._catDict.get("OCProperties");if(!x)return shadow(this,"optionalContentConfig",null);const b=x.get("D");if(!b)return shadow(this,"optionalContentConfig",null);const w=x.get("OCGs");if(!Array.isArray(w))return shadow(this,"optionalContentConfig",null);const S=[],C=new RefSet;for(const F of w){if(!(F instanceof Ref)||C.has(F))continue;C.put(F);const E=this.xref.fetch(F);S.push({id:F.toString(),name:typeof E.get("Name")=="string"?stringToPDFString(E.get("Name")):null,intent:typeof E.get("Intent")=="string"?stringToPDFString(E.get("Intent")):null})}d=this._readOptionalContentConfig(b,C),d.groups=S}catch(x){if(x instanceof MissingDataException)throw x;warn(`Unable to read optional content config: ${x}`)}return shadow(this,"optionalContentConfig",d)}_readOptionalContentConfig(d,x){function b(k){const D=[];if(Array.isArray(k))for(const M of k)M instanceof Ref&&x.has(M)&&D.push(M.toString());return D}function w(k,D=0){if(!Array.isArray(k))return null;const M=[];for(const R of k){if(R instanceof Ref&&x.has(R)){F.put(R),M.push(R.toString());continue}const U=S(R,D);U&&M.push(U)}if(D>0)return M;const L=[];for(const R of x)F.has(R)||L.push(R.toString());return L.length&&M.push({name:null,order:L}),M}function S(k,D){if(++D>E)return warn("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const M=C.fetchIfRef(k);if(!Array.isArray(M))return null;const L=C.fetchIfRef(M[0]);if(typeof L!="string")return null;const R=w(M.slice(1),D);return!R||!R.length?null:{name:stringToPDFString(L),order:R}}const C=this.xref,F=new RefSet,E=10;return{name:typeof d.get("Name")=="string"?stringToPDFString(d.get("Name")):null,creator:typeof d.get("Creator")=="string"?stringToPDFString(d.get("Creator")):null,baseState:d.get("BaseState")instanceof Name?d.get("BaseState").name:null,on:b(d.get("ON")),off:b(d.get("OFF")),order:w(d.get("Order")),groups:null}}setActualNumPages(d=null){this._actualNumPages=d}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const d=this.toplevelPagesDict.get("Count");if(!Number.isInteger(d))throw new FormatError("Page count in top-level pages dictionary is not an integer.");return shadow(this,"_pagesCount",d)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const d=this._readDests(),x=Object.create(null);if(d instanceof NameTree)for(const[b,w]of d.getAll()){const S=fetchDestination(w);S&&(x[stringToPDFString(b)]=S)}else d instanceof Dict&&d.forEach(function(b,w){const S=fetchDestination(w);S&&(x[b]=S)});return shadow(this,"destinations",x)}getDestination(d){const x=this._readDests();if(x instanceof NameTree){const b=fetchDestination(x.get(d));if(b)return b;const w=this.destinations[d];if(w)return warn(`Found "${d}" at an incorrect position in the NameTree.`),w}else if(x instanceof Dict){const b=fetchDestination(x.get(d));if(b)return b}return null}_readDests(){const d=this._catDict.get("Names");if(d?.has("Dests"))return new NameTree(d.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let d=null;try{d=this._readPageLabels()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read page labels.")}return shadow(this,"pageLabels",d)}_readPageLabels(){const d=this._catDict.getRaw("PageLabels");if(!d)return null;const x=new Array(this.numPages);let b=null,w="";const C=new NumberTree(d,this.xref).getAll();let F="",E=1;for(let k=0,D=this.numPages;k<D;k++){const M=C.get(k);if(M!==void 0){if(!(M instanceof Dict))throw new FormatError("PageLabel is not a dictionary.");if(M.has("Type")&&!isName(M.get("Type"),"PageLabel"))throw new FormatError("Invalid type in PageLabel dictionary.");if(M.has("S")){const L=M.get("S");if(!(L instanceof Name))throw new FormatError("Invalid style in PageLabel dictionary.");b=L.name}else b=null;if(M.has("P")){const L=M.get("P");if(typeof L!="string")throw new FormatError("Invalid prefix in PageLabel dictionary.");w=stringToPDFString(L)}else w="";if(M.has("St")){const L=M.get("St");if(!(Number.isInteger(L)&&L>=1))throw new FormatError("Invalid start in PageLabel dictionary.");E=L}else E=1}switch(b){case"D":F=E;break;case"R":case"r":F=toRomanNumerals(E,b==="r");break;case"A":case"a":const L=26,j=b==="a"?97:65,H=E-1;F=String.fromCharCode(j+H%L).repeat(Math.floor(H/L)+1);break;default:if(b)throw new FormatError(`Invalid style "${b}" in PageLabel dictionary.`);F=""}x[k]=w+F,E++}return x}get pageLayout(){const d=this._catDict.get("PageLayout");let x="";if(d instanceof Name)switch(d.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":x=d.name}return shadow(this,"pageLayout",x)}get pageMode(){const d=this._catDict.get("PageMode");let x="UseNone";if(d instanceof Name)switch(d.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":x=d.name}return shadow(this,"pageMode",x)}get viewerPreferences(){const d=this._catDict.get("ViewerPreferences");if(!(d instanceof Dict))return shadow(this,"viewerPreferences",null);let x=null;for(const b of d.getKeys()){const w=d.get(b);let S;switch(b){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof w=="boolean"&&(S=w);break;case"NonFullScreenPageMode":if(w instanceof Name)switch(w.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":S=w.name;break;default:S="UseNone"}break;case"Direction":if(w instanceof Name)switch(w.name){case"L2R":case"R2L":S=w.name;break;default:S="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(w instanceof Name)switch(w.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":S=w.name;break;default:S="CropBox"}break;case"PrintScaling":if(w instanceof Name)switch(w.name){case"None":case"AppDefault":S=w.name;break;default:S="AppDefault"}break;case"Duplex":if(w instanceof Name)switch(w.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":S=w.name;break;default:S="None"}break;case"PrintPageRange":Array.isArray(w)&&w.length%2===0&&w.every((F,E,k)=>Number.isInteger(F)&&F>0&&(E===0||F>=k[E-1])&&F<=this.numPages)&&(S=w);break;case"NumCopies":Number.isInteger(w)&&w>0&&(S=w);break;default:warn(`Ignoring non-standard key in ViewerPreferences: ${b}.`);continue}if(S===void 0){warn(`Bad value, for key "${b}", in ViewerPreferences: ${w}.`);continue}x||(x=Object.create(null)),x[b]=S}return shadow(this,"viewerPreferences",x)}get openAction(){const d=this._catDict.get("OpenAction"),x=Object.create(null);if(d instanceof Dict){const b=new Dict(this.xref);b.set("A",d);const w={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:b,resultObj:w}),Array.isArray(w.dest)?x.dest=w.dest:w.action&&(x.action=w.action)}else Array.isArray(d)&&(x.dest=d);return shadow(this,"openAction",objectSize(x)>0?x:null)}get attachments(){const d=this._catDict.get("Names");let x=null;if(d instanceof Dict&&d.has("EmbeddedFiles")){const b=new NameTree(d.getRaw("EmbeddedFiles"),this.xref);for(const[w,S]of b.getAll()){const C=new FileSpec(S,this.xref);x||(x=Object.create(null)),x[stringToPDFString(w)]=C.serializable}}return shadow(this,"attachments",x)}get xfaImages(){const d=this._catDict.get("Names");let x=null;if(d instanceof Dict&&d.has("XFAImages")){const b=new NameTree(d.getRaw("XFAImages"),this.xref);for(const[w,S]of b.getAll())x||(x=new Dict(this.xref)),x.set(stringToPDFString(w),S)}return shadow(this,"xfaImages",x)}_collectJavaScript(){const d=this._catDict.get("Names");let x=null;function b(S,C){if(!(C instanceof Dict)||!isName(C.get("S"),"JavaScript"))return;let F=C.get("JS");if(F instanceof BaseStream)F=F.getString();else if(typeof F!="string")return;F=stringToPDFString(F).replaceAll("\0",""),F&&(x||=new Map).set(S,F)}if(d instanceof Dict&&d.has("JavaScript")){const S=new NameTree(d.getRaw("JavaScript"),this.xref);for(const[C,F]of S.getAll())b(stringToPDFString(C),F)}const w=this._catDict.get("OpenAction");return w&&b("OpenAction",w),x}get jsActions(){const d=this._collectJavaScript();let x=collectActions(this.xref,this._catDict,DocumentActionEventType);if(d){x||=Object.create(null);for(const[b,w]of d)b in x?x[b].push(w):x[b]=[w]}return shadow(this,"jsActions",x)}async fontFallback(d,x){const b=await Promise.all(this.fontCache);for(const w of b)if(w.loadedName===d){w.fallback(x);return}}async cleanup(d=!1){clearGlobalCaches(),this.globalImageCache.clear(d),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const x=await Promise.all(this.fontCache);for(const{dict:b}of x)delete b.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(d){const x=[this.toplevelPagesDict],b=new RefSet,w=this._catDict.getRaw("Pages");w instanceof Ref&&b.put(w);const S=this.xref,C=this.pageKidsCountCache,F=this.pageIndexCache;let E=0;for(;x.length;){const k=x.pop();if(k instanceof Ref){const R=C.get(k);if(R>=0&&E+R<=d){E+=R;continue}if(b.has(k))throw new FormatError("Pages tree contains circular reference.");b.put(k);const U=await S.fetchAsync(k);if(U instanceof Dict){let j=U.getRaw("Type");if(j instanceof Ref&&(j=await S.fetchAsync(j)),isName(j,"Page")||!U.has("Kids")){if(C.has(k)||C.put(k,1),F.has(k)||F.put(k,E),E===d)return[U,k];E++;continue}}x.push(U);continue}if(!(k instanceof Dict))throw new FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:D}=k;let M=k.getRaw("Count");if(M instanceof Ref&&(M=await S.fetchAsync(M)),Number.isInteger(M)&&M>=0&&(D&&!C.has(D)&&C.put(D,M),E+M<=d)){E+=M;continue}let L=k.getRaw("Kids");if(L instanceof Ref&&(L=await S.fetchAsync(L)),!Array.isArray(L)){let R=k.getRaw("Type");if(R instanceof Ref&&(R=await S.fetchAsync(R)),isName(R,"Page")||!k.has("Kids")){if(E===d)return[k,null];E++;continue}throw new FormatError("Page dictionary kids object is not an array.")}for(let R=L.length-1;R>=0;R--)x.push(L[R])}throw new Error(`Page index ${d} not found.`)}async getAllPageDicts(d=!1){const{ignoreErrors:x}=this.pdfManager.evaluatorOptions,b=[{currentNode:this.toplevelPagesDict,posInKids:0}],w=new RefSet,S=this._catDict.getRaw("Pages");S instanceof Ref&&w.put(S);const C=new Map,F=this.xref,E=this.pageIndexCache;let k=0;function D(L,R){R&&!E.has(R)&&E.put(R,k),C.set(k++,[L,R])}function M(L){if(L instanceof XRefEntryException&&!d)throw L;d&&x&&k===0&&(warn(`getAllPageDicts - Skipping invalid first page: "${L}".`),L=Dict.empty),C.set(k++,[L,null])}for(;b.length>0;){const L=b.at(-1),{currentNode:R,posInKids:U}=L;let j=R.getRaw("Kids");if(j instanceof Ref)try{j=await F.fetchAsync(j)}catch(G){M(G);break}if(!Array.isArray(j)){M(new FormatError("Page dictionary kids object is not an array."));break}if(U>=j.length){b.pop();continue}const H=j[U];let z;if(H instanceof Ref){if(w.has(H)){M(new FormatError("Pages tree contains circular reference."));break}w.put(H);try{z=await F.fetchAsync(H)}catch(G){M(G);break}}else z=H;if(!(z instanceof Dict)){M(new FormatError("Page dictionary kid reference points to wrong type of object."));break}let V=z.getRaw("Type");if(V instanceof Ref)try{V=await F.fetchAsync(V)}catch(G){M(G);break}isName(V,"Page")||!z.has("Kids")?D(z,H instanceof Ref?H:null):b.push({currentNode:z,posInKids:0}),L.posInKids++}return C}getPageIndex(d){const x=this.pageIndexCache.get(d);if(x!==void 0)return Promise.resolve(x);const b=this.xref;function w(F){let E=0,k;return b.fetchAsync(F).then(function(D){if(isRefsEqual(F,d)&&!isDict(D,"Page")&&!(D instanceof Dict&&!D.has("Type")&&D.has("Contents")))throw new FormatError("The reference does not point to a /Page dictionary.");if(!D)return null;if(!(D instanceof Dict))throw new FormatError("Node must be a dictionary.");return k=D.getRaw("Parent"),D.getAsync("Parent")}).then(function(D){if(!D)return null;if(!(D instanceof Dict))throw new FormatError("Parent must be a dictionary.");return D.getAsync("Kids")}).then(function(D){if(!D)return null;const M=[];let L=!1;for(const R of D){if(!(R instanceof Ref))throw new FormatError("Kid must be a reference.");if(isRefsEqual(R,F)){L=!0;break}M.push(b.fetchAsync(R).then(function(U){if(!(U instanceof Dict))throw new FormatError("Kid node must be a dictionary.");U.has("Count")?E+=U.get("Count"):E++}))}if(!L)throw new FormatError("Kid reference not found in parent's kids.");return Promise.all(M).then(function(){return[E,k]})})}let S=0;const C=F=>w(F).then(E=>{if(!E)return this.pageIndexCache.put(d,S),S;const[k,D]=E;return S+=k,C(D)});return C(d)}get baseUrl(){const d=this._catDict.get("URI");if(d instanceof Dict){const x=d.get("Base");if(typeof x=="string"){const b=createValidAbsoluteUrl(x,null,{tryConvertEncoding:!0});if(b)return shadow(this,"baseUrl",b.href)}}return shadow(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:d,resultObj:x,docBaseUrl:b=null,docAttachments:w=null}){if(!(d instanceof Dict)){warn("parseDestDictionary: `destDict` must be a dictionary.");return}let S=d.get("A"),C,F;if(S instanceof Dict||(d.has("Dest")?S=d.get("Dest"):(S=d.get("AA"),S instanceof Dict&&(S.has("D")?S=S.get("D"):S.has("U")&&(S=S.get("U"))))),S instanceof Dict){const E=S.get("S");if(!(E instanceof Name)){warn("parseDestDictionary: Invalid type in Action dictionary.");return}const k=E.name;switch(k){case"ResetForm":const D=S.get("Flags"),M=((typeof D=="number"?D:0)&1)===0,L=[],R=[];for(const fe of S.get("Fields")||[])fe instanceof Ref?R.push(fe.toString()):typeof fe=="string"&&L.push(stringToPDFString(fe));x.resetForm={fields:L,refs:R,include:M};break;case"URI":C=S.get("URI"),C instanceof Name&&(C="/"+C.name);break;case"GoTo":F=S.get("D");break;case"Launch":case"GoToR":const U=S.get("F");U instanceof Dict?C=U.get("F")||null:typeof U=="string"&&(C=U);const j=fetchRemoteDest(S);j&&typeof C=="string"&&(C=C.split("#",1)[0]+"#"+j);const H=S.get("NewWindow");typeof H=="boolean"&&(x.newWindow=H);break;case"GoToE":const z=S.get("T");let V;if(w&&z instanceof Dict){const fe=z.get("R"),be=z.get("N");isName(fe,"C")&&typeof be=="string"&&(V=w[stringToPDFString(be)])}if(V){x.attachment=V;const fe=fetchRemoteDest(S);fe&&(x.attachmentDest=fe)}else warn('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const G=S.get("N");G instanceof Name&&(x.action=G.name);break;case"SetOCGState":const $=S.get("State"),K=S.get("PreserveRB");if(!Array.isArray($)||$.length===0)break;const Z=[];for(const fe of $)if(fe instanceof Name)switch(fe.name){case"ON":case"OFF":case"Toggle":Z.push(fe.name);break}else fe instanceof Ref&&Z.push(fe.toString());if(Z.length!==$.length)break;x.setOCGState={state:Z,preserveRB:typeof K=="boolean"?K:!0};break;case"JavaScript":const Q=S.get("JS");let ne;Q instanceof BaseStream?ne=Q.getString():typeof Q=="string"&&(ne=Q);const le=ne&&recoverJsURL(stringToPDFString(ne));if(le){C=le.url,x.newWindow=le.newWindow;break}default:if(k==="JavaScript"||k==="SubmitForm")break;warn(`parseDestDictionary - unsupported action: "${k}".`);break}}else d.has("Dest")&&(F=d.get("Dest"));if(typeof C=="string"){const E=createValidAbsoluteUrl(C,b,{addDefaultProtocol:!0,tryConvertEncoding:!0});E&&(x.url=E.href),x.unsafeUrl=C}F&&(F instanceof Name&&(F=F.name),typeof F=="string"?x.dest=stringToPDFString(F):Array.isArray(F)&&(x.dest=F))}}function mayHaveChildren(g){return g instanceof Ref||g instanceof Dict||g instanceof BaseStream||Array.isArray(g)}function addChildren(g,d){if(g instanceof Dict)g=g.getRawValues();else if(g instanceof BaseStream)g=g.dict.getRawValues();else if(!Array.isArray(g))return;for(const x of g)mayHaveChildren(x)&&d.push(x)}class ObjectLoader{constructor(d,x,b){this.dict=d,this.keys=x,this.xref=b,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:d,dict:x}=this;this.refSet=new RefSet;const b=[];for(const w of d){const S=x.getRaw(w);S!==void 0&&b.push(S)}return this._walk(b)}async _walk(d){const x=[],b=[];for(;d.length;){let w=d.pop();if(w instanceof Ref){if(this.refSet.has(w))continue;try{this.refSet.put(w),w=this.xref.fetch(w)}catch(S){if(!(S instanceof MissingDataException)){warn(`ObjectLoader._walk - requesting all data: "${S}".`),this.refSet=null;const{manager:C}=this.xref.stream;return C.requestAllChunks()}x.push(w),b.push({begin:S.begin,end:S.end})}}if(w instanceof BaseStream){const S=w.getBaseStreams();if(S){let C=!1;for(const F of S)F.isDataLoaded||(C=!0,b.push({begin:F.start,end:F.end}));C&&x.push(w)}}addChildren(w,d)}if(b.length){await this.xref.stream.manager.requestRanges(b);for(const w of x)w instanceof Ref&&this.refSet.remove(w);return this._walk(x)}this.refSet=null}}const $acceptWhitespace=Symbol(),$addHTML=Symbol(),$appendChild=Symbol(),$childrenToHTML=Symbol(),$clean=Symbol(),$cleanPage=Symbol(),$cleanup=Symbol(),$clone=Symbol(),$consumed=Symbol(),$content=Symbol("content"),$data=Symbol("data"),$dump=Symbol(),$extra=Symbol("extra"),$finalize=Symbol(),$flushHTML=Symbol(),$getAttributeIt=Symbol(),$getAttributes=Symbol(),$getAvailableSpace=Symbol(),$getChildrenByClass=Symbol(),$getChildrenByName=Symbol(),$getChildrenByNameIt=Symbol(),$getDataValue=Symbol(),$getExtra=Symbol(),$getRealChildrenByNameIt=Symbol(),$getChildren=Symbol(),$getContainedChildren=Symbol(),$getNextPage=Symbol(),$getSubformParent=Symbol(),$getParent=Symbol(),$getTemplateRoot=Symbol(),$globalData=Symbol(),$hasSettableValue=Symbol(),$ids=Symbol(),$indexOf=Symbol(),$insertAt=Symbol(),$isCDATAXml=Symbol(),$isBindable=Symbol(),$isDataValue=Symbol(),$isDescendent=Symbol(),$isNsAgnostic=Symbol(),$isSplittable=Symbol(),$isThereMoreWidth=Symbol(),$isTransparent=Symbol(),$isUsable=Symbol(),$lastAttribute=Symbol(),$namespaceId=Symbol("namespaceId"),$nodeName=Symbol("nodeName"),$nsAttributes=Symbol(),$onChild=Symbol(),$onChildCheck=Symbol(),$onText=Symbol(),$pushGlyphs=Symbol(),$popPara=Symbol(),$pushPara=Symbol(),$removeChild=Symbol(),$root=Symbol("root"),$resolvePrototypes=Symbol(),$searchNode=Symbol(),$setId=Symbol(),$setSetAttributes=Symbol(),$setValue=Symbol(),$tabIndex=Symbol(),$text=Symbol(),$toPages=Symbol(),$toHTML=Symbol(),$toString=Symbol(),$toStyle=Symbol(),$uid=Symbol("uid"),$buildXFAObject=Symbol(),NamespaceIds={config:{id:0,check:g=>g.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:g=>g==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:g=>g==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:g=>g==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:g=>g.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:g=>g==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:g=>g==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:g=>g==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:g=>g==="http://ns.adobe.com/xmpmeta/"}},dimConverters={pt:g=>g,cm:g=>g/2.54*72,mm:g=>g/(10*2.54)*72,in:g=>g*72,px:g=>g},measurementPattern=/([+-]?\d+\.?\d*)(.*)/;function stripQuotes(g){return g.startsWith("'")||g.startsWith('"')?g.slice(1,-1):g}function getInteger({data:g,defaultValue:d,validate:x}){if(!g)return d;g=g.trim();const b=parseInt(g,10);return!isNaN(b)&&x(b)?b:d}function getFloat({data:g,defaultValue:d,validate:x}){if(!g)return d;g=g.trim();const b=parseFloat(g);return!isNaN(b)&&x(b)?b:d}function getKeyword({data:g,defaultValue:d,validate:x}){return g?(g=g.trim(),x(g)?g:d):d}function getStringOption(g,d){return getKeyword({data:g,defaultValue:d[0],validate:x=>d.includes(x)})}function getMeasurement(g,d="0"){if(d||="0",!g)return getMeasurement(d);const x=g.trim().match(measurementPattern);if(!x)return getMeasurement(d);const[,b,w]=x,S=parseFloat(b);if(isNaN(S))return getMeasurement(d);if(S===0)return 0;const C=dimConverters[w];return C?C(S):S}function getRatio(g){if(!g)return{num:1,den:1};const d=g.trim().split(/\s*:\s*/).map(w=>parseFloat(w)).filter(w=>!isNaN(w));if(d.length===1&&d.push(1),d.length===0)return{num:1,den:1};const[x,b]=d;return{num:x,den:b}}function getRelevant(g){return g?g.trim().split(/\s+/).map(d=>({excluded:d[0]==="-",viewname:d.substring(1)})):[]}function getColor(g,d=[0,0,0]){let[x,b,w]=d;if(!g)return{r:x,g:b,b:w};const S=g.trim().split(/\s*,\s*/).map(C=>Math.min(Math.max(0,parseInt(C.trim(),10)),255)).map(C=>isNaN(C)?0:C);return S.length<3?{r:x,g:b,b:w}:([x,b,w]=S,{r:x,g:b,b:w})}function getBBox(g){if(!g)return{x:-1,y:-1,width:-1,height:-1};const x=g.trim().split(/\s*,\s*/).map(F=>getMeasurement(F,"-1"));if(x.length<4||x[2]<0||x[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[b,w,S,C]=x;return{x:b,y:w,width:S,height:C}}class HTMLResult{static get FAILURE(){return shadow(this,"FAILURE",new HTMLResult(!1,null,null,null))}static get EMPTY(){return shadow(this,"EMPTY",new HTMLResult(!0,null,null,null))}constructor(d,x,b,w){this.success=d,this.html=x,this.bbox=b,this.breakNode=w}isBreak(){return!!this.breakNode}static breakNode(d){return new HTMLResult(!1,null,null,d)}static success(d,x=null){return new HTMLResult(!0,d,x,null)}}class FontFinder{constructor(d){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(d)}add(d,x=null){for(const w of d)this.addPdfFont(w);for(const w of this.fonts.values())w.regular||(w.regular=w.italic||w.bold||w.bolditalic);if(!x||x.size===0)return;const b=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const w of x)this.fonts.set(w,b)}addPdfFont(d){const x=d.cssFontInfo,b=x.fontFamily;let w=this.fonts.get(b);w||(w=Object.create(null),this.fonts.set(b,w),this.defaultFont||(this.defaultFont=w));let S="";const C=parseFloat(x.fontWeight);parseFloat(x.italicAngle)!==0?S=C>=700?"bolditalic":"italic":C>=700&&(S="bold"),S||((d.name.includes("Bold")||d.psName?.includes("Bold"))&&(S="bold"),(d.name.includes("Italic")||d.name.endsWith("It")||d.psName?.includes("Italic")||d.psName?.endsWith("It"))&&(S+="italic")),S||(S="regular"),w[S]=d}getDefault(){return this.defaultFont}find(d,x=!0){let b=this.fonts.get(d)||this.cache.get(d);if(b)return b;const w=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let S=d.replaceAll(w,"");if(b=this.fonts.get(S),b)return this.cache.set(d,b),b;S=S.toLowerCase();const C=[];for(const[F,E]of this.fonts.entries())F.replaceAll(w,"").toLowerCase().startsWith(S)&&C.push(E);if(C.length===0)for(const[,F]of this.fonts.entries())F.regular.name?.replaceAll(w,"").toLowerCase().startsWith(S)&&C.push(F);if(C.length===0){S=S.replaceAll(/psmt|mt/gi,"");for(const[F,E]of this.fonts.entries())F.replaceAll(w,"").toLowerCase().startsWith(S)&&C.push(E)}if(C.length===0)for(const F of this.fonts.values())F.regular.name?.replaceAll(w,"").toLowerCase().startsWith(S)&&C.push(F);return C.length>=1?(C.length!==1&&x&&warn(`XFA - Too many choices to guess the correct font: ${d}`),this.cache.set(d,C[0]),C[0]):(x&&!this.warned.has(d)&&(this.warned.add(d),warn(`XFA - Cannot find the font: ${d}`)),null)}}function selectFont(g,d){return g.posture==="italic"?g.weight==="bold"?d.bolditalic:d.italic:g.weight==="bold"?d.bold:d.regular}function fonts_getMetrics(g,d=!1){let x=null;if(g){const C=stripQuotes(g.typeface),F=g[$globalData].fontFinder.find(C);x=selectFont(g,F)}if(!x)return{lineHeight:12,lineGap:2,lineNoGap:10};const b=g.size||10,w=x.lineHeight?Math.max(d?0:1.2,x.lineHeight):1.2,S=x.lineGap===void 0?.2:x.lineGap;return{lineHeight:w*b,lineGap:S*b,lineNoGap:Math.max(1,w-S)*b}}const WIDTH_FACTOR=1.02;class FontInfo{constructor(d,x,b,w){if(this.lineHeight=b,this.paraMargin=x||{top:0,bottom:0,left:0,right:0},!d){[this.pdfFont,this.xfaFont]=this.defaultFont(w);return}this.xfaFont={typeface:d.typeface,posture:d.posture,weight:d.weight,size:d.size,letterSpacing:d.letterSpacing};const S=w.find(d.typeface);if(!S){[this.pdfFont,this.xfaFont]=this.defaultFont(w);return}this.pdfFont=selectFont(d,S),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(w))}defaultFont(d){const x=d.find("Helvetica",!1)||d.find("Myriad Pro",!1)||d.find("Arial",!1)||d.getDefault();if(x?.regular){const w=x.regular,C={typeface:w.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[w,C]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class FontSelector{constructor(d,x,b,w){this.fontFinder=w,this.stack=[new FontInfo(d,x,b,w)]}pushData(d,x,b){const w=this.stack.at(-1);for(const C of["typeface","posture","weight","size","letterSpacing"])d[C]||(d[C]=w.xfaFont[C]);for(const C of["top","bottom","left","right"])isNaN(x[C])&&(x[C]=w.paraMargin[C]);const S=new FontInfo(d,x,b||w.lineHeight,this.fontFinder);S.pdfFont||(S.pdfFont=w.pdfFont),this.stack.push(S)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class TextMeasure{constructor(d,x,b,w){this.glyphs=[],this.fontSelector=new FontSelector(d,x,b,w),this.extraHeight=0}pushData(d,x,b){this.fontSelector.pushData(d,x,b)}popFont(d){return this.fontSelector.popFont()}addPara(){const d=this.fontSelector.topFont();this.extraHeight+=d.paraMargin.top+d.paraMargin.bottom}addString(d){if(!d)return;const x=this.fontSelector.topFont(),b=x.xfaFont.size;if(x.pdfFont){const w=x.xfaFont.letterSpacing,S=x.pdfFont,C=S.lineHeight||1.2,F=x.lineHeight||Math.max(1.2,C)*b,E=S.lineGap===void 0?.2:S.lineGap,k=C-E,D=Math.max(1,k)*b,M=b/1e3,L=S.defaultWidth||S.charsToGlyphs(" ")[0].width;for(const R of d.split(/[\u2029\n]/)){const U=S.encodeString(R).join(""),j=S.charsToGlyphs(U);for(const H of j){const z=H.width||L;this.glyphs.push([z*M+w,F,D,H.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const w of d.split(/[\u2029\n]/)){for(const S of w.split(""))this.glyphs.push([b,1.2*b,b,S,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(d){let x=-1,b=0,w=0,S=0,C=0,F=0,E=!1,k=!0;for(let D=0,M=this.glyphs.length;D<M;D++){const[L,R,U,j,H]=this.glyphs[D],z=j===" ",V=k?U:R;if(H){w=Math.max(w,C),C=0,S+=F,F=V,x=-1,b=0,k=!1;continue}if(z){C+L>d?(w=Math.max(w,C),C=0,S+=F,F=V,x=-1,b=0,E=!0,k=!1):(F=Math.max(V,F),b=C,C+=L,x=D);continue}if(C+L>d){S+=F,F=V,x!==-1?(D=x,w=Math.max(w,b),C=0,x=-1,b=0):(w=Math.max(w,C),C=L),E=!0,k=!1;continue}C+=L,F=Math.max(V,F)}return w=Math.max(w,C),S+=F+this.extraHeight,{width:WIDTH_FACTOR*w,height:S,isBroken:E}}}const namePattern=/^[^.[]+/,indexPattern=/^[^\]]+/,operators={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},shortcuts=new Map([["$data",(g,d)=>g.datasets?g.datasets.data:g],["$record",(g,d)=>(g.datasets?g.datasets.data:g)[$getChildren]()[0]],["$template",(g,d)=>g.template],["$connectionSet",(g,d)=>g.connectionSet],["$form",(g,d)=>g.form],["$layout",(g,d)=>g.layout],["$host",(g,d)=>g.host],["$dataWindow",(g,d)=>g.dataWindow],["$event",(g,d)=>g.event],["!",(g,d)=>g.datasets],["$xfa",(g,d)=>g],["xfa",(g,d)=>g],["$",(g,d)=>d]]),somCache=new WeakMap;function parseIndex(g){return g=g.trim(),g==="*"?1/0:parseInt(g,10)||0}function parseExpression(g,d,x=!0){let b=g.match(namePattern);if(!b)return null;let[w]=b;const S=[{name:w,cacheName:"."+w,index:0,js:null,formCalc:null,operator:operators.dot}];let C=w.length;for(;C<g.length;){const F=C;if(g.charAt(C++)==="["){if(b=g.slice(C).match(indexPattern),!b)return warn("XFA - Invalid index in SOM expression"),null;S.at(-1).index=parseIndex(b[0]),C+=b[0].length+1;continue}let k;switch(g.charAt(C)){case".":if(!d)return null;C++,k=operators.dotDot;break;case"#":C++,k=operators.dotHash;break;case"[":if(x)return warn("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;k=operators.dotBracket;break;case"(":if(x)return warn("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;k=operators.dotParen;break;default:k=operators.dot;break}if(b=g.slice(C).match(namePattern),!b)break;[w]=b,C+=w.length,S.push({name:w,cacheName:g.slice(F,C),operator:k,index:0,js:null,formCalc:null})}return S}function searchNode(g,d,x,b=!0,w=!0){const S=parseExpression(x,b);if(!S)return null;const C=shortcuts.get(S[0].name);let F=0,E;C?(E=!0,g=[C(g,d)],F=1):(E=d===null,g=[d||g]);for(let k=S.length;F<k;F++){const{name:D,cacheName:M,operator:L,index:R}=S[F],U=[];for(const j of g){if(!j.isXFAObject)continue;let H,z;if(w&&(z=somCache.get(j),z||(z=new Map,somCache.set(j,z)),H=z.get(M)),!H){switch(L){case operators.dot:H=j[$getChildrenByName](D,!1);break;case operators.dotDot:H=j[$getChildrenByName](D,!0);break;case operators.dotHash:H=j[$getChildrenByClass](D),H=H.isXFAObjectArray?H.children:[H];break}w&&z.set(M,H)}H.length>0&&U.push(H)}if(U.length===0&&!E&&F===0){if(d=d[$getParent](),!d)return null;F=-1,g=[d];continue}g=isFinite(R)?U.filter(j=>R<j.length).map(j=>j[R]):U.flat()}return g.length===0?null:g}function createDataNode(g,d,x){const b=parseExpression(x);if(!b||b.some(C=>C.operator===operators.dotDot))return null;const w=shortcuts.get(b[0].name);let S=0;w?(g=w(g,d),S=1):g=d||g;for(let C=b.length;S<C;S++){const{name:F,operator:E,index:k}=b[S];if(!isFinite(k))return b[S].index=0,g.createNodes(b.slice(S));let D;switch(E){case operators.dot:D=g[$getChildrenByName](F,!1);break;case operators.dotDot:D=g[$getChildrenByName](F,!0);break;case operators.dotHash:D=g[$getChildrenByClass](F),D=D.isXFAObjectArray?D.children:[D];break}if(D.length===0)return g.createNodes(b.slice(S));if(k<D.length){const M=D[k];if(!M.isXFAObject)return warn("XFA - Cannot create a node."),null;g=M}else return b[S].index=k-D.length,g.createNodes(b.slice(S))}return null}const _applyPrototype=Symbol(),_attributes=Symbol(),_attributeNames=Symbol(),_children=Symbol("_children"),_cloneAttribute=Symbol(),_dataValue=Symbol(),_defaultValue=Symbol(),_filteredChildrenGenerator=Symbol(),_getPrototype=Symbol(),_getUnsetAttributes=Symbol(),_hasChildren=Symbol(),_max=Symbol(),_options=Symbol(),_parent=Symbol("parent"),_resolvePrototypesHelper=Symbol(),_setAttributes=Symbol(),_validator=Symbol();let uid=0;const NS_DATASETS=NamespaceIds.datasets.id;class XFAObject{constructor(d,x,b=!1){this[$namespaceId]=d,this[$nodeName]=x,this[_hasChildren]=b,this[_parent]=null,this[_children]=[],this[$uid]=`${x}${uid++}`,this[$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(d){let x=this,b=null;for(const{name:w,index:S}of d){for(let C=0,F=isFinite(S)?S:0;C<=F;C++){const E=x[$namespaceId]===NS_DATASETS?-1:x[$namespaceId];b=new XmlObject(E,w),x[$appendChild](b)}x=b}return b}[$onChild](d){if(!this[_hasChildren]||!this[$onChildCheck](d))return!1;const x=d[$nodeName],b=this[x];if(b instanceof XFAObjectArray){if(b.push(d))return this[$appendChild](d),!0}else return b!==null&&this[$removeChild](b),this[x]=d,this[$appendChild](d),!0;let w="";return this.id?w=` (id: ${this.id})`:this.name&&(w=` (name: ${this.name} ${this.h.value})`),warn(`XFA - node "${this[$nodeName]}"${w} has already enough "${x}"!`),!1}[$onChildCheck](d){return this.hasOwnProperty(d[$nodeName])&&d[$namespaceId]===this[$namespaceId]}[$isNsAgnostic](){return!1}[$acceptWhitespace](){return!1}[$isCDATAXml](){return!1}[$isBindable](){return!1}[$popPara](){this.para&&this[$getTemplateRoot]()[$extra].paraStack.pop()}[$pushPara](){this[$getTemplateRoot]()[$extra].paraStack.push(this.para)}[$setId](d){this.id&&this[$namespaceId]===NamespaceIds.template.id&&d.set(this.id,this)}[$getTemplateRoot](){return this[$globalData].template}[$isSplittable](){return!1}[$isThereMoreWidth](){return!1}[$appendChild](d){d[_parent]=this,this[_children].push(d),!d[$globalData]&&this[$globalData]&&(d[$globalData]=this[$globalData])}[$removeChild](d){const x=this[_children].indexOf(d);this[_children].splice(x,1)}[$hasSettableValue](){return this.hasOwnProperty("value")}[$setValue](d){}[$onText](d){}[$finalize](){}[$clean](d){delete this[_hasChildren],this[$cleanup]&&(d.clean(this[$cleanup]),delete this[$cleanup])}[$indexOf](d){return this[_children].indexOf(d)}[$insertAt](d,x){x[_parent]=this,this[_children].splice(d,0,x),!x[$globalData]&&this[$globalData]&&(x[$globalData]=this[$globalData])}[$isTransparent](){return!this.name}[$lastAttribute](){return""}[$text](){return this[_children].length===0?this[$content]:this[_children].map(d=>d[$text]()).join("")}get[_attributeNames](){const d=Object.getPrototypeOf(this);if(!d._attributes){const x=d._attributes=new Set;for(const b of Object.getOwnPropertyNames(this)){if(this[b]===null||this[b]instanceof XFAObject||this[b]instanceof XFAObjectArray)break;x.add(b)}}return shadow(this,_attributeNames,d._attributes)}[$isDescendent](d){let x=this;for(;x;){if(x===d)return!0;x=x[$getParent]()}return!1}[$getParent](){return this[_parent]}[$getSubformParent](){return this[$getParent]()}[$getChildren](d=null){return d?this[d]:this[_children]}[$dump](){const d=Object.create(null);this[$content]&&(d.$content=this[$content]);for(const x of Object.getOwnPropertyNames(this)){const b=this[x];b!==null&&(b instanceof XFAObject?d[x]=b[$dump]():b instanceof XFAObjectArray?b.isEmpty()||(d[x]=b.dump()):d[x]=b)}return d}[$toStyle](){return null}[$toHTML](){return HTMLResult.EMPTY}*[$getContainedChildren](){for(const d of this[$getChildren]())yield d}*[_filteredChildrenGenerator](d,x){for(const b of this[$getContainedChildren]())if(!d||x===d.has(b[$nodeName])){const w=this[$getAvailableSpace](),S=b[$toHTML](w);S.success||(this[$extra].failingNode=b),yield S}}[$flushHTML](){return null}[$addHTML](d,x){this[$extra].children.push(d)}[$getAvailableSpace](){}[$childrenToHTML]({filter:d=null,include:x=!0}){if(!this[$extra].generator)this[$extra].generator=this[_filteredChildrenGenerator](d,x);else{const b=this[$getAvailableSpace](),w=this[$extra].failingNode[$toHTML](b);if(!w.success)return w;w.html&&this[$addHTML](w.html,w.bbox),delete this[$extra].failingNode}for(;;){const b=this[$extra].generator.next();if(b.done)break;const w=b.value;if(!w.success)return w;w.html&&this[$addHTML](w.html,w.bbox)}return this[$extra].generator=null,HTMLResult.EMPTY}[$setSetAttributes](d){this[_setAttributes]=new Set(Object.keys(d))}[_getUnsetAttributes](d){const x=this[_attributeNames],b=this[_setAttributes];return[...d].filter(w=>x.has(w)&&!b.has(w))}[$resolvePrototypes](d,x=new Set){for(const b of this[_children])b[_resolvePrototypesHelper](d,x)}[_resolvePrototypesHelper](d,x){const b=this[_getPrototype](d,x);b?this[_applyPrototype](b,d,x):this[$resolvePrototypes](d,x)}[_getPrototype](d,x){const{use:b,usehref:w}=this;if(!b&&!w)return null;let S=null,C=null,F=null,E=b;if(w?(E=w,w.startsWith("#som(")&&w.endsWith(")")?C=w.slice(5,-1):w.startsWith(".#som(")&&w.endsWith(")")?C=w.slice(6,-1):w.startsWith("#")?F=w.slice(1):w.startsWith(".#")&&(F=w.slice(2))):b.startsWith("#")?F=b.slice(1):C=b,this.use=this.usehref="",F?S=d.get(F):(S=searchNode(d.get($root),this,C,!0,!1),S&&(S=S[0])),!S)return warn(`XFA - Invalid prototype reference: ${E}.`),null;if(S[$nodeName]!==this[$nodeName])return warn(`XFA - Incompatible prototype: ${S[$nodeName]} !== ${this[$nodeName]}.`),null;if(x.has(S))return warn("XFA - Cycle detected in prototypes use."),null;x.add(S);const k=S[_getPrototype](d,x);return k&&S[_applyPrototype](k,d,x),S[$resolvePrototypes](d,x),x.delete(S),S}[_applyPrototype](d,x,b){if(b.has(d)){warn("XFA - Cycle detected in prototypes use.");return}!this[$content]&&d[$content]&&(this[$content]=d[$content]),new Set(b).add(d);for(const S of this[_getUnsetAttributes](d[_setAttributes]))this[S]=d[S],this[_setAttributes]&&this[_setAttributes].add(S);for(const S of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(S))continue;const C=this[S],F=d[S];if(C instanceof XFAObjectArray){for(const E of C[_children])E[_resolvePrototypesHelper](x,b);for(let E=C[_children].length,k=F[_children].length;E<k;E++){const D=d[_children][E][$clone]();if(C.push(D))D[_parent]=this,this[_children].push(D),D[_resolvePrototypesHelper](x,b);else break}continue}if(C!==null){C[$resolvePrototypes](x,b),F&&C[_applyPrototype](F,x,b);continue}if(F!==null){const E=F[$clone]();E[_parent]=this,this[S]=E,this[_children].push(E),E[_resolvePrototypesHelper](x,b)}}}static[_cloneAttribute](d){return Array.isArray(d)?d.map(x=>XFAObject[_cloneAttribute](x)):typeof d=="object"&&d!==null?Object.assign({},d):d}[$clone](){const d=Object.create(Object.getPrototypeOf(this));for(const x of Object.getOwnPropertySymbols(this))try{d[x]=this[x]}catch{shadow(d,x,this[x])}d[$uid]=`${d[$nodeName]}${uid++}`,d[_children]=[];for(const x of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(x)){d[x]=XFAObject[_cloneAttribute](this[x]);continue}const b=this[x];d[x]=b instanceof XFAObjectArray?new XFAObjectArray(b[_max]):null}for(const x of this[_children]){const b=x[$nodeName],w=x[$clone]();d[_children].push(w),w[_parent]=d,d[b]===null?d[b]=w:d[b][_children].push(w)}return d}[$getChildren](d=null){return d?this[_children].filter(x=>x[$nodeName]===d):this[_children]}[$getChildrenByClass](d){return this[d]}[$getChildrenByName](d,x,b=!0){return Array.from(this[$getChildrenByNameIt](d,x,b))}*[$getChildrenByNameIt](d,x,b=!0){if(d==="parent"){yield this[_parent];return}for(const w of this[_children])w[$nodeName]===d&&(yield w),w.name===d&&(yield w),(x||w[$isTransparent]())&&(yield*w[$getChildrenByNameIt](d,x,!1));b&&this[_attributeNames].has(d)&&(yield new XFAAttribute(this,d,this[d]))}}class XFAObjectArray{constructor(d=1/0){this[_max]=d,this[_children]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(d){return this[_children].length<=this[_max]?(this[_children].push(d),!0):(warn(`XFA - node "${d[$nodeName]}" accepts no more than ${this[_max]} children`),!1)}isEmpty(){return this[_children].length===0}dump(){return this[_children].length===1?this[_children][0][$dump]():this[_children].map(d=>d[$dump]())}[$clone](){const d=new XFAObjectArray(this[_max]);return d[_children]=this[_children].map(x=>x[$clone]()),d}get children(){return this[_children]}clear(){this[_children].length=0}}class XFAAttribute{constructor(d,x,b){this[_parent]=d,this[$nodeName]=x,this[$content]=b,this[$consumed]=!1,this[$uid]=`attribute${uid++}`}[$getParent](){return this[_parent]}[$isDataValue](){return!0}[$getDataValue](){return this[$content].trim()}[$setValue](d){d=d.value||"",this[$content]=d.toString()}[$text](){return this[$content]}[$isDescendent](d){return this[_parent]===d||this[_parent][$isDescendent](d)}}class XmlObject extends XFAObject{constructor(d,x,b={}){if(super(d,x),this[$content]="",this[_dataValue]=null,x!=="#text"){const w=new Map;this[_attributes]=w;for(const[S,C]of Object.entries(b))w.set(S,new XFAAttribute(this,S,C));if(b.hasOwnProperty($nsAttributes)){const S=b[$nsAttributes].xfa.dataNode;S!==void 0&&(S==="dataGroup"?this[_dataValue]=!1:S==="dataValue"&&(this[_dataValue]=!0))}}this[$consumed]=!1}[$toString](d){const x=this[$nodeName];if(x==="#text"){d.push(encodeToXmlString(this[$content]));return}const b=utf8StringToString(x),w=this[$namespaceId]===NS_DATASETS?"xfa:":"";d.push(`<${w}${b}`);for(const[S,C]of this[_attributes].entries()){const F=utf8StringToString(S);d.push(` ${F}="${encodeToXmlString(C[$content])}"`)}if(this[_dataValue]!==null&&(this[_dataValue]?d.push(' xfa:dataNode="dataValue"'):d.push(' xfa:dataNode="dataGroup"')),!this[$content]&&this[_children].length===0){d.push("/>");return}if(d.push(">"),this[$content])typeof this[$content]=="string"?d.push(encodeToXmlString(this[$content])):this[$content][$toString](d);else for(const S of this[_children])S[$toString](d);d.push(`</${w}${b}>`)}[$onChild](d){if(this[$content]){const x=new XmlObject(this[$namespaceId],"#text");this[$appendChild](x),x[$content]=this[$content],this[$content]=""}return this[$appendChild](d),!0}[$onText](d){this[$content]+=d}[$finalize](){if(this[$content]&&this[_children].length>0){const d=new XmlObject(this[$namespaceId],"#text");this[$appendChild](d),d[$content]=this[$content],delete this[$content]}}[$toHTML](){return this[$nodeName]==="#text"?HTMLResult.success({name:"#text",value:this[$content]}):HTMLResult.EMPTY}[$getChildren](d=null){return d?this[_children].filter(x=>x[$nodeName]===d):this[_children]}[$getAttributes](){return this[_attributes]}[$getChildrenByClass](d){const x=this[_attributes].get(d);return x!==void 0?x:this[$getChildren](d)}*[$getChildrenByNameIt](d,x){const b=this[_attributes].get(d);b&&(yield b);for(const w of this[_children])w[$nodeName]===d&&(yield w),x&&(yield*w[$getChildrenByNameIt](d,x))}*[$getAttributeIt](d,x){const b=this[_attributes].get(d);b&&(!x||!b[$consumed])&&(yield b);for(const w of this[_children])yield*w[$getAttributeIt](d,x)}*[$getRealChildrenByNameIt](d,x,b){for(const w of this[_children])w[$nodeName]===d&&(!b||!w[$consumed])&&(yield w),x&&(yield*w[$getRealChildrenByNameIt](d,x,b))}[$isDataValue](){return this[_dataValue]===null?this[_children].length===0||this[_children][0][$namespaceId]===NamespaceIds.xhtml.id:this[_dataValue]}[$getDataValue](){return this[_dataValue]===null?this[_children].length===0?this[$content].trim():this[_children][0][$namespaceId]===NamespaceIds.xhtml.id?this[_children][0][$text]().trim():null:this[$content].trim()}[$setValue](d){d=d.value||"",this[$content]=d.toString()}[$dump](d=!1){const x=Object.create(null);d&&(x.$ns=this[$namespaceId]),this[$content]&&(x.$content=this[$content]),x.$name=this[$nodeName],x.children=[];for(const b of this[_children])x.children.push(b[$dump](d));x.attributes=Object.create(null);for(const[b,w]of this[_attributes])x.attributes[b]=w[$content];return x}}class ContentObject extends XFAObject{constructor(d,x){super(d,x),this[$content]=""}[$onText](d){this[$content]+=d}[$finalize](){}}class OptionObject extends ContentObject{constructor(d,x,b){super(d,x),this[_options]=b}[$finalize](){this[$content]=getKeyword({data:this[$content],defaultValue:this[_options][0],validate:d=>this[_options].includes(d)})}[$clean](d){super[$clean](d),delete this[_options]}}class StringObject extends ContentObject{[$finalize](){this[$content]=this[$content].trim()}}class IntegerObject extends ContentObject{constructor(d,x,b,w){super(d,x),this[_defaultValue]=b,this[_validator]=w}[$finalize](){this[$content]=getInteger({data:this[$content],defaultValue:this[_defaultValue],validate:this[_validator]})}[$clean](d){super[$clean](d),delete this[_defaultValue],delete this[_validator]}}class Option01 extends IntegerObject{constructor(d,x){super(d,x,0,b=>b===1)}}class Option10 extends IntegerObject{constructor(d,x){super(d,x,1,b=>b===0)}}function measureToString(g){return typeof g=="string"?"0px":Number.isInteger(g)?`${g}px`:`${g.toFixed(2)}px`}const converters={anchorType(g,d){const x=g[$getSubformParent]();if(!(!x||x.layout&&x.layout!=="position"))switch("transform"in d||(d.transform=""),g.anchorType){case"bottomCenter":d.transform+="translate(-50%, -100%)";break;case"bottomLeft":d.transform+="translate(0,-100%)";break;case"bottomRight":d.transform+="translate(-100%,-100%)";break;case"middleCenter":d.transform+="translate(-50%,-50%)";break;case"middleLeft":d.transform+="translate(0,-50%)";break;case"middleRight":d.transform+="translate(-100%,-50%)";break;case"topCenter":d.transform+="translate(-50%,0)";break;case"topRight":d.transform+="translate(-100%,0)";break}},dimensions(g,d){const x=g[$getSubformParent]();let b=g.w;const w=g.h;if(x.layout?.includes("row")){const S=x[$extra],C=g.colSpan;let F;C===-1?(F=S.columnWidths.slice(S.currentColumn).reduce((E,k)=>E+k,0),S.currentColumn=0):(F=S.columnWidths.slice(S.currentColumn,S.currentColumn+C).reduce((E,k)=>E+k,0),S.currentColumn=(S.currentColumn+g.colSpan)%S.columnWidths.length),isNaN(F)||(b=g.w=F)}d.width=b!==""?measureToString(b):"auto",d.height=w!==""?measureToString(w):"auto"},position(g,d){const x=g[$getSubformParent]();x?.layout&&x.layout!=="position"||(d.position="absolute",d.left=measureToString(g.x),d.top=measureToString(g.y))},rotate(g,d){g.rotate&&("transform"in d||(d.transform=""),d.transform+=`rotate(-${g.rotate}deg)`,d.transformOrigin="top left")},presence(g,d){switch(g.presence){case"invisible":d.visibility="hidden";break;case"hidden":case"inactive":d.display="none";break}},hAlign(g,d){if(g[$nodeName]==="para")switch(g.hAlign){case"justifyAll":d.textAlign="justify-all";break;case"radix":d.textAlign="left";break;default:d.textAlign=g.hAlign}else switch(g.hAlign){case"left":d.alignSelf="start";break;case"center":d.alignSelf="center";break;case"right":d.alignSelf="end";break}},margin(g,d){g.margin&&(d.margin=g.margin[$toStyle]().margin)}};function setMinMaxDimensions(g,d){g[$getSubformParent]().layout==="position"&&(g.minW>0&&(d.minWidth=measureToString(g.minW)),g.maxW>0&&(d.maxWidth=measureToString(g.maxW)),g.minH>0&&(d.minHeight=measureToString(g.minH)),g.maxH>0&&(d.maxHeight=measureToString(g.maxH)))}function layoutText(g,d,x,b,w,S){const C=new TextMeasure(d,x,b,w);return typeof g=="string"?C.addString(g):g[$pushGlyphs](C),C.compute(S)}function layoutNode(g,d){let x=null,b=null,w=!1;if((!g.w||!g.h)&&g.value){let S=0,C=0;g.margin&&(S=g.margin.leftInset+g.margin.rightInset,C=g.margin.topInset+g.margin.bottomInset);let F=null,E=null;g.para&&(E=Object.create(null),F=g.para.lineHeight===""?null:g.para.lineHeight,E.top=g.para.spaceAbove===""?0:g.para.spaceAbove,E.bottom=g.para.spaceBelow===""?0:g.para.spaceBelow,E.left=g.para.marginLeft===""?0:g.para.marginLeft,E.right=g.para.marginRight===""?0:g.para.marginRight);let k=g.font;if(!k){const L=g[$getTemplateRoot]();let R=g[$getParent]();for(;R&&R!==L;){if(R.font){k=R.font;break}R=R[$getParent]()}}const D=(g.w||d.width)-S,M=g[$globalData].fontFinder;if(g.value.exData&&g.value.exData[$content]&&g.value.exData.contentType==="text/html"){const L=layoutText(g.value.exData[$content],k,E,F,M,D);b=L.width,x=L.height,w=L.isBroken}else{const L=g.value[$text]();if(L){const R=layoutText(L,k,E,F,M,D);b=R.width,x=R.height,w=R.isBroken}}b!==null&&!g.w&&(b+=S),x!==null&&!g.h&&(x+=C)}return{w:b,h:x,isBroken:w}}function computeBbox(g,d,x){let b;if(g.w!==""&&g.h!=="")b=[g.x,g.y,g.w,g.h];else{if(!x)return null;let w=g.w;if(w===""){if(g.maxW===0){const C=g[$getSubformParent]();w=C.layout==="position"&&C.w!==""?0:g.minW}else w=Math.min(g.maxW,x.width);d.attributes.style.width=measureToString(w)}let S=g.h;if(S===""){if(g.maxH===0){const C=g[$getSubformParent]();S=C.layout==="position"&&C.h!==""?0:g.minH}else S=Math.min(g.maxH,x.height);d.attributes.style.height=measureToString(S)}b=[g.x,g.y,w,S]}return b}function fixDimensions(g){const d=g[$getSubformParent]();if(d.layout?.includes("row")){const x=d[$extra],b=g.colSpan;let w;b===-1?w=x.columnWidths.slice(x.currentColumn).reduce((S,C)=>S+C,0):w=x.columnWidths.slice(x.currentColumn,x.currentColumn+b).reduce((S,C)=>S+C,0),isNaN(w)||(g.w=w)}d.layout&&d.layout!=="position"&&(g.x=g.y=0),g.layout==="table"&&g.w===""&&Array.isArray(g.columnWidths)&&(g.w=g.columnWidths.reduce((x,b)=>x+b,0))}function layoutClass(g){switch(g.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function toStyle(g,...d){const x=Object.create(null);for(const b of d){const w=g[b];if(w!==null){if(converters.hasOwnProperty(b)){converters[b](g,x);continue}if(w instanceof XFAObject){const S=w[$toStyle]();S?Object.assign(x,S):warn(`(DEBUG) - XFA - style for ${b} not implemented yet`)}}}return x}function createWrapper(g,d){const{attributes:x}=d,{style:b}=x,w={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(x.class.push("xfaWrapped"),g.border){const{widths:S,insets:C}=g.border[$extra];let F,E,k=C[0],D=C[3];const M=C[0]+C[2],L=C[1]+C[3];switch(g.border.hand){case"even":k-=S[0]/2,D-=S[3]/2,F=`calc(100% + ${(S[1]+S[3])/2-L}px)`,E=`calc(100% + ${(S[0]+S[2])/2-M}px)`;break;case"left":k-=S[0],D-=S[3],F=`calc(100% + ${S[1]+S[3]-L}px)`,E=`calc(100% + ${S[0]+S[2]-M}px)`;break;case"right":F=L?`calc(100% - ${L}px)`:"100%",E=M?`calc(100% - ${M}px)`:"100%";break}const R=["xfaBorder"];isPrintOnly(g.border)&&R.push("xfaPrintOnly");const U={name:"div",attributes:{class:R,style:{top:`${k}px`,left:`${D}px`,width:F,height:E}},children:[]};for(const j of["border","borderWidth","borderColor","borderRadius","borderStyle"])b[j]!==void 0&&(U.attributes.style[j]=b[j],delete b[j]);w.children.push(U,d)}else w.children.push(d);for(const S of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])b[S]!==void 0&&(w.attributes.style[S]=b[S],delete b[S]);return w.attributes.style.position=b.position==="absolute"?"absolute":"relative",delete b.position,b.alignSelf&&(w.attributes.style.alignSelf=b.alignSelf,delete b.alignSelf),w}function fixTextIndent(g){const d=getMeasurement(g.textIndent,"0px");if(d>=0)return;const b="padding"+((g.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),w=getMeasurement(g[b],"0px");g[b]=`${w-d}px`}function setAccess(g,d){switch(g.access){case"nonInteractive":d.push("xfaNonInteractive");break;case"readOnly":d.push("xfaReadOnly");break;case"protected":d.push("xfaDisabled");break}}function isPrintOnly(g){return g.relevant.length>0&&!g.relevant[0].excluded&&g.relevant[0].viewname==="print"}function getCurrentPara(g){const d=g[$getTemplateRoot]()[$extra].paraStack;return d.length?d.at(-1):null}function setPara(g,d,x){if(x.attributes.class?.includes("xfaRich")){d&&(g.h===""&&(d.height="auto"),g.w===""&&(d.width="auto"));const b=getCurrentPara(g);if(b){const w=x.attributes.style;switch(w.display="flex",w.flexDirection="column",b.vAlign){case"top":w.justifyContent="start";break;case"bottom":w.justifyContent="end";break;case"middle":w.justifyContent="center";break}const S=b[$toStyle]();for(const[C,F]of Object.entries(S))C in w||(w[C]=F)}}}function setFontFamily(g,d,x,b){if(!x){delete b.fontFamily;return}const w=stripQuotes(g.typeface);b.fontFamily=`"${w}"`;const S=x.find(w);if(S){const{fontFamily:C}=S.regular.cssFontInfo;C!==w&&(b.fontFamily=`"${C}"`);const F=getCurrentPara(d);if(F&&F.lineHeight!==""||b.lineHeight)return;const E=selectFont(g,S);E&&(b.lineHeight=Math.max(1.2,E.lineHeight))}}function fixURL(g){const d=createValidAbsoluteUrl(g,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return d?d.href:null}function createLine(g,d){return{name:"div",attributes:{class:[g.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:d}}function flushHTML(g){if(!g[$extra])return null;const x={name:"div",attributes:g[$extra].attributes,children:g[$extra].children};if(g[$extra].failingNode){const b=g[$extra].failingNode[$flushHTML]();b&&(g.layout.endsWith("-tb")?x.children.push(createLine(g,[b])):x.children.push(b))}return x.children.length===0?null:x}function addHTML(g,d,x){const b=g[$extra],w=b.availableSpace,[S,C,F,E]=x;switch(g.layout){case"position":{b.width=Math.max(b.width,S+F),b.height=Math.max(b.height,C+E),b.children.push(d);break}case"lr-tb":case"rl-tb":(!b.line||b.attempt===1)&&(b.line=createLine(g,[]),b.children.push(b.line),b.numberInLine=0),b.numberInLine+=1,b.line.children.push(d),b.attempt===0?(b.currentWidth+=F,b.height=Math.max(b.height,b.prevHeight+E)):(b.currentWidth=F,b.prevHeight=b.height,b.height+=E,b.attempt=0),b.width=Math.max(b.width,b.currentWidth);break;case"rl-row":case"row":{b.children.push(d),b.width+=F,b.height=Math.max(b.height,E);const k=measureToString(b.height);for(const D of b.children)D.attributes.style.height=k;break}case"table":{b.width=Math.min(w.width,Math.max(b.width,F)),b.height+=E,b.children.push(d);break}case"tb":{b.width=Math.min(w.width,Math.max(b.width,F)),b.height+=E,b.children.push(d);break}}}function getAvailableSpace(g){const d=g[$extra].availableSpace,x=g.margin?g.margin.topInset+g.margin.bottomInset:0,b=g.margin?g.margin.leftInset+g.margin.rightInset:0;switch(g.layout){case"lr-tb":case"rl-tb":return g[$extra].attempt===0?{width:d.width-b-g[$extra].currentWidth,height:d.height-x-g[$extra].prevHeight}:{width:d.width-b,height:d.height-x-g[$extra].height};case"rl-row":case"row":return{width:g[$extra].columnWidths.slice(g[$extra].currentColumn).reduce((S,C)=>S+C),height:d.height-b};case"table":case"tb":return{width:d.width-b,height:d.height-x-g[$extra].height};case"position":default:return d}}function getTransformedBBox(g){let d=g.w===""?NaN:g.w,x=g.h===""?NaN:g.h,[b,w]=[0,0];switch(g.anchorType||""){case"bottomCenter":[b,w]=[d/2,x];break;case"bottomLeft":[b,w]=[0,x];break;case"bottomRight":[b,w]=[d,x];break;case"middleCenter":[b,w]=[d/2,x/2];break;case"middleLeft":[b,w]=[0,x/2];break;case"middleRight":[b,w]=[d,x/2];break;case"topCenter":[b,w]=[d/2,0];break;case"topRight":[b,w]=[d,0];break}let S,C;switch(g.rotate||0){case 0:[S,C]=[-b,-w];break;case 90:[S,C]=[-w,b],[d,x]=[x,-d];break;case 180:[S,C]=[b,w],[d,x]=[-d,-x];break;case 270:[S,C]=[w,-b],[d,x]=[-x,d];break}return[g.x+S+Math.min(0,d),g.y+C+Math.min(0,x),Math.abs(d),Math.abs(x)]}function checkDimensions(g,d){if(g[$getTemplateRoot]()[$extra].firstUnsplittable===null||g.w===0||g.h===0)return!0;const x=2,b=g[$getSubformParent](),w=b[$extra]?.attempt||0,[,S,C,F]=getTransformedBBox(g);switch(b.layout){case"lr-tb":case"rl-tb":return w===0?g[$getTemplateRoot]()[$extra].noLayoutFailure?g.w!==""?Math.round(C-d.width)<=x:d.width>x:g.h!==""&&Math.round(F-d.height)>x?!1:g.w!==""?Math.round(C-d.width)<=x?!0:b[$extra].numberInLine===0?d.height>x:!1:d.width>x:g[$getTemplateRoot]()[$extra].noLayoutFailure?!0:g.h!==""&&Math.round(F-d.height)>x?!1:g.w===""||Math.round(C-d.width)<=x?d.height>x:b[$isThereMoreWidth]()?!1:d.height>x;case"table":case"tb":return g[$getTemplateRoot]()[$extra].noLayoutFailure?!0:g.h!==""&&!g[$isSplittable]()?Math.round(F-d.height)<=x:g.w===""||Math.round(C-d.width)<=x?d.height>x:b[$isThereMoreWidth]()?!1:d.height>x;case"position":if(g[$getTemplateRoot]()[$extra].noLayoutFailure||g.h===""||Math.round(F+S-d.height)<=x)return!0;const E=g[$getTemplateRoot]()[$extra].currentContentArea;return F+S>E.h;case"rl-row":case"row":return g[$getTemplateRoot]()[$extra].noLayoutFailure?!0:g.h!==""?Math.round(F-d.height)<=x:!0;default:return!0}}const TEMPLATE_NS_ID=NamespaceIds.template.id,SVG_NS="http://www.w3.org/2000/svg",MAX_ATTEMPTS_FOR_LRTB_LAYOUT=2,MAX_EMPTY_PAGES=3,DEFAULT_TAB_INDEX=5e3,HEADING_PATTERN=/^H(\d+)$/,MIMES=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),IMAGES_HEADERS=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function getBorderDims(g){if(!g||!g.border)return{w:0,h:0};const d=g.border[$getExtra]();return d?{w:d.widths[0]+d.widths[2]+d.insets[0]+d.insets[2],h:d.widths[1]+d.widths[3]+d.insets[1]+d.insets[3]}:{w:0,h:0}}function hasMargin(g){return g.margin&&(g.margin.topInset||g.margin.rightInset||g.margin.bottomInset||g.margin.leftInset)}function _setValue(g,d){if(!g.value){const x=new Value({});g[$appendChild](x),g.value=x}g.value[$setValue](d)}function*getContainedChildren(g){for(const d of g[$getChildren]()){if(d instanceof SubformSet){yield*d[$getContainedChildren]();continue}yield d}}function isRequired(g){return g.validate?.nullTest==="error"}function setTabIndex(g){for(;g;){if(!g.traversal){g[$tabIndex]=g[$getParent]()[$tabIndex];return}if(g[$tabIndex])return;let d=null;for(const w of g.traversal[$getChildren]())if(w.operation==="next"){d=w;break}if(!d||!d.ref){g[$tabIndex]=g[$getParent]()[$tabIndex];return}const x=g[$getTemplateRoot]();g[$tabIndex]=++x[$tabIndex];const b=x[$searchNode](d.ref,g);if(!b)return;g=b[0]}}function applyAssist(g,d){const x=g.assist;if(x){const b=x[$toHTML]();b&&(d.title=b);const S=x.role.match(HEADING_PATTERN);if(S){const C="heading",F=S[1];d.role=C,d["aria-level"]=F}}if(g.layout==="table")d.role="table";else if(g.layout==="row")d.role="row";else{const b=g[$getParent]();b.layout==="row"&&(d.role=b.assist?.role==="TH"?"columnheader":"cell")}}function ariaLabel(g){if(!g.assist)return null;const d=g.assist;return d.speak&&d.speak[$content]!==""?d.speak[$content]:d.toolTip?d.toolTip[$content]:null}function valueToHtml(g){return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:g}]})}function setFirstUnsplittable(g){const d=g[$getTemplateRoot]();d[$extra].firstUnsplittable===null&&(d[$extra].firstUnsplittable=g,d[$extra].noLayoutFailure=!0)}function unsetFirstUnsplittable(g){const d=g[$getTemplateRoot]();d[$extra].firstUnsplittable===g&&(d[$extra].noLayoutFailure=!1)}function handleBreak(g){if(g[$extra]||(g[$extra]=Object.create(null),g.targetType==="auto"))return!1;const d=g[$getTemplateRoot]();let x=null;if(g.target){if(x=d[$searchNode](g.target,g[$getParent]()),!x)return!1;x=x[0]}const{currentPageArea:b,currentContentArea:w}=d[$extra];if(g.targetType==="pageArea")return x instanceof PageArea||(x=null),g.startNew?(g[$extra].target=x||b,!0):x&&x!==b?(g[$extra].target=x,!0):!1;x instanceof ContentArea||(x=null);const S=x&&x[$getParent]();let C,F=S;if(g.startNew)if(x){const E=S.contentArea.children,k=E.indexOf(w),D=E.indexOf(x);k!==-1&&k<D&&(F=null),C=D-1}else C=b.contentArea.children.indexOf(w);else if(x&&x!==w)C=S.contentArea.children.indexOf(x)-1,F=S===b?null:S;else return!1;return g[$extra].target=F,g[$extra].index=C,!0}function handleOverflow(g,d,x){const b=g[$getTemplateRoot](),w=b[$extra].noLayoutFailure,S=d[$getSubformParent];d[$getSubformParent]=()=>g,b[$extra].noLayoutFailure=!0;const C=d[$toHTML](x);g[$addHTML](C.html,C.bbox),b[$extra].noLayoutFailure=w,d[$getSubformParent]=S}class AppearanceFilter extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"appearanceFilter"),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Arc extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"arc",!0),this.circular=getInteger({data:d.circular,defaultValue:0,validate:x=>x===1}),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.startAngle=getFloat({data:d.startAngle,defaultValue:0,validate:x=>!0}),this.sweepAngle=getFloat({data:d.sweepAngle,defaultValue:360,validate:x=>!0}),this.use=d.use||"",this.usehref=d.usehref||"",this.edge=null,this.fill=null}[$toHTML](){const d=this.edge||new Edge({}),x=d[$toStyle](),b=Object.create(null);this.fill?.presence==="visible"?Object.assign(b,this.fill[$toStyle]()):b.fill="transparent",b.strokeWidth=measureToString(d.presence==="visible"?d.thickness:0),b.stroke=x.color;let w;const S={xmlns:SVG_NS,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)w={name:"ellipse",attributes:{xmlns:SVG_NS,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:b}};else{const E=this.startAngle*Math.PI/180,k=this.sweepAngle*Math.PI/180,D=this.sweepAngle>180?1:0,[M,L,R,U]=[50*(1+Math.cos(E)),50*(1-Math.sin(E)),50*(1+Math.cos(E+k)),50*(1-Math.sin(E+k))];w={name:"path",attributes:{xmlns:SVG_NS,d:`M ${M} ${L} A 50 50 0 ${D} 0 ${R} ${U}`,vectorEffect:"non-scaling-stroke",style:b}},Object.assign(S,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const C={name:"svg",children:[w],attributes:S},F=this[$getParent]()[$getParent]();return hasMargin(F)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[C]}):(C.attributes.style.position="absolute",HTMLResult.success(C))}}class Area extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"area",!0),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.id=d.id||"",this.name=d.name||"",this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.desc=null,this.extras=null,this.area=new XFAObjectArray,this.draw=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$isTransparent](){return!0}[$isBindable](){return!0}[$addHTML](d,x){const[b,w,S,C]=x;this[$extra].width=Math.max(this[$extra].width,b+S),this[$extra].height=Math.max(this[$extra].height,w+C),this[$extra].children.push(d)}[$getAvailableSpace](){return this[$extra].availableSpace}[$toHTML](d){const x=toStyle(this,"position"),b={style:x,id:this[$uid],class:["xfaArea"]};isPrintOnly(this)&&b.class.push("xfaPrintOnly"),this.name&&(b.xfaName=this.name);const w=[];this[$extra]={children:w,width:0,height:0,availableSpace:d};const S=this[$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!S.success)return S.isBreak()?S:(delete this[$extra],HTMLResult.FAILURE);x.width=measureToString(this[$extra].width),x.height=measureToString(this[$extra].height);const C={name:"div",attributes:b,children:w},F=[this.x,this.y,this[$extra].width,this[$extra].height];return delete this[$extra],HTMLResult.success(C,F)}}class Assist extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"assist",!0),this.id=d.id||"",this.role=d.role||"",this.use=d.use||"",this.usehref=d.usehref||"",this.speak=null,this.toolTip=null}[$toHTML](){return this.toolTip?.[$content]||null}}class Barcode extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"barcode",!0),this.charEncoding=getKeyword({data:d.charEncoding?d.charEncoding.toLowerCase():"",defaultValue:"",validate:x=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(x)||x.match(/iso-8859-\d{2}/)}),this.checksum=getStringOption(d.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=getInteger({data:d.dataColumnCount,defaultValue:-1,validate:x=>x>=0}),this.dataLength=getInteger({data:d.dataLength,defaultValue:-1,validate:x=>x>=0}),this.dataPrep=getStringOption(d.dataPrep,["none","flateCompress"]),this.dataRowCount=getInteger({data:d.dataRowCount,defaultValue:-1,validate:x=>x>=0}),this.endChar=d.endChar||"",this.errorCorrectionLevel=getInteger({data:d.errorCorrectionLevel,defaultValue:-1,validate:x=>x>=0&&x<=8}),this.id=d.id||"",this.moduleHeight=getMeasurement(d.moduleHeight,"5mm"),this.moduleWidth=getMeasurement(d.moduleWidth,"0.25mm"),this.printCheckDigit=getInteger({data:d.printCheckDigit,defaultValue:0,validate:x=>x===1}),this.rowColumnRatio=getRatio(d.rowColumnRatio),this.startChar=d.startChar||"",this.textLocation=getStringOption(d.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=getInteger({data:d.truncate,defaultValue:0,validate:x=>x===1}),this.type=getStringOption(d.type?d.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=getStringOption(d.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=d.use||"",this.usehref=d.usehref||"",this.wideNarrowRatio=getRatio(d.wideNarrowRatio),this.encrypt=null,this.extras=null}}class Bind extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"bind",!0),this.match=getStringOption(d.match,["once","dataRef","global","none"]),this.ref=d.ref||"",this.picture=null}}class BindItems extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"bindItems"),this.connection=d.connection||"",this.labelRef=d.labelRef||"",this.ref=d.ref||"",this.valueRef=d.valueRef||""}}class Bookend extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"bookend"),this.id=d.id||"",this.leader=d.leader||"",this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||""}}class BooleanElement extends Option01{constructor(d){super(TEMPLATE_NS_ID,"boolean"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$toHTML](d){return valueToHtml(this[$content]===1?"1":"0")}}let Border$1=class extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"border",!0),this.break=getStringOption(d.break,["close","open"]),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[$getExtra](){if(!this[$extra]){const d=this.edge.children.slice();if(d.length<4){const w=d.at(-1)||new Edge({});for(let S=d.length;S<4;S++)d.push(w)}const x=d.map(w=>w.thickness),b=[0,0,0,0];this.margin&&(b[0]=this.margin.topInset,b[1]=this.margin.rightInset,b[2]=this.margin.bottomInset,b[3]=this.margin.leftInset),this[$extra]={widths:x,insets:b,edges:d}}return this[$extra]}[$toStyle](){const{edges:d}=this[$getExtra](),x=d.map(w=>{const S=w[$toStyle]();return S.color||="#000000",S}),b=Object.create(null);if(this.margin&&Object.assign(b,this.margin[$toStyle]()),this.fill?.presence==="visible"&&Object.assign(b,this.fill[$toStyle]()),this.corner.children.some(w=>w.radius!==0)){const w=this.corner.children.map(S=>S[$toStyle]());if(w.length===2||w.length===3){const S=w.at(-1);for(let C=w.length;C<4;C++)w.push(S)}b.borderRadius=w.map(S=>S.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":b.borderStyle="";break;case"inactive":b.borderStyle="none";break;default:b.borderStyle=x.map(w=>w.style).join(" ");break}return b.borderWidth=x.map(w=>w.width).join(" "),b.borderColor=x.map(w=>w.color).join(" "),b}};class Break extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"break",!0),this.after=getStringOption(d.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=d.afterTarget||"",this.before=getStringOption(d.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=d.beforeTarget||"",this.bookendLeader=d.bookendLeader||"",this.bookendTrailer=d.bookendTrailer||"",this.id=d.id||"",this.overflowLeader=d.overflowLeader||"",this.overflowTarget=d.overflowTarget||"",this.overflowTrailer=d.overflowTrailer||"",this.startNew=getInteger({data:d.startNew,defaultValue:0,validate:x=>x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}}class BreakAfter extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"breakAfter",!0),this.id=d.id||"",this.leader=d.leader||"",this.startNew=getInteger({data:d.startNew,defaultValue:0,validate:x=>x===1}),this.target=d.target||"",this.targetType=getStringOption(d.targetType,["auto","contentArea","pageArea"]),this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||"",this.script=null}}class BreakBefore extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"breakBefore",!0),this.id=d.id||"",this.leader=d.leader||"",this.startNew=getInteger({data:d.startNew,defaultValue:0,validate:x=>x===1}),this.target=d.target||"",this.targetType=getStringOption(d.targetType,["auto","contentArea","pageArea"]),this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||"",this.script=null}[$toHTML](d){return this[$extra]={},HTMLResult.FAILURE}}class Button extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"button",!0),this.highlight=getStringOption(d.highlight,["inverted","none","outline","push"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$toHTML](d){const b=this[$getParent]()[$getParent](),w={name:"button",attributes:{id:this[$uid],class:["xfaButton"],style:{}},children:[]};for(const S of b.event.children){if(S.activity!=="click"||!S.script)continue;const C=recoverJsURL(S.script[$content]);if(!C)continue;const F=fixURL(C.url);F&&w.children.push({name:"a",attributes:{id:"link"+this[$uid],href:F,newWindow:C.newWindow,class:["xfaLink"],style:{}},children:[]})}return HTMLResult.success(w)}}class Calculate extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"calculate",!0),this.id=d.id||"",this.override=getStringOption(d.override,["disabled","error","ignore","warning"]),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.message=null,this.script=null}}class Caption extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"caption",!0),this.id=d.id||"",this.placement=getStringOption(d.placement,["left","bottom","inline","right","top"]),this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil(getMeasurement(d.reserve)),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[$setValue](d){_setValue(this,d)}[$getExtra](d){if(!this[$extra]){let{width:x,height:b}=d;switch(this.placement){case"left":case"right":case"inline":x=this.reserve<=0?x:this.reserve;break;case"top":case"bottom":b=this.reserve<=0?b:this.reserve;break}this[$extra]=layoutNode(this,{width:x,height:b})}return this[$extra]}[$toHTML](d){if(!this.value)return HTMLResult.EMPTY;this[$pushPara]();const x=this.value[$toHTML](d).html;if(!x)return this[$popPara](),HTMLResult.EMPTY;const b=this.reserve;if(this.reserve<=0){const{w:C,h:F}=this[$getExtra](d);switch(this.placement){case"left":case"right":case"inline":this.reserve=C;break;case"top":case"bottom":this.reserve=F;break}}const w=[];typeof x=="string"?w.push({name:"#text",value:x}):w.push(x);const S=toStyle(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(S.width=measureToString(this.reserve));break;case"top":case"bottom":this.reserve>0&&(S.height=measureToString(this.reserve));break}return setPara(this,null,x),this[$popPara](),this.reserve=b,HTMLResult.success({name:"div",attributes:{style:S,class:["xfaCaption"]},children:w})}}class Certificate extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"certificate"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Certificates extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"certificates",!0),this.credentialServerPolicy=getStringOption(d.credentialServerPolicy,["optional","required"]),this.id=d.id||"",this.url=d.url||"",this.urlPolicy=d.urlPolicy||"",this.use=d.use||"",this.usehref=d.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class CheckButton extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"checkButton",!0),this.id=d.id||"",this.mark=getStringOption(d.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=getStringOption(d.shape,["square","round"]),this.size=getMeasurement(d.size,"10pt"),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle("margin"),b=measureToString(this.size);x.width=x.height=b;let w,S,C;const F=this[$getParent]()[$getParent](),E=F.items.children.length&&F.items.children[0][$toHTML]().html||[],k={on:(E[0]!==void 0?E[0]:"on").toString(),off:(E[1]!==void 0?E[1]:"off").toString()},M=(F.value?.[$text]()||"off")===k.on||void 0,L=F[$getSubformParent](),R=F[$uid];let U;L instanceof ExclGroup?(C=L[$uid],w="radio",S="xfaRadio",U=L[$data]?.[$uid]||L[$uid]):(w="checkbox",S="xfaCheckbox",U=F[$data]?.[$uid]||F[$uid]);const j={name:"input",attributes:{class:[S],style:x,fieldId:R,dataId:U,type:w,checked:M,xfaOn:k.on,xfaOff:k.off,"aria-label":ariaLabel(F),"aria-required":!1}};return C&&(j.attributes.name=C),isRequired(F)&&(j.attributes["aria-required"]=!0,j.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[j]})}}class ChoiceList extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"choiceList",!0),this.commitOn=getStringOption(d.commitOn,["select","exit"]),this.id=d.id||"",this.open=getStringOption(d.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=getInteger({data:d.textEntry,defaultValue:0,validate:x=>x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","margin"),w=this[$getParent]()[$getParent](),C={fontSize:`calc(${w.font?.size||10}px * var(--scale-factor))`},F=[];if(w.items.children.length>0){const k=w.items;let D=0,M=0;k.children.length===2&&(D=k.children[0].save,M=1-D);const L=k.children[D][$toHTML]().html,R=k.children[M][$toHTML]().html;let U=!1;const j=w.value?.[$text]()||"";for(let H=0,z=L.length;H<z;H++){const V={name:"option",attributes:{value:R[H]||L[H],style:C},value:L[H]};R[H]===j&&(V.attributes.selected=U=!0),F.push(V)}U||F.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const E={class:["xfaSelect"],fieldId:w[$uid],dataId:w[$data]?.[$uid]||w[$uid],style:x,"aria-label":ariaLabel(w),"aria-required":!1};return isRequired(w)&&(E["aria-required"]=!0,E.required=!0),this.open==="multiSelect"&&(E.multiple=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:F,attributes:E}]})}}class Color extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"color",!0),this.cSpace=getStringOption(d.cSpace,["SRGB"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.value=d.value?getColor(d.value):"",this.extras=null}[$hasSettableValue](){return!1}[$toStyle](){return this.value?Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Comb extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"comb"),this.id=d.id||"",this.numberOfCells=getInteger({data:d.numberOfCells,defaultValue:0,validate:x=>x>=0}),this.use=d.use||"",this.usehref=d.usehref||""}}class Connect extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"connect",!0),this.connection=d.connection||"",this.id=d.id||"",this.ref=d.ref||"",this.usage=getStringOption(d.usage,["exportAndImport","exportOnly","importOnly"]),this.use=d.use||"",this.usehref=d.usehref||"",this.picture=null}}class ContentArea extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"contentArea",!0),this.h=getMeasurement(d.h),this.id=d.id||"",this.name=d.name||"",this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.w=getMeasurement(d.w),this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.desc=null,this.extras=null}[$toHTML](d){const x=measureToString(this.x),b=measureToString(this.y),w={left:x,top:b,width:measureToString(this.w),height:measureToString(this.h)},S=["xfaContentarea"];return isPrintOnly(this)&&S.push("xfaPrintOnly"),HTMLResult.success({name:"div",children:[],attributes:{style:w,class:S,id:this[$uid]}})}}class Corner extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"corner",!0),this.id=d.id||"",this.inverted=getInteger({data:d.inverted,defaultValue:0,validate:x=>x===1}),this.join=getStringOption(d.join,["square","round"]),this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.radius=getMeasurement(d.radius),this.stroke=getStringOption(d.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(d.thickness,"0.5pt"),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](){const d=toStyle(this,"visibility");return d.radius=measureToString(this.join==="square"?0:this.radius),d}}class DateElement extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"date"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=this[$content].trim();this[$content]=d?new Date(d):null}[$toHTML](d){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTime extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"dateTime"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=this[$content].trim();this[$content]=d?new Date(d):null}[$toHTML](d){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTimeEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"dateTimeEdit",!0),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.picker=getStringOption(d.picker,["host","none"]),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","font","margin"),b=this[$getParent]()[$getParent](),w={name:"input",attributes:{type:"text",fieldId:b[$uid],dataId:b[$data]?.[$uid]||b[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(b),"aria-required":!1}};return isRequired(b)&&(w.attributes["aria-required"]=!0,w.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[w]})}}class Decimal extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"decimal"),this.fracDigits=getInteger({data:d.fracDigits,defaultValue:2,validate:x=>!0}),this.id=d.id||"",this.leadDigits=getInteger({data:d.leadDigits,defaultValue:-1,validate:x=>!0}),this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=parseFloat(this[$content].trim());this[$content]=isNaN(d)?null:d}[$toHTML](d){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class DefaultUi extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"defaultUi",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}}class Desc extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"desc",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class DigestMethod extends OptionObject{constructor(d){super(TEMPLATE_NS_ID,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class DigestMethods extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"digestMethods",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.digestMethod=new XFAObjectArray}}class Draw extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"draw",!0),this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.locale=d.locale||"",this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.rotate=getInteger({data:d.rotate,defaultValue:0,validate:x=>x%90===0}),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new XFAObjectArray}[$setValue](d){_setValue(this,d)}[$toHTML](d){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;fixDimensions(this),this[$pushPara]();const x=this.w,b=this.h,{w,h:S,isBroken:C}=layoutNode(this,d);if(w&&this.w===""){if(C&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;this.w=w}if(S&&this.h===""&&(this.h=S),setFirstUnsplittable(this),!checkDimensions(this,d))return this.w=x,this.h=b,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const F=toStyle(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");setMinMaxDimensions(this,F),F.margin&&(F.padding=F.margin,delete F.margin);const E=["xfaDraw"];this.font&&E.push("xfaFont"),isPrintOnly(this)&&E.push("xfaPrintOnly");const k={style:F,id:this[$uid],class:E};this.name&&(k.xfaName=this.name);const D={name:"div",attributes:k,children:[]};applyAssist(this,k);const M=computeBbox(this,D,d),L=this.value?this.value[$toHTML](d).html:null;return L===null?(this.w=x,this.h=b,this[$popPara](),HTMLResult.success(createWrapper(this,D),M)):(D.children.push(L),setPara(this,F,L),this.w=x,this.h=b,this[$popPara](),HTMLResult.success(createWrapper(this,D),M))}}class Edge extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"edge",!0),this.cap=getStringOption(d.cap,["square","butt","round"]),this.id=d.id||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.stroke=getStringOption(d.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(d.thickness,"0.5pt"),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](){const d=toStyle(this,"visibility");if(Object.assign(d,{linecap:this.cap,width:measureToString(this.thickness),color:this.color?this.color[$toStyle]():"#000000",style:""}),this.presence!=="visible")d.style="none";else switch(this.stroke){case"solid":d.style="solid";break;case"dashDot":d.style="dashed";break;case"dashDotDot":d.style="dashed";break;case"dashed":d.style="dashed";break;case"dotted":d.style="dotted";break;case"embossed":d.style="ridge";break;case"etched":d.style="groove";break;case"lowered":d.style="inset";break;case"raised":d.style="outset";break}return d}}let Encoding$1=class extends OptionObject{constructor(d){super(TEMPLATE_NS_ID,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}},Encodings$1=class extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encodings",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.encoding=new XFAObjectArray}};class Encrypt extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encrypt",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=null}}class EncryptData extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encryptData",!0),this.id=d.id||"",this.operation=getStringOption(d.operation,["encrypt","decrypt"]),this.target=d.target||"",this.use=d.use||"",this.usehref=d.usehref||"",this.filter=null,this.manifest=null}}class Encryption extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encryption",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=new XFAObjectArray}}class EncryptionMethod extends OptionObject{constructor(d){super(TEMPLATE_NS_ID,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class EncryptionMethods extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encryptionMethods",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.encryptionMethod=new XFAObjectArray}}let Event$1=class extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"event",!0),this.activity=getStringOption(d.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=d.id||"",this.listen=getStringOption(d.listen,["refOnly","refAndDescendents"]),this.name=d.name||"",this.ref=d.ref||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}};class ExData extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"exData"),this.contentType=d.contentType||"",this.href=d.href||"",this.id=d.id||"",this.maxLength=getInteger({data:d.maxLength,defaultValue:-1,validate:x=>x>=-1}),this.name=d.name||"",this.rid=d.rid||"",this.transferEncoding=getStringOption(d.transferEncoding,["none","base64","package"]),this.use=d.use||"",this.usehref=d.usehref||""}[$isCDATAXml](){return this.contentType==="text/html"}[$onChild](d){return this.contentType==="text/html"&&d[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=d,!0):this.contentType==="text/xml"?(this[$content]=d,!0):!1}[$toHTML](d){return this.contentType!=="text/html"||!this[$content]?HTMLResult.EMPTY:this[$content][$toHTML](d)}}class ExObject extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"exObject",!0),this.archive=d.archive||"",this.classId=d.classId||"",this.codeBase=d.codeBase||"",this.codeType=d.codeType||"",this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class ExclGroup extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"exclGroup",!0),this.access=getStringOption(d.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=d.accessKey||"",this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.layout=getStringOption(d.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.field=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$hasSettableValue](){return!0}[$setValue](d){for(const x of this.field.children){if(!x.value){const b=new Value({});x[$appendChild](b),x.value=b}x.value[$setValue](d)}}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}[$isSplittable](){const d=this[$getSubformParent]();return d[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):d.layout?.endsWith("-tb")&&d[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$flushHTML](){return flushHTML(this)}[$addHTML](d,x){addHTML(this,d,x)}[$getAvailableSpace](){return getAvailableSpace(this)}[$toHTML](d){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;fixDimensions(this);const x=[],b={id:this[$uid],class:[]};setAccess(this,b.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:x,attributes:b,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,d.width),height:Math.min(this.h||1/0,d.height)},width:0,height:0,prevHeight:0,currentWidth:0});const w=this[$isSplittable]();if(w||setFirstUnsplittable(this),!checkDimensions(this,d))return HTMLResult.FAILURE;const S=new Set(["field"]);if(this.layout.includes("row")){const z=this[$getSubformParent]().columnWidths;Array.isArray(z)&&z.length>0&&(this[$extra].columnWidths=z,this[$extra].currentColumn=0)}const C=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),F=["xfaExclgroup"],E=layoutClass(this);E&&F.push(E),isPrintOnly(this)&&F.push("xfaPrintOnly"),b.style=C,b.class=F,this.name&&(b.xfaName=this.name),this[$pushPara]();const k=this.layout==="lr-tb"||this.layout==="rl-tb",D=k?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<D;this[$extra].attempt++){k&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const z=this[$childrenToHTML]({filter:S,include:!0});if(z.success)break;if(z.isBreak())return this[$popPara](),z;if(k&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!this[$getTemplateRoot]()[$extra].noLayoutFailure){this[$extra].attempt=D;break}}if(this[$popPara](),w||unsetFirstUnsplittable(this),this[$extra].attempt===D)return w||delete this[$extra],HTMLResult.FAILURE;let M=0,L=0;this.margin&&(M=this.margin.leftInset+this.margin.rightInset,L=this.margin.topInset+this.margin.bottomInset);const R=Math.max(this[$extra].width+M,this.w||0),U=Math.max(this[$extra].height+L,this.h||0),j=[this.x,this.y,R,U];this.w===""&&(C.width=measureToString(R)),this.h===""&&(C.height=measureToString(U));const H={name:"div",attributes:b,children:x};return applyAssist(this,b),delete this[$extra],HTMLResult.success(createWrapper(this,H),j)}}class Execute extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"execute"),this.connection=d.connection||"",this.executeType=getStringOption(d.executeType,["import","remerge"]),this.id=d.id||"",this.runAt=getStringOption(d.runAt,["client","both","server"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Extras extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"extras",!0),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.extras=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class Field extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"field",!0),this.access=getStringOption(d.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=d.accessKey||"",this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.locale=d.locale||"",this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.rotate=getInteger({data:d.rotate,defaultValue:0,validate:x=>x%90===0}),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new XFAObjectArray,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$setValue](d){_setValue(this,d)}[$toHTML](d){if(setTabIndex(this),!this.ui){this.ui=new Ui({}),this.ui[$globalData]=this[$globalData],this[$appendChild](this.ui);let z;switch(this.items.children.length){case 0:z=new TextEdit({}),this.ui.textEdit=z;break;case 1:z=new CheckButton({}),this.ui.checkButton=z;break;case 2:z=new ChoiceList({}),this.ui.choiceList=z;break}this.ui[$appendChild](z)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;this.caption&&delete this.caption[$extra],this[$pushPara]();const x=this.caption?this.caption[$toHTML](d).html:null,b=this.w,w=this.h;let S=0,C=0;this.margin&&(S=this.margin.leftInset+this.margin.rightInset,C=this.margin.topInset+this.margin.bottomInset);let F=null;if(this.w===""||this.h===""){let z=null,V=null,G=0,$=0;if(this.ui.checkButton)G=$=this.ui.checkButton.size;else{const{w:K,h:Z}=layoutNode(this,d);K!==null?(G=K,$=Z):$=fonts_getMetrics(this.font,!0).lineNoGap}if(F=getBorderDims(this.ui[$getExtra]()),G+=F.w,$+=F.h,this.caption){const{w:K,h:Z,isBroken:Q}=this.caption[$getExtra](d);if(Q&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;switch(z=K,V=Z,this.caption.placement){case"left":case"right":case"inline":z+=G;break;case"top":case"bottom":V+=$;break}}else z=G,V=$;z&&this.w===""&&(z+=S,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<z?z:this.minW)),V&&this.h===""&&(V+=C,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<V?V:this.minH))}if(this[$popPara](),fixDimensions(this),setFirstUnsplittable(this),!checkDimensions(this,d))return this.w=b,this.h=w,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const E=toStyle(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");setMinMaxDimensions(this,E);const k=["xfaField"];this.font&&k.push("xfaFont"),isPrintOnly(this)&&k.push("xfaPrintOnly");const D={style:E,id:this[$uid],class:k};E.margin&&(E.padding=E.margin,delete E.margin),setAccess(this,k),this.name&&(D.xfaName=this.name);const M=[],L={name:"div",attributes:D,children:M};applyAssist(this,D);const R=this.border?this.border[$toStyle]():null,U=computeBbox(this,L,d),j=this.ui[$toHTML]().html;if(!j)return Object.assign(E,R),HTMLResult.success(createWrapper(this,L),U);this[$tabIndex]&&(j.children?.[0]?j.children[0].attributes.tabindex=this[$tabIndex]:j.attributes.tabindex=this[$tabIndex]),j.attributes.style||(j.attributes.style=Object.create(null));let H=null;if(this.ui.button?(j.children.length===1&&([H]=j.children.splice(0,1)),Object.assign(j.attributes.style,R)):Object.assign(E,R),M.push(j),this.value){if(this.ui.imageEdit)j.children.push(this.value[$toHTML]().html);else if(!this.ui.button){let z="";if(this.value.exData)z=this.value.exData[$text]();else if(this.value.text)z=this.value.text[$getExtra]();else{const V=this.value[$toHTML]().html;V!==null&&(z=V.children[0].value)}this.ui.textEdit&&this.value.text?.maxChars&&(j.children[0].attributes.maxLength=this.value.text.maxChars),z&&(this.ui.numericEdit&&(z=parseFloat(z),z=isNaN(z)?"":z.toString()),j.children[0].name==="textarea"?j.children[0].attributes.textContent=z:j.children[0].attributes.value=z)}}if(!this.ui.imageEdit&&j.children?.[0]&&this.h){F=F||getBorderDims(this.ui[$getExtra]());let z=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){z=this.caption.reserve,z<=0&&(z=this.caption[$getExtra](d).h);const V=this.h-z-C-F.h;j.children[0].attributes.style.height=measureToString(V)}else j.children[0].attributes.style.height="100%"}if(H&&j.children.push(H),!x)return j.attributes.class&&j.attributes.class.push("xfaLeft"),this.w=b,this.h=w,HTMLResult.success(createWrapper(this,L),U);if(this.ui.button)return E.padding&&delete E.padding,x.name==="div"&&(x.name="span"),j.children.push(x),HTMLResult.success(L,U);switch(this.ui.checkButton&&(x.attributes.class[0]="xfaCaptionForCheckButton"),j.attributes.class||(j.attributes.class=[]),j.children.splice(0,0,x),this.caption.placement){case"left":j.attributes.class.push("xfaLeft");break;case"right":j.attributes.class.push("xfaRight");break;case"top":j.attributes.class.push("xfaTop");break;case"bottom":j.attributes.class.push("xfaBottom");break;case"inline":j.attributes.class.push("xfaLeft");break}return this.w=b,this.h=w,HTMLResult.success(createWrapper(this,L),U)}}class Fill extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"fill",!0),this.id=d.id||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[$toStyle](){const d=this[$getParent](),b=d[$getParent]()[$getParent](),w=Object.create(null);let S="color",C=S;d instanceof Border$1&&(S="background-color",C="background",b instanceof Ui&&(w.backgroundColor="white")),(d instanceof Rectangle||d instanceof Arc)&&(S=C="fill",w.fill="white");for(const F of Object.getOwnPropertyNames(this)){if(F==="extras"||F==="color")continue;const E=this[F];if(!(E instanceof XFAObject))continue;const k=E[$toStyle](this.color);return k&&(w[k.startsWith("#")?S:C]=k),w}if(this.color?.value){const F=this.color[$toStyle]();w[F.startsWith("#")?S:C]=F}return w}}class Filter extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"filter",!0),this.addRevocationInfo=getStringOption(d.addRevocationInfo,["","required","optional","none"]),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.version=getInteger({data:this.version,defaultValue:5,validate:x=>x>=1&&x<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Float extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"float"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=parseFloat(this[$content].trim());this[$content]=isNaN(d)?null:d}[$toHTML](d){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class template_Font extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"font",!0),this.baselineShift=getMeasurement(d.baselineShift),this.fontHorizontalScale=getFloat({data:d.fontHorizontalScale,defaultValue:100,validate:x=>x>=0}),this.fontVerticalScale=getFloat({data:d.fontVerticalScale,defaultValue:100,validate:x=>x>=0}),this.id=d.id||"",this.kerningMode=getStringOption(d.kerningMode,["none","pair"]),this.letterSpacing=getMeasurement(d.letterSpacing,"0"),this.lineThrough=getInteger({data:d.lineThrough,defaultValue:0,validate:x=>x===1||x===2}),this.lineThroughPeriod=getStringOption(d.lineThroughPeriod,["all","word"]),this.overline=getInteger({data:d.overline,defaultValue:0,validate:x=>x===1||x===2}),this.overlinePeriod=getStringOption(d.overlinePeriod,["all","word"]),this.posture=getStringOption(d.posture,["normal","italic"]),this.size=getMeasurement(d.size,"10pt"),this.typeface=d.typeface||"Courier",this.underline=getInteger({data:d.underline,defaultValue:0,validate:x=>x===1||x===2}),this.underlinePeriod=getStringOption(d.underlinePeriod,["all","word"]),this.use=d.use||"",this.usehref=d.usehref||"",this.weight=getStringOption(d.weight,["normal","bold"]),this.extras=null,this.fill=null}[$clean](d){super[$clean](d),this[$globalData].usedTypefaces.add(this.typeface)}[$toStyle](){const d=toStyle(this,"fill"),x=d.color;return x&&(x==="#000000"?delete d.color:x.startsWith("#")||(d.background=x,d.backgroundClip="text",d.color="transparent")),this.baselineShift&&(d.verticalAlign=measureToString(this.baselineShift)),d.fontKerning=this.kerningMode==="none"?"none":"normal",d.letterSpacing=measureToString(this.letterSpacing),this.lineThrough!==0&&(d.textDecoration="line-through",this.lineThrough===2&&(d.textDecorationStyle="double")),this.overline!==0&&(d.textDecoration="overline",this.overline===2&&(d.textDecorationStyle="double")),d.fontStyle=this.posture,d.fontSize=measureToString(.99*this.size),setFontFamily(this,this,this[$globalData].fontFinder,d),this.underline!==0&&(d.textDecoration="underline",this.underline===2&&(d.textDecorationStyle="double")),d.fontWeight=this.weight,d}}class Format extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"format",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.picture=null}}class Handler extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"handler"),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Hyphenation extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"hyphenation"),this.excludeAllCaps=getInteger({data:d.excludeAllCaps,defaultValue:0,validate:x=>x===1}),this.excludeInitialCap=getInteger({data:d.excludeInitialCap,defaultValue:0,validate:x=>x===1}),this.hyphenate=getInteger({data:d.hyphenate,defaultValue:0,validate:x=>x===1}),this.id=d.id||"",this.pushCharacterCount=getInteger({data:d.pushCharacterCount,defaultValue:3,validate:x=>x>=0}),this.remainCharacterCount=getInteger({data:d.remainCharacterCount,defaultValue:3,validate:x=>x>=0}),this.use=d.use||"",this.usehref=d.usehref||"",this.wordCharacterCount=getInteger({data:d.wordCharacterCount,defaultValue:7,validate:x=>x>=0})}}let Image$1=class extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"image"),this.aspect=getStringOption(d.aspect,["fit","actual","height","none","width"]),this.contentType=d.contentType||"",this.href=d.href||"",this.id=d.id||"",this.name=d.name||"",this.transferEncoding=getStringOption(d.transferEncoding,["base64","none","package"]),this.use=d.use||"",this.usehref=d.usehref||""}[$toHTML](){if(this.contentType&&!MIMES.has(this.contentType.toLowerCase()))return HTMLResult.EMPTY;let d=this[$globalData].images&&this[$globalData].images.get(this.href);if(!d&&(this.href||!this[$content])||(!d&&this.transferEncoding==="base64"&&(d=stringToBytes(atob(this[$content]))),!d))return HTMLResult.EMPTY;if(!this.contentType){for(const[S,C]of IMAGES_HEADERS)if(d.length>S.length&&S.every((F,E)=>F===d[E])){this.contentType=C;break}if(!this.contentType)return HTMLResult.EMPTY}const x=new Blob([d],{type:this.contentType});let b;switch(this.aspect){case"fit":case"actual":break;case"height":b={height:"100%",objectFit:"fill"};break;case"none":b={width:"100%",height:"100%",objectFit:"fill"};break;case"width":b={width:"100%",objectFit:"fill"};break}const w=this[$getParent]();return HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:b,src:URL.createObjectURL(x),alt:w?ariaLabel(w[$getParent]()):null}})}};class ImageEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"imageEdit",!0),this.data=getStringOption(d.data,["link","embed"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](d){return this.data==="embed"?HTMLResult.success({name:"div",children:[],attributes:{}}):HTMLResult.EMPTY}}class Integer extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"integer"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=parseInt(this[$content].trim(),10);this[$content]=isNaN(d)?null:d}[$toHTML](d){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class Issuers extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"issuers",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=new XFAObjectArray}}class Items extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"items",!0),this.id=d.id||"",this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.ref=d.ref||"",this.save=getInteger({data:d.save,defaultValue:0,validate:x=>x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$toHTML](){const d=[];for(const x of this[$getChildren]())d.push(x[$text]());return HTMLResult.success(d)}}class Keep extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"keep",!0),this.id=d.id||"";const x=["none","contentArea","pageArea"];this.intact=getStringOption(d.intact,x),this.next=getStringOption(d.next,x),this.previous=getStringOption(d.previous,x),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}}class KeyUsage extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"keyUsage");const x=["","yes","no"];this.crlSign=getStringOption(d.crlSign,x),this.dataEncipherment=getStringOption(d.dataEncipherment,x),this.decipherOnly=getStringOption(d.decipherOnly,x),this.digitalSignature=getStringOption(d.digitalSignature,x),this.encipherOnly=getStringOption(d.encipherOnly,x),this.id=d.id||"",this.keyAgreement=getStringOption(d.keyAgreement,x),this.keyCertSign=getStringOption(d.keyCertSign,x),this.keyEncipherment=getStringOption(d.keyEncipherment,x),this.nonRepudiation=getStringOption(d.nonRepudiation,x),this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Line extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"line",!0),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.slope=getStringOption(d.slope,["\\","/"]),this.use=d.use||"",this.usehref=d.usehref||"",this.edge=null}[$toHTML](){const d=this[$getParent]()[$getParent](),x=this.edge||new Edge({}),b=x[$toStyle](),w=Object.create(null),S=x.presence==="visible"?x.thickness:0;w.strokeWidth=measureToString(S),w.stroke=b.color;let C,F,E,k,D="100%",M="100%";d.w<=S?([C,F,E,k]=["50%",0,"50%","100%"],D=w.strokeWidth):d.h<=S?([C,F,E,k]=[0,"50%","100%","50%"],M=w.strokeWidth):this.slope==="\\"?[C,F,E,k]=[0,0,"100%","100%"]:[C,F,E,k]=[0,"100%","100%",0];const R={name:"svg",children:[{name:"line",attributes:{xmlns:SVG_NS,x1:C,y1:F,x2:E,y2:k,style:w}}],attributes:{xmlns:SVG_NS,width:D,height:M,style:{overflow:"visible"}}};return hasMargin(d)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[R]}):(R.attributes.style.position="absolute",HTMLResult.success(R))}}class Linear extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"linear",!0),this.id=d.id||"",this.type=getStringOption(d.type,["toRight","toBottom","toLeft","toTop"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){d=d?d[$toStyle]():"#FFFFFF";const x=this.type.replace(/([RBLT])/," $1").toLowerCase(),b=this.color?this.color[$toStyle]():"#000000";return`linear-gradient(${x}, ${d}, ${b})`}}class LockDocument extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"lockDocument"),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){this[$content]=getStringOption(this[$content],["auto","0","1"])}}class Manifest extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"manifest",!0),this.action=getStringOption(d.action,["include","all","exclude"]),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.ref=new XFAObjectArray}}class Margin extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"margin",!0),this.bottomInset=getMeasurement(d.bottomInset,"0"),this.id=d.id||"",this.leftInset=getMeasurement(d.leftInset,"0"),this.rightInset=getMeasurement(d.rightInset,"0"),this.topInset=getMeasurement(d.topInset,"0"),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$toStyle](){return{margin:measureToString(this.topInset)+" "+measureToString(this.rightInset)+" "+measureToString(this.bottomInset)+" "+measureToString(this.leftInset)}}}class Mdp extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"mdp"),this.id=d.id||"",this.permissions=getInteger({data:d.permissions,defaultValue:2,validate:x=>x===1||x===3}),this.signatureType=getStringOption(d.signatureType,["filler","author"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Medium extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"medium"),this.id=d.id||"",this.imagingBBox=getBBox(d.imagingBBox),this.long=getMeasurement(d.long),this.orientation=getStringOption(d.orientation,["portrait","landscape"]),this.short=getMeasurement(d.short),this.stock=d.stock||"",this.trayIn=getStringOption(d.trayIn,["auto","delegate","pageFront"]),this.trayOut=getStringOption(d.trayOut,["auto","delegate"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Message extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"message",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.text=new XFAObjectArray}}class NumericEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"numericEdit",!0),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","font","margin"),b=this[$getParent]()[$getParent](),w={name:"input",attributes:{type:"text",fieldId:b[$uid],dataId:b[$data]?.[$uid]||b[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(b),"aria-required":!1}};return isRequired(b)&&(w.attributes["aria-required"]=!0,w.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[w]})}}class Occur extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"occur",!0),this.id=d.id||"",this.initial=d.initial!==""?getInteger({data:d.initial,defaultValue:"",validate:x=>!0}):"",this.max=d.max!==""?getInteger({data:d.max,defaultValue:1,validate:x=>!0}):"",this.min=d.min!==""?getInteger({data:d.min,defaultValue:1,validate:x=>!0}):"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$clean](){const d=this[$getParent](),x=this.min;this.min===""&&(this.min=d instanceof PageArea||d instanceof PageSet?0:1),this.max===""&&(x===""?this.max=d instanceof PageArea||d instanceof PageSet?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=d instanceof Template?1:this.min)}}class Oid extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"oid"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Oids extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"oids",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.oid=new XFAObjectArray}}class Overflow extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"overflow"),this.id=d.id||"",this.leader=d.leader||"",this.target=d.target||"",this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||""}[$getExtra](){if(!this[$extra]){const d=this[$getParent](),x=this[$getTemplateRoot](),b=x[$searchNode](this.target,d),w=x[$searchNode](this.leader,d),S=x[$searchNode](this.trailer,d);this[$extra]={target:b?.[0]||null,leader:w?.[0]||null,trailer:S?.[0]||null,addLeader:!1,addTrailer:!1}}return this[$extra]}}class PageArea extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"pageArea",!0),this.blankOrNotBlank=getStringOption(d.blankOrNotBlank,["any","blank","notBlank"]),this.id=d.id||"",this.initialNumber=getInteger({data:d.initialNumber,defaultValue:1,validate:x=>!0}),this.name=d.name||"",this.numbered=getInteger({data:d.numbered,defaultValue:1,validate:x=>!0}),this.oddOrEven=getStringOption(d.oddOrEven,["any","even","odd"]),this.pagePosition=getStringOption(d.pagePosition,["any","first","last","only","rest"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.draw=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray}[$isUsable](){return this[$extra]?!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max:(this[$extra]={numberOfUse:0},!0)}[$cleanPage](){delete this[$extra]}[$getNextPage](){this[$extra]||(this[$extra]={numberOfUse:0});const d=this[$getParent]();return d.relation==="orderedOccurrence"&&this[$isUsable]()?(this[$extra].numberOfUse+=1,this):d[$getNextPage]()}[$getAvailableSpace](){return this[$extra].space||{width:0,height:0}}[$toHTML](){this[$extra]||(this[$extra]={numberOfUse:1});const d=[];this[$extra].children=d;const x=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(x.width=measureToString(this.medium.short),x.height=measureToString(this.medium.long),this[$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const b=x.width;x.width=x.height,x.height=b,this[$extra].space={width:this.medium.long,height:this.medium.short}}}else warn("XFA - No medium specified in pageArea: please file a bug.");return this[$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),HTMLResult.success({name:"div",children:d,attributes:{class:["xfaPage"],id:this[$uid],style:x,xfaName:this.name}})}}class PageSet extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"pageSet",!0),this.duplexImposition=getStringOption(d.duplexImposition,["longEdge","shortEdge"]),this.id=d.id||"",this.name=d.name||"",this.relation=getStringOption(d.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.occur=null,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray}[$cleanPage](){for(const d of this.pageArea.children)d[$cleanPage]();for(const d of this.pageSet.children)d[$cleanPage]()}[$isUsable](){return!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max}[$getNextPage](){if(this[$extra]||(this[$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[$extra].pageIndex+1<this.pageArea.children.length)return this[$extra].pageIndex+=1,this.pageArea.children[this[$extra].pageIndex][$getNextPage]();if(this[$extra].pageSetIndex+1<this.pageSet.children.length)return this[$extra].pageSetIndex+=1,this.pageSet.children[this[$extra].pageSetIndex][$getNextPage]();if(this[$isUsable]())return this[$extra].numberOfUse+=1,this[$extra].pageIndex=-1,this[$extra].pageSetIndex=-1,this[$getNextPage]();const S=this[$getParent]();return S instanceof PageSet?S[$getNextPage]():(this[$cleanPage](),this[$getNextPage]())}const d=this[$getTemplateRoot]()[$extra].pageNumber,x=d%2===0?"even":"odd",b=d===0?"first":"rest";let w=this.pageArea.children.find(S=>S.oddOrEven===x&&S.pagePosition===b);return w||(w=this.pageArea.children.find(S=>S.oddOrEven==="any"&&S.pagePosition===b),w)||(w=this.pageArea.children.find(S=>S.oddOrEven==="any"&&S.pagePosition==="any"),w)?w:this.pageArea.children[0]}}class Para extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"para",!0),this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.lineHeight=d.lineHeight?getMeasurement(d.lineHeight,"0pt"):"",this.marginLeft=d.marginLeft?getMeasurement(d.marginLeft,"0pt"):"",this.marginRight=d.marginRight?getMeasurement(d.marginRight,"0pt"):"",this.orphans=getInteger({data:d.orphans,defaultValue:0,validate:x=>x>=0}),this.preserve=d.preserve||"",this.radixOffset=d.radixOffset?getMeasurement(d.radixOffset,"0pt"):"",this.spaceAbove=d.spaceAbove?getMeasurement(d.spaceAbove,"0pt"):"",this.spaceBelow=d.spaceBelow?getMeasurement(d.spaceBelow,"0pt"):"",this.tabDefault=d.tabDefault?getMeasurement(this.tabDefault):"",this.tabStops=(d.tabStops||"").trim().split(/\s+/).map((x,b)=>b%2===1?getMeasurement(x):x),this.textIndent=d.textIndent?getMeasurement(d.textIndent,"0pt"):"",this.use=d.use||"",this.usehref=d.usehref||"",this.vAlign=getStringOption(d.vAlign,["top","bottom","middle"]),this.widows=getInteger({data:d.widows,defaultValue:0,validate:x=>x>=0}),this.hyphenation=null}[$toStyle](){const d=toStyle(this,"hAlign");return this.marginLeft!==""&&(d.paddingLeft=measureToString(this.marginLeft)),this.marginRight!==""&&(d.paddingight=measureToString(this.marginRight)),this.spaceAbove!==""&&(d.paddingTop=measureToString(this.spaceAbove)),this.spaceBelow!==""&&(d.paddingBottom=measureToString(this.spaceBelow)),this.textIndent!==""&&(d.textIndent=measureToString(this.textIndent),fixTextIndent(d)),this.lineHeight>0&&(d.lineHeight=measureToString(this.lineHeight)),this.tabDefault!==""&&(d.tabSize=measureToString(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(d,this.hyphenatation[$toStyle]()),d}}class PasswordEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"passwordEdit",!0),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.passwordChar=d.passwordChar||"*",this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}}class template_Pattern extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"pattern",!0),this.id=d.id||"",this.type=getStringOption(d.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){d=d?d[$toStyle]():"#FFFFFF";const x=this.color?this.color[$toStyle]():"#000000",b=5,w="repeating-linear-gradient",S=`${d},${d} ${b}px,${x} ${b}px,${x} ${2*b}px`;switch(this.type){case"crossHatch":return`${w}(to top,${S}) ${w}(to right,${S})`;case"crossDiagonal":return`${w}(45deg,${S}) ${w}(-45deg,${S})`;case"diagonalLeft":return`${w}(45deg,${S})`;case"diagonalRight":return`${w}(-45deg,${S})`;case"horizontal":return`${w}(to top,${S})`;case"vertical":return`${w}(to right,${S})`}return""}}class Picture extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"picture"),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Proto extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"proto",!0),this.appearanceFilter=new XFAObjectArray,this.arc=new XFAObjectArray,this.area=new XFAObjectArray,this.assist=new XFAObjectArray,this.barcode=new XFAObjectArray,this.bindItems=new XFAObjectArray,this.bookend=new XFAObjectArray,this.boolean=new XFAObjectArray,this.border=new XFAObjectArray,this.break=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.button=new XFAObjectArray,this.calculate=new XFAObjectArray,this.caption=new XFAObjectArray,this.certificate=new XFAObjectArray,this.certificates=new XFAObjectArray,this.checkButton=new XFAObjectArray,this.choiceList=new XFAObjectArray,this.color=new XFAObjectArray,this.comb=new XFAObjectArray,this.connect=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.corner=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.dateTimeEdit=new XFAObjectArray,this.decimal=new XFAObjectArray,this.defaultUi=new XFAObjectArray,this.desc=new XFAObjectArray,this.digestMethod=new XFAObjectArray,this.digestMethods=new XFAObjectArray,this.draw=new XFAObjectArray,this.edge=new XFAObjectArray,this.encoding=new XFAObjectArray,this.encodings=new XFAObjectArray,this.encrypt=new XFAObjectArray,this.encryptData=new XFAObjectArray,this.encryption=new XFAObjectArray,this.encryptionMethod=new XFAObjectArray,this.encryptionMethods=new XFAObjectArray,this.event=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.execute=new XFAObjectArray,this.extras=new XFAObjectArray,this.field=new XFAObjectArray,this.fill=new XFAObjectArray,this.filter=new XFAObjectArray,this.float=new XFAObjectArray,this.font=new XFAObjectArray,this.format=new XFAObjectArray,this.handler=new XFAObjectArray,this.hyphenation=new XFAObjectArray,this.image=new XFAObjectArray,this.imageEdit=new XFAObjectArray,this.integer=new XFAObjectArray,this.issuers=new XFAObjectArray,this.items=new XFAObjectArray,this.keep=new XFAObjectArray,this.keyUsage=new XFAObjectArray,this.line=new XFAObjectArray,this.linear=new XFAObjectArray,this.lockDocument=new XFAObjectArray,this.manifest=new XFAObjectArray,this.margin=new XFAObjectArray,this.mdp=new XFAObjectArray,this.medium=new XFAObjectArray,this.message=new XFAObjectArray,this.numericEdit=new XFAObjectArray,this.occur=new XFAObjectArray,this.oid=new XFAObjectArray,this.oids=new XFAObjectArray,this.overflow=new XFAObjectArray,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray,this.para=new XFAObjectArray,this.passwordEdit=new XFAObjectArray,this.pattern=new XFAObjectArray,this.picture=new XFAObjectArray,this.radial=new XFAObjectArray,this.reason=new XFAObjectArray,this.reasons=new XFAObjectArray,this.rectangle=new XFAObjectArray,this.ref=new XFAObjectArray,this.script=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.signData=new XFAObjectArray,this.signature=new XFAObjectArray,this.signing=new XFAObjectArray,this.solid=new XFAObjectArray,this.speak=new XFAObjectArray,this.stipple=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray,this.subjectDN=new XFAObjectArray,this.subjectDNs=new XFAObjectArray,this.submit=new XFAObjectArray,this.text=new XFAObjectArray,this.textEdit=new XFAObjectArray,this.time=new XFAObjectArray,this.timeStamp=new XFAObjectArray,this.toolTip=new XFAObjectArray,this.traversal=new XFAObjectArray,this.traverse=new XFAObjectArray,this.ui=new XFAObjectArray,this.validate=new XFAObjectArray,this.value=new XFAObjectArray,this.variables=new XFAObjectArray}}class Radial extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"radial",!0),this.id=d.id||"",this.type=getStringOption(d.type,["toEdge","toCenter"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){d=d?d[$toStyle]():"#FFFFFF";const x=this.color?this.color[$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${d},${x}`:`${x},${d}`})`}}class Reason extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"reason"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Reasons extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"reasons",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.reason=new XFAObjectArray}}class Rectangle extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"rectangle",!0),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.fill=null}[$toHTML](){const d=this.edge.children.length?this.edge.children[0]:new Edge({}),x=d[$toStyle](),b=Object.create(null);this.fill?.presence==="visible"?Object.assign(b,this.fill[$toStyle]()):b.fill="transparent",b.strokeWidth=measureToString(d.presence==="visible"?d.thickness:0),b.stroke=x.color;const S=(this.corner.children.length?this.corner.children[0]:new Corner({}))[$toStyle](),F={name:"svg",children:[{name:"rect",attributes:{xmlns:SVG_NS,width:"100%",height:"100%",x:0,y:0,rx:S.radius,ry:S.radius,style:b}}],attributes:{xmlns:SVG_NS,style:{overflow:"visible"},width:"100%",height:"100%"}},E=this[$getParent]()[$getParent]();return hasMargin(E)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[F]}):(F.attributes.style.position="absolute",HTMLResult.success(F))}}class RefElement extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"ref"),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Script extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"script"),this.binding=d.binding||"",this.contentType=d.contentType||"",this.id=d.id||"",this.name=d.name||"",this.runAt=getStringOption(d.runAt,["client","both","server"]),this.use=d.use||"",this.usehref=d.usehref||""}}class SetProperty extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"setProperty"),this.connection=d.connection||"",this.ref=d.ref||"",this.target=d.target||""}}class SignData extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"signData",!0),this.id=d.id||"",this.operation=getStringOption(d.operation,["sign","clear","verify"]),this.ref=d.ref||"",this.target=d.target||"",this.use=d.use||"",this.usehref=d.usehref||"",this.filter=null,this.manifest=null}}class Signature extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"signature",!0),this.id=d.id||"",this.type=getStringOption(d.type,["PDF1.3","PDF1.6"]),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Signing extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"signing",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=new XFAObjectArray}}class Solid extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"solid",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$toStyle](d){return d?d[$toStyle]():"#FFFFFF"}}class Speak extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"speak"),this.disable=getInteger({data:d.disable,defaultValue:0,validate:x=>x===1}),this.id=d.id||"",this.priority=getStringOption(d.priority,["custom","caption","name","toolTip"]),this.rid=d.rid||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Stipple extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"stipple",!0),this.id=d.id||"",this.rate=getInteger({data:d.rate,defaultValue:50,validate:x=>x>=0&&x<=100}),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){const x=this.rate/100;return Util.makeHexColor(Math.round(d.value.r*(1-x)+this.value.r*x),Math.round(d.value.g*(1-x)+this.value.g*x),Math.round(d.value.b*(1-x)+this.value.b*x))}}class Subform extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"subform",!0),this.access=getStringOption(d.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=getInteger({data:d.allowMacro,defaultValue:0,validate:x=>x===1}),this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.columnWidths=(d.columnWidths||"").trim().split(/\s+/).map(x=>x==="-1"?-1:getMeasurement(x)),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.layout=getStringOption(d.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=d.locale||"",this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.mergeMode=getStringOption(d.mergeMode,["consumeData","matchTemplate"]),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.restoreState=getStringOption(d.restoreState,["manual","auto"]),this.scope=getStringOption(d.scope,["name","none"]),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.connect=new XFAObjectArray,this.draw=new XFAObjectArray,this.event=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.proto=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}[$getSubformParent](){const d=this[$getParent]();return d instanceof SubformSet?d[$getSubformParent]():d}[$isBindable](){return!0}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}*[$getContainedChildren](){yield*getContainedChildren(this)}[$flushHTML](){return flushHTML(this)}[$addHTML](d,x){addHTML(this,d,x)}[$getAvailableSpace](){return getAvailableSpace(this)}[$isSplittable](){const d=this[$getSubformParent]();return d[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[$extra]._isSplittable=!1,!1):d.layout?.endsWith("-tb")&&d[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$toHTML](d){if(setTabIndex(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const $=new BreakAfter({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});$[$globalData]=this[$globalData],this[$appendChild]($),this.breakAfter.push($)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const $=new BreakBefore({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});$[$globalData]=this[$globalData],this[$appendChild]($),this.breakBefore.push($)}if(this.break.overflowTarget!==""){const $=new Overflow({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});$[$globalData]=this[$globalData],this[$appendChild]($),this.overflow.push($)}this[$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&warn("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const $=this.breakBefore.children[0];if(handleBreak($))return HTMLResult.breakNode($)}if(this[$extra]?.afterBreakAfter)return HTMLResult.EMPTY;fixDimensions(this);const x=[],b={id:this[$uid],class:[]};setAccess(this,b.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:x,line:null,attributes:b,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,d.width),height:Math.min(this.h||1/0,d.height)},width:0,height:0,prevHeight:0,currentWidth:0});const w=this[$getTemplateRoot](),S=w[$extra].noLayoutFailure,C=this[$isSplittable]();if(C||setFirstUnsplittable(this),!checkDimensions(this,d))return HTMLResult.FAILURE;const F=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const $=this[$getSubformParent]().columnWidths;Array.isArray($)&&$.length>0&&(this[$extra].columnWidths=$,this[$extra].currentColumn=0)}const E=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),k=["xfaSubform"],D=layoutClass(this);if(D&&k.push(D),b.style=E,b.class=k,this.name&&(b.xfaName=this.name),this.overflow){const $=this.overflow[$getExtra]();$.addLeader&&($.addLeader=!1,handleOverflow(this,$.leader,d))}this[$pushPara]();const M=this.layout==="lr-tb"||this.layout==="rl-tb",L=M?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<L;this[$extra].attempt++){M&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const $=this[$childrenToHTML]({filter:F,include:!0});if($.success)break;if($.isBreak())return this[$popPara](),$;if(M&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!w[$extra].noLayoutFailure){this[$extra].attempt=L;break}}if(this[$popPara](),C||unsetFirstUnsplittable(this),w[$extra].noLayoutFailure=S,this[$extra].attempt===L)return this.overflow&&(this[$getTemplateRoot]()[$extra].overflowNode=this.overflow),C||delete this[$extra],HTMLResult.FAILURE;if(this.overflow){const $=this.overflow[$getExtra]();$.addTrailer&&($.addTrailer=!1,handleOverflow(this,$.trailer,d))}let R=0,U=0;this.margin&&(R=this.margin.leftInset+this.margin.rightInset,U=this.margin.topInset+this.margin.bottomInset);const j=Math.max(this[$extra].width+R,this.w||0),H=Math.max(this[$extra].height+U,this.h||0),z=[this.x,this.y,j,H];if(this.w===""&&(E.width=measureToString(j)),this.h===""&&(E.height=measureToString(H)),(E.width==="0px"||E.height==="0px")&&x.length===0)return HTMLResult.EMPTY;const V={name:"div",attributes:b,children:x};applyAssist(this,b);const G=HTMLResult.success(createWrapper(this,V),z);if(this.breakAfter.children.length>=1){const $=this.breakAfter.children[0];if(handleBreak($))return this[$extra].afterBreakAfter=G,HTMLResult.breakNode($)}return delete this[$extra],G}}class SubformSet extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"subformSet",!0),this.id=d.id||"",this.name=d.name||"",this.relation=getStringOption(d.relation,["ordered","choice","unordered"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$getSubformParent](){let d=this[$getParent]();for(;!(d instanceof Subform);)d=d[$getParent]();return d}[$isBindable](){return!0}}class SubjectDN extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"subjectDN"),this.delimiter=d.delimiter||",",this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){this[$content]=new Map(this[$content].split(this.delimiter).map(d=>(d=d.split("=",2),d[0]=d[0].trim(),d)))}}class SubjectDNs extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"subjectDNs",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.subjectDN=new XFAObjectArray}}class Submit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"submit",!0),this.embedPDF=getInteger({data:d.embedPDF,defaultValue:0,validate:x=>x===1}),this.format=getStringOption(d.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=d.id||"",this.target=d.target||"",this.textEncoding=getKeyword({data:d.textEncoding?d.textEncoding.toLowerCase():"",defaultValue:"",validate:x=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(x)||x.match(/iso-8859-\d{2}/)}),this.use=d.use||"",this.usehref=d.usehref||"",this.xdpContent=d.xdpContent||"",this.encrypt=null,this.encryptData=new XFAObjectArray,this.signData=new XFAObjectArray}}class Template extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"template",!0),this.baseProfile=getStringOption(d.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new XFAObjectArray}[$finalize](){this.subform.children.length===0&&warn("XFA - No subforms in template node."),this.subform.children.length>=2&&warn("XFA - Several subforms in template node: please file a bug."),this[$tabIndex]=DEFAULT_TAB_INDEX}[$isSplittable](){return!0}[$searchNode](d,x){return d.startsWith("#")?[this[$ids].get(d.slice(1))]:searchNode(this,x,d,!0,!0)}*[$toPages](){if(!this.subform.children.length)return HTMLResult.success({name:"div",children:[]});this[$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const d=this.subform.children[0];d.pageSet[$cleanPage]();const x=d.pageSet.pageArea.children,b={name:"div",children:[]};let w=null,S=null,C=null;if(d.breakBefore.children.length>=1?(S=d.breakBefore.children[0],C=S.target):d.subform.children.length>=1&&d.subform.children[0].breakBefore.children.length>=1?(S=d.subform.children[0].breakBefore.children[0],C=S.target):d.break?.beforeTarget?(S=d.break,C=S.beforeTarget):d.subform.children.length>=1&&d.subform.children[0].break?.beforeTarget&&(S=d.subform.children[0].break,C=S.beforeTarget),S){const U=this[$searchNode](C,S[$getParent]());U instanceof PageArea&&(w=U,S[$extra]={})}w||(w=x[0]),w[$extra]={numberOfUse:1};const F=w[$getParent]();F[$extra]={numberOfUse:1,pageIndex:F.pageArea.children.indexOf(w),pageSetIndex:0};let E,k=null,D=null,M=!0,L=0,R=0;for(;;){if(M)L=0;else if(b.children.pop(),++L===MAX_EMPTY_PAGES)return warn("XFA - Something goes wrong: please file a bug."),b;E=null,this[$extra].currentPageArea=w;const U=w[$toHTML]().html;b.children.push(U),k&&(this[$extra].noLayoutFailure=!0,U.children.push(k[$toHTML](w[$extra].space).html),k=null),D&&(this[$extra].noLayoutFailure=!0,U.children.push(D[$toHTML](w[$extra].space).html),D=null);const j=w.contentArea.children,H=U.children.filter(V=>V.attributes.class.includes("xfaContentarea"));M=!1,this[$extra].firstUnsplittable=null,this[$extra].noLayoutFailure=!1;const z=V=>{const G=d[$flushHTML]();G&&(M||=G.children?.length>0,H[V].children.push(G))};for(let V=R,G=j.length;V<G;V++){const $=this[$extra].currentContentArea=j[V],K={width:$.w,height:$.h};R=0,k&&(H[V].children.push(k[$toHTML](K).html),k=null),D&&(H[V].children.push(D[$toHTML](K).html),D=null);const Z=d[$toHTML](K);if(Z.success)return Z.html?(M||=Z.html.children?.length>0,H[V].children.push(Z.html)):!M&&b.children.length>1&&b.children.pop(),b;if(Z.isBreak()){const Q=Z.breakNode;if(z(V),Q.targetType==="auto")continue;Q.leader&&(k=this[$searchNode](Q.leader,Q[$getParent]()),k=k?k[0]:null),Q.trailer&&(D=this[$searchNode](Q.trailer,Q[$getParent]()),D=D?D[0]:null),Q.targetType==="pageArea"?(E=Q[$extra].target,V=1/0):Q[$extra].target?(E=Q[$extra].target,R=Q[$extra].index+1,V=1/0):V=Q[$extra].index;continue}if(this[$extra].overflowNode){const Q=this[$extra].overflowNode;this[$extra].overflowNode=null;const ne=Q[$getExtra](),le=ne.target;ne.addLeader=ne.leader!==null,ne.addTrailer=ne.trailer!==null,z(V);const fe=V;if(V=1/0,le instanceof PageArea)E=le;else if(le instanceof ContentArea){const be=j.indexOf(le);be!==-1?be>fe?V=be-1:R=be:(E=le[$getParent](),R=E.contentArea.children.indexOf(le))}continue}z(V)}this[$extra].pageNumber+=1,E&&(E[$isUsable]()?E[$extra].numberOfUse+=1:E=null),w=E||w[$getNextPage](),yield null}}}class Text extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"text"),this.id=d.id||"",this.maxChars=getInteger({data:d.maxChars,defaultValue:0,validate:x=>x>=0}),this.name=d.name||"",this.rid=d.rid||"",this.use=d.use||"",this.usehref=d.usehref||""}[$acceptWhitespace](){return!0}[$onChild](d){return d[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=d,!0):(warn(`XFA - Invalid content in Text: ${d[$nodeName]}.`),!1)}[$onText](d){this[$content]instanceof XFAObject||super[$onText](d)}[$finalize](){typeof this[$content]=="string"&&(this[$content]=this[$content].replaceAll(`\r
`,`
`))}[$getExtra](){return typeof this[$content]=="string"?this[$content].split(/[\u2029\u2028\n]/).reduce((d,x)=>(x&&d.push(x),d),[]).join(`
`):this[$content][$text]()}[$toHTML](d){if(typeof this[$content]=="string"){const x=valueToHtml(this[$content]).html;return this[$content].includes("\u2029")?(x.name="div",x.children=[],this[$content].split("\u2029").map(b=>b.split(/[\u2028\n]/).reduce((w,S)=>(w.push({name:"span",value:S},{name:"br"}),w),[])).forEach(b=>{x.children.push({name:"p",children:b})})):/[\u2028\n]/.test(this[$content])&&(x.name="div",x.children=[],this[$content].split(/[\u2028\n]/).forEach(b=>{x.children.push({name:"span",value:b},{name:"br"})})),HTMLResult.success(x)}return this[$content][$toHTML](d)}}class TextEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"textEdit",!0),this.allowRichText=getInteger({data:d.allowRichText,defaultValue:0,validate:x=>x===1}),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.multiLine=getInteger({data:d.multiLine,defaultValue:"",validate:x=>x===0||x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.vScrollPolicy=getStringOption(d.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","font","margin");let b;const w=this[$getParent]()[$getParent]();return this.multiLine===""&&(this.multiLine=w instanceof Draw?1:0),this.multiLine===1?b={name:"textarea",attributes:{dataId:w[$data]?.[$uid]||w[$uid],fieldId:w[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(w),"aria-required":!1}}:b={name:"input",attributes:{type:"text",dataId:w[$data]?.[$uid]||w[$uid],fieldId:w[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(w),"aria-required":!1}},isRequired(w)&&(b.attributes["aria-required"]=!0,b.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[b]})}}class Time extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"time"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=this[$content].trim();this[$content]=d?new Date(d):null}[$toHTML](d){return valueToHtml(this[$content]?this[$content].toString():"")}}class TimeStamp extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"timeStamp"),this.id=d.id||"",this.server=d.server||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class ToolTip extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"toolTip"),this.id=d.id||"",this.rid=d.rid||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Traversal extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"traversal",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.traverse=new XFAObjectArray}}class Traverse extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"traverse",!0),this.id=d.id||"",this.operation=getStringOption(d.operation,["next","back","down","first","left","right","up"]),this.ref=d.ref||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[$isTransparent](){return!1}}class Ui extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"ui",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[$getExtra](){if(this[$extra]===void 0){for(const d of Object.getOwnPropertyNames(this)){if(d==="extras"||d==="picture")continue;const x=this[d];if(x instanceof XFAObject)return this[$extra]=x,x}this[$extra]=null}return this[$extra]}[$toHTML](d){const x=this[$getExtra]();return x?x[$toHTML](d):HTMLResult.EMPTY}}class Validate extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"validate",!0),this.formatTest=getStringOption(d.formatTest,["warning","disabled","error"]),this.id=d.id||"",this.nullTest=getStringOption(d.nullTest,["disabled","error","warning"]),this.scriptTest=getStringOption(d.scriptTest,["error","disabled","warning"]),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Value extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"value",!0),this.id=d.id||"",this.override=getInteger({data:d.override,defaultValue:0,validate:x=>x===1}),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[$setValue](d){const x=this[$getParent]();if(x instanceof Field&&x.ui?.imageEdit){this.image||(this.image=new Image$1({}),this[$appendChild](this.image)),this.image[$content]=d[$content];return}const b=d[$nodeName];if(this[b]!==null){this[b][$content]=d[$content];return}for(const w of Object.getOwnPropertyNames(this)){const S=this[w];S instanceof XFAObject&&(this[w]=null,this[$removeChild](S))}this[d[$nodeName]]=d,this[$appendChild](d)}[$text](){if(this.exData)return typeof this.exData[$content]=="string"?this.exData[$content].trim():this.exData[$content][$text]().trim();for(const d of Object.getOwnPropertyNames(this)){if(d==="image")continue;const x=this[d];if(x instanceof XFAObject)return(x[$content]||"").toString().trim()}return null}[$toHTML](d){for(const x of Object.getOwnPropertyNames(this)){const b=this[x];if(b instanceof XFAObject)return b[$toHTML](d)}return HTMLResult.EMPTY}}class Variables extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"variables",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.manifest=new XFAObjectArray,this.script=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$isTransparent](){return!0}}class TemplateNamespace{static[$buildXFAObject](d,x){if(TemplateNamespace.hasOwnProperty(d)){const b=TemplateNamespace[d](x);return b[$setSetAttributes](x),b}}static appearanceFilter(d){return new AppearanceFilter(d)}static arc(d){return new Arc(d)}static area(d){return new Area(d)}static assist(d){return new Assist(d)}static barcode(d){return new Barcode(d)}static bind(d){return new Bind(d)}static bindItems(d){return new BindItems(d)}static bookend(d){return new Bookend(d)}static boolean(d){return new BooleanElement(d)}static border(d){return new Border$1(d)}static break(d){return new Break(d)}static breakAfter(d){return new BreakAfter(d)}static breakBefore(d){return new BreakBefore(d)}static button(d){return new Button(d)}static calculate(d){return new Calculate(d)}static caption(d){return new Caption(d)}static certificate(d){return new Certificate(d)}static certificates(d){return new Certificates(d)}static checkButton(d){return new CheckButton(d)}static choiceList(d){return new ChoiceList(d)}static color(d){return new Color(d)}static comb(d){return new Comb(d)}static connect(d){return new Connect(d)}static contentArea(d){return new ContentArea(d)}static corner(d){return new Corner(d)}static date(d){return new DateElement(d)}static dateTime(d){return new DateTime(d)}static dateTimeEdit(d){return new DateTimeEdit(d)}static decimal(d){return new Decimal(d)}static defaultUi(d){return new DefaultUi(d)}static desc(d){return new Desc(d)}static digestMethod(d){return new DigestMethod(d)}static digestMethods(d){return new DigestMethods(d)}static draw(d){return new Draw(d)}static edge(d){return new Edge(d)}static encoding(d){return new Encoding$1(d)}static encodings(d){return new Encodings$1(d)}static encrypt(d){return new Encrypt(d)}static encryptData(d){return new EncryptData(d)}static encryption(d){return new Encryption(d)}static encryptionMethod(d){return new EncryptionMethod(d)}static encryptionMethods(d){return new EncryptionMethods(d)}static event(d){return new Event$1(d)}static exData(d){return new ExData(d)}static exObject(d){return new ExObject(d)}static exclGroup(d){return new ExclGroup(d)}static execute(d){return new Execute(d)}static extras(d){return new Extras(d)}static field(d){return new Field(d)}static fill(d){return new Fill(d)}static filter(d){return new Filter(d)}static float(d){return new Float(d)}static font(d){return new template_Font(d)}static format(d){return new Format(d)}static handler(d){return new Handler(d)}static hyphenation(d){return new Hyphenation(d)}static image(d){return new Image$1(d)}static imageEdit(d){return new ImageEdit(d)}static integer(d){return new Integer(d)}static issuers(d){return new Issuers(d)}static items(d){return new Items(d)}static keep(d){return new Keep(d)}static keyUsage(d){return new KeyUsage(d)}static line(d){return new Line(d)}static linear(d){return new Linear(d)}static lockDocument(d){return new LockDocument(d)}static manifest(d){return new Manifest(d)}static margin(d){return new Margin(d)}static mdp(d){return new Mdp(d)}static medium(d){return new Medium(d)}static message(d){return new Message(d)}static numericEdit(d){return new NumericEdit(d)}static occur(d){return new Occur(d)}static oid(d){return new Oid(d)}static oids(d){return new Oids(d)}static overflow(d){return new Overflow(d)}static pageArea(d){return new PageArea(d)}static pageSet(d){return new PageSet(d)}static para(d){return new Para(d)}static passwordEdit(d){return new PasswordEdit(d)}static pattern(d){return new template_Pattern(d)}static picture(d){return new Picture(d)}static proto(d){return new Proto(d)}static radial(d){return new Radial(d)}static reason(d){return new Reason(d)}static reasons(d){return new Reasons(d)}static rectangle(d){return new Rectangle(d)}static ref(d){return new RefElement(d)}static script(d){return new Script(d)}static setProperty(d){return new SetProperty(d)}static signData(d){return new SignData(d)}static signature(d){return new Signature(d)}static signing(d){return new Signing(d)}static solid(d){return new Solid(d)}static speak(d){return new Speak(d)}static stipple(d){return new Stipple(d)}static subform(d){return new Subform(d)}static subformSet(d){return new SubformSet(d)}static subjectDN(d){return new SubjectDN(d)}static subjectDNs(d){return new SubjectDNs(d)}static submit(d){return new Submit(d)}static template(d){return new Template(d)}static text(d){return new Text(d)}static textEdit(d){return new TextEdit(d)}static time(d){return new Time(d)}static timeStamp(d){return new TimeStamp(d)}static toolTip(d){return new ToolTip(d)}static traversal(d){return new Traversal(d)}static traverse(d){return new Traverse(d)}static ui(d){return new Ui(d)}static validate(d){return new Validate(d)}static value(d){return new Value(d)}static variables(d){return new Variables(d)}}const bind_NS_DATASETS=NamespaceIds.datasets.id;function createText(g){const d=new Text({});return d[$content]=g,d}class Binder{constructor(d){this.root=d,this.datasets=d.datasets,this.data=d.datasets?.data||new XmlObject(NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[$getChildren]().length===0,this.root.form=this.form=d.template[$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(d,x,b){if(d[$data]=x,d[$hasSettableValue]())if(x[$isDataValue]()){const w=x[$getDataValue]();d[$setValue](createText(w))}else if(d instanceof Field&&d.ui?.choiceList?.open==="multiSelect"){const w=x[$getChildren]().map(S=>S[$content].trim()).join(`
`);d[$setValue](createText(w))}else this._isConsumeData()&&warn("XFA - Nodes haven't the same type.");else!x[$isDataValue]()||this._isMatchTemplate()?this._bindElement(d,x):warn("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(d,x,b,w){if(!d)return null;let S,C;for(let F=0;F<3;F++){for(S=b[$getRealChildrenByNameIt](d,!1,!0);C=S.next().value,!!C;)if(x===C[$isDataValue]())return C;if(b[$namespaceId]===NamespaceIds.datasets.id&&b[$nodeName]==="data")break;b=b[$getParent]()}return w?(S=this.data[$getRealChildrenByNameIt](d,!0,!1),C=S.next().value,C||(S=this.data[$getAttributeIt](d,!0),C=S.next().value,C?.[$isDataValue]())?C:null):null}_setProperties(d,x){if(d.hasOwnProperty("setProperty"))for(const{ref:b,target:w,connection:S}of d.setProperty.children){if(S||!b)continue;const C=searchNode(this.root,x,b,!1,!1);if(!C){warn(`XFA - Invalid reference: ${b}.`);continue}const[F]=C;if(!F[$isDescendent](this.data)){warn("XFA - Invalid node: must be a data node.");continue}const E=searchNode(this.root,d,w,!1,!1);if(!E){warn(`XFA - Invalid target: ${w}.`);continue}const[k]=E;if(!k[$isDescendent](d)){warn("XFA - Invalid target: must be a property or subproperty.");continue}const D=k[$getParent]();if(k instanceof SetProperty||D instanceof SetProperty){warn("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(k instanceof BindItems||D instanceof BindItems){warn("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const M=F[$text](),L=k[$nodeName];if(k instanceof XFAAttribute){const R=Object.create(null);R[L]=M;const U=Reflect.construct(Object.getPrototypeOf(D).constructor,[R]);D[L]=U[L];continue}if(!k.hasOwnProperty($content)){warn("XFA - Invalid node to use in setProperty");continue}k[$data]=F,k[$content]=M,k[$finalize]()}}_bindItems(d,x){if(!d.hasOwnProperty("items")||!d.hasOwnProperty("bindItems")||d.bindItems.isEmpty())return;for(const S of d.items.children)d[$removeChild](S);d.items.clear();const b=new Items({}),w=new Items({});d[$appendChild](b),d.items.push(b),d[$appendChild](w),d.items.push(w);for(const{ref:S,labelRef:C,valueRef:F,connection:E}of d.bindItems.children){if(E||!S)continue;const k=searchNode(this.root,x,S,!1,!1);if(!k){warn(`XFA - Invalid reference: ${S}.`);continue}for(const D of k){if(!D[$isDescendent](this.datasets)){warn(`XFA - Invalid ref (${S}): must be a datasets child.`);continue}const M=searchNode(this.root,D,C,!0,!1);if(!M){warn(`XFA - Invalid label: ${C}.`);continue}const[L]=M;if(!L[$isDescendent](this.datasets)){warn("XFA - Invalid label: must be a datasets child.");continue}const R=searchNode(this.root,D,F,!0,!1);if(!R){warn(`XFA - Invalid value: ${F}.`);continue}const[U]=R;if(!U[$isDescendent](this.datasets)){warn("XFA - Invalid value: must be a datasets child.");continue}const j=createText(L[$text]()),H=createText(U[$text]());b[$appendChild](j),b.text.push(j),w[$appendChild](H),w.text.push(H)}}}_bindOccurrences(d,x,b){let w;if(x.length>1&&(w=d[$clone](),w[$removeChild](w.occur),w.occur=null),this._bindValue(d,x[0],b),this._setProperties(d,x[0]),this._bindItems(d,x[0]),x.length===1)return;const S=d[$getParent](),C=d[$nodeName],F=S[$indexOf](d);for(let E=1,k=x.length;E<k;E++){const D=x[E],M=w[$clone]();S[C].push(M),S[$insertAt](F+E,M),this._bindValue(M,D,b),this._setProperties(M,D),this._bindItems(M,D)}}_createOccurrences(d){if(!this.emptyMerge)return;const{occur:x}=d;if(!x||x.initial<=1)return;const b=d[$getParent](),w=d[$nodeName];if(!(b[w]instanceof XFAObjectArray))return;let S;d.name?S=b[w].children.filter(E=>E.name===d.name).length:S=b[w].children.length;const C=b[$indexOf](d)+1,F=x.initial-S;if(F){const E=d[$clone]();E[$removeChild](E.occur),E.occur=null,b[w].push(E),b[$insertAt](C,E);for(let k=1;k<F;k++){const D=E[$clone]();b[w].push(D),b[$insertAt](C+k,D)}}}_getOccurInfo(d){const{name:x,occur:b}=d;if(!b||!x)return[1,1];const w=b.max===-1?1/0:b.max;return[b.min,w]}_setAndBind(d,x){this._setProperties(d,x),this._bindItems(d,x),this._bindElement(d,x)}_bindElement(d,x){const b=[];this._createOccurrences(d);for(const w of d[$getChildren]()){if(w[$data])continue;if(this._mergeMode===void 0&&w[$nodeName]==="subform"){this._mergeMode=w.mergeMode==="consumeData";const M=x[$getChildren]();if(M.length>0)this._bindOccurrences(w,[M[0]],null);else if(this.emptyMerge){const L=x[$namespaceId]===bind_NS_DATASETS?-1:x[$namespaceId],R=w[$data]=new XmlObject(L,w.name||"root");x[$appendChild](R),this._bindElement(w,R)}continue}if(!w[$isBindable]())continue;let S=!1,C=null,F=null,E=null;if(w.bind){switch(w.bind.match){case"none":this._setAndBind(w,x);continue;case"global":S=!0;break;case"dataRef":if(!w.bind.ref){warn(`XFA - ref is empty in node ${w[$nodeName]}.`),this._setAndBind(w,x);continue}F=w.bind.ref;break}w.bind.picture&&(C=w.bind.picture[$content])}const[k,D]=this._getOccurInfo(w);if(F)if(E=searchNode(this.root,x,F,!0,!1),E===null){if(E=createDataNode(this.data,x,F),!E)continue;this._isConsumeData()&&(E[$consumed]=!0),this._setAndBind(w,E);continue}else this._isConsumeData()&&(E=E.filter(M=>!M[$consumed])),E.length>D?E=E.slice(0,D):E.length===0&&(E=null),E&&this._isConsumeData()&&E.forEach(M=>{M[$consumed]=!0});else{if(!w.name){this._setAndBind(w,x);continue}if(this._isConsumeData()){const M=[];for(;M.length<D;){const L=this._findDataByNameToConsume(w.name,w[$hasSettableValue](),x,S);if(!L)break;L[$consumed]=!0,M.push(L)}E=M.length>0?M:null}else{if(E=x[$getRealChildrenByNameIt](w.name,!1,this.emptyMerge).next().value,!E){if(k===0){b.push(w);continue}const M=x[$namespaceId]===bind_NS_DATASETS?-1:x[$namespaceId];E=w[$data]=new XmlObject(M,w.name),this.emptyMerge&&(E[$consumed]=!0),x[$appendChild](E),this._setAndBind(w,E);continue}this.emptyMerge&&(E[$consumed]=!0),E=[E]}}E?this._bindOccurrences(w,E,C):k>0?this._setAndBind(w,x):b.push(w)}b.forEach(w=>w[$getParent]()[$removeChild](w))}}class DataHandler{constructor(d,x){this.data=x,this.dataset=d.datasets||null}serialize(d){const x=[[-1,this.data[$getChildren]()]];for(;x.length>0;){const w=x.at(-1),[S,C]=w;if(S+1===C.length){x.pop();continue}const F=C[++w[0]],E=d.get(F[$uid]);if(E)F[$setValue](E);else{const D=F[$getAttributes]();for(const M of D.values()){const L=d.get(M[$uid]);if(L){M[$setValue](L);break}}}const k=F[$getChildren]();k.length>0&&x.push([-1,k])}const b=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const w of this.dataset[$getChildren]())w[$nodeName]!=="data"&&w[$toString](b);return this.data[$toString](b),b.push("</xfa:datasets>"),b.join("")}}const CONFIG_NS_ID=NamespaceIds.config.id;class Acrobat extends XFAObject{constructor(d){super(CONFIG_NS_ID,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new XFAObjectArray}}class Acrobat7 extends XFAObject{constructor(d){super(CONFIG_NS_ID,"acrobat7",!0),this.dynamicRender=null}}class ADBE_JSConsole extends OptionObject{constructor(d){super(CONFIG_NS_ID,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class ADBE_JSDebugger extends OptionObject{constructor(d){super(CONFIG_NS_ID,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class AddSilentPrint extends Option01{constructor(d){super(CONFIG_NS_ID,"addSilentPrint")}}class AddViewerPreferences extends Option01{constructor(d){super(CONFIG_NS_ID,"addViewerPreferences")}}class AdjustData extends Option10{constructor(d){super(CONFIG_NS_ID,"adjustData")}}class AdobeExtensionLevel extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"adobeExtensionLevel",0,x=>x>=1&&x<=8)}}class Agent extends XFAObject{constructor(d){super(CONFIG_NS_ID,"agent",!0),this.name=d.name?d.name.trim():"",this.common=new XFAObjectArray}}class AlwaysEmbed extends ContentObject{constructor(d){super(CONFIG_NS_ID,"alwaysEmbed")}}class Amd extends StringObject{constructor(d){super(CONFIG_NS_ID,"amd")}}class config_Area extends XFAObject{constructor(d){super(CONFIG_NS_ID,"area"),this.level=getInteger({data:d.level,defaultValue:0,validate:x=>x>=1&&x<=3}),this.name=getStringOption(d.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Attributes extends OptionObject{constructor(d){super(CONFIG_NS_ID,"attributes",["preserve","delegate","ignore"])}}class AutoSave extends OptionObject{constructor(d){super(CONFIG_NS_ID,"autoSave",["disabled","enabled"])}}class Base extends StringObject{constructor(d){super(CONFIG_NS_ID,"base")}}class BatchOutput extends XFAObject{constructor(d){super(CONFIG_NS_ID,"batchOutput"),this.format=getStringOption(d.format,["none","concat","zip","zipCompress"])}}class BehaviorOverride extends ContentObject{constructor(d){super(CONFIG_NS_ID,"behaviorOverride")}[$finalize](){this[$content]=new Map(this[$content].trim().split(/\s+/).filter(d=>d.includes(":")).map(d=>d.split(":",2)))}}let Cache$1=class extends XFAObject{constructor(d){super(CONFIG_NS_ID,"cache",!0),this.templateCache=null}};class Change extends Option01{constructor(d){super(CONFIG_NS_ID,"change")}}class Common extends XFAObject{constructor(d){super(CONFIG_NS_ID,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new XFAObjectArray}}class Compress extends XFAObject{constructor(d){super(CONFIG_NS_ID,"compress"),this.scope=getStringOption(d.scope,["imageOnly","document"])}}class CompressLogicalStructure extends Option01{constructor(d){super(CONFIG_NS_ID,"compressLogicalStructure")}}class CompressObjectStream extends Option10{constructor(d){super(CONFIG_NS_ID,"compressObjectStream")}}class Compression extends XFAObject{constructor(d){super(CONFIG_NS_ID,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}let Config$1=class extends XFAObject{constructor(d){super(CONFIG_NS_ID,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new XFAObjectArray}};class Conformance extends OptionObject{constructor(d){super(CONFIG_NS_ID,"conformance",["A","B"])}}class ContentCopy extends Option01{constructor(d){super(CONFIG_NS_ID,"contentCopy")}}class Copies extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"copies",1,x=>x>=1)}}class Creator extends StringObject{constructor(d){super(CONFIG_NS_ID,"creator")}}class CurrentPage extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"currentPage",0,x=>x>=0)}}class Data extends XFAObject{constructor(d){super(CONFIG_NS_ID,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new XFAObjectArray,this.transform=new XFAObjectArray}}class Debug extends XFAObject{constructor(d){super(CONFIG_NS_ID,"debug",!0),this.uri=null}}class DefaultTypeface extends ContentObject{constructor(d){super(CONFIG_NS_ID,"defaultTypeface"),this.writingScript=getStringOption(d.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Destination extends OptionObject{constructor(d){super(CONFIG_NS_ID,"destination",["pdf","pcl","ps","webClient","zpl"])}}class DocumentAssembly extends Option01{constructor(d){super(CONFIG_NS_ID,"documentAssembly")}}class Driver extends XFAObject{constructor(d){super(CONFIG_NS_ID,"driver",!0),this.name=d.name?d.name.trim():"",this.fontInfo=null,this.xdc=null}}class DuplexOption extends OptionObject{constructor(d){super(CONFIG_NS_ID,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class DynamicRender extends OptionObject{constructor(d){super(CONFIG_NS_ID,"dynamicRender",["forbidden","required"])}}class Embed extends Option01{constructor(d){super(CONFIG_NS_ID,"embed")}}class config_Encrypt extends Option01{constructor(d){super(CONFIG_NS_ID,"encrypt")}}class config_Encryption extends XFAObject{constructor(d){super(CONFIG_NS_ID,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class EncryptionLevel extends OptionObject{constructor(d){super(CONFIG_NS_ID,"encryptionLevel",["40bit","128bit"])}}class Enforce extends StringObject{constructor(d){super(CONFIG_NS_ID,"enforce")}}class Equate extends XFAObject{constructor(d){super(CONFIG_NS_ID,"equate"),this.force=getInteger({data:d.force,defaultValue:1,validate:x=>x===0}),this.from=d.from||"",this.to=d.to||""}}class EquateRange extends XFAObject{constructor(d){super(CONFIG_NS_ID,"equateRange"),this.from=d.from||"",this.to=d.to||"",this._unicodeRange=d.unicodeRange||""}get unicodeRange(){const d=[],x=/U\+([0-9a-fA-F]+)/,b=this._unicodeRange;for(let w of b.split(",").map(S=>S.trim()).filter(S=>!!S))w=w.split("-",2).map(S=>{const C=S.match(x);return C?parseInt(C[1],16):0}),w.length===1&&w.push(w[0]),d.push(w);return shadow(this,"unicodeRange",d)}}class Exclude extends ContentObject{constructor(d){super(CONFIG_NS_ID,"exclude")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(d=>d&&["calculate","close","enter","exit","initialize","ready","validate"].includes(d))}}class ExcludeNS extends StringObject{constructor(d){super(CONFIG_NS_ID,"excludeNS")}}class FlipLabel extends OptionObject{constructor(d){super(CONFIG_NS_ID,"flipLabel",["usePrinterSetting","on","off"])}}class config_FontInfo extends XFAObject{constructor(d){super(CONFIG_NS_ID,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new XFAObjectArray,this.defaultTypeface=new XFAObjectArray,this.neverEmbed=new XFAObjectArray}}class FormFieldFilling extends Option01{constructor(d){super(CONFIG_NS_ID,"formFieldFilling")}}class GroupParent extends StringObject{constructor(d){super(CONFIG_NS_ID,"groupParent")}}class IfEmpty extends OptionObject{constructor(d){super(CONFIG_NS_ID,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class IncludeXDPContent extends StringObject{constructor(d){super(CONFIG_NS_ID,"includeXDPContent")}}class IncrementalLoad extends OptionObject{constructor(d){super(CONFIG_NS_ID,"incrementalLoad",["none","forwardOnly"])}}class IncrementalMerge extends Option01{constructor(d){super(CONFIG_NS_ID,"incrementalMerge")}}class Interactive extends Option01{constructor(d){super(CONFIG_NS_ID,"interactive")}}class Jog extends OptionObject{constructor(d){super(CONFIG_NS_ID,"jog",["usePrinterSetting","none","pageSet"])}}class LabelPrinter extends XFAObject{constructor(d){super(CONFIG_NS_ID,"labelPrinter",!0),this.name=getStringOption(d.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Layout extends OptionObject{constructor(d){super(CONFIG_NS_ID,"layout",["paginate","panel"])}}class Level extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"level",0,x=>x>0)}}class Linearized extends Option01{constructor(d){super(CONFIG_NS_ID,"linearized")}}class Locale extends StringObject{constructor(d){super(CONFIG_NS_ID,"locale")}}class LocaleSet extends StringObject{constructor(d){super(CONFIG_NS_ID,"localeSet")}}class Log extends XFAObject{constructor(d){super(CONFIG_NS_ID,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class MapElement extends XFAObject{constructor(d){super(CONFIG_NS_ID,"map",!0),this.equate=new XFAObjectArray,this.equateRange=new XFAObjectArray}}class MediumInfo extends XFAObject{constructor(d){super(CONFIG_NS_ID,"mediumInfo",!0),this.map=null}}class config_Message extends XFAObject{constructor(d){super(CONFIG_NS_ID,"message",!0),this.msgId=null,this.severity=null}}class Messaging extends XFAObject{constructor(d){super(CONFIG_NS_ID,"messaging",!0),this.message=new XFAObjectArray}}class Mode extends OptionObject{constructor(d){super(CONFIG_NS_ID,"mode",["append","overwrite"])}}class ModifyAnnots extends Option01{constructor(d){super(CONFIG_NS_ID,"modifyAnnots")}}class MsgId extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"msgId",1,x=>x>=1)}}class NameAttr extends StringObject{constructor(d){super(CONFIG_NS_ID,"nameAttr")}}class NeverEmbed extends ContentObject{constructor(d){super(CONFIG_NS_ID,"neverEmbed")}}class NumberOfCopies extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"numberOfCopies",null,x=>x>=2&&x<=5)}}class OpenAction extends XFAObject{constructor(d){super(CONFIG_NS_ID,"openAction",!0),this.destination=null}}class Output extends XFAObject{constructor(d){super(CONFIG_NS_ID,"output",!0),this.to=null,this.type=null,this.uri=null}}class OutputBin extends StringObject{constructor(d){super(CONFIG_NS_ID,"outputBin")}}class OutputXSL extends XFAObject{constructor(d){super(CONFIG_NS_ID,"outputXSL",!0),this.uri=null}}class Overprint extends OptionObject{constructor(d){super(CONFIG_NS_ID,"overprint",["none","both","draw","field"])}}class Packets extends StringObject{constructor(d){super(CONFIG_NS_ID,"packets")}[$finalize](){this[$content]!=="*"&&(this[$content]=this[$content].trim().split(/\s+/).filter(d=>["config","datasets","template","xfdf","xslt"].includes(d)))}}class PageOffset extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pageOffset"),this.x=getInteger({data:d.x,defaultValue:"useXDCSetting",validate:x=>!0}),this.y=getInteger({data:d.y,defaultValue:"useXDCSetting",validate:x=>!0})}}class PageRange extends StringObject{constructor(d){super(CONFIG_NS_ID,"pageRange")}[$finalize](){const d=this[$content].trim().split(/\s+/).map(b=>parseInt(b,10)),x=[];for(let b=0,w=d.length;b<w;b+=2)x.push(d.slice(b,b+2));this[$content]=x}}class Pagination extends OptionObject{constructor(d){super(CONFIG_NS_ID,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class PaginationOverride extends OptionObject{constructor(d){super(CONFIG_NS_ID,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Part extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"part",1,x=>!1)}}class Pcl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pcl",!0),this.name=d.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Pdf extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pdf",!0),this.name=d.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Pdfa extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Permissions extends XFAObject{constructor(d){super(CONFIG_NS_ID,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class PickTrayByPDFSize extends Option01{constructor(d){super(CONFIG_NS_ID,"pickTrayByPDFSize")}}class config_Picture extends StringObject{constructor(d){super(CONFIG_NS_ID,"picture")}}class PlaintextMetadata extends Option01{constructor(d){super(CONFIG_NS_ID,"plaintextMetadata")}}class Presence extends OptionObject{constructor(d){super(CONFIG_NS_ID,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Present extends XFAObject{constructor(d){super(CONFIG_NS_ID,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new XFAObjectArray,this.labelPrinter=new XFAObjectArray,this.pcl=new XFAObjectArray,this.pdf=new XFAObjectArray,this.ps=new XFAObjectArray,this.submitUrl=new XFAObjectArray,this.webClient=new XFAObjectArray,this.zpl=new XFAObjectArray}}class Print extends Option01{constructor(d){super(CONFIG_NS_ID,"print")}}class PrintHighQuality extends Option01{constructor(d){super(CONFIG_NS_ID,"printHighQuality")}}let PrintScaling$1=class extends OptionObject{constructor(d){super(CONFIG_NS_ID,"printScaling",["appdefault","noScaling"])}};class PrinterName extends StringObject{constructor(d){super(CONFIG_NS_ID,"printerName")}}class Producer extends StringObject{constructor(d){super(CONFIG_NS_ID,"producer")}}class Ps extends XFAObject{constructor(d){super(CONFIG_NS_ID,"ps",!0),this.name=d.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Range extends ContentObject{constructor(d){super(CONFIG_NS_ID,"range")}[$finalize](){this[$content]=this[$content].trim().split(/\s*,\s*/,2).map(d=>d.split("-").map(x=>parseInt(x.trim(),10))).filter(d=>d.every(x=>!isNaN(x))).map(d=>(d.length===1&&d.push(d[0]),d))}}class Record extends ContentObject{constructor(d){super(CONFIG_NS_ID,"record")}[$finalize](){this[$content]=this[$content].trim();const d=parseInt(this[$content],10);!isNaN(d)&&d>=0&&(this[$content]=d)}}class Relevant extends ContentObject{constructor(d){super(CONFIG_NS_ID,"relevant")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/)}}class Rename extends ContentObject{constructor(d){super(CONFIG_NS_ID,"rename")}[$finalize](){this[$content]=this[$content].trim(),(this[$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[$content]))&&warn("XFA - Rename: invalid XFA name")}}class RenderPolicy extends OptionObject{constructor(d){super(CONFIG_NS_ID,"renderPolicy",["server","client"])}}class RunScripts extends OptionObject{constructor(d){super(CONFIG_NS_ID,"runScripts",["both","client","none","server"])}}class config_Script extends XFAObject{constructor(d){super(CONFIG_NS_ID,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ScriptModel extends OptionObject{constructor(d){super(CONFIG_NS_ID,"scriptModel",["XFA","none"])}}class Severity extends OptionObject{constructor(d){super(CONFIG_NS_ID,"severity",["ignore","error","information","trace","warning"])}}class SilentPrint extends XFAObject{constructor(d){super(CONFIG_NS_ID,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Staple extends XFAObject{constructor(d){super(CONFIG_NS_ID,"staple"),this.mode=getStringOption(d.mode,["usePrinterSetting","on","off"])}}class StartNode extends StringObject{constructor(d){super(CONFIG_NS_ID,"startNode")}}class StartPage extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"startPage",0,x=>!0)}}class SubmitFormat extends OptionObject{constructor(d){super(CONFIG_NS_ID,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class SubmitUrl extends StringObject{constructor(d){super(CONFIG_NS_ID,"submitUrl")}}class SubsetBelow extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"subsetBelow",100,x=>x>=0&&x<=100)}}class SuppressBanner extends Option01{constructor(d){super(CONFIG_NS_ID,"suppressBanner")}}class Tagged extends Option01{constructor(d){super(CONFIG_NS_ID,"tagged")}}class config_Template extends XFAObject{constructor(d){super(CONFIG_NS_ID,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Threshold extends OptionObject{constructor(d){super(CONFIG_NS_ID,"threshold",["trace","error","information","warning"])}}class To extends OptionObject{constructor(d){super(CONFIG_NS_ID,"to",["null","memory","stderr","stdout","system","uri"])}}class TemplateCache extends XFAObject{constructor(d){super(CONFIG_NS_ID,"templateCache"),this.maxEntries=getInteger({data:d.maxEntries,defaultValue:5,validate:x=>x>=0})}}class Trace extends XFAObject{constructor(d){super(CONFIG_NS_ID,"trace",!0),this.area=new XFAObjectArray}}class config_Transform extends XFAObject{constructor(d){super(CONFIG_NS_ID,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Type extends OptionObject{constructor(d){super(CONFIG_NS_ID,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Uri extends StringObject{constructor(d){super(CONFIG_NS_ID,"uri")}}class config_Validate extends OptionObject{constructor(d){super(CONFIG_NS_ID,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ValidateApprovalSignatures extends ContentObject{constructor(d){super(CONFIG_NS_ID,"validateApprovalSignatures")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(d=>["docReady","postSign"].includes(d))}}class ValidationMessaging extends OptionObject{constructor(d){super(CONFIG_NS_ID,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Version extends OptionObject{constructor(d){super(CONFIG_NS_ID,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class VersionControl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"VersionControl"),this.outputBelow=getStringOption(d.outputBelow,["warn","error","update"]),this.sourceAbove=getStringOption(d.sourceAbove,["warn","error"]),this.sourceBelow=getStringOption(d.sourceBelow,["update","maintain"])}}let ViewerPreferences$1=class extends XFAObject{constructor(d){super(CONFIG_NS_ID,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}};class WebClient extends XFAObject{constructor(d){super(CONFIG_NS_ID,"webClient",!0),this.name=d.name?d.name.trim():"",this.fontInfo=null,this.xdc=null}}class Whitespace extends OptionObject{constructor(d){super(CONFIG_NS_ID,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Window extends ContentObject{constructor(d){super(CONFIG_NS_ID,"window")}[$finalize](){const d=this[$content].trim().split(/\s*,\s*/,2).map(x=>parseInt(x,10));if(d.some(x=>isNaN(x))){this[$content]=[0,0];return}d.length===1&&d.push(d[0]),this[$content]=d}}class Xdc extends XFAObject{constructor(d){super(CONFIG_NS_ID,"xdc",!0),this.uri=new XFAObjectArray,this.xsl=new XFAObjectArray}}class Xdp extends XFAObject{constructor(d){super(CONFIG_NS_ID,"xdp",!0),this.packets=null}}class Xsl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"xsl",!0),this.debug=null,this.uri=null}}class Zpl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"zpl",!0),this.name=d.name?d.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ConfigNamespace{static[$buildXFAObject](d,x){if(ConfigNamespace.hasOwnProperty(d))return ConfigNamespace[d](x)}static acrobat(d){return new Acrobat(d)}static acrobat7(d){return new Acrobat7(d)}static ADBE_JSConsole(d){return new ADBE_JSConsole(d)}static ADBE_JSDebugger(d){return new ADBE_JSDebugger(d)}static addSilentPrint(d){return new AddSilentPrint(d)}static addViewerPreferences(d){return new AddViewerPreferences(d)}static adjustData(d){return new AdjustData(d)}static adobeExtensionLevel(d){return new AdobeExtensionLevel(d)}static agent(d){return new Agent(d)}static alwaysEmbed(d){return new AlwaysEmbed(d)}static amd(d){return new Amd(d)}static area(d){return new config_Area(d)}static attributes(d){return new Attributes(d)}static autoSave(d){return new AutoSave(d)}static base(d){return new Base(d)}static batchOutput(d){return new BatchOutput(d)}static behaviorOverride(d){return new BehaviorOverride(d)}static cache(d){return new Cache$1(d)}static change(d){return new Change(d)}static common(d){return new Common(d)}static compress(d){return new Compress(d)}static compressLogicalStructure(d){return new CompressLogicalStructure(d)}static compressObjectStream(d){return new CompressObjectStream(d)}static compression(d){return new Compression(d)}static config(d){return new Config$1(d)}static conformance(d){return new Conformance(d)}static contentCopy(d){return new ContentCopy(d)}static copies(d){return new Copies(d)}static creator(d){return new Creator(d)}static currentPage(d){return new CurrentPage(d)}static data(d){return new Data(d)}static debug(d){return new Debug(d)}static defaultTypeface(d){return new DefaultTypeface(d)}static destination(d){return new Destination(d)}static documentAssembly(d){return new DocumentAssembly(d)}static driver(d){return new Driver(d)}static duplexOption(d){return new DuplexOption(d)}static dynamicRender(d){return new DynamicRender(d)}static embed(d){return new Embed(d)}static encrypt(d){return new config_Encrypt(d)}static encryption(d){return new config_Encryption(d)}static encryptionLevel(d){return new EncryptionLevel(d)}static enforce(d){return new Enforce(d)}static equate(d){return new Equate(d)}static equateRange(d){return new EquateRange(d)}static exclude(d){return new Exclude(d)}static excludeNS(d){return new ExcludeNS(d)}static flipLabel(d){return new FlipLabel(d)}static fontInfo(d){return new config_FontInfo(d)}static formFieldFilling(d){return new FormFieldFilling(d)}static groupParent(d){return new GroupParent(d)}static ifEmpty(d){return new IfEmpty(d)}static includeXDPContent(d){return new IncludeXDPContent(d)}static incrementalLoad(d){return new IncrementalLoad(d)}static incrementalMerge(d){return new IncrementalMerge(d)}static interactive(d){return new Interactive(d)}static jog(d){return new Jog(d)}static labelPrinter(d){return new LabelPrinter(d)}static layout(d){return new Layout(d)}static level(d){return new Level(d)}static linearized(d){return new Linearized(d)}static locale(d){return new Locale(d)}static localeSet(d){return new LocaleSet(d)}static log(d){return new Log(d)}static map(d){return new MapElement(d)}static mediumInfo(d){return new MediumInfo(d)}static message(d){return new config_Message(d)}static messaging(d){return new Messaging(d)}static mode(d){return new Mode(d)}static modifyAnnots(d){return new ModifyAnnots(d)}static msgId(d){return new MsgId(d)}static nameAttr(d){return new NameAttr(d)}static neverEmbed(d){return new NeverEmbed(d)}static numberOfCopies(d){return new NumberOfCopies(d)}static openAction(d){return new OpenAction(d)}static output(d){return new Output(d)}static outputBin(d){return new OutputBin(d)}static outputXSL(d){return new OutputXSL(d)}static overprint(d){return new Overprint(d)}static packets(d){return new Packets(d)}static pageOffset(d){return new PageOffset(d)}static pageRange(d){return new PageRange(d)}static pagination(d){return new Pagination(d)}static paginationOverride(d){return new PaginationOverride(d)}static part(d){return new Part(d)}static pcl(d){return new Pcl(d)}static pdf(d){return new Pdf(d)}static pdfa(d){return new Pdfa(d)}static permissions(d){return new Permissions(d)}static pickTrayByPDFSize(d){return new PickTrayByPDFSize(d)}static picture(d){return new config_Picture(d)}static plaintextMetadata(d){return new PlaintextMetadata(d)}static presence(d){return new Presence(d)}static present(d){return new Present(d)}static print(d){return new Print(d)}static printHighQuality(d){return new PrintHighQuality(d)}static printScaling(d){return new PrintScaling$1(d)}static printerName(d){return new PrinterName(d)}static producer(d){return new Producer(d)}static ps(d){return new Ps(d)}static range(d){return new Range(d)}static record(d){return new Record(d)}static relevant(d){return new Relevant(d)}static rename(d){return new Rename(d)}static renderPolicy(d){return new RenderPolicy(d)}static runScripts(d){return new RunScripts(d)}static script(d){return new config_Script(d)}static scriptModel(d){return new ScriptModel(d)}static severity(d){return new Severity(d)}static silentPrint(d){return new SilentPrint(d)}static staple(d){return new Staple(d)}static startNode(d){return new StartNode(d)}static startPage(d){return new StartPage(d)}static submitFormat(d){return new SubmitFormat(d)}static submitUrl(d){return new SubmitUrl(d)}static subsetBelow(d){return new SubsetBelow(d)}static suppressBanner(d){return new SuppressBanner(d)}static tagged(d){return new Tagged(d)}static template(d){return new config_Template(d)}static templateCache(d){return new TemplateCache(d)}static threshold(d){return new Threshold(d)}static to(d){return new To(d)}static trace(d){return new Trace(d)}static transform(d){return new config_Transform(d)}static type(d){return new Type(d)}static uri(d){return new Uri(d)}static validate(d){return new config_Validate(d)}static validateApprovalSignatures(d){return new ValidateApprovalSignatures(d)}static validationMessaging(d){return new ValidationMessaging(d)}static version(d){return new Version(d)}static versionControl(d){return new VersionControl(d)}static viewerPreferences(d){return new ViewerPreferences$1(d)}static webClient(d){return new WebClient(d)}static whitespace(d){return new Whitespace(d)}static window(d){return new Window(d)}static xdc(d){return new Xdc(d)}static xdp(d){return new Xdp(d)}static xsl(d){return new Xsl(d)}static zpl(d){return new Zpl(d)}}const CONNECTION_SET_NS_ID=NamespaceIds.connectionSet.id;class ConnectionSet extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"connectionSet",!0),this.wsdlConnection=new XFAObjectArray,this.xmlConnection=new XFAObjectArray,this.xsdConnection=new XFAObjectArray}}class EffectiveInputPolicy extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"effectiveInputPolicy"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class EffectiveOutputPolicy extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"effectiveOutputPolicy"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Operation extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"operation"),this.id=d.id||"",this.input=d.input||"",this.name=d.name||"",this.output=d.output||"",this.use=d.use||"",this.usehref=d.usehref||""}}class RootElement extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"rootElement"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class SoapAction extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"soapAction"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class SoapAddress extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"soapAddress"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class connection_set_Uri extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"uri"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class WsdlAddress extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"wsdlAddress"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class WsdlConnection extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"wsdlConnection",!0),this.dataDescription=d.dataDescription||"",this.name=d.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class XmlConnection extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"xmlConnection",!0),this.dataDescription=d.dataDescription||"",this.name=d.name||"",this.uri=null}}class XsdConnection extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"xsdConnection",!0),this.dataDescription=d.dataDescription||"",this.name=d.name||"",this.rootElement=null,this.uri=null}}class ConnectionSetNamespace{static[$buildXFAObject](d,x){if(ConnectionSetNamespace.hasOwnProperty(d))return ConnectionSetNamespace[d](x)}static connectionSet(d){return new ConnectionSet(d)}static effectiveInputPolicy(d){return new EffectiveInputPolicy(d)}static effectiveOutputPolicy(d){return new EffectiveOutputPolicy(d)}static operation(d){return new Operation(d)}static rootElement(d){return new RootElement(d)}static soapAction(d){return new SoapAction(d)}static soapAddress(d){return new SoapAddress(d)}static uri(d){return new connection_set_Uri(d)}static wsdlAddress(d){return new WsdlAddress(d)}static wsdlConnection(d){return new WsdlConnection(d)}static xmlConnection(d){return new XmlConnection(d)}static xsdConnection(d){return new XsdConnection(d)}}const DATASETS_NS_ID=NamespaceIds.datasets.id;class datasets_Data extends XmlObject{constructor(d){super(DATASETS_NS_ID,"data",d)}[$isNsAgnostic](){return!0}}class Datasets extends XFAObject{constructor(d){super(DATASETS_NS_ID,"datasets",!0),this.data=null,this.Signature=null}[$onChild](d){const x=d[$nodeName];(x==="data"&&d[$namespaceId]===DATASETS_NS_ID||x==="Signature"&&d[$namespaceId]===NamespaceIds.signature.id)&&(this[x]=d),this[$appendChild](d)}}class DatasetsNamespace{static[$buildXFAObject](d,x){if(DatasetsNamespace.hasOwnProperty(d))return DatasetsNamespace[d](x)}static datasets(d){return new Datasets(d)}static data(d){return new datasets_Data(d)}}const LOCALE_SET_NS_ID=NamespaceIds.localeSet.id;class CalendarSymbols extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new XFAObjectArray(2)}}class CurrencySymbol extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"currencySymbol"),this.name=getStringOption(d.name,["symbol","isoname","decimal"])}}class CurrencySymbols extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"currencySymbols",!0),this.currencySymbol=new XFAObjectArray(3)}}class DatePattern extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"datePattern"),this.name=getStringOption(d.name,["full","long","med","short"])}}class DatePatterns extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"datePatterns",!0),this.datePattern=new XFAObjectArray(4)}}class DateTimeSymbols extends ContentObject{constructor(d){super(LOCALE_SET_NS_ID,"dateTimeSymbols")}}class Day extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"day")}}class DayNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"dayNames",!0),this.abbr=getInteger({data:d.abbr,defaultValue:0,validate:x=>x===1}),this.day=new XFAObjectArray(7)}}class Era extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"era")}}class EraNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"eraNames",!0),this.era=new XFAObjectArray(2)}}class locale_set_Locale extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"locale",!0),this.desc=d.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class locale_set_LocaleSet extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"localeSet",!0),this.locale=new XFAObjectArray}}class Meridiem extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"meridiem")}}class MeridiemNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"meridiemNames",!0),this.meridiem=new XFAObjectArray(2)}}class Month extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"month")}}class MonthNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"monthNames",!0),this.abbr=getInteger({data:d.abbr,defaultValue:0,validate:x=>x===1}),this.month=new XFAObjectArray(12)}}class NumberPattern extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"numberPattern"),this.name=getStringOption(d.name,["full","long","med","short"])}}class NumberPatterns extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"numberPatterns",!0),this.numberPattern=new XFAObjectArray(4)}}class NumberSymbol extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"numberSymbol"),this.name=getStringOption(d.name,["decimal","grouping","percent","minus","zero"])}}class NumberSymbols extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"numberSymbols",!0),this.numberSymbol=new XFAObjectArray(5)}}class TimePattern extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"timePattern"),this.name=getStringOption(d.name,["full","long","med","short"])}}class TimePatterns extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"timePatterns",!0),this.timePattern=new XFAObjectArray(4)}}class TypeFace extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"typeFace",!0),this.name=d.name|""}}class TypeFaces extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"typeFaces",!0),this.typeFace=new XFAObjectArray}}class LocaleSetNamespace{static[$buildXFAObject](d,x){if(LocaleSetNamespace.hasOwnProperty(d))return LocaleSetNamespace[d](x)}static calendarSymbols(d){return new CalendarSymbols(d)}static currencySymbol(d){return new CurrencySymbol(d)}static currencySymbols(d){return new CurrencySymbols(d)}static datePattern(d){return new DatePattern(d)}static datePatterns(d){return new DatePatterns(d)}static dateTimeSymbols(d){return new DateTimeSymbols(d)}static day(d){return new Day(d)}static dayNames(d){return new DayNames(d)}static era(d){return new Era(d)}static eraNames(d){return new EraNames(d)}static locale(d){return new locale_set_Locale(d)}static localeSet(d){return new locale_set_LocaleSet(d)}static meridiem(d){return new Meridiem(d)}static meridiemNames(d){return new MeridiemNames(d)}static month(d){return new Month(d)}static monthNames(d){return new MonthNames(d)}static numberPattern(d){return new NumberPattern(d)}static numberPatterns(d){return new NumberPatterns(d)}static numberSymbol(d){return new NumberSymbol(d)}static numberSymbols(d){return new NumberSymbols(d)}static timePattern(d){return new TimePattern(d)}static timePatterns(d){return new TimePatterns(d)}static typeFace(d){return new TypeFace(d)}static typeFaces(d){return new TypeFaces(d)}}const SIGNATURE_NS_ID=NamespaceIds.signature.id;class signature_Signature extends XFAObject{constructor(d){super(SIGNATURE_NS_ID,"signature",!0)}}class SignatureNamespace{static[$buildXFAObject](d,x){if(SignatureNamespace.hasOwnProperty(d))return SignatureNamespace[d](x)}static signature(d){return new signature_Signature(d)}}const STYLESHEET_NS_ID=NamespaceIds.stylesheet.id;class Stylesheet extends XFAObject{constructor(d){super(STYLESHEET_NS_ID,"stylesheet",!0)}}class StylesheetNamespace{static[$buildXFAObject](d,x){if(StylesheetNamespace.hasOwnProperty(d))return StylesheetNamespace[d](x)}static stylesheet(d){return new Stylesheet(d)}}const XDP_NS_ID=NamespaceIds.xdp.id;class xdp_Xdp extends XFAObject{constructor(d){super(XDP_NS_ID,"xdp",!0),this.uuid=d.uuid||"",this.timeStamp=d.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new XFAObjectArray,this.template=null}[$onChildCheck](d){const x=NamespaceIds[d[$nodeName]];return x&&d[$namespaceId]===x.id}}class XdpNamespace{static[$buildXFAObject](d,x){if(XdpNamespace.hasOwnProperty(d))return XdpNamespace[d](x)}static xdp(d){return new xdp_Xdp(d)}}const XHTML_NS_ID=NamespaceIds.xhtml.id,$richText=Symbol(),VALID_STYLES=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),StyleMapping=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",g=>g==="none"?"none":"normal"],["xfa-font-horizontal-scale",g=>`scaleX(${Math.max(0,Math.min(parseInt(g)/100)).toFixed(2)})`],["xfa-font-vertical-scale",g=>`scaleY(${Math.max(0,Math.min(parseInt(g)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(g,d)=>(g=d.fontSize=getMeasurement(g),measureToString(.99*g))],["letter-spacing",g=>measureToString(getMeasurement(g))],["line-height",g=>measureToString(getMeasurement(g))],["margin",g=>measureToString(getMeasurement(g))],["margin-bottom",g=>measureToString(getMeasurement(g))],["margin-left",g=>measureToString(getMeasurement(g))],["margin-right",g=>measureToString(getMeasurement(g))],["margin-top",g=>measureToString(getMeasurement(g))],["text-indent",g=>measureToString(getMeasurement(g))],["font-family",g=>g],["vertical-align",g=>measureToString(getMeasurement(g))]]),spacesRegExp=/\s+/g,crlfRegExp=/[\r\n]+/g,crlfForRichTextRegExp=/\r\n?/g;function mapStyle(g,d,x){const b=Object.create(null);if(!g)return b;const w=Object.create(null);for(const[S,C]of g.split(";").map(F=>F.split(":",2))){const F=StyleMapping.get(S);if(F==="")continue;let E=C;F&&(E=typeof F=="string"?F:F(C,w)),S.endsWith("scale")?b.transform=b.transform?`${b[S]} ${E}`:E:b[S.replaceAll(/-([a-zA-Z])/g,(k,D)=>D.toUpperCase())]=E}if(b.fontFamily&&setFontFamily({typeface:b.fontFamily,weight:b.fontWeight||"normal",posture:b.fontStyle||"normal",size:w.fontSize||0},d,d[$globalData].fontFinder,b),x&&b.verticalAlign&&b.verticalAlign!=="0px"&&b.fontSize){const F=getMeasurement(b.fontSize);b.fontSize=measureToString(F*.583),b.verticalAlign=measureToString(Math.sign(getMeasurement(b.verticalAlign))*F*.333)}return x&&b.fontSize&&(b.fontSize=`calc(${b.fontSize} * var(--scale-factor))`),fixTextIndent(b),b}function checkStyle(g){return g.style?g.style.trim().split(/\s*;\s*/).filter(d=>!!d).map(d=>d.split(/\s*:\s*/,2)).filter(([d,x])=>(d==="font-family"&&g[$globalData].usedTypefaces.add(x),VALID_STYLES.has(d))).map(d=>d.join(":")).join(";"):""}const NoWhites=new Set(["body","html"]);class XhtmlObject extends XmlObject{constructor(d,x){super(XHTML_NS_ID,x),this[$richText]=!1,this.style=d.style||""}[$clean](d){super[$clean](d),this.style=checkStyle(this)}[$acceptWhitespace](){return!NoWhites.has(this[$nodeName])}[$onText](d,x=!1){x?this[$richText]=!0:(d=d.replaceAll(crlfRegExp,""),this.style.includes("xfa-spacerun:yes")||(d=d.replaceAll(spacesRegExp," "))),d&&(this[$content]+=d)}[$pushGlyphs](d,x=!0){const b=Object.create(null),w={top:NaN,bottom:NaN,left:NaN,right:NaN};let S=null;for(const[C,F]of this.style.split(";").map(E=>E.split(":",2)))switch(C){case"font-family":b.typeface=stripQuotes(F);break;case"font-size":b.size=getMeasurement(F);break;case"font-weight":b.weight=F;break;case"font-style":b.posture=F;break;case"letter-spacing":b.letterSpacing=getMeasurement(F);break;case"margin":const E=F.split(/ \t/).map(k=>getMeasurement(k));switch(E.length){case 1:w.top=w.bottom=w.left=w.right=E[0];break;case 2:w.top=w.bottom=E[0],w.left=w.right=E[1];break;case 3:w.top=E[0],w.bottom=E[2],w.left=w.right=E[1];break;case 4:w.top=E[0],w.left=E[1],w.bottom=E[2],w.right=E[3];break}break;case"margin-top":w.top=getMeasurement(F);break;case"margin-bottom":w.bottom=getMeasurement(F);break;case"margin-left":w.left=getMeasurement(F);break;case"margin-right":w.right=getMeasurement(F);break;case"line-height":S=getMeasurement(F);break}if(d.pushData(b,w,S),this[$content])d.addString(this[$content]);else for(const C of this[$getChildren]()){if(C[$nodeName]==="#text"){d.addString(C[$content]);continue}C[$pushGlyphs](d)}x&&d.popFont()}[$toHTML](d){const x=[];if(this[$extra]={children:x},this[$childrenToHTML]({}),x.length===0&&!this[$content])return HTMLResult.EMPTY;let b;return this[$richText]?b=this[$content]?this[$content].replaceAll(crlfForRichTextRegExp,`
`):void 0:b=this[$content]||void 0,HTMLResult.success({name:this[$nodeName],attributes:{href:this.href,style:mapStyle(this.style,this,this[$richText])},children:x,value:b})}}class A extends XhtmlObject{constructor(d){super(d,"a"),this.href=fixURL(d.href)||""}}class B extends XhtmlObject{constructor(d){super(d,"b")}[$pushGlyphs](d){d.pushFont({weight:"bold"}),super[$pushGlyphs](d),d.popFont()}}class Body extends XhtmlObject{constructor(d){super(d,"body")}[$toHTML](d){const x=super[$toHTML](d),{html:b}=x;return b?(b.name="div",b.attributes.class=["xfaRich"],x):HTMLResult.EMPTY}}class Br extends XhtmlObject{constructor(d){super(d,"br")}[$text](){return`
`}[$pushGlyphs](d){d.addString(`
`)}[$toHTML](d){return HTMLResult.success({name:"br"})}}class Html extends XhtmlObject{constructor(d){super(d,"html")}[$toHTML](d){const x=[];if(this[$extra]={children:x},this[$childrenToHTML]({}),x.length===0)return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[$content]||""});if(x.length===1){const b=x[0];if(b.attributes?.class.includes("xfaRich"))return HTMLResult.success(b)}return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:x})}}class I extends XhtmlObject{constructor(d){super(d,"i")}[$pushGlyphs](d){d.pushFont({posture:"italic"}),super[$pushGlyphs](d),d.popFont()}}class Li extends XhtmlObject{constructor(d){super(d,"li")}}class Ol extends XhtmlObject{constructor(d){super(d,"ol")}}class P extends XhtmlObject{constructor(d){super(d,"p")}[$pushGlyphs](d){super[$pushGlyphs](d,!1),d.addString(`
`),d.addPara(),d.popFont()}[$text](){return this[$getParent]()[$getChildren]().at(-1)===this?super[$text]():super[$text]()+`
`}}class Span extends XhtmlObject{constructor(d){super(d,"span")}}class Sub extends XhtmlObject{constructor(d){super(d,"sub")}}class Sup extends XhtmlObject{constructor(d){super(d,"sup")}}class Ul extends XhtmlObject{constructor(d){super(d,"ul")}}class XhtmlNamespace{static[$buildXFAObject](d,x){if(XhtmlNamespace.hasOwnProperty(d))return XhtmlNamespace[d](x)}static a(d){return new A(d)}static b(d){return new B(d)}static body(d){return new Body(d)}static br(d){return new Br(d)}static html(d){return new Html(d)}static i(d){return new I(d)}static li(d){return new Li(d)}static ol(d){return new Ol(d)}static p(d){return new P(d)}static span(d){return new Span(d)}static sub(d){return new Sub(d)}static sup(d){return new Sup(d)}static ul(d){return new Ul(d)}}const NamespaceSetUp={config:ConfigNamespace,connection:ConnectionSetNamespace,datasets:DatasetsNamespace,localeSet:LocaleSetNamespace,signature:SignatureNamespace,stylesheet:StylesheetNamespace,template:TemplateNamespace,xdp:XdpNamespace,xhtml:XhtmlNamespace};class UnknownNamespace{constructor(d){this.namespaceId=d}[$buildXFAObject](d,x){return new XmlObject(this.namespaceId,d,x)}}class Root extends XFAObject{constructor(d){super(-1,"root",Object.create(null)),this.element=null,this[$ids]=d}[$onChild](d){return this.element=d,!0}[$finalize](){super[$finalize](),this.element.template instanceof Template&&(this[$ids].set($root,this.element),this.element.template[$resolvePrototypes](this[$ids]),this.element.template[$ids]=this[$ids])}}class Empty extends XFAObject{constructor(){super(-1,"",Object.create(null))}[$onChild](d){return!1}}class Builder{constructor(d=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(NamespaceIds).map(({id:x})=>x)),this._currentNamespace=d||new UnknownNamespace(++this._nextNsId)}buildRoot(d){return new Root(d)}build({nsPrefix:d,name:x,attributes:b,namespace:w,prefixes:S}){const C=w!==null;if(C&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(w)),S&&this._addNamespacePrefix(S),b.hasOwnProperty($nsAttributes)){const k=NamespaceSetUp.datasets,D=b[$nsAttributes];let M=null;for(const[L,R]of Object.entries(D))if(this._getNamespaceToUse(L)===k){M={xfa:R};break}M?b[$nsAttributes]=M:delete b[$nsAttributes]}const E=this._getNamespaceToUse(d)?.[$buildXFAObject](x,b)||new Empty;return E[$isNsAgnostic]()&&this._nsAgnosticLevel++,(C||S||E[$isNsAgnostic]())&&(E[$cleanup]={hasNamespace:C,prefixes:S,nsAgnostic:E[$isNsAgnostic]()}),E}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(d){let x=this._namespaces.get(d);if(x)return x;for(const[b,{check:w}]of Object.entries(NamespaceIds))if(w(d)){if(x=NamespaceSetUp[b],x)return this._namespaces.set(d,x),x;break}return x=new UnknownNamespace(++this._nextNsId),this._namespaces.set(d,x),x}_addNamespacePrefix(d){for(const{prefix:x,value:b}of d){const w=this._searchNamespace(b);let S=this._namespacePrefixes.get(x);S||(S=[],this._namespacePrefixes.set(x,S)),S.push(w)}}_getNamespaceToUse(d){if(!d)return this._currentNamespace;const x=this._namespacePrefixes.get(d);return x?.length>0?x.at(-1):(warn(`Unknown namespace prefix: ${d}.`),null)}clean(d){const{hasNamespace:x,prefixes:b,nsAgnostic:w}=d;x&&(this._currentNamespace=this._namespaceStack.pop()),b&&b.forEach(({prefix:S})=>{this._namespacePrefixes.get(S).pop()}),w&&this._nsAgnosticLevel--}}class XFAParser extends XMLParserBase{constructor(d=null,x=!1){super(),this._builder=new Builder(d),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=x}parse(d){if(this.parseXml(d),this._errorCode===XMLParserErrorCode.NoError)return this._current[$finalize](),this._current.element}onText(d){if(d=d.replace(this._nbsps,x=>x.slice(1)+" "),this._richText||this._current[$acceptWhitespace]()){this._current[$onText](d,this._richText);return}this._whiteRegex.test(d)||this._current[$onText](d.trim())}onCdata(d){this._current[$onText](d)}_mkAttributes(d,x){let b=null,w=null;const S=Object.create({});for(const{name:C,value:F}of d)if(C==="xmlns")b?warn(`XFA - multiple namespace definition in <${x}>`):b=F;else if(C.startsWith("xmlns:")){const E=C.substring(6);w||(w=[]),w.push({prefix:E,value:F})}else{const E=C.indexOf(":");if(E===-1)S[C]=F;else{let k=S[$nsAttributes];k||(k=S[$nsAttributes]=Object.create(null));const[D,M]=[C.slice(0,E),C.slice(E+1)],L=k[D]||=Object.create(null);L[M]=F}}return[b,w,S]}_getNameAndPrefix(d,x){const b=d.indexOf(":");return b===-1?[d,null]:[d.substring(b+1),x?"":d.substring(0,b)]}onBeginElement(d,x,b){const[w,S,C]=this._mkAttributes(x,d),[F,E]=this._getNameAndPrefix(d,this._builder.isNsAgnostic()),k=this._builder.build({nsPrefix:E,name:F,attributes:C,namespace:w,prefixes:S});if(k[$globalData]=this._globalData,b){k[$finalize](),this._current[$onChild](k)&&k[$setId](this._ids),k[$clean](this._builder);return}this._stack.push(this._current),this._current=k}onEndElement(d){const x=this._current;if(x[$isCDATAXml]()&&typeof x[$content]=="string"){const b=new XFAParser;b._globalData=this._globalData;const w=b.parse(x[$content]);x[$content]=null,x[$onChild](w)}x[$finalize](),this._current=this._stack.pop(),this._current[$onChild](x)&&x[$setId](this._ids),x[$clean](this._builder)}onError(d){this._errorCode=d}}class XFAFactory{constructor(d){try{this.root=new XFAParser().parse(XFAFactory._createDocument(d));const x=new Binder(this.root);this.form=x.bind(),this.dataHandler=new DataHandler(this.root,x.getData()),this.form[$globalData].template=this.form}catch(x){warn(`XFA - an error occurred during parsing and binding: ${x}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const d=this.form[$toPages]();return new Promise((x,b)=>{const w=()=>{try{const S=d.next();S.done?x(S.value):setTimeout(w,0)}catch(S){b(S)}};setTimeout(w,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(d=>{const{width:x,height:b}=d.attributes.style;return[0,0,parseInt(x),parseInt(b)]})}catch(d){warn(`XFA - an error occurred during layout: ${d}`)}}getBoundingBox(d){return this.dims[d]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(d){this.form[$globalData].images=d}setFonts(d){this.form[$globalData].fontFinder=new FontFinder(d);const x=[];for(let b of this.form[$globalData].usedTypefaces)b=stripQuotes(b),this.form[$globalData].fontFinder.find(b)||x.push(b);return x.length>0?x:null}appendFonts(d,x){this.form[$globalData].fontFinder.add(d,x)}async getPages(){this.pages||await this._createPages();const d=this.pages;return this.pages=null,d}serializeData(d){return this.dataHandler.serialize(d)}static _createDocument(d){return d["/xdp:xdp"]?Object.values(d).join(""):d["xdp:xdp"]}static getRichTextAsHtml(d){if(!d||typeof d!="string")return null;try{let x=new XFAParser(XhtmlNamespace,!0).parse(d);if(!["body","xhtml"].includes(x[$nodeName])){const C=XhtmlNamespace.body({});C[$appendChild](x),x=C}const b=x[$toHTML]();if(!b.success)return null;const{html:w}=b,{attributes:S}=w;return S&&(S.class&&(S.class=S.class.filter(C=>!C.startsWith("xfa"))),S.dir="auto"),{html:w,str:x[$text]()}}catch(x){warn(`XFA - an error occurred during parsing of rich text: ${x}`)}return null}}class AnnotationFactory{static createGlobals(d){return Promise.all([d.ensureCatalog("acroForm"),d.ensureDoc("xfaDatasets"),d.ensureCatalog("structTreeRoot"),d.ensureCatalog("baseUrl"),d.ensureCatalog("attachments")]).then(([x,b,w,S,C])=>({pdfManager:d,acroForm:x instanceof Dict?x:Dict.empty,xfaDatasets:b,structTreeRoot:w,baseUrl:S,attachments:C}),x=>(warn(`createGlobals: "${x}".`),null))}static async create(d,x,b,w,S,C){const F=S?await this._getPageIndex(d,x,b.pdfManager):null;return b.pdfManager.ensure(this,"_create",[d,x,b,w,S,F,C])}static _create(d,x,b,w,S=!1,C=null,F=null){const E=d.fetchIfRef(x);if(!(E instanceof Dict))return;const{acroForm:k,pdfManager:D}=b,M=x instanceof Ref?x.toString():`annot_${w.createObjId()}`;let L=E.get("Subtype");L=L instanceof Name?L.name:null;const R={xref:d,ref:x,dict:E,subtype:L,id:M,annotationGlobals:b,collectFields:S,needAppearances:!S&&k.get("NeedAppearances")===!0,pageIndex:C,evaluatorOptions:D.evaluatorOptions,pageRef:F};switch(L){case"Link":return new LinkAnnotation(R);case"Text":return new TextAnnotation(R);case"Widget":let U=getInheritableProperty({dict:E,key:"FT"});switch(U=U instanceof Name?U.name:null,U){case"Tx":return new TextWidgetAnnotation(R);case"Btn":return new ButtonWidgetAnnotation(R);case"Ch":return new ChoiceWidgetAnnotation(R);case"Sig":return new SignatureWidgetAnnotation(R)}return warn(`Unimplemented widget field type "${U}", falling back to base field type.`),new WidgetAnnotation(R);case"Popup":return new PopupAnnotation(R);case"FreeText":return new FreeTextAnnotation(R);case"Line":return new LineAnnotation(R);case"Square":return new SquareAnnotation(R);case"Circle":return new CircleAnnotation(R);case"PolyLine":return new PolylineAnnotation(R);case"Polygon":return new PolygonAnnotation(R);case"Caret":return new CaretAnnotation(R);case"Ink":return new InkAnnotation(R);case"Highlight":return new HighlightAnnotation(R);case"Underline":return new UnderlineAnnotation(R);case"Squiggly":return new SquigglyAnnotation(R);case"StrikeOut":return new StrikeOutAnnotation(R);case"Stamp":return new StampAnnotation(R);case"FileAttachment":return new FileAttachmentAnnotation(R);default:return S||warn(L?`Unimplemented annotation type "${L}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new Annotation(R)}}static async _getPageIndex(d,x,b){try{const w=await d.fetchIfRefAsync(x);if(!(w instanceof Dict))return-1;const S=w.getRaw("P");if(S instanceof Ref)try{return await b.ensureCatalog("getPageIndex",[S])}catch(F){info(`_getPageIndex -- not a valid page reference: "${F}".`)}if(w.has("Kids"))return-1;const C=await b.ensureDoc("numPages");for(let F=0;F<C;F++){const E=await b.getPage(F),k=await b.ensure(E,"annotations");for(const D of k)if(D instanceof Ref&&isRefsEqual(D,x))return F}}catch(w){warn(`_getPageIndex: "${w}".`)}return-1}static generateImages(d,x,b){if(!b)return warn("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let w;for(const{bitmapId:S,bitmap:C}of d)C&&(w||=new Map,w.set(S,StampAnnotation.createImage(C,x)));return w}static async saveNewAnnotations(d,x,b,w){const S=d.xref;let C;const F=[],E=[],{isOffscreenCanvasSupported:k}=d.options;for(const D of b)if(!D.deleted)switch(D.annotationType){case AnnotationEditorType.FREETEXT:if(!C){const L=new Dict(S);L.set("BaseFont",Name.get("Helvetica")),L.set("Type",Name.get("Font")),L.set("Subtype",Name.get("Type1")),L.set("Encoding",Name.get("WinAnsiEncoding"));const R=[];C=S.getNewTemporaryRef(),await writeObject(C,L,R,S),F.push({ref:C,data:R.join("")})}E.push(FreeTextAnnotation.createNewAnnotation(S,D,F,{evaluator:d,task:x,baseFontRef:C}));break;case AnnotationEditorType.HIGHLIGHT:E.push(HighlightAnnotation.createNewAnnotation(S,D,F));break;case AnnotationEditorType.INK:E.push(InkAnnotation.createNewAnnotation(S,D,F));break;case AnnotationEditorType.STAMP:if(!k)break;const M=await w.get(D.bitmapId);if(M.imageStream){const{imageStream:L,smaskStream:R}=M,U=[];if(R){const H=S.getNewTemporaryRef();await writeObject(H,R,U,S),F.push({ref:H,data:U.join("")}),L.dict.set("SMask",H),U.length=0}const j=M.imageRef=S.getNewTemporaryRef();await writeObject(j,L,U,S),F.push({ref:j,data:U.join("")}),M.imageStream=M.smaskStream=null}E.push(StampAnnotation.createNewAnnotation(S,D,F,{image:M}));break}return{annotations:await Promise.all(E),dependencies:F}}static async printNewAnnotations(d,x,b,w,S){if(!w)return null;const{options:C,xref:F}=x,E=[];for(const k of w)if(!k.deleted)switch(k.annotationType){case AnnotationEditorType.FREETEXT:E.push(FreeTextAnnotation.createNewPrintAnnotation(d,F,k,{evaluator:x,task:b,evaluatorOptions:C}));break;case AnnotationEditorType.HIGHLIGHT:E.push(HighlightAnnotation.createNewPrintAnnotation(d,F,k,{evaluatorOptions:C}));break;case AnnotationEditorType.INK:E.push(InkAnnotation.createNewPrintAnnotation(d,F,k,{evaluatorOptions:C}));break;case AnnotationEditorType.STAMP:if(!C.isOffscreenCanvasSupported)break;const D=await S.get(k.bitmapId);if(D.imageStream){const{imageStream:M,smaskStream:L}=D;L&&M.dict.set("SMask",L),D.imageRef=new JpegStream(M,M.length),D.imageStream=D.smaskStream=null}E.push(StampAnnotation.createNewPrintAnnotation(d,F,k,{image:D,evaluatorOptions:C}));break}return Promise.all(E)}}function getRgbColor(g,d=new Uint8ClampedArray(3)){if(!Array.isArray(g))return d;const x=d||new Uint8ClampedArray(3);switch(g.length){case 0:return null;case 1:return ColorSpace$1.singletons.gray.getRgbItem(g,0,x,0),x;case 3:return ColorSpace$1.singletons.rgb.getRgbItem(g,0,x,0),x;case 4:return ColorSpace$1.singletons.cmyk.getRgbItem(g,0,x,0),x;default:return d}}function getPdfColorArray(g){return Array.from(g,d=>d/255)}function getQuadPoints(g,d){const x=g.getArray("QuadPoints");if(!Array.isArray(x)||x.length===0||x.length%8>0)return null;const b=[];for(let w=0,S=x.length/8;w<S;w++){let C=1/0,F=-1/0,E=1/0,k=-1/0;for(let D=w*8,M=w*8+8;D<M;D+=2){const L=x[D],R=x[D+1];C=Math.min(L,C),F=Math.max(L,F),E=Math.min(R,E),k=Math.max(R,k)}if(d!==null&&(C<d[0]||F>d[2]||E<d[1]||k>d[3]))return null;b.push([{x:C,y:k},{x:F,y:k},{x:C,y:E},{x:F,y:E}])}return b}function getTransformMatrix(g,d,x){const[b,w,S,C]=Util.getAxialAlignedBoundingBox(d,x);if(b===S||w===C)return[1,0,0,1,g[0],g[1]];const F=(g[2]-g[0])/(S-b),E=(g[3]-g[1])/(C-w);return[F,0,0,E,g[0]-b*F,g[1]-w*E]}class Annotation{constructor(d){const{dict:x,xref:b,annotationGlobals:w}=d;this.setTitle(x.get("T")),this.setContents(x.get("Contents")),this.setModificationDate(x.get("M")),this.setFlags(x.get("F")),this.setRectangle(x.getArray("Rect")),this.setColor(x.getArray("C")),this.setBorderStyle(x),this.setAppearance(x),this.setOptionalContent(x);const S=x.get("MK");this.setBorderAndBackgroundColors(S),this.setRotation(S,x),this.ref=d.ref instanceof Ref?d.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const C=!!(this.flags&AnnotationFlag.LOCKED),F=!!(this.flags&AnnotationFlag.LOCKEDCONTENTS);if(w.structTreeRoot){let E=x.get("StructParent");E=Number.isInteger(E)&&E>=0?E:-1,w.structTreeRoot.addAnnotationIdToPage(d.pageRef,E)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:d.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:d.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&AnnotationFlag.NOROTATE),noHTML:C&&F},d.collectFields){const E=x.get("Kids");if(Array.isArray(E)){const k=[];for(const D of E)D instanceof Ref&&k.push(D.toString());k.length!==0&&(this.data.kidIds=k)}this.data.actions=collectActions(b,x,AnnotationActionEventType),this.data.fieldName=this._constructFieldName(x),this.data.pageIndex=d.pageIndex}this._isOffscreenCanvasSupported=d.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(d,x){return!!(d&x)}_isViewable(d){return!this._hasFlag(d,AnnotationFlag.INVISIBLE)&&!this._hasFlag(d,AnnotationFlag.NOVIEW)}_isPrintable(d){return this._hasFlag(d,AnnotationFlag.PRINT)&&!this._hasFlag(d,AnnotationFlag.HIDDEN)&&!this._hasFlag(d,AnnotationFlag.INVISIBLE)}mustBeViewed(d,x){const b=d?.get(this.data.id)?.noView;return b!==void 0?!b:this.viewable&&!this._hasFlag(this.flags,AnnotationFlag.HIDDEN)}mustBePrinted(d){const x=d?.get(this.data.id)?.noPrint;return x!==void 0?!x:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(d){const x=typeof d=="string"?stringToPDFString(d):"",b=x&&bidi(x).dir==="rtl"?"rtl":"ltr";return{str:x,dir:b}}setDefaultAppearance(d){const{dict:x,annotationGlobals:b}=d,w=getInheritableProperty({dict:x,key:"DA"})||b.acroForm.get("DA");this._defaultAppearance=typeof w=="string"?w:"",this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance)}setTitle(d){this._title=this._parseStringHelper(d)}setContents(d){this._contents=this._parseStringHelper(d)}setModificationDate(d){this.modificationDate=typeof d=="string"?d:null}setFlags(d){this.flags=Number.isInteger(d)&&d>0?d:0,this.flags&AnnotationFlag.INVISIBLE&&this.constructor.name!=="Annotation"&&(this.flags^=AnnotationFlag.INVISIBLE)}hasFlag(d){return this._hasFlag(this.flags,d)}setRectangle(d){this.rectangle=Array.isArray(d)&&d.length===4?Util.normalizeRect(d):[0,0,0,0]}setColor(d){this.color=getRgbColor(d)}setLineEndings(d){if(this.lineEndings=["None","None"],Array.isArray(d)&&d.length===2)for(let x=0;x<2;x++){const b=d[x];if(b instanceof Name)switch(b.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[x]=b.name;continue}warn(`Ignoring invalid lineEnding: ${b}`)}}setRotation(d,x){this.rotation=0;let b=d instanceof Dict?d.get("R")||0:x.get("Rotate")||0;Number.isInteger(b)&&b!==0&&(b%=360,b<0&&(b+=360),b%90===0&&(this.rotation=b))}setBorderAndBackgroundColors(d){d instanceof Dict?(this.borderColor=getRgbColor(d.getArray("BC"),null),this.backgroundColor=getRgbColor(d.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(d){if(this.borderStyle=new AnnotationBorderStyle,d instanceof Dict)if(d.has("BS")){const x=d.get("BS"),b=x.get("Type");(!b||isName(b,"Border"))&&(this.borderStyle.setWidth(x.get("W"),this.rectangle),this.borderStyle.setStyle(x.get("S")),this.borderStyle.setDashArray(x.getArray("D")))}else if(d.has("Border")){const x=d.getArray("Border");Array.isArray(x)&&x.length>=3&&(this.borderStyle.setHorizontalCornerRadius(x[0]),this.borderStyle.setVerticalCornerRadius(x[1]),this.borderStyle.setWidth(x[2],this.rectangle),x.length===4&&this.borderStyle.setDashArray(x[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(d){this.appearance=null;const x=d.get("AP");if(!(x instanceof Dict))return;const b=x.get("N");if(b instanceof BaseStream){this.appearance=b;return}if(!(b instanceof Dict))return;const w=d.get("AS");if(!(w instanceof Name)||!b.has(w.name))return;const S=b.get(w.name);S instanceof BaseStream&&(this.appearance=S)}setOptionalContent(d){this.oc=null;const x=d.get("OC");x instanceof Name?warn("setOptionalContent: Support for /Name-entry is not implemented."):x instanceof Dict&&(this.oc=x)}loadResources(d,x){return x.dict.getAsync("Resources").then(b=>b?new ObjectLoader(b,d,b.xref).load().then(function(){return b}):void 0)}async getOperatorList(d,x,b,w,S){const C=this.data;let F=this.appearance;const E=!!(this.data.hasOwnCanvas&&b&RenderingIntentFlag.DISPLAY);if(!F){if(!E)return{opList:new OperatorList,separateForm:!1,separateCanvas:!1};F=new StringStream(""),F.dict=new Dict}const k=F.dict,D=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],F),M=k.getArray("BBox")||[0,0,1,1],L=k.getArray("Matrix")||[1,0,0,1,0,0],R=getTransformMatrix(C.rect,M,L),U=new OperatorList;let j;return this.oc&&(j=await d.parseMarkedContentProps(this.oc,null)),j!==void 0&&U.addOp(OPS.beginMarkedContentProps,["OC",j]),U.addOp(OPS.beginAnnotation,[C.id,C.rect,R,L,E]),await d.getOperatorList({stream:F,task:x,resources:D,operatorList:U,fallbackFontDict:this._fallbackFontDict}),U.addOp(OPS.endAnnotation,[]),j!==void 0&&U.addOp(OPS.endMarkedContent,[]),this.reset(),{opList:U,separateForm:!1,separateCanvas:E}}async save(d,x,b){return null}get hasTextContent(){return!1}async extractTextContent(d,x,b){if(!this.appearance)return;const w=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),S=[],C=[];let F=null;const E={desiredSize:Math.Infinity,ready:!0,enqueue(k,D){for(const M of k.items)M.str!==void 0&&(F||=M.transform.slice(-2),C.push(M.str),M.hasEOL&&(S.push(C.join("")),C.length=0))}};if(await d.getTextContent({stream:this.appearance,task:x,resources:w,includeMarkedContent:!0,sink:E,viewBox:b}),this.reset(),C.length&&S.push(C.join("")),S.length>1||S[0]){const k=this.appearance.dict,D=k.getArray("BBox")||[0,0,1,1],M=k.getArray("Matrix")||[1,0,0,1,0,0],L=this.data.rect,R=getTransformMatrix(L,D,M);R[4]-=L[0],R[5]-=L[1],F=Util.applyTransform(F,R),F=Util.applyTransform(F,M),this.data.textPosition=F,this.data.textContent=S}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const d of this._streams)d.reset()}_constructFieldName(d){if(!d.has("T")&&!d.has("Parent"))return warn("Unknown field name, falling back to empty field name."),"";if(!d.has("Parent"))return stringToPDFString(d.get("T"));const x=[];d.has("T")&&x.unshift(stringToPDFString(d.get("T")));let b=d;const w=new RefSet;for(d.objId&&w.put(d.objId);b.has("Parent")&&(b=b.get("Parent"),!(!(b instanceof Dict)||b.objId&&w.has(b.objId)));)b.objId&&w.put(b.objId),b.has("T")&&x.unshift(stringToPDFString(b.get("T")));return x.join(".")}}class AnnotationBorderStyle{constructor(){this.width=1,this.style=AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(d,x=[0,0,0,0]){if(d instanceof Name){this.width=0;return}if(typeof d=="number"){if(d>0){const b=(x[2]-x[0])/2,w=(x[3]-x[1])/2;b>0&&w>0&&(d>b||d>w)&&(warn(`AnnotationBorderStyle.setWidth - ignoring width: ${d}`),d=1)}this.width=d}}setStyle(d){if(d instanceof Name)switch(d.name){case"S":this.style=AnnotationBorderStyleType.SOLID;break;case"D":this.style=AnnotationBorderStyleType.DASHED;break;case"B":this.style=AnnotationBorderStyleType.BEVELED;break;case"I":this.style=AnnotationBorderStyleType.INSET;break;case"U":this.style=AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(d,x=!1){if(Array.isArray(d)&&d.length>0){let b=!0,w=!0;for(const S of d)if(+S>=0)S>0&&(w=!1);else{b=!1;break}b&&!w?(this.dashArray=d,x&&this.setStyle(Name.get("D"))):this.width=0}else d&&(this.width=0)}setHorizontalCornerRadius(d){Number.isInteger(d)&&(this.horizontalCornerRadius=d)}setVerticalCornerRadius(d){Number.isInteger(d)&&(this.verticalCornerRadius=d)}}class MarkupAnnotation extends Annotation{constructor(d){super(d);const{dict:x}=d;if(x.has("IRT")){const w=x.getRaw("IRT");this.data.inReplyTo=w instanceof Ref?w.toString():null;const S=x.get("RT");this.data.replyType=S instanceof Name?S.name:AnnotationReplyType.REPLY}let b=null;if(this.data.replyType===AnnotationReplyType.GROUP){const w=x.get("IRT");this.setTitle(w.get("T")),this.data.titleObj=this._title,this.setContents(w.get("Contents")),this.data.contentsObj=this._contents,w.has("CreationDate")?(this.setCreationDate(w.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,w.has("M")?(this.setModificationDate(w.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,b=w.getRaw("Popup"),w.has("C")?(this.setColor(w.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(x.get("CreationDate")),this.data.creationDate=this.creationDate,b=x.getRaw("Popup"),x.has("C")||(this.data.color=null);this.data.popupRef=b instanceof Ref?b.toString():null,x.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(x.get("RC")))}setCreationDate(d){this.creationDate=typeof d=="string"?d:null}_setDefaultAppearance({xref:d,extra:x,strokeColor:b,fillColor:w,blendMode:S,strokeAlpha:C,fillAlpha:F,pointsCallback:E}){let k=Number.MAX_VALUE,D=Number.MAX_VALUE,M=Number.MIN_VALUE,L=Number.MIN_VALUE;const R=["q"];x&&R.push(x),b&&R.push(`${b[0]} ${b[1]} ${b[2]} RG`),w&&R.push(`${w[0]} ${w[1]} ${w[2]} rg`);let U=this.data.quadPoints;U||(U=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Q of U){const[ne,le,fe,be]=E(R,Q);k=Math.min(k,ne),M=Math.max(M,le),D=Math.min(D,fe),L=Math.max(L,be)}R.push("Q");const j=new Dict(d),H=new Dict(d);H.set("Subtype",Name.get("Form"));const z=new StringStream(R.join(" "));z.dict=H,j.set("Fm0",z);const V=new Dict(d);S&&V.set("BM",Name.get(S)),typeof C=="number"&&V.set("CA",C),typeof F=="number"&&V.set("ca",F);const G=new Dict(d);G.set("GS0",V);const $=new Dict(d);$.set("ExtGState",G),$.set("XObject",j);const K=new Dict(d);K.set("Resources",$);const Z=this.data.rect=[k,D,M,L];K.set("BBox",Z),this.appearance=new StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=K,this._streams.push(this.appearance,z)}static async createNewAnnotation(d,x,b,w){const S=x.ref||=d.getNewTemporaryRef(),C=await this.createNewAppearanceStream(x,d,w),F=[];let E;if(C){const k=d.getNewTemporaryRef();E=this.createNewDict(x,d,{apRef:k}),await writeObject(k,C,F,d),b.push({ref:k,data:F.join("")})}else E=this.createNewDict(x,d,{});return Number.isInteger(x.parentTreeId)&&E.set("StructParent",x.parentTreeId),F.length=0,await writeObject(S,E,F,d),{ref:S,data:F.join("")}}static async createNewPrintAnnotation(d,x,b,w){const S=await this.createNewAppearanceStream(b,x,w),C=this.createNewDict(b,x,{ap:S}),F=new this.prototype.constructor({dict:C,xref:x,annotationGlobals:d,evaluatorOptions:w.evaluatorOptions});return b.ref&&(F.ref=F.refToReplace=b.ref),F}}class WidgetAnnotation extends Annotation{constructor(d){super(d);const{dict:x,xref:b,annotationGlobals:w}=d,S=this.data;this._needAppearances=d.needAppearances,S.annotationType=AnnotationType.WIDGET,S.fieldName===void 0&&(S.fieldName=this._constructFieldName(x)),S.actions===void 0&&(S.actions=collectActions(b,x,AnnotationActionEventType));let C=getInheritableProperty({dict:x,key:"V",getArray:!0});S.fieldValue=this._decodeFormValue(C);const F=getInheritableProperty({dict:x,key:"DV",getArray:!0});if(S.defaultFieldValue=this._decodeFormValue(F),C===void 0&&w.xfaDatasets){const L=this._title.str;L&&(this._hasValueFromXFA=!0,S.fieldValue=C=w.xfaDatasets.getValue(L))}C===void 0&&S.defaultFieldValue!==null&&(S.fieldValue=S.defaultFieldValue),S.alternativeText=stringToPDFString(x.get("TU")||""),this.setDefaultAppearance(d),S.hasAppearance||=this._needAppearances&&S.fieldValue!==void 0&&S.fieldValue!==null;const E=getInheritableProperty({dict:x,key:"FT"});S.fieldType=E instanceof Name?E.name:null;const k=getInheritableProperty({dict:x,key:"DR"}),D=w.acroForm.get("DR"),M=this.appearance?.dict.get("Resources");this._fieldResources={localResources:k,acroFormResources:D,appearanceResources:M,mergedResources:Dict.merge({xref:b,dictArray:[k,M,D],mergeSubDicts:!0})},S.fieldFlags=getInheritableProperty({dict:x,key:"Ff"}),(!Number.isInteger(S.fieldFlags)||S.fieldFlags<0)&&(S.fieldFlags=0),S.readOnly=this.hasFieldFlag(AnnotationFieldFlag.READONLY),S.required=this.hasFieldFlag(AnnotationFieldFlag.REQUIRED),S.hidden=this._hasFlag(S.annotationFlags,AnnotationFlag.HIDDEN)||this._hasFlag(S.annotationFlags,AnnotationFlag.NOVIEW)}_decodeFormValue(d){return Array.isArray(d)?d.filter(x=>typeof x=="string").map(x=>stringToPDFString(x)):d instanceof Name?stringToPDFString(d.name):typeof d=="string"?stringToPDFString(d):null}hasFieldFlag(d){return!!(this.data.fieldFlags&d)}_isViewable(d){return!0}mustBeViewed(d,x){return x?this.viewable:super.mustBeViewed(d,x)&&!this._hasFlag(this.flags,AnnotationFlag.NOVIEW)}getRotationMatrix(d){let x=d?.get(this.data.id)?.rotation;if(x===void 0&&(x=this.rotation),x===0)return IDENTITY_MATRIX;const b=this.data.rect[2]-this.data.rect[0],w=this.data.rect[3]-this.data.rect[1];return getRotationMatrix(x,b,w)}getBorderAndBackgroundAppearances(d){let x=d?.get(this.data.id)?.rotation;if(x===void 0&&(x=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const b=this.data.rect[2]-this.data.rect[0],w=this.data.rect[3]-this.data.rect[1],S=x===0||x===180?`0 0 ${b} ${w} re`:`0 0 ${w} ${b} re`;let C="";if(this.backgroundColor&&(C=`${getPdfColor(this.backgroundColor,!0)} ${S} f `),this.borderColor){const F=this.borderStyle.width||1;C+=`${F} w ${getPdfColor(this.borderColor,!1)} ${S} S `}return C}async getOperatorList(d,x,b,w,S){if(w&&!(this instanceof SignatureWidgetAnnotation)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(d,x,b,w,S);const C=await this._getAppearance(d,x,b,S);if(this.appearance&&C===null)return super.getOperatorList(d,x,b,w,S);const F=new OperatorList;if(!this._defaultAppearance||C===null)return{opList:F,separateForm:!1,separateCanvas:!1};const E=!!(this.data.hasOwnCanvas&&b&RenderingIntentFlag.DISPLAY),k=[1,0,0,1,0,0],D=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],M=getTransformMatrix(this.data.rect,D,k);let L;this.oc&&(L=await d.parseMarkedContentProps(this.oc,null)),L!==void 0&&F.addOp(OPS.beginMarkedContentProps,["OC",L]),F.addOp(OPS.beginAnnotation,[this.data.id,this.data.rect,M,this.getRotationMatrix(S),E]);const R=new StringStream(C);return await d.getOperatorList({stream:R,task:x,resources:this._fieldResources.mergedResources,operatorList:F}),F.addOp(OPS.endAnnotation,[]),L!==void 0&&F.addOp(OPS.endMarkedContent,[]),{opList:F,separateForm:!1,separateCanvas:E}}_getMKDict(d){const x=new Dict(null);return d&&x.set("R",d),this.borderColor&&x.set("BC",getPdfColorArray(this.borderColor)),this.backgroundColor&&x.set("BG",getPdfColorArray(this.backgroundColor)),x.size>0?x:null}amendSavedDict(d,x){}async save(d,x,b){const w=b?.get(this.data.id);let S=w?.value,C=w?.rotation;if(S===this.data.fieldValue||S===void 0){if(!this._hasValueFromXFA&&C===void 0)return null;S||=this.data.fieldValue}if(C===void 0&&!this._hasValueFromXFA&&Array.isArray(S)&&Array.isArray(this.data.fieldValue)&&S.length===this.data.fieldValue.length&&S.every((z,V)=>z===this.data.fieldValue[V]))return null;C===void 0&&(C=this.rotation);let F=null;if(!this._needAppearances&&(F=await this._getAppearance(d,x,RenderingIntentFlag.SAVE,b),F===null))return null;let E=!1;F?.needAppearances&&(E=!0,F=null);const{xref:k}=d,D=k.fetchIfRef(this.ref);if(!(D instanceof Dict))return null;const M=new Dict(k);for(const z of D.getKeys())z!=="AP"&&M.set(z,D.getRaw(z));const L={path:this.data.fieldName,value:S},R=z=>isAscii(z)?z:stringToUTF16String(z,!0);M.set("V",Array.isArray(S)?S.map(R):R(S)),this.amendSavedDict(b,M);const U=this._getMKDict(C);U&&M.set("MK",U);const j=[],H=[{ref:this.ref,data:"",xfa:L,needAppearances:E}];if(F!==null){const z=k.getNewTemporaryRef(),V=new Dict(k);M.set("AP",V),V.set("N",z);const G=this._getSaveFieldResources(k),$=new StringStream(F),K=$.dict=new Dict(k);K.set("Subtype",Name.get("Form")),K.set("Resources",G),K.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const Z=this.getRotationMatrix(b);Z!==IDENTITY_MATRIX&&K.set("Matrix",Z),await writeObject(z,$,j,k),H.push({ref:z,data:j.join(""),xfa:null,needAppearances:!1}),j.length=0}return M.set("M",`D:${getModificationDate()}`),await writeObject(this.ref,M,j,k),H[0].data=j.join(""),H}async _getAppearance(d,x,b,w){if(this.hasFieldFlag(AnnotationFieldFlag.PASSWORD))return null;const C=w?.get(this.data.id);let F,E;if(C&&(F=C.formattedValue||C.value,E=C.rotation),E===void 0&&F===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const k=this.getBorderAndBackgroundAppearances(w);if(F===void 0&&(F=this.data.fieldValue,!F))return`/Tx BMC q ${k}Q EMC`;if(Array.isArray(F)&&F.length===1&&(F=F[0]),assert(typeof F=="string","Expected `value` to be a string."),F=F.trim(),this.data.combo&&(F=this.data.options.find(({exportValue:we})=>F===we)?.displayValue||F),F==="")return`/Tx BMC q ${k}Q EMC`;E===void 0&&(E=this.rotation);let D=-1,M;this.data.multiLine?(M=F.split(/\r\n?|\n/).map(me=>me.normalize("NFC")),D=M.length):M=[F.replace(/\r\n?|\n/,"").normalize("NFC")];const L=1,R=2;let U=this.data.rect[3]-this.data.rect[1],j=this.data.rect[2]-this.data.rect[0];(E===90||E===270)&&([j,U]=[U,j]),this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let H=await WidgetAnnotation._getFontData(d,x,this.data.defaultAppearanceData,this._fieldResources.mergedResources),z,V,G;const $=[];let K=!1;for(const me of M){const we=H.encodeString(me);we.length>1&&(K=!0),$.push(we.join(""))}if(K&&b&RenderingIntentFlag.SAVE)return{needAppearances:!0};if(K&&this._isOffscreenCanvasSupported){const me=this.data.comb?"monospace":"sans-serif",we=new FakeUnicodeFont(d.xref,me),oe=we.createFontResources(M.join("")),ge=oe.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Ne=this._fieldResources.mergedResources.get("Font");for(const Oe of ge.getKeys())Ne.set(Oe,ge.getRaw(Oe))}else this._fieldResources.mergedResources.set("Font",ge);const Ae=we.fontName.name;H=await WidgetAnnotation._getFontData(d,x,{fontName:Ae,fontSize:0},oe);for(let Ne=0,Oe=$.length;Ne<Oe;Ne++)$[Ne]=stringToUTF16String(M[Ne]);const Ce=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Ae,[z,V,G]=this._computeFontSize(U-2*L,j-2*R,F,H,D),this.data.defaultAppearanceData=Ce}else this._isOffscreenCanvasSupported||warn("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[z,V,G]=this._computeFontSize(U-2*L,j-2*R,F,H,D);let Z=H.descent;isNaN(Z)?Z=BASELINE_FACTOR*G:Z=Math.max(BASELINE_FACTOR*G,Math.abs(Z)*V);const Q=Math.min(Math.floor((U-V)/2),L),ne=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(z,$,H,V,j,U,ne,R,Q,Z,G,w);if(this.data.comb)return this._getCombAppearance(z,H,$[0],V,j,U,R,Q,Z,G,w);const le=Q+Z;if(ne===0||ne>2)return`/Tx BMC q ${k}BT `+z+` 1 0 0 1 ${numberToString$1(R)} ${numberToString$1(le)} Tm (${escapeString($[0])}) Tj ET Q EMC`;const fe={shift:0},be=this._renderText($[0],H,V,j,ne,fe,R,le);return`/Tx BMC q ${k}BT `+z+` 1 0 0 1 0 0 Tm ${be} ET Q EMC`}static async _getFontData(d,x,b,w){const S=new OperatorList,C={font:null,clone(){return this}},{fontName:F,fontSize:E}=b;return await d.handleSetFont(w,[F&&Name.get(F),E],null,S,x,C,null),C.font}_getTextWidth(d,x){return x.charsToGlyphs(d).reduce((b,w)=>b+w.width,0)/1e3}_computeFontSize(d,x,b,w,S){let{fontSize:C}=this.data.defaultAppearanceData,F=(C||12)*LINE_FACTOR,E=Math.round(d/F);if(!C){const k=L=>Math.floor(L*100)/100;if(S===-1){const L=this._getTextWidth(b,w);C=k(Math.min(d/LINE_FACTOR,L>x?x/L:1/0)),E=1}else{const L=b.split(/\r\n?|\n/),R=[];for(const j of L){const H=w.encodeString(j).join(""),z=w.charsToGlyphs(H),V=w.getCharPositions(H);R.push({line:H,glyphs:z,positions:V})}const U=j=>{let H=0;for(const z of R){const V=this._splitLine(null,w,j,x,z);if(H+=V.length*j,H>d)return!0}return!1};for(E=Math.max(E,S);;){if(F=d/E,C=k(F/LINE_FACTOR),U(C)){E++;continue}break}}const{fontName:D,fontColor:M}=this.data.defaultAppearanceData;this._defaultAppearance=createDefaultAppearance({fontSize:C,fontName:D,fontColor:M})}return[this._defaultAppearance,C,d/E]}_renderText(d,x,b,w,S,C,F,E){let k;if(S===1){const M=this._getTextWidth(d,x)*b;k=(w-M)/2}else if(S===2){const M=this._getTextWidth(d,x)*b;k=w-M-F}else k=F;const D=numberToString$1(k-C.shift);return C.shift=k,E=numberToString$1(E),`${D} ${E} Td (${escapeString(d)}) Tj`}_getSaveFieldResources(d){const{localResources:x,appearanceResources:b,acroFormResources:w}=this._fieldResources,S=this.data.defaultAppearanceData?.fontName;if(!S)return x||Dict.empty;for(const C of[x,b])if(C instanceof Dict){const F=C.get("Font");if(F instanceof Dict&&F.has(S))return C}if(w instanceof Dict){const C=w.get("Font");if(C instanceof Dict&&C.has(S)){const F=new Dict(d);F.set(S,C.getRaw(S));const E=new Dict(d);return E.set("Font",F),Dict.merge({xref:d,dictArray:[E,x],mergeSubDicts:!0})}}return x||Dict.empty}getFieldObject(){return null}}class TextWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const x=d.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let b=getInheritableProperty({dict:x,key:"Q"});(!Number.isInteger(b)||b<0||b>2)&&(b=null),this.data.textAlignment=b;let w=getInheritableProperty({dict:x,key:"MaxLen"});(!Number.isInteger(w)||w<0)&&(w=0),this.data.maxLen=w,this.data.multiLine=this.hasFieldFlag(AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(d,x,b,w,S,C,F,E,k,D,M){const L=S/this.data.maxLen,R=this.getBorderAndBackgroundAppearances(M),U=[],j=x.getCharPositions(b);for(const[z,V]of j)U.push(`(${escapeString(b.substring(z,V))}) Tj`);const H=U.join(` ${numberToString$1(L)} 0 Td `);return`/Tx BMC q ${R}BT `+d+` 1 0 0 1 ${numberToString$1(F)} ${numberToString$1(E+k)} Tm ${H} ET Q EMC`}_getMultilineAppearance(d,x,b,w,S,C,F,E,k,D,M,L){const R=[],U=S-2*E,j={shift:0};for(let V=0,G=x.length;V<G;V++){const $=x[V],K=this._splitLine($,b,w,U);for(let Z=0,Q=K.length;Z<Q;Z++){const ne=K[Z],le=V===0&&Z===0?-k-(M-D):-M;R.push(this._renderText(ne,b,w,S,F,j,E,le))}}const H=this.getBorderAndBackgroundAppearances(L),z=R.join(`
`);return`/Tx BMC q ${H}BT `+d+` 1 0 0 1 0 ${numberToString$1(C)} Tm ${z} ET Q EMC`}_splitLine(d,x,b,w,S={}){d=S.line||d;const C=S.glyphs||x.charsToGlyphs(d);if(C.length<=1)return[d];const F=S.positions||x.getCharPositions(d),E=b/1e3,k=[];let D=-1,M=-1,L=-1,R=0,U=0;for(let j=0,H=C.length;j<H;j++){const[z,V]=F[j],G=C[j],$=G.width*E;G.unicode===" "?U+$>w?(k.push(d.substring(R,z)),R=z,U=$,D=-1,L=-1):(U+=$,D=z,M=V,L=j):U+$>w?D!==-1?(k.push(d.substring(R,M)),R=M,j=L+1,D=-1,U=0):(k.push(d.substring(R,z)),R=z,U=$):U+=$}return R<d.length&&k.push(d.substring(R,d.length)),k}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class ButtonWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(d):this.data.radioButton?this._processRadioButton(d):this.data.pushButton?(this.data.hasOwnCanvas=!0,this.data.noHTML=!1,this._processPushButton(d)):warn("Invalid field flags for button widget annotation")}async getOperatorList(d,x,b,w,S){if(this.data.pushButton)return super.getOperatorList(d,x,b,!1,S);let C=null,F=null;if(S){const k=S.get(this.data.id);C=k?k.value:null,F=k?k.rotation:null}if(C===null&&this.appearance)return super.getOperatorList(d,x,b,w,S);C==null&&(C=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const E=C?this.checkedAppearance:this.uncheckedAppearance;if(E){const k=this.appearance,D=E.dict.getArray("Matrix")||IDENTITY_MATRIX;F&&E.dict.set("Matrix",this.getRotationMatrix(S)),this.appearance=E;const M=super.getOperatorList(d,x,b,w,S);return this.appearance=k,E.dict.set("Matrix",D),M}return{opList:new OperatorList,separateForm:!1,separateCanvas:!1}}async save(d,x,b){return this.data.checkBox?this._saveCheckbox(d,x,b):this.data.radioButton?this._saveRadioButton(d,x,b):null}async _saveCheckbox(d,x,b){if(!b)return null;const w=b.get(this.data.id);let S=w?.rotation,C=w?.value;if(S===void 0&&(C===void 0||this.data.fieldValue===this.data.exportValue===C))return null;const F=d.xref.fetchIfRef(this.ref);if(!(F instanceof Dict))return null;S===void 0&&(S=this.rotation),C===void 0&&(C=this.data.fieldValue===this.data.exportValue);const E={path:this.data.fieldName,value:C?this.data.exportValue:""},k=Name.get(C?this.data.exportValue:"Off");F.set("V",k),F.set("AS",k),F.set("M",`D:${getModificationDate()}`);const D=this._getMKDict(S);D&&F.set("MK",D);const M=[];return await writeObject(this.ref,F,M,d.xref),[{ref:this.ref,data:M.join(""),xfa:E}]}async _saveRadioButton(d,x,b){if(!b)return null;const w=b.get(this.data.id);let S=w?.rotation,C=w?.value;if(S===void 0&&(C===void 0||this.data.fieldValue===this.data.buttonValue===C))return null;const F=d.xref.fetchIfRef(this.ref);if(!(F instanceof Dict))return null;C===void 0&&(C=this.data.fieldValue===this.data.buttonValue),S===void 0&&(S=this.rotation);const E={path:this.data.fieldName,value:C?this.data.buttonValue:""},k=Name.get(C?this.data.buttonValue:"Off"),D=[];let M=null;if(C)if(this.parent instanceof Ref){const U=d.xref.fetch(this.parent);U.set("V",k),await writeObject(this.parent,U,D,d.xref),M=D.join(""),D.length=0}else this.parent instanceof Dict&&this.parent.set("V",k);F.set("AS",k),F.set("M",`D:${getModificationDate()}`);const L=this._getMKDict(S);L&&F.set("MK",L),await writeObject(this.ref,F,D,d.xref);const R=[{ref:this.ref,data:D.join(""),xfa:E}];return M&&R.push({ref:this.parent,data:M,xfa:null}),R}_getDefaultCheckedAppearance(d,x){const b=this.data.rect[2]-this.data.rect[0],w=this.data.rect[3]-this.data.rect[1],S=[0,0,b,w],C=.8,F=Math.min(b,w)*C;let E,k;x==="check"?(E={width:.755*F,height:.705*F},k="3"):x==="disc"?(E={width:.791*F,height:.705*F},k="l"):unreachable(`_getDefaultCheckedAppearance - unsupported type: ${x}`);const D=numberToString$1((b-E.width)/2),M=numberToString$1((w-E.height)/2),L=`q BT /PdfJsZaDb ${F} Tf 0 g ${D} ${M} Td (${k}) Tj ET Q`,R=new Dict(d.xref);R.set("FormType",1),R.set("Subtype",Name.get("Form")),R.set("Type",Name.get("XObject")),R.set("BBox",S),R.set("Matrix",[1,0,0,1,0,0]),R.set("Length",L.length);const U=new Dict(d.xref),j=new Dict(d.xref);j.set("PdfJsZaDb",this.fallbackFontDict),U.set("Font",j),R.set("Resources",U),this.checkedAppearance=new StringStream(L),this.checkedAppearance.dict=R,this._streams.push(this.checkedAppearance)}_processCheckBox(d){const x=d.dict.get("AP");if(!(x instanceof Dict))return;const b=x.get("N");if(!(b instanceof Dict))return;const w=this._decodeFormValue(d.dict.get("AS"));typeof w=="string"&&(this.data.fieldValue=w);const S=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",C=b.getKeys();if(C.length===0)C.push("Off",S);else if(C.length===1)C[0]==="Off"?C.push(S):C.unshift("Off");else if(C.includes(S))C.length=0,C.push("Off",S);else{const k=C.find(D=>D!=="Off");C.length=0,C.push("Off",k)}C.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=C[1];const F=b.get(this.data.exportValue);this.checkedAppearance=F instanceof BaseStream?F:null;const E=b.get("Off");this.uncheckedAppearance=E instanceof BaseStream?E:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(d,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(d){this.data.buttonValue=null;const x=d.dict.get("Parent");if(x instanceof Dict){this.parent=d.dict.getRaw("Parent");const F=x.get("V");F instanceof Name&&(this.data.fieldValue=this._decodeFormValue(F))}const b=d.dict.get("AP");if(!(b instanceof Dict))return;const w=b.get("N");if(!(w instanceof Dict))return;for(const F of w.getKeys())if(F!=="Off"){this.data.buttonValue=this._decodeFormValue(F);break}const S=w.get(this.data.buttonValue);this.checkedAppearance=S instanceof BaseStream?S:null;const C=w.get("Off");this.uncheckedAppearance=C instanceof BaseStream?C:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(d,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(d){const{dict:x,annotationGlobals:b}=d;if(!x.has("A")&&!x.has("AA")&&!this.data.alternativeText){warn("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!x.has("A")&&!x.has("AA"),Catalog.parseDestDictionary({destDict:x,resultObj:this.data,docBaseUrl:b.baseUrl,docAttachments:b.attachments})}getFieldObject(){let d="button",x;return this.data.checkBox?(d="checkbox",x=this.data.exportValue):this.data.radioButton&&(d="radiobutton",x=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:x,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:d}}get fallbackFontDict(){const d=new Dict;return d.set("BaseFont",Name.get("ZapfDingbats")),d.set("Type",Name.get("FallbackType")),d.set("Subtype",Name.get("FallbackType")),d.set("Encoding",Name.get("ZapfDingbatsEncoding")),shadow(this,"fallbackFontDict",d)}}class ChoiceWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;this.indices=x.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const w=getInheritableProperty({dict:x,key:"Opt"});if(Array.isArray(w))for(let S=0,C=w.length;S<C;S++){const F=b.fetchIfRef(w[S]),E=Array.isArray(F);this.data.options[S]={exportValue:this._decodeFormValue(E?b.fetchIfRef(F[0]):F),displayValue:this._decodeFormValue(E?b.fetchIfRef(F[1]):F)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const S=this.data.options.length;for(const C of this.indices)Number.isInteger(C)&&C>=0&&C<S&&this.data.fieldValue.push(this.data.options[C].exportValue)}this.data.combo=this.hasFieldFlag(AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const d=this.data.combo?"combobox":"listbox",x=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:x,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:d}}amendSavedDict(d,x){if(!this.hasIndices)return;let b=d?.get(this.data.id)?.value;Array.isArray(b)||(b=[b]);const w=[],{options:S}=this.data;for(let C=0,F=0,E=S.length;C<E;C++)S[C].exportValue===b[F]&&(w.push(C),F+=1);x.set("I",w)}async _getAppearance(d,x,b,w){if(this.data.combo)return super._getAppearance(d,x,b,w);let S,C;const F=w?.get(this.data.id);if(F&&(C=F.rotation,S=F.value),C===void 0&&S===void 0&&!this._needAppearances)return null;S===void 0?S=this.data.fieldValue:Array.isArray(S)||(S=[S]);const E=1,k=2;let D=this.data.rect[3]-this.data.rect[1],M=this.data.rect[2]-this.data.rect[0];(C===90||C===270)&&([M,D]=[D,M]);const L=this.data.options.length,R=[];for(let ne=0;ne<L;ne++){const{exportValue:le}=this.data.options[ne];S.includes(le)&&R.push(ne)}this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const U=await WidgetAnnotation._getFontData(d,x,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let j,{fontSize:H}=this.data.defaultAppearanceData;if(H)j=this._defaultAppearance;else{const ne=(D-E)/L;let le=-1,fe;for(const{displayValue:be}of this.data.options){const me=this._getTextWidth(be,U);me>le&&(le=me,fe=be)}[j,H]=this._computeFontSize(ne,M-2*k,fe,U,-1)}const z=H*LINE_FACTOR,V=(z-H)/2,G=Math.floor(D/z);let $=0;if(R.length>0){const ne=Math.min(...R),le=Math.max(...R);$=Math.max(0,le-G+1),$>ne&&($=ne)}const K=Math.min($+G+1,L),Z=["/Tx BMC q",`1 1 ${M} ${D} re W n`];if(R.length){Z.push("0.600006 0.756866 0.854904 rg");for(const ne of R)$<=ne&&ne<K&&Z.push(`1 ${D-(ne-$+1)*z} ${M} ${z} re f`)}Z.push("BT",j,`1 0 0 1 0 ${D} Tm`);const Q={shift:0};for(let ne=$;ne<K;ne++){const{displayValue:le}=this.data.options[ne],fe=ne===$?V:0;Z.push(this._renderText(le,U,H,M,0,Q,k,-z+fe))}return Z.push("ET Q EMC"),Z.join(`
`)}}class SignatureWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!this.data.hasOwnCanvas}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class TextAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:b}=d;this.data.annotationType=AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=b.has("Name")?b.get("Name").name:"Note"),b.has("State")?(this.data.state=b.get("State")||null,this.data.stateModel=b.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class LinkAnnotation extends Annotation{constructor(d){super(d);const{dict:x,annotationGlobals:b}=d;this.data.annotationType=AnnotationType.LINK;const w=getQuadPoints(x,this.rectangle);w&&(this.data.quadPoints=w),this.data.borderColor||=this.data.color,Catalog.parseDestDictionary({destDict:x,resultObj:this.data,docBaseUrl:b.baseUrl,docAttachments:b.attachments})}}class PopupAnnotation extends Annotation{constructor(d){super(d);const{dict:x}=d;this.data.annotationType=AnnotationType.POPUP,this.data.noHTML=!1,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let b=x.get("Parent");if(!b){warn("Popup annotation has a missing or invalid parent annotation.");return}const w=b.getArray("Rect");this.data.parentRect=Array.isArray(w)&&w.length===4?Util.normalizeRect(w):null;const S=b.get("RT");if(isName(S,AnnotationReplyType.GROUP)&&(b=b.get("IRT")),b.has("M")?(this.setModificationDate(b.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,b.has("C")?(this.setColor(b.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const C=b.get("F");this._isViewable(C)&&this.setFlags(C)}this.setTitle(b.get("T")),this.data.titleObj=this._title,this.setContents(b.get("Contents")),this.data.contentsObj=this._contents,b.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(b.get("RC"))),this.data.open=!!x.get("Open")}}class FreeTextAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.hasOwnCanvas=!this.data.noHTML,this.data.noHTML=!1;const{evaluatorOptions:x,xref:b}=d;if(this.data.annotationType=AnnotationType.FREETEXT,this.setDefaultAppearance(d),this.appearance){const{fontColor:w,fontSize:S}=parseAppearanceStream(this.appearance,x,b);this.data.defaultAppearanceData.fontColor=w,this.data.defaultAppearanceData.fontSize=S||10}else if(this._isOffscreenCanvasSupported){const w=d.dict.get("CA"),S=new FakeUnicodeFont(b,"sans-serif");this.data.defaultAppearanceData.fontSize||=10;const{fontColor:C,fontSize:F}=this.data.defaultAppearanceData;this.appearance=S.createAppearance(this._contents.str,this.rectangle,this.rotation,F,C,w),this._streams.push(this.appearance,FakeUnicodeFont.toUnicodeStream)}else warn("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(d,x,{apRef:b,ap:w}){const{color:S,fontSize:C,rect:F,rotation:E,user:k,value:D}=d,M=new Dict(x);M.set("Type",Name.get("Annot")),M.set("Subtype",Name.get("FreeText")),M.set("CreationDate",`D:${getModificationDate()}`),M.set("Rect",F);const L=`/Helv ${C} Tf ${getPdfColor(S,!0)}`;if(M.set("DA",L),M.set("Contents",isAscii(D)?D:stringToUTF16String(D,!0)),M.set("F",4),M.set("Border",[0,0,0]),M.set("Rotate",E),k&&M.set("T",isAscii(k)?k:stringToUTF16String(k,!0)),b||w){const R=new Dict(x);M.set("AP",R),b?R.set("N",b):R.set("N",w)}return M}static async createNewAppearanceStream(d,x,b){const{baseFontRef:w,evaluator:S,task:C}=b,{color:F,fontSize:E,rect:k,rotation:D,value:M}=d,L=new Dict(x),R=new Dict(x);if(w)R.set("Helv",w);else{const De=new Dict(x);De.set("BaseFont",Name.get("Helvetica")),De.set("Type",Name.get("Font")),De.set("Subtype",Name.get("Type1")),De.set("Encoding",Name.get("WinAnsiEncoding")),R.set("Helv",De)}L.set("Font",R);const U=await WidgetAnnotation._getFontData(S,C,{fontName:"Helv",fontSize:E},L),[j,H,z,V]=k;let G=z-j,$=V-H;D%180!==0&&([G,$]=[$,G]);const K=M.split(`
`),Z=E/1e3;let Q=-1/0;const ne=[];for(let De of K){const _e=U.encodeString(De);if(_e.length>1)return null;De=_e.join(""),ne.push(De);let Pe=0;const re=U.charsToGlyphs(De);for(const ae of re)Pe+=ae.width*Z;Q=Math.max(Q,Pe)}let le=1;Q>G&&(le=G/Q);let fe=1;const be=LINE_FACTOR*E,me=(LINE_FACTOR-LINE_DESCENT_FACTOR)*E,we=be*K.length;we>$&&(fe=$/we);const oe=Math.min(le,fe),ge=E*oe;let Ae,Ce,Ne;switch(D){case 0:Ne=[1,0,0,1],Ce=[k[0],k[1],G,$],Ae=[k[0],k[3]-me];break;case 90:Ne=[0,1,-1,0],Ce=[k[1],-k[2],G,$],Ae=[k[1],-k[0]-me];break;case 180:Ne=[-1,0,0,-1],Ce=[-k[2],-k[3],G,$],Ae=[-k[2],-k[1]-me];break;case 270:Ne=[0,-1,1,0],Ce=[-k[3],k[0],G,$],Ae=[-k[3],k[2]-me];break}const Oe=["q",`${Ne.join(" ")} 0 0 cm`,`${Ce.join(" ")} re W n`,"BT",`${getPdfColor(F,!0)}`,`0 Tc /Helv ${numberToString$1(ge)} Tf`];Oe.push(`${Ae.join(" ")} Td (${escapeString(ne[0])}) Tj`);const Be=numberToString$1(be);for(let De=1,_e=ne.length;De<_e;De++){const Pe=ne[De];Oe.push(`0 -${Be} Td (${escapeString(Pe)}) Tj`)}Oe.push("ET","Q");const Ie=Oe.join(`
`),Ee=new Dict(x);Ee.set("FormType",1),Ee.set("Subtype",Name.get("Form")),Ee.set("Type",Name.get("XObject")),Ee.set("BBox",k),Ee.set("Resources",L),Ee.set("Matrix",[1,0,0,1,-k[0],-k[1]]);const Ue=new StringStream(Ie);return Ue.dict=Ee,Ue}}class LineAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;this.data.annotationType=AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const w=x.getArray("L");if(this.data.lineCoordinates=Util.normalizeRect(w),this.setLineEndings(x.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA"),F=getRgbColor(x.getArray("IC"),null),E=F?getPdfColorArray(F):null,k=E?C:null,D=this.borderStyle.width||1,M=2*D,L=[this.data.lineCoordinates[0]-M,this.data.lineCoordinates[1]-M,this.data.lineCoordinates[2]+M,this.data.lineCoordinates[3]+M];Util.intersect(this.rectangle,L)||(this.rectangle=L),this._setDefaultAppearance({xref:b,extra:`${D} w`,strokeColor:S,fillColor:E,strokeAlpha:C,fillAlpha:k,pointsCallback:(R,U)=>(R.push(`${w[0]} ${w[1]} m`,`${w[2]} ${w[3]} l`,"S"),[U[0].x-D,U[1].x+D,U[3].y-D,U[1].y+D])})}}}class SquareAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],S=x.get("CA"),C=getRgbColor(x.getArray("IC"),null),F=C?getPdfColorArray(C):null,E=F?S:null;if(this.borderStyle.width===0&&!F)return;this._setDefaultAppearance({xref:b,extra:`${this.borderStyle.width} w`,strokeColor:w,fillColor:F,strokeAlpha:S,fillAlpha:E,pointsCallback:(k,D)=>{const M=D[2].x+this.borderStyle.width/2,L=D[2].y+this.borderStyle.width/2,R=D[3].x-D[2].x-this.borderStyle.width,U=D[1].y-D[3].y-this.borderStyle.width;return k.push(`${M} ${L} ${R} ${U} re`),F?k.push("B"):k.push("S"),[D[0].x,D[1].x,D[3].y,D[1].y]}})}}}class CircleAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.CIRCLE,!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],S=x.get("CA"),C=getRgbColor(x.getArray("IC"),null),F=C?getPdfColorArray(C):null,E=F?S:null;if(this.borderStyle.width===0&&!F)return;const k=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:b,extra:`${this.borderStyle.width} w`,strokeColor:w,fillColor:F,strokeAlpha:S,fillAlpha:E,pointsCallback:(D,M)=>{const L=M[0].x+this.borderStyle.width/2,R=M[0].y-this.borderStyle.width/2,U=M[3].x-this.borderStyle.width/2,j=M[3].y+this.borderStyle.width/2,H=L+(U-L)/2,z=R+(j-R)/2,V=(U-L)/2*k,G=(j-R)/2*k;return D.push(`${H} ${j} m`,`${H+V} ${j} ${U} ${z+G} ${U} ${z} c`,`${U} ${z-G} ${H+V} ${R} ${H} ${R} c`,`${H-V} ${R} ${L} ${z-G} ${L} ${z} c`,`${L} ${z+G} ${H-V} ${j} ${H} ${j} c`,"h"),F?D.push("B"):D.push("S"),[M[0].x,M[1].x,M[3].y,M[1].y]}})}}}class PolylineAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;this.data.annotationType=AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.vertices=[],this instanceof PolygonAnnotation||(this.setLineEndings(x.getArray("LE")),this.data.lineEndings=this.lineEndings);const w=x.getArray("Vertices");if(Array.isArray(w)){for(let S=0,C=w.length;S<C;S+=2)this.data.vertices.push({x:w[S],y:w[S+1]});if(!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA"),F=this.borderStyle.width||1,E=2*F,k=[1/0,1/0,-1/0,-1/0];for(const D of this.data.vertices)k[0]=Math.min(k[0],D.x-E),k[1]=Math.min(k[1],D.y-E),k[2]=Math.max(k[2],D.x+E),k[3]=Math.max(k[3],D.y+E);Util.intersect(this.rectangle,k)||(this.rectangle=k),this._setDefaultAppearance({xref:b,extra:`${F} w`,strokeColor:S,strokeAlpha:C,pointsCallback:(D,M)=>{const L=this.data.vertices;for(let R=0,U=L.length;R<U;R++)D.push(`${L[R].x} ${L[R].y} ${R===0?"m":"l"}`);return D.push("S"),[M[0].x,M[1].x,M[3].y,M[1].y]}})}}}}class PolygonAnnotation extends PolylineAnnotation{constructor(d){super(d),this.data.annotationType=AnnotationType.POLYGON}}class CaretAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.annotationType=AnnotationType.CARET}}class InkAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:x,xref:b}=d;this.data.annotationType=AnnotationType.INK,this.data.inkLists=[];const w=x.getArray("InkList");if(Array.isArray(w)){for(let S=0,C=w.length;S<C;++S){this.data.inkLists.push([]);for(let F=0,E=w[S].length;F<E;F+=2)this.data.inkLists[S].push({x:b.fetchIfRef(w[S][F]),y:b.fetchIfRef(w[S][F+1])})}if(!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA"),F=this.borderStyle.width||1,E=2*F,k=[1/0,1/0,-1/0,-1/0];for(const D of this.data.inkLists)for(const M of D)k[0]=Math.min(k[0],M.x-E),k[1]=Math.min(k[1],M.y-E),k[2]=Math.max(k[2],M.x+E),k[3]=Math.max(k[3],M.y+E);Util.intersect(this.rectangle,k)||(this.rectangle=k),this._setDefaultAppearance({xref:b,extra:`${F} w`,strokeColor:S,strokeAlpha:C,pointsCallback:(D,M)=>{for(const L of this.data.inkLists){for(let R=0,U=L.length;R<U;R++)D.push(`${L[R].x} ${L[R].y} ${R===0?"m":"l"}`);D.push("S")}return[M[0].x,M[1].x,M[3].y,M[1].y]}})}}}static createNewDict(d,x,{apRef:b,ap:w}){const{color:S,opacity:C,paths:F,rect:E,rotation:k,thickness:D}=d,M=new Dict(x);M.set("Type",Name.get("Annot")),M.set("Subtype",Name.get("Ink")),M.set("CreationDate",`D:${getModificationDate()}`),M.set("Rect",E),M.set("InkList",F.map(U=>U.points)),M.set("F",4),M.set("Rotate",k);const L=new Dict(x);M.set("BS",L),L.set("W",D),M.set("C",Array.from(S,U=>U/255)),M.set("CA",C);const R=new Dict(x);return M.set("AP",R),b?R.set("N",b):R.set("N",w),M}static async createNewAppearanceStream(d,x,b){const{color:w,rect:S,paths:C,thickness:F,opacity:E}=d,k=[`${F} w 1 J 1 j`,`${getPdfColor(w,!1)}`];E!==1&&k.push("/R0 gs");const D=[];for(const{bezier:U}of C){D.length=0,D.push(`${numberToString$1(U[0])} ${numberToString$1(U[1])} m`);for(let j=2,H=U.length;j<H;j+=6){const z=U.slice(j,j+6).map(numberToString$1).join(" ");D.push(`${z} c`)}D.push("S"),k.push(D.join(`
`))}const M=k.join(`
`),L=new Dict(x);if(L.set("FormType",1),L.set("Subtype",Name.get("Form")),L.set("Type",Name.get("XObject")),L.set("BBox",S),L.set("Length",M.length),E!==1){const U=new Dict(x),j=new Dict(x),H=new Dict(x);H.set("CA",E),H.set("Type",Name.get("ExtGState")),j.set("R0",H),U.set("ExtGState",j),L.set("Resources",U)}const R=new StringStream(M);return R.dict=L,R}}class HighlightAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.HIGHLIGHT,this.data.quadPoints=getQuadPoints(x,null)){const S=this.appearance?.dict.get("Resources");if(!this.appearance||!S?.has("ExtGState")){this.appearance&&warn("HighlightAnnotation - ignoring built-in appearance stream.");const C=this.color?getPdfColorArray(this.color):[1,1,0],F=x.get("CA");this._setDefaultAppearance({xref:b,fillColor:C,blendMode:"Multiply",fillAlpha:F,pointsCallback:(E,k)=>(E.push(`${k[0].x} ${k[0].y} m`,`${k[1].x} ${k[1].y} l`,`${k[3].x} ${k[3].y} l`,`${k[2].x} ${k[2].y} l`,"f"),[k[0].x,k[1].x,k[3].y,k[1].y])})}}else this.data.popupRef=null}static createNewDict(d,x,{apRef:b,ap:w}){const{color:S,opacity:C,rect:F,rotation:E,user:k,quadPoints:D}=d,M=new Dict(x);if(M.set("Type",Name.get("Annot")),M.set("Subtype",Name.get("Highlight")),M.set("CreationDate",`D:${getModificationDate()}`),M.set("Rect",F),M.set("F",4),M.set("Border",[0,0,0]),M.set("Rotate",E),M.set("QuadPoints",D),M.set("C",Array.from(S,L=>L/255)),M.set("CA",C),k&&M.set("T",isAscii(k)?k:stringToUTF16String(k,!0)),b||w){const L=new Dict(x);M.set("AP",L),L.set("N",b||w)}return M}static async createNewAppearanceStream(d,x,b){const{color:w,rect:S,outlines:C,opacity:F}=d,E=[`${getPdfColor(w,!0)}`,"/R0 gs"],k=[];for(const H of C){k.length=0,k.push(`${numberToString$1(H[0])} ${numberToString$1(H[1])} m`);for(let z=2,V=H.length;z<V;z+=2)k.push(`${numberToString$1(H[z])} ${numberToString$1(H[z+1])} l`);k.push("h"),E.push(k.join(`
`))}E.push("f*");const D=E.join(`
`),M=new Dict(x);M.set("FormType",1),M.set("Subtype",Name.get("Form")),M.set("Type",Name.get("XObject")),M.set("BBox",S),M.set("Length",D.length);const L=new Dict(x),R=new Dict(x);L.set("ExtGState",R),M.set("Resources",L);const U=new Dict(x);R.set("R0",U),U.set("BM",Name.get("Multiply")),F!==1&&(U.set("ca",F),U.set("Type",Name.get("ExtGState")));const j=new StringStream(D);return j.dict=M,j}}class UnderlineAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.UNDERLINE,this.data.quadPoints=getQuadPoints(x,null)){if(!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA");this._setDefaultAppearance({xref:b,extra:"[] 0 d 0.571 w",strokeColor:S,strokeAlpha:C,pointsCallback:(F,E)=>(F.push(`${E[2].x} ${E[2].y+1.3} m`,`${E[3].x} ${E[3].y+1.3} l`,"S"),[E[0].x,E[1].x,E[3].y,E[1].y])})}}else this.data.popupRef=null}}class SquigglyAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.SQUIGGLY,this.data.quadPoints=getQuadPoints(x,null)){if(!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA");this._setDefaultAppearance({xref:b,extra:"[] 0 d 1 w",strokeColor:S,strokeAlpha:C,pointsCallback:(F,E)=>{const k=(E[0].y-E[2].y)/6;let D=k,M=E[2].x;const L=E[2].y,R=E[3].x;F.push(`${M} ${L+D} m`);do M+=2,D=D===0?k:0,F.push(`${M} ${L+D} l`);while(M<R);return F.push("S"),[E[2].x,R,L-2*k,L+2*k]}})}}else this.data.popupRef=null}}class StrikeOutAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.STRIKEOUT,this.data.quadPoints=getQuadPoints(x,null)){if(!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA");this._setDefaultAppearance({xref:b,extra:"[] 0 d 1 w",strokeColor:S,strokeAlpha:C,pointsCallback:(F,E)=>(F.push(`${(E[0].x+E[2].x)/2} ${(E[0].y+E[2].y)/2} m`,`${(E[1].x+E[3].x)/2} ${(E[1].y+E[3].y)/2} l`,"S"),[E[0].x,E[1].x,E[3].y,E[1].y])})}}else this.data.popupRef=null}}class StampAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.annotationType=AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1}static async createImage(d,x){const{width:b,height:w}=d,S=new OffscreenCanvas(b,w),C=S.getContext("2d",{alpha:!0});C.drawImage(d,0,0);const F=C.getImageData(0,0,b,w).data,E=new Uint32Array(F.buffer),k=E.some(FeatureTest.isLittleEndian?H=>H>>>24!==255:H=>(H&255)!==255);k&&(C.fillStyle="white",C.fillRect(0,0,b,w),C.drawImage(d,0,0));const D=S.convertToBlob({type:"image/jpeg",quality:1}).then(H=>H.arrayBuffer()),M=Name.get("XObject"),L=Name.get("Image"),R=new Dict(x);R.set("Type",M),R.set("Subtype",L),R.set("BitsPerComponent",8),R.set("ColorSpace",Name.get("DeviceRGB")),R.set("Filter",Name.get("DCTDecode")),R.set("BBox",[0,0,b,w]),R.set("Width",b),R.set("Height",w);let U=null;if(k){const H=new Uint8Array(E.length);if(FeatureTest.isLittleEndian)for(let V=0,G=E.length;V<G;V++)H[V]=E[V]>>>24;else for(let V=0,G=E.length;V<G;V++)H[V]=E[V]&255;const z=new Dict(x);z.set("Type",M),z.set("Subtype",L),z.set("BitsPerComponent",8),z.set("ColorSpace",Name.get("DeviceGray")),z.set("Width",b),z.set("Height",w),U=new Stream$1(H,0,0,z)}return{imageStream:new Stream$1(await D,0,0,R),smaskStream:U,width:b,height:w}}static createNewDict(d,x,{apRef:b,ap:w}){const{rect:S,rotation:C,user:F}=d,E=new Dict(x);if(E.set("Type",Name.get("Annot")),E.set("Subtype",Name.get("Stamp")),E.set("CreationDate",`D:${getModificationDate()}`),E.set("Rect",S),E.set("F",4),E.set("Border",[0,0,0]),E.set("Rotate",C),F&&E.set("T",isAscii(F)?F:stringToUTF16String(F,!0)),b||w){const k=new Dict(x);E.set("AP",k),b?k.set("N",b):k.set("N",w)}return E}static async createNewAppearanceStream(d,x,b){const{rotation:w}=d,{imageRef:S,width:C,height:F}=b.image,E=new Dict(x),k=new Dict(x);E.set("XObject",k),k.set("Im0",S);const D=`q ${C} 0 0 ${F} 0 0 cm /Im0 Do Q`,M=new Dict(x);if(M.set("FormType",1),M.set("Subtype",Name.get("Form")),M.set("Type",Name.get("XObject")),M.set("BBox",[0,0,C,F]),M.set("Resources",E),w){const R=getRotationMatrix(w,C,F);M.set("Matrix",R)}const L=new StringStream(D);return L.dict=M,L}}class FileAttachmentAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d,w=new FileSpec(x.get("FS"),b);this.data.annotationType=AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.file=w.serializable;const S=x.get("Name");this.data.name=S instanceof Name?stringToPDFString(S.name):"PushPin";const C=x.get("ca");this.data.fillAlpha=typeof C=="number"&&C>=0&&C<=1?C:null}}function decodeString(g){try{return stringToUTF8String(g)}catch(d){return warn(`UTF-8 decoding failed: "${d}".`),g}}class DatasetXMLParser extends SimpleXMLParser{constructor(d){super(d),this.node=null}onEndElement(d){const x=super.onEndElement(d);if(x&&d==="xfa:datasets")throw this.node=x,new Error("Aborting DatasetXMLParser.")}}class DatasetReader{constructor(d){if(d.datasets)this.node=new SimpleXMLParser({hasAttributes:!0}).parseFromString(d.datasets).documentElement;else{const x=new DatasetXMLParser({hasAttributes:!0});try{x.parseFromString(d["xdp:xdp"])}catch{}this.node=x.node}}getValue(d){if(!this.node||!d)return"";const x=this.node.searchNode(parseXFAPath(d),0);return x?x.firstChild?.nodeName==="value"?x.children.map(w=>decodeString(w.textContent)):decodeString(x.textContent):""}}class XRef{#e=null;constructor(d,x){this.stream=d,this.pdfManager=x,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(d){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const x=this._newPersistentRefNum++;return this._cacheMap.set(x,d),Ref.get(x,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(d){this.startXRefQueue=[d]}parse(d=!1){let x;d?(warn("Indexing all PDF objects"),x=this.indexObjects()):x=this.readXRef(),x.assignXref(this),this.trailer=x;let b;try{b=x.get("Encrypt")}catch(S){if(S instanceof MissingDataException)throw S;warn(`XRef.parse - Invalid "Encrypt" reference: "${S}".`)}if(b instanceof Dict){const S=x.get("ID"),C=S?.length?S[0]:"";b.suppressEncryption=!0,this.encrypt=new CipherTransformFactory(b,C,this.pdfManager.password)}let w;try{w=x.get("Root")}catch(S){if(S instanceof MissingDataException)throw S;warn(`XRef.parse - Invalid "Root" reference: "${S}".`)}if(w instanceof Dict)try{if(w.get("Pages")instanceof Dict){this.root=w;return}}catch(S){if(S instanceof MissingDataException)throw S;warn(`XRef.parse - Invalid "Pages" reference: "${S}".`)}throw d?new InvalidPDFException("Invalid Root reference."):new XRefParseException}processXRefTable(d){"tableState"in this||(this.tableState={entryNum:0,streamPos:d.lexer.stream.pos,parserBuf1:d.buf1,parserBuf2:d.buf2});const x=this.readXRefTable(d);if(!isCmd(x,"trailer"))throw new FormatError("Invalid XRef table: could not find trailer dictionary");let b=d.getObj();if(!(b instanceof Dict)&&b.dict&&(b=b.dict),!(b instanceof Dict))throw new FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,b}readXRefTable(d){const x=d.lexer.stream,b=this.tableState;x.pos=b.streamPos,d.buf1=b.parserBuf1,d.buf2=b.parserBuf2;let w;for(;;){if(!("firstEntryNum"in b)||!("entryCount"in b)){if(isCmd(w=d.getObj(),"trailer"))break;b.firstEntryNum=w,b.entryCount=d.getObj()}let S=b.firstEntryNum;const C=b.entryCount;if(!Number.isInteger(S)||!Number.isInteger(C))throw new FormatError("Invalid XRef table: wrong types in subsection header");for(let F=b.entryNum;F<C;F++){b.streamPos=x.pos,b.entryNum=F,b.parserBuf1=d.buf1,b.parserBuf2=d.buf2;const E={};E.offset=d.getObj(),E.gen=d.getObj();const k=d.getObj();if(k instanceof Cmd)switch(k.cmd){case"f":E.free=!0;break;case"n":E.uncompressed=!0;break}if(!Number.isInteger(E.offset)||!Number.isInteger(E.gen)||!(E.free||E.uncompressed))throw new FormatError(`Invalid entry in XRef subsection: ${S}, ${C}`);F===0&&E.free&&S===1&&(S=0),this.entries[F+S]||(this.entries[F+S]=E)}b.entryNum=0,b.streamPos=x.pos,b.parserBuf1=d.buf1,b.parserBuf2=d.buf2,delete b.firstEntryNum,delete b.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new FormatError("Invalid XRef table: unexpected first object");return w}processXRefStream(d){if(!("streamState"in this)){const x=d.dict,b=x.get("W");let w=x.get("Index");w||(w=[0,x.get("Size")]),this.streamState={entryRanges:w,byteWidths:b,entryNum:0,streamPos:d.pos}}return this.readXRefStream(d),delete this.streamState,d.dict}readXRefStream(d){const x=this.streamState;d.pos=x.streamPos;const[b,w,S]=x.byteWidths,C=x.entryRanges;for(;C.length>0;){const[F,E]=C;if(!Number.isInteger(F)||!Number.isInteger(E))throw new FormatError(`Invalid XRef range fields: ${F}, ${E}`);if(!Number.isInteger(b)||!Number.isInteger(w)||!Number.isInteger(S))throw new FormatError(`Invalid XRef entry fields length: ${F}, ${E}`);for(let k=x.entryNum;k<E;++k){x.entryNum=k,x.streamPos=d.pos;let D=0,M=0,L=0;for(let U=0;U<b;++U){const j=d.getByte();if(j===-1)throw new FormatError("Invalid XRef byteWidths 'type'.");D=D<<8|j}b===0&&(D=1);for(let U=0;U<w;++U){const j=d.getByte();if(j===-1)throw new FormatError("Invalid XRef byteWidths 'offset'.");M=M<<8|j}for(let U=0;U<S;++U){const j=d.getByte();if(j===-1)throw new FormatError("Invalid XRef byteWidths 'generation'.");L=L<<8|j}const R={};switch(R.offset=M,R.gen=L,D){case 0:R.free=!0;break;case 1:R.uncompressed=!0;break;case 2:break;default:throw new FormatError(`Invalid XRef entry type: ${D}`)}this.entries[F+k]||(this.entries[F+k]=R)}x.entryNum=0,x.streamPos=d.pos,C.splice(0,2)}}indexObjects(){function F(fe,be){let me="",we=fe[be];for(;we!==10&&we!==13&&we!==60&&!(++be>=fe.length);)me+=String.fromCharCode(we),we=fe[be];return me}function E(fe,be,me){const we=me.length,oe=fe.length;let ge=0;for(;be<oe;){let Ae=0;for(;Ae<we&&fe[be+Ae]===me[Ae];)++Ae;if(Ae>=we)break;be++,ge++}return ge}const k=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,D=/\b(startxref|\d+\s+\d+\s+obj)\b/g,M=/^(\d+)\s+(\d+)\s+obj\b/,L=new Uint8Array([116,114,97,105,108,101,114]),R=new Uint8Array([115,116,97,114,116,120,114,101,102]),U=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const j=this.stream;j.pos=0;const H=j.getBytes(),z=bytesToString(H),V=H.length;let G=j.start;const $=[],K=[];for(;G<V;){let fe=H[G];if(fe===9||fe===10||fe===13||fe===32){++G;continue}if(fe===37){do{if(++G,G>=V)break;fe=H[G]}while(fe!==10&&fe!==13);continue}const be=F(H,G);let me;if(be.startsWith("xref")&&(be.length===4||/\s/.test(be[4])))G+=E(H,G,L),$.push(G),G+=E(H,G,R);else if(me=M.exec(be)){const we=me[1]|0,oe=me[2]|0,ge=G+be.length;let Ae,Ce=!1;if(!this.entries[we])Ce=!0;else if(this.entries[we].gen===oe)try{new Parser$1({lexer:new Lexer(j.makeSubStream(ge))}).getObj(),Ce=!0}catch(Ie){Ie instanceof ParserEOFException?warn(`indexObjects -- checking object (${be}): "${Ie}".`):Ce=!0}Ce&&(this.entries[we]={offset:G-j.start,gen:oe,uncompressed:!0}),k.lastIndex=ge;const Ne=k.exec(z);Ne?(Ae=k.lastIndex+1-G,Ne[1]!=="endobj"&&(warn(`indexObjects: Found "${Ne[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),Ae-=Ne[1].length+1)):Ae=V-G;const Oe=H.subarray(G,G+Ae),Be=E(Oe,0,U);Be<Ae&&Oe[Be+5]<64&&(K.push(G-j.start),this._xrefStms.add(G-j.start)),G+=Ae}else if(be.startsWith("trailer")&&(be.length===7||/\s/.test(be[7]))){$.push(G);const we=G+be.length;let oe;D.lastIndex=we;const ge=D.exec(z);ge?(oe=D.lastIndex+1-G,ge[1]!=="startxref"&&(warn(`indexObjects: Found "${ge[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),oe-=ge[1].length+1)):oe=V-G,G+=oe}else G+=be.length+1}for(const fe of K)this.startXRefQueue.push(fe),this.readXRef(!0);const Z=[];let Q=!1;for(const fe of $){j.pos=fe;const be=new Parser$1({lexer:new Lexer(j),xref:this,allowStreams:!0,recoveryMode:!0}),me=be.getObj();if(!isCmd(me,"trailer"))continue;const we=be.getObj();we instanceof Dict&&(Z.push(we),we.has("Encrypt")&&(Q=!0))}let ne,le;for(const fe of[...Z,"genFallback",...Z]){if(fe==="genFallback"){if(!le)break;this._generationFallback=!0;continue}let be=!1;try{const me=fe.get("Root");if(!(me instanceof Dict))continue;const we=me.get("Pages");if(!(we instanceof Dict))continue;const oe=we.get("Count");Number.isInteger(oe)&&(be=!0)}catch(me){le=me;continue}if(be&&(!Q||fe.has("Encrypt"))&&fe.has("ID"))return fe;ne=fe}if(ne)return ne;if(this.topDict)return this.topDict;throw new InvalidPDFException("Invalid PDF structure.")}readXRef(d=!1){const x=this.stream,b=new Set;for(;this.startXRefQueue.length;){try{const w=this.startXRefQueue[0];if(b.has(w)){warn("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}b.add(w),x.pos=w+x.start;const S=new Parser$1({lexer:new Lexer(x),xref:this,allowStreams:!0});let C=S.getObj(),F;if(isCmd(C,"xref"))F=this.processXRefTable(S),this.topDict||(this.topDict=F),C=F.get("XRefStm"),Number.isInteger(C)&&!this._xrefStms.has(C)&&(this._xrefStms.add(C),this.startXRefQueue.push(C),this.#e??=C);else if(Number.isInteger(C)){if(!Number.isInteger(S.getObj())||!isCmd(S.getObj(),"obj")||!((C=S.getObj())instanceof BaseStream))throw new FormatError("Invalid XRef stream");if(F=this.processXRefStream(C),this.topDict||(this.topDict=F),!F)throw new FormatError("Failed to read XRef stream")}else throw new FormatError("Invalid XRef stream header");C=F.get("Prev"),Number.isInteger(C)?this.startXRefQueue.push(C):C instanceof Ref&&this.startXRefQueue.push(C.num)}catch(w){if(w instanceof MissingDataException)throw w;info("(while reading XRef): "+w)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!d)throw new XRefParseException}get lastXRefStreamPos(){return this.#e??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(d){const x=this.entries[d];return x&&!x.free&&x.offset?x:null}fetchIfRef(d,x=!1){return d instanceof Ref?this.fetch(d,x):d}fetch(d,x=!1){if(!(d instanceof Ref))throw new Error("ref object is not a reference");const b=d.num,w=this._cacheMap.get(b);if(w!==void 0)return w instanceof Dict&&!w.objId&&(w.objId=d.toString()),w;let S=this.getEntry(b);if(S===null)return this._cacheMap.set(b,S),S;if(this._pendingRefs.has(d))return this._pendingRefs.remove(d),warn(`Ignoring circular reference: ${d}.`),CIRCULAR_REF;this._pendingRefs.put(d);try{S=S.uncompressed?this.fetchUncompressed(d,S,x):this.fetchCompressed(d,S,x),this._pendingRefs.remove(d)}catch(C){throw this._pendingRefs.remove(d),C}return S instanceof Dict?S.objId=d.toString():S instanceof BaseStream&&(S.dict.objId=d.toString()),S}fetchUncompressed(d,x,b=!1){const w=d.gen;let S=d.num;if(x.gen!==w){const M=`Inconsistent generation in XRef: ${d}`;if(this._generationFallback&&x.gen<w)return warn(M),this.fetchUncompressed(Ref.get(S,x.gen),x,b);throw new XRefEntryException(M)}const C=this.stream.makeSubStream(x.offset+this.stream.start),F=new Parser$1({lexer:new Lexer(C),xref:this,allowStreams:!0}),E=F.getObj(),k=F.getObj(),D=F.getObj();if(E!==S||k!==w||!(D instanceof Cmd))throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${d}`);if(D.cmd!=="obj"){if(D.cmd.startsWith("obj")&&(S=parseInt(D.cmd.substring(3),10),!Number.isNaN(S)))return S;throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${d}`)}return x=this.encrypt&&!b?F.getObj(this.encrypt.createCipherTransform(S,w)):F.getObj(),x instanceof BaseStream||this._cacheMap.set(S,x),x}fetchCompressed(d,x,b=!1){const w=x.offset,S=this.fetch(Ref.get(w,0));if(!(S instanceof BaseStream))throw new FormatError("bad ObjStm stream");const C=S.dict.get("First"),F=S.dict.get("N");if(!Number.isInteger(C)||!Number.isInteger(F))throw new FormatError("invalid first and n parameters for ObjStm stream");let E=new Parser$1({lexer:new Lexer(S),xref:this,allowStreams:!0});const k=new Array(F),D=new Array(F);for(let R=0;R<F;++R){const U=E.getObj();if(!Number.isInteger(U))throw new FormatError(`invalid object number in the ObjStm stream: ${U}`);const j=E.getObj();if(!Number.isInteger(j))throw new FormatError(`invalid object offset in the ObjStm stream: ${j}`);k[R]=U,D[R]=j}const M=(S.start||0)+C,L=new Array(F);for(let R=0;R<F;++R){const U=R<F-1?D[R+1]-D[R]:void 0;if(U<0)throw new FormatError("Invalid offset in the ObjStm stream.");E=new Parser$1({lexer:new Lexer(S.makeSubStream(M+D[R],U,S.dict)),xref:this,allowStreams:!0});const j=E.getObj();if(L[R]=j,j instanceof BaseStream)continue;const H=k[R],z=this.entries[H];z&&z.offset===w&&z.gen===R&&this._cacheMap.set(H,j)}if(x=L[x.gen],x===void 0)throw new XRefEntryException(`Bad (compressed) XRef entry: ${d}`);return x}async fetchIfRefAsync(d,x){return d instanceof Ref?this.fetchAsync(d,x):d}async fetchAsync(d,x){try{return this.fetch(d,x)}catch(b){if(!(b instanceof MissingDataException))throw b;return await this.pdfManager.requestRange(b.begin,b.end),this.fetchAsync(d,x)}}getCatalogObj(){return this.root}}const DEFAULT_USER_UNIT=1,LETTER_SIZE_MEDIABOX=[0,0,612,792];class Page{constructor({pdfManager:d,xref:x,pageIndex:b,pageDict:w,ref:S,globalIdFactory:C,fontCache:F,builtInCMapCache:E,standardFontDataCache:k,globalImageCache:D,systemFontCache:M,nonBlendModesSet:L,xfaFactory:R}){this.pdfManager=d,this.pageIndex=b,this.pageDict=w,this.xref=x,this.ref=S,this.fontCache=F,this.builtInCMapCache=E,this.standardFontDataCache=k,this.globalImageCache=D,this.systemFontCache=M,this.nonBlendModesSet=L,this.evaluatorOptions=d.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=R;const U={obj:0};this._localIdFactory=class extends C{static createObjId(){return`p${b}_${++U.obj}`}static getPageObjId(){return`p${S.toString()}`}}}_getInheritableProperty(d,x=!1){const b=getInheritableProperty({dict:this.pageDict,key:d,getArray:x,stopWhenFound:!1});return Array.isArray(b)?b.length===1||!(b[0]instanceof Dict)?b[0]:Dict.merge({xref:this.xref,dictArray:b}):b}get content(){return this.pageDict.getArray("Contents")}get resources(){const d=this._getInheritableProperty("Resources");return shadow(this,"resources",d instanceof Dict?d:Dict.empty)}_getBoundingBox(d){if(this.xfaData)return this.xfaData.bbox;let x=this._getInheritableProperty(d,!0);if(Array.isArray(x)&&x.length===4){if(x=Util.normalizeRect(x),x[2]-x[0]>0&&x[3]-x[1]>0)return x;warn(`Empty, or invalid, /${d} entry.`)}return null}get mediaBox(){return shadow(this,"mediaBox",this._getBoundingBox("MediaBox")||LETTER_SIZE_MEDIABOX)}get cropBox(){return shadow(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let d=this.pageDict.get("UserUnit");return(typeof d!="number"||d<=0)&&(d=DEFAULT_USER_UNIT),shadow(this,"userUnit",d)}get view(){const{cropBox:d,mediaBox:x}=this;if(d!==x&&!isArrayEqual(d,x)){const b=Util.intersect(d,x);if(b&&b[2]-b[0]>0&&b[3]-b[1]>0)return shadow(this,"view",b);warn("Empty /CropBox and /MediaBox intersection.")}return shadow(this,"view",x)}get rotate(){let d=this._getInheritableProperty("Rotate")||0;return d%90!==0?d=0:d>=360?d%=360:d<0&&(d=(d%360+360)%360),shadow(this,"rotate",d)}_onSubStreamError(d,x){if(this.evaluatorOptions.ignoreErrors){warn(`getContentStream - ignoring sub-stream (${x}): "${d}".`);return}throw d}getContentStream(){return this.pdfManager.ensure(this,"content").then(d=>d instanceof BaseStream?d:Array.isArray(d)?new StreamsSequenceStream(d,this._onSubStreamError.bind(this)):new NullStream)}get xfaData(){return shadow(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}#e(d,x,b){for(const w of d)if(w.id){const S=Ref.fromString(w.id);if(!S){warn(`A non-linked annotation cannot be modified: ${w.id}`);continue}if(w.deleted){x.put(S);continue}b?.put(S),w.ref=S,delete w.id}}async saveNewAnnotations(d,x,b,w){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const S=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),C=new RefSet,F=new RefSet;this.#e(b,C,F);const E=this.pageDict,k=this.annotations.filter(U=>!(U instanceof Ref&&C.has(U))),D=await AnnotationFactory.saveNewAnnotations(S,x,b,w);for(const{ref:U}of D.annotations)U instanceof Ref&&!F.has(U)&&k.push(U);const M=E.get("Annots");E.set("Annots",k);const L=[];await writeObject(this.ref,E,L,this.xref),M&&E.set("Annots",M);const R=D.dependencies;return R.push({ref:this.ref,data:L.join("")},...D.annotations),R}save(d,x,b){const w=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(S){const C=[];for(const F of S)F.mustBePrinted(b)&&C.push(F.save(w,x,b).catch(function(E){return warn(`save - ignoring annotation data during "${x.name}" task: "${E}".`),null}));return Promise.all(C).then(function(F){return F.filter(E=>!!E)})})}loadResources(d){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new ObjectLoader(this.resources,d,this.xref).load())}getOperatorList({handler:d,sink:x,task:b,intent:w,cacheKey:S,annotationStorage:C=null}){const F=this.getContentStream(),E=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),k=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),D=this.xfaFactory?null:getNewAnnotationsMap(C);let M=null,L=Promise.resolve(null);if(D){const j=D.get(this.pageIndex);if(j){const H=this.pdfManager.ensureDoc("annotationGlobals");let z;const V=new Set;for(const{bitmapId:$,bitmap:K}of j)$&&!K&&!V.has($)&&V.add($);const{isOffscreenCanvasSupported:G}=this.evaluatorOptions;if(V.size>0){const $=j.slice();for(const[K,Z]of C)K.startsWith(AnnotationEditorPrefix)&&Z.bitmap&&V.has(Z.bitmapId)&&$.push(Z);z=AnnotationFactory.generateImages($,this.xref,G)}else z=AnnotationFactory.generateImages(j,this.xref,G);M=new RefSet,this.#e(j,M,null),L=H.then($=>$?AnnotationFactory.printNewAnnotations($,k,b,j,z):null)}}const U=Promise.all([F,E]).then(([j])=>{const H=new OperatorList(w,x);return d.send("StartRenderPage",{transparency:k.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:S}),k.getOperatorList({stream:j,task:b,resources:this.resources,operatorList:H}).then(function(){return H})});return Promise.all([U,this._parsedAnnotations,L]).then(function([j,H,z]){if(z){H=H.filter(Q=>!(Q.ref&&M.has(Q.ref)));for(let Q=0,ne=z.length;Q<ne;Q++){const le=z[Q];if(le.refToReplace){const fe=H.findIndex(be=>be.ref&&isRefsEqual(be.ref,le.refToReplace));fe>=0&&(H.splice(fe,1,le),z.splice(Q--,1),ne--)}}H=H.concat(z)}if(H.length===0||w&RenderingIntentFlag.ANNOTATIONS_DISABLE)return j.flush(!0),{length:j.totalLength};const V=!!(w&RenderingIntentFlag.ANNOTATIONS_FORMS),G=!!(w&RenderingIntentFlag.ANY),$=!!(w&RenderingIntentFlag.DISPLAY),K=!!(w&RenderingIntentFlag.PRINT),Z=[];for(const Q of H)(G||$&&Q.mustBeViewed(C,V)||K&&Q.mustBePrinted(C))&&Z.push(Q.getOperatorList(k,b,w,V,C).catch(function(ne){return warn(`getOperatorList - ignoring annotation data during "${b.name}" task: "${ne}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Z).then(function(Q){let ne=!1,le=!1;for(const{opList:fe,separateForm:be,separateCanvas:me}of Q)j.addOpList(fe),ne||=be,le||=me;return j.flush(!0,{form:ne,canvas:le}),{length:j.totalLength}})})}extractTextContent({handler:d,task:x,includeMarkedContent:b,disableNormalization:w,sink:S}){const C=this.getContentStream(),F=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([C,F]).then(([k])=>new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:k,task:x,resources:this.resources,includeMarkedContent:b,disableNormalization:w,sink:S,viewBox:this.view}))}async getStructTree(){const d=await this.pdfManager.ensureCatalog("structTreeRoot");return d?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[d])).serializable):null}_parseStructTree(d){const x=new StructTreePage(d,this.pageDict);return x.parse(this.ref),x}async getAnnotationsData(d,x,b){const w=await this._parsedAnnotations;if(w.length===0)return w;const S=[],C=[];let F;const E=!!(b&RenderingIntentFlag.ANY),k=!!(b&RenderingIntentFlag.DISPLAY),D=!!(b&RenderingIntentFlag.PRINT);for(const M of w){const L=E||k&&M.viewable;(L||D&&M.printable)&&S.push(M.data),M.hasTextContent&&L&&(F||=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),C.push(M.extractTextContent(F,x,[-1/0,-1/0,1/0,1/0]).catch(function(R){warn(`getAnnotationsData - ignoring textContent during "${x.name}" task: "${R}".`)})))}return await Promise.all(C),S}get annotations(){const d=this._getInheritableProperty("Annots");return shadow(this,"annotations",Array.isArray(d)?d:[])}get _parsedAnnotations(){const d=this.pdfManager.ensure(this,"annotations").then(async x=>{if(x.length===0)return x;const b=await this.pdfManager.ensureDoc("annotationGlobals");if(!b)return[];const w=[];for(const F of x)w.push(AnnotationFactory.create(this.xref,F,b,this._localIdFactory,!1,this.ref).catch(function(E){return warn(`_parsedAnnotations: "${E}".`),null}));const S=[];let C;for(const F of await Promise.all(w))if(F){if(F instanceof PopupAnnotation){(C||=[]).push(F);continue}S.push(F)}return C&&S.push(...C),S});return shadow(this,"_parsedAnnotations",d)}get jsActions(){const d=collectActions(this.xref,this.pageDict,PageActionEventType);return shadow(this,"jsActions",d)}}const PDF_HEADER_SIGNATURE=new Uint8Array([37,80,68,70,45]),STARTXREF_SIGNATURE=new Uint8Array([115,116,97,114,116,120,114,101,102]),ENDOBJ_SIGNATURE=new Uint8Array([101,110,100,111,98,106]),FINGERPRINT_FIRST_BYTES=1024,EMPTY_FINGERPRINT="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function find(g,d,x=1024,b=!1){const w=d.length,S=g.peekBytes(x),C=S.length-w;if(C<=0)return!1;if(b){const F=w-1;let E=S.length-1;for(;E>=F;){let k=0;for(;k<w&&S[E-k]===d[F-k];)k++;if(k>=w)return g.pos+=E-F,!0;E--}}else{let F=0;for(;F<=C;){let E=0;for(;E<w&&S[F+E]===d[E];)E++;if(E>=w)return g.pos+=F,!0;F++}}return!1}let PDFDocument$1=class{constructor(d,x){if(x.length<=0)throw new InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=d,this.stream=x,this.xref=new XRef(x,d),this._pagePromises=new Map,this._version=null;const b={font:0};this._globalIdFactory=class{static getDocId(){return`g_${d.docId}`}static createFontId(){return`f${++b.font}`}static createObjId(){unreachable("Abstract method `createObjId` called.")}static getPageObjId(){unreachable("Abstract method `getPageObjId` called.")}}}parse(d){this.xref.parse(d),this.catalog=new Catalog(this.pdfManager,this.xref)}get linearization(){let d=null;try{d=Linearization.create(this.stream)}catch(x){if(x instanceof MissingDataException)throw x;info(x)}return shadow(this,"linearization",d)}get startXRef(){const d=this.stream;let x=0;if(this.linearization)d.reset(),find(d,ENDOBJ_SIGNATURE)&&(x=d.pos+6-d.start);else{const w=STARTXREF_SIGNATURE.length;let S=!1,C=d.end;for(;!S&&C>0;)C-=1024-w,C<0&&(C=0),d.pos=C,S=find(d,STARTXREF_SIGNATURE,1024,!0);if(S){d.skip(9);let F;do F=d.getByte();while(isWhiteSpace(F));let E="";for(;F>=32&&F<=57;)E+=String.fromCharCode(F),F=d.getByte();x=parseInt(E,10),isNaN(x)&&(x=0)}}return shadow(this,"startXRef",x)}checkHeader(){const d=this.stream;if(d.reset(),!find(d,PDF_HEADER_SIGNATURE))return;d.moveStart(),d.skip(PDF_HEADER_SIGNATURE.length);let x="",b;for(;(b=d.getByte())>32&&x.length<7;)x+=String.fromCharCode(b);PDF_VERSION_REGEXP.test(x)?this._version=x:warn(`Invalid PDF header version: ${x}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let d=0;return this.catalog.hasActualNumPages?d=this.catalog.numPages:this.xfaFactory?d=this.xfaFactory.getNumPages():this.linearization?d=this.linearization.numPages:d=this.catalog.numPages,shadow(this,"numPages",d)}_hasOnlyDocumentSignatures(d,x=0){return Array.isArray(d)?d.every(w=>{if(w=this.xref.fetchIfRef(w),!(w instanceof Dict))return!1;if(w.has("Kids"))return++x>10?(warn("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(w.get("Kids"),x);const S=isName(w.get("FT"),"Sig"),C=w.get("Rect"),F=Array.isArray(C)&&C.every(E=>E===0);return S&&F}):!1}get _xfaStreams(){const d=this.catalog.acroForm;if(!d)return null;const x=d.get("XFA"),b={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(x instanceof BaseStream&&!x.isEmpty)return b["xdp:xdp"]=x,b;if(!Array.isArray(x)||x.length===0)return null;for(let w=0,S=x.length;w<S;w+=2){let C;if(w===0?C="xdp:xdp":w===S-2?C="/xdp:xdp":C=x[w],!b.hasOwnProperty(C))continue;const F=this.xref.fetchIfRef(x[w+1]);!(F instanceof BaseStream)||F.isEmpty||(b[C]=F)}return b}get xfaDatasets(){const d=this._xfaStreams;if(!d)return shadow(this,"xfaDatasets",null);for(const x of["datasets","xdp:xdp"]){const b=d[x];if(b)try{const w=stringToUTF8String(b.getString()),S={[x]:w};return shadow(this,"xfaDatasets",new DatasetReader(S))}catch{warn("XFA - Invalid utf-8 string.");break}}return shadow(this,"xfaDatasets",null)}get xfaData(){const d=this._xfaStreams;if(!d)return null;const x=Object.create(null);for(const[b,w]of Object.entries(d))if(w)try{x[b]=stringToUTF8String(w.getString())}catch{return warn("XFA - Invalid utf-8 string."),null}return x}get xfaFactory(){let d;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(d=this.xfaData),shadow(this,"xfaFactory",d?new XFAFactory(d):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const d=await this.pdfManager.ensureCatalog("xfaImages");if(!d)return;const x=d.getKeys();await new ObjectLoader(d,x,this.xref).load();const w=new Map;for(const S of x){const C=d.get(S);C instanceof BaseStream&&w.set(S,C.getBytes())}this.xfaFactory.setImages(w)}async loadXfaFonts(d,x){const b=await this.pdfManager.ensureCatalog("acroForm");if(!b)return;const w=await b.getAsync("DR");if(!(w instanceof Dict))return;await new ObjectLoader(w,["Font"],this.xref).load();const C=w.get("Font");if(!(C instanceof Dict))return;const F=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);F.useSystemFonts=!1;const E=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:F}),k=new OperatorList,D=[],M={get font(){return D.at(-1)},set font(H){D.push(H)},clone(){return this}},L=new Map;C.forEach((H,z)=>{L.set(H,z)});const R=[];for(const[H,z]of L){const V=z.get("FontDescriptor");if(!(V instanceof Dict))continue;let G=V.get("FontFamily");G=G.replaceAll(/[ ]+(\d)/g,"$1");const $=V.get("FontWeight"),K=-V.get("ItalicAngle"),Z={fontFamily:G,fontWeight:$,italicAngle:K};validateCSSFont(Z)&&R.push(E.handleSetFont(w,[Name.get(H),1],null,k,x,M,null,Z).catch(function(Q){return warn(`loadXfaFonts: "${Q}".`),null}))}await Promise.all(R);const U=this.xfaFactory.setFonts(D);if(!U)return;F.ignoreErrors=!0,R.length=0,D.length=0;const j=new Set;for(const H of U)getXfaFontName(`${H}-Regular`)||j.add(H);j.size&&U.push("PdfJS-Fallback");for(const H of U)if(!j.has(H))for(const z of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const V=`${H}-${z.name}`,G=getXfaFontDict(V);R.push(E.handleSetFont(w,[Name.get(V),1],null,k,x,M,G,{fontFamily:H,fontWeight:z.fontWeight,italicAngle:z.italicAngle}).catch(function($){return warn(`loadXfaFonts: "${$}".`),null}))}await Promise.all(R),this.xfaFactory.appendFonts(D,j)}async serializeXfaData(d){return this.xfaFactory?this.xfaFactory.serializeData(d):null}get version(){return this.catalog.version||this._version}get formInfo(){const d={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},x=this.catalog.acroForm;if(!x)return shadow(this,"formInfo",d);try{const b=x.get("Fields"),w=Array.isArray(b)&&b.length>0;d.hasFields=w;const S=x.get("XFA");d.hasXfa=Array.isArray(S)&&S.length>0||S instanceof BaseStream&&!S.isEmpty;const F=!!(x.get("SigFlags")&1),E=F&&this._hasOnlyDocumentSignatures(b);d.hasAcroForm=w&&!E,d.hasSignatures=F}catch(b){if(b instanceof MissingDataException)throw b;warn(`Cannot fetch form information: "${b}".`)}return shadow(this,"formInfo",d)}get documentInfo(){const d={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let x;try{x=this.xref.trailer.get("Info")}catch(b){if(b instanceof MissingDataException)throw b;info("The document information dictionary is invalid.")}if(!(x instanceof Dict))return shadow(this,"documentInfo",d);for(const b of x.getKeys()){const w=x.get(b);switch(b){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof w=="string"){d[b]=stringToPDFString(w);continue}break;case"Trapped":if(w instanceof Name){d[b]=w;continue}break;default:let S;switch(typeof w){case"string":S=stringToPDFString(w);break;case"number":case"boolean":S=w;break;default:w instanceof Name&&(S=w);break}if(S===void 0){warn(`Bad value, for custom key "${b}", in Info: ${w}.`);continue}d.Custom||(d.Custom=Object.create(null)),d.Custom[b]=S;continue}warn(`Bad value, for key "${b}", in Info: ${w}.`)}return shadow(this,"documentInfo",d)}get fingerprints(){function d(C){return typeof C=="string"&&C.length>0&&C!==EMPTY_FINGERPRINT}function x(C){const F=[];for(const E of C){const k=E.toString(16);F.push(k.padStart(2,"0"))}return F.join("")}const b=this.xref.trailer.get("ID");let w,S;return Array.isArray(b)&&d(b[0])?(w=stringToBytes(b[0]),b[1]!==b[0]&&d(b[1])&&(S=stringToBytes(b[1]))):w=calculateMD5(this.stream.getByteRange(0,FINGERPRINT_FIRST_BYTES),0,FINGERPRINT_FIRST_BYTES),shadow(this,"fingerprints",[x(w),S?x(S):null])}async _getLinearizationPage(d){const{catalog:x,linearization:b,xref:w}=this,S=Ref.get(b.objectNumberFirst,0);try{const C=await w.fetchAsync(S);if(C instanceof Dict){let F=C.getRaw("Type");if(F instanceof Ref&&(F=await w.fetchAsync(F)),isName(F,"Page")||!C.has("Type")&&!C.has("Kids"))return x.pageKidsCountCache.has(S)||x.pageKidsCountCache.put(S,1),x.pageIndexCache.has(S)||x.pageIndexCache.put(S,0),[C,S]}throw new FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(C){return warn(`_getLinearizationPage: "${C.message}".`),x.getPageDict(d)}}getPage(d){const x=this._pagePromises.get(d);if(x)return x;const{catalog:b,linearization:w,xfaFactory:S}=this;let C;return S?C=Promise.resolve([Dict.empty,null]):w?.pageFirst===d?C=this._getLinearizationPage(d):C=b.getPageDict(d),C=C.then(([F,E])=>new Page({pdfManager:this.pdfManager,xref:this.xref,pageIndex:d,pageDict:F,ref:E,globalIdFactory:this._globalIdFactory,fontCache:b.fontCache,builtInCMapCache:b.builtInCMapCache,standardFontDataCache:b.standardFontDataCache,globalImageCache:b.globalImageCache,systemFontCache:b.systemFontCache,nonBlendModesSet:b.nonBlendModesSet,xfaFactory:S})),this._pagePromises.set(d,C),C}async checkFirstPage(d=!1){if(!d)try{await this.getPage(0)}catch(x){if(x instanceof XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new XRefParseException}}async checkLastPage(d=!1){const{catalog:x,pdfManager:b}=this;x.setActualNumPages();let w;try{if(await Promise.all([b.ensureDoc("xfaFactory"),b.ensureDoc("linearization"),b.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?w=this.linearization.numPages:w=x.numPages,Number.isInteger(w)){if(w<=1)return}else throw new FormatError("Page count is not an integer.");await this.getPage(w-1)}catch(S){if(this._pagePromises.delete(w-1),await this.cleanup(),S instanceof XRefEntryException&&!d)throw new XRefParseException;warn(`checkLastPage - invalid /Pages tree /Count: ${w}.`);let C;try{C=await x.getAllPageDicts(d)}catch(F){if(F instanceof XRefEntryException&&!d)throw new XRefParseException;x.setActualNumPages(1);return}for(const[F,[E,k]]of C){let D;E instanceof Error?(D=Promise.reject(E),D.catch(()=>{})):D=Promise.resolve(new Page({pdfManager:b,xref:this.xref,pageIndex:F,pageDict:E,ref:k,globalIdFactory:this._globalIdFactory,fontCache:x.fontCache,builtInCMapCache:x.builtInCMapCache,standardFontDataCache:x.standardFontDataCache,globalImageCache:x.globalImageCache,systemFontCache:x.systemFontCache,nonBlendModesSet:x.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(F,D)}x.setActualNumPages(C.size)}}fontFallback(d,x){return this.catalog.fontFallback(d,x)}async cleanup(d=!1){return this.catalog?this.catalog.cleanup(d):clearGlobalCaches()}async#e(d,x,b,w,S){const{xref:C}=this;if(!(x instanceof Ref)||S.has(x))return;S.put(x);const F=await C.fetchAsync(x);if(!(F instanceof Dict))return;if(F.has("T")){const k=stringToPDFString(await F.getAsync("T"));d=d===""?k:`${d}.${k}`}else{let k=F;for(;;){if(k=k.getRaw("Parent"),k instanceof Ref){if(S.has(k))break;k=await C.fetchAsync(k)}if(!(k instanceof Dict))break;if(k.has("T")){const D=stringToPDFString(await k.getAsync("T"));d=d===""?D:`${d}.${D}`;break}}}if(b.has(d)||b.set(d,[]),b.get(d).push(AnnotationFactory.create(C,x,w,null,!0,null).then(k=>k?.getFieldObject()).catch(function(k){return warn(`#collectFieldObjects: "${k}".`),null})),!F.has("Kids"))return;const E=await F.getAsync("Kids");if(Array.isArray(E))for(const k of E)await this.#e(d,k,b,w,S)}get fieldObjects(){if(!this.formInfo.hasFields)return shadow(this,"fieldObjects",Promise.resolve(null));const d=Promise.all([this.pdfManager.ensureDoc("annotationGlobals"),this.pdfManager.ensureCatalog("acroForm")]).then(async([x,b])=>{if(!x)return null;const w=new RefSet,S=Object.create(null),C=new Map;for(const E of await b.getAsync("Fields"))await this.#e("",E,C,x,w);const F=[];for(const[E,k]of C)F.push(Promise.all(k).then(D=>{D=D.filter(M=>!!M),D.length>0&&(S[E]=D)}));return await Promise.all(F),S});return shadow(this,"fieldObjects",d)}get hasJSActions(){const d=this.pdfManager.ensureDoc("_parseHasJSActions");return shadow(this,"hasJSActions",d)}async _parseHasJSActions(){const[d,x]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return d?!0:x?Object.values(x).some(b=>b.some(w=>w.actions!==null)):!1}get calculationOrderIds(){const d=this.catalog.acroForm;if(!d?.has("CO"))return shadow(this,"calculationOrderIds",null);const x=d.get("CO");if(!Array.isArray(x)||x.length===0)return shadow(this,"calculationOrderIds",null);const b=[];for(const w of x)w instanceof Ref&&b.push(w.toString());return b.length===0?shadow(this,"calculationOrderIds",null):shadow(this,"calculationOrderIds",b)}get annotationGlobals(){return shadow(this,"annotationGlobals",AnnotationFactory.createGlobals(this.pdfManager))}};function parseDocBaseUrl(g){if(g){const d=createValidAbsoluteUrl(g);if(d)return d.href;warn(`Invalid absolute docBaseUrl: "${g}".`)}return null}class BasePdfManager{constructor(d){this.constructor===BasePdfManager&&unreachable("Cannot initialize BasePdfManager."),this._docBaseUrl=parseDocBaseUrl(d.docBaseUrl),this._docId=d.docId,this._password=d.password,this.enableXfa=d.enableXfa,d.evaluatorOptions.isOffscreenCanvasSupported&&=FeatureTest.isOffscreenCanvasSupported,this.evaluatorOptions=d.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(d,x){return this.ensure(this.pdfDocument,d,x)}ensureXRef(d,x){return this.ensure(this.pdfDocument.xref,d,x)}ensureCatalog(d,x){return this.ensure(this.pdfDocument.catalog,d,x)}getPage(d){return this.pdfDocument.getPage(d)}fontFallback(d,x){return this.pdfDocument.fontFallback(d,x)}loadXfaFonts(d,x){return this.pdfDocument.loadXfaFonts(d,x)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(d){return this.pdfDocument.serializeXfaData(d)}cleanup(d=!1){return this.pdfDocument.cleanup(d)}async ensure(d,x,b){unreachable("Abstract method `ensure` called")}requestRange(d,x){unreachable("Abstract method `requestRange` called")}requestLoadedStream(d=!1){unreachable("Abstract method `requestLoadedStream` called")}sendProgressiveData(d){unreachable("Abstract method `sendProgressiveData` called")}updatePassword(d){this._password=d}terminate(d){unreachable("Abstract method `terminate` called")}}class LocalPdfManager extends BasePdfManager{constructor(d){super(d);const x=new Stream$1(d.source);this.pdfDocument=new PDFDocument$1(this,x),this._loadedStreamPromise=Promise.resolve(x)}async ensure(d,x,b){const w=d[x];return typeof w=="function"?w.apply(d,b):w}requestRange(d,x){return Promise.resolve()}requestLoadedStream(d=!1){return this._loadedStreamPromise}terminate(d){}}class NetworkPdfManager extends BasePdfManager{constructor(d){super(d),this.streamManager=new ChunkedStreamManager(d.source,{msgHandler:d.handler,length:d.length,disableAutoFetch:d.disableAutoFetch,rangeChunkSize:d.rangeChunkSize}),this.pdfDocument=new PDFDocument$1(this,this.streamManager.getStream())}async ensure(d,x,b){try{const w=d[x];return typeof w=="function"?w.apply(d,b):w}catch(w){if(!(w instanceof MissingDataException))throw w;return await this.requestRange(w.begin,w.end),this.ensure(d,x,b)}}requestRange(d,x){return this.streamManager.requestRange(d,x)}requestLoadedStream(d=!1){return this.streamManager.requestAllChunks(d)}sendProgressiveData(d){this.streamManager.onReceiveData({chunk:d})}terminate(d){this.streamManager.abort(d)}}const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(g){switch(g instanceof Error||typeof g=="object"&&g!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),g.name){case"AbortException":return new AbortException(g.message);case"MissingPDFException":return new MissingPDFException(g.message);case"PasswordException":return new PasswordException(g.message,g.code);case"UnexpectedResponseException":return new UnexpectedResponseException(g.message,g.status);case"UnknownErrorException":return new UnknownErrorException(g.message,g.details);default:return new UnknownErrorException(g.message,g.toString())}}class MessageHandler{constructor(d,x,b){this.sourceName=d,this.targetName=x,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{const S=w.data;if(S.targetName!==this.sourceName)return;if(S.stream){this.#t(S);return}if(S.callback){const F=S.callbackId,E=this.callbackCapabilities[F];if(!E)throw new Error(`Cannot resolve callback ${F}`);if(delete this.callbackCapabilities[F],S.callback===CallbackKind.DATA)E.resolve(S.data);else if(S.callback===CallbackKind.ERROR)E.reject(wrapReason(S.reason));else throw new Error("Unexpected callback case");return}const C=this.actionHandler[S.action];if(!C)throw new Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){const F=this.sourceName,E=S.sourceName;new Promise(function(k){k(C(S.data))}).then(function(k){b.postMessage({sourceName:F,targetName:E,callback:CallbackKind.DATA,callbackId:S.callbackId,data:k})},function(k){b.postMessage({sourceName:F,targetName:E,callback:CallbackKind.ERROR,callbackId:S.callbackId,reason:wrapReason(k)})});return}if(S.streamId){this.#e(S);return}C(S.data)},b.addEventListener("message",this._onComObjOnMessage)}on(d,x){const b=this.actionHandler;if(b[d])throw new Error(`There is already an actionName called "${d}"`);b[d]=x}send(d,x,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:x},b)}sendWithPromise(d,x,b){const w=this.callbackId++,S=new PromiseCapability;this.callbackCapabilities[w]=S;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:w,data:x},b)}catch(C){S.reject(C)}return S.promise}sendWithStream(d,x,b,w){const S=this.streamId++,C=this.sourceName,F=this.targetName,E=this.comObj;return new ReadableStream({start:k=>{const D=new PromiseCapability;return this.streamControllers[S]={controller:k,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},E.postMessage({sourceName:C,targetName:F,action:d,streamId:S,data:x,desiredSize:k.desiredSize},w),D.promise},pull:k=>{const D=new PromiseCapability;return this.streamControllers[S].pullCall=D,E.postMessage({sourceName:C,targetName:F,stream:StreamKind.PULL,streamId:S,desiredSize:k.desiredSize}),D.promise},cancel:k=>{assert(k instanceof Error,"cancel must have a valid reason");const D=new PromiseCapability;return this.streamControllers[S].cancelCall=D,this.streamControllers[S].isClosed=!0,E.postMessage({sourceName:C,targetName:F,stream:StreamKind.CANCEL,streamId:S,reason:wrapReason(k)}),D.promise}},b)}#e(d){const x=d.streamId,b=this.sourceName,w=d.sourceName,S=this.comObj,C=this,F=this.actionHandler[d.action],E={enqueue(k,D=1,M){if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=D,L>0&&this.desiredSize<=0&&(this.sinkCapability=new PromiseCapability,this.ready=this.sinkCapability.promise),S.postMessage({sourceName:b,targetName:w,stream:StreamKind.ENQUEUE,streamId:x,chunk:k},M)},close(){this.isCancelled||(this.isCancelled=!0,S.postMessage({sourceName:b,targetName:w,stream:StreamKind.CLOSE,streamId:x}),delete C.streamSinks[x])},error(k){assert(k instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,S.postMessage({sourceName:b,targetName:w,stream:StreamKind.ERROR,streamId:x,reason:wrapReason(k)}))},sinkCapability:new PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};E.sinkCapability.resolve(),E.ready=E.sinkCapability.promise,this.streamSinks[x]=E,new Promise(function(k){k(F(d.data,E))}).then(function(){S.postMessage({sourceName:b,targetName:w,stream:StreamKind.START_COMPLETE,streamId:x,success:!0})},function(k){S.postMessage({sourceName:b,targetName:w,stream:StreamKind.START_COMPLETE,streamId:x,reason:wrapReason(k)})})}#t(d){const x=d.streamId,b=this.sourceName,w=d.sourceName,S=this.comObj,C=this.streamControllers[x],F=this.streamSinks[x];switch(d.stream){case StreamKind.START_COMPLETE:d.success?C.startCall.resolve():C.startCall.reject(wrapReason(d.reason));break;case StreamKind.PULL_COMPLETE:d.success?C.pullCall.resolve():C.pullCall.reject(wrapReason(d.reason));break;case StreamKind.PULL:if(!F){S.postMessage({sourceName:b,targetName:w,stream:StreamKind.PULL_COMPLETE,streamId:x,success:!0});break}F.desiredSize<=0&&d.desiredSize>0&&F.sinkCapability.resolve(),F.desiredSize=d.desiredSize,new Promise(function(E){E(F.onPull?.())}).then(function(){S.postMessage({sourceName:b,targetName:w,stream:StreamKind.PULL_COMPLETE,streamId:x,success:!0})},function(E){S.postMessage({sourceName:b,targetName:w,stream:StreamKind.PULL_COMPLETE,streamId:x,reason:wrapReason(E)})});break;case StreamKind.ENQUEUE:if(assert(C,"enqueue should have stream controller"),C.isClosed)break;C.controller.enqueue(d.chunk);break;case StreamKind.CLOSE:if(assert(C,"close should have stream controller"),C.isClosed)break;C.isClosed=!0,C.controller.close(),this.#n(C,x);break;case StreamKind.ERROR:assert(C,"error should have stream controller"),C.controller.error(wrapReason(d.reason)),this.#n(C,x);break;case StreamKind.CANCEL_COMPLETE:d.success?C.cancelCall.resolve():C.cancelCall.reject(wrapReason(d.reason)),this.#n(C,x);break;case StreamKind.CANCEL:if(!F)break;new Promise(function(E){E(F.onCancel?.(wrapReason(d.reason)))}).then(function(){S.postMessage({sourceName:b,targetName:w,stream:StreamKind.CANCEL_COMPLETE,streamId:x,success:!0})},function(E){S.postMessage({sourceName:b,targetName:w,stream:StreamKind.CANCEL_COMPLETE,streamId:x,reason:wrapReason(E)})}),F.sinkCapability.reject(wrapReason(d.reason)),F.isCancelled=!0,delete this.streamSinks[x];break;default:throw new Error("Unexpected stream case")}}async#n(d,x){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[x]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class PDFWorkerStream{constructor(d){this._msgHandler=d,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return assert(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new PDFWorkerStreamReader(this._msgHandler),this._fullRequestReader}getRangeReader(d,x){const b=new PDFWorkerStreamRangeReader(d,x,this._msgHandler);return this._rangeRequestReaders.push(b),b}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const x of this._rangeRequestReaders.slice(0))x.cancel(d)}}class PDFWorkerStreamReader{constructor(d){this._msgHandler=d,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const x=this._msgHandler.sendWithStream("GetReader");this._reader=x.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(b=>{this._isStreamingSupported=b.isStreamingSupported,this._isRangeSupported=b.isRangeSupported,this._contentLength=b.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:d,done:x}=await this._reader.read();return x?{value:void 0,done:!0}:{value:d.buffer,done:!1}}cancel(d){this._reader.cancel(d)}}class PDFWorkerStreamRangeReader{constructor(d,x,b){this._msgHandler=b,this.onProgress=null;const w=this._msgHandler.sendWithStream("GetRangeReader",{begin:d,end:x});this._reader=w.getReader()}get isStreamingSupported(){return!1}async read(){const{value:d,done:x}=await this._reader.read();return x?{value:void 0,done:!0}:{value:d.buffer,done:!1}}cancel(d){this._reader.cancel(d)}}class WorkerTask{constructor(d){this.name=d,this.terminated=!1,this._capability=new PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}class WorkerMessageHandler{static setup(d,x){let b=!1;d.on("test",function(w){b||(b=!0,d.send("test",w instanceof Uint8Array))}),d.on("configure",function(w){setVerbosityLevel(w.verbosity)}),d.on("GetDocRequest",function(w){return WorkerMessageHandler.createDocumentHandler(w,x)})}static createDocumentHandler(d,x){let b,w=!1,S=null;const C=new Set,F=getVerbosityLevel(),{docId:E,apiVersion:k}=d,D="4.0.269";if(k!==D)throw new Error(`The API version "${k}" does not match the Worker version "${D}".`);const M=[];for(const $ in[])M.push($);if(M.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+M.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const L=E+"_worker";let R=new MessageHandler(L,E,x);function U(){if(w)throw new Error("Worker was terminated")}function j($){C.add($)}function H($){$.finish(),C.delete($)}async function z($){await b.ensureDoc("checkHeader"),await b.ensureDoc("parseStartXRef"),await b.ensureDoc("parse",[$]),await b.ensureDoc("checkFirstPage",[$]),await b.ensureDoc("checkLastPage",[$]);const K=await b.ensureDoc("isPureXfa");if(K){const le=new WorkerTask("loadXfaFonts");j(le),await Promise.all([b.loadXfaFonts(R,le).catch(fe=>{}).then(()=>H(le)),b.loadXfaImages()])}const[Z,Q]=await Promise.all([b.ensureDoc("numPages"),b.ensureDoc("fingerprints")]),ne=K?await b.ensureDoc("htmlForXfa"):null;return{numPages:Z,fingerprints:Q,htmlForXfa:ne}}function V({data:$,password:K,disableAutoFetch:Z,rangeChunkSize:Q,length:ne,docBaseUrl:le,enableXfa:fe,evaluatorOptions:be}){const me={source:null,disableAutoFetch:Z,docBaseUrl:le,docId:E,enableXfa:fe,evaluatorOptions:be,handler:R,length:ne,password:K,rangeChunkSize:Q},we=new PromiseCapability;let oe;if($){try{me.source=$,oe=new LocalPdfManager(me),we.resolve(oe)}catch(Be){we.reject(Be)}return we.promise}let ge,Ae=[];try{ge=new PDFWorkerStream(R)}catch(Be){return we.reject(Be),we.promise}const Ce=ge.getFullReader();Ce.headersReady.then(function(){if(Ce.isRangeSupported){me.source=ge,me.length=Ce.contentLength,me.disableAutoFetch||=Ce.isStreamingSupported,oe=new NetworkPdfManager(me);for(const Be of Ae)oe.sendProgressiveData(Be);Ae=[],we.resolve(oe),S=null}}).catch(function(Be){we.reject(Be),S=null});let Ne=0;const Oe=function(){const Be=arrayBuffersToBytes(Ae);ne&&Be.length!==ne&&warn("reported HTTP length is different from actual");try{me.source=Be,oe=new LocalPdfManager(me),we.resolve(oe)}catch(Ie){we.reject(Ie)}Ae=[]};return new Promise(function(Be,Ie){const Ee=function({value:Ue,done:De}){try{if(U(),De){oe||Oe(),S=null;return}Ne+=Ue.byteLength,Ce.isStreamingSupported||R.send("DocProgress",{loaded:Ne,total:Math.max(Ne,Ce.contentLength||0)}),oe?oe.sendProgressiveData(Ue):Ae.push(Ue),Ce.read().then(Ee,Ie)}catch(_e){Ie(_e)}};Ce.read().then(Ee,Ie)}).catch(function(Be){we.reject(Be),S=null}),S=function(Be){ge.cancelAllRequests(Be)},we.promise}function G($){function K(ne){U(),R.send("GetDoc",{pdfInfo:ne})}function Z(ne){if(U(),ne instanceof PasswordException){const le=new WorkerTask(`PasswordException: response ${ne.code}`);j(le),R.sendWithPromise("PasswordRequest",ne).then(function({password:fe}){H(le),b.updatePassword(fe),Q()}).catch(function(){H(le),R.send("DocException",ne)})}else ne instanceof InvalidPDFException||ne instanceof MissingPDFException||ne instanceof UnexpectedResponseException||ne instanceof UnknownErrorException?R.send("DocException",ne):R.send("DocException",new UnknownErrorException(ne.message,ne.toString()))}function Q(){U(),z(!1).then(K,function(ne){if(U(),!(ne instanceof XRefParseException)){Z(ne);return}b.requestLoadedStream().then(function(){U(),z(!0).then(K,Z)})})}U(),V($).then(function(ne){if(w)throw ne.terminate(new AbortException("Worker was terminated.")),new Error("Worker was terminated");b=ne,b.requestLoadedStream(!0).then(le=>{R.send("DataLoaded",{length:le.bytes.byteLength})})}).then(Q,Z)}return R.on("GetPage",function($){return b.getPage($.pageIndex).then(function(K){return Promise.all([b.ensure(K,"rotate"),b.ensure(K,"ref"),b.ensure(K,"userUnit"),b.ensure(K,"view")]).then(function([Z,Q,ne,le]){return{rotate:Z,ref:Q,userUnit:ne,view:le}})})}),R.on("GetPageIndex",function($){const K=Ref.get($.num,$.gen);return b.ensureCatalog("getPageIndex",[K])}),R.on("GetDestinations",function($){return b.ensureCatalog("destinations")}),R.on("GetDestination",function($){return b.ensureCatalog("getDestination",[$.id])}),R.on("GetPageLabels",function($){return b.ensureCatalog("pageLabels")}),R.on("GetPageLayout",function($){return b.ensureCatalog("pageLayout")}),R.on("GetPageMode",function($){return b.ensureCatalog("pageMode")}),R.on("GetViewerPreferences",function($){return b.ensureCatalog("viewerPreferences")}),R.on("GetOpenAction",function($){return b.ensureCatalog("openAction")}),R.on("GetAttachments",function($){return b.ensureCatalog("attachments")}),R.on("GetDocJSActions",function($){return b.ensureCatalog("jsActions")}),R.on("GetPageJSActions",function({pageIndex:$}){return b.getPage($).then(function(K){return b.ensure(K,"jsActions")})}),R.on("GetOutline",function($){return b.ensureCatalog("documentOutline")}),R.on("GetOptionalContentConfig",function($){return b.ensureCatalog("optionalContentConfig")}),R.on("GetPermissions",function($){return b.ensureCatalog("permissions")}),R.on("GetMetadata",function($){return Promise.all([b.ensureDoc("documentInfo"),b.ensureCatalog("metadata")])}),R.on("GetMarkInfo",function($){return b.ensureCatalog("markInfo")}),R.on("GetData",function($){return b.requestLoadedStream().then(function(K){return K.bytes})}),R.on("GetAnnotations",function({pageIndex:$,intent:K}){return b.getPage($).then(function(Z){const Q=new WorkerTask(`GetAnnotations: page ${$}`);return j(Q),Z.getAnnotationsData(R,Q,K).then(ne=>(H(Q),ne),ne=>{throw H(Q),ne})})}),R.on("GetFieldObjects",function($){return b.ensureDoc("fieldObjects")}),R.on("HasJSActions",function($){return b.ensureDoc("hasJSActions")}),R.on("GetCalculationOrderIds",function($){return b.ensureDoc("calculationOrderIds")}),R.on("SaveDocument",async function({isPureXfa:$,numPages:K,annotationStorage:Z,filename:Q}){const ne=[b.requestLoadedStream(),b.ensureCatalog("acroForm"),b.ensureCatalog("acroFormRef"),b.ensureDoc("startXRef"),b.ensureDoc("xref"),b.ensureDoc("linearization"),b.ensureCatalog("structTreeRoot")],le=[],fe=$?null:getNewAnnotationsMap(Z),[be,me,we,oe,ge,Ae,Ce]=await Promise.all(ne),Ne=ge.trailer.getRaw("Root")||null;let Oe;if(fe){Ce?await Ce.canUpdateStructTree({pdfManager:b,xref:ge,newAnnotationsByPage:fe})&&(Oe=Ce):await StructTreeRoot.canCreateStructureTree({catalogRef:Ne,pdfManager:b,newAnnotationsByPage:fe})&&(Oe=null);const ae=AnnotationFactory.generateImages(Z.values(),ge,b.evaluatorOptions.isOffscreenCanvasSupported),Y=Oe===void 0?le:[];for(const[W,ee]of fe)Y.push(b.getPage(W).then(J=>{const te=new WorkerTask(`Save (editor): page ${W}`);return J.saveNewAnnotations(R,te,ee,ae).finally(function(){H(te)})}));Oe===null?le.push(Promise.all(Y).then(async W=>(await StructTreeRoot.createStructureTree({newAnnotationsByPage:fe,xref:ge,catalogRef:Ne,pdfManager:b,newRefs:W}),W))):Oe&&le.push(Promise.all(Y).then(async W=>(await Oe.updateStructureTree({newAnnotationsByPage:fe,pdfManager:b,newRefs:W}),W)))}if($)le.push(b.serializeXfaData(Z));else for(let ae=0;ae<K;ae++)le.push(b.getPage(ae).then(function(Y){const W=new WorkerTask(`Save: page ${ae}`);return Y.save(R,W,Z).finally(function(){H(W)})}));const Be=await Promise.all(le);let Ie=[],Ee=null;if($){if(Ee=Be[0],!Ee)return be.bytes}else if(Ie=Be.flat(2),Ie.length===0)return be.bytes;const Ue=we&&me instanceof Dict&&Ie.some(ae=>ae.needAppearances),De=me instanceof Dict&&me.get("XFA")||null;let _e=null,Pe=!1;if(Array.isArray(De)){for(let ae=0,Y=De.length;ae<Y;ae+=2)De[ae]==="datasets"&&(_e=De[ae+1],Pe=!0);_e===null&&(_e=ge.getNewTemporaryRef())}else De&&warn("Unsupported XFA type.");let re=Object.create(null);if(ge.trailer){const ae=Object.create(null),Y=ge.trailer.get("Info")||null;Y instanceof Dict&&Y.forEach((W,ee)=>{typeof ee=="string"&&(ae[W]=stringToPDFString(ee))}),re={rootRef:Ne,encryptRef:ge.trailer.getRaw("Encrypt")||null,newRef:ge.getNewTemporaryRef(),infoRef:ge.trailer.getRaw("Info")||null,info:ae,fileIds:ge.trailer.get("ID")||null,startXRef:Ae?oe:ge.lastXRefStreamPos??oe,filename:Q}}return incrementalUpdate({originalData:be.bytes,xrefInfo:re,newRefs:Ie,xref:ge,hasXfa:!!De,xfaDatasetsRef:_e,hasXfaDatasetsEntry:Pe,needAppearances:Ue,acroFormRef:we,acroForm:me,xfaData:Ee}).finally(()=>{ge.resetNewTemporaryRef()})}),R.on("GetOperatorList",function($,K){const Z=$.pageIndex;b.getPage(Z).then(function(Q){const ne=new WorkerTask(`GetOperatorList: page ${Z}`);j(ne);const le=F>=VerbosityLevel.INFOS?Date.now():0;Q.getOperatorList({handler:R,sink:K,task:ne,intent:$.intent,cacheKey:$.cacheKey,annotationStorage:$.annotationStorage}).then(function(fe){H(ne),le&&info(`page=${Z+1} - getOperatorList: time=${Date.now()-le}ms, len=${fe.length}`),K.close()},function(fe){H(ne),!ne.terminated&&K.error(fe)})})}),R.on("GetTextContent",function($,K){const{pageIndex:Z,includeMarkedContent:Q,disableNormalization:ne}=$;b.getPage(Z).then(function(le){const fe=new WorkerTask("GetTextContent: page "+Z);j(fe);const be=F>=VerbosityLevel.INFOS?Date.now():0;le.extractTextContent({handler:R,task:fe,sink:K,includeMarkedContent:Q,disableNormalization:ne}).then(function(){H(fe),be&&info(`page=${Z+1} - getTextContent: time=${Date.now()-be}ms`),K.close()},function(me){H(fe),!fe.terminated&&K.error(me)})})}),R.on("GetStructTree",function($){return b.getPage($.pageIndex).then(function(K){return b.ensure(K,"getStructTree")})}),R.on("FontFallback",function($){return b.fontFallback($.id,R)}),R.on("Cleanup",function($){return b.cleanup(!0)}),R.on("Terminate",function($){w=!0;const K=[];if(b){b.terminate(new AbortException("Worker was terminated."));const Z=b.cleanup();K.push(Z),b=null}else clearGlobalCaches();S&&S(new AbortException("Worker was terminated."));for(const Z of C)K.push(Z.finished),Z.terminate();return Promise.all(K).then(function(){R.destroy(),R=null})}),R.on("Ready",function($){G(d),d=null}),L}static initializeFromPort(d){const x=new MessageHandler("worker","main",d);WorkerMessageHandler.setup(x,d),x.send("ready",null)}}function isMessagePort(g){return typeof g.postMessage=="function"&&"onmessage"in g}typeof window>"u"&&!isNodeJS&&typeof self<"u"&&isMessagePort(self)&&WorkerMessageHandler.initializeFromPort(self);var __webpack_exports__WorkerMessageHandler=__webpack_exports__.WorkerMessageHandler;const pdfWorker=Object.freeze(Object.defineProperty({__proto__:null,WorkerMessageHandler:__webpack_exports__WorkerMessageHandler},Symbol.toStringTag,{value:"Module"}));var fileToArrayBuffer=function(d){return new Promise(function(x,b){const w=new FileReader;w.onerror=function(C){b(C.target.error)},w.onload=function(C){x(C.target.result)},w.readAsArrayBuffer(d)})};const fileToArrayBuffer$1=getDefaultExportFromCjs(fileToArrayBuffer);function getSvgString(g){let d=g.CN.removeEnclosingQuotes().removeDuplicateQuotes();return`
    <svg viewBox="-2 -2 409 154" xmlns="http://www.w3.org/2000/svg">
    <rect width="405" height="150" fill="none" rx="15" ry="15" stroke="black" stroke-width="3px"/>
    <text x="130" y="30" style='font-family: "Arial Black", sans-serif; font-size: 14px;'>ДОКУМЕНТ ПОДПИСАН</text>
    <text x="115" y="50" style='font-family: "Arial Black", sans-serif; font-size: 14px;'>ЭЛЕКТРОННОЙ ПОДПИСЬЮ</text>
    <text x="10" y="80" style='font-family: Arial, sans-serif; font-size: 12px;'>Сертификат: ${g.serialNumber}</text>
    <text x="10" y="100" style='font-family: Arial, sans-serif; font-size: 12px;'>Владелец: ${d}</text>
    <text x="10" y="120" style='font-family: Arial, sans-serif; font-size: 12px;'>Действителен: c ${g.validFromDate} до ${g.validToDate}</text>
    </svg>`}function createHtmlSign(g,d){let x=document.createElement("div");return x.innerHTML=getSvgString(g),x.style.cssText=`
         position: absolute;
         user-select: none;
         top: ${d.y}px;
         left: ${d.x}px;
         width: ${d.width}px;
         height: ${d.height}px;
      `,x.classList.add("token"),x}function createHtmlDeleteSignBth(){let g=document.createElement("button");return g.innerText="X",g.style.cssText=`
         position: absolute;
         width: 30px;
         height: 30px;
         top: -30px;
         right: -30px;
      `,g}function isNull(g){return g.every(d=>d===null)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(g,d){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var w in b)b.hasOwnProperty(w)&&(x[w]=b[w])},extendStatics(g,d)};function __extends(g,d){extendStatics(g,d);function x(){this.constructor=g}g.prototype=d===null?Object.create(d):(x.prototype=d.prototype,new x)}var __assign=function(){return __assign=Object.assign||function(d){for(var x,b=1,w=arguments.length;b<w;b++){x=arguments[b];for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(d[S]=x[S])}return d},__assign.apply(this,arguments)};function __rest(g,d){var x={};for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&d.indexOf(b)<0&&(x[b]=g[b]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,b=Object.getOwnPropertySymbols(g);w<b.length;w++)d.indexOf(b[w])<0&&Object.prototype.propertyIsEnumerable.call(g,b[w])&&(x[b[w]]=g[b[w]]);return x}function __awaiter(g,d,x,b){function w(S){return S instanceof x?S:new x(function(C){C(S)})}return new(x||(x=Promise))(function(S,C){function F(D){try{k(b.next(D))}catch(M){C(M)}}function E(D){try{k(b.throw(D))}catch(M){C(M)}}function k(D){D.done?S(D.value):w(D.value).then(F,E)}k((b=b.apply(g,d||[])).next())})}function __generator(g,d){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},b,w,S,C;return C={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function F(k){return function(D){return E([k,D])}}function E(k){if(b)throw new TypeError("Generator is already executing.");for(;x;)try{if(b=1,w&&(S=k[0]&2?w.return:k[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,k[1])).done)return S;switch(w=0,S&&(k=[k[0]&2,S.value]),k[0]){case 0:case 1:S=k;break;case 4:return x.label++,{value:k[1],done:!1};case 5:x.label++,w=k[1],k=[0];continue;case 7:k=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(k[0]===6||k[0]===2)){x=0;continue}if(k[0]===3&&(!S||k[1]>S[0]&&k[1]<S[3])){x.label=k[1];break}if(k[0]===6&&x.label<S[1]){x.label=S[1],S=k;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(k);break}S[2]&&x.ops.pop(),x.trys.pop();continue}k=d.call(g,x)}catch(D){k=[6,D],w=0}finally{b=S=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}function __spreadArrays(){for(var g=0,d=0,x=arguments.length;d<x;d++)g+=arguments[d].length;for(var b=Array(g),w=0,d=0;d<x;d++)for(var S=arguments[d],C=0,F=S.length;C<F;C++,w++)b[w]=S[C];return b}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=new Uint8Array(256);for(var i$4=0;i$4<chars$1.length;i$4++)lookup$2[chars$1.charCodeAt(i$4)]=i$4;var encodeToBase64=function(g){for(var d="",x=g.length,b=0;b<x;b+=3)d+=chars$1[g[b]>>2],d+=chars$1[(g[b]&3)<<4|g[b+1]>>4],d+=chars$1[(g[b+1]&15)<<2|g[b+2]>>6],d+=chars$1[g[b+2]&63];return x%3===2?d=d.substring(0,d.length-1)+"=":x%3===1&&(d=d.substring(0,d.length-2)+"=="),d},decodeFromBase64$1=function(g){var d=g.length*.75,x=g.length,b,w=0,S,C,F,E;g[g.length-1]==="="&&(d--,g[g.length-2]==="="&&d--);var k=new Uint8Array(d);for(b=0;b<x;b+=4)S=lookup$2[g.charCodeAt(b)],C=lookup$2[g.charCodeAt(b+1)],F=lookup$2[g.charCodeAt(b+2)],E=lookup$2[g.charCodeAt(b+3)],k[w++]=S<<2|C>>4,k[w++]=(C&15)<<4|F>>2,k[w++]=(F&3)<<6|E&63;return k},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(g){var d=g.trim(),x=d.substring(0,100),b=x.match(DATA_URI_PREFIX_REGEX);if(!b)return decodeFromBase64$1(d);var w=b[0],S=d.substring(w.length);return decodeFromBase64$1(S)},toCharCode=function(g){return g.charCodeAt(0)},toCodePoint=function(g){return g.codePointAt(0)},toHexStringOfMinLength=function(g,d){return padStart$1(g.toString(16),d,"0").toUpperCase()},toHexString=function(g){return toHexStringOfMinLength(g,2)},charFromCode=function(g){return String.fromCharCode(g)},charFromHexCode=function(g){return charFromCode(parseInt(g,16))},padStart$1=function(g,d,x){for(var b="",w=0,S=d-g.length;w<S;w++)b+=x;return b+g},copyStringIntoBuffer=function(g,d,x){for(var b=g.length,w=0;w<b;w++)d[x++]=g.charCodeAt(w);return b},escapeRegExp=function(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(g){return g.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(g){return/^[\n\f\r\u000B]$/.test(g)},lineSplit=function(g){return g.split(/[\n\f\r\u000B]/)},mergeLines=function(g){return g.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(g,d){var x=g.charCodeAt(d),b,w=d+1,S=1;return x>=55296&&x<=56319&&g.length>w&&(b=g.charCodeAt(w),b>=56320&&b<=57343&&(S=2)),[g.slice(d,d+S),S]},charSplit=function(g){for(var d=[],x=0,b=g.length;x<b;){var w=charAtIndex(g,x),S=w[0],C=w[1];d.push(S),x+=C}return d},buildWordBreakRegex=function(g){for(var d=escapedNewlineChars.join("|"),x=["$"],b=0,w=g.length;b<w;b++){var S=g[b];if(isNewlineChar(S))throw new TypeError("`wordBreak` must not include "+d);x.push(S===""?".":escapeRegExp(S))}var C=x.join("|");return new RegExp("("+d+")|((.*?)("+C+"))","gm")},breakTextIntoLines=function(g,d,x,b){for(var w=buildWordBreakRegex(d),S=cleanText(g).match(w),C="",F=0,E=[],k=function(){C!==""&&E.push(C),C="",F=0},D=0,M=S.length;D<M;D++){var L=S[D];if(isNewlineChar(L))k();else{var R=b(L);F+R>x&&k(),C+=L,F+=R}}return k(),E},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(g){var d=g.match(dateRegex);if(d){var x=d[1],b=d[2],w=b===void 0?"01":b,S=d[3],C=S===void 0?"01":S,F=d[4],E=F===void 0?"00":F,k=d[5],D=k===void 0?"00":k,M=d[6],L=M===void 0?"00":M,R=d[7],U=R===void 0?"Z":R,j=d[8],H=j===void 0?"00":j,z=d[9],V=z===void 0?"00":z,G=U==="Z"?"Z":""+U+H+":"+V,$=new Date(x+"-"+w+"-"+C+"T"+E+":"+D+":"+L+G);return $}},findLastMatch=function(g,d){for(var x,b=0,w;b<g.length;){var S=g.substring(b).match(d);if(!S)return{match:w,pos:b};w=S,b+=((x=S.index)!==null&&x!==void 0?x:0)+S[0].length}return{match:w,pos:b}},last$1=function(g){return g[g.length-1]},typedArrayFor=function(g){if(g instanceof Uint8Array)return g;for(var d=g.length,x=new Uint8Array(d),b=0;b<d;b++)x[b]=g.charCodeAt(b);return x},mergeIntoTypedArray=function(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];for(var x=g.length,b=[],w=0;w<x;w++){var S=g[w];b[w]=S instanceof Uint8Array?S:typedArrayFor(S)}for(var C=0,w=0;w<x;w++)C+=g[w].length;for(var F=new Uint8Array(C),E=0,k=0;k<x;k++)for(var D=b[k],M=0,L=D.length;M<L;M++)F[E++]=D[M];return F},mergeUint8Arrays=function(g){for(var d=0,x=0,b=g.length;x<b;x++)d+=g[x].length;for(var w=new Uint8Array(d),S=0,x=0,b=g.length;x<b;x++){var C=g[x];w.set(C,S),S+=C.length}return w},arrayAsString=function(g){for(var d="",x=0,b=g.length;x<b;x++)d+=charFromCode(g[x]);return d},byAscendingId=function(g,d){return g.id-d.id},sortedUniq=function(g,d){for(var x=[],b=0,w=g.length;b<w;b++){var S=g[b],C=g[b-1];(b===0||d(S)!==d(C))&&x.push(S)}return x},reverseArray=function(g){for(var d=g.length,x=0,b=Math.floor(d/2);x<b;x++){var w=x,S=d-x-1,C=g[x];g[w]=g[S],g[S]=C}return g},sum=function(g){for(var d=0,x=0,b=g.length;x<b;x++)d+=g[x];return d},range=function(g,d){for(var x=new Array(d-g),b=0,w=x.length;b<w;b++)x[b]=g+b;return x},pluckIndices=function(g,d){for(var x=new Array(d.length),b=0,w=d.length;b<w;b++)x[b]=g[d[b]];return x},canBeConvertedToUint8Array=function(g){return g instanceof Uint8Array||g instanceof ArrayBuffer||typeof g=="string"},toUint8Array=function(g){if(typeof g=="string")return decodeFromBase64DataUri(g);if(g instanceof ArrayBuffer)return new Uint8Array(g);if(g instanceof Uint8Array)return g;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(g){setTimeout(function(){return g()},0)})},utf16Encode=function(g,d){d===void 0&&(d=!0);var x=[];d&&x.push(65279);for(var b=0,w=g.length;b<w;){var S=g.codePointAt(b);if(S<65536)x.push(S),b+=1;else if(S<1114112)x.push(highSurrogate(S),lowSurrogate(S)),b+=2;else throw new Error("Invalid code point: 0x"+toHexString(S))}return new Uint16Array(x)},isWithinBMP=function(g){return g>=0&&g<=65535},hasSurrogates=function(g){return g>=65536&&g<=1114111},highSurrogate=function(g){return Math.floor((g-65536)/1024)+55296},lowSurrogate=function(g){return(g-65536)%1024+56320},ByteOrder;(function(g){g.BigEndian="BigEndian",g.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="�".codePointAt(0),utf16Decode=function(g,d){if(d===void 0&&(d=!0),g.length<=1)return String.fromCodePoint(REPLACEMENT);for(var x=d?readBOM(g):ByteOrder.BigEndian,b=d?2:0,w=[];g.length-b>=2;){var S=decodeValues(g[b++],g[b++],x);if(isHighSurrogate(S))if(g.length-b<2)w.push(REPLACEMENT);else{var C=decodeValues(g[b++],g[b++],x);isLowSurrogate(C)?w.push(S,C):w.push(REPLACEMENT)}else isLowSurrogate(S)?(b+=2,w.push(REPLACEMENT)):w.push(S)}return b<g.length&&w.push(REPLACEMENT),String.fromCodePoint.apply(String,w)},isHighSurrogate=function(g){return g>=55296&&g<=56319},isLowSurrogate=function(g){return g>=56320&&g<=57343},decodeValues=function(g,d,x){if(x===ByteOrder.LittleEndian)return d<<8|g;if(x===ByteOrder.BigEndian)return g<<8|d;throw new Error("Invalid byteOrder: "+x)},readBOM=function(g){return hasUtf16BigEndianBOM(g)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(g)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(g){return g[0]===254&&g[1]===255},hasUtf16LittleEndianBOM=function(g){return g[0]===255&&g[1]===254},hasUtf16BOM=function(g){return hasUtf16BigEndianBOM(g)||hasUtf16LittleEndianBOM(g)},numberToString=function(g){var d=String(g);if(Math.abs(g)<1){var x=parseInt(g.toString().split("e-")[1]);if(x){var b=g<0;b&&(g*=-1),g*=Math.pow(10,x-1),d="0."+new Array(x).join("0")+g.toString().substring(2),b&&(d="-"+d)}}else{var x=parseInt(g.toString().split("+")[1]);x>20&&(x-=20,g/=Math.pow(10,x),d=g.toString()+new Array(x+1).join("0"))}return d},sizeInBytes=function(g){return Math.ceil(g.toString(2).length/8)},bytesFor=function(g){for(var d=new Uint8Array(sizeInBytes(g)),x=1;x<=d.length;x++)d[x-1]=g>>(d.length-x)*8;return d},error=function(g){throw new Error(g)},common={};(function(g){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function x(S,C){return Object.prototype.hasOwnProperty.call(S,C)}g.assign=function(S){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var F=C.shift();if(F){if(typeof F!="object")throw new TypeError(F+"must be non-object");for(var E in F)x(F,E)&&(S[E]=F[E])}}return S},g.shrinkBuf=function(S,C){return S.length===C?S:S.subarray?S.subarray(0,C):(S.length=C,S)};var b={arraySet:function(S,C,F,E,k){if(C.subarray&&S.subarray){S.set(C.subarray(F,F+E),k);return}for(var D=0;D<E;D++)S[k+D]=C[F+D]},flattenChunks:function(S){var C,F,E,k,D,M;for(E=0,C=0,F=S.length;C<F;C++)E+=S[C].length;for(M=new Uint8Array(E),k=0,C=0,F=S.length;C<F;C++)D=S[C],M.set(D,k),k+=D.length;return M}},w={arraySet:function(S,C,F,E,k){for(var D=0;D<E;D++)S[k+D]=C[F+D]},flattenChunks:function(S){return[].concat.apply([],S)}};g.setTyped=function(S){S?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,b)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,w))},g.setTyped(d)})(common);var deflate$4={},deflate$3={},trees$1={},utils$6=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(g){for(var d=g.length;--d>=0;)g[d]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(g,d,x,b,w){this.static_tree=g,this.extra_bits=d,this.extra_base=x,this.elems=b,this.max_length=w,this.has_stree=g&&g.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(g,d){this.dyn_tree=g,this.max_code=0,this.stat_desc=d}function d_code(g){return g<256?_dist_code[g]:_dist_code[256+(g>>>7)]}function put_short(g,d){g.pending_buf[g.pending++]=d&255,g.pending_buf[g.pending++]=d>>>8&255}function send_bits(g,d,x){g.bi_valid>Buf_size-x?(g.bi_buf|=d<<g.bi_valid&65535,put_short(g,g.bi_buf),g.bi_buf=d>>Buf_size-g.bi_valid,g.bi_valid+=x-Buf_size):(g.bi_buf|=d<<g.bi_valid&65535,g.bi_valid+=x)}function send_code(g,d,x){send_bits(g,x[d*2],x[d*2+1])}function bi_reverse(g,d){var x=0;do x|=g&1,g>>>=1,x<<=1;while(--d>0);return x>>>1}function bi_flush(g){g.bi_valid===16?(put_short(g,g.bi_buf),g.bi_buf=0,g.bi_valid=0):g.bi_valid>=8&&(g.pending_buf[g.pending++]=g.bi_buf&255,g.bi_buf>>=8,g.bi_valid-=8)}function gen_bitlen(g,d){var x=d.dyn_tree,b=d.max_code,w=d.stat_desc.static_tree,S=d.stat_desc.has_stree,C=d.stat_desc.extra_bits,F=d.stat_desc.extra_base,E=d.stat_desc.max_length,k,D,M,L,R,U,j=0;for(L=0;L<=MAX_BITS$1;L++)g.bl_count[L]=0;for(x[g.heap[g.heap_max]*2+1]=0,k=g.heap_max+1;k<HEAP_SIZE$1;k++)D=g.heap[k],L=x[x[D*2+1]*2+1]+1,L>E&&(L=E,j++),x[D*2+1]=L,!(D>b)&&(g.bl_count[L]++,R=0,D>=F&&(R=C[D-F]),U=x[D*2],g.opt_len+=U*(L+R),S&&(g.static_len+=U*(w[D*2+1]+R)));if(j!==0){do{for(L=E-1;g.bl_count[L]===0;)L--;g.bl_count[L]--,g.bl_count[L+1]+=2,g.bl_count[E]--,j-=2}while(j>0);for(L=E;L!==0;L--)for(D=g.bl_count[L];D!==0;)M=g.heap[--k],!(M>b)&&(x[M*2+1]!==L&&(g.opt_len+=(L-x[M*2+1])*x[M*2],x[M*2+1]=L),D--)}}function gen_codes(g,d,x){var b=new Array(MAX_BITS$1+1),w=0,S,C;for(S=1;S<=MAX_BITS$1;S++)b[S]=w=w+x[S-1]<<1;for(C=0;C<=d;C++){var F=g[C*2+1];F!==0&&(g[C*2]=bi_reverse(b[F]++,F))}}function tr_static_init(){var g,d,x,b,w,S=new Array(MAX_BITS$1+1);for(x=0,b=0;b<LENGTH_CODES$1-1;b++)for(base_length[b]=x,g=0;g<1<<extra_lbits[b];g++)_length_code[x++]=b;for(_length_code[x-1]=b,w=0,b=0;b<16;b++)for(base_dist[b]=w,g=0;g<1<<extra_dbits[b];g++)_dist_code[w++]=b;for(w>>=7;b<D_CODES$1;b++)for(base_dist[b]=w<<7,g=0;g<1<<extra_dbits[b]-7;g++)_dist_code[256+w++]=b;for(d=0;d<=MAX_BITS$1;d++)S[d]=0;for(g=0;g<=143;)static_ltree[g*2+1]=8,g++,S[8]++;for(;g<=255;)static_ltree[g*2+1]=9,g++,S[9]++;for(;g<=279;)static_ltree[g*2+1]=7,g++,S[7]++;for(;g<=287;)static_ltree[g*2+1]=8,g++,S[8]++;for(gen_codes(static_ltree,L_CODES$1+1,S),g=0;g<D_CODES$1;g++)static_dtree[g*2+1]=5,static_dtree[g*2]=bi_reverse(g,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(g){var d;for(d=0;d<L_CODES$1;d++)g.dyn_ltree[d*2]=0;for(d=0;d<D_CODES$1;d++)g.dyn_dtree[d*2]=0;for(d=0;d<BL_CODES$1;d++)g.bl_tree[d*2]=0;g.dyn_ltree[END_BLOCK*2]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0}function bi_windup(g){g.bi_valid>8?put_short(g,g.bi_buf):g.bi_valid>0&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0}function copy_block(g,d,x,b){bi_windup(g),b&&(put_short(g,x),put_short(g,~x)),utils$6.arraySet(g.pending_buf,g.window,d,x,g.pending),g.pending+=x}function smaller(g,d,x,b){var w=d*2,S=x*2;return g[w]<g[S]||g[w]===g[S]&&b[d]<=b[x]}function pqdownheap(g,d,x){for(var b=g.heap[x],w=x<<1;w<=g.heap_len&&(w<g.heap_len&&smaller(d,g.heap[w+1],g.heap[w],g.depth)&&w++,!smaller(d,b,g.heap[w],g.depth));)g.heap[x]=g.heap[w],x=w,w<<=1;g.heap[x]=b}function compress_block(g,d,x){var b,w,S=0,C,F;if(g.last_lit!==0)do b=g.pending_buf[g.d_buf+S*2]<<8|g.pending_buf[g.d_buf+S*2+1],w=g.pending_buf[g.l_buf+S],S++,b===0?send_code(g,w,d):(C=_length_code[w],send_code(g,C+LITERALS$1+1,d),F=extra_lbits[C],F!==0&&(w-=base_length[C],send_bits(g,w,F)),b--,C=d_code(b),send_code(g,C,x),F=extra_dbits[C],F!==0&&(b-=base_dist[C],send_bits(g,b,F)));while(S<g.last_lit);send_code(g,END_BLOCK,d)}function build_tree(g,d){var x=d.dyn_tree,b=d.stat_desc.static_tree,w=d.stat_desc.has_stree,S=d.stat_desc.elems,C,F,E=-1,k;for(g.heap_len=0,g.heap_max=HEAP_SIZE$1,C=0;C<S;C++)x[C*2]!==0?(g.heap[++g.heap_len]=E=C,g.depth[C]=0):x[C*2+1]=0;for(;g.heap_len<2;)k=g.heap[++g.heap_len]=E<2?++E:0,x[k*2]=1,g.depth[k]=0,g.opt_len--,w&&(g.static_len-=b[k*2+1]);for(d.max_code=E,C=g.heap_len>>1;C>=1;C--)pqdownheap(g,x,C);k=S;do C=g.heap[1],g.heap[1]=g.heap[g.heap_len--],pqdownheap(g,x,1),F=g.heap[1],g.heap[--g.heap_max]=C,g.heap[--g.heap_max]=F,x[k*2]=x[C*2]+x[F*2],g.depth[k]=(g.depth[C]>=g.depth[F]?g.depth[C]:g.depth[F])+1,x[C*2+1]=x[F*2+1]=k,g.heap[1]=k++,pqdownheap(g,x,1);while(g.heap_len>=2);g.heap[--g.heap_max]=g.heap[1],gen_bitlen(g,d),gen_codes(x,E,g.bl_count)}function scan_tree(g,d,x){var b,w=-1,S,C=d[0*2+1],F=0,E=7,k=4;for(C===0&&(E=138,k=3),d[(x+1)*2+1]=65535,b=0;b<=x;b++)S=C,C=d[(b+1)*2+1],!(++F<E&&S===C)&&(F<k?g.bl_tree[S*2]+=F:S!==0?(S!==w&&g.bl_tree[S*2]++,g.bl_tree[REP_3_6*2]++):F<=10?g.bl_tree[REPZ_3_10*2]++:g.bl_tree[REPZ_11_138*2]++,F=0,w=S,C===0?(E=138,k=3):S===C?(E=6,k=3):(E=7,k=4))}function send_tree(g,d,x){var b,w=-1,S,C=d[0*2+1],F=0,E=7,k=4;for(C===0&&(E=138,k=3),b=0;b<=x;b++)if(S=C,C=d[(b+1)*2+1],!(++F<E&&S===C)){if(F<k)do send_code(g,S,g.bl_tree);while(--F!==0);else S!==0?(S!==w&&(send_code(g,S,g.bl_tree),F--),send_code(g,REP_3_6,g.bl_tree),send_bits(g,F-3,2)):F<=10?(send_code(g,REPZ_3_10,g.bl_tree),send_bits(g,F-3,3)):(send_code(g,REPZ_11_138,g.bl_tree),send_bits(g,F-11,7));F=0,w=S,C===0?(E=138,k=3):S===C?(E=6,k=3):(E=7,k=4)}}function build_bl_tree(g){var d;for(scan_tree(g,g.dyn_ltree,g.l_desc.max_code),scan_tree(g,g.dyn_dtree,g.d_desc.max_code),build_tree(g,g.bl_desc),d=BL_CODES$1-1;d>=3&&g.bl_tree[bl_order[d]*2+1]===0;d--);return g.opt_len+=3*(d+1)+5+5+4,d}function send_all_trees(g,d,x,b){var w;for(send_bits(g,d-257,5),send_bits(g,x-1,5),send_bits(g,b-4,4),w=0;w<b;w++)send_bits(g,g.bl_tree[bl_order[w]*2+1],3);send_tree(g,g.dyn_ltree,d-1),send_tree(g,g.dyn_dtree,x-1)}function detect_data_type(g){var d=4093624447,x;for(x=0;x<=31;x++,d>>>=1)if(d&1&&g.dyn_ltree[x*2]!==0)return Z_BINARY;if(g.dyn_ltree[9*2]!==0||g.dyn_ltree[10*2]!==0||g.dyn_ltree[13*2]!==0)return Z_TEXT;for(x=32;x<LITERALS$1;x++)if(g.dyn_ltree[x*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(g){static_init_done||(tr_static_init(),static_init_done=!0),g.l_desc=new TreeDesc(g.dyn_ltree,static_l_desc),g.d_desc=new TreeDesc(g.dyn_dtree,static_d_desc),g.bl_desc=new TreeDesc(g.bl_tree,static_bl_desc),g.bi_buf=0,g.bi_valid=0,init_block(g)}function _tr_stored_block(g,d,x,b){send_bits(g,(STORED_BLOCK<<1)+(b?1:0),3),copy_block(g,d,x,!0)}function _tr_align(g){send_bits(g,STATIC_TREES<<1,3),send_code(g,END_BLOCK,static_ltree),bi_flush(g)}function _tr_flush_block(g,d,x,b){var w,S,C=0;g.level>0?(g.strm.data_type===Z_UNKNOWN$1&&(g.strm.data_type=detect_data_type(g)),build_tree(g,g.l_desc),build_tree(g,g.d_desc),C=build_bl_tree(g),w=g.opt_len+3+7>>>3,S=g.static_len+3+7>>>3,S<=w&&(w=S)):w=S=x+5,x+4<=w&&d!==-1?_tr_stored_block(g,d,x,b):g.strategy===Z_FIXED$1||S===w?(send_bits(g,(STATIC_TREES<<1)+(b?1:0),3),compress_block(g,static_ltree,static_dtree)):(send_bits(g,(DYN_TREES<<1)+(b?1:0),3),send_all_trees(g,g.l_desc.max_code+1,g.d_desc.max_code+1,C+1),compress_block(g,g.dyn_ltree,g.dyn_dtree)),init_block(g),b&&bi_windup(g)}function _tr_tally(g,d,x){return g.pending_buf[g.d_buf+g.last_lit*2]=d>>>8&255,g.pending_buf[g.d_buf+g.last_lit*2+1]=d&255,g.pending_buf[g.l_buf+g.last_lit]=x&255,g.last_lit++,d===0?g.dyn_ltree[x*2]++:(g.matches++,d--,g.dyn_ltree[(_length_code[x]+LITERALS$1+1)*2]++,g.dyn_dtree[d_code(d)*2]++),g.last_lit===g.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(g,d,x,b){for(var w=g&65535|0,S=g>>>16&65535|0,C=0;x!==0;){C=x>2e3?2e3:x,x-=C;do w=w+d[b++]|0,S=S+w|0;while(--C);w%=65521,S%=65521}return w|S<<16|0}var adler32_1=adler32$2;function makeTable(){for(var g,d=[],x=0;x<256;x++){g=x;for(var b=0;b<8;b++)g=g&1?3988292384^g>>>1:g>>>1;d[x]=g}return d}var crcTable=makeTable();function crc32$2(g,d,x,b){var w=crcTable,S=b+x;g^=-1;for(var C=b;C<S;C++)g=g>>>8^w[(g^d[C])&255];return g^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(g,d){return g.msg=msg$2[d],d}function rank(g){return(g<<1)-(g>4?9:0)}function zero(g){for(var d=g.length;--d>=0;)g[d]=0}function flush_pending(g){var d=g.state,x=d.pending;x>g.avail_out&&(x=g.avail_out),x!==0&&(utils$5.arraySet(g.output,d.pending_buf,d.pending_out,x,g.next_out),g.next_out+=x,d.pending_out+=x,g.total_out+=x,g.avail_out-=x,d.pending-=x,d.pending===0&&(d.pending_out=0))}function flush_block_only(g,d){trees._tr_flush_block(g,g.block_start>=0?g.block_start:-1,g.strstart-g.block_start,d),g.block_start=g.strstart,flush_pending(g.strm)}function put_byte(g,d){g.pending_buf[g.pending++]=d}function putShortMSB(g,d){g.pending_buf[g.pending++]=d>>>8&255,g.pending_buf[g.pending++]=d&255}function read_buf(g,d,x,b){var w=g.avail_in;return w>b&&(w=b),w===0?0:(g.avail_in-=w,utils$5.arraySet(d,g.input,g.next_in,w,x),g.state.wrap===1?g.adler=adler32$1(g.adler,d,w,x):g.state.wrap===2&&(g.adler=crc32$1(g.adler,d,w,x)),g.next_in+=w,g.total_in+=w,w)}function longest_match(g,d){var x=g.max_chain_length,b=g.strstart,w,S,C=g.prev_length,F=g.nice_match,E=g.strstart>g.w_size-MIN_LOOKAHEAD?g.strstart-(g.w_size-MIN_LOOKAHEAD):0,k=g.window,D=g.w_mask,M=g.prev,L=g.strstart+MAX_MATCH,R=k[b+C-1],U=k[b+C];g.prev_length>=g.good_match&&(x>>=2),F>g.lookahead&&(F=g.lookahead);do if(w=d,!(k[w+C]!==U||k[w+C-1]!==R||k[w]!==k[b]||k[++w]!==k[b+1])){b+=2,w++;do;while(k[++b]===k[++w]&&k[++b]===k[++w]&&k[++b]===k[++w]&&k[++b]===k[++w]&&k[++b]===k[++w]&&k[++b]===k[++w]&&k[++b]===k[++w]&&k[++b]===k[++w]&&b<L);if(S=MAX_MATCH-(L-b),b=L-MAX_MATCH,S>C){if(g.match_start=d,C=S,S>=F)break;R=k[b+C-1],U=k[b+C]}}while((d=M[d&D])>E&&--x!==0);return C<=g.lookahead?C:g.lookahead}function fill_window(g){var d=g.w_size,x,b,w,S,C;do{if(S=g.window_size-g.lookahead-g.strstart,g.strstart>=d+(d-MIN_LOOKAHEAD)){utils$5.arraySet(g.window,g.window,d,d,0),g.match_start-=d,g.strstart-=d,g.block_start-=d,b=g.hash_size,x=b;do w=g.head[--x],g.head[x]=w>=d?w-d:0;while(--b);b=d,x=b;do w=g.prev[--x],g.prev[x]=w>=d?w-d:0;while(--b);S+=d}if(g.strm.avail_in===0)break;if(b=read_buf(g.strm,g.window,g.strstart+g.lookahead,S),g.lookahead+=b,g.lookahead+g.insert>=MIN_MATCH)for(C=g.strstart-g.insert,g.ins_h=g.window[C],g.ins_h=(g.ins_h<<g.hash_shift^g.window[C+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[C+MIN_MATCH-1])&g.hash_mask,g.prev[C&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=C,C++,g.insert--,!(g.lookahead+g.insert<MIN_MATCH)););}while(g.lookahead<MIN_LOOKAHEAD&&g.strm.avail_in!==0)}function deflate_stored(g,d){var x=65535;for(x>g.pending_buf_size-5&&(x=g.pending_buf_size-5);;){if(g.lookahead<=1){if(fill_window(g),g.lookahead===0&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var b=g.block_start+x;if((g.strstart===0||g.strstart>=b)&&(g.lookahead=g.strstart-b,g.strstart=b,flush_block_only(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-MIN_LOOKAHEAD&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=0,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(g.strstart>g.block_start&&(flush_block_only(g,!1),g.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(g,d){for(var x,b;;){if(g.lookahead<MIN_LOOKAHEAD){if(fill_window(g),g.lookahead<MIN_LOOKAHEAD&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}if(x=0,g.lookahead>=MIN_MATCH&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),x!==0&&g.strstart-x<=g.w_size-MIN_LOOKAHEAD&&(g.match_length=longest_match(g,x)),g.match_length>=MIN_MATCH)if(b=trees._tr_tally(g,g.strstart-g.match_start,g.match_length-MIN_MATCH),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=MIN_MATCH){g.match_length--;do g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart;while(--g.match_length!==0);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else b=trees._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(b&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=g.strstart<MIN_MATCH-1?g.strstart:MIN_MATCH-1,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(g,d){for(var x,b,w;;){if(g.lookahead<MIN_LOOKAHEAD){if(fill_window(g),g.lookahead<MIN_LOOKAHEAD&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}if(x=0,g.lookahead>=MIN_MATCH&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=MIN_MATCH-1,x!==0&&g.prev_length<g.max_lazy_match&&g.strstart-x<=g.w_size-MIN_LOOKAHEAD&&(g.match_length=longest_match(g,x),g.match_length<=5&&(g.strategy===Z_FILTERED||g.match_length===MIN_MATCH&&g.strstart-g.match_start>4096)&&(g.match_length=MIN_MATCH-1)),g.prev_length>=MIN_MATCH&&g.match_length<=g.prev_length){w=g.strstart+g.lookahead-MIN_MATCH,b=trees._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-MIN_MATCH),g.lookahead-=g.prev_length-1,g.prev_length-=2;do++g.strstart<=w&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart);while(--g.prev_length!==0);if(g.match_available=0,g.match_length=MIN_MATCH-1,g.strstart++,b&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}else if(g.match_available){if(b=trees._tr_tally(g,0,g.window[g.strstart-1]),b&&flush_block_only(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return BS_NEED_MORE}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(b=trees._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<MIN_MATCH-1?g.strstart:MIN_MATCH-1,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(g,d){for(var x,b,w,S,C=g.window;;){if(g.lookahead<=MAX_MATCH){if(fill_window(g),g.lookahead<=MAX_MATCH&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}if(g.match_length=0,g.lookahead>=MIN_MATCH&&g.strstart>0&&(w=g.strstart-1,b=C[w],b===C[++w]&&b===C[++w]&&b===C[++w])){S=g.strstart+MAX_MATCH;do;while(b===C[++w]&&b===C[++w]&&b===C[++w]&&b===C[++w]&&b===C[++w]&&b===C[++w]&&b===C[++w]&&b===C[++w]&&w<S);g.match_length=MAX_MATCH-(S-w),g.match_length>g.lookahead&&(g.match_length=g.lookahead)}if(g.match_length>=MIN_MATCH?(x=trees._tr_tally(g,1,g.match_length-MIN_MATCH),g.lookahead-=g.match_length,g.strstart+=g.match_length,g.match_length=0):(x=trees._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++),x&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=0,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(g,d){for(var x;;){if(g.lookahead===0&&(fill_window(g),g.lookahead===0)){if(d===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(g.match_length=0,x=trees._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++,x&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=0,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(g,d,x,b,w){this.good_length=g,this.max_lazy=d,this.nice_length=x,this.max_chain=b,this.func=w}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(g){g.window_size=2*g.w_size,zero(g.head),g.max_lazy_match=configuration_table[g.level].max_lazy,g.good_match=configuration_table[g.level].good_length,g.nice_match=configuration_table[g.level].nice_length,g.max_chain_length=configuration_table[g.level].max_chain,g.strstart=0,g.block_start=0,g.lookahead=0,g.insert=0,g.match_length=g.prev_length=MIN_MATCH-1,g.match_available=0,g.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$5.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$5.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5.Buf16(MAX_BITS+1),this.heap=new utils$5.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(g){var d;return!g||!g.state?err(g,Z_STREAM_ERROR$1):(g.total_in=g.total_out=0,g.data_type=Z_UNKNOWN,d=g.state,d.pending=0,d.pending_out=0,d.wrap<0&&(d.wrap=-d.wrap),d.status=d.wrap?INIT_STATE:BUSY_STATE,g.adler=d.wrap===2?0:1,d.last_flush=Z_NO_FLUSH$1,trees._tr_init(d),Z_OK$2)}function deflateReset(g){var d=deflateResetKeep(g);return d===Z_OK$2&&lm_init(g.state),d}function deflateSetHeader(g,d){return!g||!g.state||g.state.wrap!==2?Z_STREAM_ERROR$1:(g.state.gzhead=d,Z_OK$2)}function deflateInit2(g,d,x,b,w,S){if(!g)return Z_STREAM_ERROR$1;var C=1;if(d===Z_DEFAULT_COMPRESSION$1&&(d=6),b<0?(C=0,b=-b):b>15&&(C=2,b-=16),w<1||w>MAX_MEM_LEVEL||x!==Z_DEFLATED$2||b<8||b>15||d<0||d>9||S<0||S>Z_FIXED)return err(g,Z_STREAM_ERROR$1);b===8&&(b=9);var F=new DeflateState;return g.state=F,F.strm=g,F.wrap=C,F.gzhead=null,F.w_bits=b,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=w+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+MIN_MATCH-1)/MIN_MATCH),F.window=new utils$5.Buf8(F.w_size*2),F.head=new utils$5.Buf16(F.hash_size),F.prev=new utils$5.Buf16(F.w_size),F.lit_bufsize=1<<w+6,F.pending_buf_size=F.lit_bufsize*4,F.pending_buf=new utils$5.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=d,F.strategy=S,F.method=x,deflateReset(g)}function deflateInit(g,d){return deflateInit2(g,d,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(g,d){var x,b,w,S;if(!g||!g.state||d>Z_BLOCK$1||d<0)return g?err(g,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(b=g.state,!g.output||!g.input&&g.avail_in!==0||b.status===FINISH_STATE&&d!==Z_FINISH$2)return err(g,g.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(b.strm=g,x=b.last_flush,b.last_flush=d,b.status===INIT_STATE)if(b.wrap===2)g.adler=0,put_byte(b,31),put_byte(b,139),put_byte(b,8),b.gzhead?(put_byte(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),put_byte(b,b.gzhead.time&255),put_byte(b,b.gzhead.time>>8&255),put_byte(b,b.gzhead.time>>16&255),put_byte(b,b.gzhead.time>>24&255),put_byte(b,b.level===9?2:b.strategy>=Z_HUFFMAN_ONLY||b.level<2?4:0),put_byte(b,b.gzhead.os&255),b.gzhead.extra&&b.gzhead.extra.length&&(put_byte(b,b.gzhead.extra.length&255),put_byte(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=EXTRA_STATE):(put_byte(b,0),put_byte(b,0),put_byte(b,0),put_byte(b,0),put_byte(b,0),put_byte(b,b.level===9?2:b.strategy>=Z_HUFFMAN_ONLY||b.level<2?4:0),put_byte(b,OS_CODE),b.status=BUSY_STATE);else{var C=Z_DEFLATED$2+(b.w_bits-8<<4)<<8,F=-1;b.strategy>=Z_HUFFMAN_ONLY||b.level<2?F=0:b.level<6?F=1:b.level===6?F=2:F=3,C|=F<<6,b.strstart!==0&&(C|=PRESET_DICT),C+=31-C%31,b.status=BUSY_STATE,putShortMSB(b,C),b.strstart!==0&&(putShortMSB(b,g.adler>>>16),putShortMSB(b,g.adler&65535)),g.adler=1}if(b.status===EXTRA_STATE)if(b.gzhead.extra){for(w=b.pending;b.gzindex<(b.gzhead.extra.length&65535)&&!(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>w&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-w,w)),flush_pending(g),w=b.pending,b.pending===b.pending_buf_size));)put_byte(b,b.gzhead.extra[b.gzindex]&255),b.gzindex++;b.gzhead.hcrc&&b.pending>w&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-w,w)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=NAME_STATE)}else b.status=NAME_STATE;if(b.status===NAME_STATE)if(b.gzhead.name){w=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>w&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-w,w)),flush_pending(g),w=b.pending,b.pending===b.pending_buf_size)){S=1;break}b.gzindex<b.gzhead.name.length?S=b.gzhead.name.charCodeAt(b.gzindex++)&255:S=0,put_byte(b,S)}while(S!==0);b.gzhead.hcrc&&b.pending>w&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-w,w)),S===0&&(b.gzindex=0,b.status=COMMENT_STATE)}else b.status=COMMENT_STATE;if(b.status===COMMENT_STATE)if(b.gzhead.comment){w=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>w&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-w,w)),flush_pending(g),w=b.pending,b.pending===b.pending_buf_size)){S=1;break}b.gzindex<b.gzhead.comment.length?S=b.gzhead.comment.charCodeAt(b.gzindex++)&255:S=0,put_byte(b,S)}while(S!==0);b.gzhead.hcrc&&b.pending>w&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-w,w)),S===0&&(b.status=HCRC_STATE)}else b.status=HCRC_STATE;if(b.status===HCRC_STATE&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&flush_pending(g),b.pending+2<=b.pending_buf_size&&(put_byte(b,g.adler&255),put_byte(b,g.adler>>8&255),g.adler=0,b.status=BUSY_STATE)):b.status=BUSY_STATE),b.pending!==0){if(flush_pending(g),g.avail_out===0)return b.last_flush=-1,Z_OK$2}else if(g.avail_in===0&&rank(d)<=rank(x)&&d!==Z_FINISH$2)return err(g,Z_BUF_ERROR$1);if(b.status===FINISH_STATE&&g.avail_in!==0)return err(g,Z_BUF_ERROR$1);if(g.avail_in!==0||b.lookahead!==0||d!==Z_NO_FLUSH$1&&b.status!==FINISH_STATE){var E=b.strategy===Z_HUFFMAN_ONLY?deflate_huff(b,d):b.strategy===Z_RLE?deflate_rle(b,d):configuration_table[b.level].func(b,d);if((E===BS_FINISH_STARTED||E===BS_FINISH_DONE)&&(b.status=FINISH_STATE),E===BS_NEED_MORE||E===BS_FINISH_STARTED)return g.avail_out===0&&(b.last_flush=-1),Z_OK$2;if(E===BS_BLOCK_DONE&&(d===Z_PARTIAL_FLUSH?trees._tr_align(b):d!==Z_BLOCK$1&&(trees._tr_stored_block(b,0,0,!1),d===Z_FULL_FLUSH&&(zero(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),flush_pending(g),g.avail_out===0))return b.last_flush=-1,Z_OK$2}return d!==Z_FINISH$2?Z_OK$2:b.wrap<=0?Z_STREAM_END$2:(b.wrap===2?(put_byte(b,g.adler&255),put_byte(b,g.adler>>8&255),put_byte(b,g.adler>>16&255),put_byte(b,g.adler>>24&255),put_byte(b,g.total_in&255),put_byte(b,g.total_in>>8&255),put_byte(b,g.total_in>>16&255),put_byte(b,g.total_in>>24&255)):(putShortMSB(b,g.adler>>>16),putShortMSB(b,g.adler&65535)),flush_pending(g),b.wrap>0&&(b.wrap=-b.wrap),b.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(g){var d;return!g||!g.state?Z_STREAM_ERROR$1:(d=g.state.status,d!==INIT_STATE&&d!==EXTRA_STATE&&d!==NAME_STATE&&d!==COMMENT_STATE&&d!==HCRC_STATE&&d!==BUSY_STATE&&d!==FINISH_STATE?err(g,Z_STREAM_ERROR$1):(g.state=null,d===BUSY_STATE?err(g,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(g,d){var x=d.length,b,w,S,C,F,E,k,D;if(!g||!g.state||(b=g.state,C=b.wrap,C===2||C===1&&b.status!==INIT_STATE||b.lookahead))return Z_STREAM_ERROR$1;for(C===1&&(g.adler=adler32$1(g.adler,d,x,0)),b.wrap=0,x>=b.w_size&&(C===0&&(zero(b.head),b.strstart=0,b.block_start=0,b.insert=0),D=new utils$5.Buf8(b.w_size),utils$5.arraySet(D,d,x-b.w_size,b.w_size,0),d=D,x=b.w_size),F=g.avail_in,E=g.next_in,k=g.input,g.avail_in=x,g.next_in=0,g.input=d,fill_window(b);b.lookahead>=MIN_MATCH;){w=b.strstart,S=b.lookahead-(MIN_MATCH-1);do b.ins_h=(b.ins_h<<b.hash_shift^b.window[w+MIN_MATCH-1])&b.hash_mask,b.prev[w&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=w,w++;while(--S);b.strstart=w,b.lookahead=MIN_MATCH-1,fill_window(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=MIN_MATCH-1,b.match_available=0,g.next_in=E,g.input=k,g.avail_in=F,b.wrap=C,Z_OK$2}deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$4=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch{STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}var _utf8len=new utils$4.Buf8(256);for(var q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=function(g){var d,x,b,w,S,C=g.length,F=0;for(w=0;w<C;w++)x=g.charCodeAt(w),(x&64512)===55296&&w+1<C&&(b=g.charCodeAt(w+1),(b&64512)===56320&&(x=65536+(x-55296<<10)+(b-56320),w++)),F+=x<128?1:x<2048?2:x<65536?3:4;for(d=new utils$4.Buf8(F),S=0,w=0;S<F;w++)x=g.charCodeAt(w),(x&64512)===55296&&w+1<C&&(b=g.charCodeAt(w+1),(b&64512)===56320&&(x=65536+(x-55296<<10)+(b-56320),w++)),x<128?d[S++]=x:x<2048?(d[S++]=192|x>>>6,d[S++]=128|x&63):x<65536?(d[S++]=224|x>>>12,d[S++]=128|x>>>6&63,d[S++]=128|x&63):(d[S++]=240|x>>>18,d[S++]=128|x>>>12&63,d[S++]=128|x>>>6&63,d[S++]=128|x&63);return d};function buf2binstring(g,d){if(d<65534&&(g.subarray&&STR_APPLY_UIA_OK||!g.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$4.shrinkBuf(g,d));for(var x="",b=0;b<d;b++)x+=String.fromCharCode(g[b]);return x}strings$2.buf2binstring=function(g){return buf2binstring(g,g.length)};strings$2.binstring2buf=function(g){for(var d=new utils$4.Buf8(g.length),x=0,b=d.length;x<b;x++)d[x]=g.charCodeAt(x);return d};strings$2.buf2string=function(g,d){var x,b,w,S,C=d||g.length,F=new Array(C*2);for(b=0,x=0;x<C;){if(w=g[x++],w<128){F[b++]=w;continue}if(S=_utf8len[w],S>4){F[b++]=65533,x+=S-1;continue}for(w&=S===2?31:S===3?15:7;S>1&&x<C;)w=w<<6|g[x++]&63,S--;if(S>1){F[b++]=65533;continue}w<65536?F[b++]=w:(w-=65536,F[b++]=55296|w>>10&1023,F[b++]=56320|w&1023)}return buf2binstring(F,b)};strings$2.utf8border=function(g,d){var x;for(d=d||g.length,d>g.length&&(d=g.length),x=d-1;x>=0&&(g[x]&192)===128;)x--;return x<0||x===0?d:x+_utf8len[g[x]]>d?x:d};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,zlib_deflate=deflate$3,utils$3=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(g){if(!(this instanceof Deflate))return new Deflate(g);this.options=utils$3.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},g||{});var d=this.options;d.raw&&d.windowBits>0?d.windowBits=-d.windowBits:d.gzip&&d.windowBits>0&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var x=zlib_deflate.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(x!==Z_OK$1)throw new Error(msg$1[x]);if(d.header&&zlib_deflate.deflateSetHeader(this.strm,d.header),d.dictionary){var b;if(typeof d.dictionary=="string"?b=strings$1.string2buf(d.dictionary):toString$1.call(d.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(d.dictionary):b=d.dictionary,x=zlib_deflate.deflateSetDictionary(this.strm,b),x!==Z_OK$1)throw new Error(msg$1[x]);this._dict_set=!0}}Deflate.prototype.push=function(g,d){var x=this.strm,b=this.options.chunkSize,w,S;if(this.ended)return!1;S=d===~~d?d:d===!0?Z_FINISH$1:Z_NO_FLUSH,typeof g=="string"?x.input=strings$1.string2buf(g):toString$1.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new utils$3.Buf8(b),x.next_out=0,x.avail_out=b),w=zlib_deflate.deflate(x,S),w!==Z_STREAM_END$1&&w!==Z_OK$1)return this.onEnd(w),this.ended=!0,!1;(x.avail_out===0||x.avail_in===0&&(S===Z_FINISH$1||S===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$3.shrinkBuf(x.output,x.next_out))):this.onData(utils$3.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&w!==Z_STREAM_END$1);return S===Z_FINISH$1?(w=zlib_deflate.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===Z_OK$1):(S===Z_SYNC_FLUSH&&(this.onEnd(Z_OK$1),x.avail_out=0),!0)};Deflate.prototype.onData=function(g){this.chunks.push(g)};Deflate.prototype.onEnd=function(g){g===Z_OK$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$3.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function deflate$1(g,d){var x=new Deflate(d);if(x.push(g,!0),x.err)throw x.msg||msg$1[x.err];return x.result}function deflateRaw(g,d){return d=d||{},d.raw=!0,deflate$1(g,d)}function gzip(g,d){return d=d||{},d.gzip=!0,deflate$1(g,d)}deflate$4.Deflate=Deflate;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw;deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function(d,x){var b,w,S,C,F,E,k,D,M,L,R,U,j,H,z,V,G,$,K,Z,Q,ne,le,fe,be;b=d.state,w=d.next_in,fe=d.input,S=w+(d.avail_in-5),C=d.next_out,be=d.output,F=C-(x-d.avail_out),E=C+(d.avail_out-257),k=b.dmax,D=b.wsize,M=b.whave,L=b.wnext,R=b.window,U=b.hold,j=b.bits,H=b.lencode,z=b.distcode,V=(1<<b.lenbits)-1,G=(1<<b.distbits)-1;e:do{j<15&&(U+=fe[w++]<<j,j+=8,U+=fe[w++]<<j,j+=8),$=H[U&V];t:for(;;){if(K=$>>>24,U>>>=K,j-=K,K=$>>>16&255,K===0)be[C++]=$&65535;else if(K&16){Z=$&65535,K&=15,K&&(j<K&&(U+=fe[w++]<<j,j+=8),Z+=U&(1<<K)-1,U>>>=K,j-=K),j<15&&(U+=fe[w++]<<j,j+=8,U+=fe[w++]<<j,j+=8),$=z[U&G];n:for(;;){if(K=$>>>24,U>>>=K,j-=K,K=$>>>16&255,K&16){if(Q=$&65535,K&=15,j<K&&(U+=fe[w++]<<j,j+=8,j<K&&(U+=fe[w++]<<j,j+=8)),Q+=U&(1<<K)-1,Q>k){d.msg="invalid distance too far back",b.mode=BAD$1;break e}if(U>>>=K,j-=K,K=C-F,Q>K){if(K=Q-K,K>M&&b.sane){d.msg="invalid distance too far back",b.mode=BAD$1;break e}if(ne=0,le=R,L===0){if(ne+=D-K,K<Z){Z-=K;do be[C++]=R[ne++];while(--K);ne=C-Q,le=be}}else if(L<K){if(ne+=D+L-K,K-=L,K<Z){Z-=K;do be[C++]=R[ne++];while(--K);if(ne=0,L<Z){K=L,Z-=K;do be[C++]=R[ne++];while(--K);ne=C-Q,le=be}}}else if(ne+=L-K,K<Z){Z-=K;do be[C++]=R[ne++];while(--K);ne=C-Q,le=be}for(;Z>2;)be[C++]=le[ne++],be[C++]=le[ne++],be[C++]=le[ne++],Z-=3;Z&&(be[C++]=le[ne++],Z>1&&(be[C++]=le[ne++]))}else{ne=C-Q;do be[C++]=be[ne++],be[C++]=be[ne++],be[C++]=be[ne++],Z-=3;while(Z>2);Z&&(be[C++]=be[ne++],Z>1&&(be[C++]=be[ne++]))}}else if(K&64){d.msg="invalid distance code",b.mode=BAD$1;break e}else{$=z[($&65535)+(U&(1<<K)-1)];continue n}break}}else if(K&64)if(K&32){b.mode=TYPE$1;break e}else{d.msg="invalid literal/length code",b.mode=BAD$1;break e}else{$=H[($&65535)+(U&(1<<K)-1)];continue t}break}}while(w<S&&C<E);Z=j>>3,w-=Z,j-=Z<<3,U&=(1<<j)-1,d.next_in=w,d.next_out=C,d.avail_in=w<S?5+(S-w):5-(w-S),d.avail_out=C<E?257+(E-C):257-(C-E),b.hold=U,b.bits=j},utils$2=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(d,x,b,w,S,C,F,E){var k=E.bits,D=0,M=0,L=0,R=0,U=0,j=0,H=0,z=0,V=0,G=0,$,K,Z,Q,ne,le=null,fe=0,be,me=new utils$2.Buf16(MAXBITS+1),we=new utils$2.Buf16(MAXBITS+1),oe=null,ge=0,Ae,Ce,Ne;for(D=0;D<=MAXBITS;D++)me[D]=0;for(M=0;M<w;M++)me[x[b+M]]++;for(U=k,R=MAXBITS;R>=1&&me[R]===0;R--);if(U>R&&(U=R),R===0)return S[C++]=1<<24|64<<16|0,S[C++]=1<<24|64<<16|0,E.bits=1,0;for(L=1;L<R&&me[L]===0;L++);for(U<L&&(U=L),z=1,D=1;D<=MAXBITS;D++)if(z<<=1,z-=me[D],z<0)return-1;if(z>0&&(d===CODES$1||R!==1))return-1;for(we[1]=0,D=1;D<MAXBITS;D++)we[D+1]=we[D]+me[D];for(M=0;M<w;M++)x[b+M]!==0&&(F[we[x[b+M]]++]=M);if(d===CODES$1?(le=oe=F,be=19):d===LENS$1?(le=lbase,fe-=257,oe=lext,ge-=257,be=256):(le=dbase,oe=dext,be=-1),G=0,M=0,D=L,ne=C,j=U,H=0,Z=-1,V=1<<U,Q=V-1,d===LENS$1&&V>ENOUGH_LENS$1||d===DISTS$1&&V>ENOUGH_DISTS$1)return 1;for(;;){Ae=D-H,F[M]<be?(Ce=0,Ne=F[M]):F[M]>be?(Ce=oe[ge+F[M]],Ne=le[fe+F[M]]):(Ce=96,Ne=0),$=1<<D-H,K=1<<j,L=K;do K-=$,S[ne+(G>>H)+K]=Ae<<24|Ce<<16|Ne|0;while(K!==0);for($=1<<D-1;G&$;)$>>=1;if($!==0?(G&=$-1,G+=$):G=0,M++,--me[D]===0){if(D===R)break;D=x[b+F[M]]}if(D>U&&(G&Q)!==Z){for(H===0&&(H=U),ne+=L,j=D-H,z=1<<j;j+H<R&&(z-=me[j+H],!(z<=0));)j++,z<<=1;if(V+=1<<j,d===LENS$1&&V>ENOUGH_LENS$1||d===DISTS$1&&V>ENOUGH_DISTS$1)return 1;Z=G&Q,S[Z]=U<<24|j<<16|ne-C|0}}return G!==0&&(S[ne+G]=D-H<<24|64<<16|0),E.bits=U,0},utils$1=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(g){return(g>>>24&255)+(g>>>8&65280)+((g&65280)<<8)+((g&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$1.Buf16(320),this.work=new utils$1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(g){var d;return!g||!g.state?Z_STREAM_ERROR:(d=g.state,g.total_in=g.total_out=d.total=0,g.msg="",d.wrap&&(g.adler=d.wrap&1),d.mode=HEAD,d.last=0,d.havedict=0,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,d.lencode=d.lendyn=new utils$1.Buf32(ENOUGH_LENS),d.distcode=d.distdyn=new utils$1.Buf32(ENOUGH_DISTS),d.sane=1,d.back=-1,Z_OK)}function inflateReset(g){var d;return!g||!g.state?Z_STREAM_ERROR:(d=g.state,d.wsize=0,d.whave=0,d.wnext=0,inflateResetKeep(g))}function inflateReset2(g,d){var x,b;return!g||!g.state||(b=g.state,d<0?(x=0,d=-d):(x=(d>>4)+1,d<48&&(d&=15)),d&&(d<8||d>15))?Z_STREAM_ERROR:(b.window!==null&&b.wbits!==d&&(b.window=null),b.wrap=x,b.wbits=d,inflateReset(g))}function inflateInit2(g,d){var x,b;return g?(b=new InflateState,g.state=b,b.window=null,x=inflateReset2(g,d),x!==Z_OK&&(g.state=null),x):Z_STREAM_ERROR}function inflateInit(g){return inflateInit2(g,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(g){if(virgin){var d;for(lenfix=new utils$1.Buf32(512),distfix=new utils$1.Buf32(32),d=0;d<144;)g.lens[d++]=8;for(;d<256;)g.lens[d++]=9;for(;d<280;)g.lens[d++]=7;for(;d<288;)g.lens[d++]=8;for(inflate_table(LENS,g.lens,0,288,lenfix,0,g.work,{bits:9}),d=0;d<32;)g.lens[d++]=5;inflate_table(DISTS,g.lens,0,32,distfix,0,g.work,{bits:5}),virgin=!1}g.lencode=lenfix,g.lenbits=9,g.distcode=distfix,g.distbits=5}function updatewindow(g,d,x,b){var w,S=g.state;return S.window===null&&(S.wsize=1<<S.wbits,S.wnext=0,S.whave=0,S.window=new utils$1.Buf8(S.wsize)),b>=S.wsize?(utils$1.arraySet(S.window,d,x-S.wsize,S.wsize,0),S.wnext=0,S.whave=S.wsize):(w=S.wsize-S.wnext,w>b&&(w=b),utils$1.arraySet(S.window,d,x-b,w,S.wnext),b-=w,b?(utils$1.arraySet(S.window,d,x-b,b,0),S.wnext=b,S.whave=S.wsize):(S.wnext+=w,S.wnext===S.wsize&&(S.wnext=0),S.whave<S.wsize&&(S.whave+=w))),0}function inflate$2(g,d){var x,b,w,S,C,F,E,k,D,M,L,R,U,j,H=0,z,V,G,$,K,Z,Q,ne,le=new utils$1.Buf8(4),fe,be,me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return Z_STREAM_ERROR;x=g.state,x.mode===TYPE&&(x.mode=TYPEDO),C=g.next_out,w=g.output,E=g.avail_out,S=g.next_in,b=g.input,F=g.avail_in,k=x.hold,D=x.bits,M=F,L=E,ne=Z_OK;e:for(;;)switch(x.mode){case HEAD:if(x.wrap===0){x.mode=TYPEDO;break}for(;D<16;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(x.wrap&2&&k===35615){x.check=0,le[0]=k&255,le[1]=k>>>8&255,x.check=crc32(x.check,le,2,0),k=0,D=0,x.mode=FLAGS;break}if(x.flags=0,x.head&&(x.head.done=!1),!(x.wrap&1)||(((k&255)<<8)+(k>>8))%31){g.msg="incorrect header check",x.mode=BAD;break}if((k&15)!==Z_DEFLATED){g.msg="unknown compression method",x.mode=BAD;break}if(k>>>=4,D-=4,Q=(k&15)+8,x.wbits===0)x.wbits=Q;else if(Q>x.wbits){g.msg="invalid window size",x.mode=BAD;break}x.dmax=1<<Q,g.adler=x.check=1,x.mode=k&512?DICTID:TYPE,k=0,D=0;break;case FLAGS:for(;D<16;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(x.flags=k,(x.flags&255)!==Z_DEFLATED){g.msg="unknown compression method",x.mode=BAD;break}if(x.flags&57344){g.msg="unknown header flags set",x.mode=BAD;break}x.head&&(x.head.text=k>>8&1),x.flags&512&&(le[0]=k&255,le[1]=k>>>8&255,x.check=crc32(x.check,le,2,0)),k=0,D=0,x.mode=TIME;case TIME:for(;D<32;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}x.head&&(x.head.time=k),x.flags&512&&(le[0]=k&255,le[1]=k>>>8&255,le[2]=k>>>16&255,le[3]=k>>>24&255,x.check=crc32(x.check,le,4,0)),k=0,D=0,x.mode=OS;case OS:for(;D<16;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}x.head&&(x.head.xflags=k&255,x.head.os=k>>8),x.flags&512&&(le[0]=k&255,le[1]=k>>>8&255,x.check=crc32(x.check,le,2,0)),k=0,D=0,x.mode=EXLEN;case EXLEN:if(x.flags&1024){for(;D<16;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}x.length=k,x.head&&(x.head.extra_len=k),x.flags&512&&(le[0]=k&255,le[1]=k>>>8&255,x.check=crc32(x.check,le,2,0)),k=0,D=0}else x.head&&(x.head.extra=null);x.mode=EXTRA;case EXTRA:if(x.flags&1024&&(R=x.length,R>F&&(R=F),R&&(x.head&&(Q=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),utils$1.arraySet(x.head.extra,b,S,R,Q)),x.flags&512&&(x.check=crc32(x.check,b,R,S)),F-=R,S+=R,x.length-=R),x.length))break e;x.length=0,x.mode=NAME;case NAME:if(x.flags&2048){if(F===0)break e;R=0;do Q=b[S+R++],x.head&&Q&&x.length<65536&&(x.head.name+=String.fromCharCode(Q));while(Q&&R<F);if(x.flags&512&&(x.check=crc32(x.check,b,R,S)),F-=R,S+=R,Q)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=COMMENT;case COMMENT:if(x.flags&4096){if(F===0)break e;R=0;do Q=b[S+R++],x.head&&Q&&x.length<65536&&(x.head.comment+=String.fromCharCode(Q));while(Q&&R<F);if(x.flags&512&&(x.check=crc32(x.check,b,R,S)),F-=R,S+=R,Q)break e}else x.head&&(x.head.comment=null);x.mode=HCRC;case HCRC:if(x.flags&512){for(;D<16;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(k!==(x.check&65535)){g.msg="header crc mismatch",x.mode=BAD;break}k=0,D=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),g.adler=x.check=0,x.mode=TYPE;break;case DICTID:for(;D<32;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}g.adler=x.check=zswap32(k),k=0,D=0,x.mode=DICT;case DICT:if(x.havedict===0)return g.next_out=C,g.avail_out=E,g.next_in=S,g.avail_in=F,x.hold=k,x.bits=D,Z_NEED_DICT;g.adler=x.check=1,x.mode=TYPE;case TYPE:if(d===Z_BLOCK||d===Z_TREES)break e;case TYPEDO:if(x.last){k>>>=D&7,D-=D&7,x.mode=CHECK;break}for(;D<3;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}switch(x.last=k&1,k>>>=1,D-=1,k&3){case 0:x.mode=STORED;break;case 1:if(fixedtables(x),x.mode=LEN_,d===Z_TREES){k>>>=2,D-=2;break e}break;case 2:x.mode=TABLE;break;case 3:g.msg="invalid block type",x.mode=BAD}k>>>=2,D-=2;break;case STORED:for(k>>>=D&7,D-=D&7;D<32;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if((k&65535)!==(k>>>16^65535)){g.msg="invalid stored block lengths",x.mode=BAD;break}if(x.length=k&65535,k=0,D=0,x.mode=COPY_,d===Z_TREES)break e;case COPY_:x.mode=COPY;case COPY:if(R=x.length,R){if(R>F&&(R=F),R>E&&(R=E),R===0)break e;utils$1.arraySet(w,b,S,R,C),F-=R,S+=R,E-=R,C+=R,x.length-=R;break}x.mode=TYPE;break;case TABLE:for(;D<14;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(x.nlen=(k&31)+257,k>>>=5,D-=5,x.ndist=(k&31)+1,k>>>=5,D-=5,x.ncode=(k&15)+4,k>>>=4,D-=4,x.nlen>286||x.ndist>30){g.msg="too many length or distance symbols",x.mode=BAD;break}x.have=0,x.mode=LENLENS;case LENLENS:for(;x.have<x.ncode;){for(;D<3;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}x.lens[me[x.have++]]=k&7,k>>>=3,D-=3}for(;x.have<19;)x.lens[me[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,fe={bits:x.lenbits},ne=inflate_table(CODES,x.lens,0,19,x.lencode,0,x.work,fe),x.lenbits=fe.bits,ne){g.msg="invalid code lengths set",x.mode=BAD;break}x.have=0,x.mode=CODELENS;case CODELENS:for(;x.have<x.nlen+x.ndist;){for(;H=x.lencode[k&(1<<x.lenbits)-1],z=H>>>24,V=H>>>16&255,G=H&65535,!(z<=D);){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(G<16)k>>>=z,D-=z,x.lens[x.have++]=G;else{if(G===16){for(be=z+2;D<be;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(k>>>=z,D-=z,x.have===0){g.msg="invalid bit length repeat",x.mode=BAD;break}Q=x.lens[x.have-1],R=3+(k&3),k>>>=2,D-=2}else if(G===17){for(be=z+3;D<be;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}k>>>=z,D-=z,Q=0,R=3+(k&7),k>>>=3,D-=3}else{for(be=z+7;D<be;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}k>>>=z,D-=z,Q=0,R=11+(k&127),k>>>=7,D-=7}if(x.have+R>x.nlen+x.ndist){g.msg="invalid bit length repeat",x.mode=BAD;break}for(;R--;)x.lens[x.have++]=Q}}if(x.mode===BAD)break;if(x.lens[256]===0){g.msg="invalid code -- missing end-of-block",x.mode=BAD;break}if(x.lenbits=9,fe={bits:x.lenbits},ne=inflate_table(LENS,x.lens,0,x.nlen,x.lencode,0,x.work,fe),x.lenbits=fe.bits,ne){g.msg="invalid literal/lengths set",x.mode=BAD;break}if(x.distbits=6,x.distcode=x.distdyn,fe={bits:x.distbits},ne=inflate_table(DISTS,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,fe),x.distbits=fe.bits,ne){g.msg="invalid distances set",x.mode=BAD;break}if(x.mode=LEN_,d===Z_TREES)break e;case LEN_:x.mode=LEN;case LEN:if(F>=6&&E>=258){g.next_out=C,g.avail_out=E,g.next_in=S,g.avail_in=F,x.hold=k,x.bits=D,inflate_fast(g,L),C=g.next_out,w=g.output,E=g.avail_out,S=g.next_in,b=g.input,F=g.avail_in,k=x.hold,D=x.bits,x.mode===TYPE&&(x.back=-1);break}for(x.back=0;H=x.lencode[k&(1<<x.lenbits)-1],z=H>>>24,V=H>>>16&255,G=H&65535,!(z<=D);){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(V&&!(V&240)){for($=z,K=V,Z=G;H=x.lencode[Z+((k&(1<<$+K)-1)>>$)],z=H>>>24,V=H>>>16&255,G=H&65535,!($+z<=D);){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}k>>>=$,D-=$,x.back+=$}if(k>>>=z,D-=z,x.back+=z,x.length=G,V===0){x.mode=LIT;break}if(V&32){x.back=-1,x.mode=TYPE;break}if(V&64){g.msg="invalid literal/length code",x.mode=BAD;break}x.extra=V&15,x.mode=LENEXT;case LENEXT:if(x.extra){for(be=x.extra;D<be;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}x.length+=k&(1<<x.extra)-1,k>>>=x.extra,D-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=DIST;case DIST:for(;H=x.distcode[k&(1<<x.distbits)-1],z=H>>>24,V=H>>>16&255,G=H&65535,!(z<=D);){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(!(V&240)){for($=z,K=V,Z=G;H=x.distcode[Z+((k&(1<<$+K)-1)>>$)],z=H>>>24,V=H>>>16&255,G=H&65535,!($+z<=D);){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}k>>>=$,D-=$,x.back+=$}if(k>>>=z,D-=z,x.back+=z,V&64){g.msg="invalid distance code",x.mode=BAD;break}x.offset=G,x.extra=V&15,x.mode=DISTEXT;case DISTEXT:if(x.extra){for(be=x.extra;D<be;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}x.offset+=k&(1<<x.extra)-1,k>>>=x.extra,D-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){g.msg="invalid distance too far back",x.mode=BAD;break}x.mode=MATCH;case MATCH:if(E===0)break e;if(R=L-E,x.offset>R){if(R=x.offset-R,R>x.whave&&x.sane){g.msg="invalid distance too far back",x.mode=BAD;break}R>x.wnext?(R-=x.wnext,U=x.wsize-R):U=x.wnext-R,R>x.length&&(R=x.length),j=x.window}else j=w,U=C-x.offset,R=x.length;R>E&&(R=E),E-=R,x.length-=R;do w[C++]=j[U++];while(--R);x.length===0&&(x.mode=LEN);break;case LIT:if(E===0)break e;w[C++]=x.length,E--,x.mode=LEN;break;case CHECK:if(x.wrap){for(;D<32;){if(F===0)break e;F--,k|=b[S++]<<D,D+=8}if(L-=E,g.total_out+=L,x.total+=L,L&&(g.adler=x.check=x.flags?crc32(x.check,w,L,C-L):adler32(x.check,w,L,C-L)),L=E,(x.flags?k:zswap32(k))!==x.check){g.msg="incorrect data check",x.mode=BAD;break}k=0,D=0}x.mode=LENGTH;case LENGTH:if(x.wrap&&x.flags){for(;D<32;){if(F===0)break e;F--,k+=b[S++]<<D,D+=8}if(k!==(x.total&4294967295)){g.msg="incorrect length check",x.mode=BAD;break}k=0,D=0}x.mode=DONE;case DONE:ne=Z_STREAM_END;break e;case BAD:ne=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return g.next_out=C,g.avail_out=E,g.next_in=S,g.avail_in=F,x.hold=k,x.bits=D,(x.wsize||L!==g.avail_out&&x.mode<BAD&&(x.mode<CHECK||d!==Z_FINISH))&&updatewindow(g,g.output,g.next_out,L-g.avail_out),M-=g.avail_in,L-=g.avail_out,g.total_in+=M,g.total_out+=L,x.total+=L,x.wrap&&L&&(g.adler=x.check=x.flags?crc32(x.check,w,L,g.next_out-L):adler32(x.check,w,L,g.next_out-L)),g.data_type=x.bits+(x.last?64:0)+(x.mode===TYPE?128:0)+(x.mode===LEN_||x.mode===COPY_?256:0),(M===0&&L===0||d===Z_FINISH)&&ne===Z_OK&&(ne=Z_BUF_ERROR),ne}function inflateEnd(g){if(!g||!g.state)return Z_STREAM_ERROR;var d=g.state;return d.window&&(d.window=null),g.state=null,Z_OK}function inflateGetHeader(g,d){var x;return!g||!g.state||(x=g.state,!(x.wrap&2))?Z_STREAM_ERROR:(x.head=d,d.done=!1,Z_OK)}function inflateSetDictionary(g,d){var x=d.length,b,w,S;return!g||!g.state||(b=g.state,b.wrap!==0&&b.mode!==DICT)?Z_STREAM_ERROR:b.mode===DICT&&(w=1,w=adler32(w,d,x,0),w!==b.check)?Z_DATA_ERROR:(S=updatewindow(g,d,x,x),S?(b.mode=MEM,Z_MEM_ERROR):(b.havedict=1,Z_OK))}inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils=common,strings=strings$2,c$2=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(g){if(!(this instanceof Inflate))return new Inflate(g);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},g||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),d.windowBits>=0&&d.windowBits<16&&!(g&&g.windowBits)&&(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(d.windowBits&15||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var x=zlib_inflate.inflateInit2(this.strm,d.windowBits);if(x!==c$2.Z_OK)throw new Error(msg[x]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=strings.string2buf(d.dictionary):toString.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(x=zlib_inflate.inflateSetDictionary(this.strm,d.dictionary),x!==c$2.Z_OK)))throw new Error(msg[x])}Inflate.prototype.push=function(g,d){var x=this.strm,b=this.options.chunkSize,w=this.options.dictionary,S,C,F,E,k,D=!1;if(this.ended)return!1;C=d===~~d?d:d===!0?c$2.Z_FINISH:c$2.Z_NO_FLUSH,typeof g=="string"?x.input=strings.binstring2buf(g):toString.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new utils.Buf8(b),x.next_out=0,x.avail_out=b),S=zlib_inflate.inflate(x,c$2.Z_NO_FLUSH),S===c$2.Z_NEED_DICT&&w&&(S=zlib_inflate.inflateSetDictionary(this.strm,w)),S===c$2.Z_BUF_ERROR&&D===!0&&(S=c$2.Z_OK,D=!1),S!==c$2.Z_STREAM_END&&S!==c$2.Z_OK)return this.onEnd(S),this.ended=!0,!1;x.next_out&&(x.avail_out===0||S===c$2.Z_STREAM_END||x.avail_in===0&&(C===c$2.Z_FINISH||C===c$2.Z_SYNC_FLUSH))&&(this.options.to==="string"?(F=strings.utf8border(x.output,x.next_out),E=x.next_out-F,k=strings.buf2string(x.output,F),x.next_out=E,x.avail_out=b-E,E&&utils.arraySet(x.output,x.output,F,E,0),this.onData(k)):this.onData(utils.shrinkBuf(x.output,x.next_out))),x.avail_in===0&&x.avail_out===0&&(D=!0)}while((x.avail_in>0||x.avail_out===0)&&S!==c$2.Z_STREAM_END);return S===c$2.Z_STREAM_END&&(C=c$2.Z_FINISH),C===c$2.Z_FINISH?(S=zlib_inflate.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===c$2.Z_OK):(C===c$2.Z_SYNC_FLUSH&&(this.onEnd(c$2.Z_OK),x.avail_out=0),!0)};Inflate.prototype.onData=function(g){this.chunks.push(g)};Inflate.prototype.onEnd=function(g){g===c$2.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function inflate$1(g,d){var x=new Inflate(d);if(x.push(g,!0),x.err)throw x.msg||msg[x.err];return x.result}function inflateRaw(g,d){return d=d||{},d.raw=!0,inflate$1(g,d)}inflate$4.Inflate=Inflate;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw;inflate$4.ungzip=inflate$1;var assign=common.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako={};assign(pako,deflate,inflate,constants);var pako_1=pako;const pako$1=getDefaultExportFromCjs(pako_1);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$3=0;i$3<chars.length;i$3++)lookup$1[chars.charCodeAt(i$3)]=i$3;var decodeFromBase64=function(g){var d=g.length*.75,x=g.length,b,w=0,S,C,F,E;g[g.length-1]==="="&&(d--,g[g.length-2]==="="&&d--);var k=new Uint8Array(d);for(b=0;b<x;b+=4)S=lookup$1[g.charCodeAt(b)],C=lookup$1[g.charCodeAt(b+1)],F=lookup$1[g.charCodeAt(b+2)],E=lookup$1[g.charCodeAt(b+3)],k[w++]=S<<2|C>>4,k[w++]=(C&15)<<4|F>>2,k[w++]=(F&3)<<6|E&63;return k},arrayToString=function(g){for(var d="",x=0;x<g.length;x++)d+=String.fromCharCode(g[x]);return d},decompressJson=function(g){return arrayToString(pako$1.inflate(decodeFromBase64(g)))},padStart=function(g,d,x){for(var b="",w=0,S=d-g.length;w<S;w++)b+=x;return b+g};const CourierBoldCompressed="eJyFWdtyGjkQ/RVqnnar8Bb4lpg3jEnCxgEvGDtxKg9iphm01oyILrZxKv++mrGd3az6KC8UnNa0+nrUGr5lI11VVLtskF198FaU1Dns9w9OOkf7/ePDrJu90bWbiorCgpH2RpLZO9WqaCReqZ8lnReJqKTa/SwL8DXJctPs9Lxs4oSS+bAuVVjXC7/tG/lAxYV0+SYbOOOpm402wojckVlQ8+T4wVFdUDHXlaifrTs91Q/Z4PNeMLu7t3/U6746POm+7vW/dLNlWGuUrOlCW+mkrrPBXr/X+4/gciPz25qszQbhyeyKjG2XZb3ewR+9Xi/sMdVO5k+ebHemcaHzW/57p3/y+qQbPk967We//TxoP191hoVeUWexs44q25nUuTZbbYSj4o9OZ6hUZ97osZ05WTJ3AQ37jMOqQtblIt9QG7lWycKJuhCmeJGGhSOxffccyqPj/W728eXX4cFJNxvavAmRyQbH++HnGf34vdc/etXNFq54d50NXh+2X6/C137v+CnQH8gZmYdQfP6WXX8MCppQTYMlditCBL53/wfTQ65EFeNfvQ6erlQsqX21akJc1rGs0EoJE+NbMnlToZFAVEFkQ3iABW2uGH3CUK1ojUTgMWEbjfaWeUp5G6N5aCwRw5vddkOM98EVqRlPrBJ2E8OPZHSM6prJkrtnVrqNIWbtOjQrg8o7Zq2VDwxId5x3xMe0lpzBuVaa0WGpkkCkmgaON/3qBVODpaHQiIybXz3ZliTi3DO2D2PoNIZGMXQWQ+MYehNDb2PoXQxNYujPGHofQ+cx9CGGpjE0i6GLGPorhuYxtIihyxhaxtBVDF3H0McY+hRDNzG0CqfQLTmeNlZBBvr0+TnIKbmUuTS5Z1jUN6xtw8nBtEjLb7wxDOesmB5j+JfpIIYLmIZiWC6GZAz9HUMMvTItzESL6VqG9rZMKGOI4QaGXpjY+xi6i6H7GGKYdMeQPl9foBBW3GHark9Vo5OqgEd9oe+ZOPOnc3NcqmZgiUuomehYnt1xZ8daaSPZ8wBoyb0Jx3jOBLBtGyvbiRNOLXw0Sy+DpNKAAhpxq/gXYhD6NdMda6bwwyTH0kwhypI70p5wdhR7Gjia3JEhpvfDLCRKI7YcqYXJnxgv/g3vSthEhNNSEKIfCQByUkpurWQaNXjqNtqjSfHp0OdLOwSAG31E7h03uLRMvlbEtDPoq0rkhqvhlSFu40I7kfP9VoRLFrH+G7YLcypCQLkJ1delML5SwjPb6DIMmQxL54L1gyq+YIfMyKNNsQ4zHj8UnoMDdoZwfoMqkJxX7A6Cj3czWzLdqcC+GuGM9tCa4RobSp5J2gTnk0D5CVA0Pp1RAqn7hC0o5J3kqvkTsGyY6gwBHlqmHtqBh2x77UI9QimVS75PljgMAjXDEljn0QNjvMlZIAju/pF0NH95VcFshSgnB3Ug+LhMkwYoVKOAUS+T2kZIG2DVcYInLXDTQkKUYHelH6kuGcEcbPE26aRPNklKOEQpNcCQHPp6k4jc5UYbRtkM7T4HcVsAvADWLtEGnq/M9t2G9e2Aw8xEM1CCQ4QDWq28cnKrmDHTAwcvgYNh1HJSqEKumdvVDlPDFOwjU8UyTpZZ4tTBohzYUSMaRAmdggBNgKLmzVsYGLjXbyujb6lm70CGSmnB1PsWJHuSYhQfupq/ioxBTRngkEaRuQEP3ICIPb/kAq/Axo6ZUEaQFFSStxwa/eDpiARDND4kqhIE+BG1Btp7hjKCjh6UKYt2xk7MkmMJ8PCMlGNy5XiSdvc6wYjYtIp5pSGBRTo9Z45R6Asw4bQ8HgrYhEJmTFsk6pWvyPfJOj4HiXNGFFQJw1hOCVaYgChNUOGcA6tD0DZCMSdDczMBDa5TFVWDqWn5i/yB+BByqARcGhx6ziqXVD4Ii2TqZmnLi8AS3L8dGqRoBIzwkM0LmXNpOAOKTNKbKciPBvg8XdZJ6RDoHEKO5meuGdDzmOiQMTrt0d63SVfAIDBJtgIwwaUvN7ps8l1r7v0I5lKPRUEV+rcqfaHlDvJH4FSdVBVCjk8IiXp87Jv/Ib90s/dk6gshTfPv8Zfv/wDUfBK2",CourierBoldObliqueCompressed="eJyFWdtyGjkQ/RVqnnarcAo7vuE3jEnCxgEvGDtxKg9iRgxaa0ZEF9s4lX/fnrGdTVZ9lBcKTmvU96PW8C0bmqqStc9OsqsPwYlSdnaPDvb6naP+3v5+1s3emNpPRCVpwdAEq6TdOTW6mC61+hpksyBo/euCTrOg89MKUSm9/XUNwddSletGcbOcfo+90Cof1KWmdTu7e4S4N+pBFhfK5+vsxNsgu9lwLazIvbRz2Tw7evCyLmQxM5Won809PTUP2cnnnYOj7s7eQa97fNjvHvd2v3SzBS21WtXywjjllakbRb3eT4LLtcpva+lcdkJPZlfSunZZ1uu9ftXr9UjFxHiVP7my2drGh84f+Z+d3f5xv0uf/V77udt+vm4/jzqDwixlZ751XlauM65zYzfGCi+LV53OQOvOrNnHdWbSSXtHKOkZ0apC1eU8X8s2dO0mcy/qQtjiRUoLh2Lz7jmWB4cUto8vv/Zf97vZwOVNhGx2crhHP8/kj987uxShbO6Ld9fZyfF++/WKvu72Dp/i/EF6q3IKxedv2fVH2qAJ1YQscRtBEfje/R8sH3Itqhj/Ggx5utSxpA7VsglxWceywmgtbIxvpM2bio0EoiKRo/AAC9pcMfsJK2stV0gEHhOu2dHdMk/p4GI0p0YTMbzebtaS8Z5cUYbxxGnh1jH8KK2JUVMzWfL3zEq/tpJZu6JuZVB1x6x16oEB5R3nneRjWivO4Nxow+zhZKWASDcNHCv9GgRTg6WV1IiMm8ReriWJOPeM7YMYOo2hYQydxdAoht7E0NsYehdD4xj6K4bex9B5DH2IoUkMTWPoIob+jqFZDM1j6DKGFjF0FUPXMfQxhj7F0E0MLekQupWep40lyUCfPj8HOSVXKlc2DwyLhoa1HZ0cTIu0/MYbw3DOkukxhn+ZDmK4gGkohuViSMXQPzHE0CvTwky0mK5laG/DhDKGGG5g6IWJfYihuxi6jyGGSbcM6fP1BQphyR2m7fpUNXqlC3jUF+aeiTN/OjfHpW4GlriEmoGO5dktd3astLGKPQ/ALnmwdIznTADbtnGqHTnh1MJHswyKJJUBFNCI241/IwahXzHdsWIKnyY5lmYKUZbckfaEs6PY08DR5E5ayfQ+zUKitGLDkRpdASTjxX/hXQqXiHBaCkL0IwFALrVWG6eYRiVP/doENCk+Hfp8aVMAuNFH5MFzg0vL5CstmXYGfVWJ3HI1vLSSU1wYL3K+3wq6ZUnWf8t2YS4LCig3oYa6FDZUWgRGjSlpyGRYOhesH7LiC3bAjDzGFiua8fih8BwcsFOE8woqIrmgWQ2Cj3czWzLdqYFeg3Bmd2pNusVSyTNJG+N8SlB+AhRNSGdUgtR9whYU6k5x1fwJWDZIdYYADy1SD23BQ669dqEekaktF3yfLHAYBGqGBbAuoAdGWMkZEQR3/0g6mr+8qmBUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2j7IuGcEMqHibdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4CuzfbfhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNS8eaOBgXv9trTmVtbsHcjKUjkw9b4FyR6nGCVQV/NXkRGoKQscMigyN+CBGxCx55dc4BXYyDMTyhCSgk7ylkejHzwdkWCAxodEVYIAP6LWQLqnKCPo6EGZckgzdmKaHEuAh2dSeyZXnidpf28SjIhNq5hXGgpYZNJz5giFvgATTsvjVMCWCpkxbZ6oV74i3yfr+BwkzltRyEpYxnKZYIUxiNIYFc45sJqCthaaORmamwlocJOqqBpMTYvf5A/ERyKHSsCl5NBzVrmk8kGYJ1M3TVteEEtw/3YYkKIhMCJANi9UzqXhDGxkk95MQH4MwGfpsk5KB2DPAeRofuaagn0eEx0yQqc90n2bdAUMAuNkKwATfPpyY8om37Xh3o9gLg1YRFuhf6vSF1ruIH8ETtXJrSjk+IRQqMdHofkf8ks3ey9tfSGUbf49/vL9XxrnGMA=",CourierObliqueCompressed="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",CourierCompressed="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",HelveticaBoldCompressed="eJyNnVtzG0eyrf8KA0/7RMhzJJK6+U2+zMX2mJYsEuJMzANEtihsgYQMEITaO/Z/P41CV+bKlaug86JQf6uArsrKXNVX8H8m3y9vb7u7+8m3k4t/btazm+7o5PmTZy+PTl88eXk6eTT56/Lu/tfZbTc0+Hu3eOju51ezb75bLq532maxYO2oarPb+aJndRCm3fzm425/Y8N/3M8W86tXdzeLoeXjYXv91/mX7vq3+f3Vx8m396tN92jy/cfZanZ1361+73af/PHLfXd33V2/Wd7O7sY+fvfd8svk239/8+T540ffHB+/ePTk8eOTRy+fHf/n0eR8aLxazO+635br+f18eTf59ptBBuHtx/nVp7tuvZ58+3TgF91qXZpNHj8+/svjx4+Hnfy6HAawG8z3y8/9ajeGo/+6+j9HT16+ePpo9+/z8u/L3b8vH5d/nx+9ul6+745+79f33e366B93V8vV5+Vqdt9d/+Xo6NVicfRm9z3rozfduls9DNTDOF8fzY7uV7Pr7na2+nS0/HD0y/xued9/7r4ZGi2OXv3taHZ3/X+Xq6P58AXrzfv1/Ho+W8279V+Gzv447Op6fnfz+9XHrsxA6cnv98NHZqvrqg4Nv599/vs4Ic+fvHg0eVe3np4cP5q8Wl/tAr0axR862/7m+PHzR5Pf76//Pp18+2QnDv+/2P3/9PF+vv7Z3a/mV0NA//0/k+m7ybfHz4dGvw5dWX+eDXH830d7fHJyssfdl6vF7Nb46fPTPf9jsxzi9X5hytOnz/bK3eb2/W6ibu6ydr1cLGYr4y+GiSn8c7e62qV7FZ4fH++F2e0grYf4mGQdLj0oM557/Xm26u4W3YeWRB+r3Zitd9+4/uQdfzEO9/Nis85duBqqdJZ38bH//LG7y82HocyXYiTrxWz9MQfrz261zHR512V4vxUt7z+uOtH2w3KzEnT+INqu518E7B46MbddiKmnw/xOpNXVcrG8y3jd3c6jZDOw2NlAot0fm9ki45tVN5SzD/PZkyc1abp1sZqqvHz+dJx7kX2vMvouo+8z+sH3/Oz5Hv2YO/NX/2BNhb/l7/p7Tph/5DD/lD/4c97jL156NeT/zB/8NffrLA/ot9zqdf6uN/mDv+d+vc0fPM8fvPBZOx0neppbvcvoMu/xXzn53g+L2afuPtiGhfz9oMU65c9FT7FUnK2v5vOr+epqc5tnbbOz7fWw/nR5j8XfQmfsY7M8nve51VVudZ1bieL8kD94k9HH3OV5Rv+d9/gpt/IStiXhNu/xLqNlRp9F1WerFxa4zpG4z9+1yR98yJWwza2Ek/aOdsc9xfRzV3f5FRPh+MXjmpWrRvtD2Xg/X1w3l/rr5VaYe1idPWL35TjNk+NJrbgPuwND9Fkfs1o7PiyWq7ng667xLVeb1bCMX3kAj0+wbNbzcuCaoluPWnRZ3Wzmg3K7vNdHDju5fPFX5Bh6S5wPc8HE8dNwKCcPB65nNzedSNs9x0MxOuDYzV236kTtD8dCs5vV7DOY2tOaWcNJRCd80MP7frY+EOHD6kofK9gERH04KRg/Pxxizz+v52shDWO9/7jchGPFtOyH5PaZW80eRD3Mrjb36tClePmHRfcla43Kup1drdThzvtVp3Z8vbyfXYWKc2k+zCQGwJQV1qF3trseQqqOUTd3N7PV5nYx24jdLG+Gw8xP4utmOA6Yl9uQsy688sOek+cjW66uPwzHeeHA0I9Q4iLrByCR+x7OYA/Pntoebgen2yxwF7ayzMRie70r+vVaLGCLuGNfeSK3I5KlGNRQn8Mp8ZD34hziH2lK3QliBvryH/PGlyY5qf51cfb86Cj3oC4X1/OHOSS0fyT2zA+YRXF4txsfOj/0ob4Rg3U596IygaHmr/T9hVJx3J6IGdWDfyb2zmeCPuBnAWknfs4weASchBxXJ1YDfX7yvIrjVQ+xK3IdXztjHvgodVx+VR3w8mjlaDRVP9KXw7FTqda3RWOFcCarhAzRw1yzJ/rha9z76ct66rn8s7u7EZn7Ju7Cz+LUID05DhbJocx9xQuJHc02xnrFY/Xznxw5i+rbj8uVGNUZ7d3DQFVgJ3pU8Kd1EaOwWTXRDjxienErFzjWm3KUsxL9jSnoUWzxaKtmgrebxf3886IX/WqU/9s4QEuk4Xjrfj5bXM8/fMhz1bet4de4H09YkSxeGwfT7MCq05auGuO9a9lgK2N+jQHyxZDqHy+/DUcMeA3OToFWy0/dHZ4ImTmuupv5Oh76eonGyYblONdFPdRYb4aqDucjHmw6hrTCbERm2Ur1fzU+8C+q8NOX9di1XOmK18Eszj/ef8zw+6YBLpRv2VjuGybTNVfHlvCqdfhwICtjgP18uVUavG9zhdaMtJae1jK6bu0517Ht++BhCa+Y9bigW9wLA78PJu2euF0ecMTUNfu6240YSWMNX8rjTK8FPvixq0/xCOfFySn4+JDAqyGR1/n7fud8Pa2Tv2gsJD8fXH9/iRPnpxJ2X0eZYrIFt4wYJuetGv8ldtviMETt42wBS0Mt8t2pSaxwnwu1BJgvx8MmT7WvTGCjFLrWgG6imeKAxmlVs6rPRn6XB4iWwbLnlhDXg010KmMbS/731AlbuMhtTs3Or+dXymh/iF8EB2aHDnd/pcNa625j3t4czuuD+3rV+M5XTZOOpwM2A/F73IgPHFD+2Fruad9+iVie3dkBWTwSsG87WAo0QeaXB/e0WN7s5vtuKcK9bJvpJq9jNYOGr2pU8s3Bye1gJfeYN9L3Tq7jdnHnLh80u+e3lrsfN7u7kf95NPm5W939NpuvdveQ/z15tbtbPXn0zenj/zwat/buEdC+nxGNpo7wb8PWU9/au0pAODAUzsL3nOUu4NIbuE1VoPv6Dyg4T1DGkAW2vzoU0L5wEL0OW2+HrZe+VWOGKIzehfMQi/M6ekBh9MBh9EDr6AHR6EGx0QMb6zqwYidILoatF7Y1Hbae2dblsPXkiW/WISGDvgPeDJsnvlU/CCjEAjh8H9AaC0AUC1AsFsAsFsDGWDh5CJmwDVoft/KI+tzzsRGWpiEqDuNUpM65UqsC5WqIata4LNyqnuXv5hI2rurYxFzMJlFFG9dlbTLXtglU4Mapyit/nRHUuyEqeueq8qt6niPKHmBcGYGJ2Q1MIkswrn3BZDYHE9ghTIg2UTF4RUVgGBWhaxhj6zBB+EfVwEQMUd0ZV3ZiYrsy2ViMa3cxmS3GBPYZE6LZVPyQE3KbW/UCNQIhXGg0A3QhQ1TfxsmFnLMLVQVcyBC5kHHpQlU9y9/NLmRcuZCJ2YVMIhcyrl3IZHYhE8iFjJMLVf46I3AhQ+RCzpULVfU8R5RdyLhyIROzC5lELmRcu5DJ7EImsAuZEF2oYnChisCFKkIXMsYuZIJwoaqBCxmi4jOuXMjEdmWyCxnXLmQyu5AJ7EImRBeq+CEn5Da36gVqBEK4EIYGrShyqvQokimRyM4UZLCnyMmjoiiNKjQ5a+yPLSuKyrdii2xeUScHi6K2sdiGvSyqZGhRJFcL4usGB3+LnEyOROV0ocl5Y17Y86KojC+2yO4XdbLAKGofjG3YDKPKjhjVaItBA28MHAwycHTJKLBVRlX4ZWgAphk5GUYUlX3GFl/xFTbSKGo3jW3YUqPKvhrVaK5Be2jUxbbRvm/xQ/ETrusEPRcpGRVK5LdBYrcFEbwWKTktStJnocGZ3A97LErKYVHP/ooquStK2luxBTsrauSrKJGrgvRaUnBUpOSnQVJuCg3OZezZSVFSPop6dlFUyUNR0g6KLdg/UWP3RC16JyjgnEDBN4GiayJmz0RNOCbI4JdIqdpRUl6J+kEvYJ9ESbsktmCPRI0dErXoj6A8yAzfyra9pu1ICVccR4+WaIhMxTiZoXN2wqqADRoiDzQuDbCqZ/m72fqMK98zMZueSeR4xrXdmcxeZwIZnXFyucpfZwT+ZojMzblytqqe54iypxlXhmZidjOTyMqMax8zmU3MBHYwE6J9VQzeVREYV0XoWsbYskwQflU1MCtDVH/GlU2Z2K5MNijj2p1MZmsygX3JhGhKFT/khNzmVr1AjUAIF6p9RRtyRhXuAhkRCOxEJoEVOSMvckGakcln4vvZjlxQfuRqNiTXyJFc0JbkOnuSK2RKLpArmfBaMPAlZ2RMIChnMvlcxJe9yQVlTq5md3KN7MkF7U+us0G5wg7lSrQo4+BRxsCkjKFLOWSbckX4lIlgVM6oQF1QVuXqgfpls3JBu5XrbFeusF+5Eg3L+IPI1a1o1yvWiolwrdoxdC1nZAQukGuBwK5lEriWM3ItF6RrmXwmvp9dywXlWq5m13KNXMsF7Vqus2u5Qq7lArmWCa8FA9dyRq4FgnItk89FfNm1XFCu5Wp2LdfItVzQruU6u5Yr7FquRNcyDq5lDFzLGLqWQ3YtV4RrmQiu5Ywq1AXlWq4eqF92LRe0a7nOruUKu5Yr0bWMP4hc3Yp2vWKtmAjXWo2/6OG7q4RMoGLyK8PsVqMAXlUJOVXF0qdG8Sx9L3tUxcqhqpb9qSrkThVrb6oqO1Pl5EsVkyuN+HUi4EiVkB8ZVm40iucphuxEFSsfqlp2oaqQB1WsHaiq7D+Vs/tUHr1npOA8IwHfGQm6TkXsOZULxxkl8JtKqLIqVl5TtWbNsc9UrF2mquwxlbPDVB79ZaQPKeu2qU2fiR69cJUx19FWDFHhGidjcc7OUhWwFkPkLcaluVT1LH8324tx5S8mZoMxiRzGuLYYk9ljTCCTMU4uU/nrjMBnDJHROFdOU9XzHFH2GuPKbEzMbmMS2Y1x7Tcms+GYwI5jQrScisFzKgLTqQhdxxjbjgnCd6oGxmOIas+4sh4T25XJ5mNcu4/JbD8msP+YEA2o4oeckNvcqheoEYjsQt8N9FXcip8tqDoGIBHSwvUeYiALoiAVRvEpLISmkFq+jnbV9cS3LJ0che4CxwRzWrsLiKYcFBsIMBsIsHEge/LDGPdT34pu+gPGHZDw1h8o7kCjo/4Q4g7Mugts7C6QaJs/jCXvW9OwtSv0575VRwcIuux0/3tsdXJ3ZPzJNUOj/2L4DFEMjVMgjatomphDahLF1TgH1wSOsAkxzIYp1pVfZDTNCEJviOJvPE9ClWgmKk7TUV4IjNNREU9H5TwdlcvpqKKYjirxdFSepqMKaTqqQNNRMU/HyC8ymmaE01ERT0flYjpGiadjxDQdfx1n4oVv1V0BqvEHFEIPHDoEtAYckMUamIUZ2BhhIDW4jnbjPPatOgJAdQSAwgiAwwiA1hEAshEAsxEAG0cApI7AUZ2tJ48N2UyN7Kdxqo59Kw70J5wqQGKgP9FUAY0D/SlMFTAa6E8wVUDiQH+CgTqxcTraxK08zE1jTBs5pk0eEx+SgSJGuxGj3YTR/jzZn/Kc+FY8LipIHAQVng6CCo0HQQXJA8mi0OFRYfV8BlA8Ftqhctzy1LbsWMhRPYFBFA6PnOPhEVB7TTRgO2py5MdGzvzYyNhyNwLfskg7ipF2jpF2apF2xJF2xSPtzCLtyCJtaBPivsn5oc47fp6oU46fJ+ls42eR1aCI/ODTi58nfGaxI70tUGUrLtEFpYU2vIsf6oIECgGpKhrUJAeGGlCMSNXhokYcOZKpyEileosqJD8JVIWkUkGyKmqTmuQy5Qa5YqkFFS+pXMckc0lHGaqbBCp0UlXNU5Nc/tSAnIBUbQrUiP2BZLIKUsk1orppJRJ7CalfLyThMNTgYCE1fIcaHS6k5EYkR2OKIngUCWRXpCbn+mWC1/DKVrx8t0fiyt1O2B3ej5eddptTO0bdbZULWce+aSUODOvScfwFzUE6jZLgfo3nl0m6vPPLRF3Z+SW/o+qIgnDwHVVTMRz4BueLiDAw+Q1OFkSIqtaKU9BbYp8DwWFrv/X4S8wriCAJFEdWVTRjG4xpVCCyUcD4ksJRJlnEOrZoRVy0Otykb4WS56BdwGOD0V5xDgxR9J2ruFcVI14ZxLoijLIxjq8JIrJVa8U06C2xz4HgCBpPsRuO08oJ5lPfirccCop3gwoSNyAKT/ceCo23HQqiWwqF0d2EwsKNhELqeunorZn5Gc45ojDdLlyE75mGrXdhy6/QnE3SxZmzibous6P13Nd3aee+I6oWA9NgiObCOE2IcTUrJuapMYnmxzhPkgk8UybE6TJMc4brDoWBZ6+x7pB6kb97mtG7jGBa00LEPE9wlWiWK+apDi9TwXxHTpMeRZr5KKrpjy1yDkSdEiGKnA1R5ZSIasyLqFFypPc6VfQ4TQ6916maXDT2N23wdw0O+aNfb5RizqSgUzoFjXMKXkSBjEJK+YQSZRNKKpdQz5mEKuURSpxFqHEOoRYzCBXKH3qHLceJc6f9DltucCH3M5X0naSQMerVLiHlbAGVcgUUzpT6pgCkiSHKEeOUIMZVdpiYU8MkygvjnBQmcEaYENPBMOUCvuxDYeAsaLzsQ+pF/u5pRu8ygmlP78YwzxNeJZrtinmq47k5zjgrNPEs0/yzrNKA2+Rs4BaUFCxzbrDOKcJ6zBRWKWFIftuMKadPklUWUaOL5n6nTeVdU4EMY4USjeWcb9SC0o5Uzj57uh/yzhllnAuUay6oLHM155drlFkucE65wtnkSswj55RB4UUejghnTetFHpYvxPdPBXsnGORFft8lCTkXTKMsMM7zX083YfoN0ewbp8k3rubexDz1JtHMG+eJN4Hn3YQ47YZp1vEaBIWB57xxDYLUi/zd04zeZQTTnS5KMM+TXSWa64p5qutTYzDVhmiqjdNUG1dTbWKeapNoqo3zVJvAU21CnGrDNNX44CeFgae68eAnqRf5u6cZvcsIpjo9J8k8T3WVaKorpqn+bZzl8cmE33CGkdXZRUZP1rkQHq1z7M/WOYNH6BzCM3QO7SE6R3UGgflzMmUrXjErKD7RWJC4q1J4uq5WaLx/UhDdDymMboIUFu58FBLvKv4G8zZeTdyh2KDLg7L7iIj0oDo5qHCbEHAeayfG2omxLkOK2f0+QOKRr8LTrZxC44NeBcmHw4tCT38VFh8JLyg+2/UbVscY/dcTfMS0bMVHTAsSj5gWnh4xLTQ+YlqQfMS0KPSIaWH0iGlh4RHT155GPow6tD15M9nfzYet+GxOQeLZnMLTszmFxmdzCpLP5hSFns0prE4RoPjY0ZvRn2GrZj6i4MounMetPN7zxnjP5XjP83h5IkER4z2nZ5HewEQ68WXkzQQfMnwzrhSuXcal+Q2tDyOtVzFh9g1RSIyruJiYg2MSRci4DpPJHCsTKEGMU5bgdWhGlC+N69CkngvUiJXMIRPbseJsMn44VimvTODkMiFmWL7UbghyDa+rUyvOOnVdfZTqg8SQeoYonMZVOE3M4TSJwmlch9NkDqcJlHrGKfUqfysQpZ5zlXpVPReoESuZeia2Y8WpZ/xwrFLqmcCpZ0JMPXy0nTIEUg8fbadWnHrq0fYqpefYjqXAoT3wHJtuIsKsn2PTaiPkjefYtMypqp9jk+rbpsDJe+h5B9nmvCkcjLlO6tjkazFPCR7V/5+Y52SPckr5KFPipwdBZJZiEaTnQOQnUkE0nwLZNximu5z9vfSt+g2A6hkToDApwGEPQGv4AVk4gVkMgY2BA1Lz15G/oPoWSxiQONV4S8UKNJ5qvBVlCQqdarzFAgQUTzV2aHeO98K34rsaBcV3NQoS72oUnt7VKDS+q1EQvatRGL2rUVh4V6OQ+K7GDl0tFzTyeu7qbXafeOZbdZSAqrEgwlECh1EihVNXwHXwgGzwwGzwzj72nz925Zzr2NgyjGqZZ2vZmJqlnJplnho+nQVFTJqdzgLKM2Sns45WcSsPZBW93IV1dzvPU74JpbjJ9rFpeMVGesUmewU/kgqKcJGNcJFNcpFtmPA+buUk7XPm4buILwlRENK7iMxVhNS7iCxRrPK7iCxwbPhdRMbktXj8fkqIXFcfv7OY/TcdvzPXTpyP31kgT07H78TBxQxRrRgnnzauHMHEbAsmkTcYZxswgQ3chOjihsko/LXPhQodmXrFXa4Ftnfj5PHOhdGb2K45Zfmmke8bZ/M3gVeAKqRloArLHAxeEIwfygGxNJjUyIHGImFyK0V4uTDeSAVeOCpfCdQYul5HqioWkyrBimKo4ahybTGx7Zy8yhjXS43JLWNNi44J2li3Odt6gRrlpFajcKCPa1IUOI5R5fUpqjLWsYmIeGzAcY9qCm+UU5CjTKGOIq9k6XLAqRR4VTtwOUA3ESucvhyg1cZq17gcoGVe+fTlAKmi7UeBiz6qvCJGVXpibCKcMTZgf4xqssEop/UyyrRqRpENM6jsaCTGdTS+SNeq5bSmRpVXVlLV+hqbfM1L5FobW/CKG9W07kY5rb5BzmtwfMmuFc60Hkf16xmo1ubY4GAGttbp2OhwmqY1O6oHEzGt30FdNYWDYWus6KGNWtdDA1zdo3BwbdIrfWzytdUnrfpRbaz9sdHhJSofB0T50BK1bdVA3xQOWkM+Sjif4BM953g8ACg+x3OeVn7g6XriOa7xgOiZnfOwmgMLT+qc47rtqNroiRH6IZR6PRnH2nj1xjmN+tCrNy7m8TdevXHOkWi9euNCjEnj1RvjFJ30ysrIG6+sEKdgHXplhUQVtq+8skI6BfDgKyukcigPvLJCGgVVvr2hIsjhlW9vBEqhbb+9ESQV1oNvbwSVQnrg7Y2gcTibb28EhUIpXm3IseIw5lcbHFEAG682OFeha7/a4BIFrfVqgwscLv1qg2MKFL8SQKHgEDVfCUgKBezwKwFJVuH76isBqQUF8yuvBCSdQ3vwlYCkUqAbz8LruHLYxbPwwCjUrWfhQVDhPfAsPGgU0uaz8KBwGBvPwgOn0KVHxzkqHC77iW0IlzMKlwsULhdUuFzN4XKNwuUCh8sVDpcrMVzOKVwmULiMc7jGXw6GYFVCoaqYAlWxClPVcpCqQiGqmANUOYen8hicSik0I6bAjJTCcjGG5IVvxdOVCwwFIHG2d0EhABrP6y7C0IHRNYQLGDKQeJK2Q/6zzGUrzlxB8SzLhbO4FVOhIDHfhae5LjTOc0Hy94KLQrNfWD0/BRSnd4d20/rMt+IpS0E1BIDEdYvC0ylNofH6Q0F00aEwutJQ2DhjQOoIHMXT2YtJekR7h+Kguzw5dqUGkZ6vTs5XuBADOE9jJyarozLdMbu44tm5u6Dy0rfiKXlB4jy88HTyXWg84y5InmYXhc6tC6s5Biheyr2Y5Ke2dyxfiNjRTZjZTc7GTSP1NjL1Njn1+DICKCIpNyIpNyEpp6PrwVbs9RRdD5AYyJRcD2gcyDS4HjDq7hRcD0isoekEH7iboncBEo95Tcm7gMYHuqbCu0ChR7em6F2A4oNx09G7Tn0r3gyYoncBEjcFpuRdQOPl/2nwLmD0q7VT8C4g8Vr+FLzrCRC8Cj0drWv/I2VTtC5A9nYJoPwLbVOyLqT4donj+BNt02BdwPztEmNmXT7UZUi4ZS6SZaMilrIilrki2LpAEbVi1gUoFwZdqJ2Sc/m87Zzr1MZvzgUoJp5zTDynlniO+GaTK56SzjwlndWUNNKHeupz3fepvi9Hwxt/qekSHQ+ZvZEGLL6IAwK+iQPYXsUB5m/cAPRXbgDWd24A2RtpznbW99y34ot8l8n6gKd3+y7R+gDRxIFigwFW8xJQ7bajmS2wl2h9gOLN4stkfcDTscElWh8gOgK4DNYHLFxHv0Trc1RL6CmQW/xl5svR+174VjyfuETvQ5TPJy7J+5CC9wGOpxmXwfuA0WnG5Wh0MARzOmTq1cxL8jrE9GrmpXA7lPitzUv0O2T0hublJP8Y9iVZns/XJjbaiIFuWgPd6IFuxEDZ91BSA3XnQxhfT7206/RgBukmRBLY0/RtiKQKd0s3IpKQfC7fikgKOV66GcECeF96x4y5ckH1jhlL5Ietd8xYZmdM75gxJ4+sHIzSELmlcbJM48o3TczmaRI5qHG2URPYS02IhmqYXNVvMoVS5XtPXANgc4bIaY2T3ToXnmtiNl6XsvuaRhZsnH3YBDbjKizFoJMtmyAty1ThW6axeZnQcDDTk42ZwqZtAjt3upPIgvDwKm1E8+TmJhyMj/J101rxaTm86c34ZK83hQyfbvlVJ1T3/JTGzt+866caCP9X9/2UllYBeedPibQWqHt/QoMVASktCiipdQH1vDSgSqsDSnqBwBa8RqBGywRKtFKABIsFUlovUKIlAyW1aqCeFw5Uae1AiZcP1HgFQS0uIqjQOhJuBgfHELeJRYGBaSOlNQUlWlaCJFYW1PPiEtS8vqBMSwxKvMqgxgsNaEsdkrTcoCYdFRsIU0WZfRW1hrVik+SuKPIChBqvQepRAaGJlQjUjf5QWo9Q+1oA1aqE8oEAttYmbHIogHmFQjEuUkM5TfxXQsqW/66PoXj/yYXd3yTc/5WH3dY2bPl1nrIVr/MUlK7zVNfDHhmibhmXfasqdLCibUZ97gH313ju9Ngx7LQh6rRx2emqQqcr2mbU5x5wp43nTodnlaDnkVP3oyjHEJrAQALfNnjf6B+PK4p5cJDuMDSkNDCU5LCgAQwK6FbSXvaJh4NSHkx9zAdGYoiGYVyOoaowgIq2GfW5B9xv47nT9tgH9NoZddsF2W+ToePGtoL1oh/cdxdy5+0hDOi8M+q8C7Lz4c/Tjx0Nf56eWS/6wZ2Xf55+1MYHJaDrlVDHK5bdhr96PXYQ/up1JH3aN3dX/NXrUam/QAe9NUTdNS77i38kd+we/pFcQn3uAfdZ/ZHcvfR+oAvbc9ny4wRDqpdF8IObijbhq+nv4b1PxxrAZd/o7+G9FwcUoNCN0Pfh8AFY+LWK92OkfauPW3kMOY5XA/VA7LY+Be2T+gGRqzH4sBX3dZWDD0K8xXs1dtx70MeZvKKOj7QeC3zMCIZgSPamqguBaETGD38RjQ2PbaiTPEp1bDNK9uJrRjBUQ7KHVV0IREM1fviLaKj4viR1koeq3pes0nBat1jMaLAGcbgOdT9NX0jIg3bla1/HAzelV11Og3clD39/cjRZf55d7T5yOtJywp3/bM1xlhta/MLh9GxybTstW1f7v10LyE38Ovj3dR2ob9kIHeHQ9nTcA+7YEO298of86W1GvUDUI+OpW7uKG4O03zleSj028hA+sA1bX8JWH7diR1J97yldpx87whd2jyN+yJ/fZvQlo14g6qb0or1EPz4w9pVfTz+O+CF/fpvRl4x6gaiv0kxGSbwmUjus3hI5FtpD4+u2Df6lwfsW5+G0zqpGPV+IG0ckrsEcJ+VBftFW0i+S9prSKBonU1X1a3M8CFB4FCA96O/aavxF476BeSio5bHQayHjOPitkOOIH/Lntxl9yagXiPqrzgdHiV8PGDub3g44Jv4gvmIr2BfBesWoy/I0cNT4Gf2xz+kR/WPiD+IrtoJ9EaxXjPosz/722ocJXiSvpItb8aigoHotHFH+AePC05HDnuKflHUcf9e4IPr14sLo14t3bGlHOWUrHjIVJE6KCk8nGoXGk6KC5ElRUeikqLB46FVQfDr0wyRcgq6IDp1OohDozX6unvjGOGwg40whgTgA9jAg9GkCOsYGSA0AoDpHjvykXVxeaF5aqO1gpEbicA3HMTvOAzctjd6VFAKTYhwMUzCMU0TyZeCbxmXgm4OXgSOEMOkfgdBiDNmBn4DQLVL42j8AoRvEUDZ+/kGrFNao3rTCxCEmVQW6/knNY9+KNsN/SHNPP43utHfcT+hOgKJ9Ok+W/QndCRDfA3LFHdSZXVVyZHfK9ij/SoYWaCyHfiVDN8kjbPxKhlb1uFu/kqFlikbjVzL26iKszouwBi/y6ruQ6+4inwct8knPonHSs2if9MQrAvj1+QchtEC7av8gxNig/v2XbUa9QPT16u/P7qXbCV7pLFux2goSi3rhqQoLjYt6QXJRLwot6oXRlc7CwpXO2wn+2d1bHDEg6N2e3k3qTWXbikddd2mwwNMh1t0k3DA2JP9GxN0k3h42RkdZdxO8GVzJ7uD11LbcHsU9FH335C4+4RURBaH1fFcUczjE012R68CoZ7uiwCHKT3YFDMHKt5LvUrUzz7HD37t7Qohip3/vjsUcu/R7d8x17PLv3bHAsePfuyMMscNLLhQIjp265FKl9JtCT6TAcTzwm0K6iYip/k0hrTbi2/hNIS2nWMvfFJIixj0tITKUaQ6aS8jYoN47gzkwRNE3ruJuYo64SRRr4zrKJnN8TeDImhBjivcbTyPqcyA4gu2bi8sJ3llbhnV4t+V/uGkZdrXMe1nqHaB3EYJd4UXck9iqzx/kPbcdbpmucCoOHUlXOE9E+77xPdyvrzw3Aoeu2DV5uRIpdEs++xEodengsx9LvGpHCLqCV+1OYqs+f5B70H6Kg47FsRekQGdIgT6R0je/jXvIcu5ouF7IDDoXrheeULtefJa7cuCxkXrWgX3IB9OGoAd4fE0f5P2r4+tRQksiBLuvCHafjWvZMK5l27g+T/D84DN+FlA6K6gXzFp3GKPeEuM9RvoqU1+4uug+3Ncv3f//m9NnptYPXscPGa73DIXmN3wjjnGMmrrpG1vEa49BC3ERY1jFsBiuHVJavRostdBZ0WI3t88ErjtUWvzFUtLqTWuthu6oFnnyq+SFMgRp96wHbsUJK6j2EpF1DuB4/f2ZkeugW/o4urF6KFt2KcsRXb8ywV569y9bxq08EHXlvPBU1IXGk+yC5El2Uegku7CYvQXFK+c7ZFfOPWx/hAbrMO51NJcVZhEimx+EjVje11s5ZSO0cv5QL0yu9oYHG+GC7Cra3QjtdrsPzRBNlHFKO+ece3Qvv0ay4uvcklPRnqn2uBiipDQuo2lPSFF6Vr4UqDF+ma0m5pQ1ifLWuE5ekzmDTaA0Nk65zM9O8DT8kZuuc+A4v41TkjvnTHfl0AR5bhtRiQ8nDZTJfSaxDsS5wKjY8xweEUOUDMapGJxzMfBfqngW8XVuycVQORSDISoG4zLW6Y9H0A6WAjXGL4tB/e0IlqgYWn87gmUuhvS3I5hTMaS/HUHT8Eduus6B42IwTsXgnIvBlUMT5PluRBUDXMGiTO4zicUgLl9VJVxUwZKIAidGVLk8SE1FEnUqlSBetz6Vyibfr3uqBC6hg/frVJtUTukGlxYORlAXWPMGl27AxXbwBpdulApP3+DSKhdhUFMpBvWP1sfWrWlIxRlVLlFSU6GS/vU0gLqMXJYuXwqV1de3OBVz6zroXo/Xi2qYEOUHEj0gATbuAcJLjXQKPG6Vv905vuhnyJ/1IU63yIN6YadQlUwT2f0JyvHM3JAlB3G8EBClevY+npa/yOKo7PN3mMOJO1rZigVeUDUbQKLQC0/VXWgs6YKoRAuj+4mFhfuJhcT6fADrfWFk518nvhVvOj4kpwKebkY+oCcBIiMCxX9xzVm1HEB1HI7op8u2MLRTI27N2+zH24YJb6XzbrPdbpseuxXGus1uus0WusWh7Qeyu4Ls9x3KVry1UVB8rm6P8o2OwtM9jj1Nz9UVHO96FER3NAqjmxn9WCsnvhXzqsdaASRSradaARpTrQ+1Asx/ws/ZWCtAYo71qVb6MA99noc+z0PfmIdezkOv56HP89CLeegb81CK4KltWRE4ikXgHIvAqRWBIy4CV7wInFkROLIiMET1XRdEzCpDlFrGKb+MqyQzMWeaSZRuxjnnTODEMyFmn2FKQb7MQqGAdDBEGWmc0tK5yE0Tc4K6lLPUNEpV45yvJnDShms3TyOi9G1cuyExJ3K+dkNcp7S4dkMCJXe+dhM5pzncpINMR0rJjhLlO0oq5VHPWY8qJT5KnPuocfqjFisAFSqC/C6IiBWkG1KqBpSoIIIkagL1XBZBzZWBMhUHSlwfqHGJgAZVgpQKBSVVK6jnckGVKgYlXTTYgusGNSodlKh6xGtAY1L8OYHnmP+EHAASnlj+k2ccMJ9n/UnzCzQ8hfwnziag+Lzxn+DjTGKn2cUTzt0XHp6UNBB2cMY0pOTfI68nm10mcVyG47gc53GZlsblShqXSXFchmlcxmlc+JJUp2kcX5DiGKOUxxn0NNaopvEGOY45SDTuoMHY//O//w/7Vd1G",HelveticaBoldObliqueCompressed="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",HelveticaObliqueCompressed="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",HelveticaCompressed="eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaj0ZXWNvhB5BsUdgE0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5MPfu/Xspnl0enH05Nmjs6dHz84mjye/tsv732d3za7AX5rF1+Z+fjXb426xUHh2N19shTBt5jef92f5e3M97+525K/3s8X86vnyZrEre7Q7Xv86f2iu/5jfX32e/Hi/6prHk58+z1azq/tm9bbZf/aXh/tmed1cv2nvZsuhbn/+c/sw+fGfPxw/efL4h5OT88fHR0dHj5+dHv/r8eT9rvBqMV82f7Tr+f28XU5+/GEng/Du8/zqdtms15Mfz3f8Q7Na98UmR0cnf9p90e4kv7e7Juyb81P7Zbvat+LR/7n6v4+Onz09f7z/96L/99n+32dH/b8Xj55ft5fNo7fb9X1zt3701+VVu/rSrmb3zfWfHj16vlg8erP/nvWjN826WX3dUQvVo/n60ezR/Wp23dzNVreP2k+Pfpsv2/vtl+aHXaHFo+cvHs2W1/+vXT2a775g3V2u59fz2WrerP+0q+wvu1Ndz5c3b68+N30f9DV5e7/7yGx1XdRdwZ9mX/4ydMnF8dPHk3+Uo/OT08eT5+urfaBXg/hzY8c/nBxdPJ68vb/+y3QnPun/+2H336dPD7319+Z+Nb/ahfOf/zOZ/mPy48nFTvh9V5H1l9kuiv/7mHDzcLWY3Rk/PT8/8H937S5alwtTzs+fHJRld3e576abZdau28VitjL+dNctPf/SrK72SV6EJ08uDsLsbietd9Hxmp2cQA36/vbanZ4O3zdbNctF86km0cdKNWbr/Teub73iT8+GTy26dQ7O1W5szvIpPm+/fG6WufiuKfP2OvP1Yrb+nIP1rVm1mbbLJsP7jSh5/3nViLKf2m4l6PyrKLuePwjYfG1E3zYhpp4O86VIq6t20YoIrZu7eZSsBxZ7E0i0+Xc3W2R8s2p2g1k0899ds+6NpijHR8dDRs9E+j3P6M+GLkom/pTRz/mDvzg6Pj6gX/2DJQIv8nf9Jcfpr96yvV3u0d/yGV/m9v/mY69k69/zGX/P9XqVv/6PXOp1/q43+YNvcyTe5Q++zx/8YOjZ2dDT01zqHxl9zGf8rxzVy91cdtvcB99wcafFgcqfi6Zy9sRM5Wo+v5qvrrq73B/d3rXXu+kHxkgwuFAZ+9gso8ucElfCgMW4zQ36lEvdZPQ5V3me0X/net3mUouclyJawnWE730Rwz6b9CrXSzi8iH2XP/g1Z+8ml3rIaJvRN6jqmedXTISTJ0clK1eV8jEbzRn7bLyfL66bHJLDXH/dbkScw/TsU8F9v0zz5DguI+7Tfl2IRmuf2arJ49OiXc0FXzeVb7nqVrt5/MoDePzsGIbNet6vW1MTy7JFD6ubbr5T7tp7vXTYy/0Xf0em0Jee/TQXTCygdis5uR64nt3cqDntwHEtRiuOfd81qwbG/umFLYZmN6vZFz/b6XnJrN0FRAMZF1ypb+blbD0S4XF1pRcL1gFR7y8ZDrFZLOZf1vO1kHZtvf/cdmGxaG5f5v2Q3N5zq9lXUdnZVXcv8MHLPy2ah6xVRtbd7GrVihNfrhp14uv2fnYVRpxL811PYgDc0HAcemV3l3O7NbdYpHbLm9mqu1vMOnGa9ma3zrwVXzdbhcWT9ctdyFkXnvuyZ3fdOnz56vrTbqEXVoa+QomTrC9AIvczvIIzPDm3M9ztnK5b4CnsamMmprzr/aBfr8UEtogntpRqI7cVSdvksrvxubsi3uW9mGL+mrrUnSBmoE//MW98apKd6l8Xe89XR7kGZbq4nn+dQ0L7R2LNfMEsBodXO37IV3rqQzZFUgxssu4vvmiYQFPzV/r5wlBxXO+IGY0H/0ylhzr6gF8FpJP4NcPOI+Ai5KQ4sWroRXHwq3LTQ5yKXMfXhTEPvJU6Lr+rCvjwqOVoNFVf6cvm2KVU7duisUI4k1VChsxk89fsiTYU5/HsZxdDnRftt2Z5IzL3TTyFX8WNJmc3OkiE6MOrNpGsKm294rb69U+OnJ3m3ed2JVr1is7uYai4wVviZ2USo7DZaOKMtYjpya2/w7Hu+lXOStSXUtCiWONkq8UE77rF/fzLYivqRQ30JA8NPLsolyaz1f18trief/qU+2pbt4bf43k8YceS5ZfRNBuZdbJk6VQZnsuaDdYy5vcYIJ8M6Yvw/ttuxYA34ewSaNXeNku8EDJzXDU383Vc+voQjZ0N03EeF+Yc3W5Uh+sRD3ZlDbmqRKalyPi4rKTUf9EIP3tW1q79ra54I8zi/Mv95wx/SgZoZq586/R4aON9Zd5oqrNjbRZ8Xls+jGRlDLBfL9PQsFsRXClzhVqP1Kae2jS6rg3KPI7t3KPLEp4xy7qgWdyLGz73waTdEzftiCPW43vXiZZQzC1Ucp3pY4FC71eqcYXztNyw6H18l8CrXSKv8/e9Tfn67FnJV72ifTk6//4WO84vJeyxjjLFZAtuGTFMzmvT2W+x2haHXdQ+zxYwNZRBvr80oVvd1hdjLr+MyyZPte90YGUoNLUG3UQzxQYN3ap6VffdW7lAtAyWNT8rPXi9swn10KONXQRWqC2ti+XPzs3Or+dXymh/jl8EC7Ox5e7vsX+8upV+ezOe10p1b60soZ9XTTpeDlgPUJ3NiEcWlL/Upnt2CrtFLBtqC7K4ErBvGx0KlSrcj55p0d7s+3vZinC3dTPtslSG8u6rKiP5ZvyKFmZyj3klfZdyHrebO8u8aHbPr43xX7r948h/PZ68bFbLP2bz1f4h8j8nz/cPqyePfzg9+tfj4ejgHgEd6hnRYOoIX8Sjg6sEhA1D4VU8ylXAqTdw66pAD+M/oOA8QRlCFtjh7lBAh4GD6HU4erc7Oj7xwxK0wEL7QXm/Ozz3oxIAQCEAwCEAQEsAAFEAQLEAABuGdmC9oyD5sDu6sKNp0D7uG3jkh6VJyKDugLsQ1i4nQ1dJhk4mQ5eToasmQyeSobNYABti4eTr7ujMjjbhaBuPSosAQc0HOhTC0WmIQmKcxqlzHqxFeSEQDVvjcuwW9ZVAlVrKoWxi7kKTqB+N6840mXvUBBrjxmmgF/46IxzyxnjcuyAHf5HBAQyRDRhXXmBiNgSTyBWMa2swmf3BBDYJE6JTFAx2UdA0l0LjMMbuYYKwkKJ1ucPYTIyP5aSwFZMqOVkxGJNrOZmsxoToNwWD6RS0yWgrEHmQ8WxEgx+gERmicBonI3LORlSUFwKRERmXRlTUVwJVaimNyMTc6SZRpxvXnW4yd7oJZETGyYgKf50RGpExNiIXpBEVGYzIEBmRcWVEJmYjMomMyLg2IpPZiExgIzIhGlHBYEQFTXMpNCJjbEQmCCMqWpc7jI3I+FhOCiMyqZKTFSMyuZaTyYhMiEZUMBhRQZuMtgKRERnPRoShQTeKnAIbRfIlEtmcgvyixsmmoii9KhR5VeNjDZHWFUvkXIk6JUwUddbEMpw6USVPiyIZWxBfVzhaXBTY50iVZhfKgONFTrYXReV9sUQ2wKiTC0ZRW2Esw34YVTbFqEZnDBrYY+DTSnk0yiiwW0ZVWGYo0FVSgc0zit8dGsJGoz42NCqGGsuMDo1krVGN/ho0MNnANxW+rXHy3Chm43WCtouUOgQlstwgseGC+EJTMluUpNVCgVea1qsuTRb1nEeoUhahpHMIS3AGoUbWihIZK0ivJUVTRcyWGjRpqFAC7BQpmSlKykpRz0aKKtkoStpEsQRbKGpsoKhF+wQFzBPoVJZF40TMtomaME2QO9nNbJgofSfJhVmiWk/yilFiiZEkTyaJWrRIUMAggW4k3WpK1ohSNsah9eiKhijkxskPnbMZFuWFQGSDxqUHFvWVQJVaSuszMaeESZQPxnUymMyZYAJ5nXEyusJfZ4QWZ4z9zQVpbkUGZzNEtmZceZqJ2dBMIjczrq3MZPYxE9jETIgOVjDYV0HTXAqNyxi7lgnCsorW5Q5jszI+lpPCpkyq5GTFoEyu5WSyJhOiLxUMplTQJqOtQORFxrMRlbqiEzmjgLpAXgQCm5FJLxQjO3JB+pHJrxSrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwmvB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TH6lWK2y0rhczZngGmWCCzoTXOdMcIWMywUyLhNeC4bG5ZCNCxRpXKaDcTkj43JBGZer2bhcI+NyQRuX62xcrrBxuRKNyzgYl7GpKIfG5ZCNyxVhXCZ2ogvZuFwYTVdhXK7V0rViXK5X0zUZlyvRuIyDcRnbCLZVjIzLhWxcq+GHPrwKhVBgCybLMsyGNQgvMiGzKlha1SC+ykRXT5pU0XKfF4V6vGDd30Xl3i6crKlgMqYBv04ETakgtiTj0pAGFeyoEDKjgpUVFS0bUVHIhgrWJlRUtqDC2YAKj/YzUDCfgUxTGTSegth2ChemM0hd6h42nIJHEk+YTVF04lWMpqiVxEsmU3i0mIGCwQxkk8g2E7KWgrOxDOmOzmKIQmicvMU5m0tRXghE9mJc+ktRXwlUqaW0GBNzV5tEfW1cd7bJ3NsmkM8YJ6Mp/HVGaDXG2GtckGZTZHAbQ2Q3xpXfmJgNxyRyHOPackxmzzGBTceE6DoFg+0UNM2l0HiMsfOYIKynaF3uMDYf42M5KezHpEpOVgzI5FpOJgsyIXpQwWBCBW0y2gpEPmQ8GdGfh9w89iPvDEMhfsBD9xgtUQNEAQPFYgXMwgRsiJCTw+96Pf7hxMjw010F/QSFTo1YoQGVV+KoZMFcfBj+XLzgVLxYc/qACfSRn3fouXVPfxQ7s0fFxQGFPgKeurynpY8AWU8As54ANvQEkGKpjtwLfh5swLW9Azzzo9I6QFBlpyWA/rUWuQGVToDwGaIYGqdAGlfRNDGH1CSKq3EOrgkcYRNimA1TrAv/kMMwzaUg9IYo/sZzJ3Du0/lSd/T7CGN3FMTdUTh3R+GyO4oouqNI3B2Fp+4oQuqOIlB3FMzdMfAPOQzTXAq7oyDujsJFdwwSd8eAqTt+HXriqR+VUwEq8QcUQg8cKgS0BByQxRqYhRnYEGEgJbiOZrag6I/iCqpHpQWAxHqq52kp1dO4iuoRrZB6RoujnoV1UU9KCxyV3jp25CuM/iguYnoUV/4HlJc0PU+rmQO1bX8Bx/VNj2jt0jNatuxZG49yndtKBVtZwTbXpJWLrF4RdWzjcr9HcaX/K44JiP5qPy7P7cicyVGJPqKw2D8IfxtG2GH18TccYYBKfgIKkQIOkQJaIgXI4gHM+gzYkJ9ASogczeJRbsEst2BWacFMtmCWWzATLZiJFsxSC2a5BXGl9be8xNqjLnyky83sKm3qZJu63Ca+SABFtLYTre1Ca19ODtfh534U7a9Hwut6nryup9HreiQvFnuFXLBnZdQBipb3cvC3Mz+Kc/9L9DdEecZ/Sf6GFPwNcJz+XwZ/A0aT/svB3+Ao17mtVLCVFWxzTdjfQBF1NH8DFNceLyd4Tfxyki6HX6asBp5c+eUkXf++FFkNCrnyy0m+4H054WvdPdmGbNnmrN7m7A0GjOOCBPoyUtVooSLfPTWNIVL1cKJCPLJIpkFGKo23qEJ6kEAZTSoNSFZF6lORPAq4QB6xVIKGDKk8RkjmIR3ltiqMhkWOeSryvYazE5CqTYEKjbedrYJUco2ogoGQQF5CqrIVKpIdhgqQ2ZCqfYcKsQWRzG5EcjSmKG5rI4ztitRkH79NhhvLx35o95SRxdvJrnyIh/vLygs76u+unvmh3csDhjftHMcffc2S8SfGtxas3zAQgFKf/xb2VB8T4zjU9lST/EEwCEvYcXxGjAMkdxyTVgtV0DleuEuXYsGRU7t0B6nca8HwGePwuSDDh7eOmEH48N5RaWm6eZQEEb6i1cIXdA5fEbc5Fhw+4yJ8YXCGIEYlhZJkHdBQ6ENVweAGIYQ4KinQUVbhDiWqQc+lUuiTEcpopm6oGuFQYJimQjcY4w5wQYa+yB8Eg3AXhIE2xiE2QQS3aLWwBp0DWsRtjgUH0XgK327JC3cb+qN4EdujeK3eI3Fd2/N0XdvTeF3bI7p67RldvfYsXL32JF6rvxr6/syP4rLzVe5vFz7YjPpq6GOPyz92R0/s6KP1/yvsZkDQdKflNoKf0m4jDKj4NHSDIeoL49QhxlWvmJi7xiTqH+PcSSZwT5kQu8sw9RnO3xQG7r3K7E0q9CPO3acRQY/idH5BiPpWTeYkUS+nx34DD3snob8jp06PIvV8FFX3xxI5B6JOiRBFzoaockpENeZF1Cg50k5uFT1Ok7F93KoIJEzatnwqOKRO2s58oTglUXUzs9IpnYLGOQWbziCjkFI+oUTZhJLKJdRzJqFKeYQSZxFqnEOoxQxChfKHtqzmOHHu1Des5gKQN7Rj8zRRyBnax3mRKeVLZRdnVilXQOFMKVuCIE0MUY4YpwQxrrLDxJwaJlFeGOekMIEzwoSYDoYpF3BjH4WBs6CyrY9U6H/c8nYaEfQ87oK7IER9rvbAkUS9XTB3dbzNgT3OCnU8y9T/LKs04DI5G7gEJQXLnBusc4qwHjOFVUoYkt9VY8rpk2SVRVQIkokUyClSILVIgQxjhRKN5ZxvVILSjlTOPtvDA3nnjDLOBco1F1SWuZrzyzXKLBc4p1zhbHIl5pFzyqCwY48jwllT26/HMmRK2MJ2SgyyI2xru2BGGSE3tbFGWWCc+79cbkL3G6LeN06db1z1vYm5602injfOHW8C97sJsdsNU6/jbQgKA/d55SYEqdDjeAviNCLob7wrcUGIelvdkyCJ+rpg7urySih0tSHqauPU1cZVV5uYu9ok6mrj3NUmcFebELvaMHU1vthNYeCurrzWTSp0Nb7yfBoRdDW+BX1BiLpavQNNEnV1wdTVfwy9PLyS/gf2MLLSu8jii78g4D0xwPbqLzB/wxegv+ILsLzjC6j0ILBZaJm9oQIovkXYI/HkrufpcV1P4zO6HtEzt57RQ8aehfcEexIfuP0B/Xb81FBjmdQfxYdKPSoJiig/vu55euh0oPDEFXB8ft0jeh7dM3rfbc/aeJTr3FYq2MoKtrkm/DgUFFFHe/AJKD4d/wNHxxD91xN8A74/im/A90i8Ad/z9AZ8T+Mb8D2Sb8D3Cr0B3zN6A75n4Q34N5PDWw8nfhRdu0fCmHuePLmn0Y57JN9h6hXy6J6V+AOKDvxmMN9TP4qvNr7JluvCextEb7CXAIlR/oZ6CWgc5W9EL4FC4/9N6CVgYfy/CXPEmzA9vBmmAdc+xhH0hsx/oOUWJfS+IUoB4yoPTMzJYBJlhHGdFiZzbphACWKcsgRvMp8Sonyp3GQmFTLHEKWPcZVDJuZEMomyybhOKZM5r0zg5DIhZli+j25omgPxMZfirFM3zQepPFmF1DNEqWdcpZ6JOfVMotQzrlPPZE49Eyj1jFPq4QP2U0KUepXH66RC6hmi1DOuUs/EnHomUeoZ16lnMqeeCZx6JsTUwxcIKEOmORAfcylOPfX2QJHS+34nUuA0HHnfTxcRKanf99NqJT0r7/tpmVNVv+8nVUxb/UZDRZUpHMpgIkeB0zmqMqljEZHasQAneFQraR4LpWSPckr5KFPipxc9ZJZOa6H8WPtEGhDVtzwOBd5OeB/k20naB/mWn3US5uK8zYtwKp62OCYhfSQ0iz8WRProLr/xWrY/pGvZntG1bM/UtWwv5GvZHtO1bM/4WraHfC3bw3gt2yO6ln03GNmZH8WR9C5ZFvA0Zt6hOQGSo+NdsCFg8d3Rd2g4jmaxETPRA3YN/sRRrQNmugNmogP8Mhy+V8V/luNvF+L+0at2AT78DpIRPkdVaERr7eI8sEpzG93ccH2OvITBq92IKDQqCp+3Xz43fb2889pYpBXNaWtVb3XVW9FTfOmOkqi+XbtjudxhfvHuxVZ0KBq0Ev1De7hAWTd385wZXSzUidN0tbh1Om6diBu/6IySiFunur3Lyb+Jh1s6FI3BV86G8+EG61Iy7bBOAnux3mOdVBGytMs6Ccmf8z7rpFCw0k5rFsCz09UPc+Xe6uqHJfLx2tUPy+zo6eqHOXl74TPR7OTyJpDVGx/tX2X6ptX6N9m/CdXu5YnAOJmLr3rCwOfFEH+NqmWaIUxgG3JhLFRqwnBNzBom0tRhvBbGPIkUJc0kRWhF4TSnmDDaTjW7mFZLido8Y3qtrWnGMaGSGWnuKcJKsVoI0lTkgpyPiiwmpSJ1oniankwY7QI1UZlW64LalGV6rQvy5GVKZdRuBNsqVmu+mtXCBUeY26KSvjPKaZ6Lso57LKOiH0ukPohynv+ingMedQ57VNOMmG7KnEmBZ8eRmzK6iJgp9U0ZrVZmzcpNGS3zDKpvykh1Vg1ZnlOjzDNrVP+DjJKzbCwxnlF5xo3ydxIqzb5RZael+wLR7eRNA/3F9fbkuTnKyZ1J/n7I5WxNJdScHYvwzB3V8U4Rs3jQ81we5Lb6wTyvR/k/iI6c42OJ8YSszvex1HiE8twf5dG8zOuAIK/qynj48sqAZL0+CIXUKiEU6KofzSuGKP8HnStXD7HEeOdWVxKx1HjnilVF1Ec9aVNVtnVlPHR5zfF+WGic+VGcI9/jggKQmCvf08IBaJwV34cFAjC69/0eFgJA4hT3fsKvH72fpDePypMBbGvaIcWcWq13SLGY2592SDHnSOQdUizEmKQdUsQpOpWdReHxCMZJ7yySIkVsZGeRLJFjp3cWSZGjWNlZJNUYT72zSIkU2bFNNvBoCYOrNtkIiQJb3WQj9BxUtclGSBxQuclGaDGYapNNliiQ9R0o5QEcxjDtQGFO0dM7UFjMcUs7UJhzxPIOFBZirNIOFOIUpcrOjfe8PaGuUMBqOzcqsgrfyM6NSgkKZnXnRkXn0FZ2blRUCvTolgVWOexhy0JiFOq8ZSEJKrxyy0LSKKRiy0JSOIxpy0LiFLrKG/7OOVz2xw6eK0bhcoHC5YIKl6s5XK5RuFzgcLnC4XIlhss5hcsECpdxDtfwA+7PM6FQFUyBKliFqWg5SEWhEBXMASqcw1N4DE6hFJoBU2AGSmH5MITkqR+VcACKvyX6IYUBePot0Q/YfED0W6IfQrOBhd8S/YDNdfQitOdF7LkexSsuF17Fo5gKPRL93fPU1z2N/dwjecuqV6j3exZvTvUodu8e+W/E9kdxu0GPSggAhYYAT5sSeloaAsiqC8x6DNjQY0BKCxyVK9szIOU20HlBsZObnJh2jweRTsxGJma4fwM452sj8rUR+Wp3ZBy18Sg3o63UuZV1bnPl+E4KKKLadssEUB5TcG/EOgTvSXjPdaFnu5yNXSX1Opl6XU49vpkAikjKTiRlF5JyOrjeuR/F17Wm6HqAxC6IKbke0LgLYhpcDxjtx5iC6wGJ2x+mE3x1coreBUi8JDkl7wIaX4ecCu8ChV58nKJ3AYqvOE4nuOdnit4FKNr3NHkX8GTCU/QuQGS10+BdwMIEO0XvclSc6qmRvX7qR6VNgOI7m9NkVMDT7wNN2agAx1/amwajAkY/lzdFo/KGtaFAm5uhfgl6SkYFNFdO/xL0NBgVsPhL0FM0KkdmVN4fXSjQ5YaoXzmckiMBzQ3RP2I4DY4ETMQ//kbhnmzDONnm8bxN4/bjYGTDD2V9RCdDZg80gcW7wCDgrV/Adr8XmD+kBOg3bQGWO7WA7Bmks72lPT23I5sqHcWp0jlOlU5tqnTEU6UrPlU6s6nSkU2Vhvply5k1wh8FAosLso/J1LBs/pWyj2hryGj6+xh8DQuW+AOy+Dsrk/sTIMOyzAvRZxrRXH/4hqzS3ka3Nz5bAy7i0Ig4NCoO/MBsz+ZhOM3juOsRbVb+OHglfEcrgtDWGtzqBreiYekZGUg++ADa4zBgoqN9decMV3eeAF0coZ2wl65mJZ22kk5YSXpeBJJymU65TEcugw8tEuOGpMcWSZDNVA8uksYNzo8ukpLaxw8vEmc/xe2Fg1ml7YXMlb2q7YUskdHWtheyzJabthcyJ/MtHB3KGA9JE8iLjcvxaqoYtKbxyDWBfcmEZE6mkFMbjxfRxmnE8jMr/hpVy+TgJrCNuzAWKmXorglXN7EWx+TvJlTjmJy+CGD3hsjzjbPxF6EV35umABNGg6UmA9Nq8ahNC6bX4pXmBxN4kkhPOVkQ00WRcM4wVvNbPXuYOmKraR4xoTKZmF613TytmEK2S48jFeYWqweSSpMBqTySVDKHRT6UVGJqvHgsqSSeeUCDyQcpzT8oqSkI9TwLoUoTEUp6LsISPB2hRjMSSjQpgYQOjJitAjWanVCSRoIFhJegzHaCGjsGaslkUaT5CiWassLz6mAc4km2+L5K1dP0hRrPYEH7TjjVPBZkMZWhPhLuNKGhNhbuNK2BBjMbUprcUOL5DbRWnyPNcqh9L6BqrkN5JGC1GQ+LpAsiFHniQ43nPvX6hNDEDAgqToKIR2YFPRVigXHnTxMiapU5EYuMTQ55ZkQxTg77ncJfLav2R5tw5D+X3h/F+3M9SvfhimXi9xa0yWibP8inMZ7PNVgwnqugTUbb/EE+l/F8rvDOE5ww8E2Fbyvfw+ePYq4EdCVUAehG0q38Bj45SvnU5SUcOG9Bm4y2+YN8OuP5XPYuBZzM2Eawrfgsn8+FfEJ7GwFOaGwj2FZ8lk/oQj4h/M37k0A2iWzTp/hE4m/eDwr+WeuTiDYZbfMH+VTqz1ofpMsdvdxbix3FFxv2ZGHn7I/ihNej+PwfhPjM6nKS3pC4nOCfGLxEBwcknrRdkl8DjU/aLoU7g0JP2i6DFwMLP5x4GTrncoJPFy4x/oBSXa9wOXZeyG3Qb1Vkr9JdiPOAb3NJ/T1pz+Z5wLe5ZOV70i9blG8y4VaV1t92mPIn6y+zq30Izwfaf3H+OyJHWSYtRypeeBv6aqMijrT90UPQtkGj3uaBNlDdaYa5Pjghn8Zv2OQvfciltrkUV1TN0YOkU8Mw17ZwqC3uRKQvfciltrkU11btTCySeuu5VE2+9axErLxeHkT+UCm/rZRPDaotGwZdXbads8ItorXGafqqjTzBgyy7lWW5HZUVSFH9Mi41A6TUDtCwIYA3+iQPuvRWl06NQS23ht91Hmqb3nUmDi3Iyy9DD7nUNpfiGqsV2SClt16HauW3XlmACoslnLMHUW4rynGl5bJu0NLLp0Pl8sunLECtxTrQ2YMotxXluNZybXjQPk0O96NO/SguwnpU7j4BEu9K9Dwt1Xoa35XoEb0R0TN6I6Jn4Y2InsS3PT5BxJ3sxsOiWa/7mx9PC4wfanJD6Y2cA9INzW/kHGh6I6fHuf38Rk7PRPvbeJTrrF6/6bmsYJtrol+/6RVRR3r9pke5Q+gvcn/KS6AnURjoYdW0v77ot1n6kd0fcWQ38QDFLZQHoVxmrwSirzVO3+1cnUDsD5UCnay2O1Sr4sTxb8yJPy+n/7Lc7TASTvwo+sUtjgRE+XLmlkYCUhgJgONVzm0YCcDoWuZ2GAlwlOvcVirYygq2uSY8EkARdWzjVeItjoQB5V3rWqC2VPasV1TR6PqO9UqB3FeV/epa5ejU9qtLua0Ko2GRvV3fjK4LjDarkg61nehapiSpbEQ/qHeT4QaxH0XP6JH4qfKe411gp/Gnynskf6q8V+inyntGP1Xes/BT5XeDDR1WNXdoQ4Cwdj1dhsYuc2OXlcYuZWOXubHLamOXorFL0dhlamy8T7gMTV/mpvNScaDhkfhRRBSEygNxEnM48uNw4jow4mE4CRyi9Cg8YggWXuJTIDhs6hJ/kMKvIh1FRLGr/CYSiTl2+ReRiOvY5d9DYoFjl34OKWKIXfgxpBgIjp264VCk/FsRR0rgOI79UoQsImJa+Z0IqVbiW/mVCC2nWOsfiVAixj3/RIQKZeqD6g9EDAXKrW3oA0MUfeMq7ibmiJtEsTauo2wyx9cEjqwJMab5ccAS7/1TIDiC6t7/QdqtF+hu/57QDfp2OLF/ZBOO/FqpDavoNq+iW7mKLosTrkq6MUocKoU3Rgk95PNsBaKK1h9etvJW45nQuN7pVuNQ03SrUfGHSgW2NU4N+s4TSljfcZvUrcYsQXvoVmOmD/K0W02pHaMPO1u+OXcWMdcfb84N1cSbc4Qe8nm2AlGF649L29Hd/Kxy3UmGJpCyqSoP1aps6wo1j+XcysrG+zbfgmQB2hRuQTJ7ECfbKkZ1H3myXC42+jt65+cRla9hbhsaicddjSTCqVmy/Y3EfZMjCb7TkYSy3ZGw7XmM/DKjK4EqYSiPCjMvj/2SMiTGs4ivc8nrXcNn95mLajSV6jWV6jVjvdTUeyn+sTDSKj3Y1HqwqfXgp4xEh95UMjDeAmP1c0ZzgSrxnI/FbV6P27wSm3ktNvNabP47I1HqdjQGC4EqDV6Mf5H9ZbXI7zISbVxWzrmsJO1ytC7LyvhuBaqcuB3r3bbeu22ld9OfqSO51vltJaxtpYlfBCrTDNnMv3PRlUCVAK0qPbMa7RkRsXXlBOvKCdZVO12Pnlqh0Q90AlXq2o1lS1fPlq6SLXxdxXItW7qaVXR6ItwvNC7ivL/JyN+XN7TNpWyRwRyaT9K3XKNvlQh/q2TDNzEL6b99apiXXXiReRy/YZMRrLnya2ht5TW0tv4a2heo6Ol5If7wy9A2fIRO8EV/9/AttXeHol4Ty+tIh8dt9FWmnrm6aD7dly89/P+H8wtTywf7Vc5RxrbSyVqopvjKlf6YW5jQLK+UFu0hl1hX8MgJ1yMnRGtT6nerM/TFYZithlX8sR/F20IrXLsDEjeJVrRiBxpvDa3COh0Y3fFZweociL0wb2h4Ke4UwGGwnBvZLdoOg3QFyzUg2B7A3hyAQ2uAlMYAKm1xFA9CRzlfhINUz0XtY4PXOdmtqU7sYBkOhm8FMuQbEjwP8CH4Tr5g3M2SPPCwT8HL7b7zzA/CuZx32JwuhaLTXdapLutSl9HsCULuyy735TBXOviKzduGg6HmQLyKAyx31GAoGqLxaJwGpXE1Mk3Mw9MkGqPGeaCawKPVhDhkDdO49RubmBx8u/M8Yh/GRmJiGBbZYVpKEVNinhimnDBOiQGvGDNR47aIi0x0o+ToNzFaQMHuA4UsM4mOYDjagmPhDSZGg7Db1KmD2SoKz35RFDcHI8o54KEnhaLTUVVGIp54sqJTRftKetzJvJJI0Wbg3j6FZptJdB1xy35Qwt9qIkTWk/5SE3NlPfIPNZFE1pP/TBMLbD3przQRJuuhP9J0yjRYT8FuPUZiPhkW+WRayidTYj4ZpowxThkDuxKYKNMo4iIT3ShpPSZG6ynYraeQZSbRegxH63EsrMfEaD32Mn7qYLYe8beR6BPuLkaU9cA7AxSKTkdVWY94YYAVnSraetLbAswriRStB14VoNBsM4nWI94TKEp4eo0GFAW2oaiyGUVVWlIsIowpFmB7imoyqSgnq4oyGVYU2baCSplKWrSwIIKRRU45GkWVqbFEzteoU9ZGkbMzqpyjQa1yaVmhyKLGx0KhrTAWIUMMIthi4MsaJ4uMIhklicouYxEyzSB+qaRXMtCgChsNOvhl5NJS+VUiGVK21/qLRLrEd1KXDXfsLSJdZjS9kwWrV4ik9rUS4m2NkzXXXh866HlrldhSVd5kGD7C129DobTqJw7foPfWrdPkTRy/obLhci3+lHhS8Hukp5ZP6BEhVfhOHxu0hXM42v/NXCbxbqBjcauviB8Smdr910L2fz7+WSRlpiUMM2RUyo3e4Q7uaRYH5XBf+OswzR/M5ivO7YDKhA4ovoPtHF+8dmpvWzvyt6ed+evizso+Zif26rShkghPrU1Rb3Kb/N16QLpNjWxTfHXecW5qI5raiKa28SjXua1UsJUVbHNN0nvtrog6+hvsjnLs6fd2N2XdeG5H8f2+TVghOorLQufpLcBNWAA68lWfM1/qOSvrOye2qDNUEuqJtckXfRtMKEBxG88mJRTwtL7dcEIBjmvdTUgoYLSq3QwJBUe5zm2lgq2sYJtrkn6GxxVRR//RHUdxQb3BhDoE/2GC2/ceMPiA4va9hxR84Ol52wMHH3DcNPcQgg+Mtu9ti6v6kY1mR+aqjsTOli27qtO4h2UbXdUZbcLZoqs6iRtStji9HhmKBZrcKNqytM226lw2SuxI2gZbdSTayhuOtsVW/SjXWe0n2rKtOs010duFttFWncWNQdtgq4Z8+TJEHx9InBCiNqUHEsxVg9UDCZao6fmBBAvcHfxAgjHFIS1dKRaiKOekcUpM5yOxECnqUs5T0ypxShlrQi1OrUCVBsosNrHeEM5n4zqpTa61hdPbeKVvU6LDK9OQ60gpAihRxqOk4oN6DhGqFCWUOBKocceiFscAKhQq9bsaOVj6AzweUKIhEaTxYImBEdQ8NlCuxzKNENRGYtlqWm+7HC2ojzaQxwxKethgiZE28uBBqZ4UPIS+lfXquR3FNfi3sF4FlNfg33i9ChTXq47j0vxbXK86o6X5t7Je9aNc57ZSwVZWsM01SetVV0Qdfb3qKF4rfMOZiBHVP81EiYvGqZkoSbkf0kzEnFubZyISWoEqDZS9pGYiliqVrXRanolYoO5LM9HAy/0qhaiJxqkPnYumm5ib7lLuQ9MoLMa53SZwHxahFajSQNmHJtYbwn1oXPehybW2cB8apz7EX0GqYWpq0Kg/oyZCEQrkcEQ5923QKWRB47gEkfsZxbaCR4Ig+zwUGG8o933QdP+HImNt5TwIGuTCv/73/wO+9kRf",TimesBoldCompressed="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",TimesBoldItalicCompressed="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",TimesItalicCompressed="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",TimesRomanCompressed="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",SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(g){g.Courier="Courier",g.CourierBold="Courier-Bold",g.CourierOblique="Courier-Oblique",g.CourierBoldOblique="Courier-BoldOblique",g.Helvetica="Helvetica",g.HelveticaBold="Helvetica-Bold",g.HelveticaOblique="Helvetica-Oblique",g.HelveticaBoldOblique="Helvetica-BoldOblique",g.TimesRoman="Times-Roman",g.TimesRomanBold="Times-Bold",g.TimesRomanItalic="Times-Italic",g.TimesRomanBoldItalic="Times-BoldItalic",g.Symbol="Symbol",g.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font$1=function(){function g(){var d=this;this.getWidthOfGlyph=function(x){return d.CharWidths[x]},this.getXAxisKerningForPair=function(x,b){return(d.KernPairXAmounts[x]||{})[b]}}return g.load=function(d){var x=fontCache[d];if(x)return x;var b=decompressJson(compressedJsonForFontName[d]),w=Object.assign(new g,JSON.parse(b));return w.CharWidths=w.CharMetrics.reduce(function(S,C){return S[C.N]=C.WX,S},{}),w.KernPairXAmounts=w.KernPairs.reduce(function(S,C){var F=C[0],E=C[1],k=C[2];return S[F]||(S[F]={}),S[F][E]=k,S},{}),fontCache[d]=w,w},g}();const AllEncodingsCompressed="eJztWsuy48iN/Ret74KZfHtX47meqfGjPHaXx4/wgpJ4JbooUU1JVXXb0f9u4JwESF13R7TD29koIpFi8gCJBHDA/Pvm+nraTuPmZ3/f5HHzs7/k8WlzvXS7fvPXp02eqyR/2vRfd2N3gqhUUfm0Od9P236+DoczxLWK66fNpZ93/fkGWaOy5mnTnUR67c57lRaZSItM/tnN/XnsX/DfIqg0JOk8HI4UK4BCAFzG+xWCQgXF02Y3nU4dJJVKKrx5mPgKBVMImOvYXY+QKJRCoHzXzxMErQrap810hqaloioF1e0L5kvFUwqe23Hu+Q+1TinWeZnuMwSKrRRsL8Nn/kOxlYLtOnzFWE1Viqmu/eceVioVaylYe1OwVKilQD0PCYgiLRtVcJz4kEItW13mNLi0UsCVAB77KyxTKeJKEPff3rsREkVcCeLD3He3HqArBV0J6G/v/fU2cK1WH23l0e3c7T71N9uUVv/c5i73bWlVs1Y0u5/3srO7aQb2EPUB+eUTva0TYgG5mGbbzZSUkJTpn75ygF4PThhq1SMGMds4HYZdN54n/rdWc8rv02bfH9I2hbqGsKbPnIYzHSc0qmTIxI6nuwpiAIQmU8F4Gy7jK8RwntAI1v3wedj39FmFECp508s4zUOyGmwpKrwbL8eOIlVU//Yf/S1J9C212Pa/uuSwbVDYlWzxf/aj/UtfWgm258t1GG1X1BVawfdnX0xdoRbjPCdBVGs1svo3R/tPVD1r2YL3k0kUfC04f9ldLkmk0NVwv+pO232SKXa126/vHAO5wPxNGivsRsZ/HDhWzLVg/iBuOSfMUTGrTX+b/qSIG0H8u+NEl1J4jcD7/XBI9kDcUYN/0/FNCDuNAP64skYOeLrykUsjElWC9+cmAEAB9NtrEijCplaE/YHvKuC5Iup8zxBAWtFrayakC2QC8uCbhggSskx9zXYNQSRkeuZWQBFKQowabNIfS/qeqOgSOFTINcC4DKcnE70H2zqElJAJ3k++dwgrIRPA47J5iCwr724RWELINFBTAAWiCL7SOogrIQj6abWBOH8hCPoL/4a4EoJgn9MWIq40lcY52cJAGbCHMgkpA3g9t7e0sRWgB1HnvjJYRez6yrSTlYJvRZmdCQhe80Pa24roNYL75uLo10WyKYHVeFLjYnImilM0qPDOJOKWNGlFCJsIrw/qsNv7OPY3SnNYSQ9DP46DLHylvGCcEFU08Nz6JIVx9Chd+93ENNhEWroSuC8SAi0WNznNpqH9+c5k1RQ0nIbi9/LnTzdmoKZAaAwaib/0g0Ti29wxG8gUgLey/O8eHmmqt4eiKTNYo416LPrLkcIWa2u06eZ5+mLBXCaoTp4m7pckBm41P8Qe0mUG6DUCYWY/fTmnCQbwkCa2043vrhA2gqakncwM3aGfe9GAj1Vw9qiuzPW2o4Or4PcxhmUu4atwAGKMy8wCscJhiDFfJh1lhY2K6mo250DrTJXOC82EUgVIkTMmOd0moqC5Dd24H15e0hRKJS0Cvg7Xm9RKgz9ErdWrTpfb6zV5Wx2ytwlDZLplUQ/8Ye72Qyq5RI5kqY4t6fe0iHOItdCYbo8zKOi0vLjvjrdjZ2IYRAPUZZ72910SI7vEiL9LaHSvrZFkipKOf02y8gc9vEbmKHQjRP95uH6ShZI9c9pao41otTPLICMETXSC5jLNupbP8bxo2Dy/DOfh9prk8BKNk935MPIo1jiKUSNQqiVSVSozBWYan5nmNMGz1+r6AleO8KJJwXdk2H8XwgVVP31AticBhdvqIZPwNPcvqWhqah74iIB6GsYuvbdGeYFS93yY775hPNh6giUlzNNXr/eaJmNYKrnLKznOt4ZsEQ6f5ZCfWVvJFK2Xs5BcP8ND23r5uJqDyaPmM90Oscl9a87aIC3HLCxz+uOzNFgOhA+P4XRq8hPTjP3Xhzn4oiYIm1svybSpOX03zDuJX4kqyAx3rrKZdZ3XNMggGh9lsUt/Fm+7m+1bGCxqOttPN/fOFiExKh+xnb1d0gz8qiiXmS0r5YxLaaULN/TaOsu4WEgTS3Fd1TCvlsvj9F1/PvQpPzHAZqiN9yZEntcyaDfet0mGOKLl5LGX6EMhU5ZGkf3QnVIWqvJA5FoG7KbLK1BcBcyLTfNYZGr7g8ar+WEWm63VgmSefX/q5k+r6Rplrdo/Heb+q00gKzcWUiVy3pY5RkGL7kept7/zSRS8Uc+Kw+nOV5ukqeu1KqtZ2Ds2a6yrWZghX/NS7q3OwQZ5WM0tgGCBPK7muPM6B2fP8wditayKMKG5YzW7rIvzkJcPs8vKOBGaRJxo+boMocrFfe407G0SJlJS7pO+KOrwqKkAcw4lp28Xi28vU7AM2Lfz9gUITKM8fJlcnoRtlJIvkwsSRtD2kXkuC8M2ytbX08vSME4ZHqd9cTQgojL5hXr60uhDxDJfTy7WQ3kXy2I9q+t+L7V+d3nZD+fDtrtdf7iZ8gPUNhVNSLOdFKmrqgg5UGR5ktUWkERW4ETnYSnQpK5PsqU2k3I5yZbCTGhJki0lmbJ2ypxOd8rYKXM23Slnp6yxclZkVZK1li1EVlMWmY0yyJokC5bIRdYm6sDCW/9X54knZEYnurpKJCEzNtHVdYqTmdGJrm6SiJRMsdWJmTS1MYWuSZwAHg3D5dSJO6tnpqPiNXIHapSQHkL9WNCyDwEZymTtQzyGcfx/rQVukWUP4RgGS29oG5RieEMSVKm67GISoHZUs0g6TKImlZMdbde2cDMFUCZBSBWevKlNIlRrBNQkEVpt0CXUSYTWGvzG1q5TldeFIklgFfiMvQ6tNXgMtk5IM+qSAjbJSpOh4wdUtYnQYgOqxkRosgFVayK02SJsYCJ02tRw9HkVodUG00UTodcG4+UmQrdN0dPhVYR2m8KPBhX1t/bkumgaofzWplwXDT2Oo9K2Lhp6dogUvT+HBpGC98fQxlDs/lSVCr/OVGZ7CGY3lXEIKyD3fylyrQS63P4VjTl0uRkGJxB+l5th2CBS5LkZhg0iRZ6bYdgPUqC5aYMEh8CSmzrsCinU3PRBKkNYyQ0qTgSiSmFQcSAQVAqDimSFmFIYVPaKFGphUNktUqiFQUVaUvLVFbaHSEZK47vC0LNfpOgLQ8+OkaIvDD2SjZbOXWHokWBQgJeGHkmlwaEz9EglKHFKQ48og8qmNPQgJEp0u9LQg4mAjJeGnm0rRV8aeratFH1p6EE8tBnQlYYebSutwLrS0KNrhRZYZegRbpV3dpWhR8tKSU9XGXr2rJTsdJXBTz0ruLjhT00rVaAyBVLTSjWoTIPUs1IVKlOBbSulAV1lOrBzpZS2q0wJNq8yhH7TovIOb1cb5tSXUny14Ut9KUYQUyS1phRgbaDZmEIiFrKThCnpIMMYGrZh0JBo7M01e+H65sZeUpPp6ZsbX4+dcH1xa1YgxYsIAWYF9rXBI1p/L9tiiL6ZmYGtrYpZybaz8caUCA1iA4iIPcEN0ZAQIuq70g2ZPCOQ7R+yE5riIjTojfMRESbsge1zHMhgsSlk5PR4u0WnQDraMOdEE7JTj7dbhAqpw4K3W4wKGZv3eHtempBkA+nHQldgrwXHM1jwCgj0pB7BwlcIbI7BnhbAAmsvHNJgISyw+MIxDRbEAqsvHNRgYSyw/GqZSE0j1l84rMFCWWABhuMaLJgFVmA4sMHCWUi8CRpZQAvkSzizwUJaIE/CoQ0W1ALpEU5tsLDGDzqg6yI0jaKzfxGaRuRBOLjBglsgAcpYHZhG5D04usECXCDdQd0WLMQFshwc6GBBLqQOETSyMBdIa3DMgwW6QD6Dcx4s1AXyDpSRYmoTsrpmzWKQyDJw0GWjTci2GCBZIAtkFDj+wSJZIJPA+Q8WygIJRCQkw8meFCJAsGAWCu8BiNAsjzTAXkKwEBfYg2IQqM3y7EFFauT/ZAcUGlk0DAU7nyzETPeSHBIa1aZmSe4IjWpTsyRphEa1qVmSTFMjU7Mki4ZGreEsSZ+hUWO6s7+bc4/8cdJlaNSYQdjTRbEbM3+c5BgaWTgOSA7stkSLiqFiCwbgLUiHinQX4C1Kh4pEl+BN94oEl+DNdBWJLcH74yS0AG8RPeCjRmRZ3JiR0ZWKrItbW7MmZWVlbG+vSVWxHY2tyW+lJTUy0yEVgdTKmmYlNplKagSDCMFlTIaH8GmVMWkpIj6sMsQv+Ae3UmUIX3AP6q0yRC94x/IOBC84B4+VyhC7yHTIELQRhGgM32hchmAM14hMRCpEMIZrNC6DJvAMWkxl0ASOQYOpDJqACrX+EmgCX9EQ8f3T5stwlggXf/otCfss8O19uvX7LfqmP3Z1AiRPP2JPY2pA/vTbFIhHqhFedB2s0/2v3bIAG1z14yH8CVcvwJFFoePr5cgbDv9/G+Pfvo2BUIP6ix0r8EO9ZYARuKFeMMAIvFA/gWMESqifiTACG9QrBTpCBFGK9wuMQKz0UgJGoH+C7L8xAvPTL40Y4au7gPkfjEAB9SYBRmB/eokAIxA/vT6AETifXh7ACHRPrwroqAFX0i/5GIEmCZb/xQj8Tu8LYARqp5cFMAKr03sCGIHQ6SUBjMDlBMsfMLIP//+HERicXlzACORNsPxJR2iW4I4FRj92EQa8TTuGInY3/vHrMSBwuoPX3TDot4c7osKPXJtBm0XLvsPc0XfRZkHNhxE4nLZsMQJ902/jDOQIkriXkAL7JhEyNh1ZemtZ98IxCZvebeCYZE3AHjkmUdMPGRyTpAm6v3FMgqY3EjgmOdPPZhyTmOlFBIwZxHEPgWNeJ9BbBxyz+af9c45J2PRMcEyyph8EOSZP03PMMTmaXjLgmN0+vWLAMfBpFfeZY7838AVjNilxLYJj4NOy7ZVjUju9zcHxv3/FiVcKULCpf9yGcb9qEOPL/6pp7GyO2cU+S7N2AaOzDMHKBXxO4/goyYBiZ3S7+yxxf0fNKud0r31a0gnddp4+9WfTpHJOt/r4yfIlfVDq5z7dgWABg8amf4SBnLxZQ9A0718keFqMZSGDNurhPoxjf5r84LGeQY/77d0vb3QvyYc1DTrd9nWo56movd196uyqy792faz2prfkJHyAHPiBONTe+kZ2ephrlhb4Ll0HSRfRNOLxqk5onB1LWu4kCPAGRmicIDOZ6j67Ro0T5V2/F6t1lDpTlkz6iMTpspj/JI53H83+jZNmt/+ybY2TZ1lRctmcUldonEDLxLEbGV5aZ9AwRnqAJmydSFu6c2dunU6/8yDIL5Og0+8W67VOp98xsL6kr1H8FglO/W45Uq1z6ncPXto6rX432zlpnVW/e6bAGfXPV0aOmXPqZwcbM+fUzw42Zs6pnx/BxsyJ9fMaV8ycW79fre3c+v1qbefW79+u7QT7/ePazrGf+UE7Zk6wf+Mmi8EJ9ocFQnCC/WGBEJxgf3gDgddNNIp/WC3Mb12i24cHXIEfkcs3FzGDM/UPnnJjcKb+cQXOmfrHFThn6h/fgItO1z8+4IjO2P+0LBOdsX9znHgBKUYn7Id+Pkklvh3TCgtpX9DFhbSvll1I+1t0C3NfTBcX5v4IeSHv5sYxX7g7H86dt+/Wbpw7c+8XsLkz934Bmztz79+AzZ2+9w+4cmfww2ptZ/DDam1n8MPbtZ3GDw9rs9ui3KZPblw4tz8vJiuc208LhMK5/bRAKJzbT28gFE7wp9XCTvCnR1zO8ZeLw7Fwjj8tTlw4x78v0Ern+PcFWukc//4GWulE//6AonSu/7paxrn+zZ2YnRclRK/rBXJsCAjxh2cKEAWVJ02ku/wOoFv2+12XkmnODwHgW4uQGVbZ0uM7mAJ1b/68/JlpUMnWdy5MF6/Vd5eL19YYSPd6FqPwBkNQo/h2NQxdQQ3bn/dpCxrGrqCW7U8rKZl/mfi0Xytk3Am66ZhYbg4y+KAVslDwbXdNL2d5qU5hnYBlTZaa6hs2t1qWdaeeTptcLco+hl5R7w4H5uOGcQbtEkpT18GusOI2xT9dYcVJf7zCSjmbD+Iud2s1NPRb9E+0UICmizb8ZK/+5JOLOulSqwaw5VJr2vB8dSFn89fvv/8H0oq1dA==";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function g(d,x){var b=this;this.canEncodeUnicodeCodePoint=function(w){return w in b.unicodeMappings},this.encodeUnicodeCodePoint=function(w){var S=b.unicodeMappings[w];if(!S){var C=String.fromCharCode(w),F="0x"+padStart(w.toString(16),4,"0"),E=b.name+' cannot encode "'+C+'" ('+F+")";throw new Error(E)}return{code:S[0],name:S[1]}},this.name=d,this.supportedCodePoints=Object.keys(x).map(Number).sort(function(w,S){return w-S}),this.unicodeMappings=x}return g}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(g){return Object.keys(g).map(function(d){return g[d]})},StandardFontValues=values(FontNames),isStandardFont=function(g){return StandardFontValues.includes(g)},rectanglesAreEqual=function(g,d){return g.x===d.x&&g.y===d.y&&g.width===d.width&&g.height===d.height},backtick=function(g){return"`"+g+"`"},singleQuote=function(g){return"'"+g+"'"},formatValue=function(g){var d=typeof g;return d==="string"?singleQuote(g):d==="undefined"?backtick(g):g},createValueErrorMsg=function(g,d,x){for(var b=new Array(x.length),w=0,S=x.length;w<S;w++){var C=x[w];b[w]=formatValue(C)}var F=b.join(" or ");return backtick(d)+" must be one of "+F+", but was actually "+formatValue(g)},assertIsOneOf=function(g,d,x){Array.isArray(x)||(x=values(x));for(var b=0,w=x.length;b<w;b++)if(g===x[b])return;throw new TypeError(createValueErrorMsg(g,d,x))},assertIsOneOfOrUndefined=function(g,d,x){Array.isArray(x)||(x=values(x)),assertIsOneOf(g,d,x.concat(void 0))},assertIsSubset=function(g,d,x){Array.isArray(x)||(x=values(x));for(var b=0,w=g.length;b<w;b++)assertIsOneOf(g[b],d,x)},getType=function(g){return g===null?"null":g===void 0?"undefined":typeof g=="string"?"string":isNaN(g)?"NaN":typeof g=="number"?"number":typeof g=="boolean"?"boolean":typeof g=="symbol"?"symbol":typeof g=="bigint"?"bigint":g.constructor&&g.constructor.name?g.constructor.name:g.name?g.name:g.constructor?String(g.constructor):String(g)},isType=function(g,d){return d==="null"?g===null:d==="undefined"?g===void 0:d==="string"?typeof g=="string":d==="number"?typeof g=="number"&&!isNaN(g):d==="boolean"?typeof g=="boolean":d==="symbol"?typeof g=="symbol":d==="bigint"?typeof g=="bigint":d===Date?g instanceof Date:d===Array?g instanceof Array:d===Uint8Array?g instanceof Uint8Array:d===ArrayBuffer?g instanceof ArrayBuffer:d===Function?g instanceof Function:g instanceof d[0]},createTypeErrorMsg=function(g,d,x){for(var b=new Array(x.length),w=0,S=x.length;w<S;w++){var C=x[w];C==="null"&&(b[w]=backtick("null")),C==="undefined"&&(b[w]=backtick("undefined")),C==="string"?b[w]=backtick("string"):C==="number"?b[w]=backtick("number"):C==="boolean"?b[w]=backtick("boolean"):C==="symbol"?b[w]=backtick("symbol"):C==="bigint"?b[w]=backtick("bigint"):C===Array?b[w]=backtick("Array"):C===Uint8Array?b[w]=backtick("Uint8Array"):C===ArrayBuffer?b[w]=backtick("ArrayBuffer"):b[w]=backtick(C[1])}var F=b.join(" or ");return backtick(d)+" must be of type "+F+", but was actually of type "+backtick(getType(g))},assertIs=function(g,d,x){for(var b=0,w=x.length;b<w;b++)if(isType(g,x[b]))return;throw new TypeError(createTypeErrorMsg(g,d,x))},assertOrUndefined=function(g,d,x){assertIs(g,d,x.concat("undefined"))},assertEachIs=function(g,d,x){for(var b=0,w=g.length;b<w;b++)assertIs(g[b],d,x)},assertRange=function(g,d,x,b){if(assertIs(g,d,["number"]),assertIs(x,"min",["number"]),assertIs(b,"max",["number"]),b=Math.max(x,b),g<x||g>b)throw new Error(backtick(d)+" must be at least "+x+" and at most "+b+", but was actually "+g)},assertRangeOrUndefined=function(g,d,x,b){assertIs(g,d,["number","undefined"]),typeof g=="number"&&assertRange(g,d,x,b)},assertMultiple=function(g,d,x){if(assertIs(g,d,["number"]),g%x!==0)throw new Error(backtick(d)+" must be a multiple of "+x+", but was actually "+g)},assertInteger=function(g,d){if(!Number.isInteger(g))throw new Error(backtick(d)+" must be an integer, but was actually "+g)},assertPositive=function(g,d){if(![1,0].includes(Math.sign(g)))throw new Error(backtick(d)+" must be a positive number or 0, but was actually "+g)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("˘");pdfDocEncodingToUnicode[25]=toCharCode("ˇ");pdfDocEncodingToUnicode[26]=toCharCode("ˆ");pdfDocEncodingToUnicode[27]=toCharCode("˙");pdfDocEncodingToUnicode[28]=toCharCode("˝");pdfDocEncodingToUnicode[29]=toCharCode("˛");pdfDocEncodingToUnicode[30]=toCharCode("˚");pdfDocEncodingToUnicode[31]=toCharCode("˜");pdfDocEncodingToUnicode[127]=toCharCode("�");pdfDocEncodingToUnicode[128]=toCharCode("•");pdfDocEncodingToUnicode[129]=toCharCode("†");pdfDocEncodingToUnicode[130]=toCharCode("‡");pdfDocEncodingToUnicode[131]=toCharCode("…");pdfDocEncodingToUnicode[132]=toCharCode("—");pdfDocEncodingToUnicode[133]=toCharCode("–");pdfDocEncodingToUnicode[134]=toCharCode("ƒ");pdfDocEncodingToUnicode[135]=toCharCode("⁄");pdfDocEncodingToUnicode[136]=toCharCode("‹");pdfDocEncodingToUnicode[137]=toCharCode("›");pdfDocEncodingToUnicode[138]=toCharCode("−");pdfDocEncodingToUnicode[139]=toCharCode("‰");pdfDocEncodingToUnicode[140]=toCharCode("„");pdfDocEncodingToUnicode[141]=toCharCode("“");pdfDocEncodingToUnicode[142]=toCharCode("”");pdfDocEncodingToUnicode[143]=toCharCode("‘");pdfDocEncodingToUnicode[144]=toCharCode("’");pdfDocEncodingToUnicode[145]=toCharCode("‚");pdfDocEncodingToUnicode[146]=toCharCode("™");pdfDocEncodingToUnicode[147]=toCharCode("ﬁ");pdfDocEncodingToUnicode[148]=toCharCode("ﬂ");pdfDocEncodingToUnicode[149]=toCharCode("Ł");pdfDocEncodingToUnicode[150]=toCharCode("Œ");pdfDocEncodingToUnicode[151]=toCharCode("Š");pdfDocEncodingToUnicode[152]=toCharCode("Ÿ");pdfDocEncodingToUnicode[153]=toCharCode("Ž");pdfDocEncodingToUnicode[154]=toCharCode("ı");pdfDocEncodingToUnicode[155]=toCharCode("ł");pdfDocEncodingToUnicode[156]=toCharCode("œ");pdfDocEncodingToUnicode[157]=toCharCode("š");pdfDocEncodingToUnicode[158]=toCharCode("ž");pdfDocEncodingToUnicode[159]=toCharCode("�");pdfDocEncodingToUnicode[160]=toCharCode("€");pdfDocEncodingToUnicode[173]=toCharCode("�");var pdfDocEncodingDecode=function(g){for(var d=new Array(g.length),x=0,b=g.length;x<b;x++)d[x]=pdfDocEncodingToUnicode[g[x]];return String.fromCodePoint.apply(String,d)},Cache=function(){function g(d){this.populate=d,this.value=void 0}return g.prototype.getValue=function(){return this.value},g.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},g.prototype.invalidate=function(){this.value=void 0},g.populatedBy=function(d){return new g(d)},g}(),MethodNotImplementedError=function(g){__extends(d,g);function d(x,b){var w=this,S="Method "+x+"."+b+"() not implemented";return w=g.call(this,S)||this,w}return d}(Error),PrivateConstructorError=function(g){__extends(d,g);function d(x){var b=this,w="Cannot construct "+x+" - it has a private constructor";return b=g.call(this,w)||this,b}return d}(Error),UnexpectedObjectTypeError=function(g){__extends(d,g);function d(x,b){var w=this,S=function(E){var k,D;return(k=E?.name)!==null&&k!==void 0?k:(D=E?.constructor)===null||D===void 0?void 0:D.name},C=Array.isArray(x)?x.map(S):[S(x)],F="Expected instance of "+C.join(" or ")+", "+("but got instance of "+(b&&S(b)));return w=g.call(this,F)||this,w}return d}(Error),UnsupportedEncodingError=function(g){__extends(d,g);function d(x){var b=this,w=x+" stream encoding not supported";return b=g.call(this,w)||this,b}return d}(Error),ReparseError=function(g){__extends(d,g);function d(x,b){var w=this,S="Cannot call "+x+"."+b+"() more than once";return w=g.call(this,S)||this,w}return d}(Error);(function(g){__extends(d,g);function d(x){var b=this,w="Missing catalog (ref="+x+")";return b=g.call(this,w)||this,b}return d})(Error);var MissingPageContentsEmbeddingError=function(g){__extends(d,g);function d(){var x=this,b="Can't embed page with missing Contents";return x=g.call(this,b)||this,x}return d}(Error),UnrecognizedStreamTypeError=function(g){__extends(d,g);function d(x){var b,w,S,C=this,F=(S=(w=(b=x?.contructor)===null||b===void 0?void 0:b.name)!==null&&w!==void 0?w:x?.name)!==null&&S!==void 0?S:x,E="Unrecognized stream type: "+F;return C=g.call(this,E)||this,C}return d}(Error),PageEmbeddingMismatchedContextError=function(g){__extends(d,g);function d(){var x=this,b="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return x=g.call(this,b)||this,x}return d}(Error),PDFArrayIsNotRectangleError=function(g){__extends(d,g);function d(x){var b=this,w="Attempted to convert PDFArray with "+x+" elements to rectangle, but must have exactly 4 elements.";return b=g.call(this,w)||this,b}return d}(Error),InvalidPDFDateStringError=function(g){__extends(d,g);function d(x){var b=this,w='Attempted to convert "'+x+'" to a date, but it does not match the PDF date string format.';return b=g.call(this,w)||this,b}return d}(Error),InvalidTargetIndexError=function(g){__extends(d,g);function d(x,b){var w=this,S="Invalid targetIndex specified: targetIndex="+x+" must be less than Count="+b;return w=g.call(this,S)||this,w}return d}(Error),CorruptPageTreeError=function(g){__extends(d,g);function d(x,b){var w=this,S="Failed to "+b+" at targetIndex="+x+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return w=g.call(this,S)||this,w}return d}(Error),IndexOutOfBoundsError=function(g){__extends(d,g);function d(x,b,w){var S=this,C="index should be at least "+b+" and at most "+w+", but was actually "+x;return S=g.call(this,C)||this,S}return d}(Error),InvalidAcroFieldValueError=function(g){__extends(d,g);function d(){var x=this,b="Attempted to set invalid field value";return x=g.call(this,b)||this,x}return d}(Error),MultiSelectValueError=function(g){__extends(d,g);function d(){var x=this,b="Attempted to select multiple values for single-select field";return x=g.call(this,b)||this,x}return d}(Error),MissingDAEntryError=function(g){__extends(d,g);function d(x){var b=this,w="No /DA (default appearance) entry found for field: "+x;return b=g.call(this,w)||this,b}return d}(Error),MissingTfOperatorError=function(g){__extends(d,g);function d(x){var b=this,w="No Tf operator found for DA of field: "+x;return b=g.call(this,w)||this,b}return d}(Error),NumberParsingError=function(g){__extends(d,g);function d(x,b){var w=this,S="Failed to parse number "+("(line:"+x.line+" col:"+x.column+" offset="+x.offset+'): "'+b+'"');return w=g.call(this,S)||this,w}return d}(Error),PDFParsingError=function(g){__extends(d,g);function d(x,b){var w=this,S="Failed to parse PDF document "+("(line:"+x.line+" col:"+x.column+" offset="+x.offset+"): "+b);return w=g.call(this,S)||this,w}return d}(Error),NextByteAssertionError=function(g){__extends(d,g);function d(x,b,w){var S=this,C="Expected next byte to be "+b+" but it was actually "+w;return S=g.call(this,x,C)||this,S}return d}(PDFParsingError),PDFObjectParsingError=function(g){__extends(d,g);function d(x,b){var w=this,S="Failed to parse PDF object starting with the following byte: "+b;return w=g.call(this,x,S)||this,w}return d}(PDFParsingError),PDFInvalidObjectParsingError=function(g){__extends(d,g);function d(x){var b=this,w="Failed to parse invalid PDF object";return b=g.call(this,x,w)||this,b}return d}(PDFParsingError),PDFStreamParsingError=function(g){__extends(d,g);function d(x){var b=this,w="Failed to parse PDF stream";return b=g.call(this,x,w)||this,b}return d}(PDFParsingError),UnbalancedParenthesisError=function(g){__extends(d,g);function d(x){var b=this,w="Failed to parse PDF literal string due to unbalanced parenthesis";return b=g.call(this,x,w)||this,b}return d}(PDFParsingError),StalledParserError=function(g){__extends(d,g);function d(x){var b=this,w="Parser stalled";return b=g.call(this,x,w)||this,b}return d}(PDFParsingError),MissingPDFHeaderError=function(g){__extends(d,g);function d(x){var b=this,w="No PDF header found";return b=g.call(this,x,w)||this,b}return d}(PDFParsingError),MissingKeywordError=function(g){__extends(d,g);function d(x,b){var w=this,S="Did not find expected keyword '"+arrayAsString(b)+"'";return w=g.call(this,x,S)||this,w}return d}(PDFParsingError),CharCodes;(function(g){g[g.Null=0]="Null",g[g.Backspace=8]="Backspace",g[g.Tab=9]="Tab",g[g.Newline=10]="Newline",g[g.FormFeed=12]="FormFeed",g[g.CarriageReturn=13]="CarriageReturn",g[g.Space=32]="Space",g[g.ExclamationPoint=33]="ExclamationPoint",g[g.Hash=35]="Hash",g[g.Percent=37]="Percent",g[g.LeftParen=40]="LeftParen",g[g.RightParen=41]="RightParen",g[g.Plus=43]="Plus",g[g.Minus=45]="Minus",g[g.Dash=45]="Dash",g[g.Period=46]="Period",g[g.ForwardSlash=47]="ForwardSlash",g[g.Zero=48]="Zero",g[g.One=49]="One",g[g.Two=50]="Two",g[g.Three=51]="Three",g[g.Four=52]="Four",g[g.Five=53]="Five",g[g.Six=54]="Six",g[g.Seven=55]="Seven",g[g.Eight=56]="Eight",g[g.Nine=57]="Nine",g[g.LessThan=60]="LessThan",g[g.GreaterThan=62]="GreaterThan",g[g.A=65]="A",g[g.D=68]="D",g[g.E=69]="E",g[g.F=70]="F",g[g.O=79]="O",g[g.P=80]="P",g[g.R=82]="R",g[g.LeftSquareBracket=91]="LeftSquareBracket",g[g.BackSlash=92]="BackSlash",g[g.RightSquareBracket=93]="RightSquareBracket",g[g.a=97]="a",g[g.b=98]="b",g[g.d=100]="d",g[g.e=101]="e",g[g.f=102]="f",g[g.i=105]="i",g[g.j=106]="j",g[g.l=108]="l",g[g.m=109]="m",g[g.n=110]="n",g[g.o=111]="o",g[g.r=114]="r",g[g.s=115]="s",g[g.t=116]="t",g[g.u=117]="u",g[g.x=120]="x",g[g.LeftCurly=123]="LeftCurly",g[g.RightCurly=125]="RightCurly",g[g.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function g(d,x){this.major=String(d),this.minor=String(x)}return g.prototype.toString=function(){var d=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+d+d+d+d},g.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.Percent,d[x++]=CharCodes$1.P,d[x++]=CharCodes$1.D,d[x++]=CharCodes$1.F,d[x++]=CharCodes$1.Dash,x+=copyStringIntoBuffer(this.major,d,x),d[x++]=CharCodes$1.Period,x+=copyStringIntoBuffer(this.minor,d,x),d[x++]=CharCodes$1.Newline,d[x++]=CharCodes$1.Percent,d[x++]=129,d[x++]=129,d[x++]=129,d[x++]=129,x-b},g.forVersion=function(d,x){return new g(d,x)},g}(),PDFObject=function(){function g(){}return g.prototype.clone=function(d){throw new MethodNotImplementedError(this.constructor.name,"clone")},g.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},g.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},g.prototype.copyBytesInto=function(d,x){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},g}(),PDFNumber=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.numberValue=x,b.stringValue=numberToString(x),b}return d.prototype.asNumber=function(){return this.numberValue},d.prototype.value=function(){return this.numberValue},d.prototype.clone=function(){return d.of(this.numberValue)},d.prototype.toString=function(){return this.stringValue},d.prototype.sizeInBytes=function(){return this.stringValue.length},d.prototype.copyBytesInto=function(x,b){return b+=copyStringIntoBuffer(this.stringValue,x,b),this.stringValue.length},d.of=function(x){return new d(x)},d}(PDFObject),PDFArray=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.array=[],b.context=x,b}return d.prototype.size=function(){return this.array.length},d.prototype.push=function(x){this.array.push(x)},d.prototype.insert=function(x,b){this.array.splice(x,0,b)},d.prototype.indexOf=function(x){var b=this.array.indexOf(x);return b===-1?void 0:b},d.prototype.remove=function(x){this.array.splice(x,1)},d.prototype.set=function(x,b){this.array[x]=b},d.prototype.get=function(x){return this.array[x]},d.prototype.lookupMaybe=function(x){for(var b,w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];return(b=this.context).lookupMaybe.apply(b,__spreadArrays([this.get(x)],w))},d.prototype.lookup=function(x){for(var b,w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];return(b=this.context).lookup.apply(b,__spreadArrays([this.get(x)],w))},d.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var x=this.lookup(0,PDFNumber).asNumber(),b=this.lookup(1,PDFNumber).asNumber(),w=this.lookup(2,PDFNumber).asNumber(),S=this.lookup(3,PDFNumber).asNumber(),C=x,F=b,E=w-x,k=S-b;return{x:C,y:F,width:E,height:k}},d.prototype.asArray=function(){return this.array.slice()},d.prototype.clone=function(x){for(var b=d.withContext(x||this.context),w=0,S=this.size();w<S;w++)b.push(this.array[w]);return b},d.prototype.toString=function(){for(var x="[ ",b=0,w=this.size();b<w;b++)x+=this.get(b).toString(),x+=" ";return x+="]",x},d.prototype.sizeInBytes=function(){for(var x=3,b=0,w=this.size();b<w;b++)x+=this.get(b).sizeInBytes()+1;return x},d.prototype.copyBytesInto=function(x,b){var w=b;x[b++]=CharCodes$1.LeftSquareBracket,x[b++]=CharCodes$1.Space;for(var S=0,C=this.size();S<C;S++)b+=this.get(S).copyBytesInto(x,b),x[b++]=CharCodes$1.Space;return x[b++]=CharCodes$1.RightSquareBracket,b-w},d.prototype.scalePDFNumbers=function(x,b){for(var w=0,S=this.size();w<S;w++){var C=this.lookup(w);if(C instanceof PDFNumber){var F=w%2===0?x:b;this.set(w,PDFNumber.of(C.asNumber()*F))}}},d.withContext=function(x){return new d(x)},d}(PDFObject),ENFORCER$2={},PDFBool=function(g){__extends(d,g);function d(x,b){var w=this;if(x!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return w=g.call(this)||this,w.value=b,w}return d.prototype.asBoolean=function(){return this.value},d.prototype.clone=function(){return this},d.prototype.toString=function(){return String(this.value)},d.prototype.sizeInBytes=function(){return this.value?4:5},d.prototype.copyBytesInto=function(x,b){return this.value?(x[b++]=CharCodes$1.t,x[b++]=CharCodes$1.r,x[b++]=CharCodes$1.u,x[b++]=CharCodes$1.e,4):(x[b++]=CharCodes$1.f,x[b++]=CharCodes$1.a,x[b++]=CharCodes$1.l,x[b++]=CharCodes$1.s,x[b++]=CharCodes$1.e,5)},d.True=new d(ENFORCER$2,!0),d.False=new d(ENFORCER$2,!1),d}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$2=256;idx$1<len$2;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(g){return g.replace(/#([\dABCDEF]{2})/g,function(d,x){return charFromHexCode(x)})},isRegularChar=function(g){return g>=CharCodes$1.ExclamationPoint&&g<=CharCodes$1.Tilde&&!IsIrregular[g]},ENFORCER$1={},pool$1=new Map,PDFName=function(g){__extends(d,g);function d(x,b){var w=this;if(x!==ENFORCER$1)throw new PrivateConstructorError("PDFName");w=g.call(this)||this;for(var S="/",C=0,F=b.length;C<F;C++){var E=b[C],k=toCharCode(E);S+=isRegularChar(k)?E:"#"+toHexString(k)}return w.encodedName=S,w}return d.prototype.asBytes=function(){for(var x=[],b="",w=!1,S=function(M){M!==void 0&&x.push(M),w=!1},C=1,F=this.encodedName.length;C<F;C++){var E=this.encodedName[C],k=toCharCode(E),D=this.encodedName[C+1];w?k>=CharCodes$1.Zero&&k<=CharCodes$1.Nine||k>=CharCodes$1.a&&k<=CharCodes$1.f||k>=CharCodes$1.A&&k<=CharCodes$1.F?(b+=E,(b.length===2||!(D>="0"&&D<="9"||D>="a"&&D<="f"||D>="A"&&D<="F"))&&(S(parseInt(b,16)),b="")):S(k):k===CharCodes$1.Hash?w=!0:S(k)}return new Uint8Array(x)},d.prototype.decodeText=function(){var x=this.asBytes();return String.fromCharCode.apply(String,Array.from(x))},d.prototype.asString=function(){return this.encodedName},d.prototype.value=function(){return this.encodedName},d.prototype.clone=function(){return this},d.prototype.toString=function(){return this.encodedName},d.prototype.sizeInBytes=function(){return this.encodedName.length},d.prototype.copyBytesInto=function(x,b){return b+=copyStringIntoBuffer(this.encodedName,x,b),this.encodedName.length},d.of=function(x){var b=decodeName(x),w=pool$1.get(b);return w||(w=new d(ENFORCER$1,b),pool$1.set(b,w)),w},d.Length=d.of("Length"),d.FlateDecode=d.of("FlateDecode"),d.Resources=d.of("Resources"),d.Font=d.of("Font"),d.XObject=d.of("XObject"),d.ExtGState=d.of("ExtGState"),d.Contents=d.of("Contents"),d.Type=d.of("Type"),d.Parent=d.of("Parent"),d.MediaBox=d.of("MediaBox"),d.Page=d.of("Page"),d.Annots=d.of("Annots"),d.TrimBox=d.of("TrimBox"),d.ArtBox=d.of("ArtBox"),d.BleedBox=d.of("BleedBox"),d.CropBox=d.of("CropBox"),d.Rotate=d.of("Rotate"),d.Title=d.of("Title"),d.Author=d.of("Author"),d.Subject=d.of("Subject"),d.Creator=d.of("Creator"),d.Keywords=d.of("Keywords"),d.Producer=d.of("Producer"),d.CreationDate=d.of("CreationDate"),d.ModDate=d.of("ModDate"),d}(PDFObject),PDFNull=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.asNull=function(){return null},d.prototype.clone=function(){return this},d.prototype.toString=function(){return"null"},d.prototype.sizeInBytes=function(){return 4},d.prototype.copyBytesInto=function(x,b){return x[b++]=CharCodes$1.n,x[b++]=CharCodes$1.u,x[b++]=CharCodes$1.l,x[b++]=CharCodes$1.l,4},d}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(g){__extends(d,g);function d(x,b){var w=g.call(this)||this;return w.dict=x,w.context=b,w}return d.prototype.keys=function(){return Array.from(this.dict.keys())},d.prototype.values=function(){return Array.from(this.dict.values())},d.prototype.entries=function(){return Array.from(this.dict.entries())},d.prototype.set=function(x,b){this.dict.set(x,b)},d.prototype.get=function(x,b){b===void 0&&(b=!1);var w=this.dict.get(x);if(!(w===PDFNull$1&&!b))return w},d.prototype.has=function(x){var b=this.dict.get(x);return b!==void 0&&b!==PDFNull$1},d.prototype.lookupMaybe=function(x){for(var b,w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];var C=w.includes(PDFNull$1),F=(b=this.context).lookupMaybe.apply(b,__spreadArrays([this.get(x,C)],w));if(!(F===PDFNull$1&&!C))return F},d.prototype.lookup=function(x){for(var b,w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];var C=w.includes(PDFNull$1),F=(b=this.context).lookup.apply(b,__spreadArrays([this.get(x,C)],w));if(!(F===PDFNull$1&&!C))return F},d.prototype.delete=function(x){return this.dict.delete(x)},d.prototype.asMap=function(){return new Map(this.dict)},d.prototype.uniqueKey=function(x){x===void 0&&(x="");for(var b=this.keys(),w=PDFName.of(this.context.addRandomSuffix(x,10));b.includes(w);)w=PDFName.of(this.context.addRandomSuffix(x,10));return w},d.prototype.clone=function(x){for(var b=d.withContext(x||this.context),w=this.entries(),S=0,C=w.length;S<C;S++){var F=w[S],E=F[0],k=F[1];b.set(E,k)}return b},d.prototype.toString=function(){for(var x=`<<
`,b=this.entries(),w=0,S=b.length;w<S;w++){var C=b[w],F=C[0],E=C[1];x+=F.toString()+" "+E.toString()+`
`}return x+=">>",x},d.prototype.sizeInBytes=function(){for(var x=5,b=this.entries(),w=0,S=b.length;w<S;w++){var C=b[w],F=C[0],E=C[1];x+=F.sizeInBytes()+E.sizeInBytes()+2}return x},d.prototype.copyBytesInto=function(x,b){var w=b;x[b++]=CharCodes$1.LessThan,x[b++]=CharCodes$1.LessThan,x[b++]=CharCodes$1.Newline;for(var S=this.entries(),C=0,F=S.length;C<F;C++){var E=S[C],k=E[0],D=E[1];b+=k.copyBytesInto(x,b),x[b++]=CharCodes$1.Space,b+=D.copyBytesInto(x,b),x[b++]=CharCodes$1.Newline}return x[b++]=CharCodes$1.GreaterThan,x[b++]=CharCodes$1.GreaterThan,b-w},d.withContext=function(x){return new d(new Map,x)},d.fromMapWithContext=function(x,b){return new d(x,b)},d}(PDFObject),PDFStream=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.dict=x,b}return d.prototype.clone=function(x){throw new MethodNotImplementedError(this.constructor.name,"clone")},d.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},d.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},d.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},d.prototype.updateDict=function(){var x=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(x))},d.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},d.prototype.toString=function(){this.updateDict();var x=this.dict.toString();return x+=`
stream
`,x+=this.getContentsString(),x+=`
endstream`,x},d.prototype.copyBytesInto=function(x,b){this.updateDict();var w=b;b+=this.dict.copyBytesInto(x,b),x[b++]=CharCodes$1.Newline,x[b++]=CharCodes$1.s,x[b++]=CharCodes$1.t,x[b++]=CharCodes$1.r,x[b++]=CharCodes$1.e,x[b++]=CharCodes$1.a,x[b++]=CharCodes$1.m,x[b++]=CharCodes$1.Newline;for(var S=this.getContents(),C=0,F=S.length;C<F;C++)x[b++]=S[C];return x[b++]=CharCodes$1.Newline,x[b++]=CharCodes$1.e,x[b++]=CharCodes$1.n,x[b++]=CharCodes$1.d,x[b++]=CharCodes$1.s,x[b++]=CharCodes$1.t,x[b++]=CharCodes$1.r,x[b++]=CharCodes$1.e,x[b++]=CharCodes$1.a,x[b++]=CharCodes$1.m,b-w},d}(PDFObject),PDFRawStream=function(g){__extends(d,g);function d(x,b){var w=g.call(this,x)||this;return w.contents=b,w}return d.prototype.asUint8Array=function(){return this.contents.slice()},d.prototype.clone=function(x){return d.of(this.dict.clone(x),this.contents.slice())},d.prototype.getContentsString=function(){return arrayAsString(this.contents)},d.prototype.getContents=function(){return this.contents},d.prototype.getContentsSize=function(){return this.contents.length},d.of=function(x,b){return new d(x,b)},d}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(g){__extends(d,g);function d(x,b,w){var S=this;if(x!==ENFORCER)throw new PrivateConstructorError("PDFRef");return S=g.call(this)||this,S.objectNumber=b,S.generationNumber=w,S.tag=b+" "+w+" R",S}return d.prototype.clone=function(){return this},d.prototype.toString=function(){return this.tag},d.prototype.sizeInBytes=function(){return this.tag.length},d.prototype.copyBytesInto=function(x,b){return b+=copyStringIntoBuffer(this.tag,x,b),this.tag.length},d.of=function(x,b){b===void 0&&(b=0);var w=x+" "+b+" R",S=pool.get(w);return S||(S=new d(ENFORCER,x,b),pool.set(w,S)),S},d}(PDFObject),PDFOperator=function(){function g(d,x){this.name=d,this.args=x||[]}return g.prototype.clone=function(d){for(var x=new Array(this.args.length),b=0,w=x.length;b<w;b++){var S=this.args[b];x[b]=S instanceof PDFObject?S.clone(d):S}return g.of(this.name,x)},g.prototype.toString=function(){for(var d="",x=0,b=this.args.length;x<b;x++)d+=String(this.args[x])+" ";return d+=this.name,d},g.prototype.sizeInBytes=function(){for(var d=0,x=0,b=this.args.length;x<b;x++){var w=this.args[x];d+=(w instanceof PDFObject?w.sizeInBytes():w.length)+1}return d+=this.name.length,d},g.prototype.copyBytesInto=function(d,x){for(var b=x,w=0,S=this.args.length;w<S;w++){var C=this.args[w];C instanceof PDFObject?x+=C.copyBytesInto(d,x):x+=copyStringIntoBuffer(C,d,x),d[x++]=CharCodes$1.Space}return x+=copyStringIntoBuffer(this.name,d,x),x-b},g.of=function(d,x){return new g(d,x)},g}(),PDFOperatorNames;(function(g){g.NonStrokingColor="sc",g.NonStrokingColorN="scn",g.NonStrokingColorRgb="rg",g.NonStrokingColorGray="g",g.NonStrokingColorCmyk="k",g.NonStrokingColorspace="cs",g.StrokingColor="SC",g.StrokingColorN="SCN",g.StrokingColorRgb="RG",g.StrokingColorGray="G",g.StrokingColorCmyk="K",g.StrokingColorspace="CS",g.BeginMarkedContentSequence="BDC",g.BeginMarkedContent="BMC",g.EndMarkedContent="EMC",g.MarkedContentPointWithProps="DP",g.MarkedContentPoint="MP",g.DrawObject="Do",g.ConcatTransformationMatrix="cm",g.PopGraphicsState="Q",g.PushGraphicsState="q",g.SetFlatness="i",g.SetGraphicsStateParams="gs",g.SetLineCapStyle="J",g.SetLineDashPattern="d",g.SetLineJoinStyle="j",g.SetLineMiterLimit="M",g.SetLineWidth="w",g.SetTextMatrix="Tm",g.SetRenderingIntent="ri",g.AppendRectangle="re",g.BeginInlineImage="BI",g.BeginInlineImageData="ID",g.EndInlineImage="EI",g.ClipEvenOdd="W*",g.ClipNonZero="W",g.CloseAndStroke="s",g.CloseFillEvenOddAndStroke="b*",g.CloseFillNonZeroAndStroke="b",g.ClosePath="h",g.AppendBezierCurve="c",g.CurveToReplicateFinalPoint="y",g.CurveToReplicateInitialPoint="v",g.EndPath="n",g.FillEvenOddAndStroke="B*",g.FillEvenOdd="f*",g.FillNonZeroAndStroke="B",g.FillNonZero="f",g.LegacyFillNonZero="F",g.LineTo="l",g.MoveTo="m",g.ShadingFill="sh",g.StrokePath="S",g.BeginText="BT",g.EndText="ET",g.MoveText="Td",g.MoveTextSetLeading="TD",g.NextLine="T*",g.SetCharacterSpacing="Tc",g.SetFontAndSize="Tf",g.SetTextHorizontalScaling="Tz",g.SetTextLineHeight="TL",g.SetTextRenderingMode="Tr",g.SetTextRise="Ts",g.SetWordSpacing="Tw",g.ShowText="Tj",g.ShowTextAdjusted="TJ",g.ShowTextLine="'",g.ShowTextLineAndSpace='"',g.Type3D0="d0",g.Type3D1="d1",g.BeginCompatibilitySection="BX",g.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const PDFOperatorNames$1=PDFOperatorNames;var PDFFlateStream=function(g){__extends(d,g);function d(x,b){var w=g.call(this,x)||this;return w.computeContents=function(){var S=w.getUnencodedContents();return w.encode?pako$1.deflate(S):S},w.encode=b,b&&x.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),w.contentsCache=Cache.populatedBy(w.computeContents),w}return d.prototype.getContents=function(){return this.contentsCache.access()},d.prototype.getContentsSize=function(){return this.contentsCache.access().length},d.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},d}(PDFStream),PDFContentStream=function(g){__extends(d,g);function d(x,b,w){w===void 0&&(w=!0);var S=g.call(this,x,w)||this;return S.operators=b,S}return d.prototype.push=function(){for(var x,b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];(x=this.operators).push.apply(x,b)},d.prototype.clone=function(x){for(var b=new Array(this.operators.length),w=0,S=this.operators.length;w<S;w++)b[w]=this.operators[w].clone(x);var C=this,F=C.dict,E=C.encode;return d.of(F.clone(x),b,E)},d.prototype.getContentsString=function(){for(var x="",b=0,w=this.operators.length;b<w;b++)x+=this.operators[b]+`
`;return x},d.prototype.getUnencodedContents=function(){for(var x=new Uint8Array(this.getUnencodedContentsSize()),b=0,w=0,S=this.operators.length;w<S;w++)b+=this.operators[w].copyBytesInto(x,b),x[b++]=CharCodes$1.Newline;return x},d.prototype.getUnencodedContentsSize=function(){for(var x=0,b=0,w=this.operators.length;b<w;b++)x+=this.operators[b].sizeInBytes()+1;return x},d.of=function(x,b,w){return w===void 0&&(w=!0),new d(x,b,w)},d}(PDFFlateStream),SimpleRNG=function(){function g(d){this.seed=d}return g.prototype.nextInt=function(){var d=Math.sin(this.seed++)*1e4;return d-Math.floor(d)},g.withSeed=function(d){return new g(d)},g}(),byAscendingObjectNumber=function(g,d){var x=g[0],b=d[0];return x.objectNumber-b.objectNumber},PDFContext=function(){function g(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1),this.pdfFileDetails={pdfSize:0,prevStartXRef:0,useObjectStreams:!1}}return g.prototype.assign=function(d,x){this.indirectObjects.set(d,x),d.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=d.objectNumber)},g.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},g.prototype.register=function(d){var x=this.nextRef();return this.assign(x,d),x},g.prototype.delete=function(d){return this.indirectObjects.delete(d)},g.prototype.lookupMaybe=function(d){for(var x=[],b=1;b<arguments.length;b++)x[b-1]=arguments[b];var w=x.includes(PDFNull$1),S=d instanceof PDFRef?this.indirectObjects.get(d):d;if(!(!S||S===PDFNull$1&&!w)){for(var C=0,F=x.length;C<F;C++){var E=x[C];if(E===PDFNull$1){if(S===PDFNull$1)return S}else if(S instanceof E)return S}throw new UnexpectedObjectTypeError(x,S)}},g.prototype.lookup=function(d){for(var x=[],b=1;b<arguments.length;b++)x[b-1]=arguments[b];var w=d instanceof PDFRef?this.indirectObjects.get(d):d;if(x.length===0)return w;for(var S=0,C=x.length;S<C;S++){var F=x[S];if(F===PDFNull$1){if(w===PDFNull$1)return w}else if(w instanceof F)return w}throw new UnexpectedObjectTypeError(x,w)},g.prototype.getObjectRef=function(d){for(var x=Array.from(this.indirectObjects.entries()),b=0,w=x.length;b<w;b++){var S=x[b],C=S[0],F=S[1];if(F===d)return C}},g.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},g.prototype.obj=function(d){if(d instanceof PDFObject)return d;if(d==null)return PDFNull$1;if(typeof d=="string")return PDFName.of(d);if(typeof d=="number")return PDFNumber.of(d);if(typeof d=="boolean")return d?PDFBool.True:PDFBool.False;if(Array.isArray(d)){for(var x=PDFArray.withContext(this),b=0,w=d.length;b<w;b++)x.push(this.obj(d[b]));return x}else{for(var S=PDFDict.withContext(this),C=Object.keys(d),b=0,w=C.length;b<w;b++){var F=C[b],E=d[F];E!==void 0&&S.set(PDFName.of(F),this.obj(E))}return S}},g.prototype.stream=function(d,x){return x===void 0&&(x={}),PDFRawStream.of(this.obj(x),typedArrayFor(d))},g.prototype.flateStream=function(d,x){return x===void 0&&(x={}),this.stream(pako$1.deflate(typedArrayFor(d)),__assign(__assign({},x),{Filter:"FlateDecode"}))},g.prototype.contentStream=function(d,x){return x===void 0&&(x={}),PDFContentStream.of(this.obj(x),d)},g.prototype.formXObject=function(d,x){return x===void 0&&(x={}),this.contentStream(d,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},x),{Type:"XObject",Subtype:"Form"}))},g.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var d=this.obj({}),x=PDFOperator.of(PDFOperatorNames$1.PushGraphicsState),b=PDFContentStream.of(d,[x]);return this.pushGraphicsStateContentStreamRef=this.register(b),this.pushGraphicsStateContentStreamRef},g.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var d=this.obj({}),x=PDFOperator.of(PDFOperatorNames$1.PopGraphicsState),b=PDFContentStream.of(d,[x]);return this.popGraphicsStateContentStreamRef=this.register(b),this.popGraphicsStateContentStreamRef},g.prototype.addRandomSuffix=function(d,x){return x===void 0&&(x=4),d+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,x))},g.create=function(){return new g},g}(),PDFPageLeaf=function(g){__extends(d,g);function d(x,b,w){w===void 0&&(w=!0);var S=g.call(this,x,b)||this;return S.normalized=!1,S.autoNormalizeCTM=w,S}return d.prototype.clone=function(x){for(var b=d.fromMapWithContext(new Map,x||this.context,this.autoNormalizeCTM),w=this.entries(),S=0,C=w.length;S<C;S++){var F=w[S],E=F[0],k=F[1];b.set(E,k)}return b},d.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},d.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},d.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},d.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},d.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},d.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},d.prototype.Resources=function(){var x=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(x,PDFDict)},d.prototype.MediaBox=function(){var x=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(x,PDFArray)},d.prototype.CropBox=function(){var x=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(x,PDFArray)},d.prototype.Rotate=function(){var x=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(x,PDFNumber)},d.prototype.getInheritableAttribute=function(x){var b;return this.ascend(function(w){b||(b=w.get(x))}),b},d.prototype.setParent=function(x){this.set(PDFName.Parent,x)},d.prototype.addContentStream=function(x){var b=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,b),b.push(x)},d.prototype.wrapContentStreams=function(x,b){var w=this.Contents();return w instanceof PDFArray?(w.insert(0,x),w.push(b),!0):!1},d.prototype.addAnnot=function(x){var b=this.normalizedEntries().Annots;b.push(x)},d.prototype.removeAnnot=function(x){var b=this.normalizedEntries().Annots,w=b.indexOf(x);w!==void 0&&b.remove(w)},d.prototype.setFontDictionary=function(x,b){var w=this.normalizedEntries().Font;w.set(x,b)},d.prototype.newFontDictionaryKey=function(x){var b=this.normalizedEntries().Font;return b.uniqueKey(x)},d.prototype.newFontDictionary=function(x,b){var w=this.newFontDictionaryKey(x);return this.setFontDictionary(w,b),w},d.prototype.setXObject=function(x,b){var w=this.normalizedEntries().XObject;w.set(x,b)},d.prototype.newXObjectKey=function(x){var b=this.normalizedEntries().XObject;return b.uniqueKey(x)},d.prototype.newXObject=function(x,b){var w=this.newXObjectKey(x);return this.setXObject(w,b),w},d.prototype.setExtGState=function(x,b){var w=this.normalizedEntries().ExtGState;w.set(x,b)},d.prototype.newExtGStateKey=function(x){var b=this.normalizedEntries().ExtGState;return b.uniqueKey(x)},d.prototype.newExtGState=function(x,b){var w=this.newExtGStateKey(x);return this.setExtGState(w,b),w},d.prototype.ascend=function(x){x(this);var b=this.Parent();b&&b.ascend(x)},d.prototype.normalize=function(){if(!this.normalized){var x=this.context,b=this.get(PDFName.Contents),w=this.context.lookup(b);w instanceof PDFStream&&this.set(PDFName.Contents,x.obj([b])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var S=this.getInheritableAttribute(PDFName.Resources),C=x.lookupMaybe(S,PDFDict)||x.obj({});this.set(PDFName.Resources,C);var F=C.lookupMaybe(PDFName.Font,PDFDict)||x.obj({});C.set(PDFName.Font,F);var E=C.lookupMaybe(PDFName.XObject,PDFDict)||x.obj({});C.set(PDFName.XObject,E);var k=C.lookupMaybe(PDFName.ExtGState,PDFDict)||x.obj({});C.set(PDFName.ExtGState,k);var D=this.Annots()||x.obj([]);this.set(PDFName.Annots,D),this.normalized=!0}},d.prototype.normalizedEntries=function(){this.normalize();var x=this.Annots(),b=this.Resources(),w=this.Contents();return{Annots:x,Resources:b,Contents:w,Font:b.lookup(PDFName.Font,PDFDict),XObject:b.lookup(PDFName.XObject,PDFDict),ExtGState:b.lookup(PDFName.ExtGState,PDFDict)}},d.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],d.withContextAndParent=function(x,b){var w=new Map;return w.set(PDFName.Type,PDFName.Page),w.set(PDFName.Parent,b),w.set(PDFName.Resources,x.obj({})),w.set(PDFName.MediaBox,x.obj([0,0,612,792])),new d(w,x,!1)},d.fromMapWithContext=function(x,b,w){return w===void 0&&(w=!0),new d(x,b,w)},d}(PDFDict),PDFObjectCopier=function(){function g(d,x){var b=this;this.traversedObjects=new Map,this.copy=function(w){return w instanceof PDFPageLeaf?b.copyPDFPage(w):w instanceof PDFDict?b.copyPDFDict(w):w instanceof PDFArray?b.copyPDFArray(w):w instanceof PDFStream?b.copyPDFStream(w):w instanceof PDFRef?b.copyPDFIndirectObject(w):w.clone()},this.copyPDFPage=function(w){for(var S=w.clone(),C=PDFPageLeaf.InheritableEntries,F=0,E=C.length;F<E;F++){var k=PDFName.of(C[F]),D=S.getInheritableAttribute(k);!S.get(k)&&D&&S.set(k,D)}return S.delete(PDFName.of("Parent")),b.copyPDFDict(S)},this.copyPDFDict=function(w){if(b.traversedObjects.has(w))return b.traversedObjects.get(w);var S=w.clone(b.dest);b.traversedObjects.set(w,S);for(var C=w.entries(),F=0,E=C.length;F<E;F++){var k=C[F],D=k[0],M=k[1];S.set(D,b.copy(M))}return S},this.copyPDFArray=function(w){if(b.traversedObjects.has(w))return b.traversedObjects.get(w);var S=w.clone(b.dest);b.traversedObjects.set(w,S);for(var C=0,F=w.size();C<F;C++){var E=w.get(C);S.set(C,b.copy(E))}return S},this.copyPDFStream=function(w){if(b.traversedObjects.has(w))return b.traversedObjects.get(w);var S=w.clone(b.dest);b.traversedObjects.set(w,S);for(var C=w.dict.entries(),F=0,E=C.length;F<E;F++){var k=C[F],D=k[0],M=k[1];S.dict.set(D,b.copy(M))}return S},this.copyPDFIndirectObject=function(w){var S=b.traversedObjects.has(w);if(!S){var C=b.dest.nextRef();b.traversedObjects.set(w,C);var F=b.src.lookup(w);if(F){var E=b.copy(F);b.dest.assign(C,E)}}return b.traversedObjects.get(w)},this.src=d,this.dest=x}return g.for=function(d,x){return new g(d,x)},g}(),PDFCrossRefSection=function(){function g(d){this.subsections=d?[[d]]:[],this.chunkIdx=0,this.chunkLength=d?1:0}return g.prototype.addEntry=function(d,x){this.append({ref:d,offset:x,deleted:!1})},g.prototype.addDeletedEntry=function(d,x){this.append({ref:d,offset:x,deleted:!0})},g.prototype.toString=function(){for(var d=`xref
`,x=0,b=this.subsections.length;x<b;x++){var w=this.subsections[x];d+=w[0].ref.objectNumber+" "+w.length+`
`;for(var S=0,C=w.length;S<C;S++){var F=w[S];d+=padStart$1(String(F.offset),10,"0"),d+=" ",d+=padStart$1(String(F.ref.generationNumber),5,"0"),d+=" ",d+=F.deleted?"f":"n",d+=` 
`}}return d},g.prototype.sizeInBytes=function(){for(var d=5,x=0,b=this.subsections.length;x<b;x++){var w=this.subsections[x],S=w.length,C=w[0];d+=2,d+=String(C.ref.objectNumber).length,d+=String(S).length,d+=20*S}return d},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.x,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.e,d[x++]=CharCodes$1.f,d[x++]=CharCodes$1.Newline,x+=this.copySubsectionsIntoBuffer(this.subsections,d,x),x-b},g.prototype.copySubsectionsIntoBuffer=function(d,x,b){for(var w=b,S=d.length,C=0;C<S;C++){var F=this.subsections[C],E=String(F[0].ref.objectNumber);b+=copyStringIntoBuffer(E,x,b),x[b++]=CharCodes$1.Space;var k=String(F.length);b+=copyStringIntoBuffer(k,x,b),x[b++]=CharCodes$1.Newline,b+=this.copyEntriesIntoBuffer(F,x,b)}return b-w},g.prototype.copyEntriesIntoBuffer=function(d,x,b){for(var w=d.length,S=0;S<w;S++){var C=d[S],F=padStart$1(String(C.offset),10,"0");b+=copyStringIntoBuffer(F,x,b),x[b++]=CharCodes$1.Space;var E=padStart$1(String(C.ref.generationNumber),5,"0");b+=copyStringIntoBuffer(E,x,b),x[b++]=CharCodes$1.Space,x[b++]=C.deleted?CharCodes$1.f:CharCodes$1.n,x[b++]=CharCodes$1.Space,x[b++]=CharCodes$1.Newline}return 20*w},g.prototype.append=function(d){if(this.chunkLength===0){this.subsections.push([d]),this.chunkIdx=0,this.chunkLength=1;return}var x=this.subsections[this.chunkIdx],b=x[this.chunkLength-1];d.ref.objectNumber-b.ref.objectNumber>1?(this.subsections.push([d]),this.chunkIdx+=1,this.chunkLength=1):(x.push(d),this.chunkLength+=1)},g.create=function(){return new g({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},g.createEmpty=function(){return new g},g}(),PDFTrailer=function(){function g(d){this.lastXRefOffset=String(d)}return g.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},g.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.s,d[x++]=CharCodes$1.t,d[x++]=CharCodes$1.a,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.t,d[x++]=CharCodes$1.x,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.e,d[x++]=CharCodes$1.f,d[x++]=CharCodes$1.Newline,x+=copyStringIntoBuffer(this.lastXRefOffset,d,x),d[x++]=CharCodes$1.Newline,d[x++]=CharCodes$1.Percent,d[x++]=CharCodes$1.Percent,d[x++]=CharCodes$1.E,d[x++]=CharCodes$1.O,d[x++]=CharCodes$1.F,x-b},g.forLastCrossRefSectionOffset=function(d){return new g(d)},g}(),PDFTrailerDict=function(){function g(d){this.dict=d}return g.prototype.toString=function(){return`trailer
`+this.dict.toString()},g.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.t,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.a,d[x++]=CharCodes$1.i,d[x++]=CharCodes$1.l,d[x++]=CharCodes$1.e,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.Newline,x+=this.dict.copyBytesInto(d,x),x-b},g.of=function(d){return new g(d)},g}(),PDFObjectStream=function(g){__extends(d,g);function d(x,b,w){w===void 0&&(w=!0);var S=g.call(this,x.obj({}),w)||this;return S.objects=b,S.offsets=S.computeObjectOffsets(),S.offsetsString=S.computeOffsetsString(),S.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),S.dict.set(PDFName.of("N"),PDFNumber.of(S.objects.length)),S.dict.set(PDFName.of("First"),PDFNumber.of(S.offsetsString.length)),S}return d.prototype.getObjectsCount=function(){return this.objects.length},d.prototype.clone=function(x){return d.withContextAndObjects(x||this.dict.context,this.objects.slice(),this.encode)},d.prototype.getContentsString=function(){for(var x=this.offsetsString,b=0,w=this.objects.length;b<w;b++){var S=this.objects[b],C=S[1];x+=C+`
`}return x},d.prototype.getUnencodedContents=function(){for(var x=new Uint8Array(this.getUnencodedContentsSize()),b=copyStringIntoBuffer(this.offsetsString,x,0),w=0,S=this.objects.length;w<S;w++){var C=this.objects[w],F=C[1];b+=F.copyBytesInto(x,b),x[b++]=CharCodes$1.Newline}return x},d.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last$1(this.offsets)[1]+last$1(this.objects)[1].sizeInBytes()+1},d.prototype.computeOffsetsString=function(){for(var x="",b=0,w=this.offsets.length;b<w;b++){var S=this.offsets[b],C=S[0],F=S[1];x+=C+" "+F+" "}return x},d.prototype.computeObjectOffsets=function(){for(var x=0,b=new Array(this.objects.length),w=0,S=this.objects.length;w<S;w++){var C=this.objects[w],F=C[0],E=C[1];b[w]=[F.objectNumber,x],x+=E.sizeInBytes()+1}return b},d.withContextAndObjects=function(x,b,w){return w===void 0&&(w=!0),new d(x,b,w)},d}(PDFFlateStream),PDFWriter=function(){function g(d,x,b){var w=this;this.parsedObjects=0,this.shouldWaitForTick=function(S){return w.parsedObjects+=S,w.parsedObjects%w.objectsPerTick===0},this.context=d,this.objectsPerTick=x,this.snapshot=b}return g.prototype.serializeToBuffer=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,w,S,C,F,E,k,D,M,L,R,U,j,H,z,V;return __generator(this,function(G){switch(G.label){case 0:return d=!(this.snapshot instanceof DefaultDocumentSnapshot),[4,this.computeBufferSize(d)];case 1:x=G.sent(),b=x.size,w=x.header,S=x.indirectObjects,C=x.xref,F=x.trailerDict,E=x.trailer,k=0,D=new Uint8Array(b),d||(k+=w.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline),D[k++]=CharCodes$1.Newline,M=0,L=S.length,G.label=2;case 2:return M<L?(R=S[M],U=R[0],j=R[1],this.snapshot.shouldSave(U.objectNumber)?(H=String(U.objectNumber),k+=copyStringIntoBuffer(H,D,k),D[k++]=CharCodes$1.Space,z=String(U.generationNumber),k+=copyStringIntoBuffer(z,D,k),D[k++]=CharCodes$1.Space,D[k++]=CharCodes$1.o,D[k++]=CharCodes$1.b,D[k++]=CharCodes$1.j,D[k++]=CharCodes$1.Newline,k+=j.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline,D[k++]=CharCodes$1.e,D[k++]=CharCodes$1.n,D[k++]=CharCodes$1.d,D[k++]=CharCodes$1.o,D[k++]=CharCodes$1.b,D[k++]=CharCodes$1.j,D[k++]=CharCodes$1.Newline,D[k++]=CharCodes$1.Newline,V=j instanceof PDFObjectStream?j.getObjectsCount():1,this.shouldWaitForTick(V)?[4,waitForTick()]:[3,4]):[3,4]):[3,5];case 3:G.sent(),G.label=4;case 4:return M++,[3,2];case 5:return C&&(k+=C.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline),F&&(k+=F.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline,D[k++]=CharCodes$1.Newline),k+=E.copyBytesInto(D,k),[2,D]}})})},g.prototype.computeIndirectObjectSize=function(d){var x=d[0],b=d[1],w=x.sizeInBytes()+3,S=b.sizeInBytes()+9;return w+S},g.prototype.createTrailerDict=function(d){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID,Prev:d?PDFNumber.of(d):void 0})},g.prototype.computeBufferSize=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,w,S,C,F,E,k,D,M,L;return __generator(this,function(R){switch(R.label){case 0:x=PDFHeader.forVersion(1,7),b=this.snapshot.pdfSize,d||(b+=x.sizeInBytes()+1),b+=1,w=PDFCrossRefSection.create(),S=this.context.enumerateIndirectObjects(),C=0,F=S.length,R.label=1;case 1:return C<F?(E=S[C],k=E[0],this.snapshot.shouldSave(k.objectNumber)?(w.addEntry(k,b),b+=this.computeIndirectObjectSize(E),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,3]):[3,4];case 2:R.sent(),R.label=3;case 3:return C++,[3,1];case 4:return D=b,b+=w.sizeInBytes()+1,M=PDFTrailerDict.of(this.createTrailerDict(this.snapshot.prevStartXRef)),b+=M.sizeInBytes()+2,L=PDFTrailer.forLastCrossRefSectionOffset(D),b+=L.sizeInBytes(),b-=this.snapshot.pdfSize,[2,{size:b,header:x,indirectObjects:S,xref:w,trailerDict:M,trailer:L}]}})})},g.forContext=function(d,x){return new g(d,x,defaultDocumentSnapshot)},g.forContextWithSnapshot=function(d,x,b){return new g(d,x,b)},g}(),PDFInvalidObject=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.data=x,b}return d.prototype.clone=function(){return d.of(this.data.slice())},d.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},d.prototype.sizeInBytes=function(){return this.data.length},d.prototype.copyBytesInto=function(x,b){for(var w=this.data.length,S=0;S<w;S++)x[b++]=this.data[S];return w},d.of=function(x){return new d(x)},d}(PDFObject),EntryType;(function(g){g[g.Deleted=0]="Deleted",g[g.Uncompressed=1]="Uncompressed",g[g.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(g){__extends(d,g);function d(x,b,w){w===void 0&&(w=!0);var S=g.call(this,x,w)||this;return S.computeIndex=function(){for(var C=[],F=0,E=0,k=S.entries.length;E<k;E++){var D=S.entries[E],M=S.entries[E-1];E===0?C.push(D.ref.objectNumber):D.ref.objectNumber-M.ref.objectNumber>1&&(C.push(F),C.push(D.ref.objectNumber),F=0),F+=1}return C.push(F),C},S.computeEntryTuples=function(){for(var C=new Array(S.entries.length),F=0,E=S.entries.length;F<E;F++){var k=S.entries[F];if(k.type===EntryType.Deleted){var D=k.type,M=k.nextFreeObjectNumber,L=k.ref;C[F]=[D,M,L.generationNumber]}if(k.type===EntryType.Uncompressed){var D=k.type,R=k.offset,L=k.ref;C[F]=[D,R,L.generationNumber]}if(k.type===EntryType.Compressed){var D=k.type,U=k.objectStreamRef,j=k.index;C[F]=[D,U.objectNumber,j]}}return C},S.computeMaxEntryByteWidths=function(){for(var C=S.entryTuplesCache.access(),F=[0,0,0],E=0,k=C.length;E<k;E++){var D=C[E],M=D[0],L=D[1],R=D[2],U=sizeInBytes(M),j=sizeInBytes(L),H=sizeInBytes(R);U>F[0]&&(F[0]=U),j>F[1]&&(F[1]=j),H>F[2]&&(F[2]=H)}return F},S.entries=b||[],S.entryTuplesCache=Cache.populatedBy(S.computeEntryTuples),S.maxByteWidthsCache=Cache.populatedBy(S.computeMaxEntryByteWidths),S.indexCache=Cache.populatedBy(S.computeIndex),x.set(PDFName.of("Type"),PDFName.of("XRef")),S}return d.prototype.addDeletedEntry=function(x,b){var w=EntryType.Deleted;this.entries.push({type:w,ref:x,nextFreeObjectNumber:b}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},d.prototype.addUncompressedEntry=function(x,b){var w=EntryType.Uncompressed;this.entries.push({type:w,ref:x,offset:b}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},d.prototype.addCompressedEntry=function(x,b,w){var S=EntryType.Compressed;this.entries.push({type:S,ref:x,objectStreamRef:b,index:w}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},d.prototype.clone=function(x){var b=this,w=b.dict,S=b.entries,C=b.encode;return d.of(w.clone(x),S.slice(),C)},d.prototype.getContentsString=function(){for(var x=this.entryTuplesCache.access(),b=this.maxByteWidthsCache.access(),w="",S=0,C=x.length;S<C;S++){for(var F=x[S],E=F[0],k=F[1],D=F[2],M=reverseArray(bytesFor(E)),L=reverseArray(bytesFor(k)),R=reverseArray(bytesFor(D)),U=b[0]-1;U>=0;U--)w+=(M[U]||0).toString(2);for(var U=b[1]-1;U>=0;U--)w+=(L[U]||0).toString(2);for(var U=b[2]-1;U>=0;U--)w+=(R[U]||0).toString(2)}return w},d.prototype.getUnencodedContents=function(){for(var x=this.entryTuplesCache.access(),b=this.maxByteWidthsCache.access(),w=new Uint8Array(this.getUnencodedContentsSize()),S=0,C=0,F=x.length;C<F;C++){for(var E=x[C],k=E[0],D=E[1],M=E[2],L=reverseArray(bytesFor(k)),R=reverseArray(bytesFor(D)),U=reverseArray(bytesFor(M)),j=b[0]-1;j>=0;j--)w[S++]=L[j]||0;for(var j=b[1]-1;j>=0;j--)w[S++]=R[j]||0;for(var j=b[2]-1;j>=0;j--)w[S++]=U[j]||0}return w},d.prototype.getUnencodedContentsSize=function(){var x=this.maxByteWidthsCache.access(),b=sum(x);return b*this.entries.length},d.prototype.updateDict=function(){g.prototype.updateDict.call(this);var x=this.maxByteWidthsCache.access(),b=this.indexCache.access(),w=this.dict.context;this.dict.set(PDFName.of("W"),w.obj(x)),this.dict.set(PDFName.of("Index"),w.obj(b))},d.create=function(x,b){b===void 0&&(b=!0);var w=new d(x,[],b);return w.addDeletedEntry(PDFRef.of(0,65535),0),w},d.of=function(x,b,w){return w===void 0&&(w=!0),new d(x,b,w)},d}(PDFFlateStream),PDFStreamWriter=function(g){__extends(d,g);function d(x,b,w,S,C){var F=g.call(this,x,b,w)||this;return F.encodeStreams=S,F.objectsPerStream=C,F}return d.prototype.computeBufferSize=function(x){return __awaiter(this,void 0,void 0,function(){var b,w,S,C,F,E,k,D,j,H,M,V,L,R,z,U,j,H,z,V,G,$,K,Z;return __generator(this,function(Q){switch(Q.label){case 0:b=this.context.largestObjectNumber+1,w=PDFHeader.forVersion(1,7),S=this.snapshot.pdfSize,x||(S+=w.sizeInBytes()+1),S+=1,C=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),F=[],E=[],k=[],D=this.context.enumerateIndirectObjects(),j=0,H=D.length,Q.label=1;case 1:return j<H?(M=D[j],V=M[0],L=M[1],this.snapshot.shouldSave(V.objectNumber)?(R=V===this.context.trailerInfo.Encrypt||L instanceof PDFStream||L instanceof PDFInvalidObject||V.generationNumber!==0||L instanceof PDFDict&&L.lookup(PDFName.of("Type"))===PDFName.of("Sig"),R?(F.push(M),C.addUncompressedEntry(V,S),S+=this.computeIndirectObjectSize(M),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,5]):[3,6];case 2:Q.sent(),Q.label=3;case 3:return[3,5];case 4:z=last$1(E),U=last$1(k),(!z||z.length%this.objectsPerStream===0)&&(z=[],E.push(z),U=PDFRef.of(b++),k.push(U)),C.addCompressedEntry(V,U,z.length),z.push(M),Q.label=5;case 5:return j++,[3,1];case 6:j=0,H=E.length,Q.label=7;case 7:return j<H?(z=E[j],V=k[j],G=PDFObjectStream.withContextAndObjects(this.context,z,this.encodeStreams),C.addUncompressedEntry(V,S),S+=this.computeIndirectObjectSize([V,G]),F.push([V,G]),this.shouldWaitForTick(z.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:Q.sent(),Q.label=9;case 9:return j++,[3,7];case 10:return $=PDFRef.of(b++),C.dict.set(PDFName.of("Size"),PDFNumber.of(b)),this.snapshot.prevStartXRef&&C.dict.set(PDFName.of("Prev"),PDFNumber.of(this.snapshot.prevStartXRef)),C.addUncompressedEntry($,S),K=S,S+=this.computeIndirectObjectSize([$,C]),F.push([$,C]),Z=PDFTrailer.forLastCrossRefSectionOffset(K),S+=Z.sizeInBytes(),S-=this.snapshot.pdfSize,[2,{size:S,header:w,indirectObjects:F,trailer:Z}]}})})},d.forContext=function(x,b,w,S){return w===void 0&&(w=!0),S===void 0&&(S=50),new d(x,b,defaultDocumentSnapshot,w,S)},d.forContextWithSnapshot=function(x,b,w,S,C){return S===void 0&&(S=!0),C===void 0&&(C=50),new d(x,b,w,S,C)},d}(PDFWriter),PDFHexString=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.value=x,b}return d.prototype.asBytes=function(){for(var x=this.value+(this.value.length%2===1?"0":""),b=x.length,w=new Uint8Array(x.length/2),S=0,C=0;S<b;){var F=parseInt(x.substring(S,S+2),16);w[C]=F,S+=2,C+=1}return w},d.prototype.decodeText=function(){var x=this.asBytes();return hasUtf16BOM(x)?utf16Decode(x):pdfDocEncodingDecode(x)},d.prototype.decodeDate=function(){var x=this.decodeText(),b=parseDate(x);if(!b)throw new InvalidPDFDateStringError(x);return b},d.prototype.asString=function(){return this.value},d.prototype.clone=function(){return d.of(this.value)},d.prototype.toString=function(){return"<"+this.value+">"},d.prototype.sizeInBytes=function(){return this.value.length+2},d.prototype.copyBytesInto=function(x,b){return x[b++]=CharCodes$1.LessThan,b+=copyStringIntoBuffer(this.value,x,b),x[b++]=CharCodes$1.GreaterThan,this.value.length+2},d.of=function(x){return new d(x)},d.fromText=function(x){for(var b=utf16Encode(x),w="",S=0,C=b.length;S<C;S++)w+=toHexStringOfMinLength(b[S],4);return new d(w)},d}(PDFObject),StandardFontEmbedder=function(){function g(d,x){this.encoding=d===FontNames.ZapfDingbats?Encodings.ZapfDingbats:d===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font$1.load(d),this.fontName=this.font.FontName,this.customName=x}return g.prototype.encodeText=function(d){for(var x=this.encodeTextAsGlyphs(d),b=new Array(x.length),w=0,S=x.length;w<S;w++)b[w]=toHexString(x[w].code);return PDFHexString.of(b.join(""))},g.prototype.widthOfTextAtSize=function(d,x){for(var b=this.encodeTextAsGlyphs(d),w=0,S=0,C=b.length;S<C;S++){var F=b[S].name,E=(b[S+1]||{}).name,k=this.font.getXAxisKerningForPair(F,E)||0;w+=this.widthOfGlyph(F)+k}var D=x/1e3;return w*D},g.prototype.heightOfFontAtSize=function(d,x){x===void 0&&(x={});var b=x.descender,w=b===void 0?!0:b,S=this.font,C=S.Ascender,F=S.Descender,E=S.FontBBox,k=C||E[3],D=F||E[1],M=k-D;return w||(M+=F||0),M/1e3*d},g.prototype.sizeOfFontAtHeight=function(d){var x=this.font,b=x.Ascender,w=x.Descender,S=x.FontBBox,C=b||S[3],F=w||S[1];return 1e3*d/(C-F)},g.prototype.embedIntoContext=function(d,x){var b=d.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return x?(d.assign(x,b),x):d.register(b)},g.prototype.widthOfGlyph=function(d){return this.font.getWidthOfGlyph(d)||250},g.prototype.encodeTextAsGlyphs=function(d){for(var x=Array.from(d),b=new Array(x.length),w=0,S=x.length;w<S;w++){var C=toCodePoint(x[w]);b[w]=this.encoding.encodeUnicodeCodePoint(C)}return b},g.for=function(d,x){return new g(d,x)},g}(),createCmap=function(g,d){for(var x=new Array(g.length),b=0,w=g.length;b<w;b++){var S=g[b],C=cmapHexFormat(cmapHexString(d(S))),F=cmapHexFormat.apply(void 0,S.codePoints.map(cmapCodePointFormat));x[b]=[C,F]}return fillCmapTemplate(x)},fillCmapTemplate=function(g){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+g.length+` beginbfchar
`+g.map(function(d){var x=d[0],b=d[1];return x+" "+b}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];return"<"+g.join("")+">"},cmapHexString=function(g){return toHexStringOfMinLength(g,4)},cmapCodePointFormat=function(g){if(isWithinBMP(g))return cmapHexString(g);if(hasSurrogates(g)){var d=highSurrogate(g),x=lowSurrogate(g);return""+cmapHexString(d)+cmapHexString(x)}var b=toHexString(g),w="0x"+b+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(w)},makeFontFlags=function(g){var d=0,x=function(b){d|=1<<b-1};return g.fixedPitch&&x(1),g.serif&&x(2),g.symbolic&&x(3),g.script&&x(4),g.nonsymbolic&&x(6),g.italic&&x(7),g.allCap&&x(17),g.smallCap&&x(18),g.forceBold&&x(19),d},deriveFontFlags=function(g){var d=g["OS/2"]?g["OS/2"].sFamilyClass:0,x=makeFontFlags({fixedPitch:g.post.isFixedPitch,serif:1<=d&&d<=7,symbolic:!0,script:d===10,italic:g.head.macStyle.italic});return x},PDFString=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.value=x,b}return d.prototype.asBytes=function(){for(var x=[],b="",w=!1,S=function(M){M!==void 0&&x.push(M),w=!1},C=0,F=this.value.length;C<F;C++){var E=this.value[C],k=toCharCode(E),D=this.value[C+1];w?k===CharCodes$1.Newline||k===CharCodes$1.CarriageReturn?S():k===CharCodes$1.n?S(CharCodes$1.Newline):k===CharCodes$1.r?S(CharCodes$1.CarriageReturn):k===CharCodes$1.t?S(CharCodes$1.Tab):k===CharCodes$1.b?S(CharCodes$1.Backspace):k===CharCodes$1.f?S(CharCodes$1.FormFeed):k===CharCodes$1.LeftParen?S(CharCodes$1.LeftParen):k===CharCodes$1.RightParen?S(CharCodes$1.RightParen):k===CharCodes$1.Backspace?S(CharCodes$1.BackSlash):k>=CharCodes$1.Zero&&k<=CharCodes$1.Seven?(b+=E,(b.length===3||!(D>="0"&&D<="7"))&&(S(parseInt(b,8)),b="")):S(k):k===CharCodes$1.BackSlash?w=!0:S(k)}return new Uint8Array(x)},d.prototype.decodeText=function(){var x=this.asBytes();return hasUtf16BOM(x)?utf16Decode(x):pdfDocEncodingDecode(x)},d.prototype.decodeDate=function(){var x=this.decodeText(),b=parseDate(x);if(!b)throw new InvalidPDFDateStringError(x);return b},d.prototype.asString=function(){return this.value},d.prototype.clone=function(){return d.of(this.value)},d.prototype.toString=function(){return"("+this.value+")"},d.prototype.sizeInBytes=function(){return this.value.length+2},d.prototype.copyBytesInto=function(x,b){return x[b++]=CharCodes$1.LeftParen,b+=copyStringIntoBuffer(this.value,x,b),x[b++]=CharCodes$1.RightParen,this.value.length+2},d.of=function(x){return new d(x)},d.fromDate=function(x){var b=padStart$1(String(x.getUTCFullYear()),4,"0"),w=padStart$1(String(x.getUTCMonth()+1),2,"0"),S=padStart$1(String(x.getUTCDate()),2,"0"),C=padStart$1(String(x.getUTCHours()),2,"0"),F=padStart$1(String(x.getUTCMinutes()),2,"0"),E=padStart$1(String(x.getUTCSeconds()),2,"0");return new d("D:"+b+w+S+C+F+E+"Z")},d}(PDFObject),CustomFontEmbedder=function(){function g(d,x,b,w){var S=this;this.allGlyphsInFontSortedById=function(){for(var C=new Array(S.font.characterSet.length),F=0,E=C.length;F<E;F++){var k=S.font.characterSet[F];C[F]=S.font.glyphForCodePoint(k)}return sortedUniq(C.sort(byAscendingId),function(D){return D.id})},this.font=d,this.scale=1e3/this.font.unitsPerEm,this.fontData=x,this.fontName=this.font.postscriptName||"Font",this.customName=b,this.fontFeatures=w,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return g.for=function(d,x,b,w){return __awaiter(this,void 0,void 0,function(){var S;return __generator(this,function(C){switch(C.label){case 0:return[4,d.create(x)];case 1:return S=C.sent(),[2,new g(S,x,b,w)]}})})},g.prototype.encodeText=function(d){for(var x=this.font.layout(d,this.fontFeatures).glyphs,b=new Array(x.length),w=0,S=x.length;w<S;w++)b[w]=toHexStringOfMinLength(x[w].id,4);return PDFHexString.of(b.join(""))},g.prototype.widthOfTextAtSize=function(d,x){for(var b=this.font.layout(d,this.fontFeatures).glyphs,w=0,S=0,C=b.length;S<C;S++)w+=b[S].advanceWidth*this.scale;var F=x/1e3;return w*F},g.prototype.heightOfFontAtSize=function(d,x){x===void 0&&(x={});var b=x.descender,w=b===void 0?!0:b,S=this.font,C=S.ascent,F=S.descent,E=S.bbox,k=(C||E.maxY)*this.scale,D=(F||E.minY)*this.scale,M=k-D;return w||(M-=Math.abs(F)||0),M/1e3*d},g.prototype.sizeOfFontAtHeight=function(d){var x=this.font,b=x.ascent,w=x.descent,S=x.bbox,C=(b||S.maxY)*this.scale,F=(w||S.minY)*this.scale;return 1e3*d/(C-F)},g.prototype.embedIntoContext=function(d,x){return this.baseFontName=this.customName||d.addRandomSuffix(this.fontName),this.embedFontDict(d,x)},g.prototype.embedFontDict=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,w,S;return __generator(this,function(C){switch(C.label){case 0:return[4,this.embedCIDFontDict(d)];case 1:return b=C.sent(),w=this.embedUnicodeCmap(d),S=d.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[b],ToUnicode:w}),x?(d.assign(x,S),[2,x]):[2,d.register(S)]}})})},g.prototype.isCFF=function(){return this.font.cff},g.prototype.embedCIDFontDict=function(d){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(w){switch(w.label){case 0:return[4,this.embedFontDescriptor(d)];case 1:return x=w.sent(),b=d.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:x,W:this.computeWidths()}),[2,d.register(b)]}})})},g.prototype.embedFontDescriptor=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,w,S,C,F,E,k,D,M,L,R,U,j,H;return __generator(this,function(z){switch(z.label){case 0:return[4,this.embedFontStream(d)];case 1:return x=z.sent(),b=this.scale,w=this.font,S=w.italicAngle,C=w.ascent,F=w.descent,E=w.capHeight,k=w.xHeight,D=this.font.bbox,M=D.minX,L=D.minY,R=D.maxX,U=D.maxY,j=d.obj((H={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[M*b,L*b,R*b,U*b],ItalicAngle:S,Ascent:C*b,Descent:F*b,CapHeight:(E||C)*b,XHeight:(k||0)*b,StemV:0},H[this.isCFF()?"FontFile3":"FontFile2"]=x,H)),[2,d.register(j)]}})})},g.prototype.serializeFont=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){return[2,this.fontData]})})},g.prototype.embedFontStream=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,w;return __generator(this,function(S){switch(S.label){case 0:return w=(b=d).flateStream,[4,this.serializeFont()];case 1:return x=w.apply(b,[S.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,d.register(x)]}})})},g.prototype.embedUnicodeCmap=function(d){var x=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),b=d.flateStream(x);return d.register(b)},g.prototype.glyphId=function(d){return d?d.id:-1},g.prototype.computeWidths=function(){for(var d=this.glyphCache.access(),x=[],b=[],w=0,S=d.length;w<S;w++){var C=d[w],F=d[w-1],E=this.glyphId(C),k=this.glyphId(F);w===0?x.push(E):E-k!==1&&(x.push(b),x.push(E),b=[]),b.push(C.advanceWidth*this.scale)}return x.push(b),x},g}(),CustomFontSubsetEmbedder=function(g){__extends(d,g);function d(x,b,w,S){var C=g.call(this,x,b,w,S)||this;return C.subset=C.font.createSubset(),C.glyphs=[],C.glyphCache=Cache.populatedBy(function(){return C.glyphs}),C.glyphIdMap=new Map,C}return d.for=function(x,b,w,S){return __awaiter(this,void 0,void 0,function(){var C;return __generator(this,function(F){switch(F.label){case 0:return[4,x.create(b)];case 1:return C=F.sent(),[2,new d(C,b,w,S)]}})})},d.prototype.encodeText=function(x){for(var b=this.font.layout(x,this.fontFeatures).glyphs,w=new Array(b.length),S=0,C=b.length;S<C;S++){var F=b[S],E=this.subset.includeGlyph(F);this.glyphs[E-1]=F,this.glyphIdMap.set(F.id,E),w[S]=toHexStringOfMinLength(E,4)}return this.glyphCache.invalidate(),PDFHexString.of(w.join(""))},d.prototype.isCFF=function(){return this.subset.cff},d.prototype.glyphId=function(x){return x?this.glyphIdMap.get(x.id):-1},d.prototype.serializeFont=function(){var x=this;return new Promise(function(b,w){var S=[];x.subset.encodeStream().on("data",function(C){return S.push(C)}).on("end",function(){return b(mergeUint8Arrays(S))}).on("error",function(C){return w(C)})})},d}(CustomFontEmbedder),AFRelationship;(function(g){g.Source="Source",g.Data="Data",g.Alternative="Alternative",g.Supplement="Supplement",g.EncryptedPayload="EncryptedPayload",g.FormData="EncryptedPayload",g.Schema="Schema",g.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function g(d,x,b){b===void 0&&(b={}),this.fileData=d,this.fileName=x,this.options=b}return g.for=function(d,x,b){return b===void 0&&(b={}),new g(d,x,b)},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,w,S,C,F,E,k,D,M;return __generator(this,function(L){return b=this.options,w=b.mimeType,S=b.description,C=b.creationDate,F=b.modificationDate,E=b.afRelationship,k=d.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:w??void 0,Params:{Size:this.fileData.length,CreationDate:C?PDFString.fromDate(C):void 0,ModDate:F?PDFString.fromDate(F):void 0}}),D=d.register(k),M=d.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:D},Desc:S?PDFHexString.fromText(S):void 0,AFRelationship:E??void 0}),x?(d.assign(x,M),[2,x]):[2,d.register(M)]})})},g}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(g){g.DeviceGray="DeviceGray",g.DeviceRGB="DeviceRGB",g.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function g(d,x,b,w,S){this.imageData=d,this.bitsPerComponent=x,this.width=b,this.height=w,this.colorSpace=S}return g.for=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,w,S,C,F,E,k,D,M;return __generator(this,function(L){if(x=new DataView(d.buffer),b=x.getUint16(0),b!==65496)throw new Error("SOI not found in JPEG");for(w=2;w<x.byteLength&&(S=x.getUint16(w),w+=2,!MARKERS.includes(S));)w+=x.getUint16(w);if(!MARKERS.includes(S))throw new Error("Invalid JPEG");if(w+=2,C=x.getUint8(w++),F=x.getUint16(w),w+=2,E=x.getUint16(w),w+=2,k=x.getUint8(w++),D=ChannelToColorSpace[k],!D)throw new Error("Unknown JPEG channel.");return M=D,[2,new g(d,C,E,F,M)]})})},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b;return __generator(this,function(w){return b=d.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),x?(d.assign(x,b),[2,x]):[2,d.register(b)]})})},g}(),UPNG={};UPNG.toRGBA8=function(g){var d=g.width,x=g.height;if(g.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(g.data,d,x,g).buffer];var b=[];g.frames[0].data==null&&(g.frames[0].data=g.data);for(var w=d*x*4,S=new Uint8Array(w),C=new Uint8Array(w),F=new Uint8Array(w),E=0;E<g.frames.length;E++){var k=g.frames[E],D=k.rect.x,M=k.rect.y,L=k.rect.width,R=k.rect.height,U=UPNG.toRGBA8.decodeImage(k.data,L,R,g);if(E!=0)for(var j=0;j<w;j++)F[j]=S[j];if(k.blend==0?UPNG._copyTile(U,L,R,S,d,x,D,M,0):k.blend==1&&UPNG._copyTile(U,L,R,S,d,x,D,M,1),b.push(S.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)UPNG._copyTile(C,L,R,S,d,x,D,M,0);else if(k.dispose==2)for(var j=0;j<w;j++)S[j]=F[j]}}return b};UPNG.toRGBA8.decodeImage=function(g,d,x,b){var w=d*x,S=UPNG.decode._getBPP(b),C=Math.ceil(d*S/8),F=new Uint8Array(w*4),E=new Uint32Array(F.buffer),k=b.ctype,D=b.depth,M=UPNG._bin.readUshort;if(k==6){var L=w<<2;if(D==8)for(var R=0;R<L;R+=4)F[R]=g[R],F[R+1]=g[R+1],F[R+2]=g[R+2],F[R+3]=g[R+3];if(D==16)for(var R=0;R<L;R++)F[R]=g[R<<1]}else if(k==2){var U=b.tabs.tRNS;if(U==null){if(D==8)for(var R=0;R<w;R++){var j=R*3;E[R]=255<<24|g[j+2]<<16|g[j+1]<<8|g[j]}if(D==16)for(var R=0;R<w;R++){var j=R*6;E[R]=255<<24|g[j+4]<<16|g[j+2]<<8|g[j]}}else{var H=U[0],z=U[1],V=U[2];if(D==8)for(var R=0;R<w;R++){var G=R<<2,j=R*3;E[R]=255<<24|g[j+2]<<16|g[j+1]<<8|g[j],g[j]==H&&g[j+1]==z&&g[j+2]==V&&(F[G+3]=0)}if(D==16)for(var R=0;R<w;R++){var G=R<<2,j=R*6;E[R]=255<<24|g[j+4]<<16|g[j+2]<<8|g[j],M(g,j)==H&&M(g,j+2)==z&&M(g,j+4)==V&&(F[G+3]=0)}}}else if(k==3){var $=b.tabs.PLTE,K=b.tabs.tRNS,Z=K?K.length:0;if(D==1)for(var Q=0;Q<x;Q++)for(var ne=Q*C,le=Q*d,R=0;R<d;R++){var G=le+R<<2,fe=g[ne+(R>>3)]>>7-((R&7)<<0)&1,be=3*fe;F[G]=$[be],F[G+1]=$[be+1],F[G+2]=$[be+2],F[G+3]=fe<Z?K[fe]:255}if(D==2)for(var Q=0;Q<x;Q++)for(var ne=Q*C,le=Q*d,R=0;R<d;R++){var G=le+R<<2,fe=g[ne+(R>>2)]>>6-((R&3)<<1)&3,be=3*fe;F[G]=$[be],F[G+1]=$[be+1],F[G+2]=$[be+2],F[G+3]=fe<Z?K[fe]:255}if(D==4)for(var Q=0;Q<x;Q++)for(var ne=Q*C,le=Q*d,R=0;R<d;R++){var G=le+R<<2,fe=g[ne+(R>>1)]>>4-((R&1)<<2)&15,be=3*fe;F[G]=$[be],F[G+1]=$[be+1],F[G+2]=$[be+2],F[G+3]=fe<Z?K[fe]:255}if(D==8)for(var R=0;R<w;R++){var G=R<<2,fe=g[R],be=3*fe;F[G]=$[be],F[G+1]=$[be+1],F[G+2]=$[be+2],F[G+3]=fe<Z?K[fe]:255}}else if(k==4){if(D==8)for(var R=0;R<w;R++){var G=R<<2,me=R<<1,we=g[me];F[G]=we,F[G+1]=we,F[G+2]=we,F[G+3]=g[me+1]}if(D==16)for(var R=0;R<w;R++){var G=R<<2,me=R<<2,we=g[me];F[G]=we,F[G+1]=we,F[G+2]=we,F[G+3]=g[me+2]}}else if(k==0)for(var H=b.tabs.tRNS?b.tabs.tRNS:-1,Q=0;Q<x;Q++){var oe=Q*C,ge=Q*d;if(D==1)for(var Ae=0;Ae<d;Ae++){var we=255*(g[oe+(Ae>>>3)]>>>7-(Ae&7)&1),Ce=we==H*255?0:255;E[ge+Ae]=Ce<<24|we<<16|we<<8|we}else if(D==2)for(var Ae=0;Ae<d;Ae++){var we=85*(g[oe+(Ae>>>2)]>>>6-((Ae&3)<<1)&3),Ce=we==H*85?0:255;E[ge+Ae]=Ce<<24|we<<16|we<<8|we}else if(D==4)for(var Ae=0;Ae<d;Ae++){var we=17*(g[oe+(Ae>>>1)]>>>4-((Ae&1)<<2)&15),Ce=we==H*17?0:255;E[ge+Ae]=Ce<<24|we<<16|we<<8|we}else if(D==8)for(var Ae=0;Ae<d;Ae++){var we=g[oe+Ae],Ce=we==H?0:255;E[ge+Ae]=Ce<<24|we<<16|we<<8|we}else if(D==16)for(var Ae=0;Ae<d;Ae++){var we=g[oe+(Ae<<1)],Ce=M(g,oe+(Ae<<R))==H?0:255;E[ge+Ae]=Ce<<24|we<<16|we<<8|we}}return F};UPNG.decode=function(g){for(var d=new Uint8Array(g),x=8,b=UPNG._bin,w=b.readUshort,S=b.readUint,C={tabs:{},frames:[]},F=new Uint8Array(d.length),E=0,k,D=0,M=[137,80,78,71,13,10,26,10],L=0;L<8;L++)if(d[L]!=M[L])throw"The input is not a PNG file!";for(;x<d.length;){var R=b.readUint(d,x);x+=4;var U=b.readASCII(d,x,4);if(x+=4,U=="IHDR")UPNG.decode._IHDR(d,x,C);else if(U=="IDAT"){for(var L=0;L<R;L++)F[E+L]=d[x+L];E+=R}else if(U=="acTL")C.tabs[U]={num_frames:S(d,x),num_plays:S(d,x+4)},k=new Uint8Array(d.length);else if(U=="fcTL"){if(D!=0){var j=C.frames[C.frames.length-1];j.data=UPNG.decode._decompress(C,k.slice(0,D),j.rect.width,j.rect.height),D=0}var H={x:S(d,x+12),y:S(d,x+16),width:S(d,x+4),height:S(d,x+8)},z=w(d,x+22);z=w(d,x+20)/(z==0?100:z);var V={rect:H,delay:Math.round(z*1e3),dispose:d[x+24],blend:d[x+25]};C.frames.push(V)}else if(U=="fdAT"){for(var L=0;L<R-4;L++)k[D+L]=d[x+L+4];D+=R-4}else if(U=="pHYs")C.tabs[U]=[b.readUint(d,x),b.readUint(d,x+4),d[x+8]];else if(U=="cHRM"){C.tabs[U]=[];for(var L=0;L<8;L++)C.tabs[U].push(b.readUint(d,x+L*4))}else if(U=="tEXt"){C.tabs[U]==null&&(C.tabs[U]={});var G=b.nextZero(d,x),$=b.readASCII(d,x,G-x),K=b.readASCII(d,G+1,x+R-G-1);C.tabs[U][$]=K}else if(U=="iTXt"){C.tabs[U]==null&&(C.tabs[U]={});var G=0,Z=x;G=b.nextZero(d,Z);var $=b.readASCII(d,Z,G-Z);Z=G+1,d[Z],d[Z+1],Z+=2,G=b.nextZero(d,Z),b.readASCII(d,Z,G-Z),Z=G+1,G=b.nextZero(d,Z),b.readUTF8(d,Z,G-Z),Z=G+1;var K=b.readUTF8(d,Z,R-(Z-x));C.tabs[U][$]=K}else if(U=="PLTE")C.tabs[U]=b.readBytes(d,x,R);else if(U=="hIST"){var Q=C.tabs.PLTE.length/3;C.tabs[U]=[];for(var L=0;L<Q;L++)C.tabs[U].push(w(d,x+L*2))}else if(U=="tRNS")C.ctype==3?C.tabs[U]=b.readBytes(d,x,R):C.ctype==0?C.tabs[U]=w(d,x):C.ctype==2&&(C.tabs[U]=[w(d,x),w(d,x+2),w(d,x+4)]);else if(U=="gAMA")C.tabs[U]=b.readUint(d,x)/1e5;else if(U=="sRGB")C.tabs[U]=d[x];else if(U=="bKGD")C.ctype==0||C.ctype==4?C.tabs[U]=[w(d,x)]:C.ctype==2||C.ctype==6?C.tabs[U]=[w(d,x),w(d,x+2),w(d,x+4)]:C.ctype==3&&(C.tabs[U]=d[x]);else if(U=="IEND")break;x+=R,b.readUint(d,x),x+=4}if(D!=0){var j=C.frames[C.frames.length-1];j.data=UPNG.decode._decompress(C,k.slice(0,D),j.rect.width,j.rect.height),D=0}return C.data=UPNG.decode._decompress(C,F,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C};UPNG.decode._decompress=function(g,d,x,b){var w=UPNG.decode._getBPP(g),S=Math.ceil(x*w/8),C=new Uint8Array((S+1+g.interlace)*b);return d=UPNG.decode._inflate(d,C),g.interlace==0?d=UPNG.decode._filterZero(d,g,0,x,b):g.interlace==1&&(d=UPNG.decode._readInterlace(d,g)),d};UPNG.decode._inflate=function(g,d){var x=UPNG.inflateRaw(new Uint8Array(g.buffer,2,g.length-6),d);return x};UPNG.inflateRaw=function(){var g={};return g.H={},g.H.N=function(d,x){var b=Uint8Array,w=0,S=0,C=0,F=0,E=0,k=0,D=0,M=0,L=0,R,U;if(d[0]==3&&d[1]==0)return x||new b(0);var j=g.H,H=j.b,z=j.e,V=j.R,G=j.n,$=j.A,K=j.Z,Z=j.m,Q=x==null;for(Q&&(x=new b(d.length>>>2<<3));w==0;){if(w=H(d,L,1),S=H(d,L+1,2),L+=3,S==0){L&7&&(L+=8-(L&7));var ne=(L>>>3)+4,le=d[ne-4]|d[ne-3]<<8;Q&&(x=g.H.W(x,M+le)),x.set(new b(d.buffer,d.byteOffset+ne,le),M),L=ne+le<<3,M+=le;continue}if(Q&&(x=g.H.W(x,M+(1<<17))),S==1&&(R=Z.J,U=Z.h,k=511,D=31),S==2){C=z(d,L,5)+257,F=z(d,L+5,5)+1,E=z(d,L+10,4)+4,L+=14;for(var fe=1,be=0;be<38;be+=2)Z.Q[be]=0,Z.Q[be+1]=0;for(var be=0;be<E;be++){var me=z(d,L+be*3,3);Z.Q[(Z.X[be]<<1)+1]=me,me>fe&&(fe=me)}L+=3*E,G(Z.Q,fe),$(Z.Q,fe,Z.u),R=Z.w,U=Z.d,L=V(Z.u,(1<<fe)-1,C+F,d,L,Z.v);var we=j.V(Z.v,0,C,Z.C);k=(1<<we)-1;var oe=j.V(Z.v,C,F,Z.D);D=(1<<oe)-1,G(Z.C,we),$(Z.C,we,R),G(Z.D,oe),$(Z.D,oe,U)}for(;;){var ge=R[K(d,L)&k];L+=ge&15;var Ae=ge>>>4;if(!(Ae>>>8))x[M++]=Ae;else{if(Ae==256)break;var Ce=M+Ae-254;if(Ae>264){var Ne=Z.q[Ae-257];Ce=M+(Ne>>>3)+z(d,L,Ne&7),L+=Ne&7}var Oe=U[K(d,L)&D];L+=Oe&15;var Be=Oe>>>4,Ie=Z.c[Be],Ee=(Ie>>>4)+H(d,L,Ie&15);for(L+=Ie&15;M<Ce;)x[M]=x[M++-Ee],x[M]=x[M++-Ee],x[M]=x[M++-Ee],x[M]=x[M++-Ee];M=Ce}}}return x.length==M?x:x.slice(0,M)},g.H.W=function(d,x){var b=d.length;if(x<=b)return d;var w=new Uint8Array(b<<1);return w.set(d,0),w},g.H.R=function(d,x,b,w,S,C){for(var F=g.H.e,E=g.H.Z,k=0;k<b;){var D=d[E(w,S)&x];S+=D&15;var M=D>>>4;if(M<=15)C[k]=M,k++;else{var L=0,R=0;M==16?(R=3+F(w,S,2),S+=2,L=C[k-1]):M==17?(R=3+F(w,S,3),S+=3):M==18&&(R=11+F(w,S,7),S+=7);for(var U=k+R;k<U;)C[k]=L,k++}}return S},g.H.V=function(d,x,b,w){for(var S=0,C=0,F=w.length>>>1;C<b;){var E=d[C+x];w[C<<1]=0,w[(C<<1)+1]=E,E>S&&(S=E),C++}for(;C<F;)w[C<<1]=0,w[(C<<1)+1]=0,C++;return S},g.H.n=function(d,x){for(var b=g.H.m,w=d.length,S,C,F,E,k,D=b.j,E=0;E<=x;E++)D[E]=0;for(E=1;E<w;E+=2)D[d[E]]++;var M=b.K;for(S=0,D[0]=0,C=1;C<=x;C++)S=S+D[C-1]<<1,M[C]=S;for(F=0;F<w;F+=2)k=d[F+1],k!=0&&(d[F]=M[k],M[k]++)},g.H.A=function(d,x,b){for(var w=d.length,S=g.H.m,C=S.r,F=0;F<w;F+=2)if(d[F+1]!=0)for(var E=F>>1,k=d[F+1],D=E<<4|k,M=x-k,L=d[F]<<M,R=L+(1<<M);L!=R;){var U=C[L]>>>15-x;b[U]=D,L++}},g.H.l=function(d,x){for(var b=g.H.m.r,w=15-x,S=0;S<d.length;S+=2){var C=d[S]<<x-d[S+1];d[S]=b[C]>>>w}},g.H.M=function(d,x,b){b=b<<(x&7);var w=x>>>3;d[w]|=b,d[w+1]|=b>>>8},g.H.I=function(d,x,b){b=b<<(x&7);var w=x>>>3;d[w]|=b,d[w+1]|=b>>>8,d[w+2]|=b>>>16},g.H.e=function(d,x,b){return(d[x>>>3]|d[(x>>>3)+1]<<8)>>>(x&7)&(1<<b)-1},g.H.b=function(d,x,b){return(d[x>>>3]|d[(x>>>3)+1]<<8|d[(x>>>3)+2]<<16)>>>(x&7)&(1<<b)-1},g.H.Z=function(d,x){return(d[x>>>3]|d[(x>>>3)+1]<<8|d[(x>>>3)+2]<<16)>>>(x&7)},g.H.i=function(d,x){return(d[x>>>3]|d[(x>>>3)+1]<<8|d[(x>>>3)+2]<<16|d[(x>>>3)+3]<<24)>>>(x&7)},g.H.m=function(){var d=Uint16Array,x=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new x(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new x(286),Y:new x(30),a:new x(19),t:new x(15e3),k:new d(65536),g:new d(32768)}}(),function(){for(var d=g.H.m,x=32768,b=0;b<x;b++){var w=b;w=(w&2863311530)>>>1|(w&1431655765)<<1,w=(w&3435973836)>>>2|(w&858993459)<<2,w=(w&4042322160)>>>4|(w&252645135)<<4,w=(w&4278255360)>>>8|(w&16711935)<<8,d.r[b]=(w>>>16|w<<16)>>>17}function S(C,F,E){for(;F--!=0;)C.push(0,E)}for(var b=0;b<32;b++)d.q[b]=d.S[b]<<3|d.T[b],d.c[b]=d.p[b]<<4|d.z[b];S(d._,144,8),S(d._,112,9),S(d._,24,7),S(d._,8,8),g.H.n(d._,9),g.H.A(d._,9,d.J),g.H.l(d._,9),S(d.$,32,5),g.H.n(d.$,5),g.H.A(d.$,5,d.h),g.H.l(d.$,5),S(d.Q,19,0),S(d.C,286,0),S(d.D,30,0),S(d.v,320,0)}(),g.H.N}();UPNG.decode._readInterlace=function(g,d){for(var x=d.width,b=d.height,w=UPNG.decode._getBPP(d),S=w>>3,C=Math.ceil(x*w/8),F=new Uint8Array(b*C),E=0,k=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1],R=0;R<7;){for(var U=M[R],j=L[R],H=0,z=0,V=k[R];V<b;)V+=U,z++;for(var G=D[R];G<x;)G+=j,H++;var $=Math.ceil(H*w/8);UPNG.decode._filterZero(g,d,E,H,z);for(var K=0,Z=k[R];Z<b;){for(var Q=D[R],ne=E+K*$<<3;Q<x;){if(w==1){var le=g[ne>>3];le=le>>7-(ne&7)&1,F[Z*C+(Q>>3)]|=le<<7-((Q&7)<<0)}if(w==2){var le=g[ne>>3];le=le>>6-(ne&7)&3,F[Z*C+(Q>>2)]|=le<<6-((Q&3)<<1)}if(w==4){var le=g[ne>>3];le=le>>4-(ne&7)&15,F[Z*C+(Q>>1)]|=le<<4-((Q&1)<<2)}if(w>=8)for(var fe=Z*C+Q*S,be=0;be<S;be++)F[fe+be]=g[(ne>>3)+be];ne+=w,Q+=j}K++,Z+=U}H*z!=0&&(E+=z*(1+$)),R=R+1}return F};UPNG.decode._getBPP=function(g){var d=[1,null,3,1,2,null,4][g.ctype];return d*g.depth};UPNG.decode._filterZero=function(g,d,x,b,w){var S=UPNG.decode._getBPP(d),C=Math.ceil(b*S/8),F=UPNG.decode._paeth;S=Math.ceil(S/8);var E=0,k=1,D=g[x],M=0;if(D>1&&(g[x]=[0,0,1][D-2]),D==3)for(M=S;M<C;M++)g[M+1]=g[M+1]+(g[M+1-S]>>>1)&255;for(var L=0;L<w;L++)if(E=x+L*C,k=E+L+1,D=g[k-1],M=0,D==0)for(;M<C;M++)g[E+M]=g[k+M];else if(D==1){for(;M<S;M++)g[E+M]=g[k+M];for(;M<C;M++)g[E+M]=g[k+M]+g[E+M-S]}else if(D==2)for(;M<C;M++)g[E+M]=g[k+M]+g[E+M-C];else if(D==3){for(;M<S;M++)g[E+M]=g[k+M]+(g[E+M-C]>>>1);for(;M<C;M++)g[E+M]=g[k+M]+(g[E+M-C]+g[E+M-S]>>>1)}else{for(;M<S;M++)g[E+M]=g[k+M]+F(0,g[E+M-C],0);for(;M<C;M++)g[E+M]=g[k+M]+F(g[E+M-S],g[E+M-C],g[E+M-S-C])}return g};UPNG.decode._paeth=function(g,d,x){var b=g+d-x,w=b-g,S=b-d,C=b-x;return w*w<=S*S&&w*w<=C*C?g:S*S<=C*C?d:x};UPNG.decode._IHDR=function(g,d,x){var b=UPNG._bin;x.width=b.readUint(g,d),d+=4,x.height=b.readUint(g,d),d+=4,x.depth=g[d],d++,x.ctype=g[d],d++,x.compress=g[d],d++,x.filter=g[d],d++,x.interlace=g[d],d++};UPNG._bin={nextZero:function(g,d){for(;g[d]!=0;)d++;return d},readUshort:function(g,d){return g[d]<<8|g[d+1]},writeUshort:function(g,d,x){g[d]=x>>8&255,g[d+1]=x&255},readUint:function(g,d){return g[d]*(256*256*256)+(g[d+1]<<16|g[d+2]<<8|g[d+3])},writeUint:function(g,d,x){g[d]=x>>24&255,g[d+1]=x>>16&255,g[d+2]=x>>8&255,g[d+3]=x&255},readASCII:function(g,d,x){for(var b="",w=0;w<x;w++)b+=String.fromCharCode(g[d+w]);return b},writeASCII:function(g,d,x){for(var b=0;b<x.length;b++)g[d+b]=x.charCodeAt(b)},readBytes:function(g,d,x){for(var b=[],w=0;w<x;w++)b.push(g[d+w]);return b},pad:function(g){return g.length<2?"0"+g:g},readUTF8:function(g,d,x){for(var b="",w,S=0;S<x;S++)b+="%"+UPNG._bin.pad(g[d+S].toString(16));try{w=decodeURIComponent(b)}catch{return UPNG._bin.readASCII(g,d,x)}return w}};UPNG._copyTile=function(g,d,x,b,w,S,C,F,E){for(var k=Math.min(d,w),D=Math.min(x,S),M=0,L=0,R=0;R<D;R++)for(var U=0;U<k;U++)if(C>=0&&F>=0?(M=R*d+U<<2,L=(F+R)*w+C+U<<2):(M=(-F+R)*d-C+U<<2,L=R*w+U<<2),E==0)b[L]=g[M],b[L+1]=g[M+1],b[L+2]=g[M+2],b[L+3]=g[M+3];else if(E==1){var j=g[M+3]*.00392156862745098,H=g[M]*j,z=g[M+1]*j,V=g[M+2]*j,G=b[L+3]*(1/255),$=b[L]*G,K=b[L+1]*G,Z=b[L+2]*G,Q=1-j,ne=j+G*Q,le=ne==0?0:1/ne;b[L+3]=255*ne,b[L+0]=(H+$*Q)*le,b[L+1]=(z+K*Q)*le,b[L+2]=(V+Z*Q)*le}else if(E==2){var j=g[M+3],H=g[M],z=g[M+1],V=g[M+2],G=b[L+3],$=b[L],K=b[L+1],Z=b[L+2];j==G&&H==$&&z==K&&V==Z?(b[L]=0,b[L+1]=0,b[L+2]=0,b[L+3]=0):(b[L]=H,b[L+1]=z,b[L+2]=V,b[L+3]=j)}else if(E==3){var j=g[M+3],H=g[M],z=g[M+1],V=g[M+2],G=b[L+3],$=b[L],K=b[L+1],Z=b[L+2];if(j==G&&H==$&&z==K&&V==Z)continue;if(j<220&&G>20)return!1}return!0};UPNG.encode=function(g,d,x,b,w,S,C){b==null&&(b=0),C==null&&(C=!1);var F=UPNG.encode.compress(g,d,x,b,[!1,!1,!1,0,C]);return UPNG.encode.compressPNG(F,-1),UPNG.encode._main(F,d,x,w,S)};UPNG.encodeLL=function(g,d,x,b,w,S,C,F){for(var E={ctype:0+(b==1?0:2)+(w==0?0:4),depth:S,frames:[]},k=(b+w)*S,D=k*d,M=0;M<g.length;M++)E.frames.push({rect:{x:0,y:0,width:d,height:x},img:new Uint8Array(g[M]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(D/8)});UPNG.encode.compressPNG(E,0,!0);var L=UPNG.encode._main(E,d,x,C,F);return L};UPNG.encode._main=function(g,d,x,b,w){w==null&&(w={});var S=UPNG.crc.crc,C=UPNG._bin.writeUint,F=UPNG._bin.writeUshort,E=UPNG._bin.writeASCII,k=8,D=g.frames.length>1,M=!1,L=33+(D?20:0);if(w.sRGB!=null&&(L+=13),w.pHYs!=null&&(L+=21),g.ctype==3){for(var R=g.plte.length,U=0;U<R;U++)g.plte[U]>>>24!=255&&(M=!0);L+=8+R*3+4+(M?8+R*1+4:0)}for(var j=0;j<g.frames.length;j++){var H=g.frames[j];D&&(L+=38),L+=H.cimg.length+12,j!=0&&(L+=4)}L+=12;for(var z=new Uint8Array(L),V=[137,80,78,71,13,10,26,10],U=0;U<8;U++)z[U]=V[U];if(C(z,k,13),k+=4,E(z,k,"IHDR"),k+=4,C(z,k,d),k+=4,C(z,k,x),k+=4,z[k]=g.depth,k++,z[k]=g.ctype,k++,z[k]=0,k++,z[k]=0,k++,z[k]=0,k++,C(z,k,S(z,k-17,17)),k+=4,w.sRGB!=null&&(C(z,k,1),k+=4,E(z,k,"sRGB"),k+=4,z[k]=w.sRGB,k++,C(z,k,S(z,k-5,5)),k+=4),w.pHYs!=null&&(C(z,k,9),k+=4,E(z,k,"pHYs"),k+=4,C(z,k,w.pHYs[0]),k+=4,C(z,k,w.pHYs[1]),k+=4,z[k]=w.pHYs[2],k++,C(z,k,S(z,k-13,13)),k+=4),D&&(C(z,k,8),k+=4,E(z,k,"acTL"),k+=4,C(z,k,g.frames.length),k+=4,C(z,k,w.loop!=null?w.loop:0),k+=4,C(z,k,S(z,k-12,12)),k+=4),g.ctype==3){var R=g.plte.length;C(z,k,R*3),k+=4,E(z,k,"PLTE"),k+=4;for(var U=0;U<R;U++){var G=U*3,$=g.plte[U],K=$&255,Z=$>>>8&255,Q=$>>>16&255;z[k+G+0]=K,z[k+G+1]=Z,z[k+G+2]=Q}if(k+=R*3,C(z,k,S(z,k-R*3-4,R*3+4)),k+=4,M){C(z,k,R),k+=4,E(z,k,"tRNS"),k+=4;for(var U=0;U<R;U++)z[k+U]=g.plte[U]>>>24&255;k+=R,C(z,k,S(z,k-R-4,R+4)),k+=4}}for(var ne=0,j=0;j<g.frames.length;j++){var H=g.frames[j];D&&(C(z,k,26),k+=4,E(z,k,"fcTL"),k+=4,C(z,k,ne++),k+=4,C(z,k,H.rect.width),k+=4,C(z,k,H.rect.height),k+=4,C(z,k,H.rect.x),k+=4,C(z,k,H.rect.y),k+=4,F(z,k,b[j]),k+=2,F(z,k,1e3),k+=2,z[k]=H.dispose,k++,z[k]=H.blend,k++,C(z,k,S(z,k-30,30)),k+=4);var le=H.cimg,R=le.length;C(z,k,R+(j==0?0:4)),k+=4;var fe=k;E(z,k,j==0?"IDAT":"fdAT"),k+=4,j!=0&&(C(z,k,ne++),k+=4),z.set(le,k),k+=R,C(z,k,S(z,fe,k-fe)),k+=4}return C(z,k,0),k+=4,E(z,k,"IEND"),k+=4,C(z,k,S(z,k-4,4)),k+=4,z.buffer};UPNG.encode.compressPNG=function(g,d,x){for(var b=0;b<g.frames.length;b++){var w=g.frames[b];w.rect.width;var S=w.rect.height,C=new Uint8Array(S*w.bpl+S);w.cimg=UPNG.encode._filterZero(w.img,S,w.bpp,w.bpl,C,d,x)}};UPNG.encode.compress=function(g,d,x,b,w){for(var S=w[0],C=w[1],F=w[2],E=w[3],k=w[4],D=6,M=8,L=255,R=0;R<g.length;R++)for(var U=new Uint8Array(g[R]),j=U.length,H=0;H<j;H+=4)L&=U[H+3];var z=L!=255,V=UPNG.encode.framize(g,d,x,S,C,F),G={},$=[],K=[];if(b!=0){for(var Z=[],H=0;H<V.length;H++)Z.push(V[H].img.buffer);for(var Q=UPNG.encode.concatRGBA(Z),ne=UPNG.quantize(Q,b),le=0,fe=new Uint8Array(ne.abuf),H=0;H<V.length;H++){var be=V[H].img,me=be.length;K.push(new Uint8Array(ne.inds.buffer,le>>2,me>>2));for(var R=0;R<me;R+=4)be[R]=fe[le+R],be[R+1]=fe[le+R+1],be[R+2]=fe[le+R+2],be[R+3]=fe[le+R+3];le+=me}for(var H=0;H<ne.plte.length;H++)$.push(ne.plte[H].est.rgba)}else for(var R=0;R<V.length;R++){var we=V[R],oe=new Uint32Array(we.img.buffer),ge=we.rect.width,j=oe.length,Ae=new Uint8Array(j);K.push(Ae);for(var H=0;H<j;H++){var Ce=oe[H];if(H!=0&&Ce==oe[H-1])Ae[H]=Ae[H-1];else if(H>ge&&Ce==oe[H-ge])Ae[H]=Ae[H-ge];else{var Ne=G[Ce];if(Ne==null&&(G[Ce]=Ne=$.length,$.push(Ce),$.length>=300))break;Ae[H]=Ne}}}var Oe=$.length;Oe<=256&&k==!1&&(Oe<=2?M=1:Oe<=4?M=2:Oe<=16?M=4:M=8,M=Math.max(M,E));for(var R=0;R<V.length;R++){var we=V[R];we.rect.x,we.rect.y;var ge=we.rect.width,Be=we.rect.height,Ie=we.img;new Uint32Array(Ie.buffer);var Ee=4*ge,Ue=4;if(Oe<=256&&k==!1){Ee=Math.ceil(M*ge/8);for(var De=new Uint8Array(Ee*Be),_e=K[R],Pe=0;Pe<Be;Pe++){var H=Pe*Ee,re=Pe*ge;if(M==8)for(var ae=0;ae<ge;ae++)De[H+ae]=_e[re+ae];else if(M==4)for(var ae=0;ae<ge;ae++)De[H+(ae>>1)]|=_e[re+ae]<<4-(ae&1)*4;else if(M==2)for(var ae=0;ae<ge;ae++)De[H+(ae>>2)]|=_e[re+ae]<<6-(ae&3)*2;else if(M==1)for(var ae=0;ae<ge;ae++)De[H+(ae>>3)]|=_e[re+ae]<<7-(ae&7)*1}Ie=De,D=3,Ue=1}else if(z==!1&&V.length==1){for(var De=new Uint8Array(ge*Be*3),Y=ge*Be,H=0;H<Y;H++){var be=H*3,W=H*4;De[be]=Ie[W],De[be+1]=Ie[W+1],De[be+2]=Ie[W+2]}Ie=De,D=2,Ue=3,Ee=3*ge}we.img=Ie,we.bpl=Ee,we.bpp=Ue}return{ctype:D,depth:M,plte:$,frames:V}};UPNG.encode.framize=function(g,d,x,b,w,S){for(var C=[],F=0;F<g.length;F++){var E=new Uint8Array(g[F]),k=new Uint32Array(E.buffer),D,M=0,L=0,R=d,U=x,j=b?1:0;if(F!=0){for(var H=S||b||F==1||C[F-2].dispose!=0?1:2,z=0,V=1e9,G=0;G<H;G++){for(var we=new Uint8Array(g[F-1-G]),$=new Uint32Array(g[F-1-G]),K=d,Z=x,Q=-1,ne=-1,le=0;le<x;le++)for(var fe=0;fe<d;fe++){var be=le*d+fe;k[be]!=$[be]&&(fe<K&&(K=fe),fe>Q&&(Q=fe),le<Z&&(Z=le),le>ne&&(ne=le))}Q==-1&&(K=Z=Q=ne=0),w&&((K&1)==1&&K--,(Z&1)==1&&Z--);var me=(Q-K+1)*(ne-Z+1);me<V&&(V=me,z=G,M=K,L=Z,R=Q-K+1,U=ne-Z+1)}var we=new Uint8Array(g[F-1-z]);z==1&&(C[F-1].dispose=2),D=new Uint8Array(R*U*4),UPNG._copyTile(we,d,x,D,R,U,-M,-L,0),j=UPNG._copyTile(E,d,x,D,R,U,-M,-L,3)?1:0,j==1?UPNG.encode._prepareDiff(E,d,x,D,{x:M,y:L,width:R,height:U}):UPNG._copyTile(E,d,x,D,R,U,-M,-L,0)}else D=E.slice(0);C.push({rect:{x:M,y:L,width:R,height:U},img:D,blend:j,dispose:0})}if(b)for(var F=0;F<C.length;F++){var oe=C[F];if(oe.blend!=1){var ge=oe.rect,Ae=C[F-1].rect,Ce=Math.min(ge.x,Ae.x),Ne=Math.min(ge.y,Ae.y),Oe=Math.max(ge.x+ge.width,Ae.x+Ae.width),Be=Math.max(ge.y+ge.height,Ae.y+Ae.height),Ie={x:Ce,y:Ne,width:Oe-Ce,height:Be-Ne};C[F-1].dispose=1,F-1!=0&&UPNG.encode._updateFrame(g,d,x,C,F-1,Ie,w),UPNG.encode._updateFrame(g,d,x,C,F,Ie,w)}}var Ee=0;if(g.length!=1)for(var be=0;be<C.length;be++){var oe=C[be];Ee+=oe.rect.width*oe.rect.height}return C};UPNG.encode._updateFrame=function(g,d,x,b,w,S,C){for(var F=Uint8Array,E=Uint32Array,k=new F(g[w-1]),D=new E(g[w-1]),M=w+1<g.length?new F(g[w+1]):null,L=new F(g[w]),R=new E(L.buffer),U=d,j=x,H=-1,z=-1,V=0;V<S.height;V++)for(var G=0;G<S.width;G++){var $=S.x+G,K=S.y+V,Z=K*d+$,Q=R[Z];Q==0||b[w-1].dispose==0&&D[Z]==Q&&(M==null||M[Z*4+3]!=0)||($<U&&(U=$),$>H&&(H=$),K<j&&(j=K),K>z&&(z=K))}H==-1&&(U=j=H=z=0),C&&((U&1)==1&&U--,(j&1)==1&&j--),S={x:U,y:j,width:H-U+1,height:z-j+1};var ne=b[w];ne.rect=S,ne.blend=1,ne.img=new Uint8Array(S.width*S.height*4),b[w-1].dispose==0?(UPNG._copyTile(k,d,x,ne.img,S.width,S.height,-S.x,-S.y,0),UPNG.encode._prepareDiff(L,d,x,ne.img,S)):UPNG._copyTile(L,d,x,ne.img,S.width,S.height,-S.x,-S.y,0)};UPNG.encode._prepareDiff=function(g,d,x,b,w){UPNG._copyTile(g,d,x,b,w.width,w.height,-w.x,-w.y,2)};UPNG.encode._filterZero=function(g,d,x,b,w,S,C){var F=[],E=[0,1,2,3,4];S!=-1?E=[S]:(d*b>5e5||x==1)&&(E=[0]);var k;C&&(k={level:0});for(var D=C&&UZIP!=null?UZIP:pako$1,M=0;M<E.length;M++){for(var L=0;L<d;L++)UPNG.encode._filterLine(w,g,L,b,x,E[M]);F.push(D.deflate(w,k))}for(var R,U=1e9,M=0;M<F.length;M++)F[M].length<U&&(R=M,U=F[M].length);return F[R]};UPNG.encode._filterLine=function(g,d,x,b,w,S){var C=x*b,F=C+x,E=UPNG.decode._paeth;if(g[F]=S,F++,S==0)if(b<500)for(var k=0;k<b;k++)g[F+k]=d[C+k];else g.set(new Uint8Array(d.buffer,C,b),F);else if(S==1){for(var k=0;k<w;k++)g[F+k]=d[C+k];for(var k=w;k<b;k++)g[F+k]=d[C+k]-d[C+k-w]+256&255}else if(x==0){for(var k=0;k<w;k++)g[F+k]=d[C+k];if(S==2)for(var k=w;k<b;k++)g[F+k]=d[C+k];if(S==3)for(var k=w;k<b;k++)g[F+k]=d[C+k]-(d[C+k-w]>>1)+256&255;if(S==4)for(var k=w;k<b;k++)g[F+k]=d[C+k]-E(d[C+k-w],0,0)+256&255}else{if(S==2)for(var k=0;k<b;k++)g[F+k]=d[C+k]+256-d[C+k-b]&255;if(S==3){for(var k=0;k<w;k++)g[F+k]=d[C+k]+256-(d[C+k-b]>>1)&255;for(var k=w;k<b;k++)g[F+k]=d[C+k]+256-(d[C+k-b]+d[C+k-w]>>1)&255}if(S==4){for(var k=0;k<w;k++)g[F+k]=d[C+k]+256-E(0,d[C+k-b],0)&255;for(var k=w;k<b;k++)g[F+k]=d[C+k]+256-E(d[C+k-w],d[C+k-b],d[C+k-w-b])&255}}};UPNG.crc={table:function(){for(var g=new Uint32Array(256),d=0;d<256;d++){for(var x=d,b=0;b<8;b++)x&1?x=3988292384^x>>>1:x=x>>>1;g[d]=x}return g}(),update:function(g,d,x,b){for(var w=0;w<b;w++)g=UPNG.crc.table[(g^d[x+w])&255]^g>>>8;return g},crc:function(g,d,x){return UPNG.crc.update(4294967295,g,d,x)^4294967295}};UPNG.quantize=function(g,d){var x=new Uint8Array(g),b=x.slice(0),w=new Uint32Array(b.buffer),S=UPNG.quantize.getKDtree(b,d),C=S[0],F=S[1];UPNG.quantize.planeDst;for(var E=x,k=w,D=E.length,M=new Uint8Array(x.length>>2),L=0;L<D;L+=4){var R=E[L]*.00392156862745098,U=E[L+1]*(1/255),j=E[L+2]*(1/255),H=E[L+3]*(1/255),z=UPNG.quantize.getNearest(C,R,U,j,H);M[L>>2]=z.ind,k[L>>2]=z.est.rgba}return{abuf:b.buffer,inds:M,plte:F}};UPNG.quantize.getKDtree=function(g,d,x){x==null&&(x=1e-4);var b=new Uint32Array(g.buffer),w={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=UPNG.quantize.stats(g,w.i0,w.i1),w.est=UPNG.quantize.estats(w.bst);for(var S=[w];S.length<d;){for(var C=0,F=0,E=0;E<S.length;E++)S[E].est.L>C&&(C=S[E].est.L,F=E);if(C<x)break;var k=S[F],D=UPNG.quantize.splitPixels(g,b,k.i0,k.i1,k.est.e,k.est.eMq255),M=k.i0>=D||k.i1<=D;if(M){k.est.L=0;continue}var L={i0:k.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};L.bst=UPNG.quantize.stats(g,L.i0,L.i1),L.est=UPNG.quantize.estats(L.bst);var R={i0:D,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};R.bst={R:[],m:[],N:k.bst.N-L.bst.N};for(var E=0;E<16;E++)R.bst.R[E]=k.bst.R[E]-L.bst.R[E];for(var E=0;E<4;E++)R.bst.m[E]=k.bst.m[E]-L.bst.m[E];R.est=UPNG.quantize.estats(R.bst),k.left=L,k.right=R,S[F]=L,S.push(R)}S.sort(function(U,j){return j.bst.N-U.bst.N});for(var E=0;E<S.length;E++)S[E].ind=E;return[w,S]};UPNG.quantize.getNearest=function(g,d,x,b,w){if(g.left==null)return g.tdst=UPNG.quantize.dist(g.est.q,d,x,b,w),g;var S=UPNG.quantize.planeDst(g.est,d,x,b,w),C=g.left,F=g.right;S>0&&(C=g.right,F=g.left);var E=UPNG.quantize.getNearest(C,d,x,b,w);if(E.tdst<=S*S)return E;var k=UPNG.quantize.getNearest(F,d,x,b,w);return k.tdst<E.tdst?k:E};UPNG.quantize.planeDst=function(g,d,x,b,w){var S=g.e;return S[0]*d+S[1]*x+S[2]*b+S[3]*w-g.eMq};UPNG.quantize.dist=function(g,d,x,b,w){var S=d-g[0],C=x-g[1],F=b-g[2],E=w-g[3];return S*S+C*C+F*F+E*E};UPNG.quantize.splitPixels=function(g,d,x,b,w,S){var C=UPNG.quantize.vecDot;for(b-=4;x<b;){for(;C(g,x,w)<=S;)x+=4;for(;C(g,b,w)>S;)b-=4;if(x>=b)break;var F=d[x>>2];d[x>>2]=d[b>>2],d[b>>2]=F,x+=4,b-=4}for(;C(g,x,w)>S;)x-=4;return x+4};UPNG.quantize.vecDot=function(g,d,x){return g[d]*x[0]+g[d+1]*x[1]+g[d+2]*x[2]+g[d+3]*x[3]};UPNG.quantize.stats=function(g,d,x){for(var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],S=x-d>>2,C=d;C<x;C+=4){var F=g[C]*.00392156862745098,E=g[C+1]*(1/255),k=g[C+2]*(1/255),D=g[C+3]*(1/255);w[0]+=F,w[1]+=E,w[2]+=k,w[3]+=D,b[0]+=F*F,b[1]+=F*E,b[2]+=F*k,b[3]+=F*D,b[5]+=E*E,b[6]+=E*k,b[7]+=E*D,b[10]+=k*k,b[11]+=k*D,b[15]+=D*D}return b[4]=b[1],b[8]=b[2],b[9]=b[6],b[12]=b[3],b[13]=b[7],b[14]=b[11],{R:b,m:w,N:S}};UPNG.quantize.estats=function(g){var d=g.R,x=g.m,b=g.N,w=x[0],S=x[1],C=x[2],F=x[3],E=b==0?0:1/b,k=[d[0]-w*w*E,d[1]-w*S*E,d[2]-w*C*E,d[3]-w*F*E,d[4]-S*w*E,d[5]-S*S*E,d[6]-S*C*E,d[7]-S*F*E,d[8]-C*w*E,d[9]-C*S*E,d[10]-C*C*E,d[11]-C*F*E,d[12]-F*w*E,d[13]-F*S*E,d[14]-F*C*E,d[15]-F*F*E],D=k,M=UPNG.M4,L=[.5,.5,.5,.5],R=0,U=0;if(b!=0)for(var j=0;j<10&&(L=M.multVec(D,L),U=Math.sqrt(M.dot(L,L)),L=M.sml(1/U,L),!(Math.abs(U-R)<1e-9));j++)R=U;var H=[w*E,S*E,C*E,F*E],z=M.dot(M.sml(255,H),L);return{Cov:k,q:H,e:L,L:R,eMq255:z,eMq:M.dot(L,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}};UPNG.M4={multVec:function(g,d){return[g[0]*d[0]+g[1]*d[1]+g[2]*d[2]+g[3]*d[3],g[4]*d[0]+g[5]*d[1]+g[6]*d[2]+g[7]*d[3],g[8]*d[0]+g[9]*d[1]+g[10]*d[2]+g[11]*d[3],g[12]*d[0]+g[13]*d[1]+g[14]*d[2]+g[15]*d[3]]},dot:function(g,d){return g[0]*d[0]+g[1]*d[1]+g[2]*d[2]+g[3]*d[3]},sml:function(g,d){return[g*d[0],g*d[1],g*d[2],g*d[3]]}};UPNG.encode.concatRGBA=function(g){for(var d=0,x=0;x<g.length;x++)d+=g[x].byteLength;for(var b=new Uint8Array(d),w=0,x=0;x<g.length;x++){for(var S=new Uint8Array(g[x]),C=S.length,F=0;F<C;F+=4){var E=S[F],k=S[F+1],D=S[F+2],M=S[F+3];M==0&&(E=k=D=0),b[w+F]=E,b[w+F+1]=k,b[w+F+2]=D,b[w+F+3]=M}w+=C}return b.buffer};var getImageType=function(g){if(g===0)return PngType.Greyscale;if(g===2)return PngType.Truecolour;if(g===3)return PngType.IndexedColour;if(g===4)return PngType.GreyscaleWithAlpha;if(g===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+g)},splitAlphaChannel=function(g){for(var d=Math.floor(g.length/4),x=new Uint8Array(d*3),b=new Uint8Array(d*1),w=0,S=0,C=0;w<g.length;)x[S++]=g[w++],x[S++]=g[w++],x[S++]=g[w++],b[C++]=g[w++];return{rgbChannel:x,alphaChannel:b}},PngType;(function(g){g.Greyscale="Greyscale",g.Truecolour="Truecolour",g.IndexedColour="IndexedColour",g.GreyscaleWithAlpha="GreyscaleWithAlpha",g.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function g(d){var x=UPNG.decode(d),b=UPNG.toRGBA8(x);if(b.length>1)throw new Error("Animated PNGs are not supported");var w=new Uint8Array(b[0]),S=splitAlphaChannel(w),C=S.rgbChannel,F=S.alphaChannel;this.rgbChannel=C;var E=F.some(function(k){return k<255});E&&(this.alphaChannel=F),this.type=getImageType(x.ctype),this.width=x.width,this.height=x.height,this.bitsPerComponent=8}return g.load=function(d){return new g(d)},g}(),PngEmbedder=function(){function g(d){this.image=d,this.bitsPerComponent=d.bitsPerComponent,this.width=d.width,this.height=d.height,this.colorSpace="DeviceRGB"}return g.for=function(d){return __awaiter(this,void 0,void 0,function(){var x;return __generator(this,function(b){return x=PNG.load(d),[2,new g(x)]})})},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,w;return __generator(this,function(S){return b=this.embedAlphaChannel(d),w=d.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:b}),x?(d.assign(x,w),[2,x]):[2,d.register(w)]})})},g.prototype.embedAlphaChannel=function(d){if(this.image.alphaChannel){var x=d.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return d.register(x)}},g}(),Stream=function(){function g(d,x,b){this.bytes=d,this.start=x||0,this.pos=this.start,this.end=x&&b?x+b:this.bytes.length}return Object.defineProperty(g.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),g.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},g.prototype.getUint16=function(){var d=this.getByte(),x=this.getByte();return d===-1||x===-1?-1:(d<<8)+x},g.prototype.getInt32=function(){var d=this.getByte(),x=this.getByte(),b=this.getByte(),w=this.getByte();return(d<<24)+(x<<16)+(b<<8)+w},g.prototype.getBytes=function(d,x){x===void 0&&(x=!1);var b=this.bytes,w=this.pos,S=this.end;if(d){var F=w+d;F>S&&(F=S),this.pos=F;var C=b.subarray(w,F);return x?new Uint8ClampedArray(C):C}else{var C=b.subarray(w,S);return x?new Uint8ClampedArray(C):C}},g.prototype.peekByte=function(){var d=this.getByte();return this.pos--,d},g.prototype.peekBytes=function(d,x){x===void 0&&(x=!1);var b=this.getBytes(d,x);return this.pos-=b.length,b},g.prototype.skip=function(d){d||(d=1),this.pos+=d},g.prototype.reset=function(){this.pos=this.start},g.prototype.moveStart=function(){this.start=this.pos},g.prototype.makeSubStream=function(d,x){return new g(this.bytes,d,x)},g.prototype.decode=function(){return this.bytes},g}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function g(d){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,d)for(;this.minBufferLength<d;)this.minBufferLength*=2}return Object.defineProperty(g.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),g.prototype.getByte=function(){for(var d=this.pos;this.bufferLength<=d;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},g.prototype.getUint16=function(){var d=this.getByte(),x=this.getByte();return d===-1||x===-1?-1:(d<<8)+x},g.prototype.getInt32=function(){var d=this.getByte(),x=this.getByte(),b=this.getByte(),w=this.getByte();return(d<<24)+(x<<16)+(b<<8)+w},g.prototype.getBytes=function(d,x){x===void 0&&(x=!1);var b,w=this.pos;if(d){for(this.ensureBuffer(w+d),b=w+d;!this.eof&&this.bufferLength<b;)this.readBlock();var S=this.bufferLength;b>S&&(b=S)}else{for(;!this.eof;)this.readBlock();b=this.bufferLength}this.pos=b;var C=this.buffer.subarray(w,b);return x&&!(C instanceof Uint8ClampedArray)?new Uint8ClampedArray(C):C},g.prototype.peekByte=function(){var d=this.getByte();return this.pos--,d},g.prototype.peekBytes=function(d,x){x===void 0&&(x=!1);var b=this.getBytes(d,x);return this.pos-=b.length,b},g.prototype.skip=function(d){d||(d=1),this.pos+=d},g.prototype.reset=function(){this.pos=0},g.prototype.makeSubStream=function(d,x){for(var b=d+x;this.bufferLength<=b&&!this.eof;)this.readBlock();return new Stream(this.buffer,d,x)},g.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},g.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},g.prototype.ensureBuffer=function(d){var x=this.buffer;if(d<=x.byteLength)return x;for(var b=this.minBufferLength;b<d;)b*=2;var w=new Uint8Array(b);return w.set(x),this.buffer=w},g}(),isSpace=function(g){return g===32||g===9||g===13||g===10},Ascii85Stream=function(g){__extends(d,g);function d(x,b){var w=g.call(this,b)||this;return w.stream=x,w.input=new Uint8Array(5),b&&(b=.8*b),w}return d.prototype.readBlock=function(){for(var x=126,b=122,w=-1,S=this.stream,C=S.getByte();isSpace(C);)C=S.getByte();if(C===w||C===x){this.eof=!0;return}var F=this.bufferLength,E,k;if(C===b){for(E=this.ensureBuffer(F+4),k=0;k<4;++k)E[F+k]=0;this.bufferLength+=4}else{var D=this.input;for(D[0]=C,k=1;k<5;++k){for(C=S.getByte();isSpace(C);)C=S.getByte();if(D[k]=C,C===w||C===x)break}if(E=this.ensureBuffer(F+k-1),this.bufferLength+=k-1,k<5){for(;k<5;++k)D[k]=117;this.eof=!0}var M=0;for(k=0;k<5;++k)M=M*85+(D[k]-33);for(k=3;k>=0;--k)E[F+k]=M&255,M>>=8}},d}(DecodeStream),AsciiHexStream=function(g){__extends(d,g);function d(x,b){var w=g.call(this,b)||this;return w.stream=x,w.firstDigit=-1,b&&(b=.5*b),w}return d.prototype.readBlock=function(){var x=8e3,b=this.stream.getBytes(x);if(!b.length){this.eof=!0;return}for(var w=b.length+1>>1,S=this.ensureBuffer(this.bufferLength+w),C=this.bufferLength,F=this.firstDigit,E=0,k=b.length;E<k;E++){var D=b[E],M=void 0;if(D>=48&&D<=57)M=D&15;else if(D>=65&&D<=70||D>=97&&D<=102)M=(D&15)+9;else if(D===62){this.eof=!0;break}else continue;F<0?F=M:(S[C++]=F<<4|M,F=-1)}F>=0&&this.eof&&(S[C++]=F<<4,F=-1),this.firstDigit=F,this.bufferLength=C},d}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(g){__extends(d,g);function d(x,b){var w=g.call(this,b)||this;w.stream=x;var S=x.getByte(),C=x.getByte();if(S===-1||C===-1)throw new Error("Invalid header in flate stream: "+S+", "+C);if((S&15)!==8)throw new Error("Unknown compression method in flate stream: "+S+", "+C);if(((S<<8)+C)%31!==0)throw new Error("Bad FCHECK in flate stream: "+S+", "+C);if(C&32)throw new Error("FDICT bit set in flate stream: "+S+", "+C);return w.codeSize=0,w.codeBuf=0,w}return d.prototype.readBlock=function(){var x,b,w=this.stream,S=this.getBits(3);if(S&1&&(this.eof=!0),S>>=1,S===0){var C=void 0;if((C=w.getByte())===-1)throw new Error("Bad block header in flate stream");var F=C;if((C=w.getByte())===-1)throw new Error("Bad block header in flate stream");if(F|=C<<8,(C=w.getByte())===-1)throw new Error("Bad block header in flate stream");var E=C;if((C=w.getByte())===-1)throw new Error("Bad block header in flate stream");if(E|=C<<8,E!==(~F&65535)&&(F!==0||E!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var k=this.bufferLength;x=this.ensureBuffer(k+F);var D=k+F;if(this.bufferLength=D,F===0)w.peekByte()===-1&&(this.eof=!0);else for(var M=k;M<D;++M){if((C=w.getByte())===-1){this.eof=!0;break}x[M]=C}return}var L,R;if(S===1)L=fixedLitCodeTab,R=fixedDistCodeTab;else if(S===2){var U=this.getBits(5)+257,j=this.getBits(5)+1,H=this.getBits(4)+4,z=new Uint8Array(codeLenCodeMap.length),V=void 0;for(V=0;V<H;++V)z[codeLenCodeMap[V]]=this.getBits(3);var G=this.generateHuffmanTable(z);b=0,V=0;for(var $=U+j,K=new Uint8Array($),Z=void 0,Q=void 0,ne=void 0;V<$;){var le=this.getCode(G);if(le===16)Z=2,Q=3,ne=b;else if(le===17)Z=3,Q=3,ne=b=0;else if(le===18)Z=7,Q=11,ne=b=0;else{K[V++]=b=le;continue}for(var fe=this.getBits(Z)+Q;fe-- >0;)K[V++]=ne}L=this.generateHuffmanTable(K.subarray(0,U)),R=this.generateHuffmanTable(K.subarray(U,$))}else throw new Error("Unknown block type in flate stream");x=this.buffer;for(var be=x?x.length:0,me=this.bufferLength;;){var we=this.getCode(L);if(we<256){me+1>=be&&(x=this.ensureBuffer(me+1),be=x.length),x[me++]=we;continue}if(we===256){this.bufferLength=me;return}we-=257,we=lengthDecode[we];var oe=we>>16;oe>0&&(oe=this.getBits(oe)),b=(we&65535)+oe,we=this.getCode(R),we=distDecode[we],oe=we>>16,oe>0&&(oe=this.getBits(oe));var ge=(we&65535)+oe;me+b>=be&&(x=this.ensureBuffer(me+b),be=x.length);for(var Ae=0;Ae<b;++Ae,++me)x[me]=x[me-ge]}},d.prototype.getBits=function(x){for(var b=this.stream,w=this.codeSize,S=this.codeBuf,C;w<x;){if((C=b.getByte())===-1)throw new Error("Bad encoding in flate stream");S|=C<<w,w+=8}return C=S&(1<<x)-1,this.codeBuf=S>>x,this.codeSize=w-=x,C},d.prototype.getCode=function(x){for(var b=this.stream,w=x[0],S=x[1],C=this.codeSize,F=this.codeBuf,E;C<S&&(E=b.getByte())!==-1;)F|=E<<C,C+=8;var k=w[F&(1<<S)-1];typeof w=="number"&&console.log("FLATE:",k);var D=k>>16,M=k&65535;if(D<1||C<D)throw new Error("Bad encoding in flate stream");return this.codeBuf=F>>D,this.codeSize=C-D,M},d.prototype.generateHuffmanTable=function(x){var b=x.length,w=0,S;for(S=0;S<b;++S)x[S]>w&&(w=x[S]);for(var C=1<<w,F=new Int32Array(C),E=1,k=0,D=2;E<=w;++E,k<<=1,D<<=1)for(var M=0;M<b;++M)if(x[M]===E){var L=0,R=k;for(S=0;S<E;++S)L=L<<1|R&1,R>>=1;for(S=L;S<C;S+=D)F[S]=E<<16|M;++k}return[F,w]},d}(DecodeStream),LZWStream=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,b)||this;S.stream=x,S.cachedData=0,S.bitsCached=0;for(var C=4096,F={earlyChange:w,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(C),dictionaryLengths:new Uint16Array(C),dictionaryPrevCodes:new Uint16Array(C),currentSequence:new Uint8Array(C),currentSequenceLength:0},E=0;E<256;++E)F.dictionaryValues[E]=E,F.dictionaryLengths[E]=1;return S.lzwState=F,S}return d.prototype.readBlock=function(){var x=512,b=x*2,w=x,S,C,F,E=this.lzwState;if(E){var k=E.earlyChange,D=E.nextCode,M=E.dictionaryValues,L=E.dictionaryLengths,R=E.dictionaryPrevCodes,U=E.codeLength,j=E.prevCode,H=E.currentSequence,z=E.currentSequenceLength,V=0,G=this.bufferLength,$=this.ensureBuffer(this.bufferLength+b);for(S=0;S<x;S++){var K=this.readBits(U),Z=z>0;if(!K||K<256)H[0]=K,z=1;else if(K>=258)if(K<D)for(z=L[K],C=z-1,F=K;C>=0;C--)H[C]=M[F],F=R[F];else H[z++]=H[0];else if(K===256){U=9,D=258,z=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Z&&(R[D]=j,L[D]=L[j]+1,M[D]=H[0],D++,U=D+k&D+k-1?U:Math.min(Math.log(D+k)/.6931471805599453+1,12)|0),j=K,V+=z,b<V){do b+=w;while(b<V);$=this.ensureBuffer(this.bufferLength+b)}for(C=0;C<z;C++)$[G++]=H[C]}E.nextCode=D,E.codeLength=U,E.prevCode=j,E.currentSequenceLength=z,this.bufferLength=G}},d.prototype.readBits=function(x){for(var b=this.bitsCached,w=this.cachedData;b<x;){var S=this.stream.getByte();if(S===-1)return this.eof=!0,null;w=w<<8|S,b+=8}return this.bitsCached=b-=x,this.cachedData=w,w>>>b&(1<<x)-1},d}(DecodeStream),RunLengthStream=function(g){__extends(d,g);function d(x,b){var w=g.call(this,b)||this;return w.stream=x,w}return d.prototype.readBlock=function(){var x=this.stream.getBytes(2);if(!x||x.length<2||x[0]===128){this.eof=!0;return}var b,w=this.bufferLength,S=x[0];if(S<128){if(b=this.ensureBuffer(w+S+1),b[w++]=x[1],S>0){var C=this.stream.getBytes(S);b.set(C,w),w+=S}}else{S=257-S;var F=x[1];b=this.ensureBuffer(w+S+1);for(var E=0;E<S;E++)b[w++]=F}this.bufferLength=w},d}(DecodeStream),decodeStream=function(g,d,x){if(d===PDFName.of("FlateDecode"))return new FlateStream(g);if(d===PDFName.of("LZWDecode")){var b=1;if(x instanceof PDFDict){var w=x.lookup(PDFName.of("EarlyChange"));w instanceof PDFNumber&&(b=w.asNumber())}return new LZWStream(g,void 0,b)}if(d===PDFName.of("ASCII85Decode"))return new Ascii85Stream(g);if(d===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(g);if(d===PDFName.of("RunLengthDecode"))return new RunLengthStream(g);throw new UnsupportedEncodingError(d.asString())},decodePDFRawStream=function(g){var d=g.dict,x=g.contents,b=new Stream(x),w=d.lookup(PDFName.of("Filter")),S=d.lookup(PDFName.of("DecodeParms"));if(w instanceof PDFName)b=decodeStream(b,w,S);else if(w instanceof PDFArray)for(var C=0,F=w.size();C<F;C++)b=decodeStream(b,w.lookup(C,PDFName),S&&S.lookupMaybe(C,PDFDict));else if(w)throw new UnexpectedObjectTypeError([PDFName,PDFArray],w);return b},fullPageBoundingBox=function(g){var d=g.MediaBox(),x=d.lookup(2,PDFNumber).asNumber()-d.lookup(0,PDFNumber).asNumber(),b=d.lookup(3,PDFNumber).asNumber()-d.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:x,top:b}},boundingBoxAdjustedMatrix=function(g){return[1,0,0,1,-g.left,-g.bottom]},PDFPageEmbedder=function(){function g(d,x,b){this.page=d;var w=x??fullPageBoundingBox(d);this.width=w.right-w.left,this.height=w.top-w.bottom,this.boundingBox=w,this.transformationMatrix=b??boundingBoxAdjustedMatrix(w)}return g.for=function(d,x,b){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(w){return[2,new g(d,x,b)]})})},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,w,S,C,F,E,k,D,M,L;return __generator(this,function(R){if(b=this.page.normalizedEntries(),w=b.Contents,S=b.Resources,!w)throw new MissingPageContentsEmbeddingError;return C=this.decodeContents(w),F=this.boundingBox,E=F.left,k=F.bottom,D=F.right,M=F.top,L=d.flateStream(C,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[E,k,D,M],Matrix:this.transformationMatrix,Resources:S}),x?(d.assign(x,L),[2,x]):[2,d.register(L)]})})},g.prototype.decodeContents=function(d){for(var x=Uint8Array.of(CharCodes$1.Newline),b=[],w=0,S=d.size();w<S;w++){var C=d.lookup(w,PDFStream),F=void 0;if(C instanceof PDFRawStream)F=decodePDFRawStream(C).decode();else if(C instanceof PDFContentStream)F=C.getUnencodedContents();else throw new UnrecognizedStreamTypeError(C);b.push(F,x)}return mergeIntoTypedArray.apply(void 0,b)},g}(),asEnum=function(g,d){if(g!==void 0)return d[g]},NonFullScreenPageMode;(function(g){g.UseNone="UseNone",g.UseOutlines="UseOutlines",g.UseThumbs="UseThumbs",g.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(g){g.L2R="L2R",g.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(g){g.None="None",g.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(g){g.Simplex="Simplex",g.DuplexFlipShortEdge="DuplexFlipShortEdge",g.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function g(d){this.dict=d}return g.prototype.lookupBool=function(d){var x=this.dict.lookup(PDFName.of(d));if(x instanceof PDFBool)return x},g.prototype.lookupName=function(d){var x=this.dict.lookup(PDFName.of(d));if(x instanceof PDFName)return x},g.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},g.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},g.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},g.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},g.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},g.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},g.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},g.prototype.Direction=function(){return this.lookupName("Direction")},g.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},g.prototype.Duplex=function(){return this.lookupName("Duplex")},g.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},g.prototype.PrintPageRange=function(){var d=this.dict.lookup(PDFName.of("PrintPageRange"));if(d instanceof PDFArray)return d},g.prototype.NumCopies=function(){var d=this.dict.lookup(PDFName.of("NumCopies"));if(d instanceof PDFNumber)return d},g.prototype.getHideToolbar=function(){var d,x;return(x=(d=this.HideToolbar())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getHideMenubar=function(){var d,x;return(x=(d=this.HideMenubar())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getHideWindowUI=function(){var d,x;return(x=(d=this.HideWindowUI())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getFitWindow=function(){var d,x;return(x=(d=this.FitWindow())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getCenterWindow=function(){var d,x;return(x=(d=this.CenterWindow())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getDisplayDocTitle=function(){var d,x;return(x=(d=this.DisplayDocTitle())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getNonFullScreenPageMode=function(){var d,x,b=(d=this.NonFullScreenPageMode())===null||d===void 0?void 0:d.decodeText();return(x=asEnum(b,NonFullScreenPageMode))!==null&&x!==void 0?x:NonFullScreenPageMode.UseNone},g.prototype.getReadingDirection=function(){var d,x,b=(d=this.Direction())===null||d===void 0?void 0:d.decodeText();return(x=asEnum(b,ReadingDirection))!==null&&x!==void 0?x:ReadingDirection.L2R},g.prototype.getPrintScaling=function(){var d,x,b=(d=this.PrintScaling())===null||d===void 0?void 0:d.decodeText();return(x=asEnum(b,PrintScaling))!==null&&x!==void 0?x:PrintScaling.AppDefault},g.prototype.getDuplex=function(){var d,x=(d=this.Duplex())===null||d===void 0?void 0:d.decodeText();return asEnum(x,Duplex)},g.prototype.getPickTrayByPDFSize=function(){var d;return(d=this.PickTrayByPDFSize())===null||d===void 0?void 0:d.asBoolean()},g.prototype.getPrintPageRange=function(){var d=this.PrintPageRange();if(!d)return[];for(var x=[],b=0;b<d.size();b+=2){var w=d.lookup(b,PDFNumber).asNumber(),S=d.lookup(b+1,PDFNumber).asNumber();x.push({start:w,end:S})}return x},g.prototype.getNumCopies=function(){var d,x;return(x=(d=this.NumCopies())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:1},g.prototype.setHideToolbar=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("HideToolbar"),x)},g.prototype.setHideMenubar=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("HideMenubar"),x)},g.prototype.setHideWindowUI=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("HideWindowUI"),x)},g.prototype.setFitWindow=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("FitWindow"),x)},g.prototype.setCenterWindow=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("CenterWindow"),x)},g.prototype.setDisplayDocTitle=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("DisplayDocTitle"),x)},g.prototype.setNonFullScreenPageMode=function(d){assertIsOneOf(d,"nonFullScreenPageMode",NonFullScreenPageMode);var x=PDFName.of(d);this.dict.set(PDFName.of("NonFullScreenPageMode"),x)},g.prototype.setReadingDirection=function(d){assertIsOneOf(d,"readingDirection",ReadingDirection);var x=PDFName.of(d);this.dict.set(PDFName.of("Direction"),x)},g.prototype.setPrintScaling=function(d){assertIsOneOf(d,"printScaling",PrintScaling);var x=PDFName.of(d);this.dict.set(PDFName.of("PrintScaling"),x)},g.prototype.setDuplex=function(d){assertIsOneOf(d,"duplex",Duplex);var x=PDFName.of(d);this.dict.set(PDFName.of("Duplex"),x)},g.prototype.setPickTrayByPDFSize=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("PickTrayByPDFSize"),x)},g.prototype.setPrintPageRange=function(d){Array.isArray(d)||(d=[d]);for(var x=[],b=0,w=d.length;b<w;b++)x.push(d[b].start),x.push(d[b].end);assertEachIs(x,"printPageRange",["number"]);var S=this.dict.context.obj(x);this.dict.set(PDFName.of("PrintPageRange"),S)},g.prototype.setNumCopies=function(d){assertRange(d,"numCopies",1,Number.MAX_VALUE),assertInteger(d,"numCopies");var x=this.dict.context.obj(d);this.dict.set(PDFName.of("NumCopies"),x)},g.fromDict=function(d){return new g(d)},g.create=function(d){var x=d.obj({});return new g(x)},g}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function g(d,x){this.dict=d,this.ref=x}return g.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},g.prototype.Ff=function(){var d=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(d,PDFNumber)},g.prototype.V=function(){var d=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(d)},g.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},g.prototype.DA=function(){var d=this.dict.lookup(PDFName.of("DA"));if(d instanceof PDFString||d instanceof PDFHexString)return d},g.prototype.setKids=function(d){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(d))},g.prototype.getParent=function(){var d=this.dict.get(PDFName.of("Parent"));if(d instanceof PDFRef){var x=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new g(x,d)}},g.prototype.setParent=function(d){d?this.dict.set(PDFName.of("Parent"),d):this.dict.delete(PDFName.of("Parent"))},g.prototype.getFullyQualifiedName=function(){var d=this.getParent();return d?d.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},g.prototype.getPartialName=function(){var d;return(d=this.T())===null||d===void 0?void 0:d.decodeText()},g.prototype.setPartialName=function(d){d?this.dict.set(PDFName.of("T"),PDFHexString.fromText(d)):this.dict.delete(PDFName.of("T"))},g.prototype.setDefaultAppearance=function(d){this.dict.set(PDFName.of("DA"),PDFString.of(d))},g.prototype.getDefaultAppearance=function(){var d=this.DA();return d instanceof PDFHexString?d.decodeText():d?.asString()},g.prototype.setFontSize=function(d){var x,b=(x=this.getFullyQualifiedName())!==null&&x!==void 0?x:"",w=this.getDefaultAppearance();if(!w)throw new MissingDAEntryError(b);var S=findLastMatch(w,tfRegex$1);if(!S.match)throw new MissingTfOperatorError(b);var C=w.slice(0,S.pos-S.match[0].length),F=S.pos<=w.length?w.slice(S.pos):"",E=S.match[1],k=C+" /"+E+" "+d+" Tf "+F;this.setDefaultAppearance(k)},g.prototype.getFlags=function(){var d,x;return(x=(d=this.Ff())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:0},g.prototype.setFlags=function(d){this.dict.set(PDFName.of("Ff"),PDFNumber.of(d))},g.prototype.hasFlag=function(d){var x=this.getFlags();return(x&d)!==0},g.prototype.setFlag=function(d){var x=this.getFlags();this.setFlags(x|d)},g.prototype.clearFlag=function(d){var x=this.getFlags();this.setFlags(x&~d)},g.prototype.setFlagTo=function(d,x){x?this.setFlag(d):this.clearFlag(d)},g.prototype.getInheritableAttribute=function(d){var x;return this.ascend(function(b){x||(x=b.dict.get(d))}),x},g.prototype.ascend=function(d){d(this);var x=this.getParent();x&&x.ascend(d)},g}(),BorderStyle=function(){function g(d){this.dict=d}return g.prototype.W=function(){var d=this.dict.lookup(PDFName.of("W"));if(d instanceof PDFNumber)return d},g.prototype.getWidth=function(){var d,x;return(x=(d=this.W())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:1},g.prototype.setWidth=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("W"),x)},g.fromDict=function(d){return new g(d)},g}(),PDFAnnotation$1=function(){function g(d){this.dict=d}return g.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},g.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},g.prototype.F=function(){var d=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(d,PDFNumber)},g.prototype.getRectangle=function(){var d,x=this.Rect();return(d=x?.asRectangle())!==null&&d!==void 0?d:{x:0,y:0,width:0,height:0}},g.prototype.setRectangle=function(d){var x=d.x,b=d.y,w=d.width,S=d.height,C=this.dict.context.obj([x,b,x+w,b+S]);this.dict.set(PDFName.of("Rect"),C)},g.prototype.getAppearanceState=function(){var d=this.dict.lookup(PDFName.of("AS"));if(d instanceof PDFName)return d},g.prototype.setAppearanceState=function(d){this.dict.set(PDFName.of("AS"),d)},g.prototype.setAppearances=function(d){this.dict.set(PDFName.of("AP"),d)},g.prototype.ensureAP=function(){var d=this.AP();return d||(d=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),d)),d},g.prototype.getNormalAppearance=function(){var d=this.ensureAP(),x=d.get(PDFName.of("N"));if(x instanceof PDFRef||x instanceof PDFDict)return x;throw new Error("Unexpected N type: "+x?.constructor.name)},g.prototype.setNormalAppearance=function(d){var x=this.ensureAP();x.set(PDFName.of("N"),d)},g.prototype.setRolloverAppearance=function(d){var x=this.ensureAP();x.set(PDFName.of("R"),d)},g.prototype.setDownAppearance=function(d){var x=this.ensureAP();x.set(PDFName.of("D"),d)},g.prototype.removeRolloverAppearance=function(){var d=this.AP();d?.delete(PDFName.of("R"))},g.prototype.removeDownAppearance=function(){var d=this.AP();d?.delete(PDFName.of("D"))},g.prototype.getAppearances=function(){var d=this.AP();if(d){var x=d.lookup(PDFName.of("N"),PDFDict,PDFStream),b=d.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),w=d.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:x,rollover:b,down:w}}},g.prototype.getFlags=function(){var d,x;return(x=(d=this.F())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:0},g.prototype.setFlags=function(d){this.dict.set(PDFName.of("F"),PDFNumber.of(d))},g.prototype.hasFlag=function(d){var x=this.getFlags();return(x&d)!==0},g.prototype.setFlag=function(d){var x=this.getFlags();this.setFlags(x|d)},g.prototype.clearFlag=function(d){var x=this.getFlags();this.setFlags(x&~d)},g.prototype.setFlagTo=function(d,x){x?this.setFlag(d):this.clearFlag(d)},g.fromDict=function(d){return new g(d)},g}(),AppearanceCharacteristics=function(){function g(d){this.dict=d}return g.prototype.R=function(){var d=this.dict.lookup(PDFName.of("R"));if(d instanceof PDFNumber)return d},g.prototype.BC=function(){var d=this.dict.lookup(PDFName.of("BC"));if(d instanceof PDFArray)return d},g.prototype.BG=function(){var d=this.dict.lookup(PDFName.of("BG"));if(d instanceof PDFArray)return d},g.prototype.CA=function(){var d=this.dict.lookup(PDFName.of("CA"));if(d instanceof PDFHexString||d instanceof PDFString)return d},g.prototype.RC=function(){var d=this.dict.lookup(PDFName.of("RC"));if(d instanceof PDFHexString||d instanceof PDFString)return d},g.prototype.AC=function(){var d=this.dict.lookup(PDFName.of("AC"));if(d instanceof PDFHexString||d instanceof PDFString)return d},g.prototype.getRotation=function(){var d;return(d=this.R())===null||d===void 0?void 0:d.asNumber()},g.prototype.getBorderColor=function(){var d=this.BC();if(d){for(var x=[],b=0,w=d?.size();b<w;b++){var S=d.get(b);S instanceof PDFNumber&&x.push(S.asNumber())}return x}},g.prototype.getBackgroundColor=function(){var d=this.BG();if(d){for(var x=[],b=0,w=d?.size();b<w;b++){var S=d.get(b);S instanceof PDFNumber&&x.push(S.asNumber())}return x}},g.prototype.getCaptions=function(){var d=this.CA(),x=this.RC(),b=this.AC();return{normal:d?.decodeText(),rollover:x?.decodeText(),down:b?.decodeText()}},g.prototype.setRotation=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("R"),x)},g.prototype.setBorderColor=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("BC"),x)},g.prototype.setBackgroundColor=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("BG"),x)},g.prototype.setCaptions=function(d){var x=PDFHexString.fromText(d.normal);if(this.dict.set(PDFName.of("CA"),x),d.rollover){var b=PDFHexString.fromText(d.rollover);this.dict.set(PDFName.of("RC"),b)}else this.dict.delete(PDFName.of("RC"));if(d.down){var w=PDFHexString.fromText(d.down);this.dict.set(PDFName.of("AC"),w)}else this.dict.delete(PDFName.of("AC"))},g.fromDict=function(d){return new g(d)},g}(),PDFWidgetAnnotation=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.MK=function(){var x=this.dict.lookup(PDFName.of("MK"));if(x instanceof PDFDict)return x},d.prototype.BS=function(){var x=this.dict.lookup(PDFName.of("BS"));if(x instanceof PDFDict)return x},d.prototype.DA=function(){var x=this.dict.lookup(PDFName.of("DA"));if(x instanceof PDFString||x instanceof PDFHexString)return x},d.prototype.P=function(){var x=this.dict.get(PDFName.of("P"));if(x instanceof PDFRef)return x},d.prototype.setP=function(x){this.dict.set(PDFName.of("P"),x)},d.prototype.setDefaultAppearance=function(x){this.dict.set(PDFName.of("DA"),PDFString.of(x))},d.prototype.getDefaultAppearance=function(){var x=this.DA();return x instanceof PDFHexString?x.decodeText():x?.asString()},d.prototype.getAppearanceCharacteristics=function(){var x=this.MK();if(x)return AppearanceCharacteristics.fromDict(x)},d.prototype.getOrCreateAppearanceCharacteristics=function(){var x=this.MK();if(x)return AppearanceCharacteristics.fromDict(x);var b=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),b.dict),b},d.prototype.getBorderStyle=function(){var x=this.BS();if(x)return BorderStyle.fromDict(x)},d.prototype.getOrCreateBorderStyle=function(){var x=this.BS();if(x)return BorderStyle.fromDict(x);var b=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),b.dict),b},d.prototype.getOnValue=function(){var x,b=(x=this.getAppearances())===null||x===void 0?void 0:x.normal;if(b instanceof PDFDict)for(var w=b.keys(),S=0,C=w.length;S<C;S++){var F=w[S];if(F!==PDFName.of("Off"))return F}},d.fromDict=function(x){return new d(x)},d.create=function(x,b){var w=x.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:b});return new d(w)},d}(PDFAnnotation$1),PDFAcroTerminal=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.FT=function(){var x=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(x,PDFName)},d.prototype.getWidgets=function(){var x=this.Kids();if(!x)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var b=new Array(x.size()),w=0,S=x.size();w<S;w++){var C=x.lookup(w,PDFDict);b[w]=PDFWidgetAnnotation.fromDict(C)}return b},d.prototype.addWidget=function(x){var b=this.normalizedEntries().Kids;b.push(x)},d.prototype.removeWidget=function(x){var b=this.Kids();if(b){if(x<0||x>b.size())throw new IndexOutOfBoundsError(x,0,b.size());b.remove(x)}else{if(x!==0)throw new IndexOutOfBoundsError(x,0,0);this.setKids([])}},d.prototype.normalizedEntries=function(){var x=this.Kids();return x||(x=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),x)),{Kids:x}},d.fromDict=function(x,b){return new d(x,b)},d}(PDFAcroField),PDFAcroButton=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},d.prototype.setOpt=function(x){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(x))},d.prototype.getExportValues=function(){var x=this.Opt();if(x){if(x instanceof PDFString||x instanceof PDFHexString)return[x];for(var b=[],w=0,S=x.size();w<S;w++){var C=x.lookup(w);(C instanceof PDFString||C instanceof PDFHexString)&&b.push(C)}return b}},d.prototype.removeExportValue=function(x){var b=this.Opt();if(b)if(b instanceof PDFString||b instanceof PDFHexString){if(x!==0)throw new IndexOutOfBoundsError(x,0,0);this.setOpt([])}else{if(x<0||x>b.size())throw new IndexOutOfBoundsError(x,0,b.size());b.remove(x)}},d.prototype.normalizeExportValues=function(){for(var x,b,w,S,C=(x=this.getExportValues())!==null&&x!==void 0?x:[],F=[],E=this.getWidgets(),k=0,D=E.length;k<D;k++){var M=E[k],L=(b=C[k])!==null&&b!==void 0?b:PDFHexString.fromText((S=(w=M.getOnValue())===null||w===void 0?void 0:w.decodeText())!==null&&S!==void 0?S:"");F.push(L)}this.setOpt(F)},d.prototype.addOpt=function(x,b){var w;this.normalizeExportValues();var S=x.decodeText(),C;if(b)for(var F=(w=this.getExportValues())!==null&&w!==void 0?w:[],E=0,k=F.length;E<k;E++){var D=F[E];D.decodeText()===S&&(C=E)}var M=this.Opt();return M.push(x),C??M.size()-1},d.prototype.addWidgetWithOpt=function(x,b,w){var S=this.addOpt(b,w),C=PDFName.of(String(S));return this.addWidget(x),C},d}(PDFAcroTerminal),PDFAcroCheckBox=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.setValue=function(x){var b,w=(b=this.getOnValue())!==null&&b!==void 0?b:PDFName.of("Yes");if(x!==w&&x!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),x);for(var S=this.getWidgets(),C=0,F=S.length;C<F;C++){var E=S[C],k=E.getOnValue()===x?x:PDFName.of("Off");E.setAppearanceState(k)}},d.prototype.getValue=function(){var x=this.V();return x instanceof PDFName?x:PDFName.of("Off")},d.prototype.getOnValue=function(){var x=this.getWidgets()[0];return x?.getOnValue()},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Btn",Kids:[]}),w=x.register(b);return new d(b,w)},d}(PDFAcroButton),flag$1=function(g){return 1<<g},AcroFieldFlags;(function(g){g[g.ReadOnly=flag$1(0)]="ReadOnly",g[g.Required=flag$1(1)]="Required",g[g.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(g){g[g.NoToggleToOff=flag$1(14)]="NoToggleToOff",g[g.Radio=flag$1(15)]="Radio",g[g.PushButton=flag$1(16)]="PushButton",g[g.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(g){g[g.Multiline=flag$1(12)]="Multiline",g[g.Password=flag$1(13)]="Password",g[g.FileSelect=flag$1(20)]="FileSelect",g[g.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",g[g.DoNotScroll=flag$1(23)]="DoNotScroll",g[g.Comb=flag$1(24)]="Comb",g[g.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(g){g[g.Combo=flag$1(17)]="Combo",g[g.Edit=flag$1(18)]="Edit",g[g.Sort=flag$1(19)]="Sort",g[g.MultiSelect=flag$1(21)]="MultiSelect",g[g.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",g[g.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.setValues=function(x){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(x))throw new InvalidAcroFieldValueError;if(x.length===0&&this.dict.delete(PDFName.of("V")),x.length===1&&this.dict.set(PDFName.of("V"),x[0]),x.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(x))}this.updateSelectedIndices(x)},d.prototype.valuesAreValid=function(x){for(var b=this.getOptions(),w=function(E,k){var D=x[E].decodeText();if(!b.find(function(M){return D===(M.display||M.value).decodeText()}))return{value:!1}},S=0,C=x.length;S<C;S++){var F=w(S);if(typeof F=="object")return F.value}return!0},d.prototype.updateSelectedIndices=function(x){if(x.length>1){for(var b=new Array(x.length),w=this.getOptions(),S=function(E,k){var D=x[E].decodeText();b[E]=w.findIndex(function(M){return D===(M.display||M.value).decodeText()})},C=0,F=x.length;C<F;C++)S(C,F);this.dict.set(PDFName.of("I"),this.dict.context.obj(b.sort()))}else this.dict.delete(PDFName.of("I"))},d.prototype.getValues=function(){var x=this.V();if(x instanceof PDFString||x instanceof PDFHexString)return[x];if(x instanceof PDFArray){for(var b=[],w=0,S=x.size();w<S;w++){var C=x.lookup(w);(C instanceof PDFString||C instanceof PDFHexString)&&b.push(C)}return b}return[]},d.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},d.prototype.setOptions=function(x){for(var b=new Array(x.length),w=0,S=x.length;w<S;w++){var C=x[w],F=C.value,E=C.display;b[w]=this.dict.context.obj([F,E||F])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(b))},d.prototype.getOptions=function(){var x=this.Opt();if(x instanceof PDFString||x instanceof PDFHexString)return[{value:x,display:x}];if(x instanceof PDFArray){for(var b=[],w=0,S=x.size();w<S;w++){var C=x.lookup(w);if((C instanceof PDFString||C instanceof PDFHexString)&&b.push({value:C,display:C}),C instanceof PDFArray&&C.size()>0){var F=C.lookup(0,PDFString,PDFHexString),E=C.lookupMaybe(1,PDFString,PDFHexString);b.push({value:F,display:E||F})}}return b}return[]},d}(PDFAcroTerminal),PDFAcroComboBox=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),w=x.register(b);return new d(b,w)},d}(PDFAcroChoice),PDFAcroNonTerminal=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.addField=function(x){var b=this.normalizedEntries().Kids;b?.push(x)},d.prototype.normalizedEntries=function(){var x=this.Kids();return x||(x=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),x)),{Kids:x}},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({}),w=x.register(b);return new d(b,w)},d}(PDFAcroField),PDFAcroSignature=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d}(PDFAcroTerminal),PDFAcroText=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.MaxLen=function(){var x=this.dict.lookup(PDFName.of("MaxLen"));if(x instanceof PDFNumber)return x},d.prototype.Q=function(){var x=this.dict.lookup(PDFName.of("Q"));if(x instanceof PDFNumber)return x},d.prototype.setMaxLength=function(x){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(x))},d.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},d.prototype.getMaxLength=function(){var x;return(x=this.MaxLen())===null||x===void 0?void 0:x.asNumber()},d.prototype.setQuadding=function(x){this.dict.set(PDFName.of("Q"),PDFNumber.of(x))},d.prototype.getQuadding=function(){var x;return(x=this.Q())===null||x===void 0?void 0:x.asNumber()},d.prototype.setValue=function(x){this.dict.set(PDFName.of("V"),x)},d.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},d.prototype.getValue=function(){var x=this.V();if(x instanceof PDFString||x instanceof PDFHexString)return x},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Tx",Kids:[]}),w=x.register(b);return new d(b,w)},d}(PDFAcroTerminal),PDFAcroPushButton=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),w=x.register(b);return new d(b,w)},d}(PDFAcroButton),PDFAcroRadioButton=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.setValue=function(x){var b=this.getOnValues();if(!b.includes(x)&&x!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),x);for(var w=this.getWidgets(),S=0,C=w.length;S<C;S++){var F=w[S],E=F.getOnValue()===x?x:PDFName.of("Off");F.setAppearanceState(E)}},d.prototype.getValue=function(){var x=this.V();return x instanceof PDFName?x:PDFName.of("Off")},d.prototype.getOnValues=function(){for(var x=this.getWidgets(),b=[],w=0,S=x.length;w<S;w++){var C=x[w].getOnValue();C&&b.push(C)}return b},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),w=x.register(b);return new d(b,w)},d}(PDFAcroButton),PDFAcroListBox=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Ch",Kids:[]}),w=x.register(b);return new d(b,w)},d}(PDFAcroChoice),createPDFAcroFields=function(g){if(!g)return[];for(var d=[],x=0,b=g.size();x<b;x++){var w=g.get(x),S=g.lookup(x);w instanceof PDFRef&&S instanceof PDFDict&&d.push([createPDFAcroField(S,w),w])}return d},createPDFAcroField=function(g,d){var x=isNonTerminalAcroField(g);return x?PDFAcroNonTerminal.fromDict(g,d):createPDFAcroTerminal(g,d)},isNonTerminalAcroField=function(g){var d=g.lookup(PDFName.of("Kids"));if(d instanceof PDFArray)for(var x=0,b=d.size();x<b;x++){var w=d.lookup(x),S=w instanceof PDFDict&&w.has(PDFName.of("T"));if(S)return!0}return!1},createPDFAcroTerminal=function(g,d){var x=getInheritableAttribute(g,PDFName.of("FT")),b=g.context.lookup(x,PDFName);return b===PDFName.of("Btn")?createPDFAcroButton(g,d):b===PDFName.of("Ch")?createPDFAcroChoice(g,d):b===PDFName.of("Tx")?PDFAcroText.fromDict(g,d):b===PDFName.of("Sig")?PDFAcroSignature.fromDict(g,d):PDFAcroTerminal.fromDict(g,d)},createPDFAcroButton=function(g,d){var x,b=getInheritableAttribute(g,PDFName.of("Ff")),w=g.context.lookupMaybe(b,PDFNumber),S=(x=w?.asNumber())!==null&&x!==void 0?x:0;return flagIsSet(S,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(g,d):flagIsSet(S,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(g,d):PDFAcroCheckBox.fromDict(g,d)},createPDFAcroChoice=function(g,d){var x,b=getInheritableAttribute(g,PDFName.of("Ff")),w=g.context.lookupMaybe(b,PDFNumber),S=(x=w?.asNumber())!==null&&x!==void 0?x:0;return flagIsSet(S,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(g,d):PDFAcroListBox.fromDict(g,d)},flagIsSet=function(g,d){return(g&d)!==0},getInheritableAttribute=function(g,d){var x;return ascend(g,function(b){x||(x=b.get(d))}),x},ascend=function(g,d){d(g);var x=g.lookupMaybe(PDFName.of("Parent"),PDFDict);x&&ascend(x,d)},PDFAcroForm=function(){function g(d){this.dict=d}return g.prototype.Fields=function(){var d=this.dict.lookup(PDFName.of("Fields"));if(d instanceof PDFArray)return d},g.prototype.getFields=function(){for(var d=this.normalizedEntries().Fields,x=new Array(d.size()),b=0,w=d.size();b<w;b++){var S=d.get(b),C=d.lookup(b,PDFDict);x[b]=[createPDFAcroField(C,S),S]}return x},g.prototype.getAllFields=function(){var d=[],x=function(b){if(b)for(var w=0,S=b.length;w<S;w++){var C=b[w];d.push(C);var F=C[0];F instanceof PDFAcroNonTerminal&&x(createPDFAcroFields(F.Kids()))}};return x(this.getFields()),d},g.prototype.addField=function(d){var x=this.normalizedEntries().Fields;x?.push(d)},g.prototype.removeField=function(d){var x=d.getParent(),b=x===void 0?this.normalizedEntries().Fields:x.Kids(),w=b?.indexOf(d.ref);if(b===void 0||w===void 0)throw new Error("Tried to remove inexistent field "+d.getFullyQualifiedName());b.remove(w),x!==void 0&&b.size()===0&&this.removeField(x)},g.prototype.normalizedEntries=function(){var d=this.Fields();return d||(d=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),d)),{Fields:d}},g.fromDict=function(d){return new g(d)},g.create=function(d){var x=d.obj({Fields:[]});return new g(x)},g}(),PDFCatalog=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},d.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},d.prototype.getAcroForm=function(){var x=this.AcroForm();if(x)return PDFAcroForm.fromDict(x)},d.prototype.getOrCreateAcroForm=function(){var x=this.getAcroForm();if(!x){x=PDFAcroForm.create(this.context);var b=this.context.register(x.dict);this.set(PDFName.of("AcroForm"),b)}return x},d.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},d.prototype.getViewerPreferences=function(){var x=this.ViewerPreferences();if(x)return ViewerPreferences.fromDict(x)},d.prototype.getOrCreateViewerPreferences=function(){var x=this.getViewerPreferences();if(!x){x=ViewerPreferences.create(this.context);var b=this.context.register(x.dict);this.set(PDFName.of("ViewerPreferences"),b)}return x},d.prototype.insertLeafNode=function(x,b){var w=this.get(PDFName.of("Pages")),S=this.Pages().insertLeafNode(x,b);return S||w},d.prototype.removeLeafNode=function(x){this.Pages().removeLeafNode(x)},d.withContextAndPages=function(x,b){var w=new Map;return w.set(PDFName.of("Type"),PDFName.of("Catalog")),w.set(PDFName.of("Pages"),b),new d(w,x)},d.fromMapWithContext=function(x,b){return new d(x,b)},d}(PDFDict),PDFPageTree=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},d.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},d.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},d.prototype.pushTreeNode=function(x){var b=this.Kids();b.push(x)},d.prototype.pushLeafNode=function(x){var b=this.Kids();this.insertLeafKid(b.size(),x)},d.prototype.insertLeafNode=function(x,b){var w=this.Kids(),S=this.Count().asNumber();if(b>S)throw new InvalidTargetIndexError(b,S);for(var C=b,F=0,E=w.size();F<E;F++){if(C===0){this.insertLeafKid(F,x);return}var k=w.get(F),D=this.context.lookup(k);if(D instanceof d){if(D.Count().asNumber()>C)return D.insertLeafNode(x,C)||k;C-=D.Count().asNumber()}D instanceof PDFPageLeaf&&(C-=1)}if(C===0){this.insertLeafKid(w.size(),x);return}throw new CorruptPageTreeError(b,"insertLeafNode")},d.prototype.removeLeafNode=function(x,b){b===void 0&&(b=!0);var w=this.Kids(),S=this.Count().asNumber();if(x>=S)throw new InvalidTargetIndexError(x,S);for(var C=x,F=0,E=w.size();F<E;F++){var k=w.get(F),D=this.context.lookup(k);if(D instanceof d)if(D.Count().asNumber()>C){D.removeLeafNode(C,b),b&&D.Kids().size()===0&&w.remove(F);return}else C-=D.Count().asNumber();if(D instanceof PDFPageLeaf)if(C===0){this.removeKid(F);return}else C-=1}throw new CorruptPageTreeError(x,"removeLeafNode")},d.prototype.ascend=function(x){x(this);var b=this.Parent();b&&b.ascend(x)},d.prototype.traverse=function(x){for(var b=this.Kids(),w=0,S=b.size();w<S;w++){var C=b.get(w),F=this.context.lookup(C);F instanceof d&&F.traverse(x),x(F,C)}},d.prototype.insertLeafKid=function(x,b){var w=this.Kids();this.ascend(function(S){var C=S.Count().asNumber()+1;S.set(PDFName.of("Count"),PDFNumber.of(C))}),w.insert(x,b)},d.prototype.removeKid=function(x){var b=this.Kids(),w=b.lookup(x);w instanceof PDFPageLeaf&&this.ascend(function(S){var C=S.Count().asNumber()-1;S.set(PDFName.of("Count"),PDFNumber.of(C))}),b.remove(x)},d.withContext=function(x,b){var w=new Map;return w.set(PDFName.of("Type"),PDFName.of("Pages")),w.set(PDFName.of("Kids"),x.obj([])),w.set(PDFName.of("Count"),x.obj(0)),b&&w.set(PDFName.of("Parent"),b),new d(w,x)},d.fromMapWithContext=function(x,b){return new d(x,b)},d}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len$1=256;idx<len$1;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function g(d,x){x===void 0&&(x=!1),this.bytes=d,this.capNumbers=x}return g.prototype.parseRawInt=function(){for(var d="";!this.bytes.done();){var x=this.bytes.peek();if(!IsDigit[x])break;d+=charFromCode(this.bytes.next())}var b=Number(d);if(!d||!isFinite(b))throw new NumberParsingError(this.bytes.position(),d);return b},g.prototype.parseRawNumber=function(){for(var d="";!this.bytes.done();){var x=this.bytes.peek();if(!IsNumeric[x]||(d+=charFromCode(this.bytes.next()),x===CharCodes$1.Period))break}for(;!this.bytes.done();){var x=this.bytes.peek();if(!IsDigit[x])break;d+=charFromCode(this.bytes.next())}var b=Number(d);if(!d||!isFinite(b))throw new NumberParsingError(this.bytes.position(),d);if(b>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var w="Parsed number that is too large for some PDF readers: "+d+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(w),Number.MAX_SAFE_INTEGER}else{var w="Parsed number that is too large for some PDF readers: "+d+", not capping.";console.warn(w)}return b},g.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},g.prototype.skipLine=function(){for(;!this.bytes.done();){var d=this.bytes.peek();if(d===Newline$1||d===CarriageReturn$1)return;this.bytes.next()}},g.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var d=this.bytes.peek();if(d===Newline$1||d===CarriageReturn$1)return!0;this.bytes.next()}return!0},g.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},g.prototype.matchKeyword=function(d){for(var x=this.bytes.offset(),b=0,w=d.length;b<w;b++)if(this.bytes.done()||this.bytes.next()!==d[b])return this.bytes.moveTo(x),!1;return!0},g}(),ByteStream=function(){function g(d){this.idx=0,this.line=0,this.column=0,this.bytes=d,this.length=this.bytes.length}return g.prototype.moveTo=function(d){this.idx=d},g.prototype.next=function(){var d=this.bytes[this.idx++];return d===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,d},g.prototype.assertNext=function(d){if(this.peek()!==d)throw new NextByteAssertionError(this.position(),d,this.peek());return this.next()},g.prototype.peek=function(){return this.bytes[this.idx]},g.prototype.peekAhead=function(d){return this.bytes[this.idx+d]},g.prototype.peekAt=function(d){return this.bytes[d]},g.prototype.done=function(){return this.idx>=this.length},g.prototype.offset=function(){return this.idx},g.prototype.slice=function(d,x){return this.bytes.slice(d,x)},g.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},g.of=function(d){return new g(d)},g.fromPDFRawStream=function(d){return g.of(decodePDFRawStream(d).decode())},g}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(g){__extends(d,g);function d(x,b,w){w===void 0&&(w=!1);var S=g.call(this,x,w)||this;return S.context=b,S}return d.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var x=this.bytes.peek();if(x===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(x===CharCodes$1.LessThan)return this.parseHexString();if(x===CharCodes$1.LeftParen)return this.parseString();if(x===CharCodes$1.ForwardSlash)return this.parseName();if(x===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[x])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),x)},d.prototype.parseNumberOrRef=function(){var x=this.parseRawNumber();this.skipWhitespaceAndComments();var b=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var w=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(x,w)}return this.bytes.moveTo(b),PDFNumber.of(x)},d.prototype.parseHexString=function(){var x="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)x+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(x)},d.prototype.parseString=function(){for(var x=0,b=!1,w="";!this.bytes.done();){var S=this.bytes.next();if(w+=charFromCode(S),b||(S===CharCodes$1.LeftParen&&(x+=1),S===CharCodes$1.RightParen&&(x-=1)),S===CharCodes$1.BackSlash?b=!b:b&&(b=!1),x===0)return PDFString.of(w.substring(1,w.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},d.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var x="";!this.bytes.done();){var b=this.bytes.peek();if(IsWhitespace[b]||IsDelimiter[b])break;x+=charFromCode(b),this.bytes.next()}return PDFName.of(x)},d.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var x=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var b=this.parseObject();x.push(b),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),x},d.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var x=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var b=this.parseName(),w=this.parseObject();x.set(b,w),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var S=x.get(PDFName.of("Type"));return S===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(x,this.context):S===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(x,this.context):S===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(x,this.context):PDFDict.fromMapWithContext(x,this.context)},d.prototype.parseDictOrStream=function(){var x=this.bytes.position(),b=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return b;var w=this.bytes.offset(),S,C=b.get(PDFName.of("Length"));C instanceof PDFNumber?(S=w+C.asNumber(),this.bytes.moveTo(S),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(w),S=this.findEndOfStreamFallback(x))):S=this.findEndOfStreamFallback(x);var F=this.bytes.slice(w,S);return PDFRawStream.of(b,F)},d.prototype.findEndOfStreamFallback=function(x){for(var b=1,w=this.bytes.offset();!this.bytes.done()&&(w=this.bytes.offset(),this.matchKeyword(Keywords.stream)?b+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?b-=1:this.bytes.next(),b!==0););if(b!==0)throw new PDFStreamParsingError(x);return w},d.forBytes=function(x,b,w){return new d(ByteStream.of(x),b,w)},d.forByteStream=function(x,b,w){return w===void 0&&(w=!1),new d(x,b,w)},d}(BaseParser),PDFObjectStreamParser=function(g){__extends(d,g);function d(x,b){var w=g.call(this,ByteStream.fromPDFRawStream(x),x.dict.context)||this,S=x.dict;return w.alreadyParsed=!1,w.shouldWaitForTick=b||function(){return!1},w.firstOffset=S.lookup(PDFName.of("First"),PDFNumber).asNumber(),w.objectCount=S.lookup(PDFName.of("N"),PDFNumber).asNumber(),w}return d.prototype.parseIntoContext=function(){return __awaiter(this,void 0,void 0,function(){var x,b,w,S,C,F,E,k;return __generator(this,function(D){switch(D.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,x=this.parseOffsetsAndObjectNumbers(),b=0,w=x.length,D.label=1;case 1:return b<w?(S=x[b],C=S.objectNumber,F=S.offset,this.bytes.moveTo(this.firstOffset+F),E=this.parseObject(),k=PDFRef.of(C,0),this.context.assign(k,E),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:D.sent(),D.label=3;case 3:return b++,[3,1];case 4:return[2]}})})},d.prototype.parseOffsetsAndObjectNumbers=function(){for(var x=[],b=0,w=this.objectCount;b<w;b++){this.skipWhitespaceAndComments();var S=this.parseRawInt();this.skipWhitespaceAndComments();var C=this.parseRawInt();x.push({objectNumber:S,offset:C})}return x},d.forStream=function(x,b){return new d(x,b)},d}(PDFObjectParser),PDFXRefStreamParser=function(){function g(d){this.alreadyParsed=!1,this.dict=d.dict,this.bytes=ByteStream.fromPDFRawStream(d),this.context=this.dict.context,this.context.pdfFileDetails.useObjectStreams=!0;var x=this.dict.lookup(PDFName.of("Size"),PDFNumber),b=this.dict.lookup(PDFName.of("Index"));if(b instanceof PDFArray){this.subsections=[];for(var w=0,S=b.size();w<S;w+=2){var C=b.lookup(w+0,PDFNumber).asNumber(),F=b.lookup(w+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:C,length:F})}}else this.subsections=[{firstObjectNumber:0,length:x.asNumber()}];var E=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var w=0,S=E.size();w<S;w++)this.byteWidths[w]=E.lookup(w,PDFNumber).asNumber()}return g.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var d=this.parseEntries();return d},g.prototype.parseEntries=function(){for(var d=[],x=this.byteWidths,b=x[0],w=x[1],S=x[2],C=0,F=this.subsections.length;C<F;C++)for(var E=this.subsections[C],k=E.firstObjectNumber,D=E.length,M=0;M<D;M++){for(var L=0,R=0,U=b;R<U;R++)L=L<<8|this.bytes.next();for(var j=0,R=0,U=w;R<U;R++)j=j<<8|this.bytes.next();for(var H=0,R=0,U=S;R<U;R++)H=H<<8|this.bytes.next();b===0&&(L=1);var z=k+M,V={ref:PDFRef.of(z,H),offset:j,deleted:L===0,inObjectStream:L===2};d.push(V)}return d},g.forStream=function(d){return new g(d)},g}(),PDFParser=function(g){__extends(d,g);function d(x,b,w,S){b===void 0&&(b=1/0),w===void 0&&(w=!1),S===void 0&&(S=!1);var C=g.call(this,ByteStream.of(x),PDFContext.create(),S)||this;return C.alreadyParsed=!1,C.parsedObjects=0,C.shouldWaitForTick=function(){return C.parsedObjects+=1,C.parsedObjects%C.objectsPerTick===0},C.objectsPerTick=b,C.throwOnInvalidObject=w,C.context.pdfFileDetails.pdfSize=x.length,C}return d.prototype.parseDocument=function(){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(w){switch(w.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),w.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(w.sent(),b=this.bytes.offset(),b===x)throw new StalledParserError(this.bytes.position());return x=b,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},d.prototype.maybeRecoverRoot=function(){var x=function(D){return D instanceof PDFDict&&D.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},b=this.context.lookup(this.context.trailerInfo.Root);if(!x(b))for(var w=this.context.enumerateIndirectObjects(),S=0,C=w.length;S<C;S++){var F=w[S],E=F[0],k=F[1];x(k)&&(this.context.trailerInfo.Root=E)}},d.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var x=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var b=this.parseRawInt(),w=PDFHeader.forVersion(x,b);return this.skipBinaryHeaderComment(),w}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},d.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var x=this.parseRawInt();this.skipWhitespaceAndComments();var b=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(x,b)},d.prototype.matchIndirectObjectHeader=function(){var x=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(x),!1}},d.prototype.parseIndirectObject=function(){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(w){switch(w.label){case 0:return x=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),b=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),b instanceof PDFRawStream&&b.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(b,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return w.sent(),[3,3];case 2:b instanceof PDFRawStream&&b.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(b).parseIntoContext():this.context.assign(x,b),w.label=3;case 3:return[2,x]}})})},d.prototype.tryToParseInvalidIndirectObject=function(){var x=this.bytes.position(),b="Trying to parse invalid object: "+JSON.stringify(x)+")";if(this.throwOnInvalidObject)throw new Error(b);console.warn(b);var w=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+w),this.skipWhitespaceAndComments();for(var S=this.bytes.offset(),C=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(C=!1),!!C);)this.bytes.next();if(C)throw new PDFInvalidObjectParsingError(x);var F=this.bytes.offset()-Keywords.endobj.length,E=PDFInvalidObject.of(this.bytes.slice(S,F));return this.context.assign(w,E),w},d.prototype.parseIndirectObjects=function(){return __awaiter(this,void 0,void 0,function(){var x;return __generator(this,function(b){switch(b.label){case 0:this.skipWhitespaceAndComments(),b.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];x=this.bytes.offset(),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return b.sent(),[3,5];case 4:return b.sent(),this.bytes.moveTo(x),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:b.sent(),b.label=7;case 7:return[3,1];case 8:return[2]}})})},d.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var x=-1,b=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var w=this.parseRawInt();this.skipWhitespaceAndComments();var S=this.parseRawInt();this.skipWhitespaceAndComments();var C=this.bytes.peek();if(C===CharCodes$1.n||C===CharCodes$1.f){var F=PDFRef.of(x,S);this.bytes.next()===CharCodes$1.n?b.addEntry(F,w):b.addDeletedEntry(F,w),x+=1}else x=w;this.skipWhitespaceAndComments()}return b}},d.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var x=this.parseDict(),b=this.context;b.trailerInfo={Root:x.get(PDFName.of("Root"))||b.trailerInfo.Root,Encrypt:x.get(PDFName.of("Encrypt"))||b.trailerInfo.Encrypt,Info:x.get(PDFName.of("Info"))||b.trailerInfo.Info,ID:x.get(PDFName.of("ID"))||b.trailerInfo.ID}}},d.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var x=this.parseRawInt();return this.context.pdfFileDetails.prevStartXRef=x,this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(x)}},d.prototype.parseDocumentSection=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(x){switch(x.label){case 0:return[4,this.parseIndirectObjects()];case 1:return x.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},d.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var x=this.bytes.offset(),b=this.bytes.peek(),w=b>=CharCodes$1.Space&&b<=CharCodes$1.Tilde;if(w&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(x);break}this.bytes.next()}},d.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var x=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(x)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},d.forBytesWithOptions=function(x,b,w,S){return new d(x,b,w,S)},d}(PDFObjectParser),flag=function(g){return 1<<g},AnnotationFlags;(function(g){g[g.Invisible=flag(0)]="Invisible",g[g.Hidden=flag(1)]="Hidden",g[g.Print=flag(2)]="Print",g[g.NoZoom=flag(3)]="NoZoom",g[g.NoRotate=flag(4)]="NoRotate",g[g.NoView=flag(5)]="NoView",g[g.ReadOnly=flag(6)]="ReadOnly",g[g.Locked=flag(7)]="Locked",g[g.ToggleNoView=flag(8)]="ToggleNoView",g[g.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(g){return g instanceof PDFName?g:PDFName.of(g)},asPDFNumber=function(g){return g instanceof PDFNumber?g:PDFNumber.of(g)},asNumber=function(g){return g instanceof PDFNumber?g.asNumber():g},RotationTypes;(function(g){g.Degrees="degrees",g.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(g){return assertIs(g,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:g}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(g){return g*Math.PI/180},radiansToDegrees=function(g){return g*180/Math.PI},toRadians=function(g){return g.type===Radians?g.angle:g.type===Degrees?degreesToRadians(g.angle):error("Invalid rotation: "+JSON.stringify(g))},toDegrees=function(g){return g.type===Radians?radiansToDegrees(g.angle):g.type===Degrees?g.angle:error("Invalid rotation: "+JSON.stringify(g))},reduceRotation=function(g){g===void 0&&(g=0);var d=g/90%4;return d===0?0:d===1?90:d===2?180:d===3?270:0},adjustDimsForRotation=function(g,d){d===void 0&&(d=0);var x=reduceRotation(d);return x===90||x===270?{width:g.height,height:g.width}:{width:g.width,height:g.height}},rotateRectangle=function(g,d,x){d===void 0&&(d=0),x===void 0&&(x=0);var b=g.x,w=g.y,S=g.width,C=g.height,F=reduceRotation(x),E=d/2;return F===0?{x:b-E,y:w-E,width:S,height:C}:F===90?{x:b-C+E,y:w-E,width:C,height:S}:F===180?{x:b-S+E,y:w-C+E,width:S,height:C}:F===270?{x:b-E,y:w-S+E,width:C,height:S}:{x:b-E,y:w-E,width:S,height:C}},clip=function(){return PDFOperator.of(PDFOperatorNames$1.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(g,d,x,b,w,S){return PDFOperator.of(PDFOperatorNames$1.ConcatTransformationMatrix,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b),asPDFNumber(w),asPDFNumber(S)])},translate=function(g,d){return concatTransformationMatrix(1,0,0,1,g,d)},scale=function(g,d){return concatTransformationMatrix(g,0,0,d,0,0)},rotateRadians=function(g){return concatTransformationMatrix(cos(asNumber(g)),sin(asNumber(g)),-sin(asNumber(g)),cos(asNumber(g)),0,0)},rotateDegrees=function(g){return rotateRadians(degreesToRadians(asNumber(g)))},skewRadians=function(g,d){return concatTransformationMatrix(1,tan(asNumber(g)),tan(asNumber(d)),1,0,0)},setDashPattern=function(g,d){return PDFOperator.of(PDFOperatorNames$1.SetLineDashPattern,["["+g.map(asPDFNumber).join(" ")+"]",asPDFNumber(d)])},LineCapStyle;(function(g){g[g.Butt=0]="Butt",g[g.Round=1]="Round",g[g.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(g){return PDFOperator.of(PDFOperatorNames$1.SetLineCapStyle,[asPDFNumber(g)])},LineJoinStyle;(function(g){g[g.Miter=0]="Miter",g[g.Round=1]="Round",g[g.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(g){return PDFOperator.of(PDFOperatorNames$1.SetGraphicsStateParams,[asPDFName(g)])},pushGraphicsState=function(){return PDFOperator.of(PDFOperatorNames$1.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(PDFOperatorNames$1.PopGraphicsState)},setLineWidth=function(g){return PDFOperator.of(PDFOperatorNames$1.SetLineWidth,[asPDFNumber(g)])},appendBezierCurve=function(g,d,x,b,w,S){return PDFOperator.of(PDFOperatorNames$1.AppendBezierCurve,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b),asPDFNumber(w),asPDFNumber(S)])},appendQuadraticCurve=function(g,d,x,b){return PDFOperator.of(PDFOperatorNames$1.CurveToReplicateInitialPoint,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b)])},closePath=function(){return PDFOperator.of(PDFOperatorNames$1.ClosePath)},moveTo=function(g,d){return PDFOperator.of(PDFOperatorNames$1.MoveTo,[asPDFNumber(g),asPDFNumber(d)])},lineTo=function(g,d){return PDFOperator.of(PDFOperatorNames$1.LineTo,[asPDFNumber(g),asPDFNumber(d)])},stroke=function(){return PDFOperator.of(PDFOperatorNames$1.StrokePath)},fill=function(){return PDFOperator.of(PDFOperatorNames$1.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(PDFOperatorNames$1.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(PDFOperatorNames$1.EndPath)},nextLine=function(){return PDFOperator.of(PDFOperatorNames$1.NextLine)},showText=function(g){return PDFOperator.of(PDFOperatorNames$1.ShowText,[g])},beginText=function(){return PDFOperator.of(PDFOperatorNames$1.BeginText)},endText=function(){return PDFOperator.of(PDFOperatorNames$1.EndText)},setFontAndSize=function(g,d){return PDFOperator.of(PDFOperatorNames$1.SetFontAndSize,[asPDFName(g),asPDFNumber(d)])},setLineHeight=function(g){return PDFOperator.of(PDFOperatorNames$1.SetTextLineHeight,[asPDFNumber(g)])},TextRenderingMode;(function(g){g[g.Fill=0]="Fill",g[g.Outline=1]="Outline",g[g.FillAndOutline=2]="FillAndOutline",g[g.Invisible=3]="Invisible",g[g.FillAndClip=4]="FillAndClip",g[g.OutlineAndClip=5]="OutlineAndClip",g[g.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",g[g.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(g,d,x,b,w,S){return PDFOperator.of(PDFOperatorNames$1.SetTextMatrix,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b),asPDFNumber(w),asPDFNumber(S)])},rotateAndSkewTextRadiansAndTranslate=function(g,d,x,b,w){return setTextMatrix(cos(asNumber(g)),sin(asNumber(g))+tan(asNumber(d)),-sin(asNumber(g))+tan(asNumber(x)),cos(asNumber(g)),b,w)},drawObject=function(g){return PDFOperator.of(PDFOperatorNames$1.DrawObject,[asPDFName(g)])},setFillingGrayscaleColor=function(g){return PDFOperator.of(PDFOperatorNames$1.NonStrokingColorGray,[asPDFNumber(g)])},setStrokingGrayscaleColor=function(g){return PDFOperator.of(PDFOperatorNames$1.StrokingColorGray,[asPDFNumber(g)])},setFillingRgbColor=function(g,d,x){return PDFOperator.of(PDFOperatorNames$1.NonStrokingColorRgb,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x)])},setStrokingRgbColor=function(g,d,x){return PDFOperator.of(PDFOperatorNames$1.StrokingColorRgb,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x)])},setFillingCmykColor=function(g,d,x,b){return PDFOperator.of(PDFOperatorNames$1.NonStrokingColorCmyk,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b)])},setStrokingCmykColor=function(g,d,x,b){return PDFOperator.of(PDFOperatorNames$1.StrokingColorCmyk,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b)])},beginMarkedContent=function(g){return PDFOperator.of(PDFOperatorNames$1.BeginMarkedContent,[asPDFName(g)])},endMarkedContent=function(){return PDFOperator.of(PDFOperatorNames$1.EndMarkedContent)},ColorTypes;(function(g){g.Grayscale="Grayscale",g.RGB="RGB",g.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(g){return assertRange(g,"gray",0,1),{type:ColorTypes.Grayscale,gray:g}},rgb=function(g,d,x){return assertRange(g,"red",0,1),assertRange(d,"green",0,1),assertRange(x,"blue",0,1),{type:ColorTypes.RGB,red:g,green:d,blue:x}},cmyk=function(g,d,x,b){return assertRange(g,"cyan",0,1),assertRange(d,"magenta",0,1),assertRange(x,"yellow",0,1),assertRange(b,"key",0,1),{type:ColorTypes.CMYK,cyan:g,magenta:d,yellow:x,key:b}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(g){return g.type===Grayscale?setFillingGrayscaleColor(g.gray):g.type===RGB?setFillingRgbColor(g.red,g.green,g.blue):g.type===CMYK?setFillingCmykColor(g.cyan,g.magenta,g.yellow,g.key):error("Invalid color: "+JSON.stringify(g))},setStrokingColor=function(g){return g.type===Grayscale?setStrokingGrayscaleColor(g.gray):g.type===RGB?setStrokingRgbColor(g.red,g.green,g.blue):g.type===CMYK?setStrokingCmykColor(g.cyan,g.magenta,g.yellow,g.key):error("Invalid color: "+JSON.stringify(g))},componentsToColor=function(g,d){return d===void 0&&(d=1),g?.length===1?grayscale(g[0]*d):g?.length===3?rgb(g[0]*d,g[1]*d,g[2]*d):g?.length===4?cmyk(g[0]*d,g[1]*d,g[2]*d,g[3]*d):void 0},colorToComponents=function(g){return g.type===Grayscale?[g.gray]:g.type===RGB?[g.red,g.green,g.blue]:g.type===CMYK?[g.cyan,g.magenta,g.yellow,g.key]:error("Invalid color: "+JSON.stringify(g))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(g){for(var d,x=[],b=[],w="",S=!1,C=0,F=0,E=g;F<E.length;F++){var k=E[F];if(parameters.has(k))C=parameters.get(k),d&&(w.length>0&&(b[b.length]=+w),x[x.length]={cmd:d,args:b},b=[],w="",S=!1),d=k;else if([" ",","].includes(k)||k==="-"&&w.length>0&&w[w.length-1]!=="e"||k==="."&&S){if(w.length===0)continue;b.length===C?(x[x.length]={cmd:d,args:b},b=[+w],d==="M"&&(d="L"),d==="m"&&(d="l")):b[b.length]=+w,S=k===".",w=["-","."].includes(k)?k:""}else w+=k,k==="."&&(S=!0)}return w.length>0&&(b.length===C?(x[x.length]={cmd:d,args:b},b=[+w],d==="M"&&(d="L"),d==="m"&&(d="l")):b[b.length]=+w),x[x.length]={cmd:d,args:b},x},apply=function(g){cx=cy=px=py=sx=sy=0;for(var d=[],x=0;x<g.length;x++){var b=g[x];if(b.cmd&&typeof runners[b.cmd]=="function"){var w=runners[b.cmd](b.args);Array.isArray(w)?d=d.concat(w):d.push(w)}}return d},runners={M:function(g){return cx=g[0],cy=g[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(g){return cx+=g[0],cy+=g[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(g){return cx=g[4],cy=g[5],px=g[2],py=g[3],appendBezierCurve(g[0],g[1],g[2],g[3],g[4],g[5])},c:function(g){var d=appendBezierCurve(g[0]+cx,g[1]+cy,g[2]+cx,g[3]+cy,g[4]+cx,g[5]+cy);return px=cx+g[2],py=cy+g[3],cx+=g[4],cy+=g[5],d},S:function(g){(px===null||py===null)&&(px=cx,py=cy);var d=appendBezierCurve(cx-(px-cx),cy-(py-cy),g[0],g[1],g[2],g[3]);return px=g[0],py=g[1],cx=g[2],cy=g[3],d},s:function(g){(px===null||py===null)&&(px=cx,py=cy);var d=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+g[0],cy+g[1],cx+g[2],cy+g[3]);return px=cx+g[0],py=cy+g[1],cx+=g[2],cy+=g[3],d},Q:function(g){return px=g[0],py=g[1],cx=g[2],cy=g[3],appendQuadraticCurve(g[0],g[1],cx,cy)},q:function(g){var d=appendQuadraticCurve(g[0]+cx,g[1]+cy,g[2]+cx,g[3]+cy);return px=cx+g[0],py=cy+g[1],cx+=g[2],cy+=g[3],d},T:function(g){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var d=appendQuadraticCurve(px,py,g[0],g[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=g[0],cy=g[1],d},t:function(g){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var d=appendQuadraticCurve(px,py,cx+g[0],cy+g[1]);return cx+=g[0],cy+=g[1],d},A:function(g){var d=solveArc(cx,cy,g);return cx=g[5],cy=g[6],d},a:function(g){g[5]+=cx,g[6]+=cy;var d=solveArc(cx,cy,g);return cx=g[5],cy=g[6],d},L:function(g){return cx=g[0],cy=g[1],px=py=null,lineTo(cx,cy)},l:function(g){return cx+=g[0],cy+=g[1],px=py=null,lineTo(cx,cy)},H:function(g){return cx=g[0],px=py=null,lineTo(cx,cy)},h:function(g){return cx+=g[0],px=py=null,lineTo(cx,cy)},V:function(g){return cy=g[0],px=py=null,lineTo(cx,cy)},v:function(g){return cy+=g[0],px=py=null,lineTo(cx,cy)},Z:function(){var g=closePath();return cx=sx,cy=sy,g},z:function(){var g=closePath();return cx=sx,cy=sy,g}},solveArc=function(g,d,x){for(var b=x[0],w=x[1],S=x[2],C=x[3],F=x[4],E=x[5],k=x[6],D=arcToSegments(E,k,b,w,C,F,S,g,d),M=[],L=0,R=D;L<R.length;L++){var U=R[L],j=segmentToBezier.apply(void 0,U);M.push(appendBezierCurve.apply(void 0,j))}return M},arcToSegments=function(g,d,x,b,w,S,C,F,E){var k=C*(Math.PI/180),D=Math.sin(k),M=Math.cos(k);x=Math.abs(x),b=Math.abs(b),px=M*(F-g)*.5+D*(E-d)*.5,py=M*(E-d)*.5-D*(F-g)*.5;var L=px*px/(x*x)+py*py/(b*b);L>1&&(L=Math.sqrt(L),x*=L,b*=L);var R=M/x,U=D/x,j=-D/b,H=M/b,z=R*F+U*E,V=j*F+H*E,G=R*g+U*d,$=j*g+H*d,K=(G-z)*(G-z)+($-V)*($-V),Z=1/K-.25;Z<0&&(Z=0);var Q=Math.sqrt(Z);S===w&&(Q=-Q);var ne=.5*(z+G)-Q*($-V),le=.5*(V+$)+Q*(G-z),fe=Math.atan2(V-le,z-ne),be=Math.atan2($-le,G-ne),me=be-fe;me<0&&S===1?me+=2*Math.PI:me>0&&S===0&&(me-=2*Math.PI);for(var we=Math.ceil(Math.abs(me/(Math.PI*.5+.001))),oe=[],ge=0;ge<we;ge++){var Ae=fe+ge*me/we,Ce=fe+(ge+1)*me/we;oe[ge]=[ne,le,Ae,Ce,x,b,D,M]}return oe},segmentToBezier=function(g,d,x,b,w,S,C,F){var E=F*w,k=-C*S,D=C*w,M=F*S,L=.5*(b-x),R=8/3*Math.sin(L*.5)*Math.sin(L*.5)/Math.sin(L),U=g+Math.cos(x)-R*Math.sin(x),j=d+Math.sin(x)+R*Math.cos(x),H=g+Math.cos(b),z=d+Math.sin(b),V=H+R*Math.sin(b),G=z-R*Math.cos(b),$=[E*U+k*j,D*U+M*j,E*V+k*G,D*V+M*G,E*H+k*z,D*H+M*z];return $},svgPathToOperators=function(g){return apply(parse(g))},drawLinesOfText=function(g,d){for(var x=[pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),beginText(),setFillingColor(d.color),setFontAndSize(d.font,d.size),setLineHeight(d.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(d.rotate),toRadians(d.xSkew),toRadians(d.ySkew),d.x,d.y)].filter(Boolean),b=0,w=g.length;b<w;b++)x.push(showText(g[b]),nextLine());return x.push(endText(),popGraphicsState()),x},drawImage=function(g,d){return[pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),translate(d.x,d.y),rotateRadians(toRadians(d.rotate)),scale(d.width,d.height),skewRadians(toRadians(d.xSkew),toRadians(d.ySkew)),drawObject(g),popGraphicsState()].filter(Boolean)},drawPage=function(g,d){return[pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),translate(d.x,d.y),rotateRadians(toRadians(d.rotate)),scale(d.xScale,d.yScale),skewRadians(toRadians(d.xSkew),toRadians(d.ySkew)),drawObject(g),popGraphicsState()].filter(Boolean)},drawLine=function(g){var d,x;return[pushGraphicsState(),g.graphicsState&&setGraphicsState(g.graphicsState),g.color&&setStrokingColor(g.color),setLineWidth(g.thickness),setDashPattern((d=g.dashArray)!==null&&d!==void 0?d:[],(x=g.dashPhase)!==null&&x!==void 0?x:0),moveTo(g.start.x,g.start.y),g.lineCap&&setLineCap(g.lineCap),moveTo(g.start.x,g.start.y),lineTo(g.end.x,g.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(g){var d,x;return[pushGraphicsState(),g.graphicsState&&setGraphicsState(g.graphicsState),g.color&&setFillingColor(g.color),g.borderColor&&setStrokingColor(g.borderColor),setLineWidth(g.borderWidth),g.borderLineCap&&setLineCap(g.borderLineCap),setDashPattern((d=g.borderDashArray)!==null&&d!==void 0?d:[],(x=g.borderDashPhase)!==null&&x!==void 0?x:0),translate(g.x,g.y),rotateRadians(toRadians(g.rotate)),skewRadians(toRadians(g.xSkew),toRadians(g.ySkew)),moveTo(0,0),lineTo(0,g.height),lineTo(g.width,g.height),lineTo(g.width,0),closePath(),g.color&&g.borderWidth?fillAndStroke():g.color?fill():g.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.xScale),w=asNumber(g.yScale);d-=b,x-=w;var S=b*KAPPA,C=w*KAPPA,F=d+b*2,E=x+w*2,k=d+b,D=x+w;return[pushGraphicsState(),moveTo(d,D),appendBezierCurve(d,D-C,k-S,x,k,x),appendBezierCurve(k+S,x,F,D-C,F,D),appendBezierCurve(F,D+C,k+S,E,k,E),appendBezierCurve(k-S,E,d,D+C,d,D),popGraphicsState()]},drawEllipseCurves=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.xScale),w=asNumber(g.yScale),S=-b,C=-w,F=b*KAPPA,E=w*KAPPA,k=S+b*2,D=C+w*2,M=S+b,L=C+w;return[translate(d,x),rotateRadians(toRadians(g.rotate)),moveTo(S,L),appendBezierCurve(S,L-E,M-F,C,M,C),appendBezierCurve(M+F,C,k,L-E,k,L),appendBezierCurve(k,L+E,M+F,D,M,D),appendBezierCurve(M-F,D,S,L+E,S,L)]},drawEllipse=function(g){var d,x,b;return __spreadArrays([pushGraphicsState(),g.graphicsState&&setGraphicsState(g.graphicsState),g.color&&setFillingColor(g.color),g.borderColor&&setStrokingColor(g.borderColor),setLineWidth(g.borderWidth),g.borderLineCap&&setLineCap(g.borderLineCap),setDashPattern((d=g.borderDashArray)!==null&&d!==void 0?d:[],(x=g.borderDashPhase)!==null&&x!==void 0?x:0)],g.rotate===void 0?drawEllipsePath({x:g.x,y:g.y,xScale:g.xScale,yScale:g.yScale}):drawEllipseCurves({x:g.x,y:g.y,xScale:g.xScale,yScale:g.yScale,rotate:(b=g.rotate)!==null&&b!==void 0?b:degrees(0)}),[g.color&&g.borderWidth?fillAndStroke():g.color?fill():g.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(g,d){var x,b,w;return __spreadArrays([pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),translate(d.x,d.y),rotateRadians(toRadians((x=d.rotate)!==null&&x!==void 0?x:degrees(0))),d.scale?scale(d.scale,-d.scale):scale(1,-1),d.color&&setFillingColor(d.color),d.borderColor&&setStrokingColor(d.borderColor),d.borderWidth&&setLineWidth(d.borderWidth),d.borderLineCap&&setLineCap(d.borderLineCap),setDashPattern((b=d.borderDashArray)!==null&&b!==void 0?b:[],(w=d.borderDashPhase)!==null&&w!==void 0?w:0)],svgPathToOperators(g),[d.color&&d.borderWidth?fillAndStroke():d.color?fill():d.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(g){var d=asNumber(g.size),x=-1+.75,b=-1+.51,w=1-.525,S=1-.31,C=-1+.325,F=-((C-x)*(S-x))/(w-b)+b;return[pushGraphicsState(),g.color&&setStrokingColor(g.color),setLineWidth(g.thickness),translate(g.x,g.y),moveTo(C*d,F*d),lineTo(x*d,b*d),lineTo(S*d,w*d),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(g){return g.rotation===0?[translate(0,0),rotateDegrees(0)]:g.rotation===90?[translate(g.width,0),rotateDegrees(90)]:g.rotation===180?[translate(g.width,g.height),rotateDegrees(180)]:g.rotation===270?[translate(0,g.height),rotateDegrees(270)]:[]},drawCheckBox=function(g){var d=drawRectangle({x:g.x,y:g.y,width:g.width,height:g.height,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!g.filled)return d;var x=asNumber(g.width),b=asNumber(g.height),w=Math.min(x,b)/2,S=drawCheckMark({x:x/2,y:b/2,size:w,thickness:g.thickness,color:g.markColor});return __spreadArrays([pushGraphicsState()],d,S,[popGraphicsState()])},drawRadioButton=function(g){var d=asNumber(g.width),x=asNumber(g.height),b=Math.min(d,x)/2,w=drawEllipse({x:g.x,y:g.y,xScale:b,yScale:b,color:g.color,borderColor:g.borderColor,borderWidth:g.borderWidth});if(!g.filled)return w;var S=drawEllipse({x:g.x,y:g.y,xScale:b*.45,yScale:b*.45,color:g.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],w,S,[popGraphicsState()])},drawButton=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.width),w=asNumber(g.height),S=drawRectangle({x:d,y:x,width:b,height:w,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),C=drawTextLines(g.textLines,{color:g.textColor,font:g.font,size:g.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],S,C,[popGraphicsState()])},drawTextLines=function(g,d){for(var x=[beginText(),setFillingColor(d.color),setFontAndSize(d.font,d.size)],b=0,w=g.length;b<w;b++){var S=g[b],C=S.encoded,F=S.x,E=S.y;x.push(rotateAndSkewTextRadiansAndTranslate(toRadians(d.rotate),toRadians(d.xSkew),toRadians(d.ySkew),F,E),showText(C))}return x.push(endText()),x},drawTextField=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.width),w=asNumber(g.height),S=asNumber(g.borderWidth),C=asNumber(g.padding),F=d+S/2+C,E=x+S/2+C,k=b-(S/2+C)*2,D=w-(S/2+C)*2,M=[moveTo(F,E),lineTo(F,E+D),lineTo(F+k,E+D),lineTo(F+k,E),closePath(),clip(),endPath()],L=drawRectangle({x:d,y:x,width:b,height:w,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),R=drawTextLines(g.textLines,{color:g.textColor,font:g.font,size:g.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),U=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],R,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],L,M,U,[popGraphicsState()])},drawOptionList=function(g){for(var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.width),w=asNumber(g.height),S=asNumber(g.lineHeight),C=asNumber(g.borderWidth),F=asNumber(g.padding),E=d+C/2+F,k=x+C/2+F,D=b-(C/2+F)*2,M=w-(C/2+F)*2,L=[moveTo(E,k),lineTo(E,k+M),lineTo(E+D,k+M),lineTo(E+D,k),closePath(),clip(),endPath()],R=drawRectangle({x:d,y:x,width:b,height:w,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),U=[],j=0,H=g.selectedLines.length;j<H;j++){var z=g.textLines[g.selectedLines[j]];U.push.apply(U,drawRectangle({x:z.x-F,y:z.y-(S-z.height)/2,width:b-C,height:z.height+(S-z.height)/2,borderWidth:0,color:g.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var V=drawTextLines(g.textLines,{color:g.textColor,font:g.font,size:g.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),G=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],V,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],R,U,L,G,[popGraphicsState()])},EncryptedPDFError=function(g){__extends(d,g);function d(){var x=this,b="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return x=g.call(this,b)||this,x}return d}(Error),FontkitNotRegisteredError=function(g){__extends(d,g);function d(){var x=this,b="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return x=g.call(this,b)||this,x}return d}(Error),ForeignPageError=function(g){__extends(d,g);function d(){var x=this,b="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return x=g.call(this,b)||this,x}return d}(Error),RemovePageFromEmptyDocumentError=function(g){__extends(d,g);function d(){var x=this,b="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return x=g.call(this,b)||this,x}return d}(Error),NoSuchFieldError=function(g){__extends(d,g);function d(x){var b=this,w='PDFDocument has no form field with the name "'+x+'"';return b=g.call(this,w)||this,b}return d}(Error),UnexpectedFieldTypeError=function(g){__extends(d,g);function d(x,b,w){var S,C,F=this,E=b?.name,k=(C=(S=w?.constructor)===null||S===void 0?void 0:S.name)!==null&&C!==void 0?C:w,D='Expected field "'+x+'" to be of type '+E+", "+("but it is actually of type "+k);return F=g.call(this,D)||this,F}return d}(Error);(function(g){__extends(d,g);function d(x){var b=this,w='Failed to select check box due to missing onValue: "'+x+'"';return b=g.call(this,w)||this,b}return d})(Error);var FieldAlreadyExistsError=function(g){__extends(d,g);function d(x){var b=this,w='A field already exists with the specified name: "'+x+'"';return b=g.call(this,w)||this,b}return d}(Error),InvalidFieldNamePartError=function(g){__extends(d,g);function d(x){var b=this,w='Field name contains invalid component: "'+x+'"';return b=g.call(this,w)||this,b}return d}(Error);(function(g){__extends(d,g);function d(x){var b=this,w='A non-terminal field already exists with the specified name: "'+x+'"';return b=g.call(this,w)||this,b}return d})(Error);var RichTextFieldReadError=function(g){__extends(d,g);function d(x){var b=this,w="Reading rich text fields is not supported: Attempted to read rich text field: "+x;return b=g.call(this,w)||this,b}return d}(Error),CombedTextLayoutError=function(g){__extends(d,g);function d(x,b){var w=this,S="Failed to layout combed text as lineLength="+x+" is greater than cellCount="+b;return w=g.call(this,S)||this,w}return d}(Error),ExceededMaxLengthError=function(g){__extends(d,g);function d(x,b,w){var S=this,C="Attempted to set text with length="+x+" for TextField with maxLength="+b+" and name="+w;return S=g.call(this,C)||this,S}return d}(Error),InvalidMaxLengthError=function(g){__extends(d,g);function d(x,b,w){var S=this,C="Attempted to set maxLength="+b+", which is less than "+x+", the length of this field's current value (name="+w+")";return S=g.call(this,C)||this,S}return d}(Error),TextAlignment;(function(g){g[g.Left=0]="Left",g[g.Center=1]="Center",g[g.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(g,d,x,b){b===void 0&&(b=!1);for(var w=MIN_FONT_SIZE;w<MAX_FONT_SIZE;){for(var S=0,C=0,F=g.length;C<F;C++){S+=1;for(var E=g[C],k=E.split(" "),D=x.width,M=0,L=k.length;M<L;M++){var R=M===L-1,U=R?k[M]:k[M]+" ",j=d.widthOfTextAtSize(U,w);D-=j,D<=0&&(S+=1,D=x.width-j)}}if(!b&&S>g.length)return w-1;var H=d.heightAtSize(w),z=H+H*.2,V=z*S;if(V>Math.abs(x.height))return w-1;w+=1}return w},computeCombedFontSize=function(g,d,x,b){for(var w=x.width/b,S=x.height,C=MIN_FONT_SIZE,F=charSplit(g);C<MAX_FONT_SIZE;){for(var E=0,k=F.length;E<k;E++){var D=F[E],M=d.widthOfTextAtSize(D,C)>w*.75;if(M)return C-1}var L=d.heightAtSize(C,{descender:!1});if(L>S)return C-1;C+=1}return C},lastIndexOfWhitespace=function(g){for(var d=g.length;d>0;d--)if(/\s/.test(g[d]))return d},splitOutLines=function(g,d,x,b){for(var w,S=g.length;S>0;){var C=g.substring(0,S),F=x.encodeText(C),E=x.widthOfTextAtSize(C,b);if(E<d){var k=g.substring(S)||void 0;return{line:C,encoded:F,width:E,remainder:k}}S=(w=lastIndexOfWhitespace(C))!==null&&w!==void 0?w:0}return{line:g,encoded:x.encodeText(g),width:x.widthOfTextAtSize(g,b),remainder:void 0}},layoutMultilineText=function(g,d){var x=d.alignment,b=d.fontSize,w=d.font,S=d.bounds,C=lineSplit(cleanText(g));(b===void 0||b===0)&&(b=computeFontSize(C,w,S,!0));for(var F=w.heightAtSize(b),E=F+F*.2,k=[],D=S.x,M=S.y,L=S.x+S.width,R=S.y+S.height,U=S.y+S.height,j=0,H=C.length;j<H;j++)for(var z=C[j];z!==void 0;){var V=splitOutLines(z,S.width,w,b),G=V.line,$=V.encoded,K=V.width,Z=V.remainder,Q=x===TextAlignment.Left?S.x:x===TextAlignment.Center?S.x+S.width/2-K/2:x===TextAlignment.Right?S.x+S.width-K:S.x;U-=E,Q<D&&(D=Q),U<M&&(M=U),Q+K>L&&(L=Q+K),U+F>R&&(R=U+F),k.push({text:G,encoded:$,width:K,height:F,x:Q,y:U}),z=Z?.trim()}return{fontSize:b,lineHeight:E,lines:k,bounds:{x:D,y:M,width:L-D,height:R-M}}},layoutCombedText=function(g,d){var x=d.fontSize,b=d.font,w=d.bounds,S=d.cellCount,C=mergeLines(cleanText(g));if(C.length>S)throw new CombedTextLayoutError(C.length,S);(x===void 0||x===0)&&(x=computeCombedFontSize(C,b,w,S));for(var F=w.width/S,E=b.heightAtSize(x,{descender:!1}),k=w.y+(w.height/2-E/2),D=[],M=w.x,L=w.y,R=w.x+w.width,U=w.y+w.height,j=0,H=0;j<S;){var z=charAtIndex(C,H),V=z[0],G=z[1],$=b.encodeText(V),K=b.widthOfTextAtSize(V,x),Z=w.x+(F*j+F/2),Q=Z-K/2;Q<M&&(M=Q),k<L&&(L=k),Q+K>R&&(R=Q+K),k+E>U&&(U=k+E),D.push({text:C,encoded:$,width:K,height:E,x:Q,y:k}),j+=1,H+=G}return{fontSize:x,cells:D,bounds:{x:M,y:L,width:R-M,height:U-L}}},layoutSinglelineText=function(g,d){var x=d.alignment,b=d.fontSize,w=d.font,S=d.bounds,C=mergeLines(cleanText(g));(b===void 0||b===0)&&(b=computeFontSize([C],w,S));var F=w.encodeText(C),E=w.widthOfTextAtSize(C,b),k=w.heightAtSize(b,{descender:!1}),D=x===TextAlignment.Left?S.x:x===TextAlignment.Center?S.x+S.width/2-E/2:x===TextAlignment.Right?S.x+S.width-E:S.x,M=S.y+(S.height/2-k/2);return{fontSize:b,line:{text:C,encoded:F,width:E,height:k,x:D,y:M},bounds:{x:D,y:M,width:E,height:k}}},normalizeAppearance=function(g){return"normal"in g?g:{normal:g}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(g){var d,x,b=(d=g.getDefaultAppearance())!==null&&d!==void 0?d:"",w=(x=findLastMatch(b,tfRegex).match)!==null&&x!==void 0?x:[],S=Number(w[2]);return isFinite(S)?S:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(g){var d,x=(d=g.getDefaultAppearance())!==null&&d!==void 0?d:"",b=findLastMatch(x,colorRegex).match,w=b??[],S=w[1],C=w[2],F=w[3],E=w[4],k=w[5];if(k==="g"&&S)return grayscale(Number(S));if(k==="rg"&&S&&C&&F)return rgb(Number(S),Number(C),Number(F));if(k==="k"&&S&&C&&F&&E)return cmyk(Number(S),Number(C),Number(F),Number(E))},updateDefaultAppearance=function(g,d,x,b){var w;b===void 0&&(b=0);var S=[setFillingColor(d).toString(),setFontAndSize((w=x?.name)!==null&&w!==void 0?w:"dummy__noop",b).toString()].join(`
`);g.setDefaultAppearance(S)},defaultCheckBoxAppearanceProvider=function(g,d){var x,b,w,S=getDefaultColor(d),C=getDefaultColor(g.acroField),F=d.getRectangle(),E=d.getAppearanceCharacteristics(),k=d.getBorderStyle(),D=(x=k?.getWidth())!==null&&x!==void 0?x:0,M=reduceRotation(E?.getRotation()),L=adjustDimsForRotation(F,M),R=L.width,U=L.height,j=rotateInPlace(__assign(__assign({},F),{rotation:M})),H=rgb(0,0,0),z=(b=componentsToColor(E?.getBorderColor()))!==null&&b!==void 0?b:H,V=componentsToColor(E?.getBackgroundColor()),G=componentsToColor(E?.getBackgroundColor(),.8),$=(w=S??C)!==null&&w!==void 0?w:H;updateDefaultAppearance(S?d:g.acroField,$);var K={x:0+D/2,y:0+D/2,width:R-D,height:U-D,thickness:1.5,borderWidth:D,borderColor:z,markColor:$};return{normal:{on:__spreadArrays(j,drawCheckBox(__assign(__assign({},K),{color:V,filled:!0}))),off:__spreadArrays(j,drawCheckBox(__assign(__assign({},K),{color:V,filled:!1})))},down:{on:__spreadArrays(j,drawCheckBox(__assign(__assign({},K),{color:G,filled:!0}))),off:__spreadArrays(j,drawCheckBox(__assign(__assign({},K),{color:G,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(g,d){var x,b,w,S=getDefaultColor(d),C=getDefaultColor(g.acroField),F=d.getRectangle(),E=d.getAppearanceCharacteristics(),k=d.getBorderStyle(),D=(x=k?.getWidth())!==null&&x!==void 0?x:0,M=reduceRotation(E?.getRotation()),L=adjustDimsForRotation(F,M),R=L.width,U=L.height,j=rotateInPlace(__assign(__assign({},F),{rotation:M})),H=rgb(0,0,0),z=(b=componentsToColor(E?.getBorderColor()))!==null&&b!==void 0?b:H,V=componentsToColor(E?.getBackgroundColor()),G=componentsToColor(E?.getBackgroundColor(),.8),$=(w=S??C)!==null&&w!==void 0?w:H;updateDefaultAppearance(S?d:g.acroField,$);var K={x:R/2,y:U/2,width:R-D,height:U-D,borderWidth:D,borderColor:z,dotColor:$};return{normal:{on:__spreadArrays(j,drawRadioButton(__assign(__assign({},K),{color:V,filled:!0}))),off:__spreadArrays(j,drawRadioButton(__assign(__assign({},K),{color:V,filled:!1})))},down:{on:__spreadArrays(j,drawRadioButton(__assign(__assign({},K),{color:G,filled:!0}))),off:__spreadArrays(j,drawRadioButton(__assign(__assign({},K),{color:G,filled:!1})))}}},defaultButtonAppearanceProvider=function(g,d,x){var b,w,S,C,F,E=getDefaultColor(d),k=getDefaultColor(g.acroField),D=getDefaultFontSize(d),M=getDefaultFontSize(g.acroField),L=d.getRectangle(),R=d.getAppearanceCharacteristics(),U=d.getBorderStyle(),j=R?.getCaptions(),H=(b=j?.normal)!==null&&b!==void 0?b:"",z=(S=(w=j?.down)!==null&&w!==void 0?w:H)!==null&&S!==void 0?S:"",V=(C=U?.getWidth())!==null&&C!==void 0?C:0,G=reduceRotation(R?.getRotation()),$=adjustDimsForRotation(L,G),K=$.width,Z=$.height,Q=rotateInPlace(__assign(__assign({},L),{rotation:G})),ne=rgb(0,0,0),le=componentsToColor(R?.getBorderColor()),fe=componentsToColor(R?.getBackgroundColor()),be=componentsToColor(R?.getBackgroundColor(),.8),me={x:V,y:V,width:K-V*2,height:Z-V*2},we=layoutSinglelineText(H,{alignment:TextAlignment.Center,fontSize:D??M,font:x,bounds:me}),oe=layoutSinglelineText(z,{alignment:TextAlignment.Center,fontSize:D??M,font:x,bounds:me}),ge=Math.min(we.fontSize,oe.fontSize),Ae=(F=E??k)!==null&&F!==void 0?F:ne;updateDefaultAppearance(E||D!==void 0?d:g.acroField,Ae,x,ge);var Ce={x:0+V/2,y:0+V/2,width:K-V,height:Z-V,borderWidth:V,borderColor:le,textColor:Ae,font:x.name,fontSize:ge};return{normal:__spreadArrays(Q,drawButton(__assign(__assign({},Ce),{color:fe,textLines:[we.line]}))),down:__spreadArrays(Q,drawButton(__assign(__assign({},Ce),{color:be,textLines:[oe.line]})))}},defaultTextFieldAppearanceProvider=function(g,d,x){var b,w,S,C,F=getDefaultColor(d),E=getDefaultColor(g.acroField),k=getDefaultFontSize(d),D=getDefaultFontSize(g.acroField),M=d.getRectangle(),L=d.getAppearanceCharacteristics(),R=d.getBorderStyle(),U=(b=g.getText())!==null&&b!==void 0?b:"",j=(w=R?.getWidth())!==null&&w!==void 0?w:0,H=reduceRotation(L?.getRotation()),z=adjustDimsForRotation(M,H),V=z.width,G=z.height,$=rotateInPlace(__assign(__assign({},M),{rotation:H})),K=rgb(0,0,0),Z=componentsToColor(L?.getBorderColor()),Q=componentsToColor(L?.getBackgroundColor()),ne,le,fe=g.isCombed()?0:1,be={x:j+fe,y:j+fe,width:V-(j+fe)*2,height:G-(j+fe)*2};if(g.isMultiline()){var me=layoutMultilineText(U,{alignment:g.getAlignment(),fontSize:k??D,font:x,bounds:be});ne=me.lines,le=me.fontSize}else if(g.isCombed()){var me=layoutCombedText(U,{fontSize:k??D,font:x,bounds:be,cellCount:(S=g.getMaxLength())!==null&&S!==void 0?S:0});ne=me.cells,le=me.fontSize}else{var me=layoutSinglelineText(U,{alignment:g.getAlignment(),fontSize:k??D,font:x,bounds:be});ne=[me.line],le=me.fontSize}var we=(C=F??E)!==null&&C!==void 0?C:K;updateDefaultAppearance(F||k!==void 0?d:g.acroField,we,x,le);var oe={x:0+j/2,y:0+j/2,width:V-j,height:G-j,borderWidth:j??0,borderColor:Z,textColor:we,font:x.name,fontSize:le,color:Q,textLines:ne,padding:fe};return __spreadArrays($,drawTextField(oe))},defaultDropdownAppearanceProvider=function(g,d,x){var b,w,S,C=getDefaultColor(d),F=getDefaultColor(g.acroField),E=getDefaultFontSize(d),k=getDefaultFontSize(g.acroField),D=d.getRectangle(),M=d.getAppearanceCharacteristics(),L=d.getBorderStyle(),R=(b=g.getSelected()[0])!==null&&b!==void 0?b:"",U=(w=L?.getWidth())!==null&&w!==void 0?w:0,j=reduceRotation(M?.getRotation()),H=adjustDimsForRotation(D,j),z=H.width,V=H.height,G=rotateInPlace(__assign(__assign({},D),{rotation:j})),$=rgb(0,0,0),K=componentsToColor(M?.getBorderColor()),Z=componentsToColor(M?.getBackgroundColor()),Q=1,ne={x:U+Q,y:U+Q,width:z-(U+Q)*2,height:V-(U+Q)*2},le=layoutSinglelineText(R,{alignment:TextAlignment.Left,fontSize:E??k,font:x,bounds:ne}),fe=le.line,be=le.fontSize,me=(S=C??F)!==null&&S!==void 0?S:$;updateDefaultAppearance(C||E!==void 0?d:g.acroField,me,x,be);var we={x:0+U/2,y:0+U/2,width:z-U,height:V-U,borderWidth:U??0,borderColor:K,textColor:me,font:x.name,fontSize:be,color:Z,textLines:[fe],padding:Q};return __spreadArrays(G,drawTextField(we))},defaultOptionListAppearanceProvider=function(g,d,x){var b,w,S=getDefaultColor(d),C=getDefaultColor(g.acroField),F=getDefaultFontSize(d),E=getDefaultFontSize(g.acroField),k=d.getRectangle(),D=d.getAppearanceCharacteristics(),M=d.getBorderStyle(),L=(b=M?.getWidth())!==null&&b!==void 0?b:0,R=reduceRotation(D?.getRotation()),U=adjustDimsForRotation(k,R),j=U.width,H=U.height,z=rotateInPlace(__assign(__assign({},k),{rotation:R})),V=rgb(0,0,0),G=componentsToColor(D?.getBorderColor()),$=componentsToColor(D?.getBackgroundColor()),K=g.getOptions(),Z=g.getSelected();g.isSorted()&&K.sort();for(var Q="",ne=0,le=K.length;ne<le;ne++)Q+=K[ne],ne<le-1&&(Q+=`
`);for(var fe=1,be={x:L+fe,y:L+fe,width:j-(L+fe)*2,height:H-(L+fe)*2},me=layoutMultilineText(Q,{alignment:TextAlignment.Left,fontSize:F??E,font:x,bounds:be}),we=me.lines,oe=me.fontSize,ge=me.lineHeight,Ae=[],ne=0,le=we.length;ne<le;ne++){var Ce=we[ne];Z.includes(Ce.text)&&Ae.push(ne)}var Ne=rgb(153/255,193/255,218/255),Oe=(w=S??C)!==null&&w!==void 0?w:V;return updateDefaultAppearance(S||F!==void 0?d:g.acroField,Oe,x,oe),__spreadArrays(z,drawOptionList({x:0+L/2,y:0+L/2,width:j-L,height:H-L,borderWidth:L??0,borderColor:G,textColor:Oe,font:x.name,fontSize:oe,color:$,textLines:we,lineHeight:ge,selectedColor:Ne,selectedLines:Ae,padding:fe}))},PDFEmbeddedPage=function(){function g(d,x,b){this.alreadyEmbedded=!1,assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(b,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=d,this.doc=x,this.width=b.width,this.height=b.height,this.embedder=b}return g.prototype.scale=function(d){return assertIs(d,"factor",["number"]),{width:this.width*d,height:this.height*d}},g.prototype.size=function(){return this.scale(1)},g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){switch(d.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:d.sent(),this.alreadyEmbedded=!0,d.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),PDFFont=function(){function g(d,x,b){this.modified=!0,assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(b,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=d,this.doc=x,this.name=b.fontName,this.embedder=b}return g.prototype.encodeText=function(d){return assertIs(d,"text",["string"]),this.modified=!0,this.embedder.encodeText(d)},g.prototype.widthOfTextAtSize=function(d,x){return assertIs(d,"text",["string"]),assertIs(x,"size",["number"]),this.embedder.widthOfTextAtSize(d,x)},g.prototype.heightAtSize=function(d,x){var b;return assertIs(d,"size",["number"]),assertOrUndefined(x?.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(d,{descender:(b=x?.descender)!==null&&b!==void 0?b:!0})},g.prototype.sizeAtHeight=function(d){return assertIs(d,"height",["number"]),this.embedder.sizeOfFontAtHeight(d)},g.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){switch(d.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:d.sent(),this.modified=!1,d.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),PDFImage=function(){function g(d,x,b){assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(b,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=d,this.doc=x,this.width=b.width,this.height=b.height,this.embedder=b}return g.prototype.scale=function(d){return assertIs(d,"factor",["number"]),{width:this.width*d,height:this.height*d}},g.prototype.scaleToFit=function(d,x){assertIs(d,"width",["number"]),assertIs(x,"height",["number"]);var b=d/this.width,w=x/this.height,S=Math.min(b,w);return this.scale(S)},g.prototype.size=function(){return this.scale(1)},g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b;return __generator(this,function(w){switch(w.label){case 0:return this.embedder?(this.embedTask||(d=this,x=d.doc,b=d.ref,this.embedTask=this.embedder.embedIntoContext(x.context,b)),[4,this.embedTask]):[2];case 1:return w.sent(),this.embedder=void 0,[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),ImageAlignment;(function(g){g[g.Left=0]="Left",g[g.Center=1]="Center",g[g.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(g){assertOrUndefined(g?.x,"options.x",["number"]),assertOrUndefined(g?.y,"options.y",["number"]),assertOrUndefined(g?.width,"options.width",["number"]),assertOrUndefined(g?.height,"options.height",["number"]),assertOrUndefined(g?.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(g?.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(g?.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(g?.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(g?.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function g(d,x,b){assertIs(d,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(x,"ref",[[PDFRef,"PDFRef"]]),assertIs(b,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=d,this.ref=x,this.doc=b}return g.prototype.getName=function(){var d;return(d=this.acroField.getFullyQualifiedName())!==null&&d!==void 0?d:""},g.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},g.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},g.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},g.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},g.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},g.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},g.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},g.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},g.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},g.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},g.prototype.defaultUpdateAppearances=function(d){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},g.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},g.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},g.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},g.prototype.createWidget=function(d){var x,b=d.textColor,w=d.backgroundColor,S=d.borderColor,C=d.borderWidth,F=toDegrees(d.rotate),E=d.caption,k=d.x,D=d.y,M=d.width+C,L=d.height+C,R=!!d.hidden,U=d.page;assertMultiple(F,"degreesAngle",90);var j=PDFWidgetAnnotation.create(this.doc.context,this.ref),H=rotateRectangle({x:k,y:D,width:M,height:L},C,F);j.setRectangle(H),U&&j.setP(U);var z=j.getOrCreateAppearanceCharacteristics();w&&z.setBackgroundColor(colorToComponents(w)),z.setRotation(F),E&&z.setCaptions({normal:E}),S&&z.setBorderColor(colorToComponents(S));var V=j.getOrCreateBorderStyle();if(C!==void 0&&V.setWidth(C),j.setFlagTo(AnnotationFlags.Print,!0),j.setFlagTo(AnnotationFlags.Hidden,R),j.setFlagTo(AnnotationFlags.Invisible,!1),b){var G=(x=this.acroField.getDefaultAppearance())!==null&&x!==void 0?x:"",$=G+`
`+setFillingColor(b).toString();this.acroField.setDefaultAppearance($)}return j},g.prototype.updateWidgetAppearanceWithFont=function(d,x,b){var w=b.normal,S=b.rollover,C=b.down;this.updateWidgetAppearances(d,{normal:this.createAppearanceStream(d,w,x),rollover:S&&this.createAppearanceStream(d,S,x),down:C&&this.createAppearanceStream(d,C,x)})},g.prototype.updateOnOffWidgetAppearance=function(d,x,b){var w=b.normal,S=b.rollover,C=b.down;this.updateWidgetAppearances(d,{normal:this.createAppearanceDict(d,w,x),rollover:S&&this.createAppearanceDict(d,S,x),down:C&&this.createAppearanceDict(d,C,x)})},g.prototype.updateWidgetAppearances=function(d,x){var b=x.normal,w=x.rollover,S=x.down;d.setNormalAppearance(b),w?d.setRolloverAppearance(w):d.removeRolloverAppearance(),S?d.setDownAppearance(S):d.removeDownAppearance()},g.prototype.createAppearanceStream=function(d,x,b){var w,S=this.acroField.dict.context,C=d.getRectangle(),F=C.width,E=C.height,k=b&&{Font:(w={},w[b.name]=b.ref,w)},D=S.formXObject(x,{Resources:k,BBox:S.obj([0,0,F,E]),Matrix:S.obj([1,0,0,1,0,0])}),M=S.register(D);return M},g.prototype.createImageAppearanceStream=function(d,x,b){var w,S,C=this.acroField.dict.context,F=d.getRectangle(),E=d.getAppearanceCharacteristics(),k=d.getBorderStyle(),D=(S=k?.getWidth())!==null&&S!==void 0?S:0,M=reduceRotation(E?.getRotation()),L=rotateInPlace(__assign(__assign({},F),{rotation:M})),R=adjustDimsForRotation(F,M),U=x.scaleToFit(R.width-D*2,R.height-D*2),j={x:D,y:D,width:U.width,height:U.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};b===ImageAlignment.Center?(j.x+=(R.width-D*2)/2-U.width/2,j.y+=(R.height-D*2)/2-U.height/2):b===ImageAlignment.Right&&(j.x=R.width-D-U.width,j.y=R.height-D-U.height);var H=this.doc.context.addRandomSuffix("Image",10),z=__spreadArrays(L,drawImage(H,j)),V={XObject:(w={},w[H]=x.ref,w)},G=C.formXObject(z,{Resources:V,BBox:C.obj([0,0,F.width,F.height]),Matrix:C.obj([1,0,0,1,0,0])});return C.register(G)},g.prototype.createAppearanceDict=function(d,x,b){var w=this.acroField.dict.context,S=this.createAppearanceStream(d,x.on),C=this.createAppearanceStream(d,x.off),F=w.obj({});return F.set(b,S),F.set(PDFName.of("Off"),C),F},g}(),PDFCheckBox=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,x,b,w)||this;return assertIs(x,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),S.acroField=x,S}return d.prototype.check=function(){var x,b=(x=this.acroField.getOnValue())!==null&&x!==void 0?x:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(b)},d.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},d.prototype.isChecked=function(){var x=this.acroField.getOnValue();return!!x&&x===this.acroField.getValue()},d.prototype.addToPage=function(x,b){var w,S,C,F,E,k;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var D=this.createWidget({x:(w=b.x)!==null&&w!==void 0?w:0,y:(S=b.y)!==null&&S!==void 0?S:0,width:(C=b.width)!==null&&C!==void 0?C:50,height:(F=b.height)!==null&&F!==void 0?F:50,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),M=this.doc.context.register(D.dict);this.acroField.addWidget(M),D.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(D,PDFName.of("Yes")),x.node.addAnnot(M)},d.prototype.needsAppearancesUpdate=function(){for(var x,b=this.acroField.getWidgets(),w=0,S=b.length;w<S;w++){var C=b[w],F=C.getAppearanceState(),E=(x=C.getAppearances())===null||x===void 0?void 0:x.normal;if(!(E instanceof PDFDict)||F&&!E.has(F))return!0}return!1},d.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},d.prototype.updateAppearances=function(x){var b;assertOrUndefined(x,"provider",[Function]);for(var w=this.acroField.getWidgets(),S=0,C=w.length;S<C;S++){var F=w[S],E=(b=F.getOnValue())!==null&&b!==void 0?b:PDFName.of("Yes");E&&this.updateWidgetAppearance(F,E,x)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,w){var S=w??defaultCheckBoxAppearanceProvider,C=normalizeAppearance(S(this,x));this.updateOnOffWidgetAppearance(x,b,C)},d.of=function(x,b,w){return new d(x,b,w)},d}(PDFField),PDFDropdown=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,x,b,w)||this;return assertIs(x,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),S.acroField=x,S}return d.prototype.getOptions=function(){for(var x=this.acroField.getOptions(),b=new Array(x.length),w=0,S=b.length;w<S;w++){var C=x[w],F=C.display,E=C.value;b[w]=(F??E).decodeText()}return b},d.prototype.getSelected=function(){for(var x=this.acroField.getValues(),b=new Array(x.length),w=0,S=x.length;w<S;w++)b[w]=x[w].decodeText();return b},d.prototype.setOptions=function(x){assertIs(x,"options",[Array]);for(var b=new Array(x.length),w=0,S=x.length;w<S;w++)b[w]={value:PDFHexString.fromText(x[w])};this.acroField.setOptions(b)},d.prototype.addOptions=function(x){assertIs(x,"options",["string",Array]);for(var b=Array.isArray(x)?x:[x],w=this.acroField.getOptions(),S=new Array(b.length),C=0,F=b.length;C<F;C++)S[C]={value:PDFHexString.fromText(b[C])};this.acroField.setOptions(w.concat(S))},d.prototype.select=function(x,b){b===void 0&&(b=!1),assertIs(x,"options",["string",Array]),assertIs(b,"merge",["boolean"]);var w=Array.isArray(x)?x:[x],S=this.getOptions(),C=w.find(function(M){return!S.includes(M)});C&&this.enableEditing(),this.markAsDirty(),(w.length>1||w.length===1&&b)&&this.enableMultiselect();for(var F=new Array(w.length),E=0,k=w.length;E<k;E++)F[E]=PDFHexString.fromText(w[E]);if(b){var D=this.acroField.getValues();this.acroField.setValues(D.concat(F))}else this.acroField.setValues(F)},d.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},d.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},d.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},d.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},d.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},d.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},d.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},d.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},d.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},d.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},d.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},d.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},d.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},d.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},d.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},d.prototype.addToPage=function(x,b){var w,S,C,F,E,k,D;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var M=this.createWidget({x:(w=b.x)!==null&&w!==void 0?w:0,y:(S=b.y)!==null&&S!==void 0?S:0,width:(C=b.width)!==null&&C!==void 0?C:200,height:(F=b.height)!==null&&F!==void 0?F:50,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),L=this.doc.context.register(M.dict);this.acroField.addWidget(L);var R=(D=b.font)!==null&&D!==void 0?D:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(M,R),x.node.addAnnot(L)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),w=0,S=b.length;w<S;w++){var C=b[w],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var w=this.acroField.getWidgets(),S=0,C=w.length;S<C;S++){var F=w[S];this.updateWidgetAppearance(F,x,b)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,w){var S=w??defaultDropdownAppearanceProvider,C=normalizeAppearance(S(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,w){return new d(x,b,w)},d}(PDFField),PDFOptionList=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,x,b,w)||this;return assertIs(x,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),S.acroField=x,S}return d.prototype.getOptions=function(){for(var x=this.acroField.getOptions(),b=new Array(x.length),w=0,S=b.length;w<S;w++){var C=x[w],F=C.display,E=C.value;b[w]=(F??E).decodeText()}return b},d.prototype.getSelected=function(){for(var x=this.acroField.getValues(),b=new Array(x.length),w=0,S=x.length;w<S;w++)b[w]=x[w].decodeText();return b},d.prototype.setOptions=function(x){assertIs(x,"options",[Array]),this.markAsDirty();for(var b=new Array(x.length),w=0,S=x.length;w<S;w++)b[w]={value:PDFHexString.fromText(x[w])};this.acroField.setOptions(b)},d.prototype.addOptions=function(x){assertIs(x,"options",["string",Array]),this.markAsDirty();for(var b=Array.isArray(x)?x:[x],w=this.acroField.getOptions(),S=new Array(b.length),C=0,F=b.length;C<F;C++)S[C]={value:PDFHexString.fromText(b[C])};this.acroField.setOptions(w.concat(S))},d.prototype.select=function(x,b){b===void 0&&(b=!1),assertIs(x,"options",["string",Array]),assertIs(b,"merge",["boolean"]);var w=Array.isArray(x)?x:[x],S=this.getOptions();assertIsSubset(w,"option",S),this.markAsDirty(),(w.length>1||w.length===1&&b)&&this.enableMultiselect();for(var C=new Array(w.length),F=0,E=w.length;F<E;F++)C[F]=PDFHexString.fromText(w[F]);if(b){var k=this.acroField.getValues();this.acroField.setValues(k.concat(C))}else this.acroField.setValues(C)},d.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},d.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},d.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},d.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},d.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},d.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},d.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},d.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},d.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},d.prototype.addToPage=function(x,b){var w,S,C,F,E,k,D;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var M=this.createWidget({x:(w=b.x)!==null&&w!==void 0?w:0,y:(S=b.y)!==null&&S!==void 0?S:0,width:(C=b.width)!==null&&C!==void 0?C:200,height:(F=b.height)!==null&&F!==void 0?F:100,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),L=this.doc.context.register(M.dict);this.acroField.addWidget(L);var R=(D=b.font)!==null&&D!==void 0?D:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(M,R),x.node.addAnnot(L)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),w=0,S=b.length;w<S;w++){var C=b[w],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var w=this.acroField.getWidgets(),S=0,C=w.length;S<C;S++){var F=w[S];this.updateWidgetAppearance(F,x,b)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,w){var S=w??defaultOptionListAppearanceProvider,C=normalizeAppearance(S(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,w){return new d(x,b,w)},d}(PDFField),PDFRadioGroup=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,x,b,w)||this;return assertIs(x,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),S.acroField=x,S}return d.prototype.getOptions=function(){var x=this.acroField.getExportValues();if(x){for(var b=new Array(x.length),w=0,S=x.length;w<S;w++)b[w]=x[w].decodeText();return b}for(var C=this.acroField.getOnValues(),F=new Array(C.length),w=0,S=F.length;w<S;w++)F[w]=C[w].decodeText();return F},d.prototype.getSelected=function(){var x=this.acroField.getValue();if(x!==PDFName.of("Off")){var b=this.acroField.getExportValues();if(b){for(var w=this.acroField.getOnValues(),S=0,C=w.length;S<C;S++)if(w[S]===x)return b[S].decodeText()}return x.decodeText()}},d.prototype.select=function(x){assertIs(x,"option",["string"]);var b=this.getOptions();assertIsOneOf(x,"option",b),this.markAsDirty();var w=this.acroField.getOnValues(),S=this.acroField.getExportValues();if(S)for(var C=0,F=S.length;C<F;C++)S[C].decodeText()===x&&this.acroField.setValue(w[C]);else for(var C=0,F=w.length;C<F;C++){var E=w[C];E.decodeText()===x&&this.acroField.setValue(E)}},d.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},d.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},d.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},d.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},d.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},d.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},d.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},d.prototype.addOptionToPage=function(x,b,w){var S,C,F,E,k,D,M,L,R;assertIs(x,"option",["string"]),assertIs(b,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(w);var U=this.createWidget({x:(S=w?.x)!==null&&S!==void 0?S:0,y:(C=w?.y)!==null&&C!==void 0?C:0,width:(F=w?.width)!==null&&F!==void 0?F:50,height:(E=w?.height)!==null&&E!==void 0?E:50,textColor:(k=w?.textColor)!==null&&k!==void 0?k:rgb(0,0,0),backgroundColor:(D=w?.backgroundColor)!==null&&D!==void 0?D:rgb(1,1,1),borderColor:(M=w?.borderColor)!==null&&M!==void 0?M:rgb(0,0,0),borderWidth:(L=w?.borderWidth)!==null&&L!==void 0?L:1,rotate:(R=w?.rotate)!==null&&R!==void 0?R:degrees(0),hidden:w?.hidden,page:b.ref}),j=this.doc.context.register(U.dict),H=this.acroField.addWidgetWithOpt(j,PDFHexString.fromText(x),!this.isMutuallyExclusive());U.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(U,H),b.node.addAnnot(j)},d.prototype.needsAppearancesUpdate=function(){for(var x,b=this.acroField.getWidgets(),w=0,S=b.length;w<S;w++){var C=b[w],F=C.getAppearanceState(),E=(x=C.getAppearances())===null||x===void 0?void 0:x.normal;if(!(E instanceof PDFDict)||F&&!E.has(F))return!0}return!1},d.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},d.prototype.updateAppearances=function(x){assertOrUndefined(x,"provider",[Function]);for(var b=this.acroField.getWidgets(),w=0,S=b.length;w<S;w++){var C=b[w],F=C.getOnValue();F&&this.updateWidgetAppearance(C,F,x)}},d.prototype.updateWidgetAppearance=function(x,b,w){var S=w??defaultRadioGroupAppearanceProvider,C=normalizeAppearance(S(this,x));this.updateOnOffWidgetAppearance(x,b,C)},d.of=function(x,b,w){return new d(x,b,w)},d}(PDFField),PDFSignature=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,x,b,w)||this;return assertIs(x,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),S.acroField=x,S}return d.prototype.needsAppearancesUpdate=function(){return!1},d.of=function(x,b,w){return new d(x,b,w)},d}(PDFField),PDFTextField=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,x,b,w)||this;return assertIs(x,"acroText",[[PDFAcroText,"PDFAcroText"]]),S.acroField=x,S}return d.prototype.getText=function(){var x=this.acroField.getValue();if(!x&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return x?.decodeText()},d.prototype.setText=function(x){assertOrUndefined(x,"text",["string"]);var b=this.getMaxLength();if(b!==void 0&&x&&x.length>b)throw new ExceededMaxLengthError(x.length,b,this.getName());this.markAsDirty(),this.disableRichFormatting(),x?this.acroField.setValue(PDFHexString.fromText(x)):this.acroField.removeValue()},d.prototype.getAlignment=function(){var x=this.acroField.getQuadding();return x===0?TextAlignment.Left:x===1?TextAlignment.Center:x===2?TextAlignment.Right:TextAlignment.Left},d.prototype.setAlignment=function(x){assertIsOneOf(x,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(x)},d.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},d.prototype.setMaxLength=function(x){if(assertRangeOrUndefined(x,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),x===void 0)this.acroField.removeMaxLength();else{var b=this.getText();if(b&&b.length>x)throw new InvalidMaxLengthError(b.length,x,this.getName());this.acroField.setMaxLength(x)}},d.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},d.prototype.setImage=function(x){for(var b=this.getAlignment(),w=b===TextAlignment.Center?ImageAlignment.Center:b===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,S=this.acroField.getWidgets(),C=0,F=S.length;C<F;C++){var E=S[C],k=this.createImageAppearanceStream(E,x,w);this.updateWidgetAppearances(E,{normal:k})}this.markAsClean()},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},d.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},d.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},d.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},d.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},d.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},d.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},d.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},d.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},d.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},d.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},d.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},d.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},d.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},d.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},d.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},d.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var x="PDFTextFields must have a max length in order to be combed";console.warn(x)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},d.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},d.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},d.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},d.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},d.prototype.addToPage=function(x,b){var w,S,C,F,E,k,D;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var M=this.createWidget({x:(w=b.x)!==null&&w!==void 0?w:0,y:(S=b.y)!==null&&S!==void 0?S:0,width:(C=b.width)!==null&&C!==void 0?C:200,height:(F=b.height)!==null&&F!==void 0?F:50,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),L=this.doc.context.register(M.dict);this.acroField.addWidget(L);var R=(D=b.font)!==null&&D!==void 0?D:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(M,R),x.node.addAnnot(L)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),w=0,S=b.length;w<S;w++){var C=b[w],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var w=this.acroField.getWidgets(),S=0,C=w.length;S<C;S++){var F=w[S];this.updateWidgetAppearance(F,x,b)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,w){var S=w??defaultTextFieldAppearanceProvider,C=normalizeAppearance(S(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,w){return new d(x,b,w)},d}(PDFField),StandardFonts;(function(g){g.Courier="Courier",g.CourierBold="Courier-Bold",g.CourierOblique="Courier-Oblique",g.CourierBoldOblique="Courier-BoldOblique",g.Helvetica="Helvetica",g.HelveticaBold="Helvetica-Bold",g.HelveticaOblique="Helvetica-Oblique",g.HelveticaBoldOblique="Helvetica-BoldOblique",g.TimesRoman="Times-Roman",g.TimesRomanBold="Times-Bold",g.TimesRomanItalic="Times-Italic",g.TimesRomanBoldItalic="Times-BoldItalic",g.Symbol="Symbol",g.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function g(d,x){var b=this;this.embedDefaultFont=function(){return b.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(d,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=d,this.doc=x,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return g.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},g.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},g.prototype.getFields=function(){for(var d=this.acroForm.getAllFields(),x=[],b=0,w=d.length;b<w;b++){var S=d[b],C=S[0],F=S[1],E=convertToPDFField(C,F,this.doc);E&&x.push(E)}return x},g.prototype.getFieldMaybe=function(d){assertIs(d,"name",["string"]);for(var x=this.getFields(),b=0,w=x.length;b<w;b++){var S=x[b];if(S.getName()===d)return S}},g.prototype.getField=function(d){assertIs(d,"name",["string"]);var x=this.getFieldMaybe(d);if(x)return x;throw new NoSuchFieldError(d)},g.prototype.getButton=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFButton$1)return x;throw new UnexpectedFieldTypeError(d,PDFButton$1,x)},g.prototype.getCheckBox=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFCheckBox)return x;throw new UnexpectedFieldTypeError(d,PDFCheckBox,x)},g.prototype.getDropdown=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFDropdown)return x;throw new UnexpectedFieldTypeError(d,PDFDropdown,x)},g.prototype.getOptionList=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFOptionList)return x;throw new UnexpectedFieldTypeError(d,PDFOptionList,x)},g.prototype.getRadioGroup=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFRadioGroup)return x;throw new UnexpectedFieldTypeError(d,PDFRadioGroup,x)},g.prototype.getSignature=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFSignature)return x;throw new UnexpectedFieldTypeError(d,PDFSignature,x)},g.prototype.getTextField=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFTextField)return x;throw new UnexpectedFieldTypeError(d,PDFTextField,x)},g.prototype.createButton=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),w=PDFAcroPushButton.create(this.doc.context);return w.setPartialName(x.terminal),addFieldToParent(b,[w,w.ref],x.terminal),PDFButton$1.of(w,w.ref,this.doc)},g.prototype.createCheckBox=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),w=PDFAcroCheckBox.create(this.doc.context);return w.setPartialName(x.terminal),addFieldToParent(b,[w,w.ref],x.terminal),PDFCheckBox.of(w,w.ref,this.doc)},g.prototype.createDropdown=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),w=PDFAcroComboBox.create(this.doc.context);return w.setPartialName(x.terminal),addFieldToParent(b,[w,w.ref],x.terminal),PDFDropdown.of(w,w.ref,this.doc)},g.prototype.createOptionList=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),w=PDFAcroListBox.create(this.doc.context);return w.setPartialName(x.terminal),addFieldToParent(b,[w,w.ref],x.terminal),PDFOptionList.of(w,w.ref,this.doc)},g.prototype.createRadioGroup=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),w=PDFAcroRadioButton.create(this.doc.context);return w.setPartialName(x.terminal),addFieldToParent(b,[w,w.ref],x.terminal),PDFRadioGroup.of(w,w.ref,this.doc)},g.prototype.createTextField=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),w=PDFAcroText.create(this.doc.context);return w.setPartialName(x.terminal),addFieldToParent(b,[w,w.ref],x.terminal),PDFTextField.of(w,w.ref,this.doc)},g.prototype.flatten=function(d){d===void 0&&(d={updateFieldAppearances:!0}),d.updateFieldAppearances&&this.updateFieldAppearances();for(var x=this.getFields(),b=0,w=x.length;b<w;b++){for(var S=x[b],C=S.acroField.getWidgets(),F=0,E=C.length;F<E;F++){var k=C[F],D=this.findWidgetPage(k),M=this.findWidgetAppearanceRef(S,k),L=D.node.newXObject("FlatWidget",M),R=k.getRectangle(),U=__spreadArrays([pushGraphicsState(),translate(R.x,R.y)],rotateInPlace(__assign(__assign({},R),{rotation:0})),[drawObject(L),popGraphicsState()]).filter(Boolean);D.pushOperators.apply(D,U)}this.removeField(S)}},g.prototype.removeField=function(d){for(var x=d.acroField.getWidgets(),b=new Set,w=0,S=x.length;w<S;w++){var C=x[w],F=this.findWidgetAppearanceRef(d,C),E=this.findWidgetPage(C);b.add(E),E.node.removeAnnot(F)}b.forEach(function(R){return R.node.removeAnnot(d.ref)}),this.acroForm.removeField(d.acroField);for(var k=d.acroField.normalizedEntries().Kids,D=k.size(),M=0;M<D;M++){var L=k.get(M);L instanceof PDFRef&&this.doc.context.delete(L)}this.doc.context.delete(d.ref)},g.prototype.updateFieldAppearances=function(d){assertOrUndefined(d,"font",[[PDFFont,"PDFFont"]]),d=d??this.getDefaultFont();for(var x=this.getFields(),b=0,w=x.length;b<w;b++){var S=x[b];S.needsAppearancesUpdate()&&S.defaultUpdateAppearances(d)}},g.prototype.markFieldAsDirty=function(d){assertOrUndefined(d,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(d)},g.prototype.markFieldAsClean=function(d){assertOrUndefined(d,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(d)},g.prototype.fieldIsDirty=function(d){return assertOrUndefined(d,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(d)},g.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},g.prototype.findWidgetPage=function(d){var x=d.P(),b=this.doc.getPages().find(function(S){return S.ref===x});if(b===void 0){var w=this.doc.context.getObjectRef(d.dict);if(w===void 0)throw new Error("Could not find PDFRef for PDFObject");if(b=this.doc.findPageForAnnotationRef(w),b===void 0)throw new Error("Could not find page for PDFRef "+w)}return b},g.prototype.findWidgetAppearanceRef=function(d,x){var b,w=x.getNormalAppearance();if(w instanceof PDFDict&&(d instanceof PDFCheckBox||d instanceof PDFRadioGroup)){var S=d.acroField.getValue(),C=(b=w.get(S))!==null&&b!==void 0?b:w.get(PDFName.of("Off"));C instanceof PDFRef&&(w=C)}if(!(w instanceof PDFRef)){var F=d.getName();throw new Error("Failed to extract appearance ref for: "+F)}return w},g.prototype.findOrCreateNonTerminals=function(d){for(var x=[this.acroForm],b=0,w=d.length;b<w;b++){var S=d[b];if(!S)throw new InvalidFieldNamePartError(S);var C=x[0],F=x[1],E=this.findNonTerminal(S,C);if(E)x=E;else{var k=PDFAcroNonTerminal.create(this.doc.context);k.setPartialName(S),k.setParent(F);var D=this.doc.context.register(k.dict);C.addField(D),x=[k,D]}}return x},g.prototype.findNonTerminal=function(d,x){for(var b=x instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(x.Kids()),w=0,S=b.length;w<S;w++){var C=b[w],F=C[0],E=C[1];if(F.getPartialName()===d){if(F instanceof PDFAcroNonTerminal)return[F,E];throw new FieldAlreadyExistsError(d)}}},g.of=function(d,x){return new g(d,x)},g}(),convertToPDFField=function(g,d,x){if(g instanceof PDFAcroPushButton)return PDFButton$1.of(g,d,x);if(g instanceof PDFAcroCheckBox)return PDFCheckBox.of(g,d,x);if(g instanceof PDFAcroComboBox)return PDFDropdown.of(g,d,x);if(g instanceof PDFAcroListBox)return PDFOptionList.of(g,d,x);if(g instanceof PDFAcroText)return PDFTextField.of(g,d,x);if(g instanceof PDFAcroRadioButton)return PDFRadioGroup.of(g,d,x);if(g instanceof PDFAcroSignature)return PDFSignature.of(g,d,x)},splitFieldName=function(g){if(g.length===0)throw new Error("PDF field names must not be empty strings");for(var d=g.split("."),x=0,b=d.length;x<b;x++)if(d[x]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+g+'"');return d.length===1?{nonTerminal:[],terminal:d[0]}:{nonTerminal:d.slice(0,d.length-1),terminal:d[d.length-1]}},addFieldToParent=function(g,d,x){for(var b=g[0],w=g[1],S=d[0],C=d[1],F=b.normalizedEntries(),E=createPDFAcroFields("Kids"in F?F.Kids:F.Fields),k=0,D=E.length;k<D;k++)if(E[k][0].getPartialName()===x)throw new FieldAlreadyExistsError(x);b.addField(C),S.setParent(w)},PageSizes={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},ParseSpeeds;(function(g){g[g.Fastest=1/0]="Fastest",g[g.Fast=1500]="Fast",g[g.Medium=500]="Medium",g[g.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function g(d,x,b){this.alreadyEmbedded=!1,this.ref=d,this.doc=x,this.embedder=b}return g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,w,S;return __generator(this,function(C){switch(C.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:d=C.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),x=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),x.has(PDFName.of("EmbeddedFiles"))||x.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),b=x.lookup(PDFName.of("EmbeddedFiles"),PDFDict),b.has(PDFName.of("Names"))||b.set(PDFName.of("Names"),this.doc.context.obj([])),w=b.lookup(PDFName.of("Names"),PDFArray),w.push(PDFHexString.fromText(this.embedder.fileName)),w.push(d),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),S=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),S.push(d),this.alreadyEmbedded=!0,C.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),PDFJavaScript=function(){function g(d,x,b){this.alreadyEmbedded=!1,this.ref=d,this.doc=x,this.embedder=b}return g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,w,S,C,F;return __generator(this,function(E){switch(E.label){case 0:return this.alreadyEmbedded?[3,2]:(d=this.doc,x=d.catalog,b=d.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:w=E.sent(),x.has(PDFName.of("Names"))||x.set(PDFName.of("Names"),b.obj({})),S=x.lookup(PDFName.of("Names"),PDFDict),S.has(PDFName.of("JavaScript"))||S.set(PDFName.of("JavaScript"),b.obj({})),C=S.lookup(PDFName.of("JavaScript"),PDFDict),C.has(PDFName.of("Names"))||C.set(PDFName.of("Names"),b.obj([])),F=C.lookup(PDFName.of("Names"),PDFArray),F.push(PDFHexString.fromText(this.embedder.scriptName)),F.push(w),this.alreadyEmbedded=!0,E.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),JavaScriptEmbedder=function(){function g(d,x){this.script=d,this.scriptName=x}return g.for=function(d,x){return new g(d,x)},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b;return __generator(this,function(w){return b=d.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),x?(d.assign(x,b),[2,x]):[2,d.register(b)]})})},g}(),DefaultDocumentSnapshot=function(){function g(){this.pdfSize=0,this.prevStartXRef=0}return g.prototype.shouldSave=function(d){return!0},g.prototype.markRefForSave=function(d){throw new Error("This method should not be called.")},g.prototype.markRefsForSave=function(d){throw new Error("This method should not be called.")},g.prototype.markObjForSave=function(d){throw new Error("This method should not be called.")},g.prototype.markObjsForSave=function(d){throw new Error("This method should not be called.")},g}(),defaultDocumentSnapshot=new DefaultDocumentSnapshot,IncrementalDocumentSnapshot=function(){function g(d,x,b,w,S){this.lastObjectNumber=d,this.changedObjects=x,this.pdfSize=b,this.prevStartXRef=w,this.context=S}return g.prototype.shouldSave=function(d){return!!(d>this.lastObjectNumber||this.changedObjects.includes(d))},g.prototype.markRefForSave=function(d){this.markRefsForSave([d])},g.prototype.markRefsForSave=function(d){var x=this;d.forEach(function(b){return x.changedObjects.push(b.objectNumber)})},g.prototype.markObjForSave=function(d){this.markObjsForSave([d])},g.prototype.markObjsForSave=function(d){var x=this;d.forEach(function(b){var w=b instanceof PDFRef?b:x.context.getObjectRef(b);x.markRefForSave(w)})},g}(),PDFDocument=function(){function g(d,x,b){var w=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var S=[];return w.catalog.Pages().traverse(function(C,F){if(C instanceof PDFPageLeaf){var E=w.pageMap.get(C);E||(E=PDFPage.of(C,F,w),w.pageMap.set(C,E)),S.push(E)}}),S},this.getOrCreateForm=function(){var S=w.catalog.getOrCreateAcroForm();return PDFForm.of(S,w)},assertIs(d,"context",[[PDFContext,"PDFContext"]]),assertIs(x,"ignoreEncryption",["boolean"]),this.context=d,this.catalog=d.lookup(d.trailerInfo.Root),this.isEncrypted=!!d.lookup(d.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!x&&this.isEncrypted)throw new EncryptedPDFError;b&&this.updateInfoDict()}return g.load=function(d,x){return x===void 0&&(x={}),__awaiter(this,void 0,void 0,function(){var b,w,S,C,F,E,k,D,M,L,R,U;return __generator(this,function(j){switch(j.label){case 0:return b=x.ignoreEncryption,w=b===void 0?!1:b,S=x.parseSpeed,C=S===void 0?ParseSpeeds.Slow:S,F=x.throwOnInvalidObject,E=F===void 0?!1:F,k=x.updateMetadata,D=k===void 0?!0:k,M=x.capNumbers,L=M===void 0?!1:M,assertIs(d,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(w,"ignoreEncryption",["boolean"]),assertIs(C,"parseSpeed",["number"]),assertIs(E,"throwOnInvalidObject",["boolean"]),R=toUint8Array(d),[4,PDFParser.forBytesWithOptions(R,C,E,L).parseDocument()];case 1:return U=j.sent(),[2,new g(U,w,D)]}})})},g.create=function(d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var x,b,w,S,C,F;return __generator(this,function(E){return x=d.updateMetadata,b=x===void 0?!0:x,w=PDFContext.create(),S=PDFPageTree.withContext(w),C=w.register(S),F=PDFCatalog.withContextAndPages(w,C),w.trailerInfo.Root=w.register(F),[2,new g(w,!1,b)]})})},g.prototype.registerFontkit=function(d){this.fontkit=d},g.prototype.getForm=function(){var d=this.formCache.access();return d.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),d.deleteXFA()),d},g.prototype.getTitle=function(){var d=this.getInfoDict().lookup(PDFName.Title);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getAuthor=function(){var d=this.getInfoDict().lookup(PDFName.Author);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getSubject=function(){var d=this.getInfoDict().lookup(PDFName.Subject);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getKeywords=function(){var d=this.getInfoDict().lookup(PDFName.Keywords);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getCreator=function(){var d=this.getInfoDict().lookup(PDFName.Creator);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getProducer=function(){var d=this.getInfoDict().lookup(PDFName.Producer);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getCreationDate=function(){var d=this.getInfoDict().lookup(PDFName.CreationDate);if(d)return assertIsLiteralOrHexString(d),d.decodeDate()},g.prototype.getModificationDate=function(){var d=this.getInfoDict().lookup(PDFName.ModDate);if(d)return assertIsLiteralOrHexString(d),d.decodeDate()},g.prototype.setTitle=function(d,x){assertIs(d,"title",["string"]);var b=PDFName.of("Title");if(this.getInfoDict().set(b,PDFHexString.fromText(d)),x?.showInWindowTitleBar){var w=this.catalog.getOrCreateViewerPreferences();w.setDisplayDocTitle(!0)}},g.prototype.setAuthor=function(d){assertIs(d,"author",["string"]);var x=PDFName.of("Author");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setSubject=function(d){assertIs(d,"author",["string"]);var x=PDFName.of("Subject");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setKeywords=function(d){assertIs(d,"keywords",[Array]);var x=PDFName.of("Keywords");this.getInfoDict().set(x,PDFHexString.fromText(d.join(" ")))},g.prototype.setCreator=function(d){assertIs(d,"creator",["string"]);var x=PDFName.of("Creator");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setProducer=function(d){assertIs(d,"creator",["string"]);var x=PDFName.of("Producer");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setLanguage=function(d){assertIs(d,"language",["string"]);var x=PDFName.of("Lang");this.catalog.set(x,PDFString.of(d))},g.prototype.setCreationDate=function(d){assertIs(d,"creationDate",[[Date,"Date"]]);var x=PDFName.of("CreationDate");this.getInfoDict().set(x,PDFString.fromDate(d))},g.prototype.setModificationDate=function(d){assertIs(d,"modificationDate",[[Date,"Date"]]);var x=PDFName.of("ModDate");this.getInfoDict().set(x,PDFString.fromDate(d))},g.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},g.prototype.getPages=function(){return this.pageCache.access()},g.prototype.getPage=function(d){var x=this.getPages();return assertRange(d,"index",0,x.length-1),x[d]},g.prototype.getPageIndices=function(){return range(0,this.getPageCount())},g.prototype.removePage=function(d){var x=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(d,"index",0,x-1),this.catalog.removeLeafNode(d),this.pageCount=x-1},g.prototype.addPage=function(d){return assertIs(d,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),d)},g.prototype.insertPage=function(d,x){var b=this.getPageCount();if(assertRange(d,"index",0,b),assertIs(x,"page",["undefined",[PDFPage,"PDFPage"],Array]),!x||Array.isArray(x)){var w=Array.isArray(x)?x:PageSizes.A4;x=PDFPage.create(this),x.setSize.apply(x,w)}else if(x.doc!==this)throw new ForeignPageError;var S=this.catalog.insertLeafNode(x.ref,d);return x.node.setParent(S),this.pageMap.set(x.node,x),this.pageCache.invalidate(),this.pageCount=b+1,x},g.prototype.copyPages=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,w,S,C,F,E,k,D;return __generator(this,function(M){switch(M.label){case 0:return assertIs(d,"srcDoc",[[g,"PDFDocument"]]),assertIs(x,"indices",[Array]),[4,d.flush()];case 1:for(M.sent(),b=PDFObjectCopier.for(d.context,this.context),w=d.getPages(),S=new Array(x.length),C=0,F=x.length;C<F;C++)E=w[x[C]],k=b.copy(E.node),D=this.context.register(k),S[C]=PDFPage.of(k,D,this);return[2,S]}})})},g.prototype.copy=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,w;return __generator(this,function(S){switch(S.label){case 0:return[4,g.create()];case 1:return d=S.sent(),[4,d.copyPages(this,this.getPageIndices())];case 2:for(x=S.sent(),b=0,w=x.length;b<w;b++)d.addPage(x[b]);return this.getAuthor()!==void 0&&d.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&d.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&d.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&d.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&d.setProducer(this.getProducer()),this.getSubject()!==void 0&&d.setSubject(this.getSubject()),this.getTitle()!==void 0&&d.setTitle(this.getTitle()),d.defaultWordBreaks=this.defaultWordBreaks,[2,d]}})})},g.prototype.addJavaScript=function(d,x){assertIs(d,"name",["string"]),assertIs(x,"script",["string"]);var b=JavaScriptEmbedder.for(x,d),w=this.context.nextRef(),S=PDFJavaScript.of(w,this,b);this.javaScripts.push(S)},g.prototype.attach=function(d,x,b){return b===void 0&&(b={}),__awaiter(this,void 0,void 0,function(){var w,S,C,F;return __generator(this,function(E){return assertIs(d,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(x,"name",["string"]),assertOrUndefined(b.mimeType,"mimeType",["string"]),assertOrUndefined(b.description,"description",["string"]),assertOrUndefined(b.creationDate,"options.creationDate",[Date]),assertOrUndefined(b.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(b.afRelationship,"options.afRelationship",AFRelationship),w=toUint8Array(d),S=FileEmbedder.for(w,x,b),C=this.context.nextRef(),F=PDFEmbeddedFile.of(C,this,S),this.embeddedFiles.push(F),[2]})})},g.prototype.embedFont=function(d,x){return x===void 0&&(x={}),__awaiter(this,void 0,void 0,function(){var b,w,S,C,F,E,k,D,M,L;return __generator(this,function(R){switch(R.label){case 0:return b=x.subset,w=b===void 0?!1:b,S=x.customName,C=x.features,assertIs(d,"font",["string",Uint8Array,ArrayBuffer]),assertIs(w,"subset",["boolean"]),isStandardFont(d)?(F=StandardFontEmbedder.for(d,S),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(d)?(E=toUint8Array(d),k=this.assertFontkit(),w?[4,CustomFontSubsetEmbedder.for(k,E,S,C)]:[3,3]):[3,6];case 2:return D=R.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(k,E,S,C)];case 4:D=R.sent(),R.label=5;case 5:return F=D,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return M=this.context.nextRef(),L=PDFFont.of(M,this,F),this.fonts.push(L),[2,L]}})})},g.prototype.embedStandardFont=function(d,x){if(assertIs(d,"font",["string"]),!isStandardFont(d))throw new TypeError("`font` must be one of type `StandardFonts`");var b=StandardFontEmbedder.for(d,x),w=this.context.nextRef(),S=PDFFont.of(w,this,b);return this.fonts.push(S),S},g.prototype.embedJpg=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,w,S;return __generator(this,function(C){switch(C.label){case 0:return assertIs(d,"jpg",["string",Uint8Array,ArrayBuffer]),x=toUint8Array(d),[4,JpegEmbedder.for(x)];case 1:return b=C.sent(),w=this.context.nextRef(),S=PDFImage.of(w,this,b),this.images.push(S),[2,S]}})})},g.prototype.embedPng=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,w,S;return __generator(this,function(C){switch(C.label){case 0:return assertIs(d,"png",["string",Uint8Array,ArrayBuffer]),x=toUint8Array(d),[4,PngEmbedder.for(x)];case 1:return b=C.sent(),w=this.context.nextRef(),S=PDFImage.of(w,this,b),this.images.push(S),[2,S]}})})},g.prototype.embedPdf=function(d,x){return x===void 0&&(x=[0]),__awaiter(this,void 0,void 0,function(){var b,w,S;return __generator(this,function(C){switch(C.label){case 0:return assertIs(d,"pdf",["string",Uint8Array,ArrayBuffer,[g,"PDFDocument"]]),assertIs(x,"indices",[Array]),d instanceof g?(w=d,[3,3]):[3,1];case 1:return[4,g.load(d)];case 2:w=C.sent(),C.label=3;case 3:return b=w,S=pluckIndices(b.getPages(),x),[2,this.embedPages(S)]}})})},g.prototype.embedPage=function(d,x,b){return __awaiter(this,void 0,void 0,function(){var w;return __generator(this,function(S){switch(S.label){case 0:return assertIs(d,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([d],[x],[b])];case 1:return w=S.sent()[0],[2,w]}})})},g.prototype.embedPages=function(d,x,b){return x===void 0&&(x=[]),b===void 0&&(b=[]),__awaiter(this,void 0,void 0,function(){var k,D,w,S,C,F,E,k,D,M,L,R,U,j,H;return __generator(this,function(z){switch(z.label){case 0:if(d.length===0)return[2,[]];for(k=0,D=d.length-1;k<D;k++)if(w=d[k],S=d[k+1],w.node.context!==S.node.context)throw new PageEmbeddingMismatchedContextError;C=d[0].node.context,F=C===this.context?function(V){return V}:PDFObjectCopier.for(C,this.context).copy,E=new Array(d.length),k=0,D=d.length,z.label=1;case 1:return k<D?(M=F(d[k].node),L=x[k],R=b[k],[4,PDFPageEmbedder.for(M,L,R)]):[3,4];case 2:U=z.sent(),j=this.context.nextRef(),E[k]=PDFEmbeddedPage.of(j,this,U),z.label=3;case 3:return k++,[3,1];case 4:return(H=this.embeddedPages).push.apply(H,E),[2,E]}})})},g.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){switch(d.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return d.sent(),[4,this.embedAll(this.images)];case 2:return d.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return d.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return d.sent(),[4,this.embedAll(this.javaScripts)];case 5:return d.sent(),[2]}})})},g.prototype.save=function(d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var x,b,w,S,C;return __generator(this,function(F){switch(F.label){case 0:return x=d.useObjectStreams,b=x===void 0?!0:x,w=d.objectsPerTick,S=w===void 0?50:w,assertIs(b,"useObjectStreams",["boolean"]),assertIs(S,"objectsPerTick",["number"]),[4,this.prepareForSave(d)];case 1:return F.sent(),C=b?PDFStreamWriter:PDFWriter,[2,C.forContext(this.context,S).serializeToBuffer()]}})})},g.prototype.saveIncremental=function(d,x){return x===void 0&&(x={}),__awaiter(this,void 0,void 0,function(){var b,w,S,C;return __generator(this,function(F){switch(F.label){case 0:return b=x.objectsPerTick,w=b===void 0?50:b,assertIs(w,"objectsPerTick",["number"]),S=__assign(__assign({},x),{addDefaultPage:!1,updateFieldAppearances:!1}),[4,this.prepareForSave(S)];case 1:return F.sent(),C=this.context.pdfFileDetails.useObjectStreams?PDFStreamWriter:PDFWriter,[2,C.forContextWithSnapshot(this.context,w,d).serializeToBuffer()]}})})},g.prototype.saveAsBase64=function(d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var x,b,w,S,C;return __generator(this,function(F){switch(F.label){case 0:return x=d.dataUri,b=x===void 0?!1:x,w=__rest(d,["dataUri"]),assertIs(b,"dataUri",["boolean"]),[4,this.save(w)];case 1:return S=F.sent(),C=encodeToBase64(S),[2,b?"data:application/pdf;base64,"+C:C]}})})},g.prototype.findPageForAnnotationRef=function(d){for(var x=this.getPages(),b=0,w=x.length;b<w;b++){var S=x[b],C=S.node.Annots();if(C?.indexOf(d)!==void 0)return S}},g.prototype.takeSnapshot=function(){var d=[];return new IncrementalDocumentSnapshot(this.context.largestObjectNumber,d,this.context.pdfFileDetails.pdfSize,this.context.pdfFileDetails.prevStartXRef,this.context)},g.prototype.prepareForSave=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,w,S,C;return __generator(this,function(F){switch(F.label){case 0:return x=d.addDefaultPage,b=x===void 0?!0:x,w=d.updateFieldAppearances,S=w===void 0?!0:w,assertIs(b,"addDefaultPage",["boolean"]),assertIs(S,"updateFieldAppearances",["boolean"]),b&&this.getPageCount()===0&&this.addPage(),S&&(C=this.formCache.getValue(),C&&C.updateFieldAppearances()),[4,this.flush()];case 1:return F.sent(),[2]}})})},g.prototype.embedAll=function(d){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(w){switch(w.label){case 0:x=0,b=d.length,w.label=1;case 1:return x<b?[4,d[x].embed()]:[3,4];case 2:w.sent(),w.label=3;case 3:return x++,[3,1];case 4:return[2]}})})},g.prototype.updateInfoDict=function(){var d="pdf-lib (https://github.com/Hopding/pdf-lib)",x=new Date,b=this.getInfoDict();this.setProducer(d),this.setModificationDate(x),b.get(PDFName.of("Creator"))||this.setCreator(d),b.get(PDFName.of("CreationDate"))||this.setCreationDate(x)},g.prototype.getInfoDict=function(){var d=this.context.lookup(this.context.trailerInfo.Info);if(d instanceof PDFDict)return d;var x=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(x),x},g.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},g}();function assertIsLiteralOrHexString(g){if(!(g instanceof PDFHexString)&&!(g instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],g)}var BlendMode;(function(g){g.Normal="Normal",g.Multiply="Multiply",g.Screen="Screen",g.Overlay="Overlay",g.Darken="Darken",g.Lighten="Lighten",g.ColorDodge="ColorDodge",g.ColorBurn="ColorBurn",g.HardLight="HardLight",g.SoftLight="SoftLight",g.Difference="Difference",g.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function g(d,x,b){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(d,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(x,"ref",[[PDFRef,"PDFRef"]]),assertIs(b,"doc",[[PDFDocument,"PDFDocument"]]),this.node=d,this.ref=x,this.doc=b}return g.prototype.setRotation=function(d){var x=toDegrees(d);assertMultiple(x,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(x))},g.prototype.getRotation=function(){var d=this.node.Rotate();return degrees(d?d.asNumber():0)},g.prototype.setSize=function(d,x){assertIs(d,"width",["number"]),assertIs(x,"height",["number"]);var b=this.getMediaBox();this.setMediaBox(b.x,b.y,d,x);var w=this.getCropBox(),S=this.getBleedBox(),C=this.getTrimBox(),F=this.getArtBox(),E=this.node.CropBox(),k=this.node.BleedBox(),D=this.node.TrimBox(),M=this.node.ArtBox();E&&rectanglesAreEqual(w,b)&&this.setCropBox(b.x,b.y,d,x),k&&rectanglesAreEqual(S,b)&&this.setBleedBox(b.x,b.y,d,x),D&&rectanglesAreEqual(C,b)&&this.setTrimBox(b.x,b.y,d,x),M&&rectanglesAreEqual(F,b)&&this.setArtBox(b.x,b.y,d,x)},g.prototype.setWidth=function(d){assertIs(d,"width",["number"]),this.setSize(d,this.getSize().height)},g.prototype.setHeight=function(d){assertIs(d,"height",["number"]),this.setSize(this.getSize().width,d)},g.prototype.setMediaBox=function(d,x,b,w){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(w,"height",["number"]);var S=this.doc.context.obj([d,x,d+b,x+w]);this.node.set(PDFName.MediaBox,S)},g.prototype.setCropBox=function(d,x,b,w){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(w,"height",["number"]);var S=this.doc.context.obj([d,x,d+b,x+w]);this.node.set(PDFName.CropBox,S)},g.prototype.setBleedBox=function(d,x,b,w){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(w,"height",["number"]);var S=this.doc.context.obj([d,x,d+b,x+w]);this.node.set(PDFName.BleedBox,S)},g.prototype.setTrimBox=function(d,x,b,w){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(w,"height",["number"]);var S=this.doc.context.obj([d,x,d+b,x+w]);this.node.set(PDFName.TrimBox,S)},g.prototype.setArtBox=function(d,x,b,w){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(w,"height",["number"]);var S=this.doc.context.obj([d,x,d+b,x+w]);this.node.set(PDFName.ArtBox,S)},g.prototype.getSize=function(){var d=this.getMediaBox(),x=d.width,b=d.height;return{width:x,height:b}},g.prototype.getWidth=function(){return this.getSize().width},g.prototype.getHeight=function(){return this.getSize().height},g.prototype.getMediaBox=function(){var d=this.node.MediaBox();return d.asRectangle()},g.prototype.getCropBox=function(){var d,x=this.node.CropBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getMediaBox()},g.prototype.getBleedBox=function(){var d,x=this.node.BleedBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getCropBox()},g.prototype.getTrimBox=function(){var d,x=this.node.TrimBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getCropBox()},g.prototype.getArtBox=function(){var d,x=this.node.ArtBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getCropBox()},g.prototype.translateContent=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.node.normalize(),this.getContentStream();var b=this.createContentStream(pushGraphicsState(),translate(d,x)),w=this.doc.context.register(b),S=this.createContentStream(popGraphicsState()),C=this.doc.context.register(S);this.node.wrapContentStreams(w,C)},g.prototype.scale=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.setSize(this.getWidth()*d,this.getHeight()*x),this.scaleContent(d,x),this.scaleAnnotations(d,x)},g.prototype.scaleContent=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.node.normalize(),this.getContentStream();var b=this.createContentStream(pushGraphicsState(),scale(d,x)),w=this.doc.context.register(b),S=this.createContentStream(popGraphicsState()),C=this.doc.context.register(S);this.node.wrapContentStreams(w,C)},g.prototype.scaleAnnotations=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]);var b=this.node.Annots();if(b)for(var w=0;w<b.size();w++){var S=b.lookup(w);S instanceof PDFDict&&this.scaleAnnot(S,d,x)}},g.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},g.prototype.setFont=function(d){assertIs(d,"font",[[PDFFont,"PDFFont"]]),this.font=d,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},g.prototype.setFontSize=function(d){assertIs(d,"fontSize",["number"]),this.fontSize=d},g.prototype.setFontColor=function(d){assertIs(d,"fontColor",[[Object,"Color"]]),this.fontColor=d},g.prototype.setLineHeight=function(d){assertIs(d,"lineHeight",["number"]),this.lineHeight=d},g.prototype.getPosition=function(){return{x:this.x,y:this.y}},g.prototype.getX=function(){return this.x},g.prototype.getY=function(){return this.y},g.prototype.moveTo=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.x=d,this.y=x},g.prototype.moveDown=function(d){assertIs(d,"yDecrease",["number"]),this.y-=d},g.prototype.moveUp=function(d){assertIs(d,"yIncrease",["number"]),this.y+=d},g.prototype.moveLeft=function(d){assertIs(d,"xDecrease",["number"]),this.x-=d},g.prototype.moveRight=function(d){assertIs(d,"xIncrease",["number"]),this.x+=d},g.prototype.pushOperators=function(){for(var d=[],x=0;x<arguments.length;x++)d[x]=arguments[x];assertEachIs(d,"operator",[[PDFOperator,"PDFOperator"]]);var b=this.getContentStream();b.push.apply(b,d)},g.prototype.drawText=function(d,x){var b,w,S,C,F,E,k;x===void 0&&(x={}),assertIs(d,"text",["string"]),assertOrUndefined(x.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertOrUndefined(x.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(x.size,"options.size",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(x.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(x.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(x.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);for(var D=this.setOrEmbedFont(x.font),M=D.oldFont,L=D.newFont,R=D.newFontKey,U=x.size||this.fontSize,j=x.wordBreaks||this.doc.defaultWordBreaks,H=function(Q){return L.widthOfTextAtSize(Q,U)},z=x.maxWidth===void 0?lineSplit(cleanText(d)):breakTextIntoLines(d,j,x.maxWidth,H),V=new Array(z.length),G=0,$=z.length;G<$;G++)V[G]=L.encodeText(z[G]);var K=this.maybeEmbedGraphicsState({opacity:x.opacity,blendMode:x.blendMode}),Z=this.getContentStream();Z.push.apply(Z,drawLinesOfText(V,{color:(b=x.color)!==null&&b!==void 0?b:this.fontColor,font:R,size:U,rotate:(w=x.rotate)!==null&&w!==void 0?w:degrees(0),xSkew:(S=x.xSkew)!==null&&S!==void 0?S:degrees(0),ySkew:(C=x.ySkew)!==null&&C!==void 0?C:degrees(0),x:(F=x.x)!==null&&F!==void 0?F:this.x,y:(E=x.y)!==null&&E!==void 0?E:this.y,lineHeight:(k=x.lineHeight)!==null&&k!==void 0?k:this.lineHeight,graphicsState:K})),x.font&&(M?this.setFont(M):this.resetFont())},g.prototype.drawImage=function(d,x){var b,w,S,C,F,E,k;x===void 0&&(x={}),assertIs(d,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.width,"options.width",["number"]),assertOrUndefined(x.height,"options.height",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(x.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);var D=this.node.newXObject("Image",d.ref),M=this.maybeEmbedGraphicsState({opacity:x.opacity,blendMode:x.blendMode}),L=this.getContentStream();L.push.apply(L,drawImage(D,{x:(b=x.x)!==null&&b!==void 0?b:this.x,y:(w=x.y)!==null&&w!==void 0?w:this.y,width:(S=x.width)!==null&&S!==void 0?S:d.size().width,height:(C=x.height)!==null&&C!==void 0?C:d.size().height,rotate:(F=x.rotate)!==null&&F!==void 0?F:degrees(0),xSkew:(E=x.xSkew)!==null&&E!==void 0?E:degrees(0),ySkew:(k=x.ySkew)!==null&&k!==void 0?k:degrees(0),graphicsState:M}))},g.prototype.drawPage=function(d,x){var b,w,S,C,F;x===void 0&&(x={}),assertIs(d,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.xScale,"options.xScale",["number"]),assertOrUndefined(x.yScale,"options.yScale",["number"]),assertOrUndefined(x.width,"options.width",["number"]),assertOrUndefined(x.height,"options.height",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(x.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);var E=this.node.newXObject("EmbeddedPdfPage",d.ref),k=this.maybeEmbedGraphicsState({opacity:x.opacity,blendMode:x.blendMode}),D=x.width!==void 0?x.width/d.width:x.xScale!==void 0?x.xScale:1,M=x.height!==void 0?x.height/d.height:x.yScale!==void 0?x.yScale:1,L=this.getContentStream();L.push.apply(L,drawPage(E,{x:(b=x.x)!==null&&b!==void 0?b:this.x,y:(w=x.y)!==null&&w!==void 0?w:this.y,xScale:D,yScale:M,rotate:(S=x.rotate)!==null&&S!==void 0?S:degrees(0),xSkew:(C=x.xSkew)!==null&&C!==void 0?C:degrees(0),ySkew:(F=x.ySkew)!==null&&F!==void 0?F:degrees(0),graphicsState:k}))},g.prototype.drawSvgPath=function(d,x){var b,w,S,C,F,E,k,D,M;x===void 0&&(x={}),assertIs(d,"path",["string"]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.scale,"options.scale",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(x.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertOrUndefined(x.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(x.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(x.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(x.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(x.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);var L=this.maybeEmbedGraphicsState({opacity:x.opacity,borderOpacity:x.borderOpacity,blendMode:x.blendMode});!("color"in x)&&!("borderColor"in x)&&(x.borderColor=rgb(0,0,0));var R=this.getContentStream();R.push.apply(R,drawSvgPath(d,{x:(b=x.x)!==null&&b!==void 0?b:this.x,y:(w=x.y)!==null&&w!==void 0?w:this.y,scale:x.scale,rotate:(S=x.rotate)!==null&&S!==void 0?S:degrees(0),color:(C=x.color)!==null&&C!==void 0?C:void 0,borderColor:(F=x.borderColor)!==null&&F!==void 0?F:void 0,borderWidth:(E=x.borderWidth)!==null&&E!==void 0?E:0,borderDashArray:(k=x.borderDashArray)!==null&&k!==void 0?k:void 0,borderDashPhase:(D=x.borderDashPhase)!==null&&D!==void 0?D:void 0,borderLineCap:(M=x.borderLineCap)!==null&&M!==void 0?M:void 0,graphicsState:L}))},g.prototype.drawLine=function(d){var x,b,w,S,C;assertIs(d.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(d.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(d.start.x,"options.start.x",["number"]),assertIs(d.start.y,"options.start.y",["number"]),assertIs(d.end.x,"options.end.x",["number"]),assertIs(d.end.y,"options.end.y",["number"]),assertOrUndefined(d.thickness,"options.thickness",["number"]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertOrUndefined(d.dashArray,"options.dashArray",[Array]),assertOrUndefined(d.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(d.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var F=this.maybeEmbedGraphicsState({borderOpacity:d.opacity,blendMode:d.blendMode});"color"in d||(d.color=rgb(0,0,0));var E=this.getContentStream();E.push.apply(E,drawLine({start:d.start,end:d.end,thickness:(x=d.thickness)!==null&&x!==void 0?x:1,color:(b=d.color)!==null&&b!==void 0?b:void 0,dashArray:(w=d.dashArray)!==null&&w!==void 0?w:void 0,dashPhase:(S=d.dashPhase)!==null&&S!==void 0?S:void 0,lineCap:(C=d.lineCap)!==null&&C!==void 0?C:void 0,graphicsState:F}))},g.prototype.drawRectangle=function(d){var x,b,w,S,C,F,E,k,D,M,L,R,U;d===void 0&&(d={}),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.width,"options.width",["number"]),assertOrUndefined(d.height,"options.height",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(d.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(d.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertOrUndefined(d.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(d.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(d.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(d.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(d.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var j=this.maybeEmbedGraphicsState({opacity:d.opacity,borderOpacity:d.borderOpacity,blendMode:d.blendMode});!("color"in d)&&!("borderColor"in d)&&(d.color=rgb(0,0,0));var H=this.getContentStream();H.push.apply(H,drawRectangle({x:(x=d.x)!==null&&x!==void 0?x:this.x,y:(b=d.y)!==null&&b!==void 0?b:this.y,width:(w=d.width)!==null&&w!==void 0?w:150,height:(S=d.height)!==null&&S!==void 0?S:100,rotate:(C=d.rotate)!==null&&C!==void 0?C:degrees(0),xSkew:(F=d.xSkew)!==null&&F!==void 0?F:degrees(0),ySkew:(E=d.ySkew)!==null&&E!==void 0?E:degrees(0),borderWidth:(k=d.borderWidth)!==null&&k!==void 0?k:0,color:(D=d.color)!==null&&D!==void 0?D:void 0,borderColor:(M=d.borderColor)!==null&&M!==void 0?M:void 0,borderDashArray:(L=d.borderDashArray)!==null&&L!==void 0?L:void 0,borderDashPhase:(R=d.borderDashPhase)!==null&&R!==void 0?R:void 0,graphicsState:j,borderLineCap:(U=d.borderLineCap)!==null&&U!==void 0?U:void 0}))},g.prototype.drawSquare=function(d){d===void 0&&(d={});var x=d.size;assertOrUndefined(x,"size",["number"]),this.drawRectangle(__assign(__assign({},d),{width:x,height:x}))},g.prototype.drawEllipse=function(d){var x,b,w,S,C,F,E,k,D,M,L;d===void 0&&(d={}),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.xScale,"options.xScale",["number"]),assertOrUndefined(d.yScale,"options.yScale",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertOrUndefined(d.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(d.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(d.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(d.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(d.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(d.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var R=this.maybeEmbedGraphicsState({opacity:d.opacity,borderOpacity:d.borderOpacity,blendMode:d.blendMode});!("color"in d)&&!("borderColor"in d)&&(d.color=rgb(0,0,0));var U=this.getContentStream();U.push.apply(U,drawEllipse({x:(x=d.x)!==null&&x!==void 0?x:this.x,y:(b=d.y)!==null&&b!==void 0?b:this.y,xScale:(w=d.xScale)!==null&&w!==void 0?w:100,yScale:(S=d.yScale)!==null&&S!==void 0?S:100,rotate:(C=d.rotate)!==null&&C!==void 0?C:void 0,color:(F=d.color)!==null&&F!==void 0?F:void 0,borderColor:(E=d.borderColor)!==null&&E!==void 0?E:void 0,borderWidth:(k=d.borderWidth)!==null&&k!==void 0?k:0,borderDashArray:(D=d.borderDashArray)!==null&&D!==void 0?D:void 0,borderDashPhase:(M=d.borderDashPhase)!==null&&M!==void 0?M:void 0,borderLineCap:(L=d.borderLineCap)!==null&&L!==void 0?L:void 0,graphicsState:R}))},g.prototype.drawCircle=function(d){d===void 0&&(d={});var x=d.size,b=x===void 0?100:x;assertOrUndefined(b,"size",["number"]),this.drawEllipse(__assign(__assign({},d),{xScale:b,yScale:b}))},g.prototype.setOrEmbedFont=function(d){var x=this.font,b=this.fontKey;d?this.setFont(d):this.getFont();var w=this.font,S=this.fontKey;return{oldFont:x,oldFontKey:b,newFont:w,newFontKey:S}},g.prototype.getFont=function(){if(!this.font||!this.fontKey){var d=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(d)}return[this.font,this.fontKey]},g.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},g.prototype.getContentStream=function(d){return d===void 0&&(d=!0),d&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},g.prototype.createContentStream=function(){for(var d=[],x=0;x<arguments.length;x++)d[x]=arguments[x];var b=this.doc.context.obj({}),w=PDFContentStream.of(b,d);return w},g.prototype.maybeEmbedGraphicsState=function(d){var x=d.opacity,b=d.borderOpacity,w=d.blendMode;if(!(x===void 0&&b===void 0&&w===void 0)){var S=this.doc.context.obj({Type:"ExtGState",ca:x,CA:b,BM:w}),C=this.node.newExtGState("GS",S);return C}},g.prototype.scaleAnnot=function(d,x,b){for(var w=["RD","CL","Vertices","QuadPoints","L","Rect"],S=0,C=w.length;S<C;S++){var F=d.lookup(PDFName.of(w[S]));F instanceof PDFArray&&F.scalePDFNumbers(x,b)}var E=d.lookup(PDFName.of("InkList"));if(E instanceof PDFArray)for(var S=0,C=E.size();S<C;S++){var k=E.lookup(S);k instanceof PDFArray&&k.scalePDFNumbers(x,b)}},g.of=function(d,x,b){return new g(d,x,b)},g.create=function(d){assertIs(d,"doc",[[PDFDocument,"PDFDocument"]]);var x=PDFRef.of(-1),b=PDFPageLeaf.withContextAndParent(d.context,x),w=d.context.register(b);return new g(b,w,d)},g}(),PDFButton=function(g){__extends(d,g);function d(x,b,w){var S=g.call(this,x,b,w)||this;return assertIs(x,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),S.acroField=x,S}return d.prototype.setImage=function(x,b){b===void 0&&(b=ImageAlignment.Center);for(var w=this.acroField.getWidgets(),S=0,C=w.length;S<C;S++){var F=w[S],E=this.createImageAppearanceStream(F,x,b);this.updateWidgetAppearances(F,{normal:E})}this.markAsClean()},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.addToPage=function(x,b,w){var S,C,F,E,k,D,M,L,R,U,j;assertOrUndefined(x,"text",["string"]),assertOrUndefined(b,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(w);var H=this.createWidget({x:((S=w?.x)!==null&&S!==void 0?S:0)-((C=w?.borderWidth)!==null&&C!==void 0?C:0)/2,y:((F=w?.y)!==null&&F!==void 0?F:0)-((E=w?.borderWidth)!==null&&E!==void 0?E:0)/2,width:(k=w?.width)!==null&&k!==void 0?k:100,height:(D=w?.height)!==null&&D!==void 0?D:50,textColor:(M=w?.textColor)!==null&&M!==void 0?M:rgb(0,0,0),backgroundColor:(L=w?.backgroundColor)!==null&&L!==void 0?L:rgb(.75,.75,.75),borderColor:w?.borderColor,borderWidth:(R=w?.borderWidth)!==null&&R!==void 0?R:0,rotate:(U=w?.rotate)!==null&&U!==void 0?U:degrees(0),caption:x,hidden:w?.hidden,page:b.ref}),z=this.doc.context.register(H.dict);this.acroField.addWidget(z);var V=(j=w?.font)!==null&&j!==void 0?j:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(H,V),b.node.addAnnot(z)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),w=0,S=b.length;w<S;w++){var C=b[w],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var w=this.acroField.getWidgets(),S=0,C=w.length;S<C;S++){var F=w[S];this.updateWidgetAppearance(F,x,b)}},d.prototype.updateWidgetAppearance=function(x,b,w){var S=w??defaultButtonAppearanceProvider,C=normalizeAppearance(S(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,w){return new d(x,b,w)},d}(PDFField);const PDFButton$1=PDFButton;var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code.length;i$2<len;++i$2)lookup[i$2]=code[i$2],revLookup[code.charCodeAt(i$2)]=i$2;revLookup[45]=62;revLookup[95]=63;function getLens(g){var d=g.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=g.indexOf("=");x===-1&&(x=d);var b=x===d?0:4-x%4;return[x,b]}function byteLength(g){var d=getLens(g),x=d[0],b=d[1];return(x+b)*3/4-b}function _byteLength(g,d,x){return(d+x)*3/4-x}function toByteArray(g){var d,x=getLens(g),b=x[0],w=x[1],S=new Arr(_byteLength(g,b,w)),C=0,F=w>0?b-4:b,E;for(E=0;E<F;E+=4)d=revLookup[g.charCodeAt(E)]<<18|revLookup[g.charCodeAt(E+1)]<<12|revLookup[g.charCodeAt(E+2)]<<6|revLookup[g.charCodeAt(E+3)],S[C++]=d>>16&255,S[C++]=d>>8&255,S[C++]=d&255;return w===2&&(d=revLookup[g.charCodeAt(E)]<<2|revLookup[g.charCodeAt(E+1)]>>4,S[C++]=d&255),w===1&&(d=revLookup[g.charCodeAt(E)]<<10|revLookup[g.charCodeAt(E+1)]<<4|revLookup[g.charCodeAt(E+2)]>>2,S[C++]=d>>8&255,S[C++]=d&255),S}function tripletToBase64(g){return lookup[g>>18&63]+lookup[g>>12&63]+lookup[g>>6&63]+lookup[g&63]}function encodeChunk(g,d,x){for(var b,w=[],S=d;S<x;S+=3)b=(g[S]<<16&16711680)+(g[S+1]<<8&65280)+(g[S+2]&255),w.push(tripletToBase64(b));return w.join("")}function fromByteArray(g){for(var d,x=g.length,b=x%3,w=[],S=16383,C=0,F=x-b;C<F;C+=S)w.push(encodeChunk(g,C,C+S>F?F:C+S));return b===1?(d=g[x-1],w.push(lookup[d>>2]+lookup[d<<4&63]+"==")):b===2&&(d=(g[x-2]<<8)+g[x-1],w.push(lookup[d>>10]+lookup[d>>4&63]+lookup[d<<2&63]+"=")),w.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(g,d,x,b,w){var S,C,F=w*8-b-1,E=(1<<F)-1,k=E>>1,D=-7,M=x?w-1:0,L=x?-1:1,R=g[d+M];for(M+=L,S=R&(1<<-D)-1,R>>=-D,D+=F;D>0;S=S*256+g[d+M],M+=L,D-=8);for(C=S&(1<<-D)-1,S>>=-D,D+=b;D>0;C=C*256+g[d+M],M+=L,D-=8);if(S===0)S=1-k;else{if(S===E)return C?NaN:(R?-1:1)*(1/0);C=C+Math.pow(2,b),S=S-k}return(R?-1:1)*C*Math.pow(2,S-b)};ieee754.write=function(g,d,x,b,w,S){var C,F,E,k=S*8-w-1,D=(1<<k)-1,M=D>>1,L=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=b?0:S-1,U=b?1:-1,j=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(F=isNaN(d)?1:0,C=D):(C=Math.floor(Math.log(d)/Math.LN2),d*(E=Math.pow(2,-C))<1&&(C--,E*=2),C+M>=1?d+=L/E:d+=L*Math.pow(2,1-M),d*E>=2&&(C++,E/=2),C+M>=D?(F=0,C=D):C+M>=1?(F=(d*E-1)*Math.pow(2,w),C=C+M):(F=d*Math.pow(2,M-1)*Math.pow(2,w),C=0));w>=8;g[x+R]=F&255,R+=U,F/=256,w-=8);for(C=C<<w|F,k+=w;k>0;g[x+R]=C&255,R+=U,C/=256,k-=8);g[x+R-U]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(g){const d=base64Js,x=ieee754,b=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.Buffer=F,g.SlowBuffer=V,g.INSPECT_MAX_BYTES=50;const w=2147483647;g.kMaxLength=w,F.TYPED_ARRAY_SUPPORT=S(),!F.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function S(){try{const ye=new Uint8Array(1),ie={foo:function(){return 42}};return Object.setPrototypeOf(ie,Uint8Array.prototype),Object.setPrototypeOf(ye,ie),ye.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.buffer}}),Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.byteOffset}});function C(ye){if(ye>w)throw new RangeError('The value "'+ye+'" is invalid for option "size"');const ie=new Uint8Array(ye);return Object.setPrototypeOf(ie,F.prototype),ie}function F(ye,ie,de){if(typeof ye=="number"){if(typeof ie=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(ye)}return E(ye,ie,de)}F.poolSize=8192;function E(ye,ie,de){if(typeof ye=="string")return L(ye,ie);if(ArrayBuffer.isView(ye))return U(ye);if(ye==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye);if(pe(ye,ArrayBuffer)||ye&&pe(ye.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(ye,SharedArrayBuffer)||ye&&pe(ye.buffer,SharedArrayBuffer)))return j(ye,ie,de);if(typeof ye=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ke=ye.valueOf&&ye.valueOf();if(ke!=null&&ke!==ye)return F.from(ke,ie,de);const Me=H(ye);if(Me)return Me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ye[Symbol.toPrimitive]=="function")return F.from(ye[Symbol.toPrimitive]("string"),ie,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye)}F.from=function(ye,ie,de){return E(ye,ie,de)},Object.setPrototypeOf(F.prototype,Uint8Array.prototype),Object.setPrototypeOf(F,Uint8Array);function k(ye){if(typeof ye!="number")throw new TypeError('"size" argument must be of type number');if(ye<0)throw new RangeError('The value "'+ye+'" is invalid for option "size"')}function D(ye,ie,de){return k(ye),ye<=0?C(ye):ie!==void 0?typeof de=="string"?C(ye).fill(ie,de):C(ye).fill(ie):C(ye)}F.alloc=function(ye,ie,de){return D(ye,ie,de)};function M(ye){return k(ye),C(ye<0?0:z(ye)|0)}F.allocUnsafe=function(ye){return M(ye)},F.allocUnsafeSlow=function(ye){return M(ye)};function L(ye,ie){if((typeof ie!="string"||ie==="")&&(ie="utf8"),!F.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);const de=G(ye,ie)|0;let ke=C(de);const Me=ke.write(ye,ie);return Me!==de&&(ke=ke.slice(0,Me)),ke}function R(ye){const ie=ye.length<0?0:z(ye.length)|0,de=C(ie);for(let ke=0;ke<ie;ke+=1)de[ke]=ye[ke]&255;return de}function U(ye){if(pe(ye,Uint8Array)){const ie=new Uint8Array(ye);return j(ie.buffer,ie.byteOffset,ie.byteLength)}return R(ye)}function j(ye,ie,de){if(ie<0||ye.byteLength<ie)throw new RangeError('"offset" is outside of buffer bounds');if(ye.byteLength<ie+(de||0))throw new RangeError('"length" is outside of buffer bounds');let ke;return ie===void 0&&de===void 0?ke=new Uint8Array(ye):de===void 0?ke=new Uint8Array(ye,ie):ke=new Uint8Array(ye,ie,de),Object.setPrototypeOf(ke,F.prototype),ke}function H(ye){if(F.isBuffer(ye)){const ie=z(ye.length)|0,de=C(ie);return de.length===0||ye.copy(de,0,0,ie),de}if(ye.length!==void 0)return typeof ye.length!="number"||Fe(ye.length)?C(0):R(ye);if(ye.type==="Buffer"&&Array.isArray(ye.data))return R(ye.data)}function z(ye){if(ye>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return ye|0}function V(ye){return+ye!=ye&&(ye=0),F.alloc(+ye)}F.isBuffer=function(ie){return ie!=null&&ie._isBuffer===!0&&ie!==F.prototype},F.compare=function(ie,de){if(pe(ie,Uint8Array)&&(ie=F.from(ie,ie.offset,ie.byteLength)),pe(de,Uint8Array)&&(de=F.from(de,de.offset,de.byteLength)),!F.isBuffer(ie)||!F.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ie===de)return 0;let ke=ie.length,Me=de.length;for(let je=0,He=Math.min(ke,Me);je<He;++je)if(ie[je]!==de[je]){ke=ie[je],Me=de[je];break}return ke<Me?-1:Me<ke?1:0},F.isEncoding=function(ie){switch(String(ie).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},F.concat=function(ie,de){if(!Array.isArray(ie))throw new TypeError('"list" argument must be an Array of Buffers');if(ie.length===0)return F.alloc(0);let ke;if(de===void 0)for(de=0,ke=0;ke<ie.length;++ke)de+=ie[ke].length;const Me=F.allocUnsafe(de);let je=0;for(ke=0;ke<ie.length;++ke){let He=ie[ke];if(pe(He,Uint8Array))je+He.length>Me.length?(F.isBuffer(He)||(He=F.from(He)),He.copy(Me,je)):Uint8Array.prototype.set.call(Me,He,je);else if(F.isBuffer(He))He.copy(Me,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=He.length}return Me};function G(ye,ie){if(F.isBuffer(ye))return ye.length;if(ArrayBuffer.isView(ye)||pe(ye,ArrayBuffer))return ye.byteLength;if(typeof ye!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ye);const de=ye.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&de===0)return 0;let Me=!1;for(;;)switch(ie){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return ce(ye).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de*2;case"hex":return de>>>1;case"base64":return Se(ye).length;default:if(Me)return ke?-1:ce(ye).length;ie=(""+ie).toLowerCase(),Me=!0}}F.byteLength=G;function $(ye,ie,de){let ke=!1;if((ie===void 0||ie<0)&&(ie=0),ie>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0,ie>>>=0,de<=ie))return"";for(ye||(ye="utf8");;)switch(ye){case"hex":return Oe(this,ie,de);case"utf8":case"utf-8":return oe(this,ie,de);case"ascii":return Ce(this,ie,de);case"latin1":case"binary":return Ne(this,ie,de);case"base64":return we(this,ie,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,ie,de);default:if(ke)throw new TypeError("Unknown encoding: "+ye);ye=(ye+"").toLowerCase(),ke=!0}}F.prototype._isBuffer=!0;function K(ye,ie,de){const ke=ye[ie];ye[ie]=ye[de],ye[de]=ke}F.prototype.swap16=function(){const ie=this.length;if(ie%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let de=0;de<ie;de+=2)K(this,de,de+1);return this},F.prototype.swap32=function(){const ie=this.length;if(ie%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let de=0;de<ie;de+=4)K(this,de,de+3),K(this,de+1,de+2);return this},F.prototype.swap64=function(){const ie=this.length;if(ie%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let de=0;de<ie;de+=8)K(this,de,de+7),K(this,de+1,de+6),K(this,de+2,de+5),K(this,de+3,de+4);return this},F.prototype.toString=function(){const ie=this.length;return ie===0?"":arguments.length===0?oe(this,0,ie):$.apply(this,arguments)},F.prototype.toLocaleString=F.prototype.toString,F.prototype.equals=function(ie){if(!F.isBuffer(ie))throw new TypeError("Argument must be a Buffer");return this===ie?!0:F.compare(this,ie)===0},F.prototype.inspect=function(){let ie="";const de=g.INSPECT_MAX_BYTES;return ie=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(ie+=" ... "),"<Buffer "+ie+">"},b&&(F.prototype[b]=F.prototype.inspect),F.prototype.compare=function(ie,de,ke,Me,je){if(pe(ie,Uint8Array)&&(ie=F.from(ie,ie.offset,ie.byteLength)),!F.isBuffer(ie))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ie);if(de===void 0&&(de=0),ke===void 0&&(ke=ie?ie.length:0),Me===void 0&&(Me=0),je===void 0&&(je=this.length),de<0||ke>ie.length||Me<0||je>this.length)throw new RangeError("out of range index");if(Me>=je&&de>=ke)return 0;if(Me>=je)return-1;if(de>=ke)return 1;if(de>>>=0,ke>>>=0,Me>>>=0,je>>>=0,this===ie)return 0;let He=je-Me,ze=ke-de;const Ve=Math.min(He,ze),Ge=this.slice(Me,je),$e=ie.slice(de,ke);for(let Xe=0;Xe<Ve;++Xe)if(Ge[Xe]!==$e[Xe]){He=Ge[Xe],ze=$e[Xe];break}return He<ze?-1:ze<He?1:0};function Z(ye,ie,de,ke,Me){if(ye.length===0)return-1;if(typeof de=="string"?(ke=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),de=+de,Fe(de)&&(de=Me?0:ye.length-1),de<0&&(de=ye.length+de),de>=ye.length){if(Me)return-1;de=ye.length-1}else if(de<0)if(Me)de=0;else return-1;if(typeof ie=="string"&&(ie=F.from(ie,ke)),F.isBuffer(ie))return ie.length===0?-1:Q(ye,ie,de,ke,Me);if(typeof ie=="number")return ie=ie&255,typeof Uint8Array.prototype.indexOf=="function"?Me?Uint8Array.prototype.indexOf.call(ye,ie,de):Uint8Array.prototype.lastIndexOf.call(ye,ie,de):Q(ye,[ie],de,ke,Me);throw new TypeError("val must be string, number or Buffer")}function Q(ye,ie,de,ke,Me){let je=1,He=ye.length,ze=ie.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(ye.length<2||ie.length<2)return-1;je=2,He/=2,ze/=2,de/=2}function Ve($e,Xe){return je===1?$e[Xe]:$e.readUInt16BE(Xe*je)}let Ge;if(Me){let $e=-1;for(Ge=de;Ge<He;Ge++)if(Ve(ye,Ge)===Ve(ie,$e===-1?0:Ge-$e)){if($e===-1&&($e=Ge),Ge-$e+1===ze)return $e*je}else $e!==-1&&(Ge-=Ge-$e),$e=-1}else for(de+ze>He&&(de=He-ze),Ge=de;Ge>=0;Ge--){let $e=!0;for(let Xe=0;Xe<ze;Xe++)if(Ve(ye,Ge+Xe)!==Ve(ie,Xe)){$e=!1;break}if($e)return Ge}return-1}F.prototype.includes=function(ie,de,ke){return this.indexOf(ie,de,ke)!==-1},F.prototype.indexOf=function(ie,de,ke){return Z(this,ie,de,ke,!0)},F.prototype.lastIndexOf=function(ie,de,ke){return Z(this,ie,de,ke,!1)};function ne(ye,ie,de,ke){de=Number(de)||0;const Me=ye.length-de;ke?(ke=Number(ke),ke>Me&&(ke=Me)):ke=Me;const je=ie.length;ke>je/2&&(ke=je/2);let He;for(He=0;He<ke;++He){const ze=parseInt(ie.substr(He*2,2),16);if(Fe(ze))return He;ye[de+He]=ze}return He}function le(ye,ie,de,ke){return ve(ce(ie,ye.length-de),ye,de,ke)}function fe(ye,ie,de,ke){return ve(se(ie),ye,de,ke)}function be(ye,ie,de,ke){return ve(Se(ie),ye,de,ke)}function me(ye,ie,de,ke){return ve(xe(ie,ye.length-de),ye,de,ke)}F.prototype.write=function(ie,de,ke,Me){if(de===void 0)Me="utf8",ke=this.length,de=0;else if(ke===void 0&&typeof de=="string")Me=de,ke=this.length,de=0;else if(isFinite(de))de=de>>>0,isFinite(ke)?(ke=ke>>>0,Me===void 0&&(Me="utf8")):(Me=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const je=this.length-de;if((ke===void 0||ke>je)&&(ke=je),ie.length>0&&(ke<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me||(Me="utf8");let He=!1;for(;;)switch(Me){case"hex":return ne(this,ie,de,ke);case"utf8":case"utf-8":return le(this,ie,de,ke);case"ascii":case"latin1":case"binary":return fe(this,ie,de,ke);case"base64":return be(this,ie,de,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,ie,de,ke);default:if(He)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),He=!0}},F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function we(ye,ie,de){return ie===0&&de===ye.length?d.fromByteArray(ye):d.fromByteArray(ye.slice(ie,de))}function oe(ye,ie,de){de=Math.min(ye.length,de);const ke=[];let Me=ie;for(;Me<de;){const je=ye[Me];let He=null,ze=je>239?4:je>223?3:je>191?2:1;if(Me+ze<=de){let Ve,Ge,$e,Xe;switch(ze){case 1:je<128&&(He=je);break;case 2:Ve=ye[Me+1],(Ve&192)===128&&(Xe=(je&31)<<6|Ve&63,Xe>127&&(He=Xe));break;case 3:Ve=ye[Me+1],Ge=ye[Me+2],(Ve&192)===128&&(Ge&192)===128&&(Xe=(je&15)<<12|(Ve&63)<<6|Ge&63,Xe>2047&&(Xe<55296||Xe>57343)&&(He=Xe));break;case 4:Ve=ye[Me+1],Ge=ye[Me+2],$e=ye[Me+3],(Ve&192)===128&&(Ge&192)===128&&($e&192)===128&&(Xe=(je&15)<<18|(Ve&63)<<12|(Ge&63)<<6|$e&63,Xe>65535&&Xe<1114112&&(He=Xe))}}He===null?(He=65533,ze=1):He>65535&&(He-=65536,ke.push(He>>>10&1023|55296),He=56320|He&1023),ke.push(He),Me+=ze}return Ae(ke)}const ge=4096;function Ae(ye){const ie=ye.length;if(ie<=ge)return String.fromCharCode.apply(String,ye);let de="",ke=0;for(;ke<ie;)de+=String.fromCharCode.apply(String,ye.slice(ke,ke+=ge));return de}function Ce(ye,ie,de){let ke="";de=Math.min(ye.length,de);for(let Me=ie;Me<de;++Me)ke+=String.fromCharCode(ye[Me]&127);return ke}function Ne(ye,ie,de){let ke="";de=Math.min(ye.length,de);for(let Me=ie;Me<de;++Me)ke+=String.fromCharCode(ye[Me]);return ke}function Oe(ye,ie,de){const ke=ye.length;(!ie||ie<0)&&(ie=0),(!de||de<0||de>ke)&&(de=ke);let Me="";for(let je=ie;je<de;++je)Me+=Re[ye[je]];return Me}function Be(ye,ie,de){const ke=ye.slice(ie,de);let Me="";for(let je=0;je<ke.length-1;je+=2)Me+=String.fromCharCode(ke[je]+ke[je+1]*256);return Me}F.prototype.slice=function(ie,de){const ke=this.length;ie=~~ie,de=de===void 0?ke:~~de,ie<0?(ie+=ke,ie<0&&(ie=0)):ie>ke&&(ie=ke),de<0?(de+=ke,de<0&&(de=0)):de>ke&&(de=ke),de<ie&&(de=ie);const Me=this.subarray(ie,de);return Object.setPrototypeOf(Me,F.prototype),Me};function Ie(ye,ie,de){if(ye%1!==0||ye<0)throw new RangeError("offset is not uint");if(ye+ie>de)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(ie,de,ke){ie=ie>>>0,de=de>>>0,ke||Ie(ie,de,this.length);let Me=this[ie],je=1,He=0;for(;++He<de&&(je*=256);)Me+=this[ie+He]*je;return Me},F.prototype.readUintBE=F.prototype.readUIntBE=function(ie,de,ke){ie=ie>>>0,de=de>>>0,ke||Ie(ie,de,this.length);let Me=this[ie+--de],je=1;for(;de>0&&(je*=256);)Me+=this[ie+--de]*je;return Me},F.prototype.readUint8=F.prototype.readUInt8=function(ie,de){return ie=ie>>>0,de||Ie(ie,1,this.length),this[ie]},F.prototype.readUint16LE=F.prototype.readUInt16LE=function(ie,de){return ie=ie>>>0,de||Ie(ie,2,this.length),this[ie]|this[ie+1]<<8},F.prototype.readUint16BE=F.prototype.readUInt16BE=function(ie,de){return ie=ie>>>0,de||Ie(ie,2,this.length),this[ie]<<8|this[ie+1]},F.prototype.readUint32LE=F.prototype.readUInt32LE=function(ie,de){return ie=ie>>>0,de||Ie(ie,4,this.length),(this[ie]|this[ie+1]<<8|this[ie+2]<<16)+this[ie+3]*16777216},F.prototype.readUint32BE=F.prototype.readUInt32BE=function(ie,de){return ie=ie>>>0,de||Ie(ie,4,this.length),this[ie]*16777216+(this[ie+1]<<16|this[ie+2]<<8|this[ie+3])},F.prototype.readBigUInt64LE=Te(function(ie){ie=ie>>>0,te(ie,"offset");const de=this[ie],ke=this[ie+7];(de===void 0||ke===void 0)&&X(ie,this.length-8);const Me=de+this[++ie]*2**8+this[++ie]*2**16+this[++ie]*2**24,je=this[++ie]+this[++ie]*2**8+this[++ie]*2**16+ke*2**24;return BigInt(Me)+(BigInt(je)<<BigInt(32))}),F.prototype.readBigUInt64BE=Te(function(ie){ie=ie>>>0,te(ie,"offset");const de=this[ie],ke=this[ie+7];(de===void 0||ke===void 0)&&X(ie,this.length-8);const Me=de*2**24+this[++ie]*2**16+this[++ie]*2**8+this[++ie],je=this[++ie]*2**24+this[++ie]*2**16+this[++ie]*2**8+ke;return(BigInt(Me)<<BigInt(32))+BigInt(je)}),F.prototype.readIntLE=function(ie,de,ke){ie=ie>>>0,de=de>>>0,ke||Ie(ie,de,this.length);let Me=this[ie],je=1,He=0;for(;++He<de&&(je*=256);)Me+=this[ie+He]*je;return je*=128,Me>=je&&(Me-=Math.pow(2,8*de)),Me},F.prototype.readIntBE=function(ie,de,ke){ie=ie>>>0,de=de>>>0,ke||Ie(ie,de,this.length);let Me=de,je=1,He=this[ie+--Me];for(;Me>0&&(je*=256);)He+=this[ie+--Me]*je;return je*=128,He>=je&&(He-=Math.pow(2,8*de)),He},F.prototype.readInt8=function(ie,de){return ie=ie>>>0,de||Ie(ie,1,this.length),this[ie]&128?(255-this[ie]+1)*-1:this[ie]},F.prototype.readInt16LE=function(ie,de){ie=ie>>>0,de||Ie(ie,2,this.length);const ke=this[ie]|this[ie+1]<<8;return ke&32768?ke|4294901760:ke},F.prototype.readInt16BE=function(ie,de){ie=ie>>>0,de||Ie(ie,2,this.length);const ke=this[ie+1]|this[ie]<<8;return ke&32768?ke|4294901760:ke},F.prototype.readInt32LE=function(ie,de){return ie=ie>>>0,de||Ie(ie,4,this.length),this[ie]|this[ie+1]<<8|this[ie+2]<<16|this[ie+3]<<24},F.prototype.readInt32BE=function(ie,de){return ie=ie>>>0,de||Ie(ie,4,this.length),this[ie]<<24|this[ie+1]<<16|this[ie+2]<<8|this[ie+3]},F.prototype.readBigInt64LE=Te(function(ie){ie=ie>>>0,te(ie,"offset");const de=this[ie],ke=this[ie+7];(de===void 0||ke===void 0)&&X(ie,this.length-8);const Me=this[ie+4]+this[ie+5]*2**8+this[ie+6]*2**16+(ke<<24);return(BigInt(Me)<<BigInt(32))+BigInt(de+this[++ie]*2**8+this[++ie]*2**16+this[++ie]*2**24)}),F.prototype.readBigInt64BE=Te(function(ie){ie=ie>>>0,te(ie,"offset");const de=this[ie],ke=this[ie+7];(de===void 0||ke===void 0)&&X(ie,this.length-8);const Me=(de<<24)+this[++ie]*2**16+this[++ie]*2**8+this[++ie];return(BigInt(Me)<<BigInt(32))+BigInt(this[++ie]*2**24+this[++ie]*2**16+this[++ie]*2**8+ke)}),F.prototype.readFloatLE=function(ie,de){return ie=ie>>>0,de||Ie(ie,4,this.length),x.read(this,ie,!0,23,4)},F.prototype.readFloatBE=function(ie,de){return ie=ie>>>0,de||Ie(ie,4,this.length),x.read(this,ie,!1,23,4)},F.prototype.readDoubleLE=function(ie,de){return ie=ie>>>0,de||Ie(ie,8,this.length),x.read(this,ie,!0,52,8)},F.prototype.readDoubleBE=function(ie,de){return ie=ie>>>0,de||Ie(ie,8,this.length),x.read(this,ie,!1,52,8)};function Ee(ye,ie,de,ke,Me,je){if(!F.isBuffer(ye))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie>Me||ie<je)throw new RangeError('"value" argument is out of bounds');if(de+ke>ye.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(ie,de,ke,Me){if(ie=+ie,de=de>>>0,ke=ke>>>0,!Me){const ze=Math.pow(2,8*ke)-1;Ee(this,ie,de,ke,ze,0)}let je=1,He=0;for(this[de]=ie&255;++He<ke&&(je*=256);)this[de+He]=ie/je&255;return de+ke},F.prototype.writeUintBE=F.prototype.writeUIntBE=function(ie,de,ke,Me){if(ie=+ie,de=de>>>0,ke=ke>>>0,!Me){const ze=Math.pow(2,8*ke)-1;Ee(this,ie,de,ke,ze,0)}let je=ke-1,He=1;for(this[de+je]=ie&255;--je>=0&&(He*=256);)this[de+je]=ie/He&255;return de+ke},F.prototype.writeUint8=F.prototype.writeUInt8=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,1,255,0),this[de]=ie&255,de+1},F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,2,65535,0),this[de]=ie&255,this[de+1]=ie>>>8,de+2},F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,2,65535,0),this[de]=ie>>>8,this[de+1]=ie&255,de+2},F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,4,4294967295,0),this[de+3]=ie>>>24,this[de+2]=ie>>>16,this[de+1]=ie>>>8,this[de]=ie&255,de+4},F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,4,4294967295,0),this[de]=ie>>>24,this[de+1]=ie>>>16,this[de+2]=ie>>>8,this[de+3]=ie&255,de+4};function Ue(ye,ie,de,ke,Me){J(ie,ke,Me,ye,de,7);let je=Number(ie&BigInt(4294967295));ye[de++]=je,je=je>>8,ye[de++]=je,je=je>>8,ye[de++]=je,je=je>>8,ye[de++]=je;let He=Number(ie>>BigInt(32)&BigInt(4294967295));return ye[de++]=He,He=He>>8,ye[de++]=He,He=He>>8,ye[de++]=He,He=He>>8,ye[de++]=He,de}function De(ye,ie,de,ke,Me){J(ie,ke,Me,ye,de,7);let je=Number(ie&BigInt(4294967295));ye[de+7]=je,je=je>>8,ye[de+6]=je,je=je>>8,ye[de+5]=je,je=je>>8,ye[de+4]=je;let He=Number(ie>>BigInt(32)&BigInt(4294967295));return ye[de+3]=He,He=He>>8,ye[de+2]=He,He=He>>8,ye[de+1]=He,He=He>>8,ye[de]=He,de+8}F.prototype.writeBigUInt64LE=Te(function(ie,de=0){return Ue(this,ie,de,BigInt(0),BigInt("0xffffffffffffffff"))}),F.prototype.writeBigUInt64BE=Te(function(ie,de=0){return De(this,ie,de,BigInt(0),BigInt("0xffffffffffffffff"))}),F.prototype.writeIntLE=function(ie,de,ke,Me){if(ie=+ie,de=de>>>0,!Me){const Ve=Math.pow(2,8*ke-1);Ee(this,ie,de,ke,Ve-1,-Ve)}let je=0,He=1,ze=0;for(this[de]=ie&255;++je<ke&&(He*=256);)ie<0&&ze===0&&this[de+je-1]!==0&&(ze=1),this[de+je]=(ie/He>>0)-ze&255;return de+ke},F.prototype.writeIntBE=function(ie,de,ke,Me){if(ie=+ie,de=de>>>0,!Me){const Ve=Math.pow(2,8*ke-1);Ee(this,ie,de,ke,Ve-1,-Ve)}let je=ke-1,He=1,ze=0;for(this[de+je]=ie&255;--je>=0&&(He*=256);)ie<0&&ze===0&&this[de+je+1]!==0&&(ze=1),this[de+je]=(ie/He>>0)-ze&255;return de+ke},F.prototype.writeInt8=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,1,127,-128),ie<0&&(ie=255+ie+1),this[de]=ie&255,de+1},F.prototype.writeInt16LE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,2,32767,-32768),this[de]=ie&255,this[de+1]=ie>>>8,de+2},F.prototype.writeInt16BE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,2,32767,-32768),this[de]=ie>>>8,this[de+1]=ie&255,de+2},F.prototype.writeInt32LE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,4,2147483647,-2147483648),this[de]=ie&255,this[de+1]=ie>>>8,this[de+2]=ie>>>16,this[de+3]=ie>>>24,de+4},F.prototype.writeInt32BE=function(ie,de,ke){return ie=+ie,de=de>>>0,ke||Ee(this,ie,de,4,2147483647,-2147483648),ie<0&&(ie=4294967295+ie+1),this[de]=ie>>>24,this[de+1]=ie>>>16,this[de+2]=ie>>>8,this[de+3]=ie&255,de+4},F.prototype.writeBigInt64LE=Te(function(ie,de=0){return Ue(this,ie,de,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),F.prototype.writeBigInt64BE=Te(function(ie,de=0){return De(this,ie,de,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(ye,ie,de,ke,Me,je){if(de+ke>ye.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function Pe(ye,ie,de,ke,Me){return ie=+ie,de=de>>>0,Me||_e(ye,ie,de,4),x.write(ye,ie,de,ke,23,4),de+4}F.prototype.writeFloatLE=function(ie,de,ke){return Pe(this,ie,de,!0,ke)},F.prototype.writeFloatBE=function(ie,de,ke){return Pe(this,ie,de,!1,ke)};function re(ye,ie,de,ke,Me){return ie=+ie,de=de>>>0,Me||_e(ye,ie,de,8),x.write(ye,ie,de,ke,52,8),de+8}F.prototype.writeDoubleLE=function(ie,de,ke){return re(this,ie,de,!0,ke)},F.prototype.writeDoubleBE=function(ie,de,ke){return re(this,ie,de,!1,ke)},F.prototype.copy=function(ie,de,ke,Me){if(!F.isBuffer(ie))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!Me&&Me!==0&&(Me=this.length),de>=ie.length&&(de=ie.length),de||(de=0),Me>0&&Me<ke&&(Me=ke),Me===ke||ie.length===0||this.length===0)return 0;if(de<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),ie.length-de<Me-ke&&(Me=ie.length-de+ke);const je=Me-ke;return this===ie&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(de,ke,Me):Uint8Array.prototype.set.call(ie,this.subarray(ke,Me),de),je},F.prototype.fill=function(ie,de,ke,Me){if(typeof ie=="string"){if(typeof de=="string"?(Me=de,de=0,ke=this.length):typeof ke=="string"&&(Me=ke,ke=this.length),Me!==void 0&&typeof Me!="string")throw new TypeError("encoding must be a string");if(typeof Me=="string"&&!F.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);if(ie.length===1){const He=ie.charCodeAt(0);(Me==="utf8"&&He<128||Me==="latin1")&&(ie=He)}}else typeof ie=="number"?ie=ie&255:typeof ie=="boolean"&&(ie=Number(ie));if(de<0||this.length<de||this.length<ke)throw new RangeError("Out of range index");if(ke<=de)return this;de=de>>>0,ke=ke===void 0?this.length:ke>>>0,ie||(ie=0);let je;if(typeof ie=="number")for(je=de;je<ke;++je)this[je]=ie;else{const He=F.isBuffer(ie)?ie:F.from(ie,Me),ze=He.length;if(ze===0)throw new TypeError('The value "'+ie+'" is invalid for argument "value"');for(je=0;je<ke-de;++je)this[je+de]=He[je%ze]}return this};const ae={};function Y(ye,ie,de){ae[ye]=class extends de{constructor(){super(),Object.defineProperty(this,"message",{value:ie.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ye}]`,this.stack,delete this.name}get code(){return ye}set code(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}toString(){return`${this.name} [${ye}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(ye){return ye?`${ye} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(ye,ie){return`The "${ye}" argument must be of type number. Received type ${typeof ie}`},TypeError),Y("ERR_OUT_OF_RANGE",function(ye,ie,de){let ke=`The value of "${ye}" is out of range.`,Me=de;return Number.isInteger(de)&&Math.abs(de)>2**32?Me=W(String(de)):typeof de=="bigint"&&(Me=String(de),(de>BigInt(2)**BigInt(32)||de<-(BigInt(2)**BigInt(32)))&&(Me=W(Me)),Me+="n"),ke+=` It must be ${ie}. Received ${Me}`,ke},RangeError);function W(ye){let ie="",de=ye.length;const ke=ye[0]==="-"?1:0;for(;de>=ke+4;de-=3)ie=`_${ye.slice(de-3,de)}${ie}`;return`${ye.slice(0,de)}${ie}`}function ee(ye,ie,de){te(ie,"offset"),(ye[ie]===void 0||ye[ie+de]===void 0)&&X(ie,ye.length-(de+1))}function J(ye,ie,de,ke,Me,je){if(ye>de||ye<ie){const He=typeof ie=="bigint"?"n":"";let ze;throw je>3?ie===0||ie===BigInt(0)?ze=`>= 0${He} and < 2${He} ** ${(je+1)*8}${He}`:ze=`>= -(2${He} ** ${(je+1)*8-1}${He}) and < 2 ** ${(je+1)*8-1}${He}`:ze=`>= ${ie}${He} and <= ${de}${He}`,new ae.ERR_OUT_OF_RANGE("value",ze,ye)}ee(ke,Me,je)}function te(ye,ie){if(typeof ye!="number")throw new ae.ERR_INVALID_ARG_TYPE(ie,"number",ye)}function X(ye,ie,de){throw Math.floor(ye)!==ye?(te(ye,de),new ae.ERR_OUT_OF_RANGE(de||"offset","an integer",ye)):ie<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE(de||"offset",`>= ${de?1:0} and <= ${ie}`,ye)}const he=/[^+/0-9A-Za-z-_]/g;function ue(ye){if(ye=ye.split("=")[0],ye=ye.trim().replace(he,""),ye.length<2)return"";for(;ye.length%4!==0;)ye=ye+"=";return ye}function ce(ye,ie){ie=ie||1/0;let de;const ke=ye.length;let Me=null;const je=[];for(let He=0;He<ke;++He){if(de=ye.charCodeAt(He),de>55295&&de<57344){if(!Me){if(de>56319){(ie-=3)>-1&&je.push(239,191,189);continue}else if(He+1===ke){(ie-=3)>-1&&je.push(239,191,189);continue}Me=de;continue}if(de<56320){(ie-=3)>-1&&je.push(239,191,189),Me=de;continue}de=(Me-55296<<10|de-56320)+65536}else Me&&(ie-=3)>-1&&je.push(239,191,189);if(Me=null,de<128){if((ie-=1)<0)break;je.push(de)}else if(de<2048){if((ie-=2)<0)break;je.push(de>>6|192,de&63|128)}else if(de<65536){if((ie-=3)<0)break;je.push(de>>12|224,de>>6&63|128,de&63|128)}else if(de<1114112){if((ie-=4)<0)break;je.push(de>>18|240,de>>12&63|128,de>>6&63|128,de&63|128)}else throw new Error("Invalid code point")}return je}function se(ye){const ie=[];for(let de=0;de<ye.length;++de)ie.push(ye.charCodeAt(de)&255);return ie}function xe(ye,ie){let de,ke,Me;const je=[];for(let He=0;He<ye.length&&!((ie-=2)<0);++He)de=ye.charCodeAt(He),ke=de>>8,Me=de%256,je.push(Me),je.push(ke);return je}function Se(ye){return d.toByteArray(ue(ye))}function ve(ye,ie,de,ke){let Me;for(Me=0;Me<ke&&!(Me+de>=ie.length||Me>=ye.length);++Me)ie[Me+de]=ye[Me];return Me}function pe(ye,ie){return ye instanceof ie||ye!=null&&ye.constructor!=null&&ye.constructor.name!=null&&ye.constructor.name===ie.name}function Fe(ye){return ye!==ye}const Re=function(){const ye="0123456789abcdef",ie=new Array(256);for(let de=0;de<16;++de){const ke=de*16;for(let Me=0;Me<16;++Me)ie[ke+Me]=ye[de]+ye[Me]}return ie}();function Te(ye){return typeof BigInt>"u"?Le:ye}function Le(){throw new Error("BigInt not supported")}})(buffer);class PDFDoc{static async load(d){console.debug("Конвертация файла в arraybuffer");let x=await d.arrayBuffer();console.debug("loading...");let b=await PDFDocument.load(x,{updateMetadata:!1});return PDFDoc.isAlreadySigned(b)?{pdfDoc:b,snap:b.takeSnapshot(),pdfArrayBuffer:x,wasSigned:!0,fileName:d.name}:await PDFDoc.prepareDoc(b,d.name)}static async save(d){if(d.wasSigned){console.debug("saveInc...");const x=await d.pdfDoc.saveIncremental(d.snap);return console.debug("concat..."),buffer.Buffer.concat([buffer.Buffer.from(d.pdfArrayBuffer),x])}else return await d.pdfDoc.save({useObjectStreams:!0})}static async saveIncremental(d){d.snap.markObjForSave(d.pdfDoc.catalog),console.debug("saveInc...");const x=await d.pdfDoc.saveIncremental(d.snap);return console.debug("concat..."),buffer.Buffer.concat([buffer.Buffer.from(d.pdfArrayBuffer),x])}static async prepareDoc(d,x){let b=await PDFDocument.create({updateMetadata:!1});(await b.copyPages(d,d.getPageIndices())).forEach(C=>{b.addPage(C)});const S=await b.save({useObjectStreams:!1,addDefaultPage:!1,updateFieldAppearances:!1});return b=await PDFDocument.load(S,{updateMetadata:!1}),{pdfDoc:b,snap:b.takeSnapshot(),pdfArrayBuffer:S,wasSigned:!1,fileName:x}}static isAlreadySigned(d){const x=d.catalog.getAcroForm();return x instanceof PDFAcroForm&&x.getAllFields().length>0}}const whitespacePadding=" ".repeat(2048);class PDFMetadata{data;options;constructor(d,x){this.data=d;const b=new Date;this.options={title:`${d.fileName} - Подпишемм.рф`,author:`${x}`,subject:"EDS / ЭЦП",keywords:["EDS signed","Файл подписанный ЭЦП"],producer:"Подпишем.рф",creatorTool:"Created with pdf-lib",documentCreationDate:d.pdfDoc.getCreationDate()||b,documentModificationDate:b,metadataModificationDate:b}}static of(d,x){return new PDFMetadata(d,x)}updateMetadata(){console.debug("adding metadata..."),this.updateInfoDict(),this.updateMetadataStream()}updateInfoDict(){const{info:d,infoRef:x}=PDFMetaDataHelper.getInfoDict(this.data.pdfDoc),b=S=>PDFName.of(S),w=S=>PDFHexString.fromText(S);d.set(b("Title"),w(this.options.title)),d.set(b("Author"),w(this.options.author)),d.set(b("Subject"),w(this.options.subject)),d.set(b("Keywords"),w(this.options.keywords.join(" "))),d.set(b("Producer"),w(this.options.producer)),d.set(b("Creator"),w(this.options.creatorTool)),d.set(b("ModificationDate"),PDFString.fromDate(this.options.documentModificationDate)),d.set(b("CreationDate"),PDFString.fromDate(this.options.documentCreationDate)),this.data.pdfDoc.context.assign(x,d),this.data.snap.markRefForSave(x)}updateMetadataStream(){const d=this.data.pdfDoc,x=d.catalog.get(PDFName.of("Metadata")),b=this.createXmlMetadata();let w;x===void 0?w=d.context.register(b):(w=x,d.context.assign(w,b)),d.catalog.set(PDFName.of("Metadata"),w),this.data.snap.markRefForSave(w)}createXmlMetadata(){const d=PDFMetaDataHelper.ToXMLString(this.options),x=this.data.pdfDoc.context.obj({Type:PDFName.of("Metadata"),Subtype:PDFName.of("XML"),Length:PDFNumber.of(d.length)});return PDFRawStream.of(x,new TextEncoder().encode(d))}}class PDFMetaDataHelper{static getInfoDict(d){let x=d.context.lookup(d.context.trailerInfo.Info);if(x instanceof PDFDict){const w=d.context.getObjectRef(x);return{info:x,infoRef:w}}x=d.context.obj({});const b=d.context.trailerInfo.Info=d.context.register(x);return{info:x,infoRef:b}}static ToXMLString(d){return`
    <?xpacket begin="" id="W5M0MpCehiHzreSzNTczkc9d"?>
        <x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 9.1-c001 79.675d0f7, 2023/06/11-19:21:16        ">
            <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
                <rdf:Description rdf:about="" 
                    xmlns:dc="http://purl.org/dc/elements/1.1/"
                    xmlns:xmp="http://ns.adobe.com/xap/1.0/"
                    xmlns:pdf="http://ns.adobe.com/pdf/1.3/"
                    xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/">
                <dc:format>application/pdf</dc:format>
                <dc:creator>
                    <rdf:Seq>
                        <rdf:li>${d.author}</rdf:li>
                    </rdf:Seq>
                </dc:creator>
                <dc:title>
                    <rdf:Alt>
                        <rdf:li xml:lang="x-default">${d.title}</rdf:li>
                    </rdf:Alt>
                </dc:title>
                <dc:subject>
                    <rdf:Bag>
                        ${d.keywords.map(x=>`<rdf:li>${x}</rdf:li>`).join(`
`)}
                    </rdf:Bag>
                </dc:subject>
                <xmp:CreatorTool>${d.creatorTool}</xmp:CreatorTool>
                <xmp:CreateDate>${d.documentCreationDate.toISOString()}</xmp:CreateDate>
                <xmp:ModifyDate>${d.documentModificationDate.toISOString()}</xmp:ModifyDate>
                <xmp:MetadataDate>${d.metadataModificationDate.toISOString()}</xmp:MetadataDate>
                <pdf:Subject>${d.subject}</pdf:Subject>
                <pdf:Producer>${d.producer}</pdf:Producer>
            </rdf:Description>
        </rdf:RDF>
      </x:xmpmeta>
      ${whitespacePadding}
    <?xpacket end="w"?>
  `.trim()}}var PDFDefaultConst=(g=>(g[g.SIGNATURE_LENGTH=102416]="SIGNATURE_LENGTH",g.BYTE_RANGE_PLACEHOLDER="**********",g))(PDFDefaultConst||{});class PDFArrayCustom extends PDFObject{static withContext=d=>new PDFArrayCustom(d);static getRectangle(d,x){const b=new PDFArrayCustom(d);return b.push(PDFNumber.of(x.x)),b.push(PDFNumber.of(x.y)),b.push(PDFNumber.of(x.width+x.x)),b.push(PDFNumber.of(x.height+x.y)),b}static getBBox(d,x){const b=new PDFArrayCustom(d);return b.push(PDFNumber.of(0)),b.push(PDFNumber.of(0)),b.push(PDFNumber.of(x.width)),b.push(PDFNumber.of(x.height)),b}static getDefaultMatrix(d){const x=new PDFArrayCustom(d);return x.push(PDFNumber.of(1)),x.push(PDFNumber.of(0)),x.push(PDFNumber.of(0)),x.push(PDFNumber.of(1)),x.push(PDFNumber.of(0)),x.push(PDFNumber.of(0)),x}static getByteRangePlaceholder(d){const x=PDFArray.withContext(d);return x.push(PDFNumber.of(0)),x.push(PDFName.of(PDFDefaultConst.BYTE_RANGE_PLACEHOLDER)),x.push(PDFName.of(PDFDefaultConst.BYTE_RANGE_PLACEHOLDER)),x.push(PDFName.of(PDFDefaultConst.BYTE_RANGE_PLACEHOLDER)),x}array;context;constructor(d){super(),this.array=[],this.context=d}size(){return this.array.length}push(d){this.array.push(d)}insert(d,x){this.array.splice(d,0,x)}indexOf(d){const x=this.array.indexOf(d);return x===-1?void 0:x}remove(d){this.array.splice(d,1)}set(d,x){this.array[d]=x}get(d){return this.array[d]}lookupMaybe(d,...x){return this.context.lookupMaybe(this.get(d),...x)}lookup(d,...x){return this.context.lookup(this.get(d),...x)}asRectangle(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());const d=this.lookup(0,PDFNumber).asNumber(),x=this.lookup(1,PDFNumber).asNumber(),b=this.lookup(2,PDFNumber).asNumber(),w=this.lookup(3,PDFNumber).asNumber(),S=d,C=x,F=b-d,E=w-x;return{x:S,y:C,width:F,height:E}}asArray(){return this.array.slice()}clone(d){const x=PDFArray.withContext(d||this.context);for(let b=0,w=this.size();b<w;b++)x.push(this.array[b]);return x}toString(){let d="[";for(let x=0,b=this.size();x<b;x++)d+=this.get(x).toString(),x!==b-1&&(d+=" ");return d+="]",d}sizeInBytes(){let d=2;for(let x=0,b=this.size();x<b;x++)x!==b-1?d+=this.get(x).sizeInBytes()+1:d+=this.get(x).sizeInBytes();return d}copyBytesInto(d,x){const b=x;d[x++]=CharCodes$1.LeftSquareBracket;for(let w=0,S=this.size();w<S;w++)x+=this.get(w).copyBytesInto(d,x),w!==S-1&&(d[x++]=CharCodes$1.Space);return d[x++]=CharCodes$1.RightSquareBracket,x-b}scalePDFNumbers(d,x){for(let b=0,w=this.size();b<w;b++){const S=this.lookup(b);if(S instanceof PDFNumber){const C=b%2===0?d:x;this.set(b,PDFNumber.of(S.asNumber()*C))}}}}class PDFSignDictionary{static create(d,x){const b=d.pdfDoc.context,w=propBuildDict(b),S=PDFArrayCustom.getByteRangePlaceholder(b),C=b.obj({ByteRange:S,Contents:PDFHexString.of("A".repeat(PDFDefaultConst.SIGNATURE_LENGTH)),Filter:"CryptoPro#20PDF",M:PDFString.fromDate(new Date),Name:PDFHexString.fromText(x.name),Location:PDFHexString.fromText(x.L||"test"),Reason:PDFHexString.fromText("test_reason"),ContactInfo:PDFHexString.fromText(x.subject),Prop_Build:w,SubFilter:"adbe.pkcs7.detached",Type:"Sig"}),F=b.register(C);return d.snap.markRefForSave(F),F}}function propBuildDict(g){return g.obj({App:{Name:PDFHexString.fromText(window.navigator.userAgent),OS:[getOs()],TrustedMode:!1},Filter:{Name:"CryptoPro#20PDF",R:1},PubSec:{Date:PDFString.fromDate(new Date)}})}function getOs(){let g="Unknown";return window.navigator.userAgent.indexOf("Windows NT 10.0")!==-1&&(g="Windows 10"),window.navigator.userAgent.indexOf("Windows NT 6.3")!==-1&&(g="Windows 8.1"),window.navigator.userAgent.indexOf("Windows NT 6.2")!==-1&&(g="Windows 8"),window.navigator.userAgent.indexOf("Windows NT 6.1")!==-1&&(g="Windows 7"),window.navigator.userAgent.indexOf("Windows NT 6.0")!==-1&&(g="Windows Vista"),window.navigator.userAgent.indexOf("Windows NT 5.1")!==-1&&(g="Windows XP"),window.navigator.userAgent.indexOf("Windows NT 5.0")!==-1&&(g="Windows 2000"),window.navigator.userAgent.indexOf("Mac")!==-1&&(g="Mac/iOS"),window.navigator.userAgent.indexOf("X11")!==-1&&(g="UNIX"),window.navigator.userAgent.indexOf("Linux")!==-1&&(g="Linux"),g}class PDFAcroFormCustom{wasSigned=!1;acroForm;widgetCount=0;widgetRefArray=[];context;snap;acroRef;sigImgRef;constructor(d,x,b){this.context=d.context,this.snap=x,this.sigImgRef=b;const{acroForm:w,acroRef:S,wasSigned:C}=this.getOrCreateAcroForm(d);this.acroForm=w,this.acroRef=S,this.wasSigned=C}getOrCreateAcroForm(d){let x=d.catalog.getAcroForm(),b=!1;if(x){const S=x.getAllFields();this.widgetCount=S.length,this.widgetRefArray=S.map(F=>F[1]),this.widgetCount>=1&&(b=!0);const C=d.context.getObjectRef(x.dict);return console.log(b),{acroForm:x,acroRef:C,wasSigned:b}}x=PDFAcroForm.fromDict(d.context.obj({DR:{XObject:{img0:this.sigImgRef}}}));const w=d.context.register(x.dict);return d.catalog.set(PDFName.of("AcroForm"),w),{acroForm:x,acroRef:w,wasSigned:b}}addFields(d){const x=this.acroForm.dict.lookup(PDFName.of("Fields")),b=this.context.obj([...this.widgetRefArray,...d]);x instanceof PDFRef?(this.context.assign(x,b),this.snap.markRefForSave(x)):x instanceof PDFArray?(this.acroForm.dict.set(PDFName.of("Fields"),b),this.snap.markRefForSave(this.acroRef)):(!this.wasSigned||x==null)&&(this.acroForm.dict.set(PDFName.of("Fields"),b),this.acroForm.dict.set(PDFName.of("SigFlags"),PDFNumber.of(3)),this.acroForm.dict.set(PDFName.Type,PDFName.of("AcroForm")),this.snap.markRefForSave(this.acroRef))}}var raf$1={exports:{}},performanceNow={exports:{}};(function(){var g,d,x,b,w,S;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(g()-w)/1e6},d=process.hrtime,g=function(){var C;return C=d(),C[0]*1e9+C[1]},b=g(),S=process.uptime()*1e9,w=b-S):Date.now?(performanceNow.exports=function(){return Date.now()-x},x=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-x},x=new Date().getTime())}).call(commonjsGlobal);var performanceNowExports=performanceNow.exports,now=performanceNowExports,root=typeof window>"u"?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i$1=0;!raf&&i$1<vendors.length;i$1++)raf=root[vendors[i$1]+"Request"+suffix],caf=root[vendors[i$1]+"Cancel"+suffix]||root[vendors[i$1]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(g){if(queue.length===0){var d=now(),x=Math.max(0,frameDuration-(d-last));last=x+d,setTimeout(function(){var b=queue.slice(0);queue.length=0;for(var w=0;w<b.length;w++)if(!b[w].cancelled)try{b[w].callback(last)}catch(S){setTimeout(function(){throw S},0)}},Math.round(x))}return queue.push({handle:++id,callback:g,cancelled:!1}),id},caf=function(g){for(var d=0;d<queue.length;d++)queue[d].handle===g&&(queue[d].cancelled=!0)}}raf$1.exports=function(g){return raf.call(root,g)};raf$1.exports.cancel=function(){caf.apply(root,arguments)};raf$1.exports.polyfill=function(g){g||(g=root),g.requestAnimationFrame=raf,g.cancelAnimationFrame=caf};var rafExports=raf$1.exports;const requestAnimationFrame=getDefaultExportFromCjs(rafExports);var rgbcolor=function(g){this.ok=!1,this.alpha=1,g.charAt(0)=="#"&&(g=g.substr(1,6)),g=g.replace(/ /g,""),g=g.toLowerCase();var d={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};g=d[g]||g;for(var x=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(E){return[parseInt(E[1]),parseInt(E[2]),parseInt(E[3]),parseFloat(E[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(E){return[parseInt(E[1]),parseInt(E[2]),parseInt(E[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(E){return[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(E){return[parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16)]}}],b=0;b<x.length;b++){var w=x[b].re,S=x[b].process,C=w.exec(g);if(C){var F=S(C);this.r=F[0],this.g=F[1],this.b=F[2],F.length>3&&(this.alpha=F[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var E=this.r.toString(16),k=this.g.toString(16),D=this.b.toString(16);return E.length==1&&(E="0"+E),k.length==1&&(k="0"+k),D.length==1&&(D="0"+D),"#"+E+k+D},this.getHelpXML=function(){for(var E=new Array,k=0;k<x.length;k++)for(var D=x[k].example,M=0;M<D.length;M++)E[E.length]=D[M];for(var L in d)E[E.length]=L;var R=document.createElement("ul");R.setAttribute("id","rgbcolor-examples");for(var k=0;k<E.length;k++)try{var U=document.createElement("li"),j=new RGBColor(E[k]),H=document.createElement("div");H.style.cssText="margin: 3px; border: 1px solid black; background:"+j.toHex()+"; color:"+j.toHex(),H.appendChild(document.createTextNode("test"));var z=document.createTextNode(" "+E[k]+" -> "+j.toRGB()+" -> "+j.toHex());U.appendChild(H),U.appendChild(z),R.appendChild(U)}catch{}return R}};const RGBColor$1=getDefaultExportFromCjs(rgbcolor);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t=function(g,d){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(x[w]=b[w])})(g,d)};function r(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function x(){this.constructor=g}t(g,d),g.prototype=d===null?Object.create(d):(x.prototype=d.prototype,new x)}function e(g){var d="";Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++){var b=g[x];if(b.type===_.CLOSE_PATH)d+="z";else if(b.type===_.HORIZ_LINE_TO)d+=(b.relative?"h":"H")+b.x;else if(b.type===_.VERT_LINE_TO)d+=(b.relative?"v":"V")+b.y;else if(b.type===_.MOVE_TO)d+=(b.relative?"m":"M")+b.x+" "+b.y;else if(b.type===_.LINE_TO)d+=(b.relative?"l":"L")+b.x+" "+b.y;else if(b.type===_.CURVE_TO)d+=(b.relative?"c":"C")+b.x1+" "+b.y1+" "+b.x2+" "+b.y2+" "+b.x+" "+b.y;else if(b.type===_.SMOOTH_CURVE_TO)d+=(b.relative?"s":"S")+b.x2+" "+b.y2+" "+b.x+" "+b.y;else if(b.type===_.QUAD_TO)d+=(b.relative?"q":"Q")+b.x1+" "+b.y1+" "+b.x+" "+b.y;else if(b.type===_.SMOOTH_QUAD_TO)d+=(b.relative?"t":"T")+b.x+" "+b.y;else{if(b.type!==_.ARC)throw new Error('Unexpected command type "'+b.type+'" at index '+x+".");d+=(b.relative?"a":"A")+b.rX+" "+b.rY+" "+b.xRot+" "+ +b.lArcFlag+" "+ +b.sweepFlag+" "+b.x+" "+b.y}}return d}function i(g,d){var x=g[0],b=g[1];return[x*Math.cos(d)-b*Math.sin(d),x*Math.sin(d)+b*Math.cos(d)]}function a(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];for(var x=0;x<g.length;x++)if(typeof g[x]!="number")throw new Error("assertNumbers arguments["+x+"] is not a number. "+typeof g[x]+" == typeof "+g[x]);return!0}var n=Math.PI;function o(g,d,x){g.lArcFlag=g.lArcFlag===0?0:1,g.sweepFlag=g.sweepFlag===0?0:1;var b=g.rX,w=g.rY,S=g.x,C=g.y;b=Math.abs(g.rX),w=Math.abs(g.rY);var F=i([(d-S)/2,(x-C)/2],-g.xRot/180*n),E=F[0],k=F[1],D=Math.pow(E,2)/Math.pow(b,2)+Math.pow(k,2)/Math.pow(w,2);1<D&&(b*=Math.sqrt(D),w*=Math.sqrt(D)),g.rX=b,g.rY=w;var M=Math.pow(b,2)*Math.pow(k,2)+Math.pow(w,2)*Math.pow(E,2),L=(g.lArcFlag!==g.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(b,2)*Math.pow(w,2)-M)/M)),R=b*k/w*L,U=-w*E/b*L,j=i([R,U],g.xRot/180*n);g.cX=j[0]+(d+S)/2,g.cY=j[1]+(x+C)/2,g.phi1=Math.atan2((k-U)/w,(E-R)/b),g.phi2=Math.atan2((-k-U)/w,(-E-R)/b),g.sweepFlag===0&&g.phi2>g.phi1&&(g.phi2-=2*n),g.sweepFlag===1&&g.phi2<g.phi1&&(g.phi2+=2*n),g.phi1*=180/n,g.phi2*=180/n}function s(g,d,x){a(g,d,x);var b=g*g+d*d-x*x;if(0>b)return[];if(b===0)return[[g*x/(g*g+d*d),d*x/(g*g+d*d)]];var w=Math.sqrt(b);return[[(g*x+d*w)/(g*g+d*d),(d*x-g*w)/(g*g+d*d)],[(g*x-d*w)/(g*g+d*d),(d*x+g*w)/(g*g+d*d)]]}var u,h=Math.PI/180;function c$1(g,d,x){return(1-x)*g+x*d}function y(g,d,x,b){return g+Math.cos(b/180*n)*d+Math.sin(b/180*n)*x}function p(g,d,x,b){var w=1e-6,S=d-g,C=x-d,F=3*S+3*(b-x)-6*C,E=6*(C-S),k=3*S;return Math.abs(F)<w?[-k/E]:function(D,M,L){L===void 0&&(L=1e-6);var R=D*D/4-M;if(R<-L)return[];if(R<=L)return[-D/2];var U=Math.sqrt(R);return[-D/2-U,-D/2+U]}(E/F,k/F,w)}function m$1(g,d,x,b,w){var S=1-w;return g*(S*S*S)+d*(3*S*S*w)+x*(3*S*w*w)+b*(w*w*w)}(function(g){function d(){return w(function(F,E,k){return F.relative&&(F.x1!==void 0&&(F.x1+=E),F.y1!==void 0&&(F.y1+=k),F.x2!==void 0&&(F.x2+=E),F.y2!==void 0&&(F.y2+=k),F.x!==void 0&&(F.x+=E),F.y!==void 0&&(F.y+=k),F.relative=!1),F})}function x(){var F=NaN,E=NaN,k=NaN,D=NaN;return w(function(M,L,R){return M.type&_.SMOOTH_CURVE_TO&&(M.type=_.CURVE_TO,F=isNaN(F)?L:F,E=isNaN(E)?R:E,M.x1=M.relative?L-F:2*L-F,M.y1=M.relative?R-E:2*R-E),M.type&_.CURVE_TO?(F=M.relative?L+M.x2:M.x2,E=M.relative?R+M.y2:M.y2):(F=NaN,E=NaN),M.type&_.SMOOTH_QUAD_TO&&(M.type=_.QUAD_TO,k=isNaN(k)?L:k,D=isNaN(D)?R:D,M.x1=M.relative?L-k:2*L-k,M.y1=M.relative?R-D:2*R-D),M.type&_.QUAD_TO?(k=M.relative?L+M.x1:M.x1,D=M.relative?R+M.y1:M.y1):(k=NaN,D=NaN),M})}function b(){var F=NaN,E=NaN;return w(function(k,D,M){if(k.type&_.SMOOTH_QUAD_TO&&(k.type=_.QUAD_TO,F=isNaN(F)?D:F,E=isNaN(E)?M:E,k.x1=k.relative?D-F:2*D-F,k.y1=k.relative?M-E:2*M-E),k.type&_.QUAD_TO){F=k.relative?D+k.x1:k.x1,E=k.relative?M+k.y1:k.y1;var L=k.x1,R=k.y1;k.type=_.CURVE_TO,k.x1=((k.relative?0:D)+2*L)/3,k.y1=((k.relative?0:M)+2*R)/3,k.x2=(k.x+2*L)/3,k.y2=(k.y+2*R)/3}else F=NaN,E=NaN;return k})}function w(F){var E=0,k=0,D=NaN,M=NaN;return function(L){if(isNaN(D)&&!(L.type&_.MOVE_TO))throw new Error("path must start with moveto");var R=F(L,E,k,D,M);return L.type&_.CLOSE_PATH&&(E=D,k=M),L.x!==void 0&&(E=L.relative?E+L.x:L.x),L.y!==void 0&&(k=L.relative?k+L.y:L.y),L.type&_.MOVE_TO&&(D=E,M=k),R}}function S(F,E,k,D,M,L){return a(F,E,k,D,M,L),w(function(R,U,j,H){var z=R.x1,V=R.x2,G=R.relative&&!isNaN(H),$=R.x!==void 0?R.x:G?0:U,K=R.y!==void 0?R.y:G?0:j;function Z(Ee){return Ee*Ee}R.type&_.HORIZ_LINE_TO&&E!==0&&(R.type=_.LINE_TO,R.y=R.relative?0:j),R.type&_.VERT_LINE_TO&&k!==0&&(R.type=_.LINE_TO,R.x=R.relative?0:U),R.x!==void 0&&(R.x=R.x*F+K*k+(G?0:M)),R.y!==void 0&&(R.y=$*E+R.y*D+(G?0:L)),R.x1!==void 0&&(R.x1=R.x1*F+R.y1*k+(G?0:M)),R.y1!==void 0&&(R.y1=z*E+R.y1*D+(G?0:L)),R.x2!==void 0&&(R.x2=R.x2*F+R.y2*k+(G?0:M)),R.y2!==void 0&&(R.y2=V*E+R.y2*D+(G?0:L));var Q=F*D-E*k;if(R.xRot!==void 0&&(F!==1||E!==0||k!==0||D!==1))if(Q===0)delete R.rX,delete R.rY,delete R.xRot,delete R.lArcFlag,delete R.sweepFlag,R.type=_.LINE_TO;else{var ne=R.xRot*Math.PI/180,le=Math.sin(ne),fe=Math.cos(ne),be=1/Z(R.rX),me=1/Z(R.rY),we=Z(fe)*be+Z(le)*me,oe=2*le*fe*(be-me),ge=Z(le)*be+Z(fe)*me,Ae=we*D*D-oe*E*D+ge*E*E,Ce=oe*(F*D+E*k)-2*(we*k*D+ge*F*E),Ne=we*k*k-oe*F*k+ge*F*F,Oe=(Math.atan2(Ce,Ae-Ne)+Math.PI)%Math.PI/2,Be=Math.sin(Oe),Ie=Math.cos(Oe);R.rX=Math.abs(Q)/Math.sqrt(Ae*Z(Ie)+Ce*Be*Ie+Ne*Z(Be)),R.rY=Math.abs(Q)/Math.sqrt(Ae*Z(Be)-Ce*Be*Ie+Ne*Z(Ie)),R.xRot=180*Oe/Math.PI}return R.sweepFlag!==void 0&&0>Q&&(R.sweepFlag=+!R.sweepFlag),R})}function C(){return function(F){var E={};for(var k in F)E[k]=F[k];return E}}g.ROUND=function(F){function E(k){return Math.round(k*F)/F}return F===void 0&&(F=1e13),a(F),function(k){return k.x1!==void 0&&(k.x1=E(k.x1)),k.y1!==void 0&&(k.y1=E(k.y1)),k.x2!==void 0&&(k.x2=E(k.x2)),k.y2!==void 0&&(k.y2=E(k.y2)),k.x!==void 0&&(k.x=E(k.x)),k.y!==void 0&&(k.y=E(k.y)),k.rX!==void 0&&(k.rX=E(k.rX)),k.rY!==void 0&&(k.rY=E(k.rY)),k}},g.TO_ABS=d,g.TO_REL=function(){return w(function(F,E,k){return F.relative||(F.x1!==void 0&&(F.x1-=E),F.y1!==void 0&&(F.y1-=k),F.x2!==void 0&&(F.x2-=E),F.y2!==void 0&&(F.y2-=k),F.x!==void 0&&(F.x-=E),F.y!==void 0&&(F.y-=k),F.relative=!0),F})},g.NORMALIZE_HVZ=function(F,E,k){return F===void 0&&(F=!0),E===void 0&&(E=!0),k===void 0&&(k=!0),w(function(D,M,L,R,U){if(isNaN(R)&&!(D.type&_.MOVE_TO))throw new Error("path must start with moveto");return E&&D.type&_.HORIZ_LINE_TO&&(D.type=_.LINE_TO,D.y=D.relative?0:L),k&&D.type&_.VERT_LINE_TO&&(D.type=_.LINE_TO,D.x=D.relative?0:M),F&&D.type&_.CLOSE_PATH&&(D.type=_.LINE_TO,D.x=D.relative?R-M:R,D.y=D.relative?U-L:U),D.type&_.ARC&&(D.rX===0||D.rY===0)&&(D.type=_.LINE_TO,delete D.rX,delete D.rY,delete D.xRot,delete D.lArcFlag,delete D.sweepFlag),D})},g.NORMALIZE_ST=x,g.QT_TO_C=b,g.INFO=w,g.SANITIZE=function(F){F===void 0&&(F=0),a(F);var E=NaN,k=NaN,D=NaN,M=NaN;return w(function(L,R,U,j,H){var z=Math.abs,V=!1,G=0,$=0;if(L.type&_.SMOOTH_CURVE_TO&&(G=isNaN(E)?0:R-E,$=isNaN(k)?0:U-k),L.type&(_.CURVE_TO|_.SMOOTH_CURVE_TO)?(E=L.relative?R+L.x2:L.x2,k=L.relative?U+L.y2:L.y2):(E=NaN,k=NaN),L.type&_.SMOOTH_QUAD_TO?(D=isNaN(D)?R:2*R-D,M=isNaN(M)?U:2*U-M):L.type&_.QUAD_TO?(D=L.relative?R+L.x1:L.x1,M=L.relative?U+L.y1:L.y2):(D=NaN,M=NaN),L.type&_.LINE_COMMANDS||L.type&_.ARC&&(L.rX===0||L.rY===0||!L.lArcFlag)||L.type&_.CURVE_TO||L.type&_.SMOOTH_CURVE_TO||L.type&_.QUAD_TO||L.type&_.SMOOTH_QUAD_TO){var K=L.x===void 0?0:L.relative?L.x:L.x-R,Z=L.y===void 0?0:L.relative?L.y:L.y-U;G=isNaN(D)?L.x1===void 0?G:L.relative?L.x:L.x1-R:D-R,$=isNaN(M)?L.y1===void 0?$:L.relative?L.y:L.y1-U:M-U;var Q=L.x2===void 0?0:L.relative?L.x:L.x2-R,ne=L.y2===void 0?0:L.relative?L.y:L.y2-U;z(K)<=F&&z(Z)<=F&&z(G)<=F&&z($)<=F&&z(Q)<=F&&z(ne)<=F&&(V=!0)}return L.type&_.CLOSE_PATH&&z(R-j)<=F&&z(U-H)<=F&&(V=!0),V?[]:L})},g.MATRIX=S,g.ROTATE=function(F,E,k){E===void 0&&(E=0),k===void 0&&(k=0),a(F,E,k);var D=Math.sin(F),M=Math.cos(F);return S(M,D,-D,M,E-E*M+k*D,k-E*D-k*M)},g.TRANSLATE=function(F,E){return E===void 0&&(E=0),a(F,E),S(1,0,0,1,F,E)},g.SCALE=function(F,E){return E===void 0&&(E=F),a(F,E),S(F,0,0,E,0,0)},g.SKEW_X=function(F){return a(F),S(1,0,Math.atan(F),1,0,0)},g.SKEW_Y=function(F){return a(F),S(1,Math.atan(F),0,1,0,0)},g.X_AXIS_SYMMETRY=function(F){return F===void 0&&(F=0),a(F),S(-1,0,0,1,F,0)},g.Y_AXIS_SYMMETRY=function(F){return F===void 0&&(F=0),a(F),S(1,0,0,-1,0,F)},g.A_TO_C=function(){return w(function(F,E,k){return _.ARC===F.type?function(D,M,L){var R,U,j,H;D.cX||o(D,M,L);for(var z=Math.min(D.phi1,D.phi2),V=Math.max(D.phi1,D.phi2)-z,G=Math.ceil(V/90),$=new Array(G),K=M,Z=L,Q=0;Q<G;Q++){var ne=c$1(D.phi1,D.phi2,Q/G),le=c$1(D.phi1,D.phi2,(Q+1)/G),fe=le-ne,be=4/3*Math.tan(fe*h/4),me=[Math.cos(ne*h)-be*Math.sin(ne*h),Math.sin(ne*h)+be*Math.cos(ne*h)],we=me[0],oe=me[1],ge=[Math.cos(le*h),Math.sin(le*h)],Ae=ge[0],Ce=ge[1],Ne=[Ae+be*Math.sin(le*h),Ce-be*Math.cos(le*h)],Oe=Ne[0],Be=Ne[1];$[Q]={relative:D.relative,type:_.CURVE_TO};var Ie=function(Ee,Ue){var De=i([Ee*D.rX,Ue*D.rY],D.xRot),_e=De[0],Pe=De[1];return[D.cX+_e,D.cY+Pe]};R=Ie(we,oe),$[Q].x1=R[0],$[Q].y1=R[1],U=Ie(Oe,Be),$[Q].x2=U[0],$[Q].y2=U[1],j=Ie(Ae,Ce),$[Q].x=j[0],$[Q].y=j[1],D.relative&&($[Q].x1-=K,$[Q].y1-=Z,$[Q].x2-=K,$[Q].y2-=Z,$[Q].x-=K,$[Q].y-=Z),K=(H=[$[Q].x,$[Q].y])[0],Z=H[1]}return $}(F,F.relative?0:E,F.relative?0:k):F})},g.ANNOTATE_ARCS=function(){return w(function(F,E,k){return F.relative&&(E=0,k=0),_.ARC===F.type&&o(F,E,k),F})},g.CLONE=C,g.CALCULATE_BOUNDS=function(){var F=function(L){var R={};for(var U in L)R[U]=L[U];return R},E=d(),k=b(),D=x(),M=w(function(L,R,U){var j=D(k(E(F(L))));function H(Be){Be>M.maxX&&(M.maxX=Be),Be<M.minX&&(M.minX=Be)}function z(Be){Be>M.maxY&&(M.maxY=Be),Be<M.minY&&(M.minY=Be)}if(j.type&_.DRAWING_COMMANDS&&(H(R),z(U)),j.type&_.HORIZ_LINE_TO&&H(j.x),j.type&_.VERT_LINE_TO&&z(j.y),j.type&_.LINE_TO&&(H(j.x),z(j.y)),j.type&_.CURVE_TO){H(j.x),z(j.y);for(var V=0,G=p(R,j.x1,j.x2,j.x);V<G.length;V++)0<(Oe=G[V])&&1>Oe&&H(m$1(R,j.x1,j.x2,j.x,Oe));for(var $=0,K=p(U,j.y1,j.y2,j.y);$<K.length;$++)0<(Oe=K[$])&&1>Oe&&z(m$1(U,j.y1,j.y2,j.y,Oe))}if(j.type&_.ARC){H(j.x),z(j.y),o(j,R,U);for(var Z=j.xRot/180*Math.PI,Q=Math.cos(Z)*j.rX,ne=Math.sin(Z)*j.rX,le=-Math.sin(Z)*j.rY,fe=Math.cos(Z)*j.rY,be=j.phi1<j.phi2?[j.phi1,j.phi2]:-180>j.phi2?[j.phi2+360,j.phi1+360]:[j.phi2,j.phi1],me=be[0],we=be[1],oe=function(Be){var Ie=Be[0],Ee=Be[1],Ue=180*Math.atan2(Ee,Ie)/Math.PI;return Ue<me?Ue+360:Ue},ge=0,Ae=s(le,-Q,0).map(oe);ge<Ae.length;ge++)(Oe=Ae[ge])>me&&Oe<we&&H(y(j.cX,Q,le,Oe));for(var Ce=0,Ne=s(fe,-ne,0).map(oe);Ce<Ne.length;Ce++){var Oe;(Oe=Ne[Ce])>me&&Oe<we&&z(y(j.cY,ne,fe,Oe))}}return L});return M.minX=1/0,M.maxX=-1/0,M.minY=1/0,M.maxY=-1/0,M}})(u||(u={}));var O,l=function(){function g(){}return g.prototype.round=function(d){return this.transform(u.ROUND(d))},g.prototype.toAbs=function(){return this.transform(u.TO_ABS())},g.prototype.toRel=function(){return this.transform(u.TO_REL())},g.prototype.normalizeHVZ=function(d,x,b){return this.transform(u.NORMALIZE_HVZ(d,x,b))},g.prototype.normalizeST=function(){return this.transform(u.NORMALIZE_ST())},g.prototype.qtToC=function(){return this.transform(u.QT_TO_C())},g.prototype.aToC=function(){return this.transform(u.A_TO_C())},g.prototype.sanitize=function(d){return this.transform(u.SANITIZE(d))},g.prototype.translate=function(d,x){return this.transform(u.TRANSLATE(d,x))},g.prototype.scale=function(d,x){return this.transform(u.SCALE(d,x))},g.prototype.rotate=function(d,x,b){return this.transform(u.ROTATE(d,x,b))},g.prototype.matrix=function(d,x,b,w,S,C){return this.transform(u.MATRIX(d,x,b,w,S,C))},g.prototype.skewX=function(d){return this.transform(u.SKEW_X(d))},g.prototype.skewY=function(d){return this.transform(u.SKEW_Y(d))},g.prototype.xSymmetry=function(d){return this.transform(u.X_AXIS_SYMMETRY(d))},g.prototype.ySymmetry=function(d){return this.transform(u.Y_AXIS_SYMMETRY(d))},g.prototype.annotateArcs=function(){return this.transform(u.ANNOTATE_ARCS())},g}(),T=function(g){return g===" "||g==="	"||g==="\r"||g===`
`},v=function(g){return 48<=g.charCodeAt(0)&&g.charCodeAt(0)<=57},f=function(g){function d(){var x=g.call(this)||this;return x.curNumber="",x.curCommandType=-1,x.curCommandRelative=!1,x.canParseCommandOrComma=!0,x.curNumberHasExp=!1,x.curNumberHasExpDigits=!1,x.curNumberHasDecimal=!1,x.curArgs=[],x}return r(d,g),d.prototype.finish=function(x){if(x===void 0&&(x=[]),this.parse(" ",x),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return x},d.prototype.parse=function(x,b){var w=this;b===void 0&&(b=[]);for(var S=function(M){b.push(M),w.curArgs.length=0,w.canParseCommandOrComma=!0},C=0;C<x.length;C++){var F=x[C],E=!(this.curCommandType!==_.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),k=v(F)&&(this.curNumber==="0"&&F==="0"||E);if(!v(F)||k)if(F!=="e"&&F!=="E")if(F!=="-"&&F!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(F!=="."||this.curNumberHasExp||this.curNumberHasDecimal||E){if(this.curNumber&&this.curCommandType!==-1){var D=Number(this.curNumber);if(isNaN(D))throw new SyntaxError("Invalid number ending at "+C);if(this.curCommandType===_.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>D)throw new SyntaxError('Expected positive number, got "'+D+'" at index "'+C+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+C+'"')}this.curArgs.push(D),this.curArgs.length===N[this.curCommandType]&&(_.HORIZ_LINE_TO===this.curCommandType?S({type:_.HORIZ_LINE_TO,relative:this.curCommandRelative,x:D}):_.VERT_LINE_TO===this.curCommandType?S({type:_.VERT_LINE_TO,relative:this.curCommandRelative,y:D}):this.curCommandType===_.MOVE_TO||this.curCommandType===_.LINE_TO||this.curCommandType===_.SMOOTH_QUAD_TO?(S({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),_.MOVE_TO===this.curCommandType&&(this.curCommandType=_.LINE_TO)):this.curCommandType===_.CURVE_TO?S({type:_.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===_.SMOOTH_CURVE_TO?S({type:_.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_.QUAD_TO?S({type:_.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_.ARC&&S({type:_.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!T(F))if(F===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(F!=="+"&&F!=="-"&&F!==".")if(k)this.curNumber=F,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+C+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+F+'" at index '+C+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,F!=="z"&&F!=="Z")if(F==="h"||F==="H")this.curCommandType=_.HORIZ_LINE_TO,this.curCommandRelative=F==="h";else if(F==="v"||F==="V")this.curCommandType=_.VERT_LINE_TO,this.curCommandRelative=F==="v";else if(F==="m"||F==="M")this.curCommandType=_.MOVE_TO,this.curCommandRelative=F==="m";else if(F==="l"||F==="L")this.curCommandType=_.LINE_TO,this.curCommandRelative=F==="l";else if(F==="c"||F==="C")this.curCommandType=_.CURVE_TO,this.curCommandRelative=F==="c";else if(F==="s"||F==="S")this.curCommandType=_.SMOOTH_CURVE_TO,this.curCommandRelative=F==="s";else if(F==="q"||F==="Q")this.curCommandType=_.QUAD_TO,this.curCommandRelative=F==="q";else if(F==="t"||F==="T")this.curCommandType=_.SMOOTH_QUAD_TO,this.curCommandRelative=F==="t";else{if(F!=="a"&&F!=="A")throw new SyntaxError('Unexpected character "'+F+'" at index '+C+".");this.curCommandType=_.ARC,this.curCommandRelative=F==="a"}else b.push({type:_.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=F,this.curNumberHasDecimal=F==="."}else this.curNumber+=F,this.curNumberHasDecimal=!0;else this.curNumber+=F;else this.curNumber+=F,this.curNumberHasExp=!0;else this.curNumber+=F,this.curNumberHasExpDigits=this.curNumberHasExp}return b},d.prototype.transform=function(x){return Object.create(this,{parse:{value:function(b,w){w===void 0&&(w=[]);for(var S=0,C=Object.getPrototypeOf(this).parse.call(this,b);S<C.length;S++){var F=C[S],E=x(F);Array.isArray(E)?w.push.apply(w,E):w.push(E)}return w}}})},d}(l),_=function(g){function d(x){var b=g.call(this)||this;return b.commands=typeof x=="string"?d.parse(x):x,b}return r(d,g),d.prototype.encode=function(){return d.encode(this.commands)},d.prototype.getBounds=function(){var x=u.CALCULATE_BOUNDS();return this.transform(x),x},d.prototype.transform=function(x){for(var b=[],w=0,S=this.commands;w<S.length;w++){var C=x(S[w]);Array.isArray(C)?b.push.apply(b,C):b.push(C)}return this.commands=b,this},d.encode=function(x){return e(x)},d.parse=function(x){var b=new f,w=[];return b.parse(x,w),b.finish(w),w},d.CLOSE_PATH=1,d.MOVE_TO=2,d.HORIZ_LINE_TO=4,d.VERT_LINE_TO=8,d.LINE_TO=16,d.CURVE_TO=32,d.SMOOTH_CURVE_TO=64,d.QUAD_TO=128,d.SMOOTH_QUAD_TO=256,d.ARC=512,d.LINE_COMMANDS=d.LINE_TO|d.HORIZ_LINE_TO|d.VERT_LINE_TO,d.DRAWING_COMMANDS=d.HORIZ_LINE_TO|d.VERT_LINE_TO|d.LINE_TO|d.CURVE_TO|d.SMOOTH_CURVE_TO|d.QUAD_TO|d.SMOOTH_QUAD_TO|d.ARC,d}(l),N=((O={})[_.MOVE_TO]=2,O[_.LINE_TO]=2,O[_.HORIZ_LINE_TO]=1,O[_.VERT_LINE_TO]=1,O[_.CLOSE_PATH]=0,O[_.QUAD_TO]=4,O[_.SMOOTH_QUAD_TO]=2,O[_.CURVE_TO]=6,O[_.SMOOTH_CURVE_TO]=4,O[_.ARC]=7,O);function _typeof(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(d){return typeof d}:_typeof=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},_typeof(g)}function _classCallCheck(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")}var mulTable=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shgTable=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function getImageDataFromCanvas(g,d,x,b,w){if(typeof g=="string"&&(g=document.getElementById(g)),!g||_typeof(g)!=="object"||!("getContext"in g))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var S=g.getContext("2d");try{return S.getImageData(d,x,b,w)}catch(C){throw new Error("unable to access image data: "+C)}}function processCanvasRGBA(g,d,x,b,w,S){if(!(isNaN(S)||S<1)){S|=0;var C=getImageDataFromCanvas(g,d,x,b,w);C=processImageDataRGBA(C,d,x,b,w,S),g.getContext("2d").putImageData(C,d,x)}}function processImageDataRGBA(g,d,x,b,w,S){for(var C=g.data,F=2*S+1,E=b-1,k=w-1,D=S+1,M=D*(D+1)/2,L=new BlurStack,R=L,U,j=1;j<F;j++)R=R.next=new BlurStack,j===D&&(U=R);R.next=L;for(var H=null,z=null,V=0,G=0,$=mulTable[S],K=shgTable[S],Z=0;Z<w;Z++){R=L;for(var Q=C[G],ne=C[G+1],le=C[G+2],fe=C[G+3],be=0;be<D;be++)R.r=Q,R.g=ne,R.b=le,R.a=fe,R=R.next;for(var me=0,we=0,oe=0,ge=0,Ae=D*Q,Ce=D*ne,Ne=D*le,Oe=D*fe,Be=M*Q,Ie=M*ne,Ee=M*le,Ue=M*fe,De=1;De<D;De++){var _e=G+((E<De?E:De)<<2),Pe=C[_e],re=C[_e+1],ae=C[_e+2],Y=C[_e+3],W=D-De;Be+=(R.r=Pe)*W,Ie+=(R.g=re)*W,Ee+=(R.b=ae)*W,Ue+=(R.a=Y)*W,me+=Pe,we+=re,oe+=ae,ge+=Y,R=R.next}H=L,z=U;for(var ee=0;ee<b;ee++){var J=Ue*$>>>K;if(C[G+3]=J,J!==0){var te=255/J;C[G]=(Be*$>>>K)*te,C[G+1]=(Ie*$>>>K)*te,C[G+2]=(Ee*$>>>K)*te}else C[G]=C[G+1]=C[G+2]=0;Be-=Ae,Ie-=Ce,Ee-=Ne,Ue-=Oe,Ae-=H.r,Ce-=H.g,Ne-=H.b,Oe-=H.a;var X=ee+S+1;X=V+(X<E?X:E)<<2,me+=H.r=C[X],we+=H.g=C[X+1],oe+=H.b=C[X+2],ge+=H.a=C[X+3],Be+=me,Ie+=we,Ee+=oe,Ue+=ge,H=H.next;var he=z,ue=he.r,ce=he.g,se=he.b,xe=he.a;Ae+=ue,Ce+=ce,Ne+=se,Oe+=xe,me-=ue,we-=ce,oe-=se,ge-=xe,z=z.next,G+=4}V+=b}for(var Se=0;Se<b;Se++){G=Se<<2;var ve=C[G],pe=C[G+1],Fe=C[G+2],Re=C[G+3],Te=D*ve,Le=D*pe,ye=D*Fe,ie=D*Re,de=M*ve,ke=M*pe,Me=M*Fe,je=M*Re;R=L;for(var He=0;He<D;He++)R.r=ve,R.g=pe,R.b=Fe,R.a=Re,R=R.next;for(var ze=b,Ve=0,Ge=0,$e=0,Xe=0,We=1;We<=S;We++){G=ze+Se<<2;var Ye=D-We;de+=(R.r=ve=C[G])*Ye,ke+=(R.g=pe=C[G+1])*Ye,Me+=(R.b=Fe=C[G+2])*Ye,je+=(R.a=Re=C[G+3])*Ye,Xe+=ve,Ve+=pe,Ge+=Fe,$e+=Re,R=R.next,We<k&&(ze+=b)}G=Se,H=L,z=U;for(var Ke=0;Ke<w;Ke++){var qe=G<<2;C[qe+3]=Re=je*$>>>K,Re>0?(Re=255/Re,C[qe]=(de*$>>>K)*Re,C[qe+1]=(ke*$>>>K)*Re,C[qe+2]=(Me*$>>>K)*Re):C[qe]=C[qe+1]=C[qe+2]=0,de-=Te,ke-=Le,Me-=ye,je-=ie,Te-=H.r,Le-=H.g,ye-=H.b,ie-=H.a,qe=Se+((qe=Ke+D)<k?qe:k)*b<<2,de+=Xe+=H.r=C[qe],ke+=Ve+=H.g=C[qe+1],Me+=Ge+=H.b=C[qe+2],je+=$e+=H.a=C[qe+3],H=H.next,Te+=ve=z.r,Le+=pe=z.g,ye+=Fe=z.b,ie+=Re=z.a,Xe-=ve,Ve-=pe,Ge-=Fe,$e-=Re,z=z.next,G+=b}}return g}var BlurStack=function g(){_classCallCheck(this,g),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function compressSpaces(g){return g.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(g){return g.replace(/^[\n \t]+/,"")}function trimRight(g){return g.replace(/[\n \t]+$/,"")}function toNumbers(g){const d=g.match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm);return d?d.map(parseFloat):[]}function toMatrixValue(g){const d=toNumbers(g);return[d[0]||0,d[1]||0,d[2]||0,d[3]||0,d[4]||0,d[5]||0]}const allUppercase=/^[A-Z-]+$/;function normalizeAttributeName(g){return allUppercase.test(g)?g.toLowerCase():g}function parseExternalUrl(g){const d=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(g);return d&&(d[2]||d[3]||d[4])||""}function normalizeColor(g){if(!g.startsWith("rgb"))return g;let d=3;return g.replace(/\d+(\.\d+)?/g,(b,w)=>d--&&w?String(Math.round(parseFloat(b))):b)}const attributeRegex=/(\[[^\]]+\])/g,idRegex=/(#[^\s+>~.[:]+)/g,classRegex=/(\.[^\s+>~.[:]+)/g,pseudoElementRegex=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,pseudoClassWithBracketsRegex=/(:[\w-]+\([^)]*\))/gi,pseudoClassRegex=/(:[^\s+>~.[:]+)/g,elementRegex=/([^\s+>~.[:]+)/g;function findSelectorMatch(g,d){const x=d.exec(g);return x?[g.replace(d," "),x.length]:[g,0]}function getSelectorSpecificity(g){const d=[0,0,0];let x=g.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),b=0;return[x,b]=findSelectorMatch(x,attributeRegex),d[1]+=b,[x,b]=findSelectorMatch(x,idRegex),d[0]+=b,[x,b]=findSelectorMatch(x,classRegex),d[1]+=b,[x,b]=findSelectorMatch(x,pseudoElementRegex),d[2]+=b,[x,b]=findSelectorMatch(x,pseudoClassWithBracketsRegex),d[1]+=b,[x,b]=findSelectorMatch(x,pseudoClassRegex),d[1]+=b,x=x.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[x,b]=findSelectorMatch(x,elementRegex),d[2]+=b,d.join("")}const PSEUDO_ZERO=1e-8;function vectorMagnitude(g){return Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2))}function vectorsRatio(g,d){return(g[0]*d[0]+g[1]*d[1])/(vectorMagnitude(g)*vectorMagnitude(d))}function vectorsAngle(g,d){return(g[0]*d[1]<g[1]*d[0]?-1:1)*Math.acos(vectorsRatio(g,d))}function CB1(g){return g*g*g}function CB2(g){return 3*g*g*(1-g)}function CB3(g){return 3*g*(1-g)*(1-g)}function CB4(g){return(1-g)*(1-g)*(1-g)}function QB1(g){return g*g}function QB2(g){return 2*g*(1-g)}function QB3(g){return(1-g)*(1-g)}class Property{static empty(d){return new Property(d,"EMPTY","")}split(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ";const{document:x,name:b}=this;return compressSpaces(this.getString()).trim().split(d).map(w=>new Property(x,b,w))}hasValue(d){const x=this.value;return x!==null&&x!==""&&(d||x!==0)&&typeof x<"u"}isString(d){const{value:x}=this,b=typeof x=="string";return!b||!d?b:d.test(x)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;const d=this.getString();switch(!0){case d.endsWith("px"):case/^[0-9]+$/.test(d):return!0;default:return!1}}setValue(d){return this.value=d,this}getValue(d){return typeof d>"u"||this.hasValue()?this.value:d}getNumber(d){if(!this.hasValue())return typeof d>"u"?0:parseFloat(d);const{value:x}=this;let b=parseFloat(x);return this.isString(/%$/)&&(b/=100),b}getString(d){return typeof d>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(d)}getColor(d){let x=this.getString(d);return this.isNormalizedColor||(this.isNormalizedColor=!0,x=normalizeColor(x),this.value=x),x}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;const[b,w]=typeof d=="boolean"?[void 0,d]:[d],{viewPort:S}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(S.computeSize("x"),S.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(S.computeSize("x"),S.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*S.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*S.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&w):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*S.computeSize(b);default:{const C=this.getNumber();return x&&C<1?C*S.computeSize(b):C}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){const d=this.getString(),x=/#([^)'"]+)/.exec(d),b=x?.[1]||d;return this.document.definitions[b]}getFillStyleDefinition(d,x){let b=this.getDefinition();if(!b)return null;if(typeof b.createGradient=="function"&&"getBoundingBox"in d)return b.createGradient(this.document.ctx,d,x);if(typeof b.createPattern=="function"){if(b.getHrefAttribute().hasValue()){const w=b.getAttribute("patternTransform");b=b.getHrefAttribute().getDefinition(),b&&w.hasValue()&&b.getAttribute("patternTransform",!0).setValue(w.value)}if(b)return b.createPattern(this.document.ctx,d,x)}return null}getTextBaseline(){if(!this.hasValue())return null;const d=this.getString();return Property.textBaselineMapping[d]||null}addOpacity(d){let x=this.getColor();const b=x.length;let w=0;for(let S=0;S<b&&(x[S]===","&&w++,w!==3);S++);if(d.hasValue()&&this.isString()&&w!==3){const S=new RGBColor$1(x);S.ok&&(S.alpha=d.getNumber(),x=S.toRGBA())}return new Property(this.document,this.name,x)}constructor(d,x,b){this.document=d,this.name=x,this.value=b,this.isNormalizedColor=!1}}Property.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class ViewPort{clear(){this.viewPorts=[]}setCurrent(d,x){this.viewPorts.push({width:d,height:x})}removeCurrent(){this.viewPorts.pop()}getRoot(){const[d]=this.viewPorts;return d||getDefault()}getCurrent(){const{viewPorts:d}=this,x=d[d.length-1];return x||getDefault()}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(d){return typeof d=="number"?d:d==="x"?this.width:d==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}constructor(){this.viewPorts=[]}}ViewPort.DEFAULT_VIEWPORT_WIDTH=800;ViewPort.DEFAULT_VIEWPORT_HEIGHT=600;function getDefault(){return{width:ViewPort.DEFAULT_VIEWPORT_WIDTH,height:ViewPort.DEFAULT_VIEWPORT_HEIGHT}}class Point{static parse(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const[b=x,w=x]=toNumbers(d);return new Point(b,w)}static parseScale(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const[b=x,w=b]=toNumbers(d);return new Point(b,w)}static parsePath(d){const x=toNumbers(d),b=x.length,w=[];for(let S=0;S<b;S+=2)w.push(new Point(x[S],x[S+1]));return w}angleTo(d){return Math.atan2(d.y-this.y,d.x-this.x)}applyTransform(d){const{x,y:b}=this,w=x*d[0]+b*d[2]+d[4],S=x*d[1]+b*d[3]+d[5];this.x=w,this.y=S}constructor(d,x){this.x=d,this.y=x}}class Mouse{isWorking(){return this.working}start(){if(this.working)return;const{screen:d,onClick:x,onMouseMove:b}=this,w=d.ctx.canvas;w.onclick=x,w.onmousemove=b,this.working=!0}stop(){if(!this.working)return;const d=this.screen.ctx.canvas;this.working=!1,d.onclick=null,d.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working)return;const{screen:d,events:x,eventElements:b}=this,{style:w}=d.ctx.canvas;let S;w&&(w.cursor=""),x.forEach((C,F)=>{let{run:E}=C;for(S=b[F];S;)E(S),S=S.parent}),this.events=[],this.eventElements=[]}checkPath(d,x){if(!this.working||!x)return;const{events:b,eventElements:w}=this;b.forEach((S,C)=>{let{x:F,y:E}=S;!w[C]&&x.isPointInPath&&x.isPointInPath(F,E)&&(w[C]=d)})}checkBoundingBox(d,x){if(!this.working||!x)return;const{events:b,eventElements:w}=this;b.forEach((S,C)=>{let{x:F,y:E}=S;!w[C]&&x.isPointInBox(F,E)&&(w[C]=d)})}mapXY(d,x){const{window:b,ctx:w}=this.screen,S=new Point(d,x);let C=w.canvas;for(;C;)S.x-=C.offsetLeft,S.y-=C.offsetTop,C=C.offsetParent;return b?.scrollX&&(S.x+=b.scrollX),b?.scrollY&&(S.y+=b.scrollY),S}onClick(d){const{x,y:b}=this.mapXY(d.clientX,d.clientY);this.events.push({type:"onclick",x,y:b,run(w){w.onClick&&w.onClick()}})}onMouseMove(d){const{x,y:b}=this.mapXY(d.clientX,d.clientY);this.events.push({type:"onmousemove",x,y:b,run(w){w.onMouseMove&&w.onMouseMove()}})}constructor(d){this.screen=d,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}}const defaultWindow=typeof window<"u"?window:null,defaultFetch$1=typeof fetch<"u"?fetch.bind(void 0):void 0;class Screen{wait(d){this.waits.push(d)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;const d=this.waits.every(x=>x());return d&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=d,d}setDefaults(d){d.strokeStyle="rgba(0,0,0,0)",d.lineCap="butt",d.lineJoin="miter",d.miterLimit=4}setViewBox(d){let{document:x,ctx:b,aspectRatio:w,width:S,desiredWidth:C,height:F,desiredHeight:E,minX:k=0,minY:D=0,refX:M,refY:L,clip:R=!1,clipX:U=0,clipY:j=0}=d;const H=compressSpaces(w).replace(/^defer\s/,""),[z,V]=H.split(" "),G=z||"xMidYMid",$=V||"meet",K=S/C,Z=F/E,Q=Math.min(K,Z),ne=Math.max(K,Z);let le=C,fe=E;$==="meet"&&(le*=Q,fe*=Q),$==="slice"&&(le*=ne,fe*=ne);const be=new Property(x,"refX",M),me=new Property(x,"refY",L),we=be.hasValue()&&me.hasValue();if(we&&b.translate(-Q*be.getPixels("x"),-Q*me.getPixels("y")),R){const oe=Q*U,ge=Q*j;b.beginPath(),b.moveTo(oe,ge),b.lineTo(S,ge),b.lineTo(S,F),b.lineTo(oe,F),b.closePath(),b.clip()}if(!we){const oe=$==="meet"&&Q===Z,ge=$==="slice"&&ne===Z,Ae=$==="meet"&&Q===K,Ce=$==="slice"&&ne===K;G.startsWith("xMid")&&(oe||ge)&&b.translate(S/2-le/2,0),G.endsWith("YMid")&&(Ae||Ce)&&b.translate(0,F/2-fe/2),G.startsWith("xMax")&&(oe||ge)&&b.translate(S-le,0),G.endsWith("YMax")&&(Ae||Ce)&&b.translate(0,F-fe)}switch(!0){case G==="none":b.scale(K,Z);break;case $==="meet":b.scale(Q,Q);break;case $==="slice":b.scale(ne,ne);break}b.translate(-k,-D)}start(d){let{enableRedraw:x=!1,ignoreMouse:b=!1,ignoreAnimation:w=!1,ignoreDimensions:S=!1,ignoreClear:C=!1,forceRedraw:F,scaleWidth:E,scaleHeight:k,offsetX:D,offsetY:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{mouse:L}=this,R=1e3/Screen.FRAMERATE;if(this.isReadyLock=!1,this.frameDuration=R,this.readyPromise=new Promise(V=>{this.resolveReady=V}),this.isReady()&&this.render(d,S,C,E,k,D,M),!x)return;let U=Date.now(),j=U,H=0;const z=()=>{U=Date.now(),H=U-j,H>=R&&(j=U-H%R,this.shouldUpdate(w,F)&&(this.render(d,S,C,E,k,D,M),L.runEvents())),this.intervalId=requestAnimationFrame(z)};b||L.start(),this.intervalId=requestAnimationFrame(z)}stop(){this.intervalId&&(requestAnimationFrame.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(d,x){if(!d){const{frameDuration:b}=this;if(this.animations.reduce((S,C)=>C.update(b)||S,!1))return!0}return!!(typeof x=="function"&&x()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(d,x,b,w,S,C,F){const{viewPort:E,ctx:k,isFirstRender:D}=this,M=k.canvas;E.clear(),M.width&&M.height&&E.setCurrent(M.width,M.height);const L=d.getStyle("width"),R=d.getStyle("height");!x&&(D||typeof w!="number"&&typeof S!="number")&&(L.hasValue()&&(M.width=L.getPixels("x"),M.style&&(M.style.width="".concat(M.width,"px"))),R.hasValue()&&(M.height=R.getPixels("y"),M.style&&(M.style.height="".concat(M.height,"px"))));let U=M.clientWidth||M.width,j=M.clientHeight||M.height;if(x&&L.hasValue()&&R.hasValue()&&(U=L.getPixels("x"),j=R.getPixels("y")),E.setCurrent(U,j),typeof C=="number"&&d.getAttribute("x",!0).setValue(C),typeof F=="number"&&d.getAttribute("y",!0).setValue(F),typeof w=="number"||typeof S=="number"){const H=toNumbers(d.getAttribute("viewBox").getString());let z=0,V=0;if(typeof w=="number"){const $=d.getStyle("width");$.hasValue()?z=$.getPixels("x")/w:H[2]&&!isNaN(H[2])&&(z=H[2]/w)}if(typeof S=="number"){const $=d.getStyle("height");$.hasValue()?V=$.getPixels("y")/S:H[3]&&!isNaN(H[3])&&(V=H[3]/S)}z||(z=V),V||(V=z),d.getAttribute("width",!0).setValue(w),d.getAttribute("height",!0).setValue(S);const G=d.getStyle("transform",!0,!0);G.setValue("".concat(G.getString()," scale(").concat(1/z,", ").concat(1/V,")"))}b||k.clearRect(0,0,U,j),d.render(k),D&&(this.isFirstRender=!1)}constructor(d,{fetch:x=defaultFetch$1,window:b=defaultWindow}={}){if(this.ctx=d,this.viewPort=new ViewPort,this.mouse=new Mouse(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=b,!x)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");this.fetch=x}}Screen.defaultWindow=defaultWindow;Screen.defaultFetch=defaultFetch$1;Screen.FRAMERATE=30;Screen.MAX_VIRTUAL_PIXELS=3e4;const{defaultFetch}=Screen,DefaultDOMParser=typeof DOMParser<"u"?DOMParser:void 0;class Parser{async parse(d){return d.startsWith("<")?this.parseFromString(d):this.load(d)}parseFromString(d){const x=new this.DOMParser;try{return this.checkDocument(x.parseFromString(d,"image/svg+xml"))}catch{return this.checkDocument(x.parseFromString(d,"text/xml"))}}checkDocument(d){const x=d.getElementsByTagName("parsererror")[0];if(x)throw new Error(x.textContent||"Unknown parse error");return d}async load(d){const b=await(await this.fetch(d)).text();return this.parseFromString(b)}constructor({fetch:d=defaultFetch,DOMParser:x=DefaultDOMParser}={}){if(!d)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");if(!x)throw new Error("Can't find 'DOMParser' in 'globalThis', please provide it via options");this.fetch=d,this.DOMParser=x}}class Translate{apply(d){const{x,y:b}=this.point;d.translate(x||0,b||0)}unapply(d){const{x,y:b}=this.point;d.translate(-1*x||0,-1*b||0)}applyToPoint(d){const{x,y:b}=this.point;d.applyTransform([1,0,0,1,x||0,b||0])}constructor(d,x){this.type="translate",this.point=Point.parse(x)}}class Rotate{apply(d){const{cx:x,cy:b,originX:w,originY:S,angle:C}=this,F=x+w.getPixels("x"),E=b+S.getPixels("y");d.translate(F,E),d.rotate(C.getRadians()),d.translate(-F,-E)}unapply(d){const{cx:x,cy:b,originX:w,originY:S,angle:C}=this,F=x+w.getPixels("x"),E=b+S.getPixels("y");d.translate(F,E),d.rotate(-1*C.getRadians()),d.translate(-F,-E)}applyToPoint(d){const{cx:x,cy:b,angle:w}=this,S=w.getRadians();d.applyTransform([1,0,0,1,x||0,b||0]),d.applyTransform([Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0]),d.applyTransform([1,0,0,1,-x||0,-b||0])}constructor(d,x,b){this.type="rotate";const w=toNumbers(x);this.angle=new Property(d,"angle",w[0]),this.originX=b[0],this.originY=b[1],this.cx=w[1]||0,this.cy=w[2]||0}}class Scale{apply(d){const{scale:{x,y:b},originX:w,originY:S}=this,C=w.getPixels("x"),F=S.getPixels("y");d.translate(C,F),d.scale(x,b||x),d.translate(-C,-F)}unapply(d){const{scale:{x,y:b},originX:w,originY:S}=this,C=w.getPixels("x"),F=S.getPixels("y");d.translate(C,F),d.scale(1/x,1/b||x),d.translate(-C,-F)}applyToPoint(d){const{x,y:b}=this.scale;d.applyTransform([x||0,0,0,b||0,0,0])}constructor(d,x,b){this.type="scale";const w=Point.parseScale(x);(w.x===0||w.y===0)&&(w.x=PSEUDO_ZERO,w.y=PSEUDO_ZERO),this.scale=w,this.originX=b[0],this.originY=b[1]}}class Matrix{apply(d){const{originX:x,originY:b,matrix:w}=this,S=x.getPixels("x"),C=b.getPixels("y");d.translate(S,C),d.transform(w[0],w[1],w[2],w[3],w[4],w[5]),d.translate(-S,-C)}unapply(d){const{originX:x,originY:b,matrix:w}=this,S=w[0],C=w[2],F=w[4],E=w[1],k=w[3],D=w[5],M=0,L=0,R=1,U=1/(S*(k*R-D*L)-C*(E*R-D*M)+F*(E*L-k*M)),j=x.getPixels("x"),H=b.getPixels("y");d.translate(j,H),d.transform(U*(k*R-D*L),U*(D*M-E*R),U*(F*L-C*R),U*(S*R-F*M),U*(C*D-F*k),U*(F*E-S*D)),d.translate(-j,-H)}applyToPoint(d){d.applyTransform(this.matrix)}constructor(d,x,b){this.type="matrix",this.matrix=toMatrixValue(x),this.originX=b[0],this.originY=b[1]}}class Skew extends Matrix{constructor(d,x,b){super(d,x,b),this.type="skew",this.angle=new Property(d,"angle",x)}}class SkewX extends Skew{constructor(d,x,b){super(d,x,b),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class SkewY extends Skew{constructor(d,x,b){super(d,x,b),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function parseTransforms(g){return compressSpaces(g).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function parseTransform(g){const[d="",x=""]=g.split("(");return[d.trim(),x.trim().replace(")","")]}class Transform{static fromElement(d,x){const b=x.getStyle("transform",!1,!0);if(b.hasValue()){const[w,S=w]=x.getStyle("transform-origin",!1,!0).split();if(w&&S){const C=[w,S];return new Transform(d,b.getString(),C)}}return null}apply(d){this.transforms.forEach(x=>x.apply(d))}unapply(d){this.transforms.forEach(x=>x.unapply(d))}applyToPoint(d){this.transforms.forEach(x=>x.applyToPoint(d))}constructor(d,x,b){this.document=d,this.transforms=[],parseTransforms(x).forEach(S=>{if(S==="none")return;const[C,F]=parseTransform(S),E=Transform.transformTypes[C];E&&this.transforms.push(new E(this.document,F,b))})}}Transform.transformTypes={translate:Translate,rotate:Rotate,scale:Scale,matrix:Matrix,skewX:SkewX,skewY:SkewY};let Element$1=class ut{getAttribute(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const b=this.attributes[d];if(!b&&x){const w=new Property(this.document,d,"");return this.attributes[d]=w,w}return b||Property.empty(this.document)}getHrefAttribute(){let d;for(const x in this.attributes)if(x==="href"||x.endsWith(":href")){d=this.attributes[x];break}return d||Property.empty(this.document)}getStyle(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=this.styles[d];if(w)return w;const S=this.getAttribute(d);if(S.hasValue())return this.styles[d]=S,S;if(!b){const{parent:C}=this;if(C){const F=C.getStyle(d);if(F.hasValue())return F}}if(x){const C=new Property(this.document,d,"");return this.styles[d]=C,C}return Property.empty(this.document)}render(d){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(d.save(),this.getStyle("mask").hasValue()){const x=this.getStyle("mask").getDefinition();x&&(this.applyEffects(d),x.apply(d,this))}else if(this.getStyle("filter").getValue("none")!=="none"){const x=this.getStyle("filter").getDefinition();x&&(this.applyEffects(d),x.apply(d,this))}else this.setContext(d),this.renderChildren(d),this.clearContext(d);d.restore()}}setContext(d){}applyEffects(d){const x=Transform.fromElement(this.document,this);x&&x.apply(d);const b=this.getStyle("clip-path",!1,!0);if(b.hasValue()){const w=b.getDefinition();w&&w.apply(d)}}clearContext(d){}renderChildren(d){this.children.forEach(x=>{x.render(d)})}addChild(d){const x=d instanceof ut?d:this.document.createElement(d);x.parent=this,ut.ignoreChildTypes.includes(x.type)||this.children.push(x)}matchesSelector(d){var x;const{node:b}=this;if(typeof b.matches=="function")return b.matches(d);const w=(x=b.getAttribute)===null||x===void 0?void 0:x.call(b,"class");return!w||w===""?!1:w.split(" ").some(S=>".".concat(S)===d)}addStylesFromStyleDefinition(){const{styles:d,stylesSpecificity:x}=this.document;let b;for(const w in d)if(!w.startsWith("@")&&this.matchesSelector(w)){const S=d[w],C=x[w];if(S)for(const F in S){let E=this.stylesSpecificity[F];typeof E>"u"&&(E="000"),C&&C>=E&&(b=S[F],b&&(this.styles[F]=b),this.stylesSpecificity[F]=C)}}}removeStyles(d,x){return x.reduce((w,S)=>{const C=d.getStyle(S);if(!C.hasValue())return w;const F=C.getString();return C.setValue(""),[...w,[S,F]]},[])}restoreStyles(d,x){x.forEach(b=>{let[w,S]=b;d.getStyle(w,!0).setValue(S)})}isFirstChild(){var d;return((d=this.parent)===null||d===void 0?void 0:d.children.indexOf(this))===0}constructor(d,x,b=!1){if(this.document=d,this.node=x,this.captureTextNodes=b,this.type="",this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!x||x.nodeType!==1)return;Array.from(x.attributes).forEach(C=>{const F=normalizeAttributeName(C.nodeName);this.attributes[F]=new Property(d,F,C.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(F=>F.trim()).forEach(F=>{if(!F)return;const[E,k]=F.split(":").map(D=>D.trim());E&&(this.styles[E]=new Property(d,E,k))});const{definitions:w}=d,S=this.getAttribute("id");S.hasValue()&&(w[S.getString()]||(w[S.getString()]=this)),Array.from(x.childNodes).forEach(C=>{if(C.nodeType===1)this.addChild(C);else if(b&&(C.nodeType===3||C.nodeType===4)){const F=d.createTextNode(C);F.getText().length>0&&this.addChild(F)}})}};Element$1.ignoreChildTypes=["title"];class UnknownElement extends Element$1{constructor(d,x,b){super(d,x,b)}}function wrapFontFamily(g){const d=g.trim();return/^('|")/.test(d)?d:'"'.concat(d,'"')}function prepareFontFamily(g){return typeof process>"u"?g:g.trim().split(",").map(wrapFontFamily).join(",")}function prepareFontStyle(g){if(!g)return"";const d=g.trim().toLowerCase();switch(d){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return d;default:return/^oblique\s+(-|)\d+deg$/.test(d)?d:""}}function prepareFontWeight(g){if(!g)return"";const d=g.trim().toLowerCase();switch(d){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return d;default:return/^[\d.]+$/.test(d)?d:""}}class Font{static parse(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",x=arguments.length>1?arguments[1]:void 0,b="",w="",S="",C="",F="";const E=compressSpaces(d).trim().split(" "),k={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return E.forEach(D=>{switch(!0){case(!k.fontStyle&&Font.styles.includes(D)):D!=="inherit"&&(b=D),k.fontStyle=!0;break;case(!k.fontVariant&&Font.variants.includes(D)):D!=="inherit"&&(w=D),k.fontStyle=!0,k.fontVariant=!0;break;case(!k.fontWeight&&Font.weights.includes(D)):D!=="inherit"&&(S=D),k.fontStyle=!0,k.fontVariant=!0,k.fontWeight=!0;break;case!k.fontSize:D!=="inherit"&&(C=D.split("/")[0]||""),k.fontStyle=!0,k.fontVariant=!0,k.fontWeight=!0,k.fontSize=!0;break;default:D!=="inherit"&&(F+=D)}}),new Font(b,w,S,C,F,x)}toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,prepareFontFamily(this.fontFamily)].join(" ").trim()}constructor(d,x,b,w,S,C){const F=C?typeof C=="string"?Font.parse(C):C:{};this.fontFamily=S||F.fontFamily,this.fontSize=w||F.fontSize,this.fontStyle=d||F.fontStyle,this.fontWeight=b||F.fontWeight,this.fontVariant=x||F.fontVariant}}Font.styles="normal|italic|oblique|inherit";Font.variants="normal|small-caps|inherit";Font.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class BoundingBox{get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(d,x){typeof d<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=d,this.x2=d),d<this.x1&&(this.x1=d),d>this.x2&&(this.x2=d)),typeof x<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=x,this.y2=x),x<this.y1&&(this.y1=x),x>this.y2&&(this.y2=x))}addX(d){this.addPoint(d,0)}addY(d){this.addPoint(0,d)}addBoundingBox(d){if(!d)return;const{x1:x,y1:b,x2:w,y2:S}=d;this.addPoint(x,b),this.addPoint(w,S)}sumCubic(d,x,b,w,S){return Math.pow(1-d,3)*x+3*Math.pow(1-d,2)*d*b+3*(1-d)*Math.pow(d,2)*w+Math.pow(d,3)*S}bezierCurveAdd(d,x,b,w,S){const C=6*x-12*b+6*w,F=-3*x+9*b-9*w+3*S,E=3*b-3*x;if(F===0){if(C===0)return;const L=-E/C;0<L&&L<1&&(d?this.addX(this.sumCubic(L,x,b,w,S)):this.addY(this.sumCubic(L,x,b,w,S)));return}const k=Math.pow(C,2)-4*E*F;if(k<0)return;const D=(-C+Math.sqrt(k))/(2*F);0<D&&D<1&&(d?this.addX(this.sumCubic(D,x,b,w,S)):this.addY(this.sumCubic(D,x,b,w,S)));const M=(-C-Math.sqrt(k))/(2*F);0<M&&M<1&&(d?this.addX(this.sumCubic(M,x,b,w,S)):this.addY(this.sumCubic(M,x,b,w,S)))}addBezierCurve(d,x,b,w,S,C,F,E){this.addPoint(d,x),this.addPoint(F,E),this.bezierCurveAdd(!0,d,b,S,F),this.bezierCurveAdd(!1,x,w,C,E)}addQuadraticCurve(d,x,b,w,S,C){const F=d+.6666666666666666*(b-d),E=x+2/3*(w-x),k=F+1/3*(S-d),D=E+1/3*(C-x);this.addBezierCurve(d,x,F,k,E,D,S,C)}isPointInBox(d,x){const{x1:b,y1:w,x2:S,y2:C}=this;return b<=d&&d<=S&&w<=x&&x<=C}constructor(d=Number.NaN,x=Number.NaN,b=Number.NaN,w=Number.NaN){this.x1=d,this.y1=x,this.x2=b,this.y2=w,this.addPoint(d,x),this.addPoint(b,w)}}class RenderedElement extends Element$1{calculateOpacity(){let d=1,x=this;for(;x;){const b=x.getStyle("opacity",!1,!0);b.hasValue(!0)&&(d*=b.getNumber()),x=x.parent}return d}setContext(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!x){const b=this.getStyle("fill"),w=this.getStyle("fill-opacity"),S=this.getStyle("stroke"),C=this.getStyle("stroke-opacity");if(b.isUrlDefinition()){const R=b.getFillStyleDefinition(this,w);R&&(d.fillStyle=R)}else if(b.hasValue()){b.getString()==="currentColor"&&b.setValue(this.getStyle("color").getColor());const R=b.getColor();R!=="inherit"&&(d.fillStyle=R==="none"?"rgba(0,0,0,0)":R)}if(w.hasValue()){const R=new Property(this.document,"fill",d.fillStyle).addOpacity(w).getColor();d.fillStyle=R}if(S.isUrlDefinition()){const R=S.getFillStyleDefinition(this,C);R&&(d.strokeStyle=R)}else if(S.hasValue()){S.getString()==="currentColor"&&S.setValue(this.getStyle("color").getColor());const R=S.getString();R!=="inherit"&&(d.strokeStyle=R==="none"?"rgba(0,0,0,0)":R)}if(C.hasValue()){const R=new Property(this.document,"stroke",d.strokeStyle).addOpacity(C).getString();d.strokeStyle=R}const F=this.getStyle("stroke-width");if(F.hasValue()){const R=F.getPixels();d.lineWidth=R||PSEUDO_ZERO}const E=this.getStyle("stroke-linecap"),k=this.getStyle("stroke-linejoin"),D=this.getStyle("stroke-miterlimit"),M=this.getStyle("stroke-dasharray"),L=this.getStyle("stroke-dashoffset");if(E.hasValue()&&(d.lineCap=E.getString()),k.hasValue()&&(d.lineJoin=k.getString()),D.hasValue()&&(d.miterLimit=D.getNumber()),M.hasValue()&&M.getString()!=="none"){const R=toNumbers(M.getString());typeof d.setLineDash<"u"?d.setLineDash(R):typeof d.webkitLineDash<"u"?d.webkitLineDash=R:typeof d.mozDash<"u"&&!(R.length===1&&R[0]===0)&&(d.mozDash=R);const U=L.getPixels();typeof d.lineDashOffset<"u"?d.lineDashOffset=U:typeof d.webkitLineDashOffset<"u"?d.webkitLineDashOffset=U:typeof d.mozDashOffset<"u"&&(d.mozDashOffset=U)}}if(this.modifiedEmSizeStack=!1,typeof d.font<"u"){const b=this.getStyle("font"),w=this.getStyle("font-style"),S=this.getStyle("font-variant"),C=this.getStyle("font-weight"),F=this.getStyle("font-size"),E=this.getStyle("font-family"),k=new Font(w.getString(),S.getString(),C.getString(),F.hasValue()?"".concat(F.getPixels(!0),"px"):"",E.getString(),Font.parse(b.getString(),d.font));w.setValue(k.fontStyle),S.setValue(k.fontVariant),C.setValue(k.fontWeight),F.setValue(k.fontSize),E.setValue(k.fontFamily),d.font=k.toString(),F.isPixels()&&(this.document.emSize=F.getPixels(),this.modifiedEmSizeStack=!0)}x||(this.applyEffects(d),d.globalAlpha=this.calculateOpacity())}clearContext(d){super.clearContext(d),this.modifiedEmSizeStack&&this.document.popEmSize()}constructor(...d){super(...d),this.modifiedEmSizeStack=!1}}class TextElement extends RenderedElement{setContext(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(d,x);const b=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();b&&(d.textBaseline=b)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(d){if(this.type!=="text")return this.getTElementBoundingBox(d);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(d);let x=null;return this.children.forEach((b,w)=>{const S=this.getChildBoundingBox(d,this,this,w);x?x.addBoundingBox(S):x=S}),x}getFontSize(){const{document:d,parent:x}=this,b=Font.parse(d.ctx.font).fontSize;return x.getStyle("font-size").getNumber(b)}getTElementBoundingBox(d){const x=this.getFontSize();return new BoundingBox(this.x,this.y-x,this.x+this.measureText(d),this.y)}getGlyph(d,x,b){const w=x[b];let S;if(d.isArabic){var C;const F=x.length,E=x[b-1],k=x[b+1];let D="isolated";(b===0||E===" ")&&b<F-1&&k!==" "&&(D="terminal"),b>0&&E!==" "&&b<F-1&&k!==" "&&(D="medial"),b>0&&E!==" "&&(b===F-1||k===" ")&&(D="initial"),S=((C=d.arabicGlyphs[w])===null||C===void 0?void 0:C[D])||d.glyphs[w]}else S=d.glyphs[w];return S||(S=d.missingGlyph),S}getText(){return""}getTextFromNode(d){const x=d||this.node,b=Array.from(x.parentNode.childNodes),w=b.indexOf(x),S=b.length-1;let C=compressSpaces(x.textContent||"");return w===0&&(C=trimLeft(C)),w===S&&(C=trimRight(C)),C}renderChildren(d){if(this.type!=="text"){this.renderTElementChildren(d);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(d),this.children.forEach((b,w)=>{this.renderChild(d,this,this,w)});const{mouse:x}=this.document.screen;x.isWorking()&&x.checkBoundingBox(this,this.getBoundingBox(d))}renderTElementChildren(d){const{document:x,parent:b}=this,w=this.getText(),S=b.getStyle("font-family").getDefinition();if(S){const{unitsPerEm:E}=S.fontFace,k=Font.parse(x.ctx.font),D=b.getStyle("font-size").getNumber(k.fontSize),M=b.getStyle("font-style").getString(k.fontStyle),L=D/E,R=S.isRTL?w.split("").reverse().join(""):w,U=toNumbers(b.getAttribute("dx").getString()),j=R.length;for(let H=0;H<j;H++){const z=this.getGlyph(S,R,H);d.translate(this.x,this.y),d.scale(L,-L);const V=d.lineWidth;d.lineWidth=d.lineWidth*E/D,M==="italic"&&d.transform(1,0,.4,1,0,0),z.render(d),M==="italic"&&d.transform(1,0,-.4,1,0,0),d.lineWidth=V,d.scale(1/L,-1/L),d.translate(-this.x,-this.y),this.x+=D*(z.horizAdvX||S.horizAdvX)/E,typeof U[H]<"u"&&!isNaN(U[H])&&(this.x+=U[H])}return}const{x:C,y:F}=this;d.fillStyle&&d.fillText(w,C,F),d.strokeStyle&&d.strokeText(w,C,F)}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length)return;const d=this.leafTexts[this.textChunkStart],x=d.getStyle("text-anchor").getString("start"),b=!1;let w=0;x==="start"&&!b||x==="end"&&b?w=d.x-this.minX:x==="end"&&!b||x==="start"&&b?w=d.x-this.maxX:w=d.x-(this.minX+this.maxX)/2;for(let S=this.textChunkStart;S<this.leafTexts.length;S++)this.leafTexts[S].x+=w;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(d){this.children.forEach((x,b)=>{this.adjustChildCoordinatesRecursiveCore(d,this,this,b)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(d,x,b,w){const S=b.children[w];S.children.length>0?S.children.forEach((C,F)=>{x.adjustChildCoordinatesRecursiveCore(d,x,S,F)}):this.adjustChildCoordinates(d,x,b,w)}adjustChildCoordinates(d,x,b,w){const S=b.children[w];if(typeof S.measureText!="function")return S;d.save(),S.setContext(d,!0);const C=S.getAttribute("x"),F=S.getAttribute("y"),E=S.getAttribute("dx"),k=S.getAttribute("dy"),D=S.getStyle("font-family").getDefinition(),M=!!D?.isRTL;w===0&&(C.hasValue()||C.setValue(S.getInheritedAttribute("x")),F.hasValue()||F.setValue(S.getInheritedAttribute("y")),E.hasValue()||E.setValue(S.getInheritedAttribute("dx")),k.hasValue()||k.setValue(S.getInheritedAttribute("dy")));const L=S.measureText(d);return M&&(x.x-=L),C.hasValue()?(x.applyAnchoring(),S.x=C.getPixels("x"),E.hasValue()&&(S.x+=E.getPixels("x"))):(E.hasValue()&&(x.x+=E.getPixels("x")),S.x=x.x),x.x=S.x,M||(x.x+=L),F.hasValue()?(S.y=F.getPixels("y"),k.hasValue()&&(S.y+=k.getPixels("y"))):(k.hasValue()&&(x.y+=k.getPixels("y")),S.y=x.y),x.y=S.y,x.leafTexts.push(S),x.minX=Math.min(x.minX,S.x,S.x+L),x.maxX=Math.max(x.maxX,S.x,S.x+L),S.clearContext(d),d.restore(),S}getChildBoundingBox(d,x,b,w){const S=b.children[w];if(typeof S.getBoundingBox!="function")return null;const C=S.getBoundingBox(d);return C&&S.children.forEach((F,E)=>{const k=x.getChildBoundingBox(d,x,S,E);C.addBoundingBox(k)}),C}renderChild(d,x,b,w){const S=b.children[w];S.render(d),S.children.forEach((C,F)=>{x.renderChild(d,x,S,F)})}measureText(d){const{measureCache:x}=this;if(~x)return x;const b=this.getText(),w=this.measureTargetText(d,b);return this.measureCache=w,w}measureTargetText(d,x){if(!x.length)return 0;const{parent:b}=this,w=b.getStyle("font-family").getDefinition();if(w){const C=this.getFontSize(),F=w.isRTL?x.split("").reverse().join(""):x,E=toNumbers(b.getAttribute("dx").getString()),k=F.length;let D=0;for(let M=0;M<k;M++){const L=this.getGlyph(w,F,M);D+=(L.horizAdvX||w.horizAdvX)*C/w.fontFace.unitsPerEm,typeof E[M]<"u"&&!isNaN(E[M])&&(D+=E[M])}return D}if(!d.measureText)return x.length*10;d.save(),this.setContext(d,!0);const{width:S}=d.measureText(x);return this.clearContext(d),d.restore(),S}getInheritedAttribute(d){let x=this;for(;x instanceof TextElement&&x.isFirstChild()&&x.parent;){const b=x.parent.getAttribute(d);if(b.hasValue(!0))return b.getString("0");x=x.parent}return null}constructor(d,x,b){super(d,x,new.target===TextElement?!0:b),this.type="text",this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.measureCache=-1}}class TSpanElement extends TextElement{getText(){return this.text}constructor(d,x,b){super(d,x,new.target===TSpanElement?!0:b),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}}class TextNode extends TSpanElement{constructor(...d){super(...d),this.type="textNode"}}class PathParser extends _{reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Point(0,0),this.control=new Point(0,0),this.current=new Point(0,0),this.points=[],this.angles=[]}isEnd(){const{i:d,commands:x}=this;return d>=x.length-1}next(){const d=this.commands[++this.i];return this.previousCommand=this.command,this.command=d,d}getPoint(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";const b=new Point(this.command[d],this.command[x]);return this.makeAbsolute(b)}getAsControlPoint(d,x){const b=this.getPoint(d,x);return this.control=b,b}getAsCurrentPoint(d,x){const b=this.getPoint(d,x);return this.current=b,b}getReflectedControlPoint(){const d=this.previousCommand.type;if(d!==_.CURVE_TO&&d!==_.SMOOTH_CURVE_TO&&d!==_.QUAD_TO&&d!==_.SMOOTH_QUAD_TO)return this.current;const{current:{x,y:b},control:{x:w,y:S}}=this;return new Point(2*x-w,2*b-S)}makeAbsolute(d){if(this.command.relative){const{x,y:b}=this.current;d.x+=x,d.y+=b}return d}addMarker(d,x,b){const{points:w,angles:S}=this;b&&S.length>0&&!S[S.length-1]&&(S[S.length-1]=w[w.length-1].angleTo(b)),this.addMarkerAngle(d,x?x.angleTo(d):null)}addMarkerAngle(d,x){this.points.push(d),this.angles.push(x)}getMarkerPoints(){return this.points}getMarkerAngles(){const{angles:d}=this,x=d.length;for(let b=0;b<x;b++)if(!d[b]){for(let w=b+1;w<x;w++)if(d[w]){d[b]=d[w];break}}return d}constructor(d){super(d.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=new Point(0,0),this.start=new Point(0,0),this.current=new Point(0,0),this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}}class PathElement extends RenderedElement{path(d){const{pathParser:x}=this,b=new BoundingBox;for(x.reset(),d&&d.beginPath();!x.isEnd();)switch(x.next().type){case PathParser.MOVE_TO:this.pathM(d,b);break;case PathParser.LINE_TO:this.pathL(d,b);break;case PathParser.HORIZ_LINE_TO:this.pathH(d,b);break;case PathParser.VERT_LINE_TO:this.pathV(d,b);break;case PathParser.CURVE_TO:this.pathC(d,b);break;case PathParser.SMOOTH_CURVE_TO:this.pathS(d,b);break;case PathParser.QUAD_TO:this.pathQ(d,b);break;case PathParser.SMOOTH_QUAD_TO:this.pathT(d,b);break;case PathParser.ARC:this.pathA(d,b);break;case PathParser.CLOSE_PATH:this.pathZ(d,b);break}return b}getBoundingBox(d){return this.path()}getMarkers(){const{pathParser:d}=this,x=d.getMarkerPoints(),b=d.getMarkerAngles();return x.map((S,C)=>[S,b[C]])}renderChildren(d){this.path(d),this.document.screen.mouse.checkPath(this,d);const x=this.getStyle("fill-rule");d.fillStyle!==""&&(x.getString("inherit")!=="inherit"?d.fill(x.getString()):d.fill()),d.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(d.save(),d.setTransform(1,0,0,1,0,0),d.stroke(),d.restore()):d.stroke());const b=this.getMarkers();if(b){const w=b.length-1,S=this.getStyle("marker-start"),C=this.getStyle("marker-mid"),F=this.getStyle("marker-end");if(S.isUrlDefinition()){const E=S.getDefinition(),[k,D]=b[0];E.render(d,k,D)}if(C.isUrlDefinition()){const E=C.getDefinition();for(let k=1;k<w;k++){const[D,M]=b[k];E.render(d,D,M)}}if(F.isUrlDefinition()){const E=F.getDefinition(),[k,D]=b[w];E.render(d,k,D)}}}static pathM(d){const x=d.getAsCurrentPoint();return d.start=d.current,{point:x}}pathM(d,x){const{pathParser:b}=this,{point:w}=PathElement.pathM(b),{x:S,y:C}=w;b.addMarker(w),x.addPoint(S,C),d&&d.moveTo(S,C)}static pathL(d){const{current:x}=d,b=d.getAsCurrentPoint();return{current:x,point:b}}pathL(d,x){const{pathParser:b}=this,{current:w,point:S}=PathElement.pathL(b),{x:C,y:F}=S;b.addMarker(S,w),x.addPoint(C,F),d&&d.lineTo(C,F)}static pathH(d){const{current:x,command:b}=d,w=new Point((b.relative?x.x:0)+b.x,x.y);return d.current=w,{current:x,point:w}}pathH(d,x){const{pathParser:b}=this,{current:w,point:S}=PathElement.pathH(b),{x:C,y:F}=S;b.addMarker(S,w),x.addPoint(C,F),d&&d.lineTo(C,F)}static pathV(d){const{current:x,command:b}=d,w=new Point(x.x,(b.relative?x.y:0)+b.y);return d.current=w,{current:x,point:w}}pathV(d,x){const{pathParser:b}=this,{current:w,point:S}=PathElement.pathV(b),{x:C,y:F}=S;b.addMarker(S,w),x.addPoint(C,F),d&&d.lineTo(C,F)}static pathC(d){const{current:x}=d,b=d.getPoint("x1","y1"),w=d.getAsControlPoint("x2","y2"),S=d.getAsCurrentPoint();return{current:x,point:b,controlPoint:w,currentPoint:S}}pathC(d,x){const{pathParser:b}=this,{current:w,point:S,controlPoint:C,currentPoint:F}=PathElement.pathC(b);b.addMarker(F,C,S),x.addBezierCurve(w.x,w.y,S.x,S.y,C.x,C.y,F.x,F.y),d&&d.bezierCurveTo(S.x,S.y,C.x,C.y,F.x,F.y)}static pathS(d){const{current:x}=d,b=d.getReflectedControlPoint(),w=d.getAsControlPoint("x2","y2"),S=d.getAsCurrentPoint();return{current:x,point:b,controlPoint:w,currentPoint:S}}pathS(d,x){const{pathParser:b}=this,{current:w,point:S,controlPoint:C,currentPoint:F}=PathElement.pathS(b);b.addMarker(F,C,S),x.addBezierCurve(w.x,w.y,S.x,S.y,C.x,C.y,F.x,F.y),d&&d.bezierCurveTo(S.x,S.y,C.x,C.y,F.x,F.y)}static pathQ(d){const{current:x}=d,b=d.getAsControlPoint("x1","y1"),w=d.getAsCurrentPoint();return{current:x,controlPoint:b,currentPoint:w}}pathQ(d,x){const{pathParser:b}=this,{current:w,controlPoint:S,currentPoint:C}=PathElement.pathQ(b);b.addMarker(C,S,S),x.addQuadraticCurve(w.x,w.y,S.x,S.y,C.x,C.y),d&&d.quadraticCurveTo(S.x,S.y,C.x,C.y)}static pathT(d){const{current:x}=d,b=d.getReflectedControlPoint();d.control=b;const w=d.getAsCurrentPoint();return{current:x,controlPoint:b,currentPoint:w}}pathT(d,x){const{pathParser:b}=this,{current:w,controlPoint:S,currentPoint:C}=PathElement.pathT(b);b.addMarker(C,S,S),x.addQuadraticCurve(w.x,w.y,S.x,S.y,C.x,C.y),d&&d.quadraticCurveTo(S.x,S.y,C.x,C.y)}static pathA(d){const{current:x,command:b}=d;let{rX:w,rY:S,xRot:C,lArcFlag:F,sweepFlag:E}=b;const k=C*(Math.PI/180),D=d.getAsCurrentPoint(),M=new Point(Math.cos(k)*(x.x-D.x)/2+Math.sin(k)*(x.y-D.y)/2,-Math.sin(k)*(x.x-D.x)/2+Math.cos(k)*(x.y-D.y)/2),L=Math.pow(M.x,2)/Math.pow(w,2)+Math.pow(M.y,2)/Math.pow(S,2);L>1&&(w*=Math.sqrt(L),S*=Math.sqrt(L));let R=(F===E?-1:1)*Math.sqrt((Math.pow(w,2)*Math.pow(S,2)-Math.pow(w,2)*Math.pow(M.y,2)-Math.pow(S,2)*Math.pow(M.x,2))/(Math.pow(w,2)*Math.pow(M.y,2)+Math.pow(S,2)*Math.pow(M.x,2)));isNaN(R)&&(R=0);const U=new Point(R*w*M.y/S,R*-S*M.x/w),j=new Point((x.x+D.x)/2+Math.cos(k)*U.x-Math.sin(k)*U.y,(x.y+D.y)/2+Math.sin(k)*U.x+Math.cos(k)*U.y),H=vectorsAngle([1,0],[(M.x-U.x)/w,(M.y-U.y)/S]),z=[(M.x-U.x)/w,(M.y-U.y)/S],V=[(-M.x-U.x)/w,(-M.y-U.y)/S];let G=vectorsAngle(z,V);return vectorsRatio(z,V)<=-1&&(G=Math.PI),vectorsRatio(z,V)>=1&&(G=0),{currentPoint:D,rX:w,rY:S,sweepFlag:E,xAxisRotation:k,centp:j,a1:H,ad:G}}pathA(d,x){const{pathParser:b}=this,{currentPoint:w,rX:S,rY:C,sweepFlag:F,xAxisRotation:E,centp:k,a1:D,ad:M}=PathElement.pathA(b),L=1-F?1:-1,R=D+L*(M/2),U=new Point(k.x+S*Math.cos(R),k.y+C*Math.sin(R));if(b.addMarkerAngle(U,R-L*Math.PI/2),b.addMarkerAngle(w,R-L*Math.PI),x.addPoint(w.x,w.y),d&&!isNaN(D)&&!isNaN(M)){const j=S>C?S:C,H=S>C?1:S/C,z=S>C?C/S:1;d.translate(k.x,k.y),d.rotate(E),d.scale(H,z),d.arc(0,0,j,D,D+M,!!(1-F)),d.scale(1/H,1/z),d.rotate(-E),d.translate(-k.x,-k.y)}}static pathZ(d){d.current=d.start}pathZ(d,x){PathElement.pathZ(this.pathParser),d&&x.x1!==x.x2&&x.y1!==x.y2&&d.closePath()}constructor(d,x,b){super(d,x,b),this.type="path",this.pathParser=new PathParser(this.getAttribute("d").getString())}}let SVGElement$1=class extends RenderedElement{setContext(d){var x;const{document:b}=this,{screen:w,window:S}=b,C=d.canvas;if(w.setDefaults(d),"style"in C&&typeof d.font<"u"&&S&&typeof S.getComputedStyle<"u"){d.font=S.getComputedStyle(C).getPropertyValue("font");const V=new Property(b,"fontSize",Font.parse(d.font).fontSize);V.hasValue()&&(b.rootEmSize=V.getPixels("y"),b.emSize=b.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);let{width:F,height:E}=w.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");const k=this.getAttribute("refX"),D=this.getAttribute("refY"),M=this.getAttribute("viewBox"),L=M.hasValue()?toNumbers(M.getString()):null,R=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible";let U=0,j=0,H=0,z=0;L&&(U=L[0],j=L[1]),this.root||(F=this.getStyle("width").getPixels("x"),E=this.getStyle("height").getPixels("y"),this.type==="marker"&&(H=U,z=j,U=0,j=0)),w.viewPort.setCurrent(F,E),this.node&&(!this.parent||((x=this.node.parentNode)===null||x===void 0?void 0:x.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(d),d.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),L&&(F=L[2],E=L[3]),b.setViewBox({ctx:d,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:w.viewPort.width,desiredWidth:F,height:w.viewPort.height,desiredHeight:E,minX:U,minY:j,refX:k.getValue(),refY:D.getValue(),clip:R,clipX:H,clipY:z}),L&&(w.viewPort.removeCurrent(),w.viewPort.setCurrent(F,E))}clearContext(d){super.clearContext(d),this.document.screen.viewPort.removeCurrent()}resize(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=this.getAttribute("width",!0),S=this.getAttribute("height",!0),C=this.getAttribute("viewBox"),F=this.getAttribute("style"),E=w.getNumber(0),k=S.getNumber(0);if(b)if(typeof b=="string")this.getAttribute("preserveAspectRatio",!0).setValue(b);else{const D=this.getAttribute("preserveAspectRatio");D.hasValue()&&D.setValue(D.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(w.setValue(d),S.setValue(x),C.hasValue()||C.setValue("0 0 ".concat(E||d," ").concat(k||x)),F.hasValue()){const D=this.getStyle("width"),M=this.getStyle("height");D.hasValue()&&D.setValue("".concat(d,"px")),M.hasValue()&&M.setValue("".concat(x,"px"))}}constructor(...d){super(...d),this.type="svg",this.root=!1}};class RectElement extends PathElement{path(d){const x=this.getAttribute("x").getPixels("x"),b=this.getAttribute("y").getPixels("y"),w=this.getStyle("width",!1,!0).getPixels("x"),S=this.getStyle("height",!1,!0).getPixels("y"),C=this.getAttribute("rx"),F=this.getAttribute("ry");let E=C.getPixels("x"),k=F.getPixels("y");if(C.hasValue()&&!F.hasValue()&&(k=E),F.hasValue()&&!C.hasValue()&&(E=k),E=Math.min(E,w/2),k=Math.min(k,S/2),d){const D=4*((Math.sqrt(2)-1)/3);d.beginPath(),S>0&&w>0&&(d.moveTo(x+E,b),d.lineTo(x+w-E,b),d.bezierCurveTo(x+w-E+D*E,b,x+w,b+k-D*k,x+w,b+k),d.lineTo(x+w,b+S-k),d.bezierCurveTo(x+w,b+S-k+D*k,x+w-E+D*E,b+S,x+w-E,b+S),d.lineTo(x+E,b+S),d.bezierCurveTo(x+E-D*E,b+S,x,b+S-k+D*k,x,b+S-k),d.lineTo(x,b+k),d.bezierCurveTo(x,b+k-D*k,x+E-D*E,b,x+E,b),d.closePath())}return new BoundingBox(x,b,x+w,b+S)}getMarkers(){return null}constructor(...d){super(...d),this.type="rect"}}class CircleElement extends PathElement{path(d){const x=this.getAttribute("cx").getPixels("x"),b=this.getAttribute("cy").getPixels("y"),w=this.getAttribute("r").getPixels();return d&&w>0&&(d.beginPath(),d.arc(x,b,w,0,Math.PI*2,!1),d.closePath()),new BoundingBox(x-w,b-w,x+w,b+w)}getMarkers(){return null}constructor(...d){super(...d),this.type="circle"}}class EllipseElement extends PathElement{path(d){const x=4*((Math.sqrt(2)-1)/3),b=this.getAttribute("rx").getPixels("x"),w=this.getAttribute("ry").getPixels("y"),S=this.getAttribute("cx").getPixels("x"),C=this.getAttribute("cy").getPixels("y");return d&&b>0&&w>0&&(d.beginPath(),d.moveTo(S+b,C),d.bezierCurveTo(S+b,C+x*w,S+x*b,C+w,S,C+w),d.bezierCurveTo(S-x*b,C+w,S-b,C+x*w,S-b,C),d.bezierCurveTo(S-b,C-x*w,S-x*b,C-w,S,C-w),d.bezierCurveTo(S+x*b,C-w,S+b,C-x*w,S+b,C),d.closePath()),new BoundingBox(S-b,C-w,S+b,C+w)}getMarkers(){return null}constructor(...d){super(...d),this.type="ellipse"}}class LineElement extends PathElement{getPoints(){return[new Point(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Point(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(d){const[{x,y:b},{x:w,y:S}]=this.getPoints();return d&&(d.beginPath(),d.moveTo(x,b),d.lineTo(w,S)),new BoundingBox(x,b,w,S)}getMarkers(){const[d,x]=this.getPoints(),b=d.angleTo(x);return[[d,b],[x,b]]}constructor(...d){super(...d),this.type="line"}}class PolylineElement extends PathElement{path(d){const{points:x}=this,[{x:b,y:w}]=x,S=new BoundingBox(b,w);return d&&(d.beginPath(),d.moveTo(b,w)),x.forEach(C=>{let{x:F,y:E}=C;S.addPoint(F,E),d&&d.lineTo(F,E)}),S}getMarkers(){const{points:d}=this,x=d.length-1,b=[];return d.forEach((w,S)=>{S!==x&&b.push([w,w.angleTo(d[S+1])])}),b.length>0&&b.push([d[d.length-1],b[b.length-1][1]]),b}constructor(d,x,b){super(d,x,b),this.type="polyline",this.points=[],this.points=Point.parsePath(this.getAttribute("points").getString())}}class PolygonElement extends PolylineElement{path(d){const x=super.path(d),[{x:b,y:w}]=this.points;return d&&(d.lineTo(b,w),d.closePath()),x}constructor(...d){super(...d),this.type="polygon"}}class PatternElement extends Element$1{createPattern(d,x,b){const w=this.getStyle("width").getPixels("x",!0),S=this.getStyle("height").getPixels("y",!0),C=new SVGElement$1(this.document,null);C.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),C.attributes.width=new Property(this.document,"width","".concat(w,"px")),C.attributes.height=new Property(this.document,"height","".concat(S,"px")),C.attributes.transform=new Property(this.document,"transform",this.getAttribute("patternTransform").getValue()),C.children=this.children;const F=this.document.createCanvas(w,S),E=F.getContext("2d"),k=this.getAttribute("x"),D=this.getAttribute("y");k.hasValue()&&D.hasValue()&&E.translate(k.getPixels("x",!0),D.getPixels("y",!0)),b.hasValue()?this.styles["fill-opacity"]=b:Reflect.deleteProperty(this.styles,"fill-opacity");for(let L=-1;L<=1;L++)for(let R=-1;R<=1;R++)E.save(),C.attributes.x=new Property(this.document,"x",L*F.width),C.attributes.y=new Property(this.document,"y",R*F.height),C.render(E),E.restore();return d.createPattern(F,"repeat")}constructor(...d){super(...d),this.type="pattern"}}class MarkerElement extends Element$1{render(d,x,b){if(!x)return;const{x:w,y:S}=x,C=this.getAttribute("orient").getString("auto"),F=this.getAttribute("markerUnits").getString("strokeWidth");d.translate(w,S),C==="auto"&&d.rotate(b),F==="strokeWidth"&&d.scale(d.lineWidth,d.lineWidth),d.save();const E=new SVGElement$1(this.document);E.type=this.type,E.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),E.attributes.refX=new Property(this.document,"refX",this.getAttribute("refX").getValue()),E.attributes.refY=new Property(this.document,"refY",this.getAttribute("refY").getValue()),E.attributes.width=new Property(this.document,"width",this.getAttribute("markerWidth").getValue()),E.attributes.height=new Property(this.document,"height",this.getAttribute("markerHeight").getValue()),E.attributes.overflow=new Property(this.document,"overflow",this.getAttribute("overflow").getValue()),E.attributes.fill=new Property(this.document,"fill",this.getAttribute("fill").getColor("black")),E.attributes.stroke=new Property(this.document,"stroke",this.getAttribute("stroke").getValue("none")),E.children=this.children,E.render(d),d.restore(),F==="strokeWidth"&&d.scale(1/d.lineWidth,1/d.lineWidth),C==="auto"&&d.rotate(-b),d.translate(-w,-S)}constructor(...d){super(...d),this.type="marker"}}class DefsElement extends Element$1{render(){}constructor(...d){super(...d),this.type="defs"}}class GElement extends RenderedElement{getBoundingBox(d){const x=new BoundingBox;return this.children.forEach(b=>{x.addBoundingBox(b.getBoundingBox(d))}),x}constructor(...d){super(...d),this.type="g"}}class GradientElement extends Element$1{getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(d,x,b){let w=this;this.getHrefAttribute().hasValue()&&(w=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(w));const{stops:S}=w,C=this.getGradient(d,x);if(!C)return this.addParentOpacity(b,S[S.length-1].color);if(S.forEach(F=>{C.addColorStop(F.offset,this.addParentOpacity(b,F.color))}),this.getAttribute("gradientTransform").hasValue()){const{document:F}=this,{MAX_VIRTUAL_PIXELS:E}=Screen,{viewPort:k}=F.screen,D=k.getRoot(),M=new RectElement(F);M.attributes.x=new Property(F,"x",-E/3),M.attributes.y=new Property(F,"y",-E/3),M.attributes.width=new Property(F,"width",E),M.attributes.height=new Property(F,"height",E);const L=new GElement(F);L.attributes.transform=new Property(F,"transform",this.getAttribute("gradientTransform").getValue()),L.children=[M];const R=new SVGElement$1(F);R.attributes.x=new Property(F,"x",0),R.attributes.y=new Property(F,"y",0),R.attributes.width=new Property(F,"width",D.width),R.attributes.height=new Property(F,"height",D.height),R.children=[L];const U=F.createCanvas(D.width,D.height),j=U.getContext("2d");return j.fillStyle=C,R.render(j),j.createPattern(U,"no-repeat")}return C}inheritStopContainer(d){this.attributesToInherit.forEach(x=>{!this.getAttribute(x).hasValue()&&d.getAttribute(x).hasValue()&&this.getAttribute(x,!0).setValue(d.getAttribute(x).getValue())})}addParentOpacity(d,x){return d.hasValue()?new Property(this.document,"color",x).addOpacity(d).getColor():x}constructor(d,x,b){super(d,x,b),this.attributesToInherit=["gradientUnits"],this.stops=[];const{stops:w,children:S}=this;S.forEach(C=>{C.type==="stop"&&w.push(C)})}}class LinearGradientElement extends GradientElement{getGradient(d,x){const b=this.getGradientUnits()==="objectBoundingBox",w=b?x.getBoundingBox(d):null;if(b&&!w)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));const S=b?w.x+w.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),C=b?w.y+w.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),F=b?w.x+w.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),E=b?w.y+w.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return S===F&&C===E?null:d.createLinearGradient(S,C,F,E)}constructor(d,x,b){super(d,x,b),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}}class RadialGradientElement extends GradientElement{getGradient(d,x){const b=this.getGradientUnits()==="objectBoundingBox",w=x.getBoundingBox(d);if(b&&!w)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");const S=b?w.x+w.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),C=b?w.y+w.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");let F=S,E=C;this.getAttribute("fx").hasValue()&&(F=b?w.x+w.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(E=b?w.y+w.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));const k=b?(w.width+w.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),D=this.getAttribute("fr").getPixels();return d.createRadialGradient(F,E,D,S,C,k)}constructor(d,x,b){super(d,x,b),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}}class StopElement extends Element$1{constructor(d,x,b){super(d,x,b),this.type="stop";const w=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),S=this.getStyle("stop-opacity");let C=this.getStyle("stop-color",!0);C.getString()===""&&C.setValue("#000"),S.hasValue()&&(C=C.addOpacity(S)),this.offset=w,this.color=C.getColor()}}class AnimateElement extends Element$1{getProperty(){const d=this.getAttribute("attributeType").getString(),x=this.getAttribute("attributeName").getString();return d==="CSS"?this.parent.getStyle(x,!0):this.parent.getAttribute(x,!0)}calcValue(){const{initialUnits:d}=this,{progress:x,from:b,to:w}=this.getProgress();let S=b.getNumber()+(w.getNumber()-b.getNumber())*x;return d==="%"&&(S*=100),"".concat(S).concat(d)}update(d){const{parent:x}=this,b=this.getProperty();if(this.initialValue||(this.initialValue=b.getString(),this.initialUnits=b.getUnits()),this.duration>this.maxDuration){const S=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(S==="freeze"&&!this.frozen)this.frozen=!0,x&&b&&(x.animationFrozen=!0,x.animationFrozenValue=b.getString());else if(S==="remove"&&!this.removed)return this.removed=!0,x&&b&&b.setValue(x.animationFrozen?x.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=d;let w=!1;if(this.begin<this.duration){let S=this.calcValue();const C=this.getAttribute("type");if(C.hasValue()){const F=C.getString();S="".concat(F,"(").concat(S,")")}b.setValue(S),w=!0}return w}getProgress(){const{document:d,values:x}=this;let b=(this.duration-this.begin)/(this.maxDuration-this.begin),w,S;if(x.hasValue()){const C=b*(x.getValue().length-1),F=Math.floor(C),E=Math.ceil(C);let k;k=x.getValue()[F],w=new Property(d,"from",k?parseFloat(k):0),k=x.getValue()[E],S=new Property(d,"to",k?parseFloat(k):0),b=(C-F)/(E-F)}else w=this.from,S=this.to;return{progress:b,from:w,to:S}}constructor(d,x,b){super(d,x,b),this.type="animate",this.duration=0,this.initialUnits="",this.removed=!1,this.frozen=!1,d.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Property(d,"values",null);const w=this.getAttribute("values");w.hasValue()&&this.values.setValue(w.getString().split(";"))}}class AnimateColorElement extends AnimateElement{calcValue(){const{progress:d,from:x,to:b}=this.getProgress(),w=new RGBColor$1(x.getColor()),S=new RGBColor$1(b.getColor());if(w.ok&&S.ok){const C=w.r+(S.r-w.r)*d,F=w.g+(S.g-w.g)*d,E=w.b+(S.b-w.b)*d;return"rgb(".concat(Math.floor(C),", ").concat(Math.floor(F),", ").concat(Math.floor(E),")")}return this.getAttribute("from").getColor()}constructor(...d){super(...d),this.type="animateColor"}}class AnimateTransformElement extends AnimateElement{calcValue(){const{progress:d,from:x,to:b}=this.getProgress(),w=toNumbers(x.getString()),S=toNumbers(b.getString());return w.map((F,E)=>{const k=S[E];return F+(k-F)*d}).join(" ")}constructor(...d){super(...d),this.type="animateTransform"}}class FontFaceElement extends Element$1{constructor(d,x,b){super(d,x,b),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class GlyphElement extends PathElement{constructor(d,x,b){super(d,x,b),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class MissingGlyphElement extends GlyphElement{constructor(...d){super(...d),this.type="missing-glyph",this.horizAdvX=0}}class FontElement extends Element$1{render(){}constructor(d,x,b){super(d,x,b),this.type="font",this.isArabic=!1,this.glyphs={},this.arabicGlyphs={},this.isRTL=!1,this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();const{definitions:w}=d,{children:S}=this;for(const C of S)if(C instanceof FontFaceElement){this.fontFace=C;const F=C.getStyle("font-family");F.hasValue()&&(w[F.getString()]=this)}else if(C instanceof MissingGlyphElement)this.missingGlyph=C;else if(C instanceof GlyphElement)if(C.arabicForm){this.isRTL=!0,this.isArabic=!0;const F=this.arabicGlyphs[C.unicode];typeof F>"u"?this.arabicGlyphs[C.unicode]={[C.arabicForm]:C}:F[C.arabicForm]=C}else this.glyphs[C.unicode]=C}}class TRefElement extends TextElement{getText(){const d=this.getHrefAttribute().getDefinition();if(d){const x=d.children[0];if(x)return x.getText()}return""}constructor(...d){super(...d),this.type="tref"}}class AElement extends TextElement{getText(){return this.text}renderChildren(d){if(this.hasText){super.renderChildren(d);const{document:x,x:b,y:w}=this,{mouse:S}=x.screen,C=new Property(x,"fontSize",Font.parse(x.ctx.font).fontSize);S.isWorking()&&S.checkBoundingBox(this,new BoundingBox(b,w-C.getPixels("y"),b+this.measureText(d),w))}else if(this.children.length>0){const x=new GElement(this.document);x.children=this.children,x.parent=this,x.render(d)}}onClick(){const{window:d}=this.document;d&&d.open(this.getHrefAttribute().getString())}onMouseMove(){const d=this.document.ctx;d.canvas.style.cursor="pointer"}constructor(d,x,b){super(d,x,b),this.type="a";const{childNodes:w}=x,S=w[0],C=w.length>0&&Array.from(w).every(F=>F.nodeType===3);this.hasText=C,this.text=C?this.getTextFromNode(S):""}}class TextPathElement extends TextElement{getText(){return this.text}path(d){const{dataArray:x}=this;d&&d.beginPath(),x.forEach(b=>{let{type:w,points:S}=b;switch(w){case PathParser.LINE_TO:d&&d.lineTo(S[0],S[1]);break;case PathParser.MOVE_TO:d&&d.moveTo(S[0],S[1]);break;case PathParser.CURVE_TO:d&&d.bezierCurveTo(S[0],S[1],S[2],S[3],S[4],S[5]);break;case PathParser.QUAD_TO:d&&d.quadraticCurveTo(S[0],S[1],S[2],S[3]);break;case PathParser.ARC:{const[C,F,E,k,D,M,L,R]=S,U=E>k?E:k,j=E>k?1:E/k,H=E>k?k/E:1;d&&(d.translate(C,F),d.rotate(L),d.scale(j,H),d.arc(0,0,U,D,D+M,!!(1-R)),d.scale(1/j,1/H),d.rotate(-L),d.translate(-C,-F));break}case PathParser.CLOSE_PATH:d&&d.closePath();break}})}renderChildren(d){this.setTextData(d),d.save();const x=this.parent.getStyle("text-decoration").getString(),b=this.getFontSize(),{glyphInfo:w}=this,S=d.fillStyle;x==="underline"&&d.beginPath(),w.forEach((C,F)=>{const{p0:E,p1:k,rotation:D,text:M}=C;d.save(),d.translate(E.x,E.y),d.rotate(D),d.fillStyle&&d.fillText(M,0,0),d.strokeStyle&&d.strokeText(M,0,0),d.restore(),x==="underline"&&(F===0&&d.moveTo(E.x,E.y+b/8),d.lineTo(k.x,k.y+b/5))}),x==="underline"&&(d.lineWidth=b/20,d.strokeStyle=S,d.stroke(),d.closePath()),d.restore()}getLetterSpacingAt(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[d]||0}findSegmentToFitChar(d,x,b,w,S,C,F,E,k){let D=C,M=this.measureText(d,E);E===" "&&x==="justify"&&b<w&&(M+=(w-b)/S),k>-1&&(D+=this.getLetterSpacingAt(k));const L=this.textHeight/20,R=this.getEquidistantPointOnPath(D,L,0),U=this.getEquidistantPointOnPath(D+M,L,0),j={p0:R,p1:U},H=R&&U?Math.atan2(U.y-R.y,U.x-R.x):0;if(F){const z=Math.cos(Math.PI/2+H)*F,V=Math.cos(-H)*F;j.p0={...R,x:R.x+z,y:R.y+V},j.p1={...U,x:U.x+z,y:U.y+V}}return D+=M,{offset:D,segment:j,rotation:H}}measureText(d,x){const{measuresCache:b}=this,w=x||this.getText();if(b.has(w))return b.get(w);const S=this.measureTargetText(d,w);return b.set(w,S),S}setTextData(d){if(this.glyphInfo)return;const x=this.getText(),b=x.split(""),w=x.split(" ").length-1,S=this.parent.getAttribute("dx").split().map(G=>G.getPixels("x")),C=this.parent.getAttribute("dy").getPixels("y"),F=this.parent.getStyle("text-anchor").getString("start"),E=this.getStyle("letter-spacing"),k=this.parent.getStyle("letter-spacing");let D=0;!E.hasValue()||E.getValue()==="inherit"?D=k.getPixels():E.hasValue()&&E.getValue()!=="initial"&&E.getValue()!=="unset"&&(D=E.getPixels());const M=[],L=x.length;this.letterSpacingCache=M;for(let G=0;G<L;G++)M.push(typeof S[G]<"u"?S[G]:D);const R=M.reduce((G,$,K)=>K===0?0:G+$||0,0),U=this.measureText(d),j=Math.max(U+R,0);this.textWidth=U,this.textHeight=this.getFontSize(),this.glyphInfo=[];const H=this.getPathLength(),z=this.getStyle("startOffset").getNumber(0)*H;let V=0;(F==="middle"||F==="center")&&(V=-j/2),(F==="end"||F==="right")&&(V=-j),V+=z,b.forEach((G,$)=>{const{offset:K,segment:Z,rotation:Q}=this.findSegmentToFitChar(d,F,j,H,w,V,C,G,$);V=K,!(!Z.p0||!Z.p1)&&this.glyphInfo.push({text:b[$],p0:Z.p0,p1:Z.p1,rotation:Q})})}parsePathData(d){if(this.pathLength=-1,!d)return[];const x=[],{pathParser:b}=d;for(b.reset();!b.isEnd();){const{current:w}=b,S=w?w.x:0,C=w?w.y:0,F=b.next();let E=F.type,k=[];switch(F.type){case PathParser.MOVE_TO:this.pathM(b,k);break;case PathParser.LINE_TO:E=this.pathL(b,k);break;case PathParser.HORIZ_LINE_TO:E=this.pathH(b,k);break;case PathParser.VERT_LINE_TO:E=this.pathV(b,k);break;case PathParser.CURVE_TO:this.pathC(b,k);break;case PathParser.SMOOTH_CURVE_TO:E=this.pathS(b,k);break;case PathParser.QUAD_TO:this.pathQ(b,k);break;case PathParser.SMOOTH_QUAD_TO:E=this.pathT(b,k);break;case PathParser.ARC:k=this.pathA(b);break;case PathParser.CLOSE_PATH:PathElement.pathZ(b);break}F.type!==PathParser.CLOSE_PATH?x.push({type:E,points:k,start:{x:S,y:C},pathLength:this.calcLength(S,C,E,k)}):x.push({type:PathParser.CLOSE_PATH,points:[],pathLength:0})}return x}pathM(d,x){const{x:b,y:w}=PathElement.pathM(d).point;x.push(b,w)}pathL(d,x){const{x:b,y:w}=PathElement.pathL(d).point;return x.push(b,w),PathParser.LINE_TO}pathH(d,x){const{x:b,y:w}=PathElement.pathH(d).point;return x.push(b,w),PathParser.LINE_TO}pathV(d,x){const{x:b,y:w}=PathElement.pathV(d).point;return x.push(b,w),PathParser.LINE_TO}pathC(d,x){const{point:b,controlPoint:w,currentPoint:S}=PathElement.pathC(d);x.push(b.x,b.y,w.x,w.y,S.x,S.y)}pathS(d,x){const{point:b,controlPoint:w,currentPoint:S}=PathElement.pathS(d);return x.push(b.x,b.y,w.x,w.y,S.x,S.y),PathParser.CURVE_TO}pathQ(d,x){const{controlPoint:b,currentPoint:w}=PathElement.pathQ(d);x.push(b.x,b.y,w.x,w.y)}pathT(d,x){const{controlPoint:b,currentPoint:w}=PathElement.pathT(d);return x.push(b.x,b.y,w.x,w.y),PathParser.QUAD_TO}pathA(d){let{rX:x,rY:b,sweepFlag:w,xAxisRotation:S,centp:C,a1:F,ad:E}=PathElement.pathA(d);return w===0&&E>0&&(E-=2*Math.PI),w===1&&E<0&&(E+=2*Math.PI),[C.x,C.y,x,b,F,E,S,w]}calcLength(d,x,b,w){let S=0,C=null,F=null,E=0;switch(b){case PathParser.LINE_TO:return this.getLineLength(d,x,w[0],w[1]);case PathParser.CURVE_TO:for(S=0,C=this.getPointOnCubicBezier(0,d,x,w[0],w[1],w[2],w[3],w[4],w[5]),E=.01;E<=1;E+=.01)F=this.getPointOnCubicBezier(E,d,x,w[0],w[1],w[2],w[3],w[4],w[5]),S+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;return S;case PathParser.QUAD_TO:for(S=0,C=this.getPointOnQuadraticBezier(0,d,x,w[0],w[1],w[2],w[3]),E=.01;E<=1;E+=.01)F=this.getPointOnQuadraticBezier(E,d,x,w[0],w[1],w[2],w[3]),S+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;return S;case PathParser.ARC:{S=0;const k=w[4],D=w[5],M=w[4]+D;let L=Math.PI/180;if(Math.abs(k-M)<L&&(L=Math.abs(k-M)),C=this.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],k,0),D<0)for(E=k-L;E>M;E-=L)F=this.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],E,0),S+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;else for(E=k+L;E<M;E+=L)F=this.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],E,0),S+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;return F=this.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],M,0),S+=this.getLineLength(C.x,C.y,F.x,F.y),S}}return 0}getPointOnLine(d,x,b,w,S){let C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:x,F=arguments.length>6&&arguments[6]!==void 0?arguments[6]:b;const E=(S-b)/(w-x+PSEUDO_ZERO);let k=Math.sqrt(d*d/(1+E*E));w<x&&(k*=-1);let D=E*k,M=null;if(w===x)M={x:C,y:F+D};else if((F-b)/(C-x+PSEUDO_ZERO)===E)M={x:C+k,y:F+D};else{let L=0,R=0;const U=this.getLineLength(x,b,w,S);if(U<PSEUDO_ZERO)return null;let j=(C-x)*(w-x)+(F-b)*(S-b);j/=U*U,L=x+j*(w-x),R=b+j*(S-b);const H=this.getLineLength(C,F,L,R),z=Math.sqrt(d*d-H*H);k=Math.sqrt(z*z/(1+E*E)),w<x&&(k*=-1),D=E*k,M={x:L+k,y:R+D}}return M}getPointOnPath(d){const x=this.getPathLength();let b=0,w=null;if(d<-5e-5||d-5e-5>x)return null;const{dataArray:S}=this;for(const C of S){if(C&&(C.pathLength<5e-5||b+C.pathLength+5e-5<d)){b+=C.pathLength;continue}const F=d-b;let E=0;switch(C.type){case PathParser.LINE_TO:w=this.getPointOnLine(F,C.start.x,C.start.y,C.points[0],C.points[1],C.start.x,C.start.y);break;case PathParser.ARC:{const k=C.points[4],D=C.points[5],M=C.points[4]+D;if(E=k+F/C.pathLength*D,D<0&&E<M||D>=0&&E>M)break;w=this.getPointOnEllipticalArc(C.points[0],C.points[1],C.points[2],C.points[3],E,C.points[6]);break}case PathParser.CURVE_TO:E=F/C.pathLength,E>1&&(E=1),w=this.getPointOnCubicBezier(E,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3],C.points[4],C.points[5]);break;case PathParser.QUAD_TO:E=F/C.pathLength,E>1&&(E=1),w=this.getPointOnQuadraticBezier(E,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3]);break}if(w)return w;break}return null}getLineLength(d,x,b,w){return Math.sqrt((b-d)*(b-d)+(w-x)*(w-x))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((d,x)=>x.pathLength>0?d+x.pathLength:d,0)),this.pathLength}getPointOnCubicBezier(d,x,b,w,S,C,F,E,k){const D=E*CB1(d)+C*CB2(d)+w*CB3(d)+x*CB4(d),M=k*CB1(d)+F*CB2(d)+S*CB3(d)+b*CB4(d);return{x:D,y:M}}getPointOnQuadraticBezier(d,x,b,w,S,C,F){const E=C*QB1(d)+w*QB2(d)+x*QB3(d),k=F*QB1(d)+S*QB2(d)+b*QB3(d);return{x:E,y:k}}getPointOnEllipticalArc(d,x,b,w,S,C){const F=Math.cos(C),E=Math.sin(C),k={x:b*Math.cos(S),y:w*Math.sin(S)};return{x:d+(k.x*F-k.y*E),y:x+(k.x*E+k.y*F)}}buildEquidistantCache(d,x){const b=this.getPathLength(),w=x||.25,S=d||b/100;if(!this.equidistantCache||this.equidistantCache.step!==S||this.equidistantCache.precision!==w){this.equidistantCache={step:S,precision:w,points:[]};let C=0;for(let F=0;F<=b;F+=w){const E=this.getPointOnPath(F),k=this.getPointOnPath(F+w);!E||!k||(C+=this.getLineLength(E.x,E.y,k.x,k.y),C>=S&&(this.equidistantCache.points.push({x:E.x,y:E.y,distance:F}),C-=S))}}}getEquidistantPointOnPath(d,x,b){if(this.buildEquidistantCache(x,b),d<0||d-this.getPathLength()>5e-5)return null;const w=Math.round(d/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[w]||null}constructor(d,x,b){super(d,x,b),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);const w=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(w)}}const dataUriRegex=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ImageElement extends RenderedElement{async loadImage(d){try{const x=await this.document.createImage(d);this.image=x}catch(x){console.error('Error while loading image "'.concat(d,'":'),x)}this.loaded=!0}async loadSvg(d){const x=dataUriRegex.exec(d);if(x){const b=x[5];b&&(x[4]==="base64"?this.image=atob(b):this.image=decodeURIComponent(b))}else try{const w=await(await this.document.fetch(d)).text();this.image=w}catch(b){console.error('Error while loading image "'.concat(d,'":'),b)}this.loaded=!0}renderChildren(d){const{document:x,image:b,loaded:w}=this,S=this.getAttribute("x").getPixels("x"),C=this.getAttribute("y").getPixels("y"),F=this.getStyle("width").getPixels("x"),E=this.getStyle("height").getPixels("y");if(!(!w||!b||!F||!E)){if(d.save(),d.translate(S,C),typeof b=="string"){const k=x.canvg.forkString(d,b,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:F,scaleHeight:E}),{documentElement:D}=k.document;D&&(D.parent=this),k.render()}else x.setViewBox({ctx:d,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:F,desiredWidth:b.width,height:E,desiredHeight:b.height}),this.loaded&&(!("complete"in b)||b.complete)&&d.drawImage(b,0,0);d.restore()}}getBoundingBox(){const d=this.getAttribute("x").getPixels("x"),x=this.getAttribute("y").getPixels("y"),b=this.getStyle("width").getPixels("x"),w=this.getStyle("height").getPixels("y");return new BoundingBox(d,x,d+b,x+w)}constructor(d,x,b){super(d,x,b),this.type="image",this.loaded=!1;const w=this.getHrefAttribute().getString();if(!w)return;const S=w.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(w);d.images.push(this),S?this.loadSvg(w):this.loadImage(w)}}class SymbolElement extends RenderedElement{render(d){}constructor(...d){super(...d),this.type="symbol"}}class SVGFontLoader{async load(d,x){try{const{document:b}=this,S=(await b.canvg.parser.load(x)).getElementsByTagName("font");Array.from(S).forEach(C=>{const F=b.createElement(C);b.definitions[d]=F})}catch(b){console.error('Error while loading font "'.concat(x,'":'),b)}this.loaded=!0}constructor(d){this.document=d,this.loaded=!1,d.fonts.push(this)}}class StyleElement extends Element$1{constructor(d,x,b){super(d,x,b),this.type="style",compressSpaces(Array.from(x.childNodes).map(C=>C.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(C=>{const F=C.trim();if(!F)return;const E=F.split("{"),k=E[0].split(","),D=E[1].split(";");k.forEach(M=>{const L=M.trim();if(!L)return;const R=d.styles[L]||{};if(D.forEach(U=>{const j=U.indexOf(":"),H=U.substr(0,j).trim(),z=U.substr(j+1,U.length-j).trim();H&&z&&(R[H]=new Property(d,H,z))}),d.styles[L]=R,d.stylesSpecificity[L]=getSelectorSpecificity(L),L==="@font-face"){const U=R["font-family"].getString().replace(/"|'/g,"");R.src.getString().split(",").forEach(H=>{if(H.indexOf('format("svg")')>0){const z=parseExternalUrl(H);z&&new SVGFontLoader(d).load(U,z)}})}})})}}StyleElement.parseExternalUrl=parseExternalUrl;class UseElement extends RenderedElement{setContext(d){super.setContext(d);const x=this.getAttribute("x"),b=this.getAttribute("y");x.hasValue()&&d.translate(x.getPixels("x"),0),b.hasValue()&&d.translate(0,b.getPixels("y"))}path(d){const{element:x}=this;x&&x.path(d)}renderChildren(d){const{document:x,element:b}=this;if(b){let w=b;if(b.type==="symbol"&&(w=new SVGElement$1(x),w.attributes.viewBox=new Property(x,"viewBox",b.getAttribute("viewBox").getString()),w.attributes.preserveAspectRatio=new Property(x,"preserveAspectRatio",b.getAttribute("preserveAspectRatio").getString()),w.attributes.overflow=new Property(x,"overflow",b.getAttribute("overflow").getString()),w.children=b.children,b.styles.opacity=new Property(x,"opacity",this.calculateOpacity())),w.type==="svg"){const C=this.getStyle("width",!1,!0),F=this.getStyle("height",!1,!0);C.hasValue()&&(w.attributes.width=new Property(x,"width",C.getString())),F.hasValue()&&(w.attributes.height=new Property(x,"height",F.getString()))}const S=w.parent;w.parent=this,w.render(d),w.parent=S}}getBoundingBox(d){const{element:x}=this;return x?x.getBoundingBox(d):null}elementTransform(){const{document:d,element:x}=this;return x?Transform.fromElement(d,x):null}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}constructor(...d){super(...d),this.type="use"}}function imGet(g,d,x,b,w,S){return g[x*b*4+d*4+S]}function imSet(g,d,x,b,w,S,C){g[x*b*4+d*4+S]=C}function m(g,d,x){return g[d]*x}function c(g,d,x,b){return d+Math.cos(g)*x+Math.sin(g)*b}class FeColorMatrixElement extends Element$1{apply(d,x,b,w,S){const{includeOpacity:C,matrix:F}=this,E=d.getImageData(0,0,w,S);for(let k=0;k<S;k++)for(let D=0;D<w;D++){const M=imGet(E.data,D,k,w,S,0),L=imGet(E.data,D,k,w,S,1),R=imGet(E.data,D,k,w,S,2),U=imGet(E.data,D,k,w,S,3);let j=m(F,0,M)+m(F,1,L)+m(F,2,R)+m(F,3,U)+m(F,4,1),H=m(F,5,M)+m(F,6,L)+m(F,7,R)+m(F,8,U)+m(F,9,1),z=m(F,10,M)+m(F,11,L)+m(F,12,R)+m(F,13,U)+m(F,14,1),V=m(F,15,M)+m(F,16,L)+m(F,17,R)+m(F,18,U)+m(F,19,1);C&&(j=0,H=0,z=0,V*=U/255),imSet(E.data,D,k,w,S,0,j),imSet(E.data,D,k,w,S,1,H),imSet(E.data,D,k,w,S,2,z),imSet(E.data,D,k,w,S,3,V)}d.clearRect(0,0,w,S),d.putImageData(E,0,0)}constructor(d,x,b){super(d,x,b),this.type="feColorMatrix";let w=toNumbers(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{const S=w[0];w=[.213+.787*S,.715-.715*S,.072-.072*S,0,0,.213-.213*S,.715+.285*S,.072-.072*S,0,0,.213-.213*S,.715-.715*S,.072+.928*S,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{const S=w[0]*Math.PI/180;w=[c(S,.213,.787,-.213),c(S,.715,-.715,-.715),c(S,.072,-.072,.928),0,0,c(S,.213,-.213,.143),c(S,.715,.285,.14),c(S,.072,-.072,-.283),0,0,c(S,.213,-.213,-.787),c(S,.715,-.715,.715),c(S,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=w,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}}class MaskElement extends Element$1{apply(d,x){const{document:b}=this;let w=this.getAttribute("x").getPixels("x"),S=this.getAttribute("y").getPixels("y"),C=this.getStyle("width").getPixels("x"),F=this.getStyle("height").getPixels("y");if(!C&&!F){const R=new BoundingBox;this.children.forEach(U=>{R.addBoundingBox(U.getBoundingBox(d))}),w=Math.floor(R.x1),S=Math.floor(R.y1),C=Math.floor(R.width),F=Math.floor(R.height)}const E=this.removeStyles(x,MaskElement.ignoreStyles),k=b.createCanvas(w+C,S+F),D=k.getContext("2d");b.screen.setDefaults(D),this.renderChildren(D),new FeColorMatrixElement(b,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(D,0,0,w+C,S+F);const M=b.createCanvas(w+C,S+F),L=M.getContext("2d");b.screen.setDefaults(L),x.render(L),L.globalCompositeOperation="destination-in",L.fillStyle=D.createPattern(k,"no-repeat"),L.fillRect(0,0,w+C,S+F),d.fillStyle=L.createPattern(M,"no-repeat"),d.fillRect(0,0,w+C,S+F),this.restoreStyles(x,E)}render(d){}constructor(...d){super(...d),this.type="mask"}}MaskElement.ignoreStyles=["mask","transform","clip-path"];const noop=()=>{};class ClipPathElement extends Element$1{apply(d){const{document:x}=this,b=Reflect.getPrototypeOf(d),{beginPath:w,closePath:S}=d;b&&(b.beginPath=noop,b.closePath=noop),Reflect.apply(w,d,[]),this.children.forEach(C=>{if(!("path"in C))return;let F="elementTransform"in C?C.elementTransform():null;F||(F=Transform.fromElement(x,C)),F&&F.apply(d),C.path(d),b&&(b.closePath=S),F&&F.unapply(d)}),Reflect.apply(S,d,[]),d.clip(),b&&(b.beginPath=w,b.closePath=S)}render(d){}constructor(...d){super(...d),this.type="clipPath"}}class FilterElement extends Element$1{apply(d,x){const{document:b,children:w}=this,S="getBoundingBox"in x?x.getBoundingBox(d):null;if(!S)return;let C=0,F=0;w.forEach(z=>{const V=z.extraFilterDistance||0;C=Math.max(C,V),F=Math.max(F,V)});const E=Math.floor(S.width),k=Math.floor(S.height),D=E+2*C,M=k+2*F;if(D<1||M<1)return;const L=Math.floor(S.x),R=Math.floor(S.y),U=this.removeStyles(x,FilterElement.ignoreStyles),j=b.createCanvas(D,M),H=j.getContext("2d");b.screen.setDefaults(H),H.translate(-L+C,-R+F),x.render(H),w.forEach(z=>{typeof z.apply=="function"&&z.apply(H,0,0,D,M)}),d.drawImage(j,0,0,D,M,L-C,R-F,D,M),this.restoreStyles(x,U)}render(d){}constructor(...d){super(...d),this.type="filter"}}FilterElement.ignoreStyles=["filter","transform","clip-path"];class FeDropShadowElement extends Element$1{apply(d,x,b,w,S){}constructor(d,x,b){super(d,x,b),this.type="feDropShadow",this.addStylesFromStyleDefinition()}}class FeMorphologyElement extends Element$1{apply(d,x,b,w,S){}constructor(...d){super(...d),this.type="feMorphology"}}class FeCompositeElement extends Element$1{apply(d,x,b,w,S){}constructor(...d){super(...d),this.type="feComposite"}}class FeGaussianBlurElement extends Element$1{apply(d,x,b,w,S){const{document:C,blurRadius:F}=this,E=C.window?C.window.document.body:null,k=d.canvas;k.id=C.getUniqueId(),E&&(k.style.display="none",E.appendChild(k)),processCanvasRGBA(k,x,b,w,S,F),E&&E.removeChild(k)}constructor(d,x,b){super(d,x,b),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}}class TitleElement extends Element$1{constructor(...d){super(...d),this.type="title"}}class DescElement extends Element$1{constructor(...d){super(...d),this.type="desc"}}const elements={svg:SVGElement$1,rect:RectElement,circle:CircleElement,ellipse:EllipseElement,line:LineElement,polyline:PolylineElement,polygon:PolygonElement,path:PathElement,pattern:PatternElement,marker:MarkerElement,defs:DefsElement,linearGradient:LinearGradientElement,radialGradient:RadialGradientElement,stop:StopElement,animate:AnimateElement,animateColor:AnimateColorElement,animateTransform:AnimateTransformElement,font:FontElement,"font-face":FontFaceElement,"missing-glyph":MissingGlyphElement,glyph:GlyphElement,text:TextElement,tspan:TSpanElement,tref:TRefElement,a:AElement,textPath:TextPathElement,image:ImageElement,g:GElement,symbol:SymbolElement,style:StyleElement,use:UseElement,mask:MaskElement,clipPath:ClipPathElement,filter:FilterElement,feDropShadow:FeDropShadowElement,feMorphology:FeMorphologyElement,feComposite:FeCompositeElement,feColorMatrix:FeColorMatrixElement,feGaussianBlur:FeGaussianBlurElement,title:TitleElement,desc:DescElement};function createCanvas(g,d){const x=document.createElement("canvas");return x.width=g,x.height=d,x}async function createImage(g){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const x=document.createElement("img");return d&&(x.crossOrigin="Anonymous"),new Promise((b,w)=>{x.onload=()=>{b(x)},x.onerror=(S,C,F,E,k)=>{w(k)},x.src=g})}const DEFAULT_EM_SIZE=12;class Document{bindCreateImage(d,x){return typeof x=="boolean"?(b,w)=>d(b,typeof w=="boolean"?w:x):d}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){const{emSizeStack:d}=this;return d[d.length-1]||DEFAULT_EM_SIZE}set emSize(d){const{emSizeStack:x}=this;x.push(d)}popEmSize(){const{emSizeStack:d}=this;d.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(d=>d.loaded)}isFontsLoaded(){return this.fonts.every(d=>d.loaded)}createDocumentElement(d){const x=this.createElement(d.documentElement);return x.root=!0,x.addStylesFromStyleDefinition(),this.documentElement=x,x}createElement(d){const x=d.nodeName.replace(/^[^:]+:/,""),b=Document.elementTypes[x];return b?new b(this,d):new UnknownElement(this,d)}createTextNode(d){return new TextNode(this,d)}setViewBox(d){this.screen.setViewBox({document:this,...d})}constructor(d,{rootEmSize:x=DEFAULT_EM_SIZE,emSize:b=DEFAULT_EM_SIZE,createCanvas:w=Document.createCanvas,createImage:S=Document.createImage,anonymousCrossOrigin:C}={}){this.canvg=d,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=d.screen,this.rootEmSize=x,this.emSize=b,this.createCanvas=w,this.createImage=this.bindCreateImage(S,C),this.screen.wait(()=>this.isImagesLoaded()),this.screen.wait(()=>this.isFontsLoaded())}}Document.createCanvas=createCanvas;Document.createImage=createImage;Document.elementTypes=elements;class Canvg{static async from(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=await new Parser(b).parse(x);return new Canvg(d,S,b)}static fromString(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=new Parser(b).parseFromString(x);return new Canvg(d,S,b)}fork(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Canvg.from(d,x,{...this.options,...b})}forkString(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Canvg.fromString(d,x,{...this.options,...b})}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}async render(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.start({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0,...d}),await this.ready(),this.stop()}start(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{documentElement:x,screen:b,options:w}=this;b.start(x,{enableRedraw:!0,...w,...d})}stop(){this.screen.stop()}resize(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(d,x,b)}constructor(d,x,b={}){this.parser=new Parser(b),this.screen=new Screen(d,b),this.options=b;const w=new Document(this,b),S=w.createDocumentElement(x);this.document=w,this.documentElement=S}}class PDFAppearance{static async embed(d,x){const b=PDFAppearance.getAppPng(x);return(await d.embedPng(b)).ref}static createContentStream(d,x,b){const w=d.obj({Type:"XObject",Subtype:"Form",BBox:PDFArrayCustom.getBBox(d,x),Resources:{XObject:{img0:b}}}),S=[...drawImage("img0",{x:0,y:0,width:x.width,height:x.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)})];return d.register(PDFContentStream.of(w,S,!0))}static createFRM(d,x,b){const w=d.obj({Type:"XObject",Subtype:"Form",BBox:x,Resources:{XObject:{FRM:b}}}),S=PDFOperator.of(PDFOperatorNames$1.DrawObject,[asPDFName("FRM")]);return d.register(PDFContentStream.of(w,[S],!1))}static getAppPng(d){const x=document.createElement("canvas");x.width=789,x.height=300;const b=x.getContext("2d");if(!b)throw alert("Ошибка рендеринга оттиска"),Error("Ошибка рендеринга оттиска. the context identifier is not supported, or the canvas has already been set to a different context mode.");let w=Canvg.fromString(b,d);w.start();const S=x.toDataURL("image/png");return w.stop(),S}}class PDFAnnotation{static getOrCreateAnnotsArray(d,x){const b=d.lookup(PDFName.Annots);if(b instanceof PDFArray)return b;if(b instanceof PDFRef){const w=x.lookupMaybe(b,PDFArray);if(w)return w}return PDFArray.withContext(x)}static saveAnnotations(d,x,b,w){const S=d.node.lookup(PDFName.Annots);S instanceof PDFRef?(b.assign(S,x),w.markRefForSave(S)):(d.node.set(PDFName.Annots,x),w.markRefForSave(d.ref))}}class PDFWidgetAnnotationHelper{pdfDoc;context;snap;sigDictRef;sigImageRef;acroFormCustom;constructor(d,x,b,w){this.pdfDoc=d,this.context=d.context,this.snap=x,this.sigDictRef=b,this.sigImageRef=w,this.acroFormCustom=new PDFAcroFormCustom(d,x,w)}static async of(d,x,b){const w=await PDFAppearance.embed(d.pdfDoc,b);return new PDFWidgetAnnotationHelper(d.pdfDoc,d.snap,x,w)}async createAllAnnotationWidgets(d){console.debug("creating widgets...");const x=this.pdfDoc.getPages(),b=[];for(let w in d.signDict){const S=d.signDict[w];if(S==null)continue;const C=x[Number(w)-1],F=PDFAnnotation.getOrCreateAnnotsArray(C.node,this.context),E=C.getHeight();for(let k=0;k<S.length;k++){if(S[k]==null)continue;S[k]=normalizeScale(S[k],E);const D=this.createWidgetDict(C.ref,S[k]);this.acroFormCustom.widgetCount++,this.snap.markRefForSave(D),F.push(D),b.push(D)}PDFAnnotation.saveAnnotations(C,F,this.context,this.snap)}this.acroFormCustom.addFields(b)}createWidgetDict(d,x){const b=this.context.obj({FT:"Sig",T:PDFString.of(`Sig${this.acroFormCustom.widgetCount}`),V:this.sigDictRef,F:PDFNumber.of(132),Type:"Annot",Subtype:"Widget",Rect:PDFArrayCustom.getRectangle(this.context,x),P:d,MK:{},AP:{N:PDFAppearance.createContentStream(this.context,x,this.sigImageRef)}});return this.context.register(b)}}function normalizeScale(g,d){return g.width*=2/3,g.height*=2/3,g.x*=2/3,g.y*=2/3,g.x=Math.trunc(g.x),g.width=Math.trunc(g.width),g.height=Math.trunc(g.height),g.y=d-g.y-g.height,g.y=Math.trunc(g.y),g}const addSignaturePlaceholder=async(g,d)=>{console.debug("addSignaturePlaceholder");const x=await PDFDoc.load(g),b=PDFSignDictionary.create(x,d.cert),w=getSvgString(d.cert);return await(await PDFWidgetAnnotationHelper.of(x,b,w)).createAllAnnotationWidgets(d),PDFMetadata.of(x,d.cert.name).updateMetadata(),await PDFDoc.saveIncremental(x)};class SignPrepare{static getPositions(d){const x=SignPrepare.findByteRangePlaceholder(d);if(x==null||x.byteRangePlaceholder==null)throw Error("byteRange undefined");const b=x.byteRangePlaceholder,w=d.indexOf(b),S=w+b.length,C=d.indexOf("/Contents ",S),F=d.indexOf("<",C),E=d.indexOf(">",F);return{byteRangePlaceholder:b,byteRangeStart:w,byteRangeEnd:S,placeholderStart:F,placeholderEnd:E}}static getByteRange(d,x,b){const w=[0,0,0,0];return w[1]=x,w[2]=b+1,w[3]=d.length-w[2],w}static getByteRangeStr(d,x){let b="";for(let S=0;S<d.length;S++)b+=` ${d[S]}`;let w=`/ByteRange [${b}]`;return w+=" ".repeat(x.length-w.length),w}static findByteRangePlaceholder=d=>{const x=d.toString().match(/\/ByteRange\s*\[{1}\s*(?:(?:\d*|\/\*{10})\s+){3}(?:\d+|\/\*{10}){1}\s*]{1}/g);if(x==null)throw console.error("No ByteRangeStrings found within PDF buffer"),Error("No ByteRangeStrings found within PDF buffer");const b=x.find(S=>S.includes(`/${PDFDefaultConst.BYTE_RANGE_PLACEHOLDER}`));let w=x.map(S=>S.match(/[^[\s]*(?:\d|\/\*{10})/g));return{byteRangePlaceholder:b,byteRangeStrings:x,byteRanges:w}}}class SignHelper{byteRange=[0,0,0,0];buffer;pos;constructor(d){this.buffer=d,this.removeTrailingNewLine(),this.pos=SignPrepare.getPositions(this.buffer),this.byteRange=SignPrepare.getByteRange(this.buffer,this.pos.placeholderStart,this.pos.placeholderEnd)}static of(d){return new SignHelper(d)}static fromUint8Array(d){return new SignHelper(buffer.Buffer.from(d))}prepareForHash=()=>{console.debug("prepareBeforeHash");let d=SignPrepare.getByteRangeStr(this.byteRange,this.pos.byteRangePlaceholder),x=this.buffer;return x=buffer.Buffer.concat([x.slice(0,this.pos.byteRangeStart),buffer.Buffer.from(d),x.slice(this.pos.byteRangeEnd,x.length)]),x=buffer.Buffer.concat([x.slice(0,this.byteRange[1]),x.slice(this.byteRange[2],x.length)]),this.buffer=x,new Blob([x])};fillSignatureResult=d=>{console.debug("Вставка подписи");let x=d.base64ToHex();const b=SignHelper.fillRemainString(x);let w=this.buffer;return w=buffer.Buffer.concat([w.slice(0,this.byteRange[1]),buffer.Buffer.from(`<${b}>`),w.slice(this.byteRange[1],w.length)]),w};static fillRemainString(d){return`${d}${"0".repeat(PDFDefaultConst.SIGNATURE_LENGTH-d.length)}`}removeTrailingNewLine=()=>{let d=this.buffer;if(d=this.sliceLastChar(d,`
`),d=this.sliceLastChar(d,"\r"),d.slice(d.length-6).toString()!==`
%%EOF`)throw console.error("A PDF file must end with an EOF line."),Error("A PDF file must end with an EOF line.");this.buffer=d};sliceLastChar=(d,x)=>d.slice(d.length-1).toString()===x?d.slice(0,d.length-1):d}(()=>{var __webpack_modules__={106:()=>{(function(){if(window.cadesplugin)return;var pluginObject,plugin_resolved=0,plugin_reject,plugin_resolve,isOpera=0,isFireFox=0,isSafari=0,isYandex=0,canPromise=!!window.Promise,cadesplugin_loaded_event_recieved=!1,isFireFoxExtensionLoaded=!1,cadesplugin;canPromise?cadesplugin=new Promise(function(g,d){plugin_resolve=g,plugin_reject=d}):cadesplugin={};function check_browser(){var g=navigator.userAgent,d,x=g.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(x[1])?(d=/\brv[ :]+(\d+)/g.exec(g)||[],{name:"IE",version:d[1]||""}):x[1]==="Chrome"&&(d=g.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/),d!=null)?{name:d[1].replace("OPR","Opera"),version:d[2]}:(x=x[2]?[x[1],x[2]]:[navigator.appName,navigator.appVersion,"-?"],(d=g.match(/version\/(\d+)/i))!=null&&x.splice(1,1,d[1]),{name:x[0],version:x[1]})}var browserSpecs=check_browser();function cpcsp_console_log(g,d){if(!(typeof console>"u")&&g<=cadesplugin.current_log_level){g===cadesplugin.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",d),g===cadesplugin.LOG_LEVEL_INFO&&console.info("INFO: %s",d),g===cadesplugin.LOG_LEVEL_ERROR&&console.error("ERROR: %s",d);return}}function set_log_level(g){if(!(g===cadesplugin.LOG_LEVEL_DEBUG||g===cadesplugin.LOG_LEVEL_INFO||g===cadesplugin.LOG_LEVEL_ERROR)){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+g);return}cadesplugin.current_log_level=g,cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),isNativeMessageSupported()&&(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))}function set_constantValues(){cadesplugin.CAPICOM_MEMORY_STORE=0,cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1,cadesplugin.CAPICOM_CURRENT_USER_STORE=2,cadesplugin.CAPICOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_MEMORY_STORE=0,cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1,cadesplugin.CADESCOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_CONTAINER_STORE=100,cadesplugin.CAPICOM_MY_STORE="My",cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,cadesplugin.CADESCOM_XADES_DEFAULT=16,cadesplugin.CADESCOM_XADES_BES=32,cadesplugin.CADESCOM_XADES_T=80,cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1=1488,cadesplugin.CADESCOM_XMLDSIG_TYPE=0,cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",cadesplugin.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256",cadesplugin.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256",cadesplugin.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512",cadesplugin.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512",cadesplugin.CADESCOM_CADES_DEFAULT=0,cadesplugin.CADESCOM_CADES_BES=1,cadesplugin.CADESCOM_CADES_T=5,cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93,cadesplugin.CADESCOM_PKCS7_TYPE=65535,cadesplugin.CADESCOM_ENCODE_BASE64=0,cadesplugin.CADESCOM_ENCODE_BINARY=1,cadesplugin.CADESCOM_ENCODE_ANY=-1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9,cadesplugin.CAPICOM_OID_OTHER=0,cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10,cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2,cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5,cadesplugin.CAPICOM_EKU_OTHER=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256,cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1,cadesplugin.CADESCOM_STRING_TO_UCS2LE=0,cadesplugin.CADESCOM_BASE64_TO_BINARY=1,cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0,cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1,cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0,cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1,cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2,cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,cadesplugin.LOG_LEVEL_DEBUG=4,cadesplugin.LOG_LEVEL_INFO=2,cadesplugin.LOG_LEVEL_ERROR=1,cadesplugin.CADESCOM_AllowNone=0,cadesplugin.CADESCOM_AllowNoOutstandingRequest=1,cadesplugin.CADESCOM_AllowUntrustedCertificate=2,cadesplugin.CADESCOM_AllowUntrustedRoot=4,cadesplugin.CADESCOM_SkipInstallToStore=268435456,cadesplugin.CADESCOM_InstallCertChainToContainer=536870912,cadesplugin.CADESCOM_UseContainerStore=1073741824,cadesplugin.ENABLE_CARRIER_TYPE_CSP=1,cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM=2,cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM=4,cadesplugin.ENABLE_ANY_CARRIER_TYPE=7,cadesplugin.DISABLE_EVERY_CARRIER_OPERATION=0,cadesplugin.ENABLE_CARRIER_OPEN_ENUM=1,cadesplugin.ENABLE_CARRIER_CREATE=2,cadesplugin.ENABLE_ANY_OPERATION=3,cadesplugin.CADESCOM_PRODUCT_CSP=0,cadesplugin.CADESCOM_PRODUCT_OCSP=1,cadesplugin.CADESCOM_PRODUCT_TSP=2,cadesplugin.MEDIA_TYPE_REGISTRY=1,cadesplugin.MEDIA_TYPE_HDIMAGE=2,cadesplugin.MEDIA_TYPE_CLOUD=4,cadesplugin.MEDIA_TYPE_SCARD=8,cadesplugin.XCN_CRYPT_STRING_BASE64HEADER=0,cadesplugin.AT_KEYEXCHANGE=1,cadesplugin.AT_SIGNATURE=2,cadesplugin.CARRIER_FLAG_REMOVABLE=1,cadesplugin.CARRIER_FLAG_UNIQUE=2,cadesplugin.CARRIER_FLAG_PROTECTED=4,cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER=8,cadesplugin.CARRIER_FLAG_SECURE_MESSAGING=16,cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64,cadesplugin.CARRIER_FLAG_VIRTUAL=128}function async_spawn(g){function d(S,C){var F;try{F=x[S](C)}catch(E){return Promise.reject(E)}return F.done?F.value:Promise.resolve(F.value).then(b,w)}var x=g(Array.prototype.slice.call(arguments,1)),b=d.bind(d,"next"),w=d.bind(d,"throw");return b()}function isIE(){return browserSpecs.name==="IE"||browserSpecs.name==="MSIE"}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){if(isIE())return!1;if(browserSpecs.name==="Edg")return!0;if(browserSpecs.name==="YaBrowser")return isYandex=!0,!0;if(browserSpecs.name==="Opera")return isOpera=!0,browserSpecs.version>=33;if(browserSpecs.name==="Firefox")return isFireFox=!0,browserSpecs.version>=52;if(browserSpecs.name==="Chrome")return browserSpecs.version>=42;if(browserSpecs.name==="Safari")return isSafari=!0,browserSpecs.version>=12}function CreateObject(g){if(isIOS())return call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[g]);if(isIE()){if(g.match(/X509Enrollment/i))try{var d=document.getElementById("webClassFactory");return d.CreateObject(g)}catch{try{var x=document.getElementById("certEnrollClassFactory");return x.CreateObject(g)}catch{throw"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS"}}try{var x=document.getElementById("webClassFactory");return x.CreateObject(g)}catch{return new ActiveXObject(g)}}return pluginObject.CreateObject(g)}function decimalToHexString(g){return g<0&&(g=4294967295+g+1),g.toString(16).toUpperCase()}function GetMessageFromException(g){var d=g.message;return d?g.number&&(d+=" (0x"+decimalToHexString(g.number)+")"):d=g,d}function getLastError(g){if(isNativeMessageSupported()||isIE()||isIOS())return GetMessageFromException(g);try{return pluginObject.getLastError()}catch{return GetMessageFromException(g)}}function ReleasePluginObjects(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}function CreateObjectAsync(g){return pluginObject.CreateObjectAsync(g)}var ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function(d,x){var b=ru_cryptopro_npcades_10_native_bridge.callbacks[d];b&&b.apply(null,x)},call:function(d,x,b){var w=b&&typeof b=="function",S=w?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;w&&(ru_cryptopro_npcades_10_native_bridge.callbacks[S]=b);var C=document.createElement("IFRAME"),F=new Array("_CPNP_handle");try{C.setAttribute("src","cpnp-js-call:"+d+":"+S+":"+encodeURIComponent(JSON.stringify(x,F)))}catch(E){alert(E)}document.documentElement.appendChild(C),C.parentNode.removeChild(C),C=null}};function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj,ex;if(ru_cryptopro_npcades_10_native_bridge.call(functionName,array,function(e,response){ex=e;var str="tmpobj="+response;eval(str)}),ex)throw ex;return tmpobj}function show_firefox_missing_extension_dialog(){if(!window.cadesplugin_skip_extension_install){var g=document.createElement("div");g.id="cadesplugin_ovr",g.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",g.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; max-width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p></div>",document.getElementsByTagName("Body")[0].appendChild(g),document.getElementById("cadesplugin_close_install").addEventListener("click",function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),g.addEventListener("click",function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),g.style.visibility="visible"}}function firefox_or_safari_nmcades_onload(){window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),isFireFoxExtensionLoaded=!0,cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){!isIE()&&!isFireFox&&!isSafari&&window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",function(g){if(!(typeof g.data!="string"||!g.data.match("cadesplugin_loaded"))&&!cadesplugin_loaded_event_recieved){if(isFireFox||isSafari){var d=g.data.substring(g.data.indexOf("url:")+4);if(!d.match("^(moz|safari)-extension://[a-zA-Z0-9/_-]+/nmcades_plugin_api.js$")){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,'Bad url "'+d+'" for load CryptoPro Extension for CAdES Browser plug-in'),plugin_loaded_error();return}var x=document.createElement("script");x.setAttribute("type","text/javascript"),x.setAttribute("src",d),x.onerror=plugin_loaded_error,x.onload=firefox_or_safari_nmcades_onload,document.getElementsByTagName("head")[0].appendChild(x)}else cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error);cadesplugin_loaded_event_recieved=!0}},!1)}function load_extension(){if(isFireFox||isSafari)nmcades_api_onload();else if(isOpera||isYandex){var g=document.createElement("script");g.setAttribute("type","text/javascript"),g.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),g.onerror=plugin_loaded_error,g.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(g)}else{var g=document.createElement("script");g.setAttribute("type","text/javascript"),g.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),g.onerror=plugin_loaded_error,g.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(g)}}function load_npapi_plugin(){var g=document.createElement("object");if(g.setAttribute("id","cadesplugin_object"),g.setAttribute("type","application/x-cades"),g.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(g),pluginObject=document.getElementById("cadesplugin_object"),isIE()){var d=document.createElement("object");d.setAttribute("id","certEnrollClassFactory"),d.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),d.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(d);var x=document.createElement("object");x.setAttribute("id","webClassFactory"),x.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),x.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(x)}}function plugin_loaded(){plugin_resolved=1,canPromise?plugin_resolve():window.postMessage("cadesplugin_loaded","*")}function plugin_loaded_error(g){(typeof g>"u"||typeof g=="object")&&(g="Плагин недоступен"),plugin_resolved=1,canPromise?plugin_reject(g):window.postMessage("cadesplugin_load_error","*")}function check_load_timeout(){plugin_resolved!==1&&(isFireFox&&(isFireFoxExtensionLoaded||show_firefox_missing_extension_dialog()),plugin_resolved=1,canPromise?plugin_reject("Истекло время ожидания загрузки плагина"):window.postMessage("cadesplugin_load_error","*"))}function check_npapi_plugin(){try{var g=CreateObject("CAdESCOM.About");plugin_loaded()}catch{document.getElementById("cadesplugin_object").style.display="none";var d=navigator.mimeTypes["application/x-cades"];if(d){var x=d.enabledPlugin;plugin_loaded_error(x?"Плагин загружен, но не создаются обьекты":"Ошибка при загрузке плагина")}else plugin_loaded_error("Плагин недоступен")}}function check_plugin_working(){var g=document.createElement("div");g.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var d=g.getElementsByTagName("i").length===1;if(d){plugin_loaded_error("Internet Explorer версии 8 и ниже не поддерживается");return}isNativeMessageSupported()?load_extension():canPromise?document.readyState==="complete"?(load_npapi_plugin(),check_npapi_plugin()):window.addEventListener("load",function(x){load_npapi_plugin(),check_npapi_plugin()},!1):window.addEventListener("message",function(x){x.data==="cadesplugin_echo_request"&&(load_npapi_plugin(),check_npapi_plugin())},!1)}function set_pluginObject(g){pluginObject=g}function is_capilite_enabled(){return!!(typeof cadesplugin.EnableInternalCSP<"u"&&cadesplugin.EnableInternalCSP)}cadesplugin.JSModuleVersion="2.3.3",cadesplugin.async_spawn=async_spawn,cadesplugin.set=set_pluginObject,cadesplugin.set_log_level=set_log_level,cadesplugin.getLastError=getLastError,cadesplugin.is_capilite_enabled=is_capilite_enabled,isNativeMessageSupported()&&(cadesplugin.CreateObjectAsync=CreateObjectAsync,cadesplugin.ReleasePluginObjects=ReleasePluginObjects),isNativeMessageSupported()||(cadesplugin.CreateObject=CreateObject),window.cadesplugin_load_timeout?setTimeout(check_load_timeout,window.cadesplugin_load_timeout):setTimeout(check_load_timeout,2e4),set_constantValues(),cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR,window.cadesplugin=cadesplugin,check_plugin_working()})()}},__webpack_module_cache__={};function __webpack_require__(g){var d=__webpack_module_cache__[g];if(d!==void 0)return d.exports;var x=__webpack_module_cache__[g]={exports:{}};return __webpack_modules__[g](x,x.exports,__webpack_require__),x.exports}(()=>{__webpack_require__(106);const g=function(z){return console.warn(z),d(z)?(console.warn(!0),z):(console.warn(!1),btoa(unescape(encodeURIComponent(z))))};function d(z){return/([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/.test(z)}const x=z=>new Promise(V=>{const G=new FileReader;G.onloadend=()=>V(b(G.result)),G.readAsArrayBuffer(z)}),b=z=>{let V="";const G=new Uint8Array(z),$=G.byteLength;for(let K=0;K<$;K++)V+=String.fromCharCode(G[K]);return d(V)?V:window.btoa(V)},w=async()=>{const{cadesplugin:z}=window;if(!z)return Promise.reject("Ошибка инициализации CAdES plugin Browser");await z.catch(V=>Promise.reject(`Плагин CAdES plugin Browser не установлен: ${z.getLastError(V)}`))},S=z=>z.getVarDate?z.getVarDate():z,C=async z=>{const{cadesplugin:V}=window;if(!V)return Promise.reject("Плагин CAdES plugin Browser е установлен");const G=await V.CreateObjectAsync("CAdESCOM.Store");if(await G.Open(V.CAPICOM_CURRENT_USER_STORE,V.CAPICOM_MY_STORE,V.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),!G)return Promise.reject("Не удалось получить доступ к хранилищу сертификатов");let $=await G.Certificates;if(!await $.Count)return Promise.reject("Нет доступных сертификатов");if($=await $.Find(V.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,z),!await $.Count)return Promise.reject(`Сертификат с отпечатком: '${z}' не найден`);const Q=await $.Item(1);return await G.Close(),Q},F=async z=>{let V;const G={},$={"1.2.643.2.2.9":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411","1.2.643.7.1.1.2.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","1.2.643.7.1.1.2.3":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512","1.2.643.7.1.1.4.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC","1.2.643.7.1.1.4.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC","1.2.643.2.2.30.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC","1.2.643.2.2.19":"XmlDsigGost3410Url","1.2.643.7.1.1.1.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","1.2.643.7.1.1.1.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512"};try{V=await z.PublicKey(),V=await V.Algorithm,G.algorithm=await V.FriendlyName,G.oid=await V.Value,G.key=$[G.oid]}catch{return Promise.reject("Ошибка при получении алгоритма")}return G},E=async()=>{await w();const{cadesplugin:z}=window;let V=[];const G=await z.CreateObjectAsync("CAdESCOM.Store");if(await G.Open(z.CAPICOM_CURRENT_USER_STORE,z.CAPICOM_MY_STORE,z.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),!G)return Promise.reject("Не удалось получить доступ к хранилищу сертификатов");let $=await G.Certificates;if(!await $.Count)return Promise.reject("Нет доступных сертификатов");const Z=await $.Count;if(!Z)return Promise.reject("Нет действующих сертификатов");const Q=(me,we)=>{let oe=me.match(new RegExp(`(^| )${we}=(".+?"|.*?)(?:,|$)`));return oe?oe[2]:null},ne=me=>{let we=me.match(/CN=(.+?)(?:,|$)/);return we?we[1]:""},le=(me,we)=>{let oe={};for(const[ge,Ae]of Object.entries(we))for(const Ce of Ae){let Ne=Q(me,Ce);if(Ne!=null){oe[ge]=Ne;break}}return oe},fe=me=>new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(me));let be={inn:["INN","ИНН"],innJur:["ИНН ЮЛ"],ogrn:["OGRN","ОГРН"],ogrnip:["OGRNIP","ОГРНИП"],snils:["SNILS","СНИЛС"],email:["E"],CN:["CN"],SN:["SN"],G:["G","GN"],C:["C"],S:["S"],L:["L"],street:["STREET"],O:["O"],OU:["OU"],T:["T"]};for(let me=Z;me>0;me--){const we=await $.Item(me),[oe,ge,Ae,Ce,Ne,Oe,Be,Ie]=await Promise.all([we.SubjectName,we.Thumbprint,we.IsValid().then(Ee=>Ee.Result),F(we),we.IssuerName,we.ValidToDate,we.ValidFromDate,we.SerialNumber]);V.push({thumbprint:ge,...le(oe,be),name:ne(oe),algorithm:Ce.key,algorithmName:Ce.algorithm,valid:Ae,issuerName:ne(Ne),issuer:Ne,validFromDate:fe(Be),validToDate:fe(Oe),serialNumber:Ie,subject:oe})}return V},k=async(z,V)=>{await w();const{cadesplugin:G}=window,$=G[V||"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256"],K=await G.CreateObjectAsync("CAdESCOM.HashedData");let Z;try{await K.propset_Algorithm($),await K.propset_DataEncoding(G.CADESCOM_BASE64_TO_BINARY),await K.Hash(z),Z=await K.Value}catch(Q){return Promise.reject(`Ошибка хэширования данных: ${G.getLastError(Q)}`)}return Z},D=async(z,V,G,$,K)=>{await w();const{cadesplugin:Z}=window,Q=Z[G||"CADESCOM_CADES_BES"],ne=Z[$||"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256"],le=await Z.CreateObjectAsync("CADESCOM.CPAttribute"),fe=S(new Date);try{await le.propset_Name(Z.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),await le.propset_Value(fe)}catch(Ae){return Promise.reject(`Ошибка при установке времени подписи: ${Z.getLastError(Ae)}`)}const be=await Z.CreateObjectAsync("CAdESCOM.CPSigner"),me=await C(z);try{await be.propset_Certificate(me),await be.propset_Options(Z.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(Ae){return Promise.reject(`Ошибка при установке сертификата: ${Z.getLastError(Ae)}`)}const we=await Z.CreateObjectAsync("CAdESCOM.HashedData");try{await we.propset_Algorithm(ne),await we.SetHashValue(V)}catch(Ae){return Promise.reject(`Ошибка при установке хеша: ${Z.getLastError(Ae)}`)}let oe=null;const ge=await Z.CreateObjectAsync("CAdESCOM.CadesSignedData");try{oe=await ge.SignHash(we,be,Q)}catch(Ae){return Promise.reject(`Ошибка при подписании данных: ${Z.getLastError(Ae)}`)}return oe},M=async z=>{let V;return z instanceof Blob?V=await x(z):z instanceof ArrayBuffer?V=b(z):V=g(z),V},L=async(z,V,G)=>{await w();const{cadesplugin:$}=window,K=$[G||"CADESCOM_CADES_BES"];var Z=await $.CreateObjectAsync("CAdESCOM.CadesSignedData");const Q=me=>new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(me)),ne=me=>new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(me));try{let me=await M(z),we=await M(V);await Z.propset_ContentEncoding($.CADESCOM_BASE64_TO_BINARY),await Z.propset_Content(we),await Z.VerifyCades(me,K,!0)}catch(me){return Promise.reject(`Ошибка при проверке подписи: ${$.getLastError(me)}`)}let le=await Z.Signers,fe=[],be=await le.Count;for(let me=1;me<=be;me++){let we=await le.Item(me),oe=await we.Certificate,Ae=await(await oe.PublicKey()).Algorithm,Ce={SerialNumber:await oe.SerialNumber,SubjectName:await oe.SubjectName,IssuerName:await oe.IssuerName,Thumbprint:await oe.Thumbprint,Algorithm:await Ae.FriendlyName,ValidFromDate:Q(await oe.ValidFromDate),ValidToDate:Q(await oe.ValidToDate),SigningTime:ne(await we.SigningTime),Valid:!0};fe.push(Ce)}return fe},R=function(){return w().then(async z=>new Promise(function(V,G){console.debug("CADES plugin loaded"),E().then($=>V($)).catch($=>G(typeof $=="string"?$:$.message))}))},U=function(z,V){return R().then(G=>new Promise(function($,K){if(console.debug("CADES plugin loaded"),V==null)return K("Не задан сертификат для подписания");const Z=G.find(Q=>Q.thumbprint===V);return j(Z,z,$,K)}))},j=async function(z,V,G,$){const K=Array.isArray(V),Z=K?[]:{},Q=K?V.length:Object.keys(V).length;let ne=0,le=function(be,me){Z[be]=me,ne++,Q===ne&&G({certificate:z,signatures:Z})},fe=async function(be,me){let we=await M(me),oe=await k(we,z.algorithm);le(be,await D(z.thumbprint,oe,void 0,z.algorithm))};try{if(K)for(let be=0;be<Q;be++)await fe(be,V[be]);else for(let be of Object.keys(V))await fe(be,V[be])}catch(be){return $(typeof be=="string"?be:be.message)}},H=function(z,V){return new Promise(async function(G,$){L(z,V).then(K=>G(K)).catch(K=>$(K))})};window.getCertificates=R,window.signData=U,window.verifySignature=H})()})();function signData$1(g,d){return window.signData(g,d)}function verifySignature$1(g,d){return window.verifySignature(g,d)}const addSignatureToPdf=async(g,d)=>{const x=await addSignaturePlaceholder(g,d),b=SignHelper.fromUint8Array(x),w=b.prepareForHash();let S=await signData$1({data:w},d.cert.thumbprint);if(S===void 0)throw console.error("Подпись не произошла"),Error("signature == undefined");return console.debug(S),console.debug("Подпись создана"),b.fillSignatureResult(S.signatures.data)};__webpack_exports__GlobalWorkerOptions.workerSrc=pdfWorker;let pdf=null;const _sfc_main$c={components:{PageNavigation,AddSignAppearanceBar,DragResizeCert,CertificateViewAndChange},emits:["update:fileObject","download-file","change-cert","processingOn","processingOff","exception"],props:{fileObject:{},certificate:{}},data:function(){return{currentPage:1,countPages:0,zoom:{scale:1.5},signDict:{},signCount:0,dragAndResize:!1,dragApp:void 0,element:{x:10,y:10,width:400,height:150,isActive:!0}}},watch:{certificate(g){this.startDragResizeComponent()}},computed:{currentPageComputed:{get(){return this.currentPage},set(g){pdf==null||g===this.currentPage||g<=0||g>this.countPages||(this.currentPage=g,this.renderCanvasPage())}},dictIsEmpty:{get(){return this.signDict[this.currentPage]==null||!this.signDict[this.currentPage].length}}},methods:{createSignClick:async function(g){if(this.signCount===0){alert("Необходимо выбрать место расположения оттиска");return}this.$emit("processingOn");const x={signDict:JSON.parse(JSON.stringify(this.signDict)),cert:this.certificate};try{const b=await addSignatureToPdf(this.fileObject.file,x);this.$emit("processingOff"),pdf=null;const w=bufferToFile(b,`${this.fileObject.file.name}`,"application/pdf");this.$emit("update:fileObject",{file:w}),this.$emit("download-file",{file:w})}catch(b){this.$emit("processingOff"),console.error(b),b instanceof Error?this.$emit("exception",b.message):this.$emit("exception",b)}},updateSignDict:function(){this.dictIsEmpty&&(this.signDict[this.currentPage]=[]);const g=JSON.parse(JSON.stringify(this.element));this.signCount++,this.signDict[this.currentPage].push(g),this.createSignAppearance(g),this.initSvgPosition()},renderCanvasPage:async function(){console.debug(pdf);const g=await pdf.getPage(this.currentPage);this.renderCurrentPageSignAppearance();const d=g.getViewport(this.zoom);this.$refs.canvas.height=d.height,this.$refs.canvas.width=d.width;const x=this.$refs.canvas.getContext("2d");g.render({canvasContext:x,viewport:d})},renderCurrentPageSignAppearance:function(){if(document.querySelectorAll(".token").forEach(g=>g.remove()),!this.dictIsEmpty)for(let g of this.signDict[this.currentPage])g!=null&&this.createSignAppearance(g)},createSignAppearance:function(g){const d=createHtmlSign(this.certificate,g),x=createHtmlDeleteSignBth(),b=this.signDict[this.currentPage],w=b.length-1,S=C=>{b[w]=null,this.signCount--,isNull(b)&&(this.signDict[this.currentPage]=[]),console.debug(this.signDict[this.currentPage]),C.target.parentElement.remove(),x.removeEventListener("click",S)};x.addEventListener("click",S),d.appendChild(x),this.$refs.pdf.appendChild(d)},onInputPage:function(g){if(g.target.value===""){g.target.value=this.currentPageComputed;return}const d=g.target.valueAsNumber;this.currentPageComputed!==d&&(this.currentPageComputed=d,this.currentPageComputed!==d&&(g.target.value=this.currentPageComputed))},clearSignDict:function(){this.signDict={},this.signCount=0,document.querySelectorAll(".token").forEach(g=>g.remove())},changeCert:function(){this.$emit("change-cert"),this.clearSignDict()},initSvgPosition(){this.element.x=10,this.element.y=10,this.dragAndResize=!1},startDragResizeComponent(){this.dragApp=createApp(DragResizeCert,{certificate:this.certificate,element:this.element}),this.dragApp.mount("#drag_resize_container")},calculateRect(){this.$refs.drag_resize.style.cssText=`
          height: ${this.$refs.canvas.height}px;
          width: ${this.$refs.canvas.width}px;
      `}},async mounted(){if(this.fileObject.hasOwnProperty("file")===!1){console.error("no file"),this.$emit("exception","The file wasn't uploaded");return}try{const g=await fileToArrayBuffer$1(this.fileObject.file);pdf=await __webpack_exports__getDocument(g).promise,this.countPages=pdf.numPages}catch(g){this.$emit("exception",g)}await this.renderCanvasPage(),this.calculateRect(),this.startDragResizeComponent()}},_withScopeId$3=g=>(pushScopeId("data-v-2eb52940"),g=g(),popScopeId(),g),_hoisted_1$c={class:"divCenter"},_hoisted_2$9={class:"component-container"},_hoisted_3$7={id:"pdf_container",ref:"pdf"},_hoisted_4$5={id:"drag_resize_container",ref:"drag_resize"},_hoisted_5$4={id:"canvas",ref:"canvas"},_hoisted_6$3={id:"toolbarContainer"},_hoisted_7$3=_withScopeId$3(()=>createBaseVNode("label",null,[createTextVNode(" Усовершенствовать подпись "),createBaseVNode("input",{type:"checkbox"})],-1));function _sfc_render$c(g,d,x,b,w,S){const C=resolveComponent("PageNavigation"),F=resolveComponent("CertificateViewAndChange"),E=resolveComponent("AddSignAppearanceBar");return openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$9,[createVNode(C,{"count-pages":g.countPages,"current-page-computed":S.currentPageComputed,onInput:S.onInputPage,onTryUpdatePage:d[0]||(d[0]=k=>S.currentPageComputed=k)},null,8,["count-pages","current-page-computed","onInput"]),createBaseVNode("div",_hoisted_3$7,[withDirectives(createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$5,null,512)],512),[[vShow,g.dragAndResize]]),createBaseVNode("canvas",_hoisted_5$4,null,512)],512),createBaseVNode("div",_hoisted_6$3,[createVNode(F,{certificate:x.certificate,onChangeCert:S.changeCert,"sign-count":g.signCount},null,8,["certificate","onChangeCert","sign-count"]),createVNode(E,{"drag-and-resize":g.dragAndResize,"onUpdate:dragAndResize":d[1]||(d[1]=k=>g.dragAndResize=k),"sign-count":g.signCount,onUpdateSign:S.updateSignDict,onCancel:S.initSvgPosition,onClearDict:S.clearSignDict,onCreateSignature:S.createSignClick},null,8,["drag-and-resize","sign-count","onUpdateSign","onCancel","onClearDict","onCreateSignature"]),_hoisted_7$3])])])}const PageSign=_export_sfc(_sfc_main$c,[["render",_sfc_render$c],["__scopeId","data-v-2eb52940"]]),_sfc_main$b={emits:["restart","new-sign"],props:{pdfResult:{},signResult:{}},data(){return{pdfObjectUrl:"",signObjectUrl:""}},computed:{PdfFileName:{get(){return"file"in this.pdfResult?this.pdfResult.file.name:""}},SignFileName:{get(){return"file"in this.signResult?this.signResult.file.name:""}}},watch:{},mounted(){console.debug("download"),"file"in this.pdfResult&&(this.pdfObjectUrl=window.URL.createObjectURL(this.pdfResult.file),console.debug("PDF file and PDF-FILE-URL updated")),"file"in this.signResult&&(this.signObjectUrl=window.URL.createObjectURL(this.signResult.file),console.debug("SIGN file and SIGN-FILE-URL updated"))}},_hoisted_1$b={class:"container flex-col"},_hoisted_2$8=createBaseVNode("h1",{class:"title"},"Файл подписан успешно!",-1),_hoisted_3$6=["href","download"],_hoisted_4$4=["href","download"];function _sfc_render$b(g,d,x,b,w,S){return openBlock(),createElementBlock("div",_hoisted_1$b,[_hoisted_2$8,createBaseVNode("a",{class:"custom-button link",href:w.pdfObjectUrl,download:S.PdfFileName},"Скачать подписанный документ",8,_hoisted_3$6),createBaseVNode("a",{class:"custom-button link",href:w.signObjectUrl,download:S.SignFileName},"Скачать файл подписи",8,_hoisted_4$4),createBaseVNode("a",{class:"custom-button",onClick:d[0]||(d[0]=C=>this.$emit("restart"))},"Вернуться в начало"),createBaseVNode("a",{class:"custom-button",onClick:d[1]||(d[1]=C=>this.$emit("new-sign"))},"Подписать снова")])}const PageDownload=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),_sfc_main$a={},_hoisted_1$a={class:"modal-mask"},_hoisted_2$7={class:"modal-wrapper"},_hoisted_3$5={class:"modal-container",ondragstart:"return false"},_hoisted_4$3={class:"modal-header"},_hoisted_5$3=createBaseVNode("h2",null,"Предупреждение!",-1),_hoisted_6$2={class:"modal-body"},_hoisted_7$2={class:"modal-footer"};function _sfc_render$a(g,d,x,b,w,S){return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$3,[renderSlot(g.$slots,"header",{},()=>[_hoisted_5$3])]),createBaseVNode("div",_hoisted_6$2,[renderSlot(g.$slots,"body")]),createBaseVNode("div",_hoisted_7$2,[renderSlot(g.$slots,"footer",{},()=>[createBaseVNode("div",{class:"custom-button resume",onClick:d[0]||(d[0]=C=>g.$emit("cancel"))}," Понятно) ")])])])])])}const ExceptionModal=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]);function initDataSignWithView(){return{showUploadingPage:!0,showSigningPage:!0,preloader:!1,showCertificateWindow:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}}const _sfc_main$9={components:{PageUpload,PageSign,PageDownload,SelectCertModal,Preloader,ExceptionModal},data(){return{showUploadingPage:!0,showSigningPage:!0,preloader:!1,showCertificateWindow:!1,showException:!1,exceptionMessage:"",selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}},methods:{tryGetCert:async function(){this.showCertificateWindow=!0,console.time("cert"),getCertificates().then(g=>{console.timeEnd("cert"),g.length?this.certList=g:(this.errorCertificateMessage="Отсутствуют сертификаты",console.error("Отсутствуют сертификаты"))}).catch(g=>{this.errorCertificateMessage=`${g} - Пожалуйста, предоставьте доступ к сертификатам или установите плагин.`,this.showCertificateWindow=!1,console.error(g)})},onSelectedCert:function(g){g.CN=g.CN.removeEnclosingQuotes().removeDuplicateQuotes(),this.selectedCert=g,this.showUploadingPage=!1,this.showCertificateWindow=!1},onCancelSelect:function(){this.errorCertificateMessage="Выберите сертификат, чтобы продолжить!",this.showCertificateWindow=!1},showDownloadPage:function(g){this.signResult=g,this.showSigningPage=!1,this.preloader=!1},restartProcess:function(){Object.assign(this.$data,initDataSignWithView())},pdfException:function(g){this.restartProcess(),this.exceptionMessage=g,this.showException=!0},signAgain(){this.showSigningPage=!0}}},_withScopeId$2=g=>(pushScopeId("data-v-d74c96d4"),g=g(),popScopeId(),g),_hoisted_1$9=_withScopeId$2(()=>createBaseVNode("h1",null,"Подписать файл с визуализацией",-1)),_hoisted_2$6={class:"exceptionContainer"},_hoisted_3$4=["textContent"];function _sfc_render$9(g,d,x,b,w,S){const C=resolveComponent("PageUpload"),F=resolveComponent("PageSign"),E=resolveComponent("PageDownload"),k=resolveComponent("SelectCertModal"),D=resolveComponent("ExceptionModal"),M=resolveComponent("Preloader");return openBlock(),createElementBlock(Fragment,null,[w.showUploadingPage?(openBlock(),createBlock(C,{key:0,"mime-type-string":"application/pdf","selected-file":w.selectedFile,"onUpdate:selectedFile":d[0]||(d[0]=L=>w.selectedFile=L),"error-certificate-message":w.errorCertificateMessage,"onUpdate:errorCertificateMessage":d[1]||(d[1]=L=>w.errorCertificateMessage=L),onTryGetCert:S.tryGetCert},{header:withCtx(()=>[_hoisted_1$9]),_:1},8,["selected-file","error-certificate-message","onTryGetCert"])):w.showSigningPage?withDirectives((openBlock(),createBlock(F,{key:1,"file-object":w.selectedFile,"onUpdate:fileObject":d[2]||(d[2]=L=>w.selectedFile=L),certificate:w.selectedCert,onDownloadFile:S.showDownloadPage,onChangeCert:d[3]||(d[3]=L=>w.showCertificateWindow=!0),onProcessingOn:d[4]||(d[4]=L=>this.preloader=!0),onProcessingOff:d[5]||(d[5]=L=>this.preloader=!1),onException:S.pdfException},null,8,["file-object","certificate","onDownloadFile","onException"])),[[vShow,!w.preloader]]):(openBlock(),createBlock(E,{key:2,"pdf-result":w.selectedFile,"sign-result":w.signResult,onRestart:S.restartProcess,onNewSign:S.signAgain},null,8,["pdf-result","sign-result","onRestart","onNewSign"])),withDirectives(createVNode(k,{"cert-list":w.certList,onGetCertificate:S.onSelectedCert,onCancel:S.onCancelSelect},null,8,["cert-list","onGetCertificate","onCancel"]),[[vShow,w.showCertificateWindow]]),withDirectives(createVNode(D,{onCancel:d[6]||(d[6]=L=>this.showException=!1)},{body:withCtx(()=>[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("textarea",{class:"exceptionMessage",textContent:toDisplayString(w.exceptionMessage)},null,8,_hoisted_3$4)])]),_:1},512),[[vShow,w.showException]]),withDirectives(createVNode(M,{height:"600px"},null,512),[[vShow,w.preloader]])],64)}const SignWithView=_export_sfc(_sfc_main$9,[["render",_sfc_render$9],["__scopeId","data-v-d74c96d4"]]),_sfc_main$8={name:"UploadBth",props:["textBth","file"],emits:["change","delete"]},_hoisted_1$8=["textContent"],_hoisted_2$5={key:0,class:"custom-button-2",style:{height:"3em"}},_hoisted_3$3={key:1,class:"file-info"};function _sfc_render$8(g,d,x,b,w,S){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h4",{class:"file-title",textContent:toDisplayString(x.textBth)},null,8,_hoisted_1$8),x.file==null?(openBlock(),createElementBlock("label",_hoisted_2$5,[createTextVNode(" Загрузить "),createBaseVNode("input",{type:"file",name:"file",onChange:d[0]||(d[0]=C=>this.$emit("change",C.target.files[0]))},null,32)])):(openBlock(),createElementBlock("div",_hoisted_3$3,[createBaseVNode("p",null,toDisplayString(x.file.name),1),createBaseVNode("button",{onClick:d[1]||(d[1]=C=>this.$emit("delete"))},"X")]))],64)}const UploadBth=_export_sfc(_sfc_main$8,[["render",_sfc_render$8],["__scopeId","data-v-69804057"]]),_sfc_main$7={name:"UploadMenu",components:{UploadBth},props:["file","sign"],emits:["update:file","update:sign","verify"]},_hoisted_1$7={class:"nav-type"};function _sfc_render$7(g,d,x,b,w,S){const C=resolveComponent("UploadBth");return openBlock(),createElementBlock("nav",_hoisted_1$7,[createVNode(C,{"text-bth":"Исходный файл:",file:x.file,onChange:d[0]||(d[0]=F=>this.$emit("update:file",F)),onDelete:d[1]||(d[1]=F=>this.$emit("update:file",null))},null,8,["file"]),createVNode(C,{"text-bth":"Файл подписи:",file:x.sign,onChange:d[2]||(d[2]=F=>this.$emit("update:sign",F)),onDelete:d[3]||(d[3]=F=>this.$emit("update:sign",null))},null,8,["file"]),x.sign!=null&&x.file!=null?(openBlock(),createElementBlock("label",{key:0,class:"custom-button-2 verify_bth",style:{height:"3em"},onClick:d[4]||(d[4]=F=>this.$emit("verify"))}," Проверить ")):createCommentVNode("",!0)])}const MenuUpload=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-52c52e9a"]]),_sfc_main$6=defineComponent({name:"ResultMenu",props:["fileName","isValidSign","errorMessage"]}),_withScopeId$1=g=>(pushScopeId("data-v-5a887bd2"),g=g(),popScopeId(),g),_hoisted_1$6={class:"nav-type result"},_hoisted_2$4={key:0},_hoisted_3$2={class:"file-name"},_hoisted_4$2=_withScopeId$1(()=>createBaseVNode("p",{class:"valid"},"Подпись действительна",-1)),_hoisted_5$2={key:1,class:"error-message"},_hoisted_6$1=_withScopeId$1(()=>createBaseVNode("h4",null,"Подпись не прошла проверку!",-1)),_hoisted_7$1=["textContent"];function _sfc_render$6(g,d,x,b,w,S){return openBlock(),createElementBlock("nav",_hoisted_1$6,[g.isValidSign?(openBlock(),createElementBlock("div",_hoisted_2$4,[createBaseVNode("p",_hoisted_3$2,toDisplayString(g.fileName),1),_hoisted_4$2])):(openBlock(),createElementBlock("div",_hoisted_5$2,[_hoisted_6$1,createBaseVNode("textarea",{textContent:toDisplayString(g.errorMessage),class:"text-message"},null,8,_hoisted_7$1)]))])}const MenuResult=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-5a887bd2"]]),_sfc_main$5={name:"VerifyDetails",props:["cert"]},_withScopeId=g=>(pushScopeId("data-v-0932ae16"),g=g(),popScopeId(),g),_hoisted_1$5={open:"",class:"details-container"},_hoisted_2$3=_withScopeId(()=>createBaseVNode("summary",{class:"file-title summary"},"Информация о сертификате",-1)),_hoisted_3$1={class:"details-container inner-details"},_hoisted_4$1=_withScopeId(()=>createBaseVNode("summary",{class:"file-title summary inner-summary"},"Субъект",-1)),_hoisted_5$1={class:"cert-info"},_hoisted_6={class:"details-container inner-details"},_hoisted_7=_withScopeId(()=>createBaseVNode("summary",{class:"file-title summary inner-summary"},"Издатель",-1)),_hoisted_8={class:"cert-info"},_hoisted_9={class:"cert-info"},_hoisted_10={open:"",class:"details-container"},_hoisted_11=_withScopeId(()=>createBaseVNode("summary",{class:"file-title summary"},"Информация о подписи",-1)),_hoisted_12={class:"cert-info"},_hoisted_13=_withScopeId(()=>createBaseVNode("p",null,"Тип подписи: Cades Bes",-1));function _sfc_render$5(g,d,x,b,w,S){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("details",_hoisted_1$5,[_hoisted_2$3,createBaseVNode("details",_hoisted_3$1,[_hoisted_4$1,createBaseVNode("div",_hoisted_5$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(x.cert.SubjectName.split(","),C=>(openBlock(),createElementBlock("p",null,toDisplayString(C.removeEnclosingQuotes().removeDuplicateQuotes()),1))),256))])]),createBaseVNode("details",_hoisted_6,[_hoisted_7,createBaseVNode("div",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(x.cert.IssuerName.split(","),C=>(openBlock(),createElementBlock("p",null,toDisplayString(C),1))),256))])]),createBaseVNode("div",_hoisted_9,[createBaseVNode("p",null,"Отпечаток: "+toDisplayString(x.cert.Thumbprint),1),createBaseVNode("p",null,"Серийный номер: "+toDisplayString(x.cert.SerialNumber),1),createBaseVNode("p",null,"Срок действия: "+toDisplayString(x.cert.ValidFromDate)+" - "+toDisplayString(x.cert.ValidToDate),1)])]),createBaseVNode("details",_hoisted_10,[_hoisted_11,createBaseVNode("div",_hoisted_12,[createBaseVNode("p",null,"Алгоритм: "+toDisplayString(x.cert.Algorithm),1),_hoisted_13,createBaseVNode("p",null,"Время подписи: "+toDisplayString(x.cert.SigningTime),1)])])],64)}const VerifyDetails=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-0932ae16"]]),_sfc_main$4={name:"VerifyDetached",components:{VerifyDetails,MenuUpload,MenuResult},data(){return{file:null,sign:null,cert:{SerialNumber:"",SubjectName:"",IssuerName:"",Thumbprint:"",ValidFromDate:"",ValidToDate:"",SigningTime:""},isValidSign:!1,checked:!1,errorMessage:""}},methods:{async verify(){try{let g=await verifySignature(this.sign,this.file);this.cert=g[0],this.isValidSign=!0}catch(g){this.isValidSign=!1,this.errorMessage=g,console.error(g)}this.checked=!0}}},_hoisted_1$4={class:"verify_container"},_hoisted_2$2={class:"main-container"};function _sfc_render$4(g,d,x,b,w,S){const C=resolveComponent("MenuUpload"),F=resolveComponent("MenuResult"),E=resolveComponent("VerifyDetails");return openBlock(),createElementBlock("div",_hoisted_1$4,[w.checked?(openBlock(),createBlock(F,{key:1,"file-name":w.file.name,"is-valid-sign":w.isValidSign,"error-message":w.errorMessage},null,8,["file-name","is-valid-sign","error-message"])):(openBlock(),createBlock(C,{key:0,file:w.file,"onUpdate:file":d[0]||(d[0]=k=>w.file=k),sign:w.sign,"onUpdate:sign":d[1]||(d[1]=k=>w.sign=k),onVerify:S.verify},null,8,["file","sign","onVerify"])),createBaseVNode("main",_hoisted_2$2,[w.checked?(openBlock(),createBlock(E,{key:0,cert:w.cert},null,8,["cert"])):createCommentVNode("",!0)])])}const VerifyDetached=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3=defineComponent({name:"Footer"}),_hoisted_1$3={class:"footer"};function _sfc_render$3(g,d,x,b,w,S){return openBlock(),createElementBlock("div",_hoisted_1$3,"footer")}const Footer=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-a78377c9"]]),_sfc_main$2={name:"MenuUploadPDF",components:{UploadBth},props:["sign"],emits:["update:sign","verify"]},_hoisted_1$2={class:"nav-type"};function _sfc_render$2(g,d,x,b,w,S){const C=resolveComponent("UploadBth");return openBlock(),createElementBlock("nav",_hoisted_1$2,[createVNode(C,{"text-bth":"Подписанный файл:",file:x.sign,onChange:d[0]||(d[0]=F=>this.$emit("update:sign",F)),onDelete:d[1]||(d[1]=F=>this.$emit("update:sign",null))},null,8,["file"]),withDirectives(createBaseVNode("label",{class:"custom-button-2 verify_bth",style:{height:"3em"},onClick:d[2]||(d[2]=F=>this.$emit("verify"))}," Проверить ",512),[[vShow,x.sign!=null]])])}const MenuUploadPDF=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]);class EmbeddedHelper{static signatures(d){const x=d.context.enumerateIndirectObjects(),b=[];if(x.map(w=>w[1]).forEach(w=>{if(w instanceof PDFDict){const S=w.get(PDFName.Type);if(S!=null&&S==PDFName.of("Sig")){let C=EmbeddedHelper.getEmbeddedSign(w);C&&b.push(C)}}}),b.length)return b;throw Error("no signatures were found in the file")}static getEmbeddedSign(d){let x={byteRange:[],contents:""};if(d.asMap().forEach((b,w)=>{switch(w.asString()){case"/ByteRange":{if(b instanceof PDFArray){const S=b.asArray();x.byteRange=S.map(C=>C.asNumber())}break}case"/Contents":{let C=b.asString();x.contents=buffer.Buffer.from(C,"hex").toString("base64");break}}}),x.byteRange.length&&x.contents.length)return x}}var extensions=(g=>(g.pdf="pdf",g.zip="zip",g))(extensions||{});class SplitDocHelper{static prepareToVerify(d,x){let b=buffer.Buffer.from(d);const w=[];return x.forEach(S=>{const C=b.slice(0,S.byteRange[1]);console.log("----------"),console.log(S.byteRange[2]+S.byteRange[3]),console.log(b.length);const F=b.slice(S.byteRange[2],S.byteRange[2]+S.byteRange[3]),E=buffer.Buffer.concat([C,F]);let k=new Blob([E]);w.push({signedBlob:k,contents:S.contents})}),w}}class Verify{static async detached(d,x){await verifySignature$1(x,d)}static async embedded(d){Check.extension(extensions.pdf,d.name),console.debug("Конвертация файла в arraybuffer");let x=await d.arrayBuffer(),b;try{console.debug("loading..."),b=await PDFDocument.load(x,{updateMetadata:!1})}catch(F){throw F instanceof Error?Error(`Error parse pdf: ${F.message}`):Error(`Error parse pdf: ${F}`)}const w=EmbeddedHelper.signatures(b);console.debug(w);const S=SplitDocHelper.prepareToVerify(x,w);console.debug(S);const C=[];for(const F of S)try{C.push(...await verifySignature$1(F.contents,F.signedBlob))}catch(E){E instanceof Error?C.push({Message:E.message,Valid:!1}):typeof E=="string"&&C.push({Message:E,Valid:!1})}return C}}class Check{static extension(d,x){if(!x.length)throw Error("file name is null");let b=x.split(".").pop();if(d!=b)throw Error(`Invalid file extension = (.${b}). Required = (.pdf)`)}}const _sfc_main$1={name:"VerifyEmbedded",components:{MenuResult,VerifyDetails,MenuUploadPDF,UploadBth},data(){return{sign:null,certs:[]}},methods:{async verify(){try{this.certs=await Verify.embedded(this.sign)}catch(g){alert("Подробности в консоли"),console.error(g)}}}},_hoisted_1$1={class:"verify_container"},_hoisted_2$1={key:1,class:"main-container"},_hoisted_3={class:"result-container"},_hoisted_4={key:0},_hoisted_5={key:1};function _sfc_render$1(g,d,x,b,w,S){const C=resolveComponent("MenuUploadPDF"),F=resolveComponent("MenuResult"),E=resolveComponent("VerifyDetails");return openBlock(),createElementBlock("div",_hoisted_1$1,[w.certs.length===0?(openBlock(),createBlock(C,{key:0,sign:w.sign,"onUpdate:sign":d[0]||(d[0]=k=>w.sign=k),onVerify:S.verify},null,8,["sign","onVerify"])):(openBlock(),createElementBlock("main",_hoisted_2$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(w.certs,(k,D)=>(openBlock(),createElementBlock("div",_hoisted_3,[createBaseVNode("h1",null,"Подпись №"+toDisplayString(D+1),1),k!==!1?(openBlock(),createElementBlock("div",_hoisted_4,[createVNode(F,{"file-name":k.SubjectName,"is-valid-sign":k.Valid,"error-message":k.Message},null,8,["file-name","is-valid-sign","error-message"]),k.Valid?(openBlock(),createBlock(E,{key:0,cert:k},null,8,["cert"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_5))]))),256))]))])}const VerifyEmbedded=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-692370f4"]]),Border={selected:"2px solid #986CC9FF",default:"2px solid gainsboro"},_sfc_main={components:{VerifyEmbedded,Footer,VerifyDetached},data(){return{showDetachedPage:!1,showEmbeddedPage:!1}},methods:{viewDetachedPage(){this.$refs.detachBth.style.borderBottom!==Border.selected&&(this.$refs.detachBth.style.borderBottom=Border.selected,this.$refs.embedBth.style.borderBottom=Border.default,this.showEmbeddedPage=!1,this.showDetachedPage=!0)},viewEmbeddedPage(){this.$refs.embedBth.style.borderBottom!==Border.selected&&(this.$refs.embedBth.style.borderBottom=Border.selected,this.$refs.detachBth.style.borderBottom=Border.default,this.showDetachedPage=!1,this.showEmbeddedPage=!0)}}},_hoisted_1={class:"toolbar",id:"toolbar"},_hoisted_2={class:"about"};function _sfc_render(g,d,x,b,w,S){const C=resolveComponent("VerifyDetached"),F=resolveComponent("VerifyEmbedded");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createBaseVNode("button",{ref:"detachBth",onClick:d[0]||(d[0]=(...E)=>S.viewDetachedPage&&S.viewDetachedPage(...E))},"Открепленная",512),createBaseVNode("button",{ref:"embedBth",onClick:d[1]||(d[1]=(...E)=>S.viewEmbeddedPage&&S.viewEmbeddedPage(...E))},"Встроенная",512)]),withDirectives(createBaseVNode("div",_hoisted_2,[createBaseVNode("div",{class:"detached cen",onClick:d[2]||(d[2]=(...E)=>S.viewDetachedPage&&S.viewDetachedPage(...E))},"Открепленная"),createBaseVNode("div",{class:"embedded cen",onClick:d[3]||(d[3]=(...E)=>S.viewEmbeddedPage&&S.viewEmbeddedPage(...E))},"Встроенная")],512),[[vShow,!w.showEmbeddedPage&&!w.showDetachedPage]]),withDirectives(createVNode(C,null,null,512),[[vShow,w.showDetachedPage]]),withDirectives(createVNode(F,null,null,512),[[vShow,w.showEmbeddedPage]])],64)}const VerifySign=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-c231bdb0"]]),basePath="/signer",router=createRouter({history:createWebHistory(),routes:[{path:`${basePath}/home`,name:"home",component:Home},{path:`${basePath}/detached`,name:"detached",component:Detached},{path:`${basePath}/signature-with-view`,name:"with-view",component:SignWithView},{path:`${basePath}/verify-signature`,name:"verify",component:VerifySign},{path:"/",redirect:`${basePath}/home`},{path:`${basePath}`,redirect:`${basePath}/home`}]}),app=createApp(App);app.use(router);app.config.globalProperties.$maxByteSize=150*1024*1024;app.mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}