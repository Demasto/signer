(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function makeMap(n,t){const r=Object.create(null),a=n.split(",");for(let s=0;s<a.length;s++)r[a[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,isOn=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),isModelListener=n=>n.startsWith("onUpdate:"),extend=Object.assign,remove=(n,t)=>{const r=n.indexOf(t);r>-1&&n.splice(r,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(n,t)=>hasOwnProperty$1.call(n,t),isArray$1=Array.isArray,isMap=n=>toTypeString(n)==="[object Map]",isSet=n=>toTypeString(n)==="[object Set]",isFunction$1=n=>typeof n=="function",isString=n=>typeof n=="string",isSymbol=n=>typeof n=="symbol",isObject=n=>n!==null&&typeof n=="object",isPromise=n=>(isObject(n)||isFunction$1(n))&&isFunction$1(n.then)&&isFunction$1(n.catch),objectToString=Object.prototype.toString,toTypeString=n=>objectToString.call(n),toRawType=n=>toTypeString(n).slice(8,-1),isPlainObject=n=>toTypeString(n)==="[object Object]",isIntegerKey=n=>isString(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=n=>{const t=Object.create(null);return r=>t[r]||(t[r]=n(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize(n)}`:""),hasChanged=(n,t)=>!Object.is(n,t),invokeArrayFns=(n,t)=>{for(let r=0;r<n.length;r++)n[r](t)},def=(n,t,r)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:r})},looseToNumber=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(n){if(isArray$1(n)){const t={};for(let r=0;r<n.length;r++){const a=n[r],s=isString(a)?parseStringStyle(a):normalizeStyle(a);if(s)for(const o in s)t[o]=s[o]}return t}else if(isString(n)||isObject(n))return n}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(n){const t={};return n.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const a=r.split(propertyDelimiterRE);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function normalizeClass(n){let t="";if(isString(n))t=n;else if(isArray$1(n))for(let r=0;r<n.length;r++){const a=normalizeClass(n[r]);a&&(t+=a+" ")}else if(isObject(n))for(const r in n)n[r]&&(t+=r+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(n){return!!n||n===""}const toDisplayString=n=>isString(n)?n:n==null?"":isArray$1(n)||isObject(n)&&(n.toString===objectToString||!isFunction$1(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,t)=>t&&t.__v_isRef?replacer(n,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[a,s],o)=>(r[stringifySymbol(a,o)+" =>"]=s,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>stringifySymbol(r))}:isSymbol(t)?stringifySymbol(t):isObject(t)&&!isArray$1(t)&&!isPlainObject(t)?String(t):t,stringifySymbol=(n,t="")=>{var r;return isSymbol(n)?`Symbol(${(r=n.description)!=null?r:t})`:n};let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.scopes)for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(n,t=activeEffectScope){t&&t.active&&t.effects.push(n)}function getCurrentScope(){return activeEffectScope}const createDep=n=>{const t=new Set(n);return t.w=0,t.n=0,t},wasTracked=n=>(n.w&trackOpBit)>0,newTracked=n=>(n.n&trackOpBit)>0,initDepMarkers=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=trackOpBit},finalizeDepMarkers=n=>{const{deps:t}=n;if(t.length){let r=0;for(let a=0;a<t.length;a++){const s=t[a];wasTracked(s)&&!newTracked(s)?s.delete(n):t[r++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,r=null,a){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(n){const{deps:t}=n;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(n);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,t,r){if(shouldTrack&&activeEffect){let a=targetMap.get(n);a||targetMap.set(n,a=new Map);let s=a.get(r);s||a.set(r,s=createDep()),trackEffects(s)}}function trackEffects(n,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(n)||(n.n|=trackOpBit,r=!wasTracked(n)):r=!n.has(activeEffect),r&&(n.add(activeEffect),activeEffect.deps.push(n))}function trigger(n,t,r,a,s,o){const l=targetMap.get(n);if(!l)return;let u=[];if(t==="clear")u=[...l.values()];else if(r==="length"&&isArray$1(n)){const d=Number(a);l.forEach((f,g)=>{(g==="length"||!isSymbol(g)&&g>=d)&&u.push(f)})}else switch(r!==void 0&&u.push(l.get(r)),t){case"add":isArray$1(n)?isIntegerKey(r)&&u.push(l.get("length")):(u.push(l.get(ITERATE_KEY)),isMap(n)&&u.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(n)||(u.push(l.get(ITERATE_KEY)),isMap(n)&&u.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(n)&&u.push(l.get(ITERATE_KEY));break}if(u.length===1)u[0]&&triggerEffects(u[0]);else{const d=[];for(const f of u)f&&d.push(...f);triggerEffects(createDep(d))}}function triggerEffects(n,t){const r=isArray$1(n)?n:[...n];for(const a of r)a.computed&&triggerEffect(a);for(const a of r)a.computed||triggerEffect(a)}function triggerEffect(n,t){(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...r){const a=toRaw(this);for(let o=0,l=this.length;o<l;o++)track(a,"get",o+"");const s=a[t](...r);return s===-1||s===!1?a[t](...r.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...r){pauseTracking();const a=toRaw(this)[t].apply(this,r);return resetTracking(),a}}),n}function hasOwnProperty(n){const t=toRaw(this);return track(t,"has",n),t.hasOwnProperty(n)}class BaseReactiveHandler{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,a){const s=this._isReadonly,o=this._shallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return o;if(r==="__v_raw")return a===(s?o?shallowReadonlyMap:readonlyMap:o?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const l=isArray$1(t);if(!s){if(l&&hasOwn(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,a);if(r==="hasOwnProperty")return hasOwnProperty}const u=Reflect.get(t,r,a);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(s||track(t,"get",r),o)?u:isRef(u)?l&&isIntegerKey(r)?u:u.value:isObject(u)?s?readonly(u):reactive(u):u}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,r,a,s){let o=t[r];if(!this._shallow){const d=isReadonly(o);if(!isShallow(a)&&!isReadonly(a)&&(o=toRaw(o),a=toRaw(a)),!isArray$1(t)&&isRef(o)&&!isRef(a))return d?!1:(o.value=a,!0)}const l=isArray$1(t)&&isIntegerKey(r)?Number(r)<t.length:hasOwn(t,r),u=Reflect.set(t,r,a,s);return t===toRaw(s)&&(l?hasChanged(a,o)&&trigger(t,"set",r,a):trigger(t,"add",r,a)),u}deleteProperty(t,r){const a=hasOwn(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&a&&trigger(t,"delete",r,void 0),s}has(t,r){const a=Reflect.has(t,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(t,"has",r),a}ownKeys(t){return track(t,"iterate",isArray$1(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get(n,t,r=!1,a=!1){n=n.__v_raw;const s=toRaw(n),o=toRaw(t);r||(hasChanged(t,o)&&track(s,"get",t),track(s,"get",o));const{has:l}=getProto(s),u=a?toShallow:r?toReadonly:toReactive;if(l.call(s,t))return u(n.get(t));if(l.call(s,o))return u(n.get(o));n!==s&&n.get(t)}function has(n,t=!1){const r=this.__v_raw,a=toRaw(r),s=toRaw(n);return t||(hasChanged(n,s)&&track(a,"has",n),track(a,"has",s)),n===s?r.has(n):r.has(n)||r.has(s)}function size(n,t=!1){return n=n.__v_raw,!t&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add(n){n=toRaw(n);const t=toRaw(this);return getProto(t).has.call(t,n)||(t.add(n),trigger(t,"add",n,n)),this}function set(n,t){t=toRaw(t);const r=toRaw(this),{has:a,get:s}=getProto(r);let o=a.call(r,n);o||(n=toRaw(n),o=a.call(r,n));const l=s.call(r,n);return r.set(n,t),o?hasChanged(t,l)&&trigger(r,"set",n,t):trigger(r,"add",n,t),this}function deleteEntry(n){const t=toRaw(this),{has:r,get:a}=getProto(t);let s=r.call(t,n);s||(n=toRaw(n),s=r.call(t,n)),a&&a.call(t,n);const o=t.delete(n);return s&&trigger(t,"delete",n,void 0),o}function clear(){const n=toRaw(this),t=n.size!==0,r=n.clear();return t&&trigger(n,"clear",void 0,void 0),r}function createForEach(n,t){return function(a,s){const o=this,l=o.__v_raw,u=toRaw(l),d=t?toShallow:n?toReadonly:toReactive;return!n&&track(u,"iterate",ITERATE_KEY),l.forEach((f,g)=>a.call(s,d(f),d(g),o))}}function createIterableMethod(n,t,r){return function(...a){const s=this.__v_raw,o=toRaw(s),l=isMap(o),u=n==="entries"||n===Symbol.iterator&&l,d=n==="keys"&&l,f=s[n](...a),g=r?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:x,done:b}=f.next();return b?{value:x,done:b}:{value:u?[g(x[0]),g(x[1])]:g(x),done:b}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function createInstrumentations(){const n={get(o){return get(this,o)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(o){return get(this,o,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(o){return get(this,o,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},a={get(o){return get(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=createIterableMethod(o,!1,!1),r[o]=createIterableMethod(o,!0,!1),t[o]=createIterableMethod(o,!1,!0),a[o]=createIterableMethod(o,!0,!0)}),[n,r,t,a]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,t){const r=t?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(a,s,o)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?a:Reflect.get(hasOwn(r,s)&&s in a?r:a,s,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(n,t,r,a,s){if(!isObject(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=s.get(n);if(o)return o;const l=getTargetType(n);if(l===0)return n;const u=new Proxy(n,l===2?a:r);return s.set(n,u),u}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return isReactive(n)||isReadonly(n)}function toRaw(n){const t=n&&n.__v_raw;return t?toRaw(t):n}function markRaw(n){return def(n,"__v_skip",!0),n}const toReactive=n=>isObject(n)?reactive(n):n,toReadonly=n=>isObject(n)?readonly(n):n;function trackRefValue(n){shouldTrack&&activeEffect&&(n=toRaw(n),trackEffects(n.dep||(n.dep=createDep())))}function triggerRefValue(n,t){n=toRaw(n);const r=n.dep;r&&triggerEffects(r)}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function shallowRef(n){return createRef(n,!0)}function createRef(n,t){return isRef(n)?n:new RefImpl(n,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this))}}function unref(n){return isRef(n)?n.value:n}const shallowUnwrapHandlers={get:(n,t,r)=>unref(Reflect.get(n,t,r)),set:(n,t,r,a)=>{const s=n[t];return isRef(s)&&!isRef(r)?(s.value=r,!0):Reflect.set(n,t,r,a)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(t,r,a,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=a}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(n,t,r=!1){let a,s;const o=isFunction$1(n);return o?(a=n,s=NOOP$1):(a=n.get,s=n.set),new ComputedRefImpl(a,s,o||!s,r)}function warn$1(n,...t){}function callWithErrorHandling(n,t,r,a){let s;try{s=a?n(...a):n()}catch(o){handleError(o,t,r)}return s}function callWithAsyncErrorHandling(n,t,r,a){if(isFunction$1(n)){const o=callWithErrorHandling(n,t,r,a);return o&&isPromise(o)&&o.catch(l=>{handleError(l,t,r)}),o}const s=[];for(let o=0;o<n.length;o++)s.push(callWithAsyncErrorHandling(n[o],t,r,a));return s}function handleError(n,t,r,a=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const l=t.proxy,u=r;for(;o;){const f=o.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](n,l,u)===!1)return}o=o.parent}const d=t.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[n,l,u]);return}}logError(n,r,s,a)}function logError(n,t,r,a=!0){console.error(n)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(n){const t=currentFlushPromise||resolvedPromise;return n?t.then(this?n.bind(this):n):t}function findInsertionIndex(n){let t=flushIndex+1,r=queue.length;for(;t<r;){const a=t+r>>>1,s=queue[a],o=getId(s);o<n||o===n&&s.pre?t=a+1:r=a}return t}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const t=queue.indexOf(n);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(n){isArray$1(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()}function flushPreFlushCbs(n,t,r=isFlushing?flushIndex+1:0){for(;r<queue.length;r++){const a=queue[r];if(a&&a.pre){if(n&&a.id!==n.uid)continue;queue.splice(r,1),r--,a()}}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((r,a)=>getId(r)-getId(a)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=n=>n.id==null?1/0:n.id,comparator=(n,t)=>{const r=getId(n)-getId(t);if(r===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return r};function flushJobs(n){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&t.active!==!1&&callWithErrorHandling(t,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(n,t,...r){if(n.isUnmounted)return;const a=n.vnode.props||EMPTY_OBJ;let s=r;const o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in a){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:x,trim:b}=a[g]||EMPTY_OBJ;b&&(s=r.map(m=>isString(m)?m.trim():m)),x&&(s=r.map(looseToNumber))}let u,d=a[u=toHandlerKey(t)]||a[u=toHandlerKey(camelize(t))];!d&&o&&(d=a[u=toHandlerKey(hyphenate(t))]),d&&callWithAsyncErrorHandling(d,n,6,s);const f=a[u+"Once"];if(f){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,callWithAsyncErrorHandling(f,n,6,s)}}function normalizeEmitsOptions(n,t,r=!1){const a=t.emitsCache,s=a.get(n);if(s!==void 0)return s;const o=n.emits;let l={},u=!1;if(!isFunction$1(n)){const d=f=>{const g=normalizeEmitsOptions(f,t,!0);g&&(u=!0,extend(l,g))};!r&&t.mixins.length&&t.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}return!o&&!u?(isObject(n)&&a.set(n,null),null):(isArray$1(o)?o.forEach(d=>l[d]=null):extend(l,o),isObject(n)&&a.set(n,l),l)}function isEmitListener(n,t){return!n||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(n,t[0].toLowerCase()+t.slice(1))||hasOwn(n,hyphenate(t))||hasOwn(n,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const t=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,t}function pushScopeId(n){currentScopeId=n}function popScopeId(){currentScopeId=null}function withCtx(n,t=currentRenderingInstance,r){if(!t||n._n)return n;const a=(...s)=>{a._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let l;try{l=n(...s)}finally{setCurrentRenderingInstance(o),a._d&&setBlockTracking(1)}return l};return a._n=!0,a._c=!0,a._d=!0,a}function markAttrsAccessed(){}function renderComponentRoot(n){const{type:t,vnode:r,proxy:a,withProxy:s,props:o,propsOptions:[l],slots:u,attrs:d,emit:f,render:g,renderCache:x,data:b,setupState:m,ctx:y,inheritAttrs:v}=n;let w,S;const C=setCurrentRenderingInstance(n);try{if(r.shapeFlag&4){const T=s||a,_=T;w=normalizeVNode(g.call(_,T,x,o,m,b,y)),S=d}else{const T=t;w=normalizeVNode(T.length>1?T(o,{attrs:d,slots:u,emit:f}):T(o,null)),S=t.props?d:getFunctionalFallthrough(d)}}catch(T){blockStack.length=0,handleError(T,n,1),w=createVNode(Comment)}let E=w;if(S&&v!==!1){const T=Object.keys(S),{shapeFlag:_}=E;T.length&&_&7&&(l&&T.some(isModelListener)&&(S=filterModelListeners(S,l)),E=cloneVNode(E,S))}return r.dirs&&(E=cloneVNode(E),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&(E.transition=r.transition),w=E,setCurrentRenderingInstance(C),w}const getFunctionalFallthrough=n=>{let t;for(const r in n)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=n[r]);return t},filterModelListeners=(n,t)=>{const r={};for(const a in n)(!isModelListener(a)||!(a.slice(9)in t))&&(r[a]=n[a]);return r};function shouldUpdateComponent(n,t,r){const{props:a,children:s,component:o}=n,{props:l,children:u,patchFlag:d}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return a?hasPropsChanged(a,l,f):!!l;if(d&8){const g=t.dynamicProps;for(let x=0;x<g.length;x++){const b=g[x];if(l[b]!==a[b]&&!isEmitListener(f,b))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:a===l?!1:a?l?hasPropsChanged(a,l,f):!0:!!l;return!1}function hasPropsChanged(n,t,r){const a=Object.keys(t);if(a.length!==Object.keys(n).length)return!0;for(let s=0;s<a.length;s++){const o=a[s];if(t[o]!==n[o]&&!isEmitListener(r,o))return!0}return!1}function updateHOCHostEl({vnode:n,parent:t},r){for(;t&&t.subTree===n;)(n=t.vnode).el=r,t=t.parent}const COMPONENTS="components";function resolveComponent(n,t){return resolveAsset(COMPONENTS,n,!0,t)||n}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(n,t,r=!0,a=!1){const s=currentRenderingInstance||currentInstance;if(s){const o=s.type;if(n===COMPONENTS){const u=getComponentName(o,!1);if(u&&(u===t||u===camelize(t)||u===capitalize(camelize(t))))return o}const l=resolve(s[n]||o[n],t)||resolve(s.appContext[n],t);return!l&&a?o:l}}function resolve(n,t){return n&&(n[t]||n[camelize(t)]||n[capitalize(camelize(t))])}const isSuspense=n=>n.__isSuspense;function queueEffectWithSuspense(n,t){t&&t.pendingBranch?isArray$1(n)?t.effects.push(...n):t.effects.push(n):queuePostFlushCb(n)}function watchPostEffect(n,t){return doWatch(n,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(n,t,r){return doWatch(n,t,r)}function doWatch(n,t,{immediate:r,deep:a,flush:s,onTrack:o,onTrigger:l}=EMPTY_OBJ){var u;const d=getCurrentScope()===((u=currentInstance)==null?void 0:u.scope)?currentInstance:null;let f,g=!1,x=!1;if(isRef(n)?(f=()=>n.value,g=isShallow(n)):isReactive(n)?(f=()=>n,a=!0):isArray$1(n)?(x=!0,g=n.some(T=>isReactive(T)||isShallow(T)),f=()=>n.map(T=>{if(isRef(T))return T.value;if(isReactive(T))return traverse(T);if(isFunction$1(T))return callWithErrorHandling(T,d,2)})):isFunction$1(n)?t?f=()=>callWithErrorHandling(n,d,2):f=()=>{if(!(d&&d.isUnmounted))return b&&b(),callWithAsyncErrorHandling(n,d,3,[m])}:f=NOOP$1,t&&a){const T=f;f=()=>traverse(T())}let b,m=T=>{b=C.onStop=()=>{callWithErrorHandling(T,d,4),b=C.onStop=void 0}},y;if(isInSSRComponentSetup)if(m=NOOP$1,t?r&&callWithAsyncErrorHandling(t,d,3,[f(),x?[]:void 0,m]):f(),s==="sync"){const T=useSSRContext();y=T.__watcherHandles||(T.__watcherHandles=[])}else return NOOP$1;let v=x?new Array(n.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const w=()=>{if(C.active)if(t){const T=C.run();(a||g||(x?T.some((_,R)=>hasChanged(_,v[R])):hasChanged(T,v)))&&(b&&b(),callWithAsyncErrorHandling(t,d,3,[T,v===INITIAL_WATCHER_VALUE?void 0:x&&v[0]===INITIAL_WATCHER_VALUE?[]:v,m]),v=T)}else C.run()};w.allowRecurse=!!t;let S;s==="sync"?S=w:s==="post"?S=()=>queuePostRenderEffect(w,d&&d.suspense):(w.pre=!0,d&&(w.id=d.uid),S=()=>queueJob(w));const C=new ReactiveEffect(f,S);t?r?w():v=C.run():s==="post"?queuePostRenderEffect(C.run.bind(C),d&&d.suspense):C.run();const E=()=>{C.stop(),d&&d.scope&&remove(d.scope.effects,C)};return y&&y.push(E),E}function instanceWatch(n,t,r){const a=this.proxy,s=isString(n)?n.includes(".")?createPathGetter(a,n):()=>a[n]:n.bind(a,a);let o;isFunction$1(t)?o=t:(o=t.handler,r=t);const l=currentInstance;setCurrentInstance(this);const u=doWatch(s,o.bind(a),r);return l?setCurrentInstance(l):unsetCurrentInstance(),u}function createPathGetter(n,t){const r=t.split(".");return()=>{let a=n;for(let s=0;s<r.length&&a;s++)a=a[r[s]];return a}}function traverse(n,t){if(!isObject(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),isRef(n))traverse(n.value,t);else if(isArray$1(n))for(let r=0;r<n.length;r++)traverse(n[r],t);else if(isSet(n)||isMap(n))n.forEach(r=>{traverse(r,t)});else if(isPlainObject(n))for(const r in n)traverse(n[r],t);return n}function withDirectives(n,t){const r=currentRenderingInstance;if(r===null)return n;const a=getExposeProxy(r)||r.proxy,s=n.dirs||(n.dirs=[]);for(let o=0;o<t.length;o++){let[l,u,d,f=EMPTY_OBJ]=t[o];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(u),s.push({dir:l,instance:a,value:u,oldValue:void 0,arg:d,modifiers:f}))}return n}function invokeDirectiveHook(n,t,r,a){const s=n.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const u=s[l];o&&(u.oldValue=o[l].value);let d=u.dir[a];d&&(pauseTracking(),callWithAsyncErrorHandling(d,r,8,[n.el,u,n,t]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(n,t){return isFunction$1(n)?extend({name:n.name},t,{setup:n}):n}const isAsyncWrapper=n=>!!n.type.__asyncLoader,isKeepAlive=n=>n.type.__isKeepAlive;function onActivated(n,t){registerKeepAliveHook(n,"a",t)}function onDeactivated(n,t){registerKeepAliveHook(n,"da",t)}function registerKeepAliveHook(n,t,r=currentInstance){const a=n.__wdc||(n.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(injectHook(t,a,r),r){let s=r.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(a,t,r,s),s=s.parent}}function injectToKeepAliveRoot(n,t,r,a){const s=injectHook(t,n,a,!0);onUnmounted(()=>{remove(a[t],s)},r)}function injectHook(n,t,r=currentInstance,a=!1){if(r){const s=r[n]||(r[n]=[]),o=t.__weh||(t.__weh=(...l)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const u=callWithAsyncErrorHandling(t,r,n,l);return unsetCurrentInstance(),resetTracking(),u});return a?s.unshift(o):s.push(o),o}}const createHook=n=>(t,r=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,(...a)=>t(...a),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,t=currentInstance){injectHook("ec",n,t)}function renderList(n,t,r,a){let s;const o=r&&r[a];if(isArray$1(n)||isString(n)){s=new Array(n.length);for(let l=0,u=n.length;l<u;l++)s[l]=t(n[l],l,void 0,o&&o[l])}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=t(l+1,l,void 0,o&&o[l])}else if(isObject(n))if(n[Symbol.iterator])s=Array.from(n,(l,u)=>t(l,u,void 0,o&&o[u]));else{const l=Object.keys(n);s=new Array(l.length);for(let u=0,d=l.length;u<d;u++){const f=l[u];s[u]=t(n[f],f,u,o&&o[u])}}else s=[];return r&&(r[a]=s),s}function renderSlot(n,t,r={},a,s){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(r.name=t),createVNode("slot",r,a&&a());let o=n[t];o&&o._c&&(o._d=!1),openBlock();const l=o&&ensureValidVNode(o(r)),u=createBlock(Fragment,{key:r.key||l&&l.key||`_${t}`},l||(a?a():[]),l&&n._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function ensureValidVNode(n){return n.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?n:null}const getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>n.f||(n.f=()=>queueJob(n.update)),$nextTick:n=>n.n||(n.n=nextTick.bind(n.proxy)),$watch:n=>instanceWatch.bind(n)}),hasSetupBinding=(n,t)=>n!==EMPTY_OBJ&&!n.__isScriptSetup&&hasOwn(n,t),PublicInstanceProxyHandlers={get({_:n},t){const{ctx:r,setupState:a,data:s,props:o,accessCache:l,type:u,appContext:d}=n;let f;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return a[t];case 2:return s[t];case 4:return r[t];case 3:return o[t]}else{if(hasSetupBinding(a,t))return l[t]=1,a[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return l[t]=2,s[t];if((f=n.propsOptions[0])&&hasOwn(f,t))return l[t]=3,o[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return l[t]=4,r[t];shouldCacheAccess&&(l[t]=0)}}const g=publicPropertiesMap[t];let x,b;if(g)return t==="$attrs"&&track(n,"get",t),g(n);if((x=u.__cssModules)&&(x=x[t]))return x;if(r!==EMPTY_OBJ&&hasOwn(r,t))return l[t]=4,r[t];if(b=d.config.globalProperties,hasOwn(b,t))return b[t]},set({_:n},t,r){const{data:a,setupState:s,ctx:o}=n;return hasSetupBinding(s,t)?(s[t]=r,!0):a!==EMPTY_OBJ&&hasOwn(a,t)?(a[t]=r,!0):hasOwn(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=r,!0)},has({_:{data:n,setupState:t,accessCache:r,ctx:a,appContext:s,propsOptions:o}},l){let u;return!!r[l]||n!==EMPTY_OBJ&&hasOwn(n,l)||hasSetupBinding(t,l)||(u=o[0])&&hasOwn(u,l)||hasOwn(a,l)||hasOwn(publicPropertiesMap,l)||hasOwn(s.config.globalProperties,l)},defineProperty(n,t,r){return r.get!=null?n._.accessCache[t]=0:hasOwn(r,"value")&&this.set(n,t,r.value,null),Reflect.defineProperty(n,t,r)}};function useSlots(){return getContext().slots}function getContext(){const n=getCurrentInstance();return n.setupContext||(n.setupContext=createSetupContext(n))}function normalizePropsOrEmits(n){return isArray$1(n)?n.reduce((t,r)=>(t[r]=null,t),{}):n}let shouldCacheAccess=!0;function applyOptions(n){const t=resolveMergedOptions(n),r=n.proxy,a=n.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,n,"bc");const{data:s,computed:o,methods:l,watch:u,provide:d,inject:f,created:g,beforeMount:x,mounted:b,beforeUpdate:m,updated:y,activated:v,deactivated:w,beforeDestroy:S,beforeUnmount:C,destroyed:E,unmounted:T,render:_,renderTracked:R,renderTriggered:U,errorCaptured:z,serverPrefetch:X,expose:W,inheritAttrs:Y,components:se,directives:oe,filters:ue}=t;if(f&&resolveInjections(f,a,null),l)for(const he in l){const xe=l[he];isFunction$1(xe)&&(a[he]=xe.bind(r))}if(s){const he=s.call(r,r);isObject(he)&&(n.data=reactive(he))}if(shouldCacheAccess=!0,o)for(const he in o){const xe=o[he],ye=isFunction$1(xe)?xe.bind(r,r):isFunction$1(xe.get)?xe.get.bind(r,r):NOOP$1,Ae=!isFunction$1(xe)&&isFunction$1(xe.set)?xe.set.bind(r):NOOP$1,we=computed({get:ye,set:Ae});Object.defineProperty(a,he,{enumerable:!0,configurable:!0,get:()=>we.value,set:pe=>we.value=pe})}if(u)for(const he in u)createWatcher(u[he],a,r,he);if(d){const he=isFunction$1(d)?d.call(r):d;Reflect.ownKeys(he).forEach(xe=>{provide(xe,he[xe])})}g&&callHook(g,n,"c");function te(he,xe){isArray$1(xe)?xe.forEach(ye=>he(ye.bind(r))):xe&&he(xe.bind(r))}if(te(onBeforeMount,x),te(onMounted,b),te(onBeforeUpdate,m),te(onUpdated,y),te(onActivated,v),te(onDeactivated,w),te(onErrorCaptured,z),te(onRenderTracked,R),te(onRenderTriggered,U),te(onBeforeUnmount,C),te(onUnmounted,T),te(onServerPrefetch,X),isArray$1(W))if(W.length){const he=n.exposed||(n.exposed={});W.forEach(xe=>{Object.defineProperty(he,xe,{get:()=>r[xe],set:ye=>r[xe]=ye})})}else n.exposed||(n.exposed={});_&&n.render===NOOP$1&&(n.render=_),Y!=null&&(n.inheritAttrs=Y),se&&(n.components=se),oe&&(n.directives=oe)}function resolveInjections(n,t,r=NOOP$1){isArray$1(n)&&(n=normalizeInject(n));for(const a in n){const s=n[a];let o;isObject(s)?"default"in s?o=inject(s.from||a,s.default,!0):o=inject(s.from||a):o=inject(s),isRef(o)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[a]=o}}function callHook(n,t,r){callWithAsyncErrorHandling(isArray$1(n)?n.map(a=>a.bind(t.proxy)):n.bind(t.proxy),t,r)}function createWatcher(n,t,r,a){const s=a.includes(".")?createPathGetter(r,a):()=>r[a];if(isString(n)){const o=t[n];isFunction$1(o)&&watch(s,o)}else if(isFunction$1(n))watch(s,n.bind(r));else if(isObject(n))if(isArray$1(n))n.forEach(o=>createWatcher(o,t,r,a));else{const o=isFunction$1(n.handler)?n.handler.bind(r):t[n.handler];isFunction$1(o)&&watch(s,o,n)}}function resolveMergedOptions(n){const t=n.type,{mixins:r,extends:a}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=n.appContext,u=o.get(t);let d;return u?d=u:!s.length&&!r&&!a?d=t:(d={},s.length&&s.forEach(f=>mergeOptions$1(d,f,l,!0)),mergeOptions$1(d,t,l)),isObject(t)&&o.set(t,d),d}function mergeOptions$1(n,t,r,a=!1){const{mixins:s,extends:o}=t;o&&mergeOptions$1(n,o,r,!0),s&&s.forEach(l=>mergeOptions$1(n,l,r,!0));for(const l in t)if(!(a&&l==="expose")){const u=internalOptionMergeStrats[l]||r&&r[l];n[l]=u?u(n[l],t[l]):t[l]}return n}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,t){return t?n?function(){return extend(isFunction$1(n)?n.call(this,this):n,isFunction$1(t)?t.call(this,this):t)}:t:n}function mergeInject(n,t){return mergeObjectOptions(normalizeInject(n),normalizeInject(t))}function normalizeInject(n){if(isArray$1(n)){const t={};for(let r=0;r<n.length;r++)t[n[r]]=n[r];return t}return n}function mergeAsArray(n,t){return n?[...new Set([].concat(n,t))]:t}function mergeObjectOptions(n,t){return n?extend(Object.create(null),n,t):t}function mergeEmitsOrPropsOptions(n,t){return n?isArray$1(n)&&isArray$1(t)?[...new Set([...n,...t])]:extend(Object.create(null),normalizePropsOrEmits(n),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(n,t){if(!n)return t;if(!t)return n;const r=extend(Object.create(null),n);for(const a in t)r[a]=mergeAsArray(n[a],t[a]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(n,t){return function(a,s=null){isFunction$1(a)||(a=extend({},a)),s!=null&&!isObject(s)&&(s=null);const o=createAppContext(),l=new WeakSet;let u=!1;const d=o.app={_uid:uid$1++,_component:a,_props:s,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(f){},use(f,...g){return l.has(f)||(f&&isFunction$1(f.install)?(l.add(f),f.install(d,...g)):isFunction$1(f)&&(l.add(f),f(d,...g))),d},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),d},component(f,g){return g?(o.components[f]=g,d):o.components[f]},directive(f,g){return g?(o.directives[f]=g,d):o.directives[f]},mount(f,g,x){if(!u){const b=createVNode(a,s);return b.appContext=o,g&&t?t(b,f):n(b,f,x),u=!0,d._container=f,f.__vue_app__=d,getExposeProxy(b.component)||b.component.proxy}},unmount(){u&&(n(null,d._container),delete d._container.__vue_app__)},provide(f,g){return o.provides[f]=g,d},runWithContext(f){currentApp=d;try{return f()}finally{currentApp=null}}};return d}}let currentApp=null;function provide(n,t){if(currentInstance){let r=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===r&&(r=currentInstance.provides=Object.create(a)),r[n]=t}}function inject(n,t,r=!1){const a=currentInstance||currentRenderingInstance;if(a||currentApp){const s=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:currentApp._context.provides;if(s&&n in s)return s[n];if(arguments.length>1)return r&&isFunction$1(t)?t.call(a&&a.proxy):t}}function initProps(n,t,r,a=!1){const s={},o={};def(o,InternalObjectKey,1),n.propsDefaults=Object.create(null),setFullProps(n,t,s,o);for(const l in n.propsOptions[0])l in s||(s[l]=void 0);r?n.props=a?s:shallowReactive(s):n.type.props?n.props=s:n.props=o,n.attrs=o}function updateProps(n,t,r,a){const{props:s,attrs:o,vnode:{patchFlag:l}}=n,u=toRaw(s),[d]=n.propsOptions;let f=!1;if((a||l>0)&&!(l&16)){if(l&8){const g=n.vnode.dynamicProps;for(let x=0;x<g.length;x++){let b=g[x];if(isEmitListener(n.emitsOptions,b))continue;const m=t[b];if(d)if(hasOwn(o,b))m!==o[b]&&(o[b]=m,f=!0);else{const y=camelize(b);s[y]=resolvePropValue(d,u,y,m,n,!1)}else m!==o[b]&&(o[b]=m,f=!0)}}}else{setFullProps(n,t,s,o)&&(f=!0);let g;for(const x in u)(!t||!hasOwn(t,x)&&((g=hyphenate(x))===x||!hasOwn(t,g)))&&(d?r&&(r[x]!==void 0||r[g]!==void 0)&&(s[x]=resolvePropValue(d,u,x,void 0,n,!0)):delete s[x]);if(o!==u)for(const x in o)(!t||!hasOwn(t,x))&&(delete o[x],f=!0)}f&&trigger(n,"set","$attrs")}function setFullProps(n,t,r,a){const[s,o]=n.propsOptions;let l=!1,u;if(t)for(let d in t){if(isReservedProp(d))continue;const f=t[d];let g;s&&hasOwn(s,g=camelize(d))?!o||!o.includes(g)?r[g]=f:(u||(u={}))[g]=f:isEmitListener(n.emitsOptions,d)||(!(d in a)||f!==a[d])&&(a[d]=f,l=!0)}if(o){const d=toRaw(r),f=u||EMPTY_OBJ;for(let g=0;g<o.length;g++){const x=o[g];r[x]=resolvePropValue(s,d,x,f[x],n,!hasOwn(f,x))}}return l}function resolvePropValue(n,t,r,a,s,o){const l=n[r];if(l!=null){const u=hasOwn(l,"default");if(u&&a===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&isFunction$1(d)){const{propsDefaults:f}=s;r in f?a=f[r]:(setCurrentInstance(s),a=f[r]=d.call(null,t),unsetCurrentInstance())}else a=d}l[0]&&(o&&!u?a=!1:l[1]&&(a===""||a===hyphenate(r))&&(a=!0))}return a}function normalizePropsOptions(n,t,r=!1){const a=t.propsCache,s=a.get(n);if(s)return s;const o=n.props,l={},u=[];let d=!1;if(!isFunction$1(n)){const g=x=>{d=!0;const[b,m]=normalizePropsOptions(x,t,!0);extend(l,b),m&&u.push(...m)};!r&&t.mixins.length&&t.mixins.forEach(g),n.extends&&g(n.extends),n.mixins&&n.mixins.forEach(g)}if(!o&&!d)return isObject(n)&&a.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray$1(o))for(let g=0;g<o.length;g++){const x=camelize(o[g]);validatePropName(x)&&(l[x]=EMPTY_OBJ)}else if(o)for(const g in o){const x=camelize(g);if(validatePropName(x)){const b=o[g],m=l[x]=isArray$1(b)||isFunction$1(b)?{type:b}:extend({},b);if(m){const y=getTypeIndex(Boolean,m.type),v=getTypeIndex(String,m.type);m[0]=y>-1,m[1]=v<0||y<v,(y>-1||hasOwn(m,"default"))&&u.push(x)}}}const f=[l,u];return isObject(n)&&a.set(n,f),f}function validatePropName(n){return n[0]!=="$"}function getType$1(n){const t=n&&n.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:n===null?"null":""}function isSameType(n,t){return getType$1(n)===getType$1(t)}function getTypeIndex(n,t){return isArray$1(t)?t.findIndex(r=>isSameType(r,n)):isFunction$1(t)&&isSameType(t,n)?0:-1}const isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray$1(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot$1=(n,t,r)=>{if(t._n)return t;const a=withCtx((...s)=>normalizeSlotValue(t(...s)),r);return a._c=!1,a},normalizeObjectSlots=(n,t,r)=>{const a=n._ctx;for(const s in n){if(isInternalKey(s))continue;const o=n[s];if(isFunction$1(o))t[s]=normalizeSlot$1(s,o,a);else if(o!=null){const l=normalizeSlotValue(o);t[s]=()=>l}}},normalizeVNodeSlots=(n,t)=>{const r=normalizeSlotValue(t);n.slots.default=()=>r},initSlots=(n,t)=>{if(n.vnode.shapeFlag&32){const r=t._;r?(n.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,n.slots={})}else n.slots={},t&&normalizeVNodeSlots(n,t);def(n.slots,InternalObjectKey,1)},updateSlots=(n,t,r)=>{const{vnode:a,slots:s}=n;let o=!0,l=EMPTY_OBJ;if(a.shapeFlag&32){const u=t._;u?r&&u===1?o=!1:(extend(s,t),!r&&u===1&&delete s._):(o=!t.$stable,normalizeObjectSlots(t,s)),l=t}else t&&(normalizeVNodeSlots(n,t),l={default:1});if(o)for(const u in s)!isInternalKey(u)&&l[u]==null&&delete s[u]};function setRef(n,t,r,a,s=!1){if(isArray$1(n)){n.forEach((b,m)=>setRef(b,t&&(isArray$1(t)?t[m]:t),r,a,s));return}if(isAsyncWrapper(a)&&!s)return;const o=a.shapeFlag&4?getExposeProxy(a.component)||a.component.proxy:a.el,l=s?null:o,{i:u,r:d}=n,f=t&&t.r,g=u.refs===EMPTY_OBJ?u.refs={}:u.refs,x=u.setupState;if(f!=null&&f!==d&&(isString(f)?(g[f]=null,hasOwn(x,f)&&(x[f]=null)):isRef(f)&&(f.value=null)),isFunction$1(d))callWithErrorHandling(d,u,12,[l,g]);else{const b=isString(d),m=isRef(d);if(b||m){const y=()=>{if(n.f){const v=b?hasOwn(x,d)?x[d]:g[d]:d.value;s?isArray$1(v)&&remove(v,o):isArray$1(v)?v.includes(o)||v.push(o):b?(g[d]=[o],hasOwn(x,d)&&(x[d]=g[d])):(d.value=[o],n.k&&(g[n.k]=d.value))}else b?(g[d]=l,hasOwn(x,d)&&(x[d]=l)):m&&(d.value=l,n.k&&(g[n.k]=l))};l?(y.id=-1,queuePostRenderEffect(y,r)):y()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function baseCreateRenderer(n,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:a,remove:s,patchProp:o,createElement:l,createText:u,createComment:d,setText:f,setElementText:g,parentNode:x,nextSibling:b,setScopeId:m=NOOP$1,insertStaticContent:y}=n,v=(D,N,H,V=null,$=null,J=null,Q=!1,re=null,ie=!!N.dynamicChildren)=>{if(D===N)return;D&&!isSameVNodeType(D,N)&&(V=M(D),pe(D,$,J,!0),D=null),N.patchFlag===-2&&(ie=!1,N.dynamicChildren=null);const{type:ne,ref:ee,shapeFlag:le}=N;switch(ne){case Text$1:w(D,N,H,V);break;case Comment:S(D,N,H,V);break;case Static:D==null&&C(N,H,V,Q);break;case Fragment:se(D,N,H,V,$,J,Q,re,ie);break;default:le&1?_(D,N,H,V,$,J,Q,re,ie):le&6?oe(D,N,H,V,$,J,Q,re,ie):(le&64||le&128)&&ne.process(D,N,H,V,$,J,Q,re,ie,k)}ee!=null&&$&&setRef(ee,D&&D.ref,J,N||D,!N)},w=(D,N,H,V)=>{if(D==null)a(N.el=u(N.children),H,V);else{const $=N.el=D.el;N.children!==D.children&&f($,N.children)}},S=(D,N,H,V)=>{D==null?a(N.el=d(N.children||""),H,V):N.el=D.el},C=(D,N,H,V)=>{[D.el,D.anchor]=y(D.children,N,H,V,D.el,D.anchor)},E=({el:D,anchor:N},H,V)=>{let $;for(;D&&D!==N;)$=b(D),a(D,H,V),D=$;a(N,H,V)},T=({el:D,anchor:N})=>{let H;for(;D&&D!==N;)H=b(D),s(D),D=H;s(N)},_=(D,N,H,V,$,J,Q,re,ie)=>{Q=Q||N.type==="svg",D==null?R(N,H,V,$,J,Q,re,ie):X(D,N,$,J,Q,re,ie)},R=(D,N,H,V,$,J,Q,re)=>{let ie,ne;const{type:ee,props:le,shapeFlag:be,transition:fe,dirs:Fe}=D;if(ie=D.el=l(D.type,J,le&&le.is,le),be&8?g(ie,D.children):be&16&&z(D.children,ie,null,V,$,J&&ee!=="foreignObject",Q,re),Fe&&invokeDirectiveHook(D,null,V,"created"),U(ie,D,D.scopeId,Q,V),le){for(const L in le)L!=="value"&&!isReservedProp(L)&&o(ie,L,null,le[L],J,D.children,V,$,ce);"value"in le&&o(ie,"value",null,le.value),(ne=le.onVnodeBeforeMount)&&invokeVNodeHook(ne,V,D)}Fe&&invokeDirectiveHook(D,null,V,"beforeMount");const K=needTransition($,fe);K&&fe.beforeEnter(ie),a(ie,N,H),((ne=le&&le.onVnodeMounted)||K||Fe)&&queuePostRenderEffect(()=>{ne&&invokeVNodeHook(ne,V,D),K&&fe.enter(ie),Fe&&invokeDirectiveHook(D,null,V,"mounted")},$)},U=(D,N,H,V,$)=>{if(H&&m(D,H),V)for(let J=0;J<V.length;J++)m(D,V[J]);if($){let J=$.subTree;if(N===J){const Q=$.vnode;U(D,Q,Q.scopeId,Q.slotScopeIds,$.parent)}}},z=(D,N,H,V,$,J,Q,re,ie=0)=>{for(let ne=ie;ne<D.length;ne++){const ee=D[ne]=re?cloneIfMounted(D[ne]):normalizeVNode(D[ne]);v(null,ee,N,H,V,$,J,Q,re)}},X=(D,N,H,V,$,J,Q)=>{const re=N.el=D.el;let{patchFlag:ie,dynamicChildren:ne,dirs:ee}=N;ie|=D.patchFlag&16;const le=D.props||EMPTY_OBJ,be=N.props||EMPTY_OBJ;let fe;H&&toggleRecurse(H,!1),(fe=be.onVnodeBeforeUpdate)&&invokeVNodeHook(fe,H,N,D),ee&&invokeDirectiveHook(N,D,H,"beforeUpdate"),H&&toggleRecurse(H,!0);const Fe=$&&N.type!=="foreignObject";if(ne?W(D.dynamicChildren,ne,re,H,V,Fe,J):Q||xe(D,N,re,null,H,V,Fe,J,!1),ie>0){if(ie&16)Y(re,N,le,be,H,V,$);else if(ie&2&&le.class!==be.class&&o(re,"class",null,be.class,$),ie&4&&o(re,"style",le.style,be.style,$),ie&8){const K=N.dynamicProps;for(let L=0;L<K.length;L++){const G=K[L],ae=le[G],me=be[G];(me!==ae||G==="value")&&o(re,G,ae,me,$,D.children,H,V,ce)}}ie&1&&D.children!==N.children&&g(re,N.children)}else!Q&&ne==null&&Y(re,N,le,be,H,V,$);((fe=be.onVnodeUpdated)||ee)&&queuePostRenderEffect(()=>{fe&&invokeVNodeHook(fe,H,N,D),ee&&invokeDirectiveHook(N,D,H,"updated")},V)},W=(D,N,H,V,$,J,Q)=>{for(let re=0;re<N.length;re++){const ie=D[re],ne=N[re],ee=ie.el&&(ie.type===Fragment||!isSameVNodeType(ie,ne)||ie.shapeFlag&70)?x(ie.el):H;v(ie,ne,ee,null,V,$,J,Q,!0)}},Y=(D,N,H,V,$,J,Q)=>{if(H!==V){if(H!==EMPTY_OBJ)for(const re in H)!isReservedProp(re)&&!(re in V)&&o(D,re,H[re],null,Q,N.children,$,J,ce);for(const re in V){if(isReservedProp(re))continue;const ie=V[re],ne=H[re];ie!==ne&&re!=="value"&&o(D,re,ne,ie,Q,N.children,$,J,ce)}"value"in V&&o(D,"value",H.value,V.value)}},se=(D,N,H,V,$,J,Q,re,ie)=>{const ne=N.el=D?D.el:u(""),ee=N.anchor=D?D.anchor:u("");let{patchFlag:le,dynamicChildren:be,slotScopeIds:fe}=N;fe&&(re=re?re.concat(fe):fe),D==null?(a(ne,H,V),a(ee,H,V),z(N.children,H,ee,$,J,Q,re,ie)):le>0&&le&64&&be&&D.dynamicChildren?(W(D.dynamicChildren,be,H,$,J,Q,re),(N.key!=null||$&&N===$.subTree)&&traverseStaticChildren(D,N,!0)):xe(D,N,H,ee,$,J,Q,re,ie)},oe=(D,N,H,V,$,J,Q,re,ie)=>{N.slotScopeIds=re,D==null?N.shapeFlag&512?$.ctx.activate(N,H,V,Q,ie):ue(N,H,V,$,J,Q,ie):Z(D,N,ie)},ue=(D,N,H,V,$,J,Q)=>{const re=D.component=createComponentInstance(D,V,$);if(isKeepAlive(D)&&(re.ctx.renderer=k),setupComponent(re),re.asyncDep){if($&&$.registerDep(re,te),!D.el){const ie=re.subTree=createVNode(Comment);S(null,ie,N,H)}return}te(re,D,N,H,$,J,Q)},Z=(D,N,H)=>{const V=N.component=D.component;if(shouldUpdateComponent(D,N,H))if(V.asyncDep&&!V.asyncResolved){he(V,N,H);return}else V.next=N,invalidateJob(V.update),V.update();else N.el=D.el,V.vnode=N},te=(D,N,H,V,$,J,Q)=>{const re=()=>{if(D.isMounted){let{next:ee,bu:le,u:be,parent:fe,vnode:Fe}=D,K=ee,L;toggleRecurse(D,!1),ee?(ee.el=Fe.el,he(D,ee,Q)):ee=Fe,le&&invokeArrayFns(le),(L=ee.props&&ee.props.onVnodeBeforeUpdate)&&invokeVNodeHook(L,fe,ee,Fe),toggleRecurse(D,!0);const G=renderComponentRoot(D),ae=D.subTree;D.subTree=G,v(ae,G,x(ae.el),M(ae),D,$,J),ee.el=G.el,K===null&&updateHOCHostEl(D,G.el),be&&queuePostRenderEffect(be,$),(L=ee.props&&ee.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(L,fe,ee,Fe),$)}else{let ee;const{el:le,props:be}=N,{bm:fe,m:Fe,parent:K}=D,L=isAsyncWrapper(N);if(toggleRecurse(D,!1),fe&&invokeArrayFns(fe),!L&&(ee=be&&be.onVnodeBeforeMount)&&invokeVNodeHook(ee,K,N),toggleRecurse(D,!0),le&&O){const G=()=>{D.subTree=renderComponentRoot(D),O(le,D.subTree,D,$,null)};L?N.type.__asyncLoader().then(()=>!D.isUnmounted&&G()):G()}else{const G=D.subTree=renderComponentRoot(D);v(null,G,H,V,D,$,J),N.el=G.el}if(Fe&&queuePostRenderEffect(Fe,$),!L&&(ee=be&&be.onVnodeMounted)){const G=N;queuePostRenderEffect(()=>invokeVNodeHook(ee,K,G),$)}(N.shapeFlag&256||K&&isAsyncWrapper(K.vnode)&&K.vnode.shapeFlag&256)&&D.a&&queuePostRenderEffect(D.a,$),D.isMounted=!0,N=H=V=null}},ie=D.effect=new ReactiveEffect(re,()=>queueJob(ne),D.scope),ne=D.update=()=>ie.run();ne.id=D.uid,toggleRecurse(D,!0),ne()},he=(D,N,H)=>{N.component=D;const V=D.vnode.props;D.vnode=N,D.next=null,updateProps(D,N.props,V,H),updateSlots(D,N.children,H),pauseTracking(),flushPreFlushCbs(D),resetTracking()},xe=(D,N,H,V,$,J,Q,re,ie=!1)=>{const ne=D&&D.children,ee=D?D.shapeFlag:0,le=N.children,{patchFlag:be,shapeFlag:fe}=N;if(be>0){if(be&128){Ae(ne,le,H,V,$,J,Q,re,ie);return}else if(be&256){ye(ne,le,H,V,$,J,Q,re,ie);return}}fe&8?(ee&16&&ce(ne,$,J),le!==ne&&g(H,le)):ee&16?fe&16?Ae(ne,le,H,V,$,J,Q,re,ie):ce(ne,$,J,!0):(ee&8&&g(H,""),fe&16&&z(le,H,V,$,J,Q,re,ie))},ye=(D,N,H,V,$,J,Q,re,ie)=>{D=D||EMPTY_ARR,N=N||EMPTY_ARR;const ne=D.length,ee=N.length,le=Math.min(ne,ee);let be;for(be=0;be<le;be++){const fe=N[be]=ie?cloneIfMounted(N[be]):normalizeVNode(N[be]);v(D[be],fe,H,null,$,J,Q,re,ie)}ne>ee?ce(D,$,J,!0,!1,le):z(N,H,V,$,J,Q,re,ie,le)},Ae=(D,N,H,V,$,J,Q,re,ie)=>{let ne=0;const ee=N.length;let le=D.length-1,be=ee-1;for(;ne<=le&&ne<=be;){const fe=D[ne],Fe=N[ne]=ie?cloneIfMounted(N[ne]):normalizeVNode(N[ne]);if(isSameVNodeType(fe,Fe))v(fe,Fe,H,null,$,J,Q,re,ie);else break;ne++}for(;ne<=le&&ne<=be;){const fe=D[le],Fe=N[be]=ie?cloneIfMounted(N[be]):normalizeVNode(N[be]);if(isSameVNodeType(fe,Fe))v(fe,Fe,H,null,$,J,Q,re,ie);else break;le--,be--}if(ne>le){if(ne<=be){const fe=be+1,Fe=fe<ee?N[fe].el:V;for(;ne<=be;)v(null,N[ne]=ie?cloneIfMounted(N[ne]):normalizeVNode(N[ne]),H,Fe,$,J,Q,re,ie),ne++}}else if(ne>be)for(;ne<=le;)pe(D[ne],$,J,!0),ne++;else{const fe=ne,Fe=ne,K=new Map;for(ne=Fe;ne<=be;ne++){const ve=N[ne]=ie?cloneIfMounted(N[ne]):normalizeVNode(N[ne]);ve.key!=null&&K.set(ve.key,ne)}let L,G=0;const ae=be-Fe+1;let me=!1,Se=0;const Ce=new Array(ae);for(ne=0;ne<ae;ne++)Ce[ne]=0;for(ne=fe;ne<=le;ne++){const ve=D[ne];if(G>=ae){pe(ve,$,J,!0);continue}let ke;if(ve.key!=null)ke=K.get(ve.key);else for(L=Fe;L<=be;L++)if(Ce[L-Fe]===0&&isSameVNodeType(ve,N[L])){ke=L;break}ke===void 0?pe(ve,$,J,!0):(Ce[ke-Fe]=ne+1,ke>=Se?Se=ke:me=!0,v(ve,N[ke],H,null,$,J,Q,re,ie),G++)}const Ie=me?getSequence(Ce):EMPTY_ARR;for(L=Ie.length-1,ne=ae-1;ne>=0;ne--){const ve=Fe+ne,ke=N[ve],Ee=ve+1<ee?N[ve+1].el:V;Ce[ne]===0?v(null,ke,H,Ee,$,J,Q,re,ie):me&&(L<0||ne!==Ie[L]?we(ke,H,Ee,2):L--)}}},we=(D,N,H,V,$=null)=>{const{el:J,type:Q,transition:re,children:ie,shapeFlag:ne}=D;if(ne&6){we(D.component.subTree,N,H,V);return}if(ne&128){D.suspense.move(N,H,V);return}if(ne&64){Q.move(D,N,H,k);return}if(Q===Fragment){a(J,N,H);for(let le=0;le<ie.length;le++)we(ie[le],N,H,V);a(D.anchor,N,H);return}if(Q===Static){E(D,N,H);return}if(V!==2&&ne&1&&re)if(V===0)re.beforeEnter(J),a(J,N,H),queuePostRenderEffect(()=>re.enter(J),$);else{const{leave:le,delayLeave:be,afterLeave:fe}=re,Fe=()=>a(J,N,H),K=()=>{le(J,()=>{Fe(),fe&&fe()})};be?be(J,Fe,K):K()}else a(J,N,H)},pe=(D,N,H,V=!1,$=!1)=>{const{type:J,props:Q,ref:re,children:ie,dynamicChildren:ne,shapeFlag:ee,patchFlag:le,dirs:be}=D;if(re!=null&&setRef(re,null,H,D,!0),ee&256){N.ctx.deactivate(D);return}const fe=ee&1&&be,Fe=!isAsyncWrapper(D);let K;if(Fe&&(K=Q&&Q.onVnodeBeforeUnmount)&&invokeVNodeHook(K,N,D),ee&6)de(D.component,H,V);else{if(ee&128){D.suspense.unmount(H,V);return}fe&&invokeDirectiveHook(D,null,N,"beforeUnmount"),ee&64?D.type.remove(D,N,H,$,k,V):ne&&(J!==Fragment||le>0&&le&64)?ce(ne,N,H,!1,!0):(J===Fragment&&le&384||!$&&ee&16)&&ce(ie,N,H),V&&Te(D)}(Fe&&(K=Q&&Q.onVnodeUnmounted)||fe)&&queuePostRenderEffect(()=>{K&&invokeVNodeHook(K,N,D),fe&&invokeDirectiveHook(D,null,N,"unmounted")},H)},Te=D=>{const{type:N,el:H,anchor:V,transition:$}=D;if(N===Fragment){ge(H,V);return}if(N===Static){T(D);return}const J=()=>{s(H),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(D.shapeFlag&1&&$&&!$.persisted){const{leave:Q,delayLeave:re}=$,ie=()=>Q(H,J);re?re(D.el,J,ie):ie()}else J()},ge=(D,N)=>{let H;for(;D!==N;)H=b(D),s(D),D=H;s(N)},de=(D,N,H)=>{const{bum:V,scope:$,update:J,subTree:Q,um:re}=D;V&&invokeArrayFns(V),$.stop(),J&&(J.active=!1,pe(Q,D,N,H)),re&&queuePostRenderEffect(re,N),queuePostRenderEffect(()=>{D.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},ce=(D,N,H,V=!1,$=!1,J=0)=>{for(let Q=J;Q<D.length;Q++)pe(D[Q],N,H,V,$)},M=D=>D.shapeFlag&6?M(D.component.subTree):D.shapeFlag&128?D.suspense.next():b(D.anchor||D.el),j=(D,N,H)=>{D==null?N._vnode&&pe(N._vnode,null,null,!0):v(N._vnode||null,D,N,null,null,null,H),flushPreFlushCbs(),flushPostFlushCbs(),N._vnode=D},k={p:v,um:pe,m:we,r:Te,mt:ue,mc:z,pc:xe,pbc:W,n:M,o:n};let F,O;return t&&([F,O]=t(k)),{render:j,hydrate:F,createApp:createAppAPI(j,F)}}function toggleRecurse({effect:n,update:t},r){n.allowRecurse=t.allowRecurse=r}function needTransition(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(n,t,r=!1){const a=n.children,s=t.children;if(isArray$1(a)&&isArray$1(s))for(let o=0;o<a.length;o++){const l=a[o];let u=s[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[o]=cloneIfMounted(s[o]),u.el=l.el),r||traverseStaticChildren(l,u)),u.type===Text$1&&(u.el=l.el)}}function getSequence(n){const t=n.slice(),r=[0];let a,s,o,l,u;const d=n.length;for(a=0;a<d;a++){const f=n[a];if(f!==0){if(s=r[r.length-1],n[s]<f){t[a]=s,r.push(a);continue}for(o=0,l=r.length-1;o<l;)u=o+l>>1,n[r[u]]<f?o=u+1:l=u;f<n[r[o]]&&(o>0&&(t[a]=r[o-1]),r[o]=a)}}for(o=r.length,l=r[o-1];o-- >0;)r[o]=l,l=t[l];return r}const isTeleport=n=>n.__isTeleport,Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,t,r,a,s,o){return setupBlock(createBaseVNode(n,t,r,a,s,o,!0))}function createBlock(n,t,r,a,s){return setupBlock(createVNode(n,t,r,a,s,!0))}function isVNode(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,t){return n.type===t.type&&n.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:n})=>n??null,normalizeRef=({ref:n,ref_key:t,ref_for:r})=>(typeof n=="number"&&(n=""+n),n!=null?isString(n)||isRef(n)||isFunction$1(n)?{i:currentRenderingInstance,r:n,k:t,f:!!r}:n:null);function createBaseVNode(n,t=null,r=null,a=0,s=null,o=n===Fragment?0:1,l=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(d,r),o&128&&n.normalize(d)):r&&(d.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(n,t=null,r=null,a=0,s=null,o=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n=Comment),isVNode(n)){const u=cloneVNode(n,t,!0);return r&&normalizeChildren(u,r),isBlockTreeEnabled>0&&!o&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(n)]=u:currentBlock.push(u)),u.patchFlag|=-2,u}if(isClassComponent(n)&&(n=n.__vccOpts),t){t=guardReactiveProps(t);let{class:u,style:d}=t;u&&!isString(u)&&(t.class=normalizeClass(u)),isObject(d)&&(isProxy(d)&&!isArray$1(d)&&(d=extend({},d)),t.style=normalizeStyle(d))}const l=isString(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject(n)?4:isFunction$1(n)?2:0;return createBaseVNode(n,t,r,a,s,l,o,!0)}function guardReactiveProps(n){return n?isProxy(n)||InternalObjectKey in n?extend({},n):n:null}function cloneVNode(n,t,r=!1){const{props:a,ref:s,patchFlag:o,children:l}=n,u=t?mergeProps(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&normalizeKey(u),ref:t&&t.ref?r&&s?isArray$1(s)?s.concat(normalizeRef(t)):[s,normalizeRef(t)]:normalizeRef(t):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Fragment?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function createTextVNode(n=" ",t=0){return createVNode(Text$1,null,n,t)}function createCommentVNode(n="",t=!1){return t?(openBlock(),createBlock(Comment,null,n)):createVNode(Comment,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment):isArray$1(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text$1,null,String(n))}function cloneIfMounted(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:cloneVNode(n)}function normalizeChildren(n,t){let r=0;const{shapeFlag:a}=n;if(t==null)t=null;else if(isArray$1(t))r=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(n,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),a&64?(r=16,t=[createTextVNode(t)]):r=8);n.children=t,n.shapeFlag|=r}function mergeProps(...n){const t={};for(let r=0;r<n.length;r++){const a=n[r];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=normalizeClass([t.class,a.class]));else if(s==="style")t.style=normalizeStyle([t.style,a.style]);else if(isOn(s)){const o=t[s],l=a[s];l&&o!==l&&!(isArray$1(o)&&o.includes(l))&&(t[s]=o?[].concat(o,l):l)}else s!==""&&(t[s]=a[s])}return t}function invokeVNodeHook(n,t,r,a=null){callWithAsyncErrorHandling(n,t,7,[r,a])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(n,t,r){const a=n.type,s=(t?t.appContext:n.appContext)||emptyAppContext,o={uid:uid$2++,vnode:n,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,s),emitsOptions:normalizeEmitsOptions(a,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),n.ce&&n.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(n=>currentInstance=n),internalSetCurrentInstance=n=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(n)):globalCurrentInstanceSetters[0](n)};const setCurrentInstance=n=>{internalSetCurrentInstance(n),n.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(n){return n.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(n,t=!1){isInSSRComponentSetup=t;const{props:r,children:a}=n.vnode,s=isStatefulComponent(n);initProps(n,r,s,t),initSlots(n,a);const o=s?setupStatefulComponent(n,t):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(n,t){const r=n.type;n.accessCache=Object.create(null),n.proxy=markRaw(new Proxy(n.ctx,PublicInstanceProxyHandlers));const{setup:a}=r;if(a){const s=n.setupContext=a.length>1?createSetupContext(n):null;setCurrentInstance(n),pauseTracking();const o=callWithErrorHandling(a,n,0,[n.props,s]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then(l=>{handleSetupResult(n,l,t)}).catch(l=>{handleError(l,n,0)});n.asyncDep=o}else handleSetupResult(n,o,t)}else finishComponentSetup(n,t)}function handleSetupResult(n,t,r){isFunction$1(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:isObject(t)&&(n.setupState=proxyRefs(t)),finishComponentSetup(n,r)}let compile;function finishComponentSetup(n,t,r){const a=n.type;if(!n.render){if(!t&&compile&&!a.render){const s=a.template||resolveMergedOptions(n).template;if(s){const{isCustomElement:o,compilerOptions:l}=n.appContext.config,{delimiters:u,compilerOptions:d}=a,f=extend(extend({isCustomElement:o,delimiters:u},l),d);a.render=compile(s,f)}}n.render=a.render||NOOP$1}{setCurrentInstance(n),pauseTracking();try{applyOptions(n)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(t,r){return track(n,"get","$attrs"),t[r]}}))}function createSetupContext(n){const t=r=>{n.exposed=r||{}};return{get attrs(){return getAttrsProxy(n)},slots:n.slots,emit:n.emit,expose:t}}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](n)},has(t,r){return r in t||r in publicPropertiesMap}}))}function getComponentName(n,t=!0){return isFunction$1(n)?n.displayName||n.name:n.name||t&&n.__name}function isClassComponent(n){return isFunction$1(n)&&"__vccOpts"in n}const computed=(n,t)=>computed$1(n,t,isInSSRComponentSetup);function h(n,t,r){const a=arguments.length;return a===2?isObject(t)&&!isArray$1(t)?isVNode(t)?createVNode(n,null,[t]):createVNode(n,t):createVNode(n,null,t):(a>3?r=Array.prototype.slice.call(arguments,2):a===3&&isVNode(r)&&(r=[r]),createVNode(n,t,r))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.13",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(n,t,r)=>{t.insertBefore(n,r||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,r,a)=>{const s=t?doc.createElementNS(svgNS,n):doc.createElement(n,r?{is:r}:void 0);return n==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:n=>doc.createTextNode(n),createComment:n=>doc.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,r,a,s,o){const l=r?r.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===o||!(s=s.nextSibling)););else{templateContainer.innerHTML=a?`<svg>${n}</svg>`:n;const u=templateContainer.content;if(a){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}t.insertBefore(u,r)}return[l?l.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(n,t,r){const a=n[vtcKey];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?n.removeAttribute("class"):r?n.setAttribute("class",t):n.className=t}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(n,{value:t},{transition:r}){n[vShowOldKey]=n.style.display==="none"?"":n.style.display,r&&t?r.beforeEnter(n):setDisplay(n,t)},mounted(n,{value:t},{transition:r}){r&&t&&r.enter(n)},updated(n,{value:t,oldValue:r},{transition:a}){!t!=!r&&(a?t?(a.beforeEnter(n),setDisplay(n,!0),a.enter(n)):a.leave(n,()=>{setDisplay(n,!1)}):setDisplay(n,t))},beforeUnmount(n,{value:t}){setDisplay(n,t)}};function setDisplay(n,t){n.style.display=t?n[vShowOldKey]:"none"}const CSS_VAR_TEXT=Symbol("");function useCssVars(n){const t=getCurrentInstance();if(!t)return;const r=t.ut=(s=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>setVarsOnNode(o,s))},a=()=>{const s=n(t.proxy);setVarsOnVNode(t.subTree,s),r(s)};watchPostEffect(a),onMounted(()=>{const s=new MutationObserver(a);s.observe(t.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>s.disconnect())})}function setVarsOnVNode(n,t){if(n.shapeFlag&128){const r=n.suspense;n=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)setVarsOnNode(n.el,t);else if(n.type===Fragment)n.children.forEach(r=>setVarsOnVNode(r,t));else if(n.type===Static){let{el:r,anchor:a}=n;for(;r&&(setVarsOnNode(r,t),r!==a);)r=r.nextSibling}}function setVarsOnNode(n,t){if(n.nodeType===1){const r=n.style;let a="";for(const s in t)r.setProperty(`--${s}`,t[s]),a+=`--${s}: ${t[s]};`;r[CSS_VAR_TEXT]=a}}function patchStyle(n,t,r){const a=n.style,s=isString(r);if(r&&!s){if(t&&!isString(t))for(const o in t)r[o]==null&&setStyle(a,o,"");for(const o in r)setStyle(a,o,r[o])}else{const o=a.display;if(s){if(t!==r){const l=a[CSS_VAR_TEXT];l&&(r+=";"+l),a.cssText=r}}else t&&n.removeAttribute("style");vShowOldKey in n&&(a.display=o)}}const importantRE=/\s*!important$/;function setStyle(n,t,r){if(isArray$1(r))r.forEach(a=>setStyle(n,t,a));else if(r==null&&(r=""),t.startsWith("--"))n.setProperty(t,r);else{const a=autoPrefix(n,t);importantRE.test(r)?n.setProperty(hyphenate(a),r.replace(importantRE,""),"important"):n[a]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,t){const r=prefixCache[t];if(r)return r;let a=camelize(t);if(a!=="filter"&&a in n)return prefixCache[t]=a;a=capitalize(a);for(let s=0;s<prefixes.length;s++){const o=prefixes[s]+a;if(o in n)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,t,r,a,s){if(a&&t.startsWith("xlink:"))r==null?n.removeAttributeNS(xlinkNS,t.slice(6,t.length)):n.setAttributeNS(xlinkNS,t,r);else{const o=isSpecialBooleanAttr(t);r==null||o&&!includeBooleanAttr(r)?n.removeAttribute(t):n.setAttribute(t,o?"":r)}}function patchDOMProp(n,t,r,a,s,o,l){if(t==="innerHTML"||t==="textContent"){a&&l(a,s,o),n[t]=r??"";return}const u=n.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){n._value=r;const f=u==="OPTION"?n.getAttribute("value"):n.value,g=r??"";f!==g&&(n.value=g),r==null&&n.removeAttribute(t);return}let d=!1;if(r===""||r==null){const f=typeof n[t];f==="boolean"?r=includeBooleanAttr(r):r==null&&f==="string"?(r="",d=!0):f==="number"&&(r=0,d=!0)}try{n[t]=r}catch{}d&&n.removeAttribute(t)}function addEventListener(n,t,r,a){n.addEventListener(t,r,a)}function removeEventListener(n,t,r,a){n.removeEventListener(t,r,a)}const veiKey=Symbol("_vei");function patchEvent(n,t,r,a,s=null){const o=n[veiKey]||(n[veiKey]={}),l=o[t];if(a&&l)l.value=a;else{const[u,d]=parseName(t);if(a){const f=o[t]=createInvoker(a,s);addEventListener(n,u,f,d)}else l&&(removeEventListener(n,u,l,d),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let t;if(optionsModifierRE.test(n)){t={};let a;for(;a=n.match(optionsModifierRE);)n=n.slice(0,n.length-a[0].length),t[a[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hyphenate(n.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(n,t){const r=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(a,r.value),t,5,[a])};return r.value=n,r.attached=getNow(),r}function patchStopImmediatePropagation(n,t){if(isArray$1(t)){const r=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{r.call(n),n._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const isNativeOn=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,patchProp=(n,t,r,a,s=!1,o,l,u,d)=>{t==="class"?patchClass(n,a,s):t==="style"?patchStyle(n,r,a):isOn(t)?isModelListener(t)||patchEvent(n,t,r,a,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(n,t,a,s))?patchDOMProp(n,t,a,o,l,u,d):(t==="true-value"?n._trueValue=a:t==="false-value"&&(n._falseValue=a),patchAttr(n,t,a,s))};function shouldSetAsProp(n,t,r,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in n&&isNativeOn(t)&&isFunction$1(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(t)&&isString(r)?!1:t in n}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>systemModifiers.some(r=>n[`${r}Key`]&&!t.includes(r))},withModifiers=(n,t)=>{const r=n._withMods||(n._withMods={}),a=t.join(".");return r[a]||(r[a]=(s,...o)=>{for(let l=0;l<t.length;l++){const u=modifierGuards[t[l]];if(u&&u(s,t))return}return n(s,...o)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(n,t)=>{const r=n._withKeys||(n._withKeys={}),a=t.join(".");return r[a]||(r[a]=s=>{if(!("key"in s))return;const o=hyphenate(s.key);if(t.some(l=>l===o||keyNames[l]===o))return n(s)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...n)=>{const t=ensureRenderer().createApp(...n),{mount:r}=t;return t.mount=a=>{const s=normalizeContainer(a);if(!s)return;const o=t._component;!isFunction$1(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function normalizeContainer(n){return isString(n)?document.querySelector(n):n}const _export_sfc=(n,t)=>{const r=n.__vccOpts||n;for(const[a,s]of t)r[a]=s;return r},_hoisted_1$d={class:"flex-row",ondragstart:"return false"},_sfc_main$f={__name:"App",setup(n){const t=function(r){document.getElementsByClassName("nav-link")};return document.addEventListener("DOMContentLoaded",()=>{(()=>{const a=document.querySelector("header");window.addEventListener("scroll",()=>{const s=()=>a.classList.contains("header_hidden");window.scrollY>0&&!s()&&a.classList.add("header_hidden"),window.scrollY===0&&s()&&a.classList.remove("header_hidden")})})()}),(r,a)=>{const s=resolveComponent("router-link"),o=resolveComponent("router-view");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("header",_hoisted_1$d,[createVNode(s,{to:{path:"/signer/home"},class:"nav-link",onClick:t,textContent:"На главную"}),createVNode(s,{to:{path:"/signer/detached"},class:"nav-link",onClick:t,textContent:"Открепленная подпись"}),createVNode(s,{to:{path:"/signer/signing-with-view"},class:"nav-link",onClick:t,textContent:"Подпись с визуализацией"}),createVNode(s,{to:{path:"/signer/check-sign"},class:"nav-link",onClick:t,textContent:"Проверить подпись"})]),createVNode(o)],64)}}},App=_export_sfc(_sfc_main$f,[["__scopeId","data-v-2e188bee"]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const assign$1=Object.assign;function applyToParams(n,t){const r={};for(const a in t){const s=t[a];r[a]=isArray(s)?s.map(n):n(s)}return r}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=n=>n.replace(TRAILING_SLASH_RE,"");function parseURL(n,t,r="/"){let a,s={},o="",l="";const u=t.indexOf("#");let d=t.indexOf("?");return u<d&&u>=0&&(d=-1),d>-1&&(a=t.slice(0,d),o=t.slice(d+1,u>-1?u:t.length),s=n(o)),u>-1&&(a=a||t.slice(0,u),l=t.slice(u,t.length)),a=resolveRelativePath(a??t,r),{fullPath:a+(o&&"?")+o+l,path:a,query:s,hash:l}}function stringifyURL(n,t){const r=t.query?n(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function stripBase(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function isSameRouteLocation(n,t,r){const a=t.matched.length-1,s=r.matched.length-1;return a>-1&&a===s&&isSameRouteRecord(t.matched[a],r.matched[s])&&isSameRouteLocationParams(t.params,r.params)&&n(t.query)===n(r.query)&&t.hash===r.hash}function isSameRouteRecord(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function isSameRouteLocationParams(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(!isSameRouteLocationParamsValue(n[r],t[r]))return!1;return!0}function isSameRouteLocationParamsValue(n,t){return isArray(n)?isEquivalentArray(n,t):isArray(t)?isEquivalentArray(t,n):n===t}function isEquivalentArray(n,t){return isArray(t)?n.length===t.length&&n.every((r,a)=>r===t[a]):n.length===1&&n[0]===t}function resolveRelativePath(n,t){if(n.startsWith("/"))return n;if(!n)return t;const r=t.split("/"),a=n.split("/"),s=a[a.length-1];(s===".."||s===".")&&a.push("");let o=r.length-1,l,u;for(l=0;l<a.length;l++)if(u=a[l],u!==".")if(u==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+a.slice(l-(l===a.length?1:0)).join("/")}var NavigationType;(function(n){n.pop="pop",n.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(n){n.back="back",n.forward="forward",n.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(n){if(!n)if(isBrowser){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),removeTrailingSlash(n)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(n,t){return n.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(n,t){const r=document.documentElement.getBoundingClientRect(),a=n.getBoundingClientRect();return{behavior:t.behavior,left:a.left-r.left-(t.left||0),top:a.top-r.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(n){let t;if("el"in n){const r=n.el,a=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?a?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=getElementPosition(s,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(n,t){return(history.state?history.state.position-t:-1)+n}const scrollPositions=new Map;function saveScrollPosition(n,t){scrollPositions.set(n,t)}function getSavedScrollPosition(n){const t=scrollPositions.get(n);return scrollPositions.delete(n),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(n,t){const{pathname:r,search:a,hash:s}=t,o=n.indexOf("#");if(o>-1){let u=s.includes(n.slice(o))?n.slice(o).length:1,d=s.slice(u);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(r,n)+a+s}function useHistoryListeners(n,t,r,a){let s=[],o=[],l=null;const u=({state:b})=>{const m=createCurrentLocation(n,location),y=r.value,v=t.value;let w=0;if(b){if(r.value=m,t.value=b,l&&l===y){l=null;return}w=v?b.position-v.position:0}else a(m);s.forEach(S=>{S(r.value,y,{delta:w,type:NavigationType.pop,direction:w?w>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){l=r.value}function f(b){s.push(b);const m=()=>{const y=s.indexOf(b);y>-1&&s.splice(y,1)};return o.push(m),m}function g(){const{history:b}=window;b.state&&b.replaceState(assign$1({},b.state,{scroll:computeScrollPosition()}),"")}function x(){for(const b of o)b();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:d,listen:f,destroy:x}}function buildState(n,t,r,a=!1,s=!1){return{back:n,current:t,forward:r,replaced:a,position:window.history.length,scroll:s?computeScrollPosition():null}}function useHistoryStateNavigation(n){const{history:t,location:r}=window,a={value:createCurrentLocation(n,r)},s={value:t.state};s.value||o(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(d,f,g){const x=n.indexOf("#"),b=x>-1?(r.host&&document.querySelector("base")?n:n.slice(x))+d:createBaseLocation()+n+d;try{t[g?"replaceState":"pushState"](f,"",b),s.value=f}catch(m){console.error(m),r[g?"replace":"assign"](b)}}function l(d,f){const g=assign$1({},t.state,buildState(s.value.back,d,s.value.forward,!0),f,{position:s.value.position});o(d,g,!0),a.value=d}function u(d,f){const g=assign$1({},s.value,t.state,{forward:d,scroll:computeScrollPosition()});o(g.current,g,!0);const x=assign$1({},buildState(a.value,d,null),{position:g.position+1},f);o(d,x,!1),a.value=d}return{location:a,state:s,push:u,replace:l}}function createWebHistory(n){n=normalizeBase(n);const t=useHistoryStateNavigation(n),r=useHistoryListeners(n,t.state,t.location,t.replace);function a(o,l=!0){l||r.pauseListeners(),history.go(o)}const s=assign$1({location:"",base:n,go:a,createHref:createHref.bind(null,n)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function isRouteLocation(n){return typeof n=="string"||n&&typeof n=="object"}function isRouteName(n){return typeof n=="string"||typeof n=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(n,t){return assign$1(new Error,{type:n,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(n,t){return n instanceof Error&&NavigationFailureSymbol in n&&(t==null||!!(n.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(n,t){const r=assign$1({},BASE_PATH_PARSER_OPTIONS,t),a=[];let s=r.start?"^":"";const o=[];for(const f of n){const g=f.length?[]:[90];r.strict&&!f.length&&(s+="/");for(let x=0;x<f.length;x++){const b=f[x];let m=40+(r.sensitive?.25:0);if(b.type===0)x||(s+="/"),s+=b.value.replace(REGEX_CHARS_RE,"\\$&"),m+=40;else if(b.type===1){const{value:y,repeatable:v,optional:w,regexp:S}=b;o.push({name:y,repeatable:v,optional:w});const C=S||BASE_PARAM_PATTERN;if(C!==BASE_PARAM_PATTERN){m+=10;try{new RegExp(`(${C})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${y}" (${C}): `+T.message)}}let E=v?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;x||(E=w&&f.length<2?`(?:/${E})`:"/"+E),w&&(E+="?"),s+=E,m+=20,w&&(m+=-8),v&&(m+=-20),C===".*"&&(m+=-50)}g.push(m)}a.push(g)}if(r.strict&&r.end){const f=a.length-1;a[f][a[f].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const l=new RegExp(s,r.sensitive?"":"i");function u(f){const g=f.match(l),x={};if(!g)return null;for(let b=1;b<g.length;b++){const m=g[b]||"",y=o[b-1];x[y.name]=m&&y.repeatable?m.split("/"):m}return x}function d(f){let g="",x=!1;for(const b of n){(!x||!g.endsWith("/"))&&(g+="/"),x=!1;for(const m of b)if(m.type===0)g+=m.value;else if(m.type===1){const{value:y,repeatable:v,optional:w}=m,S=y in f?f[y]:"";if(isArray(S)&&!v)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const C=isArray(S)?S.join("/"):S;if(!C)if(w)b.length<2&&(g.endsWith("/")?g=g.slice(0,-1):x=!0);else throw new Error(`Missing required param "${y}"`);g+=C}}return g||"/"}return{re:l,score:a,keys:o,parse:u,stringify:d}}function compareScoreArray(n,t){let r=0;for(;r<n.length&&r<t.length;){const a=t[r]-n[r];if(a)return a;r++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function comparePathParserScore(n,t){let r=0;const a=n.score,s=t.score;for(;r<a.length&&r<s.length;){const o=compareScoreArray(a[r],s[r]);if(o)return o;r++}if(Math.abs(s.length-a.length)===1){if(isLastScoreNegative(a))return 1;if(isLastScoreNegative(s))return-1}return s.length-a.length}function isLastScoreNegative(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(n){if(!n)return[[]];if(n==="/")return[[ROOT_TOKEN]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(m){throw new Error(`ERR (${r})/"${f}": ${m}`)}let r=0,a=r;const s=[];let o;function l(){o&&s.push(o),o=[]}let u=0,d,f="",g="";function x(){f&&(r===0?o.push({type:0,value:f}):r===1||r===2||r===3?(o.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),f="")}function b(){f+=d}for(;u<n.length;){if(d=n[u++],d==="\\"&&r!==2){a=r,r=4;continue}switch(r){case 0:d==="/"?(f&&x(),l()):d===":"?(x(),r=1):b();break;case 4:b(),r=a;break;case 1:d==="("?r=2:VALID_PARAM_RE.test(d)?b():(x(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&u--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:r=3:g+=d;break;case 3:x(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&u--,g="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${f}"`),x(),l(),s}function createRouteRecordMatcher(n,t,r){const a=tokensToParser(tokenizePath(n.path),r),s=assign$1(a,{record:n,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function createRouterMatcher(n,t){const r=[],a=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function s(g){return a.get(g)}function o(g,x,b){const m=!b,y=normalizeRouteRecord(g);y.aliasOf=b&&b.record;const v=mergeOptions(t,g),w=[y];if("alias"in g){const E=typeof g.alias=="string"?[g.alias]:g.alias;for(const T of E)w.push(assign$1({},y,{components:b?b.record.components:y.components,path:T,aliasOf:b?b.record:y}))}let S,C;for(const E of w){const{path:T}=E;if(x&&T[0]!=="/"){const _=x.record.path,R=_[_.length-1]==="/"?"":"/";E.path=x.record.path+(T&&R+T)}if(S=createRouteRecordMatcher(E,x,v),b?b.alias.push(S):(C=C||S,C!==S&&C.alias.push(S),m&&g.name&&!isAliasRecord(S)&&l(g.name)),y.children){const _=y.children;for(let R=0;R<_.length;R++)o(_[R],S,b&&b.children[R])}b=b||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&d(S)}return C?()=>{l(C)}:noop}function l(g){if(isRouteName(g)){const x=a.get(g);x&&(a.delete(g),r.splice(r.indexOf(x),1),x.children.forEach(l),x.alias.forEach(l))}else{const x=r.indexOf(g);x>-1&&(r.splice(x,1),g.record.name&&a.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function u(){return r}function d(g){let x=0;for(;x<r.length&&comparePathParserScore(g,r[x])>=0&&(g.record.path!==r[x].record.path||!isRecordChildOf(g,r[x]));)x++;r.splice(x,0,g),g.record.name&&!isAliasRecord(g)&&a.set(g.record.name,g)}function f(g,x){let b,m={},y,v;if("name"in g&&g.name){if(b=a.get(g.name),!b)throw createRouterError(1,{location:g});v=b.record.name,m=assign$1(paramsFromLocation(x.params,b.keys.filter(C=>!C.optional).map(C=>C.name)),g.params&&paramsFromLocation(g.params,b.keys.map(C=>C.name))),y=b.stringify(m)}else if("path"in g)y=g.path,b=r.find(C=>C.re.test(y)),b&&(m=b.parse(y),v=b.record.name);else{if(b=x.name?a.get(x.name):r.find(C=>C.re.test(x.path)),!b)throw createRouterError(1,{location:g,currentLocation:x});v=b.record.name,m=assign$1({},x.params,g.params),y=b.stringify(m)}const w=[];let S=b;for(;S;)w.unshift(S.record),S=S.parent;return{name:v,path:y,params:m,matched:w,meta:mergeMetaFields(w)}}return n.forEach(g=>o(g)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:u,getRecordMatcher:s}}function paramsFromLocation(n,t){const r={};for(const a of t)a in n&&(r[a]=n[a]);return r}function normalizeRouteRecord(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:normalizeRecordProps(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function normalizeRecordProps(n){const t={},r=n.props||!1;if("component"in n)t.default=r;else for(const a in n.components)t[a]=typeof r=="object"?r[a]:r;return t}function isAliasRecord(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function mergeMetaFields(n){return n.reduce((t,r)=>assign$1(t,r.meta),{})}function mergeOptions(n,t){const r={};for(const a in n)r[a]=a in t?t[a]:n[a];return r}function isRecordChildOf(n,t){return t.children.some(r=>r===n||isRecordChildOf(n,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(n){return encodeURI(""+n).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(n){return commonEncode(n).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(n){return commonEncode(n).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(n){return encodeQueryValue(n).replace(EQUAL_RE,"%3D")}function encodePath(n){return commonEncode(n).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(n){return n==null?"":encodePath(n).replace(SLASH_RE,"%2F")}function decode(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function parseQuery(n){const t={};if(n===""||n==="?")return t;const a=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<a.length;++s){const o=a[s].replace(PLUS_RE," "),l=o.indexOf("="),u=decode(l<0?o:o.slice(0,l)),d=l<0?null:decode(o.slice(l+1));if(u in t){let f=t[u];isArray(f)||(f=t[u]=[f]),f.push(d)}else t[u]=d}return t}function stringifyQuery(n){let t="";for(let r in n){const a=n[r];if(r=encodeQueryKey(r),a==null){a!==void 0&&(t+=(t.length?"&":"")+r);continue}(isArray(a)?a.map(o=>o&&encodeQueryValue(o)):[a&&encodeQueryValue(a)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function normalizeQuery(n){const t={};for(const r in n){const a=n[r];a!==void 0&&(t[r]=isArray(a)?a.map(s=>s==null?null:""+s):a==null?a:""+a)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let n=[];function t(a){return n.push(a),()=>{const s=n.indexOf(a);s>-1&&n.splice(s,1)}}function r(){n=[]}return{add:t,list:()=>n.slice(),reset:r}}function guardToPromiseFn(n,t,r,a,s){const o=a&&(a.enterCallbacks[s]=a.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const d=x=>{x===!1?u(createRouterError(4,{from:r,to:t})):x instanceof Error?u(x):isRouteLocation(x)?u(createRouterError(2,{from:t,to:x})):(o&&a.enterCallbacks[s]===o&&typeof x=="function"&&o.push(x),l())},f=n.call(a&&a.instances[s],t,r,d);let g=Promise.resolve(f);n.length<3&&(g=g.then(d)),g.catch(x=>u(x))})}function extractComponentsGuards(n,t,r,a){const s=[];for(const o of n)for(const l in o.components){let u=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(isRouteComponent(u)){const f=(u.__vccOpts||u)[t];f&&s.push(guardToPromiseFn(f,r,a,o,l))}else{let d=u();s.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const g=isESModule(f)?f.default:f;o.components[l]=g;const b=(g.__vccOpts||g)[t];return b&&guardToPromiseFn(b,r,a,o,l)()}))}}return s}function isRouteComponent(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function useLink(n){const t=inject(routerKey),r=inject(routeLocationKey),a=computed(()=>t.resolve(unref(n.to))),s=computed(()=>{const{matched:d}=a.value,{length:f}=d,g=d[f-1],x=r.matched;if(!g||!x.length)return-1;const b=x.findIndex(isSameRouteRecord.bind(null,g));if(b>-1)return b;const m=getOriginalPath(d[f-2]);return f>1&&getOriginalPath(g)===m&&x[x.length-1].path!==m?x.findIndex(isSameRouteRecord.bind(null,d[f-2])):b}),o=computed(()=>s.value>-1&&includesParams(r.params,a.value.params)),l=computed(()=>s.value>-1&&s.value===r.matched.length-1&&isSameRouteLocationParams(r.params,a.value.params));function u(d={}){return guardEvent(d)?t[unref(n.replace)?"replace":"push"](unref(n.to)).catch(noop):Promise.resolve()}return{route:a,href:computed(()=>a.value.href),isActive:o,isExactActive:l,navigate:u}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(n,{slots:t}){const r=reactive(useLink(n)),{options:a}=inject(routerKey),s=computed(()=>({[getLinkClass(n.activeClass,a.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(n.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&t.default(r);return n.custom?o:h("a",{"aria-current":r.isExactActive?n.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function includesParams(n,t){for(const r in t){const a=t[r],s=n[r];if(typeof a=="string"){if(a!==s)return!1}else if(!isArray(s)||s.length!==a.length||a.some((o,l)=>o!==s[l]))return!1}return!0}function getOriginalPath(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const getLinkClass=(n,t,r)=>n??t??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:r}){const a=inject(routerViewLocationKey),s=computed(()=>n.route||a.value),o=inject(viewDepthKey,0),l=computed(()=>{let f=unref(o);const{matched:g}=s.value;let x;for(;(x=g[f])&&!x.components;)f++;return f}),u=computed(()=>s.value.matched[l.value]);provide(viewDepthKey,computed(()=>l.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,s);const d=ref();return watch(()=>[d.value,u.value,n.name],([f,g,x],[b,m,y])=>{g&&(g.instances[x]=f,m&&m!==g&&f&&f===b&&(g.leaveGuards.size||(g.leaveGuards=m.leaveGuards),g.updateGuards.size||(g.updateGuards=m.updateGuards))),f&&g&&(!m||!isSameRouteRecord(g,m)||!b)&&(g.enterCallbacks[x]||[]).forEach(v=>v(f))},{flush:"post"}),()=>{const f=s.value,g=n.name,x=u.value,b=x&&x.components[g];if(!b)return normalizeSlot(r.default,{Component:b,route:f});const m=x.props[g],y=m?m===!0?f.params:typeof m=="function"?m(f):m:null,w=h(b,assign$1({},y,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(x.instances[g]=null)},ref:d}));return normalizeSlot(r.default,{Component:w,route:f})||w}}});function normalizeSlot(n,t){if(!n)return null;const r=n(t);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(n){const t=createRouterMatcher(n.routes,n),r=n.parseQuery||parseQuery,a=n.stringifyQuery||stringifyQuery,s=n.history,o=useCallbacks(),l=useCallbacks(),u=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=applyToParams.bind(null,M=>""+M),x=applyToParams.bind(null,encodeParam),b=applyToParams.bind(null,decode);function m(M,j){let k,F;return isRouteName(M)?(k=t.getRecordMatcher(M),F=j):F=M,t.addRoute(F,k)}function y(M){const j=t.getRecordMatcher(M);j&&t.removeRoute(j)}function v(){return t.getRoutes().map(M=>M.record)}function w(M){return!!t.getRecordMatcher(M)}function S(M,j){if(j=assign$1({},j||d.value),typeof M=="string"){const H=parseURL(r,M,j.path),V=t.resolve({path:H.path},j),$=s.createHref(H.fullPath);return assign$1(H,V,{params:b(V.params),hash:decode(H.hash),redirectedFrom:void 0,href:$})}let k;if("path"in M)k=assign$1({},M,{path:parseURL(r,M.path,j.path).path});else{const H=assign$1({},M.params);for(const V in H)H[V]==null&&delete H[V];k=assign$1({},M,{params:x(H)}),j.params=x(j.params)}const F=t.resolve(k,j),O=M.hash||"";F.params=g(b(F.params));const D=stringifyURL(a,assign$1({},M,{hash:encodeHash(O),path:F.path})),N=s.createHref(D);return assign$1({fullPath:D,hash:O,query:a===stringifyQuery?normalizeQuery(M.query):M.query||{}},F,{redirectedFrom:void 0,href:N})}function C(M){return typeof M=="string"?parseURL(r,M,d.value.path):assign$1({},M)}function E(M,j){if(f!==M)return createRouterError(8,{from:j,to:M})}function T(M){return U(M)}function _(M){return T(assign$1(C(M),{replace:!0}))}function R(M){const j=M.matched[M.matched.length-1];if(j&&j.redirect){const{redirect:k}=j;let F=typeof k=="function"?k(M):k;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=C(F):{path:F},F.params={}),assign$1({query:M.query,hash:M.hash,params:"path"in F?{}:M.params},F)}}function U(M,j){const k=f=S(M),F=d.value,O=M.state,D=M.force,N=M.replace===!0,H=R(k);if(H)return U(assign$1(C(H),{state:typeof H=="object"?assign$1({},O,H.state):O,force:D,replace:N}),j||k);const V=k;V.redirectedFrom=j;let $;return!D&&isSameRouteLocation(a,F,k)&&($=createRouterError(16,{to:V,from:F}),we(F,F,!0,!1)),($?Promise.resolve($):W(V,F)).catch(J=>isNavigationFailure(J)?isNavigationFailure(J,2)?J:Ae(J):xe(J,V,F)).then(J=>{if(J){if(isNavigationFailure(J,2))return U(assign$1({replace:N},C(J.to),{state:typeof J.to=="object"?assign$1({},O,J.to.state):O,force:D}),j||V)}else J=se(V,F,!0,N,O);return Y(V,F,J),J})}function z(M,j){const k=E(M,j);return k?Promise.reject(k):Promise.resolve()}function X(M){const j=ge.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(M):M()}function W(M,j){let k;const[F,O,D]=extractChangingRecords(M,j);k=extractComponentsGuards(F.reverse(),"beforeRouteLeave",M,j);for(const H of F)H.leaveGuards.forEach(V=>{k.push(guardToPromiseFn(V,M,j))});const N=z.bind(null,M,j);return k.push(N),ce(k).then(()=>{k=[];for(const H of o.list())k.push(guardToPromiseFn(H,M,j));return k.push(N),ce(k)}).then(()=>{k=extractComponentsGuards(O,"beforeRouteUpdate",M,j);for(const H of O)H.updateGuards.forEach(V=>{k.push(guardToPromiseFn(V,M,j))});return k.push(N),ce(k)}).then(()=>{k=[];for(const H of D)if(H.beforeEnter)if(isArray(H.beforeEnter))for(const V of H.beforeEnter)k.push(guardToPromiseFn(V,M,j));else k.push(guardToPromiseFn(H.beforeEnter,M,j));return k.push(N),ce(k)}).then(()=>(M.matched.forEach(H=>H.enterCallbacks={}),k=extractComponentsGuards(D,"beforeRouteEnter",M,j),k.push(N),ce(k))).then(()=>{k=[];for(const H of l.list())k.push(guardToPromiseFn(H,M,j));return k.push(N),ce(k)}).catch(H=>isNavigationFailure(H,8)?H:Promise.reject(H))}function Y(M,j,k){u.list().forEach(F=>X(()=>F(M,j,k)))}function se(M,j,k,F,O){const D=E(M,j);if(D)return D;const N=j===START_LOCATION_NORMALIZED,H=isBrowser?history.state:{};k&&(F||N?s.replace(M.fullPath,assign$1({scroll:N&&H&&H.scroll},O)):s.push(M.fullPath,O)),d.value=M,we(M,j,k,N),Ae()}let oe;function ue(){oe||(oe=s.listen((M,j,k)=>{if(!de.listening)return;const F=S(M),O=R(F);if(O){U(assign$1(O,{replace:!0}),F).catch(noop);return}f=F;const D=d.value;isBrowser&&saveScrollPosition(getScrollKey(D.fullPath,k.delta),computeScrollPosition()),W(F,D).catch(N=>isNavigationFailure(N,12)?N:isNavigationFailure(N,2)?(U(N.to,F).then(H=>{isNavigationFailure(H,20)&&!k.delta&&k.type===NavigationType.pop&&s.go(-1,!1)}).catch(noop),Promise.reject()):(k.delta&&s.go(-k.delta,!1),xe(N,F,D))).then(N=>{N=N||se(F,D,!1),N&&(k.delta&&!isNavigationFailure(N,8)?s.go(-k.delta,!1):k.type===NavigationType.pop&&isNavigationFailure(N,20)&&s.go(-1,!1)),Y(F,D,N)}).catch(noop)}))}let Z=useCallbacks(),te=useCallbacks(),he;function xe(M,j,k){Ae(M);const F=te.list();return F.length?F.forEach(O=>O(M,j,k)):console.error(M),Promise.reject(M)}function ye(){return he&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((M,j)=>{Z.add([M,j])})}function Ae(M){return he||(he=!M,ue(),Z.list().forEach(([j,k])=>M?k(M):j()),Z.reset()),M}function we(M,j,k,F){const{scrollBehavior:O}=n;if(!isBrowser||!O)return Promise.resolve();const D=!k&&getSavedScrollPosition(getScrollKey(M.fullPath,0))||(F||!k)&&history.state&&history.state.scroll||null;return nextTick().then(()=>O(M,j,D)).then(N=>N&&scrollToPosition(N)).catch(N=>xe(N,M,j))}const pe=M=>s.go(M);let Te;const ge=new Set,de={currentRoute:d,listening:!0,addRoute:m,removeRoute:y,hasRoute:w,getRoutes:v,resolve:S,options:n,push:T,replace:_,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:o.add,beforeResolve:l.add,afterEach:u.add,onError:te.add,isReady:ye,install(M){const j=this;M.component("RouterLink",RouterLink),M.component("RouterView",RouterView),M.config.globalProperties.$router=j,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!Te&&d.value===START_LOCATION_NORMALIZED&&(Te=!0,T(s.location).catch(O=>{}));const k={};for(const O in START_LOCATION_NORMALIZED)Object.defineProperty(k,O,{get:()=>d.value[O],enumerable:!0});M.provide(routerKey,j),M.provide(routeLocationKey,shallowReactive(k)),M.provide(routerViewLocationKey,d);const F=M.unmount;ge.add(M),M.unmount=function(){ge.delete(M),ge.size<1&&(f=START_LOCATION_NORMALIZED,oe&&oe(),oe=null,d.value=START_LOCATION_NORMALIZED,Te=!1,he=!1),F()}}};function ce(M){return M.reduce((j,k)=>j.then(()=>X(k)),Promise.resolve())}return de}function extractChangingRecords(n,t){const r=[],a=[],s=[],o=Math.max(t.matched.length,n.matched.length);for(let l=0;l<o;l++){const u=t.matched[l];u&&(n.matched.find(f=>isSameRouteRecord(f,u))?a.push(u):r.push(u));const d=n.matched[l];d&&(t.matched.find(f=>isSameRouteRecord(f,d))||s.push(d))}return[r,a,s]}const _sfc_main$e={methods:{},mounted(){}},_withScopeId$6=n=>(pushScopeId("data-v-a4b15a8f"),n=n(),popScopeId(),n),_hoisted_1$c={class:"container flex-col"},_hoisted_2$9=_withScopeId$6(()=>createBaseVNode("h1",{class:"welcome"},"Добро пожаловать на сайт",-1)),_hoisted_3$9=_withScopeId$6(()=>createBaseVNode("p",{class:"description text"},"Электронная подпись — это цифровой аналог личной подписи от руки, она указывает на то, что документ подписан именно вами. Это знак вашего волеизъявления. Усиленные подписи также заверят, что в файл после подписания не вносили изменения. На распечатанном документе и на экране компьютера электронная подпись может быть не видна либо выглядеть как штамп или набор символов.",-1)),_hoisted_4$7=[_hoisted_2$9,_hoisted_3$9];function _sfc_render$c(n,t,r,a,s,o){return openBlock(),createElementBlock("article",_hoisted_1$c,_hoisted_4$7)}const Home=_export_sfc(_sfc_main$e,[["render",_sfc_render$c],["__scopeId","data-v-a4b15a8f"]]),_imports_0="/document.png",_sfc_main$d={name:"Uploading-field",props:{message:"",mimeTypeString:""},computed:{errorMessage:{get(){return this.errorMessage},set(n){this.$emit("update:message",n)}}},data(){return{isFieldActive:!1,counter:0}},emits:["file-changed","update:message"],methods:{onChangeFile:function(n){this.updateFile(n.target.files[0])},onDropHandler:async function(n){if(n.length>1||n.length===0){this.errorMessage="Нельзя сбрасывать больше одного файла!";return}const t=n[0];if(t.length<1){this.errorMessage="Некорректный файл!";return}if(this.mimeTypeString.length){let r=this.mimeTypeString.split(","),a=!1;for(let s in r)t.type===s&&(a=!0);if(!a){this.errorMessage=`Возможные типы файлов: ${this.mimeTypeString}`;return}}this.updateFile(t)},updateFile:function(n){this.$emit("file-changed",n),this.$refs["file-upload"].value=null}},mounted(){this.$refs["upload-field-ref"].ondragleave=n=>{n.preventDefault(),this.counter--,this.counter===0&&(this.isFieldActive=!1)},this.$refs["upload-field-ref"].ondrop=n=>{n.preventDefault(),this.isFieldActive=!1,this.counter=0,this.onDropHandler(n.dataTransfer.files)},this.$refs["upload-field-ref"].ondragenter=n=>{n.preventDefault(),this.counter++,this.isFieldActive=!0},this.$refs["upload-field-ref"].ondragover=n=>{n.preventDefault()}}},_withScopeId$5=n=>(pushScopeId("data-v-1f961374"),n=n(),popScopeId(),n),_hoisted_1$b=_withScopeId$5(()=>createBaseVNode("img",{id:"img-doc",src:_imports_0,alt:"Значек документа",ondragstart:"return false"},null,-1)),_hoisted_2$8={class:"custom-button"},_hoisted_3$8=["accept"],_hoisted_4$6=_withScopeId$5(()=>createBaseVNode("p",null,"или перенесите его сюда",-1));function _sfc_render$b(n,t,r,a,s,o){return openBlock(),createElementBlock("div",{class:normalizeClass(["upload-field flex-col",{active:this.isFieldActive}]),ref:"upload-field-ref"},[_hoisted_1$b,createBaseVNode("label",_hoisted_2$8,[createBaseVNode("input",{type:"file",name:"file",accept:r.mimeTypeString,ref:"file-upload",onChange:t[0]||(t[0]=(...l)=>o.onChangeFile&&o.onChangeFile(...l))},null,40,_hoisted_3$8),createTextVNode(" Выберете документ для подписи ")]),_hoisted_4$6],2)}const UploadingField=_export_sfc(_sfc_main$d,[["render",_sfc_render$b],["__scopeId","data-v-1f961374"]]),_sfc_main$c={components:{UploadingField},data(){return{isActive:!1,counter:0}},props:{errorCertificateMessage:"",selectedFile:{},mimeTypeString:""},computed:{errorMessage:{get(){return this.errorCertificateMessage},set(n){this.$emit("update:errorCertificateMessage",n)}}},emits:["update:selectedFile","update:errorCertificateMessage","try-get-cert"],methods:{onChangeFile:function(n){this.$emit("try-get-cert"),this.$emit("update:selectedFile",{file:n})}},mounted(){}},_hoisted_1$a={class:"container flex-col"},_hoisted_2$7={class:"box1"},_hoisted_3$7=["textContent"];function _sfc_render$a(n,t,r,a,s,o){const l=resolveComponent("uploading-field");return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("header",_hoisted_2$7,[renderSlot(n.$slots,"header",{},void 0,!0)]),createVNode(l,{class:"box2",message:o.errorMessage,"onUpdate:message":t[0]||(t[0]=u=>o.errorMessage=u),"mime-type-string":r.mimeTypeString,onFileChanged:o.onChangeFile},null,8,["message","mime-type-string","onFileChanged"]),createBaseVNode("p",{class:"errorMessage",textContent:toDisplayString(o.errorMessage)},null,8,_hoisted_3$7)])}const UploadPage=_export_sfc(_sfc_main$c,[["render",_sfc_render$a],["__scopeId","data-v-f3801d45"]]),_sfc_main$b={props:{width:"100%",height:"100%"}},__injectCSSVars__=()=>{useCssVars(n=>({"7ff478a4":n.width,"64cba209":n.height}))},__setup__=_sfc_main$b.setup;_sfc_main$b.setup=__setup__?(n,t)=>(__injectCSSVars__(),__setup__(n,t)):__injectCSSVars__;const _withScopeId$4=n=>(pushScopeId("data-v-31dce356"),n=n(),popScopeId(),n),_hoisted_1$9={class:"preload-container"},_hoisted_2$6=_withScopeId$4(()=>createBaseVNode("div",{class:"preloader"},[createBaseVNode("div",{class:"preloader__row"},[createBaseVNode("div",{class:"preloader__item"}),createBaseVNode("div",{class:"preloader__item"})])],-1)),_hoisted_3$6=[_hoisted_2$6];function _sfc_render$9(n,t,r,a,s,o){return openBlock(),createElementBlock("div",_hoisted_1$9,_hoisted_3$6)}const Preloader=_export_sfc(_sfc_main$b,[["render",_sfc_render$9],["__scopeId","data-v-31dce356"]]),_sfc_main$a={components:{preloader:Preloader},props:["certList"],data(){return{certificateSelected:!1,loading:!0}},watch:{certList(n){n.length&&(this.loading=!1),console.log(n)}},emits:["cancel","get-certificate"],methods:{onClickCert:function(n){if(n.currentTarget.classList.contains("selected"))return;let t=document.getElementsByClassName("selected");t.length>0&&t[0].classList.remove("selected"),n.currentTarget.classList.add("selected"),this.certificateSelected=!0},onGetSelectedCert:function(n){let r=document.getElementsByClassName("selected")[0].getAttribute("data-thumbprint"),a=this.certList.find(s=>s.thumbprint===r);this.$emit("get-certificate",a)}}},_withScopeId$3=n=>(pushScopeId("data-v-b8bc924a"),n=n(),popScopeId(),n),_hoisted_1$8={class:"modal-mask"},_hoisted_2$5={class:"modal-wrapper"},_hoisted_3$5={class:"modal-container",ondragstart:"return false"},_hoisted_4$5={class:"modal-header"},_hoisted_5$4=_withScopeId$3(()=>createBaseVNode("h2",null,"Выберите сертификат:",-1)),_hoisted_6$3={class:"modal-body"},_hoisted_7$3={key:1,id:"certificate__keys__wrapper"},_hoisted_8$2=["data-thumbprint"],_hoisted_9$1={class:"modal-footer"};function _sfc_render$8(n,t,r,a,s,o){const l=resolveComponent("preloader");return openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[renderSlot(n.$slots,"header",{},()=>[_hoisted_5$4],!0)]),createBaseVNode("div",_hoisted_6$3,[renderSlot(n.$slots,"body",{},()=>[s.loading?(openBlock(),createBlock(l,{key:0,height:"500px"})):(openBlock(),createElementBlock("section",_hoisted_7$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.certList,u=>(openBlock(),createElementBlock("div",{class:"certificate__keys__content__block","data-thumbprint":u.thumbprint,onClick:t[0]||(t[0]=(...d)=>o.onClickCert&&o.onClickCert(...d))},[createBaseVNode("h4",null,toDisplayString(u.name),1),createBaseVNode("ul",null,[createBaseVNode("li",null,"Серийный номер: "+toDisplayString(u.serialNumber),1),createBaseVNode("li",null,"Издатель: "+toDisplayString(u.issuerName),1),createBaseVNode("li",null,"Действителен: "+toDisplayString(u.validFromDate)+" по "+toDisplayString(u.validToDate),1)])],8,_hoisted_8$2))),256))]))],!0)]),createBaseVNode("div",_hoisted_9$1,[renderSlot(n.$slots,"footer",{},()=>[s.certificateSelected?(openBlock(),createElementBlock("div",{key:0,class:"custom-button resume link",onClick:t[1]||(t[1]=(...u)=>o.onGetSelectedCert&&o.onGetSelectedCert(...u))}," Продолжить ")):createCommentVNode("",!0),createBaseVNode("div",{class:"custom-button",onClick:t[2]||(t[2]=u=>n.$emit("cancel"))}," Отмена ")],!0)])])])])}const SelectCertModal=_export_sfc(_sfc_main$a,[["render",_sfc_render$8],["__scopeId","data-v-b8bc924a"]]),_sfc_main$9={emits:["restart"],props:{pdfResult:{},signResult:{}},data(){return{pdfObjectUrl:"",signObjectUrl:""}},computed:{PdfFileName:{get(){return"file"in this.pdfResult?this.pdfResult.file.name:""}},SignFileName:{get(){return"file"in this.signResult?this.signResult.file.name:""}}},watch:{},mounted(){console.log("download"),"file"in this.pdfResult&&(this.pdfObjectUrl=window.URL.createObjectURL(this.pdfResult.file),console.log("PDF file and PDF-FILE-URL updated")),"file"in this.signResult&&(this.signObjectUrl=window.URL.createObjectURL(this.signResult.file),console.log("SIGN file and SIGN-FILE-URL updated"))}},_hoisted_1$7={class:"container flex-col"},_hoisted_2$4=createBaseVNode("h1",{class:"title"},"Файл подписан успешно!",-1),_hoisted_3$4=["href","download"],_hoisted_4$4=["href","download"];function _sfc_render$7(n,t,r,a,s,o){return openBlock(),createElementBlock("div",_hoisted_1$7,[_hoisted_2$4,createBaseVNode("a",{class:"custom-button link",href:s.pdfObjectUrl,download:o.PdfFileName},"Скачать подписанный документ",8,_hoisted_3$4),createBaseVNode("a",{class:"custom-button link",href:s.signObjectUrl,download:o.SignFileName},"Скачать файл подписи",8,_hoisted_4$4),createBaseVNode("a",{class:"custom-button",onClick:t[0]||(t[0]=l=>this.$emit("restart"))},"Вернуться в начало")])}const DownloadPage=_export_sfc(_sfc_main$9,[["render",_sfc_render$7]]),_sfc_main$8={components:{Preloader,DownloadPage,SelectCertModal,UploadPage},data(){return{showUploadingPage:!0,showCertificateWindow:!1,preloader:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}},methods:{tryGetCert:function(){this.showCertificateWindow=!0,getCertificates().then(n=>{n.length?this.certList=n:(this.errorCertificateMessage="Отсутствуют сертификаты",console.log("Сертификатов нет"))}).catch(n=>{this.errorCertificateMessage=`${n} - Пожалуйста, предоставьте доступ к сертификатам или установите плагин.`,this.showCertificateWindow=!1,console.error(n)})},onSelectedCert:function(n){this.showCertificateWindow=!1,this.preloader=!0,console.log("creating signature..."),signData(this.selectedFile,n.thumbprint).then(t=>{console.log(t);let r=this.selectedFile.file.name,a=new Blob([t.signatures.file],{type:"application/pgp-signature"}),s=new File([a],`${r}.sig`,{type:"application/pgp-signature"});this.signResult={file:s},this.preloader=!1,this.showUploadingPage=!1}).catch(t=>{this.showCertificateWindow=!1,this.errorCertificateMessage=t,console.error(t)})},onCancelSelect:function(){this.errorCertificateMessage="Выберите сертификат, чтобы продолжить!",this.showCertificateWindow=!1},restartProcess:function(){Object.assign(this.$data,initData$1())}},mounted(){}};function initData$1(){return{showUploadingPage:!0,showCertificateWindow:!1,preloader:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}}const _hoisted_1$6=createBaseVNode("h1",null,"Создать открепленную подпись",-1);function _sfc_render$6(n,t,r,a,s,o){const l=resolveComponent("preloader"),u=resolveComponent("upload-page"),d=resolveComponent("download-page"),f=resolveComponent("select-cert-modal");return openBlock(),createElementBlock(Fragment,null,[withDirectives(createVNode(l,{height:"600px"},null,512),[[vShow,s.preloader]]),s.showUploadingPage?withDirectives((openBlock(),createBlock(u,{key:0,"mime-type-string":"","selected-file":s.selectedFile,"onUpdate:selectedFile":t[0]||(t[0]=g=>s.selectedFile=g),"error-certificate-message":s.errorCertificateMessage,"onUpdate:errorCertificateMessage":t[1]||(t[1]=g=>s.errorCertificateMessage=g),onTryGetCert:o.tryGetCert},{header:withCtx(()=>[_hoisted_1$6]),_:1},8,["selected-file","error-certificate-message","onTryGetCert"])),[[vShow,!s.preloader]]):(openBlock(),createBlock(d,{key:1,"pdf-result":s.selectedFile,"sign-result":s.signResult,onRestart:o.restartProcess},null,8,["pdf-result","sign-result","onRestart"])),withDirectives(createVNode(f,{"cert-list":s.certList,onGetCertificate:o.onSelectedCert,onCancel:o.onCancelSelect},null,8,["cert-list","onGetCertificate","onCancel"]),[[vShow,s.showCertificateWindow]])],64)}const Detached=_export_sfc(_sfc_main$8,[["render",_sfc_render$6]]);function isFunction(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function snapToGrid(n,t,r,a=1){const[s,o]=typeof a=="number"?[a,a]:a,l=Math.round(t/s/n[0])*n[0],u=Math.round(r/o/n[1])*n[1];return[l,u]}function computeWidth(n,t,r){return n-t-r}function computeHeight(n,t,r){return n-t-r}function restrictToBounds(n,t,r){return t!==null&&n<t?t:r!==null&&r<n?r:n}function matchesSelectorToParentElements(n,t,r){let a=n;const s=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(o=>isFunction(a[o]));if(!isFunction(a[s]))return!1;do{if(a[s](t))return!0;if(a===r)return!1;a=a.parentNode}while(a);return!1}function getComputedSize(n){const t=window.getComputedStyle(n);return[parseFloat(t.getPropertyValue("width"),10),parseFloat(t.getPropertyValue("height"),10)]}function addEvent(n,t,r){n&&(n.attachEvent?n.attachEvent("on"+t,r):n.addEventListener?n.addEventListener(t,r,!0):n["on"+t]=r)}function removeEvent(n,t,r){n&&(n.detachEvent?n.detachEvent("on"+t,r):n.removeEventListener?n.removeEventListener(t,r,!0):n["on"+t]=null)}const _hoisted_1$5=["onMousedown","onTouchstart"],_sfc_main$7={__name:"DraggableResizableVue3",props:{draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:n=>typeof n=="string"?n==="auto":n>=0},w:{type:[Number,String],validator:n=>typeof n=="number"?n>0:n==="auto"},h:{type:[Number,String],validator:n=>typeof n=="number"?n>0:n==="auto"},minWidth:{type:Number,default:0,validator:n=>n>=0},minHeight:{type:Number,default:0,validator:n=>n>=0},maxWidth:{type:Number,default:null,validator:n=>n>=0},maxHeight:{type:Number,default:null,validator:n=>n>=0},active:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},activeOnHover:{type:Boolean,default:!1},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},lockAspectRatio:{type:Boolean,default:!1},handlesType:{type:String,default:"handles",validator:n=>["handles","borders","custom"].includes(n)},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:n=>{const t=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(n.filter(r=>t.has(r))).size===n.length}},handlesSize:{type:Number,default:10},handlesBorder:{type:String,default:"0.5px solid #bbb"},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:n=>["x","y","both"].includes(n)},grid:{type:Array,validator:n=>Array.isArray(n)&&typeof n[0]=="number"&&typeof n[1]=="number"},showGrid:{type:[Boolean,String],default:!1,validator:n=>[!0,!1,"x","y","both"].includes(n)},gridColor:{type:String,default:"rgba(0, 0, 0, 0.1)"},parent:{type:[Boolean,String],default:!1},scale:{type:[Number,Array],default:1,validator:n=>typeof n=="number"?n>0:n.length===2&&n[0]>0&&n[1]>0},className:{type:String,default:"drv"},classNameDraggable:{type:String,default:"drv-draggable"},classNameResizable:{type:String,default:"drv-resizable"},classNameDragging:{type:String,default:"drv-dragging"},classNameResizing:{type:String,default:"drv-resizing"},classNameActive:{type:String,default:"drv-active"},classNameHandle:{type:String,default:"drv-handle"},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},emits:["update:x","update:y","update:w","update:h","update:active","resizing","resizestop","dragging","dragstop","activated","deactivated"],setup(n,{emit:t}){useCssVars(ve=>({"39a6bff2":E.value,"4e451bdd":_.value,"51f44245":T.value}));const r={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},a={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},s={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let o=r.mouse;const l=n,u=t,d=ref(null),f=ref(null),g=ref({h:"auto",w:"auto",active:!1,x:0,y:0}),x=useSlots(),b=computed({get(){return l.w||g.value.w},set(ve){u("update:w",ve),g.value.w=ve}}),m=computed({get(){return l.h||g.value.h},set(ve){u("update:h",ve),g.value.h=ve}}),y=computed({get(){return l.x||g.value.x},set(ve){u("update:x",ve),g.value.x=ve}}),v=computed({get(){return l.y||g.value.y},set(ve){u("update:y",ve),g.value.y=ve}}),w=ref(null),S=ref(null),C=computed({get(){return l.active||g.value.active},set(ve){u("update:active",ve),g.value.active=ve}}),E=computed(()=>l.handlesSize+"px"),T=computed(()=>l.handlesSize/2+"px"),_=computed(()=>l.handlesBorder),R=ref(!1),U=ref(!1),z=ref(null),X=ref(null),W=ref(null),Y=ref(null),se=ref(!1),oe=ref(!1),ue=ref(!1),Z=ref(!1),te=ref(null),he=ref(null),xe=computed(()=>({transform:`translate(${y.value}px, ${v.value}px)`,width:de.value,height:ce.value,zIndex:l.z,...oe.value&&l.disableUserSelect?a:s})),ye=inject("drvContainerClass",{}),Ae=computed(()=>ye.value?"."+ye.value:l.parent),we=inject("drvContainerGrid",{}),pe=computed(()=>!we||!we.value?l.grid||[1,1]:l.grid?l.grid:we.value),Te=computed(()=>{const ve={x:`linear-gradient(-90deg, ${l.gridColor} 1px, transparent 1px) 0px 0px / ${pe.value[0]}px ${pe.value[0]}px`,y:`linear-gradient(0deg, ${l.gridColor} 1px, transparent 1px) 0px 0px / ${pe.value[1]}px ${pe.value[1]}px`};return l.showGrid==="x"||l.showGrid==="y"?ve[l.showGrid]:l.showGrid?`${ve.x}, ${ve.y}`:null}),ge=computed(()=>l.resizable?l.handles:[]),de=computed(()=>b.value==="auto"&&!R.value?"auto":b.value+"px"),ce=computed(()=>m.value==="auto"&&!U.value?"auto":m.value+"px"),M=ref(l.minWidth),j=ref(l.minHeight),k=ref(l.maxWidth),F=ref(l.maxHeight),O=computed(()=>!!Y.value&&(Y.value.includes("l")||Y.value.includes("r"))),D=computed(()=>!!Y.value&&(Y.value.includes("t")||Y.value.includes("b"))),N=()=>{te.value={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},he.value={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},H=()=>{if(Ae.value){const[ve,ke]=V();X.value=ve,W.value=ke,w.value=X.value-b.value-y.value,S.value=W.value-m.value-v.value}},V=()=>{if(Ae.value){const ve=typeof Ae.value=="string"?d.value.closest(Ae.value):d.value.parentNode;f.value=ve;const ke=window.getComputedStyle(ve,null);return[parseInt(ke.getPropertyValue("width"),10),parseInt(ke.getPropertyValue("height"),10)]}return[null,null]},$=()=>{if(Ae.value&&l.showGrid){if(!f.value){const ve=typeof ve.value=="string"?d.value.closest(ve.value):d.value.parentNode;f.value=ve}f.value.style.background=Te.value}},J=ve=>{o=r.touch,re(ve)},Q=ve=>{o=r.mouse,re(ve)},re=ve=>{if(ve instanceof MouseEvent&&ve.which!==1)return;const ke=ve.target||ve.srcElement;if(d.value.contains(ke)){if(l.onDragStart(ve)===!1)return;if(l.dragHandle&&!matchesSelectorToParentElements(ke,l.dragHandle,d.value)||l.dragCancel&&matchesSelectorToParentElements(ke,l.dragCancel,d.value)){oe.value=!1;return}C.value||(C.value=!0,u("activated")),l.draggable&&(ue.value=!0),te.value.mouseX=ve.touches?ve.touches[0].pageX:ve.pageX,te.value.mouseY=ve.touches?ve.touches[0].pageY:ve.pageY,te.value.left=y.value,te.value.right=w.value,te.value.top=v.value,te.value.bottom=S.value,Ae.value&&(he.value=ie()),addEvent(document.documentElement,o.move,fe),addEvent(document.documentElement,o.stop,Se)}},ie=()=>({minLeft:y.value%pe.value[0],maxLeft:Math.floor((X.value-b.value-y.value)/pe.value[0])*pe.value[0]+y.value,minRight:w.value%pe.value[0],maxRight:Math.floor((X.value-b.value-w.value)/pe.value[0])*pe.value[0]+w.value,minTop:v.value%pe.value[1],maxTop:Math.floor((W.value-m.value-v.value)/pe.value[1])*pe.value[1]+v.value,minBottom:S.value%pe.value[1],maxBottom:Math.floor((W.value-m.value-S.value)/pe.value[1])*pe.value[1]+S.value}),ne=ve=>{const ke=ve.target||ve.srcElement,Ee=new RegExp(l.className+"-([trmbl]{2})","");(!d.value||!d.value.contains(ke)&&!Ee.test(ke.className))&&(C.value&&!l.preventDeactivation&&(C.value=!1,u("deactivated")),removeEvent(document.documentElement,o.move,G)),N()},ee=(ve,ke)=>{o=r.touch,le(ve,ke)},le=(ve,ke)=>{ke instanceof MouseEvent&&ke.which!==1||l.onResizeStart(ve,ke)!==!1&&(ke.stopPropagation&&ke.stopPropagation(),l.lockAspectRatio&&!ve.includes("m")?Y.value="m"+ve.substring(1):Y.value=ve,Z.value=!0,te.value.mouseX=ke.touches?ke.touches[0].pageX:ke.pageX,te.value.mouseY=ke.touches?ke.touches[0].pageY:ke.pageY,te.value.left=y.value,te.value.right=w.value,te.value.top=v.value,te.value.bottom=S.value,he.value=be(),addEvent(document.documentElement,o.move,G),addEvent(document.documentElement,o.stop,Se))},be=()=>{const[ve,ke]=pe.value;l.lockAspectRatio&&(M.value/j.value>z.value?j.value=M.value/z.value:M.value=z.value*j.value,k.value&&F.value?(k.value=Math.min(k.value,z.value*F.value),F.value=Math.min(F.value,k.value/z.value)):k.value?F.value=k.value/z.value:F.value&&(k.value=z.value*F.value)),k.value=k.value-k.value%ve,F.value=F.value-F.value%ke;const Ee={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return Ae.value?(Ee.minLeft=y.value%ve,Ee.maxLeft=y.value+Math.floor((b.value-M.value)/ve)*ve,Ee.minTop=v.value%ke,Ee.maxTop=v.value+Math.floor((m.value-j.value)/ke)*ke,Ee.minRight=w.value%ve,Ee.maxRight=w.value+Math.floor((b.value-M.value)/ve)*ve,Ee.minBottom=S.value%ke,Ee.maxBottom=S.value+Math.floor((m.value-j.value)/ke)*ke,k.value&&(Ee.minLeft=Math.max(Ee.minLeft,X.value-w.value-k.value),Ee.minRight=Math.max(Ee.minRight,X.value-y.value-k.value)),F.value&&(Ee.minTop=Math.max(Ee.minTop,W.value-S.value-F.value),Ee.minBottom=Math.max(Ee.minBottom,W.value-v.value-F.value)),l.lockAspectRatio&&(Ee.minLeft=Math.max(Ee.minLeft,y.value-v.value*z.value),Ee.minTop=Math.max(Ee.minTop,v.value-y.value/z.value),Ee.minRight=Math.max(Ee.minRight,w.value-S.value*z.value),Ee.minBottom=Math.max(Ee.minBottom,S.value-w.value/z.value))):(Ee.minLeft=null,Ee.maxLeft=y.value+Math.floor((b.value-M.value)/ve)*ve,Ee.minTop=null,Ee.maxTop=v.value+Math.floor((m.value-j.value)/ke)*ke,Ee.minRight=null,Ee.maxRight=w.value+Math.floor((b.value-M.value)/ve)*ve,Ee.minBottom=null,Ee.maxBottom=S.value+Math.floor((m.value-j.value)/ke)*ke,k.value&&(Ee.minLeft=-(w.value+k.value),Ee.minRight=-(y.value+k.value)),F.value&&(Ee.minTop=-(S.value+F.value),Ee.minBottom=-(v.value+F.value)),l.lockAspectRatio&&k.value&&F.value&&(Ee.minLeft=Math.min(Ee.minLeft,-(w.value+k.value)),Ee.minTop=Math.min(Ee.minTop,-(F.value+S.value)),Ee.minRight=Math.min(Ee.minRight,-y.value-k.value),Ee.minBottom=Math.min(Ee.minBottom,-v.value-F.value))),Ee},fe=ve=>{se.value?G(ve):ue.value&&Fe(ve)},Fe=ve=>{const ke=l.axis&&l.axis!=="y"?te.value.mouseX-(ve.touches?ve.touches[0].pageX:ve.pageX):0,Ee=l.axis&&l.axis!=="x"?te.value.mouseY-(ve.touches?ve.touches[0].pageY:ve.pageY):0,[Pe,De]=snapToGrid(pe.value,ke,Ee,l.scale),Oe=restrictToBounds(te.value.left-Pe,he.value.minLeft,he.value.maxLeft),_e=restrictToBounds(te.value.top-De,he.value.minTop,he.value.maxTop);if(l.onDrag(y,v)===!1)return;const Ne=restrictToBounds(te.value.right+Pe,he.value.minRight,he.value.maxRight),Be=restrictToBounds(te.value.bottom+De,he.value.minBottom,he.value.maxBottom);y.value=Oe,v.value=_e,w.value=Ne,S.value=Be,u("dragging",y.value,v.value),oe.value=!0},K=ve=>{const[ke]=snapToGrid(pe.value,ve,v.value,1),Ee=restrictToBounds(ke,he.value.minLeft,he.value.maxLeft);y.value=Ee,w.value=X.value-b.value-Ee},L=ve=>{const[,ke]=snapToGrid(pe.value,y.value,ve,1),Ee=restrictToBounds(ke,he.value.minTop,he.value.maxTop);v.value=Ee,S.value=W.value-m.value-Ee},G=ve=>{let ke=y.value,Ee=v.value,Pe=w.value,De=S.value;const Oe=te.value.mouseX-(ve.touches?ve.touches[0].pageX:ve.pageX),_e=te.value.mouseY-(ve.touches?ve.touches[0].pageY:ve.pageY);!R.value&&Oe&&(R.value=!0),!U.value&&_e&&(U.value=!0);const[Ne,Be]=snapToGrid(pe.value,Oe,_e,l.scale);Y.value.includes("b")?(De=restrictToBounds(te.value.bottom+Be,he.value.minBottom,he.value.maxBottom),l.lockAspectRatio&&D&&(Pe=w.value-(S.value-De)*z.value)):Y.value.includes("t")&&(Ee=restrictToBounds(te.value.top-Be,he.value.minTop,he.value.maxTop),l.lockAspectRatio&&D&&(ke=y.value-(v.value-Ee)*z.value)),Y.value.includes("r")?(Pe=restrictToBounds(te.value.right+Ne,he.value.minRight,he.value.maxRight),l.lockAspectRatio&&O&&(De=S.value-(w.value-Pe)/z.value)):Y.value.includes("l")&&(ke=restrictToBounds(te.value.left-Ne,he.value.minLeft,he.value.maxLeft),l.lockAspectRatio&&O&&(Ee=v.value-(y.value-ke)/z.value));const Ue=computeWidth(X.value,ke,Pe),je=computeHeight(W.value,Ee,De);l.onResize(Y.value,ke,Ee,Ue,je)!==!1&&(y.value=ke,v.value=Ee,w.value=Pe,S.value=De,b.value=Ue,m.value=je,u("resizing",y.value,v.value,b.value,m.value),se.value=!0)},ae=ve=>{const[ke]=snapToGrid(pe.value,ve,0,1);let Ee=restrictToBounds(X.value-ke-y.value,he.value.minRight,he.value.maxRight),Pe=S.value;l.lockAspectRatio&&(Pe=S.value-(w.value-Ee)/z.value);const De=computeWidth(X.value,y.value,Ee),Oe=computeHeight(W.value,v.value,Pe);w.value=Ee,S.value=Pe,b.value=De,m.value=Oe},me=ve=>{const[,ke]=snapToGrid(pe.value,0,ve,1);let Ee=restrictToBounds(W.value-ke-v.value,he.value.minBottom,he.value.maxBottom),Pe=w.value;l.lockAspectRatio&&(Pe=w.value-(S.value-Ee)*z.value);const De=computeWidth(X.value,y.value,Pe),Oe=computeHeight(W.value,v.value,Ee);w.value=Pe,S.value=Ee,b.value=De,m.value=Oe},Se=()=>{Y.value=null,N(),ue.value=!1,Z.value=!1,se.value&&(se.value=!1,u("resizestop",y.value,v.value,b.value,m.value)),oe.value&&(oe.value=!1,u("dragstop",y.value,v.value)),removeEvent(document.documentElement,o.move,G)},Ce=()=>{l.activeOnHover&&(C.value=!0)},Ie=()=>{l.activeOnHover&&!oe.value&&(C.value=!1)};return onMounted(()=>{N(),l.enableNativeDrag||(d.value.ondragstart=()=>!1);const[ve,ke]=V();X.value=ve,W.value=ke;const[Ee,Pe]=getComputedSize(d.value);z.value=(b.value!=="auto"?b.value:Ee)/(m.value!=="auto"?m.value:Pe),b.value=b.value!=="auto"?b.value:Ee,m.value=m.value!=="auto"?m.value:Pe,w.value=X.value-b.value-y.value,S.value=W.value-m.value-v.value,C.value&&u("activated"),l.showGrid&&$(),addEvent(document.documentElement,"mousedown",ne),addEvent(document.documentElement,"touchend touchcancel",ne),addEvent(window,"resize",H)}),watch(()=>l.x,ve=>{se.value||oe.value||(Ae.value&&(he.value=ie()),K(ve))}),watch(()=>l.y,ve=>{se.value||oe.value||(Ae.value&&(he.value=ie()),L(ve))}),watch(()=>l.lockAspectRatio,ve=>{ve?z.value=b.value/m.value:z.value=void 0}),watch(()=>l.w,ve=>{se.value||oe.value||(Ae.value&&(he.value=be()),ae(ve))}),watch(()=>l.h,ve=>{se.value||oe.value||(Ae.value&&(he.value=be()),me(ve))}),watch(()=>l.showGrid,()=>{$()}),watch(()=>l.grid,()=>{$()}),(ve,ke)=>(openBlock(),createElementBlock("div",{ref_key:"el",ref:d,style:normalizeStyle(xe.value),class:normalizeClass([{[n.classNameActive]:C.value,[n.classNameDragging]:oe.value,[n.classNameResizing]:se.value,[n.classNameDraggable]:n.draggable,[n.classNameResizable]:n.resizable},n.className]),onMousedown:Q,onTouchstart:J,onMouseover:Ce,onMouseleave:Ie},[createBaseVNode("div",{class:normalizeClass("drv-"+n.handlesType)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ge.value,Ee=>(openBlock(),createElementBlock("div",{key:Ee,class:normalizeClass([n.classNameHandle,n.classNameHandle+"-"+Ee,n.classNameHandle!=="drv-handle"?"drv-handle":"",n.classNameHandle!=="drv-handle"?"drv-handle-"+Ee:""]),style:normalizeStyle({display:C.value?"block":"none"}),onMousedown:withModifiers(Pe=>le(Ee,Pe),["stop","prevent"]),onTouchstart:withModifiers(Pe=>ee(Ee,Pe),["stop","prevent"])},[unref(x)["handle-"+Ee]?renderSlot(ve.$slots,"handle-"+Ee,{key:0}):createCommentVNode("",!0),unref(x)["handle-"+Ee]?createCommentVNode("",!0):renderSlot(ve.$slots,"handle",{key:1})],46,_hoisted_1$5))),128))],2),renderSlot(ve.$slots,"default")],38))}},_sfc_main$6={__name:"DraggableResizableContainer",props:{grid:{type:Array,default:()=>[1,1],validator:n=>Array.isArray(n)&&typeof n[0]=="number"&&typeof n[1]=="number"},showGrid:{type:[Boolean,String],default:!1,validator:n=>[!0,!1,"x","y","both"].includes(n)},gridColor:{type:String,default:"rgba(0, 0, 0, 0.1)"},className:{type:String,default:"drv-container"}},setup(n){const t=n,r=computed(()=>t.grid),a=computed(()=>t.className);provide("drvContainerClass",a),provide("drvContainerGrid",r);const s=ref(null),o=computed(()=>{const u={x:`linear-gradient(-90deg, ${t.gridColor} 1px, transparent 1px) 0px 0px / ${t.grid[0]}px ${t.grid[0]}px`,y:`linear-gradient(0deg, ${t.gridColor} 1px, transparent 1px) 0px 0px / ${t.grid[1]}px ${t.grid[1]}px`};return t.showGrid==="x"||t.showGrid==="y"?u[t.showGrid]:t.showGrid?`${u.x}, ${u.y}`:null}),l=computed(()=>{const u={position:"relative"};return t.showGrid&&(u.background=o.value),u});return(u,d)=>(openBlock(),createElementBlock("div",{ref_key:"el",ref:s,style:normalizeStyle(l.value),class:normalizeClass([a.value])},[renderSlot(u.$slots,"default")],6))}};_sfc_main$7.install=n=>(n.component("DraggableResizableVue",_sfc_main$7),n.component("DraggableResizableContainer",_sfc_main$6),n);const _sfc_main$5={props:{selectedCert:{serialNumber:"",issuerName:"",validFromDate:"",validToDate:""}}},_hoisted_1$4={viewBox:"-5 -5 410 160",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$3=createBaseVNode("rect",{width:"400",height:"145",fill:"none",rx:"15",ry:"15",stroke:"black","stroke-width":"3px"},null,-1),_hoisted_3$3=createBaseVNode("text",{x:"130",y:"30",class:"svg-title"},"ДОКУМЕНТ ПОДПИСАН",-1),_hoisted_4$3=createBaseVNode("text",{x:"115",y:"50",class:"svg-title"},"ЭЛЕКТРОННОЙ ПОДПИСЬЮ",-1),_hoisted_5$3={x:"10",y:"80",class:"svg-text"},_hoisted_6$2={x:"10",y:"100",class:"svg-text"},_hoisted_7$2={x:"10",y:"120",class:"svg-text"};function _sfc_render$5(n,t,r,a,s,o){return openBlock(),createElementBlock("svg",_hoisted_1$4,[_hoisted_2$3,_hoisted_3$3,_hoisted_4$3,createBaseVNode("text",_hoisted_5$3,"Сертификат: "+toDisplayString(r.selectedCert.serialNumber),1),createBaseVNode("text",_hoisted_6$2,"Владелец: "+toDisplayString(r.selectedCert.issuerName),1),createBaseVNode("text",_hoisted_7$2,"Действителен: c "+toDisplayString(r.selectedCert.validFromDate)+" до "+toDisplayString(r.selectedCert.validToDate),1)])}const certificateSvg=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),_sfc_main$4={emits:["cancel","approve"]},_withScopeId$2=n=>(pushScopeId("data-v-8f550e22"),n=n(),popScopeId(),n),_hoisted_1$3={class:"modal-mask"},_hoisted_2$2={class:"modal-wrapper"},_hoisted_3$2={class:"modal-container",ondragstart:"return false"},_hoisted_4$2={class:"modal-header"},_hoisted_5$2=_withScopeId$2(()=>createBaseVNode("h2",null,"Предупреждение!",-1)),_hoisted_6$1={class:"modal-body"},_hoisted_7$1=_withScopeId$2(()=>createBaseVNode("b",null,"утерян",-1)),_hoisted_8$1={class:"modal-footer"};function _sfc_render$4(n,t,r,a,s,o){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,[renderSlot(n.$slots,"header",{},()=>[_hoisted_5$2],!0)]),createBaseVNode("div",_hoisted_6$1,[renderSlot(n.$slots,"body",{},()=>[createTextVNode(" После смены сертификата, прогресс будет "),_hoisted_7$1,createTextVNode(". ")],!0)]),createBaseVNode("div",_hoisted_8$1,[renderSlot(n.$slots,"footer",{},()=>[createBaseVNode("div",{class:"custom-button resume link",onClick:t[0]||(t[0]=l=>n.$emit("approve"))}," Удалить прогресс "),createBaseVNode("div",{class:"custom-button resume",onClick:t[1]||(t[1]=l=>n.$emit("cancel"))}," Отмена ")],!0)])])])])}const ApproveChange=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-8f550e22"]]),_sfc_main$3={name:"Selected-cert",components:{ApproveChange},props:{certificate:{},signCount:0},data(){return{showApprove:!1}},methods:{approveOrAsk:function(){this.signCount>0?this.showApprove=!0:this.$emit("change-cert")}},emits:["change-cert"]},_withScopeId$1=n=>(pushScopeId("data-v-7d571cbe"),n=n(),popScopeId(),n),_hoisted_1$2={key:0,class:"certificate"},_hoisted_2$1=_withScopeId$1(()=>createBaseVNode("h4",null,"Выбранный сертификат:",-1)),_hoisted_3$1={key:1,class:"certificate non-valid"},_hoisted_4$1=_withScopeId$1(()=>createBaseVNode("h4",null,"Сертификат не прошел валидацию!",-1)),_hoisted_5$1=[_hoisted_4$1];function _sfc_render$3(n,t,r,a,s,o){const l=resolveComponent("approve-change");return openBlock(),createElementBlock(Fragment,null,[r.certificate.valid?(openBlock(),createElementBlock("div",_hoisted_1$2,[_hoisted_2$1,createBaseVNode("ul",null,[createBaseVNode("li",null,toDisplayString(r.certificate.name),1),createBaseVNode("li",null,toDisplayString(r.certificate.issuerName),1),createBaseVNode("li",null,"C "+toDisplayString(r.certificate.validFromDate)+" по "+toDisplayString(r.certificate.validToDate),1)])])):(openBlock(),createElementBlock("div",_hoisted_3$1,_hoisted_5$1)),createBaseVNode("label",{class:normalizeClass(["custom-button change-cert",{"non-valid-bth":!r.certificate.valid}]),onClick:t[0]||(t[0]=(...u)=>o.approveOrAsk&&o.approveOrAsk(...u))}," Сменить сертификат ",2),withDirectives(createVNode(l,{onCancel:t[1]||(t[1]=u=>s.showApprove=!1),onApprove:t[2]||(t[2]=u=>{this.$emit("change-cert"),s.showApprove=!1})},null,512),[[vShow,s.showApprove]])],64)}const SelectedCert=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-7d571cbe"]]),scriptRel="modulepreload",assetsURL=function(n){return"/"+n},seen={},__vitePreload=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link");s=Promise.all(r.map(l=>{if(l=assetsURL(l),l in seen)return;seen[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!a)for(let x=o.length-1;x>=0;x--){const b=o[x];if(b.href===l&&(!u||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":scriptRel,u||(g.as="script",g.crossOrigin=""),g.href=l,document.head.appendChild(g),u)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};var __webpack_modules__={640:(n,t,r)=>{r.d(t,{AnnotationLayer:()=>de,FreeTextAnnotationElement:()=>Y,InkAnnotationElement:()=>xe,StampAnnotationElement:()=>Te});var a=r(266),s=r(473),o=r(780);function l(ce){return Math.floor(Math.max(0,Math.min(1,ce))*255).toString(16).padStart(2,"0")}function u(ce){return Math.max(0,Math.min(255,255*ce))}class d{static CMYK_G([M,j,k,F]){return["G",1-Math.min(1,.3*M+.59*k+.11*j+F)]}static G_CMYK([M]){return["CMYK",0,0,0,1-M]}static G_RGB([M]){return["RGB",M,M,M]}static G_rgb([M]){return M=u(M),[M,M,M]}static G_HTML([M]){const j=l(M);return`#${j}${j}${j}`}static RGB_G([M,j,k]){return["G",.3*M+.59*j+.11*k]}static RGB_rgb(M){return M.map(u)}static RGB_HTML(M){return`#${M.map(l).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([M,j,k,F]){return["RGB",1-Math.min(1,M+F),1-Math.min(1,k+F),1-Math.min(1,j+F)]}static CMYK_rgb([M,j,k,F]){return[u(1-Math.min(1,M+F)),u(1-Math.min(1,k+F)),u(1-Math.min(1,j+F))]}static CMYK_HTML(M){const j=this.CMYK_RGB(M).slice(1);return this.RGB_HTML(j)}static RGB_CMYK([M,j,k]){const F=1-M,O=1-j,D=1-k,N=Math.min(F,O,D);return["CMYK",F,O,D,N]}}var f=r(160);const g=1e3,x=9,b=new WeakSet;function m(ce){return{width:ce[2]-ce[0],height:ce[3]-ce[1]}}class y{static create(M){switch(M.data.annotationType){case a.AnnotationType.LINK:return new w(M);case a.AnnotationType.TEXT:return new S(M);case a.AnnotationType.WIDGET:switch(M.data.fieldType){case"Tx":return new E(M);case"Btn":return M.data.radioButton?new R(M):M.data.checkBox?new _(M):new U(M);case"Ch":return new z(M);case"Sig":return new T(M)}return new C(M);case a.AnnotationType.POPUP:return new X(M);case a.AnnotationType.FREETEXT:return new Y(M);case a.AnnotationType.LINE:return new se(M);case a.AnnotationType.SQUARE:return new oe(M);case a.AnnotationType.CIRCLE:return new ue(M);case a.AnnotationType.POLYLINE:return new Z(M);case a.AnnotationType.CARET:return new he(M);case a.AnnotationType.INK:return new xe(M);case a.AnnotationType.POLYGON:return new te(M);case a.AnnotationType.HIGHLIGHT:return new ye(M);case a.AnnotationType.UNDERLINE:return new Ae(M);case a.AnnotationType.SQUIGGLY:return new we(M);case a.AnnotationType.STRIKEOUT:return new pe(M);case a.AnnotationType.STAMP:return new Te(M);case a.AnnotationType.FILEATTACHMENT:return new ge(M);default:return new v(M)}}}class v{#e=!1;constructor(M,{isRenderable:j=!1,ignoreBorder:k=!1,createQuadrilaterals:F=!1}={}){this.isRenderable=j,this.data=M.data,this.layer=M.layer,this.linkService=M.linkService,this.downloadManager=M.downloadManager,this.imageResourcesPath=M.imageResourcesPath,this.renderForms=M.renderForms,this.svgFactory=M.svgFactory,this.annotationStorage=M.annotationStorage,this.enableScripting=M.enableScripting,this.hasJSActions=M.hasJSActions,this._fieldObjects=M.fieldObjects,this.parent=M.parent,j&&(this.container=this._createContainer(k)),F&&this._createQuadrilaterals()}static _hasPopupData({titleObj:M,contentsObj:j,richText:k}){return!!(M?.str||j?.str||k?.str)}get hasPopupData(){return v._hasPopupData(this.data)}_createContainer(M){const{data:j,parent:{page:k,viewport:F}}=this,O=document.createElement("section");O.setAttribute("data-annotation-id",j.id),this instanceof C||(O.tabIndex=g),O.style.zIndex=this.parent.zIndex++,this.data.popupRef&&O.setAttribute("aria-haspopup","dialog"),j.noRotate&&O.classList.add("norotate");const{pageWidth:D,pageHeight:N,pageX:H,pageY:V}=F.rawDims;if(!j.rect||this instanceof X){const{rotation:ie}=j;return!j.hasOwnCanvas&&ie!==0&&this.setRotation(ie,O),O}const{width:$,height:J}=m(j.rect),Q=a.Util.normalizeRect([j.rect[0],k.view[3]-j.rect[1]+k.view[1],j.rect[2],k.view[3]-j.rect[3]+k.view[1]]);if(!M&&j.borderStyle.width>0){O.style.borderWidth=`${j.borderStyle.width}px`;const ie=j.borderStyle.horizontalCornerRadius,ne=j.borderStyle.verticalCornerRadius;if(ie>0||ne>0){const le=`calc(${ie}px * var(--scale-factor)) / calc(${ne}px * var(--scale-factor))`;O.style.borderRadius=le}else if(this instanceof R){const le=`calc(${$}px * var(--scale-factor)) / calc(${J}px * var(--scale-factor))`;O.style.borderRadius=le}switch(j.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:O.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:O.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:O.style.borderBottomStyle="solid";break}const ee=j.borderColor||null;ee?(this.#e=!0,O.style.borderColor=a.Util.makeHexColor(ee[0]|0,ee[1]|0,ee[2]|0)):O.style.borderWidth=0}O.style.left=`${100*(Q[0]-H)/D}%`,O.style.top=`${100*(Q[1]-V)/N}%`;const{rotation:re}=j;return j.hasOwnCanvas||re===0?(O.style.width=`${100*$/D}%`,O.style.height=`${100*J/N}%`):this.setRotation(re,O),O}setRotation(M,j=this.container){if(!this.data.rect)return;const{pageWidth:k,pageHeight:F}=this.parent.viewport.rawDims,{width:O,height:D}=m(this.data.rect);let N,H;M%180===0?(N=100*O/k,H=100*D/F):(N=100*D/k,H=100*O/F),j.style.width=`${N}%`,j.style.height=`${H}%`,j.setAttribute("data-main-rotation",(360-M)%360)}get _commonActions(){const M=(j,k,F)=>{const O=F.detail[j],D=O[0],N=O.slice(1);F.target.style[k]=d[`${D}_HTML`](N),this.annotationStorage.setValue(this.data.id,{[k]:d[`${D}_rgb`](N)})};return(0,a.shadow)(this,"_commonActions",{display:j=>{const{display:k}=j.detail,F=k%2===1;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:F,noPrint:k===1||k===2})},print:j=>{this.annotationStorage.setValue(this.data.id,{noPrint:!j.detail.print})},hidden:j=>{const{hidden:k}=j.detail;this.container.style.visibility=k?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:k,noView:k})},focus:j=>{setTimeout(()=>j.target.focus({preventScroll:!1}),0)},userName:j=>{j.target.title=j.detail.userName},readonly:j=>{j.target.disabled=j.detail.readonly},required:j=>{this._setRequired(j.target,j.detail.required)},bgColor:j=>{M("bgColor","backgroundColor",j)},fillColor:j=>{M("fillColor","backgroundColor",j)},fgColor:j=>{M("fgColor","color",j)},textColor:j=>{M("textColor","color",j)},borderColor:j=>{M("borderColor","borderColor",j)},strokeColor:j=>{M("strokeColor","borderColor",j)},rotation:j=>{const k=j.detail.rotation;this.setRotation(k),this.annotationStorage.setValue(this.data.id,{rotation:k})}})}_dispatchEventFromSandbox(M,j){const k=this._commonActions;for(const F of Object.keys(j.detail))(M[F]||k[F])?.(j)}_setDefaultPropertiesFromJS(M){if(!this.enableScripting)return;const j=this.annotationStorage.getRawValue(this.data.id);if(!j)return;const k=this._commonActions;for(const[F,O]of Object.entries(j)){const D=k[F];if(D){const N={detail:{[F]:O},target:M};D(N),delete j[F]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:M}=this.data;if(!M)return;const[j,k,F,O]=this.data.rect;if(M.length===1){const[,{x:ne,y:ee},{x:le,y:be}]=M[0];if(F===ne&&O===ee&&j===le&&k===be)return}const{style:D}=this.container;let N;if(this.#e){const{borderColor:ne,borderWidth:ee}=D;D.borderWidth=0,N=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ne}" stroke-width="${ee}">`],this.container.classList.add("hasBorder")}const H=F-j,V=O-k,{svgFactory:$}=this,J=$.createElement("svg");J.classList.add("quadrilateralsContainer"),J.setAttribute("width",0),J.setAttribute("height",0);const Q=$.createElement("defs");J.append(Q);const re=$.createElement("clipPath"),ie=`clippath_${this.data.id}`;re.setAttribute("id",ie),re.setAttribute("clipPathUnits","objectBoundingBox"),Q.append(re);for(const[,{x:ne,y:ee},{x:le,y:be}]of M){const fe=$.createElement("rect"),Fe=(le-j)/H,K=(O-ee)/V,L=(ne-le)/H,G=(ee-be)/V;fe.setAttribute("x",Fe),fe.setAttribute("y",K),fe.setAttribute("width",L),fe.setAttribute("height",G),re.append(fe),N?.push(`<rect vector-effect="non-scaling-stroke" x="${Fe}" y="${K}" width="${L}" height="${G}"/>`)}this.#e&&(N.push("</g></svg>')"),D.backgroundImage=N.join("")),this.container.append(J),this.container.style.clipPath=`url(#${ie})`}_createPopup(){const{container:M,data:j}=this;M.setAttribute("aria-haspopup","dialog");const k=new X({data:{color:j.color,titleObj:j.titleObj,modificationDate:j.modificationDate,contentsObj:j.contentsObj,richText:j.richText,parentRect:j.rect,borderStyle:0,id:`popup_${j.id}`,rotation:j.rotation},parent:this.parent,elements:[this]});this.parent.div.append(k.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(M,j=null){const k=[];if(this._fieldObjects){const F=this._fieldObjects[M];if(F)for(const{page:O,id:D,exportValues:N}of F){if(O===-1||D===j)continue;const H=typeof N=="string"?N:null,V=document.querySelector(`[data-element-id="${D}"]`);if(V&&!b.has(V)){(0,a.warn)(`_getElementsByName - element not allowed: ${D}`);continue}k.push({id:D,exportValue:H,domElement:V})}return k}for(const F of document.getElementsByName(M)){const{exportValue:O}=F,D=F.getAttribute("data-element-id");D!==j&&b.has(F)&&k.push({id:D,exportValue:O,domElement:F})}return k}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const M=this.getElementsToTriggerPopup();if(Array.isArray(M))for(const j of M)j.classList.add("highlightArea");else M.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:M,data:{id:j}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:M,editId:j})})}}class w extends v{constructor(M,j=null){super(M,{isRenderable:!0,ignoreBorder:!!j?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=M.data.isTooltipOnly}render(){const{data:M,linkService:j}=this,k=document.createElement("a");k.setAttribute("data-element-id",M.id);let F=!1;return M.url?(j.addLinkAttributes(k,M.url,M.newWindow),F=!0):M.action?(this._bindNamedAction(k,M.action),F=!0):M.attachment?(this.#t(k,M.attachment,M.attachmentDest),F=!0):M.setOCGState?(this.#n(k,M.setOCGState),F=!0):M.dest?(this._bindLink(k,M.dest),F=!0):(M.actions&&(M.actions.Action||M.actions["Mouse Up"]||M.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(k,M),F=!0),M.resetForm?(this._bindResetFormAction(k,M.resetForm),F=!0):this.isTooltipOnly&&!F&&(this._bindLink(k,""),F=!0)),this.container.classList.add("linkAnnotation"),F&&this.container.append(k),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(M,j){M.href=this.linkService.getDestinationHash(j),M.onclick=()=>(j&&this.linkService.goToDestination(j),!1),(j||j==="")&&this.#e()}_bindNamedAction(M,j){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>(this.linkService.executeNamedAction(j),!1),this.#e()}#t(M,j,k=null){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>(this.downloadManager?.openOrDownloadData(j.content,j.filename,k),!1),this.#e()}#n(M,j){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>(this.linkService.executeSetOCGState(j),!1),this.#e()}_bindJSAction(M,j){M.href=this.linkService.getAnchorUrl("");const k=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const F of Object.keys(j.actions)){const O=k.get(F);O&&(M[O]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j.id,name:F}}),!1))}M.onclick||(M.onclick=()=>!1),this.#e()}_bindResetFormAction(M,j){const k=M.onclick;if(k||(M.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),k||(M.onclick=()=>!1);return}M.onclick=()=>{k?.();const{fields:F,refs:O,include:D}=j,N=[];if(F.length!==0||O.length!==0){const $=new Set(O);for(const J of F){const Q=this._fieldObjects[J]||[];for(const{id:re}of Q)$.add(re)}for(const J of Object.values(this._fieldObjects))for(const Q of J)$.has(Q.id)===D&&N.push(Q)}else for(const $ of Object.values(this._fieldObjects))N.push(...$);const H=this.annotationStorage,V=[];for(const $ of N){const{id:J}=$;switch(V.push(J),$.type){case"text":{const re=$.defaultValue||"";H.setValue(J,{value:re});break}case"checkbox":case"radiobutton":{const re=$.defaultValue===$.exportValues;H.setValue(J,{value:re});break}case"combobox":case"listbox":{const re=$.defaultValue||"";H.setValue(J,{value:re});break}default:continue}const Q=document.querySelector(`[data-element-id="${J}"]`);if(Q){if(!b.has(Q)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${J}`);continue}}else continue;Q.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:V,name:"ResetForm"}}),!1}}}class S extends v{constructor(M){super(M,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const M=document.createElement("img");return M.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",M.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),M.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(M),this.container}}class C extends v{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(M){this.data.hasOwnCanvas&&(M.previousSibling?.nodeName==="CANVAS"&&(M.previousSibling.hidden=!0),M.hidden=!1)}_getKeyModifier(M){return a.FeatureTest.platform.isMac?M.metaKey:M.ctrlKey}_setEventListener(M,j,k,F,O){k.includes("mouse")?M.addEventListener(k,D=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:O(D),shift:D.shiftKey,modifier:this._getKeyModifier(D)}})}):M.addEventListener(k,D=>{if(k==="blur"){if(!j.focused||!D.relatedTarget)return;j.focused=!1}else if(k==="focus"){if(j.focused)return;j.focused=!0}O&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:O(D)}})})}_setEventListeners(M,j,k,F){for(const[O,D]of k)(D==="Action"||this.data.actions?.[D])&&((D==="Focus"||D==="Blur")&&(j||={focused:!1}),this._setEventListener(M,j,O,D,F),D==="Focus"&&!this.data.actions?.Blur?this._setEventListener(M,j,"blur","Blur",null):D==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(M,j,"focus","Focus",null))}_setBackgroundColor(M){const j=this.data.backgroundColor||null;M.style.backgroundColor=j===null?"transparent":a.Util.makeHexColor(j[0],j[1],j[2])}_setTextStyle(M){const j=["left","center","right"],{fontColor:k}=this.data.defaultAppearanceData,F=this.data.defaultAppearanceData.fontSize||x,O=M.style;let D;const N=2,H=V=>Math.round(10*V)/10;if(this.data.multiLine){const V=Math.abs(this.data.rect[3]-this.data.rect[1]-N),$=Math.round(V/(a.LINE_FACTOR*F))||1,J=V/$;D=Math.min(F,H(J/a.LINE_FACTOR))}else{const V=Math.abs(this.data.rect[3]-this.data.rect[1]-N);D=Math.min(F,H(V/a.LINE_FACTOR))}O.fontSize=`calc(${D}px * var(--scale-factor))`,O.color=a.Util.makeHexColor(k[0],k[1],k[2]),this.data.textAlignment!==null&&(O.textAlign=j[this.data.textAlignment])}_setRequired(M,j){j?M.setAttribute("required",!0):M.removeAttribute("required"),M.setAttribute("aria-required",j)}}class E extends C{constructor(M){const j=M.renderForms||M.data.hasOwnCanvas||!M.data.hasAppearance&&!!M.data.fieldValue;super(M,{isRenderable:j})}setPropertyOnSiblings(M,j,k,F){const O=this.annotationStorage;for(const D of this._getElementsByName(M.name,M.id))D.domElement&&(D.domElement[j]=k),O.setValue(D.id,{[F]:k})}render(){const M=this.annotationStorage,j=this.data.id;this.container.classList.add("textWidgetAnnotation");let k=null;if(this.renderForms){const F=M.getValue(j,{value:this.data.fieldValue});let O=F.value||"";const D=M.getValue(j,{charLimit:this.data.maxLen}).charLimit;D&&O.length>D&&(O=O.slice(0,D));let N=F.formattedValue||this.data.textContent?.join(`
`)||null;N&&this.data.comb&&(N=N.replaceAll(/\s+/g,""));const H={userValue:O,formattedValue:N,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(k=document.createElement("textarea"),k.textContent=N??O,this.data.doNotScroll&&(k.style.overflowY="hidden")):(k=document.createElement("input"),k.type="text",k.setAttribute("value",N??O),this.data.doNotScroll&&(k.style.overflowX="hidden")),this.data.hasOwnCanvas&&(k.hidden=!0),b.add(k),k.setAttribute("data-element-id",j),k.disabled=this.data.readOnly,k.name=this.data.fieldName,k.tabIndex=g,this._setRequired(k,this.data.required),D&&(k.maxLength=D),k.addEventListener("input",$=>{M.setValue(j,{value:$.target.value}),this.setPropertyOnSiblings(k,"value",$.target.value,"value"),H.formattedValue=null}),k.addEventListener("resetform",$=>{const J=this.data.defaultFieldValue??"";k.value=H.userValue=J,H.formattedValue=null});let V=$=>{const{formattedValue:J}=H;J!=null&&($.target.value=J),$.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){k.addEventListener("focus",J=>{if(H.focused)return;const{target:Q}=J;H.userValue&&(Q.value=H.userValue),H.lastCommittedValue=Q.value,H.commitKey=1,this.data.actions?.Focus||(H.focused=!0)}),k.addEventListener("updatefromsandbox",J=>{this.showElementAndHideCanvas(J.target);const Q={value(re){H.userValue=re.detail.value??"",M.setValue(j,{value:H.userValue.toString()}),re.target.value=H.userValue},formattedValue(re){const{formattedValue:ie}=re.detail;H.formattedValue=ie,ie!=null&&re.target!==document.activeElement&&(re.target.value=ie),M.setValue(j,{formattedValue:ie})},selRange(re){re.target.setSelectionRange(...re.detail.selRange)},charLimit:re=>{const{charLimit:ie}=re.detail,{target:ne}=re;if(ie===0){ne.removeAttribute("maxLength");return}ne.setAttribute("maxLength",ie);let ee=H.userValue;!ee||ee.length<=ie||(ee=ee.slice(0,ie),ne.value=H.userValue=ee,M.setValue(j,{value:ee}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:ee,willCommit:!0,commitKey:1,selStart:ne.selectionStart,selEnd:ne.selectionEnd}}))}};this._dispatchEventFromSandbox(Q,J)}),k.addEventListener("keydown",J=>{H.commitKey=1;let Q=-1;if(J.key==="Escape"?Q=0:J.key==="Enter"&&!this.data.multiLine?Q=2:J.key==="Tab"&&(H.commitKey=3),Q===-1)return;const{value:re}=J.target;H.lastCommittedValue!==re&&(H.lastCommittedValue=re,H.userValue=re,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:re,willCommit:!0,commitKey:Q,selStart:J.target.selectionStart,selEnd:J.target.selectionEnd}}))});const $=V;V=null,k.addEventListener("blur",J=>{if(!H.focused||!J.relatedTarget)return;this.data.actions?.Blur||(H.focused=!1);const{value:Q}=J.target;H.userValue=Q,H.lastCommittedValue!==Q&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:Q,willCommit:!0,commitKey:H.commitKey,selStart:J.target.selectionStart,selEnd:J.target.selectionEnd}}),$(J)}),this.data.actions?.Keystroke&&k.addEventListener("beforeinput",J=>{H.lastCommittedValue=null;const{data:Q,target:re}=J,{value:ie,selectionStart:ne,selectionEnd:ee}=re;let le=ne,be=ee;switch(J.inputType){case"deleteWordBackward":{const fe=ie.substring(0,ne).match(/\w*[^\w]*$/);fe&&(le-=fe[0].length);break}case"deleteWordForward":{const fe=ie.substring(ne).match(/^[^\w]*\w*/);fe&&(be+=fe[0].length);break}case"deleteContentBackward":ne===ee&&(le-=1);break;case"deleteContentForward":ne===ee&&(be+=1);break}J.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:ie,change:Q||"",willCommit:!1,selStart:le,selEnd:be}})}),this._setEventListeners(k,H,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.value)}if(V&&k.addEventListener("blur",V),this.data.comb){const J=(this.data.rect[2]-this.data.rect[0])/D;k.classList.add("comb"),k.style.letterSpacing=`calc(${J}px * var(--scale-factor) - 1ch)`}}else k=document.createElement("div"),k.textContent=this.data.fieldValue,k.style.verticalAlign="middle",k.style.display="table-cell",this.data.hasOwnCanvas&&(k.hidden=!0);return this._setTextStyle(k),this._setBackgroundColor(k),this._setDefaultPropertiesFromJS(k),this.container.append(k),this.container}}class T extends C{constructor(M){super(M,{isRenderable:!!M.data.hasOwnCanvas})}}class _ extends C{constructor(M){super(M,{isRenderable:M.renderForms})}render(){const M=this.annotationStorage,j=this.data,k=j.id;let F=M.getValue(k,{value:j.exportValue===j.fieldValue}).value;typeof F=="string"&&(F=F!=="Off",M.setValue(k,{value:F})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const O=document.createElement("input");return b.add(O),O.setAttribute("data-element-id",k),O.disabled=j.readOnly,this._setRequired(O,this.data.required),O.type="checkbox",O.name=j.fieldName,F&&O.setAttribute("checked",!0),O.setAttribute("exportValue",j.exportValue),O.tabIndex=g,O.addEventListener("change",D=>{const{name:N,checked:H}=D.target;for(const V of this._getElementsByName(N,k)){const $=H&&V.exportValue===j.exportValue;V.domElement&&(V.domElement.checked=$),M.setValue(V.id,{value:$})}M.setValue(k,{value:H})}),O.addEventListener("resetform",D=>{const N=j.defaultFieldValue||"Off";D.target.checked=N===j.exportValue}),this.enableScripting&&this.hasJSActions&&(O.addEventListener("updatefromsandbox",D=>{const N={value(H){H.target.checked=H.detail.value!=="Off",M.setValue(k,{value:H.target.checked})}};this._dispatchEventFromSandbox(N,D)}),this._setEventListeners(O,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],D=>D.target.checked)),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class R extends C{constructor(M){super(M,{isRenderable:M.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const M=this.annotationStorage,j=this.data,k=j.id;let F=M.getValue(k,{value:j.fieldValue===j.buttonValue}).value;if(typeof F=="string"&&(F=F!==j.buttonValue,M.setValue(k,{value:F})),F)for(const D of this._getElementsByName(j.fieldName,k))M.setValue(D.id,{value:!1});const O=document.createElement("input");if(b.add(O),O.setAttribute("data-element-id",k),O.disabled=j.readOnly,this._setRequired(O,this.data.required),O.type="radio",O.name=j.fieldName,F&&O.setAttribute("checked",!0),O.tabIndex=g,O.addEventListener("change",D=>{const{name:N,checked:H}=D.target;for(const V of this._getElementsByName(N,k))M.setValue(V.id,{value:!1});M.setValue(k,{value:H})}),O.addEventListener("resetform",D=>{const N=j.defaultFieldValue;D.target.checked=N!=null&&N===j.buttonValue}),this.enableScripting&&this.hasJSActions){const D=j.buttonValue;O.addEventListener("updatefromsandbox",N=>{const H={value:V=>{const $=D===V.detail.value;for(const J of this._getElementsByName(V.target.name)){const Q=$&&J.id===k;J.domElement&&(J.domElement.checked=Q),M.setValue(J.id,{value:Q})}}};this._dispatchEventFromSandbox(H,N)}),this._setEventListeners(O,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],N=>N.target.checked)}return this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class U extends w{constructor(M){super(M,{ignoreBorder:M.data.hasAppearance})}render(){const M=super.render();M.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(M.title=this.data.alternativeText);const j=M.lastChild;return this.enableScripting&&this.hasJSActions&&j&&(this._setDefaultPropertiesFromJS(j),j.addEventListener("updatefromsandbox",k=>{this._dispatchEventFromSandbox({},k)})),M}}class z extends C{constructor(M){super(M,{isRenderable:M.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const M=this.annotationStorage,j=this.data.id,k=M.getValue(j,{value:this.data.fieldValue}),F=document.createElement("select");b.add(F),F.setAttribute("data-element-id",j),F.disabled=this.data.readOnly,this._setRequired(F,this.data.required),F.name=this.data.fieldName,F.tabIndex=g;let O=this.data.combo&&this.data.options.length>0;this.data.combo||(F.size=this.data.options.length,this.data.multiSelect&&(F.multiple=!0)),F.addEventListener("resetform",$=>{const J=this.data.defaultFieldValue;for(const Q of F.options)Q.selected=Q.value===J});for(const $ of this.data.options){const J=document.createElement("option");J.textContent=$.displayValue,J.value=$.exportValue,k.value.includes($.exportValue)&&(J.setAttribute("selected",!0),O=!1),F.append(J)}let D=null;if(O){const $=document.createElement("option");$.value=" ",$.setAttribute("hidden",!0),$.setAttribute("selected",!0),F.prepend($),D=()=>{$.remove(),F.removeEventListener("input",D),D=null},F.addEventListener("input",D)}const N=$=>{const J=$?"value":"textContent",{options:Q,multiple:re}=F;return re?Array.prototype.filter.call(Q,ie=>ie.selected).map(ie=>ie[J]):Q.selectedIndex===-1?null:Q[Q.selectedIndex][J]};let H=N(!1);const V=$=>{const J=$.target.options;return Array.prototype.map.call(J,Q=>({displayValue:Q.textContent,exportValue:Q.value}))};return this.enableScripting&&this.hasJSActions?(F.addEventListener("updatefromsandbox",$=>{const J={value(Q){D?.();const re=Q.detail.value,ie=new Set(Array.isArray(re)?re:[re]);for(const ne of F.options)ne.selected=ie.has(ne.value);M.setValue(j,{value:N(!0)}),H=N(!1)},multipleSelection(Q){F.multiple=!0},remove(Q){const re=F.options,ie=Q.detail.remove;re[ie].selected=!1,F.remove(ie),re.length>0&&Array.prototype.findIndex.call(re,ee=>ee.selected)===-1&&(re[0].selected=!0),M.setValue(j,{value:N(!0),items:V(Q)}),H=N(!1)},clear(Q){for(;F.length!==0;)F.remove(0);M.setValue(j,{value:null,items:[]}),H=N(!1)},insert(Q){const{index:re,displayValue:ie,exportValue:ne}=Q.detail.insert,ee=F.children[re],le=document.createElement("option");le.textContent=ie,le.value=ne,ee?ee.before(le):F.append(le),M.setValue(j,{value:N(!0),items:V(Q)}),H=N(!1)},items(Q){const{items:re}=Q.detail;for(;F.length!==0;)F.remove(0);for(const ie of re){const{displayValue:ne,exportValue:ee}=ie,le=document.createElement("option");le.textContent=ne,le.value=ee,F.append(le)}F.options.length>0&&(F.options[0].selected=!0),M.setValue(j,{value:N(!0),items:V(Q)}),H=N(!1)},indices(Q){const re=new Set(Q.detail.indices);for(const ie of Q.target.options)ie.selected=re.has(ie.index);M.setValue(j,{value:N(!0)}),H=N(!1)},editable(Q){Q.target.disabled=!Q.detail.editable}};this._dispatchEventFromSandbox(J,$)}),F.addEventListener("input",$=>{const J=N(!0);M.setValue(j,{value:J}),$.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:j,name:"Keystroke",value:H,changeEx:J,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(F,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],$=>$.target.value)):F.addEventListener("input",function($){M.setValue(j,{value:N(!0)})}),this.data.combo&&this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class X extends v{constructor(M){const{data:j,elements:k}=M;super(M,{isRenderable:v._hasPopupData(j)}),this.elements=k}render(){this.container.classList.add("popupAnnotation");const M=new W({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),j=[];for(const k of this.elements)k.popup=M,j.push(k.data.id),k.addHighlightArea();return this.container.setAttribute("aria-controls",j.map(k=>`${a.AnnotationPrefix}${k}`).join(",")),this.container}}class W{#e=this.#m.bind(this);#t=this.#F.bind(this);#n=this.#y.bind(this);#r=this.#d.bind(this);#s=null;#i=null;#c=null;#l=null;#o=null;#u=null;#a=null;#f=!1;#h=null;#g=null;#p=null;#b=null;#x=!1;constructor({container:M,color:j,elements:k,titleObj:F,modificationDate:O,contentsObj:D,richText:N,parent:H,rect:V,parentRect:$,open:J}){this.#i=M,this.#b=F,this.#c=D,this.#p=N,this.#u=H,this.#s=j,this.#g=V,this.#a=$,this.#o=k,this.#l=s.PDFDateString.toDateObject(O),this.trigger=k.flatMap(Q=>Q.getElementsToTriggerPopup());for(const Q of this.trigger)Q.addEventListener("click",this.#r),Q.addEventListener("mouseenter",this.#n),Q.addEventListener("mouseleave",this.#t),Q.classList.add("popupTriggerArea");for(const Q of k)Q.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,J&&this.#d()}render(){if(this.#h)return;const{page:{view:M},viewport:{rawDims:{pageWidth:j,pageHeight:k,pageX:F,pageY:O}}}=this.#u,D=this.#h=document.createElement("div");if(D.className="popup",this.#s){const fe=D.style.outlineColor=a.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?D.style.backgroundColor=`color-mix(in srgb, ${fe} 30%, white)`:D.style.backgroundColor=a.Util.makeHexColor(...this.#s.map(K=>Math.floor(.7*(255-K)+K)))}const N=document.createElement("span");N.className="header";const H=document.createElement("h1");if(N.append(H),{dir:H.dir,str:H.textContent}=this.#b,D.append(N),this.#l){const fe=document.createElement("span");fe.classList.add("popupDate"),fe.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),fe.setAttribute("data-l10n-args",JSON.stringify({date:this.#l.toLocaleDateString(),time:this.#l.toLocaleTimeString()})),N.append(fe)}const V=this.#c,$=this.#p;if($?.str&&(!V?.str||V.str===$.str))f.XfaLayer.render({xfaHtml:$.html,intent:"richText",div:D}),D.lastChild.classList.add("richText","popupContent");else{const fe=this._formatContents(V);D.append(fe)}let J=!!this.#a,Q=J?this.#a:this.#g;for(const fe of this.#o)if(!Q||a.Util.intersect(fe.data.rect,Q)!==null){Q=fe.data.rect,J=!0;break}const re=a.Util.normalizeRect([Q[0],M[3]-Q[1]+M[1],Q[2],M[3]-Q[3]+M[1]]),ie=5,ne=J?Q[2]-Q[0]+ie:0,ee=re[0]+ne,le=re[1],{style:be}=this.#i;be.left=`${100*(ee-F)/j}%`,be.top=`${100*(le-O)/k}%`,this.#i.append(D)}_formatContents({str:M,dir:j}){const k=document.createElement("p");k.classList.add("popupContent"),k.dir=j;const F=M.split(/(?:\r\n?|\n)/);for(let O=0,D=F.length;O<D;++O){const N=F[O];k.append(document.createTextNode(N)),O<D-1&&k.append(document.createElement("br"))}return k}#m(M){M.altKey||M.shiftKey||M.ctrlKey||M.metaKey||(M.key==="Enter"||M.key==="Escape"&&this.#f)&&this.#d()}#d(){this.#f=!this.#f,this.#f?(this.#y(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#F(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#y(){this.#h||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#F(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#x=this.isVisible,this.#x&&(this.#i.hidden=!0)}maybeShow(){this.#x&&(this.#x=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class Y extends v{constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0}),this.textContent=M.data.textContent,this.textPosition=M.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const M=document.createElement("div");M.classList.add("annotationTextContent"),M.setAttribute("role","comment");for(const j of this.textContent){const k=document.createElement("span");k.textContent=j,M.append(k)}this.container.append(M)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class se extends v{#e=null;constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const M=this.data,{width:j,height:k}=m(M.rect),F=this.svgFactory.create(j,k,!0),O=this.#e=this.svgFactory.createElement("svg:line");return O.setAttribute("x1",M.rect[2]-M.lineCoordinates[0]),O.setAttribute("y1",M.rect[3]-M.lineCoordinates[1]),O.setAttribute("x2",M.rect[2]-M.lineCoordinates[2]),O.setAttribute("y2",M.rect[3]-M.lineCoordinates[3]),O.setAttribute("stroke-width",M.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),F.append(O),this.container.append(F),!M.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class oe extends v{#e=null;constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const M=this.data,{width:j,height:k}=m(M.rect),F=this.svgFactory.create(j,k,!0),O=M.borderStyle.width,D=this.#e=this.svgFactory.createElement("svg:rect");return D.setAttribute("x",O/2),D.setAttribute("y",O/2),D.setAttribute("width",j-O),D.setAttribute("height",k-O),D.setAttribute("stroke-width",O||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),F.append(D),this.container.append(F),!M.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ue extends v{#e=null;constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const M=this.data,{width:j,height:k}=m(M.rect),F=this.svgFactory.create(j,k,!0),O=M.borderStyle.width,D=this.#e=this.svgFactory.createElement("svg:ellipse");return D.setAttribute("cx",j/2),D.setAttribute("cy",k/2),D.setAttribute("rx",j/2-O/2),D.setAttribute("ry",k/2-O/2),D.setAttribute("stroke-width",O||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),F.append(D),this.container.append(F),!M.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Z extends v{#e=null;constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const M=this.data,{width:j,height:k}=m(M.rect),F=this.svgFactory.create(j,k,!0);let O=[];for(const N of M.vertices){const H=N.x-M.rect[0],V=M.rect[3]-N.y;O.push(H+","+V)}O=O.join(" ");const D=this.#e=this.svgFactory.createElement(this.svgElementName);return D.setAttribute("points",O),D.setAttribute("stroke-width",M.borderStyle.width||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),F.append(D),this.container.append(F),!M.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class te extends Z{constructor(M){super(M),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class he extends v{constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class xe extends v{#e=[];constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const M=this.data,{width:j,height:k}=m(M.rect),F=this.svgFactory.create(j,k,!0);for(const O of M.inkLists){let D=[];for(const H of O){const V=H.x-M.rect[0],$=M.rect[3]-H.y;D.push(`${V},${$}`)}D=D.join(" ");const N=this.svgFactory.createElement(this.svgElementName);this.#e.push(N),N.setAttribute("points",D),N.setAttribute("stroke-width",M.borderStyle.width||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),!M.popupRef&&this.hasPopupData&&this._createPopup(),F.append(N)}return this.container.append(F),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ye extends v{constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ae extends v{constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class we extends v{constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class pe extends v{constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Te extends v{constructor(M){super(M,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ge extends v{#e=null;constructor(M){super(M,{isRenderable:!0});const{filename:j,content:k}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(j,!0),this.content=k,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:j,content:k})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:M,data:j}=this;let k;j.hasAppearance||j.fillAlpha===0?k=document.createElement("div"):(k=document.createElement("img"),k.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(j.name)?"paperclip":"pushpin"}.svg`,j.fillAlpha&&j.fillAlpha<1&&(k.style=`filter: opacity(${Math.round(j.fillAlpha*100)}%);`)),k.addEventListener("dblclick",this.#t.bind(this)),this.#e=k;const{isMac:F}=a.FeatureTest.platform;return M.addEventListener("keydown",O=>{O.key==="Enter"&&(F?O.metaKey:O.ctrlKey)&&this.#t()}),!j.popupRef&&this.hasPopupData?this._createPopup():k.classList.add("popupTriggerArea"),M.append(k),M}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class de{#e=null;#t=null;#n=new Map;constructor({div:M,accessibilityManager:j,annotationCanvasMap:k,page:F,viewport:O}){this.div=M,this.#e=j,this.#t=k,this.page=F,this.viewport=O,this.zIndex=0}#r(M,j){const k=M.firstChild||M;k.id=`${a.AnnotationPrefix}${j}`,this.div.append(M),this.#e?.moveElementInDOM(this.div,M,k,!1)}async render(M){const{annotations:j}=M,k=this.div;(0,s.setLayerDimensions)(k,this.viewport);const F=new Map,O={data:null,layer:k,linkService:M.linkService,downloadManager:M.downloadManager,imageResourcesPath:M.imageResourcesPath||"",renderForms:M.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:M.annotationStorage||new o.AnnotationStorage,enableScripting:M.enableScripting===!0,hasJSActions:M.hasJSActions,fieldObjects:M.fieldObjects,parent:this,elements:null};for(const D of j){if(D.noHTML)continue;const N=D.annotationType===a.AnnotationType.POPUP;if(N){const $=F.get(D.id);if(!$)continue;O.elements=$}else{const{width:$,height:J}=m(D.rect);if($<=0||J<=0)continue}O.data=D;const H=y.create(O);if(!H.isRenderable)continue;if(!N&&D.popupRef){const $=F.get(D.popupRef);$?$.push(H):F.set(D.popupRef,[H])}H.annotationEditorType>0&&this.#n.set(H.data.id,H);const V=H.render();D.hidden&&(V.style.visibility="hidden"),this.#r(V,D.id)}this.#s()}update({viewport:M}){const j=this.div;this.viewport=M,(0,s.setLayerDimensions)(j,{rotation:M.rotation}),this.#s(),j.hidden=!1}#s(){if(!this.#t)return;const M=this.div;for(const[j,k]of this.#t){const F=M.querySelector(`[data-annotation-id="${j}"]`);if(!F)continue;const{firstChild:O}=F;O?O.nodeName==="CANVAS"?O.replaceWith(k):O.before(k):F.append(k)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(M){return this.#n.get(M)}}},780:(n,t,r)=>{r.d(t,{AnnotationStorage:()=>u,PrintAnnotationStorage:()=>d,SerializableEmpty:()=>l});var a=r(266),s=r(796),o=r(825);const l=Object.freeze({map:null,hash:"",transfer:void 0});class u{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(g,x){const b=this.#t.get(g);return b===void 0?x:Object.assign(x,b)}getRawValue(g){return this.#t.get(g)}remove(g){if(this.#t.delete(g),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const x of this.#t.values())if(x instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(g,x){const b=this.#t.get(g);let m=!1;if(b!==void 0)for(const[y,v]of Object.entries(x))b[y]!==v&&(m=!0,b[y]=v);else m=!0,this.#t.set(g,x);m&&this.#n(),x instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(x.constructor._type)}has(g){return this.#t.has(g)}getAll(){return this.#t.size>0?(0,a.objectFromMap)(this.#t):null}setAll(g){for(const[x,b]of Object.entries(g))this.setValue(x,b)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new d(this)}get serializable(){if(this.#t.size===0)return l;const g=new Map,x=new o.MurmurHash3_64,b=[],m=Object.create(null);let y=!1;for(const[v,w]of this.#t){const S=w instanceof s.AnnotationEditor?w.serialize(!1,m):w;S&&(g.set(v,S),x.update(`${v}:${JSON.stringify(S)}`),y||=!!S.bitmap)}if(y)for(const v of g.values())v.bitmap&&b.push(v.bitmap);return g.size>0?{map:g,hash:x.hexdigest(),transfer:b}:l}}class d extends u{#e;constructor(g){super();const{map:x,hash:b,transfer:m}=g.serializable,y=structuredClone(x,m?{transfer:m}:null);this.#e={map:y,hash:b,transfer:m}}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}},406:(n,t,r)=>{r.a(n,async(a,s)=>{try{let se=function(k){if(typeof k=="string"||k instanceof URL?k={url:k}:(0,o.isArrayBuffer)(k)&&(k={data:k}),typeof k!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!k.url&&!k.data&&!k.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const F=new te,{docId:O}=F,D=k.url?ue(k.url):null,N=k.data?Z(k.data):null,H=k.httpHeaders||null,V=k.withCredentials===!0,$=k.password??null,J=k.range instanceof he?k.range:null,Q=Number.isInteger(k.rangeChunkSize)&&k.rangeChunkSize>0?k.rangeChunkSize:_;let re=k.worker instanceof pe?k.worker:null;const ie=k.verbosity,ne=typeof k.docBaseUrl=="string"&&!(0,u.isDataScheme)(k.docBaseUrl)?k.docBaseUrl:null,ee=typeof k.cMapUrl=="string"?k.cMapUrl:null,le=k.cMapPacked!==!1,be=k.CMapReaderFactory||X,fe=typeof k.standardFontDataUrl=="string"?k.standardFontDataUrl:null,Fe=k.StandardFontDataFactory||Y,K=k.stopAtErrors!==!0,L=Number.isInteger(k.maxImageSize)&&k.maxImageSize>-1?k.maxImageSize:-1,G=k.isEvalSupported!==!1,ae=typeof k.isOffscreenCanvasSupported=="boolean"?k.isOffscreenCanvasSupported:!o.isNodeJS,me=Number.isInteger(k.canvasMaxAreaInBytes)?k.canvasMaxAreaInBytes:-1,Se=typeof k.disableFontFace=="boolean"?k.disableFontFace:o.isNodeJS,Ce=k.fontExtraProperties===!0,Ie=k.enableXfa===!0,ve=k.ownerDocument||globalThis.document,ke=k.disableRange===!0,Ee=k.disableStream===!0,Pe=k.disableAutoFetch===!0,De=k.pdfBug===!0,Oe=J?J.length:k.length??NaN,_e=typeof k.useSystemFonts=="boolean"?k.useSystemFonts:!o.isNodeJS&&!Se,Ne=typeof k.useWorkerFetch=="boolean"?k.useWorkerFetch:be===u.DOMCMapReaderFactory&&Fe===u.DOMStandardFontDataFactory&&ee&&fe&&(0,u.isValidFetchUrl)(ee,document.baseURI)&&(0,u.isValidFetchUrl)(fe,document.baseURI),Be=k.canvasFactory||new z({ownerDocument:ve}),Ue=k.filterFactory||new W({docId:O,ownerDocument:ve}),je=null;(0,o.setVerbosityLevel)(ie);const Le={canvasFactory:Be,filterFactory:Ue};if(Ne||(Le.cMapReaderFactory=new be({baseUrl:ee,isCompressed:le}),Le.standardFontDataFactory=new Fe({baseUrl:fe})),!re){const He={verbosity:ie,port:x.GlobalWorkerOptions.workerPort};re=He.port?pe.fromPort(He):new pe(He),F._worker=re}const Me={docId:O,apiVersion:"4.0.269",data:N,password:$,disableAutoFetch:Pe,rangeChunkSize:Q,length:Oe,docBaseUrl:ne,enableXfa:Ie,evaluatorOptions:{maxImageSize:L,disableFontFace:Se,ignoreErrors:K,isEvalSupported:G,isOffscreenCanvasSupported:ae,canvasMaxAreaInBytes:me,fontExtraProperties:Ce,useSystemFonts:_e,cMapUrl:Ne?ee:null,standardFontDataUrl:Ne?fe:null}},qe={ignoreErrors:K,isEvalSupported:G,disableFontFace:Se,fontExtraProperties:Ce,enableXfa:Ie,ownerDocument:ve,disableAutoFetch:Pe,pdfBug:De,styleElement:je};return re.promise.then(function(){if(F.destroyed)throw new Error("Loading aborted");const He=oe(re,Me),ze=new Promise(function(Re){let Xe;J?Xe=new v.PDFDataTransportStream({length:Oe,initialData:J.initialData,progressiveDone:J.progressiveDone,contentDispositionFilename:J.contentDispositionFilename,disableRange:ke,disableStream:Ee},J):N||(Xe=(Ge=>o.isNodeJS?new C.PDFNodeStream(Ge):(0,u.isValidFetchUrl)(Ge.url)?new w.PDFFetchStream(Ge):new S.PDFNetworkStream(Ge))({url:D,length:Oe,httpHeaders:H,withCredentials:V,rangeChunkSize:Q,disableRange:ke,disableStream:Ee})),Re(Xe)});return Promise.all([He,ze]).then(function([Re,Xe]){if(F.destroyed)throw new Error("Loading aborted");const $e=new b.MessageHandler(O,Re,re.port),Ge=new Te($e,F,Xe,qe,Le);F._transport=Ge,$e.send("Ready",null)})}).catch(F._capability.reject),F},ue=function(k){if(k instanceof URL)return k.href;try{return new URL(k,window.location).href}catch{if(o.isNodeJS&&typeof k=="string")return k}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")},Z=function(k){if(o.isNodeJS&&typeof Buffer<"u"&&k instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(k instanceof Uint8Array&&k.byteLength===k.buffer.byteLength)return k;if(typeof k=="string")return(0,o.stringToBytes)(k);if(typeof k=="object"&&!isNaN(k?.length)||(0,o.isArrayBuffer)(k))return new Uint8Array(k);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")};r.d(t,{PDFDataRangeTransport:()=>he,PDFWorker:()=>pe,build:()=>j,getDocument:()=>se,version:()=>M});var o=r(266),l=r(780),u=r(473),d=r(742),f=r(738),g=r(250),x=r(368),b=r(694),m=r(472),y=r(890),v=r(92),w=r(171),S=r(474),C=r(498),E=r(521),T=a([f,C]);[f,C]=T.then?(await T)():T;const _=65536,R=100,U=5e3,z=o.isNodeJS?f.NodeCanvasFactory:u.DOMCanvasFactory,X=o.isNodeJS?f.NodeCMapReaderFactory:u.DOMCMapReaderFactory,W=o.isNodeJS?f.NodeFilterFactory:u.DOMFilterFactory,Y=o.isNodeJS?f.NodeStandardFontDataFactory:u.DOMStandardFontDataFactory;async function oe(k,F){if(k.destroyed)throw new Error("Worker was destroyed");const O=await k.messageHandler.sendWithPromise("GetDocRequest",F,F.data?[F.data.buffer]:null);if(k.destroyed)throw new Error("Worker was destroyed");return O}class te{static#e=0;constructor(){this._capability=new o.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${te.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(F){throw this._worker?.port&&delete this._worker._pendingDestroy,F}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class he{constructor(F,O,D=!1,N=null){this.length=F,this.initialData=O,this.progressiveDone=D,this.contentDispositionFilename=N,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new o.PromiseCapability}addRangeListener(F){this._rangeListeners.push(F)}addProgressListener(F){this._progressListeners.push(F)}addProgressiveReadListener(F){this._progressiveReadListeners.push(F)}addProgressiveDoneListener(F){this._progressiveDoneListeners.push(F)}onDataRange(F,O){for(const D of this._rangeListeners)D(F,O)}onDataProgress(F,O){this._readyCapability.promise.then(()=>{for(const D of this._progressListeners)D(F,O)})}onDataProgressiveRead(F){this._readyCapability.promise.then(()=>{for(const O of this._progressiveReadListeners)O(F)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const F of this._progressiveDoneListeners)F()})}transportReady(){this._readyCapability.resolve()}requestDataRange(F,O){(0,o.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xe{constructor(F,O){this._pdfInfo=F,this._transport=O}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,o.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(F){return this._transport.getPage(F)}getPageIndex(F){return this._transport.getPageIndex(F)}getDestinations(){return this._transport.getDestinations()}getDestination(F){return this._transport.getDestination(F)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(F=!1){return this._transport.startCleanup(F||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class ye{#e=null;#t=!1;constructor(F,O,D,N=!1){this._pageIndex=F,this._pageInfo=O,this._transport=D,this._stats=N?new u.StatTimer:null,this._pdfBug=N,this.commonObjs=D.commonObjs,this.objs=new ge,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:F,rotation:O=this.rotate,offsetX:D=0,offsetY:N=0,dontFlip:H=!1}={}){return new u.PageViewport({viewBox:this.view,scale:F,rotation:O,offsetX:D,offsetY:N,dontFlip:H})}getAnnotations({intent:F="display"}={}){const O=this._transport.getRenderingIntent(F);return this._transport.getAnnotations(this._pageIndex,O.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,o.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:F,viewport:O,intent:D="display",annotationMode:N=o.AnnotationMode.ENABLE,transform:H=null,background:V=null,optionalContentConfigPromise:$=null,annotationCanvasMap:J=null,pageColors:Q=null,printAnnotationStorage:re=null}){this._stats?.time("Overall");const ie=this._transport.getRenderingIntent(D,N,re);this.#t=!1,this.#r(),$||($=this._transport.getOptionalContentConfig());let ne=this._intentStates.get(ie.cacheKey);ne||(ne=Object.create(null),this._intentStates.set(ie.cacheKey,ne)),ne.streamReaderCancelTimeout&&(clearTimeout(ne.streamReaderCancelTimeout),ne.streamReaderCancelTimeout=null);const ee=!!(ie.renderingIntent&o.RenderingIntentFlag.PRINT);ne.displayReadyCapability||(ne.displayReadyCapability=new o.PromiseCapability,ne.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ie));const le=Fe=>{ne.renderTasks.delete(be),(this._maybeCleanupAfterRender||ee)&&(this.#t=!0),this.#n(!ee),Fe?(be.capability.reject(Fe),this._abortOperatorList({intentState:ne,reason:Fe instanceof Error?Fe:new Error(Fe)})):be.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},be=new ce({callback:le,params:{canvasContext:F,viewport:O,transform:H,background:V},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:J,operatorList:ne.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ee,pdfBug:this._pdfBug,pageColors:Q});(ne.renderTasks||=new Set).add(be);const fe=be.task;return Promise.all([ne.displayReadyCapability.promise,$]).then(([Fe,K])=>{if(this.destroyed){le();return}this._stats?.time("Rendering"),be.initializeGraphics({transparency:Fe,optionalContentConfig:K}),be.operatorListChanged()}).catch(le),fe}getOperatorList({intent:F="display",annotationMode:O=o.AnnotationMode.ENABLE,printAnnotationStorage:D=null}={}){function N(){V.operatorList.lastChunk&&(V.opListReadCapability.resolve(V.operatorList),V.renderTasks.delete($))}const H=this._transport.getRenderingIntent(F,O,D,!0);let V=this._intentStates.get(H.cacheKey);V||(V=Object.create(null),this._intentStates.set(H.cacheKey,V));let $;return V.opListReadCapability||($=Object.create(null),$.operatorListChanged=N,V.opListReadCapability=new o.PromiseCapability,(V.renderTasks||=new Set).add($),V.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(H)),V.opListReadCapability.promise}streamTextContent({includeMarkedContent:F=!1,disableNormalization:O=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:F===!0,disableNormalization:O===!0},{highWaterMark:100,size(N){return N.items.length}})}getTextContent(F={}){if(this._transport._htmlForXfa)return this.getXfa().then(D=>E.XfaText.textContent(D));const O=this.streamTextContent(F);return new Promise(function(D,N){function H(){V.read().then(function({value:J,done:Q}){if(Q){D($);return}Object.assign($.styles,J.styles),$.items.push(...J.items),H()},N)}const V=O.getReader(),$={items:[],styles:Object.create(null)};H()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const F=[];for(const O of this._intentStates.values())if(this._abortOperatorList({intentState:O,reason:new Error("Page was destroyed."),force:!0}),!O.opListReadCapability)for(const D of O.renderTasks)F.push(D.completed),D.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(F)}cleanup(F=!1){this.#t=!0;const O=this.#n(!1);return F&&O&&(this._stats&&=new u.StatTimer),O}#n(F=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(F)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},U),!1;for(const{renderTasks:O,operatorList:D}of this._intentStates.values())if(O.size>0||!D.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(F,O){const D=this._intentStates.get(O);D&&(this._stats?.timeEnd("Page Request"),D.displayReadyCapability?.resolve(F))}_renderPageChunk(F,O){for(let D=0,N=F.length;D<N;D++)O.operatorList.fnArray.push(F.fnArray[D]),O.operatorList.argsArray.push(F.argsArray[D]);O.operatorList.lastChunk=F.lastChunk,O.operatorList.separateAnnots=F.separateAnnots;for(const D of O.renderTasks)D.operatorListChanged();F.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:F,cacheKey:O,annotationStorageSerializable:D}){const{map:N,transfer:H}=D,$=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:F,cacheKey:O,annotationStorage:N},H).getReader(),J=this._intentStates.get(O);J.streamReader=$;const Q=()=>{$.read().then(({value:re,done:ie})=>{if(ie){J.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(re,J),Q())},re=>{if(J.streamReader=null,!this._transport.destroyed){if(J.operatorList){J.operatorList.lastChunk=!0;for(const ie of J.renderTasks)ie.operatorListChanged();this.#n(!0)}if(J.displayReadyCapability)J.displayReadyCapability.reject(re);else if(J.opListReadCapability)J.opListReadCapability.reject(re);else throw re}})};Q()}_abortOperatorList({intentState:F,reason:O,force:D=!1}){if(F.streamReader){if(F.streamReaderCancelTimeout&&(clearTimeout(F.streamReaderCancelTimeout),F.streamReaderCancelTimeout=null),!D){if(F.renderTasks.size>0)return;if(O instanceof u.RenderingCancelledException){let N=R;O.extraDelay>0&&O.extraDelay<1e3&&(N+=O.extraDelay),F.streamReaderCancelTimeout=setTimeout(()=>{F.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:F,reason:O,force:!0})},N);return}}if(F.streamReader.cancel(new o.AbortException(O.message)).catch(()=>{}),F.streamReader=null,!this._transport.destroyed){for(const[N,H]of this._intentStates)if(H===F){this._intentStates.delete(N);break}this.cleanup()}}}get stats(){return this._stats}}class Ae{#e=new Set;#t=Promise.resolve();postMessage(F,O){const D={data:structuredClone(F,O?{transfer:O}:null)};this.#t.then(()=>{for(const N of this.#e)N.call(this,D)})}addEventListener(F,O){this.#e.add(O)}removeEventListener(F,O){this.#e.delete(O)}terminate(){this.#e.clear()}}const we={isWorkerDisabled:!1,fakeWorkerId:0};o.isNodeJS&&(we.isWorkerDisabled=!0,x.GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),we.isSameOrigin=function(k,F){let O;try{if(O=new URL(k),!O.origin||O.origin==="null")return!1}catch{return!1}const D=new URL(F,O);return O.origin===D.origin},we.createCDNWrapper=function(k){const F=`await import("${k}");`;return URL.createObjectURL(new Blob([F],{type:"text/javascript"}))};class pe{static#e;constructor({name:F=null,port:O=null,verbosity:D=(0,o.getVerbosityLevel)()}={}){if(this.name=F,this.destroyed=!1,this.verbosity=D,this._readyCapability=new o.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,O){if(pe.#e?.has(O))throw new Error("Cannot use more than one PDFWorker per port.");(pe.#e||=new WeakMap).set(O,this),this._initializeFromPort(O);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(F){this._port=F,this._messageHandler=new b.MessageHandler("main","worker",F),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!we.isWorkerDisabled&&!pe.#t){let{workerSrc:F}=pe;try{we.isSameOrigin(window.location.href,F)||(F=we.createCDNWrapper(new URL(F,window.location).href));const O=new Worker(F,{type:"module"}),D=new b.MessageHandler("main","worker",O),N=()=>{O.removeEventListener("error",H),D.destroy(),O.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},H=()=>{this._webWorker||N()};O.addEventListener("error",H),D.on("test",$=>{if(O.removeEventListener("error",H),this.destroyed){N();return}$?(this._messageHandler=D,this._port=O,this._webWorker=O,this._readyCapability.resolve(),D.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),D.destroy(),O.terminate())}),D.on("ready",$=>{if(O.removeEventListener("error",H),this.destroyed){N();return}try{V()}catch{this._setupFakeWorker()}});const V=()=>{const $=new Uint8Array;D.send("test",$,[$.buffer])};V();return}catch{(0,o.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){we.isWorkerDisabled||((0,o.warn)("Setting up fake worker."),we.isWorkerDisabled=!0),pe._setupFakeWorkerGlobal.then(F=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const O=new Ae;this._port=O;const D=`fake${we.fakeWorkerId++}`,N=new b.MessageHandler(D+"_worker",D,O);F.setup(N,O);const H=new b.MessageHandler(D,D+"_worker",O);this._messageHandler=H,this._readyCapability.resolve(),H.send("configure",{verbosity:this.verbosity})}).catch(F=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${F.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pe.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(F){if(!F?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const O=this.#e?.get(F.port);if(O){if(O._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return O}return new pe(F)}static get workerSrc(){if(x.GlobalWorkerOptions.workerSrc)return x.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#t(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const F=async()=>this.#t?this.#t:(await __vitePreload(()=>import(this.workerSrc),__vite__mapDeps([]))).WorkerMessageHandler;return(0,o.shadow)(this,"_setupFakeWorkerGlobal",F())}}class Te{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(F,O,D,N,H){this.messageHandler=F,this.loadingTask=O,this.commonObjs=new ge,this.fontLoader=new d.FontLoader({ownerDocument:N.ownerDocument,styleElement:N.styleElement}),this._params=N,this.canvasFactory=H.canvasFactory,this.filterFactory=H.filterFactory,this.cMapReaderFactory=H.cMapReaderFactory,this.standardFontDataFactory=H.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=D,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new o.PromiseCapability,this.setupMessageHandler()}#s(F,O=null){const D=this.#e.get(F);if(D)return D;const N=this.messageHandler.sendWithPromise(F,O);return this.#e.set(F,N),N}get annotationStorage(){return(0,o.shadow)(this,"annotationStorage",new l.AnnotationStorage)}getRenderingIntent(F,O=o.AnnotationMode.ENABLE,D=null,N=!1){let H=o.RenderingIntentFlag.DISPLAY,V=l.SerializableEmpty;switch(F){case"any":H=o.RenderingIntentFlag.ANY;break;case"display":break;case"print":H=o.RenderingIntentFlag.PRINT;break;default:(0,o.warn)(`getRenderingIntent - invalid intent: ${F}`)}switch(O){case o.AnnotationMode.DISABLE:H+=o.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case o.AnnotationMode.ENABLE:break;case o.AnnotationMode.ENABLE_FORMS:H+=o.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case o.AnnotationMode.ENABLE_STORAGE:H+=o.RenderingIntentFlag.ANNOTATIONS_STORAGE,V=(H&o.RenderingIntentFlag.PRINT&&D instanceof l.PrintAnnotationStorage?D:this.annotationStorage).serializable;break;default:(0,o.warn)(`getRenderingIntent - invalid annotationMode: ${O}`)}return N&&(H+=o.RenderingIntentFlag.OPLIST),{renderingIntent:H,cacheKey:`${H}_${V.hash}`,annotationStorageSerializable:V}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new o.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const F=[];for(const D of this.#t.values())F.push(D._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const O=this.messageHandler.sendWithPromise("Terminate",null);return F.push(O),Promise.all(F).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new o.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:F,loadingTask:O}=this;F.on("GetReader",(D,N)=>{(0,o.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=H=>{this._lastProgress={loaded:H.loaded,total:H.total}},N.onPull=()=>{this._fullReader.read().then(function({value:H,done:V}){if(V){N.close();return}(0,o.assert)(H instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),N.enqueue(new Uint8Array(H),1,[H])}).catch(H=>{N.error(H)})},N.onCancel=H=>{this._fullReader.cancel(H),N.ready.catch(V=>{if(!this.destroyed)throw V})}}),F.on("ReaderHeadersReady",D=>{const N=new o.PromiseCapability,H=this._fullReader;return H.headersReady.then(()=>{(!H.isStreamingSupported||!H.isRangeSupported)&&(this._lastProgress&&O.onProgress?.(this._lastProgress),H.onProgress=V=>{O.onProgress?.({loaded:V.loaded,total:V.total})}),N.resolve({isStreamingSupported:H.isStreamingSupported,isRangeSupported:H.isRangeSupported,contentLength:H.contentLength})},N.reject),N.promise}),F.on("GetRangeReader",(D,N)=>{(0,o.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const H=this._networkStream.getRangeReader(D.begin,D.end);if(!H){N.close();return}N.onPull=()=>{H.read().then(function({value:V,done:$}){if($){N.close();return}(0,o.assert)(V instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),N.enqueue(new Uint8Array(V),1,[V])}).catch(V=>{N.error(V)})},N.onCancel=V=>{H.cancel(V),N.ready.catch($=>{if(!this.destroyed)throw $})}}),F.on("GetDoc",({pdfInfo:D})=>{this._numPages=D.numPages,this._htmlForXfa=D.htmlForXfa,delete D.htmlForXfa,O._capability.resolve(new xe(D,this))}),F.on("DocException",function(D){let N;switch(D.name){case"PasswordException":N=new o.PasswordException(D.message,D.code);break;case"InvalidPDFException":N=new o.InvalidPDFException(D.message);break;case"MissingPDFException":N=new o.MissingPDFException(D.message);break;case"UnexpectedResponseException":N=new o.UnexpectedResponseException(D.message,D.status);break;case"UnknownErrorException":N=new o.UnknownErrorException(D.message,D.details);break;default:(0,o.unreachable)("DocException - expected a valid Error.")}O._capability.reject(N)}),F.on("PasswordRequest",D=>{if(this.#r=new o.PromiseCapability,O.onPassword){const N=H=>{H instanceof Error?this.#r.reject(H):this.#r.resolve({password:H})};try{O.onPassword(N,D.code)}catch(H){this.#r.reject(H)}}else this.#r.reject(new o.PasswordException(D.message,D.code));return this.#r.promise}),F.on("DataLoaded",D=>{O.onProgress?.({loaded:D.length,total:D.length}),this.downloadInfoCapability.resolve(D)}),F.on("StartRenderPage",D=>{if(this.destroyed)return;this.#t.get(D.pageIndex)._startRenderPage(D.transparency,D.cacheKey)}),F.on("commonobj",([D,N,H])=>{if(!this.destroyed&&!this.commonObjs.has(D))switch(N){case"Font":const V=this._params;if("error"in H){const Q=H.error;(0,o.warn)(`Error during font loading: ${Q}`),this.commonObjs.resolve(D,Q);break}const $=V.pdfBug&&globalThis.FontInspector?.enabled?(Q,re)=>globalThis.FontInspector.fontAdded(Q,re):null,J=new d.FontFaceObject(H,{isEvalSupported:V.isEvalSupported,disableFontFace:V.disableFontFace,ignoreErrors:V.ignoreErrors,inspectFont:$});this.fontLoader.bind(J).catch(Q=>F.sendWithPromise("FontFallback",{id:D})).finally(()=>{!V.fontExtraProperties&&J.data&&(J.data=null),this.commonObjs.resolve(D,J)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(D,H);break;default:throw new Error(`Got unknown common object type ${N}`)}}),F.on("obj",([D,N,H,V])=>{if(this.destroyed)return;const $=this.#t.get(N);if(!$.objs.has(D)){if($._intentStates.size===0){V?.bitmap?.close();return}switch(H){case"Image":if($.objs.resolve(D,V),V){let J;if(V.bitmap){const{width:Q,height:re}=V;J=Q*re*4}else J=V.data?.length||0;J>o.MAX_IMAGE_SIZE_TO_CACHE&&($._maybeCleanupAfterRender=!0)}break;case"Pattern":$.objs.resolve(D,V);break;default:throw new Error(`Got unknown object type ${H}`)}}}),F.on("DocProgress",D=>{this.destroyed||O.onProgress?.({loaded:D.loaded,total:D.total})}),F.on("FetchBuiltInCMap",D=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(D):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),F.on("FetchStandardFontData",D=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(D):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,o.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:F,transfer:O}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:F,filename:this._fullReader?.filename??null},O).finally(()=>{this.annotationStorage.resetModified()})}getPage(F){if(!Number.isInteger(F)||F<=0||F>this._numPages)return Promise.reject(new Error("Invalid page request."));const O=F-1,D=this.#n.get(O);if(D)return D;const N=this.messageHandler.sendWithPromise("GetPage",{pageIndex:O}).then(H=>{if(this.destroyed)throw new Error("Transport destroyed");const V=new ye(O,H,this,this._params.pdfBug);return this.#t.set(O,V),V});return this.#n.set(O,N),N}getPageIndex(F){return typeof F!="object"||F===null||!Number.isInteger(F.num)||F.num<0||!Number.isInteger(F.gen)||F.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:F.num,gen:F.gen})}getAnnotations(F,O){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:F,intent:O})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(F){return typeof F!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:F})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(F){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:F})}getStructTree(F){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:F})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(F=>new y.OptionalContentConfig(F))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const F="GetMetadata",O=this.#e.get(F);if(O)return O;const D=this.messageHandler.sendWithPromise(F,null).then(N=>({info:N[0],metadata:N[1]?new m.Metadata(N[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(F,D),D}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(F=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const O of this.#t.values())if(!O.cleanup())throw new Error(`startCleanup: Page ${O.pageNumber} is currently rendering.`);this.commonObjs.clear(),F||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:F,enableXfa:O}=this._params;return(0,o.shadow)(this,"loadingParams",{disableAutoFetch:F,enableXfa:O})}}class ge{#e=Object.create(null);#t(F){return this.#e[F]||={capability:new o.PromiseCapability,data:null}}get(F,O=null){if(O){const N=this.#t(F);return N.capability.promise.then(()=>O(N.data)),null}const D=this.#e[F];if(!D?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${F}.`);return D.data}has(F){return this.#e[F]?.capability.settled||!1}resolve(F,O=null){const D=this.#t(F);D.data=O,D.capability.resolve()}clear(){for(const F in this.#e){const{data:O}=this.#e[F];O?.bitmap?.close()}this.#e=Object.create(null)}}class de{#e=null;constructor(F){this.#e=F,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(F=0){this.#e.cancel(null,F)}get separateAnnots(){const{separateAnnots:F}=this.#e.operatorList;if(!F)return!1;const{annotationCanvasMap:O}=this.#e;return F.form||F.canvas&&O?.size>0}}class ce{static#e=new WeakSet;constructor({callback:F,params:O,objs:D,commonObjs:N,annotationCanvasMap:H,operatorList:V,pageIndex:$,canvasFactory:J,filterFactory:Q,useRequestAnimationFrame:re=!1,pdfBug:ie=!1,pageColors:ne=null}){this.callback=F,this.params=O,this.objs=D,this.commonObjs=N,this.annotationCanvasMap=H,this.operatorListIdx=null,this.operatorList=V,this._pageIndex=$,this.canvasFactory=J,this.filterFactory=Q,this._pdfBug=ie,this.pageColors=ne,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=re===!0&&typeof window<"u",this.cancelled=!1,this.capability=new o.PromiseCapability,this.task=new de(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=O.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:F=!1,optionalContentConfig:O}){if(this.cancelled)return;if(this._canvas){if(ce.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ce.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:D,viewport:N,transform:H,background:V}=this.params;this.gfx=new g.CanvasGraphics(D,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:O},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:H,viewport:N,transparency:F,background:V}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(F=null,O=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),ce.#e.delete(this._canvas),this.callback(F||new u.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,O))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ce.#e.delete(this._canvas),this.callback())))}}const M="4.0.269",j="f4b396f6c";s()}catch(_){s(_)}})},822:(n,t,r)=>{r.d(t,{BaseCMapReaderFactory:()=>l,BaseCanvasFactory:()=>o,BaseFilterFactory:()=>s,BaseSVGFactory:()=>d,BaseStandardFontDataFactory:()=>u});var a=r(266);class s{constructor(){this.constructor===s&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(g){return"none"}addHCMFilter(g,x){return"none"}addHighlightHCMFilter(g,x,b,m){return"none"}destroy(g=!1){}}class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,x){if(g<=0||x<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(g,x);return{canvas:b,context:b.getContext("2d")}}reset(g,x,b){if(!g.canvas)throw new Error("Canvas is not specified");if(x<=0||b<=0)throw new Error("Invalid canvas size");g.canvas.width=x,g.canvas.height=b}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,x){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}class l{constructor({baseUrl:g=null,isCompressed:x=!0}){this.constructor===l&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=x}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const x=this.baseUrl+g+(this.isCompressed?".bcmap":""),b=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(x,b).catch(m=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${x}`)})}_fetchData(g,x){(0,a.unreachable)("Abstract method `_fetchData` called.")}}class u{constructor({baseUrl:g=null}){this.constructor===u&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const x=`${this.baseUrl}${g}`;return this._fetchData(x).catch(b=>{throw new Error(`Unable to load font data at: ${x}`)})}_fetchData(g){(0,a.unreachable)("Abstract method `_fetchData` called.")}}class d{constructor(){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,x,b=!1){if(g<=0||x<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),b||(m.setAttribute("width",`${g}px`),m.setAttribute("height",`${x}px`)),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${g} ${x}`),m}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,a.unreachable)("Abstract method `_createSVG` called.")}}},250:(n,t,r)=>{r.d(t,{CanvasGraphics:()=>M});var a=r(266),s=r(473);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function l(j,k){if(!k)return;const F=k[2]-k[0],O=k[3]-k[1],D=new Path2D;D.rect(k[0],k[1],F,O),j.clip(D)}class u{constructor(){this.constructor===u&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class d extends u{constructor(k){super(),this._type=k[1],this._bbox=k[2],this._colorStops=k[3],this._p0=k[4],this._p1=k[5],this._r0=k[6],this._r1=k[7],this.matrix=null}_createGradient(k){let F;this._type==="axial"?F=k.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(F=k.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const O of this._colorStops)F.addColorStop(O[0],O[1]);return F}getPattern(k,F,O,D){let N;if(D===o.STROKE||D===o.FILL){const H=F.current.getClippedPathBoundingBox(D,(0,s.getCurrentTransform)(k))||[0,0,0,0],V=Math.ceil(H[2]-H[0])||1,$=Math.ceil(H[3]-H[1])||1,J=F.cachedCanvases.getCanvas("pattern",V,$,!0),Q=J.context;Q.clearRect(0,0,Q.canvas.width,Q.canvas.height),Q.beginPath(),Q.rect(0,0,Q.canvas.width,Q.canvas.height),Q.translate(-H[0],-H[1]),O=a.Util.transform(O,[1,0,0,1,H[0],H[1]]),Q.transform(...F.baseTransform),this.matrix&&Q.transform(...this.matrix),l(Q,this._bbox),Q.fillStyle=this._createGradient(Q),Q.fill(),N=k.createPattern(J.canvas,"no-repeat");const re=new DOMMatrix(O);N.setTransform(re)}else l(k,this._bbox),N=this._createGradient(k);return N}}function f(j,k,F,O,D,N,H,V){const $=k.coords,J=k.colors,Q=j.data,re=j.width*4;let ie;$[F+1]>$[O+1]&&(ie=F,F=O,O=ie,ie=N,N=H,H=ie),$[O+1]>$[D+1]&&(ie=O,O=D,D=ie,ie=H,H=V,V=ie),$[F+1]>$[O+1]&&(ie=F,F=O,O=ie,ie=N,N=H,H=ie);const ne=($[F]+k.offsetX)*k.scaleX,ee=($[F+1]+k.offsetY)*k.scaleY,le=($[O]+k.offsetX)*k.scaleX,be=($[O+1]+k.offsetY)*k.scaleY,fe=($[D]+k.offsetX)*k.scaleX,Fe=($[D+1]+k.offsetY)*k.scaleY;if(ee>=Fe)return;const K=J[N],L=J[N+1],G=J[N+2],ae=J[H],me=J[H+1],Se=J[H+2],Ce=J[V],Ie=J[V+1],ve=J[V+2],ke=Math.round(ee),Ee=Math.round(Fe);let Pe,De,Oe,_e,Ne,Be,Ue,je;for(let Le=ke;Le<=Ee;Le++){if(Le<be){const Re=Le<ee?0:(ee-Le)/(ee-be);Pe=ne-(ne-le)*Re,De=K-(K-ae)*Re,Oe=L-(L-me)*Re,_e=G-(G-Se)*Re}else{let Re;Le>Fe?Re=1:be===Fe?Re=0:Re=(be-Le)/(be-Fe),Pe=le-(le-fe)*Re,De=ae-(ae-Ce)*Re,Oe=me-(me-Ie)*Re,_e=Se-(Se-ve)*Re}let Me;Le<ee?Me=0:Le>Fe?Me=1:Me=(ee-Le)/(ee-Fe),Ne=ne-(ne-fe)*Me,Be=K-(K-Ce)*Me,Ue=L-(L-Ie)*Me,je=G-(G-ve)*Me;const qe=Math.round(Math.min(Pe,Ne)),He=Math.round(Math.max(Pe,Ne));let ze=re*Le+qe*4;for(let Re=qe;Re<=He;Re++)Me=(Pe-Re)/(Pe-Ne),Me<0?Me=0:Me>1&&(Me=1),Q[ze++]=De-(De-Be)*Me|0,Q[ze++]=Oe-(Oe-Ue)*Me|0,Q[ze++]=_e-(_e-je)*Me|0,Q[ze++]=255}}function g(j,k,F){const O=k.coords,D=k.colors;let N,H;switch(k.type){case"lattice":const V=k.verticesPerRow,$=Math.floor(O.length/V)-1,J=V-1;for(N=0;N<$;N++){let Q=N*V;for(let re=0;re<J;re++,Q++)f(j,F,O[Q],O[Q+1],O[Q+V],D[Q],D[Q+1],D[Q+V]),f(j,F,O[Q+V+1],O[Q+1],O[Q+V],D[Q+V+1],D[Q+1],D[Q+V])}break;case"triangles":for(N=0,H=O.length;N<H;N+=3)f(j,F,O[N],O[N+1],O[N+2],D[N],D[N+1],D[N+2]);break;default:throw new Error("illegal figure")}}class x extends u{constructor(k){super(),this._coords=k[2],this._colors=k[3],this._figures=k[4],this._bounds=k[5],this._bbox=k[7],this._background=k[8],this.matrix=null}_createMeshCanvas(k,F,O){const V=Math.floor(this._bounds[0]),$=Math.floor(this._bounds[1]),J=Math.ceil(this._bounds[2])-V,Q=Math.ceil(this._bounds[3])-$,re=Math.min(Math.ceil(Math.abs(J*k[0]*1.1)),3e3),ie=Math.min(Math.ceil(Math.abs(Q*k[1]*1.1)),3e3),ne=J/re,ee=Q/ie,le={coords:this._coords,colors:this._colors,offsetX:-V,offsetY:-$,scaleX:1/ne,scaleY:1/ee},be=re+2*2,fe=ie+2*2,Fe=O.getCanvas("mesh",be,fe,!1),K=Fe.context,L=K.createImageData(re,ie);if(F){const ae=L.data;for(let me=0,Se=ae.length;me<Se;me+=4)ae[me]=F[0],ae[me+1]=F[1],ae[me+2]=F[2],ae[me+3]=255}for(const ae of this._figures)g(L,ae,le);return K.putImageData(L,2,2),{canvas:Fe.canvas,offsetX:V-2*ne,offsetY:$-2*ee,scaleX:ne,scaleY:ee}}getPattern(k,F,O,D){l(k,this._bbox);let N;if(D===o.SHADING)N=a.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(k));else if(N=a.Util.singularValueDecompose2dScale(F.baseTransform),this.matrix){const V=a.Util.singularValueDecompose2dScale(this.matrix);N=[N[0]*V[0],N[1]*V[1]]}const H=this._createMeshCanvas(N,D===o.SHADING?null:this._background,F.cachedCanvases);return D!==o.SHADING&&(k.setTransform(...F.baseTransform),this.matrix&&k.transform(...this.matrix)),k.translate(H.offsetX,H.offsetY),k.scale(H.scaleX,H.scaleY),k.createPattern(H.canvas,"no-repeat")}}class b extends u{getPattern(){return"hotpink"}}function m(j){switch(j[0]){case"RadialAxial":return new d(j);case"Mesh":return new x(j);case"Dummy":return new b}throw new Error(`Unknown IR type: ${j[0]}`)}const y={COLORED:1,UNCOLORED:2};class v{static MAX_PATTERN_SIZE=3e3;constructor(k,F,O,D,N){this.operatorList=k[2],this.matrix=k[3]||[1,0,0,1,0,0],this.bbox=k[4],this.xstep=k[5],this.ystep=k[6],this.paintType=k[7],this.tilingType=k[8],this.color=F,this.ctx=O,this.canvasGraphicsFactory=D,this.baseTransform=N}createPatternCanvas(k){const F=this.operatorList,O=this.bbox,D=this.xstep,N=this.ystep,H=this.paintType,V=this.tilingType,$=this.color,J=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+V);const Q=O[0],re=O[1],ie=O[2],ne=O[3],ee=a.Util.singularValueDecompose2dScale(this.matrix),le=a.Util.singularValueDecompose2dScale(this.baseTransform),be=[ee[0]*le[0],ee[1]*le[1]],fe=this.getSizeAndScale(D,this.ctx.canvas.width,be[0]),Fe=this.getSizeAndScale(N,this.ctx.canvas.height,be[1]),K=k.cachedCanvases.getCanvas("pattern",fe.size,Fe.size,!0),L=K.context,G=J.createCanvasGraphics(L);G.groupLevel=k.groupLevel,this.setFillAndStrokeStyleToContext(G,H,$);let ae=Q,me=re,Se=ie,Ce=ne;return Q<0&&(ae=0,Se+=Math.abs(Q)),re<0&&(me=0,Ce+=Math.abs(re)),L.translate(-(fe.scale*ae),-(Fe.scale*me)),G.transform(fe.scale,0,0,Fe.scale,0,0),L.save(),this.clipBbox(G,ae,me,Se,Ce),G.baseTransform=(0,s.getCurrentTransform)(G.ctx),G.executeOperatorList(F),G.endDrawing(),{canvas:K.canvas,scaleX:fe.scale,scaleY:Fe.scale,offsetX:ae,offsetY:me}}getSizeAndScale(k,F,O){k=Math.abs(k);const D=Math.max(v.MAX_PATTERN_SIZE,F);let N=Math.ceil(k*O);return N>=D?N=D:O=N/k,{scale:O,size:N}}clipBbox(k,F,O,D,N){const H=D-F,V=N-O;k.ctx.rect(F,O,H,V),k.current.updateRectMinMax((0,s.getCurrentTransform)(k.ctx),[F,O,D,N]),k.clip(),k.endPath()}setFillAndStrokeStyleToContext(k,F,O){const D=k.ctx,N=k.current;switch(F){case y.COLORED:const H=this.ctx;D.fillStyle=H.fillStyle,D.strokeStyle=H.strokeStyle,N.fillColor=H.fillStyle,N.strokeColor=H.strokeStyle;break;case y.UNCOLORED:const V=a.Util.makeHexColor(O[0],O[1],O[2]);D.fillStyle=V,D.strokeStyle=V,N.fillColor=V,N.strokeColor=V;break;default:throw new a.FormatError(`Unsupported paint type: ${F}`)}}getPattern(k,F,O,D){let N=O;D!==o.SHADING&&(N=a.Util.transform(N,F.baseTransform),this.matrix&&(N=a.Util.transform(N,this.matrix)));const H=this.createPatternCanvas(F);let V=new DOMMatrix(N);V=V.translate(H.offsetX,H.offsetY),V=V.scale(1/H.scaleX,1/H.scaleY);const $=k.createPattern(H.canvas,"repeat");return $.setTransform(V),$}}function w({src:j,srcPos:k=0,dest:F,width:O,height:D,nonBlackColor:N=4294967295,inverseDecode:H=!1}){const V=a.FeatureTest.isLittleEndian?4278190080:255,[$,J]=H?[N,V]:[V,N],Q=O>>3,re=O&7,ie=j.length;F=new Uint32Array(F.buffer);let ne=0;for(let ee=0;ee<D;ee++){for(const be=k+Q;k<be;k++){const fe=k<ie?j[k]:255;F[ne++]=fe&128?J:$,F[ne++]=fe&64?J:$,F[ne++]=fe&32?J:$,F[ne++]=fe&16?J:$,F[ne++]=fe&8?J:$,F[ne++]=fe&4?J:$,F[ne++]=fe&2?J:$,F[ne++]=fe&1?J:$}if(re===0)continue;const le=k<ie?j[k++]:255;for(let be=0;be<re;be++)F[ne++]=le&1<<7-be?J:$}return{srcPos:k,destPos:ne}}const S=16,C=100,E=4096,T=15,_=10,R=1e3,U=16;function z(j,k){if(j._removeMirroring)throw new Error("Context is already forwarding operations.");j.__originalSave=j.save,j.__originalRestore=j.restore,j.__originalRotate=j.rotate,j.__originalScale=j.scale,j.__originalTranslate=j.translate,j.__originalTransform=j.transform,j.__originalSetTransform=j.setTransform,j.__originalResetTransform=j.resetTransform,j.__originalClip=j.clip,j.__originalMoveTo=j.moveTo,j.__originalLineTo=j.lineTo,j.__originalBezierCurveTo=j.bezierCurveTo,j.__originalRect=j.rect,j.__originalClosePath=j.closePath,j.__originalBeginPath=j.beginPath,j._removeMirroring=()=>{j.save=j.__originalSave,j.restore=j.__originalRestore,j.rotate=j.__originalRotate,j.scale=j.__originalScale,j.translate=j.__originalTranslate,j.transform=j.__originalTransform,j.setTransform=j.__originalSetTransform,j.resetTransform=j.__originalResetTransform,j.clip=j.__originalClip,j.moveTo=j.__originalMoveTo,j.lineTo=j.__originalLineTo,j.bezierCurveTo=j.__originalBezierCurveTo,j.rect=j.__originalRect,j.closePath=j.__originalClosePath,j.beginPath=j.__originalBeginPath,delete j._removeMirroring},j.save=function(){k.save(),this.__originalSave()},j.restore=function(){k.restore(),this.__originalRestore()},j.translate=function(O,D){k.translate(O,D),this.__originalTranslate(O,D)},j.scale=function(O,D){k.scale(O,D),this.__originalScale(O,D)},j.transform=function(O,D,N,H,V,$){k.transform(O,D,N,H,V,$),this.__originalTransform(O,D,N,H,V,$)},j.setTransform=function(O,D,N,H,V,$){k.setTransform(O,D,N,H,V,$),this.__originalSetTransform(O,D,N,H,V,$)},j.resetTransform=function(){k.resetTransform(),this.__originalResetTransform()},j.rotate=function(O){k.rotate(O),this.__originalRotate(O)},j.clip=function(O){k.clip(O),this.__originalClip(O)},j.moveTo=function(F,O){k.moveTo(F,O),this.__originalMoveTo(F,O)},j.lineTo=function(F,O){k.lineTo(F,O),this.__originalLineTo(F,O)},j.bezierCurveTo=function(F,O,D,N,H,V){k.bezierCurveTo(F,O,D,N,H,V),this.__originalBezierCurveTo(F,O,D,N,H,V)},j.rect=function(F,O,D,N){k.rect(F,O,D,N),this.__originalRect(F,O,D,N)},j.closePath=function(){k.closePath(),this.__originalClosePath()},j.beginPath=function(){k.beginPath(),this.__originalBeginPath()}}class X{constructor(k){this.canvasFactory=k,this.cache=Object.create(null)}getCanvas(k,F,O){let D;return this.cache[k]!==void 0?(D=this.cache[k],this.canvasFactory.reset(D,F,O)):(D=this.canvasFactory.create(F,O),this.cache[k]=D),D}delete(k){delete this.cache[k]}clear(){for(const k in this.cache){const F=this.cache[k];this.canvasFactory.destroy(F),delete this.cache[k]}}}function W(j,k,F,O,D,N,H,V,$,J){const[Q,re,ie,ne,ee,le]=(0,s.getCurrentTransform)(j);if(re===0&&ie===0){const Fe=H*Q+ee,K=Math.round(Fe),L=V*ne+le,G=Math.round(L),ae=(H+$)*Q+ee,me=Math.abs(Math.round(ae)-K)||1,Se=(V+J)*ne+le,Ce=Math.abs(Math.round(Se)-G)||1;return j.setTransform(Math.sign(Q),0,0,Math.sign(ne),K,G),j.drawImage(k,F,O,D,N,0,0,me,Ce),j.setTransform(Q,re,ie,ne,ee,le),[me,Ce]}if(Q===0&&ne===0){const Fe=V*ie+ee,K=Math.round(Fe),L=H*re+le,G=Math.round(L),ae=(V+J)*ie+ee,me=Math.abs(Math.round(ae)-K)||1,Se=(H+$)*re+le,Ce=Math.abs(Math.round(Se)-G)||1;return j.setTransform(0,Math.sign(re),Math.sign(ie),0,K,G),j.drawImage(k,F,O,D,N,0,0,Ce,me),j.setTransform(Q,re,ie,ne,ee,le),[Ce,me]}j.drawImage(k,F,O,D,N,H,V,$,J);const be=Math.hypot(Q,re),fe=Math.hypot(ie,ne);return[be*$,fe*J]}function Y(j){const{width:k,height:F}=j;if(k>R||F>R)return null;const O=1e3,D=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=k+1;let H=new Uint8Array(N*(F+1)),V,$,J;const Q=k+7&-8;let re=new Uint8Array(Q*F),ie=0;for(const fe of j.data){let Fe=128;for(;Fe>0;)re[ie++]=fe&Fe?0:255,Fe>>=1}let ne=0;for(ie=0,re[ie]!==0&&(H[0]=1,++ne),$=1;$<k;$++)re[ie]!==re[ie+1]&&(H[$]=re[ie]?2:1,++ne),ie++;for(re[ie]!==0&&(H[$]=2,++ne),V=1;V<F;V++){ie=V*Q,J=V*N,re[ie-Q]!==re[ie]&&(H[J]=re[ie]?1:8,++ne);let fe=(re[ie]?4:0)+(re[ie-Q]?8:0);for($=1;$<k;$++)fe=(fe>>2)+(re[ie+1]?4:0)+(re[ie-Q+1]?8:0),D[fe]&&(H[J+$]=D[fe],++ne),ie++;if(re[ie-Q]!==re[ie]&&(H[J+$]=re[ie]?2:4,++ne),ne>O)return null}for(ie=Q*(F-1),J=V*N,re[ie]!==0&&(H[J]=8,++ne),$=1;$<k;$++)re[ie]!==re[ie+1]&&(H[J+$]=re[ie]?4:8,++ne),ie++;if(re[ie]!==0&&(H[J+$]=4,++ne),ne>O)return null;const ee=new Int32Array([0,N,-1,0,-N,0,0,0,1]),le=new Path2D;for(V=0;ne&&V<=F;V++){let fe=V*N;const Fe=fe+k;for(;fe<Fe&&!H[fe];)fe++;if(fe===Fe)continue;le.moveTo(fe%N,V);const K=fe;let L=H[fe];do{const G=ee[L];do fe+=G;while(!H[fe]);const ae=H[fe];ae!==5&&ae!==10?(L=ae,H[fe]=0):(L=ae&51*L>>4,H[fe]&=L>>2|L<<2),le.lineTo(fe%N,fe/N|0),H[fe]||--ne}while(K!==fe);--V}return re=null,H=null,function(fe){fe.save(),fe.scale(1/k,-1/F),fe.translate(0,-F),fe.fill(le),fe.beginPath(),fe.restore()}}class se{constructor(k,F){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,k,F])}clone(){const k=Object.create(this);return k.clipBox=this.clipBox.slice(),k}setCurrentPoint(k,F){this.x=k,this.y=F}updatePathMinMax(k,F,O){[F,O]=a.Util.applyTransform([F,O],k),this.minX=Math.min(this.minX,F),this.minY=Math.min(this.minY,O),this.maxX=Math.max(this.maxX,F),this.maxY=Math.max(this.maxY,O)}updateRectMinMax(k,F){const O=a.Util.applyTransform(F,k),D=a.Util.applyTransform(F.slice(2),k),N=a.Util.applyTransform([F[0],F[3]],k),H=a.Util.applyTransform([F[2],F[1]],k);this.minX=Math.min(this.minX,O[0],D[0],N[0],H[0]),this.minY=Math.min(this.minY,O[1],D[1],N[1],H[1]),this.maxX=Math.max(this.maxX,O[0],D[0],N[0],H[0]),this.maxY=Math.max(this.maxY,O[1],D[1],N[1],H[1])}updateScalingPathMinMax(k,F){a.Util.scaleMinMax(k,F),this.minX=Math.min(this.minX,F[0]),this.maxX=Math.max(this.maxX,F[1]),this.minY=Math.min(this.minY,F[2]),this.maxY=Math.max(this.maxY,F[3])}updateCurvePathMinMax(k,F,O,D,N,H,V,$,J,Q){const re=a.Util.bezierBoundingBox(F,O,D,N,H,V,$,J);if(Q){Q[0]=Math.min(Q[0],re[0],re[2]),Q[1]=Math.max(Q[1],re[0],re[2]),Q[2]=Math.min(Q[2],re[1],re[3]),Q[3]=Math.max(Q[3],re[1],re[3]);return}this.updateRectMinMax(k,re)}getPathBoundingBox(k=o.FILL,F=null){const O=[this.minX,this.minY,this.maxX,this.maxY];if(k===o.STROKE){F||(0,a.unreachable)("Stroke bounding box must include transform.");const D=a.Util.singularValueDecompose2dScale(F),N=D[0]*this.lineWidth/2,H=D[1]*this.lineWidth/2;O[0]-=N,O[1]-=H,O[2]+=N,O[3]+=H}return O}updateClipFromPath(){const k=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(k||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(k){this.clipBox=k,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(k=o.FILL,F=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(k,F))}}function oe(j,k){if(typeof ImageData<"u"&&k instanceof ImageData){j.putImageData(k,0,0);return}const F=k.height,O=k.width,D=F%U,N=(F-D)/U,H=D===0?N:N+1,V=j.createImageData(O,U);let $=0,J;const Q=k.data,re=V.data;let ie,ne,ee,le;if(k.kind===a.ImageKind.GRAYSCALE_1BPP){const be=Q.byteLength,fe=new Uint32Array(re.buffer,0,re.byteLength>>2),Fe=fe.length,K=O+7>>3,L=4294967295,G=a.FeatureTest.isLittleEndian?4278190080:255;for(ie=0;ie<H;ie++){for(ee=ie<N?U:D,J=0,ne=0;ne<ee;ne++){const ae=be-$;let me=0;const Se=ae>K?O:ae*8-7,Ce=Se&-8;let Ie=0,ve=0;for(;me<Ce;me+=8)ve=Q[$++],fe[J++]=ve&128?L:G,fe[J++]=ve&64?L:G,fe[J++]=ve&32?L:G,fe[J++]=ve&16?L:G,fe[J++]=ve&8?L:G,fe[J++]=ve&4?L:G,fe[J++]=ve&2?L:G,fe[J++]=ve&1?L:G;for(;me<Se;me++)Ie===0&&(ve=Q[$++],Ie=128),fe[J++]=ve&Ie?L:G,Ie>>=1}for(;J<Fe;)fe[J++]=0;j.putImageData(V,0,ie*U)}}else if(k.kind===a.ImageKind.RGBA_32BPP){for(ne=0,le=O*U*4,ie=0;ie<N;ie++)re.set(Q.subarray($,$+le)),$+=le,j.putImageData(V,0,ne),ne+=U;ie<H&&(le=O*D*4,re.set(Q.subarray($,$+le)),j.putImageData(V,0,ne))}else if(k.kind===a.ImageKind.RGB_24BPP)for(ee=U,le=O*ee,ie=0;ie<H;ie++){for(ie>=N&&(ee=D,le=O*ee),J=0,ne=le;ne--;)re[J++]=Q[$++],re[J++]=Q[$++],re[J++]=Q[$++],re[J++]=255;j.putImageData(V,0,ie*U)}else throw new Error(`bad image kind: ${k.kind}`)}function ue(j,k){if(k.bitmap){j.drawImage(k.bitmap,0,0);return}const F=k.height,O=k.width,D=F%U,N=(F-D)/U,H=D===0?N:N+1,V=j.createImageData(O,U);let $=0;const J=k.data,Q=V.data;for(let re=0;re<H;re++){const ie=re<N?U:D;({srcPos:$}=w({src:J,srcPos:$,dest:Q,width:O,height:ie,nonBlackColor:0})),j.putImageData(V,0,re*U)}}function Z(j,k){const F=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const O of F)j[O]!==void 0&&(k[O]=j[O]);j.setLineDash!==void 0&&(k.setLineDash(j.getLineDash()),k.lineDashOffset=j.lineDashOffset)}function te(j){if(j.strokeStyle=j.fillStyle="#000000",j.fillRule="nonzero",j.globalAlpha=1,j.lineWidth=1,j.lineCap="butt",j.lineJoin="miter",j.miterLimit=10,j.globalCompositeOperation="source-over",j.font="10px sans-serif",j.setLineDash!==void 0&&(j.setLineDash([]),j.lineDashOffset=0),!a.isNodeJS){const{filter:k}=j;k!=="none"&&k!==""&&(j.filter="none")}}function he(j,k,F,O){const D=j.length;for(let N=3;N<D;N+=4){const H=j[N];if(H===0)j[N-3]=k,j[N-2]=F,j[N-1]=O;else if(H<255){const V=255-H;j[N-3]=j[N-3]*H+k*V>>8,j[N-2]=j[N-2]*H+F*V>>8,j[N-1]=j[N-1]*H+O*V>>8}}}function xe(j,k,F){const O=j.length,D=1/255;for(let N=3;N<O;N+=4){const H=F?F[j[N]]:j[N];k[N]=k[N]*H*D|0}}function ye(j,k,F){const O=j.length;for(let D=3;D<O;D+=4){const N=j[D-3]*77+j[D-2]*152+j[D-1]*28;k[D]=F?k[D]*F[N>>8]>>8:k[D]*N>>16}}function Ae(j,k,F,O,D,N,H,V,$,J,Q){const re=!!N,ie=re?N[0]:0,ne=re?N[1]:0,ee=re?N[2]:0,le=D==="Luminosity"?ye:xe,fe=Math.min(O,Math.ceil(1048576/F));for(let Fe=0;Fe<O;Fe+=fe){const K=Math.min(fe,O-Fe),L=j.getImageData(V-J,Fe+($-Q),F,K),G=k.getImageData(V,Fe+$,F,K);re&&he(L.data,ie,ne,ee),le(L.data,G.data,H),k.putImageData(G,V,Fe+$)}}function we(j,k,F,O){const D=O[0],N=O[1],H=O[2]-D,V=O[3]-N;H===0||V===0||(Ae(k.context,F,H,V,k.subtype,k.backdrop,k.transferMap,D,N,k.offsetX,k.offsetY),j.save(),j.globalAlpha=1,j.globalCompositeOperation="source-over",j.setTransform(1,0,0,1,0,0),j.drawImage(F.canvas,0,0),j.restore())}function pe(j,k){const F=a.Util.singularValueDecompose2dScale(j);F[0]=Math.fround(F[0]),F[1]=Math.fround(F[1]);const O=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return k!==void 0?k:F[0]<=O||F[1]<=O}const Te=["butt","round","square"],ge=["miter","round","bevel"],de={},ce={};class M{constructor(k,F,O,D,N,{optionalContentConfig:H,markedContentStack:V=null},$,J){this.ctx=k,this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=F,this.objs=O,this.canvasFactory=D,this.filterFactory=N,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=V||[],this.optionalContentConfig=H,this.cachedCanvases=new X(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=$,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=J,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(k,F=null){return typeof k=="string"?k.startsWith("g_")?this.commonObjs.get(k):this.objs.get(k):F}beginDrawing({transform:k,viewport:F,transparency:O=!1,background:D=null}){const N=this.ctx.canvas.width,H=this.ctx.canvas.height,V=this.ctx.fillStyle;if(this.ctx.fillStyle=D||"#ffffff",this.ctx.fillRect(0,0,N,H),this.ctx.fillStyle=V,O){const $=this.cachedCanvases.getCanvas("transparent",N,H);this.compositeCtx=this.ctx,this.transparentCanvas=$.canvas,this.ctx=$.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),te(this.ctx),k&&(this.ctx.transform(...k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform(...F.transform),this.viewportScale=F.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList(k,F,O,D){const N=k.argsArray,H=k.fnArray;let V=F||0;const $=N.length;if($===V)return V;const J=$-V>_&&typeof O=="function",Q=J?Date.now()+T:0;let re=0;const ie=this.commonObjs,ne=this.objs;let ee;for(;;){if(D!==void 0&&V===D.nextBreakPoint)return D.breakIt(V,O),V;if(ee=H[V],ee!==a.OPS.dependency)this[ee].apply(this,N[V]);else for(const le of N[V]){const be=le.startsWith("g_")?ie:ne;if(!be.has(le))return be.get(le,O),V}if(V++,V===$)return V;if(J&&++re>_){if(Date.now()>Q)return O(),V;re=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const k of this._cachedBitmapsMap.values()){for(const F of k.values())typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement&&(F.width=F.height=0);k.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const k=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(k!=="none"){const F=this.ctx.filter;this.ctx.filter=k,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=F}}}_scaleImage(k,F){const O=k.width,D=k.height;let N=Math.max(Math.hypot(F[0],F[1]),1),H=Math.max(Math.hypot(F[2],F[3]),1),V=O,$=D,J="prescale1",Q,re;for(;N>2&&V>1||H>2&&$>1;){let ie=V,ne=$;N>2&&V>1&&(ie=V>=16384?Math.floor(V/2)-1||1:Math.ceil(V/2),N/=V/ie),H>2&&$>1&&(ne=$>=16384?Math.floor($/2)-1||1:Math.ceil($)/2,H/=$/ne),Q=this.cachedCanvases.getCanvas(J,ie,ne),re=Q.context,re.clearRect(0,0,ie,ne),re.drawImage(k,0,0,V,$,0,0,ie,ne),k=Q.canvas,V=ie,$=ne,J=J==="prescale1"?"prescale2":"prescale1"}return{img:k,paintWidth:V,paintHeight:$}}_createMaskCanvas(k){const F=this.ctx,{width:O,height:D}=k,N=this.current.fillColor,H=this.current.patternFill,V=(0,s.getCurrentTransform)(F);let $,J,Q,re;if((k.bitmap||k.data)&&k.count>1){const Se=k.bitmap||k.data.buffer;J=JSON.stringify(H?V:[V.slice(0,4),N]),$=this._cachedBitmapsMap.get(Se),$||($=new Map,this._cachedBitmapsMap.set(Se,$));const Ce=$.get(J);if(Ce&&!H){const Ie=Math.round(Math.min(V[0],V[2])+V[4]),ve=Math.round(Math.min(V[1],V[3])+V[5]);return{canvas:Ce,offsetX:Ie,offsetY:ve}}Q=Ce}Q||(re=this.cachedCanvases.getCanvas("maskCanvas",O,D),ue(re.context,k));let ie=a.Util.transform(V,[1/O,0,0,-1/D,0,0]);ie=a.Util.transform(ie,[1,0,0,1,0,-D]);const[ne,ee,le,be]=a.Util.getAxialAlignedBoundingBox([0,0,O,D],ie),fe=Math.round(le-ne)||1,Fe=Math.round(be-ee)||1,K=this.cachedCanvases.getCanvas("fillCanvas",fe,Fe),L=K.context,G=ne,ae=ee;L.translate(-G,-ae),L.transform(...ie),Q||(Q=this._scaleImage(re.canvas,(0,s.getCurrentTransformInverse)(L)),Q=Q.img,$&&H&&$.set(J,Q)),L.imageSmoothingEnabled=pe((0,s.getCurrentTransform)(L),k.interpolate),W(L,Q,0,0,Q.width,Q.height,0,0,O,D),L.globalCompositeOperation="source-in";const me=a.Util.transform((0,s.getCurrentTransformInverse)(L),[1,0,0,1,-G,-ae]);return L.fillStyle=H?N.getPattern(F,this,me,o.FILL):N,L.fillRect(0,0,O,D),$&&!H&&(this.cachedCanvases.delete("fillCanvas"),$.set(J,K.canvas)),{canvas:K.canvas,offsetX:Math.round(G),offsetY:Math.round(ae)}}setLineWidth(k){k!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=k,this.ctx.lineWidth=k}setLineCap(k){this.ctx.lineCap=Te[k]}setLineJoin(k){this.ctx.lineJoin=ge[k]}setMiterLimit(k){this.ctx.miterLimit=k}setDash(k,F){const O=this.ctx;O.setLineDash!==void 0&&(O.setLineDash(k),O.lineDashOffset=F)}setRenderingIntent(k){}setFlatness(k){}setGState(k){for(const[F,O]of k)switch(F){case"LW":this.setLineWidth(O);break;case"LC":this.setLineCap(O);break;case"LJ":this.setLineJoin(O);break;case"ML":this.setMiterLimit(O);break;case"D":this.setDash(O[0],O[1]);break;case"RI":this.setRenderingIntent(O);break;case"FL":this.setFlatness(O);break;case"Font":this.setFont(O[0],O[1]);break;case"CA":this.current.strokeAlpha=O;break;case"ca":this.current.fillAlpha=O,this.ctx.globalAlpha=O;break;case"BM":this.ctx.globalCompositeOperation=O;break;case"SMask":this.current.activeSMask=O?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(O);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const k=this.inSMaskMode;this.current.activeSMask&&!k?this.beginSMaskMode():!this.current.activeSMask&&k&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const k=this.ctx.canvas.width,F=this.ctx.canvas.height,O="smaskGroupAt"+this.groupLevel,D=this.cachedCanvases.getCanvas(O,k,F);this.suspendedCtx=this.ctx,this.ctx=D.context;const N=this.ctx;N.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),Z(this.suspendedCtx,N),z(N,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Z(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(k){if(!this.current.activeSMask)return;k?(k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k[2]=Math.ceil(k[2]),k[3]=Math.ceil(k[3])):k=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const F=this.current.activeSMask,O=this.suspendedCtx;we(O,F,this.ctx,k),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Z(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const k=this.current;this.stateStack.push(k),this.current=k.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Z(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(k,F,O,D,N,H){this.ctx.transform(k,F,O,D,N,H),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(k,F,O){const D=this.ctx,N=this.current;let H=N.x,V=N.y,$,J;const Q=(0,s.getCurrentTransform)(D),re=Q[0]===0&&Q[3]===0||Q[1]===0&&Q[2]===0,ie=re?O.slice(0):null;for(let ne=0,ee=0,le=k.length;ne<le;ne++)switch(k[ne]|0){case a.OPS.rectangle:H=F[ee++],V=F[ee++];const be=F[ee++],fe=F[ee++],Fe=H+be,K=V+fe;D.moveTo(H,V),be===0||fe===0?D.lineTo(Fe,K):(D.lineTo(Fe,V),D.lineTo(Fe,K),D.lineTo(H,K)),re||N.updateRectMinMax(Q,[H,V,Fe,K]),D.closePath();break;case a.OPS.moveTo:H=F[ee++],V=F[ee++],D.moveTo(H,V),re||N.updatePathMinMax(Q,H,V);break;case a.OPS.lineTo:H=F[ee++],V=F[ee++],D.lineTo(H,V),re||N.updatePathMinMax(Q,H,V);break;case a.OPS.curveTo:$=H,J=V,H=F[ee+4],V=F[ee+5],D.bezierCurveTo(F[ee],F[ee+1],F[ee+2],F[ee+3],H,V),N.updateCurvePathMinMax(Q,$,J,F[ee],F[ee+1],F[ee+2],F[ee+3],H,V,ie),ee+=6;break;case a.OPS.curveTo2:$=H,J=V,D.bezierCurveTo(H,V,F[ee],F[ee+1],F[ee+2],F[ee+3]),N.updateCurvePathMinMax(Q,$,J,H,V,F[ee],F[ee+1],F[ee+2],F[ee+3],ie),H=F[ee+2],V=F[ee+3],ee+=4;break;case a.OPS.curveTo3:$=H,J=V,H=F[ee+2],V=F[ee+3],D.bezierCurveTo(F[ee],F[ee+1],H,V,H,V),N.updateCurvePathMinMax(Q,$,J,F[ee],F[ee+1],H,V,H,V,ie),ee+=4;break;case a.OPS.closePath:D.closePath();break}re&&N.updateScalingPathMinMax(Q,ie),N.setCurrentPoint(H,V)}closePath(){this.ctx.closePath()}stroke(k=!0){const F=this.ctx,O=this.current.strokeColor;F.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof O=="object"&&O?.getPattern?(F.save(),F.strokeStyle=O.getPattern(F,this,(0,s.getCurrentTransformInverse)(F),o.STROKE),this.rescaleAndStroke(!1),F.restore()):this.rescaleAndStroke(!0)),k&&this.consumePath(this.current.getClippedPathBoundingBox()),F.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(k=!0){const F=this.ctx,O=this.current.fillColor,D=this.current.patternFill;let N=!1;D&&(F.save(),F.fillStyle=O.getPattern(F,this,(0,s.getCurrentTransformInverse)(F),o.FILL),N=!0);const H=this.current.getClippedPathBoundingBox();this.contentVisible&&H!==null&&(this.pendingEOFill?(F.fill("evenodd"),this.pendingEOFill=!1):F.fill()),N&&F.restore(),k&&this.consumePath(H)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=de}eoClip(){this.pendingClip=ce}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const k=this.pendingTextPaths,F=this.ctx;if(k===void 0){F.beginPath();return}F.save(),F.beginPath();for(const O of k)F.setTransform(...O.transform),F.translate(O.x,O.y),O.addToPath(F,O.fontSize);F.restore(),F.clip(),F.beginPath(),delete this.pendingTextPaths}setCharSpacing(k){this.current.charSpacing=k}setWordSpacing(k){this.current.wordSpacing=k}setHScale(k){this.current.textHScale=k/100}setLeading(k){this.current.leading=-k}setFont(k,F){const O=this.commonObjs.get(k),D=this.current;if(!O)throw new Error(`Can't find font for ${k}`);if(D.fontMatrix=O.fontMatrix||a.FONT_IDENTITY_MATRIX,(D.fontMatrix[0]===0||D.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+k),F<0?(F=-F,D.fontDirection=-1):D.fontDirection=1,this.current.font=O,this.current.fontSize=F,O.isType3Font)return;const N=O.loadedName||"sans-serif",H=O.systemFontInfo?.css||`"${N}", ${O.fallbackName}`;let V="normal";O.black?V="900":O.bold&&(V="bold");const $=O.italic?"italic":"normal";let J=F;F<S?J=S:F>C&&(J=C),this.current.fontSizeScale=F/J,this.ctx.font=`${$} ${V} ${J}px ${H}`}setTextRenderingMode(k){this.current.textRenderingMode=k}setTextRise(k){this.current.textRise=k}moveText(k,F){this.current.x=this.current.lineX+=k,this.current.y=this.current.lineY+=F}setLeadingMoveText(k,F){this.setLeading(-F),this.moveText(k,F)}setTextMatrix(k,F,O,D,N,H){this.current.textMatrix=[k,F,O,D,N,H],this.current.textMatrixScale=Math.hypot(k,F),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(k,F,O,D){const N=this.ctx,H=this.current,V=H.font,$=H.textRenderingMode,J=H.fontSize/H.fontSizeScale,Q=$&a.TextRenderingMode.FILL_STROKE_MASK,re=!!($&a.TextRenderingMode.ADD_TO_PATH_FLAG),ie=H.patternFill&&!V.missingFile;let ne;(V.disableFontFace||re||ie)&&(ne=V.getPathGenerator(this.commonObjs,k)),V.disableFontFace||ie?(N.save(),N.translate(F,O),N.beginPath(),ne(N,J),D&&N.setTransform(...D),(Q===a.TextRenderingMode.FILL||Q===a.TextRenderingMode.FILL_STROKE)&&N.fill(),(Q===a.TextRenderingMode.STROKE||Q===a.TextRenderingMode.FILL_STROKE)&&N.stroke(),N.restore()):((Q===a.TextRenderingMode.FILL||Q===a.TextRenderingMode.FILL_STROKE)&&N.fillText(k,F,O),(Q===a.TextRenderingMode.STROKE||Q===a.TextRenderingMode.FILL_STROKE)&&N.strokeText(k,F,O)),re&&(this.pendingTextPaths||=[]).push({transform:(0,s.getCurrentTransform)(N),x:F,y:O,fontSize:J,addToPath:ne})}get isFontSubpixelAAEnabled(){const{context:k}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);k.scale(1.5,1),k.fillText("I",0,10);const F=k.getImageData(0,0,10,10).data;let O=!1;for(let D=3;D<F.length;D+=4)if(F[D]>0&&F[D]<255){O=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",O)}showText(k){const F=this.current,O=F.font;if(O.isType3Font)return this.showType3Text(k);const D=F.fontSize;if(D===0)return;const N=this.ctx,H=F.fontSizeScale,V=F.charSpacing,$=F.wordSpacing,J=F.fontDirection,Q=F.textHScale*J,re=k.length,ie=O.vertical,ne=ie?1:-1,ee=O.defaultVMetrics,le=D*F.fontMatrix[0],be=F.textRenderingMode===a.TextRenderingMode.FILL&&!O.disableFontFace&&!F.patternFill;N.save(),N.transform(...F.textMatrix),N.translate(F.x,F.y+F.textRise),J>0?N.scale(Q,-1):N.scale(Q,1);let fe;if(F.patternFill){N.save();const ae=F.fillColor.getPattern(N,this,(0,s.getCurrentTransformInverse)(N),o.FILL);fe=(0,s.getCurrentTransform)(N),N.restore(),N.fillStyle=ae}let Fe=F.lineWidth;const K=F.textMatrixScale;if(K===0||Fe===0){const ae=F.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(ae===a.TextRenderingMode.STROKE||ae===a.TextRenderingMode.FILL_STROKE)&&(Fe=this.getSinglePixelWidth())}else Fe/=K;if(H!==1&&(N.scale(H,H),Fe/=H),N.lineWidth=Fe,O.isInvalidPDFjsFont){const ae=[];let me=0;for(const Se of k)ae.push(Se.unicode),me+=Se.width;N.fillText(ae.join(""),0,0),F.x+=me*le*Q,N.restore(),this.compose();return}let L=0,G;for(G=0;G<re;++G){const ae=k[G];if(typeof ae=="number"){L+=ne*ae*D/1e3;continue}let me=!1;const Se=(ae.isSpace?$:0)+V,Ce=ae.fontChar,Ie=ae.accent;let ve,ke,Ee=ae.width;if(ie){const De=ae.vmetric||ee,Oe=-(ae.vmetric?De[1]:Ee*.5)*le,_e=De[2]*le;Ee=De?-De[0]:Ee,ve=Oe/H,ke=(L+_e)/H}else ve=L/H,ke=0;if(O.remeasure&&Ee>0){const De=N.measureText(Ce).width*1e3/D*H;if(Ee<De&&this.isFontSubpixelAAEnabled){const Oe=Ee/De;me=!0,N.save(),N.scale(Oe,1),ve/=Oe}else Ee!==De&&(ve+=(Ee-De)/2e3*D/H)}if(this.contentVisible&&(ae.isInFont||O.missingFile)){if(be&&!Ie)N.fillText(Ce,ve,ke);else if(this.paintChar(Ce,ve,ke,fe),Ie){const De=ve+D*Ie.offset.x/H,Oe=ke-D*Ie.offset.y/H;this.paintChar(Ie.fontChar,De,Oe,fe)}}const Pe=ie?Ee*le-Se*J:Ee*le+Se*J;L+=Pe,me&&N.restore()}ie?F.y-=L:F.x+=L*Q,N.restore(),this.compose()}showType3Text(k){const F=this.ctx,O=this.current,D=O.font,N=O.fontSize,H=O.fontDirection,V=D.vertical?1:-1,$=O.charSpacing,J=O.wordSpacing,Q=O.textHScale*H,re=O.fontMatrix||a.FONT_IDENTITY_MATRIX,ie=k.length,ne=O.textRenderingMode===a.TextRenderingMode.INVISIBLE;let ee,le,be,fe;if(!(ne||N===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,F.save(),F.transform(...O.textMatrix),F.translate(O.x,O.y),F.scale(Q,H),ee=0;ee<ie;++ee){if(le=k[ee],typeof le=="number"){fe=V*le*N/1e3,this.ctx.translate(fe,0),O.x+=fe*Q;continue}const Fe=(le.isSpace?J:0)+$,K=D.charProcOperatorList[le.operatorListId];if(!K){(0,a.warn)(`Type3 character "${le.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=le,this.save(),F.scale(N,N),F.transform(...re),this.executeOperatorList(K),this.restore()),be=a.Util.applyTransform([le.width,0],re)[0]*N+Fe,F.translate(be,0),O.x+=be*Q}F.restore(),this.processingType3=null}}setCharWidth(k,F){}setCharWidthAndBounds(k,F,O,D,N,H){this.ctx.rect(O,D,N-O,H-D),this.ctx.clip(),this.endPath()}getColorN_Pattern(k){let F;if(k[0]==="TilingPattern"){const O=k[1],D=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),N={createCanvasGraphics:H=>new M(H,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};F=new v(k,O,this.ctx,N,D)}else F=this._getPattern(k[1],k[2]);return F}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(k,F,O){const D=a.Util.makeHexColor(k,F,O);this.ctx.strokeStyle=D,this.current.strokeColor=D}setFillRGBColor(k,F,O){const D=a.Util.makeHexColor(k,F,O);this.ctx.fillStyle=D,this.current.fillColor=D,this.current.patternFill=!1}_getPattern(k,F=null){let O;return this.cachedPatterns.has(k)?O=this.cachedPatterns.get(k):(O=m(this.getObject(k)),this.cachedPatterns.set(k,O)),F&&(O.matrix=F),O}shadingFill(k){if(!this.contentVisible)return;const F=this.ctx;this.save();const O=this._getPattern(k);F.fillStyle=O.getPattern(F,this,(0,s.getCurrentTransformInverse)(F),o.SHADING);const D=(0,s.getCurrentTransformInverse)(F);if(D){const{width:N,height:H}=F.canvas,[V,$,J,Q]=a.Util.getAxialAlignedBoundingBox([0,0,N,H],D);this.ctx.fillRect(V,$,J-V,Q-$)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(k,F){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(k)&&k.length===6&&this.transform(...k),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),F)){const O=F[2]-F[0],D=F[3]-F[1];this.ctx.rect(F[0],F[1],O,D),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),F),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(k){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const F=this.ctx;k.isolated||(0,a.info)("TODO: Support non-isolated groups."),k.knockout&&(0,a.warn)("Knockout groups not supported.");const O=(0,s.getCurrentTransform)(F);if(k.matrix&&F.transform(...k.matrix),!k.bbox)throw new Error("Bounding box is required.");let D=a.Util.getAxialAlignedBoundingBox(k.bbox,(0,s.getCurrentTransform)(F));const N=[0,0,F.canvas.width,F.canvas.height];D=a.Util.intersect(D,N)||[0,0,0,0];const H=Math.floor(D[0]),V=Math.floor(D[1]);let $=Math.max(Math.ceil(D[2])-H,1),J=Math.max(Math.ceil(D[3])-V,1),Q=1,re=1;$>E&&(Q=$/E,$=E),J>E&&(re=J/E,J=E),this.current.startNewPathAndClipBox([0,0,$,J]);let ie="groupAt"+this.groupLevel;k.smask&&(ie+="_smask_"+this.smaskCounter++%2);const ne=this.cachedCanvases.getCanvas(ie,$,J),ee=ne.context;ee.scale(1/Q,1/re),ee.translate(-H,-V),ee.transform(...O),k.smask?this.smaskStack.push({canvas:ne.canvas,context:ee,offsetX:H,offsetY:V,scaleX:Q,scaleY:re,subtype:k.smask.subtype,backdrop:k.smask.backdrop,transferMap:k.smask.transferMap||null,startTransformInverse:null}):(F.setTransform(1,0,0,1,0,0),F.translate(H,V),F.scale(Q,re),F.save()),Z(F,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(F),this.groupLevel++}endGroup(k){if(!this.contentVisible)return;this.groupLevel--;const F=this.ctx,O=this.groupStack.pop();if(this.ctx=O,this.ctx.imageSmoothingEnabled=!1,k.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const D=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...D);const N=a.Util.getAxialAlignedBoundingBox([0,0,F.canvas.width,F.canvas.height],D);this.ctx.drawImage(F.canvas,0,0),this.ctx.restore(),this.compose(N)}}beginAnnotation(k,F,O,D,N){if(this.#e(),te(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(F)&&F.length===4){const H=F[2]-F[0],V=F[3]-F[1];if(N&&this.annotationCanvasMap){O=O.slice(),O[4]-=F[0],O[5]-=F[1],F=F.slice(),F[0]=F[1]=0,F[2]=H,F[3]=V;const[$,J]=a.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:Q}=this,re=Math.ceil(H*this.outputScaleX*Q),ie=Math.ceil(V*this.outputScaleY*Q);this.annotationCanvas=this.canvasFactory.create(re,ie);const{canvas:ne,context:ee}=this.annotationCanvas;this.annotationCanvasMap.set(k,ne),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.save(),this.ctx.setTransform($,0,0,-J,0,V*J),te(this.ctx)}else te(this.ctx),this.ctx.rect(F[0],F[1],H,V),this.ctx.clip(),this.endPath()}this.current=new se(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...O),this.transform(...D)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(k){if(!this.contentVisible)return;const F=k.count;k=this.getObject(k.data,k),k.count=F;const O=this.ctx,D=this.processingType3;if(D&&(D.compiled===void 0&&(D.compiled=Y(k)),D.compiled)){D.compiled(O);return}const N=this._createMaskCanvas(k),H=N.canvas;O.save(),O.setTransform(1,0,0,1,0,0),O.drawImage(H,N.offsetX,N.offsetY),O.restore(),this.compose()}paintImageMaskXObjectRepeat(k,F,O=0,D=0,N,H){if(!this.contentVisible)return;k=this.getObject(k.data,k);const V=this.ctx;V.save();const $=(0,s.getCurrentTransform)(V);V.transform(F,O,D,N,0,0);const J=this._createMaskCanvas(k);V.setTransform(1,0,0,1,J.offsetX-$[4],J.offsetY-$[5]);for(let Q=0,re=H.length;Q<re;Q+=2){const ie=a.Util.transform($,[F,O,D,N,H[Q],H[Q+1]]),[ne,ee]=a.Util.applyTransform([0,0],ie);V.drawImage(J.canvas,ne,ee)}V.restore(),this.compose()}paintImageMaskXObjectGroup(k){if(!this.contentVisible)return;const F=this.ctx,O=this.current.fillColor,D=this.current.patternFill;for(const N of k){const{data:H,width:V,height:$,transform:J}=N,Q=this.cachedCanvases.getCanvas("maskCanvas",V,$),re=Q.context;re.save();const ie=this.getObject(H,N);ue(re,ie),re.globalCompositeOperation="source-in",re.fillStyle=D?O.getPattern(re,this,(0,s.getCurrentTransformInverse)(F),o.FILL):O,re.fillRect(0,0,V,$),re.restore(),F.save(),F.transform(...J),F.scale(1,-1),W(F,Q.canvas,0,0,V,$,0,-1,1,1),F.restore()}this.compose()}paintImageXObject(k){if(!this.contentVisible)return;const F=this.getObject(k);if(!F){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(F)}paintImageXObjectRepeat(k,F,O,D){if(!this.contentVisible)return;const N=this.getObject(k);if(!N){(0,a.warn)("Dependent image isn't ready yet");return}const H=N.width,V=N.height,$=[];for(let J=0,Q=D.length;J<Q;J+=2)$.push({transform:[F,0,0,O,D[J],D[J+1]],x:0,y:0,w:H,h:V});this.paintInlineImageXObjectGroup(N,$)}applyTransferMapsToCanvas(k){return this.current.transferMaps!=="none"&&(k.filter=this.current.transferMaps,k.drawImage(k.canvas,0,0),k.filter="none"),k.canvas}applyTransferMapsToBitmap(k){if(this.current.transferMaps==="none")return k.bitmap;const{bitmap:F,width:O,height:D}=k,N=this.cachedCanvases.getCanvas("inlineImage",O,D),H=N.context;return H.filter=this.current.transferMaps,H.drawImage(F,0,0),H.filter="none",N.canvas}paintInlineImageXObject(k){if(!this.contentVisible)return;const F=k.width,O=k.height,D=this.ctx;if(this.save(),!a.isNodeJS){const{filter:V}=D;V!=="none"&&V!==""&&(D.filter="none")}D.scale(1/F,-1/O);let N;if(k.bitmap)N=this.applyTransferMapsToBitmap(k);else if(typeof HTMLElement=="function"&&k instanceof HTMLElement||!k.data)N=k;else{const $=this.cachedCanvases.getCanvas("inlineImage",F,O).context;oe($,k),N=this.applyTransferMapsToCanvas($)}const H=this._scaleImage(N,(0,s.getCurrentTransformInverse)(D));D.imageSmoothingEnabled=pe((0,s.getCurrentTransform)(D),k.interpolate),W(D,H.img,0,0,H.paintWidth,H.paintHeight,0,-O,F,O),this.compose(),this.restore()}paintInlineImageXObjectGroup(k,F){if(!this.contentVisible)return;const O=this.ctx;let D;if(k.bitmap)D=k.bitmap;else{const N=k.width,H=k.height,$=this.cachedCanvases.getCanvas("inlineImage",N,H).context;oe($,k),D=this.applyTransferMapsToCanvas($)}for(const N of F)O.save(),O.transform(...N.transform),O.scale(1,-1),W(O,D,N.x,N.y,N.w,N.h,0,-1,1,1),O.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(k){}markPointProps(k,F){}beginMarkedContent(k){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(k,F){k==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(F)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(k){const F=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(k);const O=this.ctx;this.pendingClip&&(F||(this.pendingClip===ce?O.clip("evenodd"):O.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),O.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const k=(0,s.getCurrentTransform)(this.ctx);if(k[1]===0&&k[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(k[0]),Math.abs(k[3]));else{const F=Math.abs(k[0]*k[3]-k[2]*k[1]),O=Math.hypot(k[0],k[2]),D=Math.hypot(k[1],k[3]);this._cachedGetSinglePixelWidth=Math.max(O,D)/F}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:k}=this.current,{a:F,b:O,c:D,d:N}=this.ctx.getTransform();let H,V;if(O===0&&D===0){const $=Math.abs(F),J=Math.abs(N);if($===J)if(k===0)H=V=1/$;else{const Q=$*k;H=V=Q<1?1/Q:1}else if(k===0)H=1/$,V=1/J;else{const Q=$*k,re=J*k;H=Q<1?1/Q:1,V=re<1?1/re:1}}else{const $=Math.abs(F*N-O*D),J=Math.hypot(F,O),Q=Math.hypot(D,N);if(k===0)H=Q/$,V=J/$;else{const re=k*$;H=Q>re?Q/re:1,V=J>re?J/re:1}}this._cachedScaleForStroking[0]=H,this._cachedScaleForStroking[1]=V}return this._cachedScaleForStroking}rescaleAndStroke(k){const{ctx:F}=this,{lineWidth:O}=this.current,[D,N]=this.getScaleForStroking();if(F.lineWidth=O||1,D===1&&N===1){F.stroke();return}const H=F.getLineDash();if(k&&F.save(),F.scale(D,N),H.length>0){const V=Math.max(D,N);F.setLineDash(H.map($=>$/V)),F.lineDashOffset/=V}F.stroke(),k&&F.restore()}isContentVisible(){for(let k=this.markedContentStack.length-1;k>=0;k--)if(!this.markedContentStack[k].visible)return!1;return!0}}for(const j in a.OPS)M.prototype[j]!==void 0&&(M.prototype[a.OPS[j]]=M.prototype[j])},473:(n,t,r)=>{r.d(t,{DOMCMapReaderFactory:()=>g,DOMCanvasFactory:()=>d,DOMFilterFactory:()=>u,DOMSVGFactory:()=>b,DOMStandardFontDataFactory:()=>x,PDFDateString:()=>U,PageViewport:()=>m,PixelsPerInch:()=>l,RenderingCancelledException:()=>y,StatTimer:()=>E,fetchData:()=>f,getColorValues:()=>W,getCurrentTransform:()=>Y,getCurrentTransformInverse:()=>se,getFilenameFromUrl:()=>S,getPdfFilenameFromUrl:()=>C,getRGB:()=>X,getXfaPageViewport:()=>z,isDataScheme:()=>v,isPdfFile:()=>w,isValidFetchUrl:()=>T,noContextMenu:()=>_,setLayerDimensions:()=>oe});var a=r(822),s=r(266);const o="http://www.w3.org/2000/svg";class l{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class u extends a.BaseFilterFactory{#e;#t;#n;#r;#s;#i;#c;#l;#o;#u;#a=0;constructor({docId:Z,ownerDocument:te=globalThis.document}={}){super(),this.#n=Z,this.#r=te}get#f(){return this.#e||=new Map}get#h(){if(!this.#t){const Z=this.#r.createElement("div"),{style:te}=Z;te.visibility="hidden",te.contain="strict",te.width=te.height=0,te.position="absolute",te.top=te.left=0,te.zIndex=-1;const he=this.#r.createElementNS(o,"svg");he.setAttribute("width",0),he.setAttribute("height",0),this.#t=this.#r.createElementNS(o,"defs"),Z.append(he),he.append(this.#t),this.#r.body.append(Z)}return this.#t}addFilter(Z){if(!Z)return"none";let te=this.#f.get(Z);if(te)return te;let he,xe,ye,Ae;if(Z.length===1){const ge=Z[0],de=new Array(256);for(let ce=0;ce<256;ce++)de[ce]=ge[ce]/255;Ae=he=xe=ye=de.join(",")}else{const[ge,de,ce]=Z,M=new Array(256),j=new Array(256),k=new Array(256);for(let F=0;F<256;F++)M[F]=ge[F]/255,j[F]=de[F]/255,k[F]=ce[F]/255;he=M.join(","),xe=j.join(","),ye=k.join(","),Ae=`${he}${xe}${ye}`}if(te=this.#f.get(Ae),te)return this.#f.set(Z,te),te;const we=`g_${this.#n}_transfer_map_${this.#a++}`,pe=`url(#${we})`;this.#f.set(Z,pe),this.#f.set(Ae,pe);const Te=this.#p(we);return this.#x(he,xe,ye,Te),pe}addHCMFilter(Z,te){const he=`${Z}-${te}`;if(this.#i===he)return this.#c;if(this.#i=he,this.#c="none",this.#s?.remove(),!Z||!te)return this.#c;const xe=this.#m(Z);Z=s.Util.makeHexColor(...xe);const ye=this.#m(te);if(te=s.Util.makeHexColor(...ye),this.#h.style.color="",Z==="#000000"&&te==="#ffffff"||Z===te)return this.#c;const Ae=new Array(256);for(let de=0;de<=255;de++){const ce=de/255;Ae[de]=ce<=.03928?ce/12.92:((ce+.055)/1.055)**2.4}const we=Ae.join(","),pe=`g_${this.#n}_hcm_filter`,Te=this.#l=this.#p(pe);this.#x(we,we,we,Te),this.#g(Te);const ge=(de,ce)=>{const M=xe[de]/255,j=ye[de]/255,k=new Array(ce+1);for(let F=0;F<=ce;F++)k[F]=M+F/ce*(j-M);return k.join(",")};return this.#x(ge(0,5),ge(1,5),ge(2,5),Te),this.#c=`url(#${pe})`,this.#c}addHighlightHCMFilter(Z,te,he,xe){const ye=`${Z}-${te}-${he}-${xe}`;if(this.#o===ye)return this.#u;if(this.#o=ye,this.#u="none",this.#l?.remove(),!Z||!te)return this.#u;const[Ae,we]=[Z,te].map(this.#m.bind(this));let pe=Math.round(.2126*Ae[0]+.7152*Ae[1]+.0722*Ae[2]),Te=Math.round(.2126*we[0]+.7152*we[1]+.0722*we[2]),[ge,de]=[he,xe].map(this.#m.bind(this));Te<pe&&([pe,Te,ge,de]=[Te,pe,de,ge]),this.#h.style.color="";const ce=(k,F,O)=>{const D=new Array(256),N=(Te-pe)/O,H=k/255,V=(F-k)/(255*O);let $=0;for(let J=0;J<=O;J++){const Q=Math.round(pe+J*N),re=H+J*V;for(let ie=$;ie<=Q;ie++)D[ie]=re;$=Q+1}for(let J=$;J<256;J++)D[J]=D[$-1];return D.join(",")},M=`g_${this.#n}_hcm_highlight_filter`,j=this.#l=this.#p(M);return this.#g(j),this.#x(ce(ge[0],de[0],5),ce(ge[1],de[1],5),ce(ge[2],de[2],5),j),this.#u=`url(#${M})`,this.#u}destroy(Z=!1){Z&&(this.#c||this.#u)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#a=0)}#g(Z){const te=this.#r.createElementNS(o,"feColorMatrix");te.setAttribute("type","matrix"),te.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Z.append(te)}#p(Z){const te=this.#r.createElementNS(o,"filter");return te.setAttribute("color-interpolation-filters","sRGB"),te.setAttribute("id",Z),this.#h.append(te),te}#b(Z,te,he){const xe=this.#r.createElementNS(o,te);xe.setAttribute("type","discrete"),xe.setAttribute("tableValues",he),Z.append(xe)}#x(Z,te,he,xe){const ye=this.#r.createElementNS(o,"feComponentTransfer");xe.append(ye),this.#b(ye,"feFuncR",Z),this.#b(ye,"feFuncG",te),this.#b(ye,"feFuncB",he)}#m(Z){return this.#h.style.color=Z,X(getComputedStyle(this.#h).getPropertyValue("color"))}}class d extends a.BaseCanvasFactory{constructor({ownerDocument:Z=globalThis.document}={}){super(),this._document=Z}_createCanvas(Z,te){const he=this._document.createElement("canvas");return he.width=Z,he.height=te,he}}async function f(ue,Z="text"){if(T(ue,document.baseURI)){const te=await fetch(ue);if(!te.ok)throw new Error(te.statusText);switch(Z){case"arraybuffer":return te.arrayBuffer();case"blob":return te.blob();case"json":return te.json()}return te.text()}return new Promise((te,he)=>{const xe=new XMLHttpRequest;xe.open("GET",ue,!0),xe.responseType=Z,xe.onreadystatechange=()=>{if(xe.readyState===XMLHttpRequest.DONE){if(xe.status===200||xe.status===0){let ye;switch(Z){case"arraybuffer":case"blob":case"json":ye=xe.response;break;default:ye=xe.responseText;break}if(ye){te(ye);return}}he(new Error(xe.statusText))}},xe.send(null)})}class g extends a.BaseCMapReaderFactory{_fetchData(Z,te){return f(Z,this.isCompressed?"arraybuffer":"text").then(he=>({cMapData:he instanceof ArrayBuffer?new Uint8Array(he):(0,s.stringToBytes)(he),compressionType:te}))}}class x extends a.BaseStandardFontDataFactory{_fetchData(Z){return f(Z,"arraybuffer").then(te=>new Uint8Array(te))}}class b extends a.BaseSVGFactory{_createSVG(Z){return document.createElementNS(o,Z)}}class m{constructor({viewBox:Z,scale:te,rotation:he,offsetX:xe=0,offsetY:ye=0,dontFlip:Ae=!1}){this.viewBox=Z,this.scale=te,this.rotation=he,this.offsetX=xe,this.offsetY=ye;const we=(Z[2]+Z[0])/2,pe=(Z[3]+Z[1])/2;let Te,ge,de,ce;switch(he%=360,he<0&&(he+=360),he){case 180:Te=-1,ge=0,de=0,ce=1;break;case 90:Te=0,ge=1,de=1,ce=0;break;case 270:Te=0,ge=-1,de=-1,ce=0;break;case 0:Te=1,ge=0,de=0,ce=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ae&&(de=-de,ce=-ce);let M,j,k,F;Te===0?(M=Math.abs(pe-Z[1])*te+xe,j=Math.abs(we-Z[0])*te+ye,k=(Z[3]-Z[1])*te,F=(Z[2]-Z[0])*te):(M=Math.abs(we-Z[0])*te+xe,j=Math.abs(pe-Z[1])*te+ye,k=(Z[2]-Z[0])*te,F=(Z[3]-Z[1])*te),this.transform=[Te*te,ge*te,de*te,ce*te,M-Te*te*we-de*te*pe,j-ge*te*we-ce*te*pe],this.width=k,this.height=F}get rawDims(){const{viewBox:Z}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:Z[2]-Z[0],pageHeight:Z[3]-Z[1],pageX:Z[0],pageY:Z[1]})}clone({scale:Z=this.scale,rotation:te=this.rotation,offsetX:he=this.offsetX,offsetY:xe=this.offsetY,dontFlip:ye=!1}={}){return new m({viewBox:this.viewBox.slice(),scale:Z,rotation:te,offsetX:he,offsetY:xe,dontFlip:ye})}convertToViewportPoint(Z,te){return s.Util.applyTransform([Z,te],this.transform)}convertToViewportRectangle(Z){const te=s.Util.applyTransform([Z[0],Z[1]],this.transform),he=s.Util.applyTransform([Z[2],Z[3]],this.transform);return[te[0],te[1],he[0],he[1]]}convertToPdfPoint(Z,te){return s.Util.applyInverseTransform([Z,te],this.transform)}}class y extends s.BaseException{constructor(Z,te=0){super(Z,"RenderingCancelledException"),this.extraDelay=te}}function v(ue){const Z=ue.length;let te=0;for(;te<Z&&ue[te].trim()==="";)te++;return ue.substring(te,te+5).toLowerCase()==="data:"}function w(ue){return typeof ue=="string"&&/\.pdf$/i.test(ue)}function S(ue,Z=!1){return Z||([ue]=ue.split(/[#?]/,1)),ue.substring(ue.lastIndexOf("/")+1)}function C(ue,Z="document.pdf"){if(typeof ue!="string")return Z;if(v(ue))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Z;const te=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,he=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,xe=te.exec(ue);let ye=he.exec(xe[1])||he.exec(xe[2])||he.exec(xe[3]);if(ye&&(ye=ye[0],ye.includes("%")))try{ye=he.exec(decodeURIComponent(ye))[0]}catch{}return ye||Z}class E{started=Object.create(null);times=[];time(Z){Z in this.started&&(0,s.warn)(`Timer is already running for ${Z}`),this.started[Z]=Date.now()}timeEnd(Z){Z in this.started||(0,s.warn)(`Timer has not been started for ${Z}`),this.times.push({name:Z,start:this.started[Z],end:Date.now()}),delete this.started[Z]}toString(){const Z=[];let te=0;for(const{name:he}of this.times)te=Math.max(he.length,te);for(const{name:he,start:xe,end:ye}of this.times)Z.push(`${he.padEnd(te)} ${ye-xe}ms
`);return Z.join("")}}function T(ue,Z){try{const{protocol:te}=Z?new URL(ue,Z):new URL(ue);return te==="http:"||te==="https:"}catch{return!1}}function _(ue){ue.preventDefault()}let R;class U{static toDateObject(Z){if(!Z||typeof Z!="string")return null;R||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const te=R.exec(Z);if(!te)return null;const he=parseInt(te[1],10);let xe=parseInt(te[2],10);xe=xe>=1&&xe<=12?xe-1:0;let ye=parseInt(te[3],10);ye=ye>=1&&ye<=31?ye:1;let Ae=parseInt(te[4],10);Ae=Ae>=0&&Ae<=23?Ae:0;let we=parseInt(te[5],10);we=we>=0&&we<=59?we:0;let pe=parseInt(te[6],10);pe=pe>=0&&pe<=59?pe:0;const Te=te[7]||"Z";let ge=parseInt(te[8],10);ge=ge>=0&&ge<=23?ge:0;let de=parseInt(te[9],10)||0;return de=de>=0&&de<=59?de:0,Te==="-"?(Ae+=ge,we+=de):Te==="+"&&(Ae-=ge,we-=de),new Date(Date.UTC(he,xe,ye,Ae,we,pe))}}function z(ue,{scale:Z=1,rotation:te=0}){const{width:he,height:xe}=ue.attributes.style,ye=[0,0,parseInt(he),parseInt(xe)];return new m({viewBox:ye,scale:Z,rotation:te})}function X(ue){if(ue.startsWith("#")){const Z=parseInt(ue.slice(1),16);return[(Z&16711680)>>16,(Z&65280)>>8,Z&255]}return ue.startsWith("rgb(")?ue.slice(4,-1).split(",").map(Z=>parseInt(Z)):ue.startsWith("rgba(")?ue.slice(5,-1).split(",").map(Z=>parseInt(Z)).slice(0,3):((0,s.warn)(`Not a valid color format: "${ue}"`),[0,0,0])}function W(ue){const Z=document.createElement("span");Z.style.visibility="hidden",document.body.append(Z);for(const te of ue.keys()){Z.style.color=te;const he=window.getComputedStyle(Z).color;ue.set(te,X(he))}Z.remove()}function Y(ue){const{a:Z,b:te,c:he,d:xe,e:ye,f:Ae}=ue.getTransform();return[Z,te,he,xe,ye,Ae]}function se(ue){const{a:Z,b:te,c:he,d:xe,e:ye,f:Ae}=ue.getTransform().invertSelf();return[Z,te,he,xe,ye,Ae]}function oe(ue,Z,te=!1,he=!0){if(Z instanceof m){const{pageWidth:xe,pageHeight:ye}=Z.rawDims,{style:Ae}=ue,we=s.FeatureTest.isCSSRoundSupported,pe=`var(--scale-factor) * ${xe}px`,Te=`var(--scale-factor) * ${ye}px`,ge=we?`round(${pe}, 1px)`:`calc(${pe})`,de=we?`round(${Te}, 1px)`:`calc(${Te})`;!te||Z.rotation%180===0?(Ae.width=ge,Ae.height=de):(Ae.width=de,Ae.height=ge)}he&&ue.setAttribute("data-main-rotation",Z.rotation)}},423:(n,t,r)=>{r.d(t,{DrawLayer:()=>o});var a=r(473),s=r(266);class o{#e=null;#t=0;#n=new Map;constructor({pageIndex:u}){this.pageIndex=u}setParent(u){if(!this.#e){this.#e=u;return}if(this.#e!==u){if(this.#n.size>0)for(const d of this.#n.values())d.remove(),u.append(d);this.#e=u}}static get _svgFactory(){return(0,s.shadow)(this,"_svgFactory",new a.DOMSVGFactory)}static#r(u,{x:d,y:f,width:g,height:x}){const{style:b}=u;b.top=`${100*f}%`,b.left=`${100*d}%`,b.width=`${100*g}%`,b.height=`${100*x}%`}#s(u){const d=o._svgFactory.create(1,1,!0);return this.#e.append(d),o.#r(d,u),d}highlight({outlines:u,box:d},f,g){const x=this.#t++,b=this.#s(d);b.classList.add("highlight");const m=o._svgFactory.createElement("defs");b.append(m);const y=o._svgFactory.createElement("path");m.append(y);const v=`path_p${this.pageIndex}_${x}`;y.setAttribute("id",v),y.setAttribute("d",o.#i(u));const w=o._svgFactory.createElement("clipPath");m.append(w);const S=`clip_${v}`;w.setAttribute("id",S),w.setAttribute("clipPathUnits","objectBoundingBox");const C=o._svgFactory.createElement("use");w.append(C),C.setAttribute("href",`#${v}`),C.classList.add("clip");const E=o._svgFactory.createElement("use");return b.append(E),b.setAttribute("fill",f),b.setAttribute("fill-opacity",g),E.setAttribute("href",`#${v}`),this.#n.set(x,b),{id:x,clipPathId:`url(#${S})`}}highlightOutline({outlines:u,box:d}){const f=this.#t++,g=this.#s(d);g.classList.add("highlightOutline");const x=o._svgFactory.createElement("defs");g.append(x);const b=o._svgFactory.createElement("path");x.append(b);const m=`path_p${this.pageIndex}_${f}`;b.setAttribute("id",m),b.setAttribute("d",o.#i(u)),b.setAttribute("vector-effect","non-scaling-stroke");const y=o._svgFactory.createElement("use");g.append(y),y.setAttribute("href",`#${m}`);const v=y.cloneNode();return g.append(v),y.classList.add("mainOutline"),v.classList.add("secondaryOutline"),this.#n.set(f,g),f}static#i(u){const d=[];for(const f of u){let[g,x]=f;d.push(`M${g} ${x}`);for(let b=2;b<f.length;b+=2){const m=f[b],y=f[b+1];m===g?(d.push(`V${y}`),x=y):y===x&&(d.push(`H${m}`),g=m)}d.push("Z")}return d.join(" ")}updateBox(u,d){o.#r(this.#n.get(u),d)}rotate(u,d){this.#n.get(u).setAttribute("data-main-rotation",d)}changeColor(u,d){this.#n.get(u).setAttribute("fill",d)}changeOpacity(u,d){this.#n.get(u).setAttribute("fill-opacity",d)}addClass(u,d){this.#n.get(u).classList.add(d)}removeClass(u,d){this.#n.get(u).classList.remove(d)}remove(u){this.#n.get(u).remove(),this.#n.delete(u)}destroy(){this.#e=null;for(const u of this.#n.values())u.remove();this.#n.clear()}}},331:(n,t,r)=>{r.d(t,{AnnotationEditorLayer:()=>x});var a=r(266),s=r(796),o=r(812),l=r(640);class u extends s.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#s;#i="";#c=`${this.id}-editor`;#l;#o=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const m=u.prototype,y=S=>S.isEmpty(),v=o.AnnotationEditorUIManager.TRANSLATE_SMALL,w=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],m.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],m.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],m._translateEmpty,{args:[-v,0],checker:y}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],m._translateEmpty,{args:[-w,0],checker:y}],[["ArrowRight","mac+ArrowRight"],m._translateEmpty,{args:[v,0],checker:y}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],m._translateEmpty,{args:[w,0],checker:y}],[["ArrowUp","mac+ArrowUp"],m._translateEmpty,{args:[0,-v],checker:y}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],m._translateEmpty,{args:[0,-w],checker:y}],[["ArrowDown","mac+ArrowDown"],m._translateEmpty,{args:[0,v],checker:y}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],m._translateEmpty,{args:[0,w],checker:y}]]))}static _type="freetext";static _editorType=a.AnnotationEditorType.FREETEXT;constructor(m){super({...m,name:"freeTextEditor"}),this.#s=m.color||u._defaultColor||s.AnnotationEditor._defaultLineColor,this.#l=m.fontSize||u._defaultFontSize}static initialize(m){s.AnnotationEditor.initialize(m,{strings:["pdfjs-free-text-default-content"]});const y=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(y.getPropertyValue("--freetext-padding"))}static updateDefaultParams(m,y){switch(m){case a.AnnotationEditorParamsType.FREETEXT_SIZE:u._defaultFontSize=y;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:u._defaultColor=y;break}}updateParams(m,y){switch(m){case a.AnnotationEditorParamsType.FREETEXT_SIZE:this.#u(y);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:this.#a(y);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,u._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,u._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[a.AnnotationEditorParamsType.FREETEXT_COLOR,this.#s]]}#u(m){const y=w=>{this.editorDiv.style.fontSize=`calc(${w}px * var(--scale-factor))`,this.translate(0,-(w-this.#l)*this.parentScale),this.#l=w,this.#h()},v=this.#l;this.addCommands({cmd:()=>{y(m)},undo:()=>{y(v)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(m){const y=this.#s;this.addCommands({cmd:()=>{this.#s=this.editorDiv.style.color=m},undo:()=>{this.#s=this.editorDiv.style.color=y},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(m,y){this._uiManager.translateSelectedEditors(m,y,!0)}getInitialTranslation(){const m=this.parentScale;return[-u._internalPadding*m,-(u._internalPadding+this.#l)*m]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#c),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(m){this._focusEventsAllowed&&(super.focusin(m),m.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#b();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#f(){const m=this.editorDiv.getElementsByTagName("div");if(m.length===0)return this.editorDiv.innerText;const y=[];for(const v of m)y.push(v.innerText.replace(/\r\n?|\n/,""));return y.join(`
`)}#h(){const[m,y]=this.parentDimensions;let v;if(this.isAttachedToDOM)v=this.div.getBoundingClientRect();else{const{currentLayer:w,div:S}=this,C=S.style.display;S.style.display="hidden",w.div.append(this.div),v=S.getBoundingClientRect(),S.remove(),S.style.display=C}this.rotation%180===this.parentRotation%180?(this.width=v.width/m,this.height=v.height/y):(this.width=v.height/m,this.height=v.width/y),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const m=this.#i,y=this.#i=this.#f().trimEnd();if(m===y)return;const v=w=>{if(this.#i=w,!w){this.remove();return}this.#g(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{v(y)},undo:()=>{v(m)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(m){this.enterInEditMode()}keydown(m){m.target===this.div&&m.key==="Enter"&&(this.enterInEditMode(),m.preventDefault())}editorDivKeydown(m){u._keyboardManager.exec(this,m)}editorDivFocus(m){this.isEditing=!0}editorDivBlur(m){this.isEditing=!1}editorDivInput(m){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let m,y;this.width&&(m=this.x,y=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#c),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),s.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(w=>this.editorDiv?.setAttribute("default-content",w)),this.editorDiv.contentEditable=!0;const{style:v}=this.editorDiv;if(v.fontSize=`calc(${this.#l}px * var(--scale-factor))`,v.color=this.#s,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[w,S]=this.parentDimensions;if(this.annotationElementId){const{position:C}=this.#o;let[E,T]=this.getInitialTranslation();[E,T]=this.pageTranslationToScreen(E,T);const[_,R]=this.pageDimensions,[U,z]=this.pageTranslation;let X,W;switch(this.rotation){case 0:X=m+(C[0]-U)/_,W=y+this.height-(C[1]-z)/R;break;case 90:X=m+(C[0]-U)/_,W=y-(C[1]-z)/R,[E,T]=[T,-E];break;case 180:X=m-this.width+(C[0]-U)/_,W=y-(C[1]-z)/R,[E,T]=[-E,-T];break;case 270:X=m+(C[0]-U-this.height*R)/_,W=y+(C[1]-z-this.width*_)/R,[E,T]=[-T,E];break}this.setAt(X*w,W*S,E,T)}else this.setAt(m*w,y*S,this.width*w,this.height*S);this.#g(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#g(){if(this.editorDiv.replaceChildren(),!!this.#i)for(const m of this.#i.split(`
`)){const y=document.createElement("div");y.append(m?document.createTextNode(m):document.createElement("br")),this.editorDiv.append(y)}}get contentDiv(){return this.editorDiv}static deserialize(m,y,v){let w=null;if(m instanceof l.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:C,fontColor:E},rect:T,rotation:_,id:R},textContent:U,textPosition:z,parent:{page:{pageNumber:X}}}=m;if(!U||U.length===0)return null;w=m={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(E),fontSize:C,value:U.join(`
`),position:z,pageIndex:X-1,rect:T,rotation:_,id:R,deleted:!1}}const S=super.deserialize(m,y,v);return S.#l=m.fontSize,S.#s=a.Util.makeHexColor(...m.color),S.#i=m.value,S.annotationElementId=m.id||null,S.#o=w,S}serialize(m=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const y=u._internalPadding*this.parentScale,v=this.getRect(y,y),w=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#s),S={annotationType:a.AnnotationEditorType.FREETEXT,color:w,fontSize:this.#l,value:this.#i,pageIndex:this.pageIndex,rect:v,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return m?S:this.annotationElementId&&!this.#p(S)?null:(S.id=this.annotationElementId,S)}#p(m){const{value:y,fontSize:v,color:w,rect:S,pageIndex:C}=this.#o;return m.value!==y||m.fontSize!==v||m.rect.some((E,T)=>Math.abs(E-S[T])>=1)||m.color.some((E,T)=>E!==w[T])||m.pageIndex!==C}#b(m=!1){if(!this.annotationElementId)return;if(this.#h(),!m&&(this.width===0||this.height===0)){setTimeout(()=>this.#b(!0),0);return}const y=u._internalPadding*this.parentScale;this.#o.rect=this.getRect(y,y)}}var d=r(473);class f extends s.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#i=this.canvasPointerdown.bind(this);#c=null;#l=new Path2D;#o=!1;#u=!1;#a=!1;#f=null;#h=0;#g=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=a.AnnotationEditorType.INK;constructor(m){super({...m,name:"inkEditor"}),this.color=m.color||null,this.thickness=m.thickness||null,this.opacity=m.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(m){s.AnnotationEditor.initialize(m)}static updateDefaultParams(m,y){switch(m){case a.AnnotationEditorParamsType.INK_THICKNESS:f._defaultThickness=y;break;case a.AnnotationEditorParamsType.INK_COLOR:f._defaultColor=y;break;case a.AnnotationEditorParamsType.INK_OPACITY:f._defaultOpacity=y/100;break}}updateParams(m,y){switch(m){case a.AnnotationEditorParamsType.INK_THICKNESS:this.#b(y);break;case a.AnnotationEditorParamsType.INK_COLOR:this.#x(y);break;case a.AnnotationEditorParamsType.INK_OPACITY:this.#m(y);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,f._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,f._defaultColor||s.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(f._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||f._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||f._defaultColor||s.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??f._defaultOpacity))]]}#b(m){const y=this.thickness;this.addCommands({cmd:()=>{this.thickness=m,this.#D()},undo:()=>{this.thickness=y,this.#D()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#x(m){const y=this.color;this.addCommands({cmd:()=>{this.color=m,this.#v()},undo:()=>{this.color=y,this.#v()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(m){m/=100;const y=this.opacity;this.addCommands({cmd:()=>{this.opacity=m,this.#v()},undo:()=>{this.opacity=y,this.#v()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#T(),this.#E()),this.isAttachedToDOM||(this.parent.add(this),this.#w()),this.#D()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#c&&(clearTimeout(this.#c),this.#c=null),this.#f.disconnect(),this.#f=null,super.remove())}setParent(m){!this.parent&&m?this._uiManager.removeShouldRescale(this):this.parent&&m===null&&this._uiManager.addShouldRescale(this),super.setParent(m)}onScaleChanging(){const[m,y]=this.parentDimensions,v=this.width*m,w=this.height*y;this.setDimensions(v,w)}enableEditMode(){this.#o||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#i))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#i))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#d(){const{parentRotation:m,parentDimensions:[y,v]}=this;switch(m){case 90:return[0,v,v,y];case 180:return[y,v,y,v];case 270:return[y,0,v,y];default:return[0,0,y,v]}}#y(){const{ctx:m,color:y,opacity:v,thickness:w,parentScale:S,scaleFactor:C}=this;m.lineWidth=w*S/C,m.lineCap="round",m.lineJoin="round",m.miterLimit=10,m.strokeStyle=`${y}${(0,o.opacityToHex)(v)}`}#F(m,y){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#s),this.canvas.removeEventListener("pointerdown",this.#i),this.isEditing=!0,this.#a||(this.#a=!0,this.#w(),this.thickness||=f._defaultThickness,this.color||=f._defaultColor||s.AnnotationEditor._defaultLineColor,this.opacity??=f._defaultOpacity),this.currentPath.push([m,y]),this.#u=!1,this.#y(),this.#p=()=>{this.#R(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#I(m,y){const[v,w]=this.currentPath.at(-1);if(this.currentPath.length>1&&m===v&&y===w)return;const S=this.currentPath;let C=this.#l;if(S.push([m,y]),this.#u=!0,S.length<=2){C.moveTo(...S[0]),C.lineTo(m,y);return}S.length===3&&(this.#l=C=new Path2D,C.moveTo(...S[0])),this.#M(C,...S.at(-3),...S.at(-2),m,y)}#O(){if(this.currentPath.length===0)return;const m=this.currentPath.at(-1);this.#l.lineTo(...m)}#_(m,y){this.#p=null,m=Math.min(Math.max(m,0),this.canvas.width),y=Math.min(Math.max(y,0),this.canvas.height),this.#I(m,y),this.#O();let v;if(this.currentPath.length!==1)v=this.#L();else{const T=[m,y];v=[[T,T.slice(),T.slice(),T]]}const w=this.#l,S=this.currentPath;this.currentPath=[],this.#l=new Path2D;const C=()=>{this.allRawPaths.push(S),this.paths.push(v),this.bezierPath2D.push(w),this.rebuild()},E=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#T(),this.#E()),this.#D())};this.addCommands({cmd:C,undo:E,mustExec:!0})}#R(){if(!this.#u)return;this.#u=!1;const m=Math.ceil(this.thickness*this.parentScale),y=this.currentPath.slice(-3),v=y.map(C=>C[0]),w=y.map(C=>C[1]);Math.min(...v)-m,Math.max(...v)+m,Math.min(...w)-m,Math.max(...w)+m;const{ctx:S}=this;S.save(),S.clearRect(0,0,this.canvas.width,this.canvas.height);for(const C of this.bezierPath2D)S.stroke(C);S.stroke(this.#l),S.restore()}#M(m,y,v,w,S,C,E){const T=(y+w)/2,_=(v+S)/2,R=(w+C)/2,U=(S+E)/2;m.bezierCurveTo(T+2*(w-T)/3,_+2*(S-_)/3,R+2*(w-R)/3,U+2*(S-U)/3,R,U)}#L(){const m=this.currentPath;if(m.length<=2)return[[m[0],m[0],m.at(-1),m.at(-1)]];const y=[];let v,[w,S]=m[0];for(v=1;v<m.length-2;v++){const[z,X]=m[v],[W,Y]=m[v+1],se=(z+W)/2,oe=(X+Y)/2,ue=[w+2*(z-w)/3,S+2*(X-S)/3],Z=[se+2*(z-se)/3,oe+2*(X-oe)/3];y.push([[w,S],ue,Z,[se,oe]]),[w,S]=[se,oe]}const[C,E]=m[v],[T,_]=m[v+1],R=[w+2*(C-w)/3,S+2*(E-S)/3],U=[T+2*(C-T)/3,_+2*(E-_)/3];return y.push([[w,S],R,U,[T,_]]),y}#v(){if(this.isEmpty()){this.#A();return}this.#y();const{canvas:m,ctx:y}=this;y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,m.width,m.height),this.#A();for(const v of this.bezierPath2D)y.stroke(v)}commit(){this.#o||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#o=!0,this.div.classList.add("disabled"),this.#D(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(m){this._focusEventsAllowed&&(super.focusin(m),this.enableEditMode())}canvasPointerdown(m){m.button!==0||!this.isInEditMode()||this.#o||(this.setInForeground(),m.preventDefault(),m.pointerType!=="mouse"&&!this.div.contains(document.activeElement)&&this.div.focus({preventScroll:!0}),this.#F(m.offsetX,m.offsetY))}canvasPointermove(m){m.preventDefault(),this.#I(m.offsetX,m.offsetY)}canvasPointerup(m){m.preventDefault(),this.#P(m)}canvasPointerleave(m){this.#P(m)}#P(m){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#i),this.#c&&clearTimeout(this.#c),this.#c=setTimeout(()=>{this.#c=null,this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),this.#_(m.offsetX,m.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#T(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#E(){this.#f=new ResizeObserver(m=>{const y=m[0].contentRect;y.width&&y.height&&this.setDimensions(y.width,y.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#o}render(){if(this.div)return this.div;let m,y;this.width&&(m=this.x,y=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[v,w,S,C]=this.#d();if(this.setAt(v,w,0,0),this.setDims(S,C),this.#T(),this.width){const[E,T]=this.parentDimensions;this.setAspectRatio(this.width*E,this.height*T),this.setAt(m*E,y*T,this.width*E,this.height*T),this.#a=!0,this.#w(),this.setDims(this.width*E,this.height*T),this.#v(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#E(),this.div}#w(){if(!this.#a)return;const[m,y]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*m),this.canvas.height=Math.ceil(this.height*y),this.#A()}setDimensions(m,y){const v=Math.round(m),w=Math.round(y);if(this.#h===v&&this.#g===w)return;this.#h=v,this.#g=w,this.canvas.style.visibility="hidden";const[S,C]=this.parentDimensions;this.width=m/S,this.height=y/C,this.fixAndSetPosition(),this.#o&&this.#S(m,y),this.#w(),this.#v(),this.canvas.style.visibility="visible",this.fixDims()}#S(m,y){const v=this.#j(),w=(m-v)/this.#t,S=(y-v)/this.#e;this.scaleFactor=Math.min(w,S)}#A(){const m=this.#j()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+m,this.translationY*this.scaleFactor+m)}static#B(m){const y=new Path2D;for(let v=0,w=m.length;v<w;v++){const[S,C,E,T]=m[v];v===0&&y.moveTo(...S),y.bezierCurveTo(C[0],C[1],E[0],E[1],T[0],T[1])}return y}static#N(m,y,v){const[w,S,C,E]=y;switch(v){case 0:for(let T=0,_=m.length;T<_;T+=2)m[T]+=w,m[T+1]=E-m[T+1];break;case 90:for(let T=0,_=m.length;T<_;T+=2){const R=m[T];m[T]=m[T+1]+w,m[T+1]=R+S}break;case 180:for(let T=0,_=m.length;T<_;T+=2)m[T]=C-m[T],m[T+1]+=S;break;case 270:for(let T=0,_=m.length;T<_;T+=2){const R=m[T];m[T]=C-m[T+1],m[T+1]=E-R}break;default:throw new Error("Invalid rotation")}return m}static#k(m,y,v){const[w,S,C,E]=y;switch(v){case 0:for(let T=0,_=m.length;T<_;T+=2)m[T]-=w,m[T+1]=E-m[T+1];break;case 90:for(let T=0,_=m.length;T<_;T+=2){const R=m[T];m[T]=m[T+1]-S,m[T+1]=R-w}break;case 180:for(let T=0,_=m.length;T<_;T+=2)m[T]=C-m[T],m[T+1]-=S;break;case 270:for(let T=0,_=m.length;T<_;T+=2){const R=m[T];m[T]=E-m[T+1],m[T+1]=C-R}break;default:throw new Error("Invalid rotation")}return m}#H(m,y,v,w){const S=[],C=this.thickness/2,E=m*y+C,T=m*v+C;for(const _ of this.paths){const R=[],U=[];for(let z=0,X=_.length;z<X;z++){const[W,Y,se,oe]=_[z],ue=m*W[0]+E,Z=m*W[1]+T,te=m*Y[0]+E,he=m*Y[1]+T,xe=m*se[0]+E,ye=m*se[1]+T,Ae=m*oe[0]+E,we=m*oe[1]+T;z===0&&(R.push(ue,Z),U.push(ue,Z)),R.push(te,he,xe,ye,Ae,we),U.push(te,he),z===X-1&&U.push(Ae,we)}S.push({bezier:f.#N(R,w,this.rotation),points:f.#N(U,w,this.rotation)})}return S}#U(){let m=1/0,y=-1/0,v=1/0,w=-1/0;for(const S of this.paths)for(const[C,E,T,_]of S){const R=a.Util.bezierBoundingBox(...C,...E,...T,..._);m=Math.min(m,R[0]),v=Math.min(v,R[1]),y=Math.max(y,R[2]),w=Math.max(w,R[3])}return[m,v,y,w]}#j(){return this.#o?Math.ceil(this.thickness*this.parentScale):0}#D(m=!1){if(this.isEmpty())return;if(!this.#o){this.#v();return}const y=this.#U(),v=this.#j();this.#t=Math.max(s.AnnotationEditor.MIN_SIZE,y[2]-y[0]),this.#e=Math.max(s.AnnotationEditor.MIN_SIZE,y[3]-y[1]);const w=Math.ceil(v+this.#t*this.scaleFactor),S=Math.ceil(v+this.#e*this.scaleFactor),[C,E]=this.parentDimensions;this.width=w/C,this.height=S/E,this.setAspectRatio(w,S);const T=this.translationX,_=this.translationY;this.translationX=-y[0],this.translationY=-y[1],this.#w(),this.#v(),this.#h=w,this.#g=S,this.setDims(w,S);const R=m?v/this.scaleFactor/2:0;this.translate(T-this.translationX-R,_-this.translationY-R)}static deserialize(m,y,v){if(m instanceof l.InkAnnotationElement)return null;const w=super.deserialize(m,y,v);w.thickness=m.thickness,w.color=a.Util.makeHexColor(...m.color),w.opacity=m.opacity;const[S,C]=w.pageDimensions,E=w.width*S,T=w.height*C,_=w.parentScale,R=m.thickness/2;w.#o=!0,w.#h=Math.round(E),w.#g=Math.round(T);const{paths:U,rect:z,rotation:X}=m;for(let{bezier:Y}of U){Y=f.#k(Y,z,X);const se=[];w.paths.push(se);let oe=_*(Y[0]-R),ue=_*(Y[1]-R);for(let te=2,he=Y.length;te<he;te+=6){const xe=_*(Y[te]-R),ye=_*(Y[te+1]-R),Ae=_*(Y[te+2]-R),we=_*(Y[te+3]-R),pe=_*(Y[te+4]-R),Te=_*(Y[te+5]-R);se.push([[oe,ue],[xe,ye],[Ae,we],[pe,Te]]),oe=pe,ue=Te}const Z=this.#B(se);w.bezierPath2D.push(Z)}const W=w.#U();return w.#t=Math.max(s.AnnotationEditor.MIN_SIZE,W[2]-W[0]),w.#e=Math.max(s.AnnotationEditor.MIN_SIZE,W[3]-W[1]),w.#S(E,T),w}serialize(){if(this.isEmpty())return null;const m=this.getRect(0,0),y=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:y,thickness:this.thickness,opacity:this.opacity,paths:this.#H(this.scaleFactor/this.parentScale,this.translationX,this.translationY,m),pageIndex:this.pageIndex,rect:m,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class g extends s.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#s=null;#i="";#c=null;#l=null;#o=null;#u=!1;#a=!1;static _type="stamp";static _editorType=a.AnnotationEditorType.STAMP;constructor(m){super({...m,name:"stampEditor"}),this.#r=m.bitmapUrl,this.#s=m.bitmapFile}static initialize(m){s.AnnotationEditor.initialize(m)}static get supportedTypes(){const m=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",m.map(y=>`image/${y}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(m){return this.supportedTypes.includes(m)}static paste(m,y){y.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:m.getAsFile()})}#f(m,y=!1){if(!m){this.remove();return}this.#e=m.bitmap,y||(this.#t=m.id,this.#u=m.isSvg),m.file&&(this.#i=m.file.name),this.#p()}#h(){this.#n=null,this._uiManager.enableWaiting(!1),this.#c&&this.div.focus()}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(y=>this.#f(y,!0)).finally(()=>this.#h());return}if(this.#r){const y=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(y).then(v=>this.#f(v)).finally(()=>this.#h());return}if(this.#s){const y=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(y).then(v=>this.#f(v)).finally(()=>this.#h());return}const m=document.createElement("input");m.type="file",m.accept=g.supportedTypesStr,this.#n=new Promise(y=>{m.addEventListener("change",async()=>{if(!m.files||m.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const v=await this._uiManager.imageManager.getFromFile(m.files[0]);this.#f(v)}y()}),m.addEventListener("cancel",()=>{this.remove(),y()})}).finally(()=>this.#h()),m.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#c?.remove(),this.#c=null,this.#l?.disconnect(),this.#l=null,this.#o&&(clearTimeout(this.#o),this.#o=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s)}get isResizable(){return!0}render(){if(this.div)return this.div;let m,y;if(this.width&&(m=this.x,y=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#g(),this.width){const[v,w]=this.parentDimensions;this.setAt(m*v,y*w,this.width*v,this.height*w)}return this.div}#p(){const{div:m}=this;let{width:y,height:v}=this.#e;const[w,S]=this.pageDimensions,C=.75;if(this.width)y=this.width*w,v=this.height*S;else if(y>C*w||v>C*S){const R=Math.min(C*w/y,C*S/v);y*=R,v*=R}const[E,T]=this.parentDimensions;this.setDims(y*E/w,v*T/S),this._uiManager.enableWaiting(!1);const _=this.#c=document.createElement("canvas");m.append(_),m.hidden=!1,this.#m(y,v),this.#y(),this.#a||(this.parent.addUndoableEditor(this),this.#a=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),this.#i&&_.setAttribute("aria-label",this.#i)}#b(m,y){const[v,w]=this.parentDimensions;this.width=m/v,this.height=y/w,this.setDims(m,y),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#o!==null&&clearTimeout(this.#o);const S=200;this.#o=setTimeout(()=>{this.#o=null,this.#m(m,y)},S)}#x(m,y){const{width:v,height:w}=this.#e;let S=v,C=w,E=this.#e;for(;S>2*m||C>2*y;){const T=S,_=C;S>2*m&&(S=S>=16384?Math.floor(S/2)-1:Math.ceil(S/2)),C>2*y&&(C=C>=16384?Math.floor(C/2)-1:Math.ceil(C/2));const R=new OffscreenCanvas(S,C);R.getContext("2d").drawImage(E,0,0,T,_,0,0,S,C),E=R.transferToImageBitmap()}return E}#m(m,y){m=Math.ceil(m),y=Math.ceil(y);const v=this.#c;if(!v||v.width===m&&v.height===y)return;v.width=m,v.height=y;const w=this.#u?this.#e:this.#x(m,y),S=v.getContext("2d");S.filter=this._uiManager.hcmFilter,S.drawImage(w,0,0,w.width,w.height,0,0,m,y)}getImageForAltText(){return this.#c}#d(m){if(m){if(this.#u){const w=this._uiManager.imageManager.getSvgUrl(this.#t);if(w)return w}const y=document.createElement("canvas");return{width:y.width,height:y.height}=this.#e,y.getContext("2d").drawImage(this.#e,0,0),y.toDataURL()}if(this.#u){const[y,v]=this.pageDimensions,w=Math.round(this.width*y*d.PixelsPerInch.PDF_TO_CSS_UNITS),S=Math.round(this.height*v*d.PixelsPerInch.PDF_TO_CSS_UNITS),C=new OffscreenCanvas(w,S);return C.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,w,S),C.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#l=new ResizeObserver(m=>{const y=m[0].contentRect;y.width&&y.height&&this.#b(y.width,y.height)}),this.#l.observe(this.div)}static deserialize(m,y,v){if(m instanceof l.StampAnnotationElement)return null;const w=super.deserialize(m,y,v),{rect:S,bitmapUrl:C,bitmapId:E,isSvg:T,accessibilityData:_}=m;E&&v.imageManager.isValidId(E)?w.#t=E:w.#r=C,w.#u=T;const[R,U]=w.pageDimensions;return w.width=(S[2]-S[0])/R,w.height=(S[3]-S[1])/U,_&&(w.altTextData=_),w}serialize(m=!1,y=null){if(this.isEmpty())return null;const v={annotationType:a.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(m)return v.bitmapUrl=this.#d(!0),v.accessibilityData=this.altTextData,v;const{decorative:w,altText:S}=this.altTextData;if(!w&&S&&(v.accessibilityData={type:"Figure",alt:S}),y===null)return v;y.stamps||=new Map;const C=this.#u?(v.rect[2]-v.rect[0])*(v.rect[3]-v.rect[1]):null;if(!y.stamps.has(this.#t))y.stamps.set(this.#t,{area:C,serialized:v}),v.bitmap=this.#d(!1);else if(this.#u){const E=y.stamps.get(this.#t);C>E.area&&(E.area=C,E.serialized.bitmap.close(),E.serialized.bitmap=this.#d(!1))}return v}}class x{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#s=this.pointerdown.bind(this);#i=null;#c=new Map;#l=!1;#o=!1;#u=!1;#a;static _initialized=!1;static#f=new Map([u,f,g].map(m=>[m._editorType,m]));constructor({uiManager:m,pageIndex:y,div:v,accessibilityManager:w,annotationLayer:S,viewport:C,l10n:E}){const T=[...x.#f.values()];if(!x._initialized){x._initialized=!0;for(const _ of T)_.initialize(E)}m.registerEditorTypes(T),this.#a=m,this.pageIndex=y,this.div=v,this.#e=w,this.#n=S,this.viewport=C,this.#a.addLayer(this)}get isEmpty(){return this.#c.size===0}updateToolbar(m){this.#a.updateToolbar(m)}updateMode(m=this.#a.getMode()){if(this.#b(),m===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),m!==a.AnnotationEditorType.NONE){const{classList:y}=this.div;for(const v of x.#f.values())y.toggle(`${v._type}Editing`,m===v._editorType);this.div.hidden=!1}}addInkEditorIfNeeded(m){if(!m&&this.#a.getMode()!==a.AnnotationEditorType.INK)return;if(!m){for(const v of this.#c.values())if(v.isEmpty()){v.setInBackground();return}}this.#g({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(m){this.#a.setEditingState(m)}addCommands(m){this.#a.addCommands(m)}togglePointerEvents(m=!1){this.div.classList.toggle("disabled",!m)}enable(){this.togglePointerEvents(!0);const m=new Set;for(const v of this.#c.values())v.enableEditing(),v.annotationElementId&&m.add(v.annotationElementId);if(!this.#n)return;const y=this.#n.getEditableAnnotations();for(const v of y){if(v.hide(),this.#a.isDeletedAnnotationElement(v.data.id)||m.has(v.data.id))continue;const w=this.deserialize(v);w&&(this.addOrRebuild(w),w.enableEditing())}}disable(){this.#u=!0,this.togglePointerEvents(!1);const m=new Set;for(const v of this.#c.values()){if(v.disableEditing(),!v.annotationElementId||v.serialize()!==null){m.add(v.annotationElementId);continue}this.getEditableAnnotation(v.annotationElementId)?.show(),v.remove()}if(this.#n){const v=this.#n.getEditableAnnotations();for(const w of v){const{id:S}=w.data;m.has(S)||this.#a.isDeletedAnnotationElement(S)||w.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:y}=this.div;for(const v of x.#f.values())y.remove(`${v._type}Editing`);this.#u=!1}getEditableAnnotation(m){return this.#n?.getEditableAnnotation(m)||null}setActiveEditor(m){this.#a.getActive()!==m&&this.#a.setActiveEditor(m)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#r)}attach(m){this.#c.set(m.id,m);const{annotationElementId:y}=m;y&&this.#a.isDeletedAnnotationElement(y)&&this.#a.removeDeletedAnnotationElement(m)}detach(m){this.#c.delete(m.id),this.#e?.removePointerInTextLayer(m.contentDiv),!this.#u&&m.annotationElementId&&this.#a.addDeletedAnnotationElement(m)}remove(m){this.detach(m),this.#a.removeEditor(m),m.div.remove(),m.isAttachedToDOM=!1,this.#o||this.addInkEditorIfNeeded(!1)}changeParent(m){m.parent!==this&&(m.annotationElementId&&(this.#a.addDeletedAnnotationElement(m.annotationElementId),s.AnnotationEditor.deleteAnnotationElement(m),m.annotationElementId=null),this.attach(m),m.parent?.detach(m),m.setParent(this),m.div&&m.isAttachedToDOM&&(m.div.remove(),this.div.append(m.div)))}add(m){if(this.changeParent(m),this.#a.addEditor(m),this.attach(m),!m.isAttachedToDOM){const y=m.render();this.div.append(y),m.isAttachedToDOM=!0}m.fixAndSetPosition(),m.onceAdded(),this.#a.addToAnnotationStorage(m)}moveEditorInDOM(m){if(!m.isAttachedToDOM)return;const{activeElement:y}=document;m.div.contains(y)&&!this.#i&&(m._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,m.div.contains(document.activeElement)?m._focusEventsAllowed=!0:(m.div.addEventListener("focusin",()=>{m._focusEventsAllowed=!0},{once:!0}),y.focus())},0)),m._structTreeParentId=this.#e?.moveElementInDOM(this.div,m.div,m.contentDiv,!0)}addOrRebuild(m){m.needsToBeRebuilt()?(m.parent||=this,m.rebuild()):this.add(m)}addUndoableEditor(m){const y=()=>m._uiManager.rebuild(m),v=()=>{m.remove()};this.addCommands({cmd:y,undo:v,mustExec:!1})}getNextId(){return this.#a.getId()}#h(m){const y=x.#f.get(this.#a.getMode());return y?new y.prototype.constructor(m):null}pasteEditor(m,y){this.#a.updateToolbar(m),this.#a.updateMode(m);const{offsetX:v,offsetY:w}=this.#p(),S=this.getNextId(),C=this.#h({parent:this,id:S,x:v,y:w,uiManager:this.#a,isCentered:!0,...y});C&&this.add(C)}deserialize(m){return x.#f.get(m.annotationType??m.annotationEditorType)?.deserialize(m,this,this.#a)||null}#g(m,y){const v=this.getNextId(),w=this.#h({parent:this,id:v,x:m.offsetX,y:m.offsetY,uiManager:this.#a,isCentered:y});return w&&this.add(w),w}#p(){const{x:m,y,width:v,height:w}=this.div.getBoundingClientRect(),S=Math.max(0,m),C=Math.max(0,y),E=Math.min(window.innerWidth,m+v),T=Math.min(window.innerHeight,y+w),_=(S+E)/2-m,R=(C+T)/2-y,[U,z]=this.viewport.rotation%180===0?[_,R]:[R,_];return{offsetX:U,offsetY:z}}addNewEditor(){this.#g(this.#p(),!0)}setSelected(m){this.#a.setSelected(m)}toggleSelected(m){this.#a.toggleSelected(m)}isSelected(m){return this.#a.isSelected(m)}unselect(m){this.#a.unselect(m)}pointerup(m){const{isMac:y}=a.FeatureTest.platform;if(!(m.button!==0||m.ctrlKey&&y)&&m.target===this.div&&this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}if(this.#a.getMode()===a.AnnotationEditorType.STAMP){this.#a.unselectAll();return}this.#g(m,!1)}}pointerdown(m){if(this.#l){this.#l=!1;return}const{isMac:y}=a.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&y||m.target!==this.div)return;this.#l=!0;const v=this.#a.getActive();this.#t=!v||v.isEmpty()}findNewParent(m,y,v){const w=this.#a.findParent(y,v);return w===null||w===this?!1:(w.changeParent(m),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const m of this.#c.values())this.#e?.removePointerInTextLayer(m.contentDiv),m.setParent(null),m.isAttachedToDOM=!1,m.div.remove();this.div=null,this.#c.clear(),this.#a.removeLayer(this)}#b(){this.#o=!0;for(const m of this.#c.values())m.isEmpty()&&m.remove();this.#o=!1}render({viewport:m}){this.viewport=m,(0,d.setLayerDimensions)(this.div,m);for(const y of this.#a.getEditors(this.pageIndex))this.add(y);this.updateMode()}update({viewport:m}){this.#a.commitOrRemove(),this.viewport=m,(0,d.setLayerDimensions)(this.div,{rotation:m.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:m,pageHeight:y}=this.viewport.rawDims;return[m,y]}}},796:(n,t,r)=>{r.d(t,{AnnotationEditor:()=>u});var a=r(812),s=r(266),o=r(473);class l{#e=null;#t;#n=null;constructor(g){this.#t=g}render(){const g=this.#e=document.createElement("div");g.className="editToolbar",g.addEventListener("contextmenu",o.noContextMenu),g.addEventListener("pointerdown",l.#r);const x=this.#n=document.createElement("div");return x.className="buttons",g.append(x),this.#l(),g}static#r(g){g.stopPropagation()}#s(g){this.#t._focusEventsAllowed=!1,g.preventDefault(),g.stopPropagation()}#i(g){this.#t._focusEventsAllowed=!0,g.preventDefault(),g.stopPropagation()}#c(g){g.addEventListener("focusin",this.#s.bind(this),{capture:!0}),g.addEventListener("focusout",this.#i.bind(this),{capture:!0}),g.addEventListener("contextmenu",o.noContextMenu)}hide(){this.#e.classList.add("hidden")}show(){this.#e.classList.remove("hidden")}#l(){const g=document.createElement("button");g.className="delete",g.tabIndex=0,g.setAttribute("data-l10n-id","pdfjs-editor-remove-button"),this.#c(g),g.addEventListener("click",x=>{this.#t._uiManager.delete()}),this.#n.append(g)}remove(){this.#e.remove()}}class u{#e=null;#t="";#n=!1;#r=null;#s=null;#i=null;#c=!1;#l=!1;#o=null;#u=null;#a=this.focusin.bind(this);#f=this.focusout.bind(this);#h=null;#g="";#p=!1;#b=!1;#x=!1;#m=!1;#d=null;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#y=!1;#F=u._zIndex++;static _borderLineWidth=-1;static _colorManager=new a.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;static get _resizerKeyboardManager(){const g=u.prototype._resizeWithKeyboard,x=a.AnnotationEditorUIManager.TRANSLATE_SMALL,b=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,s.shadow)(this,"_resizerKeyboardManager",new a.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],g,{args:[-x,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],g,{args:[-b,0]}],[["ArrowRight","mac+ArrowRight"],g,{args:[x,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],g,{args:[b,0]}],[["ArrowUp","mac+ArrowUp"],g,{args:[0,-x]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],g,{args:[0,-b]}],[["ArrowDown","mac+ArrowDown"],g,{args:[0,x]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],g,{args:[0,b]}],[["Escape","mac+Escape"],u.prototype._stopResizingWithKeyboard]]))}constructor(g){this.constructor===u&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=g.parent,this.id=g.id,this.width=this.height=null,this.pageIndex=g.parent.pageIndex,this.name=g.name,this.div=null,this._uiManager=g.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=g.isCentered,this._structTreeParentId=null;const{rotation:x,rawDims:{pageWidth:b,pageHeight:m,pageX:y,pageY:v}}=this.parent.viewport;this.rotation=x,this.pageRotation=(360+x-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[b,m],this.pageTranslation=[y,v];const[w,S]=this.parentDimensions;this.x=g.x/w,this.y=g.y/S,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(g){const x=new d({id:g.parent.getNextId(),parent:g.parent,uiManager:g._uiManager});x.annotationElementId=g.annotationElementId,x.deleted=!0,x._uiManager.addToAnnotationStorage(x)}static initialize(g,x=null){if(u._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(m=>[m,g.get(m.replaceAll(/([A-Z])/g,y=>`-${y.toLowerCase()}`))])),x?.strings)for(const m of x.strings)u._l10nPromise.set(m,g.get(m));if(u._borderLineWidth!==-1)return;const b=getComputedStyle(document.documentElement);u._borderLineWidth=parseFloat(b.getPropertyValue("--outline-width"))||0}static updateDefaultParams(g,x){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(g){return!1}static paste(g,x){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#y}set _isDraggable(g){this.#y=g,this.div?.classList.toggle("draggable",g)}get isEnterHandled(){return!0}center(){const[g,x]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*x/(g*2),this.y+=this.width*g/(x*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*x/(g*2),this.y-=this.width*g/(x*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(g){this._uiManager.addCommands(g)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#F}setParent(g){g!==null?(this.pageIndex=g.pageIndex,this.pageDimensions=g.pageDimensions):this.#k(),this.parent=g}focusin(g){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(g){!this._focusEventsAllowed||!this.isAttachedToDOM||g.relatedTarget?.closest(`#${this.id}`)||(g.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(g,x,b,m){const[y,v]=this.parentDimensions;[b,m]=this.screenToPageTranslation(b,m),this.x=(g+b)/y,this.y=(x+m)/v,this.fixAndSetPosition()}#I([g,x],b,m){[b,m]=this.screenToPageTranslation(b,m),this.x+=b/g,this.y+=m/x,this.fixAndSetPosition()}translate(g,x){this.#I(this.parentDimensions,g,x)}translateInPage(g,x){this.#I(this.pageDimensions,g,x),this.div.scrollIntoView({block:"nearest"})}drag(g,x){const[b,m]=this.parentDimensions;if(this.x+=g/b,this.y+=x/m,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:C,y:E}=this.div.getBoundingClientRect();this.parent.findNewParent(this,C,E)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:y,y:v}=this;const[w,S]=this.#O();y+=w,v+=S,this.div.style.left=`${(100*y).toFixed(2)}%`,this.div.style.top=`${(100*v).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#O(){const[g,x]=this.parentDimensions,{_borderLineWidth:b}=u,m=b/g,y=b/x;switch(this.rotation){case 90:return[-m,y];case 180:return[m,y];case 270:return[m,-y];default:return[-m,-y]}}fixAndSetPosition(){const[g,x]=this.pageDimensions;let{x:b,y:m,width:y,height:v}=this;switch(y*=g,v*=x,b*=g,m*=x,this.rotation){case 0:b=Math.max(0,Math.min(g-y,b)),m=Math.max(0,Math.min(x-v,m));break;case 90:b=Math.max(0,Math.min(g-v,b)),m=Math.min(x,Math.max(y,m));break;case 180:b=Math.min(g,Math.max(y,b)),m=Math.min(x,Math.max(v,m));break;case 270:b=Math.min(g,Math.max(v,b)),m=Math.max(0,Math.min(x-y,m));break}this.x=b/=g,this.y=m/=x;const[w,S]=this.#O();b+=w,m+=S;const{style:C}=this.div;C.left=`${(100*b).toFixed(2)}%`,C.top=`${(100*m).toFixed(2)}%`,this.moveInDOM()}static#_(g,x,b){switch(b){case 90:return[x,-g];case 180:return[-g,-x];case 270:return[-x,g];default:return[g,x]}}screenToPageTranslation(g,x){return u.#_(g,x,this.parentRotation)}pageTranslationToScreen(g,x){return u.#_(g,x,360-this.parentRotation)}#R(g){switch(g){case 90:{const[x,b]=this.pageDimensions;return[0,-x/b,b/x,0]}case 180:return[-1,0,0,-1];case 270:{const[x,b]=this.pageDimensions;return[0,x/b,-b/x,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:g,pageDimensions:[x,b]}=this,m=x*g,y=b*g;return s.FeatureTest.isCSSRoundSupported?[Math.round(m),Math.round(y)]:[m,y]}setDims(g,x){const[b,m]=this.parentDimensions;this.div.style.width=`${(100*g/b).toFixed(2)}%`,this.#l||(this.div.style.height=`${(100*x/m).toFixed(2)}%`),this.#r?.classList.toggle("small",g<u.SMALL_EDITOR_SIZE||x<u.SMALL_EDITOR_SIZE)}fixDims(){const{style:g}=this.div,{height:x,width:b}=g,m=b.endsWith("%"),y=!this.#l&&x.endsWith("%");if(m&&y)return;const[v,w]=this.parentDimensions;m||(g.width=`${(100*parseFloat(b)/v).toFixed(2)}%`),!this.#l&&!y&&(g.height=`${(100*parseFloat(x)/w).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#M(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const g=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const x of g){const b=document.createElement("div");this.#o.append(b),b.classList.add("resizer",x),b.setAttribute("data-resizer-name",x),b.addEventListener("pointerdown",this.#L.bind(this,x)),b.addEventListener("contextmenu",o.noContextMenu),b.tabIndex=-1}this.div.prepend(this.#o)}#L(g,x){x.preventDefault();const{isMac:b}=s.FeatureTest.platform;if(x.button!==0||x.ctrlKey&&b)return;this.#E(!1);const m=this.#P.bind(this,g),y=this._isDraggable;this._isDraggable=!1;const v={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",m,v);const w=this.x,S=this.y,C=this.width,E=this.height,T=this.parent.div.style.cursor,_=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(x.target).cursor;const R=()=>{this.parent.togglePointerEvents(!0),this.#E(!0),this._isDraggable=y,window.removeEventListener("pointerup",R),window.removeEventListener("blur",R),window.removeEventListener("pointermove",m,v),this.parent.div.style.cursor=T,this.div.style.cursor=_,this.#v(w,S,C,E)};window.addEventListener("pointerup",R),window.addEventListener("blur",R)}#v(g,x,b,m){const y=this.x,v=this.y,w=this.width,S=this.height;y===g&&v===x&&w===b&&S===m||this.addCommands({cmd:()=>{this.width=w,this.height=S,this.x=y,this.y=v;const[C,E]=this.parentDimensions;this.setDims(C*w,E*S),this.fixAndSetPosition()},undo:()=>{this.width=b,this.height=m,this.x=g,this.y=x;const[C,E]=this.parentDimensions;this.setDims(C*b,E*m),this.fixAndSetPosition()},mustExec:!0})}#P(g,x){const[b,m]=this.parentDimensions,y=this.x,v=this.y,w=this.width,S=this.height,C=u.MIN_SIZE/b,E=u.MIN_SIZE/m,T=ce=>Math.round(ce*1e4)/1e4,_=this.#R(this.rotation),R=(ce,M)=>[_[0]*ce+_[2]*M,_[1]*ce+_[3]*M],U=this.#R(360-this.rotation),z=(ce,M)=>[U[0]*ce+U[2]*M,U[1]*ce+U[3]*M];let X,W,Y=!1,se=!1;switch(g){case"topLeft":Y=!0,X=(ce,M)=>[0,0],W=(ce,M)=>[ce,M];break;case"topMiddle":X=(ce,M)=>[ce/2,0],W=(ce,M)=>[ce/2,M];break;case"topRight":Y=!0,X=(ce,M)=>[ce,0],W=(ce,M)=>[0,M];break;case"middleRight":se=!0,X=(ce,M)=>[ce,M/2],W=(ce,M)=>[0,M/2];break;case"bottomRight":Y=!0,X=(ce,M)=>[ce,M],W=(ce,M)=>[0,0];break;case"bottomMiddle":X=(ce,M)=>[ce/2,M],W=(ce,M)=>[ce/2,0];break;case"bottomLeft":Y=!0,X=(ce,M)=>[0,M],W=(ce,M)=>[ce,0];break;case"middleLeft":se=!0,X=(ce,M)=>[0,M/2],W=(ce,M)=>[ce,M/2];break}const oe=X(w,S),ue=W(w,S);let Z=R(...ue);const te=T(y+Z[0]),he=T(v+Z[1]);let xe=1,ye=1,[Ae,we]=this.screenToPageTranslation(x.movementX,x.movementY);if([Ae,we]=z(Ae/b,we/m),Y){const ce=Math.hypot(w,S);xe=ye=Math.max(Math.min(Math.hypot(ue[0]-oe[0]-Ae,ue[1]-oe[1]-we)/ce,1/w,1/S),C/w,E/S)}else se?xe=Math.max(C,Math.min(1,Math.abs(ue[0]-oe[0]-Ae)))/w:ye=Math.max(E,Math.min(1,Math.abs(ue[1]-oe[1]-we)))/S;const pe=T(w*xe),Te=T(S*ye);Z=R(...W(pe,Te));const ge=te-Z[0],de=he-Z[1];this.width=pe,this.height=Te,this.x=ge,this.y=de,this.setDims(b*pe,m*Te),this.fixAndSetPosition()}async addAltTextButton(){if(this.#r)return;const g=this.#r=document.createElement("button");g.className="altText";const x=await u._l10nPromise.get("pdfjs-editor-alt-text-button-label");g.textContent=x,g.setAttribute("aria-label",x),g.tabIndex="0",g.addEventListener("contextmenu",o.noContextMenu),g.addEventListener("pointerdown",m=>m.stopPropagation());const b=m=>{this.#r.hidden=!0,m.preventDefault(),this._uiManager.editAltText(this)};g.addEventListener("click",b,{capture:!0}),g.addEventListener("keydown",m=>{m.target===g&&m.key==="Enter"&&(this.#c=!0,b(m))}),this.#T(),this.div.append(g),u.SMALL_EDITOR_SIZE||(u.SMALL_EDITOR_SIZE=Math.min(128,Math.round(g.getBoundingClientRect().width*(1+40/100))))}async#T(){const g=this.#r;if(!g)return;if(!this.#t&&!this.#n){g.classList.remove("done"),this.#s?.remove();return}g.classList.add("done"),u._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(m=>{g.setAttribute("aria-label",m)});let x=this.#s;if(!x){this.#s=x=document.createElement("span"),x.className="tooltip",x.setAttribute("role","tooltip");const m=x.id=`alt-text-tooltip-${this.id}`;g.setAttribute("aria-describedby",m);const y=100;g.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#s.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},y)}),g.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s?.classList.remove("show")})}x.innerText=this.#n?await u._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#t,x.parentNode||g.append(x),this.getImageForAltText()?.setAttribute("aria-describedby",x.id)}#E(g=!1){this.#r&&(!g&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#r.disabled=!g)}altTextFinish(){this.#r&&(this.#r.hidden=!1,this.#r.focus({focusVisible:this.#c}),this.#c=!1)}addEditToolbar(){this.#h||this.#x||(this.#h=new l(this),this.div.append(this.#h.render()))}removeEditToolbar(){this.#h&&(this.#h.remove(),this.#h=null)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#t,decorative:this.#n}}set altTextData({altText:g,decorative:x}){this.#t===g&&this.#n===x||(this.#t=g,this.#n=x,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#a),this.div.addEventListener("focusout",this.#f);const[g,x]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*x/g).toFixed(2)}%`,this.div.style.maxHeight=`${(100*g/x).toFixed(2)}%`);const[b,m]=this.getInitialTranslation();return this.translate(b,m),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(g){const{isMac:x}=s.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&x){g.preventDefault();return}this.#p=!0,this.#w(g)}#w(g){if(!this._isDraggable)return;const x=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let b,m;x&&(b={passive:!0,capture:!0},m=v=>{const[w,S]=this.screenToPageTranslation(v.movementX,v.movementY);this._uiManager.dragSelectedEditors(w,S)},window.addEventListener("pointermove",m,b));const y=()=>{if(window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),x&&window.removeEventListener("pointermove",m,b),this.#p=!1,!this._uiManager.endDragSession()){const{isMac:v}=s.FeatureTest.platform;g.ctrlKey&&!v||g.shiftKey||g.metaKey&&v?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",y),window.addEventListener("blur",y)}moveInDOM(){this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.#d=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(g,x,b){g.changeParent(this),this.x=x,this.y=b,this.fixAndSetPosition()}getRect(g,x){const b=this.parentScale,[m,y]=this.pageDimensions,[v,w]=this.pageTranslation,S=g/b,C=x/b,E=this.x*m,T=this.y*y,_=this.width*m,R=this.height*y;switch(this.rotation){case 0:return[E+S+v,y-T-C-R+w,E+S+_+v,y-T-C+w];case 90:return[E+C+v,y-T+S+w,E+C+R+v,y-T+S+_+w];case 180:return[E-S-_+v,y-T+C+w,E-S+v,y-T+C+R+w];case 270:return[E-C-R+v,y-T-S-_+w,E-C+v,y-T-S+w];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(g,x){const[b,m,y,v]=g,w=y-b,S=v-m;switch(this.rotation){case 0:return[b,x-v,w,S];case 90:return[b,x-m,S,w];case 180:return[y,x-m,w,S];case 270:return[y,x-v,S,w];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#x=!0}disableEditMode(){this.#x=!1}isInEditMode(){return this.#x}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#a),this.div?.addEventListener("focusout",this.#f)}serialize(g=!1,x=null){(0,s.unreachable)("An editor must be serializable")}static deserialize(g,x,b){const m=new this.prototype.constructor({parent:x,id:x.getNextId(),uiManager:b});m.rotation=g.rotation;const[y,v]=m.pageDimensions,[w,S,C,E]=m.getRectInCurrentCoords(g.rect,v);return m.x=w/y,m.y=S/v,m.width=C/y,m.height=E/v,m}remove(){this.div.removeEventListener("focusin",this.#a),this.div.removeEventListener("focusout",this.#f),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#r?.remove(),this.#r=null,this.#s=null,this.#d&&(clearTimeout(this.#d),this.#d=null),this.#k(),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#M(),this.#o.classList.remove("hidden"),(0,a.bindEvents)(this,this.div,["keydown"]))}keydown(g){if(!this.isResizable||g.target!==this.div||g.key!=="Enter")return;this._uiManager.setSelected(this),this.#u={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const x=this.#o.children;if(!this.#e){this.#e=Array.from(x);const v=this.#S.bind(this),w=this.#A.bind(this);for(const S of this.#e){const C=S.getAttribute("data-resizer-name");S.setAttribute("role","spinbutton"),S.addEventListener("keydown",v),S.addEventListener("blur",w),S.addEventListener("focus",this.#B.bind(this,C)),u._l10nPromise.get(`pdfjs-editor-resizer-label-${C}`).then(E=>S.setAttribute("aria-label",E))}}const b=this.#e[0];let m=0;for(const v of x){if(v===b)break;m++}const y=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(y!==m){if(y<m)for(let w=0;w<m-y;w++)this.#o.append(this.#o.firstChild);else if(y>m)for(let w=0;w<y-m;w++)this.#o.firstChild.before(this.#o.lastChild);let v=0;for(const w of x){const C=this.#e[v++].getAttribute("data-resizer-name");u._l10nPromise.get(`pdfjs-editor-resizer-label-${C}`).then(E=>w.setAttribute("aria-label",E))}}this.#N(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),g.preventDefault(),g.stopImmediatePropagation()}#S(g){u._resizerKeyboardManager.exec(this,g)}#A(g){this.#m&&g.relatedTarget?.parentNode!==this.#o&&this.#k()}#B(g){this.#g=this.#m?g:""}#N(g){if(this.#e)for(const x of this.#e)x.tabIndex=g}_resizeWithKeyboard(g,x){this.#m&&this.#P(this.#g,{movementX:g,movementY:x})}#k(){if(this.#m=!1,this.#N(-1),this.#u){const{savedX:g,savedY:x,savedWidth:b,savedHeight:m}=this.#u;this.#v(g,x,b,m),this.#u=null}}_stopResizingWithKeyboard(){this.#k(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.addEditToolbar(),this.#h?.show()}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),this.#h?.hide()}updateParams(g,x){}disableEditing(){this.#r&&(this.#r.hidden=!0)}enableEditing(){this.#r&&(this.#r.hidden=!1)}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#b}set isEditing(g){this.#b=g,this.parent&&(g?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(g,x){this.#l=!0;const b=g/x,{style:m}=this.div;m.aspectRatio=b,m.height="auto"}static get MIN_SIZE(){return 16}}class d extends u{constructor(g){super(g),this.annotationElementId=g.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},405:(n,t,r)=>{r.d(t,{Outliner:()=>a});class a{#e;#t=[];#n=[];constructor(o,l=0,u=0,d=!0){let f=1/0,g=-1/0,x=1/0,b=-1/0;const y=10**-4;for(const{x:_,y:R,width:U,height:z}of o){const X=Math.floor((_-l)/y)*y,W=Math.ceil((_+U+l)/y)*y,Y=Math.floor((R-l)/y)*y,se=Math.ceil((R+z+l)/y)*y,oe=[X,Y,se,!0],ue=[W,Y,se,!1];this.#t.push(oe,ue),f=Math.min(f,X),g=Math.max(g,W),x=Math.min(x,Y),b=Math.max(b,se)}const v=g-f+2*u,w=b-x+2*u,S=f-u,C=x-u,E=this.#t.at(d?-1:-2),T=[E[0],E[2]];for(const _ of this.#t){const[R,U,z]=_;_[0]=(R-S)/v,_[1]=(U-C)/w,_[2]=(z-C)/w}this.#e={x:S,y:C,width:v,height:w,lastPoint:T}}getOutlines(){this.#t.sort((l,u)=>l[0]-u[0]||l[1]-u[1]||l[2]-u[2]);const o=[];for(const l of this.#t)l[3]?(o.push(...this.#l(l)),this.#i(l)):(this.#c(l),o.push(...this.#l(l)));return this.#r(o)}#r(o){const l=[],u=new Set;for(const g of o){const[x,b,m]=g;l.push([x,b,g],[x,m,g])}l.sort((g,x)=>g[1]-x[1]||g[0]-x[0]);for(let g=0,x=l.length;g<x;g+=2){const b=l[g][2],m=l[g+1][2];b.push(m),m.push(b),u.add(b),u.add(m)}const d=[];let f;for(;u.size>0;){const g=u.values().next().value;let[x,b,m,y,v]=g;u.delete(g);let w=x,S=b;for(f=[x,m],d.push(f);;){let C;if(u.has(y))C=y;else if(u.has(v))C=v;else break;u.delete(C),[x,b,m,y,v]=C,w!==x&&(f.push(w,S,x,S===b?b:m),w=x),S=S===b?m:b}f.push(w,S)}return{outlines:d,box:this.#e}}#s(o){const l=this.#n;let u=0,d=l.length-1;for(;u<=d;){const f=u+d>>1,g=l[f][0];if(g===o)return f;g<o?u=f+1:d=f-1}return d+1}#i([,o,l]){const u=this.#s(o);this.#n.splice(u,0,[o,l])}#c([,o,l]){const u=this.#s(o);for(let d=u;d<this.#n.length;d++){const[f,g]=this.#n[d];if(f!==o)break;if(f===o&&g===l){this.#n.splice(d,1);return}}for(let d=u-1;d>=0;d--){const[f,g]=this.#n[d];if(f!==o)break;if(f===o&&g===l){this.#n.splice(d,1);return}}}#l(o){const[l,u,d]=o,f=[[l,u,d]],g=this.#s(d);for(let x=0;x<g;x++){const[b,m]=this.#n[x];for(let y=0,v=f.length;y<v;y++){const[,w,S]=f[y];if(!(m<=w||S<=b)){if(w>=b){if(S>m)f[y][1]=m;else{if(v===1)return[];f.splice(y,1),y--,v--}continue}f[y][2]=b,S>m&&f.push([l,m,S])}}}return f}}},812:(n,t,r)=>{r.d(t,{AnnotationEditorUIManager:()=>b,ColorManager:()=>x,KeyboardManager:()=>g,bindEvents:()=>o,opacityToHex:()=>l});var a=r(266),s=r(473);function o(m,y,v){for(const w of v)y.addEventListener(w,m[w].bind(m))}function l(m){return Math.round(Math.min(255,Math.max(1,255*m))).toString(16).padStart(2,"0")}class u{#e=0;getId(){return`${a.AnnotationEditorPrefix}${this.#e++}`}}class d{#e=(0,a.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const y='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',w=new OffscreenCanvas(1,3).getContext("2d"),S=new Image;S.src=y;const C=S.decode().then(()=>(w.drawImage(S,0,0,1,1,0,0,1,3),new Uint32Array(w.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",C)}async#r(y,v){this.#n||=new Map;let w=this.#n.get(y);if(w===null)return null;if(w?.bitmap)return w.refCounter+=1,w;try{w||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let S;if(typeof v=="string"?(w.url=v,S=await(0,s.fetchData)(v,"blob")):S=w.file=v,S.type==="image/svg+xml"){const C=d._isSVGFittingCanvas,E=new FileReader,T=new Image,_=new Promise((R,U)=>{T.onload=()=>{w.bitmap=T,w.isSvg=!0,R()},E.onload=async()=>{const z=w.svgUrl=E.result;T.src=await C?`${z}#svgView(preserveAspectRatio(none))`:z},T.onerror=E.onerror=U});E.readAsDataURL(S),await _}else w.bitmap=await createImageBitmap(S);w.refCounter=1}catch(S){console.error(S),w=null}return this.#n.set(y,w),w&&this.#n.set(w.id,w),w}async getFromFile(y){const{lastModified:v,name:w,size:S,type:C}=y;return this.#r(`${v}_${w}_${S}_${C}`,y)}async getFromUrl(y){return this.#r(y,y)}async getFromId(y){this.#n||=new Map;const v=this.#n.get(y);return v?v.bitmap?(v.refCounter+=1,v):v.file?this.getFromFile(v.file):this.getFromUrl(v.url):null}getSvgUrl(y){const v=this.#n.get(y);return v?.isSvg?v.svgUrl:null}deleteId(y){this.#n||=new Map;const v=this.#n.get(y);v&&(v.refCounter-=1,v.refCounter===0&&(v.bitmap=null))}isValidId(y){return y.startsWith(`image_${this.#e}_`)}}class f{#e=[];#t=!1;#n;#r=-1;constructor(y=128){this.#n=y}add({cmd:y,undo:v,mustExec:w,type:S=NaN,overwriteIfSameType:C=!1,keepUndo:E=!1}){if(w&&y(),this.#t)return;const T={cmd:y,undo:v,type:S};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(T);return}if(C&&this.#e[this.#r].type===S){E&&(T.undo=this.#e[this.#r].undo),this.#e[this.#r]=T;return}const _=this.#r+1;_===this.#n?this.#e.splice(0,1):(this.#r=_,_<this.#e.length&&this.#e.splice(_)),this.#e.push(T)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}class g{constructor(y){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:v}=a.FeatureTest.platform;for(const[w,S,C={}]of y)for(const E of w){const T=E.startsWith("mac+");v&&T?(this.callbacks.set(E.slice(4),{callback:S,options:C}),this.allKeys.add(E.split("+").at(-1))):!v&&!T&&(this.callbacks.set(E,{callback:S,options:C}),this.allKeys.add(E.split("+").at(-1)))}}#e(y){y.altKey&&this.buffer.push("alt"),y.ctrlKey&&this.buffer.push("ctrl"),y.metaKey&&this.buffer.push("meta"),y.shiftKey&&this.buffer.push("shift"),this.buffer.push(y.key);const v=this.buffer.join("+");return this.buffer.length=0,v}exec(y,v){if(!this.allKeys.has(v.key))return;const w=this.callbacks.get(this.#e(v));if(!w)return;const{callback:S,options:{bubbles:C=!1,args:E=[],checker:T=null}}=w;T&&!T(y,v)||(S.bind(y,...E)(),C||(v.stopPropagation(),v.preventDefault()))}}class x{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const y=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(y),(0,a.shadow)(this,"_colors",y)}convert(y){const v=(0,s.getRGB)(y);if(!window.matchMedia("(forced-colors: active)").matches)return v;for(const[w,S]of this._colors)if(S.every((C,E)=>C===v[E]))return x._colorsMapping.get(w);return v}getHexCode(y){const v=this._colors.get(y);return v?a.Util.makeHexColor(...v):y}}class b{#e=null;#t=new Map;#n=new Map;#r=null;#s=null;#i=new f;#c=0;#l=new Set;#o=null;#u=null;#a=new Set;#f=null;#h=null;#g=new u;#p=!1;#b=!1;#x=null;#m=a.AnnotationEditorType.NONE;#d=new Set;#y=null;#F=this.blur.bind(this);#I=this.focus.bind(this);#O=this.copy.bind(this);#_=this.cut.bind(this);#R=this.paste.bind(this);#M=this.keydown.bind(this);#L=this.onEditingAction.bind(this);#v=this.onPageChanging.bind(this);#P=this.onScaleChanging.bind(this);#T=this.onRotationChanging.bind(this);#E={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#w=[0,0];#S=null;#A=null;#B=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const y=b.prototype,v=E=>E.#A.contains(document.activeElement)&&E.hasSomethingToControl(),w=(E,{target:T})=>{if(T instanceof HTMLInputElement){const{type:_}=T;return _!=="text"&&_!=="number"}return!0},S=this.TRANSLATE_SMALL,C=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],y.selectAll,{checker:w}],[["ctrl+z","mac+meta+z"],y.undo,{checker:w}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],y.redo,{checker:w}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],y.delete,{checker:w}],[["Enter","mac+Enter"],y.addNewEditorFromKeyboard,{checker:(E,{target:T})=>!(T instanceof HTMLButtonElement)&&E.#A.contains(T)&&!E.isEnterHandled}],[[" ","mac+ "],y.addNewEditorFromKeyboard,{checker:E=>E.#A.contains(document.activeElement)}],[["Escape","mac+Escape"],y.unselectAll],[["ArrowLeft","mac+ArrowLeft"],y.translateSelectedEditors,{args:[-S,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],y.translateSelectedEditors,{args:[-C,0],checker:v}],[["ArrowRight","mac+ArrowRight"],y.translateSelectedEditors,{args:[S,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],y.translateSelectedEditors,{args:[C,0],checker:v}],[["ArrowUp","mac+ArrowUp"],y.translateSelectedEditors,{args:[0,-S],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],y.translateSelectedEditors,{args:[0,-C],checker:v}],[["ArrowDown","mac+ArrowDown"],y.translateSelectedEditors,{args:[0,S],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],y.translateSelectedEditors,{args:[0,C],checker:v}]]))}constructor(y,v,w,S,C,E){this.#A=y,this.#B=v,this.#r=w,this._eventBus=S,this._eventBus._on("editingaction",this.#L),this._eventBus._on("pagechanging",this.#v),this._eventBus._on("scalechanging",this.#P),this._eventBus._on("rotationchanging",this.#T),this.#s=C.annotationStorage,this.#f=C.filterFactory,this.#y=E,this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#U(),this.#k(),this._eventBus._off("editingaction",this.#L),this._eventBus._off("pagechanging",this.#v),this._eventBus._off("scalechanging",this.#P),this._eventBus._off("rotationchanging",this.#T);for(const y of this.#n.values())y.destroy();this.#n.clear(),this.#t.clear(),this.#a.clear(),this.#e=null,this.#d.clear(),this.#i.destroy(),this.#r.destroy(),this.#h&&(clearTimeout(this.#h),this.#h=null),this.#S&&(clearTimeout(this.#S),this.#S=null)}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",this.#y?this.#f.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(this.#A).direction)}editAltText(y){this.#r?.editAltText(this,y)}onPageChanging({pageNumber:y}){this.#c=y-1}focusMainContainer(){this.#A.focus()}findParent(y,v){for(const w of this.#n.values()){const{x:S,y:C,width:E,height:T}=w.div.getBoundingClientRect();if(y>=S&&y<=S+E&&v>=C&&v<=C+T)return w}return null}disableUserSelect(y=!1){this.#B.classList.toggle("noUserSelect",y)}addShouldRescale(y){this.#a.add(y)}removeShouldRescale(y){this.#a.delete(y)}onScaleChanging({scale:y}){this.commitOrRemove(),this.viewParameters.realScale=y*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const v of this.#a)v.onScaleChanging()}onRotationChanging({pagesRotation:y}){this.commitOrRemove(),this.viewParameters.rotation=y}addToAnnotationStorage(y){!y.isEmpty()&&this.#s&&!this.#s.has(y.id)&&this.#s.setValue(y.id,y)}#N(){window.addEventListener("focus",this.#I),window.addEventListener("blur",this.#F)}#k(){window.removeEventListener("focus",this.#I),window.removeEventListener("blur",this.#F)}blur(){if(!this.hasSelection)return;const{activeElement:y}=document;for(const v of this.#d)if(v.div.contains(y)){this.#x=[v,y],v._focusEventsAllowed=!1;break}}focus(){if(!this.#x)return;const[y,v]=this.#x;this.#x=null,v.addEventListener("focusin",()=>{y._focusEventsAllowed=!0},{once:!0}),v.focus()}#H(){window.addEventListener("keydown",this.#M)}#U(){window.removeEventListener("keydown",this.#M)}#j(){document.addEventListener("copy",this.#O),document.addEventListener("cut",this.#_),document.addEventListener("paste",this.#R)}#D(){document.removeEventListener("copy",this.#O),document.removeEventListener("cut",this.#_),document.removeEventListener("paste",this.#R)}addEditListeners(){this.#H(),this.#j()}removeEditListeners(){this.#U(),this.#D()}copy(y){if(y.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const v=[];for(const w of this.#d){const S=w.serialize(!0);S&&v.push(S)}v.length!==0&&y.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(y){this.copy(y),this.delete()}paste(y){y.preventDefault();const{clipboardData:v}=y;for(const C of v.items)for(const E of this.#u)if(E.isHandlingMimeForPasting(C.type)){E.paste(C,this.currentLayer);return}let w=v.getData("application/pdfjs");if(!w)return;try{w=JSON.parse(w)}catch(C){(0,a.warn)(`paste: "${C.message}".`);return}if(!Array.isArray(w))return;this.unselectAll();const S=this.currentLayer;try{const C=[];for(const _ of w){const R=S.deserialize(_);if(!R)return;C.push(R)}const E=()=>{for(const _ of C)this.#X(_);this.#V(C)},T=()=>{for(const _ of C)_.remove()};this.addCommands({cmd:E,undo:T,mustExec:!0})}catch(C){(0,a.warn)(`paste: "${C.message}".`)}}keydown(y){this.isEditorHandlingKeyboard||b._keyboardManager.exec(this,y)}onEditingAction(y){["undo","redo","delete","selectAll"].includes(y.name)&&this[y.name]()}#C(y){Object.entries(y).some(([w,S])=>this.#E[w]!==S)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#E,y)})}#z(y){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:y})}setEditingState(y){y?(this.#N(),this.#H(),this.#j(),this.#C({isEditing:this.#m!==a.AnnotationEditorType.NONE,isEmpty:this.#G(),hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:this.#i.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#k(),this.#U(),this.#D(),this.#C({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(y){if(!this.#u){this.#u=y;for(const v of this.#u)this.#z(v.defaultPropertiesToUpdate)}}getId(){return this.#g.getId()}get currentLayer(){return this.#n.get(this.#c)}getLayer(y){return this.#n.get(y)}get currentPageIndex(){return this.#c}addLayer(y){this.#n.set(y.pageIndex,y),this.#p?y.enable():y.disable()}removeLayer(y){this.#n.delete(y.pageIndex)}updateMode(y,v=null,w=!1){if(this.#m!==y){if(this.#m=y,y===a.AnnotationEditorType.NONE){this.setEditingState(!1),this.#$();return}this.setEditingState(!0),this.#q(),this.unselectAll();for(const S of this.#n.values())S.updateMode(y);if(!v&&w){this.addNewEditorFromKeyboard();return}if(v){for(const S of this.#t.values())if(S.annotationElementId===v){this.setSelected(S),S.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.addNewEditor()}updateToolbar(y){y!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:y})}updateParams(y,v){if(this.#u){if(y===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor();return}for(const w of this.#d)w.updateParams(y,v);for(const w of this.#u)w.updateDefaultParams(y,v)}}enableWaiting(y=!1){if(this.#b!==y){this.#b=y;for(const v of this.#n.values())y?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",y)}}#q(){if(!this.#p){this.#p=!0;for(const y of this.#n.values())y.enable()}}#$(){if(this.unselectAll(),this.#p){this.#p=!1;for(const y of this.#n.values())y.disable()}}getEditors(y){const v=[];for(const w of this.#t.values())w.pageIndex===y&&v.push(w);return v}getEditor(y){return this.#t.get(y)}addEditor(y){this.#t.set(y.id,y)}removeEditor(y){y.div.contains(document.activeElement)&&(this.#h&&clearTimeout(this.#h),this.#h=setTimeout(()=>{this.focusMainContainer(),this.#h=null},0)),this.#t.delete(y.id),this.unselect(y),(!y.annotationElementId||!this.#l.has(y.annotationElementId))&&this.#s?.remove(y.id)}addDeletedAnnotationElement(y){this.#l.add(y.annotationElementId),y.deleted=!0}isDeletedAnnotationElement(y){return this.#l.has(y)}removeDeletedAnnotationElement(y){this.#l.delete(y.annotationElementId),y.deleted=!1}#X(y){const v=this.#n.get(y.pageIndex);v?v.addOrRebuild(y):this.addEditor(y)}setActiveEditor(y){this.#e!==y&&(this.#e=y,y&&this.#z(y.propertiesToUpdate))}toggleSelected(y){if(this.#d.has(y)){this.#d.delete(y),y.unselect(),this.#C({hasSelectedEditor:this.hasSelection});return}this.#d.add(y),y.select(),this.#z(y.propertiesToUpdate),this.#C({hasSelectedEditor:!0})}setSelected(y){for(const v of this.#d)v!==y&&v.unselect();this.#d.clear(),this.#d.add(y),y.select(),this.#z(y.propertiesToUpdate),this.#C({hasSelectedEditor:!0})}isSelected(y){return this.#d.has(y)}get firstSelectedEditor(){return this.#d.values().next().value}unselect(y){y.unselect(),this.#d.delete(y),this.#C({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#d.size!==0}get isEnterHandled(){return this.#d.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#i.undo(),this.#C({hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#G()})}redo(){this.#i.redo(),this.#C({hasSomethingToUndo:!0,hasSomethingToRedo:this.#i.hasSomethingToRedo(),isEmpty:this.#G()})}addCommands(y){this.#i.add(y),this.#C({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#G()})}#G(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const y of this.#t.values())return y.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const y=[...this.#d],v=()=>{for(const S of y)S.remove()},w=()=>{for(const S of y)this.#X(S)};this.addCommands({cmd:v,undo:w,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#V(y){this.#d.clear();for(const v of y)v.isEmpty()||(this.#d.add(v),v.select());this.#C({hasSelectedEditor:!0})}selectAll(){for(const y of this.#d)y.commit();this.#V(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const y of this.#d)y.unselect();this.#d.clear(),this.#C({hasSelectedEditor:!1})}}translateSelectedEditors(y,v,w=!1){if(w||this.commitOrRemove(),!this.hasSelection)return;this.#w[0]+=y,this.#w[1]+=v;const[S,C]=this.#w,E=[...this.#d],T=1e3;this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.#S=null,this.#w[0]=this.#w[1]=0,this.addCommands({cmd:()=>{for(const _ of E)this.#t.has(_.id)&&_.translateInPage(S,C)},undo:()=>{for(const _ of E)this.#t.has(_.id)&&_.translateInPage(-S,-C)},mustExec:!1})},T);for(const _ of E)_.translateInPage(y,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#o=new Map;for(const y of this.#d)this.#o.set(y,{savedX:y.x,savedY:y.y,savedPageIndex:y.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#o)return!1;this.disableUserSelect(!1);const y=this.#o;this.#o=null;let v=!1;for(const[{x:S,y:C,pageIndex:E},T]of y)T.newX=S,T.newY=C,T.newPageIndex=E,v||=S!==T.savedX||C!==T.savedY||E!==T.savedPageIndex;if(!v)return!1;const w=(S,C,E,T)=>{if(this.#t.has(S.id)){const _=this.#n.get(T);_?S._setParentAndPosition(_,C,E):(S.pageIndex=T,S.x=C,S.y=E)}};return this.addCommands({cmd:()=>{for(const[S,{newX:C,newY:E,newPageIndex:T}]of y)w(S,C,E,T)},undo:()=>{for(const[S,{savedX:C,savedY:E,savedPageIndex:T}]of y)w(S,C,E,T)},mustExec:!0}),!0}dragSelectedEditors(y,v){if(this.#o)for(const w of this.#o.keys())w.drag(y,v)}rebuild(y){if(y.parent===null){const v=this.getLayer(y.pageIndex);v?(v.changeParent(y),v.addOrRebuild(y)):(this.addEditor(y),this.addToAnnotationStorage(y),y.rebuild())}else y.parent.addOrRebuild(y)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#d.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(y){return this.#e===y}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,a.shadow)(this,"imageManager",new d)}}},171:(n,t,r)=>{r.d(t,{PDFFetchStream:()=>d});var a=r(266),s=r(253);function o(x,b,m){return{method:"GET",headers:x,signal:m.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function l(x){const b=new Headers;for(const m in x){const y=x[m];y!==void 0&&b.append(m,y)}return b}function u(x){return x instanceof Uint8Array?x.buffer:x instanceof ArrayBuffer?x:((0,a.warn)(`getArrayBuffer - unexpected data format: ${x}`),new Uint8Array(x).buffer)}class d{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}getRangeReader(b,m){if(m<=this._progressiveDataLength)return null;const y=new g(this,b,m);return this._rangeRequestReaders.push(y),y}cancelAllRequests(b){this._fullRequestReader?.cancel(b);for(const m of this._rangeRequestReaders.slice(0))m.cancel(b)}}class f{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const m=b.source;this._withCredentials=m.withCredentials||!1,this._contentLength=m.length,this._headersCapability=new a.PromiseCapability,this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._headers=l(this._stream.httpHeaders);const y=m.url;fetch(y,o(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,s.validateResponseStatus)(v.status))throw(0,s.createResponseStatusError)(v.status,y);this._reader=v.body.getReader(),this._headersCapability.resolve();const w=E=>v.headers.get(E),{allowRangeRequests:S,suggestedLength:C}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=S,this._contentLength=C||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:b,done:m}=await this._reader.read();return m?{value:b,done:m}:(this._loaded+=b.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:u(b),done:!1})}cancel(b){this._reader?.cancel(b),this._abortController.abort()}}class g{constructor(b,m,y){this._stream=b,this._reader=null,this._loaded=0;const v=b.source;this._withCredentials=v.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!v.disableStream,this._abortController=new AbortController,this._headers=l(this._stream.httpHeaders),this._headers.append("Range",`bytes=${m}-${y-1}`);const w=v.url;fetch(w,o(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,s.validateResponseStatus)(S.status))throw(0,s.createResponseStatusError)(S.status,w);this._readCapability.resolve(),this._reader=S.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:b,done:m}=await this._reader.read();return m?{value:b,done:m}:(this._loaded+=b.byteLength,this.onProgress?.({loaded:this._loaded}),{value:u(b),done:!1})}cancel(b){this._reader?.cancel(b),this._abortController.abort()}}},742:(n,t,r)=>{r.d(t,{FontFaceObject:()=>o,FontLoader:()=>s});var a=r(266);class s{#e=new Set;constructor({ownerDocument:u=globalThis.document,styleElement:d=null}){this._document=u,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(u){this.nativeFontFaces.add(u),this._document.fonts.add(u)}removeNativeFontFace(u){this.nativeFontFaces.delete(u),this._document.fonts.delete(u)}insertRule(u){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const d=this.styleElement.sheet;d.insertRule(u,d.cssRules.length)}clear(){for(const u of this.nativeFontFaces)this._document.fonts.delete(u);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:u,_inspectFont:d}){if(!(!u||this.#e.has(u.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:f,src:g,style:x}=u,b=new FontFace(f,g,x);this.addNativeFontFace(b);try{await b.load(),this.#e.add(f),d?.(u)}catch{(0,a.warn)(`Cannot load system font: ${u.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(b)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(u){if(u.attached||u.missingFile&&!u.systemFontInfo)return;if(u.attached=!0,u.systemFontInfo){await this.loadSystemFont(u);return}if(this.isFontLoadingAPISupported){const f=u.createNativeFontFace();if(f){this.addNativeFontFace(f);try{await f.loaded}catch(g){throw(0,a.warn)(`Failed to load font '${f.family}': '${g}'.`),u.disableFontFace=!0,g}}return}const d=u.createFontFaceRule();if(d){if(this.insertRule(d),this.isSyncFontLoadingSupported)return;await new Promise(f=>{const g=this._queueLoadingCallback(f);this._prepareFontLoadEvent(u,g)})}}get isFontLoadingAPISupported(){const u=!!this._document?.fonts;return(0,a.shadow)(this,"isFontLoadingAPISupported",u)}get isSyncFontLoadingSupported(){let u=!1;return(a.isNodeJS||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(u=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",u)}_queueLoadingCallback(u){function d(){for((0,a.assert)(!g.done,"completeRequest() cannot be called twice."),g.done=!0;f.length>0&&f[0].done;){const x=f.shift();setTimeout(x.callback,0)}}const{loadingRequests:f}=this,g={done:!1,complete:d,callback:u};return f.push(g),g}get _loadTestFont(){const u=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",u)}_prepareFontLoadEvent(u,d){function f(W,Y){return W.charCodeAt(Y)<<24|W.charCodeAt(Y+1)<<16|W.charCodeAt(Y+2)<<8|W.charCodeAt(Y+3)&255}function g(W,Y,se,oe){const ue=W.substring(0,Y),Z=W.substring(Y+se);return ue+oe+Z}let x,b;const m=this._document.createElement("canvas");m.width=1,m.height=1;const y=m.getContext("2d");let v=0;function w(W,Y){if(++v>30){(0,a.warn)("Load test font never loaded."),Y();return}if(y.font="30px "+W,y.fillText(".",0,20),y.getImageData(0,0,1,1).data[3]>0){Y();return}setTimeout(w.bind(null,W,Y))}const S=`lt${Date.now()}${this.loadTestFontId++}`;let C=this._loadTestFont;C=g(C,976,S.length,S);const T=16,_=1482184792;let R=f(C,T);for(x=0,b=S.length-3;x<b;x+=4)R=R-_+f(S,x)|0;x<S.length&&(R=R-_+f(S+"XXX",x)|0),C=g(C,T,4,(0,a.string32)(R));const U=`url(data:font/opentype;base64,${btoa(C)});`,z=`@font-face {font-family:"${S}";src:${U}}`;this.insertRule(z);const X=this._document.createElement("div");X.style.visibility="hidden",X.style.width=X.style.height="10px",X.style.position="absolute",X.style.top=X.style.left="0px";for(const W of[u.loadedName,S]){const Y=this._document.createElement("span");Y.textContent="Hi",Y.style.fontFamily=W,X.append(Y)}this._document.body.append(X),w(S,()=>{X.remove(),d.complete()})}}class o{constructor(u,{isEvalSupported:d=!0,disableFontFace:f=!1,ignoreErrors:g=!1,inspectFont:x=null}){this.compiledGlyphs=Object.create(null);for(const b in u)this[b]=u[b];this.isEvalSupported=d!==!1,this.disableFontFace=f===!0,this.ignoreErrors=g===!0,this._inspectFont=x}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let u;if(!this.cssFontInfo)u=new FontFace(this.loadedName,this.data,{});else{const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),u=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}return this._inspectFont?.(this),u}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const u=(0,a.bytesToString)(this.data),d=`url(data:${this.mimetype};base64,${btoa(u)});`;let f;if(!this.cssFontInfo)f=`@font-face {font-family:"${this.loadedName}";src:${d}}`;else{let g=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(g+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),f=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${g}src:${d}}`}return this._inspectFont?.(this,d),f}getPathGenerator(u,d){if(this.compiledGlyphs[d]!==void 0)return this.compiledGlyphs[d];let f;try{f=u.get(this.loadedName+"_path_"+d)}catch(g){if(!this.ignoreErrors)throw g;return(0,a.warn)(`getPathGenerator - ignoring character: "${g}".`),this.compiledGlyphs[d]=function(x,b){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const g=[];for(const x of f){const b=x.args!==void 0?x.args.join(","):"";g.push("c.",x.cmd,"(",b,`);
`)}return this.compiledGlyphs[d]=new Function("c","size",g.join(""))}return this.compiledGlyphs[d]=function(g,x){for(const b of f)b.cmd==="scale"&&(b.args=[x,-x]),g[b.cmd].apply(g,b.args)}}}},472:(n,t,r)=>{r.d(t,{Metadata:()=>s});var a=r(266);class s{#e;#t;constructor({parsedData:l,rawData:u}){this.#e=l,this.#t=u}getRaw(){return this.#t}get(l){return this.#e.get(l)??null}getAll(){return(0,a.objectFromMap)(this.#e)}has(l){return this.#e.has(l)}}},474:(n,t,r)=>{r.d(t,{PDFNetworkStream:()=>f});var a=r(266),s=r(253);const o=200,l=206;function u(b){const m=b.response;return typeof m!="string"?m:(0,a.stringToBytes)(m).buffer}class d{constructor(m,y={}){this.url=m,this.isHttp=/^https?:/i.test(m),this.httpHeaders=this.isHttp&&y.httpHeaders||Object.create(null),this.withCredentials=y.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(m,y,v){const w={begin:m,end:y};for(const S in v)w[S]=v[S];return this.request(w)}requestFull(m){return this.request(m)}request(m){const y=new XMLHttpRequest,v=this.currXhrId++,w=this.pendingRequests[v]={xhr:y};y.open("GET",this.url),y.withCredentials=this.withCredentials;for(const S in this.httpHeaders){const C=this.httpHeaders[S];C!==void 0&&y.setRequestHeader(S,C)}return this.isHttp&&"begin"in m&&"end"in m?(y.setRequestHeader("Range",`bytes=${m.begin}-${m.end-1}`),w.expectedStatus=l):w.expectedStatus=o,y.responseType="arraybuffer",m.onError&&(y.onerror=function(S){m.onError(y.status)}),y.onreadystatechange=this.onStateChange.bind(this,v),y.onprogress=this.onProgress.bind(this,v),w.onHeadersReceived=m.onHeadersReceived,w.onDone=m.onDone,w.onError=m.onError,w.onProgress=m.onProgress,y.send(null),v}onProgress(m,y){const v=this.pendingRequests[m];v&&v.onProgress?.(y)}onStateChange(m,y){const v=this.pendingRequests[m];if(!v)return;const w=v.xhr;if(w.readyState>=2&&v.onHeadersReceived&&(v.onHeadersReceived(),delete v.onHeadersReceived),w.readyState!==4||!(m in this.pendingRequests))return;if(delete this.pendingRequests[m],w.status===0&&this.isHttp){v.onError?.(w.status);return}const S=w.status||o;if(!(S===o&&v.expectedStatus===l)&&S!==v.expectedStatus){v.onError?.(w.status);return}const E=u(w);if(S===l){const T=w.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(T);v.onDone({begin:parseInt(_[1],10),chunk:E})}else E?v.onDone({begin:0,chunk:E}):v.onError?.(w.status)}getRequestXhr(m){return this.pendingRequests[m].xhr}isPendingRequest(m){return m in this.pendingRequests}abortRequest(m){const y=this.pendingRequests[m].xhr;delete this.pendingRequests[m],y.abort()}}class f{constructor(m){this._source=m,this._manager=new d(m.url,{httpHeaders:m.httpHeaders,withCredentials:m.withCredentials}),this._rangeChunkSize=m.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(m){const y=this._rangeRequestReaders.indexOf(m);y>=0&&this._rangeRequestReaders.splice(y,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(m,y){const v=new x(this._manager,m,y);return v.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(v),v}cancelAllRequests(m){this._fullRequestReader?.cancel(m);for(const y of this._rangeRequestReaders.slice(0))y.cancel(m)}}class g{constructor(m,y){this._manager=m;const v={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._fullRequestId=m.requestFull(v),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=y.disableRange||!1,this._contentLength=y.length,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const m=this._fullRequestId,y=this._manager.getRequestXhr(m),v=C=>y.getResponseHeader(C),{allowRangeRequests:w,suggestedLength:S}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=S||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(v),this._isRangeSupported&&this._manager.abortRequest(m),this._headersReceivedCapability.resolve()}_onDone(m){if(m&&(this._requests.length>0?this._requests.shift().resolve({value:m.chunk,done:!1}):this._cachedChunks.push(m.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(m){this._storedError=(0,s.createResponseStatusError)(m,this._url),this._headersReceivedCapability.reject(this._storedError);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(m){this.onProgress?.({loaded:m.loaded,total:m.lengthComputable?m.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const m=new a.PromiseCapability;return this._requests.push(m),m.promise}cancel(m){this._done=!0,this._headersReceivedCapability.reject(m);for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(m,y,v){this._manager=m;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._requestId=m.requestRange(y,v,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(m){const y=m.chunk;this._requests.length>0?this._requests.shift().resolve({value:y,done:!1}):this._queuedChunk=y,this._done=!0;for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(m){this._storedError=(0,s.createResponseStatusError)(m,this._url);for(const y of this._requests)y.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(m){this.isStreamingSupported||this.onProgress?.({loaded:m.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const y=this._queuedChunk;return this._queuedChunk=null,{value:y,done:!1}}if(this._done)return{value:void 0,done:!0};const m=new a.PromiseCapability;return this._requests.push(m),m.promise}cancel(m){this._done=!0;for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},253:(n,t,r)=>{r.d(t,{createResponseStatusError:()=>d,extractFilenameFromHeader:()=>u,validateRangeRequestCapabilities:()=>l,validateResponseStatus:()=>f});var a=r(266);function s(g){let x=!0,b=m("filename\\*","i").exec(g);if(b){b=b[1];let T=S(b);return T=unescape(T),T=C(T),T=E(T),v(T)}if(b=w(g),b){const T=E(b);return v(T)}if(b=m("filename","i").exec(g),b){b=b[1];let T=S(b);return T=E(T),v(T)}function m(T,_){return new RegExp("(?:^|;)\\s*"+T+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function y(T,_){if(T){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const R=new TextDecoder(T,{fatal:!0}),U=(0,a.stringToBytes)(_);_=R.decode(U),x=!1}catch{}}return _}function v(T){return x&&/[\x80-\xff]/.test(T)&&(T=y("utf-8",T),x&&(T=y("iso-8859-1",T))),T}function w(T){const _=[];let R;const U=m("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(R=U.exec(T))!==null;){let[,X,W,Y]=R;if(X=parseInt(X,10),X in _){if(X===0)break;continue}_[X]=[W,Y]}const z=[];for(let X=0;X<_.length&&X in _;++X){let[W,Y]=_[X];Y=S(Y),W&&(Y=unescape(Y),X===0&&(Y=C(Y))),z.push(Y)}return z.join("")}function S(T){if(T.startsWith('"')){const _=T.slice(1).split('\\"');for(let R=0;R<_.length;++R){const U=_[R].indexOf('"');U!==-1&&(_[R]=_[R].slice(0,U),_.length=R+1),_[R]=_[R].replaceAll(/\\(.)/g,"$1")}T=_.join('"')}return T}function C(T){const _=T.indexOf("'");if(_===-1)return T;const R=T.slice(0,_),z=T.slice(_+1).replace(/^[^']*'/,"");return y(R,z)}function E(T){return!T.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(T)?T:T.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,R,U,z){if(U==="q"||U==="Q")return z=z.replaceAll("_"," "),z=z.replaceAll(/=([0-9a-fA-F]{2})/g,function(X,W){return String.fromCharCode(parseInt(W,16))}),y(R,z);try{z=atob(z)}catch{}return y(R,z)})}return""}var o=r(473);function l({getResponseHeader:g,isHttp:x,rangeChunkSize:b,disableRange:m}){const y={allowRangeRequests:!1,suggestedLength:void 0},v=parseInt(g("Content-Length"),10);return!Number.isInteger(v)||(y.suggestedLength=v,v<=2*b)||m||!x||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(y.allowRangeRequests=!0),y}function u(g){const x=g("Content-Disposition");if(x){let b=s(x);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,o.isPdfFile)(b))return b}return null}function d(g,x){return g===404||g===0&&x.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+x+'".'):new a.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${x}".`,g)}function f(g){return g===200||g===206}},498:(n,t,r)=>{r.a(n,async(a,s)=>{try{let b=function(_){const R=g.parse(_);return R.protocol==="file:"||R.host?R:/^[a-z]:[/\\]/i.test(_)?g.parse(`file:///${_}`):(R.host||(R.protocol="file:"),R)},w=function(_,R){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:R}};r.d(t,{PDFNodeStream:()=>m});var o=r(266),l=r(253);let u,d,f,g;o.isNodeJS&&(u=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),d=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),f=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),g=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])));const x=/^file:\/\/\/[a-zA-Z]:\//;class m{constructor(R){this.source=R,this.url=b(R.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&R.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new E(this):new S(this),this._fullRequestReader}getRangeReader(R,U){if(U<=this._progressiveDataLength)return null;const z=this.isFsUrl?new T(this,R,U):new C(this,R,U);return this._rangeRequestReaders.push(z),z}cancelAllRequests(R){this._fullRequestReader?.cancel(R);for(const U of this._rangeRequestReaders.slice(0))U.cancel(R)}}class y{constructor(R){this._url=R.url,this._done=!1,this._storedError=null,this.onProgress=null;const U=R.source;this._contentLength=U.length,this._loaded=0,this._filename=null,this._disableRange=U.disableRange||!1,this._rangeChunkSize=U.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!U.disableStream,this._isRangeSupported=!U.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const R=this._readableStream.read();return R===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=R.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(R).buffer,done:!1})}cancel(R){if(!this._readableStream){this._error(R);return}this._readableStream.destroy(R)}_error(R){this._storedError=R,this._readCapability.resolve()}_setReadableStream(R){this._readableStream=R,R.on("readable",()=>{this._readCapability.resolve()}),R.on("end",()=>{R.destroy(),this._done=!0,this._readCapability.resolve()}),R.on("error",U=>{this._error(U)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class v{constructor(R){this._url=R.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const U=R.source;this._isStreamingSupported=!U.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const R=this._readableStream.read();return R===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=R.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(R).buffer,done:!1})}cancel(R){if(!this._readableStream){this._error(R);return}this._readableStream.destroy(R)}_error(R){this._storedError=R,this._readCapability.resolve()}_setReadableStream(R){this._readableStream=R,R.on("readable",()=>{this._readCapability.resolve()}),R.on("end",()=>{R.destroy(),this._done=!0,this._readCapability.resolve()}),R.on("error",U=>{this._error(U)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class S extends y{constructor(R){super(R);const U=z=>{if(z.statusCode===404){const se=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=se,this._headersCapability.reject(se);return}this._headersCapability.resolve(),this._setReadableStream(z);const X=se=>this._readableStream.headers[se.toLowerCase()],{allowRangeRequests:W,suggestedLength:Y}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:X,isHttp:R.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=W,this._contentLength=Y||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(X)};this._request=null,this._url.protocol==="http:"?this._request=d.request(w(this._url,R.httpHeaders),U):this._request=f.request(w(this._url,R.httpHeaders),U),this._request.on("error",z=>{this._storedError=z,this._headersCapability.reject(z)}),this._request.end()}}class C extends v{constructor(R,U,z){super(R),this._httpHeaders={};for(const W in R.httpHeaders){const Y=R.httpHeaders[W];Y!==void 0&&(this._httpHeaders[W]=Y)}this._httpHeaders.Range=`bytes=${U}-${z-1}`;const X=W=>{if(W.statusCode===404){const Y=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Y;return}this._setReadableStream(W)};this._request=null,this._url.protocol==="http:"?this._request=d.request(w(this._url,this._httpHeaders),X):this._request=f.request(w(this._url,this._httpHeaders),X),this._request.on("error",W=>{this._storedError=W}),this._request.end()}}class E extends y{constructor(R){super(R);let U=decodeURIComponent(this._url.path);x.test(this._url.href)&&(U=U.replace(/^\//,"")),u.lstat(U,(z,X)=>{if(z){z.code==="ENOENT"&&(z=new o.MissingPDFException(`Missing PDF "${U}".`)),this._storedError=z,this._headersCapability.reject(z);return}this._contentLength=X.size,this._setReadableStream(u.createReadStream(U)),this._headersCapability.resolve()})}}class T extends v{constructor(R,U,z){super(R);let X=decodeURIComponent(this._url.path);x.test(this._url.href)&&(X=X.replace(/^\//,"")),this._setReadableStream(u.createReadStream(X,{start:U,end:z-1}))}}s()}catch(u){s(u)}},1)},738:(n,t,r)=>{r.a(n,async(a,s)=>{try{r.d(t,{NodeCMapReaderFactory:()=>m,NodeCanvasFactory:()=>b,NodeFilterFactory:()=>x,NodeStandardFontDataFactory:()=>y});var o=r(822),l=r(266);let u,d,f;if(l.isNodeJS){u=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([]));try{d=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([]))}catch{}try{f=await __vitePreload(()=>import("./path2d-polyfill.esm-kxgC9fkc.js"),__vite__mapDeps([]))}catch{}}const g=function(v){return new Promise((w,S)=>{u.readFile(v,(C,E)=>{if(C||!E){S(new Error(C));return}w(new Uint8Array(E))})})};class x extends o.BaseFilterFactory{}class b extends o.BaseCanvasFactory{_createCanvas(w,S){return d.createCanvas(w,S)}}class m extends o.BaseCMapReaderFactory{_fetchData(w,S){return g(w).then(C=>({cMapData:C,compressionType:S}))}}class y extends o.BaseStandardFontDataFactory{_fetchData(w){return g(w)}}s()}catch(u){s(u)}},1)},890:(n,t,r)=>{r.d(t,{OptionalContentConfig:()=>u});var a=r(266),s=r(825);const o=Symbol("INTERNAL");class l{#e=!0;constructor(f,g){this.name=f,this.intent=g}get visible(){return this.#e}_setVisible(f,g){f!==o&&(0,a.unreachable)("Internal method `_setVisible` called."),this.#e=g}}class u{#e=null;#t=new Map;#n=null;#r=null;constructor(f){if(this.name=null,this.creator=null,f!==null){this.name=f.name,this.creator=f.creator,this.#r=f.order;for(const g of f.groups)this.#t.set(g.id,new l(g.name,g.intent));if(f.baseState==="OFF")for(const g of this.#t.values())g._setVisible(o,!1);for(const g of f.on)this.#t.get(g)._setVisible(o,!0);for(const g of f.off)this.#t.get(g)._setVisible(o,!1);this.#n=this.getHash()}}#s(f){const g=f.length;if(g<2)return!0;const x=f[0];for(let b=1;b<g;b++){const m=f[b];let y;if(Array.isArray(m))y=this.#s(m);else if(this.#t.has(m))y=this.#t.get(m).visible;else return(0,a.warn)(`Optional content group not found: ${m}`),!0;switch(x){case"And":if(!y)return!1;break;case"Or":if(y)return!0;break;case"Not":return!y;default:return!0}}return x==="And"}isVisible(f){if(this.#t.size===0)return!0;if(!f)return(0,a.warn)("Optional content group not defined."),!0;if(f.type==="OCG")return this.#t.has(f.id)?this.#t.get(f.id).visible:((0,a.warn)(`Optional content group not found: ${f.id}`),!0);if(f.type==="OCMD"){if(f.expression)return this.#s(f.expression);if(!f.policy||f.policy==="AnyOn"){for(const g of f.ids){if(!this.#t.has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(this.#t.get(g).visible)return!0}return!1}else if(f.policy==="AllOn"){for(const g of f.ids){if(!this.#t.has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(!this.#t.get(g).visible)return!1}return!0}else if(f.policy==="AnyOff"){for(const g of f.ids){if(!this.#t.has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(!this.#t.get(g).visible)return!0}return!1}else if(f.policy==="AllOff"){for(const g of f.ids){if(!this.#t.has(g))return(0,a.warn)(`Optional content group not found: ${g}`),!0;if(this.#t.get(g).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${f.policy}.`),!0}return(0,a.warn)(`Unknown group type ${f.type}.`),!0}setVisibility(f,g=!0){if(!this.#t.has(f)){(0,a.warn)(`Optional content group not found: ${f}`);return}this.#t.get(f)._setVisible(o,!!g),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,a.objectFromMap)(this.#t):null}getGroup(f){return this.#t.get(f)||null}getHash(){if(this.#e!==null)return this.#e;const f=new s.MurmurHash3_64;for(const[g,x]of this.#t)f.update(`${g}:${x.visible}`);return this.#e=f.hexdigest()}}},739:(n,t,r)=>{r.d(t,{renderTextLayer:()=>v,updateTextLayer:()=>w});var a=r(266),s=r(473);const o=1e5,l=30,u=.8,d=new Map;function f(S,C){let E;if(C&&a.FeatureTest.isOffscreenCanvasSupported)E=new OffscreenCanvas(S,S).getContext("2d",{alpha:!1});else{const T=document.createElement("canvas");T.width=T.height=S,E=T.getContext("2d",{alpha:!1})}return E}function g(S,C){const E=d.get(S);if(E)return E;const T=f(l,C);T.font=`${l}px ${S}`;const _=T.measureText("");let R=_.fontBoundingBoxAscent,U=Math.abs(_.fontBoundingBoxDescent);if(R){const X=R/(R+U);return d.set(S,X),T.canvas.width=T.canvas.height=0,X}T.strokeStyle="red",T.clearRect(0,0,l,l),T.strokeText("g",0,0);let z=T.getImageData(0,0,l,l).data;U=0;for(let X=z.length-1-3;X>=0;X-=4)if(z[X]>0){U=Math.ceil(X/4/l);break}T.clearRect(0,0,l,l),T.strokeText("A",0,l),z=T.getImageData(0,0,l,l).data,R=0;for(let X=0,W=z.length;X<W;X+=4)if(z[X]>0){R=l-Math.floor(X/4/l);break}if(T.canvas.width=T.canvas.height=0,R){const X=R/(R+U);return d.set(S,X),X}return d.set(S,u),u}function x(S,C,E){const T=document.createElement("span"),_={angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,fontSize:0};S._textDivs.push(T);const R=a.Util.transform(S._transform,C.transform);let U=Math.atan2(R[1],R[0]);const z=E[C.fontName];z.vertical&&(U+=Math.PI/2);const X=S._fontInspectorEnabled&&z.fontSubstitution||z.fontFamily,W=Math.hypot(R[2],R[3]),Y=W*g(X,S._isOffscreenCanvasSupported);let se,oe;U===0?(se=R[4],oe=R[5]-Y):(se=R[4]+Y*Math.sin(U),oe=R[5]-Y*Math.cos(U));const ue="calc(var(--scale-factor)*",Z=T.style;S._container===S._rootContainer?(Z.left=`${(100*se/S._pageWidth).toFixed(2)}%`,Z.top=`${(100*oe/S._pageHeight).toFixed(2)}%`):(Z.left=`${ue}${se.toFixed(2)}px)`,Z.top=`${ue}${oe.toFixed(2)}px)`),Z.fontSize=`${ue}${W.toFixed(2)}px)`,Z.fontFamily=X,_.fontSize=W,T.setAttribute("role","presentation"),T.textContent=C.str,T.dir=C.dir,S._fontInspectorEnabled&&(T.dataset.fontName=z.fontSubstitutionLoadedName||C.fontName),U!==0&&(_.angle=U*(180/Math.PI));let te=!1;if(C.str.length>1)te=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){const he=Math.abs(C.transform[0]),xe=Math.abs(C.transform[3]);he!==xe&&Math.max(he,xe)/Math.min(he,xe)>1.5&&(te=!0)}te&&(_.canvasWidth=z.vertical?C.height:C.width),S._textDivProperties.set(T,_),S._isReadableStream&&S._layoutText(T)}function b(S){const{div:C,scale:E,properties:T,ctx:_,prevFontSize:R,prevFontFamily:U}=S,{style:z}=C;let X="";if(T.canvasWidth!==0&&T.hasText){const{fontFamily:W}=z,{canvasWidth:Y,fontSize:se}=T;(R!==se||U!==W)&&(_.font=`${se*E}px ${W}`,S.prevFontSize=se,S.prevFontFamily=W);const{width:oe}=_.measureText(C.textContent);oe>0&&(X=`scaleX(${Y*E/oe})`)}T.angle!==0&&(X=`rotate(${T.angle}deg) ${X}`),X.length>0&&(z.transform=X)}function m(S){if(S._canceled)return;const C=S._textDivs,E=S._capability;if(C.length>o){E.resolve();return}if(!S._isReadableStream)for(const _ of C)S._layoutText(_);E.resolve()}class y{constructor({textContentSource:C,container:E,viewport:T,textDivs:_,textDivProperties:R,textContentItemsStr:U,isOffscreenCanvasSupported:z}){this._textContentSource=C,this._isReadableStream=C instanceof ReadableStream,this._container=this._rootContainer=E,this._textDivs=_||[],this._textContentItemsStr=U||[],this._isOffscreenCanvasSupported=z,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=R||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:f(0,z)};const{pageWidth:X,pageHeight:W,pageX:Y,pageY:se}=T.rawDims;this._transform=[1,0,0,-1,-Y,se+W],this._pageWidth=X,this._pageHeight=W,(0,s.setLayerDimensions)(E,T),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(C,E){for(const T of C){if(T.str===void 0){if(T.type==="beginMarkedContentProps"||T.type==="beginMarkedContent"){const _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),T.id!==null&&this._container.setAttribute("id",`${T.id}`),_.append(this._container)}else T.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(T.str),x(this,T,E)}}_layoutText(C){const E=this._layoutTextParams.properties=this._textDivProperties.get(C);if(this._layoutTextParams.div=C,b(this._layoutTextParams),E.hasText&&this._container.append(C),E.hasEOL){const T=document.createElement("br");T.setAttribute("role","presentation"),this._container.append(T)}}_render(){const C=new a.PromiseCapability;let E=Object.create(null);if(this._isReadableStream){const T=()=>{this._reader.read().then(({value:_,done:R})=>{if(R){C.resolve();return}Object.assign(E,_.styles),this._processItems(_.items,E),T()},C.reject)};this._reader=this._textContentSource.getReader(),T()}else if(this._textContentSource){const{items:T,styles:_}=this._textContentSource;this._processItems(T,_),C.resolve()}else throw new Error('No "textContentSource" parameter specified.');C.promise.then(()=>{E=null,m(this)},this._capability.reject)}}function v(S){const C=new y(S);return C._render(),C}function w({container:S,viewport:C,textDivs:E,textDivProperties:T,isOffscreenCanvasSupported:_,mustRotate:R=!0,mustRescale:U=!0}){if(R&&(0,s.setLayerDimensions)(S,{rotation:C.rotation}),U){const z=f(0,_),W={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:z};for(const Y of E)W.properties=T.get(Y),W.div=Y,b(W)}}},92:(n,t,r)=>{r.d(t,{PDFDataTransportStream:()=>o});var a=r(266),s=r(473);class o{constructor({length:f,initialData:g,progressiveDone:x=!1,contentDispositionFilename:b=null,disableRange:m=!1,disableStream:y=!1},v){if((0,a.assert)(v,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=x,this._contentDispositionFilename=b,g?.length>0){const w=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=v,this._isStreamingSupported=!y,this._isRangeSupported=!m,this._contentLength=f,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,S)=>{this._onReceiveData({begin:w,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((w,S)=>{this._onProgress({loaded:w,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:f,chunk:g}){const x=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(f===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{const b=this._rangeReaders.some(function(m){return m._begin!==f?!1:(m._enqueue(x),!0)});(0,a.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(f){f.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:f.loaded}):this._fullRequestReader?.onProgress?.({loaded:f.loaded,total:f.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const g=this._rangeReaders.indexOf(f);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new l(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,g){if(g<=this._progressiveDataLength)return null;const x=new u(this,f,g);return this._pdfDataRangeTransport.requestDataRange(f,g),this._rangeReaders.push(x),x}cancelAllRequests(f){this._fullRequestReader?.cancel(f);for(const g of this._rangeReaders.slice(0))g.cancel(f);this._pdfDataRangeTransport.abort()}}class l{constructor(f,g,x=!1,b=null){this._stream=f,this._done=x||!1,this._filename=(0,s.isPdfFile)(b)?b:null,this._queuedChunks=g||[],this._loaded=0;for(const m of this._queuedChunks)this._loaded+=m.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const f=new a.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class u{constructor(f,g,x){this._stream=f,this._begin=g,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(this._requests.length===0)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const f=new a.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},368:(n,t,r)=>{r.d(t,{GlobalWorkerOptions:()=>a});const a=Object.create(null);a.workerPort=null,a.workerSrc=""},160:(n,t,r)=>{r.d(t,{XfaLayer:()=>s});var a=r(521);class s{static setupStorage(l,u,d,f,g){const x=f.getValue(u,{value:null});switch(d.name){case"textarea":if(x.value!==null&&(l.textContent=x.value),g==="print")break;l.addEventListener("input",b=>{f.setValue(u,{value:b.target.value})});break;case"input":if(d.attributes.type==="radio"||d.attributes.type==="checkbox"){if(x.value===d.attributes.xfaOn?l.setAttribute("checked",!0):x.value===d.attributes.xfaOff&&l.removeAttribute("checked"),g==="print")break;l.addEventListener("change",b=>{f.setValue(u,{value:b.target.checked?b.target.getAttribute("xfaOn"):b.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&l.setAttribute("value",x.value),g==="print")break;l.addEventListener("input",b=>{f.setValue(u,{value:b.target.value})})}break;case"select":if(x.value!==null){l.setAttribute("value",x.value);for(const b of d.children)b.attributes.value===x.value?b.attributes.selected=!0:b.attributes.hasOwnProperty("selected")&&delete b.attributes.selected}l.addEventListener("input",b=>{const m=b.target.options,y=m.selectedIndex===-1?"":m[m.selectedIndex].value;f.setValue(u,{value:y})});break}}static setAttributes({html:l,element:u,storage:d=null,intent:f,linkService:g}){const{attributes:x}=u,b=l instanceof HTMLAnchorElement;x.type==="radio"&&(x.name=`${x.name}-${f}`);for(const[m,y]of Object.entries(x))if(y!=null)switch(m){case"class":y.length&&l.setAttribute(m,y.join(" "));break;case"dataId":break;case"id":l.setAttribute("data-element-id",y);break;case"style":Object.assign(l.style,y);break;case"textContent":l.textContent=y;break;default:(!b||m!=="href"&&m!=="newWindow")&&l.setAttribute(m,y)}b&&g.addLinkAttributes(l,x.href,x.newWindow),d&&x.dataId&&this.setupStorage(l,x.dataId,u,d)}static render(l){const u=l.annotationStorage,d=l.linkService,f=l.xfaHtml,g=l.intent||"display",x=document.createElement(f.name);f.attributes&&this.setAttributes({html:x,element:f,intent:g,linkService:d});const b=g!=="richText",m=l.div;if(m.append(x),l.viewport){const w=`matrix(${l.viewport.transform.join(",")})`;m.style.transform=w}b&&m.setAttribute("class","xfaLayer xfaFont");const y=[];if(f.children.length===0){if(f.value){const w=document.createTextNode(f.value);x.append(w),b&&a.XfaText.shouldBuildText(f.name)&&y.push(w)}return{textDivs:y}}const v=[[f,-1,x]];for(;v.length>0;){const[w,S,C]=v.at(-1);if(S+1===w.children.length){v.pop();continue}const E=w.children[++v.at(-1)[1]];if(E===null)continue;const{name:T}=E;if(T==="#text"){const R=document.createTextNode(E.value);y.push(R),C.append(R);continue}const _=E?.attributes?.xmlns?document.createElementNS(E.attributes.xmlns,T):document.createElement(T);if(C.append(_),E.attributes&&this.setAttributes({html:_,element:E,storage:u,intent:g,linkService:d}),E.children?.length>0)v.push([E,-1,_]);else if(E.value){const R=document.createTextNode(E.value);b&&a.XfaText.shouldBuildText(T)&&y.push(R),_.append(R)}}for(const w of m.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:y}}static update(l){const u=`matrix(${l.viewport.transform.join(",")})`;l.div.style.transform=u,l.div.hidden=!1}}},521:(n,t,r)=>{r.d(t,{XfaText:()=>a});class a{static textContent(o){const l=[],u={items:l,styles:Object.create(null)};function d(f){if(!f)return;let g=null;const x=f.name;if(x==="#text")g=f.value;else if(a.shouldBuildText(x))f?.attributes?.textContent?g=f.attributes.textContent:f.value&&(g=f.value);else return;if(g!==null&&l.push({str:g}),!!f.children)for(const b of f.children)d(b)}return d(o),u}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}},907:(n,t,r)=>{r.a(n,async(a,s)=>{try{r.d(t,{AbortException:()=>o.AbortException,AnnotationEditorLayer:()=>f.AnnotationEditorLayer,AnnotationEditorParamsType:()=>o.AnnotationEditorParamsType,AnnotationEditorType:()=>o.AnnotationEditorType,AnnotationEditorUIManager:()=>g.AnnotationEditorUIManager,AnnotationLayer:()=>x.AnnotationLayer,AnnotationMode:()=>o.AnnotationMode,CMapCompressionType:()=>o.CMapCompressionType,DOMSVGFactory:()=>u.DOMSVGFactory,DrawLayer:()=>b.DrawLayer,FeatureTest:()=>o.FeatureTest,GlobalWorkerOptions:()=>m.GlobalWorkerOptions,ImageKind:()=>o.ImageKind,InvalidPDFException:()=>o.InvalidPDFException,MissingPDFException:()=>o.MissingPDFException,OPS:()=>o.OPS,Outliner:()=>y.Outliner,PDFDataRangeTransport:()=>l.PDFDataRangeTransport,PDFDateString:()=>u.PDFDateString,PDFWorker:()=>l.PDFWorker,PasswordResponses:()=>o.PasswordResponses,PermissionFlag:()=>o.PermissionFlag,PixelsPerInch:()=>u.PixelsPerInch,PromiseCapability:()=>o.PromiseCapability,RenderingCancelledException:()=>u.RenderingCancelledException,UnexpectedResponseException:()=>o.UnexpectedResponseException,Util:()=>o.Util,VerbosityLevel:()=>o.VerbosityLevel,XfaLayer:()=>v.XfaLayer,build:()=>l.build,createValidAbsoluteUrl:()=>o.createValidAbsoluteUrl,fetchData:()=>u.fetchData,getDocument:()=>l.getDocument,getFilenameFromUrl:()=>u.getFilenameFromUrl,getPdfFilenameFromUrl:()=>u.getPdfFilenameFromUrl,getXfaPageViewport:()=>u.getXfaPageViewport,isDataScheme:()=>u.isDataScheme,isPdfFile:()=>u.isPdfFile,noContextMenu:()=>u.noContextMenu,normalizeUnicode:()=>o.normalizeUnicode,renderTextLayer:()=>d.renderTextLayer,setLayerDimensions:()=>u.setLayerDimensions,shadow:()=>o.shadow,updateTextLayer:()=>d.updateTextLayer,version:()=>l.version});var o=r(266),l=r(406),u=r(473),d=r(739),f=r(331),g=r(812),x=r(640),b=r(423),m=r(368),y=r(405),v=r(160),w=a([l]);l=(w.then?(await w)():w)[0];const S="4.0.269",C="f4b396f6c";s()}catch(S){s(S)}})},694:(n,t,r)=>{r.d(t,{MessageHandler:()=>u});var a=r(266);const s={UNKNOWN:0,DATA:1,ERROR:2},o={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l(d){switch(d instanceof Error||typeof d=="object"&&d!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),d.name){case"AbortException":return new a.AbortException(d.message);case"MissingPDFException":return new a.MissingPDFException(d.message);case"PasswordException":return new a.PasswordException(d.message,d.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(d.message,d.status);case"UnknownErrorException":return new a.UnknownErrorException(d.message,d.details);default:return new a.UnknownErrorException(d.message,d.toString())}}class u{constructor(f,g,x){this.sourceName=f,this.targetName=g,this.comObj=x,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=b=>{const m=b.data;if(m.targetName!==this.sourceName)return;if(m.stream){this.#t(m);return}if(m.callback){const v=m.callbackId,w=this.callbackCapabilities[v];if(!w)throw new Error(`Cannot resolve callback ${v}`);if(delete this.callbackCapabilities[v],m.callback===s.DATA)w.resolve(m.data);else if(m.callback===s.ERROR)w.reject(l(m.reason));else throw new Error("Unexpected callback case");return}const y=this.actionHandler[m.action];if(!y)throw new Error(`Unknown action from worker: ${m.action}`);if(m.callbackId){const v=this.sourceName,w=m.sourceName;new Promise(function(S){S(y(m.data))}).then(function(S){x.postMessage({sourceName:v,targetName:w,callback:s.DATA,callbackId:m.callbackId,data:S})},function(S){x.postMessage({sourceName:v,targetName:w,callback:s.ERROR,callbackId:m.callbackId,reason:l(S)})});return}if(m.streamId){this.#e(m);return}y(m.data)},x.addEventListener("message",this._onComObjOnMessage)}on(f,g){const x=this.actionHandler;if(x[f])throw new Error(`There is already an actionName called "${f}"`);x[f]=g}send(f,g,x){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:g},x)}sendWithPromise(f,g,x){const b=this.callbackId++,m=new a.PromiseCapability;this.callbackCapabilities[b]=m;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:b,data:g},x)}catch(y){m.reject(y)}return m.promise}sendWithStream(f,g,x,b){const m=this.streamId++,y=this.sourceName,v=this.targetName,w=this.comObj;return new ReadableStream({start:S=>{const C=new a.PromiseCapability;return this.streamControllers[m]={controller:S,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},w.postMessage({sourceName:y,targetName:v,action:f,streamId:m,data:g,desiredSize:S.desiredSize},b),C.promise},pull:S=>{const C=new a.PromiseCapability;return this.streamControllers[m].pullCall=C,w.postMessage({sourceName:y,targetName:v,stream:o.PULL,streamId:m,desiredSize:S.desiredSize}),C.promise},cancel:S=>{(0,a.assert)(S instanceof Error,"cancel must have a valid reason");const C=new a.PromiseCapability;return this.streamControllers[m].cancelCall=C,this.streamControllers[m].isClosed=!0,w.postMessage({sourceName:y,targetName:v,stream:o.CANCEL,streamId:m,reason:l(S)}),C.promise}},x)}#e(f){const g=f.streamId,x=this.sourceName,b=f.sourceName,m=this.comObj,y=this,v=this.actionHandler[f.action],w={enqueue(S,C=1,E){if(this.isCancelled)return;const T=this.desiredSize;this.desiredSize-=C,T>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),m.postMessage({sourceName:x,targetName:b,stream:o.ENQUEUE,streamId:g,chunk:S},E)},close(){this.isCancelled||(this.isCancelled=!0,m.postMessage({sourceName:x,targetName:b,stream:o.CLOSE,streamId:g}),delete y.streamSinks[g])},error(S){(0,a.assert)(S instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,m.postMessage({sourceName:x,targetName:b,stream:o.ERROR,streamId:g,reason:l(S)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};w.sinkCapability.resolve(),w.ready=w.sinkCapability.promise,this.streamSinks[g]=w,new Promise(function(S){S(v(f.data,w))}).then(function(){m.postMessage({sourceName:x,targetName:b,stream:o.START_COMPLETE,streamId:g,success:!0})},function(S){m.postMessage({sourceName:x,targetName:b,stream:o.START_COMPLETE,streamId:g,reason:l(S)})})}#t(f){const g=f.streamId,x=this.sourceName,b=f.sourceName,m=this.comObj,y=this.streamControllers[g],v=this.streamSinks[g];switch(f.stream){case o.START_COMPLETE:f.success?y.startCall.resolve():y.startCall.reject(l(f.reason));break;case o.PULL_COMPLETE:f.success?y.pullCall.resolve():y.pullCall.reject(l(f.reason));break;case o.PULL:if(!v){m.postMessage({sourceName:x,targetName:b,stream:o.PULL_COMPLETE,streamId:g,success:!0});break}v.desiredSize<=0&&f.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=f.desiredSize,new Promise(function(w){w(v.onPull?.())}).then(function(){m.postMessage({sourceName:x,targetName:b,stream:o.PULL_COMPLETE,streamId:g,success:!0})},function(w){m.postMessage({sourceName:x,targetName:b,stream:o.PULL_COMPLETE,streamId:g,reason:l(w)})});break;case o.ENQUEUE:if((0,a.assert)(y,"enqueue should have stream controller"),y.isClosed)break;y.controller.enqueue(f.chunk);break;case o.CLOSE:if((0,a.assert)(y,"close should have stream controller"),y.isClosed)break;y.isClosed=!0,y.controller.close(),this.#n(y,g);break;case o.ERROR:(0,a.assert)(y,"error should have stream controller"),y.controller.error(l(f.reason)),this.#n(y,g);break;case o.CANCEL_COMPLETE:f.success?y.cancelCall.resolve():y.cancelCall.reject(l(f.reason)),this.#n(y,g);break;case o.CANCEL:if(!v)break;new Promise(function(w){w(v.onCancel?.(l(f.reason)))}).then(function(){m.postMessage({sourceName:x,targetName:b,stream:o.CANCEL_COMPLETE,streamId:g,success:!0})},function(w){m.postMessage({sourceName:x,targetName:b,stream:o.CANCEL_COMPLETE,streamId:g,reason:l(w)})}),v.sinkCapability.reject(l(f.reason)),v.isCancelled=!0,delete this.streamSinks[g];break;default:throw new Error("Unexpected stream case")}}async#n(f,g){await Promise.allSettled([f.startCall?.promise,f.pullCall?.promise,f.cancelCall?.promise]),delete this.streamControllers[g]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},825:(n,t,r)=>{r.d(t,{MurmurHash3_64:()=>u});var a=r(266);const s=3285377520,o=4294901760,l=65535;class u{constructor(f){this.h1=f?f&4294967295:s,this.h2=f?f&4294967295:s}update(f){let g,x;if(typeof f=="string"){g=new Uint8Array(f.length*2),x=0;for(let U=0,z=f.length;U<z;U++){const X=f.charCodeAt(U);X<=255?g[x++]=X:(g[x++]=X>>>8,g[x++]=X&255)}}else if((0,a.isArrayBuffer)(f))g=f.slice(),x=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=x>>2,m=x-b*4,y=new Uint32Array(g.buffer,0,b);let v=0,w=0,S=this.h1,C=this.h2;const E=3432918353,T=461845907,_=E&l,R=T&l;for(let U=0;U<b;U++)U&1?(v=y[U],v=v*E&o|v*_&l,v=v<<15|v>>>17,v=v*T&o|v*R&l,S^=v,S=S<<13|S>>>19,S=S*5+3864292196):(w=y[U],w=w*E&o|w*_&l,w=w<<15|w>>>17,w=w*T&o|w*R&l,C^=w,C=C<<13|C>>>19,C=C*5+3864292196);switch(v=0,m){case 3:v^=g[b*4+2]<<16;case 2:v^=g[b*4+1]<<8;case 1:v^=g[b*4],v=v*E&o|v*_&l,v=v<<15|v>>>17,v=v*T&o|v*R&l,b&1?S^=v:C^=v}this.h1=S,this.h2=C}hexdigest(){let f=this.h1,g=this.h2;return f^=g>>>1,f=f*3981806797&o|f*36045&l,g=g*4283543511&o|((g<<16|f>>>16)*2950163797&o)>>>16,f^=g>>>1,f=f*444984403&o|f*60499&l,g=g*3301882366&o|((g<<16|f>>>16)*3120437893&o)>>>16,f^=g>>>1,(f>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}},266:(n,t,r)=>{r.d(t,{AbortException:()=>Te,AnnotationBorderStyleType:()=>S,AnnotationEditorParamsType:()=>b,AnnotationEditorPrefix:()=>g,AnnotationEditorType:()=>x,AnnotationMode:()=>f,AnnotationPrefix:()=>ie,AnnotationType:()=>w,BaseException:()=>te,CMapCompressionType:()=>E,FONT_IDENTITY_MATRIX:()=>o,FeatureTest:()=>F,FormatError:()=>pe,IDENTITY_MATRIX:()=>s,ImageKind:()=>v,InvalidPDFException:()=>ye,LINE_FACTOR:()=>u,MAX_IMAGE_SIZE_TO_CACHE:()=>l,MissingPDFException:()=>Ae,OPS:()=>T,PasswordException:()=>he,PasswordResponses:()=>_,PermissionFlag:()=>m,PromiseCapability:()=>V,RenderingIntentFlag:()=>d,TextRenderingMode:()=>y,UnexpectedResponseException:()=>we,UnknownErrorException:()=>xe,Util:()=>D,VerbosityLevel:()=>C,assert:()=>se,bytesToString:()=>ge,createValidAbsoluteUrl:()=>ue,getUuid:()=>re,getVerbosityLevel:()=>z,info:()=>X,isArrayBuffer:()=>H,isNodeJS:()=>a,normalizeUnicode:()=>Q,objectFromMap:()=>M,setVerbosityLevel:()=>U,shadow:()=>Z,string32:()=>ce,stringToBytes:()=>de,unreachable:()=>Y,warn:()=>W});const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),s=[1,0,0,1,0,0],o=[.001,0,0,.001,0,0],l=1e7,u=1.35,d={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},f={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},g="pdfjs_internal_editor_",x={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},b={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},y={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},w={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},S={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},C={ERRORS:0,WARNINGS:1,INFOS:5},E={NONE:0,BINARY:1},T={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let R=C.WARNINGS;function U(ne){Number.isInteger(ne)&&(R=ne)}function z(){return R}function X(ne){R>=C.INFOS&&console.log(`Info: ${ne}`)}function W(ne){R>=C.WARNINGS&&console.log(`Warning: ${ne}`)}function Y(ne){throw new Error(ne)}function se(ne,ee){ne||Y(ee)}function oe(ne){switch(ne?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ue(ne,ee=null,le=null){if(!ne)return null;try{if(le&&typeof ne=="string"&&(le.addDefaultProtocol&&ne.startsWith("www.")&&ne.match(/\./g)?.length>=2&&(ne=`http://${ne}`),le.tryConvertEncoding))try{ne=N(ne)}catch{}const be=ee?new URL(ne,ee):new URL(ne);if(oe(be))return be}catch{}return null}function Z(ne,ee,le,be=!1){return Object.defineProperty(ne,ee,{value:le,enumerable:!be,configurable:!0,writable:!1}),le}const te=function(){function ee(le,be){this.constructor===ee&&Y("Cannot initialize BaseException."),this.message=le,this.name=be}return ee.prototype=new Error,ee.constructor=ee,ee}();class he extends te{constructor(ee,le){super(ee,"PasswordException"),this.code=le}}class xe extends te{constructor(ee,le){super(ee,"UnknownErrorException"),this.details=le}}class ye extends te{constructor(ee){super(ee,"InvalidPDFException")}}class Ae extends te{constructor(ee){super(ee,"MissingPDFException")}}class we extends te{constructor(ee,le){super(ee,"UnexpectedResponseException"),this.status=le}}class pe extends te{constructor(ee){super(ee,"FormatError")}}class Te extends te{constructor(ee){super(ee,"AbortException")}}function ge(ne){(typeof ne!="object"||ne?.length===void 0)&&Y("Invalid argument for bytesToString");const ee=ne.length,le=8192;if(ee<le)return String.fromCharCode.apply(null,ne);const be=[];for(let fe=0;fe<ee;fe+=le){const Fe=Math.min(fe+le,ee),K=ne.subarray(fe,Fe);be.push(String.fromCharCode.apply(null,K))}return be.join("")}function de(ne){typeof ne!="string"&&Y("Invalid argument for stringToBytes");const ee=ne.length,le=new Uint8Array(ee);for(let be=0;be<ee;++be)le[be]=ne.charCodeAt(be)&255;return le}function ce(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,ne&255)}function M(ne){const ee=Object.create(null);for(const[le,be]of ne)ee[le]=be;return ee}function j(){const ne=new Uint8Array(4);return ne[0]=1,new Uint32Array(ne.buffer,0,1)[0]===1}function k(){try{return new Function(""),!0}catch{return!1}}class F{static get isLittleEndian(){return Z(this,"isLittleEndian",j())}static get isEvalSupported(){return Z(this,"isEvalSupported",k())}static get isOffscreenCanvasSupported(){return Z(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Z(this,"platform",{isMac:navigator.platform.includes("Mac")}):Z(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return Z(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const O=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class D{static makeHexColor(ee,le,be){return`#${O[ee]}${O[le]}${O[be]}`}static scaleMinMax(ee,le){let be;ee[0]?(ee[0]<0&&(be=le[0],le[0]=le[1],le[1]=be),le[0]*=ee[0],le[1]*=ee[0],ee[3]<0&&(be=le[2],le[2]=le[3],le[3]=be),le[2]*=ee[3],le[3]*=ee[3]):(be=le[0],le[0]=le[2],le[2]=be,be=le[1],le[1]=le[3],le[3]=be,ee[1]<0&&(be=le[2],le[2]=le[3],le[3]=be),le[2]*=ee[1],le[3]*=ee[1],ee[2]<0&&(be=le[0],le[0]=le[1],le[1]=be),le[0]*=ee[2],le[1]*=ee[2]),le[0]+=ee[4],le[1]+=ee[4],le[2]+=ee[5],le[3]+=ee[5]}static transform(ee,le){return[ee[0]*le[0]+ee[2]*le[1],ee[1]*le[0]+ee[3]*le[1],ee[0]*le[2]+ee[2]*le[3],ee[1]*le[2]+ee[3]*le[3],ee[0]*le[4]+ee[2]*le[5]+ee[4],ee[1]*le[4]+ee[3]*le[5]+ee[5]]}static applyTransform(ee,le){const be=ee[0]*le[0]+ee[1]*le[2]+le[4],fe=ee[0]*le[1]+ee[1]*le[3]+le[5];return[be,fe]}static applyInverseTransform(ee,le){const be=le[0]*le[3]-le[1]*le[2],fe=(ee[0]*le[3]-ee[1]*le[2]+le[2]*le[5]-le[4]*le[3])/be,Fe=(-ee[0]*le[1]+ee[1]*le[0]+le[4]*le[1]-le[5]*le[0])/be;return[fe,Fe]}static getAxialAlignedBoundingBox(ee,le){const be=this.applyTransform(ee,le),fe=this.applyTransform(ee.slice(2,4),le),Fe=this.applyTransform([ee[0],ee[3]],le),K=this.applyTransform([ee[2],ee[1]],le);return[Math.min(be[0],fe[0],Fe[0],K[0]),Math.min(be[1],fe[1],Fe[1],K[1]),Math.max(be[0],fe[0],Fe[0],K[0]),Math.max(be[1],fe[1],Fe[1],K[1])]}static inverseTransform(ee){const le=ee[0]*ee[3]-ee[1]*ee[2];return[ee[3]/le,-ee[1]/le,-ee[2]/le,ee[0]/le,(ee[2]*ee[5]-ee[4]*ee[3])/le,(ee[4]*ee[1]-ee[5]*ee[0])/le]}static singularValueDecompose2dScale(ee){const le=[ee[0],ee[2],ee[1],ee[3]],be=ee[0]*le[0]+ee[1]*le[2],fe=ee[0]*le[1]+ee[1]*le[3],Fe=ee[2]*le[0]+ee[3]*le[2],K=ee[2]*le[1]+ee[3]*le[3],L=(be+K)/2,G=Math.sqrt((be+K)**2-4*(be*K-Fe*fe))/2,ae=L+G||1,me=L-G||1;return[Math.sqrt(ae),Math.sqrt(me)]}static normalizeRect(ee){const le=ee.slice(0);return ee[0]>ee[2]&&(le[0]=ee[2],le[2]=ee[0]),ee[1]>ee[3]&&(le[1]=ee[3],le[3]=ee[1]),le}static intersect(ee,le){const be=Math.max(Math.min(ee[0],ee[2]),Math.min(le[0],le[2])),fe=Math.min(Math.max(ee[0],ee[2]),Math.max(le[0],le[2]));if(be>fe)return null;const Fe=Math.max(Math.min(ee[1],ee[3]),Math.min(le[1],le[3])),K=Math.min(Math.max(ee[1],ee[3]),Math.max(le[1],le[3]));return Fe>K?null:[be,Fe,fe,K]}static bezierBoundingBox(ee,le,be,fe,Fe,K,L,G){const ae=[],me=[[],[]];let Se,Ce,Ie,ve,ke,Ee,Pe,De;for(let Be=0;Be<2;++Be){if(Be===0?(Ce=6*ee-12*be+6*Fe,Se=-3*ee+9*be-9*Fe+3*L,Ie=3*be-3*ee):(Ce=6*le-12*fe+6*K,Se=-3*le+9*fe-9*K+3*G,Ie=3*fe-3*le),Math.abs(Se)<1e-12){if(Math.abs(Ce)<1e-12)continue;ve=-Ie/Ce,0<ve&&ve<1&&ae.push(ve);continue}Pe=Ce*Ce-4*Ie*Se,De=Math.sqrt(Pe),!(Pe<0)&&(ke=(-Ce+De)/(2*Se),0<ke&&ke<1&&ae.push(ke),Ee=(-Ce-De)/(2*Se),0<Ee&&Ee<1&&ae.push(Ee))}let Oe=ae.length,_e;const Ne=Oe;for(;Oe--;)ve=ae[Oe],_e=1-ve,me[0][Oe]=_e*_e*_e*ee+3*_e*_e*ve*be+3*_e*ve*ve*Fe+ve*ve*ve*L,me[1][Oe]=_e*_e*_e*le+3*_e*_e*ve*fe+3*_e*ve*ve*K+ve*ve*ve*G;return me[0][Ne]=ee,me[1][Ne]=le,me[0][Ne+1]=L,me[1][Ne+1]=G,me[0].length=me[1].length=Ne+2,[Math.min(...me[0]),Math.min(...me[1]),Math.max(...me[0]),Math.max(...me[1])]}}function N(ne){return decodeURIComponent(escape(ne))}function H(ne){return typeof ne=="object"&&ne?.byteLength!==void 0}class V{#e=!1;constructor(){this.promise=new Promise((ee,le)=>{this.resolve=be=>{this.#e=!0,ee(be)},this.reject=be=>{this.#e=!0,le(be)}})}get settled(){return this.#e}}let $=null,J=null;function Q(ne){return $||($=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,J=new Map([["ﬅ","ſt"]])),ne.replaceAll($,(ee,le,be)=>le?le.normalize("NFKC"):J.get(be))}function re(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ne=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ne);else for(let ee=0;ee<32;ee++)ne[ee]=Math.floor(Math.random()*255);return ge(ne)}const ie="pdfjs_internal_id_"}},__webpack_module_cache__={};function __webpack_require__$1(n){var t=__webpack_module_cache__[n];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](r,r.exports,__webpack_require__$1),r.exports}(()=>{var n=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",t=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",r=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",a=o=>{o&&o.d<1&&(o.d=1,o.forEach(l=>l.r--),o.forEach(l=>l.r--?l.r++:l()))},s=o=>o.map(l=>{if(l!==null&&typeof l=="object"){if(l[n])return l;if(l.then){var u=[];u.d=0,l.then(g=>{d[t]=g,a(u)},g=>{d[r]=g,a(u)});var d={};return d[n]=g=>g(u),d}}var f={};return f[n]=g=>{},f[t]=l,f});__webpack_require__$1.a=(o,l,u)=>{var d;u&&((d=[]).d=-1);var f=new Set,g=o.exports,x,b,m,y=new Promise((v,w)=>{m=w,b=v});y[t]=g,y[n]=v=>(d&&v(d),f.forEach(v),y.catch(w=>{})),o.exports=y,l(v=>{x=s(v);var w,S=()=>x.map(E=>{if(E[r])throw E[r];return E[t]}),C=new Promise(E=>{w=()=>E(S),w.r=0;var T=_=>_!==d&&!f.has(_)&&(f.add(_),_&&!_.d&&(w.r++,_.push(w)));x.map(_=>_[n](T))});return w.r?C:S()},v=>(v?m(y[r]=v):b(g),a(d))),d&&d.d<0&&(d.d=0)}})();__webpack_require__$1.d=(n,t)=>{for(var r in t)__webpack_require__$1.o(t,r)&&!__webpack_require__$1.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})};__webpack_require__$1.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var __webpack_exports__$1=__webpack_require__$1(907);__webpack_exports__$1=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=__webpack_exports__$1);__webpack_exports__$1.AbortException;__webpack_exports__$1.AnnotationEditorLayer;__webpack_exports__$1.AnnotationEditorParamsType;__webpack_exports__$1.AnnotationEditorType;__webpack_exports__$1.AnnotationEditorUIManager;__webpack_exports__$1.AnnotationLayer;__webpack_exports__$1.AnnotationMode;__webpack_exports__$1.CMapCompressionType;__webpack_exports__$1.DOMSVGFactory;__webpack_exports__$1.DrawLayer;__webpack_exports__$1.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__$1.GlobalWorkerOptions;__webpack_exports__$1.ImageKind;__webpack_exports__$1.InvalidPDFException;__webpack_exports__$1.MissingPDFException;__webpack_exports__$1.OPS;__webpack_exports__$1.Outliner;__webpack_exports__$1.PDFDataRangeTransport;__webpack_exports__$1.PDFDateString;__webpack_exports__$1.PDFWorker;__webpack_exports__$1.PasswordResponses;__webpack_exports__$1.PermissionFlag;__webpack_exports__$1.PixelsPerInch;__webpack_exports__$1.PromiseCapability;__webpack_exports__$1.RenderingCancelledException;__webpack_exports__$1.UnexpectedResponseException;__webpack_exports__$1.Util;__webpack_exports__$1.VerbosityLevel;__webpack_exports__$1.XfaLayer;__webpack_exports__$1.build;__webpack_exports__$1.createValidAbsoluteUrl;__webpack_exports__$1.fetchData;var __webpack_exports__getDocument=__webpack_exports__$1.getDocument;__webpack_exports__$1.getFilenameFromUrl;__webpack_exports__$1.getPdfFilenameFromUrl;__webpack_exports__$1.getXfaPageViewport;__webpack_exports__$1.isDataScheme;__webpack_exports__$1.isPdfFile;__webpack_exports__$1.noContextMenu;__webpack_exports__$1.normalizeUnicode;__webpack_exports__$1.renderTextLayer;__webpack_exports__$1.setLayerDimensions;__webpack_exports__$1.shadow;__webpack_exports__$1.updateTextLayer;__webpack_exports__$1.version;var __webpack_require__={};__webpack_require__.d=(n,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})};__webpack_require__.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var __webpack_exports__=globalThis.pdfjsWorker={};__webpack_require__.d(__webpack_exports__,{WorkerMessageHandler:()=>WorkerMessageHandler});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,LINE_DESCENT_FACTOR=.35,BASELINE_FACTOR=LINE_DESCENT_FACTOR/LINE_FACTOR,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode$1={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationReplyType={GROUP:"Group",REPLY:"R"},AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},PageActionEventType={O:"PageOpen",C:"PageClose"},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(n){Number.isInteger(n)&&(verbosity=n)}function getVerbosityLevel(){return verbosity}function info(n){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${n}`)}function warn(n){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${n}`)}function unreachable(n){throw new Error(n)}function assert(n,t){n||unreachable(t)}function _isValidProtocol(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(n,t=null,r=null){if(!n)return null;try{if(r&&typeof n=="string"&&(r.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),r.tryConvertEncoding))try{n=stringToUTF8String(n)}catch{}const a=t?new URL(n,t):new URL(n);if(_isValidProtocol(a))return a}catch{}return null}function shadow(n,t,r,a=!1){return Object.defineProperty(n,t,{value:r,enumerable:!a,configurable:!0,writable:!1}),r}const BaseException=function(){function t(r,a){this.constructor===t&&unreachable("Cannot initialize BaseException."),this.message=r,this.name=a}return t.prototype=new Error,t.constructor=t,t}();class PasswordException extends BaseException{constructor(t,r){super(t,"PasswordException"),this.code=r}}class UnknownErrorException extends BaseException{constructor(t,r){super(t,"UnknownErrorException"),this.details=r}}class InvalidPDFException extends BaseException{constructor(t){super(t,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(t){super(t,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(t,r){super(t,"UnexpectedResponseException"),this.status=r}}class FormatError extends BaseException{constructor(t){super(t,"FormatError")}}class AbortException extends BaseException{constructor(t){super(t,"AbortException")}}function bytesToString(n){(typeof n!="object"||n?.length===void 0)&&unreachable("Invalid argument for bytesToString");const t=n.length,r=8192;if(t<r)return String.fromCharCode.apply(null,n);const a=[];for(let s=0;s<t;s+=r){const o=Math.min(s+r,t),l=n.subarray(s,o);a.push(String.fromCharCode.apply(null,l))}return a.join("")}function stringToBytes(n){typeof n!="string"&&unreachable("Invalid argument for stringToBytes");const t=n.length,r=new Uint8Array(t);for(let a=0;a<t;++a)r[a]=n.charCodeAt(a)&255;return r}function string32(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function objectSize(n){return Object.keys(n).length}function isLittleEndian(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return shadow(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hexNumbers=[...Array(256).keys()].map(n=>n.toString(16).padStart(2,"0"));class Util{static makeHexColor(t,r,a){return`#${hexNumbers[t]}${hexNumbers[r]}${hexNumbers[a]}`}static scaleMinMax(t,r){let a;t[0]?(t[0]<0&&(a=r[0],r[0]=r[1],r[1]=a),r[0]*=t[0],r[1]*=t[0],t[3]<0&&(a=r[2],r[2]=r[3],r[3]=a),r[2]*=t[3],r[3]*=t[3]):(a=r[0],r[0]=r[2],r[2]=a,a=r[1],r[1]=r[3],r[3]=a,t[1]<0&&(a=r[2],r[2]=r[3],r[3]=a),r[2]*=t[1],r[3]*=t[1],t[2]<0&&(a=r[0],r[0]=r[1],r[1]=a),r[0]*=t[2],r[1]*=t[2]),r[0]+=t[4],r[1]+=t[4],r[2]+=t[5],r[3]+=t[5]}static transform(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}static applyTransform(t,r){const a=t[0]*r[0]+t[1]*r[2]+r[4],s=t[0]*r[1]+t[1]*r[3]+r[5];return[a,s]}static applyInverseTransform(t,r){const a=r[0]*r[3]-r[1]*r[2],s=(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/a,o=(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/a;return[s,o]}static getAxialAlignedBoundingBox(t,r){const a=this.applyTransform(t,r),s=this.applyTransform(t.slice(2,4),r),o=this.applyTransform([t[0],t[3]],r),l=this.applyTransform([t[2],t[1]],r);return[Math.min(a[0],s[0],o[0],l[0]),Math.min(a[1],s[1],o[1],l[1]),Math.max(a[0],s[0],o[0],l[0]),Math.max(a[1],s[1],o[1],l[1])]}static inverseTransform(t){const r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}static singularValueDecompose2dScale(t){const r=[t[0],t[2],t[1],t[3]],a=t[0]*r[0]+t[1]*r[2],s=t[0]*r[1]+t[1]*r[3],o=t[2]*r[0]+t[3]*r[2],l=t[2]*r[1]+t[3]*r[3],u=(a+l)/2,d=Math.sqrt((a+l)**2-4*(a*l-o*s))/2,f=u+d||1,g=u-d||1;return[Math.sqrt(f),Math.sqrt(g)]}static normalizeRect(t){const r=t.slice(0);return t[0]>t[2]&&(r[0]=t[2],r[2]=t[0]),t[1]>t[3]&&(r[1]=t[3],r[3]=t[1]),r}static intersect(t,r){const a=Math.max(Math.min(t[0],t[2]),Math.min(r[0],r[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(r[0],r[2]));if(a>s)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(r[1],r[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(r[1],r[3]));return o>l?null:[a,o,s,l]}static bezierBoundingBox(t,r,a,s,o,l,u,d){const f=[],g=[[],[]];let x,b,m,y,v,w,S,C;for(let R=0;R<2;++R){if(R===0?(b=6*t-12*a+6*o,x=-3*t+9*a-9*o+3*u,m=3*a-3*t):(b=6*r-12*s+6*l,x=-3*r+9*s-9*l+3*d,m=3*s-3*r),Math.abs(x)<1e-12){if(Math.abs(b)<1e-12)continue;y=-m/b,0<y&&y<1&&f.push(y);continue}S=b*b-4*m*x,C=Math.sqrt(S),!(S<0)&&(v=(-b+C)/(2*x),0<v&&v<1&&f.push(v),w=(-b-C)/(2*x),0<w&&w<1&&f.push(w))}let E=f.length,T;const _=E;for(;E--;)y=f[E],T=1-y,g[0][E]=T*T*T*t+3*T*T*y*a+3*T*y*y*o+y*y*y*u,g[1][E]=T*T*T*r+3*T*T*y*s+3*T*y*y*l+y*y*y*d;return g[0][_]=t,g[1][_]=r,g[0][_+1]=u,g[1][_+1]=d,g[0].length=g[1].length=_+2,[Math.min(...g[0]),Math.min(...g[1]),Math.max(...g[0]),Math.max(...g[1])]}}const PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToPDFString(n){if(n[0]>="ï"){let r;if(n[0]==="þ"&&n[1]==="ÿ"?(r="utf-16be",n.length%2===1&&(n=n.slice(0,-1))):n[0]==="ÿ"&&n[1]==="þ"?(r="utf-16le",n.length%2===1&&(n=n.slice(0,-1))):n[0]==="ï"&&n[1]==="»"&&n[2]==="¿"&&(r="utf-8"),r)try{const a=new TextDecoder(r,{fatal:!0}),s=stringToBytes(n),o=a.decode(s);return o.includes("\x1B")?o.replaceAll(/\x1b[^\x1b]*(?:\x1b|$)/g,""):o}catch(a){warn(`stringToPDFString: "${a}".`)}}const t=[];for(let r=0,a=n.length;r<a;r++){const s=n.charCodeAt(r);if(s===27){for(;++r<a&&n.charCodeAt(r)!==27;);continue}const o=PDFStringTranslateTable[s];t.push(o?String.fromCharCode(o):n.charAt(r))}return t.join("")}function stringToUTF8String(n){return decodeURIComponent(escape(n))}function utf8StringToString(n){return unescape(encodeURIComponent(n))}function isArrayBuffer(n){return typeof n=="object"&&n?.byteLength!==void 0}function isArrayEqual(n,t){if(n.length!==t.length)return!1;for(let r=0,a=n.length;r<a;r++)if(n[r]!==t[r])return!1;return!0}function getModificationDate(n=new Date){return[n.getUTCFullYear().toString(),(n.getUTCMonth()+1).toString().padStart(2,"0"),n.getUTCDate().toString().padStart(2,"0"),n.getUTCHours().toString().padStart(2,"0"),n.getUTCMinutes().toString().padStart(2,"0"),n.getUTCSeconds().toString().padStart(2,"0")].join("")}class PromiseCapability{#e=!1;constructor(){this.promise=new Promise((t,r)=>{this.resolve=a=>{this.#e=!0,t(a)},this.reject=a=>{this.#e=!0,r(a)}})}get settled(){return this.#e}}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(n){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),n.replaceAll(NormalizeRegex,(t,r,a)=>r?r.normalize("NFKC"):NormalizationMap.get(a))}const AnnotationPrefix="pdfjs_internal_id_",CIRCULAR_REF=Symbol("CIRCULAR_REF"),EOF=Symbol("EOF");let CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null);function clearPrimitiveCaches(){CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null)}class Name{constructor(t){this.name=t}static get(t){return NameCache[t]||=new Name(t)}}class Cmd{constructor(t){this.cmd=t}static get(t){return CmdCache[t]||=new Cmd(t)}}const nonSerializable=function(){return nonSerializable};class Dict{constructor(t=null){this._map=Object.create(null),this.xref=t,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=nonSerializable}assignXref(t){this.xref=t}get size(){return Object.keys(this._map).length}get(t,r,a){let s=this._map[t];return s===void 0&&r!==void 0&&(s=this._map[r],s===void 0&&a!==void 0&&(s=this._map[a])),s instanceof Ref&&this.xref?this.xref.fetch(s,this.suppressEncryption):s}async getAsync(t,r,a){let s=this._map[t];return s===void 0&&r!==void 0&&(s=this._map[r],s===void 0&&a!==void 0&&(s=this._map[a])),s instanceof Ref&&this.xref?this.xref.fetchAsync(s,this.suppressEncryption):s}getArray(t,r,a){let s=this._map[t];if(s===void 0&&r!==void 0&&(s=this._map[r],s===void 0&&a!==void 0&&(s=this._map[a])),s instanceof Ref&&this.xref&&(s=this.xref.fetch(s,this.suppressEncryption)),Array.isArray(s)){s=s.slice();for(let o=0,l=s.length;o<l;o++)s[o]instanceof Ref&&this.xref&&(s[o]=this.xref.fetch(s[o],this.suppressEncryption))}return s}getRaw(t){return this._map[t]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(t,r){this._map[t]=r}has(t){return this._map[t]!==void 0}forEach(t){for(const r in this._map)t(r,this.get(r))}static get empty(){const t=new Dict(null);return t.set=(r,a)=>{unreachable("Should not call `set` on the empty dictionary.")},shadow(this,"empty",t)}static merge({xref:t,dictArray:r,mergeSubDicts:a=!1}){const s=new Dict(t),o=new Map;for(const l of r)if(l instanceof Dict)for(const[u,d]of Object.entries(l._map)){let f=o.get(u);if(f===void 0)f=[],o.set(u,f);else if(!a||!(d instanceof Dict))continue;f.push(d)}for(const[l,u]of o){if(u.length===1||!(u[0]instanceof Dict)){s._map[l]=u[0];continue}const d=new Dict(t);for(const f of u)for(const[g,x]of Object.entries(f._map))d._map[g]===void 0&&(d._map[g]=x);d.size>0&&(s._map[l]=d)}return o.clear(),s.size>0?s:Dict.empty}clone(){const t=new Dict(this.xref);for(const r of this.getKeys())t.set(r,this.getRaw(r));return t}}class Ref{constructor(t,r){this.num=t,this.gen=r}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(t){const r=RefCache[t];if(r)return r;const a=/^(\d+)R(\d*)$/.exec(t);return!a||a[1]==="0"?null:RefCache[t]=new Ref(parseInt(a[1]),a[2]?parseInt(a[2]):0)}static get(t,r){const a=r===0?`${t}R`:`${t}R${r}`;return RefCache[a]||=new Ref(t,r)}}class RefSet{constructor(t=null){this._set=new Set(t?._set)}has(t){return this._set.has(t.toString())}put(t){this._set.add(t.toString())}remove(t){this._set.delete(t.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}class RefSetCache{constructor(){this._map=new Map}get size(){return this._map.size}get(t){return this._map.get(t.toString())}has(t){return this._map.has(t.toString())}put(t,r){this._map.set(t.toString(),r)}putAlias(t,r){this._map.set(t.toString(),this.get(r))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function isName(n,t){return n instanceof Name&&(t===void 0||n.name===t)}function isCmd(n,t){return n instanceof Cmd&&(t===void 0||n.cmd===t)}function isDict(n,t){return n instanceof Dict&&(t===void 0||isName(n.get("Type"),t))}function isRefsEqual(n,t){return n.num===t.num&&n.gen===t.gen}class BaseStream{constructor(){this.constructor===BaseStream&&unreachable("Cannot initialize BaseStream.")}get length(){unreachable("Abstract getter `length` accessed")}get isEmpty(){unreachable("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return shadow(this,"isDataLoaded",!0)}getByte(){unreachable("Abstract method `getByte` called")}getBytes(t){unreachable("Abstract method `getBytes` called")}peekByte(){const t=this.getByte();return t!==-1&&this.pos--,t}peekBytes(t){const r=this.getBytes(t);return this.pos-=r.length,r}getUint16(){const t=this.getByte(),r=this.getByte();return t===-1||r===-1?-1:(t<<8)+r}getInt32(){const t=this.getByte(),r=this.getByte(),a=this.getByte(),s=this.getByte();return(t<<24)+(r<<16)+(a<<8)+s}getByteRange(t,r){unreachable("Abstract method `getByteRange` called")}getString(t){return bytesToString(this.getBytes(t))}skip(t){this.pos+=t||1}reset(){unreachable("Abstract method `reset` called")}moveStart(){unreachable("Abstract method `moveStart` called")}makeSubStream(t,r,a=null){unreachable("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}const PDF_VERSION_REGEXP=/^[1-9]\.\d$/;function getLookupTableFactory(n){let t;return function(){return n&&(t=Object.create(null),n(t),n=null),t}}class MissingDataException extends BaseException{constructor(t,r){super(`Missing data [${t}, ${r})`,"MissingDataException"),this.begin=t,this.end=r}}class ParserEOFException extends BaseException{constructor(t){super(t,"ParserEOFException")}}class XRefEntryException extends BaseException{constructor(t){super(t,"XRefEntryException")}}class XRefParseException extends BaseException{constructor(t){super(t,"XRefParseException")}}function arrayBuffersToBytes(n){const t=n.length;if(t===0)return new Uint8Array(0);if(t===1)return new Uint8Array(n[0]);let r=0;for(let o=0;o<t;o++)r+=n[o].byteLength;const a=new Uint8Array(r);let s=0;for(let o=0;o<t;o++){const l=new Uint8Array(n[o]);a.set(l,s),s+=l.byteLength}return a}function getInheritableProperty({dict:n,key:t,getArray:r=!1,stopWhenFound:a=!0}){let s;const o=new RefSet;for(;n instanceof Dict&&!(n.objId&&o.has(n.objId));){n.objId&&o.put(n.objId);const l=r?n.getArray(t):n.get(t);if(l!==void 0){if(a)return l;(s||=[]).push(l)}n=n.get("Parent")}return s}const ROMAN_NUMBER_MAP=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function toRomanNumerals(n,t=!1){assert(Number.isInteger(n)&&n>0,"The number should be a positive integer.");const r=[];let a;for(;n>=1e3;)n-=1e3,r.push("M");a=n/100|0,n%=100,r.push(ROMAN_NUMBER_MAP[a]),a=n/10|0,n%=10,r.push(ROMAN_NUMBER_MAP[10+a]),r.push(ROMAN_NUMBER_MAP[20+n]);const s=r.join("");return t?s.toLowerCase():s}function log2(n){return n<=0?0:Math.ceil(Math.log2(n))}function readInt8(n,t){return n[t]<<24>>24}function readUint16(n,t){return n[t]<<8|n[t+1]}function readUint32(n,t){return(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3])>>>0}function isWhiteSpace(n){return n===32||n===9||n===13||n===10}function parseXFAPath(n){const t=/(.+)\[(\d+)\]$/;return n.split(".").map(r=>{const a=r.match(t);return a?{name:a[1],pos:parseInt(a[2],10)}:{name:r,pos:0}})}function escapePDFName(n){const t=[];let r=0;for(let a=0,s=n.length;a<s;a++){const o=n.charCodeAt(a);(o<33||o>126||o===35||o===40||o===41||o===60||o===62||o===91||o===93||o===123||o===125||o===47||o===37)&&(r<a&&t.push(n.substring(r,a)),t.push(`#${o.toString(16)}`),r=a+1)}return t.length===0?n:(r<n.length&&t.push(n.substring(r,n.length)),t.join(""))}function escapeString(n){return n.replaceAll(/([()\\\n\r])/g,t=>t===`
`?"\\n":t==="\r"?"\\r":`\\${t}`)}function _collectJS(n,t,r,a){if(!n)return;let s=null;if(n instanceof Ref){if(a.has(n))return;s=n,a.put(s),n=t.fetch(n)}if(Array.isArray(n))for(const o of n)_collectJS(o,t,r,a);else if(n instanceof Dict){if(isName(n.get("S"),"JavaScript")){const o=n.get("JS");let l;o instanceof BaseStream?l=o.getString():typeof o=="string"&&(l=o),l&&=stringToPDFString(l).replaceAll("\0",""),l&&r.push(l)}_collectJS(n.getRaw("Next"),t,r,a)}s&&a.remove(s)}function collectActions(n,t,r){const a=Object.create(null),s=getInheritableProperty({dict:t,key:"AA",stopWhenFound:!1});if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(l instanceof Dict)for(const u of l.getKeys()){const d=r[u];if(!d)continue;const f=l.getRaw(u),g=new RefSet,x=[];_collectJS(f,n,x,g),x.length>0&&(a[d]=x)}}if(t.has("A")){const o=t.get("A"),l=new RefSet,u=[];_collectJS(o,n,u,l),u.length>0&&(a.Action=u)}return objectSize(a)>0?a:null}const XMLEntities={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function encodeToXmlString(n){const t=[];let r=0;for(let a=0,s=n.length;a<s;a++){const o=n.codePointAt(a);if(32<=o&&o<=126){const l=XMLEntities[o];l&&(r<a&&t.push(n.substring(r,a)),t.push(l),r=a+1)}else r<a&&t.push(n.substring(r,a)),t.push(`&#x${o.toString(16).toUpperCase()};`),o>55295&&(o<57344||o>65533)&&a++,r=a+1}return t.length===0?n:(r<n.length&&t.push(n.substring(r,n.length)),t.join(""))}function validateFontName(n,t=!1){const r=/^("|').*("|')$/.exec(n);if(r&&r[1]===r[2]){if(new RegExp(`[^\\\\]${r[1]}`).test(n.slice(1,-1)))return t&&warn(`FontFamily contains unescaped ${r[1]}: ${n}.`),!1}else for(const a of n.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(a)||!/^[\w-\\]+$/.test(a))return t&&warn(`FontFamily contains invalid <custom-ident>: ${n}.`),!1;return!0}function validateCSSFont(n){const t="14",r="400",a=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:s,fontWeight:o,italicAngle:l}=n;if(!validateFontName(s,!0))return!1;const u=o?o.toString():"";n.fontWeight=a.has(u)?u:r;const d=parseFloat(l);return n.italicAngle=isNaN(d)||d<-90||d>90?t:l.toString(),!0}function recoverJsURL(n){const t=["app.launchURL","window.open","xfa.host.gotoURL"],a=new RegExp("^\\s*("+t.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(n);if(a?.[2]){const s=a[2];let o=!1;return a[3]==="true"&&a[1]==="app.launchURL"&&(o=!0),{url:s,newWindow:o}}return null}function numberToString$1(n){if(Number.isInteger(n))return n.toString();const t=Math.round(n*100);return t%100===0?(t/100).toString():t%10===0?n.toFixed(1):n.toFixed(2)}function getNewAnnotationsMap(n){if(!n)return null;const t=new Map;for(const[r,a]of n){if(!r.startsWith(AnnotationEditorPrefix))continue;let s=t.get(a.pageIndex);s||(s=[],t.set(a.pageIndex,s)),s.push(a)}return t.size>0?t:null}function isAscii(n){return/^[\x00-\x7F]*$/.test(n)}function stringToUTF16HexString(n){const t=[];for(let r=0,a=n.length;r<a;r++){const s=n.charCodeAt(r);t.push((s>>8&255).toString(16).padStart(2,"0"),(s&255).toString(16).padStart(2,"0"))}return t.join("")}function stringToUTF16String(n,t=!1){const r=[];t&&r.push("þÿ");for(let a=0,s=n.length;a<s;a++){const o=n.charCodeAt(a);r.push(String.fromCharCode(o>>8&255),String.fromCharCode(o&255))}return r.join("")}function getRotationMatrix(n,t,r){switch(n){case 90:return[0,1,-1,0,t,0];case 180:return[-1,0,0,-1,t,r];case 270:return[0,-1,1,0,0,r];default:throw new Error("Invalid rotation")}}let Stream$1=class Ke extends BaseStream{constructor(t,r,a,s){super(),this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.start=r||0,this.pos=this.start,this.end=r+a||this.bytes.length,this.dict=s}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(t){const r=this.bytes,a=this.pos,s=this.end;if(!t)return r.subarray(a,s);let o=a+t;return o>s&&(o=s),this.pos=o,r.subarray(a,o)}getByteRange(t,r){return t<0&&(t=0),r>this.end&&(r=this.end),this.bytes.subarray(t,r)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(t,r,a=null){return new Ke(this.bytes.buffer,t,r,a)}};class StringStream extends Stream$1{constructor(t){super(stringToBytes(t))}}class NullStream extends Stream$1{constructor(){super(new Uint8Array(0))}}class ChunkedStream extends Stream$1{constructor(t,r,a){super(new Uint8Array(t),0,t,null),this.chunkSize=r,this._loadedChunks=new Set,this.numChunks=Math.ceil(t/r),this.manager=a,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const t=[];for(let r=0,a=this.numChunks;r<a;++r)this._loadedChunks.has(r)||t.push(r);return t}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(t,r){const a=this.chunkSize;if(t%a!==0)throw new Error(`Bad begin offset: ${t}`);const s=t+r.byteLength;if(s%a!==0&&s!==this.bytes.length)throw new Error(`Bad end offset: ${s}`);this.bytes.set(new Uint8Array(r),t);const o=Math.floor(t/a),l=Math.floor((s-1)/a)+1;for(let u=o;u<l;++u)this._loadedChunks.add(u)}onReceiveProgressiveData(t){let r=this.progressiveDataLength;const a=Math.floor(r/this.chunkSize);this.bytes.set(new Uint8Array(t),r),r+=t.byteLength,this.progressiveDataLength=r;const s=r>=this.end?this.numChunks:Math.floor(r/this.chunkSize);for(let o=a;o<s;++o)this._loadedChunks.add(o)}ensureByte(t){if(t<this.progressiveDataLength)return;const r=Math.floor(t/this.chunkSize);if(!(r>this.numChunks)&&r!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(r))throw new MissingDataException(t,t+1);this.lastSuccessfulEnsureByteChunk=r}}ensureRange(t,r){if(t>=r||r<=this.progressiveDataLength)return;const a=Math.floor(t/this.chunkSize);if(a>this.numChunks)return;const s=Math.min(Math.floor((r-1)/this.chunkSize)+1,this.numChunks);for(let o=a;o<s;++o)if(!this._loadedChunks.has(o))throw new MissingDataException(t,r)}nextEmptyChunk(t){const r=this.numChunks;for(let a=0;a<r;++a){const s=(t+a)%r;if(!this._loadedChunks.has(s))return s}return null}hasChunk(t){return this._loadedChunks.has(t)}getByte(){const t=this.pos;return t>=this.end?-1:(t>=this.progressiveDataLength&&this.ensureByte(t),this.bytes[this.pos++])}getBytes(t){const r=this.bytes,a=this.pos,s=this.end;if(!t)return s>this.progressiveDataLength&&this.ensureRange(a,s),r.subarray(a,s);let o=a+t;return o>s&&(o=s),o>this.progressiveDataLength&&this.ensureRange(a,o),this.pos=o,r.subarray(a,o)}getByteRange(t,r){return t<0&&(t=0),r>this.end&&(r=this.end),r>this.progressiveDataLength&&this.ensureRange(t,r),this.bytes.subarray(t,r)}makeSubStream(t,r,a=null){r?t+r>this.progressiveDataLength&&this.ensureRange(t,t+r):t>=this.progressiveDataLength&&this.ensureByte(t);function s(){}s.prototype=Object.create(this),s.prototype.getMissingChunks=function(){const l=this.chunkSize,u=Math.floor(this.start/l),d=Math.floor((this.end-1)/l)+1,f=[];for(let g=u;g<d;++g)this._loadedChunks.has(g)||f.push(g);return f},Object.defineProperty(s.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const o=new s;return o.pos=o.start=t,o.end=t+r||this.end,o.dict=a,o}getBaseStreams(){return[this]}}class ChunkedStreamManager{constructor(t,r){this.length=r.length,this.chunkSize=r.rangeChunkSize,this.stream=new ChunkedStream(this.length,this.chunkSize,this),this.pdfNetworkStream=t,this.disableAutoFetch=r.disableAutoFetch,this.msgHandler=r.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new PromiseCapability}sendRequest(t,r){const a=this.pdfNetworkStream.getRangeReader(t,r);a.isStreamingSupported||(a.onProgress=this.onProgress.bind(this));let s=[],o=0;return new Promise((l,u)=>{const d=({value:f,done:g})=>{try{if(g){const x=arrayBuffersToBytes(s);s=null,l(x);return}o+=f.byteLength,a.isStreamingSupported&&this.onProgress({loaded:o}),s.push(f),a.read().then(d,u)}catch(x){u(x)}};a.read().then(d,u)}).then(l=>{this.aborted||this.onReceiveData({chunk:l,begin:t})})}requestAllChunks(t=!1){if(!t){const r=this.stream.getMissingChunks();this._requestChunks(r)}return this._loadedStreamCapability.promise}_requestChunks(t){const r=this.currRequestId++,a=new Set;this._chunksNeededByRequest.set(r,a);for(const l of t)this.stream.hasChunk(l)||a.add(l);if(a.size===0)return Promise.resolve();const s=new PromiseCapability;this._promisesByRequest.set(r,s);const o=[];for(const l of a){let u=this._requestsByChunk.get(l);u||(u=[],this._requestsByChunk.set(l,u),o.push(l)),u.push(r)}if(o.length>0){const l=this.groupChunks(o);for(const u of l){const d=u.beginChunk*this.chunkSize,f=Math.min(u.endChunk*this.chunkSize,this.length);this.sendRequest(d,f).catch(s.reject)}}return s.promise.catch(l=>{if(!this.aborted)throw l})}getStream(){return this.stream}requestRange(t,r){r=Math.min(r,this.length);const a=this.getBeginChunk(t),s=this.getEndChunk(r),o=[];for(let l=a;l<s;++l)o.push(l);return this._requestChunks(o)}requestRanges(t=[]){const r=[];for(const a of t){const s=this.getBeginChunk(a.begin),o=this.getEndChunk(a.end);for(let l=s;l<o;++l)r.includes(l)||r.push(l)}return r.sort(function(a,s){return a-s}),this._requestChunks(r)}groupChunks(t){const r=[];let a=-1,s=-1;for(let o=0,l=t.length;o<l;++o){const u=t[o];a<0&&(a=u),s>=0&&s+1!==u&&(r.push({beginChunk:a,endChunk:s+1}),a=u),o+1===t.length&&r.push({beginChunk:a,endChunk:u+1}),s=u}return r}onProgress(t){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+t.loaded,total:this.length})}onReceiveData(t){const r=t.chunk,a=t.begin===void 0,s=a?this.progressiveDataLength:t.begin,o=s+r.byteLength,l=Math.floor(s/this.chunkSize),u=o<this.length?Math.floor(o/this.chunkSize):Math.ceil(o/this.chunkSize);a?(this.stream.onReceiveProgressiveData(r),this.progressiveDataLength=o):this.stream.onReceiveData(s,r),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const d=[];for(let f=l;f<u;++f){const g=this._requestsByChunk.get(f);if(g){this._requestsByChunk.delete(f);for(const x of g){const b=this._chunksNeededByRequest.get(x);b.has(f)&&b.delete(f),!(b.size>0)&&d.push(x)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let f;if(this.stream.numChunksLoaded===1){const g=this.stream.numChunks-1;this.stream.hasChunk(g)||(f=g)}else f=this.stream.nextEmptyChunk(u);Number.isInteger(f)&&this._requestChunks([f])}for(const f of d){const g=this._promisesByRequest.get(f);this._promisesByRequest.delete(f),g.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(t){this._loadedStreamCapability.reject(t)}getBeginChunk(t){return Math.floor(t/this.chunkSize)}getEndChunk(t){return Math.floor((t-1)/this.chunkSize)+1}abort(t){this.aborted=!0,this.pdfNetworkStream?.cancelAllRequests(t);for(const r of this._promisesByRequest.values())r.reject(t)}}function resizeRgbImage(n,t,r,a,s,o,l){l=l!==1?0:l;const d=r/s,f=a/o;let g=0,x;const b=new Uint16Array(s),m=r*3;for(let y=0;y<s;y++)b[y]=Math.floor(y*d)*3;for(let y=0;y<o;y++){const v=Math.floor(y*f)*m;for(let w=0;w<s;w++)x=v+b[w],t[g++]=n[x++],t[g++]=n[x++],t[g++]=n[x++],g+=l}}let ColorSpace$1=class We{constructor(t,r){this.constructor===We&&unreachable("Cannot initialize ColorSpace."),this.name=t,this.numComps=r}getRgb(t,r){const a=new Uint8ClampedArray(3);return this.getRgbItem(t,r,a,0),a}getRgbItem(t,r,a,s){unreachable("Should not call ColorSpace.getRgbItem")}getRgbBuffer(t,r,a,s,o,l,u){unreachable("Should not call ColorSpace.getRgbBuffer")}getOutputLength(t,r){unreachable("Should not call ColorSpace.getOutputLength")}isPassthrough(t){return!1}isDefaultDecode(t,r){return We.isDefaultDecode(t,this.numComps)}fillRgb(t,r,a,s,o,l,u,d,f){const g=r*a;let x=null;const b=1<<u,m=a!==o||r!==s;if(this.isPassthrough(u))x=d;else if(this.numComps===1&&g>b&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const y=u<=8?new Uint8Array(b):new Uint16Array(b);for(let w=0;w<b;w++)y[w]=w;const v=new Uint8ClampedArray(b*3);if(this.getRgbBuffer(y,0,b,v,0,u,0),m){x=new Uint8Array(g*3);let w=0;for(let S=0;S<g;++S){const C=d[S]*3;x[w++]=v[C],x[w++]=v[C+1],x[w++]=v[C+2]}}else{let w=0;for(let S=0;S<g;++S){const C=d[S]*3;t[w++]=v[C],t[w++]=v[C+1],t[w++]=v[C+2],w+=f}}}else m?(x=new Uint8ClampedArray(g*3),this.getRgbBuffer(d,0,g,x,0,u,0)):this.getRgbBuffer(d,0,s*l,t,0,u,f);if(x)if(m)resizeRgbImage(x,t,r,a,s,o,f);else{let y=0,v=0;for(let w=0,S=s*l;w<S;w++)t[y++]=x[v++],t[y++]=x[v++],t[y++]=x[v++],y+=f}}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!0)}static _cache(t,r,a,s){if(!a)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!s)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let o,l;t instanceof Ref&&(l=t,t=r.fetch(t)),t instanceof Name&&(o=t.name),(o||l)&&a.set(o,l,s)}static getCached(t,r,a){if(!a)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(t instanceof Ref){const s=a.getByRef(t);if(s)return s;try{t=r.fetch(t)}catch(o){if(o instanceof MissingDataException)throw o}}if(t instanceof Name){const s=a.getByName(t.name);if(s)return s}return null}static async parseAsync({cs:t,xref:r,resources:a=null,pdfFunctionFactory:s,localColorSpaceCache:o}){const l=this._parse(t,r,a,s);return this._cache(t,r,o,l),l}static parse({cs:t,xref:r,resources:a=null,pdfFunctionFactory:s,localColorSpaceCache:o}){const l=this.getCached(t,r,o);if(l)return l;const u=this._parse(t,r,a,s);return this._cache(t,r,o,u),u}static _parse(t,r,a=null,s){if(t=r.fetchIfRef(t),t instanceof Name)switch(t.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new PatternCS(null);default:if(a instanceof Dict){const o=a.get("ColorSpace");if(o instanceof Dict){const l=o.get(t.name);if(l){if(l instanceof Name)return this._parse(l,r,a,s);t=l;break}}}throw new FormatError(`Unrecognized ColorSpace: ${t.name}`)}if(Array.isArray(t)){const o=r.fetchIfRef(t[0]).name;let l,u,d,f,g,x;switch(o){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return l=r.fetchIfRef(t[1]),f=l.getArray("WhitePoint"),g=l.getArray("BlackPoint"),x=l.get("Gamma"),new CalGrayCS(f,g,x);case"CalRGB":l=r.fetchIfRef(t[1]),f=l.getArray("WhitePoint"),g=l.getArray("BlackPoint"),x=l.getArray("Gamma");const b=l.getArray("Matrix");return new CalRGBCS(f,g,x,b);case"ICCBased":const y=r.fetchIfRef(t[1]).dict;u=y.get("N");const v=y.get("Alternate");if(v){const _=this._parse(v,r,a,s);if(_.numComps===u)return _;warn("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(u===1)return this.singletons.gray;if(u===3)return this.singletons.rgb;if(u===4)return this.singletons.cmyk;break;case"Pattern":return d=t[1]||null,d&&(d=this._parse(d,r,a,s)),new PatternCS(d);case"I":case"Indexed":d=this._parse(t[1],r,a,s);const w=r.fetchIfRef(t[2])+1,S=r.fetchIfRef(t[3]);return new IndexedCS(d,w,S);case"Separation":case"DeviceN":const C=r.fetchIfRef(t[1]);u=Array.isArray(C)?C.length:1,d=this._parse(t[2],r,a,s);const E=s.create(t[3]);return new AlternateCS(u,d,E);case"Lab":l=r.fetchIfRef(t[1]),f=l.getArray("WhitePoint"),g=l.getArray("BlackPoint");const T=l.getArray("Range");return new LabCS(f,g,T);default:throw new FormatError(`Unimplemented ColorSpace object: ${o}`)}}throw new FormatError(`Unrecognized ColorSpace object: ${t}`)}static isDefaultDecode(t,r){if(!Array.isArray(t))return!0;if(r*2!==t.length)return warn("The decode map is not the correct length"),!0;for(let a=0,s=t.length;a<s;a+=2)if(t[a]!==0||t[a+1]!==1)return!1;return!0}static get singletons(){return shadow(this,"singletons",{get gray(){return shadow(this,"gray",new DeviceGrayCS)},get rgb(){return shadow(this,"rgb",new DeviceRgbCS)},get cmyk(){return shadow(this,"cmyk",new DeviceCmykCS)}})}};class AlternateCS extends ColorSpace$1{constructor(t,r,a){super("Alternate",t),this.base=r,this.tintFn=a,this.tmpBuf=new Float32Array(r.numComps)}getRgbItem(t,r,a,s){const o=this.tmpBuf;this.tintFn(t,r,o,0),this.base.getRgbItem(o,0,a,s)}getRgbBuffer(t,r,a,s,o,l,u){const d=this.tintFn,f=this.base,g=1/((1<<l)-1),x=f.numComps,b=f.usesZeroToOneRange,m=(f.isPassthrough(8)||!b)&&u===0;let y=m?o:0;const v=m?s:new Uint8ClampedArray(x*a),w=this.numComps,S=new Float32Array(w),C=new Float32Array(x);let E,T;for(E=0;E<a;E++){for(T=0;T<w;T++)S[T]=t[r++]*g;if(d(S,0,C,0),b)for(T=0;T<x;T++)v[y++]=C[T]*255;else f.getRgbItem(C,0,v,y),y+=x}m||f.getRgbBuffer(v,0,a,s,o,8,u)}getOutputLength(t,r){return this.base.getOutputLength(t*this.base.numComps/this.numComps,r)}}class PatternCS extends ColorSpace$1{constructor(t){super("Pattern",null),this.base=t}isDefaultDecode(t,r){unreachable("Should not call PatternCS.isDefaultDecode")}}class IndexedCS extends ColorSpace$1{constructor(t,r,a){super("Indexed",1),this.base=t,this.highVal=r;const s=t.numComps*r;if(this.lookup=new Uint8Array(s),a instanceof BaseStream){const o=a.getBytes(s);this.lookup.set(o)}else if(typeof a=="string")for(let o=0;o<s;++o)this.lookup[o]=a.charCodeAt(o)&255;else throw new FormatError(`IndexedCS - unrecognized lookup table: ${a}`)}getRgbItem(t,r,a,s){const o=this.base.numComps,l=t[r]*o;this.base.getRgbBuffer(this.lookup,l,1,a,s,8,0)}getRgbBuffer(t,r,a,s,o,l,u){const d=this.base,f=d.numComps,g=d.getOutputLength(f,u),x=this.lookup;for(let b=0;b<a;++b){const m=t[r++]*f;d.getRgbBuffer(x,m,1,s,o,8,u),o+=g}}getOutputLength(t,r){return this.base.getOutputLength(t*this.base.numComps,r)}isDefaultDecode(t,r){return Array.isArray(t)?t.length!==2?(warn("Decode map length is not correct"),!0):!Number.isInteger(r)||r<1?(warn("Bits per component is not correct"),!0):t[0]===0&&t[1]===(1<<r)-1:!0}}class DeviceGrayCS extends ColorSpace$1{constructor(){super("DeviceGray",1)}getRgbItem(t,r,a,s){const o=t[r]*255;a[s]=a[s+1]=a[s+2]=o}getRgbBuffer(t,r,a,s,o,l,u){const d=255/((1<<l)-1);let f=r,g=o;for(let x=0;x<a;++x){const b=d*t[f++];s[g++]=b,s[g++]=b,s[g++]=b,g+=u}}getOutputLength(t,r){return t*(3+r)}}class DeviceRgbCS extends ColorSpace$1{constructor(){super("DeviceRGB",3)}getRgbItem(t,r,a,s){a[s]=t[r]*255,a[s+1]=t[r+1]*255,a[s+2]=t[r+2]*255}getRgbBuffer(t,r,a,s,o,l,u){if(l===8&&u===0){s.set(t.subarray(r,r+a*3),o);return}const d=255/((1<<l)-1);let f=r,g=o;for(let x=0;x<a;++x)s[g++]=d*t[f++],s[g++]=d*t[f++],s[g++]=d*t[f++],g+=u}getOutputLength(t,r){return t*(3+r)/3|0}isPassthrough(t){return t===8}}class DeviceCmykCS extends ColorSpace$1{constructor(){super("DeviceCMYK",4)}#e(t,r,a,s,o){const l=t[r]*a,u=t[r+1]*a,d=t[r+2]*a,f=t[r+3]*a;s[o]=255+l*(-4.387332384609988*l+54.48615194189176*u+18.82290502165302*d+212.25662451639585*f+-285.2331026137004)+u*(1.7149763477362134*u-5.6096736904047315*d+-17.873870861415444*f-5.497006427196366)+d*(-2.5217340131683033*d-21.248923337353073*f+17.5119270841813)+f*(-21.86122147463605*f-189.48180835922747),s[o+1]=255+l*(8.841041422036149*l+60.118027045597366*u+6.871425592049007*d+31.159100130055922*f+-79.2970844816548)+u*(-15.310361306967817*u+17.575251261109482*d+131.35250912493976*f-190.9453302588951)+d*(4.444339102852739*d+9.8632861493405*f-24.86741582555878)+f*(-20.737325471181034*f-187.80453709719578),s[o+2]=255+l*(.8842522430003296*l+8.078677503112928*u+30.89978309703729*d-.23883238689178934*f+-14.183576799673286)+u*(10.49593273432072*u+63.02378494754052*d+50.606957656360734*f-112.23884253719248)+d*(.03296041114873217*d+115.60384449646641*f+-193.58209356861505)+f*(-22.33816807309886*f-180.12613974708367)}getRgbItem(t,r,a,s){this.#e(t,r,1,a,s)}getRgbBuffer(t,r,a,s,o,l,u){const d=1/((1<<l)-1);for(let f=0;f<a;f++)this.#e(t,r,d,s,o),r+=4,o+=3+u}getOutputLength(t,r){return t/4*(3+r)|0}}class CalGrayCS extends ColorSpace$1{constructor(t,r,a){if(super("CalGray",1),!t)throw new FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=t,[this.XB,this.YB,this.ZB]=r||[0,0,0],this.G=a||1,this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&(info(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&warn(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&(info(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}#e(t,r,a,s,o){const u=(t[r]*o)**this.G,d=this.YW*u,f=Math.max(295.8*d**.3333333333333333-40.8,0);a[s]=f,a[s+1]=f,a[s+2]=f}getRgbItem(t,r,a,s){this.#e(t,r,a,s,1)}getRgbBuffer(t,r,a,s,o,l,u){const d=1/((1<<l)-1);for(let f=0;f<a;++f)this.#e(t,r,s,o,d),r+=1,o+=3+u}getOutputLength(t,r){return t*(3+r)}}class CalRGBCS extends ColorSpace$1{static#e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]);static#t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]);static#n=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]);static#r=new Float32Array([1,1,1]);static#s=new Float32Array(3);static#i=new Float32Array(3);static#c=new Float32Array(3);static#l=(24/116)**3/8;constructor(t,r,a,s){if(super("CalRGB",3),!t)throw new FormatError("WhitePoint missing - required for color space CalRGB");const[o,l,u]=this.whitePoint=t,[d,f,g]=this.blackPoint=r||new Float32Array(3);if([this.GR,this.GG,this.GB]=a||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=s||new Float32Array([1,0,0,0,1,0,0,0,1]),o<0||u<0||l!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(d<0||f<0||g<0)&&(info(`Invalid BlackPoint for ${this.name} [${d}, ${f}, ${g}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&(info(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}#o(t,r,a){a[0]=t[0]*r[0]+t[1]*r[1]+t[2]*r[2],a[1]=t[3]*r[0]+t[4]*r[1]+t[5]*r[2],a[2]=t[6]*r[0]+t[7]*r[1]+t[8]*r[2]}#u(t,r,a){a[0]=r[0]*1/t[0],a[1]=r[1]*1/t[1],a[2]=r[2]*1/t[2]}#a(t,r,a){a[0]=r[0]*.95047/t[0],a[1]=r[1]*1/t[1],a[2]=r[2]*1.08883/t[2]}#f(t){return t<=.0031308?this.#h(0,1,12.92*t):t>=.99554525?1:this.#h(0,1,(1+.055)*t**(1/2.4)-.055)}#h(t,r,a){return Math.max(t,Math.min(r,a))}#g(t){return t<0?-this.#g(-t):t>8?((t+16)/116)**3:t*CalRGBCS.#l}#p(t,r,a){if(t[0]===0&&t[1]===0&&t[2]===0){a[0]=r[0],a[1]=r[1],a[2]=r[2];return}const s=this.#g(0),o=s,l=this.#g(t[0]),u=s,d=this.#g(t[1]),f=s,g=this.#g(t[2]),x=(1-o)/(1-l),b=1-x,m=(1-u)/(1-d),y=1-m,v=(1-f)/(1-g),w=1-v;a[0]=r[0]*x+b,a[1]=r[1]*m+y,a[2]=r[2]*v+w}#b(t,r,a){if(t[0]===1&&t[2]===1){a[0]=r[0],a[1]=r[1],a[2]=r[2];return}const s=a;this.#o(CalRGBCS.#e,r,s);const o=CalRGBCS.#s;this.#u(t,s,o),this.#o(CalRGBCS.#t,o,a)}#x(t,r,a){const s=a;this.#o(CalRGBCS.#e,r,s);const o=CalRGBCS.#s;this.#a(t,s,o),this.#o(CalRGBCS.#t,o,a)}#m(t,r,a,s,o){const l=this.#h(0,1,t[r]*o),u=this.#h(0,1,t[r+1]*o),d=this.#h(0,1,t[r+2]*o),f=l===1?1:l**this.GR,g=u===1?1:u**this.GG,x=d===1?1:d**this.GB,b=this.MXA*f+this.MXB*g+this.MXC*x,m=this.MYA*f+this.MYB*g+this.MYC*x,y=this.MZA*f+this.MZB*g+this.MZC*x,v=CalRGBCS.#i;v[0]=b,v[1]=m,v[2]=y;const w=CalRGBCS.#c;this.#b(this.whitePoint,v,w);const S=CalRGBCS.#i;this.#p(this.blackPoint,w,S);const C=CalRGBCS.#c;this.#x(CalRGBCS.#r,S,C);const E=CalRGBCS.#i;this.#o(CalRGBCS.#n,C,E),a[s]=this.#f(E[0])*255,a[s+1]=this.#f(E[1])*255,a[s+2]=this.#f(E[2])*255}getRgbItem(t,r,a,s){this.#m(t,r,a,s,1)}getRgbBuffer(t,r,a,s,o,l,u){const d=1/((1<<l)-1);for(let f=0;f<a;++f)this.#m(t,r,s,o,d),r+=3,o+=3+u}getOutputLength(t,r){return t*(3+r)/3|0}}class LabCS extends ColorSpace$1{constructor(t,r,a){if(super("Lab",3),!t)throw new FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=t,[this.amin,this.amax,this.bmin,this.bmax]=a||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=r||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&(info("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(info("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}#e(t){return t>=6/29?t**3:108/841*(t-4/29)}#t(t,r,a,s){return a+t*(s-a)/r}#n(t,r,a,s,o){let l=t[r],u=t[r+1],d=t[r+2];a!==!1&&(l=this.#t(l,a,0,100),u=this.#t(u,a,this.amin,this.amax),d=this.#t(d,a,this.bmin,this.bmax)),u>this.amax?u=this.amax:u<this.amin&&(u=this.amin),d>this.bmax?d=this.bmax:d<this.bmin&&(d=this.bmin);const f=(l+16)/116,g=f+u/500,x=f-d/200,b=this.XW*this.#e(g),m=this.YW*this.#e(f),y=this.ZW*this.#e(x);let v,w,S;this.ZW<1?(v=b*3.1339+m*-1.617+y*-.4906,w=b*-.9785+m*1.916+y*.0333,S=b*.072+m*-.229+y*1.4057):(v=b*3.2406+m*-1.5372+y*-.4986,w=b*-.9689+m*1.8758+y*.0415,S=b*.0557+m*-.204+y*1.057),s[o]=Math.sqrt(v)*255,s[o+1]=Math.sqrt(w)*255,s[o+2]=Math.sqrt(S)*255}getRgbItem(t,r,a,s){this.#n(t,r,!1,a,s)}getRgbBuffer(t,r,a,s,o,l,u){const d=(1<<l)-1;for(let f=0;f<a;f++)this.#n(t,r,d,s,o),r+=3,o+=3+u}getOutputLength(t,r){return t*(3+r)/3|0}isDefaultDecode(t,r){return!0}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!1)}}function hexToInt(n,t){let r=0;for(let a=0;a<=t;a++)r=r<<8|n[a];return r>>>0}function hexToStr(n,t){return t===1?String.fromCharCode(n[0],n[1]):t===3?String.fromCharCode(n[0],n[1],n[2],n[3]):String.fromCharCode(...n.subarray(0,t+1))}function addHex(n,t,r){let a=0;for(let s=r;s>=0;s--)a+=n[s]+t[s],n[s]=a&255,a>>=8}function incHex(n,t){let r=1;for(let a=t;a>=0&&r>0;a--)r+=n[a],n[a]=r&255,r>>=8}const MAX_NUM_SIZE=16,MAX_ENCODED_NUM_SIZE=19;class BinaryCMapStream{constructor(t){this.buffer=t,this.pos=0,this.end=t.length,this.tmpBuf=new Uint8Array(MAX_ENCODED_NUM_SIZE)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let t=0,r;do{const a=this.readByte();if(a<0)throw new FormatError("unexpected EOF in bcmap");r=!(a&128),t=t<<7|a&127}while(!r);return t}readSigned(){const t=this.readNumber();return t&1?~(t>>>1):t>>>1}readHex(t,r){t.set(this.buffer.subarray(this.pos,this.pos+r+1)),this.pos+=r+1}readHexNumber(t,r){let a;const s=this.tmpBuf;let o=0;do{const f=this.readByte();if(f<0)throw new FormatError("unexpected EOF in bcmap");a=!(f&128),s[o++]=f&127}while(!a);let l=r,u=0,d=0;for(;l>=0;){for(;d<8&&s.length>0;)u|=s[--o]<<d,d+=7;t[l]=u&255,l--,u>>=8,d-=8}}readHexSigned(t,r){this.readHexNumber(t,r);const a=t[r]&1?255:0;let s=0;for(let o=0;o<=r;o++)s=(s&1)<<8|t[o],t[o]=s>>1^a}readString(){const t=this.readNumber(),r=new Array(t);for(let a=0;a<t;a++)r[a]=this.readNumber();return String.fromCharCode(...r)}}class BinaryCMapReader{async process(t,r,a){const s=new BinaryCMapStream(t),o=s.readByte();r.vertical=!!(o&1);let l=null;const u=new Uint8Array(MAX_NUM_SIZE),d=new Uint8Array(MAX_NUM_SIZE),f=new Uint8Array(MAX_NUM_SIZE),g=new Uint8Array(MAX_NUM_SIZE),x=new Uint8Array(MAX_NUM_SIZE);let b,m;for(;(m=s.readByte())>=0;){const y=m>>5;if(y===7){switch(m&31){case 0:s.readString();break;case 1:l=s.readString();break}continue}const v=!!(m&16),w=m&15;if(w+1>MAX_NUM_SIZE)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const S=1,C=s.readNumber();switch(y){case 0:s.readHex(u,w),s.readHexNumber(d,w),addHex(d,u,w),r.addCodespaceRange(w+1,hexToInt(u,w),hexToInt(d,w));for(let E=1;E<C;E++)incHex(d,w),s.readHexNumber(u,w),addHex(u,d,w),s.readHexNumber(d,w),addHex(d,u,w),r.addCodespaceRange(w+1,hexToInt(u,w),hexToInt(d,w));break;case 1:s.readHex(u,w),s.readHexNumber(d,w),addHex(d,u,w),s.readNumber();for(let E=1;E<C;E++)incHex(d,w),s.readHexNumber(u,w),addHex(u,d,w),s.readHexNumber(d,w),addHex(d,u,w),s.readNumber();break;case 2:s.readHex(f,w),b=s.readNumber(),r.mapOne(hexToInt(f,w),b);for(let E=1;E<C;E++)incHex(f,w),v||(s.readHexNumber(x,w),addHex(f,x,w)),b=s.readSigned()+(b+1),r.mapOne(hexToInt(f,w),b);break;case 3:s.readHex(u,w),s.readHexNumber(d,w),addHex(d,u,w),b=s.readNumber(),r.mapCidRange(hexToInt(u,w),hexToInt(d,w),b);for(let E=1;E<C;E++)incHex(d,w),v?u.set(d):(s.readHexNumber(u,w),addHex(u,d,w)),s.readHexNumber(d,w),addHex(d,u,w),b=s.readNumber(),r.mapCidRange(hexToInt(u,w),hexToInt(d,w),b);break;case 4:s.readHex(f,S),s.readHex(g,w),r.mapOne(hexToInt(f,S),hexToStr(g,w));for(let E=1;E<C;E++)incHex(f,S),v||(s.readHexNumber(x,S),addHex(f,x,S)),incHex(g,w),s.readHexSigned(x,w),addHex(g,x,w),r.mapOne(hexToInt(f,S),hexToStr(g,w));break;case 5:s.readHex(u,S),s.readHexNumber(d,S),addHex(d,u,S),s.readHex(g,w),r.mapBfRange(hexToInt(u,S),hexToInt(d,S),hexToStr(g,w));for(let E=1;E<C;E++)incHex(d,S),v?u.set(d):(s.readHexNumber(u,S),addHex(u,d,S)),s.readHexNumber(d,S),addHex(d,u,S),s.readHex(g,w),r.mapBfRange(hexToInt(u,S),hexToInt(d,S),hexToStr(g,w));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${y}`)}}return l?a(l):r}}const emptyBuffer$1=new Uint8Array(0);let DecodeStream$1=class extends BaseStream{constructor(t){if(super(),this._rawMinBufferLength=t||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer$1,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(t){const r=this.buffer;if(t<=r.byteLength)return r;let a=this.minBufferLength;for(;a<t;)a*=2;const s=new Uint8Array(a);return s.set(r),this.buffer=s}getByte(){const t=this.pos;for(;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(t){const r=this.pos;let a;if(t){for(this.ensureBuffer(r+t),a=r+t;!this.eof&&this.bufferLength<a;)this.readBlock();const s=this.bufferLength;a>s&&(a=s)}else{for(;!this.eof;)this.readBlock();a=this.bufferLength}return this.pos=a,this.buffer.subarray(r,a)}reset(){this.pos=0}makeSubStream(t,r,a=null){if(r===void 0)for(;!this.eof;)this.readBlock();else{const s=t+r;for(;this.bufferLength<=s&&!this.eof;)this.readBlock()}return new Stream$1(this.buffer,t,r,a)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}};class StreamsSequenceStream extends DecodeStream$1{constructor(t,r=null){let a=0;for(const s of t)a+=s instanceof DecodeStream$1?s._rawMinBufferLength:s.length;super(a),this.streams=t,this._onError=r}readBlock(){const t=this.streams;if(t.length===0){this.eof=!0;return}const r=t.shift();let a;try{a=r.getBytes()}catch(u){if(this._onError){this._onError(u,r.dict?.objId);return}throw u}const s=this.bufferLength,o=s+a.length;this.ensureBuffer(o).set(a,s),this.bufferLength=o}getBaseStreams(){const t=[];for(const r of this.streams){const a=r.getBaseStreams();a&&t.push(...a)}return t.length>0?t:null}}let Ascii85Stream$1=class extends DecodeStream$1{constructor(t,r){r&&(r*=.8),super(r),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const s=this.str;let o=s.getByte();for(;isWhiteSpace(o);)o=s.getByte();if(o===-1||o===126){this.eof=!0;return}const l=this.bufferLength;let u,d;if(o===122){for(u=this.ensureBuffer(l+4),d=0;d<4;++d)u[l+d]=0;this.bufferLength+=4}else{const f=this.input;for(f[0]=o,d=1;d<5;++d){for(o=s.getByte();isWhiteSpace(o);)o=s.getByte();if(f[d]=o,o===-1||o===126)break}if(u=this.ensureBuffer(l+d-1),this.bufferLength+=d-1,d<5){for(;d<5;++d)f[d]=117;this.eof=!0}let g=0;for(d=0;d<5;++d)g=g*85+(f[d]-33);for(d=3;d>=0;--d)u[l+d]=g&255,g>>=8}}},AsciiHexStream$1=class extends DecodeStream$1{constructor(t,r){r&&(r*=.5),super(r),this.str=t,this.dict=t.dict,this.firstDigit=-1}readBlock(){const r=this.str.getBytes(8e3);if(!r.length){this.eof=!0;return}const a=r.length+1>>1,s=this.ensureBuffer(this.bufferLength+a);let o=this.bufferLength,l=this.firstDigit;for(const u of r){let d;if(u>=48&&u<=57)d=u&15;else if(u>=65&&u<=70||u>=97&&u<=102)d=(u&15)+9;else if(u===62){this.eof=!0;break}else continue;l<0?l=d:(s[o++]=l<<4|d,l=-1)}l>=0&&this.eof&&(s[o++]=l<<4,l=-1),this.firstDigit=l,this.bufferLength=o}};const ccittEOL=-2,ccittEOF=-1,twoDimPass=0,twoDimHoriz=1,twoDimVert0=2,twoDimVertR1=3,twoDimVertL1=4,twoDimVertR2=5,twoDimVertL2=6,twoDimVertR3=7,twoDimVertL3=8,twoDimTable=[[-1,-1],[-1,-1],[7,twoDimVertL3],[7,twoDimVertR3],[6,twoDimVertL2],[6,twoDimVertL2],[6,twoDimVertR2],[6,twoDimVertR2],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0]],whiteTable1=[[-1,-1],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],whiteTable2=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],blackTable1=[[-1,-1],[-1,-1],[12,ccittEOL],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],blackTable2=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],blackTable3=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class CCITTFaxDecoder{constructor(t,r={}){if(!t||typeof t.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=r.K||0,this.eoline=r.EndOfLine||!1,this.byteAlign=r.EncodedByteAlign||!1,this.columns=r.Columns||1728,this.rows=r.Rows||0,this.eoblock=r.EndOfBlock??!0,this.black=r.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let a;for(;(a=this._lookBits(12))===0;)this._eatBits(1);a===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const t=this.refLine,r=this.codingLine,a=this.columns;let s,o,l,u;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let f,g,x;if(this.nextLine2D){for(u=0;r[u]<a;++u)t[u]=r[u];for(t[u++]=a,t[u]=a,r[0]=0,this.codingPos=0,s=0,o=0;r[this.codingPos]<a;)switch(f=this._getTwoDimCode(),f){case twoDimPass:this._addPixels(t[s+1],o),t[s+1]<a&&(s+=2);break;case twoDimHoriz:if(f=g=0,o){do f+=x=this._getBlackCode();while(x>=64);do g+=x=this._getWhiteCode();while(x>=64)}else{do f+=x=this._getWhiteCode();while(x>=64);do g+=x=this._getBlackCode();while(x>=64)}for(this._addPixels(r[this.codingPos]+f,o),r[this.codingPos]<a&&this._addPixels(r[this.codingPos]+g,o^1);t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case twoDimVertR3:if(this._addPixels(t[s]+3,o),o^=1,r[this.codingPos]<a)for(++s;t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case twoDimVertR2:if(this._addPixels(t[s]+2,o),o^=1,r[this.codingPos]<a)for(++s;t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case twoDimVertR1:if(this._addPixels(t[s]+1,o),o^=1,r[this.codingPos]<a)for(++s;t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case twoDimVert0:if(this._addPixels(t[s],o),o^=1,r[this.codingPos]<a)for(++s;t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case twoDimVertL3:if(this._addPixelsNeg(t[s]-3,o),o^=1,r[this.codingPos]<a)for(s>0?--s:++s;t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case twoDimVertL2:if(this._addPixelsNeg(t[s]-2,o),o^=1,r[this.codingPos]<a)for(s>0?--s:++s;t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case twoDimVertL1:if(this._addPixelsNeg(t[s]-1,o),o^=1,r[this.codingPos]<a)for(s>0?--s:++s;t[s]<=r[this.codingPos]&&t[s]<a;)s+=2;break;case ccittEOF:this._addPixels(a,0),this.eof=!0;break;default:info("bad 2d code"),this._addPixels(a,0),this.err=!0}}else for(r[0]=0,this.codingPos=0,o=0;r[this.codingPos]<a;){if(f=0,o)do f+=x=this._getBlackCode();while(x>=64);else do f+=x=this._getWhiteCode();while(x>=64);this._addPixels(r[this.codingPos]+f,o),o^=1}let b=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(f=this._lookBits(12),this.eoline)for(;f!==ccittEOF&&f!==1;)this._eatBits(1),f=this._lookBits(12);else for(;f===0;)this._eatBits(1),f=this._lookBits(12);f===1?(this._eatBits(12),b=!0):f===ccittEOF&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&b&&this.byteAlign){if(f=this._lookBits(12),f===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(u=0;u<4;++u)f=this._lookBits(12),f!==1&&info("bad rtc code: "+f),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(f=this._lookBits(13),f===ccittEOF)return this.eof=!0,-1;if(f>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(f&1))}this.outputBits=r[0]>0?r[this.codingPos=0]:r[this.codingPos=1],this.row++}let d;if(this.outputBits>=8)d=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&r[this.codingPos]<a&&(this.codingPos++,this.outputBits=r[this.codingPos]-r[this.codingPos-1]);else{l=8,d=0;do{if(typeof this.outputBits!="number")throw new FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>l?(d<<=l,this.codingPos&1||(d|=255>>8-l),this.outputBits-=l,l=0):(d<<=this.outputBits,this.codingPos&1||(d|=255>>8-this.outputBits),l-=this.outputBits,this.outputBits=0,r[this.codingPos]<a?(this.codingPos++,this.outputBits=r[this.codingPos]-r[this.codingPos-1]):l>0&&(d<<=l,l=0))}while(l)}return this.black&&(d^=255),d}_addPixels(t,r){const a=this.codingLine;let s=this.codingPos;t>a[s]&&(t>this.columns&&(info("row is wrong length"),this.err=!0,t=this.columns),s&1^r&&++s,a[s]=t),this.codingPos=s}_addPixelsNeg(t,r){const a=this.codingLine;let s=this.codingPos;if(t>a[s])t>this.columns&&(info("row is wrong length"),this.err=!0,t=this.columns),s&1^r&&++s,a[s]=t;else if(t<a[s]){for(t<0&&(info("invalid code"),this.err=!0,t=0);s>0&&t<a[s-1];)--s;a[s]=t}this.codingPos=s}_findTableCode(t,r,a,s){const o=s||0;for(let l=t;l<=r;++l){let u=this._lookBits(l);if(u===ccittEOF)return[!0,1,!1];if(l<r&&(u<<=r-l),!o||u>=o){const d=a[u-o];if(d[0]===l)return this._eatBits(l),[!0,d[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let t=0,r;if(this.eoblock){if(t=this._lookBits(7),r=twoDimTable[t],r?.[0]>0)return this._eatBits(r[0]),r[1]}else{const a=this._findTableCode(1,7,twoDimTable);if(a[0]&&a[2])return a[1]}return info("Bad two dim code"),ccittEOF}_getWhiteCode(){let t=0,r;if(this.eoblock){if(t=this._lookBits(12),t===ccittEOF)return 1;if(r=t>>5?whiteTable2[t>>3]:whiteTable1[t],r[0]>0)return this._eatBits(r[0]),r[1]}else{let a=this._findTableCode(1,9,whiteTable2);if(a[0]||(a=this._findTableCode(11,12,whiteTable1),a[0]))return a[1]}return info("bad white code"),this._eatBits(1),1}_getBlackCode(){let t,r;if(this.eoblock){if(t=this._lookBits(13),t===ccittEOF)return 1;if(t>>7?!(t>>9)&&t>>7?r=blackTable2[(t>>1)-64]:r=blackTable3[t>>7]:r=blackTable1[t],r[0]>0)return this._eatBits(r[0]),r[1]}else{let a=this._findTableCode(2,6,blackTable3);if(a[0]||(a=this._findTableCode(7,12,blackTable2,64),a[0])||(a=this._findTableCode(10,13,blackTable1),a[0]))return a[1]}return info("bad black code"),this._eatBits(1),1}_lookBits(t){let r;for(;this.inputBits<t;){if((r=this.source.next())===-1)return this.inputBits===0?ccittEOF:this.inputBuf<<t-this.inputBits&65535>>16-t;this.inputBuf=this.inputBuf<<8|r,this.inputBits+=8}return this.inputBuf>>this.inputBits-t&65535>>16-t}_eatBits(t){(this.inputBits-=t)<0&&(this.inputBits=0)}}class CCITTFaxStream extends DecodeStream$1{constructor(t,r,a){super(r),this.str=t,this.dict=t.dict,a instanceof Dict||(a=Dict.empty);const s={next(){return t.getByte()}};this.ccittFaxDecoder=new CCITTFaxDecoder(s,{K:a.get("K"),EndOfLine:a.get("EndOfLine"),EncodedByteAlign:a.get("EncodedByteAlign"),Columns:a.get("Columns"),Rows:a.get("Rows"),EndOfBlock:a.get("EndOfBlock"),BlackIs1:a.get("BlackIs1")})}readBlock(){for(;!this.eof;){const t=this.ccittFaxDecoder.readNextChar();if(t===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=t}}}const codeLenCodeMap$1=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode$1=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode$1=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab$1=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab$1=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];let FlateStream$1=class extends DecodeStream$1{constructor(t,r){super(r),this.str=t,this.dict=t.dict;const a=t.getByte(),s=t.getByte();if(a===-1||s===-1)throw new FormatError(`Invalid header in flate stream: ${a}, ${s}`);if((a&15)!==8)throw new FormatError(`Unknown compression method in flate stream: ${a}, ${s}`);if(((a<<8)+s)%31!==0)throw new FormatError(`Bad FCHECK in flate stream: ${a}, ${s}`);if(s&32)throw new FormatError(`FDICT bit set in flate stream: ${a}, ${s}`);this.codeSize=0,this.codeBuf=0}getBits(t){const r=this.str;let a=this.codeSize,s=this.codeBuf,o;for(;a<t;){if((o=r.getByte())===-1)throw new FormatError("Bad encoding in flate stream");s|=o<<a,a+=8}return o=s&(1<<t)-1,this.codeBuf=s>>t,this.codeSize=a-=t,o}getCode(t){const r=this.str,a=t[0],s=t[1];let o=this.codeSize,l=this.codeBuf,u;for(;o<s&&(u=r.getByte())!==-1;)l|=u<<o,o+=8;const d=a[l&(1<<s)-1],f=d>>16,g=d&65535;if(f<1||o<f)throw new FormatError("Bad encoding in flate stream");return this.codeBuf=l>>f,this.codeSize=o-f,g}generateHuffmanTable(t){const r=t.length;let a=0,s;for(s=0;s<r;++s)t[s]>a&&(a=t[s]);const o=1<<a,l=new Int32Array(o);for(let u=1,d=0,f=2;u<=a;++u,d<<=1,f<<=1)for(let g=0;g<r;++g)if(t[g]===u){let x=0,b=d;for(s=0;s<u;++s)x=x<<1|b&1,b>>=1;for(s=x;s<o;s+=f)l[s]=u<<16|g;++d}return[l,a]}readBlock(){let t,r;const a=this.str;let s=this.getBits(3);if(s&1&&(this.eof=!0),s>>=1,s===0){let f;if((f=a.getByte())===-1)throw new FormatError("Bad block header in flate stream");let g=f;if((f=a.getByte())===-1)throw new FormatError("Bad block header in flate stream");if(g|=f<<8,(f=a.getByte())===-1)throw new FormatError("Bad block header in flate stream");let x=f;if((f=a.getByte())===-1)throw new FormatError("Bad block header in flate stream");if(x|=f<<8,x!==(~g&65535)&&(g!==0||x!==0))throw new FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const b=this.bufferLength,m=b+g;if(t=this.ensureBuffer(m),this.bufferLength=m,g===0)a.peekByte()===-1&&(this.eof=!0);else{const y=a.getBytes(g);t.set(y,b),y.length<g&&(this.eof=!0)}return}let o,l;if(s===1)o=fixedLitCodeTab$1,l=fixedDistCodeTab$1;else if(s===2){const f=this.getBits(5)+257,g=this.getBits(5)+1,x=this.getBits(4)+4,b=new Uint8Array(codeLenCodeMap$1.length);let m;for(m=0;m<x;++m)b[codeLenCodeMap$1[m]]=this.getBits(3);const y=this.generateHuffmanTable(b);r=0,m=0;const v=f+g,w=new Uint8Array(v);let S,C,E;for(;m<v;){const T=this.getCode(y);if(T===16)S=2,C=3,E=r;else if(T===17)S=3,C=3,E=r=0;else if(T===18)S=7,C=11,E=r=0;else{w[m++]=r=T;continue}let _=this.getBits(S)+C;for(;_-- >0;)w[m++]=E}o=this.generateHuffmanTable(w.subarray(0,f)),l=this.generateHuffmanTable(w.subarray(f,v))}else throw new FormatError("Unknown block type in flate stream");t=this.buffer;let u=t?t.length:0,d=this.bufferLength;for(;;){let f=this.getCode(o);if(f<256){d+1>=u&&(t=this.ensureBuffer(d+1),u=t.length),t[d++]=f;continue}if(f===256){this.bufferLength=d;return}f-=257,f=lengthDecode$1[f];let g=f>>16;g>0&&(g=this.getBits(g)),r=(f&65535)+g,f=this.getCode(l),f=distDecode$1[f],g=f>>16,g>0&&(g=this.getBits(g));const x=(f&65535)+g;d+r>=u&&(t=this.ensureBuffer(d+r),u=t.length);for(let b=0;b<r;++b,++d)t[d]=t[d-x]}}};const QeTable=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class ArithmeticDecoder{constructor(t,r,a){this.data=t,this.bp=r,this.dataEnd=a,this.chigh=t[r],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const t=this.data;let r=this.bp;t[r]===255?t[r+1]>143?(this.clow+=65280,this.ct=8):(r++,this.clow+=t[r]<<9,this.ct=7,this.bp=r):(r++,this.clow+=r<this.dataEnd?t[r]<<8:65280,this.ct=8,this.bp=r),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(t,r){let a=t[r]>>1,s=t[r]&1;const o=QeTable[a],l=o.qe;let u,d=this.a-l;if(this.chigh<l)d<l?(d=l,u=s,a=o.nmps):(d=l,u=1^s,o.switchFlag===1&&(s=u),a=o.nlps);else{if(this.chigh-=l,d&32768)return this.a=d,s;d<l?(u=1^s,o.switchFlag===1&&(s=u),a=o.nlps):(u=s,a=o.nmps)}do this.ct===0&&this.byteIn(),d<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(d&32768));return this.a=d,t[r]=a<<1|s,u}}class Jbig2Error extends BaseException{constructor(t){super(`JBIG2 error: ${t}`,"Jbig2Error")}}class ContextCache{getContexts(t){return t in this?this[t]:this[t]=new Int8Array(65536)}}class DecodingContext{constructor(t,r,a){this.data=t,this.start=r,this.end=a}get decoder(){const t=new ArithmeticDecoder(this.data,this.start,this.end);return shadow(this,"decoder",t)}get contextCache(){const t=new ContextCache;return shadow(this,"contextCache",t)}}const MAX_INT_32=2**31-1,MIN_INT_32=-(2**31);function decodeInteger(n,t,r){const a=n.getContexts(t);let s=1;function o(f){let g=0;for(let x=0;x<f;x++){const b=r.readBit(a,s);s=s<256?s<<1|b:(s<<1|b)&511|256,g=g<<1|b}return g>>>0}const l=o(1),u=o(1)?o(1)?o(1)?o(1)?o(1)?o(32)+4436:o(12)+340:o(8)+84:o(6)+20:o(4)+4:o(2);let d;return l===0?d=u:u>0&&(d=-u),d>=MIN_INT_32&&d<=MAX_INT_32?d:null}function decodeIAID(n,t,r){const a=n.getContexts("IAID");let s=1;for(let o=0;o<r;o++){const l=t.readBit(a,s);s=s<<1|l}return r<31?s&(1<<r)-1:s&2147483647}const SegmentTypes=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],CodingTemplates=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],RefinementTemplates=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],ReusedContexts=[39717,1941,229,405],RefinementReusedContexts=[32,8];function decodeBitmapTemplate0(n,t,r){const a=r.decoder,s=r.contextCache.getContexts("GB"),o=[];let l,u,d,f,g,x,b;const m=31735;for(u=0;u<t;u++)for(g=o[u]=new Uint8Array(n),x=u<1?g:o[u-1],b=u<2?g:o[u-2],l=b[0]<<13|b[1]<<12|b[2]<<11|x[0]<<7|x[1]<<6|x[2]<<5|x[3]<<4,d=0;d<n;d++)g[d]=f=a.readBit(s,l),l=(l&m)<<1|(d+3<n?b[d+3]<<11:0)|(d+4<n?x[d+4]<<4:0)|f;return o}function decodeBitmap(n,t,r,a,s,o,l,u){if(n){const Te=new Reader(u.data,u.start,u.end);return decodeMMRBitmap(Te,t,r,!1)}if(a===0&&!o&&!s&&l.length===4&&l[0].x===3&&l[0].y===-1&&l[1].x===-3&&l[1].y===-1&&l[2].x===2&&l[2].y===-2&&l[3].x===-2&&l[3].y===-2)return decodeBitmapTemplate0(t,r,u);const d=!!o,f=CodingTemplates[a].concat(l);f.sort(function(Te,ge){return Te.y-ge.y||Te.x-ge.x});const g=f.length,x=new Int8Array(g),b=new Int8Array(g),m=[];let y=0,v=0,w=0,S=0,C,E;for(E=0;E<g;E++)x[E]=f[E].x,b[E]=f[E].y,v=Math.min(v,f[E].x),w=Math.max(w,f[E].x),S=Math.min(S,f[E].y),E<g-1&&f[E].y===f[E+1].y&&f[E].x===f[E+1].x-1?y|=1<<g-1-E:m.push(E);const T=m.length,_=new Int8Array(T),R=new Int8Array(T),U=new Uint16Array(T);for(C=0;C<T;C++)E=m[C],_[C]=f[E].x,R[C]=f[E].y,U[C]=1<<g-1-E;const z=-v,X=-S,W=t-w,Y=ReusedContexts[a];let se=new Uint8Array(t);const oe=[],ue=u.decoder,Z=u.contextCache.getContexts("GB");let te=0,he,xe,ye,Ae=0,we,pe;for(let Te=0;Te<r;Te++){if(s){const ge=ue.readBit(Z,Y);if(te^=ge,te){oe.push(se);continue}}for(se=new Uint8Array(se),oe.push(se),he=0;he<t;he++){if(d&&o[Te][he]){se[he]=0;continue}if(he>=z&&he<W&&Te>=X)for(Ae=Ae<<1&y,E=0;E<T;E++)xe=Te+R[E],ye=he+_[E],we=oe[xe][ye],we&&(we=U[E],Ae|=we);else for(Ae=0,pe=g-1,E=0;E<g;E++,pe--)ye=he+x[E],ye>=0&&ye<t&&(xe=Te+b[E],xe>=0&&(we=oe[xe][ye],we&&(Ae|=we<<pe)));const ge=ue.readBit(Z,Ae);se[he]=ge}}return oe}function decodeRefinement(n,t,r,a,s,o,l,u,d){let f=RefinementTemplates[r].coding;r===0&&(f=f.concat([u[0]]));const g=f.length,x=new Int32Array(g),b=new Int32Array(g);let m;for(m=0;m<g;m++)x[m]=f[m].x,b[m]=f[m].y;let y=RefinementTemplates[r].reference;r===0&&(y=y.concat([u[1]]));const v=y.length,w=new Int32Array(v),S=new Int32Array(v);for(m=0;m<v;m++)w[m]=y[m].x,S[m]=y[m].y;const C=a[0].length,E=a.length,T=RefinementReusedContexts[r],_=[],R=d.decoder,U=d.contextCache.getContexts("GR");let z=0;for(let X=0;X<t;X++){if(l){const Y=R.readBit(U,T);if(z^=Y,z)throw new Jbig2Error("prediction is not supported")}const W=new Uint8Array(n);_.push(W);for(let Y=0;Y<n;Y++){let se,oe,ue=0;for(m=0;m<g;m++)se=X+b[m],oe=Y+x[m],se<0||oe<0||oe>=n?ue<<=1:ue=ue<<1|_[se][oe];for(m=0;m<v;m++)se=X+S[m]-o,oe=Y+w[m]-s,se<0||se>=E||oe<0||oe>=C?ue<<=1:ue=ue<<1|a[se][oe];const Z=R.readBit(U,ue);W[Y]=Z}}return _}function decodeSymbolDictionary(n,t,r,a,s,o,l,u,d,f,g,x){if(n&&t)throw new Jbig2Error("symbol refinement with Huffman is not supported");const b=[];let m=0,y=log2(r.length+a);const v=g.decoder,w=g.contextCache;let S,C;for(n&&(S=getStandardTable(1),C=[],y=Math.max(y,1));b.length<a;){const X=n?o.tableDeltaHeight.decode(x):decodeInteger(w,"IADH",v);m+=X;let W=0,Y=0;const se=n?C.length:0;for(;;){const oe=n?o.tableDeltaWidth.decode(x):decodeInteger(w,"IADW",v);if(oe===null)break;W+=oe,Y+=W;let ue;if(t){const Z=decodeInteger(w,"IAAI",v);if(Z>1)ue=decodeTextRegion(n,t,W,m,0,Z,1,r.concat(b),y,0,0,1,0,o,d,f,g,0,x);else{const te=decodeIAID(w,v,y),he=decodeInteger(w,"IARDX",v),xe=decodeInteger(w,"IARDY",v),ye=te<r.length?r[te]:b[te-r.length];ue=decodeRefinement(W,m,d,ye,he,xe,!1,f,g)}b.push(ue)}else n?C.push(W):(ue=decodeBitmap(!1,W,m,l,!1,null,u,g),b.push(ue))}if(n&&!t){const oe=o.tableBitmapSize.decode(x);x.byteAlign();let ue;if(oe===0)ue=readUncompressedBitmap(x,Y,m);else{const te=x.end,he=x.position+oe;x.end=he,ue=decodeMMRBitmap(x,Y,m,!1),x.end=te,x.position=he}const Z=C.length;if(se===Z-1)b.push(ue);else{let te,he,xe=0,ye,Ae,we;for(te=se;te<Z;te++){for(Ae=C[te],ye=xe+Ae,we=[],he=0;he<m;he++)we.push(ue[he].subarray(xe,ye));b.push(we),xe=ye}}}}const E=[],T=[];let _=!1,R,U;const z=r.length+a;for(;T.length<z;){let X=n?S.decode(x):decodeInteger(w,"IAEX",v);for(;X--;)T.push(_);_=!_}for(R=0,U=r.length;R<U;R++)T[R]&&E.push(r[R]);for(let X=0;X<a;R++,X++)T[R]&&E.push(b[X]);return E}function decodeTextRegion(n,t,r,a,s,o,l,u,d,f,g,x,b,m,y,v,w,S,C){if(n&&t)throw new Jbig2Error("refinement with Huffman is not supported");const E=[];let T,_;for(T=0;T<a;T++){if(_=new Uint8Array(r),s)for(let W=0;W<r;W++)_[W]=s;E.push(_)}const R=w.decoder,U=w.contextCache;let z=n?-m.tableDeltaT.decode(C):-decodeInteger(U,"IADT",R),X=0;for(T=0;T<o;){const W=n?m.tableDeltaT.decode(C):decodeInteger(U,"IADT",R);z+=W;const Y=n?m.tableFirstS.decode(C):decodeInteger(U,"IAFS",R);X+=Y;let se=X;do{let oe=0;l>1&&(oe=n?C.readBits(S):decodeInteger(U,"IAIT",R));const ue=l*z+oe,Z=n?m.symbolIDTable.decode(C):decodeIAID(U,R,d),te=t&&(n?C.readBit():decodeInteger(U,"IARI",R));let he=u[Z],xe=he[0].length,ye=he.length;if(te){const ce=decodeInteger(U,"IARDW",R),M=decodeInteger(U,"IARDH",R),j=decodeInteger(U,"IARDX",R),k=decodeInteger(U,"IARDY",R);xe+=ce,ye+=M,he=decodeRefinement(xe,ye,y,he,(ce>>1)+j,(M>>1)+k,!1,v,w)}const Ae=ue-(x&1?0:ye-1),we=se-(x&2?xe-1:0);let pe,Te,ge;if(f){for(pe=0;pe<ye;pe++){if(_=E[we+pe],!_)continue;ge=he[pe];const ce=Math.min(r-Ae,xe);switch(b){case 0:for(Te=0;Te<ce;Te++)_[Ae+Te]|=ge[Te];break;case 2:for(Te=0;Te<ce;Te++)_[Ae+Te]^=ge[Te];break;default:throw new Jbig2Error(`operator ${b} is not supported`)}}se+=ye-1}else{for(Te=0;Te<ye;Te++)if(_=E[Ae+Te],!!_)switch(ge=he[Te],b){case 0:for(pe=0;pe<xe;pe++)_[we+pe]|=ge[pe];break;case 2:for(pe=0;pe<xe;pe++)_[we+pe]^=ge[pe];break;default:throw new Jbig2Error(`operator ${b} is not supported`)}se+=xe-1}T++;const de=n?m.tableDeltaS.decode(C):decodeInteger(U,"IADS",R);if(de===null)break;se+=de+g}while(!0)}return E}function decodePatternDictionary(n,t,r,a,s,o){const l=[];n||(l.push({x:-t,y:0}),s===0&&l.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const u=(a+1)*t,d=decodeBitmap(n,u,r,s,!1,null,l,o),f=[];for(let g=0;g<=a;g++){const x=[],b=t*g,m=b+t;for(let y=0;y<r;y++)x.push(d[y].subarray(b,m));f.push(x)}return f}function decodeHalftoneRegion(n,t,r,a,s,o,l,u,d,f,g,x,b,m,y){if(l)throw new Jbig2Error("skip is not supported");if(u!==0)throw new Jbig2Error(`operator "${u}" is not supported in halftone region`);const w=[];let S,C,E;for(S=0;S<s;S++){if(E=new Uint8Array(a),o)for(C=0;C<a;C++)E[C]=o;w.push(E)}const T=t.length,_=t[0],R=_[0].length,U=_.length,z=log2(T),X=[];n||(X.push({x:r<=1?3:2,y:-1}),r===0&&X.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const W=[];let Y,se;for(n&&(Y=new Reader(y.data,y.start,y.end)),S=z-1;S>=0;S--)n?se=decodeMMRBitmap(Y,d,f,!0):se=decodeBitmap(!1,d,f,r,!1,null,X,y),W[S]=se;let oe,ue,Z,te,he,xe,ye,Ae,we;for(oe=0;oe<f;oe++)for(ue=0;ue<d;ue++){for(Z=0,te=0,C=z-1;C>=0;C--)Z^=W[C][oe][ue],te|=Z<<C;if(he=t[te],xe=g+oe*m+ue*b>>8,ye=x+oe*b-ue*m>>8,xe>=0&&xe+R<=a&&ye>=0&&ye+U<=s)for(S=0;S<U;S++)for(we=w[ye+S],Ae=he[S],C=0;C<R;C++)we[xe+C]|=Ae[C];else{let pe,Te;for(S=0;S<U;S++)if(Te=ye+S,!(Te<0||Te>=s))for(we=w[Te],Ae=he[S],C=0;C<R;C++)pe=xe+C,pe>=0&&pe<a&&(we[pe]|=Ae[C])}}return w}function readSegmentHeader(n,t){const r={};r.number=readUint32(n,t);const a=n[t+4],s=a&63;if(!SegmentTypes[s])throw new Jbig2Error("invalid segment type: "+s);r.type=s,r.typeName=SegmentTypes[s],r.deferredNonRetain=!!(a&128);const o=!!(a&64),l=n[t+5];let u=l>>5&7;const d=[l&31];let f=t+6;if(l===7){u=readUint32(n,f-1)&536870911,f+=3;let y=u+7>>3;for(d[0]=n[f++];--y>0;)d.push(n[f++])}else if(l===5||l===6)throw new Jbig2Error("invalid referred-to flags");r.retainBits=d;let g=4;r.number<=256?g=1:r.number<=65536&&(g=2);const x=[];let b,m;for(b=0;b<u;b++){let y;g===1?y=n[f]:g===2?y=readUint16(n,f):y=readUint32(n,f),x.push(y),f+=g}if(r.referredTo=x,o?(r.pageAssociation=readUint32(n,f),f+=4):r.pageAssociation=n[f++],r.length=readUint32(n,f),f+=4,r.length===4294967295)if(s===38){const y=readRegionSegmentInformation(n,f),w=!!(n[f+RegionSegmentInformationFieldLength]&1),S=6,C=new Uint8Array(S);for(w||(C[0]=255,C[1]=172),C[2]=y.height>>>24&255,C[3]=y.height>>16&255,C[4]=y.height>>8&255,C[5]=y.height&255,b=f,m=n.length;b<m;b++){let E=0;for(;E<S&&C[E]===n[b+E];)E++;if(E===S){r.length=b+S;break}}if(r.length===4294967295)throw new Jbig2Error("segment end was not found")}else throw new Jbig2Error("invalid unknown segment length");return r.headerEnd=f,r}function readSegments(n,t,r,a){const s=[];let o=r;for(;o<a;){const l=readSegmentHeader(t,o);o=l.headerEnd;const u={header:l,data:t};if(n.randomAccess||(u.start=o,o+=l.length,u.end=o),s.push(u),l.type===51)break}if(n.randomAccess)for(let l=0,u=s.length;l<u;l++)s[l].start=o,o+=s[l].header.length,s[l].end=o;return s}function readRegionSegmentInformation(n,t){return{width:readUint32(n,t),height:readUint32(n,t+4),x:readUint32(n,t+8),y:readUint32(n,t+12),combinationOperator:n[t+16]&7}}const RegionSegmentInformationFieldLength=17;function processSegment(n,t){const r=n.header,a=n.data,s=n.end;let o=n.start,l,u,d,f;switch(r.type){case 0:const x={},b=readUint16(a,o);if(x.huffman=!!(b&1),x.refinement=!!(b&2),x.huffmanDHSelector=b>>2&3,x.huffmanDWSelector=b>>4&3,x.bitmapSizeSelector=b>>6&1,x.aggregationInstancesSelector=b>>7&1,x.bitmapCodingContextUsed=!!(b&256),x.bitmapCodingContextRetained=!!(b&512),x.template=b>>10&3,x.refinementTemplate=b>>12&1,o+=2,!x.huffman){for(f=x.template===0?4:1,u=[],d=0;d<f;d++)u.push({x:readInt8(a,o),y:readInt8(a,o+1)}),o+=2;x.at=u}if(x.refinement&&!x.refinementTemplate){for(u=[],d=0;d<2;d++)u.push({x:readInt8(a,o),y:readInt8(a,o+1)}),o+=2;x.refinementAt=u}x.numberOfExportedSymbols=readUint32(a,o),o+=4,x.numberOfNewSymbols=readUint32(a,o),o+=4,l=[x,r.number,r.referredTo,a,o,s];break;case 6:case 7:const m={};m.info=readRegionSegmentInformation(a,o),o+=RegionSegmentInformationFieldLength;const y=readUint16(a,o);if(o+=2,m.huffman=!!(y&1),m.refinement=!!(y&2),m.logStripSize=y>>2&3,m.stripSize=1<<m.logStripSize,m.referenceCorner=y>>4&3,m.transposed=!!(y&64),m.combinationOperator=y>>7&3,m.defaultPixelValue=y>>9&1,m.dsOffset=y<<17>>27,m.refinementTemplate=y>>15&1,m.huffman){const U=readUint16(a,o);o+=2,m.huffmanFS=U&3,m.huffmanDS=U>>2&3,m.huffmanDT=U>>4&3,m.huffmanRefinementDW=U>>6&3,m.huffmanRefinementDH=U>>8&3,m.huffmanRefinementDX=U>>10&3,m.huffmanRefinementDY=U>>12&3,m.huffmanRefinementSizeSelector=!!(U&16384)}if(m.refinement&&!m.refinementTemplate){for(u=[],d=0;d<2;d++)u.push({x:readInt8(a,o),y:readInt8(a,o+1)}),o+=2;m.refinementAt=u}m.numberOfSymbolInstances=readUint32(a,o),o+=4,l=[m,r.referredTo,a,o,s];break;case 16:const v={},w=a[o++];v.mmr=!!(w&1),v.template=w>>1&3,v.patternWidth=a[o++],v.patternHeight=a[o++],v.maxPatternIndex=readUint32(a,o),o+=4,l=[v,r.number,a,o,s];break;case 22:case 23:const S={};S.info=readRegionSegmentInformation(a,o),o+=RegionSegmentInformationFieldLength;const C=a[o++];S.mmr=!!(C&1),S.template=C>>1&3,S.enableSkip=!!(C&8),S.combinationOperator=C>>4&7,S.defaultPixelValue=C>>7&1,S.gridWidth=readUint32(a,o),o+=4,S.gridHeight=readUint32(a,o),o+=4,S.gridOffsetX=readUint32(a,o)&4294967295,o+=4,S.gridOffsetY=readUint32(a,o)&4294967295,o+=4,S.gridVectorX=readUint16(a,o),o+=2,S.gridVectorY=readUint16(a,o),o+=2,l=[S,r.referredTo,a,o,s];break;case 38:case 39:const E={};E.info=readRegionSegmentInformation(a,o),o+=RegionSegmentInformationFieldLength;const T=a[o++];if(E.mmr=!!(T&1),E.template=T>>1&3,E.prediction=!!(T&8),!E.mmr){for(f=E.template===0?4:1,u=[],d=0;d<f;d++)u.push({x:readInt8(a,o),y:readInt8(a,o+1)}),o+=2;E.at=u}l=[E,a,o,s];break;case 48:const _={width:readUint32(a,o),height:readUint32(a,o+4),resolutionX:readUint32(a,o+8),resolutionY:readUint32(a,o+12)};_.height===4294967295&&delete _.height;const R=a[o+16];readUint16(a,o+17),_.lossless=!!(R&1),_.refinement=!!(R&2),_.defaultPixelValue=R>>2&1,_.combinationOperator=R>>3&3,_.requiresBuffer=!!(R&32),_.combinationOperatorOverride=!!(R&64),l=[_];break;case 49:break;case 50:break;case 51:break;case 53:l=[r.number,a,o,s];break;case 62:break;default:throw new Jbig2Error(`segment type ${r.typeName}(${r.type}) is not implemented`)}const g="on"+r.typeName;g in t&&t[g].apply(t,l)}function processSegments(n,t){for(let r=0,a=n.length;r<a;r++)processSegment(n[r],t)}function parseJbig2Chunks(n){const t=new SimpleSegmentVisitor;for(let r=0,a=n.length;r<a;r++){const s=n[r],o=readSegments({},s.data,s.start,s.end);processSegments(o,t)}return t.buffer}class SimpleSegmentVisitor{onPageInformation(t){this.currentPageInfo=t;const r=t.width+7>>3,a=new Uint8ClampedArray(r*t.height);t.defaultPixelValue&&a.fill(255),this.buffer=a}drawBitmap(t,r){const a=this.currentPageInfo,s=t.width,o=t.height,l=a.width+7>>3,u=a.combinationOperatorOverride?t.combinationOperator:a.combinationOperator,d=this.buffer,f=128>>(t.x&7);let g=t.y*l+(t.x>>3),x,b,m,y;switch(u){case 0:for(x=0;x<o;x++){for(m=f,y=g,b=0;b<s;b++)r[x][b]&&(d[y]|=m),m>>=1,m||(m=128,y++);g+=l}break;case 2:for(x=0;x<o;x++){for(m=f,y=g,b=0;b<s;b++)r[x][b]&&(d[y]^=m),m>>=1,m||(m=128,y++);g+=l}break;default:throw new Jbig2Error(`operator ${u} is not supported`)}}onImmediateGenericRegion(t,r,a,s){const o=t.info,l=new DecodingContext(r,a,s),u=decodeBitmap(t.mmr,o.width,o.height,t.template,t.prediction,null,t.at,l);this.drawBitmap(o,u)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(t,r,a,s,o,l){let u,d;t.huffman&&(u=getSymbolDictionaryHuffmanTables(t,a,this.customTables),d=new Reader(s,o,l));let f=this.symbols;f||(this.symbols=f={});const g=[];for(const b of a){const m=f[b];m&&g.push(...m)}const x=new DecodingContext(s,o,l);f[r]=decodeSymbolDictionary(t.huffman,t.refinement,g,t.numberOfNewSymbols,t.numberOfExportedSymbols,u,t.template,t.at,t.refinementTemplate,t.refinementAt,x,d)}onImmediateTextRegion(t,r,a,s,o){const l=t.info;let u,d;const f=this.symbols,g=[];for(const y of r){const v=f[y];v&&g.push(...v)}const x=log2(g.length);t.huffman&&(d=new Reader(a,s,o),u=getTextRegionHuffmanTables(t,r,this.customTables,g.length,d));const b=new DecodingContext(a,s,o),m=decodeTextRegion(t.huffman,t.refinement,l.width,l.height,t.defaultPixelValue,t.numberOfSymbolInstances,t.stripSize,g,x,t.transposed,t.dsOffset,t.referenceCorner,t.combinationOperator,u,t.refinementTemplate,t.refinementAt,b,t.logStripSize,d);this.drawBitmap(l,m)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(t,r,a,s,o){let l=this.patterns;l||(this.patterns=l={});const u=new DecodingContext(a,s,o);l[r]=decodePatternDictionary(t.mmr,t.patternWidth,t.patternHeight,t.maxPatternIndex,t.template,u)}onImmediateHalftoneRegion(t,r,a,s,o){const l=this.patterns[r[0]],u=t.info,d=new DecodingContext(a,s,o),f=decodeHalftoneRegion(t.mmr,l,t.template,u.width,u.height,t.defaultPixelValue,t.enableSkip,t.combinationOperator,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridVectorX,t.gridVectorY,d);this.drawBitmap(u,f)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(t,r,a,s){let o=this.customTables;o||(this.customTables=o={}),o[t]=decodeTablesSegment(r,a,s)}}class HuffmanLine{constructor(t){t.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange=t[4]==="lower")}}class HuffmanTreeNode{constructor(t){this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}buildTree(t,r){const a=t.prefixCode>>r&1;if(r<=0)this.children[a]=new HuffmanTreeNode(t);else{let s=this.children[a];s||(this.children[a]=s=new HuffmanTreeNode(null)),s.buildTree(t,r-1)}}decodeNode(t){if(this.isLeaf){if(this.isOOB)return null;const a=t.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-a:a)}const r=this.children[t.readBit()];if(!r)throw new Jbig2Error("invalid Huffman data");return r.decodeNode(t)}}class HuffmanTable{constructor(t,r){r||this.assignPrefixCodes(t),this.rootNode=new HuffmanTreeNode(null);for(let a=0,s=t.length;a<s;a++){const o=t[a];o.prefixLength>0&&this.rootNode.buildTree(o,o.prefixLength-1)}}decode(t){return this.rootNode.decodeNode(t)}assignPrefixCodes(t){const r=t.length;let a=0;for(let g=0;g<r;g++)a=Math.max(a,t[g].prefixLength);const s=new Uint32Array(a+1);for(let g=0;g<r;g++)s[t[g].prefixLength]++;let o=1,l=0,u,d,f;for(s[0]=0;o<=a;){for(l=l+s[o-1]<<1,u=l,d=0;d<r;)f=t[d],f.prefixLength===o&&(f.prefixCode=u,u++),d++;o++}}}function decodeTablesSegment(n,t,r){const a=n[t],s=readUint32(n,t+1)&4294967295,o=readUint32(n,t+5)&4294967295,l=new Reader(n,t+9,r),u=(a>>1&7)+1,d=(a>>4&7)+1,f=[];let g,x,b=s;do g=l.readBits(u),x=l.readBits(d),f.push(new HuffmanLine([b,g,x,0])),b+=1<<x;while(b<o);return g=l.readBits(u),f.push(new HuffmanLine([s-1,g,32,0,"lower"])),g=l.readBits(u),f.push(new HuffmanLine([o,g,32,0])),a&1&&(g=l.readBits(u),f.push(new HuffmanLine([g,0]))),new HuffmanTable(f,!1)}const standardTablesCache={};function getStandardTable(n){let t=standardTablesCache[n];if(t)return t;let r;switch(n){case 1:r=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:r=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:r=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:r=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:r=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:r=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:r=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:r=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:r=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:r=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:r=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:r=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:r=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:r=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:r=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new Jbig2Error(`standard table B.${n} does not exist`)}for(let a=0,s=r.length;a<s;a++)r[a]=new HuffmanLine(r[a]);return t=new HuffmanTable(r,!0),standardTablesCache[n]=t,t}class Reader{constructor(t,r,a){this.data=t,this.start=r,this.end=a,this.position=r,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new Jbig2Error("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const t=this.currentByte>>this.shift&1;return this.shift--,t}readBits(t){let r=0,a;for(a=t-1;a>=0;a--)r|=this.readBit()<<a;return r}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function getCustomHuffmanTable(n,t,r){let a=0;for(let s=0,o=t.length;s<o;s++){const l=r[t[s]];if(l){if(n===a)return l;a++}}throw new Jbig2Error("can't find custom Huffman table")}function getTextRegionHuffmanTables(n,t,r,a,s){const o=[];for(let b=0;b<=34;b++){const m=s.readBits(4);o.push(new HuffmanLine([b,m,0,0]))}const l=new HuffmanTable(o,!1);o.length=0;for(let b=0;b<a;){const m=l.decode(s);if(m>=32){let y,v,w;switch(m){case 32:if(b===0)throw new Jbig2Error("no previous value in symbol ID table");v=s.readBits(2)+3,y=o[b-1].prefixLength;break;case 33:v=s.readBits(3)+3,y=0;break;case 34:v=s.readBits(7)+11,y=0;break;default:throw new Jbig2Error("invalid code length in symbol ID table")}for(w=0;w<v;w++)o.push(new HuffmanLine([b,y,0,0])),b++}else o.push(new HuffmanLine([b,m,0,0])),b++}s.byteAlign();const u=new HuffmanTable(o,!1);let d=0,f,g,x;switch(n.huffmanFS){case 0:case 1:f=getStandardTable(n.huffmanFS+6);break;case 3:f=getCustomHuffmanTable(d,t,r),d++;break;default:throw new Jbig2Error("invalid Huffman FS selector")}switch(n.huffmanDS){case 0:case 1:case 2:g=getStandardTable(n.huffmanDS+8);break;case 3:g=getCustomHuffmanTable(d,t,r),d++;break;default:throw new Jbig2Error("invalid Huffman DS selector")}switch(n.huffmanDT){case 0:case 1:case 2:x=getStandardTable(n.huffmanDT+11);break;case 3:x=getCustomHuffmanTable(d,t,r),d++;break;default:throw new Jbig2Error("invalid Huffman DT selector")}if(n.refinement)throw new Jbig2Error("refinement with Huffman is not supported");return{symbolIDTable:u,tableFirstS:f,tableDeltaS:g,tableDeltaT:x}}function getSymbolDictionaryHuffmanTables(n,t,r){let a=0,s,o;switch(n.huffmanDHSelector){case 0:case 1:s=getStandardTable(n.huffmanDHSelector+4);break;case 3:s=getCustomHuffmanTable(a,t,r),a++;break;default:throw new Jbig2Error("invalid Huffman DH selector")}switch(n.huffmanDWSelector){case 0:case 1:o=getStandardTable(n.huffmanDWSelector+2);break;case 3:o=getCustomHuffmanTable(a,t,r),a++;break;default:throw new Jbig2Error("invalid Huffman DW selector")}let l,u;return n.bitmapSizeSelector?(l=getCustomHuffmanTable(a,t,r),a++):l=getStandardTable(1),n.aggregationInstancesSelector?u=getCustomHuffmanTable(a,t,r):u=getStandardTable(1),{tableDeltaHeight:s,tableDeltaWidth:o,tableBitmapSize:l,tableAggregateInstances:u}}function readUncompressedBitmap(n,t,r){const a=[];for(let s=0;s<r;s++){const o=new Uint8Array(t);a.push(o);for(let l=0;l<t;l++)o[l]=n.readBit();n.byteAlign()}return a}function decodeMMRBitmap(n,t,r,a){const s={K:-1,Columns:t,Rows:r,BlackIs1:!0,EndOfBlock:a},o=new CCITTFaxDecoder(n,s),l=[];let u,d=!1;for(let f=0;f<r;f++){const g=new Uint8Array(t);l.push(g);let x=-1;for(let b=0;b<t;b++)x<0&&(u=o.readNextChar(),u===-1&&(u=0,d=!0),x=7),g[b]=u>>x&1,x--}if(a&&!d)for(let g=0;g<5&&o.readNextChar()!==-1;g++);return l}class Jbig2Image{parseChunks(t){return parseJbig2Chunks(t)}parse(t){throw new Error("Not implemented: Jbig2Image.parse")}}class Jbig2Stream extends DecodeStream$1{constructor(t,r,a){super(r),this.stream=t,this.dict=t.dict,this.maybeLength=r,this.params=a}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t=new Jbig2Image,r=[];if(this.params instanceof Dict){const o=this.params.get("JBIG2Globals");if(o instanceof BaseStream){const l=o.getBytes();r.push({data:l,start:0,end:l.length})}}r.push({data:this.bytes,start:0,end:this.bytes.length});const a=t.parseChunks(r),s=a.length;for(let o=0;o<s;o++)a[o]^=255;this.buffer=a,this.bufferLength=s,this.eof=!0}}function convertToRGBA(n){switch(n.kind){case ImageKind.GRAYSCALE_1BPP:return convertBlackAndWhiteToRGBA(n);case ImageKind.RGB_24BPP:return convertRGBToRGBA(n)}return null}function convertBlackAndWhiteToRGBA({src:n,srcPos:t=0,dest:r,width:a,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=FeatureTest.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],g=a>>3,x=a&7,b=n.length;r=new Uint32Array(r.buffer);let m=0;for(let y=0;y<s;y++){for(const w=t+g;t<w;t++){const S=t<b?n[t]:255;r[m++]=S&128?f:d,r[m++]=S&64?f:d,r[m++]=S&32?f:d,r[m++]=S&16?f:d,r[m++]=S&8?f:d,r[m++]=S&4?f:d,r[m++]=S&2?f:d,r[m++]=S&1?f:d}if(x===0)continue;const v=t<b?n[t++]:255;for(let w=0;w<x;w++)r[m++]=v&1<<7-w?f:d}return{srcPos:t,destPos:m}}function convertRGBToRGBA({src:n,srcPos:t=0,dest:r,destPos:a=0,width:s,height:o}){let l=0;const u=n.length>>2,d=new Uint32Array(n.buffer,t,u);if(FeatureTest.isLittleEndian){for(;l<u-2;l+=3,a+=4){const f=d[l],g=d[l+1],x=d[l+2];r[a]=f|4278190080,r[a+1]=f>>>24|g<<8|4278190080,r[a+2]=g>>>16|x<<16|4278190080,r[a+3]=x>>>8|4278190080}for(let f=l*4,g=n.length;f<g;f+=3)r[a++]=n[f]|n[f+1]<<8|n[f+2]<<16|4278190080}else{for(;l<u-2;l+=3,a+=4){const f=d[l],g=d[l+1],x=d[l+2];r[a]=f|255,r[a+1]=f<<24|g>>>8|255,r[a+2]=g<<16|x>>>16|255,r[a+3]=x<<8|255}for(let f=l*4,g=n.length;f<g;f+=3)r[a++]=n[f]<<24|n[f+1]<<16|n[f+2]<<8|255}return{srcPos:t,destPos:a}}function grayToRGBA(n,t){if(FeatureTest.isLittleEndian)for(let r=0,a=n.length;r<a;r++)t[r]=n[r]*65793|4278190080;else for(let r=0,a=n.length;r<a;r++)t[r]=n[r]*16843008|255}class JpegError extends BaseException{constructor(t){super(`JPEG error: ${t}`,"JpegError")}}class DNLMarkerError extends BaseException{constructor(t,r){super(t,"DNLMarkerError"),this.scanLines=r}}class EOIMarkerError extends BaseException{constructor(t){super(t,"EOIMarkerError")}}const dctZigZag=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dctCos1=4017,dctSin1=799,dctCos3=3406,dctSin3=2276,dctCos6=1567,dctSin6=3784,dctSqrt2=5793,dctSqrt1d2=2896;function buildHuffmanTable(n,t){let r=0,a,s,o=16;for(;o>0&&!n[o-1];)o--;const l=[{children:[],index:0}];let u=l[0],d;for(a=0;a<o;a++){for(s=0;s<n[a];s++){for(u=l.pop(),u.children[u.index]=t[r];u.index>0;)u=l.pop();for(u.index++,l.push(u);l.length<=a;)l.push(d={children:[],index:0}),u.children[u.index]=d.children,u=d;r++}a+1<o&&(l.push(d={children:[],index:0}),u.children[u.index]=d.children,u=d)}return l[0].children}function getBlockBufferOffset(n,t,r){return 64*((n.blocksPerLine+1)*t+r)}function decodeScan(n,t,r,a,s,o,l,u,d,f=!1){const g=r.mcusPerLine,x=r.progressive,b=t;let m=0,y=0;function v(){if(y>0)return y--,m>>y&1;if(m=n[t++],m===255){const ce=n[t++];if(ce){if(ce===220&&f){t+=2;const M=readUint16(n,t);if(t+=2,M>0&&M!==r.scanLines)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",M)}else if(ce===217){if(f){const M=Y*(r.precision===8?8:0);if(M>0&&Math.round(r.scanLines/M)>=5)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",M)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new JpegError(`unexpected marker ${(m<<8|ce).toString(16)}`)}}return y=7,m>>>7}function w(ce){let M=ce;for(;;){switch(M=M[v()],typeof M){case"number":return M;case"object":continue}throw new JpegError("invalid huffman sequence")}}function S(ce){let M=0;for(;ce>0;)M=M<<1|v(),ce--;return M}function C(ce){if(ce===1)return v()===1?1:-1;const M=S(ce);return M>=1<<ce-1?M:M+(-1<<ce)+1}function E(ce,M){const j=w(ce.huffmanTableDC),k=j===0?0:C(j);ce.blockData[M]=ce.pred+=k;let F=1;for(;F<64;){const O=w(ce.huffmanTableAC),D=O&15,N=O>>4;if(D===0){if(N<15)break;F+=16;continue}F+=N;const H=dctZigZag[F];ce.blockData[M+H]=C(D),F++}}function T(ce,M){const j=w(ce.huffmanTableDC),k=j===0?0:C(j)<<d;ce.blockData[M]=ce.pred+=k}function _(ce,M){ce.blockData[M]|=v()<<d}let R=0;function U(ce,M){if(R>0){R--;return}let j=o;const k=l;for(;j<=k;){const F=w(ce.huffmanTableAC),O=F&15,D=F>>4;if(O===0){if(D<15){R=S(D)+(1<<D)-1;break}j+=16;continue}j+=D;const N=dctZigZag[j];ce.blockData[M+N]=C(O)*(1<<d),j++}}let z=0,X;function W(ce,M){let j=o;const k=l;let F=0,O,D;for(;j<=k;){const N=M+dctZigZag[j],H=ce.blockData[N]<0?-1:1;switch(z){case 0:if(D=w(ce.huffmanTableAC),O=D&15,F=D>>4,O===0)F<15?(R=S(F)+(1<<F),z=4):(F=16,z=1);else{if(O!==1)throw new JpegError("invalid ACn encoding");X=C(O),z=F?2:3}continue;case 1:case 2:ce.blockData[N]?ce.blockData[N]+=H*(v()<<d):(F--,F===0&&(z=z===2?3:0));break;case 3:ce.blockData[N]?ce.blockData[N]+=H*(v()<<d):(ce.blockData[N]=X<<d,z=0);break;case 4:ce.blockData[N]&&(ce.blockData[N]+=H*(v()<<d));break}j++}z===4&&(R--,R===0&&(z=0))}let Y=0;function se(ce,M,j,k,F){const O=j/g|0,D=j%g;Y=O*ce.v+k;const N=D*ce.h+F,H=getBlockBufferOffset(ce,Y,N);M(ce,H)}function oe(ce,M,j){Y=j/ce.blocksPerLine|0;const k=j%ce.blocksPerLine,F=getBlockBufferOffset(ce,Y,k);M(ce,F)}const ue=a.length;let Z,te,he,xe,ye,Ae;x?o===0?Ae=u===0?T:_:Ae=u===0?U:W:Ae=E;let we=0,pe;const Te=ue===1?a[0].blocksPerLine*a[0].blocksPerColumn:g*r.mcusPerColumn;let ge,de;for(;we<=Te;){const ce=s?Math.min(Te-we,s):Te;if(ce>0){for(te=0;te<ue;te++)a[te].pred=0;if(R=0,ue===1)for(Z=a[0],ye=0;ye<ce;ye++)oe(Z,Ae,we),we++;else for(ye=0;ye<ce;ye++){for(te=0;te<ue;te++)for(Z=a[te],ge=Z.h,de=Z.v,he=0;he<de;he++)for(xe=0;xe<ge;xe++)se(Z,Ae,we,he,xe);we++}}if(y=0,pe=findNextFileMarker(n,t),!pe)break;if(pe.invalid){const M=ce>0?"unexpected":"excessive";warn(`decodeScan - ${M} MCU data, current marker is: ${pe.invalid}`),t=pe.offset}if(pe.marker>=65488&&pe.marker<=65495)t+=2;else break}return t-b}function quantizeAndInverse(n,t,r){const a=n.quantizationTable,s=n.blockData;let o,l,u,d,f,g,x,b,m,y,v,w,S,C,E,T,_;if(!a)throw new JpegError("missing required Quantization Table.");for(let R=0;R<64;R+=8){if(m=s[t+R],y=s[t+R+1],v=s[t+R+2],w=s[t+R+3],S=s[t+R+4],C=s[t+R+5],E=s[t+R+6],T=s[t+R+7],m*=a[R],!(y|v|w|S|C|E|T)){_=dctSqrt2*m+512>>10,r[R]=_,r[R+1]=_,r[R+2]=_,r[R+3]=_,r[R+4]=_,r[R+5]=_,r[R+6]=_,r[R+7]=_;continue}y*=a[R+1],v*=a[R+2],w*=a[R+3],S*=a[R+4],C*=a[R+5],E*=a[R+6],T*=a[R+7],o=dctSqrt2*m+128>>8,l=dctSqrt2*S+128>>8,u=v,d=E,f=dctSqrt1d2*(y-T)+128>>8,b=dctSqrt1d2*(y+T)+128>>8,g=w<<4,x=C<<4,o=o+l+1>>1,l=o-l,_=u*dctSin6+d*dctCos6+128>>8,u=u*dctCos6-d*dctSin6+128>>8,d=_,f=f+x+1>>1,x=f-x,b=b+g+1>>1,g=b-g,o=o+d+1>>1,d=o-d,l=l+u+1>>1,u=l-u,_=f*dctSin3+b*dctCos3+2048>>12,f=f*dctCos3-b*dctSin3+2048>>12,b=_,_=g*dctSin1+x*dctCos1+2048>>12,g=g*dctCos1-x*dctSin1+2048>>12,x=_,r[R]=o+b,r[R+7]=o-b,r[R+1]=l+x,r[R+6]=l-x,r[R+2]=u+g,r[R+5]=u-g,r[R+3]=d+f,r[R+4]=d-f}for(let R=0;R<8;++R){if(m=r[R],y=r[R+8],v=r[R+16],w=r[R+24],S=r[R+32],C=r[R+40],E=r[R+48],T=r[R+56],!(y|v|w|S|C|E|T)){_=dctSqrt2*m+8192>>14,_<-2040?_=0:_>=2024?_=255:_=_+2056>>4,s[t+R]=_,s[t+R+8]=_,s[t+R+16]=_,s[t+R+24]=_,s[t+R+32]=_,s[t+R+40]=_,s[t+R+48]=_,s[t+R+56]=_;continue}o=dctSqrt2*m+2048>>12,l=dctSqrt2*S+2048>>12,u=v,d=E,f=dctSqrt1d2*(y-T)+2048>>12,b=dctSqrt1d2*(y+T)+2048>>12,g=w,x=C,o=(o+l+1>>1)+4112,l=o-l,_=u*dctSin6+d*dctCos6+2048>>12,u=u*dctCos6-d*dctSin6+2048>>12,d=_,f=f+x+1>>1,x=f-x,b=b+g+1>>1,g=b-g,o=o+d+1>>1,d=o-d,l=l+u+1>>1,u=l-u,_=f*dctSin3+b*dctCos3+2048>>12,f=f*dctCos3-b*dctSin3+2048>>12,b=_,_=g*dctSin1+x*dctCos1+2048>>12,g=g*dctCos1-x*dctSin1+2048>>12,x=_,m=o+b,T=o-b,y=l+x,E=l-x,v=u+g,C=u-g,w=d+f,S=d-f,m<16?m=0:m>=4080?m=255:m>>=4,y<16?y=0:y>=4080?y=255:y>>=4,v<16?v=0:v>=4080?v=255:v>>=4,w<16?w=0:w>=4080?w=255:w>>=4,S<16?S=0:S>=4080?S=255:S>>=4,C<16?C=0:C>=4080?C=255:C>>=4,E<16?E=0:E>=4080?E=255:E>>=4,T<16?T=0:T>=4080?T=255:T>>=4,s[t+R]=m,s[t+R+8]=y,s[t+R+16]=v,s[t+R+24]=w,s[t+R+32]=S,s[t+R+40]=C,s[t+R+48]=E,s[t+R+56]=T}}function buildComponentData(n,t){const r=t.blocksPerLine,a=t.blocksPerColumn,s=new Int16Array(64);for(let o=0;o<a;o++)for(let l=0;l<r;l++){const u=getBlockBufferOffset(t,o,l);quantizeAndInverse(t,u,s)}return t.blockData}function findNextFileMarker(n,t,r=t){const a=n.length-1;let s=r<t?r:t;if(t>=a)return null;const o=readUint16(n,t);if(o>=65472&&o<=65534)return{invalid:null,marker:o,offset:t};let l=readUint16(n,s);for(;!(l>=65472&&l<=65534);){if(++s>=a)return null;l=readUint16(n,s)}return{invalid:o.toString(16),marker:l,offset:s}}class JpegImage{constructor({decodeTransform:t=null,colorTransform:r=-1}={}){this._decodeTransform=t,this._colorTransform=r}parse(t,{dnlScanLines:r=null}={}){function a(){const v=readUint16(t,o);o+=2;let w=o+v-2;const S=findNextFileMarker(t,w,o);S?.invalid&&(warn("readDataBlock - incorrect length, current marker is: "+S.invalid),w=S.offset);const C=t.subarray(o,w);return o+=C.length,C}function s(v){const w=Math.ceil(v.samplesPerLine/8/v.maxH),S=Math.ceil(v.scanLines/8/v.maxV);for(const C of v.components){const E=Math.ceil(Math.ceil(v.samplesPerLine/8)*C.h/v.maxH),T=Math.ceil(Math.ceil(v.scanLines/8)*C.v/v.maxV),_=w*C.h,U=64*(S*C.v)*(_+1);C.blockData=new Int16Array(U),C.blocksPerLine=E,C.blocksPerColumn=T}v.mcusPerLine=w,v.mcusPerColumn=S}let o=0,l=null,u=null,d,f,g=0;const x=[],b=[],m=[];let y=readUint16(t,o);if(o+=2,y!==65496)throw new JpegError("SOI not found");y=readUint16(t,o),o+=2;e:for(;y!==65497;){let v,w,S;switch(y){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const C=a();y===65504&&C[0]===74&&C[1]===70&&C[2]===73&&C[3]===70&&C[4]===0&&(l={version:{major:C[5],minor:C[6]},densityUnits:C[7],xDensity:C[8]<<8|C[9],yDensity:C[10]<<8|C[11],thumbWidth:C[12],thumbHeight:C[13],thumbData:C.subarray(14,14+3*C[12]*C[13])}),y===65518&&C[0]===65&&C[1]===100&&C[2]===111&&C[3]===98&&C[4]===101&&(u={version:C[5]<<8|C[6],flags0:C[7]<<8|C[8],flags1:C[9]<<8|C[10],transformCode:C[11]});break;case 65499:const E=readUint16(t,o);o+=2;const T=E+o-2;let _;for(;o<T;){const xe=t[o++],ye=new Uint16Array(64);if(xe>>4)if(xe>>4===1)for(w=0;w<64;w++)_=dctZigZag[w],ye[_]=readUint16(t,o),o+=2;else throw new JpegError("DQT - invalid table spec");else for(w=0;w<64;w++)_=dctZigZag[w],ye[_]=t[o++];x[xe&15]=ye}break;case 65472:case 65473:case 65474:if(d)throw new JpegError("Only single frame JPEGs supported");o+=2,d={},d.extended=y===65473,d.progressive=y===65474,d.precision=t[o++];const R=readUint16(t,o);o+=2,d.scanLines=r||R,d.samplesPerLine=readUint16(t,o),o+=2,d.components=[],d.componentIds={};const U=t[o++];let z=0,X=0;for(v=0;v<U;v++){const xe=t[o],ye=t[o+1]>>4,Ae=t[o+1]&15;z<ye&&(z=ye),X<Ae&&(X=Ae);const we=t[o+2];S=d.components.push({h:ye,v:Ae,quantizationId:we,quantizationTable:null}),d.componentIds[xe]=S-1,o+=3}d.maxH=z,d.maxV=X,s(d);break;case 65476:const W=readUint16(t,o);for(o+=2,v=2;v<W;){const xe=t[o++],ye=new Uint8Array(16);let Ae=0;for(w=0;w<16;w++,o++)Ae+=ye[w]=t[o];const we=new Uint8Array(Ae);for(w=0;w<Ae;w++,o++)we[w]=t[o];v+=17+Ae,(xe>>4?b:m)[xe&15]=buildHuffmanTable(ye,we)}break;case 65501:o+=2,f=readUint16(t,o),o+=2;break;case 65498:const Y=++g===1&&!r;o+=2;const se=t[o++],oe=[];for(v=0;v<se;v++){const xe=t[o++],ye=d.componentIds[xe],Ae=d.components[ye];Ae.index=xe;const we=t[o++];Ae.huffmanTableDC=m[we>>4],Ae.huffmanTableAC=b[we&15],oe.push(Ae)}const ue=t[o++],Z=t[o++],te=t[o++];try{const xe=decodeScan(t,o,d,oe,f,ue,Z,te>>4,te&15,Y);o+=xe}catch(xe){if(xe instanceof DNLMarkerError)return warn(`${xe.message} -- attempting to re-parse the JPEG image.`),this.parse(t,{dnlScanLines:xe.scanLines});if(xe instanceof EOIMarkerError){warn(`${xe.message} -- ignoring the rest of the image data.`);break e}throw xe}break;case 65500:o+=4;break;case 65535:t[o]!==255&&o--;break;default:const he=findNextFileMarker(t,o-2,o-3);if(he?.invalid){warn("JpegImage.parse - unexpected data, current marker is: "+he.invalid),o=he.offset;break}if(!he||o>=t.length-1){warn("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new JpegError("JpegImage.parse - unknown marker: "+y.toString(16))}y=readUint16(t,o),o+=2}if(!d)throw new JpegError("JpegImage.parse - no frame data found.");this.width=d.samplesPerLine,this.height=d.scanLines,this.jfif=l,this.adobe=u,this.components=[];for(const v of d.components){const w=x[v.quantizationId];w&&(v.quantizationTable=w),this.components.push({index:v.index,output:buildComponentData(d,v),scaleX:v.h/d.maxH,scaleY:v.v/d.maxV,blocksPerLine:v.blocksPerLine,blocksPerColumn:v.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(t,r,a=!1){const s=this.width/t,o=this.height/r;let l,u,d,f,g,x,b,m,y,v,w=0,S;const C=this.components.length,E=t*r*C,T=new Uint8ClampedArray(E),_=new Uint32Array(t),R=4294967288;let U;for(b=0;b<C;b++){if(l=this.components[b],u=l.scaleX*s,d=l.scaleY*o,w=b,S=l.output,f=l.blocksPerLine+1<<3,u!==U){for(g=0;g<t;g++)m=0|g*u,_[g]=(m&R)<<3|m&7;U=u}for(x=0;x<r;x++)for(m=0|x*d,v=f*(m&R)|(m&7)<<3,g=0;g<t;g++)T[w]=S[v+_[g]],w+=C}let z=this._decodeTransform;if(!a&&C===4&&!z&&(z=new Int32Array([-256,255,-256,255,-256,255,-256,255])),z)for(b=0;b<E;)for(m=0,y=0;m<C;m++,b++,y+=2)T[b]=(T[b]*z[y]>>8)+z[y+1];return T}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(t){let r,a,s;for(let o=0,l=t.length;o<l;o+=3)r=t[o],a=t[o+1],s=t[o+2],t[o]=r-179.456+1.402*s,t[o+1]=r+135.459-.344*a-.714*s,t[o+2]=r-226.816+1.772*a;return t}_convertYccToRgba(t,r){for(let a=0,s=0,o=t.length;a<o;a+=3,s+=4){const l=t[a],u=t[a+1],d=t[a+2];r[s]=l-179.456+1.402*d,r[s+1]=l+135.459-.344*u-.714*d,r[s+2]=l-226.816+1.772*u,r[s+3]=255}return r}_convertYcckToRgb(t){let r,a,s,o,l=0;for(let u=0,d=t.length;u<d;u+=4)r=t[u],a=t[u+1],s=t[u+2],o=t[u+3],t[l++]=-122.67195406894+a*(-660635669420364e-19*a+.000437130475926232*s-54080610064599e-18*r+.00048449797120281*o-.154362151871126)+s*(-.000957964378445773*s+.000817076911346625*r-.00477271405408747*o+1.53380253221734)+r*(.000961250184130688*r-.00266257332283933*o+.48357088451265)+o*(-.000336197177618394*o+.484791561490776),t[l++]=107.268039397724+a*(219927104525741e-19*a-.000640992018297945*s+.000659397001245577*r+.000426105652938837*o-.176491792462875)+s*(-.000778269941513683*s+.00130872261408275*r+.000770482631801132*o-.151051492775562)+r*(.00126935368114843*r-.00265090189010898*o+.25802910206845)+o*(-.000318913117588328*o-.213742400323665),t[l++]=-20.810012546947+a*(-.000570115196973677*a-263409051004589e-19*s+.0020741088115012*r-.00288260236853442*o+.814272968359295)+s*(-153496057440975e-19*s-.000132689043961446*r+.000560833691242812*o-.195152027534049)+r*(.00174418132927582*r-.00255243321439347*o+.116935020465145)+o*(-.000343531996510555*o+.24165260232407);return t.subarray(0,l)}_convertYcckToRgba(t){for(let r=0,a=t.length;r<a;r+=4){const s=t[r],o=t[r+1],l=t[r+2],u=t[r+3];t[r]=-122.67195406894+o*(-660635669420364e-19*o+.000437130475926232*l-54080610064599e-18*s+.00048449797120281*u-.154362151871126)+l*(-.000957964378445773*l+.000817076911346625*s-.00477271405408747*u+1.53380253221734)+s*(.000961250184130688*s-.00266257332283933*u+.48357088451265)+u*(-.000336197177618394*u+.484791561490776),t[r+1]=107.268039397724+o*(219927104525741e-19*o-.000640992018297945*l+.000659397001245577*s+.000426105652938837*u-.176491792462875)+l*(-.000778269941513683*l+.00130872261408275*s+.000770482631801132*u-.151051492775562)+s*(.00126935368114843*s-.00265090189010898*u+.25802910206845)+u*(-.000318913117588328*u-.213742400323665),t[r+2]=-20.810012546947+o*(-.000570115196973677*o-263409051004589e-19*l+.0020741088115012*s-.00288260236853442*u+.814272968359295)+l*(-153496057440975e-19*l-.000132689043961446*s+.000560833691242812*u-.195152027534049)+s*(.00174418132927582*s-.00255243321439347*u+.116935020465145)+u*(-.000343531996510555*u+.24165260232407),t[r+3]=255}return t}_convertYcckToCmyk(t){let r,a,s;for(let o=0,l=t.length;o<l;o+=4)r=t[o],a=t[o+1],s=t[o+2],t[o]=434.456-r-1.402*s,t[o+1]=119.541-r+.344*a+.714*s,t[o+2]=481.816-r-1.772*a;return t}_convertCmykToRgb(t){let r,a,s,o,l=0;for(let u=0,d=t.length;u<d;u+=4)r=t[u],a=t[u+1],s=t[u+2],o=t[u+3],t[l++]=255+r*(-6747147073602441e-20*r+.0008379262121013727*a+.0002894718188643294*s+.003264231057537806*o-1.1185611867203937)+a*(26374107616089405e-21*a-8626949158638572e-20*s-.0002748769067499491*o-.02155688794978967)+s*(-3878099212869363e-20*s-.0003267808279485286*o+.0686742238595345)-o*(.0003361971776183937*o+.7430659151342254),t[l++]=255+r*(.00013596372813588848*r+.000924537132573585*a+.00010567359618683593*s+.0004791864687436512*o-.3109689587515875)+a*(-.00023545346108370344*a+.0002702845253534714*s+.0020200308977307156*o-.7488052167015494)+s*(6834815998235662e-20*s+.00015168452363460973*o-.09751927774728933)-o*(.0003189131175883281*o+.7364883807733168),t[l++]=255+r*(13598650411385307e-21*r+.00012423956175490851*a+.0004751985097583589*s-36729317476630422e-22*o-.05562186980264034)+a*(.00016141380598724676*a+.0009692239130725186*s+.0007782692450036253*o-.44015232367526463)+s*(5068882914068769e-22*s+.0017778369011375071*o-.7591454649749609)-o*(.0003435319965105553*o+.7063770186160144);return t.subarray(0,l)}_convertCmykToRgba(t){for(let r=0,a=t.length;r<a;r+=4){const s=t[r],o=t[r+1],l=t[r+2],u=t[r+3];t[r]=255+s*(-6747147073602441e-20*s+.0008379262121013727*o+.0002894718188643294*l+.003264231057537806*u-1.1185611867203937)+o*(26374107616089405e-21*o-8626949158638572e-20*l-.0002748769067499491*u-.02155688794978967)+l*(-3878099212869363e-20*l-.0003267808279485286*u+.0686742238595345)-u*(.0003361971776183937*u+.7430659151342254),t[r+1]=255+s*(.00013596372813588848*s+.000924537132573585*o+.00010567359618683593*l+.0004791864687436512*u-.3109689587515875)+o*(-.00023545346108370344*o+.0002702845253534714*l+.0020200308977307156*u-.7488052167015494)+l*(6834815998235662e-20*l+.00015168452363460973*u-.09751927774728933)-u*(.0003189131175883281*u+.7364883807733168),t[r+2]=255+s*(13598650411385307e-21*s+.00012423956175490851*o+.0004751985097583589*l-36729317476630422e-22*u-.05562186980264034)+o*(.00016141380598724676*o+.0009692239130725186*l+.0007782692450036253*u-.44015232367526463)+l*(5068882914068769e-22*l+.0017778369011375071*u-.7591454649749609)-u*(.0003435319965105553*u+.7063770186160144),t[r+3]=255}return t}getData({width:t,height:r,forceRGBA:a=!1,forceRGB:s=!1,isSourcePDF:o=!1}){if(this.numComponents>4)throw new JpegError("Unsupported color mode");const l=this._getLinearizedBlockData(t,r,o);if(this.numComponents===1&&(a||s)){const u=l.length*(a?4:3),d=new Uint8ClampedArray(u);let f=0;if(a)grayToRGBA(l,new Uint32Array(d.buffer));else for(const g of l)d[f++]=g,d[f++]=g,d[f++]=g;return d}else if(this.numComponents===3&&this._isColorConversionNeeded){if(a){const u=new Uint8ClampedArray(l.length/3*4);return this._convertYccToRgba(l,u)}return this._convertYccToRgb(l)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return a?this._convertYcckToRgba(l):s?this._convertYcckToRgb(l):this._convertYcckToCmyk(l);if(a)return this._convertCmykToRgba(l);if(s)return this._convertCmykToRgb(l)}return l}}class JpegStream extends DecodeStream$1{constructor(t,r,a){let s;for(;(s=t.getByte())!==-1;)if(s===255){t.skip(-1);break}super(r),this.stream=t,this.dict=t.dict,this.maybeLength=r,this.params=a}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t={decodeTransform:void 0,colorTransform:void 0},r=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(r)){const o=this.dict.get("BPC","BitsPerComponent")||8,l=r.length,u=new Int32Array(l);let d=!1;const f=(1<<o)-1;for(let g=0;g<l;g+=2)u[g]=(r[g+1]-r[g])*256|0,u[g+1]=r[g]*f|0,(u[g]!==256||u[g+1]!==0)&&(d=!0);d&&(t.decodeTransform=u)}if(this.params instanceof Dict){const o=this.params.get("ColorTransform");Number.isInteger(o)&&(t.colorTransform=o)}const a=new JpegImage(t);a.parse(this.bytes);const s=a.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=s,this.bufferLength=s.length,this.eof=!0}}class JpxError extends BaseException{constructor(t){super(`JPX error: ${t}`,"JpxError")}}const SubbandsGainLog2={LL:0,LH:1,HL:1,HH:2};class JpxImage{constructor(){this.failOnCorruptedImage=!1}parse(t){if(readUint16(t,0)===65359){this.parseCodestream(t,0,t.length);return}const a=t.length;let s=0;for(;s<a;){let o=8,l=readUint32(t,s);const u=readUint32(t,s+4);if(s+=o,l===1&&(l=readUint32(t,s)*4294967296+readUint32(t,s+4),s+=8,o+=8),l===0&&(l=a-s+o),l<o)throw new JpxError("Invalid box field size");const d=l-o;let f=!0;switch(u){case 1785737832:f=!1;break;case 1668246642:const g=t[s];if(g===1){const b=readUint32(t,s+3);switch(b){case 16:case 17:case 18:break;default:warn("Unknown colorspace "+b);break}}else g===2&&info("ICC profile not supported");break;case 1785737827:this.parseCodestream(t,s,s+d);break;case 1783636e3:readUint32(t,s)!==218793738&&warn("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const x=String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255);warn(`Unsupported header type ${u} (${x}).`);break}f&&(s+=d)}}parseImageProperties(t){let r=t.getByte();for(;r>=0;){const a=r;if(r=t.getByte(),(a<<8|r)===65361){t.skip(4);const o=t.getInt32()>>>0,l=t.getInt32()>>>0,u=t.getInt32()>>>0,d=t.getInt32()>>>0;t.skip(16);const f=t.getUint16();this.width=o-u,this.height=l-d,this.componentsCount=f,this.bitsPerComponent=8;return}}throw new JpxError("No size marker found in JPX stream")}parseCodestream(t,r,a){const s={};let o=!1;try{let l=r;for(;l+1<a;){const u=readUint16(t,l);l+=2;let d=0,f,g,x,b,m,y;switch(u){case 65359:s.mainHeader=!0;break;case 65497:break;case 65361:d=readUint16(t,l);const v={};v.Xsiz=readUint32(t,l+4),v.Ysiz=readUint32(t,l+8),v.XOsiz=readUint32(t,l+12),v.YOsiz=readUint32(t,l+16),v.XTsiz=readUint32(t,l+20),v.YTsiz=readUint32(t,l+24),v.XTOsiz=readUint32(t,l+28),v.YTOsiz=readUint32(t,l+32);const w=readUint16(t,l+36);v.Csiz=w;const S=[];f=l+38;for(let X=0;X<w;X++){const W={precision:(t[f]&127)+1,isSigned:!!(t[f]&128),XRsiz:t[f+1],YRsiz:t[f+2]};f+=3,calculateComponentDimensions(W,v),S.push(W)}s.SIZ=v,s.components=S,calculateTileGrids(s,S),s.QCC=[],s.COC=[];break;case 65372:d=readUint16(t,l);const C={};switch(f=l+2,g=t[f++],g&31){case 0:b=8,m=!0;break;case 1:b=16,m=!1;break;case 2:b=16,m=!0;break;default:throw new Error("Invalid SQcd value "+g)}for(C.noQuantization=b===8,C.scalarExpounded=m,C.guardBits=g>>5,x=[];f<d+l;){const X={};b===8?(X.epsilon=t[f++]>>3,X.mu=0):(X.epsilon=t[f]>>3,X.mu=(t[f]&7)<<8|t[f+1],f+=2),x.push(X)}C.SPqcds=x,s.mainHeader?s.QCD=C:(s.currentTile.QCD=C,s.currentTile.QCC=[]);break;case 65373:d=readUint16(t,l);const E={};f=l+2;let T;switch(s.SIZ.Csiz<257?T=t[f++]:(T=readUint16(t,f),f+=2),g=t[f++],g&31){case 0:b=8,m=!0;break;case 1:b=16,m=!1;break;case 2:b=16,m=!0;break;default:throw new Error("Invalid SQcd value "+g)}for(E.noQuantization=b===8,E.scalarExpounded=m,E.guardBits=g>>5,x=[];f<d+l;){const X={};b===8?(X.epsilon=t[f++]>>3,X.mu=0):(X.epsilon=t[f]>>3,X.mu=(t[f]&7)<<8|t[f+1],f+=2),x.push(X)}E.SPqcds=x,s.mainHeader?s.QCC[T]=E:s.currentTile.QCC[T]=E;break;case 65362:d=readUint16(t,l);const _={};f=l+2;const R=t[f++];_.entropyCoderWithCustomPrecincts=!!(R&1),_.sopMarkerUsed=!!(R&2),_.ephMarkerUsed=!!(R&4),_.progressionOrder=t[f++],_.layersCount=readUint16(t,f),f+=2,_.multipleComponentTransform=t[f++],_.decompositionLevelsCount=t[f++],_.xcb=(t[f++]&15)+2,_.ycb=(t[f++]&15)+2;const U=t[f++];if(_.selectiveArithmeticCodingBypass=!!(U&1),_.resetContextProbabilities=!!(U&2),_.terminationOnEachCodingPass=!!(U&4),_.verticallyStripe=!!(U&8),_.predictableTermination=!!(U&16),_.segmentationSymbolUsed=!!(U&32),_.reversibleTransformation=t[f++],_.entropyCoderWithCustomPrecincts){const X=[];for(;f<d+l;){const W=t[f++];X.push({PPx:W&15,PPy:W>>4})}_.precinctsSizes=X}const z=[];_.selectiveArithmeticCodingBypass&&z.push("selectiveArithmeticCodingBypass"),_.terminationOnEachCodingPass&&z.push("terminationOnEachCodingPass"),_.verticallyStripe&&z.push("verticallyStripe"),_.predictableTermination&&z.push("predictableTermination"),z.length>0&&(o=!0,warn(`JPX: Unsupported COD options (${z.join(", ")}).`)),s.mainHeader?s.COD=_:(s.currentTile.COD=_,s.currentTile.COC=[]);break;case 65424:d=readUint16(t,l),y={},y.index=readUint16(t,l+2),y.length=readUint32(t,l+4),y.dataEnd=y.length+l-2,y.partIndex=t[l+8],y.partsCount=t[l+9],s.mainHeader=!1,y.partIndex===0&&(y.COD=s.COD,y.COC=s.COC.slice(0),y.QCD=s.QCD,y.QCC=s.QCC.slice(0)),s.currentTile=y;break;case 65427:y=s.currentTile,y.partIndex===0&&(initializeTile(s,y.index),buildPackets(s)),d=y.dataEnd-l,parseTilePackets(s,t,l,d);break;case 65363:warn("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:d=readUint16(t,l);break;default:throw new Error("Unknown codestream code: "+u.toString(16))}l+=d}}catch(l){if(o||this.failOnCorruptedImage)throw new JpxError(l.message);warn(`JPX: Trying to recover from: "${l.message}".`)}this.tiles=transformComponents(s),this.width=s.SIZ.Xsiz-s.SIZ.XOsiz,this.height=s.SIZ.Ysiz-s.SIZ.YOsiz,this.componentsCount=s.SIZ.Csiz}}function calculateComponentDimensions(n,t){n.x0=Math.ceil(t.XOsiz/n.XRsiz),n.x1=Math.ceil(t.Xsiz/n.XRsiz),n.y0=Math.ceil(t.YOsiz/n.YRsiz),n.y1=Math.ceil(t.Ysiz/n.YRsiz),n.width=n.x1-n.x0,n.height=n.y1-n.y0}function calculateTileGrids(n,t){const r=n.SIZ,a=[];let s;const o=Math.ceil((r.Xsiz-r.XTOsiz)/r.XTsiz),l=Math.ceil((r.Ysiz-r.YTOsiz)/r.YTsiz);for(let d=0;d<l;d++)for(let f=0;f<o;f++)s={},s.tx0=Math.max(r.XTOsiz+f*r.XTsiz,r.XOsiz),s.ty0=Math.max(r.YTOsiz+d*r.YTsiz,r.YOsiz),s.tx1=Math.min(r.XTOsiz+(f+1)*r.XTsiz,r.Xsiz),s.ty1=Math.min(r.YTOsiz+(d+1)*r.YTsiz,r.Ysiz),s.width=s.tx1-s.tx0,s.height=s.ty1-s.ty0,s.components=[],a.push(s);n.tiles=a;const u=r.Csiz;for(let d=0,f=u;d<f;d++){const g=t[d];for(let x=0,b=a.length;x<b;x++){const m={};s=a[x],m.tcx0=Math.ceil(s.tx0/g.XRsiz),m.tcy0=Math.ceil(s.ty0/g.YRsiz),m.tcx1=Math.ceil(s.tx1/g.XRsiz),m.tcy1=Math.ceil(s.ty1/g.YRsiz),m.width=m.tcx1-m.tcx0,m.height=m.tcy1-m.tcy0,s.components[d]=m}}}function getBlocksDimensions(n,t,r){const a=t.codingStyleParameters,s={};return a.entropyCoderWithCustomPrecincts?(s.PPx=a.precinctsSizes[r].PPx,s.PPy=a.precinctsSizes[r].PPy):(s.PPx=15,s.PPy=15),s.xcb_=r>0?Math.min(a.xcb,s.PPx-1):Math.min(a.xcb,s.PPx),s.ycb_=r>0?Math.min(a.ycb,s.PPy-1):Math.min(a.ycb,s.PPy),s}function buildPrecincts(n,t,r){const a=1<<r.PPx,s=1<<r.PPy,o=t.resLevel===0,l=1<<r.PPx+(o?0:-1),u=1<<r.PPy+(o?0:-1),d=t.trx1>t.trx0?Math.ceil(t.trx1/a)-Math.floor(t.trx0/a):0,f=t.try1>t.try0?Math.ceil(t.try1/s)-Math.floor(t.try0/s):0,g=d*f;t.precinctParameters={precinctWidth:a,precinctHeight:s,numprecinctswide:d,numprecinctshigh:f,numprecincts:g,precinctWidthInSubband:l,precinctHeightInSubband:u}}function buildCodeblocks(n,t,r){const a=r.xcb_,s=r.ycb_,o=1<<a,l=1<<s,u=t.tbx0>>a,d=t.tby0>>s,f=t.tbx1+o-1>>a,g=t.tby1+l-1>>s,x=t.resolution.precinctParameters,b=[],m=[];let y,v,w,S;for(v=d;v<g;v++)for(y=u;y<f;y++){w={cbx:y,cby:v,tbx0:o*y,tby0:l*v,tbx1:o*(y+1),tby1:l*(v+1)},w.tbx0_=Math.max(t.tbx0,w.tbx0),w.tby0_=Math.max(t.tby0,w.tby0),w.tbx1_=Math.min(t.tbx1,w.tbx1),w.tby1_=Math.min(t.tby1,w.tby1);const C=Math.floor((w.tbx0_-t.tbx0)/x.precinctWidthInSubband),E=Math.floor((w.tby0_-t.tby0)/x.precinctHeightInSubband);if(S=C+E*x.numprecinctswide,w.precinctNumber=S,w.subbandType=t.type,w.Lblock=3,w.tbx1_<=w.tbx0_||w.tby1_<=w.tby0_)continue;b.push(w);let T=m[S];T!==void 0?(y<T.cbxMin?T.cbxMin=y:y>T.cbxMax&&(T.cbxMax=y),v<T.cbyMin?T.cbxMin=v:v>T.cbyMax&&(T.cbyMax=v)):m[S]=T={cbxMin:y,cbyMin:v,cbxMax:y,cbyMax:v},w.precinct=T}t.codeblockParameters={codeblockWidth:a,codeblockHeight:s,numcodeblockwide:f-u+1,numcodeblockhigh:g-d+1},t.codeblocks=b,t.precincts=m}function createPacket(n,t,r){const a=[],s=n.subbands;for(let o=0,l=s.length;o<l;o++){const d=s[o].codeblocks;for(let f=0,g=d.length;f<g;f++){const x=d[f];x.precinctNumber===t&&a.push(x)}}return{layerNumber:r,codeblocks:a}}function LayerResolutionComponentPositionIterator(n){const t=n.SIZ,r=n.currentTile.index,a=n.tiles[r],s=a.codingStyleDefaultParameters.layersCount,o=t.Csiz;let l=0;for(let x=0;x<o;x++)l=Math.max(l,a.components[x].codingStyleParameters.decompositionLevelsCount);let u=0,d=0,f=0,g=0;this.nextPacket=function(){for(;u<s;u++){for(;d<=l;d++){for(;f<o;f++){const b=a.components[f];if(d>b.codingStyleParameters.decompositionLevelsCount)continue;const m=b.resolutions[d],y=m.precinctParameters.numprecincts;for(;g<y;){const v=createPacket(m,g,u);return g++,v}g=0}f=0}d=0}throw new JpxError("Out of packets")}}function ResolutionLayerComponentPositionIterator(n){const t=n.SIZ,r=n.currentTile.index,a=n.tiles[r],s=a.codingStyleDefaultParameters.layersCount,o=t.Csiz;let l=0;for(let x=0;x<o;x++)l=Math.max(l,a.components[x].codingStyleParameters.decompositionLevelsCount);let u=0,d=0,f=0,g=0;this.nextPacket=function(){for(;u<=l;u++){for(;d<s;d++){for(;f<o;f++){const b=a.components[f];if(u>b.codingStyleParameters.decompositionLevelsCount)continue;const m=b.resolutions[u],y=m.precinctParameters.numprecincts;for(;g<y;){const v=createPacket(m,g,d);return g++,v}g=0}f=0}d=0}throw new JpxError("Out of packets")}}function ResolutionPositionComponentLayerIterator(n){const t=n.SIZ,r=n.currentTile.index,a=n.tiles[r],s=a.codingStyleDefaultParameters.layersCount,o=t.Csiz;let l,u,d,f,g=0;for(d=0;d<o;d++){const b=a.components[d];g=Math.max(g,b.codingStyleParameters.decompositionLevelsCount)}const x=new Int32Array(g+1);for(u=0;u<=g;++u){let b=0;for(d=0;d<o;++d){const m=a.components[d].resolutions;u<m.length&&(b=Math.max(b,m[u].precinctParameters.numprecincts))}x[u]=b}l=0,u=0,d=0,f=0,this.nextPacket=function(){for(;u<=g;u++){for(;f<x[u];f++){for(;d<o;d++){const m=a.components[d];if(u>m.codingStyleParameters.decompositionLevelsCount)continue;const y=m.resolutions[u],v=y.precinctParameters.numprecincts;if(!(f>=v)){for(;l<s;){const w=createPacket(y,f,l);return l++,w}l=0}}d=0}f=0}throw new JpxError("Out of packets")}}function PositionComponentResolutionLayerIterator(n){const t=n.SIZ,r=n.currentTile.index,a=n.tiles[r],s=a.codingStyleDefaultParameters.layersCount,o=t.Csiz,l=getPrecinctSizesInImageScale(a),u=l;let d=0,f=0,g=0,x=0,b=0;this.nextPacket=function(){for(;b<u.maxNumHigh;b++){for(;x<u.maxNumWide;x++){for(;g<o;g++){const y=a.components[g],v=y.codingStyleParameters.decompositionLevelsCount;for(;f<=v;f++){const w=y.resolutions[f],S=l.components[g].resolutions[f],C=getPrecinctIndexIfExist(x,b,S,u,w);if(C!==null){for(;d<s;){const E=createPacket(w,C,d);return d++,E}d=0}}f=0}g=0}x=0}throw new JpxError("Out of packets")}}function ComponentPositionResolutionLayerIterator(n){const t=n.SIZ,r=n.currentTile.index,a=n.tiles[r],s=a.codingStyleDefaultParameters.layersCount,o=t.Csiz,l=getPrecinctSizesInImageScale(a);let u=0,d=0,f=0,g=0,x=0;this.nextPacket=function(){for(;f<o;++f){const m=a.components[f],y=l.components[f],v=m.codingStyleParameters.decompositionLevelsCount;for(;x<y.maxNumHigh;x++){for(;g<y.maxNumWide;g++){for(;d<=v;d++){const w=m.resolutions[d],S=y.resolutions[d],C=getPrecinctIndexIfExist(g,x,S,y,w);if(C!==null){for(;u<s;){const E=createPacket(w,C,u);return u++,E}u=0}}d=0}g=0}x=0}throw new JpxError("Out of packets")}}function getPrecinctIndexIfExist(n,t,r,a,s){const o=n*a.minWidth,l=t*a.minHeight;if(o%r.width!==0||l%r.height!==0)return null;const u=l/r.width*s.precinctParameters.numprecinctswide;return o/r.height+u}function getPrecinctSizesInImageScale(n){const t=n.components.length;let r=Number.MAX_VALUE,a=Number.MAX_VALUE,s=0,o=0;const l=new Array(t);for(let u=0;u<t;u++){const d=n.components[u],f=d.codingStyleParameters.decompositionLevelsCount,g=new Array(f+1);let x=Number.MAX_VALUE,b=Number.MAX_VALUE,m=0,y=0,v=1;for(let w=f;w>=0;--w){const S=d.resolutions[w],C=v*S.precinctParameters.precinctWidth,E=v*S.precinctParameters.precinctHeight;x=Math.min(x,C),b=Math.min(b,E),m=Math.max(m,S.precinctParameters.numprecinctswide),y=Math.max(y,S.precinctParameters.numprecinctshigh),g[w]={width:C,height:E},v<<=1}r=Math.min(r,x),a=Math.min(a,b),s=Math.max(s,m),o=Math.max(o,y),l[u]={resolutions:g,minWidth:x,minHeight:b,maxNumWide:m,maxNumHigh:y}}return{components:l,minWidth:r,minHeight:a,maxNumWide:s,maxNumHigh:o}}function buildPackets(n){const t=n.SIZ,r=n.currentTile.index,a=n.tiles[r],s=t.Csiz;for(let l=0;l<s;l++){const u=a.components[l],d=u.codingStyleParameters.decompositionLevelsCount,f=[],g=[];for(let x=0;x<=d;x++){const b=getBlocksDimensions(n,u,x),m={},y=1<<d-x;m.trx0=Math.ceil(u.tcx0/y),m.try0=Math.ceil(u.tcy0/y),m.trx1=Math.ceil(u.tcx1/y),m.try1=Math.ceil(u.tcy1/y),m.resLevel=x,buildPrecincts(n,m,b),f.push(m);let v;if(x===0)v={},v.type="LL",v.tbx0=Math.ceil(u.tcx0/y),v.tby0=Math.ceil(u.tcy0/y),v.tbx1=Math.ceil(u.tcx1/y),v.tby1=Math.ceil(u.tcy1/y),v.resolution=m,buildCodeblocks(n,v,b),g.push(v),m.subbands=[v];else{const w=1<<d-x+1,S=[];v={},v.type="HL",v.tbx0=Math.ceil(u.tcx0/w-.5),v.tby0=Math.ceil(u.tcy0/w),v.tbx1=Math.ceil(u.tcx1/w-.5),v.tby1=Math.ceil(u.tcy1/w),v.resolution=m,buildCodeblocks(n,v,b),g.push(v),S.push(v),v={},v.type="LH",v.tbx0=Math.ceil(u.tcx0/w),v.tby0=Math.ceil(u.tcy0/w-.5),v.tbx1=Math.ceil(u.tcx1/w),v.tby1=Math.ceil(u.tcy1/w-.5),v.resolution=m,buildCodeblocks(n,v,b),g.push(v),S.push(v),v={},v.type="HH",v.tbx0=Math.ceil(u.tcx0/w-.5),v.tby0=Math.ceil(u.tcy0/w-.5),v.tbx1=Math.ceil(u.tcx1/w-.5),v.tby1=Math.ceil(u.tcy1/w-.5),v.resolution=m,buildCodeblocks(n,v,b),g.push(v),S.push(v),m.subbands=S}}u.resolutions=f,u.subbands=g}const o=a.codingStyleDefaultParameters.progressionOrder;switch(o){case 0:a.packetsIterator=new LayerResolutionComponentPositionIterator(n);break;case 1:a.packetsIterator=new ResolutionLayerComponentPositionIterator(n);break;case 2:a.packetsIterator=new ResolutionPositionComponentLayerIterator(n);break;case 3:a.packetsIterator=new PositionComponentResolutionLayerIterator(n);break;case 4:a.packetsIterator=new ComponentPositionResolutionLayerIterator(n);break;default:throw new JpxError(`Unsupported progression order ${o}`)}}function parseTilePackets(n,t,r,a){let s=0,o,l=0,u=!1;function d(C){for(;l<C;){const E=t[r+s];s++,u?(o=o<<7|E,l+=7,u=!1):(o=o<<8|E,l+=8),E===255&&(u=!0)}return l-=C,o>>>l&(1<<C)-1}function f(C){return t[r+s-1]===255&&t[r+s]===C?(g(1),!0):t[r+s]===255&&t[r+s+1]===C?(g(2),!0):!1}function g(C){s+=C}function x(){l=0,u&&(s++,u=!1)}function b(){if(d(1)===0)return 1;if(d(1)===0)return 2;let C=d(2);return C<3?C+3:(C=d(5),C<31?C+6:(C=d(7),C+37))}const m=n.currentTile.index,y=n.tiles[m],v=n.COD.sopMarkerUsed,w=n.COD.ephMarkerUsed,S=y.packetsIterator;for(;s<a;){x(),v&&f(145)&&g(4);const C=S.nextPacket();if(!d(1))continue;const E=C.layerNumber,T=[];let _;for(let R=0,U=C.codeblocks.length;R<U;R++){_=C.codeblocks[R];let z=_.precinct;const X=_.cbx-z.cbxMin,W=_.cby-z.cbyMin;let Y=!1,se=!1,oe,ue;if(_.included!==void 0)Y=!!d(1);else{z=_.precinct;let ye;if(z.inclusionTree!==void 0)ye=z.inclusionTree;else{const Ae=z.cbxMax-z.cbxMin+1,we=z.cbyMax-z.cbyMin+1;ye=new InclusionTree(Ae,we,E),ue=new TagTree(Ae,we),z.inclusionTree=ye,z.zeroBitPlanesTree=ue;for(let pe=0;pe<E;pe++)if(d(1)!==0)throw new JpxError("Invalid tag tree")}if(ye.reset(X,W,E))for(;;)if(d(1)){if(oe=!ye.nextLevel(),oe){_.included=!0,Y=se=!0;break}}else{ye.incrementValue(E);break}}if(!Y)continue;if(se){for(ue=z.zeroBitPlanesTree,ue.reset(X,W);;)if(d(1)){if(oe=!ue.nextLevel(),oe)break}else ue.incrementValue();_.zeroBitPlanes=ue.value}const Z=b();for(;d(1);)_.Lblock++;const te=log2(Z),he=(Z<1<<te?te-1:te)+_.Lblock,xe=d(he);T.push({codeblock:_,codingpasses:Z,dataLength:xe})}for(x(),w&&f(146);T.length>0;){const R=T.shift();_=R.codeblock,_.data===void 0&&(_.data=[]),_.data.push({data:t,start:r+s,end:r+s+R.dataLength,codingpasses:R.codingpasses}),s+=R.dataLength}}return s}function copyCoefficients(n,t,r,a,s,o,l,u,d){const f=a.tbx0,g=a.tby0,x=a.tbx1-a.tbx0,b=a.codeblocks,m=a.type.charAt(0)==="H"?1:0,y=a.type.charAt(1)==="H"?t:0;for(let v=0,w=b.length;v<w;++v){const S=b[v],C=S.tbx1_-S.tbx0_,E=S.tby1_-S.tby0_;if(C===0||E===0||S.data===void 0)continue;const T=new BitModel(C,E,S.subbandType,S.zeroBitPlanes,o);let _=2;const R=S.data;let U=0,z=0,X,W,Y;for(X=0,W=R.length;X<W;X++)Y=R[X],U+=Y.end-Y.start,z+=Y.codingpasses;const se=new Uint8Array(U);let oe=0;for(X=0,W=R.length;X<W;X++){Y=R[X];const ge=Y.data.subarray(Y.start,Y.end);se.set(ge,oe),oe+=ge.length}const ue=new ArithmeticDecoder(se,0,U);for(T.setDecoder(ue),X=0;X<z;X++){switch(_){case 0:T.runSignificancePropagationPass();break;case 1:T.runMagnitudeRefinementPass();break;case 2:T.runCleanupPass(),u&&T.checkSegmentationSymbol();break}d&&T.reset(),_=(_+1)%3}let Z=S.tbx0_-f+(S.tby0_-g)*x;const te=T.coefficentsSign,he=T.coefficentsMagnitude,xe=T.bitsDecoded,ye=l?0:.5;let Ae,we,pe;oe=0;const Te=a.type!=="LL";for(X=0;X<E;X++){const de=2*(Z/x|0)*(t-x)+m+y;for(Ae=0;Ae<C;Ae++){if(we=he[oe],we!==0){we=(we+ye)*s,te[oe]!==0&&(we=-we),pe=xe[oe];const ce=Te?de+(Z<<1):Z;n[ce]=l&&pe>=o?we:we*(1<<o-pe)}Z++,oe++}Z+=x-C}}}function transformTile(n,t,r){const a=t.components[r],s=a.codingStyleParameters,o=a.quantizationParameters,l=s.decompositionLevelsCount,u=o.SPqcds,d=o.scalarExpounded,f=o.guardBits,g=s.segmentationSymbolUsed,x=s.resetContextProbabilities,b=n.components[r].precision,m=s.reversibleTransformation,y=m?new ReversibleTransform:new IrreversibleTransform,v=[];let w=0;for(let C=0;C<=l;C++){const E=a.resolutions[C],T=E.trx1-E.trx0,_=E.try1-E.try0,R=new Float32Array(T*_);for(let U=0,z=E.subbands.length;U<z;U++){let X,W;d?(X=u[w].mu,W=u[w].epsilon,w++):(X=u[0].mu,W=u[0].epsilon+(C>0?1-C:0));const Y=E.subbands[U],se=SubbandsGainLog2[Y.type],oe=m?1:2**(b+se-W)*(1+X/2048),ue=f+W-1;copyCoefficients(R,T,_,Y,oe,ue,m,g,x)}v.push({width:T,height:_,items:R})}const S=y.calculate(v,a.tcx0,a.tcy0);return{left:a.tcx0,top:a.tcy0,width:S.width,height:S.height,items:S.items}}function transformComponents(n){const t=n.SIZ,r=n.components,a=t.Csiz,s=[];for(let o=0,l=n.tiles.length;o<l;o++){const u=n.tiles[o],d=[];for(let T=0;T<a;T++)d[T]=transformTile(n,u,T);const f=d[0],g=new Uint8ClampedArray(f.items.length*a),x={left:f.left,top:f.top,width:f.width,height:f.height,items:g};let b,m,y=0,v,w,S,C,E;if(u.codingStyleDefaultParameters.multipleComponentTransform){const T=a===4,_=d[0].items,R=d[1].items,U=d[2].items,z=T?d[3].items:null;b=r[0].precision-8,m=(128<<b)+.5;const X=u.components[0],W=a-3;if(w=_.length,X.codingStyleParameters.reversibleTransformation)for(v=0;v<w;v++,y+=W){S=_[v]+m,C=R[v],E=U[v];const Y=S-(E+C>>2);g[y++]=Y+E>>b,g[y++]=Y>>b,g[y++]=Y+C>>b}else for(v=0;v<w;v++,y+=W)S=_[v]+m,C=R[v],E=U[v],g[y++]=S+1.402*E>>b,g[y++]=S-.34413*C-.71414*E>>b,g[y++]=S+1.772*C>>b;if(T)for(v=0,y=3;v<w;v++,y+=4)g[y]=z[v]+m>>b}else for(let T=0;T<a;T++){const _=d[T].items;for(b=r[T].precision-8,m=(128<<b)+.5,y=T,v=0,w=_.length;v<w;v++)g[y]=_[v]+m>>b,y+=a}s.push(x)}return s}function initializeTile(n,t){const a=n.SIZ.Csiz,s=n.tiles[t];for(let o=0;o<a;o++){const l=s.components[o],u=n.currentTile.QCC[o]!==void 0?n.currentTile.QCC[o]:n.currentTile.QCD;l.quantizationParameters=u;const d=n.currentTile.COC[o]!==void 0?n.currentTile.COC[o]:n.currentTile.COD;l.codingStyleParameters=d}s.codingStyleDefaultParameters=n.currentTile.COD}class TagTree{constructor(t,r){const a=log2(Math.max(t,r))+1;this.levels=[];for(let s=0;s<a;s++){const o={width:t,height:r,items:[]};this.levels.push(o),t=Math.ceil(t/2),r=Math.ceil(r/2)}}reset(t,r){let a=0,s=0,o;for(;a<this.levels.length;){o=this.levels[a];const l=t+r*o.width;if(o.items[l]!==void 0){s=o.items[l];break}o.index=l,t>>=1,r>>=1,a++}a--,o=this.levels[a],o.items[o.index]=s,this.currentLevel=a,delete this.value}incrementValue(){const t=this.levels[this.currentLevel];t.items[t.index]++}nextLevel(){let t=this.currentLevel,r=this.levels[t];const a=r.items[r.index];return t--,t<0?(this.value=a,!1):(this.currentLevel=t,r=this.levels[t],r.items[r.index]=a,!0)}}class InclusionTree{constructor(t,r,a){const s=log2(Math.max(t,r))+1;this.levels=[];for(let o=0;o<s;o++){const l=new Uint8Array(t*r);for(let d=0,f=l.length;d<f;d++)l[d]=a;const u={width:t,height:r,items:l};this.levels.push(u),t=Math.ceil(t/2),r=Math.ceil(r/2)}}reset(t,r,a){let s=0;for(;s<this.levels.length;){const o=this.levels[s],l=t+r*o.width;o.index=l;const u=o.items[l];if(u===255)break;if(u>a)return this.currentLevel=s,this.propagateValues(),!1;t>>=1,r>>=1,s++}return this.currentLevel=s-1,!0}incrementValue(t){const r=this.levels[this.currentLevel];r.items[r.index]=t+1,this.propagateValues()}propagateValues(){let t=this.currentLevel,r=this.levels[t];const a=r.items[r.index];for(;--t>=0;)r=this.levels[t],r.items[r.index]=a}nextLevel(){let t=this.currentLevel,r=this.levels[t];const a=r.items[r.index];return r.items[r.index]=255,t--,t<0?!1:(this.currentLevel=t,r=this.levels[t],r.items[r.index]=a,!0)}}class BitModel{static UNIFORM_CONTEXT=17;static RUNLENGTH_CONTEXT=18;static LLAndLHContextsLabel=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]);static HLContextLabel=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]);static HHContextLabel=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);constructor(t,r,a,s,o){this.width=t,this.height=r;let l;a==="HH"?l=BitModel.HHContextLabel:a==="HL"?l=BitModel.HLContextLabel:l=BitModel.LLAndLHContextsLabel,this.contextLabelTable=l;const u=t*r;this.neighborsSignificance=new Uint8Array(u),this.coefficentsSign=new Uint8Array(u);let d;o>14?d=new Uint32Array(u):o>6?d=new Uint16Array(u):d=new Uint8Array(u),this.coefficentsMagnitude=d,this.processingFlags=new Uint8Array(u);const f=new Uint8Array(u);if(s!==0)for(let g=0;g<u;g++)f[g]=s;this.bitsDecoded=f,this.reset()}setDecoder(t){this.decoder=t}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[BitModel.UNIFORM_CONTEXT]=92,this.contexts[BitModel.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(t,r,a){const s=this.neighborsSignificance,o=this.width,l=this.height,u=r>0,d=r+1<o;let f;t>0&&(f=a-o,u&&(s[f-1]+=16),d&&(s[f+1]+=16),s[f]+=4),t+1<l&&(f=a+o,u&&(s[f-1]+=16),d&&(s[f+1]+=16),s[f]+=4),u&&(s[a-1]+=1),d&&(s[a+1]+=1),s[a]|=128}runSignificancePropagationPass(){const t=this.decoder,r=this.width,a=this.height,s=this.coefficentsMagnitude,o=this.coefficentsSign,l=this.neighborsSignificance,u=this.processingFlags,d=this.contexts,f=this.contextLabelTable,g=this.bitsDecoded,x=-2,b=1,m=2;for(let y=0;y<a;y+=4)for(let v=0;v<r;v++){let w=y*r+v;for(let S=0;S<4;S++,w+=r){const C=y+S;if(C>=a)break;if(u[w]&=x,s[w]||!l[w])continue;const E=f[l[w]];if(t.readBit(d,E)){const _=this.decodeSignBit(C,v,w);o[w]=_,s[w]=1,this.setNeighborsSignificance(C,v,w),u[w]|=m}g[w]++,u[w]|=b}}}decodeSignBit(t,r,a){const s=this.width,o=this.height,l=this.coefficentsMagnitude,u=this.coefficentsSign;let d,f,g,x,b,m;x=r>0&&l[a-1]!==0,r+1<s&&l[a+1]!==0?(g=u[a+1],x?(f=u[a-1],d=1-g-f):d=1-g-g):x?(f=u[a-1],d=1-f-f):d=0;const y=3*d;return x=t>0&&l[a-s]!==0,t+1<o&&l[a+s]!==0?(g=u[a+s],x?(f=u[a-s],d=1-g-f+y):d=1-g-g+y):x?(f=u[a-s],d=1-f-f+y):d=y,d>=0?(b=9+d,m=this.decoder.readBit(this.contexts,b)):(b=9-d,m=this.decoder.readBit(this.contexts,b)^1),m}runMagnitudeRefinementPass(){const t=this.decoder,r=this.width,a=this.height,s=this.coefficentsMagnitude,o=this.neighborsSignificance,l=this.contexts,u=this.bitsDecoded,d=this.processingFlags,f=1,g=2,x=r*a,b=r*4;for(let m=0,y;m<x;m=y){y=Math.min(x,m+b);for(let v=0;v<r;v++)for(let w=m+v;w<y;w+=r){if(!s[w]||d[w]&f)continue;let S=16;d[w]&g&&(d[w]^=g,S=(o[w]&127)===0?15:14);const C=t.readBit(l,S);s[w]=s[w]<<1|C,u[w]++,d[w]|=f}}}runCleanupPass(){const t=this.decoder,r=this.width,a=this.height,s=this.neighborsSignificance,o=this.coefficentsMagnitude,l=this.coefficentsSign,u=this.contexts,d=this.contextLabelTable,f=this.bitsDecoded,g=this.processingFlags,x=1,b=2,m=r,y=r*2,v=r*3;let w;for(let S=0;S<a;S=w){w=Math.min(S+4,a);const C=S*r,E=S+3<a;for(let T=0;T<r;T++){const _=C+T,R=E&&g[_]===0&&g[_+m]===0&&g[_+y]===0&&g[_+v]===0&&s[_]===0&&s[_+m]===0&&s[_+y]===0&&s[_+v]===0;let U=0,z=_,X=S,W;if(R){if(!t.readBit(u,BitModel.RUNLENGTH_CONTEXT)){f[_]++,f[_+m]++,f[_+y]++,f[_+v]++;continue}U=t.readBit(u,BitModel.UNIFORM_CONTEXT)<<1|t.readBit(u,BitModel.UNIFORM_CONTEXT),U!==0&&(X=S+U,z+=U*r),W=this.decodeSignBit(X,T,z),l[z]=W,o[z]=1,this.setNeighborsSignificance(X,T,z),g[z]|=b,z=_;for(let se=S;se<=X;se++,z+=r)f[z]++;U++}for(X=S+U;X<w;X++,z+=r){if(o[z]||g[z]&x)continue;const Y=d[s[z]];t.readBit(u,Y)===1&&(W=this.decodeSignBit(X,T,z),l[z]=W,o[z]=1,this.setNeighborsSignificance(X,T,z),g[z]|=b),f[z]++}}}}checkSegmentationSymbol(){const t=this.decoder,r=this.contexts;if((t.readBit(r,BitModel.UNIFORM_CONTEXT)<<3|t.readBit(r,BitModel.UNIFORM_CONTEXT)<<2|t.readBit(r,BitModel.UNIFORM_CONTEXT)<<1|t.readBit(r,BitModel.UNIFORM_CONTEXT))!==10)throw new JpxError("Invalid segmentation symbol")}}class Transform{constructor(){this.constructor===Transform&&unreachable("Cannot initialize Transform.")}calculate(t,r,a){let s=t[0];for(let o=1,l=t.length;o<l;o++)s=this.iterate(s,t[o],r,a);return s}extend(t,r,a){let s=r-1,o=r+1,l=r+a-2,u=r+a;t[s--]=t[o++],t[u++]=t[l--],t[s--]=t[o++],t[u++]=t[l--],t[s--]=t[o++],t[u++]=t[l--],t[s]=t[o],t[u]=t[l]}filter(t,r,a){unreachable("Abstract method `filter` called")}iterate(t,r,a,s){const o=t.width,l=t.height;let u=t.items;const d=r.width,f=r.height,g=r.items;let x,b,m,y,v,w;for(m=0,x=0;x<l;x++)for(y=x*2*d,b=0;b<o;b++,m++,y+=2)g[y]=u[m];u=t.items=null;const S=4,C=new Float32Array(d+2*S);if(d===1){if(a&1)for(w=0,m=0;w<f;w++,m+=d)g[m]*=.5}else for(w=0,m=0;w<f;w++,m+=d)C.set(g.subarray(m,m+d),S),this.extend(C,S,d),this.filter(C,S,d),g.set(C.subarray(S,S+d),m);let E=16;const T=[];for(x=0;x<E;x++)T.push(new Float32Array(f+2*S));let _,R=0;if(t=S+f,f===1){if(s&1)for(v=0;v<d;v++)g[v]*=.5}else for(v=0;v<d;v++){if(R===0){for(E=Math.min(d-v,E),m=v,y=S;y<t;m+=d,y++)for(_=0;_<E;_++)T[_][y]=g[m+_];R=E}R--;const U=T[R];if(this.extend(U,S,f),this.filter(U,S,f),R===0)for(m=v-E+1,y=S;y<t;m+=d,y++)for(_=0;_<E;_++)g[m+_]=T[_][y]}return{width:d,height:f,items:g}}}class IrreversibleTransform extends Transform{filter(t,r,a){const s=a>>1;r|=0;let o,l,u,d;const f=-1.586134342059924,g=-.052980118572961,x=.882911075530934,b=.443506852043971,m=1.230174104914001,y=1/m;for(o=r-3,l=s+4;l--;o+=2)t[o]*=y;for(o=r-2,u=b*t[o-1],l=s+3;l--&&(d=b*t[o+1],t[o]=m*t[o]-u-d,l--);o+=2)o+=2,u=b*t[o+1],t[o]=m*t[o]-u-d;for(o=r-1,u=x*t[o-1],l=s+2;l--&&(d=x*t[o+1],t[o]-=u+d,l--);o+=2)o+=2,u=x*t[o+1],t[o]-=u+d;for(o=r,u=g*t[o-1],l=s+1;l--&&(d=g*t[o+1],t[o]-=u+d,l--);o+=2)o+=2,u=g*t[o+1],t[o]-=u+d;if(s!==0)for(o=r+1,u=f*t[o-1],l=s;l--&&(d=f*t[o+1],t[o]-=u+d,l--);o+=2)o+=2,u=f*t[o+1],t[o]-=u+d}}class ReversibleTransform extends Transform{filter(t,r,a){const s=a>>1;r|=0;let o,l;for(o=r,l=s+1;l--;o+=2)t[o]-=t[o-1]+t[o+1]+2>>2;for(o=r+1,l=s;l--;o+=2)t[o]+=t[o-1]+t[o+1]>>1}}class JpxStream extends DecodeStream$1{constructor(t,r,a){super(r),this.stream=t,this.dict=t.dict,this.maybeLength=r,this.params=a}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t=new JpxImage;t.parse(this.bytes);const r=t.width,a=t.height,s=t.componentsCount,o=t.tiles.length;if(o===1)this.buffer=t.tiles[0].items;else{const l=new Uint8ClampedArray(r*a*s);for(let u=0;u<o;u++){const d=t.tiles[u],f=d.width,g=d.height,x=d.left,b=d.top,m=d.items;let y=0,v=(r*b+x)*s;const w=r*s,S=f*s;for(let C=0;C<g;C++){const E=m.subarray(y,y+S);l.set(E,v),y+=S,v+=w}}this.buffer=l}this.bufferLength=this.buffer.length,this.eof=!0}}let LZWStream$1=class extends DecodeStream$1{constructor(t,r,a){super(r),this.str=t,this.dict=t.dict,this.cachedData=0,this.bitsCached=0;const s=4096,o={earlyChange:a,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(s),dictionaryLengths:new Uint16Array(s),dictionaryPrevCodes:new Uint16Array(s),currentSequence:new Uint8Array(s),currentSequenceLength:0};for(let l=0;l<256;++l)o.dictionaryValues[l]=l,o.dictionaryLengths[l]=1;this.lzwState=o}readBits(t){let r=this.bitsCached,a=this.cachedData;for(;r<t;){const s=this.str.getByte();if(s===-1)return this.eof=!0,null;a=a<<8|s,r+=8}return this.bitsCached=r-=t,this.cachedData=a,this.lastCode=null,a>>>r&(1<<t)-1}readBlock(){let a=1024,s,o,l;const u=this.lzwState;if(!u)return;const d=u.earlyChange;let f=u.nextCode;const g=u.dictionaryValues,x=u.dictionaryLengths,b=u.dictionaryPrevCodes;let m=u.codeLength,y=u.prevCode;const v=u.currentSequence;let w=u.currentSequenceLength,S=0,C=this.bufferLength,E=this.ensureBuffer(this.bufferLength+a);for(s=0;s<512;s++){const T=this.readBits(m),_=w>0;if(T<256)v[0]=T,w=1;else if(T>=258)if(T<f)for(w=x[T],o=w-1,l=T;o>=0;o--)v[o]=g[l],l=b[l];else v[w++]=v[0];else if(T===256){m=9,f=258,w=0;continue}else{this.eof=!0,delete this.lzwState;break}if(_&&(b[f]=y,x[f]=x[y]+1,g[f]=v[0],f++,m=f+d&f+d-1?m:Math.min(Math.log(f+d)/.6931471805599453+1,12)|0),y=T,S+=w,a<S){do a+=512;while(a<S);E=this.ensureBuffer(this.bufferLength+a)}for(o=0;o<w;o++)E[C++]=v[o]}u.nextCode=f,u.codeLength=m,u.prevCode=y,u.currentSequenceLength=w,this.bufferLength=C}};class PredictorStream extends DecodeStream$1{constructor(t,r,a){if(super(r),!(a instanceof Dict))return t;const s=this.predictor=a.get("Predictor")||1;if(s<=1)return t;if(s!==2&&(s<10||s>15))throw new FormatError(`Unsupported predictor: ${s}`);this.readBlock=s===2?this.readBlockTiff:this.readBlockPng,this.str=t,this.dict=t.dict;const o=this.colors=a.get("Colors")||1,l=this.bits=a.get("BPC","BitsPerComponent")||8,u=this.columns=a.get("Columns")||1;return this.pixBytes=o*l+7>>3,this.rowBytes=u*o*l+7>>3,this}readBlockTiff(){const t=this.rowBytes,r=this.bufferLength,a=this.ensureBuffer(r+t),s=this.bits,o=this.colors,l=this.str.getBytes(t);if(this.eof=!l.length,this.eof)return;let u=0,d=0,f=0,g=0,x=r,b;if(s===1&&o===1)for(b=0;b<t;++b){let m=l[b]^u;m^=m>>1,m^=m>>2,m^=m>>4,u=(m&1)<<7,a[x++]=m}else if(s===8){for(b=0;b<o;++b)a[x++]=l[b];for(;b<t;++b)a[x]=a[x-o]+l[b],x++}else if(s===16){const m=o*2;for(b=0;b<m;++b)a[x++]=l[b];for(;b<t;b+=2){const y=((l[b]&255)<<8)+(l[b+1]&255)+((a[x-m]&255)<<8)+(a[x-m+1]&255);a[x++]=y>>8&255,a[x++]=y&255}}else{const m=new Uint8Array(o+1),y=(1<<s)-1;let v=0,w=r;const S=this.columns;for(b=0;b<S;++b)for(let C=0;C<o;++C)f<s&&(u=u<<8|l[v++]&255,f+=8),m[C]=m[C]+(u>>f-s)&y,f-=s,d=d<<s|m[C],g+=s,g>=8&&(a[w++]=d>>g-8&255,g-=8);g>0&&(a[w++]=(d<<8-g)+(u&(1<<8-g)-1))}this.bufferLength+=t}readBlockPng(){const t=this.rowBytes,r=this.pixBytes,a=this.str.getByte(),s=this.str.getBytes(t);if(this.eof=!s.length,this.eof)return;const o=this.bufferLength,l=this.ensureBuffer(o+t);let u=l.subarray(o-t,o);u.length===0&&(u=new Uint8Array(t));let d,f=o,g,x;switch(a){case 0:for(d=0;d<t;++d)l[f++]=s[d];break;case 1:for(d=0;d<r;++d)l[f++]=s[d];for(;d<t;++d)l[f]=l[f-r]+s[d]&255,f++;break;case 2:for(d=0;d<t;++d)l[f++]=u[d]+s[d]&255;break;case 3:for(d=0;d<r;++d)l[f++]=(u[d]>>1)+s[d];for(;d<t;++d)l[f]=(u[d]+l[f-r]>>1)+s[d]&255,f++;break;case 4:for(d=0;d<r;++d)g=u[d],x=s[d],l[f++]=g+x;for(;d<t;++d){g=u[d];const b=u[d-r],m=l[f-r],y=m+g-b;let v=y-m;v<0&&(v=-v);let w=y-g;w<0&&(w=-w);let S=y-b;S<0&&(S=-S),x=s[d],v<=w&&v<=S?l[f++]=m+x:w<=S?l[f++]=g+x:l[f++]=b+x}break;default:throw new FormatError(`Unsupported predictor: ${a}`)}this.bufferLength+=t}}let RunLengthStream$1=class extends DecodeStream$1{constructor(t,r){super(r),this.str=t,this.dict=t.dict}readBlock(){const t=this.str.getBytes(2);if(!t||t.length<2||t[0]===128){this.eof=!0;return}let r,a=this.bufferLength,s=t[0];if(s<128){if(r=this.ensureBuffer(a+s+1),r[a++]=t[1],s>0){const o=this.str.getBytes(s);r.set(o,a),a+=s}}else{s=257-s;const o=t[1];r=this.ensureBuffer(a+s+1);for(let l=0;l<s;l++)r[a++]=o}this.bufferLength=a}};const MAX_LENGTH_TO_CACHE=1e3;function getInlineImageCacheKey(n){const t=[],r=n.length;let a=0;for(;a<r-1;)t.push(n[a++]<<8|n[a++]);return a<r&&t.push(n[a]),r+"_"+String.fromCharCode.apply(null,t)}class Parser{constructor({lexer:t,xref:r,allowStreams:a=!1,recoveryMode:s=!1}){this.lexer=t,this.xref=r,this.allowStreams=a,this.recoveryMode=s,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(t){if(t instanceof MissingDataException)throw t;return!1}}getObj(t=null){const r=this.buf1;if(this.shift(),r instanceof Cmd)switch(r.cmd){case"BI":return this.makeInlineImage(t);case"[":const a=[];for(;!isCmd(this.buf1,"]")&&this.buf1!==EOF;)a.push(this.getObj(t));if(this.buf1===EOF){if(this.recoveryMode)return a;throw new ParserEOFException("End of file inside array.")}return this.shift(),a;case"<<":const s=new Dict(this.xref);for(;!isCmd(this.buf1,">>")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name)){info("Malformed dictionary: key must be a name object"),this.shift();continue}const o=this.buf1.name;if(this.shift(),this.buf1===EOF)break;s.set(o,this.getObj(t))}if(this.buf1===EOF){if(this.recoveryMode)return s;throw new ParserEOFException("End of file inside dictionary.")}return isCmd(this.buf2,"stream")?this.allowStreams?this.makeStream(s,t):s:(this.shift(),s);default:return r}if(Number.isInteger(r)){if(Number.isInteger(this.buf1)&&isCmd(this.buf2,"R")){const a=Ref.get(r,this.buf1);return this.shift(),this.shift(),a}return r}return typeof r=="string"&&t?t.decryptString(r):r}findDefaultInlineStreamEnd(t){const{knownCommands:d}=this.lexer,f=t.pos,g=15;let x=0,b,m;for(;(b=t.getByte())!==-1;)if(x===0)x=b===69?1:0;else if(x===1)x=b===73?2:0;else if(b===32||b===10||b===13){m=t.pos;const v=t.peekBytes(g),w=v.length;if(w===0)break;for(let E=0;E<w;E++)if(b=v[E],!(b===0&&v[E+1]!==0)&&b!==10&&b!==13&&(b<32||b>127)){x=0;break}if(x!==2)continue;if(!d){warn("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const S=new Lexer(new Stream$1(v.slice()),d);S._hexStringWarn=()=>{};let C=0;for(;;){const E=S.getObj();if(E===EOF){x=0;break}if(E instanceof Cmd){const T=d[E.cmd];if(T){if(T.variableArgs?C<=T.numArgs:C===T.numArgs)break}else{x=0;break}C=0;continue}C++}if(x===2)break}else x=0;b===-1&&(warn("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),m&&(warn('... trying to recover by using the last "EI" occurrence.'),t.skip(-(t.pos-m))));let y=4;return t.skip(-y),b=t.peekByte(),t.skip(y),isWhiteSpace(b)||y--,t.pos-y-f}findDCTDecodeInlineStreamEnd(t){const r=t.pos;let a=!1,s,o;for(;(s=t.getByte())!==-1;)if(s===255){switch(t.getByte()){case 0:break;case 255:t.skip(-1);break;case 217:a=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:o=t.getUint16(),o>2?t.skip(o-2):t.skip(-2);break}if(a)break}const l=t.pos-r;return s===-1?(warn("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),t.skip(-l),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),l)}findASCII85DecodeInlineStreamEnd(t){const s=t.pos;let o;for(;(o=t.getByte())!==-1;)if(o===126){const u=t.pos;for(o=t.peekByte();isWhiteSpace(o);)t.skip(),o=t.peekByte();if(o===62){t.skip();break}if(t.pos>u){const d=t.peekBytes(2);if(d[0]===69&&d[1]===73)break}}const l=t.pos-s;return o===-1?(warn("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),t.skip(-l),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),l)}findASCIIHexDecodeInlineStreamEnd(t){const a=t.pos;let s;for(;(s=t.getByte())!==-1&&s!==62;);const o=t.pos-a;return s===-1?(warn("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),t.skip(-o),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),o)}inlineStreamSkipEI(t){let s=0,o;for(;(o=t.getByte())!==-1;)if(s===0)s=o===69?1:0;else if(s===1)s=o===73?2:0;else if(s===2)break}makeInlineImage(t){const r=this.lexer,a=r.stream,s=Object.create(null);let o;for(;!isCmd(this.buf1,"ID")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name))throw new FormatError("Dictionary key must be a name object");const m=this.buf1.name;if(this.shift(),this.buf1===EOF)break;s[m]=this.getObj(t)}r.beginInlineImagePos!==-1&&(o=a.pos-r.beginInlineImagePos);const l=this.xref.fetchIfRef(s.F||s.Filter);let u;if(l instanceof Name)u=l.name;else if(Array.isArray(l)){const m=this.xref.fetchIfRef(l[0]);m instanceof Name&&(u=m.name)}const d=a.pos;let f;switch(u){case"DCT":case"DCTDecode":f=this.findDCTDecodeInlineStreamEnd(a);break;case"A85":case"ASCII85Decode":f=this.findASCII85DecodeInlineStreamEnd(a);break;case"AHx":case"ASCIIHexDecode":f=this.findASCIIHexDecodeInlineStreamEnd(a);break;default:f=this.findDefaultInlineStreamEnd(a)}let g;if(f<MAX_LENGTH_TO_CACHE&&o>0){const m=a.pos;a.pos=r.beginInlineImagePos,g=getInlineImageCacheKey(a.getBytes(o+f)),a.pos=m;const y=this.imageCache[g];if(y!==void 0)return this.buf2=Cmd.get("EI"),this.shift(),y.reset(),y}const x=new Dict(this.xref);for(const m in s)x.set(m,s[m]);let b=a.makeSubStream(d,f,x);return t&&(b=t.createStream(b,f)),b=this.filter(b,x,f),b.dict=x,g!==void 0&&(b.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[g]=b),this.buf2=Cmd.get("EI"),this.shift(),b}_findStreamLength(t,r){const{stream:a}=this.lexer;a.pos=t;const s=2048,o=r.length;for(;a.pos<a.end;){const l=a.peekBytes(s),u=l.length-o;if(u<=0)break;let d=0;for(;d<u;){let f=0;for(;f<o&&l[d+f]===r[f];)f++;if(f>=o)return a.pos+=d,a.pos-t;d++}a.pos+=u}return-1}makeStream(t,r){const a=this.lexer;let s=a.stream;a.skipToNextLine();const o=s.pos-1;let l=t.get("Length");if(Number.isInteger(l)||(info(`Bad length "${l&&l.toString()}" in stream.`),l=0),s.pos=o+l,a.nextChar(),this.tryShift()&&isCmd(this.buf2,"endstream"))this.shift();else{const u=new Uint8Array([101,110,100,115,116,114,101,97,109]);let d=this._findStreamLength(o,u);if(d<0){for(let g=1;g<=1;g++){const x=u.length-g,b=u.slice(0,x),m=this._findStreamLength(o,b);if(m>=0){const y=s.peekBytes(x+1)[x];if(!isWhiteSpace(y))break;info(`Found "${bytesToString(b)}" when searching for endstream command.`),d=m;break}}if(d<0)throw new FormatError("Missing endstream command.")}l=d,a.nextChar(),this.shift(),this.shift()}return this.shift(),s=s.makeSubStream(o,l,t),r&&(s=r.createStream(s,l)),s=this.filter(s,t,l),s.dict=t,s}filter(t,r,a){let s=r.get("F","Filter"),o=r.get("DP","DecodeParms");if(s instanceof Name)return Array.isArray(o)&&warn("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(t,s.name,a,o);let l=a;if(Array.isArray(s)){const u=s,d=o;for(let f=0,g=u.length;f<g;++f){if(s=this.xref.fetchIfRef(u[f]),!(s instanceof Name))throw new FormatError(`Bad filter name "${s}"`);o=null,Array.isArray(d)&&f in d&&(o=this.xref.fetchIfRef(d[f])),t=this.makeFilter(t,s.name,l,o),l=null}}return t}makeFilter(t,r,a,s){if(a===0)return warn(`Empty "${r}" stream.`),new NullStream;try{switch(r){case"Fl":case"FlateDecode":return s?new PredictorStream(new FlateStream$1(t,a),a,s):new FlateStream$1(t,a);case"LZW":case"LZWDecode":let o=1;return s?(s.has("EarlyChange")&&(o=s.get("EarlyChange")),new PredictorStream(new LZWStream$1(t,a,o),a,s)):new LZWStream$1(t,a,o);case"DCT":case"DCTDecode":return new JpegStream(t,a,s);case"JPX":case"JPXDecode":return new JpxStream(t,a,s);case"A85":case"ASCII85Decode":return new Ascii85Stream$1(t,a);case"AHx":case"ASCIIHexDecode":return new AsciiHexStream$1(t,a);case"CCF":case"CCITTFaxDecode":return new CCITTFaxStream(t,a,s);case"RL":case"RunLengthDecode":return new RunLengthStream$1(t,a);case"JBIG2Decode":return new Jbig2Stream(t,a,s)}return warn(`Filter "${r}" is not supported.`),t}catch(o){if(o instanceof MissingDataException)throw o;return warn(`Invalid stream: "${o}"`),new NullStream}}}const specialChars=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function toHexDigit(n){return n>=48&&n<=57?n&15:n>=65&&n<=70||n>=97&&n<=102?(n&15)+9:-1}class Lexer{constructor(t,r=null){this.stream=t,this.nextChar(),this.strBuf=[],this.knownCommands=r,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let t=this.currentChar,r=!1,a=0,s=1;if(t===45?(s=-1,t=this.nextChar(),t===45&&(t=this.nextChar())):t===43&&(t=this.nextChar()),t===10||t===13)do t=this.nextChar();while(t===10||t===13);if(t===46&&(a=10,t=this.nextChar()),t<48||t>57){const d=`Invalid number: ${String.fromCharCode(t)} (charCode ${t})`;if(isWhiteSpace(t)||t===-1)return info(`Lexer.getNumber - "${d}".`),0;throw new FormatError(d)}let o=t-48,l=0,u=1;for(;(t=this.nextChar())>=0;)if(t>=48&&t<=57){const d=t-48;r?l=l*10+d:(a!==0&&(a*=10),o=o*10+d)}else if(t===46)if(a===0)a=1;else break;else if(t===45)warn("Badly formatted number: minus sign in the middle");else if(t===69||t===101){if(t=this.peekChar(),t===43||t===45)u=t===45?-1:1,this.nextChar();else if(t<48||t>57)break;r=!0}else break;return a!==0&&(o/=a),r&&(o*=10**(u*l)),s*o}getString(){let t=1,r=!1;const a=this.strBuf;a.length=0;let s=this.nextChar();for(;;){let o=!1;switch(s|0){case-1:warn("Unterminated string"),r=!0;break;case 40:++t,a.push("(");break;case 41:--t===0?(this.nextChar(),r=!0):a.push(")");break;case 92:switch(s=this.nextChar(),s){case-1:warn("Unterminated string"),r=!0;break;case 110:a.push(`
`);break;case 114:a.push("\r");break;case 116:a.push("	");break;case 98:a.push("\b");break;case 102:a.push("\f");break;case 92:case 40:case 41:a.push(String.fromCharCode(s));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let l=s&15;s=this.nextChar(),o=!0,s>=48&&s<=55&&(l=(l<<3)+(s&15),s=this.nextChar(),s>=48&&s<=55&&(o=!1,l=(l<<3)+(s&15))),a.push(String.fromCharCode(l));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:a.push(String.fromCharCode(s));break}break;default:a.push(String.fromCharCode(s));break}if(r)break;o||(s=this.nextChar())}return a.join("")}getName(){let t,r;const a=this.strBuf;for(a.length=0;(t=this.nextChar())>=0&&!specialChars[t];)if(t===35){if(t=this.nextChar(),specialChars[t]){warn("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),a.push("#");break}const s=toHexDigit(t);if(s!==-1){r=t,t=this.nextChar();const o=toHexDigit(t);if(o===-1){if(warn(`Lexer_getName: Illegal digit (${String.fromCharCode(t)}) in hexadecimal number.`),a.push("#",String.fromCharCode(r)),specialChars[t])break;a.push(String.fromCharCode(t));continue}a.push(String.fromCharCode(s<<4|o))}else a.push("#",String.fromCharCode(t))}else a.push(String.fromCharCode(t));return a.length>127&&warn(`Name token is longer than allowed by the spec: ${a.length}`),Name.get(a.join(""))}_hexStringWarn(t){if(this._hexStringNumWarn++===5){warn("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||warn(`getHexString - ignoring invalid character: ${t}`)}getHexString(){const t=this.strBuf;t.length=0;let r=this.currentChar,a=!0,s,o;for(this._hexStringNumWarn=0;;)if(r<0){warn("Unterminated hex string");break}else if(r===62){this.nextChar();break}else if(specialChars[r]===1){r=this.nextChar();continue}else{if(a){if(s=toHexDigit(r),s===-1){this._hexStringWarn(r),r=this.nextChar();continue}}else{if(o=toHexDigit(r),o===-1){this._hexStringWarn(r),r=this.nextChar();continue}t.push(String.fromCharCode(s<<4|o))}a=!a,r=this.nextChar()}return t.join("")}getObj(){let t=!1,r=this.currentChar;for(;;){if(r<0)return EOF;if(t)(r===10||r===13)&&(t=!1);else if(r===37)t=!0;else if(specialChars[r]!==1)break;r=this.nextChar()}switch(r|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Cmd.get("[");case 93:return this.nextChar(),Cmd.get("]");case 60:return r=this.nextChar(),r===60?(this.nextChar(),Cmd.get("<<")):this.getHexString();case 62:return r=this.nextChar(),r===62?(this.nextChar(),Cmd.get(">>")):Cmd.get(">");case 123:return this.nextChar(),Cmd.get("{");case 125:return this.nextChar(),Cmd.get("}");case 41:throw this.nextChar(),new FormatError(`Illegal character: ${r}`)}let a=String.fromCharCode(r);if(r<32||r>127){const l=this.peekChar();if(l>=32&&l<=127)return this.nextChar(),Cmd.get(a)}const s=this.knownCommands;let o=s?.[a]!==void 0;for(;(r=this.nextChar())>=0&&!specialChars[r];){const l=a+String.fromCharCode(r);if(o&&s[l]===void 0)break;if(a.length===128)throw new FormatError(`Command token too long: ${a.length}`);a=l,o=s?.[a]!==void 0}return a==="true"?!0:a==="false"?!1:a==="null"?null:(a==="BI"&&(this.beginInlineImagePos=this.stream.pos),Cmd.get(a))}skipToNextLine(){let t=this.currentChar;for(;t>=0;){if(t===13){t=this.nextChar(),t===10&&this.nextChar();break}else if(t===10){this.nextChar();break}t=this.nextChar()}}}class Linearization{static create(t){function r(x,b,m=!1){const y=x.get(b);if(Number.isInteger(y)&&(m?y>=0:y>0))return y;throw new Error(`The "${b}" parameter in the linearization dictionary is invalid.`)}function a(x){const b=x.get("H");let m;if(Array.isArray(b)&&((m=b.length)===2||m===4)){for(let y=0;y<m;y++){const v=b[y];if(!(Number.isInteger(v)&&v>0))throw new Error(`Hint (${y}) in the linearization dictionary is invalid.`)}return b}throw new Error("Hint array in the linearization dictionary is invalid.")}const s=new Parser({lexer:new Lexer(t),xref:null}),o=s.getObj(),l=s.getObj(),u=s.getObj(),d=s.getObj();let f,g;if(Number.isInteger(o)&&Number.isInteger(l)&&isCmd(u,"obj")&&d instanceof Dict&&typeof(f=d.get("Linearized"))=="number"&&f>0){if((g=r(d,"L"))!==t.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:g,hints:a(d),objectNumberFirst:r(d,"O"),endFirst:r(d,"E"),numPages:r(d,"N"),mainXRefEntriesOffset:r(d,"T"),pageFirst:d.has("P")?r(d,"P",!0):0}}}const BUILT_IN_CMAPS=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],MAX_MAP_RANGE=2**24-1;class CMap{constructor(t=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=t}addCodespaceRange(t,r,a){this.codespaceRanges[t-1].push(r,a),this.numCodespaceRanges++}mapCidRange(t,r,a){if(r-t>MAX_MAP_RANGE)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;t<=r;)this._map[t++]=a++}mapBfRange(t,r,a){if(r-t>MAX_MAP_RANGE)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const s=a.length-1;for(;t<=r;){this._map[t++]=a;const o=a.charCodeAt(s)+1;if(o>255){a=a.substring(0,s-1)+String.fromCharCode(a.charCodeAt(s-1)+1)+"\0";continue}a=a.substring(0,s)+String.fromCharCode(o)}}mapBfRangeToArray(t,r,a){if(r-t>MAX_MAP_RANGE)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const s=a.length;let o=0;for(;t<=r&&o<s;)this._map[t]=a[o++],++t}mapOne(t,r){this._map[t]=r}lookup(t){return this._map[t]}contains(t){return this._map[t]!==void 0}forEach(t){const r=this._map,a=r.length;if(a<=65536)for(let s=0;s<a;s++)r[s]!==void 0&&t(s,r[s]);else for(const s in r)t(s,r[s])}charCodeOf(t){const r=this._map;if(r.length<=65536)return r.indexOf(t);for(const a in r)if(r[a]===t)return a|0;return-1}getMap(){return this._map}readCharCode(t,r,a){let s=0;const o=this.codespaceRanges;for(let l=0,u=o.length;l<u;l++){s=(s<<8|t.charCodeAt(r+l))>>>0;const d=o[l];for(let f=0,g=d.length;f<g;){const x=d[f++],b=d[f++];if(s>=x&&s<=b){a.charcode=s,a.length=l+1;return}}}a.charcode=0,a.length=1}getCharCodeLength(t){const r=this.codespaceRanges;for(let a=0,s=r.length;a<s;a++){const o=r[a];for(let l=0,u=o.length;l<u;){const d=o[l++],f=o[l++];if(t>=d&&t<=f)return a+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let t=0;t<65536;t++)if(this._map[t]!==t)return!1;return!0}}class IdentityCMap extends CMap{constructor(t,r){super(),this.vertical=t,this.addCodespaceRange(r,0,65535)}mapCidRange(t,r,a){unreachable("should not call mapCidRange")}mapBfRange(t,r,a){unreachable("should not call mapBfRange")}mapBfRangeToArray(t,r,a){unreachable("should not call mapBfRangeToArray")}mapOne(t,r){unreachable("should not call mapCidOne")}lookup(t){return Number.isInteger(t)&&t<=65535?t:void 0}contains(t){return Number.isInteger(t)&&t<=65535}forEach(t){for(let r=0;r<=65535;r++)t(r,r)}charCodeOf(t){return Number.isInteger(t)&&t<=65535?t:-1}getMap(){const t=new Array(65536);for(let r=0;r<=65535;r++)t[r]=r;return t}get length(){return 65536}get isIdentityCMap(){unreachable("should not access .isIdentityCMap")}}function strToInt(n){let t=0;for(let r=0;r<n.length;r++)t=t<<8|n.charCodeAt(r);return t>>>0}function expectString(n){if(typeof n!="string")throw new FormatError("Malformed CMap: expected string.")}function expectInt(n){if(!Number.isInteger(n))throw new FormatError("Malformed CMap: expected int.")}function parseBfChar(n,t){for(;;){let r=t.getObj();if(r===EOF)break;if(isCmd(r,"endbfchar"))return;expectString(r);const a=strToInt(r);r=t.getObj(),expectString(r);const s=r;n.mapOne(a,s)}}function parseBfRange(n,t){for(;;){let r=t.getObj();if(r===EOF)break;if(isCmd(r,"endbfrange"))return;expectString(r);const a=strToInt(r);r=t.getObj(),expectString(r);const s=strToInt(r);if(r=t.getObj(),Number.isInteger(r)||typeof r=="string"){const o=Number.isInteger(r)?String.fromCharCode(r):r;n.mapBfRange(a,s,o)}else if(isCmd(r,"[")){r=t.getObj();const o=[];for(;!isCmd(r,"]")&&r!==EOF;)o.push(r),r=t.getObj();n.mapBfRangeToArray(a,s,o)}else break}throw new FormatError("Invalid bf range.")}function parseCidChar(n,t){for(;;){let r=t.getObj();if(r===EOF)break;if(isCmd(r,"endcidchar"))return;expectString(r);const a=strToInt(r);r=t.getObj(),expectInt(r);const s=r;n.mapOne(a,s)}}function parseCidRange(n,t){for(;;){let r=t.getObj();if(r===EOF)break;if(isCmd(r,"endcidrange"))return;expectString(r);const a=strToInt(r);r=t.getObj(),expectString(r);const s=strToInt(r);r=t.getObj(),expectInt(r);const o=r;n.mapCidRange(a,s,o)}}function parseCodespaceRange(n,t){for(;;){let r=t.getObj();if(r===EOF)break;if(isCmd(r,"endcodespacerange"))return;if(typeof r!="string")break;const a=strToInt(r);if(r=t.getObj(),typeof r!="string")break;const s=strToInt(r);n.addCodespaceRange(r.length,a,s)}throw new FormatError("Invalid codespace range.")}function parseWMode(n,t){const r=t.getObj();Number.isInteger(r)&&(n.vertical=!!r)}function parseCMapName(n,t){const r=t.getObj();r instanceof Name&&(n.name=r.name)}async function parseCMap(n,t,r,a){let s,o;e:for(;;)try{const l=t.getObj();if(l===EOF)break;if(l instanceof Name)l.name==="WMode"?parseWMode(n,t):l.name==="CMapName"&&parseCMapName(n,t),s=l;else if(l instanceof Cmd)switch(l.cmd){case"endcmap":break e;case"usecmap":s instanceof Name&&(o=s.name);break;case"begincodespacerange":parseCodespaceRange(n,t);break;case"beginbfchar":parseBfChar(n,t);break;case"begincidchar":parseCidChar(n,t);break;case"beginbfrange":parseBfRange(n,t);break;case"begincidrange":parseCidRange(n,t);break}}catch(l){if(l instanceof MissingDataException)throw l;warn("Invalid cMap data: "+l);continue}return!a&&o&&(a=o),a?extendCMap(n,r,a):n}async function extendCMap(n,t,r){if(n.useCMap=await createBuiltInCMap(r,t),n.numCodespaceRanges===0){const a=n.useCMap.codespaceRanges;for(let s=0;s<a.length;s++)n.codespaceRanges[s]=a[s].slice();n.numCodespaceRanges=n.useCMap.numCodespaceRanges}return n.useCMap.forEach(function(a,s){n.contains(a)||n.mapOne(a,n.useCMap.lookup(a))}),n}async function createBuiltInCMap(n,t){if(n==="Identity-H")return new IdentityCMap(!1,2);if(n==="Identity-V")return new IdentityCMap(!0,2);if(!BUILT_IN_CMAPS.includes(n))throw new Error("Unknown CMap name: "+n);if(!t)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:r,compressionType:a}=await t(n),s=new CMap(!0);if(a===CMapCompressionType.BINARY)return new BinaryCMapReader().process(r,s,o=>extendCMap(s,t,o));if(a===CMapCompressionType.NONE){const o=new Lexer(new Stream$1(r));return parseCMap(s,o,t,null)}throw new Error(`Invalid CMap "compressionType" value: ${a}`)}class CMapFactory{static async create({encoding:t,fetchBuiltInCMap:r,useCMap:a}){if(t instanceof Name)return createBuiltInCMap(t.name,r);if(t instanceof BaseStream){const s=await parseCMap(new CMap,new Lexer(t),r,a);return s.isIdentityCMap?createBuiltInCMap(s.name,r):s}throw new Error("Encoding required.")}}const ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"],ExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],MacExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],MacRomanEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"],StandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""],WinAnsiEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"],SymbolSetEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""],ZapfDingbatsEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];function getEncoding(n){switch(n){case"WinAnsiEncoding":return WinAnsiEncoding;case"StandardEncoding":return StandardEncoding;case"MacRomanEncoding":return MacRomanEncoding;case"SymbolSetEncoding":return SymbolSetEncoding;case"ZapfDingbatsEncoding":return ZapfDingbatsEncoding;case"ExpertEncoding":return ExpertEncoding;case"MacExpertEncoding":return MacExpertEncoding;default:return null}}const MAX_SUBR_NESTING=10,CFFStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],NUM_STANDARD_CFF_STRINGS=391,CharstringValidationData=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],CharstringValidationData12=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]+n[t-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]-n[t-1]}},{id:"div",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]/n[t-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(n,t){n[t-1]=-n[t-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]*n[t-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class CFFParser{constructor(t,r,a){this.bytes=t.getBytes(),this.properties=r,this.seacAnalysisEnabled=!!a}parse(){const t=this.properties,r=new CFF;this.cff=r;const a=this.parseHeader(),s=this.parseIndex(a.endPos),o=this.parseIndex(s.endPos),l=this.parseIndex(o.endPos),u=this.parseIndex(l.endPos),d=this.parseDict(o.obj.get(0)),f=this.createDict(CFFTopDict,d,r.strings);r.header=a.obj,r.names=this.parseNameIndex(s.obj),r.strings=this.parseStringIndex(l.obj),r.topDict=f,r.globalSubrIndex=u.obj,this.parsePrivateDict(r.topDict),r.isCIDFont=f.hasName("ROS");const g=f.getByName("CharStrings"),x=this.parseIndex(g).obj,b=f.getByName("FontMatrix");b&&(t.fontMatrix=b);const m=f.getByName("FontBBox");m&&(t.ascent=Math.max(m[3],m[1]),t.descent=Math.min(m[1],m[3]),t.ascentScaled=!0);let y,v;if(r.isCIDFont){const S=this.parseIndex(f.getByName("FDArray")).obj;for(let C=0,E=S.count;C<E;++C){const T=S.get(C),_=this.createDict(CFFTopDict,this.parseDict(T),r.strings);this.parsePrivateDict(_),r.fdArray.push(_)}v=null,y=this.parseCharsets(f.getByName("charset"),x.count,r.strings,!0),r.fdSelect=this.parseFDSelect(f.getByName("FDSelect"),x.count)}else y=this.parseCharsets(f.getByName("charset"),x.count,r.strings,!1),v=this.parseEncoding(f.getByName("Encoding"),t,r.strings,y.charset);r.charset=y,r.encoding=v;const w=this.parseCharStrings({charStrings:x,localSubrIndex:f.privateDict.subrsIndex,globalSubrIndex:u.obj,fdSelect:r.fdSelect,fdArray:r.fdArray,privateDict:f.privateDict});return r.charStrings=w.charStrings,r.seacs=w.seacs,r.widths=w.widths,r}parseHeader(){let t=this.bytes;const r=t.length;let a=0;for(;a<r&&t[a]!==1;)++a;if(a>=r)throw new FormatError("Invalid CFF header");a!==0&&(info("cff data is shifted"),t=t.subarray(a),this.bytes=t);const s=t[0],o=t[1],l=t[2],u=t[3];return{obj:new CFFHeader(s,o,l,u),endPos:l}}parseDict(t){let r=0;function a(){let d=t[r++];return d===30?s():d===28?(d=t[r++],d=(d<<24|t[r++]<<16)>>16,d):d===29?(d=t[r++],d=d<<8|t[r++],d=d<<8|t[r++],d=d<<8|t[r++],d):d>=32&&d<=246?d-139:d>=247&&d<=250?(d-247)*256+t[r++]+108:d>=251&&d<=254?-((d-251)*256)-t[r++]-108:(warn('CFFParser_parseDict: "'+d+'" is a reserved command.'),NaN)}function s(){let d="";const g=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],x=t.length;for(;r<x;){const b=t[r++],m=b>>4,y=b&15;if(m===15||(d+=g[m],y===15))break;d+=g[y]}return parseFloat(d)}let o=[];const l=[];r=0;const u=t.length;for(;r<u;){let d=t[r];d<=21?(d===12&&(d=d<<8|t[++r]),l.push([d,o]),o=[],++r):o.push(a())}return l}parseIndex(t){const r=new CFFIndex,a=this.bytes,s=a[t++]<<8|a[t++],o=[];let l=t,u,d;if(s!==0){const f=a[t++],g=t+(s+1)*f-1;for(u=0,d=s+1;u<d;++u){let x=0;for(let b=0;b<f;++b)x<<=8,x+=a[t++];o.push(g+x)}l=o[s]}for(u=0,d=o.length-1;u<d;++u){const f=o[u],g=o[u+1];r.add(a.subarray(f,g))}return{obj:r,endPos:l}}parseNameIndex(t){const r=[];for(let a=0,s=t.count;a<s;++a){const o=t.get(a);r.push(bytesToString(o))}return r}parseStringIndex(t){const r=new CFFStrings;for(let a=0,s=t.count;a<s;++a){const o=t.get(a);r.add(bytesToString(o))}return r}createDict(t,r,a){const s=new t(a);for(const[o,l]of r)s.setByKey(o,l);return s}parseCharString(t,r,a,s){if(!r||t.callDepth>MAX_SUBR_NESTING)return!1;let o=t.stackSize;const l=t.stack;let u=r.length;for(let d=0;d<u;){const f=r[d++];let g=null;if(f===12){const x=r[d++];x===0?(r[d-2]=139,r[d-1]=22,o=0):g=CharstringValidationData12[x]}else if(f===28)l[o]=(r[d]<<24|r[d+1]<<16)>>16,d+=2,o++;else if(f===14){if(o>=4&&(o-=4,this.seacAnalysisEnabled))return t.seac=l.slice(o,o+4),!1;g=CharstringValidationData[f]}else if(f>=32&&f<=246)l[o]=f-139,o++;else if(f>=247&&f<=254)l[o]=f<251?(f-247<<8)+r[d]+108:-(f-251<<8)-r[d]-108,d++,o++;else if(f===255)l[o]=(r[d]<<24|r[d+1]<<16|r[d+2]<<8|r[d+3])/65536,d+=4,o++;else if(f===19||f===20){if(t.hints+=o>>1,t.hints===0){r.copyWithin(d-1,d,-1),d-=1,u-=1;continue}d+=t.hints+7>>3,o%=2,g=CharstringValidationData[f]}else if(f===10||f===29){const x=f===10?a:s;if(!x)return g=CharstringValidationData[f],warn("Missing subrsIndex for "+g.id),!1;let b=32768;x.count<1240?b=107:x.count<33900&&(b=1131);const m=l[--o]+b;if(m<0||m>=x.count||isNaN(m))return g=CharstringValidationData[f],warn("Out of bounds subrIndex for "+g.id),!1;if(t.stackSize=o,t.callDepth++,!this.parseCharString(t,x.get(m),a,s))return!1;t.callDepth--,o=t.stackSize;continue}else{if(f===11)return t.stackSize=o,!0;if(f===0&&d===r.length)r[d-1]=14,g=CharstringValidationData[14];else if(f===9){r.copyWithin(d-1,d,-1),d-=1,u-=1;continue}else g=CharstringValidationData[f]}if(g){if(g.stem&&(t.hints+=o>>1,f===3||f===23?t.hasVStems=!0:t.hasVStems&&(f===1||f===18)&&(warn("CFF stem hints are in wrong order"),r[d-1]=f===1?3:23)),"min"in g&&!t.undefStack&&o<g.min)return warn("Not enough parameters for "+g.id+"; actual: "+o+", expected: "+g.min),o===0?(r[d-1]=14,!0):!1;t.firstStackClearing&&g.stackClearing&&(t.firstStackClearing=!1,o-=g.min,o>=2&&g.stem?o%=2:o>1&&warn("Found too many parameters for stack-clearing command"),o>0&&(t.width=l[o-1])),"stackDelta"in g?("stackFn"in g&&g.stackFn(l,o),o+=g.stackDelta):g.stackClearing?o=0:g.resetStack?(o=0,t.undefStack=!1):g.undefStack&&(o=0,t.undefStack=!0,t.firstStackClearing=!1)}}return u<r.length&&r.fill(14,u),t.stackSize=o,!0}parseCharStrings({charStrings:t,localSubrIndex:r,globalSubrIndex:a,fdSelect:s,fdArray:o,privateDict:l}){const u=[],d=[],f=t.count;for(let g=0;g<f;g++){const x=t.get(g),b={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let m=!0,y=null,v=l;if(s&&o.length){const w=s.getFDIndex(g);w===-1&&(warn("Glyph index is not in fd select."),m=!1),w>=o.length&&(warn("Invalid fd index for glyph index."),m=!1),m&&(v=o[w].privateDict,y=v.subrsIndex)}else r&&(y=r);if(m&&(m=this.parseCharString(b,x,y,a)),b.width!==null){const w=v.getByName("nominalWidthX");d[g]=w+b.width}else{const w=v.getByName("defaultWidthX");d[g]=w}b.seac!==null&&(u[g]=b.seac),m||t.set(g,new Uint8Array([14]))}return{charStrings:t,seacs:u,widths:d}}emptyPrivateDictionary(t){const r=this.createDict(CFFPrivateDict,[],t.strings);t.setByKey(18,[0,0]),t.privateDict=r}parsePrivateDict(t){if(!t.hasName("Private")){this.emptyPrivateDictionary(t);return}const r=t.getByName("Private");if(!Array.isArray(r)||r.length!==2){t.removeByName("Private");return}const a=r[0],s=r[1];if(a===0||s>=this.bytes.length){this.emptyPrivateDictionary(t);return}const o=s+a,l=this.bytes.subarray(s,o),u=this.parseDict(l),d=this.createDict(CFFPrivateDict,u,t.strings);if(t.privateDict=d,d.getByName("ExpansionFactor")===0&&d.setByName("ExpansionFactor",.06),!d.getByName("Subrs"))return;const f=d.getByName("Subrs"),g=s+f;if(f===0||g>=this.bytes.length){this.emptyPrivateDictionary(t);return}const x=this.parseIndex(g);d.subrsIndex=x.obj}parseCharsets(t,r,a,s){if(t===0)return new CFFCharset(!0,CFFCharsetPredefinedTypes.ISO_ADOBE,ISOAdobeCharset);if(t===1)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT,ExpertCharset);if(t===2)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT_SUBSET,ExpertSubsetCharset);const o=this.bytes,l=t,u=o[t++],d=[s?0:".notdef"];let f,g,x;switch(r-=1,u){case 0:for(x=0;x<r;x++)f=o[t++]<<8|o[t++],d.push(s?f:a.get(f));break;case 1:for(;d.length<=r;)for(f=o[t++]<<8|o[t++],g=o[t++],x=0;x<=g;x++)d.push(s?f++:a.get(f++));break;case 2:for(;d.length<=r;)for(f=o[t++]<<8|o[t++],g=o[t++]<<8|o[t++],x=0;x<=g;x++)d.push(s?f++:a.get(f++));break;default:throw new FormatError("Unknown charset format")}const b=t,m=o.subarray(l,b);return new CFFCharset(!1,u,d,m)}parseEncoding(t,r,a,s){const o=Object.create(null),l=this.bytes;let u=!1,d,f,g,x=null;function b(){const m=l[t++];for(f=0;f<m;f++){const y=l[t++],v=(l[t++]<<8)+(l[t++]&255);o[y]=s.indexOf(a.get(v))}}if(t===0||t===1){u=!0,d=t;const m=t?ExpertEncoding:StandardEncoding;for(f=0,g=s.length;f<g;f++){const y=m.indexOf(s[f]);y!==-1&&(o[y]=f)}}else{const m=t;switch(d=l[t++],d&127){case 0:const v=l[t++];for(f=1;f<=v;f++)o[l[t++]]=f;break;case 1:const w=l[t++];let S=1;for(f=0;f<w;f++){const C=l[t++],E=l[t++];for(let T=C;T<=C+E;T++)o[T]=S++}break;default:throw new FormatError(`Unknown encoding format: ${d} in CFF`)}const y=t;d&128&&(l[m]&=127,b()),x=l.subarray(m,y)}return d&=127,new CFFEncoding(u,d,o,x)}parseFDSelect(t,r){const a=this.bytes,s=a[t++],o=[];let l;switch(s){case 0:for(l=0;l<r;++l){const d=a[t++];o.push(d)}break;case 3:const u=a[t++]<<8|a[t++];for(l=0;l<u;++l){let d=a[t++]<<8|a[t++];l===0&&d!==0&&(warn("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),d=0);const f=a[t++],g=a[t]<<8|a[t+1];for(let x=d;x<g;++x)o.push(f)}t+=2;break;default:throw new FormatError(`parseFDSelect: Unknown format "${s}".`)}if(o.length!==r)throw new FormatError("parseFDSelect: Invalid font data.");return new CFFFDSelect(s,o)}}class CFF{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new CFFStrings,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){warn("Not enough space in charstrings to duplicate first glyph.");return}const t=this.charStrings.get(0);this.charStrings.add(t),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(t){return t<0||t>=this.charStrings.count?!1:this.charStrings.get(t).length>0}}class CFFHeader{constructor(t,r,a,s){this.major=t,this.minor=r,this.hdrSize=a,this.offSize=s}}class CFFStrings{constructor(){this.strings=[]}get(t){return t>=0&&t<=NUM_STANDARD_CFF_STRINGS-1?CFFStandardStrings[t]:t-NUM_STANDARD_CFF_STRINGS<=this.strings.length?this.strings[t-NUM_STANDARD_CFF_STRINGS]:CFFStandardStrings[0]}getSID(t){let r=CFFStandardStrings.indexOf(t);return r!==-1?r:(r=this.strings.indexOf(t),r!==-1?r+NUM_STANDARD_CFF_STRINGS:-1)}add(t){this.strings.push(t)}get count(){return this.strings.length}}class CFFIndex{constructor(){this.objects=[],this.length=0}add(t){this.length+=t.length,this.objects.push(t)}set(t,r){this.length+=r.length-this.objects[t].length,this.objects[t]=r}get(t){return this.objects[t]}get count(){return this.objects.length}}class CFFDict{constructor(t,r){this.keyToNameMap=t.keyToNameMap,this.nameToKeyMap=t.nameToKeyMap,this.defaults=t.defaults,this.types=t.types,this.opcodes=t.opcodes,this.order=t.order,this.strings=r,this.values=Object.create(null)}setByKey(t,r){if(!(t in this.keyToNameMap))return!1;if(r.length===0)return!0;for(const s of r)if(isNaN(s))return warn(`Invalid CFFDict value: "${r}" for key "${t}".`),!0;const a=this.types[t];return(a==="num"||a==="sid"||a==="offset")&&(r=r[0]),this.values[t]=r,!0}setByName(t,r){if(!(t in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name "${t}"`);this.values[this.nameToKeyMap[t]]=r}hasName(t){return this.nameToKeyMap[t]in this.values}getByName(t){if(!(t in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name ${t}"`);const r=this.nameToKeyMap[t];return r in this.values?this.values[r]:this.defaults[r]}removeByName(t){delete this.values[this.nameToKeyMap[t]]}static createTables(t){const r={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const a of t){const s=Array.isArray(a[0])?(a[0][0]<<8)+a[0][1]:a[0];r.keyToNameMap[s]=a[1],r.nameToKeyMap[a[1]]=s,r.types[s]=a[2],r.defaults[s]=a[3],r.opcodes[s]=Array.isArray(a[0])?a[0]:[a[0]],r.order.push(s)}return r}}const CFFTopDictLayout=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class CFFTopDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFTopDictLayout))}constructor(t){super(CFFTopDict.tables,t),this.privateDict=null}}const CFFPrivateDictLayout=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class CFFPrivateDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFPrivateDictLayout))}constructor(t){super(CFFPrivateDict.tables,t),this.subrsIndex=null}}const CFFCharsetPredefinedTypes={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class CFFCharset{constructor(t,r,a,s){this.predefined=t,this.format=r,this.charset=a,this.raw=s}}class CFFEncoding{constructor(t,r,a,s){this.predefined=t,this.format=r,this.encoding=a,this.raw=s}}class CFFFDSelect{constructor(t,r){this.format=t,this.fdSelect=r}getFDIndex(t){return t<0||t>=this.fdSelect.length?-1:this.fdSelect[t]}}class CFFOffsetTracker{constructor(){this.offsets=Object.create(null)}isTracking(t){return t in this.offsets}track(t,r){if(t in this.offsets)throw new FormatError(`Already tracking location of ${t}`);this.offsets[t]=r}offset(t){for(const r in this.offsets)this.offsets[r]+=t}setEntryLocation(t,r,a){if(!(t in this.offsets))throw new FormatError(`Not tracking location of ${t}`);const s=a.data,o=this.offsets[t],l=5;for(let u=0,d=r.length;u<d;++u){const f=u*l+o,g=f+1,x=f+2,b=f+3,m=f+4;if(s[f]!==29||s[g]!==0||s[x]!==0||s[b]!==0||s[m]!==0)throw new FormatError("writing to an offset that is not empty");const y=r[u];s[f]=29,s[g]=y>>24&255,s[x]=y>>16&255,s[b]=y>>8&255,s[m]=y&255}}}class CFFCompiler{constructor(t){this.cff=t}compile(){const t=this.cff,r={data:[],length:0,add(b){try{this.data.push(...b)}catch{this.data=this.data.concat(b)}this.length=this.data.length}},a=this.compileHeader(t.header);r.add(a);const s=this.compileNameIndex(t.names);if(r.add(s),t.isCIDFont&&t.topDict.hasName("FontMatrix")){const b=t.topDict.getByName("FontMatrix");t.topDict.removeByName("FontMatrix");for(const m of t.fdArray){let y=b.slice(0);m.hasName("FontMatrix")&&(y=Util.transform(y,m.getByName("FontMatrix"))),m.setByName("FontMatrix",y)}}t.topDict.getByName("XUID")?.length>16&&t.topDict.removeByName("XUID"),t.topDict.setByName("charset",0);let l=this.compileTopDicts([t.topDict],r.length,t.isCIDFont);r.add(l.output);const u=l.trackers[0],d=this.compileStringIndex(t.strings.strings);r.add(d);const f=this.compileIndex(t.globalSubrIndex);if(r.add(f),t.encoding&&t.topDict.hasName("Encoding"))if(t.encoding.predefined)u.setEntryLocation("Encoding",[t.encoding.format],r);else{const b=this.compileEncoding(t.encoding);u.setEntryLocation("Encoding",[r.length],r),r.add(b)}const g=this.compileCharset(t.charset,t.charStrings.count,t.strings,t.isCIDFont);u.setEntryLocation("charset",[r.length],r),r.add(g);const x=this.compileCharStrings(t.charStrings);if(u.setEntryLocation("CharStrings",[r.length],r),r.add(x),t.isCIDFont){u.setEntryLocation("FDSelect",[r.length],r);const b=this.compileFDSelect(t.fdSelect);r.add(b),l=this.compileTopDicts(t.fdArray,r.length,!0),u.setEntryLocation("FDArray",[r.length],r),r.add(l.output);const m=l.trackers;this.compilePrivateDicts(t.fdArray,m,r)}return this.compilePrivateDicts([t.topDict],[u],r),r.add([0]),r.data}encodeNumber(t){return Number.isInteger(t)?this.encodeInteger(t):this.encodeFloat(t)}static get EncodeFloatRegExp(){return shadow(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(t){let r=t.toString();const a=CFFCompiler.EncodeFloatRegExp.exec(r);if(a){const d=parseFloat("1e"+((a[2]?+a[2]:0)+a[1].length));r=(Math.round(t*d)/d).toString()}let s="",o,l;for(o=0,l=r.length;o<l;++o){const d=r[o];d==="e"?s+=r[++o]==="-"?"c":"b":d==="."?s+="a":d==="-"?s+="e":s+=d}s+=s.length&1?"f":"ff";const u=[30];for(o=0,l=s.length;o<l;o+=2)u.push(parseInt(s.substring(o,o+2),16));return u}encodeInteger(t){let r;return t>=-107&&t<=107?r=[t+139]:t>=108&&t<=1131?(t-=108,r=[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,r=[(t>>8)+251,t&255]):t>=-32768&&t<=32767?r=[28,t>>8&255,t&255]:r=[29,t>>24&255,t>>16&255,t>>8&255,t&255],r}compileHeader(t){return[t.major,t.minor,4,t.offSize]}compileNameIndex(t){const r=new CFFIndex;for(const a of t){const s=Math.min(a.length,127);let o=new Array(s);for(let l=0;l<s;l++){let u=a[l];(u<"!"||u>"~"||u==="["||u==="]"||u==="("||u===")"||u==="{"||u==="}"||u==="<"||u===">"||u==="/"||u==="%")&&(u="_"),o[l]=u}o=o.join(""),o===""&&(o="Bad_Font_Name"),r.add(stringToBytes(o))}return this.compileIndex(r)}compileTopDicts(t,r,a){const s=[];let o=new CFFIndex;for(const l of t){a&&(l.removeByName("CIDFontVersion"),l.removeByName("CIDFontRevision"),l.removeByName("CIDFontType"),l.removeByName("CIDCount"),l.removeByName("UIDBase"));const u=new CFFOffsetTracker,d=this.compileDict(l,u);s.push(u),o.add(d),u.offset(r)}return o=this.compileIndex(o,s),{trackers:s,output:o}}compilePrivateDicts(t,r,a){for(let s=0,o=t.length;s<o;++s){const l=t[s],u=l.privateDict;if(!u||!l.hasName("Private"))throw new FormatError("There must be a private dictionary.");const d=new CFFOffsetTracker,f=this.compileDict(u,d);let g=a.length;if(d.offset(g),f.length||(g=0),r[s].setEntryLocation("Private",[f.length,g],a),a.add(f),u.subrsIndex&&u.hasName("Subrs")){const x=this.compileIndex(u.subrsIndex);d.setEntryLocation("Subrs",[f.length],a),a.add(x)}}}compileDict(t,r){const a=[];for(const s of t.order){if(!(s in t.values))continue;let o=t.values[s],l=t.types[s];if(Array.isArray(l)||(l=[l]),Array.isArray(o)||(o=[o]),o.length!==0){for(let u=0,d=l.length;u<d;++u){const f=l[u],g=o[u];switch(f){case"num":case"sid":a.push(...this.encodeNumber(g));break;case"offset":const x=t.keyToNameMap[s];r.isTracking(x)||r.track(x,a.length),a.push(29,0,0,0,0);break;case"array":case"delta":a.push(...this.encodeNumber(g));for(let b=1,m=o.length;b<m;++b)a.push(...this.encodeNumber(o[b]));break;default:throw new FormatError(`Unknown data type of ${f}`)}}a.push(...t.opcodes[s])}}return a}compileStringIndex(t){const r=new CFFIndex;for(const a of t)r.add(stringToBytes(a));return this.compileIndex(r)}compileCharStrings(t){const r=new CFFIndex;for(let a=0;a<t.count;a++){const s=t.get(a);if(s.length===0){r.add(new Uint8Array([139,14]));continue}r.add(s)}return this.compileIndex(r)}compileCharset(t,r,a,s){let o;const l=r-1;if(s)o=new Uint8Array([2,0,0,l>>8&255,l&255]);else{const u=1+l*2;o=new Uint8Array(u),o[0]=0;let d=0;const f=t.charset.length;let g=!1;for(let x=1;x<o.length;x+=2){let b=0;if(d<f){const m=t.charset[d++];b=a.getSID(m),b===-1&&(b=0,g||(g=!0,warn(`Couldn't find ${m} in CFF strings`)))}o[x]=b>>8&255,o[x+1]=b&255}}return this.compileTypedArray(o)}compileEncoding(t){return this.compileTypedArray(t.raw)}compileFDSelect(t){const r=t.format;let a,s;switch(r){case 0:for(a=new Uint8Array(1+t.fdSelect.length),a[0]=r,s=0;s<t.fdSelect.length;s++)a[s+1]=t.fdSelect[s];break;case 3:const o=0;let l=t.fdSelect[0];const u=[r,0,0,o>>8&255,o&255,l];for(s=1;s<t.fdSelect.length;s++){const f=t.fdSelect[s];f!==l&&(u.push(s>>8&255,s&255,f),l=f)}const d=(u.length-3)/3;u[1]=d>>8&255,u[2]=d&255,u.push(s>>8&255,s&255),a=new Uint8Array(u);break}return this.compileTypedArray(a)}compileTypedArray(t){return Array.from(t)}compileIndex(t,r=[]){const a=t.objects,s=a.length;if(s===0)return[0,0];const o=[s>>8&255,s&255];let l=1,u;for(u=0;u<s;++u)l+=a[u].length;let d;l<256?d=1:l<65536?d=2:l<16777216?d=3:d=4,o.push(d);let f=1;for(u=0;u<s+1;u++)d===1?o.push(f&255):d===2?o.push(f>>8&255,f&255):d===3?o.push(f>>16&255,f>>8&255,f&255):o.push(f>>>24&255,f>>16&255,f>>8&255,f&255),a[u]&&(f+=a[u].length);for(u=0;u<s;u++)r[u]&&r[u].offset(o.length),o.push(...a[u]);return o}}const getGlyphsUnicode=getLookupTableFactory(function(n){n.A=65,n.AE=198,n.AEacute=508,n.AEmacron=482,n.AEsmall=63462,n.Aacute=193,n.Aacutesmall=63457,n.Abreve=258,n.Abreveacute=7854,n.Abrevecyrillic=1232,n.Abrevedotbelow=7862,n.Abrevegrave=7856,n.Abrevehookabove=7858,n.Abrevetilde=7860,n.Acaron=461,n.Acircle=9398,n.Acircumflex=194,n.Acircumflexacute=7844,n.Acircumflexdotbelow=7852,n.Acircumflexgrave=7846,n.Acircumflexhookabove=7848,n.Acircumflexsmall=63458,n.Acircumflextilde=7850,n.Acute=63177,n.Acutesmall=63412,n.Acyrillic=1040,n.Adblgrave=512,n.Adieresis=196,n.Adieresiscyrillic=1234,n.Adieresismacron=478,n.Adieresissmall=63460,n.Adotbelow=7840,n.Adotmacron=480,n.Agrave=192,n.Agravesmall=63456,n.Ahookabove=7842,n.Aiecyrillic=1236,n.Ainvertedbreve=514,n.Alpha=913,n.Alphatonos=902,n.Amacron=256,n.Amonospace=65313,n.Aogonek=260,n.Aring=197,n.Aringacute=506,n.Aringbelow=7680,n.Aringsmall=63461,n.Asmall=63329,n.Atilde=195,n.Atildesmall=63459,n.Aybarmenian=1329,n.B=66,n.Bcircle=9399,n.Bdotaccent=7682,n.Bdotbelow=7684,n.Becyrillic=1041,n.Benarmenian=1330,n.Beta=914,n.Bhook=385,n.Blinebelow=7686,n.Bmonospace=65314,n.Brevesmall=63220,n.Bsmall=63330,n.Btopbar=386,n.C=67,n.Caarmenian=1342,n.Cacute=262,n.Caron=63178,n.Caronsmall=63221,n.Ccaron=268,n.Ccedilla=199,n.Ccedillaacute=7688,n.Ccedillasmall=63463,n.Ccircle=9400,n.Ccircumflex=264,n.Cdot=266,n.Cdotaccent=266,n.Cedillasmall=63416,n.Chaarmenian=1353,n.Cheabkhasiancyrillic=1212,n.Checyrillic=1063,n.Chedescenderabkhasiancyrillic=1214,n.Chedescendercyrillic=1206,n.Chedieresiscyrillic=1268,n.Cheharmenian=1347,n.Chekhakassiancyrillic=1227,n.Cheverticalstrokecyrillic=1208,n.Chi=935,n.Chook=391,n.Circumflexsmall=63222,n.Cmonospace=65315,n.Coarmenian=1361,n.Csmall=63331,n.D=68,n.DZ=497,n.DZcaron=452,n.Daarmenian=1332,n.Dafrican=393,n.Dcaron=270,n.Dcedilla=7696,n.Dcircle=9401,n.Dcircumflexbelow=7698,n.Dcroat=272,n.Ddotaccent=7690,n.Ddotbelow=7692,n.Decyrillic=1044,n.Deicoptic=1006,n.Delta=8710,n.Deltagreek=916,n.Dhook=394,n.Dieresis=63179,n.DieresisAcute=63180,n.DieresisGrave=63181,n.Dieresissmall=63400,n.Digammagreek=988,n.Djecyrillic=1026,n.Dlinebelow=7694,n.Dmonospace=65316,n.Dotaccentsmall=63223,n.Dslash=272,n.Dsmall=63332,n.Dtopbar=395,n.Dz=498,n.Dzcaron=453,n.Dzeabkhasiancyrillic=1248,n.Dzecyrillic=1029,n.Dzhecyrillic=1039,n.E=69,n.Eacute=201,n.Eacutesmall=63465,n.Ebreve=276,n.Ecaron=282,n.Ecedillabreve=7708,n.Echarmenian=1333,n.Ecircle=9402,n.Ecircumflex=202,n.Ecircumflexacute=7870,n.Ecircumflexbelow=7704,n.Ecircumflexdotbelow=7878,n.Ecircumflexgrave=7872,n.Ecircumflexhookabove=7874,n.Ecircumflexsmall=63466,n.Ecircumflextilde=7876,n.Ecyrillic=1028,n.Edblgrave=516,n.Edieresis=203,n.Edieresissmall=63467,n.Edot=278,n.Edotaccent=278,n.Edotbelow=7864,n.Efcyrillic=1060,n.Egrave=200,n.Egravesmall=63464,n.Eharmenian=1335,n.Ehookabove=7866,n.Eightroman=8551,n.Einvertedbreve=518,n.Eiotifiedcyrillic=1124,n.Elcyrillic=1051,n.Elevenroman=8554,n.Emacron=274,n.Emacronacute=7702,n.Emacrongrave=7700,n.Emcyrillic=1052,n.Emonospace=65317,n.Encyrillic=1053,n.Endescendercyrillic=1186,n.Eng=330,n.Enghecyrillic=1188,n.Enhookcyrillic=1223,n.Eogonek=280,n.Eopen=400,n.Epsilon=917,n.Epsilontonos=904,n.Ercyrillic=1056,n.Ereversed=398,n.Ereversedcyrillic=1069,n.Escyrillic=1057,n.Esdescendercyrillic=1194,n.Esh=425,n.Esmall=63333,n.Eta=919,n.Etarmenian=1336,n.Etatonos=905,n.Eth=208,n.Ethsmall=63472,n.Etilde=7868,n.Etildebelow=7706,n.Euro=8364,n.Ezh=439,n.Ezhcaron=494,n.Ezhreversed=440,n.F=70,n.Fcircle=9403,n.Fdotaccent=7710,n.Feharmenian=1366,n.Feicoptic=996,n.Fhook=401,n.Fitacyrillic=1138,n.Fiveroman=8548,n.Fmonospace=65318,n.Fourroman=8547,n.Fsmall=63334,n.G=71,n.GBsquare=13191,n.Gacute=500,n.Gamma=915,n.Gammaafrican=404,n.Gangiacoptic=1002,n.Gbreve=286,n.Gcaron=486,n.Gcedilla=290,n.Gcircle=9404,n.Gcircumflex=284,n.Gcommaaccent=290,n.Gdot=288,n.Gdotaccent=288,n.Gecyrillic=1043,n.Ghadarmenian=1346,n.Ghemiddlehookcyrillic=1172,n.Ghestrokecyrillic=1170,n.Gheupturncyrillic=1168,n.Ghook=403,n.Gimarmenian=1331,n.Gjecyrillic=1027,n.Gmacron=7712,n.Gmonospace=65319,n.Grave=63182,n.Gravesmall=63328,n.Gsmall=63335,n.Gsmallhook=667,n.Gstroke=484,n.H=72,n.H18533=9679,n.H18543=9642,n.H18551=9643,n.H22073=9633,n.HPsquare=13259,n.Haabkhasiancyrillic=1192,n.Hadescendercyrillic=1202,n.Hardsigncyrillic=1066,n.Hbar=294,n.Hbrevebelow=7722,n.Hcedilla=7720,n.Hcircle=9405,n.Hcircumflex=292,n.Hdieresis=7718,n.Hdotaccent=7714,n.Hdotbelow=7716,n.Hmonospace=65320,n.Hoarmenian=1344,n.Horicoptic=1e3,n.Hsmall=63336,n.Hungarumlaut=63183,n.Hungarumlautsmall=63224,n.Hzsquare=13200,n.I=73,n.IAcyrillic=1071,n.IJ=306,n.IUcyrillic=1070,n.Iacute=205,n.Iacutesmall=63469,n.Ibreve=300,n.Icaron=463,n.Icircle=9406,n.Icircumflex=206,n.Icircumflexsmall=63470,n.Icyrillic=1030,n.Idblgrave=520,n.Idieresis=207,n.Idieresisacute=7726,n.Idieresiscyrillic=1252,n.Idieresissmall=63471,n.Idot=304,n.Idotaccent=304,n.Idotbelow=7882,n.Iebrevecyrillic=1238,n.Iecyrillic=1045,n.Ifraktur=8465,n.Igrave=204,n.Igravesmall=63468,n.Ihookabove=7880,n.Iicyrillic=1048,n.Iinvertedbreve=522,n.Iishortcyrillic=1049,n.Imacron=298,n.Imacroncyrillic=1250,n.Imonospace=65321,n.Iniarmenian=1339,n.Iocyrillic=1025,n.Iogonek=302,n.Iota=921,n.Iotaafrican=406,n.Iotadieresis=938,n.Iotatonos=906,n.Ismall=63337,n.Istroke=407,n.Itilde=296,n.Itildebelow=7724,n.Izhitsacyrillic=1140,n.Izhitsadblgravecyrillic=1142,n.J=74,n.Jaarmenian=1345,n.Jcircle=9407,n.Jcircumflex=308,n.Jecyrillic=1032,n.Jheharmenian=1355,n.Jmonospace=65322,n.Jsmall=63338,n.K=75,n.KBsquare=13189,n.KKsquare=13261,n.Kabashkircyrillic=1184,n.Kacute=7728,n.Kacyrillic=1050,n.Kadescendercyrillic=1178,n.Kahookcyrillic=1219,n.Kappa=922,n.Kastrokecyrillic=1182,n.Kaverticalstrokecyrillic=1180,n.Kcaron=488,n.Kcedilla=310,n.Kcircle=9408,n.Kcommaaccent=310,n.Kdotbelow=7730,n.Keharmenian=1364,n.Kenarmenian=1343,n.Khacyrillic=1061,n.Kheicoptic=998,n.Khook=408,n.Kjecyrillic=1036,n.Klinebelow=7732,n.Kmonospace=65323,n.Koppacyrillic=1152,n.Koppagreek=990,n.Ksicyrillic=1134,n.Ksmall=63339,n.L=76,n.LJ=455,n.LL=63167,n.Lacute=313,n.Lambda=923,n.Lcaron=317,n.Lcedilla=315,n.Lcircle=9409,n.Lcircumflexbelow=7740,n.Lcommaaccent=315,n.Ldot=319,n.Ldotaccent=319,n.Ldotbelow=7734,n.Ldotbelowmacron=7736,n.Liwnarmenian=1340,n.Lj=456,n.Ljecyrillic=1033,n.Llinebelow=7738,n.Lmonospace=65324,n.Lslash=321,n.Lslashsmall=63225,n.Lsmall=63340,n.M=77,n.MBsquare=13190,n.Macron=63184,n.Macronsmall=63407,n.Macute=7742,n.Mcircle=9410,n.Mdotaccent=7744,n.Mdotbelow=7746,n.Menarmenian=1348,n.Mmonospace=65325,n.Msmall=63341,n.Mturned=412,n.Mu=924,n.N=78,n.NJ=458,n.Nacute=323,n.Ncaron=327,n.Ncedilla=325,n.Ncircle=9411,n.Ncircumflexbelow=7754,n.Ncommaaccent=325,n.Ndotaccent=7748,n.Ndotbelow=7750,n.Nhookleft=413,n.Nineroman=8552,n.Nj=459,n.Njecyrillic=1034,n.Nlinebelow=7752,n.Nmonospace=65326,n.Nowarmenian=1350,n.Nsmall=63342,n.Ntilde=209,n.Ntildesmall=63473,n.Nu=925,n.O=79,n.OE=338,n.OEsmall=63226,n.Oacute=211,n.Oacutesmall=63475,n.Obarredcyrillic=1256,n.Obarreddieresiscyrillic=1258,n.Obreve=334,n.Ocaron=465,n.Ocenteredtilde=415,n.Ocircle=9412,n.Ocircumflex=212,n.Ocircumflexacute=7888,n.Ocircumflexdotbelow=7896,n.Ocircumflexgrave=7890,n.Ocircumflexhookabove=7892,n.Ocircumflexsmall=63476,n.Ocircumflextilde=7894,n.Ocyrillic=1054,n.Odblacute=336,n.Odblgrave=524,n.Odieresis=214,n.Odieresiscyrillic=1254,n.Odieresissmall=63478,n.Odotbelow=7884,n.Ogoneksmall=63227,n.Ograve=210,n.Ogravesmall=63474,n.Oharmenian=1365,n.Ohm=8486,n.Ohookabove=7886,n.Ohorn=416,n.Ohornacute=7898,n.Ohorndotbelow=7906,n.Ohorngrave=7900,n.Ohornhookabove=7902,n.Ohorntilde=7904,n.Ohungarumlaut=336,n.Oi=418,n.Oinvertedbreve=526,n.Omacron=332,n.Omacronacute=7762,n.Omacrongrave=7760,n.Omega=8486,n.Omegacyrillic=1120,n.Omegagreek=937,n.Omegaroundcyrillic=1146,n.Omegatitlocyrillic=1148,n.Omegatonos=911,n.Omicron=927,n.Omicrontonos=908,n.Omonospace=65327,n.Oneroman=8544,n.Oogonek=490,n.Oogonekmacron=492,n.Oopen=390,n.Oslash=216,n.Oslashacute=510,n.Oslashsmall=63480,n.Osmall=63343,n.Ostrokeacute=510,n.Otcyrillic=1150,n.Otilde=213,n.Otildeacute=7756,n.Otildedieresis=7758,n.Otildesmall=63477,n.P=80,n.Pacute=7764,n.Pcircle=9413,n.Pdotaccent=7766,n.Pecyrillic=1055,n.Peharmenian=1354,n.Pemiddlehookcyrillic=1190,n.Phi=934,n.Phook=420,n.Pi=928,n.Piwrarmenian=1363,n.Pmonospace=65328,n.Psi=936,n.Psicyrillic=1136,n.Psmall=63344,n.Q=81,n.Qcircle=9414,n.Qmonospace=65329,n.Qsmall=63345,n.R=82,n.Raarmenian=1356,n.Racute=340,n.Rcaron=344,n.Rcedilla=342,n.Rcircle=9415,n.Rcommaaccent=342,n.Rdblgrave=528,n.Rdotaccent=7768,n.Rdotbelow=7770,n.Rdotbelowmacron=7772,n.Reharmenian=1360,n.Rfraktur=8476,n.Rho=929,n.Ringsmall=63228,n.Rinvertedbreve=530,n.Rlinebelow=7774,n.Rmonospace=65330,n.Rsmall=63346,n.Rsmallinverted=641,n.Rsmallinvertedsuperior=694,n.S=83,n.SF010000=9484,n.SF020000=9492,n.SF030000=9488,n.SF040000=9496,n.SF050000=9532,n.SF060000=9516,n.SF070000=9524,n.SF080000=9500,n.SF090000=9508,n.SF100000=9472,n.SF110000=9474,n.SF190000=9569,n.SF200000=9570,n.SF210000=9558,n.SF220000=9557,n.SF230000=9571,n.SF240000=9553,n.SF250000=9559,n.SF260000=9565,n.SF270000=9564,n.SF280000=9563,n.SF360000=9566,n.SF370000=9567,n.SF380000=9562,n.SF390000=9556,n.SF400000=9577,n.SF410000=9574,n.SF420000=9568,n.SF430000=9552,n.SF440000=9580,n.SF450000=9575,n.SF460000=9576,n.SF470000=9572,n.SF480000=9573,n.SF490000=9561,n.SF500000=9560,n.SF510000=9554,n.SF520000=9555,n.SF530000=9579,n.SF540000=9578,n.Sacute=346,n.Sacutedotaccent=7780,n.Sampigreek=992,n.Scaron=352,n.Scarondotaccent=7782,n.Scaronsmall=63229,n.Scedilla=350,n.Schwa=399,n.Schwacyrillic=1240,n.Schwadieresiscyrillic=1242,n.Scircle=9416,n.Scircumflex=348,n.Scommaaccent=536,n.Sdotaccent=7776,n.Sdotbelow=7778,n.Sdotbelowdotaccent=7784,n.Seharmenian=1357,n.Sevenroman=8550,n.Shaarmenian=1351,n.Shacyrillic=1064,n.Shchacyrillic=1065,n.Sheicoptic=994,n.Shhacyrillic=1210,n.Shimacoptic=1004,n.Sigma=931,n.Sixroman=8549,n.Smonospace=65331,n.Softsigncyrillic=1068,n.Ssmall=63347,n.Stigmagreek=986,n.T=84,n.Tau=932,n.Tbar=358,n.Tcaron=356,n.Tcedilla=354,n.Tcircle=9417,n.Tcircumflexbelow=7792,n.Tcommaaccent=354,n.Tdotaccent=7786,n.Tdotbelow=7788,n.Tecyrillic=1058,n.Tedescendercyrillic=1196,n.Tenroman=8553,n.Tetsecyrillic=1204,n.Theta=920,n.Thook=428,n.Thorn=222,n.Thornsmall=63486,n.Threeroman=8546,n.Tildesmall=63230,n.Tiwnarmenian=1359,n.Tlinebelow=7790,n.Tmonospace=65332,n.Toarmenian=1337,n.Tonefive=444,n.Tonesix=388,n.Tonetwo=423,n.Tretroflexhook=430,n.Tsecyrillic=1062,n.Tshecyrillic=1035,n.Tsmall=63348,n.Twelveroman=8555,n.Tworoman=8545,n.U=85,n.Uacute=218,n.Uacutesmall=63482,n.Ubreve=364,n.Ucaron=467,n.Ucircle=9418,n.Ucircumflex=219,n.Ucircumflexbelow=7798,n.Ucircumflexsmall=63483,n.Ucyrillic=1059,n.Udblacute=368,n.Udblgrave=532,n.Udieresis=220,n.Udieresisacute=471,n.Udieresisbelow=7794,n.Udieresiscaron=473,n.Udieresiscyrillic=1264,n.Udieresisgrave=475,n.Udieresismacron=469,n.Udieresissmall=63484,n.Udotbelow=7908,n.Ugrave=217,n.Ugravesmall=63481,n.Uhookabove=7910,n.Uhorn=431,n.Uhornacute=7912,n.Uhorndotbelow=7920,n.Uhorngrave=7914,n.Uhornhookabove=7916,n.Uhorntilde=7918,n.Uhungarumlaut=368,n.Uhungarumlautcyrillic=1266,n.Uinvertedbreve=534,n.Ukcyrillic=1144,n.Umacron=362,n.Umacroncyrillic=1262,n.Umacrondieresis=7802,n.Umonospace=65333,n.Uogonek=370,n.Upsilon=933,n.Upsilon1=978,n.Upsilonacutehooksymbolgreek=979,n.Upsilonafrican=433,n.Upsilondieresis=939,n.Upsilondieresishooksymbolgreek=980,n.Upsilonhooksymbol=978,n.Upsilontonos=910,n.Uring=366,n.Ushortcyrillic=1038,n.Usmall=63349,n.Ustraightcyrillic=1198,n.Ustraightstrokecyrillic=1200,n.Utilde=360,n.Utildeacute=7800,n.Utildebelow=7796,n.V=86,n.Vcircle=9419,n.Vdotbelow=7806,n.Vecyrillic=1042,n.Vewarmenian=1358,n.Vhook=434,n.Vmonospace=65334,n.Voarmenian=1352,n.Vsmall=63350,n.Vtilde=7804,n.W=87,n.Wacute=7810,n.Wcircle=9420,n.Wcircumflex=372,n.Wdieresis=7812,n.Wdotaccent=7814,n.Wdotbelow=7816,n.Wgrave=7808,n.Wmonospace=65335,n.Wsmall=63351,n.X=88,n.Xcircle=9421,n.Xdieresis=7820,n.Xdotaccent=7818,n.Xeharmenian=1341,n.Xi=926,n.Xmonospace=65336,n.Xsmall=63352,n.Y=89,n.Yacute=221,n.Yacutesmall=63485,n.Yatcyrillic=1122,n.Ycircle=9422,n.Ycircumflex=374,n.Ydieresis=376,n.Ydieresissmall=63487,n.Ydotaccent=7822,n.Ydotbelow=7924,n.Yericyrillic=1067,n.Yerudieresiscyrillic=1272,n.Ygrave=7922,n.Yhook=435,n.Yhookabove=7926,n.Yiarmenian=1349,n.Yicyrillic=1031,n.Yiwnarmenian=1362,n.Ymonospace=65337,n.Ysmall=63353,n.Ytilde=7928,n.Yusbigcyrillic=1130,n.Yusbigiotifiedcyrillic=1132,n.Yuslittlecyrillic=1126,n.Yuslittleiotifiedcyrillic=1128,n.Z=90,n.Zaarmenian=1334,n.Zacute=377,n.Zcaron=381,n.Zcaronsmall=63231,n.Zcircle=9423,n.Zcircumflex=7824,n.Zdot=379,n.Zdotaccent=379,n.Zdotbelow=7826,n.Zecyrillic=1047,n.Zedescendercyrillic=1176,n.Zedieresiscyrillic=1246,n.Zeta=918,n.Zhearmenian=1338,n.Zhebrevecyrillic=1217,n.Zhecyrillic=1046,n.Zhedescendercyrillic=1174,n.Zhedieresiscyrillic=1244,n.Zlinebelow=7828,n.Zmonospace=65338,n.Zsmall=63354,n.Zstroke=437,n.a=97,n.aabengali=2438,n.aacute=225,n.aadeva=2310,n.aagujarati=2694,n.aagurmukhi=2566,n.aamatragurmukhi=2622,n.aarusquare=13059,n.aavowelsignbengali=2494,n.aavowelsigndeva=2366,n.aavowelsigngujarati=2750,n.abbreviationmarkarmenian=1375,n.abbreviationsigndeva=2416,n.abengali=2437,n.abopomofo=12570,n.abreve=259,n.abreveacute=7855,n.abrevecyrillic=1233,n.abrevedotbelow=7863,n.abrevegrave=7857,n.abrevehookabove=7859,n.abrevetilde=7861,n.acaron=462,n.acircle=9424,n.acircumflex=226,n.acircumflexacute=7845,n.acircumflexdotbelow=7853,n.acircumflexgrave=7847,n.acircumflexhookabove=7849,n.acircumflextilde=7851,n.acute=180,n.acutebelowcmb=791,n.acutecmb=769,n.acutecomb=769,n.acutedeva=2388,n.acutelowmod=719,n.acutetonecmb=833,n.acyrillic=1072,n.adblgrave=513,n.addakgurmukhi=2673,n.adeva=2309,n.adieresis=228,n.adieresiscyrillic=1235,n.adieresismacron=479,n.adotbelow=7841,n.adotmacron=481,n.ae=230,n.aeacute=509,n.aekorean=12624,n.aemacron=483,n.afii00208=8213,n.afii08941=8356,n.afii10017=1040,n.afii10018=1041,n.afii10019=1042,n.afii10020=1043,n.afii10021=1044,n.afii10022=1045,n.afii10023=1025,n.afii10024=1046,n.afii10025=1047,n.afii10026=1048,n.afii10027=1049,n.afii10028=1050,n.afii10029=1051,n.afii10030=1052,n.afii10031=1053,n.afii10032=1054,n.afii10033=1055,n.afii10034=1056,n.afii10035=1057,n.afii10036=1058,n.afii10037=1059,n.afii10038=1060,n.afii10039=1061,n.afii10040=1062,n.afii10041=1063,n.afii10042=1064,n.afii10043=1065,n.afii10044=1066,n.afii10045=1067,n.afii10046=1068,n.afii10047=1069,n.afii10048=1070,n.afii10049=1071,n.afii10050=1168,n.afii10051=1026,n.afii10052=1027,n.afii10053=1028,n.afii10054=1029,n.afii10055=1030,n.afii10056=1031,n.afii10057=1032,n.afii10058=1033,n.afii10059=1034,n.afii10060=1035,n.afii10061=1036,n.afii10062=1038,n.afii10063=63172,n.afii10064=63173,n.afii10065=1072,n.afii10066=1073,n.afii10067=1074,n.afii10068=1075,n.afii10069=1076,n.afii10070=1077,n.afii10071=1105,n.afii10072=1078,n.afii10073=1079,n.afii10074=1080,n.afii10075=1081,n.afii10076=1082,n.afii10077=1083,n.afii10078=1084,n.afii10079=1085,n.afii10080=1086,n.afii10081=1087,n.afii10082=1088,n.afii10083=1089,n.afii10084=1090,n.afii10085=1091,n.afii10086=1092,n.afii10087=1093,n.afii10088=1094,n.afii10089=1095,n.afii10090=1096,n.afii10091=1097,n.afii10092=1098,n.afii10093=1099,n.afii10094=1100,n.afii10095=1101,n.afii10096=1102,n.afii10097=1103,n.afii10098=1169,n.afii10099=1106,n.afii10100=1107,n.afii10101=1108,n.afii10102=1109,n.afii10103=1110,n.afii10104=1111,n.afii10105=1112,n.afii10106=1113,n.afii10107=1114,n.afii10108=1115,n.afii10109=1116,n.afii10110=1118,n.afii10145=1039,n.afii10146=1122,n.afii10147=1138,n.afii10148=1140,n.afii10192=63174,n.afii10193=1119,n.afii10194=1123,n.afii10195=1139,n.afii10196=1141,n.afii10831=63175,n.afii10832=63176,n.afii10846=1241,n.afii299=8206,n.afii300=8207,n.afii301=8205,n.afii57381=1642,n.afii57388=1548,n.afii57392=1632,n.afii57393=1633,n.afii57394=1634,n.afii57395=1635,n.afii57396=1636,n.afii57397=1637,n.afii57398=1638,n.afii57399=1639,n.afii57400=1640,n.afii57401=1641,n.afii57403=1563,n.afii57407=1567,n.afii57409=1569,n.afii57410=1570,n.afii57411=1571,n.afii57412=1572,n.afii57413=1573,n.afii57414=1574,n.afii57415=1575,n.afii57416=1576,n.afii57417=1577,n.afii57418=1578,n.afii57419=1579,n.afii57420=1580,n.afii57421=1581,n.afii57422=1582,n.afii57423=1583,n.afii57424=1584,n.afii57425=1585,n.afii57426=1586,n.afii57427=1587,n.afii57428=1588,n.afii57429=1589,n.afii57430=1590,n.afii57431=1591,n.afii57432=1592,n.afii57433=1593,n.afii57434=1594,n.afii57440=1600,n.afii57441=1601,n.afii57442=1602,n.afii57443=1603,n.afii57444=1604,n.afii57445=1605,n.afii57446=1606,n.afii57448=1608,n.afii57449=1609,n.afii57450=1610,n.afii57451=1611,n.afii57452=1612,n.afii57453=1613,n.afii57454=1614,n.afii57455=1615,n.afii57456=1616,n.afii57457=1617,n.afii57458=1618,n.afii57470=1607,n.afii57505=1700,n.afii57506=1662,n.afii57507=1670,n.afii57508=1688,n.afii57509=1711,n.afii57511=1657,n.afii57512=1672,n.afii57513=1681,n.afii57514=1722,n.afii57519=1746,n.afii57534=1749,n.afii57636=8362,n.afii57645=1470,n.afii57658=1475,n.afii57664=1488,n.afii57665=1489,n.afii57666=1490,n.afii57667=1491,n.afii57668=1492,n.afii57669=1493,n.afii57670=1494,n.afii57671=1495,n.afii57672=1496,n.afii57673=1497,n.afii57674=1498,n.afii57675=1499,n.afii57676=1500,n.afii57677=1501,n.afii57678=1502,n.afii57679=1503,n.afii57680=1504,n.afii57681=1505,n.afii57682=1506,n.afii57683=1507,n.afii57684=1508,n.afii57685=1509,n.afii57686=1510,n.afii57687=1511,n.afii57688=1512,n.afii57689=1513,n.afii57690=1514,n.afii57694=64298,n.afii57695=64299,n.afii57700=64331,n.afii57705=64287,n.afii57716=1520,n.afii57717=1521,n.afii57718=1522,n.afii57723=64309,n.afii57793=1460,n.afii57794=1461,n.afii57795=1462,n.afii57796=1467,n.afii57797=1464,n.afii57798=1463,n.afii57799=1456,n.afii57800=1458,n.afii57801=1457,n.afii57802=1459,n.afii57803=1474,n.afii57804=1473,n.afii57806=1465,n.afii57807=1468,n.afii57839=1469,n.afii57841=1471,n.afii57842=1472,n.afii57929=700,n.afii61248=8453,n.afii61289=8467,n.afii61352=8470,n.afii61573=8236,n.afii61574=8237,n.afii61575=8238,n.afii61664=8204,n.afii63167=1645,n.afii64937=701,n.agrave=224,n.agujarati=2693,n.agurmukhi=2565,n.ahiragana=12354,n.ahookabove=7843,n.aibengali=2448,n.aibopomofo=12574,n.aideva=2320,n.aiecyrillic=1237,n.aigujarati=2704,n.aigurmukhi=2576,n.aimatragurmukhi=2632,n.ainarabic=1593,n.ainfinalarabic=65226,n.aininitialarabic=65227,n.ainmedialarabic=65228,n.ainvertedbreve=515,n.aivowelsignbengali=2504,n.aivowelsigndeva=2376,n.aivowelsigngujarati=2760,n.akatakana=12450,n.akatakanahalfwidth=65393,n.akorean=12623,n.alef=1488,n.alefarabic=1575,n.alefdageshhebrew=64304,n.aleffinalarabic=65166,n.alefhamzaabovearabic=1571,n.alefhamzaabovefinalarabic=65156,n.alefhamzabelowarabic=1573,n.alefhamzabelowfinalarabic=65160,n.alefhebrew=1488,n.aleflamedhebrew=64335,n.alefmaddaabovearabic=1570,n.alefmaddaabovefinalarabic=65154,n.alefmaksuraarabic=1609,n.alefmaksurafinalarabic=65264,n.alefmaksurainitialarabic=65267,n.alefmaksuramedialarabic=65268,n.alefpatahhebrew=64302,n.alefqamatshebrew=64303,n.aleph=8501,n.allequal=8780,n.alpha=945,n.alphatonos=940,n.amacron=257,n.amonospace=65345,n.ampersand=38,n.ampersandmonospace=65286,n.ampersandsmall=63270,n.amsquare=13250,n.anbopomofo=12578,n.angbopomofo=12580,n.angbracketleft=12296,n.angbracketright=12297,n.angkhankhuthai=3674,n.angle=8736,n.anglebracketleft=12296,n.anglebracketleftvertical=65087,n.anglebracketright=12297,n.anglebracketrightvertical=65088,n.angleleft=9001,n.angleright=9002,n.angstrom=8491,n.anoteleia=903,n.anudattadeva=2386,n.anusvarabengali=2434,n.anusvaradeva=2306,n.anusvaragujarati=2690,n.aogonek=261,n.apaatosquare=13056,n.aparen=9372,n.apostrophearmenian=1370,n.apostrophemod=700,n.apple=63743,n.approaches=8784,n.approxequal=8776,n.approxequalorimage=8786,n.approximatelyequal=8773,n.araeaekorean=12686,n.araeakorean=12685,n.arc=8978,n.arighthalfring=7834,n.aring=229,n.aringacute=507,n.aringbelow=7681,n.arrowboth=8596,n.arrowdashdown=8675,n.arrowdashleft=8672,n.arrowdashright=8674,n.arrowdashup=8673,n.arrowdblboth=8660,n.arrowdbldown=8659,n.arrowdblleft=8656,n.arrowdblright=8658,n.arrowdblup=8657,n.arrowdown=8595,n.arrowdownleft=8601,n.arrowdownright=8600,n.arrowdownwhite=8681,n.arrowheaddownmod=709,n.arrowheadleftmod=706,n.arrowheadrightmod=707,n.arrowheadupmod=708,n.arrowhorizex=63719,n.arrowleft=8592,n.arrowleftdbl=8656,n.arrowleftdblstroke=8653,n.arrowleftoverright=8646,n.arrowleftwhite=8678,n.arrowright=8594,n.arrowrightdblstroke=8655,n.arrowrightheavy=10142,n.arrowrightoverleft=8644,n.arrowrightwhite=8680,n.arrowtableft=8676,n.arrowtabright=8677,n.arrowup=8593,n.arrowupdn=8597,n.arrowupdnbse=8616,n.arrowupdownbase=8616,n.arrowupleft=8598,n.arrowupleftofdown=8645,n.arrowupright=8599,n.arrowupwhite=8679,n.arrowvertex=63718,n.asciicircum=94,n.asciicircummonospace=65342,n.asciitilde=126,n.asciitildemonospace=65374,n.ascript=593,n.ascriptturned=594,n.asmallhiragana=12353,n.asmallkatakana=12449,n.asmallkatakanahalfwidth=65383,n.asterisk=42,n.asteriskaltonearabic=1645,n.asteriskarabic=1645,n.asteriskmath=8727,n.asteriskmonospace=65290,n.asterisksmall=65121,n.asterism=8258,n.asuperior=63209,n.asymptoticallyequal=8771,n.at=64,n.atilde=227,n.atmonospace=65312,n.atsmall=65131,n.aturned=592,n.aubengali=2452,n.aubopomofo=12576,n.audeva=2324,n.augujarati=2708,n.augurmukhi=2580,n.aulengthmarkbengali=2519,n.aumatragurmukhi=2636,n.auvowelsignbengali=2508,n.auvowelsigndeva=2380,n.auvowelsigngujarati=2764,n.avagrahadeva=2365,n.aybarmenian=1377,n.ayin=1506,n.ayinaltonehebrew=64288,n.ayinhebrew=1506,n.b=98,n.babengali=2476,n.backslash=92,n.backslashmonospace=65340,n.badeva=2348,n.bagujarati=2732,n.bagurmukhi=2604,n.bahiragana=12400,n.bahtthai=3647,n.bakatakana=12496,n.bar=124,n.barmonospace=65372,n.bbopomofo=12549,n.bcircle=9425,n.bdotaccent=7683,n.bdotbelow=7685,n.beamedsixteenthnotes=9836,n.because=8757,n.becyrillic=1073,n.beharabic=1576,n.behfinalarabic=65168,n.behinitialarabic=65169,n.behiragana=12409,n.behmedialarabic=65170,n.behmeeminitialarabic=64671,n.behmeemisolatedarabic=64520,n.behnoonfinalarabic=64621,n.bekatakana=12505,n.benarmenian=1378,n.bet=1489,n.beta=946,n.betasymbolgreek=976,n.betdagesh=64305,n.betdageshhebrew=64305,n.bethebrew=1489,n.betrafehebrew=64332,n.bhabengali=2477,n.bhadeva=2349,n.bhagujarati=2733,n.bhagurmukhi=2605,n.bhook=595,n.bihiragana=12403,n.bikatakana=12499,n.bilabialclick=664,n.bindigurmukhi=2562,n.birusquare=13105,n.blackcircle=9679,n.blackdiamond=9670,n.blackdownpointingtriangle=9660,n.blackleftpointingpointer=9668,n.blackleftpointingtriangle=9664,n.blacklenticularbracketleft=12304,n.blacklenticularbracketleftvertical=65083,n.blacklenticularbracketright=12305,n.blacklenticularbracketrightvertical=65084,n.blacklowerlefttriangle=9699,n.blacklowerrighttriangle=9698,n.blackrectangle=9644,n.blackrightpointingpointer=9658,n.blackrightpointingtriangle=9654,n.blacksmallsquare=9642,n.blacksmilingface=9787,n.blacksquare=9632,n.blackstar=9733,n.blackupperlefttriangle=9700,n.blackupperrighttriangle=9701,n.blackuppointingsmalltriangle=9652,n.blackuppointingtriangle=9650,n.blank=9251,n.blinebelow=7687,n.block=9608,n.bmonospace=65346,n.bobaimaithai=3610,n.bohiragana=12412,n.bokatakana=12508,n.bparen=9373,n.bqsquare=13251,n.braceex=63732,n.braceleft=123,n.braceleftbt=63731,n.braceleftmid=63730,n.braceleftmonospace=65371,n.braceleftsmall=65115,n.bracelefttp=63729,n.braceleftvertical=65079,n.braceright=125,n.bracerightbt=63742,n.bracerightmid=63741,n.bracerightmonospace=65373,n.bracerightsmall=65116,n.bracerighttp=63740,n.bracerightvertical=65080,n.bracketleft=91,n.bracketleftbt=63728,n.bracketleftex=63727,n.bracketleftmonospace=65339,n.bracketlefttp=63726,n.bracketright=93,n.bracketrightbt=63739,n.bracketrightex=63738,n.bracketrightmonospace=65341,n.bracketrighttp=63737,n.breve=728,n.brevebelowcmb=814,n.brevecmb=774,n.breveinvertedbelowcmb=815,n.breveinvertedcmb=785,n.breveinverteddoublecmb=865,n.bridgebelowcmb=810,n.bridgeinvertedbelowcmb=826,n.brokenbar=166,n.bstroke=384,n.bsuperior=63210,n.btopbar=387,n.buhiragana=12406,n.bukatakana=12502,n.bullet=8226,n.bulletinverse=9688,n.bulletoperator=8729,n.bullseye=9678,n.c=99,n.caarmenian=1390,n.cabengali=2458,n.cacute=263,n.cadeva=2330,n.cagujarati=2714,n.cagurmukhi=2586,n.calsquare=13192,n.candrabindubengali=2433,n.candrabinducmb=784,n.candrabindudeva=2305,n.candrabindugujarati=2689,n.capslock=8682,n.careof=8453,n.caron=711,n.caronbelowcmb=812,n.caroncmb=780,n.carriagereturn=8629,n.cbopomofo=12568,n.ccaron=269,n.ccedilla=231,n.ccedillaacute=7689,n.ccircle=9426,n.ccircumflex=265,n.ccurl=597,n.cdot=267,n.cdotaccent=267,n.cdsquare=13253,n.cedilla=184,n.cedillacmb=807,n.cent=162,n.centigrade=8451,n.centinferior=63199,n.centmonospace=65504,n.centoldstyle=63394,n.centsuperior=63200,n.chaarmenian=1401,n.chabengali=2459,n.chadeva=2331,n.chagujarati=2715,n.chagurmukhi=2587,n.chbopomofo=12564,n.cheabkhasiancyrillic=1213,n.checkmark=10003,n.checyrillic=1095,n.chedescenderabkhasiancyrillic=1215,n.chedescendercyrillic=1207,n.chedieresiscyrillic=1269,n.cheharmenian=1395,n.chekhakassiancyrillic=1228,n.cheverticalstrokecyrillic=1209,n.chi=967,n.chieuchacirclekorean=12919,n.chieuchaparenkorean=12823,n.chieuchcirclekorean=12905,n.chieuchkorean=12618,n.chieuchparenkorean=12809,n.chochangthai=3594,n.chochanthai=3592,n.chochingthai=3593,n.chochoethai=3596,n.chook=392,n.cieucacirclekorean=12918,n.cieucaparenkorean=12822,n.cieuccirclekorean=12904,n.cieuckorean=12616,n.cieucparenkorean=12808,n.cieucuparenkorean=12828,n.circle=9675,n.circlecopyrt=169,n.circlemultiply=8855,n.circleot=8857,n.circleplus=8853,n.circlepostalmark=12342,n.circlewithlefthalfblack=9680,n.circlewithrighthalfblack=9681,n.circumflex=710,n.circumflexbelowcmb=813,n.circumflexcmb=770,n.clear=8999,n.clickalveolar=450,n.clickdental=448,n.clicklateral=449,n.clickretroflex=451,n.club=9827,n.clubsuitblack=9827,n.clubsuitwhite=9831,n.cmcubedsquare=13220,n.cmonospace=65347,n.cmsquaredsquare=13216,n.coarmenian=1409,n.colon=58,n.colonmonetary=8353,n.colonmonospace=65306,n.colonsign=8353,n.colonsmall=65109,n.colontriangularhalfmod=721,n.colontriangularmod=720,n.comma=44,n.commaabovecmb=787,n.commaaboverightcmb=789,n.commaaccent=63171,n.commaarabic=1548,n.commaarmenian=1373,n.commainferior=63201,n.commamonospace=65292,n.commareversedabovecmb=788,n.commareversedmod=701,n.commasmall=65104,n.commasuperior=63202,n.commaturnedabovecmb=786,n.commaturnedmod=699,n.compass=9788,n.congruent=8773,n.contourintegral=8750,n.control=8963,n.controlACK=6,n.controlBEL=7,n.controlBS=8,n.controlCAN=24,n.controlCR=13,n.controlDC1=17,n.controlDC2=18,n.controlDC3=19,n.controlDC4=20,n.controlDEL=127,n.controlDLE=16,n.controlEM=25,n.controlENQ=5,n.controlEOT=4,n.controlESC=27,n.controlETB=23,n.controlETX=3,n.controlFF=12,n.controlFS=28,n.controlGS=29,n.controlHT=9,n.controlLF=10,n.controlNAK=21,n.controlNULL=0,n.controlRS=30,n.controlSI=15,n.controlSO=14,n.controlSOT=2,n.controlSTX=1,n.controlSUB=26,n.controlSYN=22,n.controlUS=31,n.controlVT=11,n.copyright=169,n.copyrightsans=63721,n.copyrightserif=63193,n.cornerbracketleft=12300,n.cornerbracketlefthalfwidth=65378,n.cornerbracketleftvertical=65089,n.cornerbracketright=12301,n.cornerbracketrighthalfwidth=65379,n.cornerbracketrightvertical=65090,n.corporationsquare=13183,n.cosquare=13255,n.coverkgsquare=13254,n.cparen=9374,n.cruzeiro=8354,n.cstretched=663,n.curlyand=8911,n.curlyor=8910,n.currency=164,n.cyrBreve=63185,n.cyrFlex=63186,n.cyrbreve=63188,n.cyrflex=63189,n.d=100,n.daarmenian=1380,n.dabengali=2470,n.dadarabic=1590,n.dadeva=2342,n.dadfinalarabic=65214,n.dadinitialarabic=65215,n.dadmedialarabic=65216,n.dagesh=1468,n.dageshhebrew=1468,n.dagger=8224,n.daggerdbl=8225,n.dagujarati=2726,n.dagurmukhi=2598,n.dahiragana=12384,n.dakatakana=12480,n.dalarabic=1583,n.dalet=1491,n.daletdagesh=64307,n.daletdageshhebrew=64307,n.dalethebrew=1491,n.dalfinalarabic=65194,n.dammaarabic=1615,n.dammalowarabic=1615,n.dammatanaltonearabic=1612,n.dammatanarabic=1612,n.danda=2404,n.dargahebrew=1447,n.dargalefthebrew=1447,n.dasiapneumatacyrilliccmb=1157,n.dblGrave=63187,n.dblanglebracketleft=12298,n.dblanglebracketleftvertical=65085,n.dblanglebracketright=12299,n.dblanglebracketrightvertical=65086,n.dblarchinvertedbelowcmb=811,n.dblarrowleft=8660,n.dblarrowright=8658,n.dbldanda=2405,n.dblgrave=63190,n.dblgravecmb=783,n.dblintegral=8748,n.dbllowline=8215,n.dbllowlinecmb=819,n.dbloverlinecmb=831,n.dblprimemod=698,n.dblverticalbar=8214,n.dblverticallineabovecmb=782,n.dbopomofo=12553,n.dbsquare=13256,n.dcaron=271,n.dcedilla=7697,n.dcircle=9427,n.dcircumflexbelow=7699,n.dcroat=273,n.ddabengali=2465,n.ddadeva=2337,n.ddagujarati=2721,n.ddagurmukhi=2593,n.ddalarabic=1672,n.ddalfinalarabic=64393,n.dddhadeva=2396,n.ddhabengali=2466,n.ddhadeva=2338,n.ddhagujarati=2722,n.ddhagurmukhi=2594,n.ddotaccent=7691,n.ddotbelow=7693,n.decimalseparatorarabic=1643,n.decimalseparatorpersian=1643,n.decyrillic=1076,n.degree=176,n.dehihebrew=1453,n.dehiragana=12391,n.deicoptic=1007,n.dekatakana=12487,n.deleteleft=9003,n.deleteright=8998,n.delta=948,n.deltaturned=397,n.denominatorminusonenumeratorbengali=2552,n.dezh=676,n.dhabengali=2471,n.dhadeva=2343,n.dhagujarati=2727,n.dhagurmukhi=2599,n.dhook=599,n.dialytikatonos=901,n.dialytikatonoscmb=836,n.diamond=9830,n.diamondsuitwhite=9826,n.dieresis=168,n.dieresisacute=63191,n.dieresisbelowcmb=804,n.dieresiscmb=776,n.dieresisgrave=63192,n.dieresistonos=901,n.dihiragana=12386,n.dikatakana=12482,n.dittomark=12291,n.divide=247,n.divides=8739,n.divisionslash=8725,n.djecyrillic=1106,n.dkshade=9619,n.dlinebelow=7695,n.dlsquare=13207,n.dmacron=273,n.dmonospace=65348,n.dnblock=9604,n.dochadathai=3598,n.dodekthai=3604,n.dohiragana=12393,n.dokatakana=12489,n.dollar=36,n.dollarinferior=63203,n.dollarmonospace=65284,n.dollaroldstyle=63268,n.dollarsmall=65129,n.dollarsuperior=63204,n.dong=8363,n.dorusquare=13094,n.dotaccent=729,n.dotaccentcmb=775,n.dotbelowcmb=803,n.dotbelowcomb=803,n.dotkatakana=12539,n.dotlessi=305,n.dotlessj=63166,n.dotlessjstrokehook=644,n.dotmath=8901,n.dottedcircle=9676,n.doubleyodpatah=64287,n.doubleyodpatahhebrew=64287,n.downtackbelowcmb=798,n.downtackmod=725,n.dparen=9375,n.dsuperior=63211,n.dtail=598,n.dtopbar=396,n.duhiragana=12389,n.dukatakana=12485,n.dz=499,n.dzaltone=675,n.dzcaron=454,n.dzcurl=677,n.dzeabkhasiancyrillic=1249,n.dzecyrillic=1109,n.dzhecyrillic=1119,n.e=101,n.eacute=233,n.earth=9793,n.ebengali=2447,n.ebopomofo=12572,n.ebreve=277,n.ecandradeva=2317,n.ecandragujarati=2701,n.ecandravowelsigndeva=2373,n.ecandravowelsigngujarati=2757,n.ecaron=283,n.ecedillabreve=7709,n.echarmenian=1381,n.echyiwnarmenian=1415,n.ecircle=9428,n.ecircumflex=234,n.ecircumflexacute=7871,n.ecircumflexbelow=7705,n.ecircumflexdotbelow=7879,n.ecircumflexgrave=7873,n.ecircumflexhookabove=7875,n.ecircumflextilde=7877,n.ecyrillic=1108,n.edblgrave=517,n.edeva=2319,n.edieresis=235,n.edot=279,n.edotaccent=279,n.edotbelow=7865,n.eegurmukhi=2575,n.eematragurmukhi=2631,n.efcyrillic=1092,n.egrave=232,n.egujarati=2703,n.eharmenian=1383,n.ehbopomofo=12573,n.ehiragana=12360,n.ehookabove=7867,n.eibopomofo=12575,n.eight=56,n.eightarabic=1640,n.eightbengali=2542,n.eightcircle=9319,n.eightcircleinversesansserif=10129,n.eightdeva=2414,n.eighteencircle=9329,n.eighteenparen=9349,n.eighteenperiod=9369,n.eightgujarati=2798,n.eightgurmukhi=2670,n.eighthackarabic=1640,n.eighthangzhou=12328,n.eighthnotebeamed=9835,n.eightideographicparen=12839,n.eightinferior=8328,n.eightmonospace=65304,n.eightoldstyle=63288,n.eightparen=9339,n.eightperiod=9359,n.eightpersian=1784,n.eightroman=8567,n.eightsuperior=8312,n.eightthai=3672,n.einvertedbreve=519,n.eiotifiedcyrillic=1125,n.ekatakana=12456,n.ekatakanahalfwidth=65396,n.ekonkargurmukhi=2676,n.ekorean=12628,n.elcyrillic=1083,n.element=8712,n.elevencircle=9322,n.elevenparen=9342,n.elevenperiod=9362,n.elevenroman=8570,n.ellipsis=8230,n.ellipsisvertical=8942,n.emacron=275,n.emacronacute=7703,n.emacrongrave=7701,n.emcyrillic=1084,n.emdash=8212,n.emdashvertical=65073,n.emonospace=65349,n.emphasismarkarmenian=1371,n.emptyset=8709,n.enbopomofo=12579,n.encyrillic=1085,n.endash=8211,n.endashvertical=65074,n.endescendercyrillic=1187,n.eng=331,n.engbopomofo=12581,n.enghecyrillic=1189,n.enhookcyrillic=1224,n.enspace=8194,n.eogonek=281,n.eokorean=12627,n.eopen=603,n.eopenclosed=666,n.eopenreversed=604,n.eopenreversedclosed=606,n.eopenreversedhook=605,n.eparen=9376,n.epsilon=949,n.epsilontonos=941,n.equal=61,n.equalmonospace=65309,n.equalsmall=65126,n.equalsuperior=8316,n.equivalence=8801,n.erbopomofo=12582,n.ercyrillic=1088,n.ereversed=600,n.ereversedcyrillic=1101,n.escyrillic=1089,n.esdescendercyrillic=1195,n.esh=643,n.eshcurl=646,n.eshortdeva=2318,n.eshortvowelsigndeva=2374,n.eshreversedloop=426,n.eshsquatreversed=645,n.esmallhiragana=12359,n.esmallkatakana=12455,n.esmallkatakanahalfwidth=65386,n.estimated=8494,n.esuperior=63212,n.eta=951,n.etarmenian=1384,n.etatonos=942,n.eth=240,n.etilde=7869,n.etildebelow=7707,n.etnahtafoukhhebrew=1425,n.etnahtafoukhlefthebrew=1425,n.etnahtahebrew=1425,n.etnahtalefthebrew=1425,n.eturned=477,n.eukorean=12641,n.euro=8364,n.evowelsignbengali=2503,n.evowelsigndeva=2375,n.evowelsigngujarati=2759,n.exclam=33,n.exclamarmenian=1372,n.exclamdbl=8252,n.exclamdown=161,n.exclamdownsmall=63393,n.exclammonospace=65281,n.exclamsmall=63265,n.existential=8707,n.ezh=658,n.ezhcaron=495,n.ezhcurl=659,n.ezhreversed=441,n.ezhtail=442,n.f=102,n.fadeva=2398,n.fagurmukhi=2654,n.fahrenheit=8457,n.fathaarabic=1614,n.fathalowarabic=1614,n.fathatanarabic=1611,n.fbopomofo=12552,n.fcircle=9429,n.fdotaccent=7711,n.feharabic=1601,n.feharmenian=1414,n.fehfinalarabic=65234,n.fehinitialarabic=65235,n.fehmedialarabic=65236,n.feicoptic=997,n.female=9792,n.ff=64256,n.f_f=64256,n.ffi=64259,n.f_f_i=64259,n.ffl=64260,n.f_f_l=64260,n.fi=64257,n.f_i=64257,n.fifteencircle=9326,n.fifteenparen=9346,n.fifteenperiod=9366,n.figuredash=8210,n.filledbox=9632,n.filledrect=9644,n.finalkaf=1498,n.finalkafdagesh=64314,n.finalkafdageshhebrew=64314,n.finalkafhebrew=1498,n.finalmem=1501,n.finalmemhebrew=1501,n.finalnun=1503,n.finalnunhebrew=1503,n.finalpe=1507,n.finalpehebrew=1507,n.finaltsadi=1509,n.finaltsadihebrew=1509,n.firsttonechinese=713,n.fisheye=9673,n.fitacyrillic=1139,n.five=53,n.fivearabic=1637,n.fivebengali=2539,n.fivecircle=9316,n.fivecircleinversesansserif=10126,n.fivedeva=2411,n.fiveeighths=8541,n.fivegujarati=2795,n.fivegurmukhi=2667,n.fivehackarabic=1637,n.fivehangzhou=12325,n.fiveideographicparen=12836,n.fiveinferior=8325,n.fivemonospace=65301,n.fiveoldstyle=63285,n.fiveparen=9336,n.fiveperiod=9356,n.fivepersian=1781,n.fiveroman=8564,n.fivesuperior=8309,n.fivethai=3669,n.fl=64258,n.f_l=64258,n.florin=402,n.fmonospace=65350,n.fmsquare=13209,n.fofanthai=3615,n.fofathai=3613,n.fongmanthai=3663,n.forall=8704,n.four=52,n.fourarabic=1636,n.fourbengali=2538,n.fourcircle=9315,n.fourcircleinversesansserif=10125,n.fourdeva=2410,n.fourgujarati=2794,n.fourgurmukhi=2666,n.fourhackarabic=1636,n.fourhangzhou=12324,n.fourideographicparen=12835,n.fourinferior=8324,n.fourmonospace=65300,n.fournumeratorbengali=2551,n.fouroldstyle=63284,n.fourparen=9335,n.fourperiod=9355,n.fourpersian=1780,n.fourroman=8563,n.foursuperior=8308,n.fourteencircle=9325,n.fourteenparen=9345,n.fourteenperiod=9365,n.fourthai=3668,n.fourthtonechinese=715,n.fparen=9377,n.fraction=8260,n.franc=8355,n.g=103,n.gabengali=2455,n.gacute=501,n.gadeva=2327,n.gafarabic=1711,n.gaffinalarabic=64403,n.gafinitialarabic=64404,n.gafmedialarabic=64405,n.gagujarati=2711,n.gagurmukhi=2583,n.gahiragana=12364,n.gakatakana=12460,n.gamma=947,n.gammalatinsmall=611,n.gammasuperior=736,n.gangiacoptic=1003,n.gbopomofo=12557,n.gbreve=287,n.gcaron=487,n.gcedilla=291,n.gcircle=9430,n.gcircumflex=285,n.gcommaaccent=291,n.gdot=289,n.gdotaccent=289,n.gecyrillic=1075,n.gehiragana=12370,n.gekatakana=12466,n.geometricallyequal=8785,n.gereshaccenthebrew=1436,n.gereshhebrew=1523,n.gereshmuqdamhebrew=1437,n.germandbls=223,n.gershayimaccenthebrew=1438,n.gershayimhebrew=1524,n.getamark=12307,n.ghabengali=2456,n.ghadarmenian=1394,n.ghadeva=2328,n.ghagujarati=2712,n.ghagurmukhi=2584,n.ghainarabic=1594,n.ghainfinalarabic=65230,n.ghaininitialarabic=65231,n.ghainmedialarabic=65232,n.ghemiddlehookcyrillic=1173,n.ghestrokecyrillic=1171,n.gheupturncyrillic=1169,n.ghhadeva=2394,n.ghhagurmukhi=2650,n.ghook=608,n.ghzsquare=13203,n.gihiragana=12366,n.gikatakana=12462,n.gimarmenian=1379,n.gimel=1490,n.gimeldagesh=64306,n.gimeldageshhebrew=64306,n.gimelhebrew=1490,n.gjecyrillic=1107,n.glottalinvertedstroke=446,n.glottalstop=660,n.glottalstopinverted=662,n.glottalstopmod=704,n.glottalstopreversed=661,n.glottalstopreversedmod=705,n.glottalstopreversedsuperior=740,n.glottalstopstroke=673,n.glottalstopstrokereversed=674,n.gmacron=7713,n.gmonospace=65351,n.gohiragana=12372,n.gokatakana=12468,n.gparen=9378,n.gpasquare=13228,n.gradient=8711,n.grave=96,n.gravebelowcmb=790,n.gravecmb=768,n.gravecomb=768,n.gravedeva=2387,n.gravelowmod=718,n.gravemonospace=65344,n.gravetonecmb=832,n.greater=62,n.greaterequal=8805,n.greaterequalorless=8923,n.greatermonospace=65310,n.greaterorequivalent=8819,n.greaterorless=8823,n.greateroverequal=8807,n.greatersmall=65125,n.gscript=609,n.gstroke=485,n.guhiragana=12368,n.guillemotleft=171,n.guillemotright=187,n.guilsinglleft=8249,n.guilsinglright=8250,n.gukatakana=12464,n.guramusquare=13080,n.gysquare=13257,n.h=104,n.haabkhasiancyrillic=1193,n.haaltonearabic=1729,n.habengali=2489,n.hadescendercyrillic=1203,n.hadeva=2361,n.hagujarati=2745,n.hagurmukhi=2617,n.haharabic=1581,n.hahfinalarabic=65186,n.hahinitialarabic=65187,n.hahiragana=12399,n.hahmedialarabic=65188,n.haitusquare=13098,n.hakatakana=12495,n.hakatakanahalfwidth=65418,n.halantgurmukhi=2637,n.hamzaarabic=1569,n.hamzalowarabic=1569,n.hangulfiller=12644,n.hardsigncyrillic=1098,n.harpoonleftbarbup=8636,n.harpoonrightbarbup=8640,n.hasquare=13258,n.hatafpatah=1458,n.hatafpatah16=1458,n.hatafpatah23=1458,n.hatafpatah2f=1458,n.hatafpatahhebrew=1458,n.hatafpatahnarrowhebrew=1458,n.hatafpatahquarterhebrew=1458,n.hatafpatahwidehebrew=1458,n.hatafqamats=1459,n.hatafqamats1b=1459,n.hatafqamats28=1459,n.hatafqamats34=1459,n.hatafqamatshebrew=1459,n.hatafqamatsnarrowhebrew=1459,n.hatafqamatsquarterhebrew=1459,n.hatafqamatswidehebrew=1459,n.hatafsegol=1457,n.hatafsegol17=1457,n.hatafsegol24=1457,n.hatafsegol30=1457,n.hatafsegolhebrew=1457,n.hatafsegolnarrowhebrew=1457,n.hatafsegolquarterhebrew=1457,n.hatafsegolwidehebrew=1457,n.hbar=295,n.hbopomofo=12559,n.hbrevebelow=7723,n.hcedilla=7721,n.hcircle=9431,n.hcircumflex=293,n.hdieresis=7719,n.hdotaccent=7715,n.hdotbelow=7717,n.he=1492,n.heart=9829,n.heartsuitblack=9829,n.heartsuitwhite=9825,n.hedagesh=64308,n.hedageshhebrew=64308,n.hehaltonearabic=1729,n.heharabic=1607,n.hehebrew=1492,n.hehfinalaltonearabic=64423,n.hehfinalalttwoarabic=65258,n.hehfinalarabic=65258,n.hehhamzaabovefinalarabic=64421,n.hehhamzaaboveisolatedarabic=64420,n.hehinitialaltonearabic=64424,n.hehinitialarabic=65259,n.hehiragana=12408,n.hehmedialaltonearabic=64425,n.hehmedialarabic=65260,n.heiseierasquare=13179,n.hekatakana=12504,n.hekatakanahalfwidth=65421,n.hekutaarusquare=13110,n.henghook=615,n.herutusquare=13113,n.het=1495,n.hethebrew=1495,n.hhook=614,n.hhooksuperior=689,n.hieuhacirclekorean=12923,n.hieuhaparenkorean=12827,n.hieuhcirclekorean=12909,n.hieuhkorean=12622,n.hieuhparenkorean=12813,n.hihiragana=12402,n.hikatakana=12498,n.hikatakanahalfwidth=65419,n.hiriq=1460,n.hiriq14=1460,n.hiriq21=1460,n.hiriq2d=1460,n.hiriqhebrew=1460,n.hiriqnarrowhebrew=1460,n.hiriqquarterhebrew=1460,n.hiriqwidehebrew=1460,n.hlinebelow=7830,n.hmonospace=65352,n.hoarmenian=1392,n.hohipthai=3627,n.hohiragana=12411,n.hokatakana=12507,n.hokatakanahalfwidth=65422,n.holam=1465,n.holam19=1465,n.holam26=1465,n.holam32=1465,n.holamhebrew=1465,n.holamnarrowhebrew=1465,n.holamquarterhebrew=1465,n.holamwidehebrew=1465,n.honokhukthai=3630,n.hookabovecomb=777,n.hookcmb=777,n.hookpalatalizedbelowcmb=801,n.hookretroflexbelowcmb=802,n.hoonsquare=13122,n.horicoptic=1001,n.horizontalbar=8213,n.horncmb=795,n.hotsprings=9832,n.house=8962,n.hparen=9379,n.hsuperior=688,n.hturned=613,n.huhiragana=12405,n.huiitosquare=13107,n.hukatakana=12501,n.hukatakanahalfwidth=65420,n.hungarumlaut=733,n.hungarumlautcmb=779,n.hv=405,n.hyphen=45,n.hypheninferior=63205,n.hyphenmonospace=65293,n.hyphensmall=65123,n.hyphensuperior=63206,n.hyphentwo=8208,n.i=105,n.iacute=237,n.iacyrillic=1103,n.ibengali=2439,n.ibopomofo=12583,n.ibreve=301,n.icaron=464,n.icircle=9432,n.icircumflex=238,n.icyrillic=1110,n.idblgrave=521,n.ideographearthcircle=12943,n.ideographfirecircle=12939,n.ideographicallianceparen=12863,n.ideographiccallparen=12858,n.ideographiccentrecircle=12965,n.ideographicclose=12294,n.ideographiccomma=12289,n.ideographiccommaleft=65380,n.ideographiccongratulationparen=12855,n.ideographiccorrectcircle=12963,n.ideographicearthparen=12847,n.ideographicenterpriseparen=12861,n.ideographicexcellentcircle=12957,n.ideographicfestivalparen=12864,n.ideographicfinancialcircle=12950,n.ideographicfinancialparen=12854,n.ideographicfireparen=12843,n.ideographichaveparen=12850,n.ideographichighcircle=12964,n.ideographiciterationmark=12293,n.ideographiclaborcircle=12952,n.ideographiclaborparen=12856,n.ideographicleftcircle=12967,n.ideographiclowcircle=12966,n.ideographicmedicinecircle=12969,n.ideographicmetalparen=12846,n.ideographicmoonparen=12842,n.ideographicnameparen=12852,n.ideographicperiod=12290,n.ideographicprintcircle=12958,n.ideographicreachparen=12867,n.ideographicrepresentparen=12857,n.ideographicresourceparen=12862,n.ideographicrightcircle=12968,n.ideographicsecretcircle=12953,n.ideographicselfparen=12866,n.ideographicsocietyparen=12851,n.ideographicspace=12288,n.ideographicspecialparen=12853,n.ideographicstockparen=12849,n.ideographicstudyparen=12859,n.ideographicsunparen=12848,n.ideographicsuperviseparen=12860,n.ideographicwaterparen=12844,n.ideographicwoodparen=12845,n.ideographiczero=12295,n.ideographmetalcircle=12942,n.ideographmooncircle=12938,n.ideographnamecircle=12948,n.ideographsuncircle=12944,n.ideographwatercircle=12940,n.ideographwoodcircle=12941,n.ideva=2311,n.idieresis=239,n.idieresisacute=7727,n.idieresiscyrillic=1253,n.idotbelow=7883,n.iebrevecyrillic=1239,n.iecyrillic=1077,n.ieungacirclekorean=12917,n.ieungaparenkorean=12821,n.ieungcirclekorean=12903,n.ieungkorean=12615,n.ieungparenkorean=12807,n.igrave=236,n.igujarati=2695,n.igurmukhi=2567,n.ihiragana=12356,n.ihookabove=7881,n.iibengali=2440,n.iicyrillic=1080,n.iideva=2312,n.iigujarati=2696,n.iigurmukhi=2568,n.iimatragurmukhi=2624,n.iinvertedbreve=523,n.iishortcyrillic=1081,n.iivowelsignbengali=2496,n.iivowelsigndeva=2368,n.iivowelsigngujarati=2752,n.ij=307,n.ikatakana=12452,n.ikatakanahalfwidth=65394,n.ikorean=12643,n.ilde=732,n.iluyhebrew=1452,n.imacron=299,n.imacroncyrillic=1251,n.imageorapproximatelyequal=8787,n.imatragurmukhi=2623,n.imonospace=65353,n.increment=8710,n.infinity=8734,n.iniarmenian=1387,n.integral=8747,n.integralbottom=8993,n.integralbt=8993,n.integralex=63733,n.integraltop=8992,n.integraltp=8992,n.intersection=8745,n.intisquare=13061,n.invbullet=9688,n.invcircle=9689,n.invsmileface=9787,n.iocyrillic=1105,n.iogonek=303,n.iota=953,n.iotadieresis=970,n.iotadieresistonos=912,n.iotalatin=617,n.iotatonos=943,n.iparen=9380,n.irigurmukhi=2674,n.ismallhiragana=12355,n.ismallkatakana=12451,n.ismallkatakanahalfwidth=65384,n.issharbengali=2554,n.istroke=616,n.isuperior=63213,n.iterationhiragana=12445,n.iterationkatakana=12541,n.itilde=297,n.itildebelow=7725,n.iubopomofo=12585,n.iucyrillic=1102,n.ivowelsignbengali=2495,n.ivowelsigndeva=2367,n.ivowelsigngujarati=2751,n.izhitsacyrillic=1141,n.izhitsadblgravecyrillic=1143,n.j=106,n.jaarmenian=1393,n.jabengali=2460,n.jadeva=2332,n.jagujarati=2716,n.jagurmukhi=2588,n.jbopomofo=12560,n.jcaron=496,n.jcircle=9433,n.jcircumflex=309,n.jcrossedtail=669,n.jdotlessstroke=607,n.jecyrillic=1112,n.jeemarabic=1580,n.jeemfinalarabic=65182,n.jeeminitialarabic=65183,n.jeemmedialarabic=65184,n.jeharabic=1688,n.jehfinalarabic=64395,n.jhabengali=2461,n.jhadeva=2333,n.jhagujarati=2717,n.jhagurmukhi=2589,n.jheharmenian=1403,n.jis=12292,n.jmonospace=65354,n.jparen=9381,n.jsuperior=690,n.k=107,n.kabashkircyrillic=1185,n.kabengali=2453,n.kacute=7729,n.kacyrillic=1082,n.kadescendercyrillic=1179,n.kadeva=2325,n.kaf=1499,n.kafarabic=1603,n.kafdagesh=64315,n.kafdageshhebrew=64315,n.kaffinalarabic=65242,n.kafhebrew=1499,n.kafinitialarabic=65243,n.kafmedialarabic=65244,n.kafrafehebrew=64333,n.kagujarati=2709,n.kagurmukhi=2581,n.kahiragana=12363,n.kahookcyrillic=1220,n.kakatakana=12459,n.kakatakanahalfwidth=65398,n.kappa=954,n.kappasymbolgreek=1008,n.kapyeounmieumkorean=12657,n.kapyeounphieuphkorean=12676,n.kapyeounpieupkorean=12664,n.kapyeounssangpieupkorean=12665,n.karoriisquare=13069,n.kashidaautoarabic=1600,n.kashidaautonosidebearingarabic=1600,n.kasmallkatakana=12533,n.kasquare=13188,n.kasraarabic=1616,n.kasratanarabic=1613,n.kastrokecyrillic=1183,n.katahiraprolongmarkhalfwidth=65392,n.kaverticalstrokecyrillic=1181,n.kbopomofo=12558,n.kcalsquare=13193,n.kcaron=489,n.kcedilla=311,n.kcircle=9434,n.kcommaaccent=311,n.kdotbelow=7731,n.keharmenian=1412,n.kehiragana=12369,n.kekatakana=12465,n.kekatakanahalfwidth=65401,n.kenarmenian=1391,n.kesmallkatakana=12534,n.kgreenlandic=312,n.khabengali=2454,n.khacyrillic=1093,n.khadeva=2326,n.khagujarati=2710,n.khagurmukhi=2582,n.khaharabic=1582,n.khahfinalarabic=65190,n.khahinitialarabic=65191,n.khahmedialarabic=65192,n.kheicoptic=999,n.khhadeva=2393,n.khhagurmukhi=2649,n.khieukhacirclekorean=12920,n.khieukhaparenkorean=12824,n.khieukhcirclekorean=12906,n.khieukhkorean=12619,n.khieukhparenkorean=12810,n.khokhaithai=3586,n.khokhonthai=3589,n.khokhuatthai=3587,n.khokhwaithai=3588,n.khomutthai=3675,n.khook=409,n.khorakhangthai=3590,n.khzsquare=13201,n.kihiragana=12365,n.kikatakana=12461,n.kikatakanahalfwidth=65399,n.kiroguramusquare=13077,n.kiromeetorusquare=13078,n.kirosquare=13076,n.kiyeokacirclekorean=12910,n.kiyeokaparenkorean=12814,n.kiyeokcirclekorean=12896,n.kiyeokkorean=12593,n.kiyeokparenkorean=12800,n.kiyeoksioskorean=12595,n.kjecyrillic=1116,n.klinebelow=7733,n.klsquare=13208,n.kmcubedsquare=13222,n.kmonospace=65355,n.kmsquaredsquare=13218,n.kohiragana=12371,n.kohmsquare=13248,n.kokaithai=3585,n.kokatakana=12467,n.kokatakanahalfwidth=65402,n.kooposquare=13086,n.koppacyrillic=1153,n.koreanstandardsymbol=12927,n.koroniscmb=835,n.kparen=9382,n.kpasquare=13226,n.ksicyrillic=1135,n.ktsquare=13263,n.kturned=670,n.kuhiragana=12367,n.kukatakana=12463,n.kukatakanahalfwidth=65400,n.kvsquare=13240,n.kwsquare=13246,n.l=108,n.labengali=2482,n.lacute=314,n.ladeva=2354,n.lagujarati=2738,n.lagurmukhi=2610,n.lakkhangyaothai=3653,n.lamaleffinalarabic=65276,n.lamalefhamzaabovefinalarabic=65272,n.lamalefhamzaaboveisolatedarabic=65271,n.lamalefhamzabelowfinalarabic=65274,n.lamalefhamzabelowisolatedarabic=65273,n.lamalefisolatedarabic=65275,n.lamalefmaddaabovefinalarabic=65270,n.lamalefmaddaaboveisolatedarabic=65269,n.lamarabic=1604,n.lambda=955,n.lambdastroke=411,n.lamed=1500,n.lameddagesh=64316,n.lameddageshhebrew=64316,n.lamedhebrew=1500,n.lamfinalarabic=65246,n.lamhahinitialarabic=64714,n.laminitialarabic=65247,n.lamjeeminitialarabic=64713,n.lamkhahinitialarabic=64715,n.lamlamhehisolatedarabic=65010,n.lammedialarabic=65248,n.lammeemhahinitialarabic=64904,n.lammeeminitialarabic=64716,n.largecircle=9711,n.lbar=410,n.lbelt=620,n.lbopomofo=12556,n.lcaron=318,n.lcedilla=316,n.lcircle=9435,n.lcircumflexbelow=7741,n.lcommaaccent=316,n.ldot=320,n.ldotaccent=320,n.ldotbelow=7735,n.ldotbelowmacron=7737,n.leftangleabovecmb=794,n.lefttackbelowcmb=792,n.less=60,n.lessequal=8804,n.lessequalorgreater=8922,n.lessmonospace=65308,n.lessorequivalent=8818,n.lessorgreater=8822,n.lessoverequal=8806,n.lesssmall=65124,n.lezh=622,n.lfblock=9612,n.lhookretroflex=621,n.lira=8356,n.liwnarmenian=1388,n.lj=457,n.ljecyrillic=1113,n.ll=63168,n.lladeva=2355,n.llagujarati=2739,n.llinebelow=7739,n.llladeva=2356,n.llvocalicbengali=2529,n.llvocalicdeva=2401,n.llvocalicvowelsignbengali=2531,n.llvocalicvowelsigndeva=2403,n.lmiddletilde=619,n.lmonospace=65356,n.lmsquare=13264,n.lochulathai=3628,n.logicaland=8743,n.logicalnot=172,n.logicalnotreversed=8976,n.logicalor=8744,n.lolingthai=3621,n.longs=383,n.lowlinecenterline=65102,n.lowlinecmb=818,n.lowlinedashed=65101,n.lozenge=9674,n.lparen=9383,n.lslash=322,n.lsquare=8467,n.lsuperior=63214,n.ltshade=9617,n.luthai=3622,n.lvocalicbengali=2444,n.lvocalicdeva=2316,n.lvocalicvowelsignbengali=2530,n.lvocalicvowelsigndeva=2402,n.lxsquare=13267,n.m=109,n.mabengali=2478,n.macron=175,n.macronbelowcmb=817,n.macroncmb=772,n.macronlowmod=717,n.macronmonospace=65507,n.macute=7743,n.madeva=2350,n.magujarati=2734,n.magurmukhi=2606,n.mahapakhhebrew=1444,n.mahapakhlefthebrew=1444,n.mahiragana=12414,n.maichattawalowleftthai=63637,n.maichattawalowrightthai=63636,n.maichattawathai=3659,n.maichattawaupperleftthai=63635,n.maieklowleftthai=63628,n.maieklowrightthai=63627,n.maiekthai=3656,n.maiekupperleftthai=63626,n.maihanakatleftthai=63620,n.maihanakatthai=3633,n.maitaikhuleftthai=63625,n.maitaikhuthai=3655,n.maitholowleftthai=63631,n.maitholowrightthai=63630,n.maithothai=3657,n.maithoupperleftthai=63629,n.maitrilowleftthai=63634,n.maitrilowrightthai=63633,n.maitrithai=3658,n.maitriupperleftthai=63632,n.maiyamokthai=3654,n.makatakana=12510,n.makatakanahalfwidth=65423,n.male=9794,n.mansyonsquare=13127,n.maqafhebrew=1470,n.mars=9794,n.masoracirclehebrew=1455,n.masquare=13187,n.mbopomofo=12551,n.mbsquare=13268,n.mcircle=9436,n.mcubedsquare=13221,n.mdotaccent=7745,n.mdotbelow=7747,n.meemarabic=1605,n.meemfinalarabic=65250,n.meeminitialarabic=65251,n.meemmedialarabic=65252,n.meemmeeminitialarabic=64721,n.meemmeemisolatedarabic=64584,n.meetorusquare=13133,n.mehiragana=12417,n.meizierasquare=13182,n.mekatakana=12513,n.mekatakanahalfwidth=65426,n.mem=1502,n.memdagesh=64318,n.memdageshhebrew=64318,n.memhebrew=1502,n.menarmenian=1396,n.merkhahebrew=1445,n.merkhakefulahebrew=1446,n.merkhakefulalefthebrew=1446,n.merkhalefthebrew=1445,n.mhook=625,n.mhzsquare=13202,n.middledotkatakanahalfwidth=65381,n.middot=183,n.mieumacirclekorean=12914,n.mieumaparenkorean=12818,n.mieumcirclekorean=12900,n.mieumkorean=12609,n.mieumpansioskorean=12656,n.mieumparenkorean=12804,n.mieumpieupkorean=12654,n.mieumsioskorean=12655,n.mihiragana=12415,n.mikatakana=12511,n.mikatakanahalfwidth=65424,n.minus=8722,n.minusbelowcmb=800,n.minuscircle=8854,n.minusmod=727,n.minusplus=8723,n.minute=8242,n.miribaarusquare=13130,n.mirisquare=13129,n.mlonglegturned=624,n.mlsquare=13206,n.mmcubedsquare=13219,n.mmonospace=65357,n.mmsquaredsquare=13215,n.mohiragana=12418,n.mohmsquare=13249,n.mokatakana=12514,n.mokatakanahalfwidth=65427,n.molsquare=13270,n.momathai=3617,n.moverssquare=13223,n.moverssquaredsquare=13224,n.mparen=9384,n.mpasquare=13227,n.mssquare=13235,n.msuperior=63215,n.mturned=623,n.mu=181,n.mu1=181,n.muasquare=13186,n.muchgreater=8811,n.muchless=8810,n.mufsquare=13196,n.mugreek=956,n.mugsquare=13197,n.muhiragana=12416,n.mukatakana=12512,n.mukatakanahalfwidth=65425,n.mulsquare=13205,n.multiply=215,n.mumsquare=13211,n.munahhebrew=1443,n.munahlefthebrew=1443,n.musicalnote=9834,n.musicalnotedbl=9835,n.musicflatsign=9837,n.musicsharpsign=9839,n.mussquare=13234,n.muvsquare=13238,n.muwsquare=13244,n.mvmegasquare=13241,n.mvsquare=13239,n.mwmegasquare=13247,n.mwsquare=13245,n.n=110,n.nabengali=2472,n.nabla=8711,n.nacute=324,n.nadeva=2344,n.nagujarati=2728,n.nagurmukhi=2600,n.nahiragana=12394,n.nakatakana=12490,n.nakatakanahalfwidth=65413,n.napostrophe=329,n.nasquare=13185,n.nbopomofo=12555,n.nbspace=160,n.ncaron=328,n.ncedilla=326,n.ncircle=9437,n.ncircumflexbelow=7755,n.ncommaaccent=326,n.ndotaccent=7749,n.ndotbelow=7751,n.nehiragana=12397,n.nekatakana=12493,n.nekatakanahalfwidth=65416,n.newsheqelsign=8362,n.nfsquare=13195,n.ngabengali=2457,n.ngadeva=2329,n.ngagujarati=2713,n.ngagurmukhi=2585,n.ngonguthai=3591,n.nhiragana=12435,n.nhookleft=626,n.nhookretroflex=627,n.nieunacirclekorean=12911,n.nieunaparenkorean=12815,n.nieuncieuckorean=12597,n.nieuncirclekorean=12897,n.nieunhieuhkorean=12598,n.nieunkorean=12596,n.nieunpansioskorean=12648,n.nieunparenkorean=12801,n.nieunsioskorean=12647,n.nieuntikeutkorean=12646,n.nihiragana=12395,n.nikatakana=12491,n.nikatakanahalfwidth=65414,n.nikhahitleftthai=63641,n.nikhahitthai=3661,n.nine=57,n.ninearabic=1641,n.ninebengali=2543,n.ninecircle=9320,n.ninecircleinversesansserif=10130,n.ninedeva=2415,n.ninegujarati=2799,n.ninegurmukhi=2671,n.ninehackarabic=1641,n.ninehangzhou=12329,n.nineideographicparen=12840,n.nineinferior=8329,n.ninemonospace=65305,n.nineoldstyle=63289,n.nineparen=9340,n.nineperiod=9360,n.ninepersian=1785,n.nineroman=8568,n.ninesuperior=8313,n.nineteencircle=9330,n.nineteenparen=9350,n.nineteenperiod=9370,n.ninethai=3673,n.nj=460,n.njecyrillic=1114,n.nkatakana=12531,n.nkatakanahalfwidth=65437,n.nlegrightlong=414,n.nlinebelow=7753,n.nmonospace=65358,n.nmsquare=13210,n.nnabengali=2467,n.nnadeva=2339,n.nnagujarati=2723,n.nnagurmukhi=2595,n.nnnadeva=2345,n.nohiragana=12398,n.nokatakana=12494,n.nokatakanahalfwidth=65417,n.nonbreakingspace=160,n.nonenthai=3603,n.nonuthai=3609,n.noonarabic=1606,n.noonfinalarabic=65254,n.noonghunnaarabic=1722,n.noonghunnafinalarabic=64415,n.nooninitialarabic=65255,n.noonjeeminitialarabic=64722,n.noonjeemisolatedarabic=64587,n.noonmedialarabic=65256,n.noonmeeminitialarabic=64725,n.noonmeemisolatedarabic=64590,n.noonnoonfinalarabic=64653,n.notcontains=8716,n.notelement=8713,n.notelementof=8713,n.notequal=8800,n.notgreater=8815,n.notgreaternorequal=8817,n.notgreaternorless=8825,n.notidentical=8802,n.notless=8814,n.notlessnorequal=8816,n.notparallel=8742,n.notprecedes=8832,n.notsubset=8836,n.notsucceeds=8833,n.notsuperset=8837,n.nowarmenian=1398,n.nparen=9385,n.nssquare=13233,n.nsuperior=8319,n.ntilde=241,n.nu=957,n.nuhiragana=12396,n.nukatakana=12492,n.nukatakanahalfwidth=65415,n.nuktabengali=2492,n.nuktadeva=2364,n.nuktagujarati=2748,n.nuktagurmukhi=2620,n.numbersign=35,n.numbersignmonospace=65283,n.numbersignsmall=65119,n.numeralsigngreek=884,n.numeralsignlowergreek=885,n.numero=8470,n.nun=1504,n.nundagesh=64320,n.nundageshhebrew=64320,n.nunhebrew=1504,n.nvsquare=13237,n.nwsquare=13243,n.nyabengali=2462,n.nyadeva=2334,n.nyagujarati=2718,n.nyagurmukhi=2590,n.o=111,n.oacute=243,n.oangthai=3629,n.obarred=629,n.obarredcyrillic=1257,n.obarreddieresiscyrillic=1259,n.obengali=2451,n.obopomofo=12571,n.obreve=335,n.ocandradeva=2321,n.ocandragujarati=2705,n.ocandravowelsigndeva=2377,n.ocandravowelsigngujarati=2761,n.ocaron=466,n.ocircle=9438,n.ocircumflex=244,n.ocircumflexacute=7889,n.ocircumflexdotbelow=7897,n.ocircumflexgrave=7891,n.ocircumflexhookabove=7893,n.ocircumflextilde=7895,n.ocyrillic=1086,n.odblacute=337,n.odblgrave=525,n.odeva=2323,n.odieresis=246,n.odieresiscyrillic=1255,n.odotbelow=7885,n.oe=339,n.oekorean=12634,n.ogonek=731,n.ogonekcmb=808,n.ograve=242,n.ogujarati=2707,n.oharmenian=1413,n.ohiragana=12362,n.ohookabove=7887,n.ohorn=417,n.ohornacute=7899,n.ohorndotbelow=7907,n.ohorngrave=7901,n.ohornhookabove=7903,n.ohorntilde=7905,n.ohungarumlaut=337,n.oi=419,n.oinvertedbreve=527,n.okatakana=12458,n.okatakanahalfwidth=65397,n.okorean=12631,n.olehebrew=1451,n.omacron=333,n.omacronacute=7763,n.omacrongrave=7761,n.omdeva=2384,n.omega=969,n.omega1=982,n.omegacyrillic=1121,n.omegalatinclosed=631,n.omegaroundcyrillic=1147,n.omegatitlocyrillic=1149,n.omegatonos=974,n.omgujarati=2768,n.omicron=959,n.omicrontonos=972,n.omonospace=65359,n.one=49,n.onearabic=1633,n.onebengali=2535,n.onecircle=9312,n.onecircleinversesansserif=10122,n.onedeva=2407,n.onedotenleader=8228,n.oneeighth=8539,n.onefitted=63196,n.onegujarati=2791,n.onegurmukhi=2663,n.onehackarabic=1633,n.onehalf=189,n.onehangzhou=12321,n.oneideographicparen=12832,n.oneinferior=8321,n.onemonospace=65297,n.onenumeratorbengali=2548,n.oneoldstyle=63281,n.oneparen=9332,n.oneperiod=9352,n.onepersian=1777,n.onequarter=188,n.oneroman=8560,n.onesuperior=185,n.onethai=3665,n.onethird=8531,n.oogonek=491,n.oogonekmacron=493,n.oogurmukhi=2579,n.oomatragurmukhi=2635,n.oopen=596,n.oparen=9386,n.openbullet=9702,n.option=8997,n.ordfeminine=170,n.ordmasculine=186,n.orthogonal=8735,n.oshortdeva=2322,n.oshortvowelsigndeva=2378,n.oslash=248,n.oslashacute=511,n.osmallhiragana=12361,n.osmallkatakana=12457,n.osmallkatakanahalfwidth=65387,n.ostrokeacute=511,n.osuperior=63216,n.otcyrillic=1151,n.otilde=245,n.otildeacute=7757,n.otildedieresis=7759,n.oubopomofo=12577,n.overline=8254,n.overlinecenterline=65098,n.overlinecmb=773,n.overlinedashed=65097,n.overlinedblwavy=65100,n.overlinewavy=65099,n.overscore=175,n.ovowelsignbengali=2507,n.ovowelsigndeva=2379,n.ovowelsigngujarati=2763,n.p=112,n.paampssquare=13184,n.paasentosquare=13099,n.pabengali=2474,n.pacute=7765,n.padeva=2346,n.pagedown=8671,n.pageup=8670,n.pagujarati=2730,n.pagurmukhi=2602,n.pahiragana=12401,n.paiyannoithai=3631,n.pakatakana=12497,n.palatalizationcyrilliccmb=1156,n.palochkacyrillic=1216,n.pansioskorean=12671,n.paragraph=182,n.parallel=8741,n.parenleft=40,n.parenleftaltonearabic=64830,n.parenleftbt=63725,n.parenleftex=63724,n.parenleftinferior=8333,n.parenleftmonospace=65288,n.parenleftsmall=65113,n.parenleftsuperior=8317,n.parenlefttp=63723,n.parenleftvertical=65077,n.parenright=41,n.parenrightaltonearabic=64831,n.parenrightbt=63736,n.parenrightex=63735,n.parenrightinferior=8334,n.parenrightmonospace=65289,n.parenrightsmall=65114,n.parenrightsuperior=8318,n.parenrighttp=63734,n.parenrightvertical=65078,n.partialdiff=8706,n.paseqhebrew=1472,n.pashtahebrew=1433,n.pasquare=13225,n.patah=1463,n.patah11=1463,n.patah1d=1463,n.patah2a=1463,n.patahhebrew=1463,n.patahnarrowhebrew=1463,n.patahquarterhebrew=1463,n.patahwidehebrew=1463,n.pazerhebrew=1441,n.pbopomofo=12550,n.pcircle=9439,n.pdotaccent=7767,n.pe=1508,n.pecyrillic=1087,n.pedagesh=64324,n.pedageshhebrew=64324,n.peezisquare=13115,n.pefinaldageshhebrew=64323,n.peharabic=1662,n.peharmenian=1402,n.pehebrew=1508,n.pehfinalarabic=64343,n.pehinitialarabic=64344,n.pehiragana=12410,n.pehmedialarabic=64345,n.pekatakana=12506,n.pemiddlehookcyrillic=1191,n.perafehebrew=64334,n.percent=37,n.percentarabic=1642,n.percentmonospace=65285,n.percentsmall=65130,n.period=46,n.periodarmenian=1417,n.periodcentered=183,n.periodhalfwidth=65377,n.periodinferior=63207,n.periodmonospace=65294,n.periodsmall=65106,n.periodsuperior=63208,n.perispomenigreekcmb=834,n.perpendicular=8869,n.perthousand=8240,n.peseta=8359,n.pfsquare=13194,n.phabengali=2475,n.phadeva=2347,n.phagujarati=2731,n.phagurmukhi=2603,n.phi=966,n.phi1=981,n.phieuphacirclekorean=12922,n.phieuphaparenkorean=12826,n.phieuphcirclekorean=12908,n.phieuphkorean=12621,n.phieuphparenkorean=12812,n.philatin=632,n.phinthuthai=3642,n.phisymbolgreek=981,n.phook=421,n.phophanthai=3614,n.phophungthai=3612,n.phosamphaothai=3616,n.pi=960,n.pieupacirclekorean=12915,n.pieupaparenkorean=12819,n.pieupcieuckorean=12662,n.pieupcirclekorean=12901,n.pieupkiyeokkorean=12658,n.pieupkorean=12610,n.pieupparenkorean=12805,n.pieupsioskiyeokkorean=12660,n.pieupsioskorean=12612,n.pieupsiostikeutkorean=12661,n.pieupthieuthkorean=12663,n.pieuptikeutkorean=12659,n.pihiragana=12404,n.pikatakana=12500,n.pisymbolgreek=982,n.piwrarmenian=1411,n.planckover2pi=8463,n.planckover2pi1=8463,n.plus=43,n.plusbelowcmb=799,n.pluscircle=8853,n.plusminus=177,n.plusmod=726,n.plusmonospace=65291,n.plussmall=65122,n.plussuperior=8314,n.pmonospace=65360,n.pmsquare=13272,n.pohiragana=12413,n.pointingindexdownwhite=9759,n.pointingindexleftwhite=9756,n.pointingindexrightwhite=9758,n.pointingindexupwhite=9757,n.pokatakana=12509,n.poplathai=3611,n.postalmark=12306,n.postalmarkface=12320,n.pparen=9387,n.precedes=8826,n.prescription=8478,n.primemod=697,n.primereversed=8245,n.product=8719,n.projective=8965,n.prolongedkana=12540,n.propellor=8984,n.propersubset=8834,n.propersuperset=8835,n.proportion=8759,n.proportional=8733,n.psi=968,n.psicyrillic=1137,n.psilipneumatacyrilliccmb=1158,n.pssquare=13232,n.puhiragana=12407,n.pukatakana=12503,n.pvsquare=13236,n.pwsquare=13242,n.q=113,n.qadeva=2392,n.qadmahebrew=1448,n.qafarabic=1602,n.qaffinalarabic=65238,n.qafinitialarabic=65239,n.qafmedialarabic=65240,n.qamats=1464,n.qamats10=1464,n.qamats1a=1464,n.qamats1c=1464,n.qamats27=1464,n.qamats29=1464,n.qamats33=1464,n.qamatsde=1464,n.qamatshebrew=1464,n.qamatsnarrowhebrew=1464,n.qamatsqatanhebrew=1464,n.qamatsqatannarrowhebrew=1464,n.qamatsqatanquarterhebrew=1464,n.qamatsqatanwidehebrew=1464,n.qamatsquarterhebrew=1464,n.qamatswidehebrew=1464,n.qarneyparahebrew=1439,n.qbopomofo=12561,n.qcircle=9440,n.qhook=672,n.qmonospace=65361,n.qof=1511,n.qofdagesh=64327,n.qofdageshhebrew=64327,n.qofhebrew=1511,n.qparen=9388,n.quarternote=9833,n.qubuts=1467,n.qubuts18=1467,n.qubuts25=1467,n.qubuts31=1467,n.qubutshebrew=1467,n.qubutsnarrowhebrew=1467,n.qubutsquarterhebrew=1467,n.qubutswidehebrew=1467,n.question=63,n.questionarabic=1567,n.questionarmenian=1374,n.questiondown=191,n.questiondownsmall=63423,n.questiongreek=894,n.questionmonospace=65311,n.questionsmall=63295,n.quotedbl=34,n.quotedblbase=8222,n.quotedblleft=8220,n.quotedblmonospace=65282,n.quotedblprime=12318,n.quotedblprimereversed=12317,n.quotedblright=8221,n.quoteleft=8216,n.quoteleftreversed=8219,n.quotereversed=8219,n.quoteright=8217,n.quoterightn=329,n.quotesinglbase=8218,n.quotesingle=39,n.quotesinglemonospace=65287,n.r=114,n.raarmenian=1404,n.rabengali=2480,n.racute=341,n.radeva=2352,n.radical=8730,n.radicalex=63717,n.radoverssquare=13230,n.radoverssquaredsquare=13231,n.radsquare=13229,n.rafe=1471,n.rafehebrew=1471,n.ragujarati=2736,n.ragurmukhi=2608,n.rahiragana=12425,n.rakatakana=12521,n.rakatakanahalfwidth=65431,n.ralowerdiagonalbengali=2545,n.ramiddlediagonalbengali=2544,n.ramshorn=612,n.ratio=8758,n.rbopomofo=12566,n.rcaron=345,n.rcedilla=343,n.rcircle=9441,n.rcommaaccent=343,n.rdblgrave=529,n.rdotaccent=7769,n.rdotbelow=7771,n.rdotbelowmacron=7773,n.referencemark=8251,n.reflexsubset=8838,n.reflexsuperset=8839,n.registered=174,n.registersans=63720,n.registerserif=63194,n.reharabic=1585,n.reharmenian=1408,n.rehfinalarabic=65198,n.rehiragana=12428,n.rekatakana=12524,n.rekatakanahalfwidth=65434,n.resh=1512,n.reshdageshhebrew=64328,n.reshhebrew=1512,n.reversedtilde=8765,n.reviahebrew=1431,n.reviamugrashhebrew=1431,n.revlogicalnot=8976,n.rfishhook=638,n.rfishhookreversed=639,n.rhabengali=2525,n.rhadeva=2397,n.rho=961,n.rhook=637,n.rhookturned=635,n.rhookturnedsuperior=693,n.rhosymbolgreek=1009,n.rhotichookmod=734,n.rieulacirclekorean=12913,n.rieulaparenkorean=12817,n.rieulcirclekorean=12899,n.rieulhieuhkorean=12608,n.rieulkiyeokkorean=12602,n.rieulkiyeoksioskorean=12649,n.rieulkorean=12601,n.rieulmieumkorean=12603,n.rieulpansioskorean=12652,n.rieulparenkorean=12803,n.rieulphieuphkorean=12607,n.rieulpieupkorean=12604,n.rieulpieupsioskorean=12651,n.rieulsioskorean=12605,n.rieulthieuthkorean=12606,n.rieultikeutkorean=12650,n.rieulyeorinhieuhkorean=12653,n.rightangle=8735,n.righttackbelowcmb=793,n.righttriangle=8895,n.rihiragana=12426,n.rikatakana=12522,n.rikatakanahalfwidth=65432,n.ring=730,n.ringbelowcmb=805,n.ringcmb=778,n.ringhalfleft=703,n.ringhalfleftarmenian=1369,n.ringhalfleftbelowcmb=796,n.ringhalfleftcentered=723,n.ringhalfright=702,n.ringhalfrightbelowcmb=825,n.ringhalfrightcentered=722,n.rinvertedbreve=531,n.rittorusquare=13137,n.rlinebelow=7775,n.rlongleg=636,n.rlonglegturned=634,n.rmonospace=65362,n.rohiragana=12429,n.rokatakana=12525,n.rokatakanahalfwidth=65435,n.roruathai=3619,n.rparen=9389,n.rrabengali=2524,n.rradeva=2353,n.rragurmukhi=2652,n.rreharabic=1681,n.rrehfinalarabic=64397,n.rrvocalicbengali=2528,n.rrvocalicdeva=2400,n.rrvocalicgujarati=2784,n.rrvocalicvowelsignbengali=2500,n.rrvocalicvowelsigndeva=2372,n.rrvocalicvowelsigngujarati=2756,n.rsuperior=63217,n.rtblock=9616,n.rturned=633,n.rturnedsuperior=692,n.ruhiragana=12427,n.rukatakana=12523,n.rukatakanahalfwidth=65433,n.rupeemarkbengali=2546,n.rupeesignbengali=2547,n.rupiah=63197,n.ruthai=3620,n.rvocalicbengali=2443,n.rvocalicdeva=2315,n.rvocalicgujarati=2699,n.rvocalicvowelsignbengali=2499,n.rvocalicvowelsigndeva=2371,n.rvocalicvowelsigngujarati=2755,n.s=115,n.sabengali=2488,n.sacute=347,n.sacutedotaccent=7781,n.sadarabic=1589,n.sadeva=2360,n.sadfinalarabic=65210,n.sadinitialarabic=65211,n.sadmedialarabic=65212,n.sagujarati=2744,n.sagurmukhi=2616,n.sahiragana=12373,n.sakatakana=12469,n.sakatakanahalfwidth=65403,n.sallallahoualayhewasallamarabic=65018,n.samekh=1505,n.samekhdagesh=64321,n.samekhdageshhebrew=64321,n.samekhhebrew=1505,n.saraaathai=3634,n.saraaethai=3649,n.saraaimaimalaithai=3652,n.saraaimaimuanthai=3651,n.saraamthai=3635,n.saraathai=3632,n.saraethai=3648,n.saraiileftthai=63622,n.saraiithai=3637,n.saraileftthai=63621,n.saraithai=3636,n.saraothai=3650,n.saraueeleftthai=63624,n.saraueethai=3639,n.saraueleftthai=63623,n.sarauethai=3638,n.sarauthai=3640,n.sarauuthai=3641,n.sbopomofo=12569,n.scaron=353,n.scarondotaccent=7783,n.scedilla=351,n.schwa=601,n.schwacyrillic=1241,n.schwadieresiscyrillic=1243,n.schwahook=602,n.scircle=9442,n.scircumflex=349,n.scommaaccent=537,n.sdotaccent=7777,n.sdotbelow=7779,n.sdotbelowdotaccent=7785,n.seagullbelowcmb=828,n.second=8243,n.secondtonechinese=714,n.section=167,n.seenarabic=1587,n.seenfinalarabic=65202,n.seeninitialarabic=65203,n.seenmedialarabic=65204,n.segol=1462,n.segol13=1462,n.segol1f=1462,n.segol2c=1462,n.segolhebrew=1462,n.segolnarrowhebrew=1462,n.segolquarterhebrew=1462,n.segoltahebrew=1426,n.segolwidehebrew=1462,n.seharmenian=1405,n.sehiragana=12379,n.sekatakana=12475,n.sekatakanahalfwidth=65406,n.semicolon=59,n.semicolonarabic=1563,n.semicolonmonospace=65307,n.semicolonsmall=65108,n.semivoicedmarkkana=12444,n.semivoicedmarkkanahalfwidth=65439,n.sentisquare=13090,n.sentosquare=13091,n.seven=55,n.sevenarabic=1639,n.sevenbengali=2541,n.sevencircle=9318,n.sevencircleinversesansserif=10128,n.sevendeva=2413,n.seveneighths=8542,n.sevengujarati=2797,n.sevengurmukhi=2669,n.sevenhackarabic=1639,n.sevenhangzhou=12327,n.sevenideographicparen=12838,n.seveninferior=8327,n.sevenmonospace=65303,n.sevenoldstyle=63287,n.sevenparen=9338,n.sevenperiod=9358,n.sevenpersian=1783,n.sevenroman=8566,n.sevensuperior=8311,n.seventeencircle=9328,n.seventeenparen=9348,n.seventeenperiod=9368,n.seventhai=3671,n.sfthyphen=173,n.shaarmenian=1399,n.shabengali=2486,n.shacyrillic=1096,n.shaddaarabic=1617,n.shaddadammaarabic=64609,n.shaddadammatanarabic=64606,n.shaddafathaarabic=64608,n.shaddakasraarabic=64610,n.shaddakasratanarabic=64607,n.shade=9618,n.shadedark=9619,n.shadelight=9617,n.shademedium=9618,n.shadeva=2358,n.shagujarati=2742,n.shagurmukhi=2614,n.shalshelethebrew=1427,n.shbopomofo=12565,n.shchacyrillic=1097,n.sheenarabic=1588,n.sheenfinalarabic=65206,n.sheeninitialarabic=65207,n.sheenmedialarabic=65208,n.sheicoptic=995,n.sheqel=8362,n.sheqelhebrew=8362,n.sheva=1456,n.sheva115=1456,n.sheva15=1456,n.sheva22=1456,n.sheva2e=1456,n.shevahebrew=1456,n.shevanarrowhebrew=1456,n.shevaquarterhebrew=1456,n.shevawidehebrew=1456,n.shhacyrillic=1211,n.shimacoptic=1005,n.shin=1513,n.shindagesh=64329,n.shindageshhebrew=64329,n.shindageshshindot=64300,n.shindageshshindothebrew=64300,n.shindageshsindot=64301,n.shindageshsindothebrew=64301,n.shindothebrew=1473,n.shinhebrew=1513,n.shinshindot=64298,n.shinshindothebrew=64298,n.shinsindot=64299,n.shinsindothebrew=64299,n.shook=642,n.sigma=963,n.sigma1=962,n.sigmafinal=962,n.sigmalunatesymbolgreek=1010,n.sihiragana=12375,n.sikatakana=12471,n.sikatakanahalfwidth=65404,n.siluqhebrew=1469,n.siluqlefthebrew=1469,n.similar=8764,n.sindothebrew=1474,n.siosacirclekorean=12916,n.siosaparenkorean=12820,n.sioscieuckorean=12670,n.sioscirclekorean=12902,n.sioskiyeokkorean=12666,n.sioskorean=12613,n.siosnieunkorean=12667,n.siosparenkorean=12806,n.siospieupkorean=12669,n.siostikeutkorean=12668,n.six=54,n.sixarabic=1638,n.sixbengali=2540,n.sixcircle=9317,n.sixcircleinversesansserif=10127,n.sixdeva=2412,n.sixgujarati=2796,n.sixgurmukhi=2668,n.sixhackarabic=1638,n.sixhangzhou=12326,n.sixideographicparen=12837,n.sixinferior=8326,n.sixmonospace=65302,n.sixoldstyle=63286,n.sixparen=9337,n.sixperiod=9357,n.sixpersian=1782,n.sixroman=8565,n.sixsuperior=8310,n.sixteencircle=9327,n.sixteencurrencydenominatorbengali=2553,n.sixteenparen=9347,n.sixteenperiod=9367,n.sixthai=3670,n.slash=47,n.slashmonospace=65295,n.slong=383,n.slongdotaccent=7835,n.smileface=9786,n.smonospace=65363,n.sofpasuqhebrew=1475,n.softhyphen=173,n.softsigncyrillic=1100,n.sohiragana=12381,n.sokatakana=12477,n.sokatakanahalfwidth=65407,n.soliduslongoverlaycmb=824,n.solidusshortoverlaycmb=823,n.sorusithai=3625,n.sosalathai=3624,n.sosothai=3595,n.sosuathai=3626,n.space=32,n.spacehackarabic=32,n.spade=9824,n.spadesuitblack=9824,n.spadesuitwhite=9828,n.sparen=9390,n.squarebelowcmb=827,n.squarecc=13252,n.squarecm=13213,n.squarediagonalcrosshatchfill=9641,n.squarehorizontalfill=9636,n.squarekg=13199,n.squarekm=13214,n.squarekmcapital=13262,n.squareln=13265,n.squarelog=13266,n.squaremg=13198,n.squaremil=13269,n.squaremm=13212,n.squaremsquared=13217,n.squareorthogonalcrosshatchfill=9638,n.squareupperlefttolowerrightfill=9639,n.squareupperrighttolowerleftfill=9640,n.squareverticalfill=9637,n.squarewhitewithsmallblack=9635,n.srsquare=13275,n.ssabengali=2487,n.ssadeva=2359,n.ssagujarati=2743,n.ssangcieuckorean=12617,n.ssanghieuhkorean=12677,n.ssangieungkorean=12672,n.ssangkiyeokkorean=12594,n.ssangnieunkorean=12645,n.ssangpieupkorean=12611,n.ssangsioskorean=12614,n.ssangtikeutkorean=12600,n.ssuperior=63218,n.sterling=163,n.sterlingmonospace=65505,n.strokelongoverlaycmb=822,n.strokeshortoverlaycmb=821,n.subset=8834,n.subsetnotequal=8842,n.subsetorequal=8838,n.succeeds=8827,n.suchthat=8715,n.suhiragana=12377,n.sukatakana=12473,n.sukatakanahalfwidth=65405,n.sukunarabic=1618,n.summation=8721,n.sun=9788,n.superset=8835,n.supersetnotequal=8843,n.supersetorequal=8839,n.svsquare=13276,n.syouwaerasquare=13180,n.t=116,n.tabengali=2468,n.tackdown=8868,n.tackleft=8867,n.tadeva=2340,n.tagujarati=2724,n.tagurmukhi=2596,n.taharabic=1591,n.tahfinalarabic=65218,n.tahinitialarabic=65219,n.tahiragana=12383,n.tahmedialarabic=65220,n.taisyouerasquare=13181,n.takatakana=12479,n.takatakanahalfwidth=65408,n.tatweelarabic=1600,n.tau=964,n.tav=1514,n.tavdages=64330,n.tavdagesh=64330,n.tavdageshhebrew=64330,n.tavhebrew=1514,n.tbar=359,n.tbopomofo=12554,n.tcaron=357,n.tccurl=680,n.tcedilla=355,n.tcheharabic=1670,n.tchehfinalarabic=64379,n.tchehinitialarabic=64380,n.tchehmedialarabic=64381,n.tcircle=9443,n.tcircumflexbelow=7793,n.tcommaaccent=355,n.tdieresis=7831,n.tdotaccent=7787,n.tdotbelow=7789,n.tecyrillic=1090,n.tedescendercyrillic=1197,n.teharabic=1578,n.tehfinalarabic=65174,n.tehhahinitialarabic=64674,n.tehhahisolatedarabic=64524,n.tehinitialarabic=65175,n.tehiragana=12390,n.tehjeeminitialarabic=64673,n.tehjeemisolatedarabic=64523,n.tehmarbutaarabic=1577,n.tehmarbutafinalarabic=65172,n.tehmedialarabic=65176,n.tehmeeminitialarabic=64676,n.tehmeemisolatedarabic=64526,n.tehnoonfinalarabic=64627,n.tekatakana=12486,n.tekatakanahalfwidth=65411,n.telephone=8481,n.telephoneblack=9742,n.telishagedolahebrew=1440,n.telishaqetanahebrew=1449,n.tencircle=9321,n.tenideographicparen=12841,n.tenparen=9341,n.tenperiod=9361,n.tenroman=8569,n.tesh=679,n.tet=1496,n.tetdagesh=64312,n.tetdageshhebrew=64312,n.tethebrew=1496,n.tetsecyrillic=1205,n.tevirhebrew=1435,n.tevirlefthebrew=1435,n.thabengali=2469,n.thadeva=2341,n.thagujarati=2725,n.thagurmukhi=2597,n.thalarabic=1584,n.thalfinalarabic=65196,n.thanthakhatlowleftthai=63640,n.thanthakhatlowrightthai=63639,n.thanthakhatthai=3660,n.thanthakhatupperleftthai=63638,n.theharabic=1579,n.thehfinalarabic=65178,n.thehinitialarabic=65179,n.thehmedialarabic=65180,n.thereexists=8707,n.therefore=8756,n.theta=952,n.theta1=977,n.thetasymbolgreek=977,n.thieuthacirclekorean=12921,n.thieuthaparenkorean=12825,n.thieuthcirclekorean=12907,n.thieuthkorean=12620,n.thieuthparenkorean=12811,n.thirteencircle=9324,n.thirteenparen=9344,n.thirteenperiod=9364,n.thonangmonthothai=3601,n.thook=429,n.thophuthaothai=3602,n.thorn=254,n.thothahanthai=3607,n.thothanthai=3600,n.thothongthai=3608,n.thothungthai=3606,n.thousandcyrillic=1154,n.thousandsseparatorarabic=1644,n.thousandsseparatorpersian=1644,n.three=51,n.threearabic=1635,n.threebengali=2537,n.threecircle=9314,n.threecircleinversesansserif=10124,n.threedeva=2409,n.threeeighths=8540,n.threegujarati=2793,n.threegurmukhi=2665,n.threehackarabic=1635,n.threehangzhou=12323,n.threeideographicparen=12834,n.threeinferior=8323,n.threemonospace=65299,n.threenumeratorbengali=2550,n.threeoldstyle=63283,n.threeparen=9334,n.threeperiod=9354,n.threepersian=1779,n.threequarters=190,n.threequartersemdash=63198,n.threeroman=8562,n.threesuperior=179,n.threethai=3667,n.thzsquare=13204,n.tihiragana=12385,n.tikatakana=12481,n.tikatakanahalfwidth=65409,n.tikeutacirclekorean=12912,n.tikeutaparenkorean=12816,n.tikeutcirclekorean=12898,n.tikeutkorean=12599,n.tikeutparenkorean=12802,n.tilde=732,n.tildebelowcmb=816,n.tildecmb=771,n.tildecomb=771,n.tildedoublecmb=864,n.tildeoperator=8764,n.tildeoverlaycmb=820,n.tildeverticalcmb=830,n.timescircle=8855,n.tipehahebrew=1430,n.tipehalefthebrew=1430,n.tippigurmukhi=2672,n.titlocyrilliccmb=1155,n.tiwnarmenian=1407,n.tlinebelow=7791,n.tmonospace=65364,n.toarmenian=1385,n.tohiragana=12392,n.tokatakana=12488,n.tokatakanahalfwidth=65412,n.tonebarextrahighmod=741,n.tonebarextralowmod=745,n.tonebarhighmod=742,n.tonebarlowmod=744,n.tonebarmidmod=743,n.tonefive=445,n.tonesix=389,n.tonetwo=424,n.tonos=900,n.tonsquare=13095,n.topatakthai=3599,n.tortoiseshellbracketleft=12308,n.tortoiseshellbracketleftsmall=65117,n.tortoiseshellbracketleftvertical=65081,n.tortoiseshellbracketright=12309,n.tortoiseshellbracketrightsmall=65118,n.tortoiseshellbracketrightvertical=65082,n.totaothai=3605,n.tpalatalhook=427,n.tparen=9391,n.trademark=8482,n.trademarksans=63722,n.trademarkserif=63195,n.tretroflexhook=648,n.triagdn=9660,n.triaglf=9668,n.triagrt=9658,n.triagup=9650,n.ts=678,n.tsadi=1510,n.tsadidagesh=64326,n.tsadidageshhebrew=64326,n.tsadihebrew=1510,n.tsecyrillic=1094,n.tsere=1461,n.tsere12=1461,n.tsere1e=1461,n.tsere2b=1461,n.tserehebrew=1461,n.tserenarrowhebrew=1461,n.tserequarterhebrew=1461,n.tserewidehebrew=1461,n.tshecyrillic=1115,n.tsuperior=63219,n.ttabengali=2463,n.ttadeva=2335,n.ttagujarati=2719,n.ttagurmukhi=2591,n.tteharabic=1657,n.ttehfinalarabic=64359,n.ttehinitialarabic=64360,n.ttehmedialarabic=64361,n.tthabengali=2464,n.tthadeva=2336,n.tthagujarati=2720,n.tthagurmukhi=2592,n.tturned=647,n.tuhiragana=12388,n.tukatakana=12484,n.tukatakanahalfwidth=65410,n.tusmallhiragana=12387,n.tusmallkatakana=12483,n.tusmallkatakanahalfwidth=65391,n.twelvecircle=9323,n.twelveparen=9343,n.twelveperiod=9363,n.twelveroman=8571,n.twentycircle=9331,n.twentyhangzhou=21316,n.twentyparen=9351,n.twentyperiod=9371,n.two=50,n.twoarabic=1634,n.twobengali=2536,n.twocircle=9313,n.twocircleinversesansserif=10123,n.twodeva=2408,n.twodotenleader=8229,n.twodotleader=8229,n.twodotleadervertical=65072,n.twogujarati=2792,n.twogurmukhi=2664,n.twohackarabic=1634,n.twohangzhou=12322,n.twoideographicparen=12833,n.twoinferior=8322,n.twomonospace=65298,n.twonumeratorbengali=2549,n.twooldstyle=63282,n.twoparen=9333,n.twoperiod=9353,n.twopersian=1778,n.tworoman=8561,n.twostroke=443,n.twosuperior=178,n.twothai=3666,n.twothirds=8532,n.u=117,n.uacute=250,n.ubar=649,n.ubengali=2441,n.ubopomofo=12584,n.ubreve=365,n.ucaron=468,n.ucircle=9444,n.ucircumflex=251,n.ucircumflexbelow=7799,n.ucyrillic=1091,n.udattadeva=2385,n.udblacute=369,n.udblgrave=533,n.udeva=2313,n.udieresis=252,n.udieresisacute=472,n.udieresisbelow=7795,n.udieresiscaron=474,n.udieresiscyrillic=1265,n.udieresisgrave=476,n.udieresismacron=470,n.udotbelow=7909,n.ugrave=249,n.ugujarati=2697,n.ugurmukhi=2569,n.uhiragana=12358,n.uhookabove=7911,n.uhorn=432,n.uhornacute=7913,n.uhorndotbelow=7921,n.uhorngrave=7915,n.uhornhookabove=7917,n.uhorntilde=7919,n.uhungarumlaut=369,n.uhungarumlautcyrillic=1267,n.uinvertedbreve=535,n.ukatakana=12454,n.ukatakanahalfwidth=65395,n.ukcyrillic=1145,n.ukorean=12636,n.umacron=363,n.umacroncyrillic=1263,n.umacrondieresis=7803,n.umatragurmukhi=2625,n.umonospace=65365,n.underscore=95,n.underscoredbl=8215,n.underscoremonospace=65343,n.underscorevertical=65075,n.underscorewavy=65103,n.union=8746,n.universal=8704,n.uogonek=371,n.uparen=9392,n.upblock=9600,n.upperdothebrew=1476,n.upsilon=965,n.upsilondieresis=971,n.upsilondieresistonos=944,n.upsilonlatin=650,n.upsilontonos=973,n.uptackbelowcmb=797,n.uptackmod=724,n.uragurmukhi=2675,n.uring=367,n.ushortcyrillic=1118,n.usmallhiragana=12357,n.usmallkatakana=12453,n.usmallkatakanahalfwidth=65385,n.ustraightcyrillic=1199,n.ustraightstrokecyrillic=1201,n.utilde=361,n.utildeacute=7801,n.utildebelow=7797,n.uubengali=2442,n.uudeva=2314,n.uugujarati=2698,n.uugurmukhi=2570,n.uumatragurmukhi=2626,n.uuvowelsignbengali=2498,n.uuvowelsigndeva=2370,n.uuvowelsigngujarati=2754,n.uvowelsignbengali=2497,n.uvowelsigndeva=2369,n.uvowelsigngujarati=2753,n.v=118,n.vadeva=2357,n.vagujarati=2741,n.vagurmukhi=2613,n.vakatakana=12535,n.vav=1493,n.vavdagesh=64309,n.vavdagesh65=64309,n.vavdageshhebrew=64309,n.vavhebrew=1493,n.vavholam=64331,n.vavholamhebrew=64331,n.vavvavhebrew=1520,n.vavyodhebrew=1521,n.vcircle=9445,n.vdotbelow=7807,n.vecyrillic=1074,n.veharabic=1700,n.vehfinalarabic=64363,n.vehinitialarabic=64364,n.vehmedialarabic=64365,n.vekatakana=12537,n.venus=9792,n.verticalbar=124,n.verticallineabovecmb=781,n.verticallinebelowcmb=809,n.verticallinelowmod=716,n.verticallinemod=712,n.vewarmenian=1406,n.vhook=651,n.vikatakana=12536,n.viramabengali=2509,n.viramadeva=2381,n.viramagujarati=2765,n.visargabengali=2435,n.visargadeva=2307,n.visargagujarati=2691,n.vmonospace=65366,n.voarmenian=1400,n.voicediterationhiragana=12446,n.voicediterationkatakana=12542,n.voicedmarkkana=12443,n.voicedmarkkanahalfwidth=65438,n.vokatakana=12538,n.vparen=9393,n.vtilde=7805,n.vturned=652,n.vuhiragana=12436,n.vukatakana=12532,n.w=119,n.wacute=7811,n.waekorean=12633,n.wahiragana=12431,n.wakatakana=12527,n.wakatakanahalfwidth=65436,n.wakorean=12632,n.wasmallhiragana=12430,n.wasmallkatakana=12526,n.wattosquare=13143,n.wavedash=12316,n.wavyunderscorevertical=65076,n.wawarabic=1608,n.wawfinalarabic=65262,n.wawhamzaabovearabic=1572,n.wawhamzaabovefinalarabic=65158,n.wbsquare=13277,n.wcircle=9446,n.wcircumflex=373,n.wdieresis=7813,n.wdotaccent=7815,n.wdotbelow=7817,n.wehiragana=12433,n.weierstrass=8472,n.wekatakana=12529,n.wekorean=12638,n.weokorean=12637,n.wgrave=7809,n.whitebullet=9702,n.whitecircle=9675,n.whitecircleinverse=9689,n.whitecornerbracketleft=12302,n.whitecornerbracketleftvertical=65091,n.whitecornerbracketright=12303,n.whitecornerbracketrightvertical=65092,n.whitediamond=9671,n.whitediamondcontainingblacksmalldiamond=9672,n.whitedownpointingsmalltriangle=9663,n.whitedownpointingtriangle=9661,n.whiteleftpointingsmalltriangle=9667,n.whiteleftpointingtriangle=9665,n.whitelenticularbracketleft=12310,n.whitelenticularbracketright=12311,n.whiterightpointingsmalltriangle=9657,n.whiterightpointingtriangle=9655,n.whitesmallsquare=9643,n.whitesmilingface=9786,n.whitesquare=9633,n.whitestar=9734,n.whitetelephone=9743,n.whitetortoiseshellbracketleft=12312,n.whitetortoiseshellbracketright=12313,n.whiteuppointingsmalltriangle=9653,n.whiteuppointingtriangle=9651,n.wihiragana=12432,n.wikatakana=12528,n.wikorean=12639,n.wmonospace=65367,n.wohiragana=12434,n.wokatakana=12530,n.wokatakanahalfwidth=65382,n.won=8361,n.wonmonospace=65510,n.wowaenthai=3623,n.wparen=9394,n.wring=7832,n.wsuperior=695,n.wturned=653,n.wynn=447,n.x=120,n.xabovecmb=829,n.xbopomofo=12562,n.xcircle=9447,n.xdieresis=7821,n.xdotaccent=7819,n.xeharmenian=1389,n.xi=958,n.xmonospace=65368,n.xparen=9395,n.xsuperior=739,n.y=121,n.yaadosquare=13134,n.yabengali=2479,n.yacute=253,n.yadeva=2351,n.yaekorean=12626,n.yagujarati=2735,n.yagurmukhi=2607,n.yahiragana=12420,n.yakatakana=12516,n.yakatakanahalfwidth=65428,n.yakorean=12625,n.yamakkanthai=3662,n.yasmallhiragana=12419,n.yasmallkatakana=12515,n.yasmallkatakanahalfwidth=65388,n.yatcyrillic=1123,n.ycircle=9448,n.ycircumflex=375,n.ydieresis=255,n.ydotaccent=7823,n.ydotbelow=7925,n.yeharabic=1610,n.yehbarreearabic=1746,n.yehbarreefinalarabic=64431,n.yehfinalarabic=65266,n.yehhamzaabovearabic=1574,n.yehhamzaabovefinalarabic=65162,n.yehhamzaaboveinitialarabic=65163,n.yehhamzaabovemedialarabic=65164,n.yehinitialarabic=65267,n.yehmedialarabic=65268,n.yehmeeminitialarabic=64733,n.yehmeemisolatedarabic=64600,n.yehnoonfinalarabic=64660,n.yehthreedotsbelowarabic=1745,n.yekorean=12630,n.yen=165,n.yenmonospace=65509,n.yeokorean=12629,n.yeorinhieuhkorean=12678,n.yerahbenyomohebrew=1450,n.yerahbenyomolefthebrew=1450,n.yericyrillic=1099,n.yerudieresiscyrillic=1273,n.yesieungkorean=12673,n.yesieungpansioskorean=12675,n.yesieungsioskorean=12674,n.yetivhebrew=1434,n.ygrave=7923,n.yhook=436,n.yhookabove=7927,n.yiarmenian=1397,n.yicyrillic=1111,n.yikorean=12642,n.yinyang=9775,n.yiwnarmenian=1410,n.ymonospace=65369,n.yod=1497,n.yoddagesh=64313,n.yoddageshhebrew=64313,n.yodhebrew=1497,n.yodyodhebrew=1522,n.yodyodpatahhebrew=64287,n.yohiragana=12424,n.yoikorean=12681,n.yokatakana=12520,n.yokatakanahalfwidth=65430,n.yokorean=12635,n.yosmallhiragana=12423,n.yosmallkatakana=12519,n.yosmallkatakanahalfwidth=65390,n.yotgreek=1011,n.yoyaekorean=12680,n.yoyakorean=12679,n.yoyakthai=3618,n.yoyingthai=3597,n.yparen=9396,n.ypogegrammeni=890,n.ypogegrammenigreekcmb=837,n.yr=422,n.yring=7833,n.ysuperior=696,n.ytilde=7929,n.yturned=654,n.yuhiragana=12422,n.yuikorean=12684,n.yukatakana=12518,n.yukatakanahalfwidth=65429,n.yukorean=12640,n.yusbigcyrillic=1131,n.yusbigiotifiedcyrillic=1133,n.yuslittlecyrillic=1127,n.yuslittleiotifiedcyrillic=1129,n.yusmallhiragana=12421,n.yusmallkatakana=12517,n.yusmallkatakanahalfwidth=65389,n.yuyekorean=12683,n.yuyeokorean=12682,n.yyabengali=2527,n.yyadeva=2399,n.z=122,n.zaarmenian=1382,n.zacute=378,n.zadeva=2395,n.zagurmukhi=2651,n.zaharabic=1592,n.zahfinalarabic=65222,n.zahinitialarabic=65223,n.zahiragana=12374,n.zahmedialarabic=65224,n.zainarabic=1586,n.zainfinalarabic=65200,n.zakatakana=12470,n.zaqefgadolhebrew=1429,n.zaqefqatanhebrew=1428,n.zarqahebrew=1432,n.zayin=1494,n.zayindagesh=64310,n.zayindageshhebrew=64310,n.zayinhebrew=1494,n.zbopomofo=12567,n.zcaron=382,n.zcircle=9449,n.zcircumflex=7825,n.zcurl=657,n.zdot=380,n.zdotaccent=380,n.zdotbelow=7827,n.zecyrillic=1079,n.zedescendercyrillic=1177,n.zedieresiscyrillic=1247,n.zehiragana=12380,n.zekatakana=12476,n.zero=48,n.zeroarabic=1632,n.zerobengali=2534,n.zerodeva=2406,n.zerogujarati=2790,n.zerogurmukhi=2662,n.zerohackarabic=1632,n.zeroinferior=8320,n.zeromonospace=65296,n.zerooldstyle=63280,n.zeropersian=1776,n.zerosuperior=8304,n.zerothai=3664,n.zerowidthjoiner=65279,n.zerowidthnonjoiner=8204,n.zerowidthspace=8203,n.zeta=950,n.zhbopomofo=12563,n.zhearmenian=1386,n.zhebrevecyrillic=1218,n.zhecyrillic=1078,n.zhedescendercyrillic=1175,n.zhedieresiscyrillic=1245,n.zihiragana=12376,n.zikatakana=12472,n.zinorhebrew=1454,n.zlinebelow=7829,n.zmonospace=65370,n.zohiragana=12382,n.zokatakana=12478,n.zparen=9397,n.zretroflexhook=656,n.zstroke=438,n.zuhiragana=12378,n.zukatakana=12474,n[".notdef"]=0,n.angbracketleftbig=9001,n.angbracketleftBig=9001,n.angbracketleftbigg=9001,n.angbracketleftBigg=9001,n.angbracketrightBig=9002,n.angbracketrightbig=9002,n.angbracketrightBigg=9002,n.angbracketrightbigg=9002,n.arrowhookleft=8618,n.arrowhookright=8617,n.arrowlefttophalf=8636,n.arrowleftbothalf=8637,n.arrownortheast=8599,n.arrownorthwest=8598,n.arrowrighttophalf=8640,n.arrowrightbothalf=8641,n.arrowsoutheast=8600,n.arrowsouthwest=8601,n.backslashbig=8726,n.backslashBig=8726,n.backslashBigg=8726,n.backslashbigg=8726,n.bardbl=8214,n.bracehtipdownleft=65079,n.bracehtipdownright=65079,n.bracehtipupleft=65080,n.bracehtipupright=65080,n.braceleftBig=123,n.braceleftbig=123,n.braceleftbigg=123,n.braceleftBigg=123,n.bracerightBig=125,n.bracerightbig=125,n.bracerightbigg=125,n.bracerightBigg=125,n.bracketleftbig=91,n.bracketleftBig=91,n.bracketleftbigg=91,n.bracketleftBigg=91,n.bracketrightBig=93,n.bracketrightbig=93,n.bracketrightbigg=93,n.bracketrightBigg=93,n.ceilingleftbig=8968,n.ceilingleftBig=8968,n.ceilingleftBigg=8968,n.ceilingleftbigg=8968,n.ceilingrightbig=8969,n.ceilingrightBig=8969,n.ceilingrightbigg=8969,n.ceilingrightBigg=8969,n.circledotdisplay=8857,n.circledottext=8857,n.circlemultiplydisplay=8855,n.circlemultiplytext=8855,n.circleplusdisplay=8853,n.circleplustext=8853,n.contintegraldisplay=8750,n.contintegraltext=8750,n.coproductdisplay=8720,n.coproducttext=8720,n.floorleftBig=8970,n.floorleftbig=8970,n.floorleftbigg=8970,n.floorleftBigg=8970,n.floorrightbig=8971,n.floorrightBig=8971,n.floorrightBigg=8971,n.floorrightbigg=8971,n.hatwide=770,n.hatwider=770,n.hatwidest=770,n.intercal=7488,n.integraldisplay=8747,n.integraltext=8747,n.intersectiondisplay=8898,n.intersectiontext=8898,n.logicalanddisplay=8743,n.logicalandtext=8743,n.logicalordisplay=8744,n.logicalortext=8744,n.parenleftBig=40,n.parenleftbig=40,n.parenleftBigg=40,n.parenleftbigg=40,n.parenrightBig=41,n.parenrightbig=41,n.parenrightBigg=41,n.parenrightbigg=41,n.prime=8242,n.productdisplay=8719,n.producttext=8719,n.radicalbig=8730,n.radicalBig=8730,n.radicalBigg=8730,n.radicalbigg=8730,n.radicalbt=8730,n.radicaltp=8730,n.radicalvertex=8730,n.slashbig=47,n.slashBig=47,n.slashBigg=47,n.slashbigg=47,n.summationdisplay=8721,n.summationtext=8721,n.tildewide=732,n.tildewider=732,n.tildewidest=732,n.uniondisplay=8899,n.unionmultidisplay=8846,n.unionmultitext=8846,n.unionsqdisplay=8852,n.unionsqtext=8852,n.uniontext=8899,n.vextenddouble=8741,n.vextendsingle=8739}),getDingbatsGlyphsUnicode=getLookupTableFactory(function(n){n.space=32,n.a1=9985,n.a2=9986,n.a202=9987,n.a3=9988,n.a4=9742,n.a5=9990,n.a119=9991,n.a118=9992,n.a117=9993,n.a11=9755,n.a12=9758,n.a13=9996,n.a14=9997,n.a15=9998,n.a16=9999,n.a105=1e4,n.a17=10001,n.a18=10002,n.a19=10003,n.a20=10004,n.a21=10005,n.a22=10006,n.a23=10007,n.a24=10008,n.a25=10009,n.a26=10010,n.a27=10011,n.a28=10012,n.a6=10013,n.a7=10014,n.a8=10015,n.a9=10016,n.a10=10017,n.a29=10018,n.a30=10019,n.a31=10020,n.a32=10021,n.a33=10022,n.a34=10023,n.a35=9733,n.a36=10025,n.a37=10026,n.a38=10027,n.a39=10028,n.a40=10029,n.a41=10030,n.a42=10031,n.a43=10032,n.a44=10033,n.a45=10034,n.a46=10035,n.a47=10036,n.a48=10037,n.a49=10038,n.a50=10039,n.a51=10040,n.a52=10041,n.a53=10042,n.a54=10043,n.a55=10044,n.a56=10045,n.a57=10046,n.a58=10047,n.a59=10048,n.a60=10049,n.a61=10050,n.a62=10051,n.a63=10052,n.a64=10053,n.a65=10054,n.a66=10055,n.a67=10056,n.a68=10057,n.a69=10058,n.a70=10059,n.a71=9679,n.a72=10061,n.a73=9632,n.a74=10063,n.a203=10064,n.a75=10065,n.a204=10066,n.a76=9650,n.a77=9660,n.a78=9670,n.a79=10070,n.a81=9687,n.a82=10072,n.a83=10073,n.a84=10074,n.a97=10075,n.a98=10076,n.a99=10077,n.a100=10078,n.a101=10081,n.a102=10082,n.a103=10083,n.a104=10084,n.a106=10085,n.a107=10086,n.a108=10087,n.a112=9827,n.a111=9830,n.a110=9829,n.a109=9824,n.a120=9312,n.a121=9313,n.a122=9314,n.a123=9315,n.a124=9316,n.a125=9317,n.a126=9318,n.a127=9319,n.a128=9320,n.a129=9321,n.a130=10102,n.a131=10103,n.a132=10104,n.a133=10105,n.a134=10106,n.a135=10107,n.a136=10108,n.a137=10109,n.a138=10110,n.a139=10111,n.a140=10112,n.a141=10113,n.a142=10114,n.a143=10115,n.a144=10116,n.a145=10117,n.a146=10118,n.a147=10119,n.a148=10120,n.a149=10121,n.a150=10122,n.a151=10123,n.a152=10124,n.a153=10125,n.a154=10126,n.a155=10127,n.a156=10128,n.a157=10129,n.a158=10130,n.a159=10131,n.a160=10132,n.a161=8594,n.a163=8596,n.a164=8597,n.a196=10136,n.a165=10137,n.a192=10138,n.a166=10139,n.a167=10140,n.a168=10141,n.a169=10142,n.a170=10143,n.a171=10144,n.a172=10145,n.a173=10146,n.a162=10147,n.a174=10148,n.a175=10149,n.a176=10150,n.a177=10151,n.a178=10152,n.a179=10153,n.a193=10154,n.a180=10155,n.a199=10156,n.a181=10157,n.a200=10158,n.a182=10159,n.a201=10161,n.a183=10162,n.a184=10163,n.a197=10164,n.a185=10165,n.a194=10166,n.a198=10167,n.a186=10168,n.a195=10169,n.a187=10170,n.a188=10171,n.a189=10172,n.a190=10173,n.a191=10174,n.a89=10088,n.a90=10089,n.a93=10090,n.a94=10091,n.a91=10092,n.a92=10093,n.a205=10094,n.a85=10095,n.a206=10096,n.a86=10097,n.a87=10098,n.a88=10099,n.a95=10100,n.a96=10101,n[".notdef"]=0}),getSpecialPUASymbols=getLookupTableFactory(function(n){n[63721]=169,n[63193]=169,n[63720]=174,n[63194]=174,n[63722]=8482,n[63195]=8482,n[63729]=9127,n[63730]=9128,n[63731]=9129,n[63740]=9131,n[63741]=9132,n[63742]=9133,n[63726]=9121,n[63727]=9122,n[63728]=9123,n[63737]=9124,n[63738]=9125,n[63739]=9126,n[63723]=9115,n[63724]=9116,n[63725]=9117,n[63734]=9118,n[63735]=9119,n[63736]=9120});function mapSpecialUnicodeValues(n){return n>=65520&&n<=65535?0:n>=62976&&n<=63743?getSpecialPUASymbols()[n]||n:n===173?45:n}function getUnicodeForGlyph(n,t){let r=t[n];if(r!==void 0)return r;if(!n)return-1;if(n[0]==="u"){const a=n.length;let s;if(a===7&&n[1]==="n"&&n[2]==="i")s=n.substring(3);else if(a>=5&&a<=7)s=n.substring(1);else return-1;if(s===s.toUpperCase()&&(r=parseInt(s,16),r>=0))return r}return-1}const UnicodeRanges=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function getUnicodeRangeFor(n,t=-1){if(t!==-1){const r=UnicodeRanges[t];for(let a=0,s=r.length;a<s;a+=2)if(n>=r[a]&&n<=r[a+1])return t}for(let r=0,a=UnicodeRanges.length;r<a;r++){const s=UnicodeRanges[r];for(let o=0,l=s.length;o<l;o+=2)if(n>=s[o]&&n<=s[o+1])return r}return-1}const SpecialCharRegExp=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),CategoryCache=new Map;function getCharUnicodeCategory(n){const t=CategoryCache.get(n);if(t)return t;const r=n.match(SpecialCharRegExp),a={isWhitespace:!!r?.[1],isZeroWidthDiacritic:!!r?.[2],isInvisibleFormatMark:!!r?.[3]};return CategoryCache.set(n,a),a}function clearUnicodeCaches(){CategoryCache.clear()}const SEAC_ANALYSIS_ENABLED=!0,FontFlags={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function recoverGlyphName(n,t){if(t[n]!==void 0)return n;const r=getUnicodeForGlyph(n,t);if(r!==-1){for(const a in t)if(t[a]===r)return a}return info("Unable to recover a standard glyph name for: "+n),n}function type1FontGlyphMapping(n,t,r){const a=Object.create(null);let s,o,l;const u=!!(n.flags&FontFlags.Symbolic);if(n.isInternalFont)for(l=t,o=0;o<l.length;o++)s=r.indexOf(l[o]),a[o]=s>=0?s:0;else if(n.baseEncodingName)for(l=getEncoding(n.baseEncodingName),o=0;o<l.length;o++)s=r.indexOf(l[o]),a[o]=s>=0?s:0;else if(u)for(o in t)a[o]=t[o];else for(l=StandardEncoding,o=0;o<l.length;o++)s=r.indexOf(l[o]),a[o]=s>=0?s:0;const d=n.differences;let f;if(d)for(o in d){const g=d[o];if(s=r.indexOf(g),s===-1){f||(f=getGlyphsUnicode());const x=recoverGlyphName(g,f);x!==g&&(s=r.indexOf(x))}a[o]=s>=0?s:0}return a}function normalizeFontName(n){return n.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}const getStdFontMap=getLookupTableFactory(function(n){n["Times-Roman"]="Times-Roman",n.Helvetica="Helvetica",n.Courier="Courier",n.Symbol="Symbol",n["Times-Bold"]="Times-Bold",n["Helvetica-Bold"]="Helvetica-Bold",n["Courier-Bold"]="Courier-Bold",n.ZapfDingbats="ZapfDingbats",n["Times-Italic"]="Times-Italic",n["Helvetica-Oblique"]="Helvetica-Oblique",n["Courier-Oblique"]="Courier-Oblique",n["Times-BoldItalic"]="Times-BoldItalic",n["Helvetica-BoldOblique"]="Helvetica-BoldOblique",n["Courier-BoldOblique"]="Courier-BoldOblique",n.ArialNarrow="Helvetica",n["ArialNarrow-Bold"]="Helvetica-Bold",n["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",n["ArialNarrow-Italic"]="Helvetica-Oblique",n.ArialBlack="Helvetica",n["ArialBlack-Bold"]="Helvetica-Bold",n["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",n["ArialBlack-Italic"]="Helvetica-Oblique",n["Arial-Black"]="Helvetica",n["Arial-Black-Bold"]="Helvetica-Bold",n["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",n["Arial-Black-Italic"]="Helvetica-Oblique",n.Arial="Helvetica",n["Arial-Bold"]="Helvetica-Bold",n["Arial-BoldItalic"]="Helvetica-BoldOblique",n["Arial-Italic"]="Helvetica-Oblique",n.ArialMT="Helvetica",n["Arial-BoldItalicMT"]="Helvetica-BoldOblique",n["Arial-BoldMT"]="Helvetica-Bold",n["Arial-ItalicMT"]="Helvetica-Oblique",n["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",n["Arial-BoldMT-Bold"]="Helvetica-Bold",n["Arial-ItalicMT-Italic"]="Helvetica-Oblique",n.ArialUnicodeMS="Helvetica",n["ArialUnicodeMS-Bold"]="Helvetica-Bold",n["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",n["ArialUnicodeMS-Italic"]="Helvetica-Oblique",n["Courier-BoldItalic"]="Courier-BoldOblique",n["Courier-Italic"]="Courier-Oblique",n.CourierNew="Courier",n["CourierNew-Bold"]="Courier-Bold",n["CourierNew-BoldItalic"]="Courier-BoldOblique",n["CourierNew-Italic"]="Courier-Oblique",n["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",n["CourierNewPS-BoldMT"]="Courier-Bold",n["CourierNewPS-ItalicMT"]="Courier-Oblique",n.CourierNewPSMT="Courier",n["Helvetica-BoldItalic"]="Helvetica-BoldOblique",n["Helvetica-Italic"]="Helvetica-Oblique",n["Symbol-Bold"]="Symbol",n["Symbol-BoldItalic"]="Symbol",n["Symbol-Italic"]="Symbol",n.TimesNewRoman="Times-Roman",n["TimesNewRoman-Bold"]="Times-Bold",n["TimesNewRoman-BoldItalic"]="Times-BoldItalic",n["TimesNewRoman-Italic"]="Times-Italic",n.TimesNewRomanPS="Times-Roman",n["TimesNewRomanPS-Bold"]="Times-Bold",n["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",n["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",n["TimesNewRomanPS-BoldMT"]="Times-Bold",n["TimesNewRomanPS-Italic"]="Times-Italic",n["TimesNewRomanPS-ItalicMT"]="Times-Italic",n.TimesNewRomanPSMT="Times-Roman",n["TimesNewRomanPSMT-Bold"]="Times-Bold",n["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",n["TimesNewRomanPSMT-Italic"]="Times-Italic"}),getFontNameToFileMap=getLookupTableFactory(function(n){n.Courier="FoxitFixed.pfb",n["Courier-Bold"]="FoxitFixedBold.pfb",n["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",n["Courier-Oblique"]="FoxitFixedItalic.pfb",n.Helvetica="LiberationSans-Regular.ttf",n["Helvetica-Bold"]="LiberationSans-Bold.ttf",n["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",n["Helvetica-Oblique"]="LiberationSans-Italic.ttf",n["Times-Roman"]="FoxitSerif.pfb",n["Times-Bold"]="FoxitSerifBold.pfb",n["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",n["Times-Italic"]="FoxitSerifItalic.pfb",n.Symbol="FoxitSymbol.pfb",n.ZapfDingbats="FoxitDingbats.pfb",n["LiberationSans-Regular"]="LiberationSans-Regular.ttf",n["LiberationSans-Bold"]="LiberationSans-Bold.ttf",n["LiberationSans-Italic"]="LiberationSans-Italic.ttf",n["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"}),getNonStdFontMap=getLookupTableFactory(function(n){n.Calibri="Helvetica",n["Calibri-Bold"]="Helvetica-Bold",n["Calibri-BoldItalic"]="Helvetica-BoldOblique",n["Calibri-Italic"]="Helvetica-Oblique",n.CenturyGothic="Helvetica",n["CenturyGothic-Bold"]="Helvetica-Bold",n["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",n["CenturyGothic-Italic"]="Helvetica-Oblique",n.ComicSansMS="Comic Sans MS",n["ComicSansMS-Bold"]="Comic Sans MS-Bold",n["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",n["ComicSansMS-Italic"]="Comic Sans MS-Italic",n.Impact="Helvetica",n["ItcSymbol-Bold"]="Helvetica-Bold",n["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",n["ItcSymbol-Book"]="Helvetica",n["ItcSymbol-BookItalic"]="Helvetica-Oblique",n["ItcSymbol-Medium"]="Helvetica",n["ItcSymbol-MediumItalic"]="Helvetica-Oblique",n.LucidaConsole="Courier",n["LucidaConsole-Bold"]="Courier-Bold",n["LucidaConsole-BoldItalic"]="Courier-BoldOblique",n["LucidaConsole-Italic"]="Courier-Oblique",n["LucidaSans-Demi"]="Helvetica-Bold",n["MS-Gothic"]="MS Gothic",n["MS-Gothic-Bold"]="MS Gothic-Bold",n["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",n["MS-Gothic-Italic"]="MS Gothic-Italic",n["MS-Mincho"]="MS Mincho",n["MS-Mincho-Bold"]="MS Mincho-Bold",n["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",n["MS-Mincho-Italic"]="MS Mincho-Italic",n["MS-PGothic"]="MS PGothic",n["MS-PGothic-Bold"]="MS PGothic-Bold",n["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",n["MS-PGothic-Italic"]="MS PGothic-Italic",n["MS-PMincho"]="MS PMincho",n["MS-PMincho-Bold"]="MS PMincho-Bold",n["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",n["MS-PMincho-Italic"]="MS PMincho-Italic",n.NuptialScript="Times-Italic",n.SegoeUISymbol="Helvetica"}),getSerifFonts=getLookupTableFactory(function(n){n["Adobe Jenson"]=!0,n["Adobe Text"]=!0,n.Albertus=!0,n.Aldus=!0,n.Alexandria=!0,n.Algerian=!0,n["American Typewriter"]=!0,n.Antiqua=!0,n.Apex=!0,n.Arno=!0,n.Aster=!0,n.Aurora=!0,n.Baskerville=!0,n.Bell=!0,n.Bembo=!0,n["Bembo Schoolbook"]=!0,n.Benguiat=!0,n["Berkeley Old Style"]=!0,n["Bernhard Modern"]=!0,n["Berthold City"]=!0,n.Bodoni=!0,n["Bauer Bodoni"]=!0,n["Book Antiqua"]=!0,n.Bookman=!0,n["Bordeaux Roman"]=!0,n["Californian FB"]=!0,n.Calisto=!0,n.Calvert=!0,n.Capitals=!0,n.Cambria=!0,n.Cartier=!0,n.Caslon=!0,n.Catull=!0,n.Centaur=!0,n["Century Old Style"]=!0,n["Century Schoolbook"]=!0,n.Chaparral=!0,n["Charis SIL"]=!0,n.Cheltenham=!0,n["Cholla Slab"]=!0,n.Clarendon=!0,n.Clearface=!0,n.Cochin=!0,n.Colonna=!0,n["Computer Modern"]=!0,n["Concrete Roman"]=!0,n.Constantia=!0,n["Cooper Black"]=!0,n.Corona=!0,n.Ecotype=!0,n.Egyptienne=!0,n.Elephant=!0,n.Excelsior=!0,n.Fairfield=!0,n["FF Scala"]=!0,n.Folkard=!0,n.Footlight=!0,n.FreeSerif=!0,n["Friz Quadrata"]=!0,n.Garamond=!0,n.Gentium=!0,n.Georgia=!0,n.Gloucester=!0,n["Goudy Old Style"]=!0,n["Goudy Schoolbook"]=!0,n["Goudy Pro Font"]=!0,n.Granjon=!0,n["Guardian Egyptian"]=!0,n.Heather=!0,n.Hercules=!0,n["High Tower Text"]=!0,n.Hiroshige=!0,n["Hoefler Text"]=!0,n["Humana Serif"]=!0,n.Imprint=!0,n["Ionic No. 5"]=!0,n.Janson=!0,n.Joanna=!0,n.Korinna=!0,n.Lexicon=!0,n.LiberationSerif=!0,n["Liberation Serif"]=!0,n["Linux Libertine"]=!0,n.Literaturnaya=!0,n.Lucida=!0,n["Lucida Bright"]=!0,n.Melior=!0,n.Memphis=!0,n.Miller=!0,n.Minion=!0,n.Modern=!0,n["Mona Lisa"]=!0,n["Mrs Eaves"]=!0,n["MS Serif"]=!0,n["Museo Slab"]=!0,n["New York"]=!0,n["Nimbus Roman"]=!0,n["NPS Rawlinson Roadway"]=!0,n.NuptialScript=!0,n.Palatino=!0,n.Perpetua=!0,n.Plantin=!0,n["Plantin Schoolbook"]=!0,n.Playbill=!0,n["Poor Richard"]=!0,n["Rawlinson Roadway"]=!0,n.Renault=!0,n.Requiem=!0,n.Rockwell=!0,n.Roman=!0,n["Rotis Serif"]=!0,n.Sabon=!0,n.Scala=!0,n.Seagull=!0,n.Sistina=!0,n.Souvenir=!0,n.STIX=!0,n["Stone Informal"]=!0,n["Stone Serif"]=!0,n.Sylfaen=!0,n.Times=!0,n.Trajan=!0,n.Trinité=!0,n["Trump Mediaeval"]=!0,n.Utopia=!0,n["Vale Type"]=!0,n["Bitstream Vera"]=!0,n["Vera Serif"]=!0,n.Versailles=!0,n.Wanted=!0,n.Weiss=!0,n["Wide Latin"]=!0,n.Windsor=!0,n.XITS=!0}),getSymbolsFonts=getLookupTableFactory(function(n){n.Dingbats=!0,n.Symbol=!0,n.ZapfDingbats=!0,n.Wingdings=!0,n["Wingdings-Bold"]=!0,n["Wingdings-Regular"]=!0}),getGlyphMapForStandardFonts=getLookupTableFactory(function(n){n[2]=10,n[3]=32,n[4]=33,n[5]=34,n[6]=35,n[7]=36,n[8]=37,n[9]=38,n[10]=39,n[11]=40,n[12]=41,n[13]=42,n[14]=43,n[15]=44,n[16]=45,n[17]=46,n[18]=47,n[19]=48,n[20]=49,n[21]=50,n[22]=51,n[23]=52,n[24]=53,n[25]=54,n[26]=55,n[27]=56,n[28]=57,n[29]=58,n[30]=894,n[31]=60,n[32]=61,n[33]=62,n[34]=63,n[35]=64,n[36]=65,n[37]=66,n[38]=67,n[39]=68,n[40]=69,n[41]=70,n[42]=71,n[43]=72,n[44]=73,n[45]=74,n[46]=75,n[47]=76,n[48]=77,n[49]=78,n[50]=79,n[51]=80,n[52]=81,n[53]=82,n[54]=83,n[55]=84,n[56]=85,n[57]=86,n[58]=87,n[59]=88,n[60]=89,n[61]=90,n[62]=91,n[63]=92,n[64]=93,n[65]=94,n[66]=95,n[67]=96,n[68]=97,n[69]=98,n[70]=99,n[71]=100,n[72]=101,n[73]=102,n[74]=103,n[75]=104,n[76]=105,n[77]=106,n[78]=107,n[79]=108,n[80]=109,n[81]=110,n[82]=111,n[83]=112,n[84]=113,n[85]=114,n[86]=115,n[87]=116,n[88]=117,n[89]=118,n[90]=119,n[91]=120,n[92]=121,n[93]=122,n[94]=123,n[95]=124,n[96]=125,n[97]=126,n[98]=196,n[99]=197,n[100]=199,n[101]=201,n[102]=209,n[103]=214,n[104]=220,n[105]=225,n[106]=224,n[107]=226,n[108]=228,n[109]=227,n[110]=229,n[111]=231,n[112]=233,n[113]=232,n[114]=234,n[115]=235,n[116]=237,n[117]=236,n[118]=238,n[119]=239,n[120]=241,n[121]=243,n[122]=242,n[123]=244,n[124]=246,n[125]=245,n[126]=250,n[127]=249,n[128]=251,n[129]=252,n[130]=8224,n[131]=176,n[132]=162,n[133]=163,n[134]=167,n[135]=8226,n[136]=182,n[137]=223,n[138]=174,n[139]=169,n[140]=8482,n[141]=180,n[142]=168,n[143]=8800,n[144]=198,n[145]=216,n[146]=8734,n[147]=177,n[148]=8804,n[149]=8805,n[150]=165,n[151]=181,n[152]=8706,n[153]=8721,n[154]=8719,n[156]=8747,n[157]=170,n[158]=186,n[159]=8486,n[160]=230,n[161]=248,n[162]=191,n[163]=161,n[164]=172,n[165]=8730,n[166]=402,n[167]=8776,n[168]=8710,n[169]=171,n[170]=187,n[171]=8230,n[179]=8220,n[180]=8221,n[181]=8216,n[182]=8217,n[200]=193,n[203]=205,n[207]=211,n[210]=218,n[223]=711,n[224]=321,n[225]=322,n[226]=352,n[227]=353,n[228]=381,n[229]=382,n[233]=221,n[234]=253,n[252]=263,n[253]=268,n[254]=269,n[258]=258,n[260]=260,n[261]=261,n[265]=280,n[266]=281,n[267]=282,n[268]=283,n[269]=313,n[275]=323,n[276]=324,n[278]=328,n[283]=344,n[284]=345,n[285]=346,n[286]=347,n[292]=367,n[295]=377,n[296]=378,n[298]=380,n[305]=963,n[306]=964,n[307]=966,n[308]=8215,n[309]=8252,n[310]=8319,n[311]=8359,n[312]=8592,n[313]=8593,n[337]=9552,n[493]=1039,n[494]=1040,n[672]=1488,n[673]=1489,n[674]=1490,n[675]=1491,n[676]=1492,n[677]=1493,n[678]=1494,n[679]=1495,n[680]=1496,n[681]=1497,n[682]=1498,n[683]=1499,n[684]=1500,n[685]=1501,n[686]=1502,n[687]=1503,n[688]=1504,n[689]=1505,n[690]=1506,n[691]=1507,n[692]=1508,n[693]=1509,n[694]=1510,n[695]=1511,n[696]=1512,n[697]=1513,n[698]=1514,n[705]=1524,n[706]=8362,n[710]=64288,n[711]=64298,n[759]=1617,n[761]=1776,n[763]=1778,n[775]=1652,n[777]=1764,n[778]=1780,n[779]=1781,n[780]=1782,n[782]=771,n[783]=64726,n[786]=8363,n[788]=8532,n[790]=768,n[791]=769,n[792]=768,n[795]=803,n[797]=64336,n[798]=64337,n[799]=64342,n[800]=64343,n[801]=64344,n[802]=64345,n[803]=64362,n[804]=64363,n[805]=64364,n[2424]=7821,n[2425]=7822,n[2426]=7823,n[2427]=7824,n[2428]=7825,n[2429]=7826,n[2430]=7827,n[2433]=7682,n[2678]=8045,n[2679]=8046,n[2830]=1552,n[2838]=686,n[2840]=751,n[2842]=753,n[2843]=754,n[2844]=755,n[2846]=757,n[2856]=767,n[2857]=848,n[2858]=849,n[2862]=853,n[2863]=854,n[2864]=855,n[2865]=861,n[2866]=862,n[2906]=7460,n[2908]=7462,n[2909]=7463,n[2910]=7464,n[2912]=7466,n[2913]=7467,n[2914]=7468,n[2916]=7470,n[2917]=7471,n[2918]=7472,n[2920]=7474,n[2921]=7475,n[2922]=7476,n[2924]=7478,n[2925]=7479,n[2926]=7480,n[2928]=7482,n[2929]=7483,n[2930]=7484,n[2932]=7486,n[2933]=7487,n[2934]=7488,n[2936]=7490,n[2937]=7491,n[2938]=7492,n[2940]=7494,n[2941]=7495,n[2942]=7496,n[2944]=7498,n[2946]=7500,n[2948]=7502,n[2950]=7504,n[2951]=7505,n[2952]=7506,n[2954]=7508,n[2955]=7509,n[2956]=7510,n[2958]=7512,n[2959]=7513,n[2960]=7514,n[2962]=7516,n[2963]=7517,n[2964]=7518,n[2966]=7520,n[2967]=7521,n[2968]=7522,n[2970]=7524,n[2971]=7525,n[2972]=7526,n[2974]=7528,n[2975]=7529,n[2976]=7530,n[2978]=1537,n[2979]=1538,n[2980]=1539,n[2982]=1549,n[2983]=1551,n[2984]=1552,n[2986]=1554,n[2987]=1555,n[2988]=1556,n[2990]=1623,n[2991]=1624,n[2995]=1775,n[2999]=1791,n[3002]=64290,n[3003]=64291,n[3004]=64292,n[3006]=64294,n[3007]=64295,n[3008]=64296,n[3011]=1900,n[3014]=8223,n[3015]=8244,n[3017]=7532,n[3018]=7533,n[3019]=7534,n[3075]=7590,n[3076]=7591,n[3079]=7594,n[3080]=7595,n[3083]=7598,n[3084]=7599,n[3087]=7602,n[3088]=7603,n[3091]=7606,n[3092]=7607,n[3095]=7610,n[3096]=7611,n[3099]=7614,n[3100]=7615,n[3103]=7618,n[3104]=7619,n[3107]=8337,n[3108]=8338,n[3116]=1884,n[3119]=1885,n[3120]=1885,n[3123]=1886,n[3124]=1886,n[3127]=1887,n[3128]=1887,n[3131]=1888,n[3132]=1888,n[3135]=1889,n[3136]=1889,n[3139]=1890,n[3140]=1890,n[3143]=1891,n[3144]=1891,n[3147]=1892,n[3148]=1892,n[3153]=580,n[3154]=581,n[3157]=584,n[3158]=585,n[3161]=588,n[3162]=589,n[3165]=891,n[3166]=892,n[3169]=1274,n[3170]=1275,n[3173]=1278,n[3174]=1279,n[3181]=7622,n[3182]=7623,n[3282]=11799,n[3316]=578,n[3379]=42785,n[3393]=1159,n[3416]=8377}),getSupplementalGlyphMapForArialBlack=getLookupTableFactory(function(n){n[227]=322,n[264]=261,n[291]=346}),getSupplementalGlyphMapForCalibri=getLookupTableFactory(function(n){n[1]=32,n[4]=65,n[5]=192,n[6]=193,n[9]=196,n[17]=66,n[18]=67,n[21]=268,n[24]=68,n[28]=69,n[29]=200,n[30]=201,n[32]=282,n[38]=70,n[39]=71,n[44]=72,n[47]=73,n[48]=204,n[49]=205,n[58]=74,n[60]=75,n[62]=76,n[68]=77,n[69]=78,n[75]=79,n[76]=210,n[80]=214,n[87]=80,n[89]=81,n[90]=82,n[92]=344,n[94]=83,n[97]=352,n[100]=84,n[104]=85,n[109]=220,n[115]=86,n[116]=87,n[121]=88,n[122]=89,n[124]=221,n[127]=90,n[129]=381,n[258]=97,n[259]=224,n[260]=225,n[263]=228,n[268]=261,n[271]=98,n[272]=99,n[273]=263,n[275]=269,n[282]=100,n[286]=101,n[287]=232,n[288]=233,n[290]=283,n[295]=281,n[296]=102,n[336]=103,n[346]=104,n[349]=105,n[350]=236,n[351]=237,n[361]=106,n[364]=107,n[367]=108,n[371]=322,n[373]=109,n[374]=110,n[381]=111,n[382]=242,n[383]=243,n[386]=246,n[393]=112,n[395]=113,n[396]=114,n[398]=345,n[400]=115,n[401]=347,n[403]=353,n[410]=116,n[437]=117,n[442]=252,n[448]=118,n[449]=119,n[454]=120,n[455]=121,n[457]=253,n[460]=122,n[462]=382,n[463]=380,n[853]=44,n[855]=58,n[856]=46,n[876]=47,n[878]=45,n[882]=45,n[894]=40,n[895]=41,n[896]=91,n[897]=93,n[923]=64,n[1004]=48,n[1005]=49,n[1006]=50,n[1007]=51,n[1008]=52,n[1009]=53,n[1010]=54,n[1011]=55,n[1012]=56,n[1013]=57,n[1081]=37,n[1085]=43,n[1086]=45});function getStandardFontName(n){const t=normalizeFontName(n);return getStdFontMap()[t]}function isKnownFontName(n){const t=normalizeFontName(n);return!!(getStdFontMap()[t]||getNonStdFontMap()[t]||getSerifFonts()[t]||getSymbolsFonts()[t])}class ToUnicodeMap{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const r in this._map)t(r,this._map[r].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const r=this._map;if(r.length<=65536)return r.indexOf(t);for(const a in r)if(r[a]===t)return a|0;return-1}amend(t){for(const r in t)this._map[r]=t[r]}}class IdentityToUnicodeMap{constructor(t,r){this.firstChar=t,this.lastChar=r}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let r=this.firstChar,a=this.lastChar;r<=a;r++)t(r,r)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){unreachable("Should not call amend()")}}class CFFFont{constructor(t,r){this.properties=r;const a=new CFFParser(t,r,SEAC_ANALYSIS_ENABLED);this.cff=a.parse(),this.cff.duplicateFirstGlyph();const s=new CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=s.compile()}catch{warn("Failed to compile font "+r.loadedName),this.data=t}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const t=this.cff,r=this.properties,{cidToGidMap:a,cMap:s}=r,o=t.charset.charset;let l,u;if(r.composite){let f;if(a?.length>0){f=Object.create(null);for(let x=0,b=a.length;x<b;x++){const m=a[x];m!==void 0&&(f[m]=x)}}l=Object.create(null);let g;if(t.isCIDFont)for(u=0;u<o.length;u++){const x=o[u];g=s.charCodeOf(x),f?.[g]!==void 0&&(g=f[g]),l[g]=u}else for(u=0;u<t.charStrings.count;u++)g=s.charCodeOf(u),l[g]=u;return l}let d=t.encoding?t.encoding.encoding:null;return r.isInternalFont&&(d=r.defaultEncoding),l=type1FontGlyphMapping(r,d,o),l}hasGlyphId(t){return this.cff.hasGlyphId(t)}_createBuiltInEncoding(){const{charset:t,encoding:r}=this.cff;if(!t||!r)return;const a=t.charset,s=r.encoding,o=[];for(const l in s){const u=s[l];if(u>=0){const d=a[u];d&&(o[l]=d)}}o.length>0&&(this.properties.builtInEncoding=o)}}function getUint32(n,t){return(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3])>>>0}function getUint16(n,t){return n[t]<<8|n[t+1]}function getInt16(n,t){return(n[t]<<24|n[t+1]<<16)>>16}function getInt8(n,t){return n[t]<<24>>24}function getFloat214(n,t){return getInt16(n,t)/16384}function getSubroutineBias(n){const t=n.length;let r=32768;return t<1240?r=107:t<33900&&(r=1131),r}function parseCmap(n,t,r){const a=getUint16(n,t+2)===1?getUint32(n,t+8):getUint32(n,t+16),s=getUint16(n,t+a);let o,l,u;if(s===4){getUint16(n,t+a+2);const d=getUint16(n,t+a+6)>>1;for(l=t+a+14,o=[],u=0;u<d;u++,l+=2)o[u]={end:getUint16(n,l)};for(l+=2,u=0;u<d;u++,l+=2)o[u].start=getUint16(n,l);for(u=0;u<d;u++,l+=2)o[u].idDelta=getUint16(n,l);for(u=0;u<d;u++,l+=2){let f=getUint16(n,l);if(f!==0){o[u].ids=[];for(let g=0,x=o[u].end-o[u].start+1;g<x;g++)o[u].ids[g]=getUint16(n,l+f),f+=2}}return o}else if(s===12){const d=getUint32(n,t+a+12);for(l=t+a+16,o=[],u=0;u<d;u++)t=getUint32(n,l),o.push({start:t,end:getUint32(n,l+4),idDelta:getUint32(n,l+8)-t}),l+=12;return o}throw new FormatError(`unsupported cmap: ${s}`)}function parseCff(n,t,r,a){const s={},l=new CFFParser(new Stream$1(n,t,r-t),s,a).parse();return{glyphs:l.charStrings.objects,subrs:l.topDict.privateDict?.subrsIndex?.objects,gsubrs:l.globalSubrIndex?.objects,isCFFCIDFont:l.isCIDFont,fdSelect:l.fdSelect,fdArray:l.fdArray}}function parseGlyfTable(n,t,r){let a,s;r?(a=4,s=getUint32):(a=2,s=(u,d)=>2*getUint16(u,d));const o=[];let l=s(t,0);for(let u=a;u<t.length;u+=a){const d=s(t,u);o.push(n.subarray(l,d)),l=d}return o}function lookupCmap(n,t){const r=t.codePointAt(0);let a=0,s=0,o=n.length-1;for(;s<o;){const l=s+o+1>>1;r<n[l].start?o=l-1:s=l}return n[s].start<=r&&r<=n[s].end&&(a=n[s].idDelta+(n[s].ids?n[s].ids[r-n[s].start]:r)&65535),{charCode:r,glyphId:a}}function compileGlyf(n,t,r){function a(x,b){t.push({cmd:"moveTo",args:[x,b]})}function s(x,b){t.push({cmd:"lineTo",args:[x,b]})}function o(x,b,m,y){t.push({cmd:"quadraticCurveTo",args:[x,b,m,y]})}let l=0;const u=getInt16(n,l);let d,f=0,g=0;if(l+=10,u<0)do{d=getUint16(n,l);const x=getUint16(n,l+2);l+=4;let b,m;d&1?(d&2?(b=getInt16(n,l),m=getInt16(n,l+2)):(b=getUint16(n,l),m=getUint16(n,l+2)),l+=4):d&2?(b=getInt8(n,l++),m=getInt8(n,l++)):(b=n[l++],m=n[l++]),d&2?(f=b,g=m):(f=0,g=0);let y=1,v=1,w=0,S=0;d&8?(y=v=getFloat214(n,l),l+=2):d&64?(y=getFloat214(n,l),v=getFloat214(n,l+2),l+=4):d&128&&(y=getFloat214(n,l),w=getFloat214(n,l+2),S=getFloat214(n,l+4),v=getFloat214(n,l+6),l+=8);const C=r.glyphs[x];C&&(t.push({cmd:"save"},{cmd:"transform",args:[y,w,S,v,f,g]}),compileGlyf(C,t,r),t.push({cmd:"restore"}))}while(d&32);else{const x=[];let b,m;for(b=0;b<u;b++)x.push(getUint16(n,l)),l+=2;const y=getUint16(n,l);l+=2+y;const v=x.at(-1)+1,w=[];for(;w.length<v;){d=n[l++];let C=1;for(d&8&&(C+=n[l++]);C-- >0;)w.push({flags:d})}for(b=0;b<v;b++){switch(w[b].flags&18){case 0:f+=getInt16(n,l),l+=2;break;case 2:f-=n[l++];break;case 18:f+=n[l++];break}w[b].x=f}for(b=0;b<v;b++){switch(w[b].flags&36){case 0:g+=getInt16(n,l),l+=2;break;case 4:g-=n[l++];break;case 36:g+=n[l++];break}w[b].y=g}let S=0;for(l=0;l<u;l++){const C=x[l],E=w.slice(S,C+1);if(E[0].flags&1)E.push(E[0]);else if(E.at(-1).flags&1)E.unshift(E.at(-1));else{const T={flags:1,x:(E[0].x+E.at(-1).x)/2,y:(E[0].y+E.at(-1).y)/2};E.unshift(T),E.push(T)}for(a(E[0].x,E[0].y),b=1,m=E.length;b<m;b++)E[b].flags&1?s(E[b].x,E[b].y):E[b+1].flags&1?(o(E[b].x,E[b].y,E[b+1].x,E[b+1].y),b++):o(E[b].x,E[b].y,(E[b].x+E[b+1].x)/2,(E[b].y+E[b+1].y)/2);S=C+1}}}function compileCharString(n,t,r,a){function s(b,m){t.push({cmd:"moveTo",args:[b,m]})}function o(b,m){t.push({cmd:"lineTo",args:[b,m]})}function l(b,m,y,v,w,S){t.push({cmd:"bezierCurveTo",args:[b,m,y,v,w,S]})}const u=[];let d=0,f=0,g=0;function x(b){let m=0;for(;m<b.length;){let y=!1,v=b[m++],w,S,C,E,T,_,R,U,z;switch(v){case 1:g+=u.length>>1,y=!0;break;case 3:g+=u.length>>1,y=!0;break;case 4:f+=u.pop(),s(d,f),y=!0;break;case 5:for(;u.length>0;)d+=u.shift(),f+=u.shift(),o(d,f);break;case 6:for(;u.length>0&&(d+=u.shift(),o(d,f),u.length!==0);)f+=u.shift(),o(d,f);break;case 7:for(;u.length>0&&(f+=u.shift(),o(d,f),u.length!==0);)d+=u.shift(),o(d,f);break;case 8:for(;u.length>0;)w=d+u.shift(),C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+u.shift(),l(w,C,S,E,d,f);break;case 10:if(U=u.pop(),z=null,r.isCFFCIDFont){const X=r.fdSelect.getFDIndex(a);if(X>=0&&X<r.fdArray.length){const W=r.fdArray[X];let Y;W.privateDict?.subrsIndex&&(Y=W.privateDict.subrsIndex.objects),Y&&(U+=getSubroutineBias(Y),z=Y[U])}else warn("Invalid fd index for glyph index.")}else z=r.subrs[U+r.subrsBias];z&&x(z);break;case 11:return;case 12:switch(v=b[m++],v){case 34:w=d+u.shift(),S=w+u.shift(),T=f+u.shift(),d=S+u.shift(),l(w,f,S,T,d,T),w=d+u.shift(),S=w+u.shift(),d=S+u.shift(),l(w,T,S,f,d,f);break;case 35:w=d+u.shift(),C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+u.shift(),l(w,C,S,E,d,f),w=d+u.shift(),C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+u.shift(),l(w,C,S,E,d,f),u.pop();break;case 36:w=d+u.shift(),T=f+u.shift(),S=w+u.shift(),_=T+u.shift(),d=S+u.shift(),l(w,T,S,_,d,_),w=d+u.shift(),S=w+u.shift(),R=_+u.shift(),d=S+u.shift(),l(w,_,S,R,d,f);break;case 37:const X=d,W=f;w=d+u.shift(),C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+u.shift(),l(w,C,S,E,d,f),w=d+u.shift(),C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S,f=E,Math.abs(d-X)>Math.abs(f-W)?d+=u.shift():f+=u.shift(),l(w,C,S,E,d,f);break;default:throw new FormatError(`unknown operator: 12 ${v}`)}break;case 14:if(u.length>=4){const X=u.pop(),W=u.pop();f=u.pop(),d=u.pop(),t.push({cmd:"save"},{cmd:"translate",args:[d,f]});let Y=lookupCmap(r.cmap,String.fromCharCode(r.glyphNameMap[StandardEncoding[X]]));compileCharString(r.glyphs[Y.glyphId],t,r,Y.glyphId),t.push({cmd:"restore"}),Y=lookupCmap(r.cmap,String.fromCharCode(r.glyphNameMap[StandardEncoding[W]])),compileCharString(r.glyphs[Y.glyphId],t,r,Y.glyphId)}return;case 18:g+=u.length>>1,y=!0;break;case 19:g+=u.length>>1,m+=g+7>>3,y=!0;break;case 20:g+=u.length>>1,m+=g+7>>3,y=!0;break;case 21:f+=u.pop(),d+=u.pop(),s(d,f),y=!0;break;case 22:d+=u.pop(),s(d,f),y=!0;break;case 23:g+=u.length>>1,y=!0;break;case 24:for(;u.length>2;)w=d+u.shift(),C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+u.shift(),l(w,C,S,E,d,f);d+=u.shift(),f+=u.shift(),o(d,f);break;case 25:for(;u.length>6;)d+=u.shift(),f+=u.shift(),o(d,f);w=d+u.shift(),C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+u.shift(),l(w,C,S,E,d,f);break;case 26:for(u.length%2&&(d+=u.shift());u.length>0;)w=d,C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S,f=E+u.shift(),l(w,C,S,E,d,f);break;case 27:for(u.length%2&&(f+=u.shift());u.length>0;)w=d+u.shift(),C=f,S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E,l(w,C,S,E,d,f);break;case 28:u.push((b[m]<<24|b[m+1]<<16)>>16),m+=2;break;case 29:U=u.pop()+r.gsubrsBias,z=r.gsubrs[U],z&&x(z);break;case 30:for(;u.length>0&&(w=d,C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+(u.length===1?u.shift():0),l(w,C,S,E,d,f),u.length!==0);)w=d+u.shift(),C=f,S=w+u.shift(),E=C+u.shift(),f=E+u.shift(),d=S+(u.length===1?u.shift():0),l(w,C,S,E,d,f);break;case 31:for(;u.length>0&&(w=d+u.shift(),C=f,S=w+u.shift(),E=C+u.shift(),f=E+u.shift(),d=S+(u.length===1?u.shift():0),l(w,C,S,E,d,f),u.length!==0);)w=d,C=f+u.shift(),S=w+u.shift(),E=C+u.shift(),d=S+u.shift(),f=E+(u.length===1?u.shift():0),l(w,C,S,E,d,f);break;default:if(v<32)throw new FormatError(`unknown operator: ${v}`);v<247?u.push(v-139):v<251?u.push((v-247)*256+b[m++]+108):v<255?u.push(-(v-251)*256-b[m++]-108):(u.push((b[m]<<24|b[m+1]<<16|b[m+2]<<8|b[m+3])/65536),m+=4);break}y&&(u.length=0)}}x(n)}const NOOP=[];class CompiledFont{constructor(t){this.constructor===CompiledFont&&unreachable("Cannot initialize CompiledFont."),this.fontMatrix=t,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(t){const{charCode:r,glyphId:a}=lookupCmap(this.cmap,t);let s=this.compiledGlyphs[a];if(!s)try{s=this.compileGlyph(this.glyphs[a],a),this.compiledGlyphs[a]=s}catch(o){throw this.compiledGlyphs[a]=NOOP,this.compiledCharCodeToGlyphId[r]===void 0&&(this.compiledCharCodeToGlyphId[r]=a),o}return this.compiledCharCodeToGlyphId[r]===void 0&&(this.compiledCharCodeToGlyphId[r]=a),s}compileGlyph(t,r){if(!t||t.length===0||t[0]===14)return NOOP;let a=this.fontMatrix;if(this.isCFFCIDFont){const o=this.fdSelect.getFDIndex(r);o>=0&&o<this.fdArray.length?a=this.fdArray[o].getByName("FontMatrix")||FONT_IDENTITY_MATRIX:warn("Invalid fd index for glyph index.")}const s=[{cmd:"save"},{cmd:"transform",args:a.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(t,s,r),s.push({cmd:"restore"}),s}compileGlyphImpl(){unreachable("Children classes should implement this.")}hasBuiltPath(t){const{charCode:r,glyphId:a}=lookupCmap(this.cmap,t);return this.compiledGlyphs[a]!==void 0&&this.compiledCharCodeToGlyphId[r]!==void 0}}class TrueTypeCompiled extends CompiledFont{constructor(t,r,a){super(a||[488e-6,0,0,488e-6,0,0]),this.glyphs=t,this.cmap=r}compileGlyphImpl(t,r){compileGlyf(t,r,this)}}class Type2Compiled extends CompiledFont{constructor(t,r,a,s){super(a||[.001,0,0,.001,0,0]),this.glyphs=t.glyphs,this.gsubrs=t.gsubrs||[],this.subrs=t.subrs||[],this.cmap=r,this.glyphNameMap=s||getGlyphsUnicode(),this.gsubrsBias=getSubroutineBias(this.gsubrs),this.subrsBias=getSubroutineBias(this.subrs),this.isCFFCIDFont=t.isCFFCIDFont,this.fdSelect=t.fdSelect,this.fdArray=t.fdArray}compileGlyphImpl(t,r,a){compileCharString(t,r,this,a)}}class FontRendererFactory{static create(t,r){const a=new Uint8Array(t.data);let s,o,l,u,d,f;const g=getUint16(a,4);for(let x=0,b=12;x<g;x++,b+=16){const m=bytesToString(a.subarray(b,b+4)),y=getUint32(a,b+8),v=getUint32(a,b+12);switch(m){case"cmap":s=parseCmap(a,y);break;case"glyf":o=a.subarray(y,y+v);break;case"loca":l=a.subarray(y,y+v);break;case"head":f=getUint16(a,y+18),d=getUint16(a,y+50);break;case"CFF ":u=parseCff(a,y,y+v,r);break}}if(o){const x=f?[1/f,0,0,1/f,0,0]:t.fontMatrix;return new TrueTypeCompiled(parseGlyfTable(o,l,d),s,x)}return new Type2Compiled(u,s,t.fontMatrix,t.glyphNameMap)}}const getMetrics=getLookupTableFactory(function(n){n.Courier=600,n["Courier-Bold"]=600,n["Courier-BoldOblique"]=600,n["Courier-Oblique"]=600,n.Helvetica=getLookupTableFactory(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),n["Helvetica-Bold"]=getLookupTableFactory(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),n["Helvetica-BoldOblique"]=getLookupTableFactory(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),n["Helvetica-Oblique"]=getLookupTableFactory(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),n.Symbol=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),n["Times-Roman"]=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),n["Times-Bold"]=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),n["Times-BoldItalic"]=getLookupTableFactory(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),n["Times-Italic"]=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),n.ZapfDingbats=getLookupTableFactory(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})}),getFontBasicMetrics=getLookupTableFactory(function(n){n.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},n["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},n["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},n["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},n.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},n["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},n["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},n["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},n["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},n["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},n["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},n["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},n.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},n.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}}),ON_CURVE_POINT=1,X_SHORT_VECTOR=2,Y_SHORT_VECTOR=4,REPEAT_FLAG=8,X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR=16,Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR=32,OVERLAP_SIMPLE=64,ARG_1_AND_2_ARE_WORDS=1,ARGS_ARE_XY_VALUES=2,WE_HAVE_A_SCALE=8,MORE_COMPONENTS=32,WE_HAVE_AN_X_AND_Y_SCALE=64,WE_HAVE_A_TWO_BY_TWO=128,WE_HAVE_INSTRUCTIONS=256;class GlyfTable{constructor({glyfTable:t,isGlyphLocationsLong:r,locaTable:a,numGlyphs:s}){this.glyphs=[];const o=new DataView(a.buffer,a.byteOffset,a.byteLength),l=new DataView(t.buffer,t.byteOffset,t.byteLength),u=r?4:2;let d=r?o.getUint32(0):2*o.getUint16(0),f=0;for(let g=0;g<s;g++){f+=u;const x=r?o.getUint32(f):2*o.getUint16(f);if(x===d){this.glyphs.push(new Glyph({}));continue}const b=Glyph.parse(d,l);this.glyphs.push(b),d=x}}getSize(){return this.glyphs.reduce((t,r)=>{const a=r.getSize();return t+(a+3&-4)},0)}write(){const t=this.getSize(),r=new DataView(new ArrayBuffer(t)),a=t>131070,s=a?4:2,o=new DataView(new ArrayBuffer((this.glyphs.length+1)*s));a?o.setUint32(0,0):o.setUint16(0,0);let l=0,u=0;for(const d of this.glyphs)l+=d.write(l,r),l=l+3&-4,u+=s,a?o.setUint32(u,l):o.setUint16(u,l>>1);return{isLocationLong:a,loca:new Uint8Array(o.buffer),glyf:new Uint8Array(r.buffer)}}scale(t){for(let r=0,a=this.glyphs.length;r<a;r++)this.glyphs[r].scale(t[r])}}class Glyph{constructor({header:t=null,simple:r=null,composites:a=null}){this.header=t,this.simple=r,this.composites=a}static parse(t,r){const[a,s]=GlyphHeader.parse(t,r);if(t+=a,s.numberOfContours<0){const l=[];for(;;){const[u,d]=CompositeGlyph.parse(t,r);if(t+=u,l.push(d),!(d.flags&MORE_COMPONENTS))break}return new Glyph({header:s,composites:l})}const o=SimpleGlyph.parse(t,r,s.numberOfContours);return new Glyph({header:s,simple:o})}getSize(){if(!this.header)return 0;const t=this.simple?this.simple.getSize():this.composites.reduce((r,a)=>r+a.getSize(),0);return this.header.getSize()+t}write(t,r){if(!this.header)return 0;const a=t;if(t+=this.header.write(t,r),this.simple)t+=this.simple.write(t,r);else for(const s of this.composites)t+=s.write(t,r);return t-a}scale(t){if(!this.header)return;const r=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(r,t),this.simple)this.simple.scale(r,t);else for(const a of this.composites)a.scale(r,t)}}class GlyphHeader{constructor({numberOfContours:t,xMin:r,yMin:a,xMax:s,yMax:o}){this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=o}static parse(t,r){return[10,new GlyphHeader({numberOfContours:r.getInt16(t),xMin:r.getInt16(t+2),yMin:r.getInt16(t+4),xMax:r.getInt16(t+6),yMax:r.getInt16(t+8)})]}getSize(){return 10}write(t,r){return r.setInt16(t,this.numberOfContours),r.setInt16(t+2,this.xMin),r.setInt16(t+4,this.yMin),r.setInt16(t+6,this.xMax),r.setInt16(t+8,this.yMax),10}scale(t,r){this.xMin=Math.round(t+(this.xMin-t)*r),this.xMax=Math.round(t+(this.xMax-t)*r)}}class Contour{constructor({flags:t,xCoordinates:r,yCoordinates:a}){this.xCoordinates=r,this.yCoordinates=a,this.flags=t}}class SimpleGlyph{constructor({contours:t,instructions:r}){this.contours=t,this.instructions=r}static parse(t,r,a){const s=[];for(let w=0;w<a;w++){const S=r.getUint16(t);t+=2,s.push(S)}const o=s[a-1]+1,l=r.getUint16(t);t+=2;const u=new Uint8Array(r).slice(t,t+l);t+=l;const d=[];for(let w=0;w<o;t++,w++){let S=r.getUint8(t);if(d.push(S),S&REPEAT_FLAG){const C=r.getUint8(++t);S^=REPEAT_FLAG;for(let E=0;E<C;E++)d.push(S);w+=C}}const f=[];let g=[],x=[],b=[];const m=[];let y=0,v=0;for(let w=0;w<o;w++){const S=d[w];if(S&X_SHORT_VECTOR){const C=r.getUint8(t++);v+=S&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR?C:-C,g.push(v)}else S&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(v+=r.getInt16(t),t+=2),g.push(v);s[y]===w&&(y++,f.push(g),g=[])}v=0,y=0;for(let w=0;w<o;w++){const S=d[w];if(S&Y_SHORT_VECTOR){const C=r.getUint8(t++);v+=S&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR?C:-C,x.push(v)}else S&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(v+=r.getInt16(t),t+=2),x.push(v);b.push(S&ON_CURVE_POINT|S&OVERLAP_SIMPLE),s[y]===w&&(g=f[y],y++,m.push(new Contour({flags:b,xCoordinates:g,yCoordinates:x})),x=[],b=[])}return new SimpleGlyph({contours:m,instructions:u})}getSize(){let t=this.contours.length*2+2+this.instructions.length,r=0,a=0;for(const s of this.contours){t+=s.flags.length;for(let o=0,l=s.xCoordinates.length;o<l;o++){const u=s.xCoordinates[o],d=s.yCoordinates[o];let f=Math.abs(u-r);f>255?t+=2:f>0&&(t+=1),r=u,f=Math.abs(d-a),f>255?t+=2:f>0&&(t+=1),a=d}}return t}write(t,r){const a=t,s=[],o=[],l=[];let u=0,d=0;for(const f of this.contours){for(let g=0,x=f.xCoordinates.length;g<x;g++){let b=f.flags[g];const m=f.xCoordinates[g];let y=m-u;if(y===0)b|=X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR,s.push(0);else{const w=Math.abs(y);w<=255?(b|=y>=0?X_SHORT_VECTOR|X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR:X_SHORT_VECTOR,s.push(w)):s.push(y)}u=m;const v=f.yCoordinates[g];if(y=v-d,y===0)b|=Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR,o.push(0);else{const w=Math.abs(y);w<=255?(b|=y>=0?Y_SHORT_VECTOR|Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR:Y_SHORT_VECTOR,o.push(w)):o.push(y)}d=v,l.push(b)}r.setUint16(t,s.length-1),t+=2}r.setUint16(t,this.instructions.length),t+=2,this.instructions.length&&(new Uint8Array(r.buffer,0,r.buffer.byteLength).set(this.instructions,t),t+=this.instructions.length);for(const f of l)r.setUint8(t++,f);for(let f=0,g=s.length;f<g;f++){const x=s[f],b=l[f];b&X_SHORT_VECTOR?r.setUint8(t++,x):b&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(r.setInt16(t,x),t+=2)}for(let f=0,g=o.length;f<g;f++){const x=o[f],b=l[f];b&Y_SHORT_VECTOR?r.setUint8(t++,x):b&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(r.setInt16(t,x),t+=2)}return t-a}scale(t,r){for(const a of this.contours)if(a.xCoordinates.length!==0)for(let s=0,o=a.xCoordinates.length;s<o;s++)a.xCoordinates[s]=Math.round(t+(a.xCoordinates[s]-t)*r)}}class CompositeGlyph{constructor({flags:t,glyphIndex:r,argument1:a,argument2:s,transf:o,instructions:l}){this.flags=t,this.glyphIndex=r,this.argument1=a,this.argument2=s,this.transf=o,this.instructions=l}static parse(t,r){const a=t,s=[];let o=r.getUint16(t);const l=r.getUint16(t+2);t+=4;let u,d;o&ARG_1_AND_2_ARE_WORDS?(o&ARGS_ARE_XY_VALUES?(u=r.getInt16(t),d=r.getInt16(t+2)):(u=r.getUint16(t),d=r.getUint16(t+2)),t+=4,o^=ARG_1_AND_2_ARE_WORDS):(o&ARGS_ARE_XY_VALUES?(u=r.getInt8(t),d=r.getInt8(t+1)):(u=r.getUint8(t),d=r.getUint8(t+1)),t+=2),o&WE_HAVE_A_SCALE?(s.push(r.getUint16(t)),t+=2):o&WE_HAVE_AN_X_AND_Y_SCALE?(s.push(r.getUint16(t),r.getUint16(t+2)),t+=4):o&WE_HAVE_A_TWO_BY_TWO&&(s.push(r.getUint16(t),r.getUint16(t+2),r.getUint16(t+4),r.getUint16(t+6)),t+=8);let f=null;if(o&WE_HAVE_INSTRUCTIONS){const g=r.getUint16(t);t+=2,f=new Uint8Array(r).slice(t,t+g),t+=g}return[t-a,new CompositeGlyph({flags:o,glyphIndex:l,argument1:u,argument2:d,transf:s,instructions:f})]}getSize(){let t=4+this.transf.length*2;return this.flags&WE_HAVE_INSTRUCTIONS&&(t+=2+this.instructions.length),t+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(t+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(t+=2),t}write(t,r){const a=t;return this.flags&ARGS_ARE_XY_VALUES?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=ARG_1_AND_2_ARE_WORDS):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=ARG_1_AND_2_ARE_WORDS),r.setUint16(t,this.flags),r.setUint16(t+2,this.glyphIndex),t+=4,this.flags&ARG_1_AND_2_ARE_WORDS?(this.flags&ARGS_ARE_XY_VALUES?(r.setInt16(t,this.argument1),r.setInt16(t+2,this.argument2)):(r.setUint16(t,this.argument1),r.setUint16(t+2,this.argument2)),t+=4):(r.setUint8(t,this.argument1),r.setUint8(t+1,this.argument2),t+=2),this.flags&WE_HAVE_INSTRUCTIONS&&(r.setUint16(t,this.instructions.length),t+=2,this.instructions.length&&(new Uint8Array(r.buffer,0,r.buffer.byteLength).set(this.instructions,t),t+=this.instructions.length)),t-a}scale(t,r){}}function writeInt16(n,t,r){n[t]=r>>8&255,n[t+1]=r&255}function writeInt32(n,t,r){n[t]=r>>24&255,n[t+1]=r>>16&255,n[t+2]=r>>8&255,n[t+3]=r&255}function writeData(n,t,r){if(r instanceof Uint8Array)n.set(r,t);else if(typeof r=="string")for(let a=0,s=r.length;a<s;a++)n[t++]=r.charCodeAt(a)&255;else for(const a of r)n[t++]=a&255}const OTF_HEADER_SIZE=12,OTF_TABLE_ENTRY_SIZE=16;class OpenTypeFileBuilder{constructor(t){this.sfnt=t,this.tables=Object.create(null)}static getSearchParams(t,r){let a=1,s=0;for(;(a^t)>a;)a<<=1,s++;const o=a*r;return{range:o,entry:s,rangeShift:r*t-o}}toArray(){let t=this.sfnt;const r=this.tables,a=Object.keys(r);a.sort();const s=a.length;let o,l,u,d,f,g=OTF_HEADER_SIZE+s*OTF_TABLE_ENTRY_SIZE;const x=[g];for(o=0;o<s;o++){d=r[a[o]];const y=(d.length+3&-4)>>>0;g+=y,x.push(g)}const b=new Uint8Array(g);for(o=0;o<s;o++)d=r[a[o]],writeData(b,x[o],d);t==="true"&&(t=string32(65536)),b[0]=t.charCodeAt(0)&255,b[1]=t.charCodeAt(1)&255,b[2]=t.charCodeAt(2)&255,b[3]=t.charCodeAt(3)&255,writeInt16(b,4,s);const m=OpenTypeFileBuilder.getSearchParams(s,16);for(writeInt16(b,6,m.range),writeInt16(b,8,m.entry),writeInt16(b,10,m.rangeShift),g=OTF_HEADER_SIZE,o=0;o<s;o++){f=a[o],b[g]=f.charCodeAt(0)&255,b[g+1]=f.charCodeAt(1)&255,b[g+2]=f.charCodeAt(2)&255,b[g+3]=f.charCodeAt(3)&255;let y=0;for(l=x[o],u=x[o+1];l<u;l+=4){const v=readUint32(b,l);y=y+v>>>0}writeInt32(b,g+4,y),writeInt32(b,g+8,x[o]),writeInt32(b,g+12,r[f].length),g+=OTF_TABLE_ENTRY_SIZE}return b}addTable(t,r){if(t in this.tables)throw new Error("Table "+t+" already exists");this.tables[t]=r}}const HINTING_ENABLED=!1,COMMAND_MAP={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Type1CharString{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(t,r,a){const s=t.length;let o=!1,l,u,d;for(let f=0;f<s;f++){let g=t[f];if(g<32){switch(g===12&&(g=(g<<8)+t[++f]),g){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){o=!0;break}const v=this.stack.pop();this.stack.push(0,v);break}o=this.executeCommand(1,COMMAND_MAP.vmoveto);break;case 5:o=this.executeCommand(2,COMMAND_MAP.rlineto);break;case 6:o=this.executeCommand(1,COMMAND_MAP.hlineto);break;case 7:o=this.executeCommand(1,COMMAND_MAP.vlineto);break;case 8:o=this.executeCommand(6,COMMAND_MAP.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){o=!0;break}if(d=this.stack.pop(),!r[d]){o=!0;break}o=this.convert(r[d],r,a);break;case 11:return o;case 13:if(this.stack.length<2){o=!0;break}l=this.stack.pop(),u=this.stack.pop(),this.lsb=u,this.width=l,this.stack.push(l,u),o=this.executeCommand(2,COMMAND_MAP.hmoveto);break;case 14:this.output.push(COMMAND_MAP.endchar[0]);break;case 21:if(this.flexing)break;o=this.executeCommand(2,COMMAND_MAP.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}o=this.executeCommand(1,COMMAND_MAP.hmoveto);break;case 30:o=this.executeCommand(4,COMMAND_MAP.vhcurveto);break;case 31:o=this.executeCommand(4,COMMAND_MAP.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(a){const v=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-v,o=this.executeCommand(0,COMMAND_MAP.endchar)}else o=this.executeCommand(4,COMMAND_MAP.endchar);break;case 3079:if(this.stack.length<4){o=!0;break}this.stack.pop(),l=this.stack.pop();const x=this.stack.pop();u=this.stack.pop(),this.lsb=u,this.width=l,this.stack.push(l,u,x),o=this.executeCommand(3,COMMAND_MAP.rmoveto);break;case 3084:if(this.stack.length<2){o=!0;break}const b=this.stack.pop(),m=this.stack.pop();this.stack.push(m/b);break;case 3088:if(this.stack.length<2){o=!0;break}d=this.stack.pop();const y=this.stack.pop();if(d===0&&y===3){const v=this.stack.splice(-17,17);this.stack.push(v[2]+v[0],v[3]+v[1],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14]),o=this.executeCommand(13,COMMAND_MAP.flex,!0),this.flexing=!1,this.stack.push(v[15],v[16])}else d===1&&y===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:warn('Unknown type 1 charstring command of "'+g+'"');break}if(o)break;continue}else g<=246?g-=139:g<=250?g=(g-247)*256+t[++f]+108:g<=254?g=-((g-251)*256)-t[++f]-108:g=(t[++f]&255)<<24|(t[++f]&255)<<16|(t[++f]&255)<<8|(t[++f]&255)<<0;this.stack.push(g)}return o}executeCommand(t,r,a){const s=this.stack.length;if(t>s)return!0;const o=s-t;for(let l=o;l<s;l++){let u=this.stack[l];Number.isInteger(u)?this.output.push(28,u>>8&255,u&255):(u=65536*u|0,this.output.push(255,u>>24&255,u>>16&255,u>>8&255,u&255))}return this.output.push(...r),a?this.stack.splice(o,t):this.stack.length=0,!1}}const EEXEC_ENCRYPT_KEY=55665,CHAR_STRS_ENCRYPT_KEY=4330;function isHexDigit(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function decrypt(n,t,r){if(r>=n.length)return new Uint8Array(0);const a=52845,s=22719;let o=t|0,l,u;for(l=0;l<r;l++)o=(n[l]+o)*a+s&65535;const d=n.length-r,f=new Uint8Array(d);for(l=r,u=0;u<d;l++,u++){const g=n[l];f[u]=g^o>>8,o=(g+o)*a+s&65535}return f}function decryptAscii(n,t,r){let o=t|0;const l=n.length,u=l>>>1,d=new Uint8Array(u);let f,g;for(f=0,g=0;f<l;f++){const x=n[f];if(!isHexDigit(x))continue;f++;let b;for(;f<l&&!isHexDigit(b=n[f]);)f++;if(f<l){const m=parseInt(String.fromCharCode(x,b),16);d[g++]=m^o>>8,o=(m+o)*52845+22719&65535}}return d.slice(r,g)}function isSpecial(n){return n===47||n===91||n===93||n===123||n===125||n===40||n===41}class Type1Parser{constructor(t,r,a){if(r){const s=t.getBytes(),o=!((isHexDigit(s[0])||isWhiteSpace(s[0]))&&isHexDigit(s[1])&&isHexDigit(s[2])&&isHexDigit(s[3])&&isHexDigit(s[4])&&isHexDigit(s[5])&&isHexDigit(s[6])&&isHexDigit(s[7]));t=new Stream$1(o?decrypt(s,EEXEC_ENCRYPT_KEY,4):decryptAscii(s,EEXEC_ENCRYPT_KEY,4))}this.seacAnalysisEnabled=!!a,this.stream=t,this.nextChar()}readNumberArray(){this.getToken();const t=[];for(;;){const r=this.getToken();if(r===null||r==="]"||r==="}")break;t.push(parseFloat(r||0))}return t}readNumber(){const t=this.getToken();return parseFloat(t||0)}readInt(){const t=this.getToken();return parseInt(t||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let t=!1,r=this.currentChar;for(;;){if(r===-1)return null;if(t)(r===10||r===13)&&(t=!1);else if(r===37)t=!0;else if(!isWhiteSpace(r))break;r=this.nextChar()}if(isSpecial(r))return this.nextChar(),String.fromCharCode(r);let a="";do a+=String.fromCharCode(r),r=this.nextChar();while(r>=0&&!isWhiteSpace(r)&&!isSpecial(r));return a}readCharStrings(t,r){return r===-1?t:decrypt(t,CHAR_STRS_ENCRYPT_KEY,r)}extractFontProgram(t){const r=this.stream,a=[],s=[],o=Object.create(null);o.lenIV=4;const l={subrs:[],charstrings:[],properties:{privateData:o}};let u,d,f,g;for(;(u=this.getToken())!==null;)if(u==="/")switch(u=this.getToken(),u){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();u=this.getToken(),!(u===null||u==="end");){if(u!=="/")continue;const b=this.getToken();d=this.readInt(),this.getToken(),f=d>0?r.getBytes(d):new Uint8Array(0),g=l.properties.privateData.lenIV;const m=this.readCharStrings(f,g);this.nextChar(),u=this.getToken(),u==="noaccess"?this.getToken():u==="/"&&this.prevChar(),s.push({glyph:b,encoded:m})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const b=this.readInt();d=this.readInt(),this.getToken(),f=d>0?r.getBytes(d):new Uint8Array(0),g=l.properties.privateData.lenIV;const m=this.readCharStrings(f,g);this.nextChar(),u=this.getToken(),u==="noaccess"&&this.getToken(),a[b]=m}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const x=this.readNumberArray();x.length>0&&x.length%2===0&&HINTING_ENABLED&&(l.properties.privateData[u]=x);break;case"StemSnapH":case"StemSnapV":l.properties.privateData[u]=this.readNumberArray();break;case"StdHW":case"StdVW":l.properties.privateData[u]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":l.properties.privateData[u]=this.readNumber();break;case"ExpansionFactor":l.properties.privateData[u]=this.readNumber()||.06;break;case"ForceBold":l.properties.privateData[u]=this.readBoolean();break}for(const{encoded:x,glyph:b}of s){const m=new Type1CharString,y=m.convert(x,a,this.seacAnalysisEnabled);let v=m.output;y&&(v=[14]);const w={glyphName:b,charstring:v,width:m.width,lsb:m.lsb,seac:m.seac};if(b===".notdef"?l.charstrings.unshift(w):l.charstrings.push(w),t.builtInEncoding){const S=t.builtInEncoding.indexOf(b);S>-1&&t.widths[S]===void 0&&S>=t.firstChar&&S<=t.lastChar&&(t.widths[S]=m.width)}}return l}extractFontHeader(t){let r;for(;(r=this.getToken())!==null;)if(r==="/")switch(r=this.getToken(),r){case"FontMatrix":const a=this.readNumberArray();t.fontMatrix=a;break;case"Encoding":const s=this.getToken();let o;if(!/^\d+$/.test(s))o=getEncoding(s);else{o=[];const u=parseInt(s,10)|0;this.getToken();for(let d=0;d<u;d++){for(r=this.getToken();r!=="dup"&&r!=="def";)if(r=this.getToken(),r===null)return;if(r==="def")break;const f=this.readInt();this.getToken();const g=this.getToken();o[f]=g,this.getToken()}}t.builtInEncoding=o;break;case"FontBBox":const l=this.readNumberArray();t.ascent=Math.max(l[3],l[1]),t.descent=Math.min(l[1],l[3]),t.ascentScaled=!0;break}}}function findBlock(n,t,r){const a=n.length,s=t.length,o=a-s;let l=r,u=!1;for(;l<o;){let d=0;for(;d<s&&n[l+d]===t[d];)d++;if(d>=s){for(l+=d;l<a&&isWhiteSpace(n[l]);)l++;u=!0;break}l++}return{found:u,length:l}}function getHeaderBlock(n,t){const r=[101,101,120,101,99],a=n.pos;let s,o,l;try{s=n.getBytes(t),o=s.length}catch{}if(o===t&&(l=findBlock(s,r,t-2*r.length),l.found&&l.length===t))return{stream:new Stream$1(s),length:t};warn('Invalid "Length1" property in Type1 font -- trying to recover.'),n.pos=a;const u=2048;let d;for(;;){const f=n.peekBytes(u);if(l=findBlock(f,r,0),l.length===0)break;if(n.pos+=l.length,l.found){d=n.pos-a;break}}return n.pos=a,d?{stream:new Stream$1(n.getBytes(d)),length:d}:(warn('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new Stream$1(n.getBytes(t)),length:t})}function getEexecBlock(n,t){const r=n.getBytes();if(r.length===0)throw new FormatError("getEexecBlock - no font program found.");return{stream:new Stream$1(r),length:r.length}}class Type1Font{constructor(t,r,a){let o=a.length1;a.length2;let l=r.peekBytes(6);const u=l[0]===128&&l[1]===1;u&&(r.skip(6),o=l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const d=getHeaderBlock(r,o);new Type1Parser(d.stream,!1,SEAC_ANALYSIS_ENABLED).extractFontHeader(a),u&&(l=r.getBytes(6),l[5]<<24|l[4]<<16|l[3]<<8|l[2]);const g=getEexecBlock(r),b=new Type1Parser(g.stream,!0,SEAC_ANALYSIS_ENABLED).extractFontProgram(a);for(const w in b.properties)a[w]=b.properties[w];const m=b.charstrings,y=this.getType2Charstrings(m),v=this.getType2Subrs(b.subrs);this.charstrings=m,this.data=this.wrap(t,y,this.charstrings,v,a),this.seacs=this.getSeacs(b.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const t=[".notdef"];for(const{glyphName:r}of this.charstrings)t.push(r);return t}getGlyphMapping(t){const r=this.charstrings;if(t.composite){const u=Object.create(null);for(let d=0,f=r.length;d<f;d++){const g=t.cMap.charCodeOf(d);u[g]=d+1}return u}const a=[".notdef"];let s,o;for(o=0;o<r.length;o++)a.push(r[o].glyphName);const l=t.builtInEncoding;if(l){s=Object.create(null);for(const u in l)o=a.indexOf(l[u]),o>=0&&(s[u]=o)}return type1FontGlyphMapping(t,s,a)}hasGlyphId(t){return t<0||t>=this.numGlyphs?!1:t===0?!0:this.charstrings[t-1].charstring.length>0}getSeacs(t){const r=[];for(let a=0,s=t.length;a<s;a++){const o=t[a];o.seac&&(r[a+1]=o.seac)}return r}getType2Charstrings(t){const r=[];for(const a of t)r.push(a.charstring);return r}getType2Subrs(t){let r=0;const a=t.length;a<1133?r=107:a<33769?r=1131:r=32768;const s=[];let o;for(o=0;o<r;o++)s.push([11]);for(o=0;o<a;o++)s.push(t[o]);return s}wrap(t,r,a,s,o){const l=new CFF;l.header=new CFFHeader(1,0,4,4),l.names=[t];const u=new CFFTopDict;u.setByName("version",391),u.setByName("Notice",392),u.setByName("FullName",393),u.setByName("FamilyName",394),u.setByName("Weight",395),u.setByName("Encoding",null),u.setByName("FontMatrix",o.fontMatrix),u.setByName("FontBBox",o.bbox),u.setByName("charset",null),u.setByName("CharStrings",null),u.setByName("Private",null),l.topDict=u;const d=new CFFStrings;d.add("Version 0.11"),d.add("See original notice"),d.add(t),d.add(t),d.add("Medium"),l.strings=d,l.globalSubrIndex=new CFFIndex;const f=r.length,g=[".notdef"];let x,b;for(x=0;x<f;x++){const C=a[x].glyphName;CFFStandardStrings.indexOf(C)===-1&&d.add(C),g.push(C)}l.charset=new CFFCharset(!1,0,g);const m=new CFFIndex;for(m.add([139,14]),x=0;x<f;x++)m.add(r[x]);l.charStrings=m;const y=new CFFPrivateDict;y.setByName("Subrs",null);const v=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(x=0,b=v.length;x<b;x++){const C=v[x];if(!(C in o.privateData))continue;const E=o.privateData[C];if(Array.isArray(E))for(let T=E.length-1;T>0;T--)E[T]-=E[T-1];y.setByName(C,E)}l.topDict.privateDict=y;const w=new CFFIndex;for(x=0,b=s.length;x<b;x++)w.add(s[x]);return y.subrsIndex=w,new CFFCompiler(l).compile()}}const PRIVATE_USE_AREAS=[[57344,63743],[1048576,1114109]],PDF_GLYPH_SPACE_UNITS=1e3,EXPORT_DATA_PROPERTIES=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],EXPORT_DATA_EXTRA_PROPERTIES=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function adjustWidths(n){if(!n.fontMatrix||n.fontMatrix[0]===FONT_IDENTITY_MATRIX[0])return;const t=.001/n.fontMatrix[0],r=n.widths;for(const a in r)r[a]*=t;n.defaultWidth*=t}function adjustTrueTypeToUnicode(n,t,r){if(n.isInternalFont||n.hasIncludedToUnicodeMap||n.hasEncoding||n.toUnicode instanceof IdentityToUnicodeMap||!t||r.length===0||n.defaultEncoding===WinAnsiEncoding)return;for(const l of r)if(!isWinNameRecord(l))return;const a=WinAnsiEncoding,s=[],o=getGlyphsUnicode();for(const l in a){const u=a[l];if(u==="")continue;const d=o[u];d!==void 0&&(s[l]=String.fromCharCode(d))}s.length>0&&n.toUnicode.amend(s)}function adjustType1ToUnicode(n,t){if(n.isInternalFont||n.hasIncludedToUnicodeMap||t===n.defaultEncoding||n.toUnicode instanceof IdentityToUnicodeMap)return;const r=[],a=getGlyphsUnicode();for(const s in t){if(n.hasEncoding&&(n.baseEncodingName||n.differences[s]!==void 0))continue;const o=t[s],l=getUnicodeForGlyph(o,a);l!==-1&&(r[s]=String.fromCharCode(l))}r.length>0&&n.toUnicode.amend(r)}function amendFallbackToUnicode(n){if(!n.fallbackToUnicode||n.toUnicode instanceof IdentityToUnicodeMap)return;const t=[];for(const r in n.fallbackToUnicode)n.toUnicode.has(r)||(t[r]=n.fallbackToUnicode[r]);t.length>0&&n.toUnicode.amend(t)}class fonts_Glyph{constructor(t,r,a,s,o,l,u,d,f){this.originalCharCode=t,this.fontChar=r,this.unicode=a,this.accent=s,this.width=o,this.vmetric=l,this.operatorListId=u,this.isSpace=d,this.isInFont=f}get category(){return shadow(this,"category",getCharUnicodeCategory(this.unicode),!0)}}function int16(n,t){return(n<<8)+t}function writeSignedInt16(n,t,r){n[t+1]=r,n[t]=r>>>8}function signedInt16(n,t){const r=(n<<8)+t;return r&32768?r-65536:r}function writeUint32(n,t,r){n[t+3]=r&255,n[t+2]=r>>>8,n[t+1]=r>>>16,n[t]=r>>>24}function int32(n,t,r,a){return(n<<24)+(t<<16)+(r<<8)+a}function string16(n){return String.fromCharCode(n>>8&255,n&255)}function safeString16(n){return n>32767?n=32767:n<-32768&&(n=-32768),String.fromCharCode(n>>8&255,n&255)}function isTrueTypeFile(n){const t=n.peekBytes(4);return readUint32(t,0)===65536||bytesToString(t)==="true"}function isTrueTypeCollectionFile(n){const t=n.peekBytes(4);return bytesToString(t)==="ttcf"}function isOpenTypeFile(n){const t=n.peekBytes(4);return bytesToString(t)==="OTTO"}function isType1File(n){const t=n.peekBytes(2);return t[0]===37&&t[1]===33||t[0]===128&&t[1]===1}function isCFFFile(n){const t=n.peekBytes(4);return t[0]>=1&&t[3]>=1&&t[3]<=4}function getFontFileType(n,{type:t,subtype:r,composite:a}){let s,o;return isTrueTypeFile(n)||isTrueTypeCollectionFile(n)?s=a?"CIDFontType2":"TrueType":isOpenTypeFile(n)?s=a?"CIDFontType2":"OpenType":isType1File(n)?a?s="CIDFontType0":s=t==="MMType1"?"MMType1":"Type1":isCFFFile(n)?a?(s="CIDFontType0",o="CIDFontType0C"):(s=t==="MMType1"?"MMType1":"Type1",o="Type1C"):(warn("getFontFileType: Unable to detect correct font file Type/Subtype."),s=t,o=r),[s,o]}function applyStandardFontGlyphMap(n,t){for(const r in t)n[+r]=t[r]}function buildToFontChar(n,t,r){const a=[];let s;for(let o=0,l=n.length;o<l;o++)s=getUnicodeForGlyph(n[o],t),s!==-1&&(a[o]=s);for(const o in r)s=getUnicodeForGlyph(r[o],t),s!==-1&&(a[+o]=s);return a}function isMacNameRecord(n){return n.platform===1&&n.encoding===0&&n.language===0}function isWinNameRecord(n){return n.platform===3&&n.encoding===1&&n.language===1033}function convertCidString(n,t,r=!1){switch(t.length){case 1:return t.charCodeAt(0);case 2:return t.charCodeAt(0)<<8|t.charCodeAt(1)}const a=`Unsupported CID string (charCode ${n}): "${t}".`;if(r)throw new FormatError(a);return warn(a),t}function adjustMapping(n,t,r,a){const s=Object.create(null),o=new Map,l=[],u=new Set;let d=0,g=PRIVATE_USE_AREAS[d][0],x=PRIVATE_USE_AREAS[d][1];const b=m=>PRIVATE_USE_AREAS[0][0]<=m&&m<=PRIVATE_USE_AREAS[0][1]||PRIVATE_USE_AREAS[1][0]<=m&&m<=PRIVATE_USE_AREAS[1][1];for(let m in n){m|=0;let y=n[m];if(!t(y))continue;if(g>x){if(d++,d>=PRIVATE_USE_AREAS.length){warn("Ran out of space in font private use area.");break}g=PRIVATE_USE_AREAS[d][0],x=PRIVATE_USE_AREAS[d][1]}const v=g++;y===0&&(y=r);let w=a.get(m);typeof w=="string"&&(w=w.codePointAt(0)),w&&!b(w)&&!u.has(y)&&(o.set(w,y),u.add(y)),s[v]=y,l[m]=v}return{toFontChar:l,charCodeToGlyphId:s,toUnicodeExtraMap:o,nextAvailableFontCharCode:g}}function getRanges(n,t,r){const a=[];for(const l in n)n[l]>=r||a.push({fontCharCode:l|0,glyphId:n[l]});if(t)for(const[l,u]of t)u>=r||a.push({fontCharCode:l,glyphId:u});a.length===0&&a.push({fontCharCode:0,glyphId:0}),a.sort(function(u,d){return u.fontCharCode-d.fontCharCode});const s=[],o=a.length;for(let l=0;l<o;){const u=a[l].fontCharCode,d=[a[l].glyphId];++l;let f=u;for(;l<o&&f+1===a[l].fontCharCode&&(d.push(a[l].glyphId),++f,++l,f!==65535););s.push([u,f,d])}return s}function createCmapTable(n,t,r){const a=getRanges(n,t,r),s=a.at(-1)[1]>65535?2:1;let o="\0\0"+string16(s)+"\0\0"+string32(4+s*8),l,u,d,f;for(l=a.length-1;l>=0&&!(a[l][0]<=65535);--l);const g=l+1;a[l][0]<65535&&a[l][1]===65535&&(a[l][1]=65534);const x=a[l][1]<65535?1:0,b=g+x,m=OpenTypeFileBuilder.getSearchParams(b,2);let y="",v="",w="",S="",C="",E=0,T,_,R,U;for(l=0,u=g;l<u;l++){T=a[l],_=T[0],R=T[1],y+=string16(_),v+=string16(R),U=T[2];let Y=!0;for(d=1,f=U.length;d<f;++d)if(U[d]!==U[d-1]+1){Y=!1;break}if(Y){const se=U[0];w+=string16(se-_&65535),S+=string16(0)}else{const se=(b-l)*2+E*2;for(E+=R-_+1,w+=string16(0),S+=string16(se),d=0,f=U.length;d<f;++d)C+=string16(U[d])}}x>0&&(v+="ÿÿ",y+="ÿÿ",w+="\0",S+="\0\0");const z="\0\0"+string16(2*b)+string16(m.range)+string16(m.entry)+string16(m.rangeShift)+v+"\0\0"+y+w+S+C;let X="",W="";if(s>1){for(o+=`\0\0
`+string32(4+s*8+4+z.length),X="",l=0,u=a.length;l<u;l++){T=a[l],_=T[0],U=T[2];let Y=U[0];for(d=1,f=U.length;d<f;++d)U[d]!==U[d-1]+1&&(R=T[0]+d-1,X+=string32(_)+string32(R)+string32(Y),_=R+1,Y=U[d]);X+=string32(_)+string32(T[1])+string32(Y)}W="\0\f\0\0"+string32(X.length+16)+"\0\0\0\0"+string32(X.length/12)}return o+"\0"+string16(z.length+4)+z+W+X}function validateOS2Table(n,t){t.pos=(t.start||0)+n.offset;const r=t.getUint16();t.skip(60);const a=t.getUint16();if(r<4&&a&768)return!1;const s=t.getUint16(),o=t.getUint16();return s>o||(t.skip(6),t.getUint16()===0)?!1:(n.data[8]=n.data[9]=0,!0)}function createOS2Table(n,t,r){r||={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let a=0,s=0,o=0,l=0,u=null,d=0,f=-1;if(t){for(let S in t)if(S|=0,(u>S||!u)&&(u=S),d<S&&(d=S),f=getUnicodeRangeFor(S,f),f<32)a|=1<<f;else if(f<64)s|=1<<f-32;else if(f<96)o|=1<<f-64;else if(f<123)l|=1<<f-96;else throw new FormatError("Unicode ranges Bits > 123 are reserved for internal usage");d>65535&&(d=65535)}else u=0,d=255;const g=n.bbox||[0,0,0,0],x=r.unitsPerEm||1/(n.fontMatrix||FONT_IDENTITY_MATRIX)[0],b=n.ascentScaled?1:x/PDF_GLYPH_SPACE_UNITS,m=r.ascent||Math.round(b*(n.ascent||g[3]));let y=r.descent||Math.round(b*(n.descent||g[1]));y>0&&n.descent>0&&g[1]<0&&(y=-y);const v=r.yMax||m,w=-r.yMin||-y;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(n.fixedPitch?9:0)+"\0\0\0\0\0\0"+string32(a)+string32(s)+string32(o)+string32(l)+"*21*"+string16(n.italicAngle?1:0)+string16(u||n.firstChar)+string16(d||n.lastChar)+string16(m)+string16(y)+"\0d"+string16(v)+string16(w)+"\0\0\0\0\0\0\0\0"+string16(n.xHeight)+string16(n.capHeight)+string16(0)+string16(u||n.firstChar)+"\0"}function createPostTable(n){const t=Math.floor(n.italicAngle*65536);return"\0\0\0"+string32(t)+"\0\0\0\0"+string32(n.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function createPostscriptName(n){return n.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function createNameTable(n,t){t||(t=[[],[]]);const r=[t[0][0]||"Original licence",t[0][1]||n,t[0][2]||"Unknown",t[0][3]||"uniqueID",t[0][4]||n,t[0][5]||"Version 0.11",t[0][6]||createPostscriptName(n),t[0][7]||"Unknown",t[0][8]||"Unknown",t[0][9]||"Unknown"],a=[];let s,o,l,u,d;for(s=0,o=r.length;s<o;s++){d=t[1][s]||r[s];const w=[];for(l=0,u=d.length;l<u;l++)w.push(string16(d.charCodeAt(l)));a.push(w.join(""))}const f=[r,a],g=["\0","\0"],x=["\0\0","\0"],b=["\0\0","	"],m=r.length*g.length;let y="\0\0"+string16(m)+string16(m*12+6),v=0;for(s=0,o=g.length;s<o;s++){const w=f[s];for(l=0,u=w.length;l<u;l++){d=w[l];const S=g[s]+x[s]+b[s]+string16(l)+string16(d.length)+string16(v);y+=S,v+=d.length}}return y+=r.join("")+a.join(""),y}let Font$1=class{constructor(t,r,a){this.name=t,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=a.loadedName,this.isType3Font=a.isType3Font,this.missingFile=!1,this.cssFontInfo=a.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let s=!!(a.flags&FontFlags.Serif);if(!s&&!a.isSimulatedFlags){const f=t.replaceAll(/[,_]/g,"-").split("-")[0],g=getSerifFonts();for(const x of f.split("+"))if(g[x]){s=!0;break}}this.isSerifFont=s,this.isSymbolicFont=!!(a.flags&FontFlags.Symbolic),this.isMonospace=!!(a.flags&FontFlags.FixedPitch);let{type:o,subtype:l}=a;this.type=o,this.subtype=l,this.systemFontInfo=a.systemFontInfo;const u=t.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!u,this.isInvalidPDFjsFont?this.fallbackName=u[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",this.systemFontInfo?.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=a.differences,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.composite=a.composite,this.cMap=a.cMap,this.capHeight=a.capHeight/PDF_GLYPH_SPACE_UNITS,this.ascent=a.ascent/PDF_GLYPH_SPACE_UNITS,this.descent=a.descent/PDF_GLYPH_SPACE_UNITS,this.lineHeight=this.ascent-this.descent,this.fontMatrix=a.fontMatrix,this.bbox=a.bbox,this.defaultEncoding=a.defaultEncoding,this.toUnicode=a.toUnicode,this.toFontChar=[],a.type==="Type3"){for(let f=0;f<256;f++)this.toFontChar[f]=this.differences[f]||a.defaultEncoding[f];return}if(this.cidEncoding=a.cidEncoding||"",this.vertical=!!a.vertical,this.vertical&&(this.vmetrics=a.vmetrics,this.defaultVMetrics=a.defaultVMetrics),!r||r.isEmpty){r&&warn('Font file is empty in "'+t+'" ('+this.loadedName+")"),this.fallbackToSystemFont(a);return}[o,l]=getFontFileType(r,a),(o!==this.type||l!==this.subtype)&&info(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${o}/${l}.`);let d;try{switch(o){case"MMType1":info("MMType1 font ("+t+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const f=l==="Type1C"||l==="CIDFontType0C"?new CFFFont(r,a):new Type1Font(t,r,a);adjustWidths(a),d=this.convert(t,f,a);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",d=this.checkAndRepair(t,r,a),this.isOpenType&&(adjustWidths(a),o="OpenType");break;default:throw new FormatError(`Font ${o} is not supported`)}}catch(f){warn(f),this.fallbackToSystemFont(a);return}amendFallbackToUnicode(a),this.data=d,this.type=o,this.subtype=l,this.fontMatrix=a.fontMatrix,this.widths=a.widths,this.defaultWidth=a.defaultWidth,this.toUnicode=a.toUnicode,this.seacMap=a.seacMap}get renderer(){const t=FontRendererFactory.create(this,SEAC_ANALYSIS_ENABLED);return shadow(this,"renderer",t)}exportData(t=!1){const r=t?[...EXPORT_DATA_PROPERTIES,...EXPORT_DATA_EXTRA_PROPERTIES]:EXPORT_DATA_PROPERTIES,a=Object.create(null);let s,o;for(s of r)o=this[s],o!==void 0&&(a[s]=o);return a}fallbackToSystemFont(t){this.missingFile=!0;const{name:r,type:a}=this;let s=normalizeFontName(r);const o=getStdFontMap(),l=getNonStdFontMap(),u=!!o[s],d=!!(l[s]&&o[l[s]]);s=o[s]||l[s]||s;const g=getFontBasicMetrics()[s];g&&(isNaN(this.ascent)&&(this.ascent=g.ascent/PDF_GLYPH_SPACE_UNITS),isNaN(this.descent)&&(this.descent=g.descent/PDF_GLYPH_SPACE_UNITS),isNaN(this.capHeight)&&(this.capHeight=g.capHeight/PDF_GLYPH_SPACE_UNITS)),this.bold=/bold/gi.test(s),this.italic=/oblique|italic/gi.test(s),this.black=/Black/g.test(r);const x=/Narrow/g.test(r);if(this.remeasure=(!u||x)&&Object.keys(this.widths).length>0,(u||d)&&a==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const b=t.cidToGidMap,m=[];if(applyStandardFontGlyphMap(m,getGlyphMapForStandardFonts()),/Arial-?Black/i.test(r)?applyStandardFontGlyphMap(m,getSupplementalGlyphMapForArialBlack()):/Calibri/i.test(r)&&applyStandardFontGlyphMap(m,getSupplementalGlyphMapForCalibri()),b){for(const y in m){const v=m[y];b[v]!==void 0&&(m[+y]=b[v])}b.length!==this.toUnicode.length&&t.hasIncludedToUnicodeMap&&this.toUnicode instanceof IdentityToUnicodeMap&&this.toUnicode.forEach(function(y,v){const w=m[y];b[w]===void 0&&(m[+y]=v)})}this.toUnicode instanceof IdentityToUnicodeMap||this.toUnicode.forEach(function(y,v){m[+y]=v}),this.toFontChar=m,this.toUnicode=new ToUnicodeMap(m)}else if(/Symbol/i.test(s))this.toFontChar=buildToFontChar(SymbolSetEncoding,getGlyphsUnicode(),this.differences);else if(/Dingbats/i.test(s))this.toFontChar=buildToFontChar(ZapfDingbatsEncoding,getDingbatsGlyphsUnicode(),this.differences);else if(u){const b=buildToFontChar(this.defaultEncoding,getGlyphsUnicode(),this.differences);a==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof IdentityToUnicodeMap)&&this.toUnicode.forEach(function(m,y){b[+m]=y}),this.toFontChar=b}else{const b=getGlyphsUnicode(),m=[];this.toUnicode.forEach((y,v)=>{if(!this.composite){const w=this.differences[y]||this.defaultEncoding[y],S=getUnicodeForGlyph(w,b);S!==-1&&(v=S)}m[+y]=v}),this.composite&&this.toUnicode instanceof IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(r)&&applyStandardFontGlyphMap(m,getGlyphMapForStandardFonts()),this.toFontChar=m}amendFallbackToUnicode(t),this.loadedName=s.split("-")[0]}checkAndRepair(t,r,a){const s=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function o(ge,de){const ce=Object.create(null);ce["OS/2"]=null,ce.cmap=null,ce.head=null,ce.hhea=null,ce.hmtx=null,ce.maxp=null,ce.name=null,ce.post=null;for(let M=0;M<de;M++){const j=l(ge);s.includes(j.tag)&&j.length!==0&&(ce[j.tag]=j)}return ce}function l(ge){const de=ge.getString(4),ce=ge.getInt32()>>>0,M=ge.getInt32()>>>0,j=ge.getInt32()>>>0,k=ge.pos;ge.pos=ge.start||0,ge.skip(M);const F=ge.getBytes(j);return ge.pos=k,de==="head"&&(F[8]=F[9]=F[10]=F[11]=0,F[17]|=32),{tag:de,checksum:ce,length:j,offset:M,data:F}}function u(ge){return{version:ge.getString(4),numTables:ge.getUint16(),searchRange:ge.getUint16(),entrySelector:ge.getUint16(),rangeShift:ge.getUint16()}}function d(ge){const de=ge.getString(4);assert(de==="ttcf","Must be a TrueType Collection font.");const ce=ge.getUint16(),M=ge.getUint16(),j=ge.getInt32()>>>0,k=[];for(let O=0;O<j;O++)k.push(ge.getInt32()>>>0);const F={ttcTag:de,majorVersion:ce,minorVersion:M,numFonts:j,offsetTable:k};switch(ce){case 1:return F;case 2:return F.dsigTag=ge.getInt32()>>>0,F.dsigLength=ge.getInt32()>>>0,F.dsigOffset=ge.getInt32()>>>0,F}throw new FormatError(`Invalid TrueType Collection majorVersion: ${ce}.`)}function f(ge,de){const{numFonts:ce,offsetTable:M}=d(ge),j=de.split("+");let k;for(let F=0;F<ce;F++){ge.pos=(ge.start||0)+M[F];const O=u(ge),D=o(ge,O.numTables);if(!D.name)throw new FormatError('TrueType Collection font must contain a "name" table.');const[N]=w(D.name);for(let H=0,V=N.length;H<V;H++)for(let $=0,J=N[H].length;$<J;$++){const Q=N[H][$]?.replaceAll(/\s/g,"");if(Q){if(Q===de)return{header:O,tables:D};if(!(j.length<2))for(const re of j)Q===re&&(k={name:re,header:O,tables:D})}}}if(k)return warn(`TrueType Collection does not contain "${de}" font, falling back to "${k.name}" font instead.`),{header:k.header,tables:k.tables};throw new FormatError(`TrueType Collection does not contain "${de}" font.`)}function g(ge,de,ce,M){if(!ge)return warn("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let j,k=(de.start||0)+ge.offset;de.pos=k,de.skip(2);const F=de.getUint16();let O,D=!1;for(let Q=0;Q<F;Q++){const re=de.getUint16(),ie=de.getUint16(),ne=de.getInt32()>>>0;let ee=!1;if(!(O?.platformId===re&&O?.encodingId===ie)){if(re===0&&(ie===0||ie===1||ie===3))ee=!0;else if(re===1&&ie===0)ee=!0;else if(re===3&&ie===1&&(M||!O))ee=!0,ce||(D=!0);else if(ce&&re===3&&ie===0){ee=!0;let le=!0;if(Q<F-1){const be=de.peekBytes(2);int16(be[0],be[1])<re&&(le=!1)}le&&(D=!0)}if(ee&&(O={platformId:re,encodingId:ie,offset:ne}),D)break}}if(O&&(de.pos=k+O.offset),!O||de.peekByte()===-1)return warn("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const N=de.getUint16();let H=!1;const V=[];let $,J;if(N===0){for(de.skip(4),$=0;$<256;$++){const Q=de.getByte();Q&&V.push({charCode:$,glyphId:Q})}H=!0}else if(N===2){de.skip(4);const Q=[];let re=0;for(let ne=0;ne<256;ne++){const ee=de.getUint16()>>3;Q.push(ee),re=Math.max(ee,re)}const ie=[];for(let ne=0;ne<=re;ne++)ie.push({firstCode:de.getUint16(),entryCount:de.getUint16(),idDelta:signedInt16(de.getByte(),de.getByte()),idRangePos:de.pos+de.getUint16()});for(let ne=0;ne<256;ne++)if(Q[ne]===0)de.pos=ie[0].idRangePos+2*ne,J=de.getUint16(),V.push({charCode:ne,glyphId:J});else{const ee=ie[Q[ne]];for($=0;$<ee.entryCount;$++){const le=(ne<<8)+$+ee.firstCode;de.pos=ee.idRangePos+2*$,J=de.getUint16(),J!==0&&(J=(J+ee.idDelta)%65536),V.push({charCode:le,glyphId:J})}}}else if(N===4){de.skip(4);const Q=de.getUint16()>>1;de.skip(6);const re=[];let ie;for(ie=0;ie<Q;ie++)re.push({end:de.getUint16()});for(de.skip(2),ie=0;ie<Q;ie++)re[ie].start=de.getUint16();for(ie=0;ie<Q;ie++)re[ie].delta=de.getUint16();let ne=0,ee;for(ie=0;ie<Q;ie++){j=re[ie];const be=de.getUint16();if(!be){j.offsetIndex=-1;continue}ee=(be>>1)-(Q-ie),j.offsetIndex=ee,ne=Math.max(ne,ee+j.end-j.start+1)}const le=[];for($=0;$<ne;$++)le.push(de.getUint16());for(ie=0;ie<Q;ie++){j=re[ie],k=j.start;const be=j.end,fe=j.delta;for(ee=j.offsetIndex,$=k;$<=be;$++)$!==65535&&(J=ee<0?$:le[ee+$-k],J=J+fe&65535,V.push({charCode:$,glyphId:J}))}}else if(N===6){de.skip(4);const Q=de.getUint16(),re=de.getUint16();for($=0;$<re;$++){J=de.getUint16();const ie=Q+$;V.push({charCode:ie,glyphId:J})}}else if(N===12){de.skip(10);const Q=de.getInt32()>>>0;for($=0;$<Q;$++){const re=de.getInt32()>>>0,ie=de.getInt32()>>>0;let ne=de.getInt32()>>>0;for(let ee=re;ee<=ie;ee++)V.push({charCode:ee,glyphId:ne++})}}else return warn("cmap table has unsupported format: "+N),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};V.sort(function(Q,re){return Q.charCode-re.charCode});for(let Q=1;Q<V.length;Q++)V[Q-1].charCode===V[Q].charCode&&(V.splice(Q,1),Q--);return{platformId:O.platformId,encodingId:O.encodingId,mappings:V,hasShortCmap:H}}function x(ge,de,ce,M,j,k){if(!de){ce&&(ce.data=null);return}ge.pos=(ge.start||0)+de.offset,ge.pos+=4,ge.pos+=2,ge.pos+=2,ge.pos+=2,ge.pos+=2,ge.pos+=2,ge.pos+=2,ge.pos+=2,ge.pos+=2,ge.pos+=2;const F=ge.getUint16();ge.pos+=8,ge.pos+=2;let O=ge.getUint16();F!==0&&(int16(M.data[44],M.data[45])&2||(de.data[22]=0,de.data[23]=0)),O>j&&(info(`The numOfMetrics (${O}) should not be greater than the numGlyphs (${j}).`),O=j,de.data[34]=(O&65280)>>8,de.data[35]=O&255);const N=j-O-(ce.length-O*4>>1);if(N>0){const H=new Uint8Array(ce.length+N*2);H.set(ce.data),k&&(H[ce.length]=ce.data[2],H[ce.length+1]=ce.data[3]),ce.data=H}}function b(ge,de,ce,M,j,k){const F={length:0,sizeOfInstructions:0};if(de<0||de>=ge.length||ce>ge.length||ce-de<=12)return F;const O=ge.subarray(de,ce),D=signedInt16(O[2],O[3]),N=signedInt16(O[4],O[5]),H=signedInt16(O[6],O[7]),V=signedInt16(O[8],O[9]);D>H&&(writeSignedInt16(O,2,H),writeSignedInt16(O,6,D)),N>V&&(writeSignedInt16(O,4,V),writeSignedInt16(O,8,N));const $=signedInt16(O[0],O[1]);if($<0)return $<-1||(M.set(O,j),F.length=O.length),F;let J,Q=10,re=0;for(J=0;J<$;J++)re=(O[Q]<<8|O[Q+1])+1,Q+=2;const ie=Q,ne=O[Q]<<8|O[Q+1];F.sizeOfInstructions=ne,Q+=2+ne;const ee=Q;let le=0;for(J=0;J<re;J++){const fe=O[Q++];fe&192&&(O[Q-1]=fe&63);let Fe=2;fe&2?Fe=1:fe&16&&(Fe=0);let K=2;fe&4?K=1:fe&32&&(K=0);const L=Fe+K;if(le+=L,fe&8){const G=O[Q++];G===0&&(O[Q-1]^=8),J+=G,le+=G*L}}if(le===0)return F;let be=Q+le;return be>O.length?F:!k&&ne>0?(M.set(O.subarray(0,ie),j),M.set([0,0],j+ie),M.set(O.subarray(ee,be),j+ie+2),be-=ne,O.length-be>3&&(be=be+3&-4),F.length=be,F):O.length-be>3?(be=be+3&-4,M.set(O.subarray(0,be),j),F.length=be,F):(M.set(O,j),F.length=O.length,F)}function m(ge,de,ce){const M=ge.data,j=int32(M[0],M[1],M[2],M[3]);j>>16!==1&&(info("Attempting to fix invalid version in head table: "+j),M[0]=0,M[1]=1,M[2]=0,M[3]=0);const k=int16(M[50],M[51]);if(k<0||k>1){info("Attempting to fix invalid indexToLocFormat in head table: "+k);const F=de+1;if(ce===F<<1)M[50]=0,M[51]=0;else if(ce===F<<2)M[50]=0,M[51]=1;else throw new FormatError("Could not fix indexToLocFormat: "+k)}}function y(ge,de,ce,M,j,k,F){let O,D,N;M?(O=4,D=function(Fe,K){return Fe[K]<<24|Fe[K+1]<<16|Fe[K+2]<<8|Fe[K+3]},N=function(Fe,K,L){Fe[K]=L>>>24&255,Fe[K+1]=L>>16&255,Fe[K+2]=L>>8&255,Fe[K+3]=L&255}):(O=2,D=function(Fe,K){return Fe[K]<<9|Fe[K+1]<<1},N=function(Fe,K,L){Fe[K]=L>>9&255,Fe[K+1]=L>>1&255});const H=k?ce+1:ce,V=O*(1+H),$=new Uint8Array(V);$.set(ge.data.subarray(0,V)),ge.data=$;const J=de.data,Q=J.length,re=new Uint8Array(Q);let ie,ne;const ee=[];for(ie=0,ne=0;ie<ce+1;ie++,ne+=O){let fe=D($,ne);fe>Q&&(fe=Q),ee.push({index:ie,offset:fe,endOffset:0})}for(ee.sort((fe,Fe)=>fe.offset-Fe.offset),ie=0;ie<ce;ie++)ee[ie].endOffset=ee[ie+1].offset;for(ee.sort((fe,Fe)=>fe.index-Fe.index),ie=0;ie<ce;ie++){const{offset:fe,endOffset:Fe}=ee[ie];if(fe!==0||Fe!==0)break;const K=ee[ie+1].offset;if(K!==0){ee[ie].endOffset=K;break}}const le=Object.create(null);let be=0;for(N($,0,be),ie=0,ne=O;ie<ce;ie++,ne+=O){const fe=b(J,ee[ie].offset,ee[ie].endOffset,re,be,j),Fe=fe.length;Fe===0&&(le[ie]=!0),fe.sizeOfInstructions>F&&(F=fe.sizeOfInstructions),be+=Fe,N($,ne,be)}if(be===0){const fe=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(ie=0,ne=O;ie<H;ie++,ne+=O)N($,ne,fe.length);de.data=fe}else if(k){const fe=D($,O);re.length>fe+be?de.data=re.subarray(0,fe+be):(de.data=new Uint8Array(fe+be),de.data.set(re.subarray(0,be))),de.data.set(re.subarray(0,fe),be),N(ge.data,$.length-O,be+fe)}else de.data=re.subarray(0,be);return{missingGlyphs:le,maxSizeOfInstructions:F}}function v(ge,de,ce){const M=(r.start||0)+ge.offset;r.pos=M;const j=ge.length,k=M+j,F=r.getInt32();r.skip(28);let O,D=!0,N;switch(F){case 65536:O=MacStandardGlyphOrdering;break;case 131072:const H=r.getUint16();if(H!==ce){D=!1;break}const V=[];for(N=0;N<H;++N){const Q=r.getUint16();if(Q>=32768){D=!1;break}V.push(Q)}if(!D)break;const $=[],J=[];for(;r.pos<k;){const Q=r.getByte();for(J.length=Q,N=0;N<Q;++N)J[N]=String.fromCharCode(r.getByte());$.push(J.join(""))}for(O=[],N=0;N<H;++N){const Q=V[N];if(Q<258){O.push(MacStandardGlyphOrdering[Q]);continue}O.push($[Q-258])}break;case 196608:break;default:warn("Unknown/unsupported post table version "+F),D=!1,de.defaultEncoding&&(O=de.defaultEncoding);break}return de.glyphNames=O,D}function w(ge){const de=(r.start||0)+ge.offset;r.pos=de;const ce=[[],[]],M=[],j=ge.length,k=de+j;if(r.getUint16()!==0||j<6)return[ce,M];const D=r.getUint16(),N=r.getUint16(),H=12;let V,$;for(V=0;V<D&&r.pos+H<=k;V++){const J={platform:r.getUint16(),encoding:r.getUint16(),language:r.getUint16(),name:r.getUint16(),length:r.getUint16(),offset:r.getUint16()};(isMacNameRecord(J)||isWinNameRecord(J))&&M.push(J)}for(V=0,$=M.length;V<$;V++){const J=M[V];if(J.length<=0)continue;const Q=de+N+J.offset;if(Q+J.length>k)continue;r.pos=Q;const re=J.name;if(J.encoding){let ie="";for(let ne=0,ee=J.length;ne<ee;ne+=2)ie+=String.fromCharCode(r.getUint16());ce[1][re]=ie}else ce[0][re]=r.getString(J.length)}return[ce,M]}const S=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function C(ge,de){let ce=ge.data,M=0,j,k,F,O,D,N=0,H=0;const V=[],$=[],J=[];let Q=de.tooComplexToFollowFunctions,re=!1,ie=0,ne=0;for(let le=ce.length;M<le;){const be=ce[M++];if(be===64)if(k=ce[M++],re||ne)M+=k;else for(j=0;j<k;j++)V.push(ce[M++]);else if(be===65)if(k=ce[M++],re||ne)M+=k*2;else for(j=0;j<k;j++)F=ce[M++],V.push(F<<8|ce[M++]);else if((be&248)===176)if(k=be-176+1,re||ne)M+=k;else for(j=0;j<k;j++)V.push(ce[M++]);else if((be&248)===184)if(k=be-184+1,re||ne)M+=k*2;else for(j=0;j<k;j++)F=ce[M++],V.push(F<<8|ce[M++]);else if(be===43&&!Q){if(!re&&!ne){if(O=V.at(-1),isNaN(O))info("TT: CALL empty stack (or invalid entry).");else if(de.functionsUsed[O]=!0,O in de.functionsStackDeltas){const fe=V.length+de.functionsStackDeltas[O];if(fe<0){warn("TT: CALL invalid functions stack delta."),de.hintsValid=!1;return}V.length=fe}else if(O in de.functionsDefined&&!J.includes(O)){if($.push({data:ce,i:M,stackTop:V.length-1}),J.push(O),D=de.functionsDefined[O],!D){warn("TT: CALL non-existent function"),de.hintsValid=!1;return}ce=D.data,M=D.i}}}else if(be===44&&!Q)(re||ne)&&(warn("TT: nested FDEFs not allowed"),Q=!0),re=!0,H=M,O=V.pop(),de.functionsDefined[O]={data:ce,i:M};else if(be===45)if(re)re=!1,N=M;else{if(D=$.pop(),!D){warn("TT: ENDF bad stack"),de.hintsValid=!1;return}O=J.pop(),ce=D.data,M=D.i,de.functionsStackDeltas[O]=V.length-D.stackTop}else if(be===137)(re||ne)&&(warn("TT: nested IDEFs not allowed"),Q=!0),re=!0,H=M;else if(be===88)++ie;else if(be===27)ne=ie;else if(be===89)ne===ie&&(ne=0),--ie;else if(be===28&&!re&&!ne){const fe=V.at(-1);fe>0&&(M+=fe-1)}if(!re&&!ne){let fe=0;for(be<=142?fe=S[be]:be>=192&&be<=223?fe=-1:be>=224&&(fe=-2),be>=113&&be<=117&&(k=V.pop(),isNaN(k)||(fe=-k*2));fe<0&&V.length>0;)V.pop(),fe++;for(;fe>0;)V.push(NaN),fe--}}de.tooComplexToFollowFunctions=Q;const ee=[ce];M>ce.length&&ee.push(new Uint8Array(M-ce.length)),H>N&&(warn("TT: complementing a missing function tail"),ee.push(new Uint8Array([34,45]))),T(ge,ee)}function E(ge,de){if(!ge.tooComplexToFollowFunctions){if(ge.functionsDefined.length>de){warn("TT: more functions defined than expected"),ge.hintsValid=!1;return}for(let ce=0,M=ge.functionsUsed.length;ce<M;ce++){if(ce>de){warn("TT: invalid function id: "+ce),ge.hintsValid=!1;return}if(ge.functionsUsed[ce]&&!ge.functionsDefined[ce]){warn("TT: undefined function: "+ce),ge.hintsValid=!1;return}}}}function T(ge,de){if(de.length>1){let ce=0,M,j;for(M=0,j=de.length;M<j;M++)ce+=de[M].length;ce=ce+3&-4;const k=new Uint8Array(ce);let F=0;for(M=0,j=de.length;M<j;M++)k.set(de[M],F),F+=de[M].length;ge.data=k,ge.length=ce}}function _(ge,de,ce,M){const j={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(ge&&C(ge,j),de&&C(de,j),ge&&E(j,M),ce&&ce.length&1){const k=new Uint8Array(ce.length+1);k.set(ce.data),ce.data=k}return j.hintsValid}r=new Stream$1(new Uint8Array(r.getBytes()));let R,U;if(isTrueTypeCollectionFile(r)){const ge=f(r,this.name);R=ge.header,U=ge.tables}else R=u(r),U=o(r,R.numTables);let z,X;const W=!U["CFF "];if(W){if(!U.loca)throw new FormatError('Required "loca" table is not found');U.glyf||(warn('Required "glyf" table is not found -- trying to recover.'),U.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const ge=a.composite&&(a.cidToGidMap?.length>0||!(a.cMap instanceof IdentityCMap));if(R.version==="OTTO"&&!ge||!U.head||!U.hhea||!U.maxp||!U.post)return X=new Stream$1(U["CFF "].data),z=new CFFFont(X,a),adjustWidths(a),this.convert(t,z,a);delete U.glyf,delete U.loca,delete U.fpgm,delete U.prep,delete U["cvt "],this.isOpenType=!0}if(!U.maxp)throw new FormatError('Required "maxp" table is not found');r.pos=(r.start||0)+U.maxp.offset;let Y=r.getInt32();const se=r.getUint16();if(Y!==65536&&Y!==20480){if(U.maxp.length===6)Y=20480;else if(U.maxp.length>=32)Y=65536;else throw new FormatError('"maxp" table has a wrong version number');writeUint32(U.maxp.data,0,Y)}if(a.scaleFactors?.length===se&&W){const{scaleFactors:ge}=a,de=int16(U.head.data[50],U.head.data[51]),ce=new GlyfTable({glyfTable:U.glyf.data,isGlyphLocationsLong:de,locaTable:U.loca.data,numGlyphs:se});ce.scale(ge);const{glyf:M,loca:j,isLocationLong:k}=ce.write();U.glyf.data=M,U.loca.data=j,k!==!!de&&(U.head.data[50]=0,U.head.data[51]=k?1:0);const F=U.hmtx.data;for(let O=0;O<se;O++){const D=4*O,N=Math.round(ge[O]*int16(F[D],F[D+1]));F[D]=N>>8&255,F[D+1]=N&255;const H=Math.round(ge[O]*signedInt16(F[D+2],F[D+3]));writeSignedInt16(F,D+2,H)}}let oe=se+1,ue=!0;oe>65535&&(ue=!1,oe=se,warn("Not enough space in glyfs to duplicate first glyph."));let Z=0,te=0;Y>=65536&&U.maxp.length>=32&&(r.pos+=8,r.getUint16()>2&&(U.maxp.data[14]=0,U.maxp.data[15]=2),r.pos+=4,Z=r.getUint16(),r.pos+=4,te=r.getUint16()),U.maxp.data[4]=oe>>8,U.maxp.data[5]=oe&255;const he=_(U.fpgm,U.prep,U["cvt "],Z);if(he||(delete U.fpgm,delete U.prep,delete U["cvt "]),x(r,U.hhea,U.hmtx,U.head,oe,ue),!U.head)throw new FormatError('Required "head" table is not found');m(U.head,se,W?U.loca.length:0);let xe=Object.create(null);if(W){const ge=int16(U.head.data[50],U.head.data[51]),de=y(U.loca,U.glyf,se,ge,he,ue,te);xe=de.missingGlyphs,Y>=65536&&U.maxp.length>=32&&(U.maxp.data[26]=de.maxSizeOfInstructions>>8,U.maxp.data[27]=de.maxSizeOfInstructions&255)}if(!U.hhea)throw new FormatError('Required "hhea" table is not found');U.hhea.data[10]===0&&U.hhea.data[11]===0&&(U.hhea.data[10]=255,U.hhea.data[11]=255);const ye={unitsPerEm:int16(U.head.data[18],U.head.data[19]),yMax:signedInt16(U.head.data[42],U.head.data[43]),yMin:signedInt16(U.head.data[38],U.head.data[39]),ascent:signedInt16(U.hhea.data[4],U.hhea.data[5]),descent:signedInt16(U.hhea.data[6],U.hhea.data[7]),lineGap:signedInt16(U.hhea.data[8],U.hhea.data[9])};this.ascent=ye.ascent/ye.unitsPerEm,this.descent=ye.descent/ye.unitsPerEm,this.lineGap=ye.lineGap/ye.unitsPerEm,this.cssFontInfo?.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,U.post&&v(U.post,a,se),U.post={tag:"post",data:createPostTable(a)};const Ae=[];function we(ge){return!xe[ge]}if(a.composite){const ge=a.cidToGidMap||[],de=ge.length===0;a.cMap.forEach(function(ce,M){if(typeof M=="string"&&(M=convertCidString(ce,M,!0)),M>65535)throw new FormatError("Max size of CID is 65,535");let j=-1;de?j=M:ge[M]!==void 0&&(j=ge[M]),j>=0&&j<se&&we(j)&&(Ae[ce]=j)})}else{const ge=g(U.cmap,r,this.isSymbolicFont,a.hasEncoding),de=ge.platformId,ce=ge.encodingId,M=ge.mappings;let j=[],k=!1;if(a.hasEncoding&&(a.baseEncodingName==="MacRomanEncoding"||a.baseEncodingName==="WinAnsiEncoding")&&(j=getEncoding(a.baseEncodingName)),a.hasEncoding&&!this.isSymbolicFont&&(de===3&&ce===1||de===1&&ce===0)){const F=getGlyphsUnicode();for(let O=0;O<256;O++){let D;if(this.differences[O]!==void 0?D=this.differences[O]:j.length&&j[O]!==""?D=j[O]:D=StandardEncoding[O],!D)continue;const N=recoverGlyphName(D,F);let H;if(de===3&&ce===1?H=F[N]:de===1&&ce===0&&(H=MacRomanEncoding.indexOf(N)),H===void 0){if(!a.glyphNames&&a.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof IdentityToUnicodeMap)){const V=this.toUnicode.get(O);V&&(H=V.codePointAt(0))}if(H===void 0)continue}for(const V of M)if(V.charCode===H){Ae[O]=V.glyphId;break}}}else if(de===0){for(const F of M)Ae[F.charCode]=F.glyphId;k=!0}else for(const F of M){let O=F.charCode;de===3&&O>=61440&&O<=61695&&(O&=255),Ae[O]=F.glyphId}if(a.glyphNames&&(j.length||this.differences.length))for(let F=0;F<256;++F){if(!k&&Ae[F]!==void 0)continue;const O=this.differences[F]||j[F];if(!O)continue;const D=a.glyphNames.indexOf(O);D>0&&we(D)&&(Ae[F]=D)}}Ae.length===0&&(Ae[0]=0);let pe=oe-1;if(ue||(pe=0),!a.cssFontInfo){const ge=adjustMapping(Ae,we,pe,this.toUnicode);this.toFontChar=ge.toFontChar,U.cmap={tag:"cmap",data:createCmapTable(ge.charCodeToGlyphId,ge.toUnicodeExtraMap,oe)},(!U["OS/2"]||!validateOS2Table(U["OS/2"],r))&&(U["OS/2"]={tag:"OS/2",data:createOS2Table(a,ge.charCodeToGlyphId,ye)})}if(!W)try{X=new Stream$1(U["CFF "].data),z=new CFFParser(X,a,SEAC_ANALYSIS_ENABLED).parse(),z.duplicateFirstGlyph();const de=new CFFCompiler(z);U["CFF "].data=de.compile()}catch{warn("Failed to compile font "+a.loadedName)}if(!U.name)U.name={tag:"name",data:createNameTable(this.name)};else{const[ge,de]=w(U.name);U.name.data=createNameTable(t,ge),this.psName=ge[0][6]||null,a.composite||adjustTrueTypeToUnicode(a,this.isSymbolicFont,de)}const Te=new OpenTypeFileBuilder(R.version);for(const ge in U)Te.addTable(ge,U[ge].data);return Te.toArray()}convert(t,r,a){a.fixedPitch=!1,a.builtInEncoding&&adjustType1ToUnicode(a,a.builtInEncoding);let s=1;r instanceof CFFFont&&(s=r.numGlyphs-1);const o=r.getGlyphMapping(a);let l=null,u=o,d=null;a.cssFontInfo||(l=adjustMapping(o,r.hasGlyphId.bind(r),s,this.toUnicode),this.toFontChar=l.toFontChar,u=l.charCodeToGlyphId,d=l.toUnicodeExtraMap);const f=r.numGlyphs;function g(v,w){let S=null;for(const C in v)w===v[C]&&(S||=[]).push(C|0);return S}function x(v,w){for(const S in v)if(w===v[S])return S|0;return l.charCodeToGlyphId[l.nextAvailableFontCharCode]=w,l.nextAvailableFontCharCode++}const b=r.seacs;if(l&&SEAC_ANALYSIS_ENABLED&&b?.length){const v=a.fontMatrix||FONT_IDENTITY_MATRIX,w=r.getCharset(),S=Object.create(null);for(let C in b){C|=0;const E=b[C],T=StandardEncoding[E[2]],_=StandardEncoding[E[3]],R=w.indexOf(T),U=w.indexOf(_);if(R<0||U<0)continue;const z={x:E[0]*v[0]+E[1]*v[2]+v[4],y:E[0]*v[1]+E[1]*v[3]+v[5]},X=g(o,C);if(X)for(const W of X){const Y=l.charCodeToGlyphId,se=x(Y,R),oe=x(Y,U);S[W]={baseFontCharCode:se,accentFontCharCode:oe,accentOffset:z}}}a.seacMap=S}const m=1/(a.fontMatrix||FONT_IDENTITY_MATRIX)[0],y=new OpenTypeFileBuilder("OTTO");return y.addTable("CFF ",r.data),y.addTable("OS/2",createOS2Table(a,u)),y.addTable("cmap",createCmapTable(u,d,f)),y.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+safeString16(m)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+safeString16(a.descent)+"ÿ"+safeString16(a.ascent)+string16(a.italicAngle?2:0)+"\0\0\0\0\0\0\0"),y.addTable("hhea","\0\0\0"+safeString16(a.ascent)+safeString16(a.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+safeString16(a.capHeight)+safeString16(Math.tan(a.italicAngle)*a.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+string16(f)),y.addTable("hmtx",function(){const w=r.charstrings,S=r.cff?r.cff.widths:null;let C="\0\0\0\0";for(let E=1,T=f;E<T;E++){let _=0;if(w){const R=w[E-1];_="width"in R?R.width:0}else S&&(_=Math.ceil(S[E]||0));C+=string16(_)+string16(0)}return C}()),y.addTable("maxp","\0\0P\0"+string16(f)),y.addTable("name",createNameTable(t)),y.addTable("post",createPostTable(a)),y.toArray()}get spaceWidth(){const t=["space","minus","one","i","I"];let r;for(const a of t){if(a in this.widths){r=this.widths[a];break}const o=getGlyphsUnicode()[a];let l=0;if(this.composite&&this.cMap.contains(o)&&(l=this.cMap.lookup(o),typeof l=="string"&&(l=convertCidString(o,l))),!l&&this.toUnicode&&(l=this.toUnicode.charCodeOf(o)),l<=0&&(l=o),r=this.widths[l],r)break}return shadow(this,"spaceWidth",r||this.defaultWidth)}_charToGlyph(t,r=!1){let a=this._glyphCache[t];if(a?.isSpace===r)return a;let s,o,l,u=t;this.cMap?.contains(t)&&(u=this.cMap.lookup(t),typeof u=="string"&&(u=convertCidString(t,u))),o=this.widths[u],typeof o!="number"&&(o=this.defaultWidth);const d=this.vmetrics?.[u];let f=this.toUnicode.get(t)||t;typeof f=="number"&&(f=String.fromCharCode(f));let g=this.toFontChar[t]!==void 0;if(s=this.toFontChar[t]||t,this.missingFile){const m=this.differences[t]||this.defaultEncoding[t];(m===".notdef"||m==="")&&this.type==="Type1"&&(s=32),s=mapSpecialUnicodeValues(s)}this.isType3Font&&(l=s);let x=null;if(this.seacMap?.[t]){g=!0;const m=this.seacMap[t];s=m.baseFontCharCode,x={fontChar:String.fromCodePoint(m.accentFontCharCode),offset:m.accentOffset}}let b="";return typeof s=="number"&&(s<=1114111?b=String.fromCodePoint(s):warn(`charToGlyph - invalid fontCharCode: ${s}`)),a=new fonts_Glyph(t,b,f,x,o,d,l,r,g),this._glyphCache[t]=a}charsToGlyphs(t){let r=this._charsCache[t];if(r)return r;if(r=[],this.cMap){const a=Object.create(null),s=t.length;let o=0;for(;o<s;){this.cMap.readCharCode(t,o,a);const{charcode:l,length:u}=a;o+=u;const d=this._charToGlyph(l,u===1&&t.charCodeAt(o-1)===32);r.push(d)}}else for(let a=0,s=t.length;a<s;++a){const o=t.charCodeAt(a),l=this._charToGlyph(o,o===32);r.push(l)}return this._charsCache[t]=r}getCharPositions(t){const r=[];if(this.cMap){const a=Object.create(null);let s=0;for(;s<t.length;){this.cMap.readCharCode(t,s,a);const o=a.length;r.push([s,s+o]),s+=o}}else for(let a=0,s=t.length;a<s;++a)r.push([a,a+1]);return r}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(t){const r=[],a=[],s=()=>r.length%2===1,o=this.toUnicode instanceof IdentityToUnicodeMap?l=>this.toUnicode.charCodeOf(l):l=>this.toUnicode.charCodeOf(String.fromCodePoint(l));for(let l=0,u=t.length;l<u;l++){const d=t.codePointAt(l);if(d>55295&&(d<57344||d>65533)&&l++,this.toUnicode){const f=o(d);if(f!==-1){s()&&(r.push(a.join("")),a.length=0);const g=this.cMap?this.cMap.getCharCodeLength(f):1;for(let x=g-1;x>=0;x--)a.push(String.fromCharCode(f>>8*x&255));continue}}s()||(r.push(a.join("")),a.length=0),a.push(String.fromCodePoint(d))}return r.push(a.join("")),r}};class ErrorFont{constructor(t){this.error=t,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(t){return[t]}exportData(t=!1){return{error:this.error}}}const ShadingType={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Pattern{constructor(){unreachable("Cannot initialize Pattern.")}static parseShading(t,r,a,s,o){const l=t instanceof BaseStream?t.dict:t,u=l.get("ShadingType");try{switch(u){case ShadingType.AXIAL:case ShadingType.RADIAL:return new RadialAxialShading(l,r,a,s,o);case ShadingType.FREE_FORM_MESH:case ShadingType.LATTICE_FORM_MESH:case ShadingType.COONS_PATCH_MESH:case ShadingType.TENSOR_PATCH_MESH:return new MeshShading(t,r,a,s,o);default:throw new FormatError("Unsupported ShadingType: "+u)}}catch(d){if(d instanceof MissingDataException)throw d;return warn(d),new DummyShading}}}class BaseShading{static SMALL_NUMBER=1e-6;constructor(){this.constructor===BaseShading&&unreachable("Cannot initialize BaseShading.")}getIR(){unreachable("Abstract method `getIR` called.")}}class RadialAxialShading extends BaseShading{constructor(t,r,a,s,o){super(),this.coordsArr=t.getArray("Coords"),this.shadingType=t.get("ShadingType");const l=ColorSpace$1.parse({cs:t.getRaw("CS")||t.getRaw("ColorSpace"),xref:r,resources:a,pdfFunctionFactory:s,localColorSpaceCache:o}),u=t.getArray("BBox");this.bbox=Array.isArray(u)&&u.length===4?Util.normalizeRect(u):null;let d=0,f=1;if(t.has("Domain")){const he=t.getArray("Domain");d=he[0],f=he[1]}let g=!1,x=!1;if(t.has("Extend")){const he=t.getArray("Extend");g=he[0],x=he[1]}if(this.shadingType===ShadingType.RADIAL&&(!g||!x)){const[he,xe,ye,Ae,we,pe]=this.coordsArr,Te=Math.hypot(he-Ae,xe-we);ye<=pe+Te&&pe<=ye+Te&&warn("Unsupported radial gradient.")}this.extendStart=g,this.extendEnd=x;const b=t.getRaw("Function"),m=s.createFromArray(b),y=840,v=(f-d)/y,w=this.colorStops=[];if(d>=f||v<=0){info("Bad shading domain.");return}const S=new Float32Array(l.numComps),C=new Float32Array(1);let E,T=0;C[0]=d,m(C,0,S,0);let _=l.getRgb(S,0);const R=Util.makeHexColor(_[0],_[1],_[2]);w.push([0,R]);let U=1;C[0]=d+v,m(C,0,S,0);let z=l.getRgb(S,0),X=z[0]-_[0]+1,W=z[1]-_[1]+1,Y=z[2]-_[2]+1,se=z[0]-_[0]-1,oe=z[1]-_[1]-1,ue=z[2]-_[2]-1;for(let he=2;he<y;he++){C[0]=d+he*v,m(C,0,S,0),E=l.getRgb(S,0);const xe=he-T;if(X=Math.min(X,(E[0]-_[0]+1)/xe),W=Math.min(W,(E[1]-_[1]+1)/xe),Y=Math.min(Y,(E[2]-_[2]+1)/xe),se=Math.max(se,(E[0]-_[0]-1)/xe),oe=Math.max(oe,(E[1]-_[1]-1)/xe),ue=Math.max(ue,(E[2]-_[2]-1)/xe),!(se<=X&&oe<=W&&ue<=Y)){const Ae=Util.makeHexColor(z[0],z[1],z[2]);w.push([U/y,Ae]),X=E[0]-z[0]+1,W=E[1]-z[1]+1,Y=E[2]-z[2]+1,se=E[0]-z[0]-1,oe=E[1]-z[1]-1,ue=E[2]-z[2]-1,T=U,_=z}U=he,z=E}const Z=Util.makeHexColor(z[0],z[1],z[2]);w.push([1,Z]);let te="transparent";t.has("Background")&&(E=l.getRgb(t.get("Background"),0),te=Util.makeHexColor(E[0],E[1],E[2])),g||(w.unshift([0,te]),w[1][0]+=BaseShading.SMALL_NUMBER),x||(w.at(-1)[0]-=BaseShading.SMALL_NUMBER,w.push([1,te])),this.colorStops=w}getIR(){const t=this.coordsArr,r=this.shadingType;let a,s,o,l,u;return r===ShadingType.AXIAL?(s=[t[0],t[1]],o=[t[2],t[3]],l=null,u=null,a="axial"):r===ShadingType.RADIAL?(s=[t[0],t[1]],o=[t[3],t[4]],l=t[2],u=t[5],a="radial"):unreachable(`getPattern type unknown: ${r}`),["RadialAxial",a,this.bbox,this.colorStops,s,o,l,u]}}class MeshStreamReader{constructor(t,r){this.stream=t,this.context=r,this.buffer=0,this.bufferLength=0;const a=r.numComps;this.tmpCompsBuf=new Float32Array(a);const s=r.colorSpace.numComps;this.tmpCsCompsBuf=r.colorFn?new Float32Array(s):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const t=this.stream.getByte();return t<0?!1:(this.buffer=t,this.bufferLength=8,!0)}readBits(t){let r=this.buffer,a=this.bufferLength;if(t===32){if(a===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;r=r<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const s=this.stream.getByte();return this.buffer=s&(1<<a)-1,(r<<8-a|(s&255)>>a)>>>0}if(t===8&&a===0)return this.stream.getByte();for(;a<t;)r=r<<8|this.stream.getByte(),a+=8;return a-=t,this.bufferLength=a,this.buffer=r&(1<<a)-1,r>>a}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const t=this.context.bitsPerCoordinate,r=this.readBits(t),a=this.readBits(t),s=this.context.decode,o=t<32?1/((1<<t)-1):23283064365386963e-26;return[r*o*(s[1]-s[0])+s[0],a*o*(s[3]-s[2])+s[2]]}readComponents(){const t=this.context.numComps,r=this.context.bitsPerComponent,a=r<32?1/((1<<r)-1):23283064365386963e-26,s=this.context.decode,o=this.tmpCompsBuf;for(let u=0,d=4;u<t;u++,d+=2){const f=this.readBits(r);o[u]=f*a*(s[d+1]-s[d])+s[d]}const l=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(o,0,l,0),this.context.colorSpace.getRgb(l,0)}}let bCache=Object.create(null);function buildB(n){const t=[];for(let r=0;r<=n;r++){const a=r/n,s=1-a;t.push(new Float32Array([s**3,3*a*s**2,3*a**2*s,a**3]))}return t}function getB(n){return bCache[n]||=buildB(n)}function clearPatternCaches(){bCache=Object.create(null)}class MeshShading extends BaseShading{static MIN_SPLIT_PATCH_CHUNKS_AMOUNT=3;static MAX_SPLIT_PATCH_CHUNKS_AMOUNT=20;static TRIANGLE_DENSITY=20;constructor(t,r,a,s,o){if(super(),!(t instanceof BaseStream))throw new FormatError("Mesh data is not a stream");const l=t.dict;this.shadingType=l.get("ShadingType");const u=l.getArray("BBox");this.bbox=Array.isArray(u)&&u.length===4?Util.normalizeRect(u):null;const d=ColorSpace$1.parse({cs:l.getRaw("CS")||l.getRaw("ColorSpace"),xref:r,resources:a,pdfFunctionFactory:s,localColorSpaceCache:o});this.background=l.has("Background")?d.getRgb(l.get("Background"),0):null;const f=l.getRaw("Function"),g=f?s.createFromArray(f):null;this.coords=[],this.colors=[],this.figures=[];const x={bitsPerCoordinate:l.get("BitsPerCoordinate"),bitsPerComponent:l.get("BitsPerComponent"),bitsPerFlag:l.get("BitsPerFlag"),decode:l.getArray("Decode"),colorFn:g,colorSpace:d,numComps:g?1:d.numComps},b=new MeshStreamReader(t,x);let m=!1;switch(this.shadingType){case ShadingType.FREE_FORM_MESH:this._decodeType4Shading(b);break;case ShadingType.LATTICE_FORM_MESH:const y=l.get("VerticesPerRow")|0;if(y<2)throw new FormatError("Invalid VerticesPerRow");this._decodeType5Shading(b,y);break;case ShadingType.COONS_PATCH_MESH:this._decodeType6Shading(b),m=!0;break;case ShadingType.TENSOR_PATCH_MESH:this._decodeType7Shading(b),m=!0;break;default:unreachable("Unsupported mesh type.");break}if(m){this._updateBounds();for(let y=0,v=this.figures.length;y<v;y++)this._buildFigureFromPatch(y)}this._updateBounds(),this._packData()}_decodeType4Shading(t){const r=this.coords,a=this.colors,s=[];let o=0;for(;t.hasData;){const l=t.readFlag(),u=t.readCoordinate(),d=t.readComponents();if(o===0){if(!(0<=l&&l<=2))throw new FormatError("Unknown type4 flag");switch(l){case 0:o=3;break;case 1:s.push(s.at(-2),s.at(-1)),o=1;break;case 2:s.push(s.at(-3),s.at(-1)),o=1;break}}s.push(r.length),r.push(u),a.push(d),o--,t.align()}this.figures.push({type:"triangles",coords:new Int32Array(s),colors:new Int32Array(s)})}_decodeType5Shading(t,r){const a=this.coords,s=this.colors,o=[];for(;t.hasData;){const l=t.readCoordinate(),u=t.readComponents();o.push(a.length),a.push(l),s.push(u)}this.figures.push({type:"lattice",coords:new Int32Array(o),colors:new Int32Array(o),verticesPerRow:r})}_decodeType6Shading(t){const r=this.coords,a=this.colors,s=new Int32Array(16),o=new Int32Array(4);for(;t.hasData;){const l=t.readFlag();if(!(0<=l&&l<=3))throw new FormatError("Unknown type6 flag");const u=r.length;for(let m=0,y=l!==0?8:12;m<y;m++)r.push(t.readCoordinate());const d=a.length;for(let m=0,y=l!==0?2:4;m<y;m++)a.push(t.readComponents());let f,g,x,b;switch(l){case 0:s[12]=u+3,s[13]=u+4,s[14]=u+5,s[15]=u+6,s[8]=u+2,s[11]=u+7,s[4]=u+1,s[7]=u+8,s[0]=u,s[1]=u+11,s[2]=u+10,s[3]=u+9,o[2]=d+1,o[3]=d+2,o[0]=d,o[1]=d+3;break;case 1:f=s[12],g=s[13],x=s[14],b=s[15],s[12]=b,s[13]=u+0,s[14]=u+1,s[15]=u+2,s[8]=x,s[11]=u+3,s[4]=g,s[7]=u+4,s[0]=f,s[1]=u+7,s[2]=u+6,s[3]=u+5,f=o[2],g=o[3],o[2]=g,o[3]=d,o[0]=f,o[1]=d+1;break;case 2:f=s[15],g=s[11],s[12]=s[3],s[13]=u+0,s[14]=u+1,s[15]=u+2,s[8]=s[7],s[11]=u+3,s[4]=g,s[7]=u+4,s[0]=f,s[1]=u+7,s[2]=u+6,s[3]=u+5,f=o[3],o[2]=o[1],o[3]=d,o[0]=f,o[1]=d+1;break;case 3:s[12]=s[0],s[13]=u+0,s[14]=u+1,s[15]=u+2,s[8]=s[1],s[11]=u+3,s[4]=s[2],s[7]=u+4,s[0]=s[3],s[1]=u+7,s[2]=u+6,s[3]=u+5,o[2]=o[0],o[3]=d,o[0]=o[1],o[1]=d+1;break}s[5]=r.length,r.push([(-4*r[s[0]][0]-r[s[15]][0]+6*(r[s[4]][0]+r[s[1]][0])-2*(r[s[12]][0]+r[s[3]][0])+3*(r[s[13]][0]+r[s[7]][0]))/9,(-4*r[s[0]][1]-r[s[15]][1]+6*(r[s[4]][1]+r[s[1]][1])-2*(r[s[12]][1]+r[s[3]][1])+3*(r[s[13]][1]+r[s[7]][1]))/9]),s[6]=r.length,r.push([(-4*r[s[3]][0]-r[s[12]][0]+6*(r[s[2]][0]+r[s[7]][0])-2*(r[s[0]][0]+r[s[15]][0])+3*(r[s[4]][0]+r[s[14]][0]))/9,(-4*r[s[3]][1]-r[s[12]][1]+6*(r[s[2]][1]+r[s[7]][1])-2*(r[s[0]][1]+r[s[15]][1])+3*(r[s[4]][1]+r[s[14]][1]))/9]),s[9]=r.length,r.push([(-4*r[s[12]][0]-r[s[3]][0]+6*(r[s[8]][0]+r[s[13]][0])-2*(r[s[0]][0]+r[s[15]][0])+3*(r[s[11]][0]+r[s[1]][0]))/9,(-4*r[s[12]][1]-r[s[3]][1]+6*(r[s[8]][1]+r[s[13]][1])-2*(r[s[0]][1]+r[s[15]][1])+3*(r[s[11]][1]+r[s[1]][1]))/9]),s[10]=r.length,r.push([(-4*r[s[15]][0]-r[s[0]][0]+6*(r[s[11]][0]+r[s[14]][0])-2*(r[s[12]][0]+r[s[3]][0])+3*(r[s[2]][0]+r[s[8]][0]))/9,(-4*r[s[15]][1]-r[s[0]][1]+6*(r[s[11]][1]+r[s[14]][1])-2*(r[s[12]][1]+r[s[3]][1])+3*(r[s[2]][1]+r[s[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(s),colors:new Int32Array(o)})}}_decodeType7Shading(t){const r=this.coords,a=this.colors,s=new Int32Array(16),o=new Int32Array(4);for(;t.hasData;){const l=t.readFlag();if(!(0<=l&&l<=3))throw new FormatError("Unknown type7 flag");const u=r.length;for(let m=0,y=l!==0?12:16;m<y;m++)r.push(t.readCoordinate());const d=a.length;for(let m=0,y=l!==0?2:4;m<y;m++)a.push(t.readComponents());let f,g,x,b;switch(l){case 0:s[12]=u+3,s[13]=u+4,s[14]=u+5,s[15]=u+6,s[8]=u+2,s[9]=u+13,s[10]=u+14,s[11]=u+7,s[4]=u+1,s[5]=u+12,s[6]=u+15,s[7]=u+8,s[0]=u,s[1]=u+11,s[2]=u+10,s[3]=u+9,o[2]=d+1,o[3]=d+2,o[0]=d,o[1]=d+3;break;case 1:f=s[12],g=s[13],x=s[14],b=s[15],s[12]=b,s[13]=u+0,s[14]=u+1,s[15]=u+2,s[8]=x,s[9]=u+9,s[10]=u+10,s[11]=u+3,s[4]=g,s[5]=u+8,s[6]=u+11,s[7]=u+4,s[0]=f,s[1]=u+7,s[2]=u+6,s[3]=u+5,f=o[2],g=o[3],o[2]=g,o[3]=d,o[0]=f,o[1]=d+1;break;case 2:f=s[15],g=s[11],s[12]=s[3],s[13]=u+0,s[14]=u+1,s[15]=u+2,s[8]=s[7],s[9]=u+9,s[10]=u+10,s[11]=u+3,s[4]=g,s[5]=u+8,s[6]=u+11,s[7]=u+4,s[0]=f,s[1]=u+7,s[2]=u+6,s[3]=u+5,f=o[3],o[2]=o[1],o[3]=d,o[0]=f,o[1]=d+1;break;case 3:s[12]=s[0],s[13]=u+0,s[14]=u+1,s[15]=u+2,s[8]=s[1],s[9]=u+9,s[10]=u+10,s[11]=u+3,s[4]=s[2],s[5]=u+8,s[6]=u+11,s[7]=u+4,s[0]=s[3],s[1]=u+7,s[2]=u+6,s[3]=u+5,o[2]=o[0],o[3]=d,o[0]=o[1],o[1]=d+1;break}this.figures.push({type:"patch",coords:new Int32Array(s),colors:new Int32Array(o)})}}_buildFigureFromPatch(t){const r=this.figures[t];assert(r.type==="patch","Unexpected patch mesh figure");const a=this.coords,s=this.colors,o=r.coords,l=r.colors,u=Math.min(a[o[0]][0],a[o[3]][0],a[o[12]][0],a[o[15]][0]),d=Math.min(a[o[0]][1],a[o[3]][1],a[o[12]][1],a[o[15]][1]),f=Math.max(a[o[0]][0],a[o[3]][0],a[o[12]][0],a[o[15]][0]),g=Math.max(a[o[0]][1],a[o[3]][1],a[o[12]][1],a[o[15]][1]);let x=Math.ceil((f-u)*MeshShading.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));x=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,x));let b=Math.ceil((g-d)*MeshShading.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));b=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,b));const m=x+1,y=new Int32Array((b+1)*m),v=new Int32Array((b+1)*m);let w=0;const S=new Uint8Array(3),C=new Uint8Array(3),E=s[l[0]],T=s[l[1]],_=s[l[2]],R=s[l[3]],U=getB(b),z=getB(x);for(let X=0;X<=b;X++){S[0]=(E[0]*(b-X)+_[0]*X)/b|0,S[1]=(E[1]*(b-X)+_[1]*X)/b|0,S[2]=(E[2]*(b-X)+_[2]*X)/b|0,C[0]=(T[0]*(b-X)+R[0]*X)/b|0,C[1]=(T[1]*(b-X)+R[1]*X)/b|0,C[2]=(T[2]*(b-X)+R[2]*X)/b|0;for(let W=0;W<=x;W++,w++){if((X===0||X===b)&&(W===0||W===x))continue;let Y=0,se=0,oe=0;for(let Z=0;Z<=3;Z++)for(let te=0;te<=3;te++,oe++){const he=U[X][Z]*z[W][te];Y+=a[o[oe]][0]*he,se+=a[o[oe]][1]*he}y[w]=a.length,a.push([Y,se]),v[w]=s.length;const ue=new Uint8Array(3);ue[0]=(S[0]*(x-W)+C[0]*W)/x|0,ue[1]=(S[1]*(x-W)+C[1]*W)/x|0,ue[2]=(S[2]*(x-W)+C[2]*W)/x|0,s.push(ue)}}y[0]=o[0],v[0]=l[0],y[x]=o[3],v[x]=l[1],y[m*b]=o[12],v[m*b]=l[2],y[m*b+x]=o[15],v[m*b+x]=l[3],this.figures[t]={type:"lattice",coords:y,colors:v,verticesPerRow:m}}_updateBounds(){let t=this.coords[0][0],r=this.coords[0][1],a=t,s=r;for(let o=1,l=this.coords.length;o<l;o++){const u=this.coords[o][0],d=this.coords[o][1];t=t>u?u:t,r=r>d?d:r,a=a<u?u:a,s=s<d?d:s}this.bounds=[t,r,a,s]}_packData(){let t,r,a,s;const o=this.coords,l=new Float32Array(o.length*2);for(t=0,a=0,r=o.length;t<r;t++){const g=o[t];l[a++]=g[0],l[a++]=g[1]}this.coords=l;const u=this.colors,d=new Uint8Array(u.length*3);for(t=0,a=0,r=u.length;t<r;t++){const g=u[t];d[a++]=g[0],d[a++]=g[1],d[a++]=g[2]}this.colors=d;const f=this.figures;for(t=0,r=f.length;t<r;t++){const g=f[t],x=g.coords,b=g.colors;for(a=0,s=x.length;a<s;a++)x[a]*=2,b[a]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class DummyShading extends BaseShading{getIR(){return["Dummy"]}}function getTilingPatternIR(n,t,r){const a=t.getArray("Matrix"),s=Util.normalizeRect(t.getArray("BBox")),o=t.get("XStep"),l=t.get("YStep"),u=t.get("PaintType"),d=t.get("TilingType");if(s[2]-s[0]===0||s[3]-s[1]===0)throw new FormatError(`Invalid getTilingPatternIR /BBox array: [${s}].`);return["TilingPattern",r,n,a,s,o,l,u,d]}const CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207},HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2},LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2},SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0},getXFAFontMap=getLookupTableFactory(function(n){n["MyriadPro-Regular"]=n["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:MyriadProRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:MyriadProRegularMetrics},n["MyriadPro-Bold"]=n["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:MyriadProBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:MyriadProBoldMetrics},n["MyriadPro-It"]=n["MyriadPro-Italic"]=n["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:MyriadProItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:MyriadProItalicMetrics},n["MyriadPro-BoldIt"]=n["MyriadPro-BoldItalic"]=n["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:MyriadProBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:MyriadProBoldItalicMetrics},n.ArialMT=n.Arial=n["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping},n["Arial-BoldMT"]=n["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping},n["Arial-ItalicMT"]=n["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping},n["Arial-BoldItalicMT"]=n["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping},n["Calibri-Regular"]={name:"LiberationSans-Regular",factors:CalibriRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:CalibriRegularMetrics},n["Calibri-Bold"]={name:"LiberationSans-Bold",factors:CalibriBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:CalibriBoldMetrics},n["Calibri-Italic"]={name:"LiberationSans-Italic",factors:CalibriItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:CalibriItalicMetrics},n["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:CalibriBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:CalibriBoldItalicMetrics},n["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:SegoeuiRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:SegoeuiRegularMetrics},n["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:SegoeuiBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:SegoeuiBoldMetrics},n["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:SegoeuiItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:SegoeuiItalicMetrics},n["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:SegoeuiBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:SegoeuiBoldItalicMetrics},n["Helvetica-Regular"]=n.Helvetica={name:"LiberationSans-Regular",factors:HelveticaRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:HelveticaRegularMetrics},n["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:HelveticaBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:HelveticaBoldMetrics},n["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:HelveticaItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:HelveticaItalicMetrics},n["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:HelveticaBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:HelveticaBoldItalicMetrics}});function getXfaFontName(n){const t=normalizeFontName(n);return getXFAFontMap()[t]}function getXfaFontWidths(n){const t=getXfaFontName(n);if(!t)return null;const{baseWidths:r,baseMapping:a,factors:s}=t,o=s?r.map((f,g)=>f*s[g]):r;let l=-2,u;const d=[];for(const[f,g]of a.map((x,b)=>[x,b]).sort(([x],[b])=>x-b))f!==-1&&(f===l+1?(u.push(o[g]),l+=1):(l=f,u=[o[g]],d.push(f,u)));return d}function getXfaFontDict(n){const t=getXfaFontWidths(n),r=new Dict(null);r.set("BaseFont",Name.get(n)),r.set("Type",Name.get("Font")),r.set("Subtype",Name.get("CIDFontType2")),r.set("Encoding",Name.get("Identity-H")),r.set("CIDToGIDMap",Name.get("Identity")),r.set("W",t),r.set("FirstChar",t[0]),r.set("LastChar",t.at(-2)+t.at(-1).length-1);const a=new Dict(null);r.set("FontDescriptor",a);const s=new Dict(null);return s.set("Ordering","Identity"),s.set("Registry","Adobe"),s.set("Supplement",0),r.set("CIDSystemInfo",s),r}class PostScriptParser{constructor(t){this.lexer=t,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(t){return this.token.type===t?(this.nextToken(),!0):!1}expect(t){if(this.accept(t))return!0;throw new FormatError(`Unexpected symbol: found ${this.token.type} expected ${t}.`)}parse(){return this.nextToken(),this.expect(PostScriptTokenTypes.LBRACE),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(PostScriptTokenTypes.NUMBER))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.LBRACE))this.parseCondition();else return}parseCondition(){const t=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.accept(PostScriptTokenTypes.IF))this.operators[t]=this.operators.length,this.operators[t+1]="jz";else if(this.accept(PostScriptTokenTypes.LBRACE)){const r=this.operators.length;this.operators.push(null,null);const a=this.operators.length;this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.expect(PostScriptTokenTypes.IFELSE),this.operators[r]=this.operators.length,this.operators[r+1]="j",this.operators[t]=a,this.operators[t+1]="jz"}else throw new FormatError("PS Function: error parsing conditional.")}}const PostScriptTokenTypes={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class PostScriptToken{static get opCache(){return shadow(this,"opCache",Object.create(null))}constructor(t,r){this.type=t,this.value=r}static getOperator(t){return PostScriptToken.opCache[t]||=new PostScriptToken(PostScriptTokenTypes.OPERATOR,t)}static get LBRACE(){return shadow(this,"LBRACE",new PostScriptToken(PostScriptTokenTypes.LBRACE,"{"))}static get RBRACE(){return shadow(this,"RBRACE",new PostScriptToken(PostScriptTokenTypes.RBRACE,"}"))}static get IF(){return shadow(this,"IF",new PostScriptToken(PostScriptTokenTypes.IF,"IF"))}static get IFELSE(){return shadow(this,"IFELSE",new PostScriptToken(PostScriptTokenTypes.IFELSE,"IFELSE"))}}class PostScriptLexer{constructor(t){this.stream=t,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let t=!1,r=this.currentChar;for(;;){if(r<0)return EOF;if(t)(r===10||r===13)&&(t=!1);else if(r===37)t=!0;else if(!isWhiteSpace(r))break;r=this.nextChar()}switch(r|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new PostScriptToken(PostScriptTokenTypes.NUMBER,this.getNumber());case 123:return this.nextChar(),PostScriptToken.LBRACE;case 125:return this.nextChar(),PostScriptToken.RBRACE}const a=this.strBuf;for(a.length=0,a[0]=String.fromCharCode(r);(r=this.nextChar())>=0&&(r>=65&&r<=90||r>=97&&r<=122);)a.push(String.fromCharCode(r));const s=a.join("");switch(s.toLowerCase()){case"if":return PostScriptToken.IF;case"ifelse":return PostScriptToken.IFELSE;default:return PostScriptToken.getOperator(s)}}getNumber(){let t=this.currentChar;const r=this.strBuf;for(r.length=0,r[0]=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=48&&t<=57||t===45||t===46);)r.push(String.fromCharCode(t));const a=parseFloat(r.join(""));if(isNaN(a))throw new FormatError(`Invalid floating point number: ${a}`);return a}}class BaseLocalCache{constructor(t){this.constructor===BaseLocalCache&&unreachable("Cannot initialize BaseLocalCache."),this._onlyRefs=t?.onlyRefs===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new RefSetCache}getByName(t){this._onlyRefs&&unreachable("Should not call `getByName` method.");const r=this._nameRefMap.get(t);return r?this.getByRef(r):this._imageMap.get(t)||null}getByRef(t){return this._imageCache.get(t)||null}set(t,r,a){unreachable("Abstract method `set` called.")}}class LocalImageCache extends BaseLocalCache{set(t,r=null,a){if(typeof t!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(r){if(this._imageCache.has(r))return;this._nameRefMap.set(t,r),this._imageCache.put(r,a);return}this._imageMap.has(t)||this._imageMap.set(t,a)}}class LocalColorSpaceCache extends BaseLocalCache{set(t=null,r=null,a){if(typeof t!="string"&&!r)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(r){if(this._imageCache.has(r))return;t!==null&&this._nameRefMap.set(t,r),this._imageCache.put(r,a);return}this._imageMap.has(t)||this._imageMap.set(t,a)}}class LocalFunctionCache extends BaseLocalCache{constructor(t){super({onlyRefs:!0})}set(t=null,r,a){if(!r)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(r)||this._imageCache.put(r,a)}}class LocalGStateCache extends BaseLocalCache{set(t,r=null,a){if(typeof t!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(r){if(this._imageCache.has(r))return;this._nameRefMap.set(t,r),this._imageCache.put(r,a);return}this._imageMap.has(t)||this._imageMap.set(t,a)}}class LocalTilingPatternCache extends BaseLocalCache{constructor(t){super({onlyRefs:!0})}set(t=null,r,a){if(!r)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(r)||this._imageCache.put(r,a)}}class RegionalImageCache extends BaseLocalCache{constructor(t){super({onlyRefs:!0})}set(t=null,r,a){if(!r)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(r)||this._imageCache.put(r,a)}}class GlobalImageCache{static NUM_PAGES_THRESHOLD=2;static MIN_IMAGES_TO_CACHE=10;static MAX_BYTE_SIZE=5*MAX_IMAGE_SIZE_TO_CACHE;constructor(){this._refCache=new RefSetCache,this._imageCache=new RefSetCache}get _byteSize(){let t=0;for(const r of this._imageCache)t+=r.byteSize;return t}get _cacheLimitReached(){return!(this._imageCache.size<GlobalImageCache.MIN_IMAGES_TO_CACHE||this._byteSize<GlobalImageCache.MAX_BYTE_SIZE)}shouldCache(t,r){let a=this._refCache.get(t);return a||(a=new Set,this._refCache.put(t,a)),a.add(r),!(a.size<GlobalImageCache.NUM_PAGES_THRESHOLD||!this._imageCache.has(t)&&this._cacheLimitReached)}addByteSize(t,r){const a=this._imageCache.get(t);a&&(a.byteSize||(a.byteSize=r))}getData(t,r){const a=this._refCache.get(t);if(!a||a.size<GlobalImageCache.NUM_PAGES_THRESHOLD)return null;const s=this._imageCache.get(t);return s?(a.add(r),s):null}setData(t,r){if(!this._refCache.has(t))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(t)){if(this._cacheLimitReached){warn("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(t,r)}}clear(t=!1){t||this._refCache.clear(),this._imageCache.clear()}}class PDFFunctionFactory{constructor({xref:t,isEvalSupported:r=!0}){this.xref=t,this.isEvalSupported=r!==!1}create(t){const r=this.getCached(t);if(r)return r;const a=PDFFunction.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:t instanceof Ref?this.xref.fetch(t):t});return this._cache(t,a),a}createFromArray(t){const r=this.getCached(t);if(r)return r;const a=PDFFunction.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:t instanceof Ref?this.xref.fetch(t):t});return this._cache(t,a),a}getCached(t){let r;if(t instanceof Ref?r=t:t instanceof Dict?r=t.objId:t instanceof BaseStream&&(r=t.dict?.objId),r){const a=this._localFunctionCache.getByRef(r);if(a)return a}return null}_cache(t,r){if(!r)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let a;t instanceof Ref?a=t:t instanceof Dict?a=t.objId:t instanceof BaseStream&&(a=t.dict?.objId),a&&this._localFunctionCache.set(null,a,r)}get _localFunctionCache(){return shadow(this,"_localFunctionCache",new LocalFunctionCache)}}function toNumberArray(n){if(!Array.isArray(n))return null;const t=n.length;for(let r=0;r<t;r++)if(typeof n[r]!="number"){const a=new Array(t);for(let s=0;s<t;s++)a[s]=+n[s];return a}return n}class PDFFunction{static getSampleArray(t,r,a,s){let o,l,u=1;for(o=0,l=t.length;o<l;o++)u*=t[o];u*=r;const d=new Array(u);let f=0,g=0;const x=1/(2**a-1),b=s.getBytes((u*a+7)/8);let m=0;for(o=0;o<u;o++){for(;f<a;)g<<=8,g|=b[m++],f+=8;f-=a,d[o]=(g>>f)*x,g&=(1<<f)-1}return d}static parse({xref:t,isEvalSupported:r,fn:a}){const s=a.dict||a;switch(s.get("FunctionType")){case 0:return this.constructSampled({xref:t,isEvalSupported:r,fn:a,dict:s});case 1:break;case 2:return this.constructInterpolated({xref:t,isEvalSupported:r,dict:s});case 3:return this.constructStiched({xref:t,isEvalSupported:r,dict:s});case 4:return this.constructPostScript({xref:t,isEvalSupported:r,fn:a,dict:s})}throw new FormatError("Unknown type of function")}static parseArray({xref:t,isEvalSupported:r,fnObj:a}){if(!Array.isArray(a))return this.parse({xref:t,isEvalSupported:r,fn:a});const s=[];for(const o of a)s.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(o)}));return function(o,l,u,d){for(let f=0,g=s.length;f<g;f++)s[f](o,l,u,d+f)}}static constructSampled({xref:t,isEvalSupported:r,fn:a,dict:s}){function o(S){const C=S.length,E=[];let T=0;for(let _=0;_<C;_+=2)E[T++]=[S[_],S[_+1]];return E}function l(S,C,E,T,_){return T+(S-C)*((_-T)/(E-C))}let u=toNumberArray(s.getArray("Domain")),d=toNumberArray(s.getArray("Range"));if(!u||!d)throw new FormatError("No domain or range");const f=u.length/2,g=d.length/2;u=o(u),d=o(d);const x=toNumberArray(s.getArray("Size")),b=s.get("BitsPerSample"),m=s.get("Order")||1;m!==1&&info("No support for cubic spline interpolation: "+m);let y=toNumberArray(s.getArray("Encode"));if(y)y=o(y);else{y=[];for(let S=0;S<f;++S)y.push([0,x[S]-1])}let v=toNumberArray(s.getArray("Decode"));v=v?o(v):d;const w=this.getSampleArray(x,g,b,a);return function(C,E,T,_){const R=1<<f,U=new Float64Array(R),z=new Uint32Array(R);let X,W;for(W=0;W<R;W++)U[W]=1;let Y=g,se=1;for(X=0;X<f;++X){const oe=u[X][0],ue=u[X][1],Z=Math.min(Math.max(C[E+X],oe),ue);let te=l(Z,oe,ue,y[X][0],y[X][1]);const he=x[X];te=Math.min(Math.max(te,0),he-1);const xe=te<he-1?Math.floor(te):te-1,ye=xe+1-te,Ae=te-xe,we=xe*Y,pe=we+Y;for(W=0;W<R;W++)W&se?(U[W]*=Ae,z[W]+=pe):(U[W]*=ye,z[W]+=we);Y*=he,se<<=1}for(W=0;W<g;++W){let oe=0;for(X=0;X<R;X++)oe+=w[z[X]+W]*U[X];oe=l(oe,0,1,v[W][0],v[W][1]),T[_+W]=Math.min(Math.max(oe,d[W][0]),d[W][1])}}}static constructInterpolated({xref:t,isEvalSupported:r,dict:a}){const s=toNumberArray(a.getArray("C0"))||[0],o=toNumberArray(a.getArray("C1"))||[1],l=a.get("N"),u=[];for(let f=0,g=s.length;f<g;++f)u.push(o[f]-s[f]);const d=u.length;return function(g,x,b,m){const y=l===1?g[x]:g[x]**l;for(let v=0;v<d;++v)b[m+v]=s[v]+y*u[v]}}static constructStiched({xref:t,isEvalSupported:r,dict:a}){const s=toNumberArray(a.getArray("Domain"));if(!s)throw new FormatError("No domain");if(s.length/2!==1)throw new FormatError("Bad domain for stiched function");const l=[];for(const g of a.get("Functions"))l.push(this.parse({xref:t,isEvalSupported:r,fn:t.fetchIfRef(g)}));const u=toNumberArray(a.getArray("Bounds")),d=toNumberArray(a.getArray("Encode")),f=new Float32Array(1);return function(x,b,m,y){const w=function(z,X,W){return z>W?z=W:z<X&&(z=X),z}(x[b],s[0],s[1]),S=u.length;let C;for(C=0;C<S&&!(w<u[C]);++C);let E=s[0];C>0&&(E=u[C-1]);let T=s[1];C<u.length&&(T=u[C]);const _=d[2*C],R=d[2*C+1];f[0]=E===T?_:_+(w-E)*(R-_)/(T-E),l[C](f,0,m,y)}}static constructPostScript({xref:t,isEvalSupported:r,fn:a,dict:s}){const o=toNumberArray(s.getArray("Domain")),l=toNumberArray(s.getArray("Range"));if(!o)throw new FormatError("No domain.");if(!l)throw new FormatError("No range.");const u=new PostScriptLexer(a),f=new PostScriptParser(u).parse();if(r&&FeatureTest.isEvalSupported){const S=new PostScriptCompiler().compile(f,o,l);if(S)return new Function("src","srcOffset","dest","destOffset",S)}info("Unable to compile PS function");const g=l.length>>1,x=o.length>>1,b=new PostScriptEvaluator(f),m=Object.create(null);let v=2048*4;const w=new Float32Array(x);return function(C,E,T,_){let R,U,z="";const X=w;for(R=0;R<x;R++)U=C[E+R],X[R]=U,z+=U+"_";const W=m[z];if(W!==void 0){T.set(W,_);return}const Y=new Float32Array(g),se=b.execute(X),oe=se.length-g;for(R=0;R<g;R++){U=se[oe+R];let ue=l[R*2];U<ue?U=ue:(ue=l[R*2+1],U>ue&&(U=ue)),Y[R]=U}v>0&&(v--,m[z]=Y),T.set(Y,_)}}}function isPDFFunction(n){let t;if(n instanceof Dict)t=n;else if(n instanceof BaseStream)t=n.dict;else return!1;return t.has("FunctionType")}class PostScriptStack{static MAX_STACK_SIZE=100;constructor(t){this.stack=t?Array.from(t):[]}push(t){if(this.stack.length>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(t)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(t){if(this.stack.length+t>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const r=this.stack;for(let a=r.length-t,s=t-1;s>=0;s--,a++)r.push(r[a])}index(t){this.push(this.stack[this.stack.length-t-1])}roll(t,r){const a=this.stack,s=a.length-t,o=a.length-1,l=s+(r-Math.floor(r/t)*t);for(let u=s,d=o;u<d;u++,d--){const f=a[u];a[u]=a[d],a[d]=f}for(let u=s,d=l-1;u<d;u++,d--){const f=a[u];a[u]=a[d],a[d]=f}for(let u=l,d=o;u<d;u++,d--){const f=a[u];a[u]=a[d],a[d]=f}}}class PostScriptEvaluator{constructor(t){this.operators=t}execute(t){const r=new PostScriptStack(t);let a=0;const s=this.operators,o=s.length;let l,u,d;for(;a<o;){if(l=s[a++],typeof l=="number"){r.push(l);continue}switch(l){case"jz":d=r.pop(),u=r.pop(),u||(a=d);break;case"j":u=r.pop(),a=u;break;case"abs":u=r.pop(),r.push(Math.abs(u));break;case"add":d=r.pop(),u=r.pop(),r.push(u+d);break;case"and":d=r.pop(),u=r.pop(),typeof u=="boolean"&&typeof d=="boolean"?r.push(u&&d):r.push(u&d);break;case"atan":d=r.pop(),u=r.pop(),u=Math.atan2(u,d)/Math.PI*180,u<0&&(u+=360),r.push(u);break;case"bitshift":d=r.pop(),u=r.pop(),u>0?r.push(u<<d):r.push(u>>d);break;case"ceiling":u=r.pop(),r.push(Math.ceil(u));break;case"copy":u=r.pop(),r.copy(u);break;case"cos":u=r.pop(),r.push(Math.cos(u%360/180*Math.PI));break;case"cvi":u=r.pop()|0,r.push(u);break;case"cvr":break;case"div":d=r.pop(),u=r.pop(),r.push(u/d);break;case"dup":r.copy(1);break;case"eq":d=r.pop(),u=r.pop(),r.push(u===d);break;case"exch":r.roll(2,1);break;case"exp":d=r.pop(),u=r.pop(),r.push(u**d);break;case"false":r.push(!1);break;case"floor":u=r.pop(),r.push(Math.floor(u));break;case"ge":d=r.pop(),u=r.pop(),r.push(u>=d);break;case"gt":d=r.pop(),u=r.pop(),r.push(u>d);break;case"idiv":d=r.pop(),u=r.pop(),r.push(u/d|0);break;case"index":u=r.pop(),r.index(u);break;case"le":d=r.pop(),u=r.pop(),r.push(u<=d);break;case"ln":u=r.pop(),r.push(Math.log(u));break;case"log":u=r.pop(),r.push(Math.log10(u));break;case"lt":d=r.pop(),u=r.pop(),r.push(u<d);break;case"mod":d=r.pop(),u=r.pop(),r.push(u%d);break;case"mul":d=r.pop(),u=r.pop(),r.push(u*d);break;case"ne":d=r.pop(),u=r.pop(),r.push(u!==d);break;case"neg":u=r.pop(),r.push(-u);break;case"not":u=r.pop(),typeof u=="boolean"?r.push(!u):r.push(~u);break;case"or":d=r.pop(),u=r.pop(),typeof u=="boolean"&&typeof d=="boolean"?r.push(u||d):r.push(u|d);break;case"pop":r.pop();break;case"roll":d=r.pop(),u=r.pop(),r.roll(u,d);break;case"round":u=r.pop(),r.push(Math.round(u));break;case"sin":u=r.pop(),r.push(Math.sin(u%360/180*Math.PI));break;case"sqrt":u=r.pop(),r.push(Math.sqrt(u));break;case"sub":d=r.pop(),u=r.pop(),r.push(u-d);break;case"true":r.push(!0);break;case"truncate":u=r.pop(),u=u<0?Math.ceil(u):Math.floor(u),r.push(u);break;case"xor":d=r.pop(),u=r.pop(),typeof u=="boolean"&&typeof d=="boolean"?r.push(u!==d):r.push(u^d);break;default:throw new FormatError(`Unknown operator ${l}`)}}return r.stack}}class AstNode{constructor(t){this.type=t}visit(t){unreachable("abstract method")}}class AstArgument extends AstNode{constructor(t,r,a){super("args"),this.index=t,this.min=r,this.max=a}visit(t){t.visitArgument(this)}}class AstLiteral extends AstNode{constructor(t){super("literal"),this.number=t,this.min=t,this.max=t}visit(t){t.visitLiteral(this)}}class AstBinaryOperation extends AstNode{constructor(t,r,a,s,o){super("binary"),this.op=t,this.arg1=r,this.arg2=a,this.min=s,this.max=o}visit(t){t.visitBinaryOperation(this)}}class AstMin extends AstNode{constructor(t,r){super("max"),this.arg=t,this.min=t.min,this.max=r}visit(t){t.visitMin(this)}}class AstVariable extends AstNode{constructor(t,r,a){super("var"),this.index=t,this.min=r,this.max=a}visit(t){t.visitVariable(this)}}class AstVariableDefinition extends AstNode{constructor(t,r){super("definition"),this.variable=t,this.arg=r}visit(t){t.visitVariableDefinition(this)}}class ExpressionBuilderVisitor{constructor(){this.parts=[]}visitArgument(t){this.parts.push("Math.max(",t.min,", Math.min(",t.max,", src[srcOffset + ",t.index,"]))")}visitVariable(t){this.parts.push("v",t.index)}visitLiteral(t){this.parts.push(t.number)}visitBinaryOperation(t){this.parts.push("("),t.arg1.visit(this),this.parts.push(" ",t.op," "),t.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(t){this.parts.push("var "),t.variable.visit(this),this.parts.push(" = "),t.arg.visit(this),this.parts.push(";")}visitMin(t){this.parts.push("Math.min("),t.arg.visit(this),this.parts.push(", ",t.max,")")}toString(){return this.parts.join("")}}function buildAddOperation(n,t){return t.type==="literal"&&t.number===0?n:n.type==="literal"&&n.number===0?t:t.type==="literal"&&n.type==="literal"?new AstLiteral(n.number+t.number):new AstBinaryOperation("+",n,t,n.min+t.min,n.max+t.max)}function buildMulOperation(n,t){if(t.type==="literal"){if(t.number===0)return new AstLiteral(0);if(t.number===1)return n;if(n.type==="literal")return new AstLiteral(n.number*t.number)}if(n.type==="literal"){if(n.number===0)return new AstLiteral(0);if(n.number===1)return t}const r=Math.min(n.min*t.min,n.min*t.max,n.max*t.min,n.max*t.max),a=Math.max(n.min*t.min,n.min*t.max,n.max*t.min,n.max*t.max);return new AstBinaryOperation("*",n,t,r,a)}function buildSubOperation(n,t){if(t.type==="literal"){if(t.number===0)return n;if(n.type==="literal")return new AstLiteral(n.number-t.number)}return t.type==="binary"&&t.op==="-"&&n.type==="literal"&&n.number===1&&t.arg1.type==="literal"&&t.arg1.number===1?t.arg2:new AstBinaryOperation("-",n,t,n.min-t.max,n.max-t.min)}function buildMinOperation(n,t){return n.min>=t?new AstLiteral(t):n.max<=t?n:new AstMin(n,t)}class PostScriptCompiler{compile(t,r,a){const s=[],o=[],l=r.length>>1,u=a.length>>1;let d=0,f,g,x,b,m,y,v,w;for(let C=0;C<l;C++)s.push(new AstArgument(C,r[C*2],r[C*2+1]));for(let C=0,E=t.length;C<E;C++){if(w=t[C],typeof w=="number"){s.push(new AstLiteral(w));continue}switch(w){case"add":if(s.length<2)return null;b=s.pop(),x=s.pop(),s.push(buildAddOperation(x,b));break;case"cvr":if(s.length<1)return null;break;case"mul":if(s.length<2)return null;b=s.pop(),x=s.pop(),s.push(buildMulOperation(x,b));break;case"sub":if(s.length<2)return null;b=s.pop(),x=s.pop(),s.push(buildSubOperation(x,b));break;case"exch":if(s.length<2)return null;m=s.pop(),y=s.pop(),s.push(m,y);break;case"pop":if(s.length<1)return null;s.pop();break;case"index":if(s.length<1||(x=s.pop(),x.type!=="literal")||(f=x.number,f<0||!Number.isInteger(f)||s.length<f))return null;if(m=s[s.length-f-1],m.type==="literal"||m.type==="var"){s.push(m);break}v=new AstVariable(d++,m.min,m.max),s[s.length-f-1]=v,s.push(v),o.push(new AstVariableDefinition(v,m));break;case"dup":if(s.length<1)return null;if(typeof t[C+1]=="number"&&t[C+2]==="gt"&&t[C+3]===C+7&&t[C+4]==="jz"&&t[C+5]==="pop"&&t[C+6]===t[C+1]){x=s.pop(),s.push(buildMinOperation(x,t[C+1])),C+=6;break}if(m=s.at(-1),m.type==="literal"||m.type==="var"){s.push(m);break}v=new AstVariable(d++,m.min,m.max),s[s.length-1]=v,s.push(v),o.push(new AstVariableDefinition(v,m));break;case"roll":if(s.length<2||(b=s.pop(),x=s.pop(),b.type!=="literal"||x.type!=="literal")||(g=b.number,f=x.number,f<=0||!Number.isInteger(f)||!Number.isInteger(g)||s.length<f))return null;if(g=(g%f+f)%f,g===0)break;s.push(...s.splice(s.length-f,f-g));break;default:return null}}if(s.length!==u)return null;const S=[];for(const C of o){const E=new ExpressionBuilderVisitor;C.visit(E),S.push(E.toString())}for(let C=0,E=s.length;C<E;C++){const T=s[C],_=new ExpressionBuilderVisitor;T.visit(_);const R=a[C*2],U=a[C*2+1],z=[_.toString()];R>T.min&&(z.unshift("Math.max(",R,", "),z.push(")")),U<T.max&&(z.unshift("Math.min(",U,", "),z.push(")")),z.unshift("dest[destOffset + ",C,"] = "),z.push(";"),S.push(z.join(""))}return S.join(`
`)}}const baseTypes=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],arabicTypes=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function isOdd(n){return(n&1)!==0}function isEven(n){return(n&1)===0}function findUnequal(n,t,r){let a,s;for(a=t,s=n.length;a<s;++a)if(n[a]!==r)return a;return a}function setValues(n,t,r,a){for(let s=t;s<r;++s)n[s]=a}function reverseValues(n,t,r){for(let a=t,s=r-1;a<s;++a,--s){const o=n[a];n[a]=n[s],n[s]=o}}function createBidiText(n,t,r=!1){let a="ltr";return r?a="ttb":t||(a="rtl"),{str:n,dir:a}}const chars$2=[],types=[];function bidi(n,t=-1,r=!1){let a=!0;const s=n.length;if(s===0||r)return createBidiText(n,a,r);chars$2.length=s,types.length=s;let o=0,l,u;for(l=0;l<s;++l){chars$2[l]=n.charAt(l);const S=n.charCodeAt(l);let C="L";S<=255?C=baseTypes[S]:1424<=S&&S<=1524?C="R":1536<=S&&S<=1791?(C=arabicTypes[S&255],C||warn("Bidi: invalid Unicode character "+S.toString(16))):(1792<=S&&S<=2220||64336<=S&&S<=65023||65136<=S&&S<=65279)&&(C="AL"),(C==="R"||C==="AL"||C==="AN")&&o++,types[l]=C}if(o===0)return a=!0,createBidiText(n,a);t===-1&&(o/s<.3&&s>4?(a=!0,t=0):(a=!1,t=1));const d=[];for(l=0;l<s;++l)d[l]=t;const f=isOdd(t)?"R":"L",g=f,x=g;let b=g;for(l=0;l<s;++l)types[l]==="NSM"?types[l]=b:b=types[l];b=g;let m;for(l=0;l<s;++l)m=types[l],m==="EN"?types[l]=b==="AL"?"AN":"EN":(m==="R"||m==="L"||m==="AL")&&(b=m);for(l=0;l<s;++l)m=types[l],m==="AL"&&(types[l]="R");for(l=1;l<s-1;++l)types[l]==="ES"&&types[l-1]==="EN"&&types[l+1]==="EN"&&(types[l]="EN"),types[l]==="CS"&&(types[l-1]==="EN"||types[l-1]==="AN")&&types[l+1]===types[l-1]&&(types[l]=types[l-1]);for(l=0;l<s;++l)if(types[l]==="EN"){for(let S=l-1;S>=0&&types[S]==="ET";--S)types[S]="EN";for(let S=l+1;S<s&&types[S]==="ET";++S)types[S]="EN"}for(l=0;l<s;++l)m=types[l],(m==="WS"||m==="ES"||m==="ET"||m==="CS")&&(types[l]="ON");for(b=g,l=0;l<s;++l)m=types[l],m==="EN"?types[l]=b==="L"?"L":"EN":(m==="R"||m==="L")&&(b=m);for(l=0;l<s;++l)if(types[l]==="ON"){const S=findUnequal(types,l+1,"ON");let C=g;l>0&&(C=types[l-1]);let E=x;S+1<s&&(E=types[S+1]),C!=="L"&&(C="R"),E!=="L"&&(E="R"),C===E&&setValues(types,l,S,C),l=S-1}for(l=0;l<s;++l)types[l]==="ON"&&(types[l]=f);for(l=0;l<s;++l)m=types[l],isEven(d[l])?m==="R"?d[l]+=1:(m==="AN"||m==="EN")&&(d[l]+=2):(m==="L"||m==="AN"||m==="EN")&&(d[l]+=1);let y=-1,v=99,w;for(l=0,u=d.length;l<u;++l)w=d[l],y<w&&(y=w),v>w&&isOdd(w)&&(v=w);for(w=y;w>=v;--w){let S=-1;for(l=0,u=d.length;l<u;++l)d[l]<w?S>=0&&(reverseValues(chars$2,S,l),S=-1):S<0&&(S=l);S>=0&&reverseValues(chars$2,S,d.length)}for(l=0,u=chars$2.length;l<u;++l){const S=chars$2[l];(S==="<"||S===">")&&(chars$2[l]="")}return createBidiText(chars$2.join(""),a)}const NORMAL={style:"normal",weight:"normal"},BOLD={style:"normal",weight:"bold"},ITALIC={style:"italic",weight:"normal"},BOLDITALIC={style:"italic",weight:"bold"},substitutionMap=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:NORMAL,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:BOLD,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:ITALIC,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:BOLDITALIC,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:NORMAL,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:BOLD,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:ITALIC,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:BOLDITALIC,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:NORMAL,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:BOLD,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:ITALIC,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:BOLDITALIC,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:NORMAL,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:BOLD,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:ITALIC,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:NORMAL,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:BOLD,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:ITALIC,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:NORMAL}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),fontAliases=new Map([["Arial-Black","ArialBlack"]]);function getStyleToAppend(n){switch(n){case BOLD:return"Bold";case ITALIC:return"Italic";case BOLDITALIC:return"Bold Italic";default:if(n?.weight==="bold")return"Bold";if(n?.style==="italic")return"Italic"}return""}function generateFont({alias:n,local:t,path:r,fallback:a,style:s,ultimate:o},l,u,d=!0,f=!0,g=""){const x={style:null,ultimate:null};if(t){const b=g?` ${g}`:"";for(const m of t)l.push(`local(${m}${b})`)}if(n){const b=substitutionMap.get(n),m=g||getStyleToAppend(s);Object.assign(x,generateFont(b,l,u,d&&!a,f&&!r,m))}if(s&&(x.style=s),o&&(x.ultimate=o),d&&a){const b=substitutionMap.get(a),{ultimate:m}=generateFont(b,l,u,d,f&&!r,g);x.ultimate||=m}return f&&r&&u&&l.push(`url(${u}${r})`),x}function getFontSubstitution(n,t,r,a,s){a=normalizeFontName(a);const o=a;let l=n.get(o);if(l)return l;let u=substitutionMap.get(a);if(!u){for(const[v,w]of fontAliases)if(a.startsWith(v)){a=`${w}${a.substring(v.length)}`,u=substitutionMap.get(a);break}}let d=!1;u||(u=substitutionMap.get(s),d=!0);const f=`${t.getDocId()}_s${t.createFontId()}`;if(!u){if(!validateFontName(a))return n.set(o,null),null;const v=/bold/gi.test(a),w=/oblique|italic/gi.test(a),S=v&&w&&BOLDITALIC||v&&BOLD||w&&ITALIC||NORMAL;return l={css:f,guessFallback:!0,loadedName:f,baseFontName:a,src:`local(${a})`,style:S},n.set(o,l),l}const g=[];d&&validateFontName(a)&&g.push(`local(${a})`);const{style:x,ultimate:b}=generateFont(u,g,r),m=b===null,y=m?"":`,${b}`;return l={css:`${f}${y}`,guessFallback:m,loadedName:f,baseFontName:a,src:g.join(","),style:x},n.set(o,l),l}const MIN_IMAGE_DIM=2048,MAX_IMAGE_DIM=65537,MAX_ERROR=128;class ImageResizer{constructor(t,r){this._imgData=t,this._isMask=r}static needsToBeResized(t,r){if(t<=this._goodSquareLength&&r<=this._goodSquareLength)return!1;const{MAX_DIM:a}=this;if(t>a||r>a)return!0;const s=t*r;if(this._hasMaxArea)return s>this.MAX_AREA;if(s<this._goodSquareLength**2)return!1;if(this._areGoodDims(t,r))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(t*r))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,a,MAX_ERROR,0);const o=this.MAX_AREA=this._goodSquareLength**2;return s>o}static get MAX_DIM(){return shadow(this,"MAX_DIM",this._guessMax(MIN_IMAGE_DIM,MAX_IMAGE_DIM,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,shadow(this,"MAX_AREA",this._guessMax(ImageResizer._goodSquareLength,this.MAX_DIM,MAX_ERROR,0)**2)}static set MAX_AREA(t){t>=0&&(this._hasMaxArea=!0,shadow(this,"MAX_AREA",t))}static setMaxArea(t){this._hasMaxArea||(this.MAX_AREA=t>>2)}static _areGoodDims(t,r){try{const a=new OffscreenCanvas(t,r),s=a.getContext("2d");s.fillRect(0,0,1,1);const o=s.getImageData(0,0,1,1).data[3];return a.width=a.height=1,o!==0}catch{return!1}}static _guessMax(t,r,a,s){for(;t+a+1<r;){const o=Math.floor((t+r)/2),l=s||o;this._areGoodDims(o,l)?t=o:r=o}return t}static async createImage(t,r=!1){return new ImageResizer(t,r)._createImage()}async _createImage(){const t=this._encodeBMP(),r=new Blob([t.buffer],{type:"image/bmp"}),a=createImageBitmap(r),{MAX_AREA:s,MAX_DIM:o}=ImageResizer,{_imgData:l}=this,{width:u,height:d}=l,f=Math.max(u/o,d/o,Math.sqrt(u*d/s)),g=Math.max(f,2),x=Math.round(10*(f+1.25))/10/g,b=Math.floor(Math.log2(x)),m=new Array(b+2).fill(2);m[0]=g,m.splice(-1,1,x/(1<<b));let y=u,v=d,w=await a;for(const S of m){const C=y,E=v;y=Math.floor(y/S)-1,v=Math.floor(v/S)-1;const T=new OffscreenCanvas(y,v);T.getContext("2d").drawImage(w,0,0,C,E,0,0,y,v),w=T.transferToImageBitmap()}return l.data=null,l.bitmap=w,l.width=y,l.height=v,l}_encodeBMP(){const{width:t,height:r,kind:a}=this._imgData;let s=this._imgData.data,o,l=new Uint8Array(0),u=l,d=0;switch(a){case ImageKind.GRAYSCALE_1BPP:{o=1,l=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const v=t+7>>3,w=v+3&-4;if(v!==w){const S=new Uint8Array(w*r);let C=0;for(let E=0,T=r*v;E<T;E+=v,C+=w)S.set(s.subarray(E,E+v),C);s=S}break}case ImageKind.RGB_24BPP:{if(o=24,t&3){const v=3*t,w=v+3&-4,S=w-v,C=new Uint8Array(w*r);let E=0;for(let T=0,_=r*v;T<_;T+=v){const R=s.subarray(T,T+v);for(let U=0;U<v;U+=3)C[E++]=R[U+2],C[E++]=R[U+1],C[E++]=R[U];E+=S}s=C}else for(let v=0,w=s.length;v<w;v+=3){const S=s[v];s[v]=s[v+2],s[v+2]=S}break}case ImageKind.RGBA_32BPP:o=32,d=3,u=new Uint8Array(68);const y=new DataView(u.buffer);FeatureTest.isLittleEndian?(y.setUint32(0,255,!0),y.setUint32(4,65280,!0),y.setUint32(8,16711680,!0),y.setUint32(12,4278190080,!0)):(y.setUint32(0,4278190080,!0),y.setUint32(4,16711680,!0),y.setUint32(8,65280,!0),y.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let f=0;const g=40+u.length,x=14+g+l.length+s.length,b=new Uint8Array(x),m=new DataView(b.buffer);return m.setUint16(f,19778,!0),f+=2,m.setUint32(f,x,!0),f+=4,m.setUint32(f,0,!0),f+=4,m.setUint32(f,14+g+l.length,!0),f+=4,m.setUint32(f,g,!0),f+=4,m.setInt32(f,t,!0),f+=4,m.setInt32(f,-r,!0),f+=4,m.setUint16(f,1,!0),f+=2,m.setUint16(f,o,!0),f+=2,m.setUint32(f,d,!0),f+=4,m.setUint32(f,0,!0),f+=4,m.setInt32(f,0,!0),f+=4,m.setInt32(f,0,!0),f+=4,m.setUint32(f,l.length/4,!0),f+=4,m.setUint32(f,0,!0),f+=4,b.set(u,f),f+=u.length,b.set(l,f),f+=l.length,b.set(s,f),b}}ImageResizer._goodSquareLength=MIN_IMAGE_DIM;const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(t){this.h1=t?t&4294967295:SEED,this.h2=t?t&4294967295:SEED}update(t){let r,a;if(typeof t=="string"){r=new Uint8Array(t.length*2),a=0;for(let v=0,w=t.length;v<w;v++){const S=t.charCodeAt(v);S<=255?r[a++]=S:(r[a++]=S>>>8,r[a++]=S&255)}}else if(isArrayBuffer(t))r=t.slice(),a=r.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const s=a>>2,o=a-s*4,l=new Uint32Array(r.buffer,0,s);let u=0,d=0,f=this.h1,g=this.h2;const x=3432918353,b=461845907,m=x&MASK_LOW,y=b&MASK_LOW;for(let v=0;v<s;v++)v&1?(u=l[v],u=u*x&MASK_HIGH|u*m&MASK_LOW,u=u<<15|u>>>17,u=u*b&MASK_HIGH|u*y&MASK_LOW,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[v],d=d*x&MASK_HIGH|d*m&MASK_LOW,d=d<<15|d>>>17,d=d*b&MASK_HIGH|d*y&MASK_LOW,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,o){case 3:u^=r[s*4+2]<<16;case 2:u^=r[s*4+1]<<8;case 1:u^=r[s*4],u=u*x&MASK_HIGH|u*m&MASK_LOW,u=u<<15|u>>>17,u=u*b&MASK_HIGH|u*y&MASK_LOW,s&1?f^=u:g^=u}this.h1=f,this.h2=g}hexdigest(){let t=this.h1,r=this.h2;return t^=r>>>1,t=t*3981806797&MASK_HIGH|t*36045&MASK_LOW,r=r*4283543511&MASK_HIGH|((r<<16|t>>>16)*2950163797&MASK_HIGH)>>>16,t^=r>>>1,t=t*444984403&MASK_HIGH|t*60499&MASK_LOW,r=r*3301882366&MASK_HIGH|((r<<16|t>>>16)*3120437893&MASK_HIGH)>>>16,t^=r>>>1,(t>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}function addState(n,t,r,a,s){let o=n;for(let l=0,u=t.length-1;l<u;l++){const d=t[l];o=o[d]||=[]}o[t.at(-1)]={checkFn:r,iterateFn:a,processFn:s}}const InitialState=[];addState(InitialState,[OPS.save,OPS.transform,OPS.paintInlineImageXObject,OPS.restore],null,function(t,r){const a=t.fnArray,s=t.iCurr-3,o=(r-s)%4;switch(o){case 0:return a[r]===OPS.save;case 1:return a[r]===OPS.transform;case 2:return a[r]===OPS.paintInlineImageXObject;case 3:return a[r]===OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${o}`)},function(t,r){const u=t.fnArray,d=t.argsArray,f=t.iCurr,g=f-3,x=f-2,b=f-1,m=Math.min(Math.floor((r-g)/4),200);if(m<10)return r-(r-g)%4;let y=0;const v=[];let w=0,S=1,C=1;for(let z=0;z<m;z++){const X=d[x+(z<<2)],W=d[b+(z<<2)][0];S+W.width>1e3&&(y=Math.max(y,S),C+=w+2*1,S=0,w=0),v.push({transform:X,x:S,y:C,w:W.width,h:W.height}),S+=W.width+2*1,w=Math.max(w,W.height)}const E=Math.max(y,S)+1,T=C+w+1,_=new Uint8Array(E*T*4),R=E<<2;for(let z=0;z<m;z++){const X=d[b+(z<<2)][0].data,W=v[z].w<<2;let Y=0,se=v[z].x+v[z].y*E<<2;_.set(X.subarray(0,W),se-R);for(let oe=0,ue=v[z].h;oe<ue;oe++)_.set(X.subarray(Y,Y+W),se),Y+=W,se+=R;for(_.set(X.subarray(Y-W,Y),se);se>=0;)X[se-4]=X[se],X[se-3]=X[se+1],X[se-2]=X[se+2],X[se-1]=X[se+3],X[se+W]=X[se+W-4],X[se+W+1]=X[se+W-3],X[se+W+2]=X[se+W-2],X[se+W+3]=X[se+W-1],se-=R}const U={width:E,height:T};if(t.isOffscreenCanvasSupported){const z=new OffscreenCanvas(E,T);z.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(_.buffer),E,T),0,0),U.bitmap=z.transferToImageBitmap(),U.data=null}else U.kind=ImageKind.RGBA_32BPP,U.data=_;return u.splice(g,m*4,OPS.paintInlineImageXObjectGroup),d.splice(g,m*4,[U,v]),g+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageMaskXObject,OPS.restore],null,function(t,r){const a=t.fnArray,s=t.iCurr-3,o=(r-s)%4;switch(o){case 0:return a[r]===OPS.save;case 1:return a[r]===OPS.transform;case 2:return a[r]===OPS.paintImageMaskXObject;case 3:return a[r]===OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${o}`)},function(t,r){const l=t.fnArray,u=t.argsArray,d=t.iCurr,f=d-3,g=d-2,x=d-1;let b=Math.floor((r-f)/4);if(b<10)return r-(r-f)%4;let m=!1,y,v;const w=u[x][0],S=u[g][0],C=u[g][1],E=u[g][2],T=u[g][3];if(C===E){m=!0,y=g+4;let _=x+4;for(let R=1;R<b;R++,y+=4,_+=4)if(v=u[y],u[_][0]!==w||v[0]!==S||v[1]!==C||v[2]!==E||v[3]!==T){R<10?m=!1:b=R;break}}if(m){b=Math.min(b,1e3);const _=new Float32Array(b*2);y=g;for(let R=0;R<b;R++,y+=4)v=u[y],_[R<<1]=v[4],_[(R<<1)+1]=v[5];l.splice(f,b*4,OPS.paintImageMaskXObjectRepeat),u.splice(f,b*4,[w,S,C,E,T,_])}else{b=Math.min(b,100);const _=[];for(let R=0;R<b;R++){v=u[g+(R<<2)];const U=u[x+(R<<2)][0];_.push({data:U.data,width:U.width,height:U.height,interpolate:U.interpolate,count:U.count,transform:v})}l.splice(f,b*4,OPS.paintImageMaskXObjectGroup),u.splice(f,b*4,[_])}return f+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageXObject,OPS.restore],function(n){const t=n.argsArray,r=n.iCurr-2;return t[r][1]===0&&t[r][2]===0},function(t,r){const a=t.fnArray,s=t.argsArray,o=t.iCurr-3,l=(r-o)%4;switch(l){case 0:return a[r]===OPS.save;case 1:if(a[r]!==OPS.transform)return!1;const u=t.iCurr-2,d=s[u][0],f=s[u][3];return!(s[r][0]!==d||s[r][1]!==0||s[r][2]!==0||s[r][3]!==f);case 2:if(a[r]!==OPS.paintImageXObject)return!1;const g=t.iCurr-1,x=s[g][0];return s[r][0]===x;case 3:return a[r]===OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${l}`)},function(n,t){const s=n.fnArray,o=n.argsArray,l=n.iCurr,u=l-3,d=l-2,f=l-1,g=o[f][0],x=o[d][0],b=o[d][3],m=Math.min(Math.floor((t-u)/4),1e3);if(m<3)return t-(t-u)%4;const y=new Float32Array(m*2);let v=d;for(let S=0;S<m;S++,v+=4){const C=o[v];y[S<<1]=C[4],y[(S<<1)+1]=C[5]}const w=[g,x,b,y];return s.splice(u,m*4,OPS.paintImageXObjectRepeat),o.splice(u,m*4,w),u+1});addState(InitialState,[OPS.beginText,OPS.setFont,OPS.setTextMatrix,OPS.showText,OPS.endText],null,function(t,r){const a=t.fnArray,s=t.argsArray,o=t.iCurr-4,l=(r-o)%5;switch(l){case 0:return a[r]===OPS.beginText;case 1:return a[r]===OPS.setFont;case 2:return a[r]===OPS.setTextMatrix;case 3:if(a[r]!==OPS.showText)return!1;const u=t.iCurr-3,d=s[u][0],f=s[u][1];return!(s[r][0]!==d||s[r][1]!==f);case 4:return a[r]===OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${l}`)},function(n,t){const s=n.fnArray,o=n.argsArray,l=n.iCurr,u=l-4,d=l-3,f=l-2,g=l-1,x=l,b=o[d][0],m=o[d][1];let y=Math.min(Math.floor((t-u)/5),1e3);if(y<3)return t-(t-u)%5;let v=u;u>=4&&s[u-4]===s[d]&&s[u-3]===s[f]&&s[u-2]===s[g]&&s[u-1]===s[x]&&o[u-4][0]===b&&o[u-4][1]===m&&(y++,v-=5);let w=v+4;for(let S=1;S<y;S++)s.splice(w,3),o.splice(w,3),w+=2;return w+1});class NullOptimizer{constructor(t){this.queue=t}_optimize(){}push(t,r){this.queue.fnArray.push(t),this.queue.argsArray.push(r),this._optimize()}flush(){}reset(){}}class QueueOptimizer extends NullOptimizer{constructor(t){super(t),this.state=null,this.context={iCurr:0,fnArray:t.fnArray,argsArray:t.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(t){this.context.isOffscreenCanvasSupported=t}_optimize(){const t=this.queue.fnArray;let r=this.lastProcessed,a=t.length,s=this.state,o=this.match;if(!s&&!o&&r+1===a&&!InitialState[t[r]]){this.lastProcessed=a;return}const l=this.context;for(;r<a;){if(o){if((0,o.iterateFn)(l,r)){r++;continue}if(r=(0,o.processFn)(l,r+1),a=t.length,o=null,s=null,r>=a)break}if(s=(s||InitialState)[t[r]],!s||Array.isArray(s)){r++;continue}if(l.iCurr=r,r++,s.checkFn&&!(0,s.checkFn)(l)){s=null;continue}o=s,s=null}this.state=s,this.match=o,this.lastProcessed=r}flush(){for(;this.match;){const t=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,t),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class OperatorList{static CHUNK_SIZE=1e3;static CHUNK_SIZE_ABOUT=this.CHUNK_SIZE-5;constructor(t=0,r){this._streamSink=r,this.fnArray=[],this.argsArray=[],this.optimizer=r&&!(t&RenderingIntentFlag.OPLIST)?new QueueOptimizer(this):new NullOptimizer(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=r?null:Promise.resolve()}set isOffscreenCanvasSupported(t){this.optimizer.isOffscreenCanvasSupported=t}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(t,r){this.optimizer.push(t,r),this.weight++,this._streamSink&&(this.weight>=OperatorList.CHUNK_SIZE?this.flush():this.weight>=OperatorList.CHUNK_SIZE_ABOUT&&(t===OPS.restore||t===OPS.endText)&&this.flush())}addImageOps(t,r,a){a!==void 0&&this.addOp(OPS.beginMarkedContentProps,["OC",a]),this.addOp(t,r),a!==void 0&&this.addOp(OPS.endMarkedContent,[])}addDependency(t){this.dependencies.has(t)||(this.dependencies.add(t),this.addOp(OPS.dependency,[t]))}addDependencies(t){for(const r of t)this.addDependency(r)}addOpList(t){if(!(t instanceof OperatorList)){warn('addOpList - ignoring invalid "opList" parameter.');return}for(const r of t.dependencies)this.dependencies.add(r);for(let r=0,a=t.length;r<a;r++)this.addOp(t.fnArray[r],t.argsArray[r])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const t=[],{fnArray:r,argsArray:a,length:s}=this;for(let o=0;o<s;o++)switch(r[o]){case OPS.paintInlineImageXObject:case OPS.paintInlineImageXObjectGroup:case OPS.paintImageMaskXObject:const l=a[o][0];!l.cached&&l.data?.buffer instanceof ArrayBuffer&&t.push(l.data.buffer);break}return t}flush(t=!1,r=null){this.optimizer.flush();const a=this.length;this._totalLength+=a,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:t,separateAnnots:r,length:a},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}function decodeAndClamp(n,t,r,a){return n=t+n*r,n<0?n=0:n>a&&(n=a),n}function resizeImageMask(n,t,r,a,s,o){const l=s*o;let u;t<=8?u=new Uint8Array(l):t<=16?u=new Uint16Array(l):u=new Uint32Array(l);const d=r/s,f=a/o;let g,x,b,m=0,y;const v=new Uint16Array(s),w=r;for(g=0;g<s;g++)v[g]=Math.floor(g*d);for(g=0;g<o;g++)for(b=Math.floor(g*f)*w,x=0;x<s;x++)y=b+v[x],u[m++]=n[y];return u}let PDFImage$1=class Ve{constructor({xref:t,res:r,image:a,isInline:s=!1,smask:o=null,mask:l=null,isMask:u=!1,pdfFunctionFactory:d,localColorSpaceCache:f}){this.image=a;const g=a.dict,x=g.get("F","Filter");let b;if(x instanceof Name)b=x.name;else if(Array.isArray(x)){const w=t.fetchIfRef(x[0]);w instanceof Name&&(b=w.name)}switch(b){case"JPXDecode":const w=new JpxImage;w.parseImageProperties(a.stream),a.stream.reset(),a.width=w.width,a.height=w.height,a.bitsPerComponent=w.bitsPerComponent,a.numComps=w.componentsCount;break;case"JBIG2Decode":a.bitsPerComponent=1,a.numComps=1;break}let m=g.get("W","Width"),y=g.get("H","Height");if(Number.isInteger(a.width)&&a.width>0&&Number.isInteger(a.height)&&a.height>0&&(a.width!==m||a.height!==y)&&(warn("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),m=a.width,y=a.height),m<1||y<1)throw new FormatError(`Invalid image width: ${m} or height: ${y}`);this.width=m,this.height=y,this.interpolate=g.get("I","Interpolate"),this.imageMask=g.get("IM","ImageMask")||!1,this.matte=g.get("Matte")||!1;let v=a.bitsPerComponent;if(!v&&(v=g.get("BPC","BitsPerComponent"),!v))if(this.imageMask)v=1;else throw new FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=v,!this.imageMask){let w=g.getRaw("CS")||g.getRaw("ColorSpace");if(!w)switch(info("JPX images (which do not require color spaces)"),a.numComps){case 1:w=Name.get("DeviceGray");break;case 3:w=Name.get("DeviceRGB");break;case 4:w=Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${a.numComps} color components not supported.`)}this.colorSpace=ColorSpace$1.parse({cs:w,xref:t,resources:s?r:null,pdfFunctionFactory:d,localColorSpaceCache:f}),this.numComps=this.colorSpace.numComps}if(this.decode=g.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,v)||u&&!ColorSpace$1.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const w=(1<<v)-1;this.decodeCoefficients=[],this.decodeAddends=[];const S=this.colorSpace?.name==="Indexed";for(let C=0,E=0;C<this.decode.length;C+=2,++E){const T=this.decode[C],_=this.decode[C+1];this.decodeCoefficients[E]=S?(_-T)/w:_-T,this.decodeAddends[E]=S?T:w*T}}o?this.smask=new Ve({xref:t,res:r,image:o,isInline:s,pdfFunctionFactory:d,localColorSpaceCache:f}):l&&(l instanceof BaseStream?l.dict.get("IM","ImageMask")?this.mask=new Ve({xref:t,res:r,image:l,isInline:s,isMask:!0,pdfFunctionFactory:d,localColorSpaceCache:f}):warn("Ignoring /Mask in image without /ImageMask."):this.mask=l)}static async buildImage({xref:t,res:r,image:a,isInline:s=!1,pdfFunctionFactory:o,localColorSpaceCache:l}){const u=a;let d=null,f=null;const g=a.dict.get("SMask"),x=a.dict.get("Mask");return g?g instanceof BaseStream?d=g:warn("Unsupported /SMask format."):x&&(x instanceof BaseStream||Array.isArray(x)?f=x:warn("Unsupported /Mask format.")),new Ve({xref:t,res:r,image:u,isInline:s,smask:d,mask:f,pdfFunctionFactory:o,localColorSpaceCache:l})}static createRawMask({imgArray:t,width:r,height:a,imageIsFromDecodeStream:s,inverseDecode:o,interpolate:l}){const u=(r+7>>3)*a,d=t.byteLength,f=u===d;let g,x;if(s&&(!o||f)?g=t:o?(g=new Uint8Array(u),g.set(t),g.fill(255,d)):g=new Uint8Array(t),o)for(x=0;x<d;x++)g[x]^=255;return{data:g,width:r,height:a,interpolate:l}}static async createMask({imgArray:t,width:r,height:a,imageIsFromDecodeStream:s,inverseDecode:o,interpolate:l,isOffscreenCanvasSupported:u=!1}){const d=r===1&&a===1&&o===(t.length===0||!!(t[0]&128));if(d)return{isSingleOpaquePixel:d};if(u){if(ImageResizer.needsToBeResized(r,a)){const m=new Uint8ClampedArray(r*a*4);return convertBlackAndWhiteToRGBA({src:t,dest:m,width:r,height:a,nonBlackColor:0,inverseDecode:o}),ImageResizer.createImage({kind:ImageKind.RGBA_32BPP,data:m,width:r,height:a,interpolate:l})}const f=new OffscreenCanvas(r,a),g=f.getContext("2d"),x=g.createImageData(r,a);convertBlackAndWhiteToRGBA({src:t,dest:x.data,width:r,height:a,nonBlackColor:0,inverseDecode:o}),g.putImageData(x,0,0);const b=f.transferToImageBitmap();return{data:null,width:r,height:a,interpolate:l,bitmap:b}}return this.createRawMask({imgArray:t,width:r,height:a,inverseDecode:o,imageIsFromDecodeStream:s,interpolate:l})}get drawWidth(){return Math.max(this.width,this.smask?.width||0,this.mask?.width||0)}get drawHeight(){return Math.max(this.height,this.smask?.height||0,this.mask?.height||0)}decodeBuffer(t){const r=this.bpc,a=this.numComps,s=this.decodeAddends,o=this.decodeCoefficients,l=(1<<r)-1;let u,d;if(r===1){for(u=0,d=t.length;u<d;u++)t[u]=+!t[u];return}let f=0;for(u=0,d=this.width*this.height;u<d;u++)for(let g=0;g<a;g++)t[f]=decodeAndClamp(t[f],s[g],o[g],l),f++}getComponents(t){const r=this.bpc;if(r===8)return t;const a=this.width,s=this.height,o=this.numComps,l=a*s*o;let u=0,d;r<=8?d=new Uint8Array(l):r<=16?d=new Uint16Array(l):d=new Uint32Array(l);const f=a*o,g=(1<<r)-1;let x=0,b,m;if(r===1){let y,v,w;for(let S=0;S<s;S++){for(v=x+(f&-8),w=x+f;x<v;)m=t[u++],d[x]=m>>7&1,d[x+1]=m>>6&1,d[x+2]=m>>5&1,d[x+3]=m>>4&1,d[x+4]=m>>3&1,d[x+5]=m>>2&1,d[x+6]=m>>1&1,d[x+7]=m&1,x+=8;if(x<w)for(m=t[u++],y=128;x<w;)d[x++]=+!!(m&y),y>>=1}}else{let y=0;for(m=0,x=0,b=l;x<b;++x){for(x%f===0&&(m=0,y=0);y<r;)m=m<<8|t[u++],y+=8;const v=y-r;let w=m>>v;w<0?w=0:w>g&&(w=g),d[x]=w,m&=(1<<v)-1,y=v}}return d}fillOpacity(t,r,a,s,o){const l=this.smask,u=this.mask;let d,f,g,x,b,m;if(l)f=l.width,g=l.height,d=new Uint8ClampedArray(f*g),l.fillGrayBuffer(d),(f!==r||g!==a)&&(d=resizeImageMask(d,l.bpc,f,g,r,a));else if(u)if(u instanceof Ve){for(f=u.width,g=u.height,d=new Uint8ClampedArray(f*g),u.numComps=1,u.fillGrayBuffer(d),x=0,b=f*g;x<b;++x)d[x]=255-d[x];(f!==r||g!==a)&&(d=resizeImageMask(d,u.bpc,f,g,r,a))}else if(Array.isArray(u)){d=new Uint8ClampedArray(r*a);const y=this.numComps;for(x=0,b=r*a;x<b;++x){let v=0;const w=x*y;for(m=0;m<y;++m){const S=o[w+m],C=m*2;if(S<u[C]||S>u[C+1]){v=255;break}}d[x]=v}}else throw new FormatError("Unknown mask format.");if(d)for(x=0,m=3,b=r*s;x<b;++x,m+=4)t[m]=d[x];else for(x=0,m=3,b=r*s;x<b;++x,m+=4)t[m]=255}undoPreblend(t,r,a){const s=this.smask?.matte;if(!s)return;const o=this.colorSpace.getRgb(s,0),l=o[0],u=o[1],d=o[2],f=r*a*4;for(let g=0;g<f;g+=4){const x=t[g+3];if(x===0){t[g]=255,t[g+1]=255,t[g+2]=255;continue}const b=255/x;t[g]=(t[g]-l)*b+l,t[g+1]=(t[g+1]-u)*b+u,t[g+2]=(t[g+2]-d)*b+d}}async createImageData(t=!1,r=!1){const a=this.drawWidth,s=this.drawHeight,o={width:a,height:s,interpolate:this.interpolate,kind:0,data:null},l=this.numComps,u=this.width,d=this.height,f=this.bpc,g=u*l*f+7>>3,x=r&&ImageResizer.needsToBeResized(a,s);if(!t){let _;if(this.colorSpace.name==="DeviceGray"&&f===1?_=ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&f===8&&!this.needsDecode&&(_=ImageKind.RGB_24BPP),_&&!this.smask&&!this.mask&&a===u&&s===d){const R=this.getImageBytes(d*g,{});if(r)return x?ImageResizer.createImage({data:R,kind:_,width:a,height:s,interpolate:this.interpolate},this.needsDecode):this.createBitmap(_,u,d,R);if(o.kind=_,o.data=R,this.needsDecode){assert(_===ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const U=o.data;for(let z=0,X=U.length;z<X;z++)U[z]^=255}return o}if(this.image instanceof JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let R=d*g;if(r&&!x){let U=!1;switch(this.colorSpace.name){case"DeviceGray":R*=4,U=!0;break;case"DeviceRGB":R=R/3*4,U=!0;break;case"DeviceCMYK":U=!0;break}if(U){const z=this.getImageBytes(R,{drawWidth:a,drawHeight:s,forceRGBA:!0});return this.createBitmap(ImageKind.RGBA_32BPP,a,s,z)}}else switch(this.colorSpace.name){case"DeviceGray":R*=3;case"DeviceRGB":case"DeviceCMYK":return o.kind=ImageKind.RGB_24BPP,o.data=this.getImageBytes(R,{drawWidth:a,drawHeight:s,forceRGB:!0}),x?ImageResizer.createImage(o):o}}}const b=this.getImageBytes(d*g,{internal:!0}),m=0|b.length/g*s/d,y=this.getComponents(b);let v,w,S,C,E,T;if(r&&!x&&(S=new OffscreenCanvas(a,s),C=S.getContext("2d"),E=C.createImageData(a,s),T=E.data),o.kind=ImageKind.RGBA_32BPP,!t&&!this.smask&&!this.mask?(!r||x?(o.kind=ImageKind.RGB_24BPP,T=new Uint8ClampedArray(a*s*3),v=0):(new Uint32Array(T.buffer).fill(FeatureTest.isLittleEndian?4278190080:255),v=1),w=!1):((!r||x)&&(T=new Uint8ClampedArray(a*s*4)),v=1,w=!0,this.fillOpacity(T,a,s,m,y)),this.needsDecode&&this.decodeBuffer(y),this.colorSpace.fillRgb(T,u,d,a,s,m,f,y,v),w&&this.undoPreblend(T,a,m),r&&!x){C.putImageData(E,0,0);const _=S.transferToImageBitmap();return{data:null,width:a,height:s,bitmap:_,interpolate:this.interpolate}}return o.data=T,x?ImageResizer.createImage(o):o}fillGrayBuffer(t){const r=this.numComps;if(r!==1)throw new FormatError(`Reading gray scale from a color image: ${r}`);const a=this.width,s=this.height,o=this.bpc,l=a*r*o+7>>3,u=this.getImageBytes(s*l,{internal:!0}),d=this.getComponents(u);let f,g;if(o===1){if(g=a*s,this.needsDecode)for(f=0;f<g;++f)t[f]=d[f]-1&255;else for(f=0;f<g;++f)t[f]=-d[f]&255;return}this.needsDecode&&this.decodeBuffer(d),g=a*s;const x=255/((1<<o)-1);for(f=0;f<g;++f)t[f]=x*d[f]}createBitmap(t,r,a,s){const o=new OffscreenCanvas(r,a),l=o.getContext("2d");let u;t===ImageKind.RGBA_32BPP?u=new ImageData(s,r,a):(u=l.createImageData(r,a),convertToRGBA({kind:t,src:s,dest:new Uint32Array(u.data.buffer),width:r,height:a,inverseDecode:this.needsDecode})),l.putImageData(u,0,0);const d=o.transferToImageBitmap();return{data:null,width:r,height:a,bitmap:d,interpolate:this.interpolate}}getImageBytes(t,{drawWidth:r,drawHeight:a,forceRGBA:s=!1,forceRGB:o=!1,internal:l=!1}){this.image.reset(),this.image.drawWidth=r||this.width,this.image.drawHeight=a||this.height,this.image.forceRGBA=!!s,this.image.forceRGB=!!o;const u=this.image.getBytes(t);return l||this.image instanceof DecodeStream$1?u:(assert(u instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(u))}};const DefaultPartialEvaluatorOptions=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),PatternType={TILING:1,SHADING:2},TEXT_CHUNK_BATCH_SIZE=10,deferred=Promise.resolve();function normalizeBlendMode(n,t=!1){if(Array.isArray(n)){for(const r of n){const a=normalizeBlendMode(r,!0);if(a)return a}return warn(`Unsupported blend mode Array: ${n}`),"source-over"}if(!(n instanceof Name))return t?null:"source-over";switch(n.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return t?null:(warn(`Unsupported blend mode: ${n.name}`),"source-over")}function incrementCachedImageMaskCount(n){n.fn===OPS.paintImageMaskXObject&&n.args[0]?.count>0&&n.args[0].count++}class TimeSlotManager{static TIME_SLOT_DURATION_MS=20;static CHECK_TIME_EVERY=100;constructor(){this.reset()}check(){return++this.checked<TimeSlotManager.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+TimeSlotManager.TIME_SLOT_DURATION_MS,this.checked=0}}class PartialEvaluator{constructor({xref:t,handler:r,pageIndex:a,idFactory:s,fontCache:o,builtInCMapCache:l,standardFontDataCache:u,globalImageCache:d,systemFontCache:f,options:g=null}){this.xref=t,this.handler=r,this.pageIndex=a,this.idFactory=s,this.fontCache=o,this.builtInCMapCache=l,this.standardFontDataCache=u,this.globalImageCache=d,this.systemFontCache=f,this.options=g||DefaultPartialEvaluatorOptions,this.parsingType3Font=!1,this._regionalImageCache=new RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const t=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return shadow(this,"_pdfFunctionFactory",t)}clone(t=null){const r=Object.create(this);return r.options=Object.assign(Object.create(null),this.options,t),r}hasBlendModes(t,r){if(!(t instanceof Dict)||t.objId&&r.has(t.objId))return!1;const a=new RefSet(r);t.objId&&a.put(t.objId);const s=[t],o=this.xref;for(;s.length;){const l=s.shift(),u=l.get("ExtGState");if(u instanceof Dict)for(let f of u.getRawValues()){if(f instanceof Ref){if(a.has(f))continue;try{f=o.fetch(f)}catch(x){a.put(f),info(`hasBlendModes - ignoring ExtGState: "${x}".`);continue}}if(!(f instanceof Dict))continue;f.objId&&a.put(f.objId);const g=f.get("BM");if(g instanceof Name){if(g.name!=="Normal")return!0;continue}if(g!==void 0&&Array.isArray(g)){for(const x of g)if(x instanceof Name&&x.name!=="Normal")return!0}}const d=l.get("XObject");if(d instanceof Dict)for(let f of d.getRawValues()){if(f instanceof Ref){if(a.has(f))continue;try{f=o.fetch(f)}catch(x){a.put(f),info(`hasBlendModes - ignoring XObject: "${x}".`);continue}}if(!(f instanceof BaseStream))continue;f.dict.objId&&a.put(f.dict.objId);const g=f.dict.get("Resources");g instanceof Dict&&(g.objId&&a.has(g.objId)||(s.push(g),g.objId&&a.put(g.objId)))}}for(const l of a)r.put(l);return!1}async fetchBuiltInCMap(t){const r=this.builtInCMapCache.get(t);if(r)return r;let a;if(this.options.cMapUrl!==null){const s=`${this.options.cMapUrl}${t}.bcmap`,o=await fetch(s);if(!o.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${s}" with "${o.statusText}".`);a={cMapData:new Uint8Array(await o.arrayBuffer()),compressionType:CMapCompressionType.BINARY}}else a=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:t});return a.compressionType!==CMapCompressionType.NONE&&this.builtInCMapCache.set(t,a),a}async fetchStandardFontData(t){const r=this.standardFontDataCache.get(t);if(r)return new Stream$1(r);if(this.options.useSystemFonts&&t!=="Symbol"&&t!=="ZapfDingbats")return null;const a=getFontNameToFileMap(),s=a[t];let o;if(this.options.standardFontDataUrl!==null){const l=`${this.options.standardFontDataUrl}${s}`,u=await fetch(l);u.ok?o=new Uint8Array(await u.arrayBuffer()):warn(`fetchStandardFontData: failed to fetch file "${l}" with "${u.statusText}".`)}else try{o=await this.handler.sendWithPromise("FetchStandardFontData",{filename:s})}catch(l){warn(`fetchStandardFontData: failed to fetch file "${s}" with "${l}".`)}return o?(this.standardFontDataCache.set(t,o),new Stream$1(o)):null}async buildFormXObject(t,r,a,s,o,l,u){const d=r.dict,f=d.getArray("Matrix");let g=d.getArray("BBox");g=Array.isArray(g)&&g.length===4?Util.normalizeRect(g):null;let x,b;d.has("OC")&&(x=await this.parseMarkedContentProps(d.get("OC"),t)),x!==void 0&&s.addOp(OPS.beginMarkedContentProps,["OC",x]);const m=d.get("Group");if(m){b={matrix:f,bbox:g,smask:a,isolated:!1,knockout:!1};const v=m.get("S");let w=null;if(isName(v,"Transparency")&&(b.isolated=m.get("I")||!1,b.knockout=m.get("K")||!1,m.has("CS"))){const S=m.getRaw("CS"),C=ColorSpace$1.getCached(S,this.xref,u);C?w=C:w=await this.parseColorSpace({cs:S,resources:t,localColorSpaceCache:u})}a?.backdrop&&(w||=ColorSpace$1.singletons.rgb,a.backdrop=w.getRgb(a.backdrop,0)),s.addOp(OPS.beginGroup,[b])}const y=m?[f,null]:[f,g];return s.addOp(OPS.paintFormXObjectBegin,y),this.getOperatorList({stream:r,task:o,resources:d.get("Resources")||t,operatorList:s,initialState:l}).then(function(){s.addOp(OPS.paintFormXObjectEnd,[]),m&&s.addOp(OPS.endGroup,[b]),x!==void 0&&s.addOp(OPS.endMarkedContent,[])})}_sendImgData(t,r,a=!1){const s=r?[r.bitmap||r.data.buffer]:null;return this.parsingType3Font||a?this.handler.send("commonobj",[t,"Image",r],s):this.handler.send("obj",[t,this.pageIndex,"Image",r],s)}async buildPaintImageXObject({resources:t,image:r,isInline:a=!1,operatorList:s,cacheKey:o,localImageCache:l,localColorSpaceCache:u}){const d=r.dict,f=d.objId,g=d.get("W","Width"),x=d.get("H","Height");if(!(g&&typeof g=="number")||!(x&&typeof x=="number")){warn("Image dimensions are missing, or not numbers.");return}const b=this.options.maxImageSize;if(b!==-1&&g*x>b){const T="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){warn(T);return}throw new Error(T)}let m;d.has("OC")&&(m=await this.parseMarkedContentProps(d.get("OC"),t));const y=d.get("IM","ImageMask")||!1;let v,w;if(y){const T=d.get("I","Interpolate"),_=g+7>>3,R=r.getBytes(_*x),U=d.getArray("D","Decode");if(this.parsingType3Font){if(v=PDFImage$1.createRawMask({imgArray:R,width:g,height:x,imageIsFromDecodeStream:r instanceof DecodeStream$1,inverseDecode:U?.[0]>0,interpolate:T}),v.cached=!!o,w=[v],s.addImageOps(OPS.paintImageMaskXObject,w,m),o){const X={fn:OPS.paintImageMaskXObject,args:w,optionalContent:m};l.set(o,f,X),f&&this._regionalImageCache.set(null,f,X)}return}if(v=await PDFImage$1.createMask({imgArray:R,width:g,height:x,imageIsFromDecodeStream:r instanceof DecodeStream$1,inverseDecode:U?.[0]>0,interpolate:T,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),v.isSingleOpaquePixel){if(s.addImageOps(OPS.paintSolidColorImageMask,[],m),o){const X={fn:OPS.paintSolidColorImageMask,args:[],optionalContent:m};l.set(o,f,X),f&&this._regionalImageCache.set(null,f,X)}return}const z=`mask_${this.idFactory.createObjId()}`;if(s.addDependency(z),this._sendImgData(z,v),w=[{data:z,width:v.width,height:v.height,interpolate:v.interpolate,count:1}],s.addImageOps(OPS.paintImageMaskXObject,w,m),o){const X={fn:OPS.paintImageMaskXObject,args:w,optionalContent:m};l.set(o,f,X),f&&this._regionalImageCache.set(null,f,X)}return}const S=200;if(a&&!d.has("SMask")&&!d.has("Mask")&&g+x<S){v=await new PDFImage$1({xref:this.xref,res:t,image:r,isInline:a,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:u}).createImageData(!0,!1),s.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,s.addImageOps(OPS.paintInlineImageXObject,[v],m);return}let C=`img_${this.idFactory.createObjId()}`,E=!1;if(this.parsingType3Font?C=`${this.idFactory.getDocId()}_type3_${C}`:f&&(E=this.globalImageCache.shouldCache(f,this.pageIndex),E&&(C=`${this.idFactory.getDocId()}_${C}`)),s.addDependency(C),w=[C,g,x],PDFImage$1.buildImage({xref:this.xref,res:t,image:r,isInline:a,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:u}).then(async T=>{if(v=await T.createImageData(!1,this.options.isOffscreenCanvasSupported),o&&f&&E){const _=v.bitmap?v.width*v.height*4:v.data.length;this.globalImageCache.addByteSize(f,_)}return this._sendImgData(C,v,E)}).catch(T=>(warn(`Unable to decode image "${C}": "${T}".`),this._sendImgData(C,null,E))),s.addImageOps(OPS.paintImageXObject,w,m),o){const T={fn:OPS.paintImageXObject,args:w,optionalContent:m};l.set(o,f,T),f&&(this._regionalImageCache.set(null,f,T),E&&(assert(!a,"Cannot cache an inline image globally."),this.globalImageCache.setData(f,{objId:C,fn:OPS.paintImageXObject,args:w,optionalContent:m,byteSize:0})))}}handleSMask(t,r,a,s,o,l){const u=t.get("G"),d={subtype:t.get("S").name,backdrop:t.get("BC")},f=t.get("TR");if(isPDFFunction(f)){const g=this._pdfFunctionFactory.create(f),x=new Uint8Array(256),b=new Float32Array(1);for(let m=0;m<256;m++)b[0]=m/255,g(b,0,b,0),x[m]=b[0]*255|0;d.transferMap=x}return this.buildFormXObject(r,u,d,a,s,o.state.clone(),l)}handleTransferFunction(t){let r;if(Array.isArray(t))r=t;else if(isPDFFunction(t))r=[t];else return null;const a=[];let s=0,o=0;for(const l of r){const u=this.xref.fetchIfRef(l);if(s++,isName(u,"Identity")){a.push(null);continue}else if(!isPDFFunction(u))return null;const d=this._pdfFunctionFactory.create(u),f=new Uint8Array(256),g=new Float32Array(1);for(let x=0;x<256;x++)g[0]=x/255,d(g,0,g,0),f[x]=g[0]*255|0;a.push(f),o++}return!(s===1||s===4)||o===0?null:a}handleTilingType(t,r,a,s,o,l,u,d){const f=new OperatorList,g=Dict.merge({xref:this.xref,dictArray:[o.get("Resources"),a]});return this.getOperatorList({stream:s,task:u,resources:g,operatorList:f}).then(function(){const x=f.getIR(),b=getTilingPatternIR(x,o,r);l.addDependencies(f.dependencies),l.addOp(t,b),o.objId&&d.set(null,o.objId,{operatorListIR:x,dict:o})}).catch(x=>{if(!(x instanceof AbortException)){if(this.options.ignoreErrors){warn(`handleTilingType - ignoring pattern: "${x}".`);return}throw x}})}handleSetFont(t,r,a,s,o,l,u=null,d=null){const f=r?.[0]instanceof Name?r[0].name:null;return this.loadFont(f,a,t,u,d).then(g=>g.font.isType3Font?g.loadType3Data(this,t,o).then(function(){return s.addDependencies(g.type3Dependencies),g}).catch(x=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Type3 font load error: ${x}`),dict:g.font,evaluatorOptions:this.options})):g).then(g=>(l.font=g.font,g.send(this.handler),g.loadedName))}handleText(t,r){const a=r.font,s=a.charsToGlyphs(t);return a.data&&(r.textRenderingMode&TextRenderingMode$1.ADD_TO_PATH_FLAG||r.fillColorSpace.name==="Pattern"||a.disableFontFace||this.options.disableFontFace)&&PartialEvaluator.buildFontPaths(a,s,this.handler,this.options),s}ensureStateFont(t){if(t.font)return;const r=new FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){warn(`ensureStateFont: "${r}".`);return}throw r}async setGState({resources:t,gState:r,operatorList:a,cacheKey:s,task:o,stateManager:l,localGStateCache:u,localColorSpaceCache:d}){const f=r.objId;let g=!0;const x=[];let b=Promise.resolve();for(const m of r.getKeys()){const y=r.get(m);switch(m){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":x.push([m,y]);break;case"Font":g=!1,b=b.then(()=>this.handleSetFont(t,null,y[0],a,o,l.state).then(function(w){a.addDependency(w),x.push([m,[w,y[1]]])}));break;case"BM":x.push([m,normalizeBlendMode(y)]);break;case"SMask":if(isName(y,"None")){x.push([m,!1]);break}y instanceof Dict?(g=!1,b=b.then(()=>this.handleSMask(y,t,a,o,l,d)),x.push([m,!0])):warn("Unsupported SMask type");break;case"TR":const v=this.handleTransferFunction(y);x.push([m,v]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":info("graphic state operator "+m);break;default:info("Unknown graphic state operator "+m);break}}return b.then(function(){x.length>0&&a.addOp(OPS.setGState,[x]),g&&u.set(s,f,x)})}loadFont(t,r,a,s=null,o=null){const l=async()=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Font "${t}" is not available.`),dict:r,evaluatorOptions:this.options});let u;if(r)r instanceof Ref&&(u=r);else{const y=a.get("Font");y&&(u=y.getRaw(t))}if(u){if(this.parsingType3Font&&this.type3FontRefs.has(u))return l();if(this.fontCache.has(u))return this.fontCache.get(u);r=this.xref.fetchIfRef(u)}if(!(r instanceof Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return warn(`Font "${t}" is not available.`),l();warn(`Font "${t}" is not available -- attempting to fallback to a default font.`),r=s||PartialEvaluator.fallbackFontDict}if(r.cacheKey&&this.fontCache.has(r.cacheKey))return this.fontCache.get(r.cacheKey);const d=new PromiseCapability;let f;try{f=this.preEvaluateFont(r),f.cssFontInfo=o}catch(y){return warn(`loadFont - preEvaluateFont failed: "${y}".`),l()}const{descriptor:g,hash:x}=f,b=u instanceof Ref;let m;if(x&&g instanceof Dict){const y=g.fontAliases||=Object.create(null);if(y[x]){const v=y[x].aliasRef;if(b&&v&&this.fontCache.has(v))return this.fontCache.putAlias(u,v),this.fontCache.get(u)}else y[x]={fontID:this.idFactory.createFontId()};b&&(y[x].aliasRef=u),m=y[x].fontID}else m=this.idFactory.createFontId();return assert(m?.startsWith("f"),'The "fontID" must be (correctly) defined.'),b?this.fontCache.put(u,d.promise):(r.cacheKey=`cacheKey_${m}`,this.fontCache.put(r.cacheKey,d.promise)),r.loadedName=`${this.idFactory.getDocId()}_${m}`,this.translateFont(f).then(y=>{d.resolve(new TranslatedFont({loadedName:r.loadedName,font:y,dict:r,evaluatorOptions:this.options}))}).catch(y=>{warn(`loadFont - translateFont failed: "${y}".`),d.resolve(new TranslatedFont({loadedName:r.loadedName,font:new ErrorFont(y instanceof Error?y.message:y),dict:r,evaluatorOptions:this.options}))}),d.promise}buildPath(t,r,a,s=!1){const o=t.length-1;if(a||(a=[]),o<0||t.fnArray[o]!==OPS.constructPath){s&&(warn(`Encountered path operator "${r}" inside of a text object.`),t.addOp(OPS.save,null));let l;switch(r){case OPS.rectangle:const u=a[0]+a[2],d=a[1]+a[3];l=[Math.min(a[0],u),Math.max(a[0],u),Math.min(a[1],d),Math.max(a[1],d)];break;case OPS.moveTo:case OPS.lineTo:l=[a[0],a[0],a[1],a[1]];break;default:l=[1/0,-1/0,1/0,-1/0];break}t.addOp(OPS.constructPath,[[r],a,l]),s&&t.addOp(OPS.restore,null)}else{const l=t.argsArray[o];l[0].push(r),l[1].push(...a);const u=l[2];switch(r){case OPS.rectangle:const d=a[0]+a[2],f=a[1]+a[3];u[0]=Math.min(u[0],a[0],d),u[1]=Math.max(u[1],a[0],d),u[2]=Math.min(u[2],a[1],f),u[3]=Math.max(u[3],a[1],f);break;case OPS.moveTo:case OPS.lineTo:u[0]=Math.min(u[0],a[0]),u[1]=Math.max(u[1],a[0]),u[2]=Math.min(u[2],a[1]),u[3]=Math.max(u[3],a[1]);break}}}parseColorSpace({cs:t,resources:r,localColorSpaceCache:a}){return ColorSpace$1.parseAsync({cs:t,xref:this.xref,resources:r,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:a}).catch(s=>{if(s instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`parseColorSpace - ignoring ColorSpace: "${s}".`),null;throw s})}parseShading({shading:t,resources:r,localColorSpaceCache:a,localShadingPatternCache:s}){let o=s.get(t);if(!o){var l=Pattern.parseShading(t,this.xref,r,this._pdfFunctionFactory,a);const u=l.getIR();o=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(o=`${this.idFactory.getDocId()}_type3_${o}`),s.set(t,o),this.parsingType3Font?this.handler.send("commonobj",[o,"Pattern",u]):this.handler.send("obj",[o,this.pageIndex,"Pattern",u])}return o}handleColorN(t,r,a,s,o,l,u,d,f,g){const x=a.pop();if(x instanceof Name){const b=o.getRaw(x.name),m=b instanceof Ref&&f.getByRef(b);if(m)try{const v=s.base?s.base.getRgb(a,0):null,w=getTilingPatternIR(m.operatorListIR,m.dict,v);t.addOp(r,w);return}catch{}const y=this.xref.fetchIfRef(b);if(y){const v=y instanceof BaseStream?y.dict:y,w=v.get("PatternType");if(w===PatternType.TILING){const S=s.base?s.base.getRgb(a,0):null;return this.handleTilingType(r,S,l,y,v,t,u,f)}else if(w===PatternType.SHADING){const S=v.get("Shading"),C=v.getArray("Matrix"),E=this.parseShading({shading:S,resources:l,localColorSpaceCache:d,localShadingPatternCache:g});t.addOp(r,["Shading",E,C]);return}throw new FormatError(`Unknown PatternType: ${w}`)}}throw new FormatError(`Unknown PatternName: ${x}`)}_parseVisibilityExpression(t,r,a){if(++r>10){warn("Visibility expression is too deeply nested");return}const o=t.length,l=this.xref.fetchIfRef(t[0]);if(o<2||!(l instanceof Name)){warn("Invalid visibility expression");return}switch(l.name){case"And":case"Or":case"Not":a.push(l.name);break;default:warn(`Invalid operator ${l.name} in visibility expression`);return}for(let u=1;u<o;u++){const d=t[u],f=this.xref.fetchIfRef(d);if(Array.isArray(f)){const g=[];a.push(g),this._parseVisibilityExpression(f,r,g)}else d instanceof Ref&&a.push(d.toString())}}async parseMarkedContentProps(t,r){let a;if(t instanceof Name)a=r.get("Properties").get(t.name);else if(t instanceof Dict)a=t;else throw new FormatError("Optional content properties malformed.");const s=a.get("Type")?.name;if(s==="OCG")return{type:s,id:a.objId};if(s==="OCMD"){const o=a.get("VE");if(Array.isArray(o)){const u=[];if(this._parseVisibilityExpression(o,0,u),u.length>0)return{type:"OCMD",expression:u}}const l=a.get("OCGs");if(Array.isArray(l)||l instanceof Dict){const u=[];if(Array.isArray(l))for(const d of l)u.push(d.toString());else u.push(l.objId);return{type:s,ids:u,policy:a.get("P")instanceof Name?a.get("P").name:null,expression:null}}else if(l instanceof Ref)return{type:s,id:l.toString()}}return null}getOperatorList({stream:t,task:r,resources:a,operatorList:s,initialState:o=null,fallbackFontDict:l=null}){if(a||=Dict.empty,o||=new EvalState,!s)throw new Error('getOperatorList: missing "operatorList" parameter');const u=this,d=this.xref;let f=!1;const g=new LocalImageCache,x=new LocalColorSpaceCache,b=new LocalGStateCache,m=new LocalTilingPatternCache,y=new Map,v=a.get("XObject")||Dict.empty,w=a.get("Pattern")||Dict.empty,S=new StateManager(o),C=new EvaluatorPreprocessor(t,d,S),E=new TimeSlotManager;function T(_){for(let R=0,U=C.savedStatesDepth;R<U;R++)s.addOp(OPS.restore,[])}return new Promise(function _(R,U){const z=function(pe){Promise.all([pe,s.ready]).then(function(){try{_(R,U)}catch(Te){U(Te)}},U)};r.ensureNotTerminated(),E.reset();const X={};let W,Y,se,oe,ue,Z;for(;!(W=E.check())&&(X.args=null,!!C.read(X));){let pe=X.args,Te=X.fn;switch(Te|0){case OPS.paintXObject:if(Z=pe[0]instanceof Name,ue=pe[0].name,Z){const de=g.getByName(ue);if(de){s.addImageOps(de.fn,de.args,de.optionalContent),incrementCachedImageMaskCount(de),pe=null;continue}}z(new Promise(function(de,ce){if(!Z)throw new FormatError("XObject must be referred to by name.");let M=v.getRaw(ue);if(M instanceof Ref){const k=g.getByRef(M)||u._regionalImageCache.getByRef(M);if(k){s.addImageOps(k.fn,k.args,k.optionalContent),incrementCachedImageMaskCount(k),de();return}const F=u.globalImageCache.getData(M,u.pageIndex);if(F){s.addDependency(F.objId),s.addImageOps(F.fn,F.args,F.optionalContent),de();return}M=d.fetch(M)}if(!(M instanceof BaseStream))throw new FormatError("XObject should be a stream");const j=M.dict.get("Subtype");if(!(j instanceof Name))throw new FormatError("XObject should have a Name subtype");if(j.name==="Form"){S.save(),u.buildFormXObject(a,M,null,s,r,S.state.clone(),x).then(function(){S.restore(),de()},ce);return}else if(j.name==="Image"){u.buildPaintImageXObject({resources:a,image:M,operatorList:s,cacheKey:ue,localImageCache:g,localColorSpaceCache:x}).then(de,ce);return}else if(j.name==="PS")info("Ignored XObject subtype PS");else throw new FormatError(`Unhandled XObject subtype ${j.name}`);de()}).catch(function(de){if(!(de instanceof AbortException)){if(u.options.ignoreErrors){warn(`getOperatorList - ignoring XObject: "${de}".`);return}throw de}}));return;case OPS.setFont:var te=pe[1];z(u.handleSetFont(a,pe,null,s,r,S.state,l).then(function(de){s.addDependency(de),s.addOp(OPS.setFont,[de,te])}));return;case OPS.beginText:f=!0;break;case OPS.endText:f=!1;break;case OPS.endInlineImage:var he=pe[0].cacheKey;if(he){const de=g.getByName(he);if(de){s.addImageOps(de.fn,de.args,de.optionalContent),incrementCachedImageMaskCount(de),pe=null;continue}}z(u.buildPaintImageXObject({resources:a,image:pe[0],isInline:!0,operatorList:s,cacheKey:he,localImageCache:g,localColorSpaceCache:x}));return;case OPS.showText:if(!S.state.font){u.ensureStateFont(S.state);continue}pe[0]=u.handleText(pe[0],S.state);break;case OPS.showSpacedText:if(!S.state.font){u.ensureStateFont(S.state);continue}var xe=[],ye=S.state;for(const de of pe[0])typeof de=="string"?xe.push(...u.handleText(de,ye)):typeof de=="number"&&xe.push(de);pe[0]=xe,Te=OPS.showText;break;case OPS.nextLineShowText:if(!S.state.font){u.ensureStateFont(S.state);continue}s.addOp(OPS.nextLine),pe[0]=u.handleText(pe[0],S.state),Te=OPS.showText;break;case OPS.nextLineSetSpacingShowText:if(!S.state.font){u.ensureStateFont(S.state);continue}s.addOp(OPS.nextLine),s.addOp(OPS.setWordSpacing,[pe.shift()]),s.addOp(OPS.setCharSpacing,[pe.shift()]),pe[0]=u.handleText(pe[0],S.state),Te=OPS.showText;break;case OPS.setTextRenderingMode:S.state.textRenderingMode=pe[0];break;case OPS.setFillColorSpace:{const de=ColorSpace$1.getCached(pe[0],d,x);if(de){S.state.fillColorSpace=de;continue}z(u.parseColorSpace({cs:pe[0],resources:a,localColorSpaceCache:x}).then(function(ce){ce&&(S.state.fillColorSpace=ce)}));return}case OPS.setStrokeColorSpace:{const de=ColorSpace$1.getCached(pe[0],d,x);if(de){S.state.strokeColorSpace=de;continue}z(u.parseColorSpace({cs:pe[0],resources:a,localColorSpaceCache:x}).then(function(ce){ce&&(S.state.strokeColorSpace=ce)}));return}case OPS.setFillColor:oe=S.state.fillColorSpace,pe=oe.getRgb(pe,0),Te=OPS.setFillRGBColor;break;case OPS.setStrokeColor:oe=S.state.strokeColorSpace,pe=oe.getRgb(pe,0),Te=OPS.setStrokeRGBColor;break;case OPS.setFillGray:S.state.fillColorSpace=ColorSpace$1.singletons.gray,pe=ColorSpace$1.singletons.gray.getRgb(pe,0),Te=OPS.setFillRGBColor;break;case OPS.setStrokeGray:S.state.strokeColorSpace=ColorSpace$1.singletons.gray,pe=ColorSpace$1.singletons.gray.getRgb(pe,0),Te=OPS.setStrokeRGBColor;break;case OPS.setFillCMYKColor:S.state.fillColorSpace=ColorSpace$1.singletons.cmyk,pe=ColorSpace$1.singletons.cmyk.getRgb(pe,0),Te=OPS.setFillRGBColor;break;case OPS.setStrokeCMYKColor:S.state.strokeColorSpace=ColorSpace$1.singletons.cmyk,pe=ColorSpace$1.singletons.cmyk.getRgb(pe,0),Te=OPS.setStrokeRGBColor;break;case OPS.setFillRGBColor:S.state.fillColorSpace=ColorSpace$1.singletons.rgb,pe=ColorSpace$1.singletons.rgb.getRgb(pe,0);break;case OPS.setStrokeRGBColor:S.state.strokeColorSpace=ColorSpace$1.singletons.rgb,pe=ColorSpace$1.singletons.rgb.getRgb(pe,0);break;case OPS.setFillColorN:if(oe=S.state.fillColorSpace,oe.name==="Pattern"){z(u.handleColorN(s,OPS.setFillColorN,pe,oe,w,a,r,x,m,y));return}pe=oe.getRgb(pe,0),Te=OPS.setFillRGBColor;break;case OPS.setStrokeColorN:if(oe=S.state.strokeColorSpace,oe.name==="Pattern"){z(u.handleColorN(s,OPS.setStrokeColorN,pe,oe,w,a,r,x,m,y));return}pe=oe.getRgb(pe,0),Te=OPS.setStrokeRGBColor;break;case OPS.shadingFill:var Ae=a.get("Shading");if(!Ae)throw new FormatError("No shading resource found");var we=Ae.get(pe[0].name);if(!we)throw new FormatError("No shading object found");pe=[u.parseShading({shading:we,resources:a,localColorSpaceCache:x,localShadingPatternCache:y})],Te=OPS.shadingFill;break;case OPS.setGState:if(Z=pe[0]instanceof Name,ue=pe[0].name,Z){const de=b.getByName(ue);if(de){de.length>0&&s.addOp(OPS.setGState,[de]),pe=null;continue}}z(new Promise(function(de,ce){if(!Z)throw new FormatError("GState must be referred to by name.");const M=a.get("ExtGState");if(!(M instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const j=M.get(ue);if(!(j instanceof Dict))throw new FormatError("GState should be a dictionary.");u.setGState({resources:a,gState:j,operatorList:s,cacheKey:ue,task:r,stateManager:S,localGStateCache:b,localColorSpaceCache:x}).then(de,ce)}).catch(function(de){if(!(de instanceof AbortException)){if(u.options.ignoreErrors){warn(`getOperatorList - ignoring ExtGState: "${de}".`);return}throw de}}));return;case OPS.moveTo:case OPS.lineTo:case OPS.curveTo:case OPS.curveTo2:case OPS.curveTo3:case OPS.closePath:case OPS.rectangle:u.buildPath(s,Te,pe,f);continue;case OPS.markPoint:case OPS.markPointProps:case OPS.beginCompat:case OPS.endCompat:continue;case OPS.beginMarkedContentProps:if(!(pe[0]instanceof Name)){warn(`Expected name for beginMarkedContentProps arg0=${pe[0]}`);continue}if(pe[0].name==="OC"){z(u.parseMarkedContentProps(pe[1],a).then(de=>{s.addOp(OPS.beginMarkedContentProps,["OC",de])}).catch(de=>{if(!(de instanceof AbortException)){if(u.options.ignoreErrors){warn(`getOperatorList - ignoring beginMarkedContentProps: "${de}".`);return}throw de}}));return}pe=[pe[0].name,pe[1]instanceof Dict?pe[1].get("MCID"):null];break;case OPS.beginMarkedContent:case OPS.endMarkedContent:default:if(pe!==null){for(Y=0,se=pe.length;Y<se&&!(pe[Y]instanceof Dict);Y++);if(Y<se){warn("getOperatorList - ignoring operator: "+Te);continue}}}s.addOp(Te,pe)}if(W){z(deferred);return}T(),R()}).catch(_=>{if(!(_ instanceof AbortException)){if(this.options.ignoreErrors){warn(`getOperatorList - ignoring errors during "${r.name}" task: "${_}".`),T();return}throw _}})}getTextContent({stream:t,task:r,resources:a,stateManager:s=null,includeMarkedContent:o=!1,sink:l,seenStyles:u=new Set,viewBox:d,markedContentData:f=null,disableNormalization:g=!1}){a||=Dict.empty,s||=new StateManager(new TextState),o&&(f||={level:0});const x={items:[],styles:Object.create(null)},b={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},m=[" "," "];let y=0;function v(F){const O=(y+1)%2,D=m[y]!==" "&&m[O]===" ";return m[y]=F,y=O,D}function w(){return m[y]!==" "&&m[(y+1)%2]===" "}function S(){m[0]=m[1]=" ",y=0}const C=.102,E=.03,T=-.2,_=.102,R=.6,U=.25,z=this,X=this.xref,W=[];let Y=null;const se=new LocalImageCache,oe=new LocalGStateCache,ue=new EvaluatorPreprocessor(t,X,s);let Z;function te({width:F=0,height:O=0,transform:D=b.prevTransform,fontName:N=b.fontName}){x.items.push({str:" ",dir:"ltr",width:F,height:O,transform:D,fontName:N,hasEOL:!1})}function he(){const F=Z.font,O=[Z.fontSize*Z.textHScale,0,0,Z.fontSize,0,Z.textRise];if(F.isType3Font&&(Z.fontSize<=1||F.isCharBBox)&&!isArrayEqual(Z.fontMatrix,FONT_IDENTITY_MATRIX)){const D=F.bbox[3]-F.bbox[1];D>0&&(O[3]*=D*Z.fontMatrix[3])}return Util.transform(Z.ctm,Util.transform(Z.textMatrix,O))}function xe(){if(b.initialized)return b;const{font:F,loadedName:O}=Z;if(!u.has(O)&&(u.add(O),x.styles[O]={fontFamily:F.fallbackName,ascent:F.ascent,descent:F.descent,vertical:F.vertical},z.options.fontExtraProperties&&F.systemFontInfo)){const $=x.styles[O];$.fontSubstitution=F.systemFontInfo.css,$.fontSubstitutionLoadedName=F.systemFontInfo.loadedName}b.fontName=O;const D=b.transform=he();F.vertical?(b.width=b.totalWidth=Math.hypot(D[0],D[1]),b.height=b.totalHeight=0,b.vertical=!0):(b.width=b.totalWidth=0,b.height=b.totalHeight=Math.hypot(D[2],D[3]),b.vertical=!1);const N=Math.hypot(Z.textLineMatrix[0],Z.textLineMatrix[1]),H=Math.hypot(Z.ctm[0],Z.ctm[1]);b.textAdvanceScale=H*N;const{fontSize:V}=Z;return b.trackingSpaceMin=V*C,b.notASpace=V*E,b.negativeSpaceMax=V*T,b.spaceInFlowMin=V*_,b.spaceInFlowMax=V*R,b.hasEOL=!1,b.initialized=!0,b}function ye(){if(!b.initialized)return;const F=Math.hypot(Z.textLineMatrix[0],Z.textLineMatrix[1]),D=Math.hypot(Z.ctm[0],Z.ctm[1])*F;D!==b.textAdvanceScale&&(b.vertical?(b.totalHeight+=b.height*b.textAdvanceScale,b.height=0):(b.totalWidth+=b.width*b.textAdvanceScale,b.width=0),b.textAdvanceScale=D)}function Ae(F){let O=F.str.join("");g||(O=normalizeUnicode(O));const D=bidi(O,-1,F.vertical);return{str:D.str,dir:D.dir,width:Math.abs(F.totalWidth),height:Math.abs(F.totalHeight),transform:F.transform,fontName:F.fontName,hasEOL:F.hasEOL}}function we(F,O){return z.loadFont(F,O,a).then(function(D){return D.font.isType3Font?D.loadType3Data(z,a,r).catch(function(){}).then(function(){return D}):D}).then(function(D){Z.loadedName=D.loadedName,Z.font=D.font,Z.fontMatrix=D.font.fontMatrix||FONT_IDENTITY_MATRIX})}function pe(F,O,D){const N=Math.hypot(D[0],D[1]);return[(D[0]*F+D[1]*O)/N,(D[2]*F+D[3]*O)/N]}function Te(F){const O=he();let D=O[4],N=O[5];if(Z.font?.vertical){if(D<d[0]||D>d[2]||N+F<d[1]||N>d[3])return!1}else if(D+F<d[0]||D>d[2]||N<d[1]||N>d[3])return!1;if(!Z.font||!b.prevTransform)return!0;let H=b.prevTransform[4],V=b.prevTransform[5];if(H===D&&V===N)return!0;let $=-1;switch(O[0]&&O[1]===0&&O[2]===0?$=O[0]>0?0:180:O[1]&&O[0]===0&&O[3]===0&&($=O[1]>0?90:270),$){case 0:break;case 90:[D,N]=[N,D],[H,V]=[V,H];break;case 180:[D,N,H,V]=[-D,-N,-H,-V];break;case 270:[D,N]=[-N,-D],[H,V]=[-V,-H];break;default:[D,N]=pe(D,N,O),[H,V]=pe(H,V,b.prevTransform)}if(Z.font.vertical){const ie=(V-N)/b.textAdvanceScale,ne=D-H,ee=Math.sign(b.height);return ie<ee*b.negativeSpaceMax?Math.abs(ne)>.5*b.width?(de(),!0):(S(),M(),!0):Math.abs(ne)>b.width?(de(),!0):(ie<=ee*b.notASpace&&S(),ie<=ee*b.trackingSpaceMin?w()?(S(),M(),te({height:Math.abs(ie)})):b.height+=ie:ce(ie,b.prevTransform,ee)||(b.str.length===0?(S(),te({height:Math.abs(ie)})):b.height+=ie),Math.abs(ne)>b.width*U&&M(),!0)}const J=(D-H)/b.textAdvanceScale,Q=N-V,re=Math.sign(b.width);return J<re*b.negativeSpaceMax?Math.abs(Q)>.5*b.height?(de(),!0):(S(),M(),!0):Math.abs(Q)>b.height?(de(),!0):(J<=re*b.notASpace&&S(),J<=re*b.trackingSpaceMin?w()?(S(),M(),te({width:Math.abs(J)})):b.width+=J:ce(J,b.prevTransform,re)||(b.str.length===0?(S(),te({width:Math.abs(J)})):b.width+=J),Math.abs(Q)>b.height*U&&M(),!0)}function ge({chars:F,extraSpacing:O}){const D=Z.font;if(!F){const V=Z.charSpacing+O;V&&(D.vertical?Z.translateTextMatrix(0,-V):Z.translateTextMatrix(V*Z.textHScale,0));return}const N=D.charsToGlyphs(F),H=Z.fontMatrix[0]*Z.fontSize;for(let V=0,$=N.length;V<$;V++){const J=N[V],{category:Q}=J;if(Q.isInvisibleFormatMark)continue;let re=Z.charSpacing+(V+1===$?O:0),ie=J.width;D.vertical&&(ie=J.vmetric?J.vmetric[0]:-ie);let ne=ie*H;if(Q.isWhitespace){D.vertical?(re+=-ne+Z.wordSpacing,Z.translateTextMatrix(0,-re)):(re+=ne+Z.wordSpacing,Z.translateTextMatrix(re*Z.textHScale,0)),v(" ");continue}if(!Q.isZeroWidthDiacritic&&!Te(ne)){D.vertical?Z.translateTextMatrix(0,ne):Z.translateTextMatrix(ne*Z.textHScale,0);continue}const ee=xe();Q.isZeroWidthDiacritic&&(ne=0),D.vertical?(Z.translateTextMatrix(0,ne),ne=Math.abs(ne),ee.height+=ne):(ne*=Z.textHScale,Z.translateTextMatrix(ne,0),ee.width+=ne),ne&&(ee.prevTransform=he());const le=J.unicode;v(le)&&ee.str.push(" "),ee.str.push(le),re&&(D.vertical?Z.translateTextMatrix(0,-re):Z.translateTextMatrix(re*Z.textHScale,0))}}function de(){S(),b.initialized?(b.hasEOL=!0,M()):x.items.push({str:"",dir:"ltr",width:0,height:0,transform:he(),fontName:Z.loadedName,hasEOL:!0})}function ce(F,O,D){if(D*b.spaceInFlowMin<=F&&F<=D*b.spaceInFlowMax)return b.initialized&&(S(),b.str.push(" ")),!1;const N=b.fontName;let H=0;return b.vertical&&(H=F,F=0),M(),S(),te({width:Math.abs(F),height:Math.abs(H),transform:O||he(),fontName:N}),!0}function M(){!b.initialized||!b.str||(b.vertical?b.totalHeight+=b.height*b.textAdvanceScale:b.totalWidth+=b.width*b.textAdvanceScale,x.items.push(Ae(b)),b.initialized=!1,b.str.length=0)}function j(F=!1){const O=x.items.length;O!==0&&(F&&O<TEXT_CHUNK_BATCH_SIZE||(l.enqueue(x,O),x.items=[],x.styles=Object.create(null)))}const k=new TimeSlotManager;return new Promise(function F(O,D){const N=function(ne){j(!0),Promise.all([ne,l.ready]).then(function(){try{F(O,D)}catch(ee){D(ee)}},D)};r.ensureNotTerminated(),k.reset();const H={};let V,$=[];for(;!(V=k.check())&&($.length=0,H.args=$,!!ue.read(H));){const ne=Z;Z=s.state;const ee=H.fn;switch($=H.args,ee|0){case OPS.setFont:var J=$[0].name,Q=$[1];if(Z.font&&J===Z.fontName&&Q===Z.fontSize)break;M(),Z.fontName=J,Z.fontSize=Q,N(we(J,null));return;case OPS.setTextRise:Z.textRise=$[0];break;case OPS.setHScale:Z.textHScale=$[0]/100;break;case OPS.setLeading:Z.leading=$[0];break;case OPS.moveText:Z.translateTextLineMatrix($[0],$[1]),Z.textMatrix=Z.textLineMatrix.slice();break;case OPS.setLeadingMoveText:Z.leading=-$[1],Z.translateTextLineMatrix($[0],$[1]),Z.textMatrix=Z.textLineMatrix.slice();break;case OPS.nextLine:Z.carriageReturn();break;case OPS.setTextMatrix:Z.setTextMatrix($[0],$[1],$[2],$[3],$[4],$[5]),Z.setTextLineMatrix($[0],$[1],$[2],$[3],$[4],$[5]),ye();break;case OPS.setCharSpacing:Z.charSpacing=$[0];break;case OPS.setWordSpacing:Z.wordSpacing=$[0];break;case OPS.beginText:Z.textMatrix=IDENTITY_MATRIX.slice(),Z.textLineMatrix=IDENTITY_MATRIX.slice();break;case OPS.showSpacedText:if(!s.state.font){z.ensureStateFont(s.state);continue}const le=(Z.font.vertical?1:-1)*Z.fontSize/1e3,be=$[0];for(let fe=0,Fe=be.length;fe<Fe;fe++){const K=be[fe];if(typeof K=="string")W.push(K);else if(typeof K=="number"&&K!==0){const L=W.join("");W.length=0,ge({chars:L,extraSpacing:K*le})}}if(W.length>0){const fe=W.join("");W.length=0,ge({chars:fe,extraSpacing:0})}break;case OPS.showText:if(!s.state.font){z.ensureStateFont(s.state);continue}ge({chars:$[0],extraSpacing:0});break;case OPS.nextLineShowText:if(!s.state.font){z.ensureStateFont(s.state);continue}Z.carriageReturn(),ge({chars:$[0],extraSpacing:0});break;case OPS.nextLineSetSpacingShowText:if(!s.state.font){z.ensureStateFont(s.state);continue}Z.wordSpacing=$[0],Z.charSpacing=$[1],Z.carriageReturn(),ge({chars:$[2],extraSpacing:0});break;case OPS.paintXObject:M(),Y||(Y=a.get("XObject")||Dict.empty);var re=$[0]instanceof Name,ie=$[0].name;if(re&&se.getByName(ie))break;N(new Promise(function(fe,Fe){if(!re)throw new FormatError("XObject must be referred to by name.");let K=Y.getRaw(ie);if(K instanceof Ref){if(se.getByRef(K)){fe();return}if(z.globalImageCache.getData(K,z.pageIndex)){fe();return}K=X.fetch(K)}if(!(K instanceof BaseStream))throw new FormatError("XObject should be a stream");const L=K.dict.get("Subtype");if(!(L instanceof Name))throw new FormatError("XObject should have a Name subtype");if(L.name!=="Form"){se.set(ie,K.dict.objId,!0),fe();return}const G=s.state.clone(),ae=new StateManager(G),me=K.dict.getArray("Matrix");Array.isArray(me)&&me.length===6&&ae.transform(me),j();const Se={enqueueInvoked:!1,enqueue(Ce,Ie){this.enqueueInvoked=!0,l.enqueue(Ce,Ie)},get desiredSize(){return l.desiredSize},get ready(){return l.ready}};z.getTextContent({stream:K,task:r,resources:K.dict.get("Resources")||a,stateManager:ae,includeMarkedContent:o,sink:Se,seenStyles:u,viewBox:d,markedContentData:f,disableNormalization:g}).then(function(){Se.enqueueInvoked||se.set(ie,K.dict.objId,!0),fe()},Fe)}).catch(function(fe){if(!(fe instanceof AbortException)){if(z.options.ignoreErrors){warn(`getTextContent - ignoring XObject: "${fe}".`);return}throw fe}}));return;case OPS.setGState:if(re=$[0]instanceof Name,ie=$[0].name,re&&oe.getByName(ie))break;N(new Promise(function(fe,Fe){if(!re)throw new FormatError("GState must be referred to by name.");const K=a.get("ExtGState");if(!(K instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const L=K.get(ie);if(!(L instanceof Dict))throw new FormatError("GState should be a dictionary.");const G=L.get("Font");if(!G){oe.set(ie,L.objId,!0),fe();return}M(),Z.fontName=null,Z.fontSize=G[1],we(null,G[0]).then(fe,Fe)}).catch(function(fe){if(!(fe instanceof AbortException)){if(z.options.ignoreErrors){warn(`getTextContent - ignoring ExtGState: "${fe}".`);return}throw fe}}));return;case OPS.beginMarkedContent:M(),o&&(f.level++,x.items.push({type:"beginMarkedContent",tag:$[0]instanceof Name?$[0].name:null}));break;case OPS.beginMarkedContentProps:if(M(),o){f.level++;let fe=null;$[1]instanceof Dict&&(fe=$[1].get("MCID")),x.items.push({type:"beginMarkedContentProps",id:Number.isInteger(fe)?`${z.idFactory.getPageObjId()}_mc${fe}`:null,tag:$[0]instanceof Name?$[0].name:null})}break;case OPS.endMarkedContent:if(M(),o){if(f.level===0)break;f.level--,x.items.push({type:"endMarkedContent"})}break;case OPS.restore:ne&&(ne.font!==Z.font||ne.fontSize!==Z.fontSize||ne.fontName!==Z.fontName)&&M();break}if(x.items.length>=l.desiredSize){V=!0;break}}if(V){N(deferred);return}M(),j(),O()}).catch(F=>{if(!(F instanceof AbortException)){if(this.options.ignoreErrors){warn(`getTextContent - ignoring errors during "${r.name}" task: "${F}".`),M(),j();return}throw F}})}extractDataStructures(t,r,a){const s=this.xref;let o;const l=this.readToUnicode(a.toUnicode||t.get("ToUnicode")||r.get("ToUnicode"));if(a.composite){const b=t.get("CIDSystemInfo");b instanceof Dict&&(a.cidSystemInfo={registry:stringToPDFString(b.get("Registry")),ordering:stringToPDFString(b.get("Ordering")),supplement:b.get("Supplement")});try{const m=t.get("CIDToGIDMap");m instanceof BaseStream&&(o=m.getBytes())}catch(m){if(!this.options.ignoreErrors)throw m;warn(`extractDataStructures - ignoring CIDToGIDMap data: "${m}".`)}}const u=[];let d=null,f;if(t.has("Encoding")){if(f=t.get("Encoding"),f instanceof Dict){if(d=f.get("BaseEncoding"),d=d instanceof Name?d.name:null,f.has("Differences")){const b=f.get("Differences");let m=0;for(const y of b){const v=s.fetchIfRef(y);if(typeof v=="number")m=v;else if(v instanceof Name)u[m++]=v.name;else throw new FormatError(`Invalid entry in 'Differences' array: ${v}`)}}}else if(f instanceof Name)d=f.name;else{const b="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new FormatError(b);warn(b)}d!=="MacRomanEncoding"&&d!=="MacExpertEncoding"&&d!=="WinAnsiEncoding"&&(d=null)}const g=!a.file||a.isInternalFont,x=getSymbolsFonts()[a.name];if(d&&g&&x&&(d=null),d)a.defaultEncoding=getEncoding(d);else{const b=!!(a.flags&FontFlags.Symbolic),m=!!(a.flags&FontFlags.Nonsymbolic);f=StandardEncoding,a.type==="TrueType"&&!m&&(f=WinAnsiEncoding),(b||x)&&(f=MacRomanEncoding,g&&(/Symbol/i.test(a.name)?f=SymbolSetEncoding:/Dingbats/i.test(a.name)?f=ZapfDingbatsEncoding:/Wingdings/i.test(a.name)&&(f=WinAnsiEncoding))),a.defaultEncoding=f}return a.differences=u,a.baseEncodingName=d,a.hasEncoding=!!d||u.length>0,a.dict=t,l.then(b=>(a.toUnicode=b,this.buildToUnicode(a))).then(b=>(a.toUnicode=b,o&&(a.cidToGidMap=this.readCidToGidMap(o,b)),a))}_simpleFontToUnicode(t,r=!1){assert(!t.composite,"Must be a simple font.");const a=[],s=t.defaultEncoding.slice(),o=t.baseEncodingName,l=t.differences;for(const d in l){const f=l[d];f!==".notdef"&&(s[d]=f)}const u=getGlyphsUnicode();for(const d in s){let f=s[d];if(f==="")continue;let g=u[f];if(g!==void 0){a[d]=String.fromCharCode(g);continue}let x=0;switch(f[0]){case"G":f.length===3&&(x=parseInt(f.substring(1),16));break;case"g":f.length===5&&(x=parseInt(f.substring(1),16));break;case"C":case"c":if(f.length>=3&&f.length<=4){const b=f.substring(1);if(r){x=parseInt(b,16);break}if(x=+b,Number.isNaN(x)&&Number.isInteger(parseInt(b,16)))return this._simpleFontToUnicode(t,!0)}break;case"u":g=getUnicodeForGlyph(f,u),g!==-1&&(x=g);break;default:switch(f){case"f_h":case"f_t":case"T_h":a[d]=f.replaceAll("_","");continue}break}if(x>0&&x<=1114111&&Number.isInteger(x)){if(o&&x===+d){const b=getEncoding(o);if(b&&(f=b[d])){a[d]=String.fromCharCode(u[f]);continue}}a[d]=String.fromCodePoint(x)}}return a}async buildToUnicode(t){if(t.hasIncludedToUnicodeMap=t.toUnicode?.length>0,t.hasIncludedToUnicodeMap)return!t.composite&&t.hasEncoding&&(t.fallbackToUnicode=this._simpleFontToUnicode(t)),t.toUnicode;if(!t.composite)return new ToUnicodeMap(this._simpleFontToUnicode(t));if(t.composite&&(t.cMap.builtInCMap&&!(t.cMap instanceof IdentityCMap)||t.cidSystemInfo.registry==="Adobe"&&(t.cidSystemInfo.ordering==="GB1"||t.cidSystemInfo.ordering==="CNS1"||t.cidSystemInfo.ordering==="Japan1"||t.cidSystemInfo.ordering==="Korea1"))){const{registry:r,ordering:a}=t.cidSystemInfo,s=Name.get(`${r}-${a}-UCS2`),o=await CMapFactory.create({encoding:s,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),l=[],u=[];return t.cMap.forEach(function(d,f){if(f>65535)throw new FormatError("Max size of CID is 65,535");const g=o.lookup(f);if(g){u.length=0;for(let x=0,b=g.length;x<b;x+=2)u.push((g.charCodeAt(x)<<8)+g.charCodeAt(x+1));l[d]=String.fromCharCode(...u)}}),new ToUnicodeMap(l)}return new IdentityToUnicodeMap(t.firstChar,t.lastChar)}readToUnicode(t){return t?t instanceof Name?CMapFactory.create({encoding:t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(r){return r instanceof IdentityCMap?new IdentityToUnicodeMap(0,65535):new ToUnicodeMap(r.getMap())}):t instanceof BaseStream?CMapFactory.create({encoding:t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(r){if(r instanceof IdentityCMap)return new IdentityToUnicodeMap(0,65535);const a=new Array(r.length);return r.forEach(function(s,o){if(typeof o=="number"){a[s]=String.fromCodePoint(o);return}const l=[];for(let u=0;u<o.length;u+=2){const d=o.charCodeAt(u)<<8|o.charCodeAt(u+1);if((d&63488)!==55296){l.push(d);continue}u+=2;const f=o.charCodeAt(u)<<8|o.charCodeAt(u+1);l.push(((d&1023)<<10)+(f&1023)+65536)}a[s]=String.fromCodePoint(...l)}),new ToUnicodeMap(a)},r=>{if(r instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`readToUnicode - ignoring ToUnicode data: "${r}".`),null;throw r}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(t,r){const a=[];for(let s=0,o=t.length;s<o;s++){const l=t[s++]<<8|t[s],u=s>>1;l===0&&!r.has(u)||(a[u]=l)}return a}extractWidths(t,r,a){const s=this.xref;let o=[],l=0;const u=[];let d,f,g,x,b,m,y,v;if(a.composite){if(l=t.has("DW")?t.get("DW"):1e3,v=t.get("W"),v)for(f=0,g=v.length;f<g;f++)if(m=s.fetchIfRef(v[f++]),y=s.fetchIfRef(v[f]),Array.isArray(y))for(x=0,b=y.length;x<b;x++)o[m++]=s.fetchIfRef(y[x]);else{const C=s.fetchIfRef(v[++f]);for(x=m;x<=y;x++)o[x]=C}if(a.vertical){let C=t.getArray("DW2")||[880,-1e3];if(d=[C[1],l*.5,C[0]],C=t.get("W2"),C)for(f=0,g=C.length;f<g;f++)if(m=s.fetchIfRef(C[f++]),y=s.fetchIfRef(C[f]),Array.isArray(y))for(x=0,b=y.length;x<b;x++)u[m++]=[s.fetchIfRef(y[x++]),s.fetchIfRef(y[x++]),s.fetchIfRef(y[x])];else{const E=[s.fetchIfRef(C[++f]),s.fetchIfRef(C[++f]),s.fetchIfRef(C[++f])];for(x=m;x<=y;x++)u[x]=E}}}else{const C=a.firstChar;if(v=t.get("Widths"),v){for(x=C,f=0,g=v.length;f<g;f++)o[x++]=s.fetchIfRef(v[f]);l=parseFloat(r.get("MissingWidth"))||0}else{const E=t.get("BaseFont");if(E instanceof Name){const T=this.getBaseFontMetrics(E.name);o=this.buildCharCodeToWidth(T.widths,a),l=T.defaultWidth}}}let w=!0,S=l;for(const C in o){const E=o[C];if(E){if(!S){S=E;continue}if(S!==E){w=!1;break}}}w?a.flags|=FontFlags.FixedPitch:a.flags&=~FontFlags.FixedPitch,a.defaultWidth=l,a.widths=o,a.defaultVMetrics=d,a.vmetrics=u}isSerifFont(t){const r=t.split("-")[0];return r in getSerifFonts()||/serif/gi.test(r)}getBaseFontMetrics(t){let r=0,a=Object.create(null),s=!1,l=getStdFontMap()[t]||t;const u=getMetrics();l in u||(l=this.isSerifFont(t)?"Times-Roman":"Helvetica");const d=u[l];return typeof d=="number"?(r=d,s=!0):a=d(),{defaultWidth:r,monospace:s,widths:a}}buildCharCodeToWidth(t,r){const a=Object.create(null),s=r.differences,o=r.defaultEncoding;for(let l=0;l<256;l++){if(l in s&&t[s[l]]){a[l]=t[s[l]];continue}if(l in o&&t[o[l]]){a[l]=t[o[l]];continue}}return a}preEvaluateFont(t){const r=t;let a=t.get("Subtype");if(!(a instanceof Name))throw new FormatError("invalid font Subtype");let s=!1,o,l;if(a.name==="Type0"){const g=t.get("DescendantFonts");if(!g)throw new FormatError("Descendant fonts are not specified");if(t=Array.isArray(g)?this.xref.fetchIfRef(g[0]):g,!(t instanceof Dict))throw new FormatError("Descendant font is not a dictionary.");if(a=t.get("Subtype"),!(a instanceof Name))throw new FormatError("invalid font Subtype");s=!0}const u=t.get("FirstChar")||0,d=t.get("LastChar")||(s?65535:255),f=t.get("FontDescriptor");if(f){o=new MurmurHash3_64;const g=r.getRaw("Encoding");if(g instanceof Name)o.update(g.name);else if(g instanceof Ref)o.update(g.toString());else if(g instanceof Dict){for(const b of g.getRawValues())if(b instanceof Name)o.update(b.name);else if(b instanceof Ref)o.update(b.toString());else if(Array.isArray(b)){const m=b.length,y=new Array(m);for(let v=0;v<m;v++){const w=b[v];w instanceof Name?y[v]=w.name:(typeof w=="number"||w instanceof Ref)&&(y[v]=w.toString())}o.update(y.join())}}if(o.update(`${u}-${d}`),l=t.get("ToUnicode")||r.get("ToUnicode"),l instanceof BaseStream){const b=l.str||l,m=b.buffer?new Uint8Array(b.buffer.buffer,0,b.bufferLength):new Uint8Array(b.bytes.buffer,b.start,b.end-b.start);o.update(m)}else l instanceof Name&&o.update(l.name);const x=t.get("Widths")||r.get("Widths");if(Array.isArray(x)){const b=[];for(const m of x)(typeof m=="number"||m instanceof Ref)&&b.push(m.toString());o.update(b.join())}if(s){o.update("compositeFont");const b=t.get("W")||r.get("W");if(Array.isArray(b)){const y=[];for(const v of b)if(typeof v=="number"||v instanceof Ref)y.push(v.toString());else if(Array.isArray(v)){const w=[];for(const S of v)(typeof S=="number"||S instanceof Ref)&&w.push(S.toString());y.push(`[${w.join()}]`)}o.update(y.join())}const m=t.getRaw("CIDToGIDMap")||r.getRaw("CIDToGIDMap");m instanceof Name?o.update(m.name):m instanceof Ref?o.update(m.toString()):m instanceof BaseStream&&o.update(m.peekBytes())}}return{descriptor:f,dict:t,baseDict:r,composite:s,type:a.name,firstChar:u,lastChar:d,toUnicode:l,hash:o?o.hexdigest():""}}async translateFont({descriptor:t,dict:r,baseDict:a,composite:s,type:o,firstChar:l,lastChar:u,toUnicode:d,cssFontInfo:f}){const g=o==="Type3";let x;if(!t)if(g)t=new Dict(null),t.set("FontName",Name.get(o)),t.set("FontBBox",r.getArray("FontBBox")||[0,0,0,0]);else{let z=r.get("BaseFont");if(!(z instanceof Name))throw new FormatError("Base font is not specified");z=z.name.replaceAll(/[,_]/g,"-");const X=this.getBaseFontMetrics(z),W=z.split("-")[0],Y=(this.isSerifFont(W)?FontFlags.Serif:0)|(X.monospace?FontFlags.FixedPitch:0)|(getSymbolsFonts()[W]?FontFlags.Symbolic:FontFlags.Nonsymbolic);x={type:o,name:z,loadedName:a.loadedName,systemFontInfo:null,widths:X.widths,defaultWidth:X.defaultWidth,isSimulatedFlags:!0,flags:Y,firstChar:l,lastChar:u,toUnicode:d,xHeight:0,capHeight:0,italicAngle:0,isType3Font:g};const se=r.get("Widths"),oe=getStandardFontName(z);let ue=null;return oe&&(ue=await this.fetchStandardFontData(oe),x.isInternalFont=!!ue),!x.isInternalFont&&this.options.useSystemFonts&&(x.systemFontInfo=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,z,oe)),this.extractDataStructures(r,r,x).then(Z=>{if(se){const te=[];let he=l;for(const xe of se)te[he++]=this.xref.fetchIfRef(xe);Z.widths=te}else Z.widths=this.buildCharCodeToWidth(X.widths,Z);return new Font$1(z,ue,Z)})}let b=t.get("FontName"),m=r.get("BaseFont");typeof b=="string"&&(b=Name.get(b)),typeof m=="string"&&(m=Name.get(m));const y=b?.name,v=m?.name;if(!g&&y!==v&&(info(`The FontDescriptor's FontName is "${y}" but should be the same as the Font's BaseFont "${v}".`),y&&v&&(v.startsWith(y)||!isKnownFontName(y)&&isKnownFontName(v))&&(b=null)),b||=m,!(b instanceof Name))throw new FormatError("invalid font name");let w,S,C,E,T;try{w=t.get("FontFile","FontFile2","FontFile3")}catch(z){if(!this.options.ignoreErrors)throw z;warn(`translateFont - fetching "${b.name}" font file: "${z}".`),w=new NullStream}let _=!1,R=null,U=null;if(w){if(w.dict){const z=w.dict.get("Subtype");z instanceof Name&&(S=z.name),C=w.dict.get("Length1"),E=w.dict.get("Length2"),T=w.dict.get("Length3")}}else if(f){const z=getXfaFontName(b.name);z&&(f.fontFamily=`${f.fontFamily}-PdfJS-XFA`,f.metrics=z.metrics||null,R=z.factors||null,w=await this.fetchStandardFontData(z.name),_=!!w,a=r=getXfaFontDict(b.name),s=!0)}else if(!g){const z=getStandardFontName(b.name);z&&(w=await this.fetchStandardFontData(z),_=!!w),!_&&this.options.useSystemFonts&&(U=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,b.name,z))}if(x={type:o,name:b.name,subtype:S,file:w,length1:C,length2:E,length3:T,isInternalFont:_,loadedName:a.loadedName,composite:s,fixedPitch:!1,fontMatrix:r.getArray("FontMatrix")||FONT_IDENTITY_MATRIX,firstChar:l,lastChar:u,toUnicode:d,bbox:t.getArray("FontBBox")||r.getArray("FontBBox"),ascent:t.get("Ascent"),descent:t.get("Descent"),xHeight:t.get("XHeight")||0,capHeight:t.get("CapHeight")||0,flags:t.get("Flags"),italicAngle:t.get("ItalicAngle")||0,isType3Font:g,cssFontInfo:f,scaleFactors:R,systemFontInfo:U},s){const z=a.get("Encoding");z instanceof Name&&(x.cidEncoding=z.name);const X=await CMapFactory.create({encoding:z,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});x.cMap=X,x.vertical=x.cMap.vertical}return this.extractDataStructures(r,a,x).then(z=>(this.extractWidths(r,t,z),new Font$1(b.name,w,z)))}static buildFontPaths(t,r,a,s){function o(l){const u=`${t.loadedName}_path_${l}`;try{if(t.renderer.hasBuiltPath(l))return;a.send("commonobj",[u,"FontPath",t.renderer.getPathJs(l)])}catch(d){if(s.ignoreErrors){warn(`buildFontPaths - ignoring ${u} glyph: "${d}".`);return}throw d}}for(const l of r){o(l.fontChar);const u=l.accent;u?.fontChar&&o(u.fontChar)}}static get fallbackFontDict(){const t=new Dict;return t.set("BaseFont",Name.get("Helvetica")),t.set("Type",Name.get("FallbackType")),t.set("Subtype",Name.get("FallbackType")),t.set("Encoding",Name.get("WinAnsiEncoding")),shadow(this,"fallbackFontDict",t)}}class TranslatedFont{constructor({loadedName:t,font:r,dict:a,evaluatorOptions:s}){this.loadedName=t,this.font=r,this.dict=a,this._evaluatorOptions=s||DefaultPartialEvaluatorOptions,this.type3Loaded=null,this.type3Dependencies=r.isType3Font?new Set:null,this.sent=!1}send(t){this.sent||(this.sent=!0,t.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(t){this.font.data&&(this.font.disableFontFace=!0,PartialEvaluator.buildFontPaths(this.font,this.font.glyphCacheValues,t,this._evaluatorOptions))}loadType3Data(t,r,a){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const s=t.clone({ignoreErrors:!1});s.parsingType3Font=!0;const o=new RefSet(t.type3FontRefs);this.dict.objId&&!o.has(this.dict.objId)&&o.put(this.dict.objId),s.type3FontRefs=o;const l=this.font,u=this.type3Dependencies;let d=Promise.resolve();const f=this.dict.get("CharProcs"),g=this.dict.get("Resources")||r,x=Object.create(null),b=Util.normalizeRect(l.bbox||[0,0,0,0]),m=b[2]-b[0],y=b[3]-b[1],v=Math.hypot(m,y);for(const w of f.getKeys())d=d.then(()=>{const S=f.get(w),C=new OperatorList;return s.getOperatorList({stream:S,task:a,resources:g,operatorList:C}).then(()=>{C.fnArray[0]===OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(C,v),x[w]=C.getIR();for(const E of C.dependencies)u.add(E)}).catch(function(E){warn(`Type3 font resource "${w}" is not available.`);const T=new OperatorList;x[w]=T.getIR()})});return this.type3Loaded=d.then(()=>{l.charProcOperatorList=x,this._bbox&&(l.isCharBBox=!0,l.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(t,r=NaN){const a=Util.normalizeRect(t.argsArray[0].slice(2)),s=a[2]-a[0],o=a[3]-a[1],l=Math.hypot(s,o);s===0||o===0?(t.fnArray.splice(0,1),t.argsArray.splice(0,1)):(r===0||Math.round(l/r)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],a[0]),this._bbox[1]=Math.min(this._bbox[1],a[1]),this._bbox[2]=Math.max(this._bbox[2],a[2]),this._bbox[3]=Math.max(this._bbox[3],a[3]));let u=0,d=t.length;for(;u<d;){switch(t.fnArray[u]){case OPS.setCharWidthAndBounds:break;case OPS.setStrokeColorSpace:case OPS.setFillColorSpace:case OPS.setStrokeColor:case OPS.setStrokeColorN:case OPS.setFillColor:case OPS.setFillColorN:case OPS.setStrokeGray:case OPS.setFillGray:case OPS.setStrokeRGBColor:case OPS.setFillRGBColor:case OPS.setStrokeCMYKColor:case OPS.setFillCMYKColor:case OPS.shadingFill:case OPS.setRenderingIntent:t.fnArray.splice(u,1),t.argsArray.splice(u,1),d--;continue;case OPS.setGState:const[f]=t.argsArray[u];let g=0,x=f.length;for(;g<x;){const[b]=f[g];switch(b){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":f.splice(g,1),x--;continue}g++}break}u++}}}class StateManager{constructor(t=new EvalState){this.state=t,this.stateStack=[]}save(){const t=this.state;this.stateStack.push(this.state),this.state=t.clone()}restore(){const t=this.stateStack.pop();t&&(this.state=t)}transform(t){this.state.ctm=Util.transform(this.state.ctm,t)}}class TextState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=FONT_IDENTITY_MATRIX,this.textMatrix=IDENTITY_MATRIX.slice(),this.textLineMatrix=IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(t,r,a,s,o,l){const u=this.textMatrix;u[0]=t,u[1]=r,u[2]=a,u[3]=s,u[4]=o,u[5]=l}setTextLineMatrix(t,r,a,s,o,l){const u=this.textLineMatrix;u[0]=t,u[1]=r,u[2]=a,u[3]=s,u[4]=o,u[5]=l}translateTextMatrix(t,r){const a=this.textMatrix;a[4]=a[0]*t+a[2]*r+a[4],a[5]=a[1]*t+a[3]*r+a[5]}translateTextLineMatrix(t,r){const a=this.textLineMatrix;a[4]=a[0]*t+a[2]*r+a[4],a[5]=a[1]*t+a[3]*r+a[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const t=Object.create(this);return t.textMatrix=this.textMatrix.slice(),t.textLineMatrix=this.textLineMatrix.slice(),t.fontMatrix=this.fontMatrix.slice(),t}}class EvalState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.font=null,this.textRenderingMode=TextRenderingMode$1.FILL,this.fillColorSpace=ColorSpace$1.singletons.gray,this.strokeColorSpace=ColorSpace$1.singletons.gray}clone(){return Object.create(this)}}class EvaluatorPreprocessor{static get opMap(){return shadow(this,"opMap",{w:{id:OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:OPS.setGState,numArgs:1,variableArgs:!1},q:{id:OPS.save,numArgs:0,variableArgs:!1},Q:{id:OPS.restore,numArgs:0,variableArgs:!1},cm:{id:OPS.transform,numArgs:6,variableArgs:!1},m:{id:OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:OPS.closePath,numArgs:0,variableArgs:!1},re:{id:OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:OPS.stroke,numArgs:0,variableArgs:!1},s:{id:OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:OPS.fill,numArgs:0,variableArgs:!1},F:{id:OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:OPS.endPath,numArgs:0,variableArgs:!1},W:{id:OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}static MAX_INVALID_PATH_OPS=10;constructor(t,r,a=new StateManager){this.parser=new Parser({lexer:new Lexer(t,EvaluatorPreprocessor.opMap),xref:r}),this.stateManager=a,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(t){let r=t.args;for(;;){const a=this.parser.getObj();if(a instanceof Cmd){const s=a.cmd,o=EvaluatorPreprocessor.opMap[s];if(!o){warn(`Unknown command "${s}".`);continue}const l=o.id,u=o.numArgs;let d=r!==null?r.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=l>=OPS.moveTo&&l<=OPS.endPath,o.variableArgs)d>u&&info(`Command ${s}: expected [0, ${u}] args, but received ${d} args.`);else{if(d!==u){const f=this.nonProcessedArgs;for(;d>u;)f.push(r.shift()),d--;for(;d<u&&f.length!==0;)r===null&&(r=[]),r.unshift(f.pop()),d++}if(d<u){const f=`command ${s}: expected ${u} args, but received ${d} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>EvaluatorPreprocessor.MAX_INVALID_PATH_OPS)throw new FormatError(`Invalid ${f}`);warn(`Skipping ${f}`),r!==null&&(r.length=0);continue}}return this.preprocessCommand(l,r),t.fn=l,t.args=r,!0}if(a===EOF)return!1;if(a!==null&&(r===null&&(r=[]),r.push(a),r.length>33))throw new FormatError("Too many arguments")}}preprocessCommand(t,r){switch(t|0){case OPS.save:this.stateManager.save();break;case OPS.restore:this.stateManager.restore();break;case OPS.transform:this.stateManager.transform(r);break}}}class DefaultAppearanceEvaluator extends EvaluatorPreprocessor{constructor(t){super(new StringStream(t))}parse(){const t={fn:0,args:[]},r={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;t.args.length=0,!!this.read(t);){if(this.savedStatesDepth!==0)continue;const{fn:a,args:s}=t;switch(a|0){case OPS.setFont:const[o,l]=s;o instanceof Name&&(r.fontName=o.name),typeof l=="number"&&l>0&&(r.fontSize=l);break;case OPS.setFillRGBColor:ColorSpace$1.singletons.rgb.getRgbItem(s,0,r.fontColor,0);break;case OPS.setFillGray:ColorSpace$1.singletons.gray.getRgbItem(s,0,r.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace$1.singletons.cmyk.getRgbItem(s,0,r.fontColor,0);break}}}catch(a){warn(`parseDefaultAppearance - ignoring errors: "${a}".`)}return r}}function parseDefaultAppearance(n){return new DefaultAppearanceEvaluator(n).parse()}class AppearanceStreamEvaluator extends EvaluatorPreprocessor{constructor(t,r,a){super(t),this.stream=t,this.evaluatorOptions=r,this.xref=a,this.resources=t.dict?.get("Resources")}parse(){const t={fn:0,args:[]};let r={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:ColorSpace$1.singletons.gray},a=!1;const s=[];try{for(;t.args.length=0,!(a||!this.read(t));){const{fn:o,args:l}=t;switch(o|0){case OPS.save:s.push({scaleFactor:r.scaleFactor,fontSize:r.fontSize,fontName:r.fontName,fontColor:r.fontColor.slice(),fillColorSpace:r.fillColorSpace});break;case OPS.restore:r=s.pop()||r;break;case OPS.setTextMatrix:r.scaleFactor*=Math.hypot(l[0],l[1]);break;case OPS.setFont:const[u,d]=l;u instanceof Name&&(r.fontName=u.name),typeof d=="number"&&d>0&&(r.fontSize=d*r.scaleFactor);break;case OPS.setFillColorSpace:r.fillColorSpace=ColorSpace$1.parse({cs:l[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case OPS.setFillColor:r.fillColorSpace.getRgbItem(l,0,r.fontColor,0);break;case OPS.setFillRGBColor:ColorSpace$1.singletons.rgb.getRgbItem(l,0,r.fontColor,0);break;case OPS.setFillGray:ColorSpace$1.singletons.gray.getRgbItem(l,0,r.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace$1.singletons.cmyk.getRgbItem(l,0,r.fontColor,0);break;case OPS.showText:case OPS.showSpacedText:case OPS.nextLineShowText:case OPS.nextLineSetSpacingShowText:a=!0;break}}}catch(o){warn(`parseAppearanceStream - ignoring errors: "${o}".`)}return this.stream.reset(),delete r.scaleFactor,delete r.fillColorSpace,r}get _localColorSpaceCache(){return shadow(this,"_localColorSpaceCache",new LocalColorSpaceCache)}get _pdfFunctionFactory(){const t=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return shadow(this,"_pdfFunctionFactory",t)}}function parseAppearanceStream(n,t,r){return new AppearanceStreamEvaluator(n,t,r).parse()}function getPdfColor(n,t){if(n[0]===n[1]&&n[1]===n[2]){const r=n[0]/255;return`${numberToString$1(r)} ${t?"g":"G"}`}return Array.from(n,r=>numberToString$1(r/255)).join(" ")+` ${t?"rg":"RG"}`}function createDefaultAppearance({fontSize:n,fontName:t,fontColor:r}){return`/${escapePDFName(t)} ${n} Tf ${getPdfColor(r,!0)}`}class FakeUnicodeFont{constructor(t,r){this.xref=t,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=r;const a=new OffscreenCanvas(1,1);this.ctxMeasure=a.getContext("2d"),FakeUnicodeFont._fontNameId||(FakeUnicodeFont._fontNameId=1),this.fontName=Name.get(`InvalidPDFjsFont_${r}_${FakeUnicodeFont._fontNameId++}`)}get toUnicodeRef(){if(!FakeUnicodeFont._toUnicodeRef){const t=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,r=FakeUnicodeFont.toUnicodeStream=new StringStream(t),a=new Dict(this.xref);r.dict=a,a.set("Length",t.length),FakeUnicodeFont._toUnicodeRef=this.xref.getNewPersistentRef(r)}return FakeUnicodeFont._toUnicodeRef}get fontDescriptorRef(){if(!FakeUnicodeFont._fontDescriptorRef){const t=new Dict(this.xref);t.set("Type",Name.get("FontDescriptor")),t.set("FontName",this.fontName),t.set("FontFamily","MyriadPro Regular"),t.set("FontBBox",[0,0,0,0]),t.set("FontStretch",Name.get("Normal")),t.set("FontWeight",400),t.set("ItalicAngle",0),FakeUnicodeFont._fontDescriptorRef=this.xref.getNewPersistentRef(t)}return FakeUnicodeFont._fontDescriptorRef}get descendantFontRef(){const t=new Dict(this.xref);t.set("BaseFont",this.fontName),t.set("Type",Name.get("Font")),t.set("Subtype",Name.get("CIDFontType0")),t.set("CIDToGIDMap",Name.get("Identity")),t.set("FirstChar",this.firstChar),t.set("LastChar",this.lastChar),t.set("FontDescriptor",this.fontDescriptorRef),t.set("DW",1e3);const r=[],a=[...this.widths.entries()].sort();let s=null,o=null;for(const[u,d]of a){if(!s){s=u,o=[d];continue}u===s+o.length?o.push(d):(r.push(s,o),s=u,o=[d])}s&&r.push(s,o),t.set("W",r);const l=new Dict(this.xref);return l.set("Ordering","Identity"),l.set("Registry","Adobe"),l.set("Supplement",0),t.set("CIDSystemInfo",l),this.xref.getNewPersistentRef(t)}get baseFontRef(){const t=new Dict(this.xref);return t.set("BaseFont",this.fontName),t.set("Type",Name.get("Font")),t.set("Subtype",Name.get("Type0")),t.set("Encoding",Name.get("Identity-H")),t.set("DescendantFonts",[this.descendantFontRef]),t.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(t)}get resources(){const t=new Dict(this.xref),r=new Dict(this.xref);return r.set(this.fontName.name,this.baseFontRef),t.set("Font",r),t}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(t){const r=this._createContext();for(const a of t.split(/\r\n?|\n/))for(const s of a.split("")){const o=s.charCodeAt(0);if(this.widths.has(o))continue;const l=r.measureText(s),u=Math.ceil(l.width);this.widths.set(o,u),this.firstChar=Math.min(o,this.firstChar),this.lastChar=Math.max(o,this.lastChar)}return this.resources}createAppearance(t,r,a,s,o,l){const u=this._createContext(),d=[];let f=-1/0;for(const oe of t.split(/\r\n?|\n/)){d.push(oe);const ue=u.measureText(oe).width;f=Math.max(f,ue);for(const Z of oe.split("")){const te=Z.charCodeAt(0);let he=this.widths.get(te);if(he===void 0){const xe=u.measureText(Z);he=Math.ceil(xe.width),this.widths.set(te,he),this.firstChar=Math.min(te,this.firstChar),this.lastChar=Math.max(te,this.lastChar)}}}f*=s/1e3;const[g,x,b,m]=r;let y=b-g,v=m-x;a%180!==0&&([y,v]=[v,y]);let w=1;f>y&&(w=y/f);let S=1;const C=LINE_FACTOR*s,E=LINE_DESCENT_FACTOR*s,T=C*d.length;T>v&&(S=v/T);const _=Math.min(w,S),R=s*_,U=["q",`0 0 ${numberToString$1(y)} ${numberToString$1(v)} re W n`,"BT",`1 0 0 1 0 ${numberToString$1(v+E)} Tm 0 Tc ${getPdfColor(o,!0)}`,`/${this.fontName.name} ${numberToString$1(R)} Tf`],{resources:z}=this;if(l=typeof l=="number"&&l>=0&&l<=1?l:1,l!==1){U.push("/R0 gs");const oe=new Dict(this.xref),ue=new Dict(this.xref);ue.set("ca",l),ue.set("CA",l),ue.set("Type",Name.get("ExtGState")),oe.set("R0",ue),z.set("ExtGState",oe)}const X=numberToString$1(C);for(const oe of d)U.push(`0 -${X} Td <${stringToUTF16HexString(oe)}> Tj`);U.push("ET","Q");const W=U.join(`
`),Y=new Dict(this.xref);if(Y.set("Subtype",Name.get("Form")),Y.set("Type",Name.get("XObject")),Y.set("BBox",[0,0,y,v]),Y.set("Length",W.length),Y.set("Resources",z),a){const oe=getRotationMatrix(a,y,v);Y.set("Matrix",oe)}const se=new StringStream(W);return se.dict=Y,se}}class NameOrNumberTree{constructor(t,r,a){this.constructor===NameOrNumberTree&&unreachable("Cannot initialize NameOrNumberTree."),this.root=t,this.xref=r,this._type=a}getAll(){const t=new Map;if(!this.root)return t;const r=this.xref,a=new RefSet;a.put(this.root);const s=[this.root];for(;s.length>0;){const o=r.fetchIfRef(s.shift());if(!(o instanceof Dict))continue;if(o.has("Kids")){const u=o.get("Kids");if(!Array.isArray(u))continue;for(const d of u){if(a.has(d))throw new FormatError(`Duplicate entry in "${this._type}" tree.`);s.push(d),a.put(d)}continue}const l=o.get(this._type);if(Array.isArray(l))for(let u=0,d=l.length;u<d;u+=2)t.set(r.fetchIfRef(l[u]),r.fetchIfRef(l[u+1]))}return t}get(t){if(!this.root)return null;const r=this.xref;let a=r.fetchIfRef(this.root),s=0;const o=10;for(;a.has("Kids");){if(++s>o)return warn(`Search depth limit reached for "${this._type}" tree.`),null;const u=a.get("Kids");if(!Array.isArray(u))return null;let d=0,f=u.length-1;for(;d<=f;){const g=d+f>>1,x=r.fetchIfRef(u[g]),b=x.get("Limits");if(t<r.fetchIfRef(b[0]))f=g-1;else if(t>r.fetchIfRef(b[1]))d=g+1;else{a=x;break}}if(d>f)return null}const l=a.get(this._type);if(Array.isArray(l)){let u=0,d=l.length-2;for(;u<=d;){const f=u+d>>1,g=f+(f&1),x=r.fetchIfRef(l[g]);if(t<x)d=g-2;else if(t>x)u=g+2;else return r.fetchIfRef(l[g+1])}}return null}}class NameTree extends NameOrNumberTree{constructor(t,r){super(t,r,"Names")}}class NumberTree extends NameOrNumberTree{constructor(t,r){super(t,r,"Nums")}}function clearGlobalCaches(){clearPatternCaches(),clearPrimitiveCaches(),clearUnicodeCaches()}function pickPlatformItem(n){return n.has("UF")?n.get("UF"):n.has("F")?n.get("F"):n.has("Unix")?n.get("Unix"):n.has("Mac")?n.get("Mac"):n.has("DOS")?n.get("DOS"):null}class FileSpec{constructor(t,r){t instanceof Dict&&(this.xref=r,this.root=t,t.has("FS")&&(this.fs=t.get("FS")),this.description=t.has("Desc")?stringToPDFString(t.get("Desc")):"",t.has("RF")&&warn("Related file specifications are not supported"),this.contentAvailable=!0,t.has("EF")||(this.contentAvailable=!1,warn("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const t=pickPlatformItem(this.root)||"unnamed";this._filename=stringToPDFString(t).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=pickPlatformItem(this.root.get("EF")));let t=null;if(this.contentRef){const r=this.xref.fetchIfRef(this.contentRef);r instanceof BaseStream?t=r.getBytes():warn("Embedded file specification points to non-existing/invalid content")}else warn("Embedded file specification does not have a content");return t}get serializable(){return{filename:this.filename,content:this.content}}}const XMLParserErrorCode={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function isWhitespace(n,t){const r=n[t];return r===" "||r===`
`||r==="\r"||r==="	"}function isWhitespaceString(n){for(let t=0,r=n.length;t<r;t++)if(!isWhitespace(n,t))return!1;return!0}class XMLParserBase{_resolveEntities(t){return t.replaceAll(/&([^;]+);/g,(r,a)=>{if(a.substring(0,2)==="#x")return String.fromCodePoint(parseInt(a.substring(2),16));if(a.substring(0,1)==="#")return String.fromCodePoint(parseInt(a.substring(1),10));switch(a){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(a)})}_parseContent(t,r){const a=[];let s=r;function o(){for(;s<t.length&&isWhitespace(t,s);)++s}for(;s<t.length&&!isWhitespace(t,s)&&t[s]!==">"&&t[s]!=="/";)++s;const l=t.substring(r,s);for(o();s<t.length&&t[s]!==">"&&t[s]!=="/"&&t[s]!=="?";){o();let u="",d="";for(;s<t.length&&!isWhitespace(t,s)&&t[s]!=="=";)u+=t[s],++s;if(o(),t[s]!=="=")return null;++s,o();const f=t[s];if(f!=='"'&&f!=="'")return null;const g=t.indexOf(f,++s);if(g<0)return null;d=t.substring(s,g),a.push({name:u,value:this._resolveEntities(d)}),s=g+1,o()}return{name:l,attributes:a,parsed:s-r}}_parseProcessingInstruction(t,r){let a=r;function s(){for(;a<t.length&&isWhitespace(t,a);)++a}for(;a<t.length&&!isWhitespace(t,a)&&t[a]!==">"&&t[a]!=="?"&&t[a]!=="/";)++a;const o=t.substring(r,a);s();const l=a;for(;a<t.length&&(t[a]!=="?"||t[a+1]!==">");)++a;const u=t.substring(l,a);return{name:o,value:u,parsed:a-r}}parseXml(t){let r=0;for(;r<t.length;){const a=t[r];let s=r;if(a==="<"){++s;const o=t[s];let l;switch(o){case"/":if(++s,l=t.indexOf(">",s),l<0){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onEndElement(t.substring(s,l)),s=l+1;break;case"?":++s;const u=this._parseProcessingInstruction(t,s);if(t.substring(s+u.parsed,s+u.parsed+2)!=="?>"){this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);return}this.onPi(u.name,u.value),s+=u.parsed+2;break;case"!":if(t.substring(s+1,s+3)==="--"){if(l=t.indexOf("-->",s+3),l<0){this.onError(XMLParserErrorCode.UnterminatedComment);return}this.onComment(t.substring(s+3,l)),s=l+3}else if(t.substring(s+1,s+8)==="[CDATA["){if(l=t.indexOf("]]>",s+8),l<0){this.onError(XMLParserErrorCode.UnterminatedCdat);return}this.onCdata(t.substring(s+8,l)),s=l+3}else if(t.substring(s+1,s+8)==="DOCTYPE"){const g=t.indexOf("[",s+8);let x=!1;if(l=t.indexOf(">",s+8),l<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}if(g>0&&l>g){if(l=t.indexOf("]>",s+8),l<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}x=!0}const b=t.substring(s+8,l+(x?1:0));this.onDoctype(b),s=l+(x?2:1)}else{this.onError(XMLParserErrorCode.MalformedElement);return}break;default:const d=this._parseContent(t,s);if(d===null){this.onError(XMLParserErrorCode.MalformedElement);return}let f=!1;if(t.substring(s+d.parsed,s+d.parsed+2)==="/>")f=!0;else if(t.substring(s+d.parsed,s+d.parsed+1)!==">"){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onBeginElement(d.name,d.attributes,f),s+=d.parsed+(f?2:1);break}}else{for(;s<t.length&&t[s]!=="<";)s++;const o=t.substring(r,s);this.onText(this._resolveEntities(o))}r=s}}onResolveEntity(t){return`&${t};`}onPi(t,r){}onComment(t){}onCdata(t){}onDoctype(t){}onText(t){}onBeginElement(t,r,a){}onEndElement(t){}onError(t){}}class SimpleDOMNode{constructor(t,r){this.nodeName=t,this.nodeValue=r,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes?.[0]}get nextSibling(){const t=this.parentNode.childNodes;if(!t)return;const r=t.indexOf(this);if(r!==-1)return t[r+1]}get textContent(){return this.childNodes?this.childNodes.map(function(t){return t.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes?.length>0}searchNode(t,r){if(r>=t.length)return this;const a=t[r];if(a.name.startsWith("#")&&r<t.length-1)return this.searchNode(t,r+1);const s=[];let o=this;for(;;){if(a.name===o.nodeName)if(a.pos===0){const l=o.searchNode(t,r+1);if(l!==null)return l}else{if(s.length===0)return null;{const[l]=s.pop();let u=0;for(const d of l.childNodes)if(a.name===d.nodeName){if(u===a.pos)return d.searchNode(t,r+1);u++}return o.searchNode(t,r+1)}}if(o.childNodes?.length>0)s.push([o,0]),o=o.childNodes[0];else{if(s.length===0)return null;for(;s.length!==0;){const[l,u]=s.pop(),d=u+1;if(d<l.childNodes.length){s.push([l,d]),o=l.childNodes[d];break}}if(s.length===0)return null}}}dump(t){if(this.nodeName==="#text"){t.push(encodeToXmlString(this.nodeValue));return}if(t.push(`<${this.nodeName}`),this.attributes)for(const r of this.attributes)t.push(` ${r.name}="${encodeToXmlString(r.value)}"`);if(this.hasChildNodes()){t.push(">");for(const r of this.childNodes)r.dump(t);t.push(`</${this.nodeName}>`)}else this.nodeValue?t.push(`>${encodeToXmlString(this.nodeValue)}</${this.nodeName}>`):t.push("/>")}}class SimpleXMLParser extends XMLParserBase{constructor({hasAttributes:t=!1,lowerCaseName:r=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=XMLParserErrorCode.NoError,this._hasAttributes=t,this._lowerCaseName=r}parseFromString(t){if(this._currentFragment=[],this._stack=[],this._errorCode=XMLParserErrorCode.NoError,this.parseXml(t),this._errorCode!==XMLParserErrorCode.NoError)return;const[r]=this._currentFragment;if(r)return{documentElement:r}}onText(t){if(isWhitespaceString(t))return;const r=new SimpleDOMNode("#text",t);this._currentFragment.push(r)}onCdata(t){const r=new SimpleDOMNode("#text",t);this._currentFragment.push(r)}onBeginElement(t,r,a){this._lowerCaseName&&(t=t.toLowerCase());const s=new SimpleDOMNode(t);s.childNodes=[],this._hasAttributes&&(s.attributes=r),this._currentFragment.push(s),!a&&(this._stack.push(this._currentFragment),this._currentFragment=s.childNodes)}onEndElement(t){this._currentFragment=this._stack.pop()||[];const r=this._currentFragment.at(-1);if(!r)return null;for(const a of r.childNodes)a.parentNode=r;return r}onError(t){this._errorCode=t}}class MetadataParser{constructor(t){t=this._repair(t);const a=new SimpleXMLParser({lowerCaseName:!0}).parseFromString(t);this._metadataMap=new Map,this._data=t,a&&this._parse(a)}_repair(t){return t.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(r,a){const s=a.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(l,u,d,f){return String.fromCharCode(u*64+d*8+f*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(l,u){switch(u){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${u} isn't defined.`)}),o=[">"];for(let l=0,u=s.length;l<u;l+=2){const d=s.charCodeAt(l)*256+s.charCodeAt(l+1);d>=32&&d<127&&d!==60&&d!==62&&d!==38?o.push(String.fromCharCode(d)):o.push("&#x"+(65536+d).toString(16).substring(1)+";")}return o.join("")})}_getSequence(t){const r=t.nodeName;return r!=="rdf:bag"&&r!=="rdf:seq"&&r!=="rdf:alt"?null:t.childNodes.filter(a=>a.nodeName==="rdf:li")}_parseArray(t){if(!t.hasChildNodes())return;const[r]=t.childNodes,a=this._getSequence(r)||[];this._metadataMap.set(t.nodeName,a.map(s=>s.textContent.trim()))}_parse(t){let r=t.documentElement;if(r.nodeName!=="rdf:rdf")for(r=r.firstChild;r&&r.nodeName!=="rdf:rdf";)r=r.nextSibling;if(!(!r||r.nodeName!=="rdf:rdf"||!r.hasChildNodes())){for(const a of r.childNodes)if(a.nodeName==="rdf:description")for(const s of a.childNodes){const o=s.nodeName;switch(o){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(s);continue}this._metadataMap.set(o,s.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}const chunkSize=512;class DecryptStream extends DecodeStream$1{constructor(t,r,a){super(r),this.str=t,this.dict=t.dict,this.decrypt=a,this.nextChunk=null,this.initialized=!1}readBlock(){let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(chunkSize),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(chunkSize);const r=this.nextChunk?.length>0,a=this.decrypt;t=a(t,!r);const s=this.bufferLength,o=s+t.length;this.ensureBuffer(o).set(t,s),this.bufferLength=o}}class ARCFourCipher{constructor(t){this.a=0,this.b=0;const r=new Uint8Array(256),a=t.length;for(let s=0;s<256;++s)r[s]=s;for(let s=0,o=0;s<256;++s){const l=r[s];o=o+l+t[s%a]&255,r[s]=r[o],r[o]=l}this.s=r}encryptBlock(t){let r=this.a,a=this.b;const s=this.s,o=t.length,l=new Uint8Array(o);for(let u=0;u<o;++u){r=r+1&255;const d=s[r];a=a+d&255;const f=s[a];s[r]=f,s[a]=d,l[u]=t[u]^s[d+f&255]}return this.a=r,this.b=a,l}decryptBlock(t){return this.encryptBlock(t)}encrypt(t){return this.encryptBlock(t)}}const calculateMD5=function(){const t=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),r=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function a(s,o,l){let u=1732584193,d=-271733879,f=-1732584194,g=271733878;const x=l+72&-64,b=new Uint8Array(x);let m,y;for(m=0;m<l;++m)b[m]=s[o++];b[m++]=128;const v=x-8;for(;m<v;)b[m++]=0;b[m++]=l<<3&255,b[m++]=l>>5&255,b[m++]=l>>13&255,b[m++]=l>>21&255,b[m++]=l>>>29&255,b[m++]=0,b[m++]=0,b[m++]=0;const w=new Int32Array(16);for(m=0;m<x;){for(y=0;y<16;++y,m+=4)w[y]=b[m]|b[m+1]<<8|b[m+2]<<16|b[m+3]<<24;let S=u,C=d,E=f,T=g,_,R;for(y=0;y<64;++y){y<16?(_=C&E|~C&T,R=y):y<32?(_=T&C|~T&E,R=5*y+1&15):y<48?(_=C^E^T,R=3*y+5&15):(_=E^(C|~T),R=7*y&15);const U=T,z=S+_+r[y]+w[R]|0,X=t[y];T=E,E=C,C=C+(z<<X|z>>>32-X)|0,S=U}u=u+S|0,d=d+C|0,f=f+E|0,g=g+T|0}return new Uint8Array([u&255,u>>8&255,u>>16&255,u>>>24&255,d&255,d>>8&255,d>>16&255,d>>>24&255,f&255,f>>8&255,f>>16&255,f>>>24&255,g&255,g>>8&255,g>>16&255,g>>>24&255])}return a}();class Word64{constructor(t,r){this.high=t|0,this.low=r|0}and(t){this.high&=t.high,this.low&=t.low}xor(t){this.high^=t.high,this.low^=t.low}or(t){this.high|=t.high,this.low|=t.low}shiftRight(t){t>=32?(this.low=this.high>>>t-32|0,this.high=0):(this.low=this.low>>>t|this.high<<32-t,this.high=this.high>>>t|0)}shiftLeft(t){t>=32?(this.high=this.low<<t-32,this.low=0):(this.high=this.high<<t|this.low>>>32-t,this.low<<=t)}rotateRight(t){let r,a;t&32?(a=this.low,r=this.high):(r=this.low,a=this.high),t&=31,this.low=r>>>t|a<<32-t,this.high=a>>>t|r<<32-t}not(){this.high=~this.high,this.low=~this.low}add(t){const r=(this.low>>>0)+(t.low>>>0);let a=(this.high>>>0)+(t.high>>>0);r>4294967295&&(a+=1),this.low=r|0,this.high=a|0}copyTo(t,r){t[r]=this.high>>>24&255,t[r+1]=this.high>>16&255,t[r+2]=this.high>>8&255,t[r+3]=this.high&255,t[r+4]=this.low>>>24&255,t[r+5]=this.low>>16&255,t[r+6]=this.low>>8&255,t[r+7]=this.low&255}assign(t){this.high=t.high,this.low=t.low}}const calculateSHA256=function(){function t(g,x){return g>>>x|g<<32-x}function r(g,x,b){return g&x^~g&b}function a(g,x,b){return g&x^g&b^x&b}function s(g){return t(g,2)^t(g,13)^t(g,22)}function o(g){return t(g,6)^t(g,11)^t(g,25)}function l(g){return t(g,7)^t(g,18)^g>>>3}function u(g){return t(g,17)^t(g,19)^g>>>10}const d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function f(g,x,b){let m=1779033703,y=3144134277,v=1013904242,w=2773480762,S=1359893119,C=2600822924,E=528734635,T=1541459225;const _=Math.ceil((b+9)/64)*64,R=new Uint8Array(_);let U,z;for(U=0;U<b;++U)R[U]=g[x++];R[U++]=128;const X=_-8;for(;U<X;)R[U++]=0;R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=b>>>29&255,R[U++]=b>>21&255,R[U++]=b>>13&255,R[U++]=b>>5&255,R[U++]=b<<3&255;const W=new Uint32Array(64);for(U=0;U<_;){for(z=0;z<16;++z)W[z]=R[U]<<24|R[U+1]<<16|R[U+2]<<8|R[U+3],U+=4;for(z=16;z<64;++z)W[z]=u(W[z-2])+W[z-7]+l(W[z-15])+W[z-16]|0;let Y=m,se=y,oe=v,ue=w,Z=S,te=C,he=E,xe=T,ye,Ae;for(z=0;z<64;++z)ye=xe+o(Z)+r(Z,te,he)+d[z]+W[z],Ae=s(Y)+a(Y,se,oe),xe=he,he=te,te=Z,Z=ue+ye|0,ue=oe,oe=se,se=Y,Y=ye+Ae|0;m=m+Y|0,y=y+se|0,v=v+oe|0,w=w+ue|0,S=S+Z|0,C=C+te|0,E=E+he|0,T=T+xe|0}return new Uint8Array([m>>24&255,m>>16&255,m>>8&255,m&255,y>>24&255,y>>16&255,y>>8&255,y&255,v>>24&255,v>>16&255,v>>8&255,v&255,w>>24&255,w>>16&255,w>>8&255,w&255,S>>24&255,S>>16&255,S>>8&255,S&255,C>>24&255,C>>16&255,C>>8&255,C&255,E>>24&255,E>>16&255,E>>8&255,E&255,T>>24&255,T>>16&255,T>>8&255,T&255])}return f}(),calculateSHA512=function(){function t(f,g,x,b,m){f.assign(g),f.and(x),m.assign(g),m.not(),m.and(b),f.xor(m)}function r(f,g,x,b,m){f.assign(g),f.and(x),m.assign(g),m.and(b),f.xor(m),m.assign(x),m.and(b),f.xor(m)}function a(f,g,x){f.assign(g),f.rotateRight(28),x.assign(g),x.rotateRight(34),f.xor(x),x.assign(g),x.rotateRight(39),f.xor(x)}function s(f,g,x){f.assign(g),f.rotateRight(14),x.assign(g),x.rotateRight(18),f.xor(x),x.assign(g),x.rotateRight(41),f.xor(x)}function o(f,g,x){f.assign(g),f.rotateRight(1),x.assign(g),x.rotateRight(8),f.xor(x),x.assign(g),x.shiftRight(7),f.xor(x)}function l(f,g,x){f.assign(g),f.rotateRight(19),x.assign(g),x.rotateRight(61),f.xor(x),x.assign(g),x.shiftRight(6),f.xor(x)}const u=[new Word64(1116352408,3609767458),new Word64(1899447441,602891725),new Word64(3049323471,3964484399),new Word64(3921009573,2173295548),new Word64(961987163,4081628472),new Word64(1508970993,3053834265),new Word64(2453635748,2937671579),new Word64(2870763221,3664609560),new Word64(3624381080,2734883394),new Word64(310598401,1164996542),new Word64(607225278,1323610764),new Word64(1426881987,3590304994),new Word64(1925078388,4068182383),new Word64(2162078206,991336113),new Word64(2614888103,633803317),new Word64(3248222580,3479774868),new Word64(3835390401,2666613458),new Word64(4022224774,944711139),new Word64(264347078,2341262773),new Word64(604807628,2007800933),new Word64(770255983,1495990901),new Word64(1249150122,1856431235),new Word64(1555081692,3175218132),new Word64(1996064986,2198950837),new Word64(2554220882,3999719339),new Word64(2821834349,766784016),new Word64(2952996808,2566594879),new Word64(3210313671,3203337956),new Word64(3336571891,1034457026),new Word64(3584528711,2466948901),new Word64(113926993,3758326383),new Word64(338241895,168717936),new Word64(666307205,1188179964),new Word64(773529912,1546045734),new Word64(1294757372,1522805485),new Word64(1396182291,2643833823),new Word64(1695183700,2343527390),new Word64(1986661051,1014477480),new Word64(2177026350,1206759142),new Word64(2456956037,344077627),new Word64(2730485921,1290863460),new Word64(2820302411,3158454273),new Word64(3259730800,3505952657),new Word64(3345764771,106217008),new Word64(3516065817,3606008344),new Word64(3600352804,1432725776),new Word64(4094571909,1467031594),new Word64(275423344,851169720),new Word64(430227734,3100823752),new Word64(506948616,1363258195),new Word64(659060556,3750685593),new Word64(883997877,3785050280),new Word64(958139571,3318307427),new Word64(1322822218,3812723403),new Word64(1537002063,2003034995),new Word64(1747873779,3602036899),new Word64(1955562222,1575990012),new Word64(2024104815,1125592928),new Word64(2227730452,2716904306),new Word64(2361852424,442776044),new Word64(2428436474,593698344),new Word64(2756734187,3733110249),new Word64(3204031479,2999351573),new Word64(3329325298,3815920427),new Word64(3391569614,3928383900),new Word64(3515267271,566280711),new Word64(3940187606,3454069534),new Word64(4118630271,4000239992),new Word64(116418474,1914138554),new Word64(174292421,2731055270),new Word64(289380356,3203993006),new Word64(460393269,320620315),new Word64(685471733,587496836),new Word64(852142971,1086792851),new Word64(1017036298,365543100),new Word64(1126000580,2618297676),new Word64(1288033470,3409855158),new Word64(1501505948,4234509866),new Word64(1607167915,987167468),new Word64(1816402316,1246189591)];function d(f,g,x,b=!1){let m,y,v,w,S,C,E,T;b?(m=new Word64(3418070365,3238371032),y=new Word64(1654270250,914150663),v=new Word64(2438529370,812702999),w=new Word64(355462360,4144912697),S=new Word64(1731405415,4290775857),C=new Word64(2394180231,1750603025),E=new Word64(3675008525,1694076839),T=new Word64(1203062813,3204075428)):(m=new Word64(1779033703,4089235720),y=new Word64(3144134277,2227873595),v=new Word64(1013904242,4271175723),w=new Word64(2773480762,1595750129),S=new Word64(1359893119,2917565137),C=new Word64(2600822924,725511199),E=new Word64(528734635,4215389547),T=new Word64(1541459225,327033209));const _=Math.ceil((x+17)/128)*128,R=new Uint8Array(_);let U,z;for(U=0;U<x;++U)R[U]=f[g++];R[U++]=128;const X=_-16;for(;U<X;)R[U++]=0;R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=0,R[U++]=x>>>29&255,R[U++]=x>>21&255,R[U++]=x>>13&255,R[U++]=x>>5&255,R[U++]=x<<3&255;const W=new Array(80);for(U=0;U<80;U++)W[U]=new Word64(0,0);let Y=new Word64(0,0),se=new Word64(0,0),oe=new Word64(0,0),ue=new Word64(0,0),Z=new Word64(0,0),te=new Word64(0,0),he=new Word64(0,0),xe=new Word64(0,0);const ye=new Word64(0,0),Ae=new Word64(0,0),we=new Word64(0,0),pe=new Word64(0,0);let Te;for(U=0;U<_;){for(z=0;z<16;++z)W[z].high=R[U]<<24|R[U+1]<<16|R[U+2]<<8|R[U+3],W[z].low=R[U+4]<<24|R[U+5]<<16|R[U+6]<<8|R[U+7],U+=8;for(z=16;z<80;++z)Te=W[z],l(Te,W[z-2],pe),Te.add(W[z-7]),o(we,W[z-15],pe),Te.add(we),Te.add(W[z-16]);for(Y.assign(m),se.assign(y),oe.assign(v),ue.assign(w),Z.assign(S),te.assign(C),he.assign(E),xe.assign(T),z=0;z<80;++z)ye.assign(xe),s(we,Z,pe),ye.add(we),t(we,Z,te,he,pe),ye.add(we),ye.add(u[z]),ye.add(W[z]),a(Ae,Y,pe),r(we,Y,se,oe,pe),Ae.add(we),Te=xe,xe=he,he=te,te=Z,ue.add(ye),Z=ue,ue=oe,oe=se,se=Y,Te.assign(ye),Te.add(Ae),Y=Te;m.add(Y),y.add(se),v.add(oe),w.add(ue),S.add(Z),C.add(te),E.add(he),T.add(xe)}let ge;return b?(ge=new Uint8Array(48),m.copyTo(ge,0),y.copyTo(ge,8),v.copyTo(ge,16),w.copyTo(ge,24),S.copyTo(ge,32),C.copyTo(ge,40)):(ge=new Uint8Array(64),m.copyTo(ge,0),y.copyTo(ge,8),v.copyTo(ge,16),w.copyTo(ge,24),S.copyTo(ge,32),C.copyTo(ge,40),E.copyTo(ge,48),T.copyTo(ge,56)),ge}return d}();function calculateSHA384(n,t,r){return calculateSHA512(n,t,r,!0)}class NullCipher{decryptBlock(t){return t}encrypt(t){return t}}class AESBaseCipher{constructor(){this.constructor===AESBaseCipher&&unreachable("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let t=0;t<256;t++)this._mixCol[t]=t<128?t<<1:t<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(t){unreachable("Cannot call `_expandKey` on the base class")}_decrypt(t,r){let a,s,o;const l=new Uint8Array(16);l.set(t);for(let u=0,d=this._keySize;u<16;++u,++d)l[u]^=r[d];for(let u=this._cyclesOfRepetition-1;u>=1;--u){a=l[13],l[13]=l[9],l[9]=l[5],l[5]=l[1],l[1]=a,a=l[14],s=l[10],l[14]=l[6],l[10]=l[2],l[6]=a,l[2]=s,a=l[15],s=l[11],o=l[7],l[15]=l[3],l[11]=a,l[7]=s,l[3]=o;for(let d=0;d<16;++d)l[d]=this._inv_s[l[d]];for(let d=0,f=u*16;d<16;++d,++f)l[d]^=r[f];for(let d=0;d<16;d+=4){const f=this._mix[l[d]],g=this._mix[l[d+1]],x=this._mix[l[d+2]],b=this._mix[l[d+3]];a=f^g>>>8^g<<24^x>>>16^x<<16^b>>>24^b<<8,l[d]=a>>>24&255,l[d+1]=a>>16&255,l[d+2]=a>>8&255,l[d+3]=a&255}}a=l[13],l[13]=l[9],l[9]=l[5],l[5]=l[1],l[1]=a,a=l[14],s=l[10],l[14]=l[6],l[10]=l[2],l[6]=a,l[2]=s,a=l[15],s=l[11],o=l[7],l[15]=l[3],l[11]=a,l[7]=s,l[3]=o;for(let u=0;u<16;++u)l[u]=this._inv_s[l[u]],l[u]^=r[u];return l}_encrypt(t,r){const a=this._s;let s,o,l;const u=new Uint8Array(16);u.set(t);for(let d=0;d<16;++d)u[d]^=r[d];for(let d=1;d<this._cyclesOfRepetition;d++){for(let f=0;f<16;++f)u[f]=a[u[f]];l=u[1],u[1]=u[5],u[5]=u[9],u[9]=u[13],u[13]=l,l=u[2],o=u[6],u[2]=u[10],u[6]=u[14],u[10]=l,u[14]=o,l=u[3],o=u[7],s=u[11],u[3]=u[15],u[7]=l,u[11]=o,u[15]=s;for(let f=0;f<16;f+=4){const g=u[f+0],x=u[f+1],b=u[f+2],m=u[f+3];s=g^x^b^m,u[f+0]^=s^this._mixCol[g^x],u[f+1]^=s^this._mixCol[x^b],u[f+2]^=s^this._mixCol[b^m],u[f+3]^=s^this._mixCol[m^g]}for(let f=0,g=d*16;f<16;++f,++g)u[f]^=r[g]}for(let d=0;d<16;++d)u[d]=a[u[d]];l=u[1],u[1]=u[5],u[5]=u[9],u[9]=u[13],u[13]=l,l=u[2],o=u[6],u[2]=u[10],u[6]=u[14],u[10]=l,u[14]=o,l=u[3],o=u[7],s=u[11],u[3]=u[15],u[7]=l,u[11]=o,u[15]=s;for(let d=0,f=this._keySize;d<16;++d,++f)u[d]^=r[f];return u}_decryptBlock2(t,r){const a=t.length;let s=this.buffer,o=this.bufferPosition;const l=[];let u=this.iv;for(let g=0;g<a;++g){if(s[o]=t[g],++o,o<16)continue;const x=this._decrypt(s,this._key);for(let b=0;b<16;++b)x[b]^=u[b];u=s,l.push(x),s=new Uint8Array(16),o=0}if(this.buffer=s,this.bufferLength=o,this.iv=u,l.length===0)return new Uint8Array(0);let d=16*l.length;if(r){const g=l.at(-1);let x=g[15];if(x<=16){for(let b=15,m=16-x;b>=m;--b)if(g[b]!==x){x=0;break}d-=x,l[l.length-1]=g.subarray(0,16-x)}}const f=new Uint8Array(d);for(let g=0,x=0,b=l.length;g<b;++g,x+=16)f.set(l[g],x);return f}decryptBlock(t,r,a=null){const s=t.length,o=this.buffer;let l=this.bufferPosition;if(a)this.iv=a;else{for(let u=0;l<16&&u<s;++u,++l)o[l]=t[u];if(l<16)return this.bufferLength=l,new Uint8Array(0);this.iv=o,t=t.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(t,r)}encrypt(t,r){const a=t.length;let s=this.buffer,o=this.bufferPosition;const l=[];r||(r=new Uint8Array(16));for(let f=0;f<a;++f){if(s[o]=t[f],++o,o<16)continue;for(let x=0;x<16;++x)s[x]^=r[x];const g=this._encrypt(s,this._key);r=g,l.push(g),s=new Uint8Array(16),o=0}if(this.buffer=s,this.bufferLength=o,this.iv=r,l.length===0)return new Uint8Array(0);const u=16*l.length,d=new Uint8Array(u);for(let f=0,g=0,x=l.length;f<x;++f,g+=16)d.set(l[f],g);return d}}class AES128Cipher extends AESBaseCipher{constructor(t){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(t)}_expandKey(t){const a=this._s,s=this._rcon,o=new Uint8Array(176);o.set(t);for(let l=16,u=1;l<176;++u){let d=o[l-3],f=o[l-2],g=o[l-1],x=o[l-4];d=a[d],f=a[f],g=a[g],x=a[x],d^=s[u];for(let b=0;b<4;++b)o[l]=d^=o[l-16],l++,o[l]=f^=o[l-16],l++,o[l]=g^=o[l-16],l++,o[l]=x^=o[l-16],l++}return o}}class AES256Cipher extends AESBaseCipher{constructor(t){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(t)}_expandKey(t){const a=this._s,s=new Uint8Array(240);s.set(t);let o=1,l,u,d,f;for(let g=32,x=1;g<240;++x){g%32===16?(l=a[l],u=a[u],d=a[d],f=a[f]):g%32===0&&(l=s[g-3],u=s[g-2],d=s[g-1],f=s[g-4],l=a[l],u=a[u],d=a[d],f=a[f],l^=o,(o<<=1)>=256&&(o=(o^27)&255));for(let b=0;b<4;++b)s[g]=l^=s[g-32],g++,s[g]=u^=s[g-32],g++,s[g]=d^=s[g-32],g++,s[g]=f^=s[g-32],g++}return s}}class PDF17{checkOwnerPassword(t,r,a,s){const o=new Uint8Array(t.length+56);o.set(t,0),o.set(r,t.length),o.set(a,t.length+r.length);const l=calculateSHA256(o,0,o.length);return isArrayEqual(l,s)}checkUserPassword(t,r,a){const s=new Uint8Array(t.length+8);s.set(t,0),s.set(r,t.length);const o=calculateSHA256(s,0,s.length);return isArrayEqual(o,a)}getOwnerKey(t,r,a,s){const o=new Uint8Array(t.length+56);o.set(t,0),o.set(r,t.length),o.set(a,t.length+r.length);const l=calculateSHA256(o,0,o.length);return new AES256Cipher(l).decryptBlock(s,!1,new Uint8Array(16))}getUserKey(t,r,a){const s=new Uint8Array(t.length+8);s.set(t,0),s.set(r,t.length);const o=calculateSHA256(s,0,s.length);return new AES256Cipher(o).decryptBlock(a,!1,new Uint8Array(16))}}class PDF20{_hash(t,r,a){let s=calculateSHA256(r,0,r.length).subarray(0,32),o=[0],l=0;for(;l<64||o.at(-1)>l-32;){const u=t.length+s.length+a.length,d=new Uint8Array(u);let f=0;d.set(t,f),f+=t.length,d.set(s,f),f+=s.length,d.set(a,f);const g=new Uint8Array(u*64);for(let m=0,y=0;m<64;m++,y+=u)g.set(d,y);o=new AES128Cipher(s.subarray(0,16)).encrypt(g,s.subarray(16,32));const b=o.slice(0,16).reduce((m,y)=>m+y,0)%3;b===0?s=calculateSHA256(o,0,o.length):b===1?s=calculateSHA384(o,0,o.length):b===2&&(s=calculateSHA512(o,0,o.length)),l++}return s.subarray(0,32)}checkOwnerPassword(t,r,a,s){const o=new Uint8Array(t.length+56);o.set(t,0),o.set(r,t.length),o.set(a,t.length+r.length);const l=this._hash(t,o,a);return isArrayEqual(l,s)}checkUserPassword(t,r,a){const s=new Uint8Array(t.length+8);s.set(t,0),s.set(r,t.length);const o=this._hash(t,s,[]);return isArrayEqual(o,a)}getOwnerKey(t,r,a,s){const o=new Uint8Array(t.length+56);o.set(t,0),o.set(r,t.length),o.set(a,t.length+r.length);const l=this._hash(t,o,a);return new AES256Cipher(l).decryptBlock(s,!1,new Uint8Array(16))}getUserKey(t,r,a){const s=new Uint8Array(t.length+8);s.set(t,0),s.set(r,t.length);const o=this._hash(t,s,[]);return new AES256Cipher(o).decryptBlock(a,!1,new Uint8Array(16))}}class CipherTransform{constructor(t,r){this.StringCipherConstructor=t,this.StreamCipherConstructor=r}createStream(t,r){const a=new this.StreamCipherConstructor;return new DecryptStream(t,r,function(o,l){return a.decryptBlock(o,l)})}decryptString(t){const r=new this.StringCipherConstructor;let a=stringToBytes(t);return a=r.decryptBlock(a,!0),bytesToString(a)}encryptString(t){const r=new this.StringCipherConstructor;if(r instanceof AESBaseCipher){const o=16-t.length%16;t+=String.fromCharCode(o).repeat(o);const l=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(l);else for(let f=0;f<16;f++)l[f]=Math.floor(256*Math.random());let u=stringToBytes(t);u=r.encrypt(u,l);const d=new Uint8Array(16+u.length);return d.set(l),d.set(u,16),bytesToString(d)}let a=stringToBytes(t);return a=r.encrypt(a),bytesToString(a)}}class CipherTransformFactory{static#e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);#t(t,r,a,s,o,l,u,d,f,g,x,b){if(r){const y=Math.min(127,r.length);r=r.subarray(0,y)}else r=[];const m=t===6?new PDF20:new PDF17;return m.checkUserPassword(r,d,u)?m.getUserKey(r,f,x):r.length&&m.checkOwnerPassword(r,s,l,a)?m.getOwnerKey(r,o,l,g):null}#n(t,r,a,s,o,l,u,d){const f=40+a.length+t.length,g=new Uint8Array(f);let x=0,b,m;if(r)for(m=Math.min(32,r.length);x<m;++x)g[x]=r[x];for(b=0;x<32;)g[x++]=CipherTransformFactory.#e[b++];for(b=0,m=a.length;b<m;++b)g[x++]=a[b];for(g[x++]=o&255,g[x++]=o>>8&255,g[x++]=o>>16&255,g[x++]=o>>>24&255,b=0,m=t.length;b<m;++b)g[x++]=t[b];l>=4&&!d&&(g[x++]=255,g[x++]=255,g[x++]=255,g[x++]=255);let y=calculateMD5(g,0,x);const v=u>>3;if(l>=3)for(b=0;b<50;++b)y=calculateMD5(y,0,v);const w=y.subarray(0,v);let S,C;if(l>=3){for(x=0;x<32;++x)g[x]=CipherTransformFactory.#e[x];for(b=0,m=t.length;b<m;++b)g[x++]=t[b];S=new ARCFourCipher(w),C=S.encryptBlock(calculateMD5(g,0,x)),m=w.length;const E=new Uint8Array(m);for(b=1;b<=19;++b){for(let T=0;T<m;++T)E[T]=w[T]^b;S=new ARCFourCipher(E),C=S.encryptBlock(C)}for(b=0,m=C.length;b<m;++b)if(s[b]!==C[b])return null}else for(S=new ARCFourCipher(w),C=S.encryptBlock(CipherTransformFactory.#e),b=0,m=C.length;b<m;++b)if(s[b]!==C[b])return null;return w}#r(t,r,a,s){const o=new Uint8Array(32);let l=0;const u=Math.min(32,t.length);for(;l<u;++l)o[l]=t[l];let d=0;for(;l<32;)o[l++]=CipherTransformFactory.#e[d++];let f=calculateMD5(o,0,l);const g=s>>3;if(a>=3)for(d=0;d<50;++d)f=calculateMD5(f,0,f.length);let x,b;if(a>=3){b=r;const m=new Uint8Array(g);for(d=19;d>=0;d--){for(let y=0;y<g;++y)m[y]=f[y]^d;x=new ARCFourCipher(m),b=x.encryptBlock(b)}}else x=new ARCFourCipher(f.subarray(0,g)),b=x.encryptBlock(r);return b}#s(t,r,a,s=!1){const o=new Uint8Array(a.length+9),l=a.length;let u;for(u=0;u<l;++u)o[u]=a[u];return o[u++]=t&255,o[u++]=t>>8&255,o[u++]=t>>16&255,o[u++]=r&255,o[u++]=r>>8&255,s&&(o[u++]=115,o[u++]=65,o[u++]=108,o[u++]=84),calculateMD5(o,0,u).subarray(0,Math.min(a.length+5,16))}#i(t,r,a,s,o){if(!(r instanceof Name))throw new FormatError("Invalid crypt filter name.");const l=this,d=t.get(r.name)?.get("CFM");if(!d||d.name==="None")return function(){return new NullCipher};if(d.name==="V2")return function(){return new ARCFourCipher(l.#s(a,s,o,!1))};if(d.name==="AESV2")return function(){return new AES128Cipher(l.#s(a,s,o,!0))};if(d.name==="AESV3")return function(){return new AES256Cipher(o)};throw new FormatError("Unknown crypto method")}constructor(t,r,a){const s=t.get("Filter");if(!isName(s,"Standard"))throw new FormatError("unknown encryption method");this.filterName=s.name,this.dict=t;const o=t.get("V");if(!Number.isInteger(o)||o!==1&&o!==2&&o!==4&&o!==5)throw new FormatError("unsupported encryption algorithm");this.algorithm=o;let l=t.get("Length");if(!l)if(o<=3)l=40;else{const S=t.get("CF"),C=t.get("StmF");S instanceof Dict&&C instanceof Name&&(S.suppressEncryption=!0,l=S.get(C.name)?.get("Length")||128,l<40&&(l<<=3))}if(!Number.isInteger(l)||l<40||l%8!==0)throw new FormatError("invalid key length");const u=stringToBytes(t.get("O")),d=stringToBytes(t.get("U")),f=u.subarray(0,32),g=d.subarray(0,32),x=t.get("P"),b=t.get("R"),m=(o===4||o===5)&&t.get("EncryptMetadata")!==!1;this.encryptMetadata=m;const y=stringToBytes(r);let v;if(a){if(b===6)try{a=utf8StringToString(a)}catch{warn("CipherTransformFactory: Unable to convert UTF8 encoded password.")}v=stringToBytes(a)}let w;if(o!==5)w=this.#n(y,v,f,g,x,b,l,m);else{const S=u.subarray(32,40),C=u.subarray(40,48),E=d.subarray(0,48),T=d.subarray(32,40),_=d.subarray(40,48),R=stringToBytes(t.get("OE")),U=stringToBytes(t.get("UE")),z=stringToBytes(t.get("Perms"));w=this.#t(b,v,f,S,C,E,g,T,_,R,U,z)}if(!w&&!a)throw new PasswordException("No password given",PasswordResponses.NEED_PASSWORD);if(!w&&a){const S=this.#r(v,f,b,l);w=this.#n(y,S,f,g,x,b,l,m)}if(!w)throw new PasswordException("Incorrect Password",PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=w,o>=4){const S=t.get("CF");S instanceof Dict&&(S.suppressEncryption=!0),this.cf=S,this.stmf=t.get("StmF")||Name.get("Identity"),this.strf=t.get("StrF")||Name.get("Identity"),this.eff=t.get("EFF")||this.stmf}}createCipherTransform(t,r){if(this.algorithm===4||this.algorithm===5)return new CipherTransform(this.#i(this.cf,this.strf,t,r,this.encryptionKey),this.#i(this.cf,this.stmf,t,r,this.encryptionKey));const a=this.#s(t,r,this.encryptionKey,!1),s=function(){return new ARCFourCipher(a)};return new CipherTransform(s,s)}}async function writeObject(n,t,r,{encrypt:a=null}){const s=a?.createCipherTransform(n.num,n.gen);r.push(`${n.num} ${n.gen} obj
`),t instanceof Dict?await writeDict(t,r,s):t instanceof BaseStream?await writeStream(t,r,s):Array.isArray(t)&&await writeArray(t,r,s),r.push(`
endobj
`)}async function writeDict(n,t,r){t.push("<<");for(const a of n.getKeys())t.push(` /${escapePDFName(a)} `),await writeValue(n.getRaw(a),t,r);t.push(">>")}async function writeStream(n,t,r){let a=n.getBytes();const{dict:s}=n,[o,l]=await Promise.all([s.getAsync("Filter"),s.getAsync("DecodeParms")]),u=Array.isArray(o)?await s.xref.fetchIfRefAsync(o[0]):o,d=isName(u,"FlateDecode"),f=256;if(typeof CompressionStream<"u"&&(a.length>=f||d))try{const x=new CompressionStream("deflate"),b=x.writable.getWriter();b.write(a),b.close();const m=await new Response(x.readable).arrayBuffer();a=new Uint8Array(m);let y,v;o?d||(y=Array.isArray(o)?[Name.get("FlateDecode"),...o]:[Name.get("FlateDecode"),o],l&&(v=Array.isArray(l)?[null,...l]:[null,l])):y=Name.get("FlateDecode"),y&&s.set("Filter",y),v&&s.set("DecodeParms",v)}catch(x){info(`writeStream - cannot compress data: "${x}".`)}let g=bytesToString(a);r&&(g=r.encryptString(g)),s.set("Length",g.length),await writeDict(s,t,r),t.push(` stream
`,g,`
endstream`)}async function writeArray(n,t,r){t.push("[");let a=!0;for(const s of n)a?a=!1:t.push(" "),await writeValue(s,t,r);t.push("]")}async function writeValue(n,t,r){n instanceof Name?t.push(`/${escapePDFName(n.name)}`):n instanceof Ref?t.push(`${n.num} ${n.gen} R`):Array.isArray(n)?await writeArray(n,t,r):typeof n=="string"?(r&&(n=r.encryptString(n)),t.push(`(${escapeString(n)})`)):typeof n=="number"?t.push(numberToString$1(n)):typeof n=="boolean"?t.push(n.toString()):n instanceof Dict?await writeDict(n,t,r):n instanceof BaseStream?await writeStream(n,t,r):n===null?t.push("null"):warn(`Unhandled value in writer: ${typeof n}, please file a bug.`)}function writeInt(n,t,r,a){for(let s=t+r-1;s>r-1;s--)a[s]=n&255,n>>=8;return r+t}function writeString(n,t,r){for(let a=0,s=n.length;a<s;a++)r[t+a]=n.charCodeAt(a)&255}function computeMD5(n,t){const r=Math.floor(Date.now()/1e3),a=t.filename||"",s=[r.toString(),a,n.toString()];let o=s.reduce((d,f)=>d+f.length,0);for(const d of Object.values(t.info))s.push(d),o+=d.length;const l=new Uint8Array(o);let u=0;for(const d of s)writeString(d,u,l),u+=d.length;return bytesToString(calculateMD5(l))}function writeXFADataForAcroform(n,t){const r=new SimpleXMLParser({hasAttributes:!0}).parseFromString(n);for(const{xfa:s}of t){if(!s)continue;const{path:o,value:l}=s;if(!o)continue;const u=parseXFAPath(o);let d=r.documentElement.searchNode(u,0);!d&&u.length>1&&(d=r.documentElement.searchNode([u.at(-1)],0)),d?d.childNodes=Array.isArray(l)?l.map(f=>new SimpleDOMNode("value",f)):[new SimpleDOMNode("#text",l)]:warn(`Node not found for path: ${o}`)}const a=[];return r.documentElement.dump(a),a.join("")}async function updateAcroform({xref:n,acroForm:t,acroFormRef:r,hasXfa:a,hasXfaDatasetsEntry:s,xfaDatasetsRef:o,needAppearances:l,newRefs:u}){if(a&&!s&&!o&&warn("XFA - Cannot save it"),!l&&(!a||!o||s))return;const d=t.clone();if(a&&!s){const g=t.get("XFA").slice();g.splice(2,0,"datasets"),g.splice(3,0,o),d.set("XFA",g)}l&&d.set("NeedAppearances",!0);const f=[];await writeObject(r,d,f,n),u.push({ref:r,data:f.join("")})}function updateXFA({xfaData:n,xfaDatasetsRef:t,newRefs:r,xref:a}){if(n===null){const l=a.fetchIfRef(t);n=writeXFADataForAcroform(l.getString(),r)}const s=a.encrypt;s&&(n=s.createCipherTransform(t.num,t.gen).encryptString(n));const o=`${t.num} ${t.gen} obj
<< /Type /EmbeddedFile /Length ${n.length}>>
stream
`+n+`
endstream
endobj
`;r.push({ref:t,data:o})}async function incrementalUpdate({originalData:n,xrefInfo:t,newRefs:r,xref:a=null,hasXfa:s=!1,xfaDatasetsRef:o=null,hasXfaDatasetsEntry:l=!1,needAppearances:u,acroFormRef:d=null,acroForm:f=null,xfaData:g=null}){await updateAcroform({xref:a,acroForm:f,acroFormRef:d,hasXfa:s,hasXfaDatasetsEntry:l,xfaDatasetsRef:o,needAppearances:u,newRefs:r}),s&&updateXFA({xfaData:g,xfaDatasetsRef:o,newRefs:r,xref:a});const x=new Dict(null),b=t.newRef;let m,y;const v=n.at(-1);v===10||v===13?(m=[],y=n.length):(m=[`
`],y=n.length+1),x.set("Size",b.num+1),x.set("Prev",t.startXRef),x.set("Type",Name.get("XRef")),t.rootRef!==null&&x.set("Root",t.rootRef),t.infoRef!==null&&x.set("Info",t.infoRef),t.encryptRef!==null&&x.set("Encrypt",t.encryptRef),r.push({ref:b,data:""}),r=r.sort((Y,se)=>Y.ref.num-se.ref.num);const w=[[0,1,65535]],S=[0,1];let C=0;for(const{ref:Y,data:se}of r)C=Math.max(C,y),w.push([1,y,Math.min(Y.gen,65535)]),y+=se.length,S.push(Y.num,1),m.push(se);if(x.set("Index",S),Array.isArray(t.fileIds)&&t.fileIds.length>0){const Y=computeMD5(y,t);x.set("ID",[t.fileIds[0],Y])}const T=[1,Math.ceil(Math.log2(C)/8),2],R=(T[0]+T[1]+T[2])*w.length;x.set("W",T),x.set("Length",R),m.push(`${b.num} ${b.gen} obj
`),await writeDict(x,m,null),m.push(` stream
`);const U=m.reduce((Y,se)=>Y+se.length,0),z=`
endstream
endobj
startxref
${y}
%%EOF
`,X=new Uint8Array(n.length+U+R+z.length);X.set(n);let W=n.length;for(const Y of m)writeString(Y,W,X),W+=Y.length;for(const[Y,se,oe]of w)W=writeInt(Y,T[0],W,X),W=writeInt(se,T[1],W,X),W=writeInt(oe,T[2],W,X);return writeString(z,W,X),X}const MAX_DEPTH=40,StructElementType={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5};class StructTreeRoot{constructor(t,r){this.dict=t,this.ref=r instanceof Ref?r:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}#e(t,r,a){if(!(t instanceof Ref)||r<0)return;this.structParentIds||=new RefSetCache;let s=this.structParentIds.get(t);s||(s=[],this.structParentIds.put(t,s)),s.push([r,a])}addAnnotationIdToPage(t,r){this.#e(t,r,StructElementType.ANNOTATION)}readRoleMap(){const t=this.dict.get("RoleMap");t instanceof Dict&&t.forEach((r,a)=>{a instanceof Name&&this.roleMap.set(r,a.name)})}static async canCreateStructureTree({catalogRef:t,pdfManager:r,newAnnotationsByPage:a}){if(!(t instanceof Ref))return warn("Cannot save the struct tree: no catalog reference."),!1;let s=0,o=!0;for(const[l,u]of a){const{ref:d}=await r.getPage(l);if(!(d instanceof Ref)){warn(`Cannot save the struct tree: page ${l} has no ref.`),o=!0;break}for(const f of u)f.accessibilityData?.type&&(f.parentTreeId=s++,o=!1)}if(o){for(const l of a.values())for(const u of l)delete u.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:t,xref:r,catalogRef:a,pdfManager:s,newRefs:o}){const l=s.catalog.cloneDict(),u=r.getNewTemporaryRef();l.set("StructTreeRoot",u);const d=[];await writeObject(a,l,d,r),o.push({ref:a,data:d.join("")});const f=new Dict(r);f.set("Type",Name.get("StructTreeRoot"));const g=r.getNewTemporaryRef();f.set("ParentTree",g);const x=[];f.set("K",x);const b=new Dict(r),m=[];b.set("Nums",m);const y=await this.#t({newAnnotationsByPage:t,structTreeRootRef:u,kids:x,nums:m,xref:r,pdfManager:s,newRefs:o,buffer:d});f.set("ParentTreeNextKey",y),d.length=0,await writeObject(g,b,d,r),o.push({ref:g,data:d.join("")}),d.length=0,await writeObject(u,f,d,r),o.push({ref:u,data:d.join("")})}async canUpdateStructTree({pdfManager:t,xref:r,newAnnotationsByPage:a}){if(!this.ref)return warn("Cannot update the struct tree: no root reference."),!1;let s=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(s)||s<0)return warn("Cannot update the struct tree: invalid next key."),!1;const o=this.dict.get("ParentTree");if(!(o instanceof Dict))return warn("Cannot update the struct tree: ParentTree isn't a dict."),!1;const l=o.get("Nums");if(!Array.isArray(l))return warn("Cannot update the struct tree: nums isn't an array."),!1;const u=new NumberTree(o,r);for(const f of a.keys()){const{pageDict:g}=await t.getPage(f);if(!g.has("StructParents"))continue;const x=g.get("StructParents");if(!Number.isInteger(x)||!Array.isArray(u.get(x)))return warn(`Cannot save the struct tree: page ${f} has a wrong id.`),!1}let d=!0;for(const[f,g]of a){const{pageDict:x}=await t.getPage(f);StructTreeRoot.#n({elements:g,xref:this.dict.xref,pageDict:x,numberTree:u});for(const b of g)b.accessibilityData?.type&&(b.parentTreeId=s++,d=!1)}if(d){for(const f of a.values())for(const g of f)delete g.parentTreeId,delete g.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:t,pdfManager:r,newRefs:a}){const s=this.dict.xref,o=this.dict.clone(),l=this.ref;let u=o.getRaw("ParentTree"),d;u instanceof Ref?d=s.fetch(u):(d=u,u=s.getNewTemporaryRef(),o.set("ParentTree",u)),d=d.clone();let f=d.getRaw("Nums"),g=null;f instanceof Ref&&(g=f,f=s.fetch(g)),f=f.slice(),g||d.set("Nums",f);let x=o.getRaw("K"),b=null;x instanceof Ref?(b=x,x=s.fetch(b)):(b=s.getNewTemporaryRef(),o.set("K",b)),x=Array.isArray(x)?x.slice():[x];const m=[],y=await StructTreeRoot.#t({newAnnotationsByPage:t,structTreeRootRef:l,kids:x,nums:f,xref:s,pdfManager:r,newRefs:a,buffer:m});o.set("ParentTreeNextKey",y),m.length=0,await writeObject(b,x,m,s),a.push({ref:b,data:m.join("")}),g&&(m.length=0,await writeObject(g,f,m,s),a.push({ref:g,data:m.join("")})),m.length=0,await writeObject(u,d,m,s),a.push({ref:u,data:m.join("")}),m.length=0,await writeObject(l,o,m,s),a.push({ref:l,data:m.join("")})}static async#t({newAnnotationsByPage:t,structTreeRootRef:r,kids:a,nums:s,xref:o,pdfManager:l,newRefs:u,buffer:d}){const f=Name.get("OBJR");let g=-1/0;for(const[x,b]of t){const{ref:m}=await l.getPage(x),y=m instanceof Ref;for(const{accessibilityData:v,ref:w,parentTreeId:S,structTreeParent:C}of b){if(!v?.type)continue;const{type:E,title:T,lang:_,alt:R,expanded:U,actualText:z}=v;g=Math.max(g,S);const X=o.getNewTemporaryRef(),W=new Dict(o);W.set("S",Name.get(E)),T&&W.set("T",T),_&&W.set("Lang",_),R&&W.set("Alt",R),U&&W.set("E",U),z&&W.set("ActualText",z),C?await this.#r({structTreeParent:C,tagDict:W,newTagRef:X,fallbackRef:r,xref:o,newRefs:u,buffer:d}):W.set("P",r);const Y=new Dict(o);W.set("K",Y),Y.set("Type",f),y&&Y.set("Pg",m),Y.set("Obj",w),d.length=0,await writeObject(X,W,d,o),u.push({ref:X,data:d.join("")}),s.push(S,X),a.push(X)}}return g+1}static#n({elements:t,xref:r,pageDict:a,numberTree:s}){const o=new Map;for(const f of t)if(f.structTreeParentId){const g=parseInt(f.structTreeParentId.split("_mc")[1],10);o.set(g,f)}const l=a.get("StructParents");if(!Number.isInteger(l))return;const u=s.get(l),d=(f,g,x)=>{const b=o.get(f);if(b){const m=g.getRaw("P"),y=r.fetchIfRef(m);return m instanceof Ref&&y instanceof Dict&&(b.structTreeParent={ref:x,dict:g}),!0}return!1};for(const f of u){if(!(f instanceof Ref))continue;const g=r.fetch(f),x=g.get("K");if(Number.isInteger(x)){d(x,g,f);continue}if(Array.isArray(x)){for(let b of x)if(b=r.fetchIfRef(b),Number.isInteger(b)&&d(b,g,f))break}}}static async#r({structTreeParent:{ref:t,dict:r},tagDict:a,newTagRef:s,fallbackRef:o,xref:l,newRefs:u,buffer:d}){const f=r.getRaw("P");let g=l.fetchIfRef(f);a.set("P",f);let x=!1,b,m=g.getRaw("K");if(m instanceof Ref?b=l.fetch(m):(b=m,m=l.getNewTemporaryRef(),g=g.clone(),g.set("K",m),x=!0),Array.isArray(b)){const y=b.indexOf(t);if(y>=0)b=b.slice(),b.splice(y+1,0,s);else{warn("Cannot update the struct tree: parent kid not found."),a.set("P",o);return}}else b instanceof Dict&&(b=[m,s],m=l.getNewTemporaryRef(),g.set("K",m),x=!0);d.length=0,await writeObject(m,b,d,l),u.push({ref:m,data:d.join("")}),x&&(d.length=0,await writeObject(f,g,d,l),u.push({ref:f,data:d.join("")}))}}class StructElementNode{constructor(t,r){this.tree=t,this.dict=r,this.kids=[],this.parseKids()}get role(){const t=this.dict.get("S"),r=t instanceof Name?t.name:"",{root:a}=this.tree;return a.roleMap.has(r)?a.roleMap.get(r):r}parseKids(){let t=null;const r=this.dict.getRaw("Pg");r instanceof Ref&&(t=r.toString());const a=this.dict.get("K");if(Array.isArray(a))for(const s of a){const o=this.parseKid(t,s);o&&this.kids.push(o)}else{const s=this.parseKid(t,a);s&&this.kids.push(s)}}parseKid(t,r){if(Number.isInteger(r))return this.tree.pageDict.objId!==t?null:new StructElement({type:StructElementType.PAGE_CONTENT,mcid:r,pageObjId:t});let a=null;if(r instanceof Ref?a=this.dict.xref.fetch(r):r instanceof Dict&&(a=r),!a)return null;const s=a.getRaw("Pg");s instanceof Ref&&(t=s.toString());const o=a.get("Type")instanceof Name?a.get("Type").name:null;if(o==="MCR"){if(this.tree.pageDict.objId!==t)return null;const l=a.getRaw("Stm");return new StructElement({type:StructElementType.STREAM_CONTENT,refObjId:l instanceof Ref?l.toString():null,pageObjId:t,mcid:a.get("MCID")})}if(o==="OBJR"){if(this.tree.pageDict.objId!==t)return null;const l=a.getRaw("Obj");return new StructElement({type:StructElementType.OBJECT,refObjId:l instanceof Ref?l.toString():null,pageObjId:t})}return new StructElement({type:StructElementType.ELEMENT,dict:a})}}class StructElement{constructor({type:t,dict:r=null,mcid:a=null,pageObjId:s=null,refObjId:o=null}){this.type=t,this.dict=r,this.mcid=a,this.pageObjId=s,this.refObjId=o,this.parentNode=null}}class StructTreePage{constructor(t,r){this.root=t,this.rootDict=t?t.dict:null,this.pageDict=r,this.nodes=[]}parse(t){if(!this.root||!this.rootDict)return;const r=this.rootDict.get("ParentTree");if(!r)return;const a=this.pageDict.get("StructParents"),s=t instanceof Ref&&this.root.structParentIds?.get(t);if(!Number.isInteger(a)&&!s)return;const o=new Map,l=new NumberTree(r,this.rootDict.xref);if(Number.isInteger(a)){const u=l.get(a);if(Array.isArray(u))for(const d of u)d instanceof Ref&&this.addNode(this.rootDict.xref.fetch(d),o)}if(s)for(const[u,d]of s){const f=l.get(u);if(f){const g=this.addNode(this.rootDict.xref.fetchIfRef(f),o);g?.kids?.length===1&&g.kids[0].type===StructElementType.OBJECT&&(g.kids[0].type=d)}}}addNode(t,r,a=0){if(a>MAX_DEPTH)return warn("StructTree MAX_DEPTH reached."),null;if(r.has(t))return r.get(t);const s=new StructElementNode(this,t);r.set(t,s);const o=t.get("P");if(!o||isName(o.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(t,s)||r.delete(t),s;const l=this.addNode(o,r,a+1);if(!l)return s;let u=!1;for(const d of l.kids)d.type===StructElementType.ELEMENT&&d.dict===t&&(d.parentNode=s,u=!0);return u||r.delete(t),s}addTopLevelNode(t,r){const a=this.rootDict.get("K");if(!a)return!1;if(a instanceof Dict)return a.objId!==t.objId?!1:(this.nodes[0]=r,!0);if(!Array.isArray(a))return!0;let s=!1;for(let o=0;o<a.length;o++)a[o]?.toString()===t.objId&&(this.nodes[o]=r,s=!0);return s}get serializable(){function t(a,s,o=0){if(o>MAX_DEPTH){warn("StructTree too deep to be fully serialized.");return}const l=Object.create(null);l.role=a.role,l.children=[],s.children.push(l);const u=a.dict.get("Alt");typeof u=="string"&&(l.alt=stringToPDFString(u));const d=a.dict.get("Lang");typeof d=="string"&&(l.lang=stringToPDFString(d));for(const f of a.kids){const g=f.type===StructElementType.ELEMENT?f.parentNode:null;if(g){t(g,l,o+1);continue}else f.type===StructElementType.PAGE_CONTENT||f.type===StructElementType.STREAM_CONTENT?l.children.push({type:"content",id:`p${f.pageObjId}_mc${f.mcid}`}):f.type===StructElementType.OBJECT?l.children.push({type:"object",id:f.refObjId}):f.type===StructElementType.ANNOTATION&&l.children.push({type:"annotation",id:`${AnnotationPrefix}${f.refObjId}`})}}const r=Object.create(null);r.children=[],r.role="Root";for(const a of this.nodes)a&&t(a,r);return r}}function fetchDestination(n){return n instanceof Dict&&(n=n.get("D")),Array.isArray(n)?n:null}function fetchRemoteDest(n){let t=n.get("D");if(t){if(t instanceof Name&&(t=t.name),typeof t=="string")return stringToPDFString(t);if(Array.isArray(t))return JSON.stringify(t)}return null}class Catalog{constructor(t,r){if(this.pdfManager=t,this.xref=r,this._catDict=r.getCatalogObj(),!(this._catDict instanceof Dict))throw new FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new GlobalImageCache,this.pageKidsCountCache=new RefSetCache,this.pageIndexCache=new RefSetCache,this.nonBlendModesSet=new RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const t=this._catDict.get("Version");if(t instanceof Name){if(PDF_VERSION_REGEXP.test(t.name))return shadow(this,"version",t.name);warn(`Invalid PDF catalog version: ${t.name}`)}return shadow(this,"version",null)}get lang(){const t=this._catDict.get("Lang");return shadow(this,"lang",typeof t=="string"?stringToPDFString(t):null)}get needsRendering(){const t=this._catDict.get("NeedsRendering");return shadow(this,"needsRendering",typeof t=="boolean"?t:!1)}get collection(){let t=null;try{const r=this._catDict.get("Collection");r instanceof Dict&&r.size>0&&(t=r)}catch(r){if(r instanceof MissingDataException)throw r;info("Cannot fetch Collection entry; assuming no collection is present.")}return shadow(this,"collection",t)}get acroForm(){let t=null;try{const r=this._catDict.get("AcroForm");r instanceof Dict&&r.size>0&&(t=r)}catch(r){if(r instanceof MissingDataException)throw r;info("Cannot fetch AcroForm entry; assuming no forms are present.")}return shadow(this,"acroForm",t)}get acroFormRef(){const t=this._catDict.getRaw("AcroForm");return shadow(this,"acroFormRef",t instanceof Ref?t:null)}get metadata(){const t=this._catDict.getRaw("Metadata");if(!(t instanceof Ref))return shadow(this,"metadata",null);let r=null;try{const a=this.xref.fetch(t,!this.xref.encrypt?.encryptMetadata);if(a instanceof BaseStream&&a.dict instanceof Dict){const s=a.dict.get("Type"),o=a.dict.get("Subtype");if(isName(s,"Metadata")&&isName(o,"XML")){const l=stringToUTF8String(a.getString());l&&(r=new MetadataParser(l).serializable)}}}catch(a){if(a instanceof MissingDataException)throw a;info(`Skipping invalid Metadata: "${a}".`)}return shadow(this,"metadata",r)}get markInfo(){let t=null;try{t=this._readMarkInfo()}catch(r){if(r instanceof MissingDataException)throw r;warn("Unable to read mark info.")}return shadow(this,"markInfo",t)}_readMarkInfo(){const t=this._catDict.get("MarkInfo");if(!(t instanceof Dict))return null;const r={Marked:!1,UserProperties:!1,Suspects:!1};for(const a in r){const s=t.get(a);typeof s=="boolean"&&(r[a]=s)}return r}get structTreeRoot(){let t=null;try{t=this._readStructTreeRoot()}catch(r){if(r instanceof MissingDataException)throw r;warn("Unable read to structTreeRoot info.")}return shadow(this,"structTreeRoot",t)}_readStructTreeRoot(){const t=this._catDict.getRaw("StructTreeRoot"),r=this.xref.fetchIfRef(t);if(!(r instanceof Dict))return null;const a=new StructTreeRoot(r,t);return a.init(),a}get toplevelPagesDict(){const t=this._catDict.get("Pages");if(!(t instanceof Dict))throw new FormatError("Invalid top-level pages dictionary.");return shadow(this,"toplevelPagesDict",t)}get documentOutline(){let t=null;try{t=this._readDocumentOutline()}catch(r){if(r instanceof MissingDataException)throw r;warn("Unable to read document outline.")}return shadow(this,"documentOutline",t)}_readDocumentOutline(){let t=this._catDict.get("Outlines");if(!(t instanceof Dict)||(t=t.getRaw("First"),!(t instanceof Ref)))return null;const r={items:[]},a=[{obj:t,parent:r}],s=new RefSet;s.put(t);const o=this.xref,l=new Uint8ClampedArray(3);for(;a.length>0;){const u=a.shift(),d=o.fetchIfRef(u.obj);if(d===null)continue;if(!d.has("Title"))throw new FormatError("Invalid outline item encountered.");const f={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:d,resultObj:f,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const g=d.get("Title"),x=d.get("F")||0,b=d.getArray("C"),m=d.get("Count");let y=l;Array.isArray(b)&&b.length===3&&(b[0]!==0||b[1]!==0||b[2]!==0)&&(y=ColorSpace$1.singletons.rgb.getRgb(b,0));const v={action:f.action,attachment:f.attachment,dest:f.dest,url:f.url,unsafeUrl:f.unsafeUrl,newWindow:f.newWindow,setOCGState:f.setOCGState,title:stringToPDFString(g),color:y,count:Number.isInteger(m)?m:void 0,bold:!!(x&2),italic:!!(x&1),items:[]};u.parent.items.push(v),t=d.getRaw("First"),t instanceof Ref&&!s.has(t)&&(a.push({obj:t,parent:v}),s.put(t)),t=d.getRaw("Next"),t instanceof Ref&&!s.has(t)&&(a.push({obj:t,parent:u.parent}),s.put(t))}return r.items.length>0?r.items:null}get permissions(){let t=null;try{t=this._readPermissions()}catch(r){if(r instanceof MissingDataException)throw r;warn("Unable to read permissions.")}return shadow(this,"permissions",t)}_readPermissions(){const t=this.xref.trailer.get("Encrypt");if(!(t instanceof Dict))return null;let r=t.get("P");if(typeof r!="number")return null;r+=2**32;const a=[];for(const s in PermissionFlag){const o=PermissionFlag[s];r&o&&a.push(o)}return a}get optionalContentConfig(){let t=null;try{const r=this._catDict.get("OCProperties");if(!r)return shadow(this,"optionalContentConfig",null);const a=r.get("D");if(!a)return shadow(this,"optionalContentConfig",null);const s=r.get("OCGs");if(!Array.isArray(s))return shadow(this,"optionalContentConfig",null);const o=[],l=new RefSet;for(const u of s){if(!(u instanceof Ref)||l.has(u))continue;l.put(u);const d=this.xref.fetch(u);o.push({id:u.toString(),name:typeof d.get("Name")=="string"?stringToPDFString(d.get("Name")):null,intent:typeof d.get("Intent")=="string"?stringToPDFString(d.get("Intent")):null})}t=this._readOptionalContentConfig(a,l),t.groups=o}catch(r){if(r instanceof MissingDataException)throw r;warn(`Unable to read optional content config: ${r}`)}return shadow(this,"optionalContentConfig",t)}_readOptionalContentConfig(t,r){function a(f){const g=[];if(Array.isArray(f))for(const x of f)x instanceof Ref&&r.has(x)&&g.push(x.toString());return g}function s(f,g=0){if(!Array.isArray(f))return null;const x=[];for(const m of f){if(m instanceof Ref&&r.has(m)){u.put(m),x.push(m.toString());continue}const y=o(m,g);y&&x.push(y)}if(g>0)return x;const b=[];for(const m of r)u.has(m)||b.push(m.toString());return b.length&&x.push({name:null,order:b}),x}function o(f,g){if(++g>d)return warn("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const x=l.fetchIfRef(f);if(!Array.isArray(x))return null;const b=l.fetchIfRef(x[0]);if(typeof b!="string")return null;const m=s(x.slice(1),g);return!m||!m.length?null:{name:stringToPDFString(b),order:m}}const l=this.xref,u=new RefSet,d=10;return{name:typeof t.get("Name")=="string"?stringToPDFString(t.get("Name")):null,creator:typeof t.get("Creator")=="string"?stringToPDFString(t.get("Creator")):null,baseState:t.get("BaseState")instanceof Name?t.get("BaseState").name:null,on:a(t.get("ON")),off:a(t.get("OFF")),order:s(t.get("Order")),groups:null}}setActualNumPages(t=null){this._actualNumPages=t}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const t=this.toplevelPagesDict.get("Count");if(!Number.isInteger(t))throw new FormatError("Page count in top-level pages dictionary is not an integer.");return shadow(this,"_pagesCount",t)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const t=this._readDests(),r=Object.create(null);if(t instanceof NameTree)for(const[a,s]of t.getAll()){const o=fetchDestination(s);o&&(r[stringToPDFString(a)]=o)}else t instanceof Dict&&t.forEach(function(a,s){const o=fetchDestination(s);o&&(r[a]=o)});return shadow(this,"destinations",r)}getDestination(t){const r=this._readDests();if(r instanceof NameTree){const a=fetchDestination(r.get(t));if(a)return a;const s=this.destinations[t];if(s)return warn(`Found "${t}" at an incorrect position in the NameTree.`),s}else if(r instanceof Dict){const a=fetchDestination(r.get(t));if(a)return a}return null}_readDests(){const t=this._catDict.get("Names");if(t?.has("Dests"))return new NameTree(t.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let t=null;try{t=this._readPageLabels()}catch(r){if(r instanceof MissingDataException)throw r;warn("Unable to read page labels.")}return shadow(this,"pageLabels",t)}_readPageLabels(){const t=this._catDict.getRaw("PageLabels");if(!t)return null;const r=new Array(this.numPages);let a=null,s="";const l=new NumberTree(t,this.xref).getAll();let u="",d=1;for(let f=0,g=this.numPages;f<g;f++){const x=l.get(f);if(x!==void 0){if(!(x instanceof Dict))throw new FormatError("PageLabel is not a dictionary.");if(x.has("Type")&&!isName(x.get("Type"),"PageLabel"))throw new FormatError("Invalid type in PageLabel dictionary.");if(x.has("S")){const b=x.get("S");if(!(b instanceof Name))throw new FormatError("Invalid style in PageLabel dictionary.");a=b.name}else a=null;if(x.has("P")){const b=x.get("P");if(typeof b!="string")throw new FormatError("Invalid prefix in PageLabel dictionary.");s=stringToPDFString(b)}else s="";if(x.has("St")){const b=x.get("St");if(!(Number.isInteger(b)&&b>=1))throw new FormatError("Invalid start in PageLabel dictionary.");d=b}else d=1}switch(a){case"D":u=d;break;case"R":case"r":u=toRomanNumerals(d,a==="r");break;case"A":case"a":const b=26,v=a==="a"?97:65,w=d-1;u=String.fromCharCode(v+w%b).repeat(Math.floor(w/b)+1);break;default:if(a)throw new FormatError(`Invalid style "${a}" in PageLabel dictionary.`);u=""}r[f]=s+u,d++}return r}get pageLayout(){const t=this._catDict.get("PageLayout");let r="";if(t instanceof Name)switch(t.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":r=t.name}return shadow(this,"pageLayout",r)}get pageMode(){const t=this._catDict.get("PageMode");let r="UseNone";if(t instanceof Name)switch(t.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":r=t.name}return shadow(this,"pageMode",r)}get viewerPreferences(){const t=this._catDict.get("ViewerPreferences");if(!(t instanceof Dict))return shadow(this,"viewerPreferences",null);let r=null;for(const a of t.getKeys()){const s=t.get(a);let o;switch(a){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof s=="boolean"&&(o=s);break;case"NonFullScreenPageMode":if(s instanceof Name)switch(s.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":o=s.name;break;default:o="UseNone"}break;case"Direction":if(s instanceof Name)switch(s.name){case"L2R":case"R2L":o=s.name;break;default:o="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(s instanceof Name)switch(s.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":o=s.name;break;default:o="CropBox"}break;case"PrintScaling":if(s instanceof Name)switch(s.name){case"None":case"AppDefault":o=s.name;break;default:o="AppDefault"}break;case"Duplex":if(s instanceof Name)switch(s.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":o=s.name;break;default:o="None"}break;case"PrintPageRange":Array.isArray(s)&&s.length%2===0&&s.every((u,d,f)=>Number.isInteger(u)&&u>0&&(d===0||u>=f[d-1])&&u<=this.numPages)&&(o=s);break;case"NumCopies":Number.isInteger(s)&&s>0&&(o=s);break;default:warn(`Ignoring non-standard key in ViewerPreferences: ${a}.`);continue}if(o===void 0){warn(`Bad value, for key "${a}", in ViewerPreferences: ${s}.`);continue}r||(r=Object.create(null)),r[a]=o}return shadow(this,"viewerPreferences",r)}get openAction(){const t=this._catDict.get("OpenAction"),r=Object.create(null);if(t instanceof Dict){const a=new Dict(this.xref);a.set("A",t);const s={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:a,resultObj:s}),Array.isArray(s.dest)?r.dest=s.dest:s.action&&(r.action=s.action)}else Array.isArray(t)&&(r.dest=t);return shadow(this,"openAction",objectSize(r)>0?r:null)}get attachments(){const t=this._catDict.get("Names");let r=null;if(t instanceof Dict&&t.has("EmbeddedFiles")){const a=new NameTree(t.getRaw("EmbeddedFiles"),this.xref);for(const[s,o]of a.getAll()){const l=new FileSpec(o,this.xref);r||(r=Object.create(null)),r[stringToPDFString(s)]=l.serializable}}return shadow(this,"attachments",r)}get xfaImages(){const t=this._catDict.get("Names");let r=null;if(t instanceof Dict&&t.has("XFAImages")){const a=new NameTree(t.getRaw("XFAImages"),this.xref);for(const[s,o]of a.getAll())r||(r=new Dict(this.xref)),r.set(stringToPDFString(s),o)}return shadow(this,"xfaImages",r)}_collectJavaScript(){const t=this._catDict.get("Names");let r=null;function a(o,l){if(!(l instanceof Dict)||!isName(l.get("S"),"JavaScript"))return;let u=l.get("JS");if(u instanceof BaseStream)u=u.getString();else if(typeof u!="string")return;u=stringToPDFString(u).replaceAll("\0",""),u&&(r||=new Map).set(o,u)}if(t instanceof Dict&&t.has("JavaScript")){const o=new NameTree(t.getRaw("JavaScript"),this.xref);for(const[l,u]of o.getAll())a(stringToPDFString(l),u)}const s=this._catDict.get("OpenAction");return s&&a("OpenAction",s),r}get jsActions(){const t=this._collectJavaScript();let r=collectActions(this.xref,this._catDict,DocumentActionEventType);if(t){r||=Object.create(null);for(const[a,s]of t)a in r?r[a].push(s):r[a]=[s]}return shadow(this,"jsActions",r)}async fontFallback(t,r){const a=await Promise.all(this.fontCache);for(const s of a)if(s.loadedName===t){s.fallback(r);return}}async cleanup(t=!1){clearGlobalCaches(),this.globalImageCache.clear(t),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const r=await Promise.all(this.fontCache);for(const{dict:a}of r)delete a.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(t){const r=[this.toplevelPagesDict],a=new RefSet,s=this._catDict.getRaw("Pages");s instanceof Ref&&a.put(s);const o=this.xref,l=this.pageKidsCountCache,u=this.pageIndexCache;let d=0;for(;r.length;){const f=r.pop();if(f instanceof Ref){const m=l.get(f);if(m>=0&&d+m<=t){d+=m;continue}if(a.has(f))throw new FormatError("Pages tree contains circular reference.");a.put(f);const y=await o.fetchAsync(f);if(y instanceof Dict){let v=y.getRaw("Type");if(v instanceof Ref&&(v=await o.fetchAsync(v)),isName(v,"Page")||!y.has("Kids")){if(l.has(f)||l.put(f,1),u.has(f)||u.put(f,d),d===t)return[y,f];d++;continue}}r.push(y);continue}if(!(f instanceof Dict))throw new FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:g}=f;let x=f.getRaw("Count");if(x instanceof Ref&&(x=await o.fetchAsync(x)),Number.isInteger(x)&&x>=0&&(g&&!l.has(g)&&l.put(g,x),d+x<=t)){d+=x;continue}let b=f.getRaw("Kids");if(b instanceof Ref&&(b=await o.fetchAsync(b)),!Array.isArray(b)){let m=f.getRaw("Type");if(m instanceof Ref&&(m=await o.fetchAsync(m)),isName(m,"Page")||!f.has("Kids")){if(d===t)return[f,null];d++;continue}throw new FormatError("Page dictionary kids object is not an array.")}for(let m=b.length-1;m>=0;m--)r.push(b[m])}throw new Error(`Page index ${t} not found.`)}async getAllPageDicts(t=!1){const{ignoreErrors:r}=this.pdfManager.evaluatorOptions,a=[{currentNode:this.toplevelPagesDict,posInKids:0}],s=new RefSet,o=this._catDict.getRaw("Pages");o instanceof Ref&&s.put(o);const l=new Map,u=this.xref,d=this.pageIndexCache;let f=0;function g(b,m){m&&!d.has(m)&&d.put(m,f),l.set(f++,[b,m])}function x(b){if(b instanceof XRefEntryException&&!t)throw b;t&&r&&f===0&&(warn(`getAllPageDicts - Skipping invalid first page: "${b}".`),b=Dict.empty),l.set(f++,[b,null])}for(;a.length>0;){const b=a.at(-1),{currentNode:m,posInKids:y}=b;let v=m.getRaw("Kids");if(v instanceof Ref)try{v=await u.fetchAsync(v)}catch(E){x(E);break}if(!Array.isArray(v)){x(new FormatError("Page dictionary kids object is not an array."));break}if(y>=v.length){a.pop();continue}const w=v[y];let S;if(w instanceof Ref){if(s.has(w)){x(new FormatError("Pages tree contains circular reference."));break}s.put(w);try{S=await u.fetchAsync(w)}catch(E){x(E);break}}else S=w;if(!(S instanceof Dict)){x(new FormatError("Page dictionary kid reference points to wrong type of object."));break}let C=S.getRaw("Type");if(C instanceof Ref)try{C=await u.fetchAsync(C)}catch(E){x(E);break}isName(C,"Page")||!S.has("Kids")?g(S,w instanceof Ref?w:null):a.push({currentNode:S,posInKids:0}),b.posInKids++}return l}getPageIndex(t){const r=this.pageIndexCache.get(t);if(r!==void 0)return Promise.resolve(r);const a=this.xref;function s(u){let d=0,f;return a.fetchAsync(u).then(function(g){if(isRefsEqual(u,t)&&!isDict(g,"Page")&&!(g instanceof Dict&&!g.has("Type")&&g.has("Contents")))throw new FormatError("The reference does not point to a /Page dictionary.");if(!g)return null;if(!(g instanceof Dict))throw new FormatError("Node must be a dictionary.");return f=g.getRaw("Parent"),g.getAsync("Parent")}).then(function(g){if(!g)return null;if(!(g instanceof Dict))throw new FormatError("Parent must be a dictionary.");return g.getAsync("Kids")}).then(function(g){if(!g)return null;const x=[];let b=!1;for(const m of g){if(!(m instanceof Ref))throw new FormatError("Kid must be a reference.");if(isRefsEqual(m,u)){b=!0;break}x.push(a.fetchAsync(m).then(function(y){if(!(y instanceof Dict))throw new FormatError("Kid node must be a dictionary.");y.has("Count")?d+=y.get("Count"):d++}))}if(!b)throw new FormatError("Kid reference not found in parent's kids.");return Promise.all(x).then(function(){return[d,f]})})}let o=0;const l=u=>s(u).then(d=>{if(!d)return this.pageIndexCache.put(t,o),o;const[f,g]=d;return o+=f,l(g)});return l(t)}get baseUrl(){const t=this._catDict.get("URI");if(t instanceof Dict){const r=t.get("Base");if(typeof r=="string"){const a=createValidAbsoluteUrl(r,null,{tryConvertEncoding:!0});if(a)return shadow(this,"baseUrl",a.href)}}return shadow(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:t,resultObj:r,docBaseUrl:a=null,docAttachments:s=null}){if(!(t instanceof Dict)){warn("parseDestDictionary: `destDict` must be a dictionary.");return}let o=t.get("A"),l,u;if(o instanceof Dict||(t.has("Dest")?o=t.get("Dest"):(o=t.get("AA"),o instanceof Dict&&(o.has("D")?o=o.get("D"):o.has("U")&&(o=o.get("U"))))),o instanceof Dict){const d=o.get("S");if(!(d instanceof Name)){warn("parseDestDictionary: Invalid type in Action dictionary.");return}const f=d.name;switch(f){case"ResetForm":const g=o.get("Flags"),x=((typeof g=="number"?g:0)&1)===0,b=[],m=[];for(const W of o.get("Fields")||[])W instanceof Ref?m.push(W.toString()):typeof W=="string"&&b.push(stringToPDFString(W));r.resetForm={fields:b,refs:m,include:x};break;case"URI":l=o.get("URI"),l instanceof Name&&(l="/"+l.name);break;case"GoTo":u=o.get("D");break;case"Launch":case"GoToR":const y=o.get("F");y instanceof Dict?l=y.get("F")||null:typeof y=="string"&&(l=y);const v=fetchRemoteDest(o);v&&typeof l=="string"&&(l=l.split("#",1)[0]+"#"+v);const w=o.get("NewWindow");typeof w=="boolean"&&(r.newWindow=w);break;case"GoToE":const S=o.get("T");let C;if(s&&S instanceof Dict){const W=S.get("R"),Y=S.get("N");isName(W,"C")&&typeof Y=="string"&&(C=s[stringToPDFString(Y)])}if(C){r.attachment=C;const W=fetchRemoteDest(o);W&&(r.attachmentDest=W)}else warn('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const E=o.get("N");E instanceof Name&&(r.action=E.name);break;case"SetOCGState":const T=o.get("State"),_=o.get("PreserveRB");if(!Array.isArray(T)||T.length===0)break;const R=[];for(const W of T)if(W instanceof Name)switch(W.name){case"ON":case"OFF":case"Toggle":R.push(W.name);break}else W instanceof Ref&&R.push(W.toString());if(R.length!==T.length)break;r.setOCGState={state:R,preserveRB:typeof _=="boolean"?_:!0};break;case"JavaScript":const U=o.get("JS");let z;U instanceof BaseStream?z=U.getString():typeof U=="string"&&(z=U);const X=z&&recoverJsURL(stringToPDFString(z));if(X){l=X.url,r.newWindow=X.newWindow;break}default:if(f==="JavaScript"||f==="SubmitForm")break;warn(`parseDestDictionary - unsupported action: "${f}".`);break}}else t.has("Dest")&&(u=t.get("Dest"));if(typeof l=="string"){const d=createValidAbsoluteUrl(l,a,{addDefaultProtocol:!0,tryConvertEncoding:!0});d&&(r.url=d.href),r.unsafeUrl=l}u&&(u instanceof Name&&(u=u.name),typeof u=="string"?r.dest=stringToPDFString(u):Array.isArray(u)&&(r.dest=u))}}function mayHaveChildren(n){return n instanceof Ref||n instanceof Dict||n instanceof BaseStream||Array.isArray(n)}function addChildren(n,t){if(n instanceof Dict)n=n.getRawValues();else if(n instanceof BaseStream)n=n.dict.getRawValues();else if(!Array.isArray(n))return;for(const r of n)mayHaveChildren(r)&&t.push(r)}class ObjectLoader{constructor(t,r,a){this.dict=t,this.keys=r,this.xref=a,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:t,dict:r}=this;this.refSet=new RefSet;const a=[];for(const s of t){const o=r.getRaw(s);o!==void 0&&a.push(o)}return this._walk(a)}async _walk(t){const r=[],a=[];for(;t.length;){let s=t.pop();if(s instanceof Ref){if(this.refSet.has(s))continue;try{this.refSet.put(s),s=this.xref.fetch(s)}catch(o){if(!(o instanceof MissingDataException)){warn(`ObjectLoader._walk - requesting all data: "${o}".`),this.refSet=null;const{manager:l}=this.xref.stream;return l.requestAllChunks()}r.push(s),a.push({begin:o.begin,end:o.end})}}if(s instanceof BaseStream){const o=s.getBaseStreams();if(o){let l=!1;for(const u of o)u.isDataLoaded||(l=!0,a.push({begin:u.start,end:u.end}));l&&r.push(s)}}addChildren(s,t)}if(a.length){await this.xref.stream.manager.requestRanges(a);for(const s of r)s instanceof Ref&&this.refSet.remove(s);return this._walk(r)}this.refSet=null}}const $acceptWhitespace=Symbol(),$addHTML=Symbol(),$appendChild=Symbol(),$childrenToHTML=Symbol(),$clean=Symbol(),$cleanPage=Symbol(),$cleanup=Symbol(),$clone=Symbol(),$consumed=Symbol(),$content=Symbol("content"),$data=Symbol("data"),$dump=Symbol(),$extra=Symbol("extra"),$finalize=Symbol(),$flushHTML=Symbol(),$getAttributeIt=Symbol(),$getAttributes=Symbol(),$getAvailableSpace=Symbol(),$getChildrenByClass=Symbol(),$getChildrenByName=Symbol(),$getChildrenByNameIt=Symbol(),$getDataValue=Symbol(),$getExtra=Symbol(),$getRealChildrenByNameIt=Symbol(),$getChildren=Symbol(),$getContainedChildren=Symbol(),$getNextPage=Symbol(),$getSubformParent=Symbol(),$getParent=Symbol(),$getTemplateRoot=Symbol(),$globalData=Symbol(),$hasSettableValue=Symbol(),$ids=Symbol(),$indexOf=Symbol(),$insertAt=Symbol(),$isCDATAXml=Symbol(),$isBindable=Symbol(),$isDataValue=Symbol(),$isDescendent=Symbol(),$isNsAgnostic=Symbol(),$isSplittable=Symbol(),$isThereMoreWidth=Symbol(),$isTransparent=Symbol(),$isUsable=Symbol(),$lastAttribute=Symbol(),$namespaceId=Symbol("namespaceId"),$nodeName=Symbol("nodeName"),$nsAttributes=Symbol(),$onChild=Symbol(),$onChildCheck=Symbol(),$onText=Symbol(),$pushGlyphs=Symbol(),$popPara=Symbol(),$pushPara=Symbol(),$removeChild=Symbol(),$root=Symbol("root"),$resolvePrototypes=Symbol(),$searchNode=Symbol(),$setId=Symbol(),$setSetAttributes=Symbol(),$setValue=Symbol(),$tabIndex=Symbol(),$text=Symbol(),$toPages=Symbol(),$toHTML=Symbol(),$toString=Symbol(),$toStyle=Symbol(),$uid=Symbol("uid"),$buildXFAObject=Symbol(),NamespaceIds={config:{id:0,check:n=>n.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:n=>n==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:n=>n==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:n=>n==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:n=>n.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:n=>n==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:n=>n==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:n=>n==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:n=>n==="http://ns.adobe.com/xmpmeta/"}},dimConverters={pt:n=>n,cm:n=>n/2.54*72,mm:n=>n/(10*2.54)*72,in:n=>n*72,px:n=>n},measurementPattern=/([+-]?\d+\.?\d*)(.*)/;function stripQuotes(n){return n.startsWith("'")||n.startsWith('"')?n.slice(1,-1):n}function getInteger({data:n,defaultValue:t,validate:r}){if(!n)return t;n=n.trim();const a=parseInt(n,10);return!isNaN(a)&&r(a)?a:t}function getFloat({data:n,defaultValue:t,validate:r}){if(!n)return t;n=n.trim();const a=parseFloat(n);return!isNaN(a)&&r(a)?a:t}function getKeyword({data:n,defaultValue:t,validate:r}){return n?(n=n.trim(),r(n)?n:t):t}function getStringOption(n,t){return getKeyword({data:n,defaultValue:t[0],validate:r=>t.includes(r)})}function getMeasurement(n,t="0"){if(t||="0",!n)return getMeasurement(t);const r=n.trim().match(measurementPattern);if(!r)return getMeasurement(t);const[,a,s]=r,o=parseFloat(a);if(isNaN(o))return getMeasurement(t);if(o===0)return 0;const l=dimConverters[s];return l?l(o):o}function getRatio(n){if(!n)return{num:1,den:1};const t=n.trim().split(/\s*:\s*/).map(s=>parseFloat(s)).filter(s=>!isNaN(s));if(t.length===1&&t.push(1),t.length===0)return{num:1,den:1};const[r,a]=t;return{num:r,den:a}}function getRelevant(n){return n?n.trim().split(/\s+/).map(t=>({excluded:t[0]==="-",viewname:t.substring(1)})):[]}function getColor(n,t=[0,0,0]){let[r,a,s]=t;if(!n)return{r,g:a,b:s};const o=n.trim().split(/\s*,\s*/).map(l=>Math.min(Math.max(0,parseInt(l.trim(),10)),255)).map(l=>isNaN(l)?0:l);return o.length<3?{r,g:a,b:s}:([r,a,s]=o,{r,g:a,b:s})}function getBBox(n){if(!n)return{x:-1,y:-1,width:-1,height:-1};const r=n.trim().split(/\s*,\s*/).map(u=>getMeasurement(u,"-1"));if(r.length<4||r[2]<0||r[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[a,s,o,l]=r;return{x:a,y:s,width:o,height:l}}class HTMLResult{static get FAILURE(){return shadow(this,"FAILURE",new HTMLResult(!1,null,null,null))}static get EMPTY(){return shadow(this,"EMPTY",new HTMLResult(!0,null,null,null))}constructor(t,r,a,s){this.success=t,this.html=r,this.bbox=a,this.breakNode=s}isBreak(){return!!this.breakNode}static breakNode(t){return new HTMLResult(!1,null,null,t)}static success(t,r=null){return new HTMLResult(!0,t,r,null)}}class FontFinder{constructor(t){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(t)}add(t,r=null){for(const s of t)this.addPdfFont(s);for(const s of this.fonts.values())s.regular||(s.regular=s.italic||s.bold||s.bolditalic);if(!r||r.size===0)return;const a=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const s of r)this.fonts.set(s,a)}addPdfFont(t){const r=t.cssFontInfo,a=r.fontFamily;let s=this.fonts.get(a);s||(s=Object.create(null),this.fonts.set(a,s),this.defaultFont||(this.defaultFont=s));let o="";const l=parseFloat(r.fontWeight);parseFloat(r.italicAngle)!==0?o=l>=700?"bolditalic":"italic":l>=700&&(o="bold"),o||((t.name.includes("Bold")||t.psName?.includes("Bold"))&&(o="bold"),(t.name.includes("Italic")||t.name.endsWith("It")||t.psName?.includes("Italic")||t.psName?.endsWith("It"))&&(o+="italic")),o||(o="regular"),s[o]=t}getDefault(){return this.defaultFont}find(t,r=!0){let a=this.fonts.get(t)||this.cache.get(t);if(a)return a;const s=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let o=t.replaceAll(s,"");if(a=this.fonts.get(o),a)return this.cache.set(t,a),a;o=o.toLowerCase();const l=[];for(const[u,d]of this.fonts.entries())u.replaceAll(s,"").toLowerCase().startsWith(o)&&l.push(d);if(l.length===0)for(const[,u]of this.fonts.entries())u.regular.name?.replaceAll(s,"").toLowerCase().startsWith(o)&&l.push(u);if(l.length===0){o=o.replaceAll(/psmt|mt/gi,"");for(const[u,d]of this.fonts.entries())u.replaceAll(s,"").toLowerCase().startsWith(o)&&l.push(d)}if(l.length===0)for(const u of this.fonts.values())u.regular.name?.replaceAll(s,"").toLowerCase().startsWith(o)&&l.push(u);return l.length>=1?(l.length!==1&&r&&warn(`XFA - Too many choices to guess the correct font: ${t}`),this.cache.set(t,l[0]),l[0]):(r&&!this.warned.has(t)&&(this.warned.add(t),warn(`XFA - Cannot find the font: ${t}`)),null)}}function selectFont(n,t){return n.posture==="italic"?n.weight==="bold"?t.bolditalic:t.italic:n.weight==="bold"?t.bold:t.regular}function fonts_getMetrics(n,t=!1){let r=null;if(n){const l=stripQuotes(n.typeface),u=n[$globalData].fontFinder.find(l);r=selectFont(n,u)}if(!r)return{lineHeight:12,lineGap:2,lineNoGap:10};const a=n.size||10,s=r.lineHeight?Math.max(t?0:1.2,r.lineHeight):1.2,o=r.lineGap===void 0?.2:r.lineGap;return{lineHeight:s*a,lineGap:o*a,lineNoGap:Math.max(1,s-o)*a}}const WIDTH_FACTOR=1.02;class FontInfo{constructor(t,r,a,s){if(this.lineHeight=a,this.paraMargin=r||{top:0,bottom:0,left:0,right:0},!t){[this.pdfFont,this.xfaFont]=this.defaultFont(s);return}this.xfaFont={typeface:t.typeface,posture:t.posture,weight:t.weight,size:t.size,letterSpacing:t.letterSpacing};const o=s.find(t.typeface);if(!o){[this.pdfFont,this.xfaFont]=this.defaultFont(s);return}this.pdfFont=selectFont(t,o),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(s))}defaultFont(t){const r=t.find("Helvetica",!1)||t.find("Myriad Pro",!1)||t.find("Arial",!1)||t.getDefault();if(r?.regular){const s=r.regular,l={typeface:s.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[s,l]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class FontSelector{constructor(t,r,a,s){this.fontFinder=s,this.stack=[new FontInfo(t,r,a,s)]}pushData(t,r,a){const s=this.stack.at(-1);for(const l of["typeface","posture","weight","size","letterSpacing"])t[l]||(t[l]=s.xfaFont[l]);for(const l of["top","bottom","left","right"])isNaN(r[l])&&(r[l]=s.paraMargin[l]);const o=new FontInfo(t,r,a||s.lineHeight,this.fontFinder);o.pdfFont||(o.pdfFont=s.pdfFont),this.stack.push(o)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class TextMeasure{constructor(t,r,a,s){this.glyphs=[],this.fontSelector=new FontSelector(t,r,a,s),this.extraHeight=0}pushData(t,r,a){this.fontSelector.pushData(t,r,a)}popFont(t){return this.fontSelector.popFont()}addPara(){const t=this.fontSelector.topFont();this.extraHeight+=t.paraMargin.top+t.paraMargin.bottom}addString(t){if(!t)return;const r=this.fontSelector.topFont(),a=r.xfaFont.size;if(r.pdfFont){const s=r.xfaFont.letterSpacing,o=r.pdfFont,l=o.lineHeight||1.2,u=r.lineHeight||Math.max(1.2,l)*a,d=o.lineGap===void 0?.2:o.lineGap,f=l-d,g=Math.max(1,f)*a,x=a/1e3,b=o.defaultWidth||o.charsToGlyphs(" ")[0].width;for(const m of t.split(/[\u2029\n]/)){const y=o.encodeString(m).join(""),v=o.charsToGlyphs(y);for(const w of v){const S=w.width||b;this.glyphs.push([S*x+s,u,g,w.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const s of t.split(/[\u2029\n]/)){for(const o of s.split(""))this.glyphs.push([a,1.2*a,a,o,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(t){let r=-1,a=0,s=0,o=0,l=0,u=0,d=!1,f=!0;for(let g=0,x=this.glyphs.length;g<x;g++){const[b,m,y,v,w]=this.glyphs[g],S=v===" ",C=f?y:m;if(w){s=Math.max(s,l),l=0,o+=u,u=C,r=-1,a=0,f=!1;continue}if(S){l+b>t?(s=Math.max(s,l),l=0,o+=u,u=C,r=-1,a=0,d=!0,f=!1):(u=Math.max(C,u),a=l,l+=b,r=g);continue}if(l+b>t){o+=u,u=C,r!==-1?(g=r,s=Math.max(s,a),l=0,r=-1,a=0):(s=Math.max(s,l),l=b),d=!0,f=!1;continue}l+=b,u=Math.max(C,u)}return s=Math.max(s,l),o+=u+this.extraHeight,{width:WIDTH_FACTOR*s,height:o,isBroken:d}}}const namePattern=/^[^.[]+/,indexPattern=/^[^\]]+/,operators={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},shortcuts=new Map([["$data",(n,t)=>n.datasets?n.datasets.data:n],["$record",(n,t)=>(n.datasets?n.datasets.data:n)[$getChildren]()[0]],["$template",(n,t)=>n.template],["$connectionSet",(n,t)=>n.connectionSet],["$form",(n,t)=>n.form],["$layout",(n,t)=>n.layout],["$host",(n,t)=>n.host],["$dataWindow",(n,t)=>n.dataWindow],["$event",(n,t)=>n.event],["!",(n,t)=>n.datasets],["$xfa",(n,t)=>n],["xfa",(n,t)=>n],["$",(n,t)=>t]]),somCache=new WeakMap;function parseIndex(n){return n=n.trim(),n==="*"?1/0:parseInt(n,10)||0}function parseExpression(n,t,r=!0){let a=n.match(namePattern);if(!a)return null;let[s]=a;const o=[{name:s,cacheName:"."+s,index:0,js:null,formCalc:null,operator:operators.dot}];let l=s.length;for(;l<n.length;){const u=l;if(n.charAt(l++)==="["){if(a=n.slice(l).match(indexPattern),!a)return warn("XFA - Invalid index in SOM expression"),null;o.at(-1).index=parseIndex(a[0]),l+=a[0].length+1;continue}let f;switch(n.charAt(l)){case".":if(!t)return null;l++,f=operators.dotDot;break;case"#":l++,f=operators.dotHash;break;case"[":if(r)return warn("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;f=operators.dotBracket;break;case"(":if(r)return warn("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;f=operators.dotParen;break;default:f=operators.dot;break}if(a=n.slice(l).match(namePattern),!a)break;[s]=a,l+=s.length,o.push({name:s,cacheName:n.slice(u,l),operator:f,index:0,js:null,formCalc:null})}return o}function searchNode(n,t,r,a=!0,s=!0){const o=parseExpression(r,a);if(!o)return null;const l=shortcuts.get(o[0].name);let u=0,d;l?(d=!0,n=[l(n,t)],u=1):(d=t===null,n=[t||n]);for(let f=o.length;u<f;u++){const{name:g,cacheName:x,operator:b,index:m}=o[u],y=[];for(const v of n){if(!v.isXFAObject)continue;let w,S;if(s&&(S=somCache.get(v),S||(S=new Map,somCache.set(v,S)),w=S.get(x)),!w){switch(b){case operators.dot:w=v[$getChildrenByName](g,!1);break;case operators.dotDot:w=v[$getChildrenByName](g,!0);break;case operators.dotHash:w=v[$getChildrenByClass](g),w=w.isXFAObjectArray?w.children:[w];break}s&&S.set(x,w)}w.length>0&&y.push(w)}if(y.length===0&&!d&&u===0){if(t=t[$getParent](),!t)return null;u=-1,n=[t];continue}n=isFinite(m)?y.filter(v=>m<v.length).map(v=>v[m]):y.flat()}return n.length===0?null:n}function createDataNode(n,t,r){const a=parseExpression(r);if(!a||a.some(l=>l.operator===operators.dotDot))return null;const s=shortcuts.get(a[0].name);let o=0;s?(n=s(n,t),o=1):n=t||n;for(let l=a.length;o<l;o++){const{name:u,operator:d,index:f}=a[o];if(!isFinite(f))return a[o].index=0,n.createNodes(a.slice(o));let g;switch(d){case operators.dot:g=n[$getChildrenByName](u,!1);break;case operators.dotDot:g=n[$getChildrenByName](u,!0);break;case operators.dotHash:g=n[$getChildrenByClass](u),g=g.isXFAObjectArray?g.children:[g];break}if(g.length===0)return n.createNodes(a.slice(o));if(f<g.length){const x=g[f];if(!x.isXFAObject)return warn("XFA - Cannot create a node."),null;n=x}else return a[o].index=f-g.length,n.createNodes(a.slice(o))}return null}const _applyPrototype=Symbol(),_attributes=Symbol(),_attributeNames=Symbol(),_children=Symbol("_children"),_cloneAttribute=Symbol(),_dataValue=Symbol(),_defaultValue=Symbol(),_filteredChildrenGenerator=Symbol(),_getPrototype=Symbol(),_getUnsetAttributes=Symbol(),_hasChildren=Symbol(),_max=Symbol(),_options=Symbol(),_parent=Symbol("parent"),_resolvePrototypesHelper=Symbol(),_setAttributes=Symbol(),_validator=Symbol();let uid=0;const NS_DATASETS=NamespaceIds.datasets.id;class XFAObject{constructor(t,r,a=!1){this[$namespaceId]=t,this[$nodeName]=r,this[_hasChildren]=a,this[_parent]=null,this[_children]=[],this[$uid]=`${r}${uid++}`,this[$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(t){let r=this,a=null;for(const{name:s,index:o}of t){for(let l=0,u=isFinite(o)?o:0;l<=u;l++){const d=r[$namespaceId]===NS_DATASETS?-1:r[$namespaceId];a=new XmlObject(d,s),r[$appendChild](a)}r=a}return a}[$onChild](t){if(!this[_hasChildren]||!this[$onChildCheck](t))return!1;const r=t[$nodeName],a=this[r];if(a instanceof XFAObjectArray){if(a.push(t))return this[$appendChild](t),!0}else return a!==null&&this[$removeChild](a),this[r]=t,this[$appendChild](t),!0;let s="";return this.id?s=` (id: ${this.id})`:this.name&&(s=` (name: ${this.name} ${this.h.value})`),warn(`XFA - node "${this[$nodeName]}"${s} has already enough "${r}"!`),!1}[$onChildCheck](t){return this.hasOwnProperty(t[$nodeName])&&t[$namespaceId]===this[$namespaceId]}[$isNsAgnostic](){return!1}[$acceptWhitespace](){return!1}[$isCDATAXml](){return!1}[$isBindable](){return!1}[$popPara](){this.para&&this[$getTemplateRoot]()[$extra].paraStack.pop()}[$pushPara](){this[$getTemplateRoot]()[$extra].paraStack.push(this.para)}[$setId](t){this.id&&this[$namespaceId]===NamespaceIds.template.id&&t.set(this.id,this)}[$getTemplateRoot](){return this[$globalData].template}[$isSplittable](){return!1}[$isThereMoreWidth](){return!1}[$appendChild](t){t[_parent]=this,this[_children].push(t),!t[$globalData]&&this[$globalData]&&(t[$globalData]=this[$globalData])}[$removeChild](t){const r=this[_children].indexOf(t);this[_children].splice(r,1)}[$hasSettableValue](){return this.hasOwnProperty("value")}[$setValue](t){}[$onText](t){}[$finalize](){}[$clean](t){delete this[_hasChildren],this[$cleanup]&&(t.clean(this[$cleanup]),delete this[$cleanup])}[$indexOf](t){return this[_children].indexOf(t)}[$insertAt](t,r){r[_parent]=this,this[_children].splice(t,0,r),!r[$globalData]&&this[$globalData]&&(r[$globalData]=this[$globalData])}[$isTransparent](){return!this.name}[$lastAttribute](){return""}[$text](){return this[_children].length===0?this[$content]:this[_children].map(t=>t[$text]()).join("")}get[_attributeNames](){const t=Object.getPrototypeOf(this);if(!t._attributes){const r=t._attributes=new Set;for(const a of Object.getOwnPropertyNames(this)){if(this[a]===null||this[a]instanceof XFAObject||this[a]instanceof XFAObjectArray)break;r.add(a)}}return shadow(this,_attributeNames,t._attributes)}[$isDescendent](t){let r=this;for(;r;){if(r===t)return!0;r=r[$getParent]()}return!1}[$getParent](){return this[_parent]}[$getSubformParent](){return this[$getParent]()}[$getChildren](t=null){return t?this[t]:this[_children]}[$dump](){const t=Object.create(null);this[$content]&&(t.$content=this[$content]);for(const r of Object.getOwnPropertyNames(this)){const a=this[r];a!==null&&(a instanceof XFAObject?t[r]=a[$dump]():a instanceof XFAObjectArray?a.isEmpty()||(t[r]=a.dump()):t[r]=a)}return t}[$toStyle](){return null}[$toHTML](){return HTMLResult.EMPTY}*[$getContainedChildren](){for(const t of this[$getChildren]())yield t}*[_filteredChildrenGenerator](t,r){for(const a of this[$getContainedChildren]())if(!t||r===t.has(a[$nodeName])){const s=this[$getAvailableSpace](),o=a[$toHTML](s);o.success||(this[$extra].failingNode=a),yield o}}[$flushHTML](){return null}[$addHTML](t,r){this[$extra].children.push(t)}[$getAvailableSpace](){}[$childrenToHTML]({filter:t=null,include:r=!0}){if(!this[$extra].generator)this[$extra].generator=this[_filteredChildrenGenerator](t,r);else{const a=this[$getAvailableSpace](),s=this[$extra].failingNode[$toHTML](a);if(!s.success)return s;s.html&&this[$addHTML](s.html,s.bbox),delete this[$extra].failingNode}for(;;){const a=this[$extra].generator.next();if(a.done)break;const s=a.value;if(!s.success)return s;s.html&&this[$addHTML](s.html,s.bbox)}return this[$extra].generator=null,HTMLResult.EMPTY}[$setSetAttributes](t){this[_setAttributes]=new Set(Object.keys(t))}[_getUnsetAttributes](t){const r=this[_attributeNames],a=this[_setAttributes];return[...t].filter(s=>r.has(s)&&!a.has(s))}[$resolvePrototypes](t,r=new Set){for(const a of this[_children])a[_resolvePrototypesHelper](t,r)}[_resolvePrototypesHelper](t,r){const a=this[_getPrototype](t,r);a?this[_applyPrototype](a,t,r):this[$resolvePrototypes](t,r)}[_getPrototype](t,r){const{use:a,usehref:s}=this;if(!a&&!s)return null;let o=null,l=null,u=null,d=a;if(s?(d=s,s.startsWith("#som(")&&s.endsWith(")")?l=s.slice(5,-1):s.startsWith(".#som(")&&s.endsWith(")")?l=s.slice(6,-1):s.startsWith("#")?u=s.slice(1):s.startsWith(".#")&&(u=s.slice(2))):a.startsWith("#")?u=a.slice(1):l=a,this.use=this.usehref="",u?o=t.get(u):(o=searchNode(t.get($root),this,l,!0,!1),o&&(o=o[0])),!o)return warn(`XFA - Invalid prototype reference: ${d}.`),null;if(o[$nodeName]!==this[$nodeName])return warn(`XFA - Incompatible prototype: ${o[$nodeName]} !== ${this[$nodeName]}.`),null;if(r.has(o))return warn("XFA - Cycle detected in prototypes use."),null;r.add(o);const f=o[_getPrototype](t,r);return f&&o[_applyPrototype](f,t,r),o[$resolvePrototypes](t,r),r.delete(o),o}[_applyPrototype](t,r,a){if(a.has(t)){warn("XFA - Cycle detected in prototypes use.");return}!this[$content]&&t[$content]&&(this[$content]=t[$content]),new Set(a).add(t);for(const o of this[_getUnsetAttributes](t[_setAttributes]))this[o]=t[o],this[_setAttributes]&&this[_setAttributes].add(o);for(const o of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(o))continue;const l=this[o],u=t[o];if(l instanceof XFAObjectArray){for(const d of l[_children])d[_resolvePrototypesHelper](r,a);for(let d=l[_children].length,f=u[_children].length;d<f;d++){const g=t[_children][d][$clone]();if(l.push(g))g[_parent]=this,this[_children].push(g),g[_resolvePrototypesHelper](r,a);else break}continue}if(l!==null){l[$resolvePrototypes](r,a),u&&l[_applyPrototype](u,r,a);continue}if(u!==null){const d=u[$clone]();d[_parent]=this,this[o]=d,this[_children].push(d),d[_resolvePrototypesHelper](r,a)}}}static[_cloneAttribute](t){return Array.isArray(t)?t.map(r=>XFAObject[_cloneAttribute](r)):typeof t=="object"&&t!==null?Object.assign({},t):t}[$clone](){const t=Object.create(Object.getPrototypeOf(this));for(const r of Object.getOwnPropertySymbols(this))try{t[r]=this[r]}catch{shadow(t,r,this[r])}t[$uid]=`${t[$nodeName]}${uid++}`,t[_children]=[];for(const r of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(r)){t[r]=XFAObject[_cloneAttribute](this[r]);continue}const a=this[r];t[r]=a instanceof XFAObjectArray?new XFAObjectArray(a[_max]):null}for(const r of this[_children]){const a=r[$nodeName],s=r[$clone]();t[_children].push(s),s[_parent]=t,t[a]===null?t[a]=s:t[a][_children].push(s)}return t}[$getChildren](t=null){return t?this[_children].filter(r=>r[$nodeName]===t):this[_children]}[$getChildrenByClass](t){return this[t]}[$getChildrenByName](t,r,a=!0){return Array.from(this[$getChildrenByNameIt](t,r,a))}*[$getChildrenByNameIt](t,r,a=!0){if(t==="parent"){yield this[_parent];return}for(const s of this[_children])s[$nodeName]===t&&(yield s),s.name===t&&(yield s),(r||s[$isTransparent]())&&(yield*s[$getChildrenByNameIt](t,r,!1));a&&this[_attributeNames].has(t)&&(yield new XFAAttribute(this,t,this[t]))}}class XFAObjectArray{constructor(t=1/0){this[_max]=t,this[_children]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(t){return this[_children].length<=this[_max]?(this[_children].push(t),!0):(warn(`XFA - node "${t[$nodeName]}" accepts no more than ${this[_max]} children`),!1)}isEmpty(){return this[_children].length===0}dump(){return this[_children].length===1?this[_children][0][$dump]():this[_children].map(t=>t[$dump]())}[$clone](){const t=new XFAObjectArray(this[_max]);return t[_children]=this[_children].map(r=>r[$clone]()),t}get children(){return this[_children]}clear(){this[_children].length=0}}class XFAAttribute{constructor(t,r,a){this[_parent]=t,this[$nodeName]=r,this[$content]=a,this[$consumed]=!1,this[$uid]=`attribute${uid++}`}[$getParent](){return this[_parent]}[$isDataValue](){return!0}[$getDataValue](){return this[$content].trim()}[$setValue](t){t=t.value||"",this[$content]=t.toString()}[$text](){return this[$content]}[$isDescendent](t){return this[_parent]===t||this[_parent][$isDescendent](t)}}class XmlObject extends XFAObject{constructor(t,r,a={}){if(super(t,r),this[$content]="",this[_dataValue]=null,r!=="#text"){const s=new Map;this[_attributes]=s;for(const[o,l]of Object.entries(a))s.set(o,new XFAAttribute(this,o,l));if(a.hasOwnProperty($nsAttributes)){const o=a[$nsAttributes].xfa.dataNode;o!==void 0&&(o==="dataGroup"?this[_dataValue]=!1:o==="dataValue"&&(this[_dataValue]=!0))}}this[$consumed]=!1}[$toString](t){const r=this[$nodeName];if(r==="#text"){t.push(encodeToXmlString(this[$content]));return}const a=utf8StringToString(r),s=this[$namespaceId]===NS_DATASETS?"xfa:":"";t.push(`<${s}${a}`);for(const[o,l]of this[_attributes].entries()){const u=utf8StringToString(o);t.push(` ${u}="${encodeToXmlString(l[$content])}"`)}if(this[_dataValue]!==null&&(this[_dataValue]?t.push(' xfa:dataNode="dataValue"'):t.push(' xfa:dataNode="dataGroup"')),!this[$content]&&this[_children].length===0){t.push("/>");return}if(t.push(">"),this[$content])typeof this[$content]=="string"?t.push(encodeToXmlString(this[$content])):this[$content][$toString](t);else for(const o of this[_children])o[$toString](t);t.push(`</${s}${a}>`)}[$onChild](t){if(this[$content]){const r=new XmlObject(this[$namespaceId],"#text");this[$appendChild](r),r[$content]=this[$content],this[$content]=""}return this[$appendChild](t),!0}[$onText](t){this[$content]+=t}[$finalize](){if(this[$content]&&this[_children].length>0){const t=new XmlObject(this[$namespaceId],"#text");this[$appendChild](t),t[$content]=this[$content],delete this[$content]}}[$toHTML](){return this[$nodeName]==="#text"?HTMLResult.success({name:"#text",value:this[$content]}):HTMLResult.EMPTY}[$getChildren](t=null){return t?this[_children].filter(r=>r[$nodeName]===t):this[_children]}[$getAttributes](){return this[_attributes]}[$getChildrenByClass](t){const r=this[_attributes].get(t);return r!==void 0?r:this[$getChildren](t)}*[$getChildrenByNameIt](t,r){const a=this[_attributes].get(t);a&&(yield a);for(const s of this[_children])s[$nodeName]===t&&(yield s),r&&(yield*s[$getChildrenByNameIt](t,r))}*[$getAttributeIt](t,r){const a=this[_attributes].get(t);a&&(!r||!a[$consumed])&&(yield a);for(const s of this[_children])yield*s[$getAttributeIt](t,r)}*[$getRealChildrenByNameIt](t,r,a){for(const s of this[_children])s[$nodeName]===t&&(!a||!s[$consumed])&&(yield s),r&&(yield*s[$getRealChildrenByNameIt](t,r,a))}[$isDataValue](){return this[_dataValue]===null?this[_children].length===0||this[_children][0][$namespaceId]===NamespaceIds.xhtml.id:this[_dataValue]}[$getDataValue](){return this[_dataValue]===null?this[_children].length===0?this[$content].trim():this[_children][0][$namespaceId]===NamespaceIds.xhtml.id?this[_children][0][$text]().trim():null:this[$content].trim()}[$setValue](t){t=t.value||"",this[$content]=t.toString()}[$dump](t=!1){const r=Object.create(null);t&&(r.$ns=this[$namespaceId]),this[$content]&&(r.$content=this[$content]),r.$name=this[$nodeName],r.children=[];for(const a of this[_children])r.children.push(a[$dump](t));r.attributes=Object.create(null);for(const[a,s]of this[_attributes])r.attributes[a]=s[$content];return r}}class ContentObject extends XFAObject{constructor(t,r){super(t,r),this[$content]=""}[$onText](t){this[$content]+=t}[$finalize](){}}class OptionObject extends ContentObject{constructor(t,r,a){super(t,r),this[_options]=a}[$finalize](){this[$content]=getKeyword({data:this[$content],defaultValue:this[_options][0],validate:t=>this[_options].includes(t)})}[$clean](t){super[$clean](t),delete this[_options]}}class StringObject extends ContentObject{[$finalize](){this[$content]=this[$content].trim()}}class IntegerObject extends ContentObject{constructor(t,r,a,s){super(t,r),this[_defaultValue]=a,this[_validator]=s}[$finalize](){this[$content]=getInteger({data:this[$content],defaultValue:this[_defaultValue],validate:this[_validator]})}[$clean](t){super[$clean](t),delete this[_defaultValue],delete this[_validator]}}class Option01 extends IntegerObject{constructor(t,r){super(t,r,0,a=>a===1)}}class Option10 extends IntegerObject{constructor(t,r){super(t,r,1,a=>a===0)}}function measureToString(n){return typeof n=="string"?"0px":Number.isInteger(n)?`${n}px`:`${n.toFixed(2)}px`}const converters={anchorType(n,t){const r=n[$getSubformParent]();if(!(!r||r.layout&&r.layout!=="position"))switch("transform"in t||(t.transform=""),n.anchorType){case"bottomCenter":t.transform+="translate(-50%, -100%)";break;case"bottomLeft":t.transform+="translate(0,-100%)";break;case"bottomRight":t.transform+="translate(-100%,-100%)";break;case"middleCenter":t.transform+="translate(-50%,-50%)";break;case"middleLeft":t.transform+="translate(0,-50%)";break;case"middleRight":t.transform+="translate(-100%,-50%)";break;case"topCenter":t.transform+="translate(-50%,0)";break;case"topRight":t.transform+="translate(-100%,0)";break}},dimensions(n,t){const r=n[$getSubformParent]();let a=n.w;const s=n.h;if(r.layout?.includes("row")){const o=r[$extra],l=n.colSpan;let u;l===-1?(u=o.columnWidths.slice(o.currentColumn).reduce((d,f)=>d+f,0),o.currentColumn=0):(u=o.columnWidths.slice(o.currentColumn,o.currentColumn+l).reduce((d,f)=>d+f,0),o.currentColumn=(o.currentColumn+n.colSpan)%o.columnWidths.length),isNaN(u)||(a=n.w=u)}t.width=a!==""?measureToString(a):"auto",t.height=s!==""?measureToString(s):"auto"},position(n,t){const r=n[$getSubformParent]();r?.layout&&r.layout!=="position"||(t.position="absolute",t.left=measureToString(n.x),t.top=measureToString(n.y))},rotate(n,t){n.rotate&&("transform"in t||(t.transform=""),t.transform+=`rotate(-${n.rotate}deg)`,t.transformOrigin="top left")},presence(n,t){switch(n.presence){case"invisible":t.visibility="hidden";break;case"hidden":case"inactive":t.display="none";break}},hAlign(n,t){if(n[$nodeName]==="para")switch(n.hAlign){case"justifyAll":t.textAlign="justify-all";break;case"radix":t.textAlign="left";break;default:t.textAlign=n.hAlign}else switch(n.hAlign){case"left":t.alignSelf="start";break;case"center":t.alignSelf="center";break;case"right":t.alignSelf="end";break}},margin(n,t){n.margin&&(t.margin=n.margin[$toStyle]().margin)}};function setMinMaxDimensions(n,t){n[$getSubformParent]().layout==="position"&&(n.minW>0&&(t.minWidth=measureToString(n.minW)),n.maxW>0&&(t.maxWidth=measureToString(n.maxW)),n.minH>0&&(t.minHeight=measureToString(n.minH)),n.maxH>0&&(t.maxHeight=measureToString(n.maxH)))}function layoutText(n,t,r,a,s,o){const l=new TextMeasure(t,r,a,s);return typeof n=="string"?l.addString(n):n[$pushGlyphs](l),l.compute(o)}function layoutNode(n,t){let r=null,a=null,s=!1;if((!n.w||!n.h)&&n.value){let o=0,l=0;n.margin&&(o=n.margin.leftInset+n.margin.rightInset,l=n.margin.topInset+n.margin.bottomInset);let u=null,d=null;n.para&&(d=Object.create(null),u=n.para.lineHeight===""?null:n.para.lineHeight,d.top=n.para.spaceAbove===""?0:n.para.spaceAbove,d.bottom=n.para.spaceBelow===""?0:n.para.spaceBelow,d.left=n.para.marginLeft===""?0:n.para.marginLeft,d.right=n.para.marginRight===""?0:n.para.marginRight);let f=n.font;if(!f){const b=n[$getTemplateRoot]();let m=n[$getParent]();for(;m&&m!==b;){if(m.font){f=m.font;break}m=m[$getParent]()}}const g=(n.w||t.width)-o,x=n[$globalData].fontFinder;if(n.value.exData&&n.value.exData[$content]&&n.value.exData.contentType==="text/html"){const b=layoutText(n.value.exData[$content],f,d,u,x,g);a=b.width,r=b.height,s=b.isBroken}else{const b=n.value[$text]();if(b){const m=layoutText(b,f,d,u,x,g);a=m.width,r=m.height,s=m.isBroken}}a!==null&&!n.w&&(a+=o),r!==null&&!n.h&&(r+=l)}return{w:a,h:r,isBroken:s}}function computeBbox(n,t,r){let a;if(n.w!==""&&n.h!=="")a=[n.x,n.y,n.w,n.h];else{if(!r)return null;let s=n.w;if(s===""){if(n.maxW===0){const l=n[$getSubformParent]();s=l.layout==="position"&&l.w!==""?0:n.minW}else s=Math.min(n.maxW,r.width);t.attributes.style.width=measureToString(s)}let o=n.h;if(o===""){if(n.maxH===0){const l=n[$getSubformParent]();o=l.layout==="position"&&l.h!==""?0:n.minH}else o=Math.min(n.maxH,r.height);t.attributes.style.height=measureToString(o)}a=[n.x,n.y,s,o]}return a}function fixDimensions(n){const t=n[$getSubformParent]();if(t.layout?.includes("row")){const r=t[$extra],a=n.colSpan;let s;a===-1?s=r.columnWidths.slice(r.currentColumn).reduce((o,l)=>o+l,0):s=r.columnWidths.slice(r.currentColumn,r.currentColumn+a).reduce((o,l)=>o+l,0),isNaN(s)||(n.w=s)}t.layout&&t.layout!=="position"&&(n.x=n.y=0),n.layout==="table"&&n.w===""&&Array.isArray(n.columnWidths)&&(n.w=n.columnWidths.reduce((r,a)=>r+a,0))}function layoutClass(n){switch(n.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function toStyle(n,...t){const r=Object.create(null);for(const a of t){const s=n[a];if(s!==null){if(converters.hasOwnProperty(a)){converters[a](n,r);continue}if(s instanceof XFAObject){const o=s[$toStyle]();o?Object.assign(r,o):warn(`(DEBUG) - XFA - style for ${a} not implemented yet`)}}}return r}function createWrapper(n,t){const{attributes:r}=t,{style:a}=r,s={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(r.class.push("xfaWrapped"),n.border){const{widths:o,insets:l}=n.border[$extra];let u,d,f=l[0],g=l[3];const x=l[0]+l[2],b=l[1]+l[3];switch(n.border.hand){case"even":f-=o[0]/2,g-=o[3]/2,u=`calc(100% + ${(o[1]+o[3])/2-b}px)`,d=`calc(100% + ${(o[0]+o[2])/2-x}px)`;break;case"left":f-=o[0],g-=o[3],u=`calc(100% + ${o[1]+o[3]-b}px)`,d=`calc(100% + ${o[0]+o[2]-x}px)`;break;case"right":u=b?`calc(100% - ${b}px)`:"100%",d=x?`calc(100% - ${x}px)`:"100%";break}const m=["xfaBorder"];isPrintOnly(n.border)&&m.push("xfaPrintOnly");const y={name:"div",attributes:{class:m,style:{top:`${f}px`,left:`${g}px`,width:u,height:d}},children:[]};for(const v of["border","borderWidth","borderColor","borderRadius","borderStyle"])a[v]!==void 0&&(y.attributes.style[v]=a[v],delete a[v]);s.children.push(y,t)}else s.children.push(t);for(const o of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])a[o]!==void 0&&(s.attributes.style[o]=a[o],delete a[o]);return s.attributes.style.position=a.position==="absolute"?"absolute":"relative",delete a.position,a.alignSelf&&(s.attributes.style.alignSelf=a.alignSelf,delete a.alignSelf),s}function fixTextIndent(n){const t=getMeasurement(n.textIndent,"0px");if(t>=0)return;const a="padding"+((n.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),s=getMeasurement(n[a],"0px");n[a]=`${s-t}px`}function setAccess(n,t){switch(n.access){case"nonInteractive":t.push("xfaNonInteractive");break;case"readOnly":t.push("xfaReadOnly");break;case"protected":t.push("xfaDisabled");break}}function isPrintOnly(n){return n.relevant.length>0&&!n.relevant[0].excluded&&n.relevant[0].viewname==="print"}function getCurrentPara(n){const t=n[$getTemplateRoot]()[$extra].paraStack;return t.length?t.at(-1):null}function setPara(n,t,r){if(r.attributes.class?.includes("xfaRich")){t&&(n.h===""&&(t.height="auto"),n.w===""&&(t.width="auto"));const a=getCurrentPara(n);if(a){const s=r.attributes.style;switch(s.display="flex",s.flexDirection="column",a.vAlign){case"top":s.justifyContent="start";break;case"bottom":s.justifyContent="end";break;case"middle":s.justifyContent="center";break}const o=a[$toStyle]();for(const[l,u]of Object.entries(o))l in s||(s[l]=u)}}}function setFontFamily(n,t,r,a){if(!r){delete a.fontFamily;return}const s=stripQuotes(n.typeface);a.fontFamily=`"${s}"`;const o=r.find(s);if(o){const{fontFamily:l}=o.regular.cssFontInfo;l!==s&&(a.fontFamily=`"${l}"`);const u=getCurrentPara(t);if(u&&u.lineHeight!==""||a.lineHeight)return;const d=selectFont(n,o);d&&(a.lineHeight=Math.max(1.2,d.lineHeight))}}function fixURL(n){const t=createValidAbsoluteUrl(n,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return t?t.href:null}function createLine(n,t){return{name:"div",attributes:{class:[n.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:t}}function flushHTML(n){if(!n[$extra])return null;const r={name:"div",attributes:n[$extra].attributes,children:n[$extra].children};if(n[$extra].failingNode){const a=n[$extra].failingNode[$flushHTML]();a&&(n.layout.endsWith("-tb")?r.children.push(createLine(n,[a])):r.children.push(a))}return r.children.length===0?null:r}function addHTML(n,t,r){const a=n[$extra],s=a.availableSpace,[o,l,u,d]=r;switch(n.layout){case"position":{a.width=Math.max(a.width,o+u),a.height=Math.max(a.height,l+d),a.children.push(t);break}case"lr-tb":case"rl-tb":(!a.line||a.attempt===1)&&(a.line=createLine(n,[]),a.children.push(a.line),a.numberInLine=0),a.numberInLine+=1,a.line.children.push(t),a.attempt===0?(a.currentWidth+=u,a.height=Math.max(a.height,a.prevHeight+d)):(a.currentWidth=u,a.prevHeight=a.height,a.height+=d,a.attempt=0),a.width=Math.max(a.width,a.currentWidth);break;case"rl-row":case"row":{a.children.push(t),a.width+=u,a.height=Math.max(a.height,d);const f=measureToString(a.height);for(const g of a.children)g.attributes.style.height=f;break}case"table":{a.width=Math.min(s.width,Math.max(a.width,u)),a.height+=d,a.children.push(t);break}case"tb":{a.width=Math.min(s.width,Math.max(a.width,u)),a.height+=d,a.children.push(t);break}}}function getAvailableSpace(n){const t=n[$extra].availableSpace,r=n.margin?n.margin.topInset+n.margin.bottomInset:0,a=n.margin?n.margin.leftInset+n.margin.rightInset:0;switch(n.layout){case"lr-tb":case"rl-tb":return n[$extra].attempt===0?{width:t.width-a-n[$extra].currentWidth,height:t.height-r-n[$extra].prevHeight}:{width:t.width-a,height:t.height-r-n[$extra].height};case"rl-row":case"row":return{width:n[$extra].columnWidths.slice(n[$extra].currentColumn).reduce((o,l)=>o+l),height:t.height-a};case"table":case"tb":return{width:t.width-a,height:t.height-r-n[$extra].height};case"position":default:return t}}function getTransformedBBox(n){let t=n.w===""?NaN:n.w,r=n.h===""?NaN:n.h,[a,s]=[0,0];switch(n.anchorType||""){case"bottomCenter":[a,s]=[t/2,r];break;case"bottomLeft":[a,s]=[0,r];break;case"bottomRight":[a,s]=[t,r];break;case"middleCenter":[a,s]=[t/2,r/2];break;case"middleLeft":[a,s]=[0,r/2];break;case"middleRight":[a,s]=[t,r/2];break;case"topCenter":[a,s]=[t/2,0];break;case"topRight":[a,s]=[t,0];break}let o,l;switch(n.rotate||0){case 0:[o,l]=[-a,-s];break;case 90:[o,l]=[-s,a],[t,r]=[r,-t];break;case 180:[o,l]=[a,s],[t,r]=[-t,-r];break;case 270:[o,l]=[s,-a],[t,r]=[-r,t];break}return[n.x+o+Math.min(0,t),n.y+l+Math.min(0,r),Math.abs(t),Math.abs(r)]}function checkDimensions(n,t){if(n[$getTemplateRoot]()[$extra].firstUnsplittable===null||n.w===0||n.h===0)return!0;const r=2,a=n[$getSubformParent](),s=a[$extra]?.attempt||0,[,o,l,u]=getTransformedBBox(n);switch(a.layout){case"lr-tb":case"rl-tb":return s===0?n[$getTemplateRoot]()[$extra].noLayoutFailure?n.w!==""?Math.round(l-t.width)<=r:t.width>r:n.h!==""&&Math.round(u-t.height)>r?!1:n.w!==""?Math.round(l-t.width)<=r?!0:a[$extra].numberInLine===0?t.height>r:!1:t.width>r:n[$getTemplateRoot]()[$extra].noLayoutFailure?!0:n.h!==""&&Math.round(u-t.height)>r?!1:n.w===""||Math.round(l-t.width)<=r?t.height>r:a[$isThereMoreWidth]()?!1:t.height>r;case"table":case"tb":return n[$getTemplateRoot]()[$extra].noLayoutFailure?!0:n.h!==""&&!n[$isSplittable]()?Math.round(u-t.height)<=r:n.w===""||Math.round(l-t.width)<=r?t.height>r:a[$isThereMoreWidth]()?!1:t.height>r;case"position":if(n[$getTemplateRoot]()[$extra].noLayoutFailure||n.h===""||Math.round(u+o-t.height)<=r)return!0;const d=n[$getTemplateRoot]()[$extra].currentContentArea;return u+o>d.h;case"rl-row":case"row":return n[$getTemplateRoot]()[$extra].noLayoutFailure?!0:n.h!==""?Math.round(u-t.height)<=r:!0;default:return!0}}const TEMPLATE_NS_ID=NamespaceIds.template.id,SVG_NS="http://www.w3.org/2000/svg",MAX_ATTEMPTS_FOR_LRTB_LAYOUT=2,MAX_EMPTY_PAGES=3,DEFAULT_TAB_INDEX=5e3,HEADING_PATTERN=/^H(\d+)$/,MIMES=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),IMAGES_HEADERS=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function getBorderDims(n){if(!n||!n.border)return{w:0,h:0};const t=n.border[$getExtra]();return t?{w:t.widths[0]+t.widths[2]+t.insets[0]+t.insets[2],h:t.widths[1]+t.widths[3]+t.insets[1]+t.insets[3]}:{w:0,h:0}}function hasMargin(n){return n.margin&&(n.margin.topInset||n.margin.rightInset||n.margin.bottomInset||n.margin.leftInset)}function _setValue(n,t){if(!n.value){const r=new Value({});n[$appendChild](r),n.value=r}n.value[$setValue](t)}function*getContainedChildren(n){for(const t of n[$getChildren]()){if(t instanceof SubformSet){yield*t[$getContainedChildren]();continue}yield t}}function isRequired(n){return n.validate?.nullTest==="error"}function setTabIndex(n){for(;n;){if(!n.traversal){n[$tabIndex]=n[$getParent]()[$tabIndex];return}if(n[$tabIndex])return;let t=null;for(const s of n.traversal[$getChildren]())if(s.operation==="next"){t=s;break}if(!t||!t.ref){n[$tabIndex]=n[$getParent]()[$tabIndex];return}const r=n[$getTemplateRoot]();n[$tabIndex]=++r[$tabIndex];const a=r[$searchNode](t.ref,n);if(!a)return;n=a[0]}}function applyAssist(n,t){const r=n.assist;if(r){const a=r[$toHTML]();a&&(t.title=a);const o=r.role.match(HEADING_PATTERN);if(o){const l="heading",u=o[1];t.role=l,t["aria-level"]=u}}if(n.layout==="table")t.role="table";else if(n.layout==="row")t.role="row";else{const a=n[$getParent]();a.layout==="row"&&(t.role=a.assist?.role==="TH"?"columnheader":"cell")}}function ariaLabel(n){if(!n.assist)return null;const t=n.assist;return t.speak&&t.speak[$content]!==""?t.speak[$content]:t.toolTip?t.toolTip[$content]:null}function valueToHtml(n){return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:n}]})}function setFirstUnsplittable(n){const t=n[$getTemplateRoot]();t[$extra].firstUnsplittable===null&&(t[$extra].firstUnsplittable=n,t[$extra].noLayoutFailure=!0)}function unsetFirstUnsplittable(n){const t=n[$getTemplateRoot]();t[$extra].firstUnsplittable===n&&(t[$extra].noLayoutFailure=!1)}function handleBreak(n){if(n[$extra]||(n[$extra]=Object.create(null),n.targetType==="auto"))return!1;const t=n[$getTemplateRoot]();let r=null;if(n.target){if(r=t[$searchNode](n.target,n[$getParent]()),!r)return!1;r=r[0]}const{currentPageArea:a,currentContentArea:s}=t[$extra];if(n.targetType==="pageArea")return r instanceof PageArea||(r=null),n.startNew?(n[$extra].target=r||a,!0):r&&r!==a?(n[$extra].target=r,!0):!1;r instanceof ContentArea||(r=null);const o=r&&r[$getParent]();let l,u=o;if(n.startNew)if(r){const d=o.contentArea.children,f=d.indexOf(s),g=d.indexOf(r);f!==-1&&f<g&&(u=null),l=g-1}else l=a.contentArea.children.indexOf(s);else if(r&&r!==s)l=o.contentArea.children.indexOf(r)-1,u=o===a?null:o;else return!1;return n[$extra].target=u,n[$extra].index=l,!0}function handleOverflow(n,t,r){const a=n[$getTemplateRoot](),s=a[$extra].noLayoutFailure,o=t[$getSubformParent];t[$getSubformParent]=()=>n,a[$extra].noLayoutFailure=!0;const l=t[$toHTML](r);n[$addHTML](l.html,l.bbox),a[$extra].noLayoutFailure=s,t[$getSubformParent]=o}class AppearanceFilter extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"appearanceFilter"),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Arc extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"arc",!0),this.circular=getInteger({data:t.circular,defaultValue:0,validate:r=>r===1}),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.startAngle=getFloat({data:t.startAngle,defaultValue:0,validate:r=>!0}),this.sweepAngle=getFloat({data:t.sweepAngle,defaultValue:360,validate:r=>!0}),this.use=t.use||"",this.usehref=t.usehref||"",this.edge=null,this.fill=null}[$toHTML](){const t=this.edge||new Edge({}),r=t[$toStyle](),a=Object.create(null);this.fill?.presence==="visible"?Object.assign(a,this.fill[$toStyle]()):a.fill="transparent",a.strokeWidth=measureToString(t.presence==="visible"?t.thickness:0),a.stroke=r.color;let s;const o={xmlns:SVG_NS,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)s={name:"ellipse",attributes:{xmlns:SVG_NS,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:a}};else{const d=this.startAngle*Math.PI/180,f=this.sweepAngle*Math.PI/180,g=this.sweepAngle>180?1:0,[x,b,m,y]=[50*(1+Math.cos(d)),50*(1-Math.sin(d)),50*(1+Math.cos(d+f)),50*(1-Math.sin(d+f))];s={name:"path",attributes:{xmlns:SVG_NS,d:`M ${x} ${b} A 50 50 0 ${g} 0 ${m} ${y}`,vectorEffect:"non-scaling-stroke",style:a}},Object.assign(o,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const l={name:"svg",children:[s],attributes:o},u=this[$getParent]()[$getParent]();return hasMargin(u)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[l]}):(l.attributes.style.position="absolute",HTMLResult.success(l))}}class Area extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"area",!0),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:r=>r>=1||r===-1}),this.id=t.id||"",this.name=t.name||"",this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.desc=null,this.extras=null,this.area=new XFAObjectArray,this.draw=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$isTransparent](){return!0}[$isBindable](){return!0}[$addHTML](t,r){const[a,s,o,l]=r;this[$extra].width=Math.max(this[$extra].width,a+o),this[$extra].height=Math.max(this[$extra].height,s+l),this[$extra].children.push(t)}[$getAvailableSpace](){return this[$extra].availableSpace}[$toHTML](t){const r=toStyle(this,"position"),a={style:r,id:this[$uid],class:["xfaArea"]};isPrintOnly(this)&&a.class.push("xfaPrintOnly"),this.name&&(a.xfaName=this.name);const s=[];this[$extra]={children:s,width:0,height:0,availableSpace:t};const o=this[$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!o.success)return o.isBreak()?o:(delete this[$extra],HTMLResult.FAILURE);r.width=measureToString(this[$extra].width),r.height=measureToString(this[$extra].height);const l={name:"div",attributes:a,children:s},u=[this.x,this.y,this[$extra].width,this[$extra].height];return delete this[$extra],HTMLResult.success(l,u)}}class Assist extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"assist",!0),this.id=t.id||"",this.role=t.role||"",this.use=t.use||"",this.usehref=t.usehref||"",this.speak=null,this.toolTip=null}[$toHTML](){return this.toolTip?.[$content]||null}}class Barcode extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"barcode",!0),this.charEncoding=getKeyword({data:t.charEncoding?t.charEncoding.toLowerCase():"",defaultValue:"",validate:r=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(r)||r.match(/iso-8859-\d{2}/)}),this.checksum=getStringOption(t.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=getInteger({data:t.dataColumnCount,defaultValue:-1,validate:r=>r>=0}),this.dataLength=getInteger({data:t.dataLength,defaultValue:-1,validate:r=>r>=0}),this.dataPrep=getStringOption(t.dataPrep,["none","flateCompress"]),this.dataRowCount=getInteger({data:t.dataRowCount,defaultValue:-1,validate:r=>r>=0}),this.endChar=t.endChar||"",this.errorCorrectionLevel=getInteger({data:t.errorCorrectionLevel,defaultValue:-1,validate:r=>r>=0&&r<=8}),this.id=t.id||"",this.moduleHeight=getMeasurement(t.moduleHeight,"5mm"),this.moduleWidth=getMeasurement(t.moduleWidth,"0.25mm"),this.printCheckDigit=getInteger({data:t.printCheckDigit,defaultValue:0,validate:r=>r===1}),this.rowColumnRatio=getRatio(t.rowColumnRatio),this.startChar=t.startChar||"",this.textLocation=getStringOption(t.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=getInteger({data:t.truncate,defaultValue:0,validate:r=>r===1}),this.type=getStringOption(t.type?t.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=getStringOption(t.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=t.use||"",this.usehref=t.usehref||"",this.wideNarrowRatio=getRatio(t.wideNarrowRatio),this.encrypt=null,this.extras=null}}class Bind extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"bind",!0),this.match=getStringOption(t.match,["once","dataRef","global","none"]),this.ref=t.ref||"",this.picture=null}}class BindItems extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"bindItems"),this.connection=t.connection||"",this.labelRef=t.labelRef||"",this.ref=t.ref||"",this.valueRef=t.valueRef||""}}class Bookend extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"bookend"),this.id=t.id||"",this.leader=t.leader||"",this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||""}}class BooleanElement extends Option01{constructor(t){super(TEMPLATE_NS_ID,"boolean"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$toHTML](t){return valueToHtml(this[$content]===1?"1":"0")}}class Border extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"border",!0),this.break=getStringOption(t.break,["close","open"]),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[$getExtra](){if(!this[$extra]){const t=this.edge.children.slice();if(t.length<4){const s=t.at(-1)||new Edge({});for(let o=t.length;o<4;o++)t.push(s)}const r=t.map(s=>s.thickness),a=[0,0,0,0];this.margin&&(a[0]=this.margin.topInset,a[1]=this.margin.rightInset,a[2]=this.margin.bottomInset,a[3]=this.margin.leftInset),this[$extra]={widths:r,insets:a,edges:t}}return this[$extra]}[$toStyle](){const{edges:t}=this[$getExtra](),r=t.map(s=>{const o=s[$toStyle]();return o.color||="#000000",o}),a=Object.create(null);if(this.margin&&Object.assign(a,this.margin[$toStyle]()),this.fill?.presence==="visible"&&Object.assign(a,this.fill[$toStyle]()),this.corner.children.some(s=>s.radius!==0)){const s=this.corner.children.map(o=>o[$toStyle]());if(s.length===2||s.length===3){const o=s.at(-1);for(let l=s.length;l<4;l++)s.push(o)}a.borderRadius=s.map(o=>o.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":a.borderStyle="";break;case"inactive":a.borderStyle="none";break;default:a.borderStyle=r.map(s=>s.style).join(" ");break}return a.borderWidth=r.map(s=>s.width).join(" "),a.borderColor=r.map(s=>s.color).join(" "),a}}class Break extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"break",!0),this.after=getStringOption(t.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=t.afterTarget||"",this.before=getStringOption(t.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=t.beforeTarget||"",this.bookendLeader=t.bookendLeader||"",this.bookendTrailer=t.bookendTrailer||"",this.id=t.id||"",this.overflowLeader=t.overflowLeader||"",this.overflowTarget=t.overflowTarget||"",this.overflowTrailer=t.overflowTrailer||"",this.startNew=getInteger({data:t.startNew,defaultValue:0,validate:r=>r===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class BreakAfter extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"breakAfter",!0),this.id=t.id||"",this.leader=t.leader||"",this.startNew=getInteger({data:t.startNew,defaultValue:0,validate:r=>r===1}),this.target=t.target||"",this.targetType=getStringOption(t.targetType,["auto","contentArea","pageArea"]),this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||"",this.script=null}}class BreakBefore extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"breakBefore",!0),this.id=t.id||"",this.leader=t.leader||"",this.startNew=getInteger({data:t.startNew,defaultValue:0,validate:r=>r===1}),this.target=t.target||"",this.targetType=getStringOption(t.targetType,["auto","contentArea","pageArea"]),this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||"",this.script=null}[$toHTML](t){return this[$extra]={},HTMLResult.FAILURE}}class Button extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"button",!0),this.highlight=getStringOption(t.highlight,["inverted","none","outline","push"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$toHTML](t){const a=this[$getParent]()[$getParent](),s={name:"button",attributes:{id:this[$uid],class:["xfaButton"],style:{}},children:[]};for(const o of a.event.children){if(o.activity!=="click"||!o.script)continue;const l=recoverJsURL(o.script[$content]);if(!l)continue;const u=fixURL(l.url);u&&s.children.push({name:"a",attributes:{id:"link"+this[$uid],href:u,newWindow:l.newWindow,class:["xfaLink"],style:{}},children:[]})}return HTMLResult.success(s)}}class Calculate extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"calculate",!0),this.id=t.id||"",this.override=getStringOption(t.override,["disabled","error","ignore","warning"]),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.message=null,this.script=null}}class Caption extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"caption",!0),this.id=t.id||"",this.placement=getStringOption(t.placement,["left","bottom","inline","right","top"]),this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil(getMeasurement(t.reserve)),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[$setValue](t){_setValue(this,t)}[$getExtra](t){if(!this[$extra]){let{width:r,height:a}=t;switch(this.placement){case"left":case"right":case"inline":r=this.reserve<=0?r:this.reserve;break;case"top":case"bottom":a=this.reserve<=0?a:this.reserve;break}this[$extra]=layoutNode(this,{width:r,height:a})}return this[$extra]}[$toHTML](t){if(!this.value)return HTMLResult.EMPTY;this[$pushPara]();const r=this.value[$toHTML](t).html;if(!r)return this[$popPara](),HTMLResult.EMPTY;const a=this.reserve;if(this.reserve<=0){const{w:l,h:u}=this[$getExtra](t);switch(this.placement){case"left":case"right":case"inline":this.reserve=l;break;case"top":case"bottom":this.reserve=u;break}}const s=[];typeof r=="string"?s.push({name:"#text",value:r}):s.push(r);const o=toStyle(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(o.width=measureToString(this.reserve));break;case"top":case"bottom":this.reserve>0&&(o.height=measureToString(this.reserve));break}return setPara(this,null,r),this[$popPara](),this.reserve=a,HTMLResult.success({name:"div",attributes:{style:o,class:["xfaCaption"]},children:s})}}class Certificate extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"certificate"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Certificates extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"certificates",!0),this.credentialServerPolicy=getStringOption(t.credentialServerPolicy,["optional","required"]),this.id=t.id||"",this.url=t.url||"",this.urlPolicy=t.urlPolicy||"",this.use=t.use||"",this.usehref=t.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class CheckButton extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"checkButton",!0),this.id=t.id||"",this.mark=getStringOption(t.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=getStringOption(t.shape,["square","round"]),this.size=getMeasurement(t.size,"10pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](t){const r=toStyle("margin"),a=measureToString(this.size);r.width=r.height=a;let s,o,l;const u=this[$getParent]()[$getParent](),d=u.items.children.length&&u.items.children[0][$toHTML]().html||[],f={on:(d[0]!==void 0?d[0]:"on").toString(),off:(d[1]!==void 0?d[1]:"off").toString()},x=(u.value?.[$text]()||"off")===f.on||void 0,b=u[$getSubformParent](),m=u[$uid];let y;b instanceof ExclGroup?(l=b[$uid],s="radio",o="xfaRadio",y=b[$data]?.[$uid]||b[$uid]):(s="checkbox",o="xfaCheckbox",y=u[$data]?.[$uid]||u[$uid]);const v={name:"input",attributes:{class:[o],style:r,fieldId:m,dataId:y,type:s,checked:x,xfaOn:f.on,xfaOff:f.off,"aria-label":ariaLabel(u),"aria-required":!1}};return l&&(v.attributes.name=l),isRequired(u)&&(v.attributes["aria-required"]=!0,v.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[v]})}}class ChoiceList extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"choiceList",!0),this.commitOn=getStringOption(t.commitOn,["select","exit"]),this.id=t.id||"",this.open=getStringOption(t.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=getInteger({data:t.textEntry,defaultValue:0,validate:r=>r===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](t){const r=toStyle(this,"border","margin"),s=this[$getParent]()[$getParent](),l={fontSize:`calc(${s.font?.size||10}px * var(--scale-factor))`},u=[];if(s.items.children.length>0){const f=s.items;let g=0,x=0;f.children.length===2&&(g=f.children[0].save,x=1-g);const b=f.children[g][$toHTML]().html,m=f.children[x][$toHTML]().html;let y=!1;const v=s.value?.[$text]()||"";for(let w=0,S=b.length;w<S;w++){const C={name:"option",attributes:{value:m[w]||b[w],style:l},value:b[w]};m[w]===v&&(C.attributes.selected=y=!0),u.push(C)}y||u.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const d={class:["xfaSelect"],fieldId:s[$uid],dataId:s[$data]?.[$uid]||s[$uid],style:r,"aria-label":ariaLabel(s),"aria-required":!1};return isRequired(s)&&(d["aria-required"]=!0,d.required=!0),this.open==="multiSelect"&&(d.multiple=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:u,attributes:d}]})}}class Color extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"color",!0),this.cSpace=getStringOption(t.cSpace,["SRGB"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.value=t.value?getColor(t.value):"",this.extras=null}[$hasSettableValue](){return!1}[$toStyle](){return this.value?Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Comb extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"comb"),this.id=t.id||"",this.numberOfCells=getInteger({data:t.numberOfCells,defaultValue:0,validate:r=>r>=0}),this.use=t.use||"",this.usehref=t.usehref||""}}class Connect extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"connect",!0),this.connection=t.connection||"",this.id=t.id||"",this.ref=t.ref||"",this.usage=getStringOption(t.usage,["exportAndImport","exportOnly","importOnly"]),this.use=t.use||"",this.usehref=t.usehref||"",this.picture=null}}class ContentArea extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"contentArea",!0),this.h=getMeasurement(t.h),this.id=t.id||"",this.name=t.name||"",this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.w=getMeasurement(t.w),this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.desc=null,this.extras=null}[$toHTML](t){const r=measureToString(this.x),a=measureToString(this.y),s={left:r,top:a,width:measureToString(this.w),height:measureToString(this.h)},o=["xfaContentarea"];return isPrintOnly(this)&&o.push("xfaPrintOnly"),HTMLResult.success({name:"div",children:[],attributes:{style:s,class:o,id:this[$uid]}})}}class Corner extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"corner",!0),this.id=t.id||"",this.inverted=getInteger({data:t.inverted,defaultValue:0,validate:r=>r===1}),this.join=getStringOption(t.join,["square","round"]),this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.radius=getMeasurement(t.radius),this.stroke=getStringOption(t.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(t.thickness,"0.5pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](){const t=toStyle(this,"visibility");return t.radius=measureToString(this.join==="square"?0:this.radius),t}}class DateElement extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"date"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=this[$content].trim();this[$content]=t?new Date(t):null}[$toHTML](t){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTime extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"dateTime"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=this[$content].trim();this[$content]=t?new Date(t):null}[$toHTML](t){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTimeEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"dateTimeEdit",!0),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.picker=getStringOption(t.picker,["host","none"]),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](t){const r=toStyle(this,"border","font","margin"),a=this[$getParent]()[$getParent](),s={name:"input",attributes:{type:"text",fieldId:a[$uid],dataId:a[$data]?.[$uid]||a[$uid],class:["xfaTextfield"],style:r,"aria-label":ariaLabel(a),"aria-required":!1}};return isRequired(a)&&(s.attributes["aria-required"]=!0,s.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[s]})}}class Decimal extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"decimal"),this.fracDigits=getInteger({data:t.fracDigits,defaultValue:2,validate:r=>!0}),this.id=t.id||"",this.leadDigits=getInteger({data:t.leadDigits,defaultValue:-1,validate:r=>!0}),this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=parseFloat(this[$content].trim());this[$content]=isNaN(t)?null:t}[$toHTML](t){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class DefaultUi extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"defaultUi",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class Desc extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"desc",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class DigestMethod extends OptionObject{constructor(t){super(TEMPLATE_NS_ID,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class DigestMethods extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"digestMethods",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.digestMethod=new XFAObjectArray}}class Draw extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"draw",!0),this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:r=>r>=1||r===-1}),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.locale=t.locale||"",this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.rotate=getInteger({data:t.rotate,defaultValue:0,validate:r=>r%90===0}),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new XFAObjectArray}[$setValue](t){_setValue(this,t)}[$toHTML](t){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;fixDimensions(this),this[$pushPara]();const r=this.w,a=this.h,{w:s,h:o,isBroken:l}=layoutNode(this,t);if(s&&this.w===""){if(l&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;this.w=s}if(o&&this.h===""&&(this.h=o),setFirstUnsplittable(this),!checkDimensions(this,t))return this.w=r,this.h=a,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const u=toStyle(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");setMinMaxDimensions(this,u),u.margin&&(u.padding=u.margin,delete u.margin);const d=["xfaDraw"];this.font&&d.push("xfaFont"),isPrintOnly(this)&&d.push("xfaPrintOnly");const f={style:u,id:this[$uid],class:d};this.name&&(f.xfaName=this.name);const g={name:"div",attributes:f,children:[]};applyAssist(this,f);const x=computeBbox(this,g,t),b=this.value?this.value[$toHTML](t).html:null;return b===null?(this.w=r,this.h=a,this[$popPara](),HTMLResult.success(createWrapper(this,g),x)):(g.children.push(b),setPara(this,u,b),this.w=r,this.h=a,this[$popPara](),HTMLResult.success(createWrapper(this,g),x))}}class Edge extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"edge",!0),this.cap=getStringOption(t.cap,["square","butt","round"]),this.id=t.id||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.stroke=getStringOption(t.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(t.thickness,"0.5pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](){const t=toStyle(this,"visibility");if(Object.assign(t,{linecap:this.cap,width:measureToString(this.thickness),color:this.color?this.color[$toStyle]():"#000000",style:""}),this.presence!=="visible")t.style="none";else switch(this.stroke){case"solid":t.style="solid";break;case"dashDot":t.style="dashed";break;case"dashDotDot":t.style="dashed";break;case"dashed":t.style="dashed";break;case"dotted":t.style="dotted";break;case"embossed":t.style="ridge";break;case"etched":t.style="groove";break;case"lowered":t.style="inset";break;case"raised":t.style="outset";break}return t}}let Encoding$1=class extends OptionObject{constructor(t){super(TEMPLATE_NS_ID,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}},Encodings$1=class extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encodings",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.encoding=new XFAObjectArray}};class Encrypt extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encrypt",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=null}}class EncryptData extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encryptData",!0),this.id=t.id||"",this.operation=getStringOption(t.operation,["encrypt","decrypt"]),this.target=t.target||"",this.use=t.use||"",this.usehref=t.usehref||"",this.filter=null,this.manifest=null}}class Encryption extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encryption",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new XFAObjectArray}}class EncryptionMethod extends OptionObject{constructor(t){super(TEMPLATE_NS_ID,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class EncryptionMethods extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encryptionMethods",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.encryptionMethod=new XFAObjectArray}}let Event$1=class extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"event",!0),this.activity=getStringOption(t.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=t.id||"",this.listen=getStringOption(t.listen,["refOnly","refAndDescendents"]),this.name=t.name||"",this.ref=t.ref||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}};class ExData extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"exData"),this.contentType=t.contentType||"",this.href=t.href||"",this.id=t.id||"",this.maxLength=getInteger({data:t.maxLength,defaultValue:-1,validate:r=>r>=-1}),this.name=t.name||"",this.rid=t.rid||"",this.transferEncoding=getStringOption(t.transferEncoding,["none","base64","package"]),this.use=t.use||"",this.usehref=t.usehref||""}[$isCDATAXml](){return this.contentType==="text/html"}[$onChild](t){return this.contentType==="text/html"&&t[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=t,!0):this.contentType==="text/xml"?(this[$content]=t,!0):!1}[$toHTML](t){return this.contentType!=="text/html"||!this[$content]?HTMLResult.EMPTY:this[$content][$toHTML](t)}}class ExObject extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"exObject",!0),this.archive=t.archive||"",this.classId=t.classId||"",this.codeBase=t.codeBase||"",this.codeType=t.codeType||"",this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class ExclGroup extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"exclGroup",!0),this.access=getStringOption(t.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=t.accessKey||"",this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:r=>r>=1||r===-1}),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.layout=getStringOption(t.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.field=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$hasSettableValue](){return!0}[$setValue](t){for(const r of this.field.children){if(!r.value){const a=new Value({});r[$appendChild](a),r.value=a}r.value[$setValue](t)}}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}[$isSplittable](){const t=this[$getSubformParent]();return t[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):t.layout?.endsWith("-tb")&&t[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$flushHTML](){return flushHTML(this)}[$addHTML](t,r){addHTML(this,t,r)}[$getAvailableSpace](){return getAvailableSpace(this)}[$toHTML](t){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;fixDimensions(this);const r=[],a={id:this[$uid],class:[]};setAccess(this,a.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:r,attributes:a,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,t.width),height:Math.min(this.h||1/0,t.height)},width:0,height:0,prevHeight:0,currentWidth:0});const s=this[$isSplittable]();if(s||setFirstUnsplittable(this),!checkDimensions(this,t))return HTMLResult.FAILURE;const o=new Set(["field"]);if(this.layout.includes("row")){const S=this[$getSubformParent]().columnWidths;Array.isArray(S)&&S.length>0&&(this[$extra].columnWidths=S,this[$extra].currentColumn=0)}const l=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),u=["xfaExclgroup"],d=layoutClass(this);d&&u.push(d),isPrintOnly(this)&&u.push("xfaPrintOnly"),a.style=l,a.class=u,this.name&&(a.xfaName=this.name),this[$pushPara]();const f=this.layout==="lr-tb"||this.layout==="rl-tb",g=f?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<g;this[$extra].attempt++){f&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const S=this[$childrenToHTML]({filter:o,include:!0});if(S.success)break;if(S.isBreak())return this[$popPara](),S;if(f&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!this[$getTemplateRoot]()[$extra].noLayoutFailure){this[$extra].attempt=g;break}}if(this[$popPara](),s||unsetFirstUnsplittable(this),this[$extra].attempt===g)return s||delete this[$extra],HTMLResult.FAILURE;let x=0,b=0;this.margin&&(x=this.margin.leftInset+this.margin.rightInset,b=this.margin.topInset+this.margin.bottomInset);const m=Math.max(this[$extra].width+x,this.w||0),y=Math.max(this[$extra].height+b,this.h||0),v=[this.x,this.y,m,y];this.w===""&&(l.width=measureToString(m)),this.h===""&&(l.height=measureToString(y));const w={name:"div",attributes:a,children:r};return applyAssist(this,a),delete this[$extra],HTMLResult.success(createWrapper(this,w),v)}}class Execute extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"execute"),this.connection=t.connection||"",this.executeType=getStringOption(t.executeType,["import","remerge"]),this.id=t.id||"",this.runAt=getStringOption(t.runAt,["client","both","server"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Extras extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"extras",!0),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.extras=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class Field extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"field",!0),this.access=getStringOption(t.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=t.accessKey||"",this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:r=>r>=1||r===-1}),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.locale=t.locale||"",this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.rotate=getInteger({data:t.rotate,defaultValue:0,validate:r=>r%90===0}),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new XFAObjectArray,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$setValue](t){_setValue(this,t)}[$toHTML](t){if(setTabIndex(this),!this.ui){this.ui=new Ui({}),this.ui[$globalData]=this[$globalData],this[$appendChild](this.ui);let S;switch(this.items.children.length){case 0:S=new TextEdit({}),this.ui.textEdit=S;break;case 1:S=new CheckButton({}),this.ui.checkButton=S;break;case 2:S=new ChoiceList({}),this.ui.choiceList=S;break}this.ui[$appendChild](S)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;this.caption&&delete this.caption[$extra],this[$pushPara]();const r=this.caption?this.caption[$toHTML](t).html:null,a=this.w,s=this.h;let o=0,l=0;this.margin&&(o=this.margin.leftInset+this.margin.rightInset,l=this.margin.topInset+this.margin.bottomInset);let u=null;if(this.w===""||this.h===""){let S=null,C=null,E=0,T=0;if(this.ui.checkButton)E=T=this.ui.checkButton.size;else{const{w:_,h:R}=layoutNode(this,t);_!==null?(E=_,T=R):T=fonts_getMetrics(this.font,!0).lineNoGap}if(u=getBorderDims(this.ui[$getExtra]()),E+=u.w,T+=u.h,this.caption){const{w:_,h:R,isBroken:U}=this.caption[$getExtra](t);if(U&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;switch(S=_,C=R,this.caption.placement){case"left":case"right":case"inline":S+=E;break;case"top":case"bottom":C+=T;break}}else S=E,C=T;S&&this.w===""&&(S+=o,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<S?S:this.minW)),C&&this.h===""&&(C+=l,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<C?C:this.minH))}if(this[$popPara](),fixDimensions(this),setFirstUnsplittable(this),!checkDimensions(this,t))return this.w=a,this.h=s,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const d=toStyle(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");setMinMaxDimensions(this,d);const f=["xfaField"];this.font&&f.push("xfaFont"),isPrintOnly(this)&&f.push("xfaPrintOnly");const g={style:d,id:this[$uid],class:f};d.margin&&(d.padding=d.margin,delete d.margin),setAccess(this,f),this.name&&(g.xfaName=this.name);const x=[],b={name:"div",attributes:g,children:x};applyAssist(this,g);const m=this.border?this.border[$toStyle]():null,y=computeBbox(this,b,t),v=this.ui[$toHTML]().html;if(!v)return Object.assign(d,m),HTMLResult.success(createWrapper(this,b),y);this[$tabIndex]&&(v.children?.[0]?v.children[0].attributes.tabindex=this[$tabIndex]:v.attributes.tabindex=this[$tabIndex]),v.attributes.style||(v.attributes.style=Object.create(null));let w=null;if(this.ui.button?(v.children.length===1&&([w]=v.children.splice(0,1)),Object.assign(v.attributes.style,m)):Object.assign(d,m),x.push(v),this.value){if(this.ui.imageEdit)v.children.push(this.value[$toHTML]().html);else if(!this.ui.button){let S="";if(this.value.exData)S=this.value.exData[$text]();else if(this.value.text)S=this.value.text[$getExtra]();else{const C=this.value[$toHTML]().html;C!==null&&(S=C.children[0].value)}this.ui.textEdit&&this.value.text?.maxChars&&(v.children[0].attributes.maxLength=this.value.text.maxChars),S&&(this.ui.numericEdit&&(S=parseFloat(S),S=isNaN(S)?"":S.toString()),v.children[0].name==="textarea"?v.children[0].attributes.textContent=S:v.children[0].attributes.value=S)}}if(!this.ui.imageEdit&&v.children?.[0]&&this.h){u=u||getBorderDims(this.ui[$getExtra]());let S=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){S=this.caption.reserve,S<=0&&(S=this.caption[$getExtra](t).h);const C=this.h-S-l-u.h;v.children[0].attributes.style.height=measureToString(C)}else v.children[0].attributes.style.height="100%"}if(w&&v.children.push(w),!r)return v.attributes.class&&v.attributes.class.push("xfaLeft"),this.w=a,this.h=s,HTMLResult.success(createWrapper(this,b),y);if(this.ui.button)return d.padding&&delete d.padding,r.name==="div"&&(r.name="span"),v.children.push(r),HTMLResult.success(b,y);switch(this.ui.checkButton&&(r.attributes.class[0]="xfaCaptionForCheckButton"),v.attributes.class||(v.attributes.class=[]),v.children.splice(0,0,r),this.caption.placement){case"left":v.attributes.class.push("xfaLeft");break;case"right":v.attributes.class.push("xfaRight");break;case"top":v.attributes.class.push("xfaTop");break;case"bottom":v.attributes.class.push("xfaBottom");break;case"inline":v.attributes.class.push("xfaLeft");break}return this.w=a,this.h=s,HTMLResult.success(createWrapper(this,b),y)}}class Fill extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"fill",!0),this.id=t.id||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[$toStyle](){const t=this[$getParent](),a=t[$getParent]()[$getParent](),s=Object.create(null);let o="color",l=o;t instanceof Border&&(o="background-color",l="background",a instanceof Ui&&(s.backgroundColor="white")),(t instanceof Rectangle||t instanceof Arc)&&(o=l="fill",s.fill="white");for(const u of Object.getOwnPropertyNames(this)){if(u==="extras"||u==="color")continue;const d=this[u];if(!(d instanceof XFAObject))continue;const f=d[$toStyle](this.color);return f&&(s[f.startsWith("#")?o:l]=f),s}if(this.color?.value){const u=this.color[$toStyle]();s[u.startsWith("#")?o:l]=u}return s}}class Filter extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"filter",!0),this.addRevocationInfo=getStringOption(t.addRevocationInfo,["","required","optional","none"]),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.version=getInteger({data:this.version,defaultValue:5,validate:r=>r>=1&&r<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Float extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"float"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=parseFloat(this[$content].trim());this[$content]=isNaN(t)?null:t}[$toHTML](t){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class template_Font extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"font",!0),this.baselineShift=getMeasurement(t.baselineShift),this.fontHorizontalScale=getFloat({data:t.fontHorizontalScale,defaultValue:100,validate:r=>r>=0}),this.fontVerticalScale=getFloat({data:t.fontVerticalScale,defaultValue:100,validate:r=>r>=0}),this.id=t.id||"",this.kerningMode=getStringOption(t.kerningMode,["none","pair"]),this.letterSpacing=getMeasurement(t.letterSpacing,"0"),this.lineThrough=getInteger({data:t.lineThrough,defaultValue:0,validate:r=>r===1||r===2}),this.lineThroughPeriod=getStringOption(t.lineThroughPeriod,["all","word"]),this.overline=getInteger({data:t.overline,defaultValue:0,validate:r=>r===1||r===2}),this.overlinePeriod=getStringOption(t.overlinePeriod,["all","word"]),this.posture=getStringOption(t.posture,["normal","italic"]),this.size=getMeasurement(t.size,"10pt"),this.typeface=t.typeface||"Courier",this.underline=getInteger({data:t.underline,defaultValue:0,validate:r=>r===1||r===2}),this.underlinePeriod=getStringOption(t.underlinePeriod,["all","word"]),this.use=t.use||"",this.usehref=t.usehref||"",this.weight=getStringOption(t.weight,["normal","bold"]),this.extras=null,this.fill=null}[$clean](t){super[$clean](t),this[$globalData].usedTypefaces.add(this.typeface)}[$toStyle](){const t=toStyle(this,"fill"),r=t.color;return r&&(r==="#000000"?delete t.color:r.startsWith("#")||(t.background=r,t.backgroundClip="text",t.color="transparent")),this.baselineShift&&(t.verticalAlign=measureToString(this.baselineShift)),t.fontKerning=this.kerningMode==="none"?"none":"normal",t.letterSpacing=measureToString(this.letterSpacing),this.lineThrough!==0&&(t.textDecoration="line-through",this.lineThrough===2&&(t.textDecorationStyle="double")),this.overline!==0&&(t.textDecoration="overline",this.overline===2&&(t.textDecorationStyle="double")),t.fontStyle=this.posture,t.fontSize=measureToString(.99*this.size),setFontFamily(this,this,this[$globalData].fontFinder,t),this.underline!==0&&(t.textDecoration="underline",this.underline===2&&(t.textDecorationStyle="double")),t.fontWeight=this.weight,t}}class Format extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"format",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.picture=null}}class Handler extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"handler"),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Hyphenation extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"hyphenation"),this.excludeAllCaps=getInteger({data:t.excludeAllCaps,defaultValue:0,validate:r=>r===1}),this.excludeInitialCap=getInteger({data:t.excludeInitialCap,defaultValue:0,validate:r=>r===1}),this.hyphenate=getInteger({data:t.hyphenate,defaultValue:0,validate:r=>r===1}),this.id=t.id||"",this.pushCharacterCount=getInteger({data:t.pushCharacterCount,defaultValue:3,validate:r=>r>=0}),this.remainCharacterCount=getInteger({data:t.remainCharacterCount,defaultValue:3,validate:r=>r>=0}),this.use=t.use||"",this.usehref=t.usehref||"",this.wordCharacterCount=getInteger({data:t.wordCharacterCount,defaultValue:7,validate:r=>r>=0})}}let Image$1=class extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"image"),this.aspect=getStringOption(t.aspect,["fit","actual","height","none","width"]),this.contentType=t.contentType||"",this.href=t.href||"",this.id=t.id||"",this.name=t.name||"",this.transferEncoding=getStringOption(t.transferEncoding,["base64","none","package"]),this.use=t.use||"",this.usehref=t.usehref||""}[$toHTML](){if(this.contentType&&!MIMES.has(this.contentType.toLowerCase()))return HTMLResult.EMPTY;let t=this[$globalData].images&&this[$globalData].images.get(this.href);if(!t&&(this.href||!this[$content])||(!t&&this.transferEncoding==="base64"&&(t=stringToBytes(atob(this[$content]))),!t))return HTMLResult.EMPTY;if(!this.contentType){for(const[o,l]of IMAGES_HEADERS)if(t.length>o.length&&o.every((u,d)=>u===t[d])){this.contentType=l;break}if(!this.contentType)return HTMLResult.EMPTY}const r=new Blob([t],{type:this.contentType});let a;switch(this.aspect){case"fit":case"actual":break;case"height":a={height:"100%",objectFit:"fill"};break;case"none":a={width:"100%",height:"100%",objectFit:"fill"};break;case"width":a={width:"100%",objectFit:"fill"};break}const s=this[$getParent]();return HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:a,src:URL.createObjectURL(r),alt:s?ariaLabel(s[$getParent]()):null}})}};class ImageEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"imageEdit",!0),this.data=getStringOption(t.data,["link","embed"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](t){return this.data==="embed"?HTMLResult.success({name:"div",children:[],attributes:{}}):HTMLResult.EMPTY}}class Integer extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"integer"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=parseInt(this[$content].trim(),10);this[$content]=isNaN(t)?null:t}[$toHTML](t){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class Issuers extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"issuers",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new XFAObjectArray}}class Items extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"items",!0),this.id=t.id||"",this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.ref=t.ref||"",this.save=getInteger({data:t.save,defaultValue:0,validate:r=>r===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$toHTML](){const t=[];for(const r of this[$getChildren]())t.push(r[$text]());return HTMLResult.success(t)}}class Keep extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"keep",!0),this.id=t.id||"";const r=["none","contentArea","pageArea"];this.intact=getStringOption(t.intact,r),this.next=getStringOption(t.next,r),this.previous=getStringOption(t.previous,r),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class KeyUsage extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"keyUsage");const r=["","yes","no"];this.crlSign=getStringOption(t.crlSign,r),this.dataEncipherment=getStringOption(t.dataEncipherment,r),this.decipherOnly=getStringOption(t.decipherOnly,r),this.digitalSignature=getStringOption(t.digitalSignature,r),this.encipherOnly=getStringOption(t.encipherOnly,r),this.id=t.id||"",this.keyAgreement=getStringOption(t.keyAgreement,r),this.keyCertSign=getStringOption(t.keyCertSign,r),this.keyEncipherment=getStringOption(t.keyEncipherment,r),this.nonRepudiation=getStringOption(t.nonRepudiation,r),this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Line extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"line",!0),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.slope=getStringOption(t.slope,["\\","/"]),this.use=t.use||"",this.usehref=t.usehref||"",this.edge=null}[$toHTML](){const t=this[$getParent]()[$getParent](),r=this.edge||new Edge({}),a=r[$toStyle](),s=Object.create(null),o=r.presence==="visible"?r.thickness:0;s.strokeWidth=measureToString(o),s.stroke=a.color;let l,u,d,f,g="100%",x="100%";t.w<=o?([l,u,d,f]=["50%",0,"50%","100%"],g=s.strokeWidth):t.h<=o?([l,u,d,f]=[0,"50%","100%","50%"],x=s.strokeWidth):this.slope==="\\"?[l,u,d,f]=[0,0,"100%","100%"]:[l,u,d,f]=[0,"100%","100%",0];const m={name:"svg",children:[{name:"line",attributes:{xmlns:SVG_NS,x1:l,y1:u,x2:d,y2:f,style:s}}],attributes:{xmlns:SVG_NS,width:g,height:x,style:{overflow:"visible"}}};return hasMargin(t)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[m]}):(m.attributes.style.position="absolute",HTMLResult.success(m))}}class Linear extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"linear",!0),this.id=t.id||"",this.type=getStringOption(t.type,["toRight","toBottom","toLeft","toTop"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){t=t?t[$toStyle]():"#FFFFFF";const r=this.type.replace(/([RBLT])/," $1").toLowerCase(),a=this.color?this.color[$toStyle]():"#000000";return`linear-gradient(${r}, ${t}, ${a})`}}class LockDocument extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"lockDocument"),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){this[$content]=getStringOption(this[$content],["auto","0","1"])}}class Manifest extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"manifest",!0),this.action=getStringOption(t.action,["include","all","exclude"]),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.ref=new XFAObjectArray}}class Margin extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"margin",!0),this.bottomInset=getMeasurement(t.bottomInset,"0"),this.id=t.id||"",this.leftInset=getMeasurement(t.leftInset,"0"),this.rightInset=getMeasurement(t.rightInset,"0"),this.topInset=getMeasurement(t.topInset,"0"),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$toStyle](){return{margin:measureToString(this.topInset)+" "+measureToString(this.rightInset)+" "+measureToString(this.bottomInset)+" "+measureToString(this.leftInset)}}}class Mdp extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"mdp"),this.id=t.id||"",this.permissions=getInteger({data:t.permissions,defaultValue:2,validate:r=>r===1||r===3}),this.signatureType=getStringOption(t.signatureType,["filler","author"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Medium extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"medium"),this.id=t.id||"",this.imagingBBox=getBBox(t.imagingBBox),this.long=getMeasurement(t.long),this.orientation=getStringOption(t.orientation,["portrait","landscape"]),this.short=getMeasurement(t.short),this.stock=t.stock||"",this.trayIn=getStringOption(t.trayIn,["auto","delegate","pageFront"]),this.trayOut=getStringOption(t.trayOut,["auto","delegate"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Message extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"message",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.text=new XFAObjectArray}}class NumericEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"numericEdit",!0),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](t){const r=toStyle(this,"border","font","margin"),a=this[$getParent]()[$getParent](),s={name:"input",attributes:{type:"text",fieldId:a[$uid],dataId:a[$data]?.[$uid]||a[$uid],class:["xfaTextfield"],style:r,"aria-label":ariaLabel(a),"aria-required":!1}};return isRequired(a)&&(s.attributes["aria-required"]=!0,s.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[s]})}}class Occur extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"occur",!0),this.id=t.id||"",this.initial=t.initial!==""?getInteger({data:t.initial,defaultValue:"",validate:r=>!0}):"",this.max=t.max!==""?getInteger({data:t.max,defaultValue:1,validate:r=>!0}):"",this.min=t.min!==""?getInteger({data:t.min,defaultValue:1,validate:r=>!0}):"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$clean](){const t=this[$getParent](),r=this.min;this.min===""&&(this.min=t instanceof PageArea||t instanceof PageSet?0:1),this.max===""&&(r===""?this.max=t instanceof PageArea||t instanceof PageSet?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=t instanceof Template?1:this.min)}}class Oid extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"oid"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Oids extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"oids",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.oid=new XFAObjectArray}}class Overflow extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"overflow"),this.id=t.id||"",this.leader=t.leader||"",this.target=t.target||"",this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||""}[$getExtra](){if(!this[$extra]){const t=this[$getParent](),r=this[$getTemplateRoot](),a=r[$searchNode](this.target,t),s=r[$searchNode](this.leader,t),o=r[$searchNode](this.trailer,t);this[$extra]={target:a?.[0]||null,leader:s?.[0]||null,trailer:o?.[0]||null,addLeader:!1,addTrailer:!1}}return this[$extra]}}class PageArea extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"pageArea",!0),this.blankOrNotBlank=getStringOption(t.blankOrNotBlank,["any","blank","notBlank"]),this.id=t.id||"",this.initialNumber=getInteger({data:t.initialNumber,defaultValue:1,validate:r=>!0}),this.name=t.name||"",this.numbered=getInteger({data:t.numbered,defaultValue:1,validate:r=>!0}),this.oddOrEven=getStringOption(t.oddOrEven,["any","even","odd"]),this.pagePosition=getStringOption(t.pagePosition,["any","first","last","only","rest"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.draw=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray}[$isUsable](){return this[$extra]?!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max:(this[$extra]={numberOfUse:0},!0)}[$cleanPage](){delete this[$extra]}[$getNextPage](){this[$extra]||(this[$extra]={numberOfUse:0});const t=this[$getParent]();return t.relation==="orderedOccurrence"&&this[$isUsable]()?(this[$extra].numberOfUse+=1,this):t[$getNextPage]()}[$getAvailableSpace](){return this[$extra].space||{width:0,height:0}}[$toHTML](){this[$extra]||(this[$extra]={numberOfUse:1});const t=[];this[$extra].children=t;const r=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(r.width=measureToString(this.medium.short),r.height=measureToString(this.medium.long),this[$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const a=r.width;r.width=r.height,r.height=a,this[$extra].space={width:this.medium.long,height:this.medium.short}}}else warn("XFA - No medium specified in pageArea: please file a bug.");return this[$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),HTMLResult.success({name:"div",children:t,attributes:{class:["xfaPage"],id:this[$uid],style:r,xfaName:this.name}})}}class PageSet extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"pageSet",!0),this.duplexImposition=getStringOption(t.duplexImposition,["longEdge","shortEdge"]),this.id=t.id||"",this.name=t.name||"",this.relation=getStringOption(t.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.occur=null,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray}[$cleanPage](){for(const t of this.pageArea.children)t[$cleanPage]();for(const t of this.pageSet.children)t[$cleanPage]()}[$isUsable](){return!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max}[$getNextPage](){if(this[$extra]||(this[$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[$extra].pageIndex+1<this.pageArea.children.length)return this[$extra].pageIndex+=1,this.pageArea.children[this[$extra].pageIndex][$getNextPage]();if(this[$extra].pageSetIndex+1<this.pageSet.children.length)return this[$extra].pageSetIndex+=1,this.pageSet.children[this[$extra].pageSetIndex][$getNextPage]();if(this[$isUsable]())return this[$extra].numberOfUse+=1,this[$extra].pageIndex=-1,this[$extra].pageSetIndex=-1,this[$getNextPage]();const o=this[$getParent]();return o instanceof PageSet?o[$getNextPage]():(this[$cleanPage](),this[$getNextPage]())}const t=this[$getTemplateRoot]()[$extra].pageNumber,r=t%2===0?"even":"odd",a=t===0?"first":"rest";let s=this.pageArea.children.find(o=>o.oddOrEven===r&&o.pagePosition===a);return s||(s=this.pageArea.children.find(o=>o.oddOrEven==="any"&&o.pagePosition===a),s)||(s=this.pageArea.children.find(o=>o.oddOrEven==="any"&&o.pagePosition==="any"),s)?s:this.pageArea.children[0]}}class Para extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"para",!0),this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.lineHeight=t.lineHeight?getMeasurement(t.lineHeight,"0pt"):"",this.marginLeft=t.marginLeft?getMeasurement(t.marginLeft,"0pt"):"",this.marginRight=t.marginRight?getMeasurement(t.marginRight,"0pt"):"",this.orphans=getInteger({data:t.orphans,defaultValue:0,validate:r=>r>=0}),this.preserve=t.preserve||"",this.radixOffset=t.radixOffset?getMeasurement(t.radixOffset,"0pt"):"",this.spaceAbove=t.spaceAbove?getMeasurement(t.spaceAbove,"0pt"):"",this.spaceBelow=t.spaceBelow?getMeasurement(t.spaceBelow,"0pt"):"",this.tabDefault=t.tabDefault?getMeasurement(this.tabDefault):"",this.tabStops=(t.tabStops||"").trim().split(/\s+/).map((r,a)=>a%2===1?getMeasurement(r):r),this.textIndent=t.textIndent?getMeasurement(t.textIndent,"0pt"):"",this.use=t.use||"",this.usehref=t.usehref||"",this.vAlign=getStringOption(t.vAlign,["top","bottom","middle"]),this.widows=getInteger({data:t.widows,defaultValue:0,validate:r=>r>=0}),this.hyphenation=null}[$toStyle](){const t=toStyle(this,"hAlign");return this.marginLeft!==""&&(t.paddingLeft=measureToString(this.marginLeft)),this.marginRight!==""&&(t.paddingight=measureToString(this.marginRight)),this.spaceAbove!==""&&(t.paddingTop=measureToString(this.spaceAbove)),this.spaceBelow!==""&&(t.paddingBottom=measureToString(this.spaceBelow)),this.textIndent!==""&&(t.textIndent=measureToString(this.textIndent),fixTextIndent(t)),this.lineHeight>0&&(t.lineHeight=measureToString(this.lineHeight)),this.tabDefault!==""&&(t.tabSize=measureToString(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(t,this.hyphenatation[$toStyle]()),t}}class PasswordEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"passwordEdit",!0),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.passwordChar=t.passwordChar||"*",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}}class template_Pattern extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"pattern",!0),this.id=t.id||"",this.type=getStringOption(t.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){t=t?t[$toStyle]():"#FFFFFF";const r=this.color?this.color[$toStyle]():"#000000",a=5,s="repeating-linear-gradient",o=`${t},${t} ${a}px,${r} ${a}px,${r} ${2*a}px`;switch(this.type){case"crossHatch":return`${s}(to top,${o}) ${s}(to right,${o})`;case"crossDiagonal":return`${s}(45deg,${o}) ${s}(-45deg,${o})`;case"diagonalLeft":return`${s}(45deg,${o})`;case"diagonalRight":return`${s}(-45deg,${o})`;case"horizontal":return`${s}(to top,${o})`;case"vertical":return`${s}(to right,${o})`}return""}}class Picture extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"picture"),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Proto extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"proto",!0),this.appearanceFilter=new XFAObjectArray,this.arc=new XFAObjectArray,this.area=new XFAObjectArray,this.assist=new XFAObjectArray,this.barcode=new XFAObjectArray,this.bindItems=new XFAObjectArray,this.bookend=new XFAObjectArray,this.boolean=new XFAObjectArray,this.border=new XFAObjectArray,this.break=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.button=new XFAObjectArray,this.calculate=new XFAObjectArray,this.caption=new XFAObjectArray,this.certificate=new XFAObjectArray,this.certificates=new XFAObjectArray,this.checkButton=new XFAObjectArray,this.choiceList=new XFAObjectArray,this.color=new XFAObjectArray,this.comb=new XFAObjectArray,this.connect=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.corner=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.dateTimeEdit=new XFAObjectArray,this.decimal=new XFAObjectArray,this.defaultUi=new XFAObjectArray,this.desc=new XFAObjectArray,this.digestMethod=new XFAObjectArray,this.digestMethods=new XFAObjectArray,this.draw=new XFAObjectArray,this.edge=new XFAObjectArray,this.encoding=new XFAObjectArray,this.encodings=new XFAObjectArray,this.encrypt=new XFAObjectArray,this.encryptData=new XFAObjectArray,this.encryption=new XFAObjectArray,this.encryptionMethod=new XFAObjectArray,this.encryptionMethods=new XFAObjectArray,this.event=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.execute=new XFAObjectArray,this.extras=new XFAObjectArray,this.field=new XFAObjectArray,this.fill=new XFAObjectArray,this.filter=new XFAObjectArray,this.float=new XFAObjectArray,this.font=new XFAObjectArray,this.format=new XFAObjectArray,this.handler=new XFAObjectArray,this.hyphenation=new XFAObjectArray,this.image=new XFAObjectArray,this.imageEdit=new XFAObjectArray,this.integer=new XFAObjectArray,this.issuers=new XFAObjectArray,this.items=new XFAObjectArray,this.keep=new XFAObjectArray,this.keyUsage=new XFAObjectArray,this.line=new XFAObjectArray,this.linear=new XFAObjectArray,this.lockDocument=new XFAObjectArray,this.manifest=new XFAObjectArray,this.margin=new XFAObjectArray,this.mdp=new XFAObjectArray,this.medium=new XFAObjectArray,this.message=new XFAObjectArray,this.numericEdit=new XFAObjectArray,this.occur=new XFAObjectArray,this.oid=new XFAObjectArray,this.oids=new XFAObjectArray,this.overflow=new XFAObjectArray,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray,this.para=new XFAObjectArray,this.passwordEdit=new XFAObjectArray,this.pattern=new XFAObjectArray,this.picture=new XFAObjectArray,this.radial=new XFAObjectArray,this.reason=new XFAObjectArray,this.reasons=new XFAObjectArray,this.rectangle=new XFAObjectArray,this.ref=new XFAObjectArray,this.script=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.signData=new XFAObjectArray,this.signature=new XFAObjectArray,this.signing=new XFAObjectArray,this.solid=new XFAObjectArray,this.speak=new XFAObjectArray,this.stipple=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray,this.subjectDN=new XFAObjectArray,this.subjectDNs=new XFAObjectArray,this.submit=new XFAObjectArray,this.text=new XFAObjectArray,this.textEdit=new XFAObjectArray,this.time=new XFAObjectArray,this.timeStamp=new XFAObjectArray,this.toolTip=new XFAObjectArray,this.traversal=new XFAObjectArray,this.traverse=new XFAObjectArray,this.ui=new XFAObjectArray,this.validate=new XFAObjectArray,this.value=new XFAObjectArray,this.variables=new XFAObjectArray}}class Radial extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"radial",!0),this.id=t.id||"",this.type=getStringOption(t.type,["toEdge","toCenter"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){t=t?t[$toStyle]():"#FFFFFF";const r=this.color?this.color[$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${t},${r}`:`${r},${t}`})`}}class Reason extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"reason"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Reasons extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"reasons",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.reason=new XFAObjectArray}}class Rectangle extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"rectangle",!0),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.fill=null}[$toHTML](){const t=this.edge.children.length?this.edge.children[0]:new Edge({}),r=t[$toStyle](),a=Object.create(null);this.fill?.presence==="visible"?Object.assign(a,this.fill[$toStyle]()):a.fill="transparent",a.strokeWidth=measureToString(t.presence==="visible"?t.thickness:0),a.stroke=r.color;const o=(this.corner.children.length?this.corner.children[0]:new Corner({}))[$toStyle](),u={name:"svg",children:[{name:"rect",attributes:{xmlns:SVG_NS,width:"100%",height:"100%",x:0,y:0,rx:o.radius,ry:o.radius,style:a}}],attributes:{xmlns:SVG_NS,style:{overflow:"visible"},width:"100%",height:"100%"}},d=this[$getParent]()[$getParent]();return hasMargin(d)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[u]}):(u.attributes.style.position="absolute",HTMLResult.success(u))}}class RefElement extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"ref"),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Script extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"script"),this.binding=t.binding||"",this.contentType=t.contentType||"",this.id=t.id||"",this.name=t.name||"",this.runAt=getStringOption(t.runAt,["client","both","server"]),this.use=t.use||"",this.usehref=t.usehref||""}}class SetProperty extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"setProperty"),this.connection=t.connection||"",this.ref=t.ref||"",this.target=t.target||""}}class SignData extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"signData",!0),this.id=t.id||"",this.operation=getStringOption(t.operation,["sign","clear","verify"]),this.ref=t.ref||"",this.target=t.target||"",this.use=t.use||"",this.usehref=t.usehref||"",this.filter=null,this.manifest=null}}class Signature extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"signature",!0),this.id=t.id||"",this.type=getStringOption(t.type,["PDF1.3","PDF1.6"]),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Signing extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"signing",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new XFAObjectArray}}class Solid extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"solid",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$toStyle](t){return t?t[$toStyle]():"#FFFFFF"}}class Speak extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"speak"),this.disable=getInteger({data:t.disable,defaultValue:0,validate:r=>r===1}),this.id=t.id||"",this.priority=getStringOption(t.priority,["custom","caption","name","toolTip"]),this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Stipple extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"stipple",!0),this.id=t.id||"",this.rate=getInteger({data:t.rate,defaultValue:50,validate:r=>r>=0&&r<=100}),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){const r=this.rate/100;return Util.makeHexColor(Math.round(t.value.r*(1-r)+this.value.r*r),Math.round(t.value.g*(1-r)+this.value.g*r),Math.round(t.value.b*(1-r)+this.value.b*r))}}class Subform extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"subform",!0),this.access=getStringOption(t.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=getInteger({data:t.allowMacro,defaultValue:0,validate:r=>r===1}),this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:r=>r>=1||r===-1}),this.columnWidths=(t.columnWidths||"").trim().split(/\s+/).map(r=>r==="-1"?-1:getMeasurement(r)),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.layout=getStringOption(t.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=t.locale||"",this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.mergeMode=getStringOption(t.mergeMode,["consumeData","matchTemplate"]),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.restoreState=getStringOption(t.restoreState,["manual","auto"]),this.scope=getStringOption(t.scope,["name","none"]),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.connect=new XFAObjectArray,this.draw=new XFAObjectArray,this.event=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.proto=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}[$getSubformParent](){const t=this[$getParent]();return t instanceof SubformSet?t[$getSubformParent]():t}[$isBindable](){return!0}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}*[$getContainedChildren](){yield*getContainedChildren(this)}[$flushHTML](){return flushHTML(this)}[$addHTML](t,r){addHTML(this,t,r)}[$getAvailableSpace](){return getAvailableSpace(this)}[$isSplittable](){const t=this[$getSubformParent]();return t[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[$extra]._isSplittable=!1,!1):t.layout?.endsWith("-tb")&&t[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$toHTML](t){if(setTabIndex(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const T=new BreakAfter({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});T[$globalData]=this[$globalData],this[$appendChild](T),this.breakAfter.push(T)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const T=new BreakBefore({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});T[$globalData]=this[$globalData],this[$appendChild](T),this.breakBefore.push(T)}if(this.break.overflowTarget!==""){const T=new Overflow({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});T[$globalData]=this[$globalData],this[$appendChild](T),this.overflow.push(T)}this[$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&warn("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const T=this.breakBefore.children[0];if(handleBreak(T))return HTMLResult.breakNode(T)}if(this[$extra]?.afterBreakAfter)return HTMLResult.EMPTY;fixDimensions(this);const r=[],a={id:this[$uid],class:[]};setAccess(this,a.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:r,line:null,attributes:a,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,t.width),height:Math.min(this.h||1/0,t.height)},width:0,height:0,prevHeight:0,currentWidth:0});const s=this[$getTemplateRoot](),o=s[$extra].noLayoutFailure,l=this[$isSplittable]();if(l||setFirstUnsplittable(this),!checkDimensions(this,t))return HTMLResult.FAILURE;const u=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const T=this[$getSubformParent]().columnWidths;Array.isArray(T)&&T.length>0&&(this[$extra].columnWidths=T,this[$extra].currentColumn=0)}const d=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),f=["xfaSubform"],g=layoutClass(this);if(g&&f.push(g),a.style=d,a.class=f,this.name&&(a.xfaName=this.name),this.overflow){const T=this.overflow[$getExtra]();T.addLeader&&(T.addLeader=!1,handleOverflow(this,T.leader,t))}this[$pushPara]();const x=this.layout==="lr-tb"||this.layout==="rl-tb",b=x?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<b;this[$extra].attempt++){x&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const T=this[$childrenToHTML]({filter:u,include:!0});if(T.success)break;if(T.isBreak())return this[$popPara](),T;if(x&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!s[$extra].noLayoutFailure){this[$extra].attempt=b;break}}if(this[$popPara](),l||unsetFirstUnsplittable(this),s[$extra].noLayoutFailure=o,this[$extra].attempt===b)return this.overflow&&(this[$getTemplateRoot]()[$extra].overflowNode=this.overflow),l||delete this[$extra],HTMLResult.FAILURE;if(this.overflow){const T=this.overflow[$getExtra]();T.addTrailer&&(T.addTrailer=!1,handleOverflow(this,T.trailer,t))}let m=0,y=0;this.margin&&(m=this.margin.leftInset+this.margin.rightInset,y=this.margin.topInset+this.margin.bottomInset);const v=Math.max(this[$extra].width+m,this.w||0),w=Math.max(this[$extra].height+y,this.h||0),S=[this.x,this.y,v,w];if(this.w===""&&(d.width=measureToString(v)),this.h===""&&(d.height=measureToString(w)),(d.width==="0px"||d.height==="0px")&&r.length===0)return HTMLResult.EMPTY;const C={name:"div",attributes:a,children:r};applyAssist(this,a);const E=HTMLResult.success(createWrapper(this,C),S);if(this.breakAfter.children.length>=1){const T=this.breakAfter.children[0];if(handleBreak(T))return this[$extra].afterBreakAfter=E,HTMLResult.breakNode(T)}return delete this[$extra],E}}class SubformSet extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"subformSet",!0),this.id=t.id||"",this.name=t.name||"",this.relation=getStringOption(t.relation,["ordered","choice","unordered"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$getSubformParent](){let t=this[$getParent]();for(;!(t instanceof Subform);)t=t[$getParent]();return t}[$isBindable](){return!0}}class SubjectDN extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"subjectDN"),this.delimiter=t.delimiter||",",this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){this[$content]=new Map(this[$content].split(this.delimiter).map(t=>(t=t.split("=",2),t[0]=t[0].trim(),t)))}}class SubjectDNs extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"subjectDNs",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.subjectDN=new XFAObjectArray}}class Submit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"submit",!0),this.embedPDF=getInteger({data:t.embedPDF,defaultValue:0,validate:r=>r===1}),this.format=getStringOption(t.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=t.id||"",this.target=t.target||"",this.textEncoding=getKeyword({data:t.textEncoding?t.textEncoding.toLowerCase():"",defaultValue:"",validate:r=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(r)||r.match(/iso-8859-\d{2}/)}),this.use=t.use||"",this.usehref=t.usehref||"",this.xdpContent=t.xdpContent||"",this.encrypt=null,this.encryptData=new XFAObjectArray,this.signData=new XFAObjectArray}}class Template extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"template",!0),this.baseProfile=getStringOption(t.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new XFAObjectArray}[$finalize](){this.subform.children.length===0&&warn("XFA - No subforms in template node."),this.subform.children.length>=2&&warn("XFA - Several subforms in template node: please file a bug."),this[$tabIndex]=DEFAULT_TAB_INDEX}[$isSplittable](){return!0}[$searchNode](t,r){return t.startsWith("#")?[this[$ids].get(t.slice(1))]:searchNode(this,r,t,!0,!0)}*[$toPages](){if(!this.subform.children.length)return HTMLResult.success({name:"div",children:[]});this[$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const t=this.subform.children[0];t.pageSet[$cleanPage]();const r=t.pageSet.pageArea.children,a={name:"div",children:[]};let s=null,o=null,l=null;if(t.breakBefore.children.length>=1?(o=t.breakBefore.children[0],l=o.target):t.subform.children.length>=1&&t.subform.children[0].breakBefore.children.length>=1?(o=t.subform.children[0].breakBefore.children[0],l=o.target):t.break?.beforeTarget?(o=t.break,l=o.beforeTarget):t.subform.children.length>=1&&t.subform.children[0].break?.beforeTarget&&(o=t.subform.children[0].break,l=o.beforeTarget),o){const y=this[$searchNode](l,o[$getParent]());y instanceof PageArea&&(s=y,o[$extra]={})}s||(s=r[0]),s[$extra]={numberOfUse:1};const u=s[$getParent]();u[$extra]={numberOfUse:1,pageIndex:u.pageArea.children.indexOf(s),pageSetIndex:0};let d,f=null,g=null,x=!0,b=0,m=0;for(;;){if(x)b=0;else if(a.children.pop(),++b===MAX_EMPTY_PAGES)return warn("XFA - Something goes wrong: please file a bug."),a;d=null,this[$extra].currentPageArea=s;const y=s[$toHTML]().html;a.children.push(y),f&&(this[$extra].noLayoutFailure=!0,y.children.push(f[$toHTML](s[$extra].space).html),f=null),g&&(this[$extra].noLayoutFailure=!0,y.children.push(g[$toHTML](s[$extra].space).html),g=null);const v=s.contentArea.children,w=y.children.filter(C=>C.attributes.class.includes("xfaContentarea"));x=!1,this[$extra].firstUnsplittable=null,this[$extra].noLayoutFailure=!1;const S=C=>{const E=t[$flushHTML]();E&&(x||=E.children?.length>0,w[C].children.push(E))};for(let C=m,E=v.length;C<E;C++){const T=this[$extra].currentContentArea=v[C],_={width:T.w,height:T.h};m=0,f&&(w[C].children.push(f[$toHTML](_).html),f=null),g&&(w[C].children.push(g[$toHTML](_).html),g=null);const R=t[$toHTML](_);if(R.success)return R.html?(x||=R.html.children?.length>0,w[C].children.push(R.html)):!x&&a.children.length>1&&a.children.pop(),a;if(R.isBreak()){const U=R.breakNode;if(S(C),U.targetType==="auto")continue;U.leader&&(f=this[$searchNode](U.leader,U[$getParent]()),f=f?f[0]:null),U.trailer&&(g=this[$searchNode](U.trailer,U[$getParent]()),g=g?g[0]:null),U.targetType==="pageArea"?(d=U[$extra].target,C=1/0):U[$extra].target?(d=U[$extra].target,m=U[$extra].index+1,C=1/0):C=U[$extra].index;continue}if(this[$extra].overflowNode){const U=this[$extra].overflowNode;this[$extra].overflowNode=null;const z=U[$getExtra](),X=z.target;z.addLeader=z.leader!==null,z.addTrailer=z.trailer!==null,S(C);const W=C;if(C=1/0,X instanceof PageArea)d=X;else if(X instanceof ContentArea){const Y=v.indexOf(X);Y!==-1?Y>W?C=Y-1:m=Y:(d=X[$getParent](),m=d.contentArea.children.indexOf(X))}continue}S(C)}this[$extra].pageNumber+=1,d&&(d[$isUsable]()?d[$extra].numberOfUse+=1:d=null),s=d||s[$getNextPage](),yield null}}}class Text extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"text"),this.id=t.id||"",this.maxChars=getInteger({data:t.maxChars,defaultValue:0,validate:r=>r>=0}),this.name=t.name||"",this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}[$acceptWhitespace](){return!0}[$onChild](t){return t[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=t,!0):(warn(`XFA - Invalid content in Text: ${t[$nodeName]}.`),!1)}[$onText](t){this[$content]instanceof XFAObject||super[$onText](t)}[$finalize](){typeof this[$content]=="string"&&(this[$content]=this[$content].replaceAll(`\r
`,`
`))}[$getExtra](){return typeof this[$content]=="string"?this[$content].split(/[\u2029\u2028\n]/).reduce((t,r)=>(r&&t.push(r),t),[]).join(`
`):this[$content][$text]()}[$toHTML](t){if(typeof this[$content]=="string"){const r=valueToHtml(this[$content]).html;return this[$content].includes("\u2029")?(r.name="div",r.children=[],this[$content].split("\u2029").map(a=>a.split(/[\u2028\n]/).reduce((s,o)=>(s.push({name:"span",value:o},{name:"br"}),s),[])).forEach(a=>{r.children.push({name:"p",children:a})})):/[\u2028\n]/.test(this[$content])&&(r.name="div",r.children=[],this[$content].split(/[\u2028\n]/).forEach(a=>{r.children.push({name:"span",value:a},{name:"br"})})),HTMLResult.success(r)}return this[$content][$toHTML](t)}}class TextEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"textEdit",!0),this.allowRichText=getInteger({data:t.allowRichText,defaultValue:0,validate:r=>r===1}),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.multiLine=getInteger({data:t.multiLine,defaultValue:"",validate:r=>r===0||r===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.vScrollPolicy=getStringOption(t.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](t){const r=toStyle(this,"border","font","margin");let a;const s=this[$getParent]()[$getParent]();return this.multiLine===""&&(this.multiLine=s instanceof Draw?1:0),this.multiLine===1?a={name:"textarea",attributes:{dataId:s[$data]?.[$uid]||s[$uid],fieldId:s[$uid],class:["xfaTextfield"],style:r,"aria-label":ariaLabel(s),"aria-required":!1}}:a={name:"input",attributes:{type:"text",dataId:s[$data]?.[$uid]||s[$uid],fieldId:s[$uid],class:["xfaTextfield"],style:r,"aria-label":ariaLabel(s),"aria-required":!1}},isRequired(s)&&(a.attributes["aria-required"]=!0,a.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[a]})}}class Time extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"time"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=this[$content].trim();this[$content]=t?new Date(t):null}[$toHTML](t){return valueToHtml(this[$content]?this[$content].toString():"")}}class TimeStamp extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"timeStamp"),this.id=t.id||"",this.server=t.server||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class ToolTip extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"toolTip"),this.id=t.id||"",this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Traversal extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"traversal",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.traverse=new XFAObjectArray}}class Traverse extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"traverse",!0),this.id=t.id||"",this.operation=getStringOption(t.operation,["next","back","down","first","left","right","up"]),this.ref=t.ref||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[$isTransparent](){return!1}}class Ui extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"ui",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[$getExtra](){if(this[$extra]===void 0){for(const t of Object.getOwnPropertyNames(this)){if(t==="extras"||t==="picture")continue;const r=this[t];if(r instanceof XFAObject)return this[$extra]=r,r}this[$extra]=null}return this[$extra]}[$toHTML](t){const r=this[$getExtra]();return r?r[$toHTML](t):HTMLResult.EMPTY}}class Validate extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"validate",!0),this.formatTest=getStringOption(t.formatTest,["warning","disabled","error"]),this.id=t.id||"",this.nullTest=getStringOption(t.nullTest,["disabled","error","warning"]),this.scriptTest=getStringOption(t.scriptTest,["error","disabled","warning"]),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Value extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"value",!0),this.id=t.id||"",this.override=getInteger({data:t.override,defaultValue:0,validate:r=>r===1}),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[$setValue](t){const r=this[$getParent]();if(r instanceof Field&&r.ui?.imageEdit){this.image||(this.image=new Image$1({}),this[$appendChild](this.image)),this.image[$content]=t[$content];return}const a=t[$nodeName];if(this[a]!==null){this[a][$content]=t[$content];return}for(const s of Object.getOwnPropertyNames(this)){const o=this[s];o instanceof XFAObject&&(this[s]=null,this[$removeChild](o))}this[t[$nodeName]]=t,this[$appendChild](t)}[$text](){if(this.exData)return typeof this.exData[$content]=="string"?this.exData[$content].trim():this.exData[$content][$text]().trim();for(const t of Object.getOwnPropertyNames(this)){if(t==="image")continue;const r=this[t];if(r instanceof XFAObject)return(r[$content]||"").toString().trim()}return null}[$toHTML](t){for(const r of Object.getOwnPropertyNames(this)){const a=this[r];if(a instanceof XFAObject)return a[$toHTML](t)}return HTMLResult.EMPTY}}class Variables extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"variables",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.manifest=new XFAObjectArray,this.script=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$isTransparent](){return!0}}class TemplateNamespace{static[$buildXFAObject](t,r){if(TemplateNamespace.hasOwnProperty(t)){const a=TemplateNamespace[t](r);return a[$setSetAttributes](r),a}}static appearanceFilter(t){return new AppearanceFilter(t)}static arc(t){return new Arc(t)}static area(t){return new Area(t)}static assist(t){return new Assist(t)}static barcode(t){return new Barcode(t)}static bind(t){return new Bind(t)}static bindItems(t){return new BindItems(t)}static bookend(t){return new Bookend(t)}static boolean(t){return new BooleanElement(t)}static border(t){return new Border(t)}static break(t){return new Break(t)}static breakAfter(t){return new BreakAfter(t)}static breakBefore(t){return new BreakBefore(t)}static button(t){return new Button(t)}static calculate(t){return new Calculate(t)}static caption(t){return new Caption(t)}static certificate(t){return new Certificate(t)}static certificates(t){return new Certificates(t)}static checkButton(t){return new CheckButton(t)}static choiceList(t){return new ChoiceList(t)}static color(t){return new Color(t)}static comb(t){return new Comb(t)}static connect(t){return new Connect(t)}static contentArea(t){return new ContentArea(t)}static corner(t){return new Corner(t)}static date(t){return new DateElement(t)}static dateTime(t){return new DateTime(t)}static dateTimeEdit(t){return new DateTimeEdit(t)}static decimal(t){return new Decimal(t)}static defaultUi(t){return new DefaultUi(t)}static desc(t){return new Desc(t)}static digestMethod(t){return new DigestMethod(t)}static digestMethods(t){return new DigestMethods(t)}static draw(t){return new Draw(t)}static edge(t){return new Edge(t)}static encoding(t){return new Encoding$1(t)}static encodings(t){return new Encodings$1(t)}static encrypt(t){return new Encrypt(t)}static encryptData(t){return new EncryptData(t)}static encryption(t){return new Encryption(t)}static encryptionMethod(t){return new EncryptionMethod(t)}static encryptionMethods(t){return new EncryptionMethods(t)}static event(t){return new Event$1(t)}static exData(t){return new ExData(t)}static exObject(t){return new ExObject(t)}static exclGroup(t){return new ExclGroup(t)}static execute(t){return new Execute(t)}static extras(t){return new Extras(t)}static field(t){return new Field(t)}static fill(t){return new Fill(t)}static filter(t){return new Filter(t)}static float(t){return new Float(t)}static font(t){return new template_Font(t)}static format(t){return new Format(t)}static handler(t){return new Handler(t)}static hyphenation(t){return new Hyphenation(t)}static image(t){return new Image$1(t)}static imageEdit(t){return new ImageEdit(t)}static integer(t){return new Integer(t)}static issuers(t){return new Issuers(t)}static items(t){return new Items(t)}static keep(t){return new Keep(t)}static keyUsage(t){return new KeyUsage(t)}static line(t){return new Line(t)}static linear(t){return new Linear(t)}static lockDocument(t){return new LockDocument(t)}static manifest(t){return new Manifest(t)}static margin(t){return new Margin(t)}static mdp(t){return new Mdp(t)}static medium(t){return new Medium(t)}static message(t){return new Message(t)}static numericEdit(t){return new NumericEdit(t)}static occur(t){return new Occur(t)}static oid(t){return new Oid(t)}static oids(t){return new Oids(t)}static overflow(t){return new Overflow(t)}static pageArea(t){return new PageArea(t)}static pageSet(t){return new PageSet(t)}static para(t){return new Para(t)}static passwordEdit(t){return new PasswordEdit(t)}static pattern(t){return new template_Pattern(t)}static picture(t){return new Picture(t)}static proto(t){return new Proto(t)}static radial(t){return new Radial(t)}static reason(t){return new Reason(t)}static reasons(t){return new Reasons(t)}static rectangle(t){return new Rectangle(t)}static ref(t){return new RefElement(t)}static script(t){return new Script(t)}static setProperty(t){return new SetProperty(t)}static signData(t){return new SignData(t)}static signature(t){return new Signature(t)}static signing(t){return new Signing(t)}static solid(t){return new Solid(t)}static speak(t){return new Speak(t)}static stipple(t){return new Stipple(t)}static subform(t){return new Subform(t)}static subformSet(t){return new SubformSet(t)}static subjectDN(t){return new SubjectDN(t)}static subjectDNs(t){return new SubjectDNs(t)}static submit(t){return new Submit(t)}static template(t){return new Template(t)}static text(t){return new Text(t)}static textEdit(t){return new TextEdit(t)}static time(t){return new Time(t)}static timeStamp(t){return new TimeStamp(t)}static toolTip(t){return new ToolTip(t)}static traversal(t){return new Traversal(t)}static traverse(t){return new Traverse(t)}static ui(t){return new Ui(t)}static validate(t){return new Validate(t)}static value(t){return new Value(t)}static variables(t){return new Variables(t)}}const bind_NS_DATASETS=NamespaceIds.datasets.id;function createText(n){const t=new Text({});return t[$content]=n,t}class Binder{constructor(t){this.root=t,this.datasets=t.datasets,this.data=t.datasets?.data||new XmlObject(NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[$getChildren]().length===0,this.root.form=this.form=t.template[$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(t,r,a){if(t[$data]=r,t[$hasSettableValue]())if(r[$isDataValue]()){const s=r[$getDataValue]();t[$setValue](createText(s))}else if(t instanceof Field&&t.ui?.choiceList?.open==="multiSelect"){const s=r[$getChildren]().map(o=>o[$content].trim()).join(`
`);t[$setValue](createText(s))}else this._isConsumeData()&&warn("XFA - Nodes haven't the same type.");else!r[$isDataValue]()||this._isMatchTemplate()?this._bindElement(t,r):warn("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(t,r,a,s){if(!t)return null;let o,l;for(let u=0;u<3;u++){for(o=a[$getRealChildrenByNameIt](t,!1,!0);l=o.next().value,!!l;)if(r===l[$isDataValue]())return l;if(a[$namespaceId]===NamespaceIds.datasets.id&&a[$nodeName]==="data")break;a=a[$getParent]()}return s?(o=this.data[$getRealChildrenByNameIt](t,!0,!1),l=o.next().value,l||(o=this.data[$getAttributeIt](t,!0),l=o.next().value,l?.[$isDataValue]())?l:null):null}_setProperties(t,r){if(t.hasOwnProperty("setProperty"))for(const{ref:a,target:s,connection:o}of t.setProperty.children){if(o||!a)continue;const l=searchNode(this.root,r,a,!1,!1);if(!l){warn(`XFA - Invalid reference: ${a}.`);continue}const[u]=l;if(!u[$isDescendent](this.data)){warn("XFA - Invalid node: must be a data node.");continue}const d=searchNode(this.root,t,s,!1,!1);if(!d){warn(`XFA - Invalid target: ${s}.`);continue}const[f]=d;if(!f[$isDescendent](t)){warn("XFA - Invalid target: must be a property or subproperty.");continue}const g=f[$getParent]();if(f instanceof SetProperty||g instanceof SetProperty){warn("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(f instanceof BindItems||g instanceof BindItems){warn("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const x=u[$text](),b=f[$nodeName];if(f instanceof XFAAttribute){const m=Object.create(null);m[b]=x;const y=Reflect.construct(Object.getPrototypeOf(g).constructor,[m]);g[b]=y[b];continue}if(!f.hasOwnProperty($content)){warn("XFA - Invalid node to use in setProperty");continue}f[$data]=u,f[$content]=x,f[$finalize]()}}_bindItems(t,r){if(!t.hasOwnProperty("items")||!t.hasOwnProperty("bindItems")||t.bindItems.isEmpty())return;for(const o of t.items.children)t[$removeChild](o);t.items.clear();const a=new Items({}),s=new Items({});t[$appendChild](a),t.items.push(a),t[$appendChild](s),t.items.push(s);for(const{ref:o,labelRef:l,valueRef:u,connection:d}of t.bindItems.children){if(d||!o)continue;const f=searchNode(this.root,r,o,!1,!1);if(!f){warn(`XFA - Invalid reference: ${o}.`);continue}for(const g of f){if(!g[$isDescendent](this.datasets)){warn(`XFA - Invalid ref (${o}): must be a datasets child.`);continue}const x=searchNode(this.root,g,l,!0,!1);if(!x){warn(`XFA - Invalid label: ${l}.`);continue}const[b]=x;if(!b[$isDescendent](this.datasets)){warn("XFA - Invalid label: must be a datasets child.");continue}const m=searchNode(this.root,g,u,!0,!1);if(!m){warn(`XFA - Invalid value: ${u}.`);continue}const[y]=m;if(!y[$isDescendent](this.datasets)){warn("XFA - Invalid value: must be a datasets child.");continue}const v=createText(b[$text]()),w=createText(y[$text]());a[$appendChild](v),a.text.push(v),s[$appendChild](w),s.text.push(w)}}}_bindOccurrences(t,r,a){let s;if(r.length>1&&(s=t[$clone](),s[$removeChild](s.occur),s.occur=null),this._bindValue(t,r[0],a),this._setProperties(t,r[0]),this._bindItems(t,r[0]),r.length===1)return;const o=t[$getParent](),l=t[$nodeName],u=o[$indexOf](t);for(let d=1,f=r.length;d<f;d++){const g=r[d],x=s[$clone]();o[l].push(x),o[$insertAt](u+d,x),this._bindValue(x,g,a),this._setProperties(x,g),this._bindItems(x,g)}}_createOccurrences(t){if(!this.emptyMerge)return;const{occur:r}=t;if(!r||r.initial<=1)return;const a=t[$getParent](),s=t[$nodeName];if(!(a[s]instanceof XFAObjectArray))return;let o;t.name?o=a[s].children.filter(d=>d.name===t.name).length:o=a[s].children.length;const l=a[$indexOf](t)+1,u=r.initial-o;if(u){const d=t[$clone]();d[$removeChild](d.occur),d.occur=null,a[s].push(d),a[$insertAt](l,d);for(let f=1;f<u;f++){const g=d[$clone]();a[s].push(g),a[$insertAt](l+f,g)}}}_getOccurInfo(t){const{name:r,occur:a}=t;if(!a||!r)return[1,1];const s=a.max===-1?1/0:a.max;return[a.min,s]}_setAndBind(t,r){this._setProperties(t,r),this._bindItems(t,r),this._bindElement(t,r)}_bindElement(t,r){const a=[];this._createOccurrences(t);for(const s of t[$getChildren]()){if(s[$data])continue;if(this._mergeMode===void 0&&s[$nodeName]==="subform"){this._mergeMode=s.mergeMode==="consumeData";const x=r[$getChildren]();if(x.length>0)this._bindOccurrences(s,[x[0]],null);else if(this.emptyMerge){const b=r[$namespaceId]===bind_NS_DATASETS?-1:r[$namespaceId],m=s[$data]=new XmlObject(b,s.name||"root");r[$appendChild](m),this._bindElement(s,m)}continue}if(!s[$isBindable]())continue;let o=!1,l=null,u=null,d=null;if(s.bind){switch(s.bind.match){case"none":this._setAndBind(s,r);continue;case"global":o=!0;break;case"dataRef":if(!s.bind.ref){warn(`XFA - ref is empty in node ${s[$nodeName]}.`),this._setAndBind(s,r);continue}u=s.bind.ref;break}s.bind.picture&&(l=s.bind.picture[$content])}const[f,g]=this._getOccurInfo(s);if(u)if(d=searchNode(this.root,r,u,!0,!1),d===null){if(d=createDataNode(this.data,r,u),!d)continue;this._isConsumeData()&&(d[$consumed]=!0),this._setAndBind(s,d);continue}else this._isConsumeData()&&(d=d.filter(x=>!x[$consumed])),d.length>g?d=d.slice(0,g):d.length===0&&(d=null),d&&this._isConsumeData()&&d.forEach(x=>{x[$consumed]=!0});else{if(!s.name){this._setAndBind(s,r);continue}if(this._isConsumeData()){const x=[];for(;x.length<g;){const b=this._findDataByNameToConsume(s.name,s[$hasSettableValue](),r,o);if(!b)break;b[$consumed]=!0,x.push(b)}d=x.length>0?x:null}else{if(d=r[$getRealChildrenByNameIt](s.name,!1,this.emptyMerge).next().value,!d){if(f===0){a.push(s);continue}const x=r[$namespaceId]===bind_NS_DATASETS?-1:r[$namespaceId];d=s[$data]=new XmlObject(x,s.name),this.emptyMerge&&(d[$consumed]=!0),r[$appendChild](d),this._setAndBind(s,d);continue}this.emptyMerge&&(d[$consumed]=!0),d=[d]}}d?this._bindOccurrences(s,d,l):f>0?this._setAndBind(s,r):a.push(s)}a.forEach(s=>s[$getParent]()[$removeChild](s))}}class DataHandler{constructor(t,r){this.data=r,this.dataset=t.datasets||null}serialize(t){const r=[[-1,this.data[$getChildren]()]];for(;r.length>0;){const s=r.at(-1),[o,l]=s;if(o+1===l.length){r.pop();continue}const u=l[++s[0]],d=t.get(u[$uid]);if(d)u[$setValue](d);else{const g=u[$getAttributes]();for(const x of g.values()){const b=t.get(x[$uid]);if(b){x[$setValue](b);break}}}const f=u[$getChildren]();f.length>0&&r.push([-1,f])}const a=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const s of this.dataset[$getChildren]())s[$nodeName]!=="data"&&s[$toString](a);return this.data[$toString](a),a.push("</xfa:datasets>"),a.join("")}}const CONFIG_NS_ID=NamespaceIds.config.id;class Acrobat extends XFAObject{constructor(t){super(CONFIG_NS_ID,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new XFAObjectArray}}class Acrobat7 extends XFAObject{constructor(t){super(CONFIG_NS_ID,"acrobat7",!0),this.dynamicRender=null}}class ADBE_JSConsole extends OptionObject{constructor(t){super(CONFIG_NS_ID,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class ADBE_JSDebugger extends OptionObject{constructor(t){super(CONFIG_NS_ID,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class AddSilentPrint extends Option01{constructor(t){super(CONFIG_NS_ID,"addSilentPrint")}}class AddViewerPreferences extends Option01{constructor(t){super(CONFIG_NS_ID,"addViewerPreferences")}}class AdjustData extends Option10{constructor(t){super(CONFIG_NS_ID,"adjustData")}}class AdobeExtensionLevel extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"adobeExtensionLevel",0,r=>r>=1&&r<=8)}}class Agent extends XFAObject{constructor(t){super(CONFIG_NS_ID,"agent",!0),this.name=t.name?t.name.trim():"",this.common=new XFAObjectArray}}class AlwaysEmbed extends ContentObject{constructor(t){super(CONFIG_NS_ID,"alwaysEmbed")}}class Amd extends StringObject{constructor(t){super(CONFIG_NS_ID,"amd")}}class config_Area extends XFAObject{constructor(t){super(CONFIG_NS_ID,"area"),this.level=getInteger({data:t.level,defaultValue:0,validate:r=>r>=1&&r<=3}),this.name=getStringOption(t.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Attributes extends OptionObject{constructor(t){super(CONFIG_NS_ID,"attributes",["preserve","delegate","ignore"])}}class AutoSave extends OptionObject{constructor(t){super(CONFIG_NS_ID,"autoSave",["disabled","enabled"])}}class Base extends StringObject{constructor(t){super(CONFIG_NS_ID,"base")}}class BatchOutput extends XFAObject{constructor(t){super(CONFIG_NS_ID,"batchOutput"),this.format=getStringOption(t.format,["none","concat","zip","zipCompress"])}}class BehaviorOverride extends ContentObject{constructor(t){super(CONFIG_NS_ID,"behaviorOverride")}[$finalize](){this[$content]=new Map(this[$content].trim().split(/\s+/).filter(t=>t.includes(":")).map(t=>t.split(":",2)))}}let Cache$1=class extends XFAObject{constructor(t){super(CONFIG_NS_ID,"cache",!0),this.templateCache=null}};class Change extends Option01{constructor(t){super(CONFIG_NS_ID,"change")}}class Common extends XFAObject{constructor(t){super(CONFIG_NS_ID,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new XFAObjectArray}}class Compress extends XFAObject{constructor(t){super(CONFIG_NS_ID,"compress"),this.scope=getStringOption(t.scope,["imageOnly","document"])}}class CompressLogicalStructure extends Option01{constructor(t){super(CONFIG_NS_ID,"compressLogicalStructure")}}class CompressObjectStream extends Option10{constructor(t){super(CONFIG_NS_ID,"compressObjectStream")}}class Compression extends XFAObject{constructor(t){super(CONFIG_NS_ID,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}let Config$1=class extends XFAObject{constructor(t){super(CONFIG_NS_ID,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new XFAObjectArray}};class Conformance extends OptionObject{constructor(t){super(CONFIG_NS_ID,"conformance",["A","B"])}}class ContentCopy extends Option01{constructor(t){super(CONFIG_NS_ID,"contentCopy")}}class Copies extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"copies",1,r=>r>=1)}}class Creator extends StringObject{constructor(t){super(CONFIG_NS_ID,"creator")}}class CurrentPage extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"currentPage",0,r=>r>=0)}}class Data extends XFAObject{constructor(t){super(CONFIG_NS_ID,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new XFAObjectArray,this.transform=new XFAObjectArray}}class Debug extends XFAObject{constructor(t){super(CONFIG_NS_ID,"debug",!0),this.uri=null}}class DefaultTypeface extends ContentObject{constructor(t){super(CONFIG_NS_ID,"defaultTypeface"),this.writingScript=getStringOption(t.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Destination extends OptionObject{constructor(t){super(CONFIG_NS_ID,"destination",["pdf","pcl","ps","webClient","zpl"])}}class DocumentAssembly extends Option01{constructor(t){super(CONFIG_NS_ID,"documentAssembly")}}class Driver extends XFAObject{constructor(t){super(CONFIG_NS_ID,"driver",!0),this.name=t.name?t.name.trim():"",this.fontInfo=null,this.xdc=null}}class DuplexOption extends OptionObject{constructor(t){super(CONFIG_NS_ID,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class DynamicRender extends OptionObject{constructor(t){super(CONFIG_NS_ID,"dynamicRender",["forbidden","required"])}}class Embed extends Option01{constructor(t){super(CONFIG_NS_ID,"embed")}}class config_Encrypt extends Option01{constructor(t){super(CONFIG_NS_ID,"encrypt")}}class config_Encryption extends XFAObject{constructor(t){super(CONFIG_NS_ID,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class EncryptionLevel extends OptionObject{constructor(t){super(CONFIG_NS_ID,"encryptionLevel",["40bit","128bit"])}}class Enforce extends StringObject{constructor(t){super(CONFIG_NS_ID,"enforce")}}class Equate extends XFAObject{constructor(t){super(CONFIG_NS_ID,"equate"),this.force=getInteger({data:t.force,defaultValue:1,validate:r=>r===0}),this.from=t.from||"",this.to=t.to||""}}class EquateRange extends XFAObject{constructor(t){super(CONFIG_NS_ID,"equateRange"),this.from=t.from||"",this.to=t.to||"",this._unicodeRange=t.unicodeRange||""}get unicodeRange(){const t=[],r=/U\+([0-9a-fA-F]+)/,a=this._unicodeRange;for(let s of a.split(",").map(o=>o.trim()).filter(o=>!!o))s=s.split("-",2).map(o=>{const l=o.match(r);return l?parseInt(l[1],16):0}),s.length===1&&s.push(s[0]),t.push(s);return shadow(this,"unicodeRange",t)}}class Exclude extends ContentObject{constructor(t){super(CONFIG_NS_ID,"exclude")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(t=>t&&["calculate","close","enter","exit","initialize","ready","validate"].includes(t))}}class ExcludeNS extends StringObject{constructor(t){super(CONFIG_NS_ID,"excludeNS")}}class FlipLabel extends OptionObject{constructor(t){super(CONFIG_NS_ID,"flipLabel",["usePrinterSetting","on","off"])}}class config_FontInfo extends XFAObject{constructor(t){super(CONFIG_NS_ID,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new XFAObjectArray,this.defaultTypeface=new XFAObjectArray,this.neverEmbed=new XFAObjectArray}}class FormFieldFilling extends Option01{constructor(t){super(CONFIG_NS_ID,"formFieldFilling")}}class GroupParent extends StringObject{constructor(t){super(CONFIG_NS_ID,"groupParent")}}class IfEmpty extends OptionObject{constructor(t){super(CONFIG_NS_ID,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class IncludeXDPContent extends StringObject{constructor(t){super(CONFIG_NS_ID,"includeXDPContent")}}class IncrementalLoad extends OptionObject{constructor(t){super(CONFIG_NS_ID,"incrementalLoad",["none","forwardOnly"])}}class IncrementalMerge extends Option01{constructor(t){super(CONFIG_NS_ID,"incrementalMerge")}}class Interactive extends Option01{constructor(t){super(CONFIG_NS_ID,"interactive")}}class Jog extends OptionObject{constructor(t){super(CONFIG_NS_ID,"jog",["usePrinterSetting","none","pageSet"])}}class LabelPrinter extends XFAObject{constructor(t){super(CONFIG_NS_ID,"labelPrinter",!0),this.name=getStringOption(t.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Layout extends OptionObject{constructor(t){super(CONFIG_NS_ID,"layout",["paginate","panel"])}}class Level extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"level",0,r=>r>0)}}class Linearized extends Option01{constructor(t){super(CONFIG_NS_ID,"linearized")}}class Locale extends StringObject{constructor(t){super(CONFIG_NS_ID,"locale")}}class LocaleSet extends StringObject{constructor(t){super(CONFIG_NS_ID,"localeSet")}}class Log extends XFAObject{constructor(t){super(CONFIG_NS_ID,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class MapElement extends XFAObject{constructor(t){super(CONFIG_NS_ID,"map",!0),this.equate=new XFAObjectArray,this.equateRange=new XFAObjectArray}}class MediumInfo extends XFAObject{constructor(t){super(CONFIG_NS_ID,"mediumInfo",!0),this.map=null}}class config_Message extends XFAObject{constructor(t){super(CONFIG_NS_ID,"message",!0),this.msgId=null,this.severity=null}}class Messaging extends XFAObject{constructor(t){super(CONFIG_NS_ID,"messaging",!0),this.message=new XFAObjectArray}}class Mode extends OptionObject{constructor(t){super(CONFIG_NS_ID,"mode",["append","overwrite"])}}class ModifyAnnots extends Option01{constructor(t){super(CONFIG_NS_ID,"modifyAnnots")}}class MsgId extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"msgId",1,r=>r>=1)}}class NameAttr extends StringObject{constructor(t){super(CONFIG_NS_ID,"nameAttr")}}class NeverEmbed extends ContentObject{constructor(t){super(CONFIG_NS_ID,"neverEmbed")}}class NumberOfCopies extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"numberOfCopies",null,r=>r>=2&&r<=5)}}class OpenAction extends XFAObject{constructor(t){super(CONFIG_NS_ID,"openAction",!0),this.destination=null}}class Output extends XFAObject{constructor(t){super(CONFIG_NS_ID,"output",!0),this.to=null,this.type=null,this.uri=null}}class OutputBin extends StringObject{constructor(t){super(CONFIG_NS_ID,"outputBin")}}class OutputXSL extends XFAObject{constructor(t){super(CONFIG_NS_ID,"outputXSL",!0),this.uri=null}}class Overprint extends OptionObject{constructor(t){super(CONFIG_NS_ID,"overprint",["none","both","draw","field"])}}class Packets extends StringObject{constructor(t){super(CONFIG_NS_ID,"packets")}[$finalize](){this[$content]!=="*"&&(this[$content]=this[$content].trim().split(/\s+/).filter(t=>["config","datasets","template","xfdf","xslt"].includes(t)))}}class PageOffset extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pageOffset"),this.x=getInteger({data:t.x,defaultValue:"useXDCSetting",validate:r=>!0}),this.y=getInteger({data:t.y,defaultValue:"useXDCSetting",validate:r=>!0})}}class PageRange extends StringObject{constructor(t){super(CONFIG_NS_ID,"pageRange")}[$finalize](){const t=this[$content].trim().split(/\s+/).map(a=>parseInt(a,10)),r=[];for(let a=0,s=t.length;a<s;a+=2)r.push(t.slice(a,a+2));this[$content]=r}}class Pagination extends OptionObject{constructor(t){super(CONFIG_NS_ID,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class PaginationOverride extends OptionObject{constructor(t){super(CONFIG_NS_ID,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Part extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"part",1,r=>!1)}}class Pcl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pcl",!0),this.name=t.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Pdf extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pdf",!0),this.name=t.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Pdfa extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Permissions extends XFAObject{constructor(t){super(CONFIG_NS_ID,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class PickTrayByPDFSize extends Option01{constructor(t){super(CONFIG_NS_ID,"pickTrayByPDFSize")}}class config_Picture extends StringObject{constructor(t){super(CONFIG_NS_ID,"picture")}}class PlaintextMetadata extends Option01{constructor(t){super(CONFIG_NS_ID,"plaintextMetadata")}}class Presence extends OptionObject{constructor(t){super(CONFIG_NS_ID,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Present extends XFAObject{constructor(t){super(CONFIG_NS_ID,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new XFAObjectArray,this.labelPrinter=new XFAObjectArray,this.pcl=new XFAObjectArray,this.pdf=new XFAObjectArray,this.ps=new XFAObjectArray,this.submitUrl=new XFAObjectArray,this.webClient=new XFAObjectArray,this.zpl=new XFAObjectArray}}class Print extends Option01{constructor(t){super(CONFIG_NS_ID,"print")}}class PrintHighQuality extends Option01{constructor(t){super(CONFIG_NS_ID,"printHighQuality")}}let PrintScaling$1=class extends OptionObject{constructor(t){super(CONFIG_NS_ID,"printScaling",["appdefault","noScaling"])}};class PrinterName extends StringObject{constructor(t){super(CONFIG_NS_ID,"printerName")}}class Producer extends StringObject{constructor(t){super(CONFIG_NS_ID,"producer")}}class Ps extends XFAObject{constructor(t){super(CONFIG_NS_ID,"ps",!0),this.name=t.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Range extends ContentObject{constructor(t){super(CONFIG_NS_ID,"range")}[$finalize](){this[$content]=this[$content].trim().split(/\s*,\s*/,2).map(t=>t.split("-").map(r=>parseInt(r.trim(),10))).filter(t=>t.every(r=>!isNaN(r))).map(t=>(t.length===1&&t.push(t[0]),t))}}class Record extends ContentObject{constructor(t){super(CONFIG_NS_ID,"record")}[$finalize](){this[$content]=this[$content].trim();const t=parseInt(this[$content],10);!isNaN(t)&&t>=0&&(this[$content]=t)}}class Relevant extends ContentObject{constructor(t){super(CONFIG_NS_ID,"relevant")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/)}}class Rename extends ContentObject{constructor(t){super(CONFIG_NS_ID,"rename")}[$finalize](){this[$content]=this[$content].trim(),(this[$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[$content]))&&warn("XFA - Rename: invalid XFA name")}}class RenderPolicy extends OptionObject{constructor(t){super(CONFIG_NS_ID,"renderPolicy",["server","client"])}}class RunScripts extends OptionObject{constructor(t){super(CONFIG_NS_ID,"runScripts",["both","client","none","server"])}}class config_Script extends XFAObject{constructor(t){super(CONFIG_NS_ID,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ScriptModel extends OptionObject{constructor(t){super(CONFIG_NS_ID,"scriptModel",["XFA","none"])}}class Severity extends OptionObject{constructor(t){super(CONFIG_NS_ID,"severity",["ignore","error","information","trace","warning"])}}class SilentPrint extends XFAObject{constructor(t){super(CONFIG_NS_ID,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Staple extends XFAObject{constructor(t){super(CONFIG_NS_ID,"staple"),this.mode=getStringOption(t.mode,["usePrinterSetting","on","off"])}}class StartNode extends StringObject{constructor(t){super(CONFIG_NS_ID,"startNode")}}class StartPage extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"startPage",0,r=>!0)}}class SubmitFormat extends OptionObject{constructor(t){super(CONFIG_NS_ID,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class SubmitUrl extends StringObject{constructor(t){super(CONFIG_NS_ID,"submitUrl")}}class SubsetBelow extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"subsetBelow",100,r=>r>=0&&r<=100)}}class SuppressBanner extends Option01{constructor(t){super(CONFIG_NS_ID,"suppressBanner")}}class Tagged extends Option01{constructor(t){super(CONFIG_NS_ID,"tagged")}}class config_Template extends XFAObject{constructor(t){super(CONFIG_NS_ID,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Threshold extends OptionObject{constructor(t){super(CONFIG_NS_ID,"threshold",["trace","error","information","warning"])}}class To extends OptionObject{constructor(t){super(CONFIG_NS_ID,"to",["null","memory","stderr","stdout","system","uri"])}}class TemplateCache extends XFAObject{constructor(t){super(CONFIG_NS_ID,"templateCache"),this.maxEntries=getInteger({data:t.maxEntries,defaultValue:5,validate:r=>r>=0})}}class Trace extends XFAObject{constructor(t){super(CONFIG_NS_ID,"trace",!0),this.area=new XFAObjectArray}}class config_Transform extends XFAObject{constructor(t){super(CONFIG_NS_ID,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Type extends OptionObject{constructor(t){super(CONFIG_NS_ID,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Uri extends StringObject{constructor(t){super(CONFIG_NS_ID,"uri")}}class config_Validate extends OptionObject{constructor(t){super(CONFIG_NS_ID,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ValidateApprovalSignatures extends ContentObject{constructor(t){super(CONFIG_NS_ID,"validateApprovalSignatures")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(t=>["docReady","postSign"].includes(t))}}class ValidationMessaging extends OptionObject{constructor(t){super(CONFIG_NS_ID,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Version extends OptionObject{constructor(t){super(CONFIG_NS_ID,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class VersionControl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"VersionControl"),this.outputBelow=getStringOption(t.outputBelow,["warn","error","update"]),this.sourceAbove=getStringOption(t.sourceAbove,["warn","error"]),this.sourceBelow=getStringOption(t.sourceBelow,["update","maintain"])}}let ViewerPreferences$1=class extends XFAObject{constructor(t){super(CONFIG_NS_ID,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}};class WebClient extends XFAObject{constructor(t){super(CONFIG_NS_ID,"webClient",!0),this.name=t.name?t.name.trim():"",this.fontInfo=null,this.xdc=null}}class Whitespace extends OptionObject{constructor(t){super(CONFIG_NS_ID,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Window extends ContentObject{constructor(t){super(CONFIG_NS_ID,"window")}[$finalize](){const t=this[$content].trim().split(/\s*,\s*/,2).map(r=>parseInt(r,10));if(t.some(r=>isNaN(r))){this[$content]=[0,0];return}t.length===1&&t.push(t[0]),this[$content]=t}}class Xdc extends XFAObject{constructor(t){super(CONFIG_NS_ID,"xdc",!0),this.uri=new XFAObjectArray,this.xsl=new XFAObjectArray}}class Xdp extends XFAObject{constructor(t){super(CONFIG_NS_ID,"xdp",!0),this.packets=null}}class Xsl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"xsl",!0),this.debug=null,this.uri=null}}class Zpl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"zpl",!0),this.name=t.name?t.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ConfigNamespace{static[$buildXFAObject](t,r){if(ConfigNamespace.hasOwnProperty(t))return ConfigNamespace[t](r)}static acrobat(t){return new Acrobat(t)}static acrobat7(t){return new Acrobat7(t)}static ADBE_JSConsole(t){return new ADBE_JSConsole(t)}static ADBE_JSDebugger(t){return new ADBE_JSDebugger(t)}static addSilentPrint(t){return new AddSilentPrint(t)}static addViewerPreferences(t){return new AddViewerPreferences(t)}static adjustData(t){return new AdjustData(t)}static adobeExtensionLevel(t){return new AdobeExtensionLevel(t)}static agent(t){return new Agent(t)}static alwaysEmbed(t){return new AlwaysEmbed(t)}static amd(t){return new Amd(t)}static area(t){return new config_Area(t)}static attributes(t){return new Attributes(t)}static autoSave(t){return new AutoSave(t)}static base(t){return new Base(t)}static batchOutput(t){return new BatchOutput(t)}static behaviorOverride(t){return new BehaviorOverride(t)}static cache(t){return new Cache$1(t)}static change(t){return new Change(t)}static common(t){return new Common(t)}static compress(t){return new Compress(t)}static compressLogicalStructure(t){return new CompressLogicalStructure(t)}static compressObjectStream(t){return new CompressObjectStream(t)}static compression(t){return new Compression(t)}static config(t){return new Config$1(t)}static conformance(t){return new Conformance(t)}static contentCopy(t){return new ContentCopy(t)}static copies(t){return new Copies(t)}static creator(t){return new Creator(t)}static currentPage(t){return new CurrentPage(t)}static data(t){return new Data(t)}static debug(t){return new Debug(t)}static defaultTypeface(t){return new DefaultTypeface(t)}static destination(t){return new Destination(t)}static documentAssembly(t){return new DocumentAssembly(t)}static driver(t){return new Driver(t)}static duplexOption(t){return new DuplexOption(t)}static dynamicRender(t){return new DynamicRender(t)}static embed(t){return new Embed(t)}static encrypt(t){return new config_Encrypt(t)}static encryption(t){return new config_Encryption(t)}static encryptionLevel(t){return new EncryptionLevel(t)}static enforce(t){return new Enforce(t)}static equate(t){return new Equate(t)}static equateRange(t){return new EquateRange(t)}static exclude(t){return new Exclude(t)}static excludeNS(t){return new ExcludeNS(t)}static flipLabel(t){return new FlipLabel(t)}static fontInfo(t){return new config_FontInfo(t)}static formFieldFilling(t){return new FormFieldFilling(t)}static groupParent(t){return new GroupParent(t)}static ifEmpty(t){return new IfEmpty(t)}static includeXDPContent(t){return new IncludeXDPContent(t)}static incrementalLoad(t){return new IncrementalLoad(t)}static incrementalMerge(t){return new IncrementalMerge(t)}static interactive(t){return new Interactive(t)}static jog(t){return new Jog(t)}static labelPrinter(t){return new LabelPrinter(t)}static layout(t){return new Layout(t)}static level(t){return new Level(t)}static linearized(t){return new Linearized(t)}static locale(t){return new Locale(t)}static localeSet(t){return new LocaleSet(t)}static log(t){return new Log(t)}static map(t){return new MapElement(t)}static mediumInfo(t){return new MediumInfo(t)}static message(t){return new config_Message(t)}static messaging(t){return new Messaging(t)}static mode(t){return new Mode(t)}static modifyAnnots(t){return new ModifyAnnots(t)}static msgId(t){return new MsgId(t)}static nameAttr(t){return new NameAttr(t)}static neverEmbed(t){return new NeverEmbed(t)}static numberOfCopies(t){return new NumberOfCopies(t)}static openAction(t){return new OpenAction(t)}static output(t){return new Output(t)}static outputBin(t){return new OutputBin(t)}static outputXSL(t){return new OutputXSL(t)}static overprint(t){return new Overprint(t)}static packets(t){return new Packets(t)}static pageOffset(t){return new PageOffset(t)}static pageRange(t){return new PageRange(t)}static pagination(t){return new Pagination(t)}static paginationOverride(t){return new PaginationOverride(t)}static part(t){return new Part(t)}static pcl(t){return new Pcl(t)}static pdf(t){return new Pdf(t)}static pdfa(t){return new Pdfa(t)}static permissions(t){return new Permissions(t)}static pickTrayByPDFSize(t){return new PickTrayByPDFSize(t)}static picture(t){return new config_Picture(t)}static plaintextMetadata(t){return new PlaintextMetadata(t)}static presence(t){return new Presence(t)}static present(t){return new Present(t)}static print(t){return new Print(t)}static printHighQuality(t){return new PrintHighQuality(t)}static printScaling(t){return new PrintScaling$1(t)}static printerName(t){return new PrinterName(t)}static producer(t){return new Producer(t)}static ps(t){return new Ps(t)}static range(t){return new Range(t)}static record(t){return new Record(t)}static relevant(t){return new Relevant(t)}static rename(t){return new Rename(t)}static renderPolicy(t){return new RenderPolicy(t)}static runScripts(t){return new RunScripts(t)}static script(t){return new config_Script(t)}static scriptModel(t){return new ScriptModel(t)}static severity(t){return new Severity(t)}static silentPrint(t){return new SilentPrint(t)}static staple(t){return new Staple(t)}static startNode(t){return new StartNode(t)}static startPage(t){return new StartPage(t)}static submitFormat(t){return new SubmitFormat(t)}static submitUrl(t){return new SubmitUrl(t)}static subsetBelow(t){return new SubsetBelow(t)}static suppressBanner(t){return new SuppressBanner(t)}static tagged(t){return new Tagged(t)}static template(t){return new config_Template(t)}static templateCache(t){return new TemplateCache(t)}static threshold(t){return new Threshold(t)}static to(t){return new To(t)}static trace(t){return new Trace(t)}static transform(t){return new config_Transform(t)}static type(t){return new Type(t)}static uri(t){return new Uri(t)}static validate(t){return new config_Validate(t)}static validateApprovalSignatures(t){return new ValidateApprovalSignatures(t)}static validationMessaging(t){return new ValidationMessaging(t)}static version(t){return new Version(t)}static versionControl(t){return new VersionControl(t)}static viewerPreferences(t){return new ViewerPreferences$1(t)}static webClient(t){return new WebClient(t)}static whitespace(t){return new Whitespace(t)}static window(t){return new Window(t)}static xdc(t){return new Xdc(t)}static xdp(t){return new Xdp(t)}static xsl(t){return new Xsl(t)}static zpl(t){return new Zpl(t)}}const CONNECTION_SET_NS_ID=NamespaceIds.connectionSet.id;class ConnectionSet extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"connectionSet",!0),this.wsdlConnection=new XFAObjectArray,this.xmlConnection=new XFAObjectArray,this.xsdConnection=new XFAObjectArray}}class EffectiveInputPolicy extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"effectiveInputPolicy"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class EffectiveOutputPolicy extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"effectiveOutputPolicy"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Operation extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"operation"),this.id=t.id||"",this.input=t.input||"",this.name=t.name||"",this.output=t.output||"",this.use=t.use||"",this.usehref=t.usehref||""}}class RootElement extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"rootElement"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class SoapAction extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"soapAction"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class SoapAddress extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"soapAddress"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class connection_set_Uri extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"uri"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class WsdlAddress extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"wsdlAddress"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class WsdlConnection extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"wsdlConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class XmlConnection extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"xmlConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.uri=null}}class XsdConnection extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"xsdConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.rootElement=null,this.uri=null}}class ConnectionSetNamespace{static[$buildXFAObject](t,r){if(ConnectionSetNamespace.hasOwnProperty(t))return ConnectionSetNamespace[t](r)}static connectionSet(t){return new ConnectionSet(t)}static effectiveInputPolicy(t){return new EffectiveInputPolicy(t)}static effectiveOutputPolicy(t){return new EffectiveOutputPolicy(t)}static operation(t){return new Operation(t)}static rootElement(t){return new RootElement(t)}static soapAction(t){return new SoapAction(t)}static soapAddress(t){return new SoapAddress(t)}static uri(t){return new connection_set_Uri(t)}static wsdlAddress(t){return new WsdlAddress(t)}static wsdlConnection(t){return new WsdlConnection(t)}static xmlConnection(t){return new XmlConnection(t)}static xsdConnection(t){return new XsdConnection(t)}}const DATASETS_NS_ID=NamespaceIds.datasets.id;class datasets_Data extends XmlObject{constructor(t){super(DATASETS_NS_ID,"data",t)}[$isNsAgnostic](){return!0}}class Datasets extends XFAObject{constructor(t){super(DATASETS_NS_ID,"datasets",!0),this.data=null,this.Signature=null}[$onChild](t){const r=t[$nodeName];(r==="data"&&t[$namespaceId]===DATASETS_NS_ID||r==="Signature"&&t[$namespaceId]===NamespaceIds.signature.id)&&(this[r]=t),this[$appendChild](t)}}class DatasetsNamespace{static[$buildXFAObject](t,r){if(DatasetsNamespace.hasOwnProperty(t))return DatasetsNamespace[t](r)}static datasets(t){return new Datasets(t)}static data(t){return new datasets_Data(t)}}const LOCALE_SET_NS_ID=NamespaceIds.localeSet.id;class CalendarSymbols extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new XFAObjectArray(2)}}class CurrencySymbol extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"currencySymbol"),this.name=getStringOption(t.name,["symbol","isoname","decimal"])}}class CurrencySymbols extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"currencySymbols",!0),this.currencySymbol=new XFAObjectArray(3)}}class DatePattern extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"datePattern"),this.name=getStringOption(t.name,["full","long","med","short"])}}class DatePatterns extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"datePatterns",!0),this.datePattern=new XFAObjectArray(4)}}class DateTimeSymbols extends ContentObject{constructor(t){super(LOCALE_SET_NS_ID,"dateTimeSymbols")}}class Day extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"day")}}class DayNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"dayNames",!0),this.abbr=getInteger({data:t.abbr,defaultValue:0,validate:r=>r===1}),this.day=new XFAObjectArray(7)}}class Era extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"era")}}class EraNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"eraNames",!0),this.era=new XFAObjectArray(2)}}class locale_set_Locale extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"locale",!0),this.desc=t.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class locale_set_LocaleSet extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"localeSet",!0),this.locale=new XFAObjectArray}}class Meridiem extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"meridiem")}}class MeridiemNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"meridiemNames",!0),this.meridiem=new XFAObjectArray(2)}}class Month extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"month")}}class MonthNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"monthNames",!0),this.abbr=getInteger({data:t.abbr,defaultValue:0,validate:r=>r===1}),this.month=new XFAObjectArray(12)}}class NumberPattern extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"numberPattern"),this.name=getStringOption(t.name,["full","long","med","short"])}}class NumberPatterns extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"numberPatterns",!0),this.numberPattern=new XFAObjectArray(4)}}class NumberSymbol extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"numberSymbol"),this.name=getStringOption(t.name,["decimal","grouping","percent","minus","zero"])}}class NumberSymbols extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"numberSymbols",!0),this.numberSymbol=new XFAObjectArray(5)}}class TimePattern extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"timePattern"),this.name=getStringOption(t.name,["full","long","med","short"])}}class TimePatterns extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"timePatterns",!0),this.timePattern=new XFAObjectArray(4)}}class TypeFace extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"typeFace",!0),this.name=t.name|""}}class TypeFaces extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"typeFaces",!0),this.typeFace=new XFAObjectArray}}class LocaleSetNamespace{static[$buildXFAObject](t,r){if(LocaleSetNamespace.hasOwnProperty(t))return LocaleSetNamespace[t](r)}static calendarSymbols(t){return new CalendarSymbols(t)}static currencySymbol(t){return new CurrencySymbol(t)}static currencySymbols(t){return new CurrencySymbols(t)}static datePattern(t){return new DatePattern(t)}static datePatterns(t){return new DatePatterns(t)}static dateTimeSymbols(t){return new DateTimeSymbols(t)}static day(t){return new Day(t)}static dayNames(t){return new DayNames(t)}static era(t){return new Era(t)}static eraNames(t){return new EraNames(t)}static locale(t){return new locale_set_Locale(t)}static localeSet(t){return new locale_set_LocaleSet(t)}static meridiem(t){return new Meridiem(t)}static meridiemNames(t){return new MeridiemNames(t)}static month(t){return new Month(t)}static monthNames(t){return new MonthNames(t)}static numberPattern(t){return new NumberPattern(t)}static numberPatterns(t){return new NumberPatterns(t)}static numberSymbol(t){return new NumberSymbol(t)}static numberSymbols(t){return new NumberSymbols(t)}static timePattern(t){return new TimePattern(t)}static timePatterns(t){return new TimePatterns(t)}static typeFace(t){return new TypeFace(t)}static typeFaces(t){return new TypeFaces(t)}}const SIGNATURE_NS_ID=NamespaceIds.signature.id;class signature_Signature extends XFAObject{constructor(t){super(SIGNATURE_NS_ID,"signature",!0)}}class SignatureNamespace{static[$buildXFAObject](t,r){if(SignatureNamespace.hasOwnProperty(t))return SignatureNamespace[t](r)}static signature(t){return new signature_Signature(t)}}const STYLESHEET_NS_ID=NamespaceIds.stylesheet.id;class Stylesheet extends XFAObject{constructor(t){super(STYLESHEET_NS_ID,"stylesheet",!0)}}class StylesheetNamespace{static[$buildXFAObject](t,r){if(StylesheetNamespace.hasOwnProperty(t))return StylesheetNamespace[t](r)}static stylesheet(t){return new Stylesheet(t)}}const XDP_NS_ID=NamespaceIds.xdp.id;class xdp_Xdp extends XFAObject{constructor(t){super(XDP_NS_ID,"xdp",!0),this.uuid=t.uuid||"",this.timeStamp=t.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new XFAObjectArray,this.template=null}[$onChildCheck](t){const r=NamespaceIds[t[$nodeName]];return r&&t[$namespaceId]===r.id}}class XdpNamespace{static[$buildXFAObject](t,r){if(XdpNamespace.hasOwnProperty(t))return XdpNamespace[t](r)}static xdp(t){return new xdp_Xdp(t)}}const XHTML_NS_ID=NamespaceIds.xhtml.id,$richText=Symbol(),VALID_STYLES=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),StyleMapping=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",n=>n==="none"?"none":"normal"],["xfa-font-horizontal-scale",n=>`scaleX(${Math.max(0,Math.min(parseInt(n)/100)).toFixed(2)})`],["xfa-font-vertical-scale",n=>`scaleY(${Math.max(0,Math.min(parseInt(n)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(n,t)=>(n=t.fontSize=getMeasurement(n),measureToString(.99*n))],["letter-spacing",n=>measureToString(getMeasurement(n))],["line-height",n=>measureToString(getMeasurement(n))],["margin",n=>measureToString(getMeasurement(n))],["margin-bottom",n=>measureToString(getMeasurement(n))],["margin-left",n=>measureToString(getMeasurement(n))],["margin-right",n=>measureToString(getMeasurement(n))],["margin-top",n=>measureToString(getMeasurement(n))],["text-indent",n=>measureToString(getMeasurement(n))],["font-family",n=>n],["vertical-align",n=>measureToString(getMeasurement(n))]]),spacesRegExp=/\s+/g,crlfRegExp=/[\r\n]+/g,crlfForRichTextRegExp=/\r\n?/g;function mapStyle(n,t,r){const a=Object.create(null);if(!n)return a;const s=Object.create(null);for(const[o,l]of n.split(";").map(u=>u.split(":",2))){const u=StyleMapping.get(o);if(u==="")continue;let d=l;u&&(d=typeof u=="string"?u:u(l,s)),o.endsWith("scale")?a.transform=a.transform?`${a[o]} ${d}`:d:a[o.replaceAll(/-([a-zA-Z])/g,(f,g)=>g.toUpperCase())]=d}if(a.fontFamily&&setFontFamily({typeface:a.fontFamily,weight:a.fontWeight||"normal",posture:a.fontStyle||"normal",size:s.fontSize||0},t,t[$globalData].fontFinder,a),r&&a.verticalAlign&&a.verticalAlign!=="0px"&&a.fontSize){const u=getMeasurement(a.fontSize);a.fontSize=measureToString(u*.583),a.verticalAlign=measureToString(Math.sign(getMeasurement(a.verticalAlign))*u*.333)}return r&&a.fontSize&&(a.fontSize=`calc(${a.fontSize} * var(--scale-factor))`),fixTextIndent(a),a}function checkStyle(n){return n.style?n.style.trim().split(/\s*;\s*/).filter(t=>!!t).map(t=>t.split(/\s*:\s*/,2)).filter(([t,r])=>(t==="font-family"&&n[$globalData].usedTypefaces.add(r),VALID_STYLES.has(t))).map(t=>t.join(":")).join(";"):""}const NoWhites=new Set(["body","html"]);class XhtmlObject extends XmlObject{constructor(t,r){super(XHTML_NS_ID,r),this[$richText]=!1,this.style=t.style||""}[$clean](t){super[$clean](t),this.style=checkStyle(this)}[$acceptWhitespace](){return!NoWhites.has(this[$nodeName])}[$onText](t,r=!1){r?this[$richText]=!0:(t=t.replaceAll(crlfRegExp,""),this.style.includes("xfa-spacerun:yes")||(t=t.replaceAll(spacesRegExp," "))),t&&(this[$content]+=t)}[$pushGlyphs](t,r=!0){const a=Object.create(null),s={top:NaN,bottom:NaN,left:NaN,right:NaN};let o=null;for(const[l,u]of this.style.split(";").map(d=>d.split(":",2)))switch(l){case"font-family":a.typeface=stripQuotes(u);break;case"font-size":a.size=getMeasurement(u);break;case"font-weight":a.weight=u;break;case"font-style":a.posture=u;break;case"letter-spacing":a.letterSpacing=getMeasurement(u);break;case"margin":const d=u.split(/ \t/).map(f=>getMeasurement(f));switch(d.length){case 1:s.top=s.bottom=s.left=s.right=d[0];break;case 2:s.top=s.bottom=d[0],s.left=s.right=d[1];break;case 3:s.top=d[0],s.bottom=d[2],s.left=s.right=d[1];break;case 4:s.top=d[0],s.left=d[1],s.bottom=d[2],s.right=d[3];break}break;case"margin-top":s.top=getMeasurement(u);break;case"margin-bottom":s.bottom=getMeasurement(u);break;case"margin-left":s.left=getMeasurement(u);break;case"margin-right":s.right=getMeasurement(u);break;case"line-height":o=getMeasurement(u);break}if(t.pushData(a,s,o),this[$content])t.addString(this[$content]);else for(const l of this[$getChildren]()){if(l[$nodeName]==="#text"){t.addString(l[$content]);continue}l[$pushGlyphs](t)}r&&t.popFont()}[$toHTML](t){const r=[];if(this[$extra]={children:r},this[$childrenToHTML]({}),r.length===0&&!this[$content])return HTMLResult.EMPTY;let a;return this[$richText]?a=this[$content]?this[$content].replaceAll(crlfForRichTextRegExp,`
`):void 0:a=this[$content]||void 0,HTMLResult.success({name:this[$nodeName],attributes:{href:this.href,style:mapStyle(this.style,this,this[$richText])},children:r,value:a})}}class A extends XhtmlObject{constructor(t){super(t,"a"),this.href=fixURL(t.href)||""}}class B extends XhtmlObject{constructor(t){super(t,"b")}[$pushGlyphs](t){t.pushFont({weight:"bold"}),super[$pushGlyphs](t),t.popFont()}}class Body extends XhtmlObject{constructor(t){super(t,"body")}[$toHTML](t){const r=super[$toHTML](t),{html:a}=r;return a?(a.name="div",a.attributes.class=["xfaRich"],r):HTMLResult.EMPTY}}class Br extends XhtmlObject{constructor(t){super(t,"br")}[$text](){return`
`}[$pushGlyphs](t){t.addString(`
`)}[$toHTML](t){return HTMLResult.success({name:"br"})}}class Html extends XhtmlObject{constructor(t){super(t,"html")}[$toHTML](t){const r=[];if(this[$extra]={children:r},this[$childrenToHTML]({}),r.length===0)return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[$content]||""});if(r.length===1){const a=r[0];if(a.attributes?.class.includes("xfaRich"))return HTMLResult.success(a)}return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:r})}}class I extends XhtmlObject{constructor(t){super(t,"i")}[$pushGlyphs](t){t.pushFont({posture:"italic"}),super[$pushGlyphs](t),t.popFont()}}class Li extends XhtmlObject{constructor(t){super(t,"li")}}class Ol extends XhtmlObject{constructor(t){super(t,"ol")}}class P extends XhtmlObject{constructor(t){super(t,"p")}[$pushGlyphs](t){super[$pushGlyphs](t,!1),t.addString(`
`),t.addPara(),t.popFont()}[$text](){return this[$getParent]()[$getChildren]().at(-1)===this?super[$text]():super[$text]()+`
`}}class Span extends XhtmlObject{constructor(t){super(t,"span")}}class Sub extends XhtmlObject{constructor(t){super(t,"sub")}}class Sup extends XhtmlObject{constructor(t){super(t,"sup")}}class Ul extends XhtmlObject{constructor(t){super(t,"ul")}}class XhtmlNamespace{static[$buildXFAObject](t,r){if(XhtmlNamespace.hasOwnProperty(t))return XhtmlNamespace[t](r)}static a(t){return new A(t)}static b(t){return new B(t)}static body(t){return new Body(t)}static br(t){return new Br(t)}static html(t){return new Html(t)}static i(t){return new I(t)}static li(t){return new Li(t)}static ol(t){return new Ol(t)}static p(t){return new P(t)}static span(t){return new Span(t)}static sub(t){return new Sub(t)}static sup(t){return new Sup(t)}static ul(t){return new Ul(t)}}const NamespaceSetUp={config:ConfigNamespace,connection:ConnectionSetNamespace,datasets:DatasetsNamespace,localeSet:LocaleSetNamespace,signature:SignatureNamespace,stylesheet:StylesheetNamespace,template:TemplateNamespace,xdp:XdpNamespace,xhtml:XhtmlNamespace};class UnknownNamespace{constructor(t){this.namespaceId=t}[$buildXFAObject](t,r){return new XmlObject(this.namespaceId,t,r)}}class Root extends XFAObject{constructor(t){super(-1,"root",Object.create(null)),this.element=null,this[$ids]=t}[$onChild](t){return this.element=t,!0}[$finalize](){super[$finalize](),this.element.template instanceof Template&&(this[$ids].set($root,this.element),this.element.template[$resolvePrototypes](this[$ids]),this.element.template[$ids]=this[$ids])}}class Empty extends XFAObject{constructor(){super(-1,"",Object.create(null))}[$onChild](t){return!1}}class Builder{constructor(t=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(NamespaceIds).map(({id:r})=>r)),this._currentNamespace=t||new UnknownNamespace(++this._nextNsId)}buildRoot(t){return new Root(t)}build({nsPrefix:t,name:r,attributes:a,namespace:s,prefixes:o}){const l=s!==null;if(l&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(s)),o&&this._addNamespacePrefix(o),a.hasOwnProperty($nsAttributes)){const f=NamespaceSetUp.datasets,g=a[$nsAttributes];let x=null;for(const[b,m]of Object.entries(g))if(this._getNamespaceToUse(b)===f){x={xfa:m};break}x?a[$nsAttributes]=x:delete a[$nsAttributes]}const d=this._getNamespaceToUse(t)?.[$buildXFAObject](r,a)||new Empty;return d[$isNsAgnostic]()&&this._nsAgnosticLevel++,(l||o||d[$isNsAgnostic]())&&(d[$cleanup]={hasNamespace:l,prefixes:o,nsAgnostic:d[$isNsAgnostic]()}),d}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(t){let r=this._namespaces.get(t);if(r)return r;for(const[a,{check:s}]of Object.entries(NamespaceIds))if(s(t)){if(r=NamespaceSetUp[a],r)return this._namespaces.set(t,r),r;break}return r=new UnknownNamespace(++this._nextNsId),this._namespaces.set(t,r),r}_addNamespacePrefix(t){for(const{prefix:r,value:a}of t){const s=this._searchNamespace(a);let o=this._namespacePrefixes.get(r);o||(o=[],this._namespacePrefixes.set(r,o)),o.push(s)}}_getNamespaceToUse(t){if(!t)return this._currentNamespace;const r=this._namespacePrefixes.get(t);return r?.length>0?r.at(-1):(warn(`Unknown namespace prefix: ${t}.`),null)}clean(t){const{hasNamespace:r,prefixes:a,nsAgnostic:s}=t;r&&(this._currentNamespace=this._namespaceStack.pop()),a&&a.forEach(({prefix:o})=>{this._namespacePrefixes.get(o).pop()}),s&&this._nsAgnosticLevel--}}class XFAParser extends XMLParserBase{constructor(t=null,r=!1){super(),this._builder=new Builder(t),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=r}parse(t){if(this.parseXml(t),this._errorCode===XMLParserErrorCode.NoError)return this._current[$finalize](),this._current.element}onText(t){if(t=t.replace(this._nbsps,r=>r.slice(1)+" "),this._richText||this._current[$acceptWhitespace]()){this._current[$onText](t,this._richText);return}this._whiteRegex.test(t)||this._current[$onText](t.trim())}onCdata(t){this._current[$onText](t)}_mkAttributes(t,r){let a=null,s=null;const o=Object.create({});for(const{name:l,value:u}of t)if(l==="xmlns")a?warn(`XFA - multiple namespace definition in <${r}>`):a=u;else if(l.startsWith("xmlns:")){const d=l.substring(6);s||(s=[]),s.push({prefix:d,value:u})}else{const d=l.indexOf(":");if(d===-1)o[l]=u;else{let f=o[$nsAttributes];f||(f=o[$nsAttributes]=Object.create(null));const[g,x]=[l.slice(0,d),l.slice(d+1)],b=f[g]||=Object.create(null);b[x]=u}}return[a,s,o]}_getNameAndPrefix(t,r){const a=t.indexOf(":");return a===-1?[t,null]:[t.substring(a+1),r?"":t.substring(0,a)]}onBeginElement(t,r,a){const[s,o,l]=this._mkAttributes(r,t),[u,d]=this._getNameAndPrefix(t,this._builder.isNsAgnostic()),f=this._builder.build({nsPrefix:d,name:u,attributes:l,namespace:s,prefixes:o});if(f[$globalData]=this._globalData,a){f[$finalize](),this._current[$onChild](f)&&f[$setId](this._ids),f[$clean](this._builder);return}this._stack.push(this._current),this._current=f}onEndElement(t){const r=this._current;if(r[$isCDATAXml]()&&typeof r[$content]=="string"){const a=new XFAParser;a._globalData=this._globalData;const s=a.parse(r[$content]);r[$content]=null,r[$onChild](s)}r[$finalize](),this._current=this._stack.pop(),this._current[$onChild](r)&&r[$setId](this._ids),r[$clean](this._builder)}onError(t){this._errorCode=t}}class XFAFactory{constructor(t){try{this.root=new XFAParser().parse(XFAFactory._createDocument(t));const r=new Binder(this.root);this.form=r.bind(),this.dataHandler=new DataHandler(this.root,r.getData()),this.form[$globalData].template=this.form}catch(r){warn(`XFA - an error occurred during parsing and binding: ${r}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const t=this.form[$toPages]();return new Promise((r,a)=>{const s=()=>{try{const o=t.next();o.done?r(o.value):setTimeout(s,0)}catch(o){a(o)}};setTimeout(s,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(t=>{const{width:r,height:a}=t.attributes.style;return[0,0,parseInt(r),parseInt(a)]})}catch(t){warn(`XFA - an error occurred during layout: ${t}`)}}getBoundingBox(t){return this.dims[t]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(t){this.form[$globalData].images=t}setFonts(t){this.form[$globalData].fontFinder=new FontFinder(t);const r=[];for(let a of this.form[$globalData].usedTypefaces)a=stripQuotes(a),this.form[$globalData].fontFinder.find(a)||r.push(a);return r.length>0?r:null}appendFonts(t,r){this.form[$globalData].fontFinder.add(t,r)}async getPages(){this.pages||await this._createPages();const t=this.pages;return this.pages=null,t}serializeData(t){return this.dataHandler.serialize(t)}static _createDocument(t){return t["/xdp:xdp"]?Object.values(t).join(""):t["xdp:xdp"]}static getRichTextAsHtml(t){if(!t||typeof t!="string")return null;try{let r=new XFAParser(XhtmlNamespace,!0).parse(t);if(!["body","xhtml"].includes(r[$nodeName])){const l=XhtmlNamespace.body({});l[$appendChild](r),r=l}const a=r[$toHTML]();if(!a.success)return null;const{html:s}=a,{attributes:o}=s;return o&&(o.class&&(o.class=o.class.filter(l=>!l.startsWith("xfa"))),o.dir="auto"),{html:s,str:r[$text]()}}catch(r){warn(`XFA - an error occurred during parsing of rich text: ${r}`)}return null}}class AnnotationFactory{static createGlobals(t){return Promise.all([t.ensureCatalog("acroForm"),t.ensureDoc("xfaDatasets"),t.ensureCatalog("structTreeRoot"),t.ensureCatalog("baseUrl"),t.ensureCatalog("attachments")]).then(([r,a,s,o,l])=>({pdfManager:t,acroForm:r instanceof Dict?r:Dict.empty,xfaDatasets:a,structTreeRoot:s,baseUrl:o,attachments:l}),r=>(warn(`createGlobals: "${r}".`),null))}static async create(t,r,a,s,o,l){const u=o?await this._getPageIndex(t,r,a.pdfManager):null;return a.pdfManager.ensure(this,"_create",[t,r,a,s,o,u,l])}static _create(t,r,a,s,o=!1,l=null,u=null){const d=t.fetchIfRef(r);if(!(d instanceof Dict))return;const{acroForm:f,pdfManager:g}=a,x=r instanceof Ref?r.toString():`annot_${s.createObjId()}`;let b=d.get("Subtype");b=b instanceof Name?b.name:null;const m={xref:t,ref:r,dict:d,subtype:b,id:x,annotationGlobals:a,collectFields:o,needAppearances:!o&&f.get("NeedAppearances")===!0,pageIndex:l,evaluatorOptions:g.evaluatorOptions,pageRef:u};switch(b){case"Link":return new LinkAnnotation(m);case"Text":return new TextAnnotation(m);case"Widget":let y=getInheritableProperty({dict:d,key:"FT"});switch(y=y instanceof Name?y.name:null,y){case"Tx":return new TextWidgetAnnotation(m);case"Btn":return new ButtonWidgetAnnotation(m);case"Ch":return new ChoiceWidgetAnnotation(m);case"Sig":return new SignatureWidgetAnnotation(m)}return warn(`Unimplemented widget field type "${y}", falling back to base field type.`),new WidgetAnnotation(m);case"Popup":return new PopupAnnotation(m);case"FreeText":return new FreeTextAnnotation(m);case"Line":return new LineAnnotation(m);case"Square":return new SquareAnnotation(m);case"Circle":return new CircleAnnotation(m);case"PolyLine":return new PolylineAnnotation(m);case"Polygon":return new PolygonAnnotation(m);case"Caret":return new CaretAnnotation(m);case"Ink":return new InkAnnotation(m);case"Highlight":return new HighlightAnnotation(m);case"Underline":return new UnderlineAnnotation(m);case"Squiggly":return new SquigglyAnnotation(m);case"StrikeOut":return new StrikeOutAnnotation(m);case"Stamp":return new StampAnnotation(m);case"FileAttachment":return new FileAttachmentAnnotation(m);default:return o||warn(b?`Unimplemented annotation type "${b}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new Annotation(m)}}static async _getPageIndex(t,r,a){try{const s=await t.fetchIfRefAsync(r);if(!(s instanceof Dict))return-1;const o=s.getRaw("P");if(o instanceof Ref)try{return await a.ensureCatalog("getPageIndex",[o])}catch(u){info(`_getPageIndex -- not a valid page reference: "${u}".`)}if(s.has("Kids"))return-1;const l=await a.ensureDoc("numPages");for(let u=0;u<l;u++){const d=await a.getPage(u),f=await a.ensure(d,"annotations");for(const g of f)if(g instanceof Ref&&isRefsEqual(g,r))return u}}catch(s){warn(`_getPageIndex: "${s}".`)}return-1}static generateImages(t,r,a){if(!a)return warn("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let s;for(const{bitmapId:o,bitmap:l}of t)l&&(s||=new Map,s.set(o,StampAnnotation.createImage(l,r)));return s}static async saveNewAnnotations(t,r,a,s){const o=t.xref;let l;const u=[],d=[],{isOffscreenCanvasSupported:f}=t.options;for(const g of a)if(!g.deleted)switch(g.annotationType){case AnnotationEditorType.FREETEXT:if(!l){const b=new Dict(o);b.set("BaseFont",Name.get("Helvetica")),b.set("Type",Name.get("Font")),b.set("Subtype",Name.get("Type1")),b.set("Encoding",Name.get("WinAnsiEncoding"));const m=[];l=o.getNewTemporaryRef(),await writeObject(l,b,m,o),u.push({ref:l,data:m.join("")})}d.push(FreeTextAnnotation.createNewAnnotation(o,g,u,{evaluator:t,task:r,baseFontRef:l}));break;case AnnotationEditorType.HIGHLIGHT:d.push(HighlightAnnotation.createNewAnnotation(o,g,u));break;case AnnotationEditorType.INK:d.push(InkAnnotation.createNewAnnotation(o,g,u));break;case AnnotationEditorType.STAMP:if(!f)break;const x=await s.get(g.bitmapId);if(x.imageStream){const{imageStream:b,smaskStream:m}=x,y=[];if(m){const w=o.getNewTemporaryRef();await writeObject(w,m,y,o),u.push({ref:w,data:y.join("")}),b.dict.set("SMask",w),y.length=0}const v=x.imageRef=o.getNewTemporaryRef();await writeObject(v,b,y,o),u.push({ref:v,data:y.join("")}),x.imageStream=x.smaskStream=null}d.push(StampAnnotation.createNewAnnotation(o,g,u,{image:x}));break}return{annotations:await Promise.all(d),dependencies:u}}static async printNewAnnotations(t,r,a,s,o){if(!s)return null;const{options:l,xref:u}=r,d=[];for(const f of s)if(!f.deleted)switch(f.annotationType){case AnnotationEditorType.FREETEXT:d.push(FreeTextAnnotation.createNewPrintAnnotation(t,u,f,{evaluator:r,task:a,evaluatorOptions:l}));break;case AnnotationEditorType.HIGHLIGHT:d.push(HighlightAnnotation.createNewPrintAnnotation(t,u,f,{evaluatorOptions:l}));break;case AnnotationEditorType.INK:d.push(InkAnnotation.createNewPrintAnnotation(t,u,f,{evaluatorOptions:l}));break;case AnnotationEditorType.STAMP:if(!l.isOffscreenCanvasSupported)break;const g=await o.get(f.bitmapId);if(g.imageStream){const{imageStream:x,smaskStream:b}=g;b&&x.dict.set("SMask",b),g.imageRef=new JpegStream(x,x.length),g.imageStream=g.smaskStream=null}d.push(StampAnnotation.createNewPrintAnnotation(t,u,f,{image:g,evaluatorOptions:l}));break}return Promise.all(d)}}function getRgbColor(n,t=new Uint8ClampedArray(3)){if(!Array.isArray(n))return t;const r=t||new Uint8ClampedArray(3);switch(n.length){case 0:return null;case 1:return ColorSpace$1.singletons.gray.getRgbItem(n,0,r,0),r;case 3:return ColorSpace$1.singletons.rgb.getRgbItem(n,0,r,0),r;case 4:return ColorSpace$1.singletons.cmyk.getRgbItem(n,0,r,0),r;default:return t}}function getPdfColorArray(n){return Array.from(n,t=>t/255)}function getQuadPoints(n,t){const r=n.getArray("QuadPoints");if(!Array.isArray(r)||r.length===0||r.length%8>0)return null;const a=[];for(let s=0,o=r.length/8;s<o;s++){let l=1/0,u=-1/0,d=1/0,f=-1/0;for(let g=s*8,x=s*8+8;g<x;g+=2){const b=r[g],m=r[g+1];l=Math.min(b,l),u=Math.max(b,u),d=Math.min(m,d),f=Math.max(m,f)}if(t!==null&&(l<t[0]||u>t[2]||d<t[1]||f>t[3]))return null;a.push([{x:l,y:f},{x:u,y:f},{x:l,y:d},{x:u,y:d}])}return a}function getTransformMatrix(n,t,r){const[a,s,o,l]=Util.getAxialAlignedBoundingBox(t,r);if(a===o||s===l)return[1,0,0,1,n[0],n[1]];const u=(n[2]-n[0])/(o-a),d=(n[3]-n[1])/(l-s);return[u,0,0,d,n[0]-a*u,n[1]-s*d]}class Annotation{constructor(t){const{dict:r,xref:a,annotationGlobals:s}=t;this.setTitle(r.get("T")),this.setContents(r.get("Contents")),this.setModificationDate(r.get("M")),this.setFlags(r.get("F")),this.setRectangle(r.getArray("Rect")),this.setColor(r.getArray("C")),this.setBorderStyle(r),this.setAppearance(r),this.setOptionalContent(r);const o=r.get("MK");this.setBorderAndBackgroundColors(o),this.setRotation(o,r),this.ref=t.ref instanceof Ref?t.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const l=!!(this.flags&AnnotationFlag.LOCKED),u=!!(this.flags&AnnotationFlag.LOCKEDCONTENTS);if(s.structTreeRoot){let d=r.get("StructParent");d=Number.isInteger(d)&&d>=0?d:-1,s.structTreeRoot.addAnnotationIdToPage(t.pageRef,d)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:t.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:t.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&AnnotationFlag.NOROTATE),noHTML:l&&u},t.collectFields){const d=r.get("Kids");if(Array.isArray(d)){const f=[];for(const g of d)g instanceof Ref&&f.push(g.toString());f.length!==0&&(this.data.kidIds=f)}this.data.actions=collectActions(a,r,AnnotationActionEventType),this.data.fieldName=this._constructFieldName(r),this.data.pageIndex=t.pageIndex}this._isOffscreenCanvasSupported=t.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(t,r){return!!(t&r)}_isViewable(t){return!this._hasFlag(t,AnnotationFlag.INVISIBLE)&&!this._hasFlag(t,AnnotationFlag.NOVIEW)}_isPrintable(t){return this._hasFlag(t,AnnotationFlag.PRINT)&&!this._hasFlag(t,AnnotationFlag.HIDDEN)&&!this._hasFlag(t,AnnotationFlag.INVISIBLE)}mustBeViewed(t,r){const a=t?.get(this.data.id)?.noView;return a!==void 0?!a:this.viewable&&!this._hasFlag(this.flags,AnnotationFlag.HIDDEN)}mustBePrinted(t){const r=t?.get(this.data.id)?.noPrint;return r!==void 0?!r:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(t){const r=typeof t=="string"?stringToPDFString(t):"",a=r&&bidi(r).dir==="rtl"?"rtl":"ltr";return{str:r,dir:a}}setDefaultAppearance(t){const{dict:r,annotationGlobals:a}=t,s=getInheritableProperty({dict:r,key:"DA"})||a.acroForm.get("DA");this._defaultAppearance=typeof s=="string"?s:"",this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance)}setTitle(t){this._title=this._parseStringHelper(t)}setContents(t){this._contents=this._parseStringHelper(t)}setModificationDate(t){this.modificationDate=typeof t=="string"?t:null}setFlags(t){this.flags=Number.isInteger(t)&&t>0?t:0,this.flags&AnnotationFlag.INVISIBLE&&this.constructor.name!=="Annotation"&&(this.flags^=AnnotationFlag.INVISIBLE)}hasFlag(t){return this._hasFlag(this.flags,t)}setRectangle(t){this.rectangle=Array.isArray(t)&&t.length===4?Util.normalizeRect(t):[0,0,0,0]}setColor(t){this.color=getRgbColor(t)}setLineEndings(t){if(this.lineEndings=["None","None"],Array.isArray(t)&&t.length===2)for(let r=0;r<2;r++){const a=t[r];if(a instanceof Name)switch(a.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[r]=a.name;continue}warn(`Ignoring invalid lineEnding: ${a}`)}}setRotation(t,r){this.rotation=0;let a=t instanceof Dict?t.get("R")||0:r.get("Rotate")||0;Number.isInteger(a)&&a!==0&&(a%=360,a<0&&(a+=360),a%90===0&&(this.rotation=a))}setBorderAndBackgroundColors(t){t instanceof Dict?(this.borderColor=getRgbColor(t.getArray("BC"),null),this.backgroundColor=getRgbColor(t.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(t){if(this.borderStyle=new AnnotationBorderStyle,t instanceof Dict)if(t.has("BS")){const r=t.get("BS"),a=r.get("Type");(!a||isName(a,"Border"))&&(this.borderStyle.setWidth(r.get("W"),this.rectangle),this.borderStyle.setStyle(r.get("S")),this.borderStyle.setDashArray(r.getArray("D")))}else if(t.has("Border")){const r=t.getArray("Border");Array.isArray(r)&&r.length>=3&&(this.borderStyle.setHorizontalCornerRadius(r[0]),this.borderStyle.setVerticalCornerRadius(r[1]),this.borderStyle.setWidth(r[2],this.rectangle),r.length===4&&this.borderStyle.setDashArray(r[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(t){this.appearance=null;const r=t.get("AP");if(!(r instanceof Dict))return;const a=r.get("N");if(a instanceof BaseStream){this.appearance=a;return}if(!(a instanceof Dict))return;const s=t.get("AS");if(!(s instanceof Name)||!a.has(s.name))return;const o=a.get(s.name);o instanceof BaseStream&&(this.appearance=o)}setOptionalContent(t){this.oc=null;const r=t.get("OC");r instanceof Name?warn("setOptionalContent: Support for /Name-entry is not implemented."):r instanceof Dict&&(this.oc=r)}loadResources(t,r){return r.dict.getAsync("Resources").then(a=>a?new ObjectLoader(a,t,a.xref).load().then(function(){return a}):void 0)}async getOperatorList(t,r,a,s,o){const l=this.data;let u=this.appearance;const d=!!(this.data.hasOwnCanvas&&a&RenderingIntentFlag.DISPLAY);if(!u){if(!d)return{opList:new OperatorList,separateForm:!1,separateCanvas:!1};u=new StringStream(""),u.dict=new Dict}const f=u.dict,g=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],u),x=f.getArray("BBox")||[0,0,1,1],b=f.getArray("Matrix")||[1,0,0,1,0,0],m=getTransformMatrix(l.rect,x,b),y=new OperatorList;let v;return this.oc&&(v=await t.parseMarkedContentProps(this.oc,null)),v!==void 0&&y.addOp(OPS.beginMarkedContentProps,["OC",v]),y.addOp(OPS.beginAnnotation,[l.id,l.rect,m,b,d]),await t.getOperatorList({stream:u,task:r,resources:g,operatorList:y,fallbackFontDict:this._fallbackFontDict}),y.addOp(OPS.endAnnotation,[]),v!==void 0&&y.addOp(OPS.endMarkedContent,[]),this.reset(),{opList:y,separateForm:!1,separateCanvas:d}}async save(t,r,a){return null}get hasTextContent(){return!1}async extractTextContent(t,r,a){if(!this.appearance)return;const s=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),o=[],l=[];let u=null;const d={desiredSize:Math.Infinity,ready:!0,enqueue(f,g){for(const x of f.items)x.str!==void 0&&(u||=x.transform.slice(-2),l.push(x.str),x.hasEOL&&(o.push(l.join("")),l.length=0))}};if(await t.getTextContent({stream:this.appearance,task:r,resources:s,includeMarkedContent:!0,sink:d,viewBox:a}),this.reset(),l.length&&o.push(l.join("")),o.length>1||o[0]){const f=this.appearance.dict,g=f.getArray("BBox")||[0,0,1,1],x=f.getArray("Matrix")||[1,0,0,1,0,0],b=this.data.rect,m=getTransformMatrix(b,g,x);m[4]-=b[0],m[5]-=b[1],u=Util.applyTransform(u,m),u=Util.applyTransform(u,x),this.data.textPosition=u,this.data.textContent=o}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const t of this._streams)t.reset()}_constructFieldName(t){if(!t.has("T")&&!t.has("Parent"))return warn("Unknown field name, falling back to empty field name."),"";if(!t.has("Parent"))return stringToPDFString(t.get("T"));const r=[];t.has("T")&&r.unshift(stringToPDFString(t.get("T")));let a=t;const s=new RefSet;for(t.objId&&s.put(t.objId);a.has("Parent")&&(a=a.get("Parent"),!(!(a instanceof Dict)||a.objId&&s.has(a.objId)));)a.objId&&s.put(a.objId),a.has("T")&&r.unshift(stringToPDFString(a.get("T")));return r.join(".")}}class AnnotationBorderStyle{constructor(){this.width=1,this.style=AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(t,r=[0,0,0,0]){if(t instanceof Name){this.width=0;return}if(typeof t=="number"){if(t>0){const a=(r[2]-r[0])/2,s=(r[3]-r[1])/2;a>0&&s>0&&(t>a||t>s)&&(warn(`AnnotationBorderStyle.setWidth - ignoring width: ${t}`),t=1)}this.width=t}}setStyle(t){if(t instanceof Name)switch(t.name){case"S":this.style=AnnotationBorderStyleType.SOLID;break;case"D":this.style=AnnotationBorderStyleType.DASHED;break;case"B":this.style=AnnotationBorderStyleType.BEVELED;break;case"I":this.style=AnnotationBorderStyleType.INSET;break;case"U":this.style=AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(t,r=!1){if(Array.isArray(t)&&t.length>0){let a=!0,s=!0;for(const o of t)if(+o>=0)o>0&&(s=!1);else{a=!1;break}a&&!s?(this.dashArray=t,r&&this.setStyle(Name.get("D"))):this.width=0}else t&&(this.width=0)}setHorizontalCornerRadius(t){Number.isInteger(t)&&(this.horizontalCornerRadius=t)}setVerticalCornerRadius(t){Number.isInteger(t)&&(this.verticalCornerRadius=t)}}class MarkupAnnotation extends Annotation{constructor(t){super(t);const{dict:r}=t;if(r.has("IRT")){const s=r.getRaw("IRT");this.data.inReplyTo=s instanceof Ref?s.toString():null;const o=r.get("RT");this.data.replyType=o instanceof Name?o.name:AnnotationReplyType.REPLY}let a=null;if(this.data.replyType===AnnotationReplyType.GROUP){const s=r.get("IRT");this.setTitle(s.get("T")),this.data.titleObj=this._title,this.setContents(s.get("Contents")),this.data.contentsObj=this._contents,s.has("CreationDate")?(this.setCreationDate(s.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,s.has("M")?(this.setModificationDate(s.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,a=s.getRaw("Popup"),s.has("C")?(this.setColor(s.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(r.get("CreationDate")),this.data.creationDate=this.creationDate,a=r.getRaw("Popup"),r.has("C")||(this.data.color=null);this.data.popupRef=a instanceof Ref?a.toString():null,r.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(r.get("RC")))}setCreationDate(t){this.creationDate=typeof t=="string"?t:null}_setDefaultAppearance({xref:t,extra:r,strokeColor:a,fillColor:s,blendMode:o,strokeAlpha:l,fillAlpha:u,pointsCallback:d}){let f=Number.MAX_VALUE,g=Number.MAX_VALUE,x=Number.MIN_VALUE,b=Number.MIN_VALUE;const m=["q"];r&&m.push(r),a&&m.push(`${a[0]} ${a[1]} ${a[2]} RG`),s&&m.push(`${s[0]} ${s[1]} ${s[2]} rg`);let y=this.data.quadPoints;y||(y=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const U of y){const[z,X,W,Y]=d(m,U);f=Math.min(f,z),x=Math.max(x,X),g=Math.min(g,W),b=Math.max(b,Y)}m.push("Q");const v=new Dict(t),w=new Dict(t);w.set("Subtype",Name.get("Form"));const S=new StringStream(m.join(" "));S.dict=w,v.set("Fm0",S);const C=new Dict(t);o&&C.set("BM",Name.get(o)),typeof l=="number"&&C.set("CA",l),typeof u=="number"&&C.set("ca",u);const E=new Dict(t);E.set("GS0",C);const T=new Dict(t);T.set("ExtGState",E),T.set("XObject",v);const _=new Dict(t);_.set("Resources",T);const R=this.data.rect=[f,g,x,b];_.set("BBox",R),this.appearance=new StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=_,this._streams.push(this.appearance,S)}static async createNewAnnotation(t,r,a,s){const o=r.ref||=t.getNewTemporaryRef(),l=await this.createNewAppearanceStream(r,t,s),u=[];let d;if(l){const f=t.getNewTemporaryRef();d=this.createNewDict(r,t,{apRef:f}),await writeObject(f,l,u,t),a.push({ref:f,data:u.join("")})}else d=this.createNewDict(r,t,{});return Number.isInteger(r.parentTreeId)&&d.set("StructParent",r.parentTreeId),u.length=0,await writeObject(o,d,u,t),{ref:o,data:u.join("")}}static async createNewPrintAnnotation(t,r,a,s){const o=await this.createNewAppearanceStream(a,r,s),l=this.createNewDict(a,r,{ap:o}),u=new this.prototype.constructor({dict:l,xref:r,annotationGlobals:t,evaluatorOptions:s.evaluatorOptions});return a.ref&&(u.ref=u.refToReplace=a.ref),u}}class WidgetAnnotation extends Annotation{constructor(t){super(t);const{dict:r,xref:a,annotationGlobals:s}=t,o=this.data;this._needAppearances=t.needAppearances,o.annotationType=AnnotationType.WIDGET,o.fieldName===void 0&&(o.fieldName=this._constructFieldName(r)),o.actions===void 0&&(o.actions=collectActions(a,r,AnnotationActionEventType));let l=getInheritableProperty({dict:r,key:"V",getArray:!0});o.fieldValue=this._decodeFormValue(l);const u=getInheritableProperty({dict:r,key:"DV",getArray:!0});if(o.defaultFieldValue=this._decodeFormValue(u),l===void 0&&s.xfaDatasets){const b=this._title.str;b&&(this._hasValueFromXFA=!0,o.fieldValue=l=s.xfaDatasets.getValue(b))}l===void 0&&o.defaultFieldValue!==null&&(o.fieldValue=o.defaultFieldValue),o.alternativeText=stringToPDFString(r.get("TU")||""),this.setDefaultAppearance(t),o.hasAppearance||=this._needAppearances&&o.fieldValue!==void 0&&o.fieldValue!==null;const d=getInheritableProperty({dict:r,key:"FT"});o.fieldType=d instanceof Name?d.name:null;const f=getInheritableProperty({dict:r,key:"DR"}),g=s.acroForm.get("DR"),x=this.appearance?.dict.get("Resources");this._fieldResources={localResources:f,acroFormResources:g,appearanceResources:x,mergedResources:Dict.merge({xref:a,dictArray:[f,x,g],mergeSubDicts:!0})},o.fieldFlags=getInheritableProperty({dict:r,key:"Ff"}),(!Number.isInteger(o.fieldFlags)||o.fieldFlags<0)&&(o.fieldFlags=0),o.readOnly=this.hasFieldFlag(AnnotationFieldFlag.READONLY),o.required=this.hasFieldFlag(AnnotationFieldFlag.REQUIRED),o.hidden=this._hasFlag(o.annotationFlags,AnnotationFlag.HIDDEN)||this._hasFlag(o.annotationFlags,AnnotationFlag.NOVIEW)}_decodeFormValue(t){return Array.isArray(t)?t.filter(r=>typeof r=="string").map(r=>stringToPDFString(r)):t instanceof Name?stringToPDFString(t.name):typeof t=="string"?stringToPDFString(t):null}hasFieldFlag(t){return!!(this.data.fieldFlags&t)}_isViewable(t){return!0}mustBeViewed(t,r){return r?this.viewable:super.mustBeViewed(t,r)&&!this._hasFlag(this.flags,AnnotationFlag.NOVIEW)}getRotationMatrix(t){let r=t?.get(this.data.id)?.rotation;if(r===void 0&&(r=this.rotation),r===0)return IDENTITY_MATRIX;const a=this.data.rect[2]-this.data.rect[0],s=this.data.rect[3]-this.data.rect[1];return getRotationMatrix(r,a,s)}getBorderAndBackgroundAppearances(t){let r=t?.get(this.data.id)?.rotation;if(r===void 0&&(r=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const a=this.data.rect[2]-this.data.rect[0],s=this.data.rect[3]-this.data.rect[1],o=r===0||r===180?`0 0 ${a} ${s} re`:`0 0 ${s} ${a} re`;let l="";if(this.backgroundColor&&(l=`${getPdfColor(this.backgroundColor,!0)} ${o} f `),this.borderColor){const u=this.borderStyle.width||1;l+=`${u} w ${getPdfColor(this.borderColor,!1)} ${o} S `}return l}async getOperatorList(t,r,a,s,o){if(s&&!(this instanceof SignatureWidgetAnnotation)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(t,r,a,s,o);const l=await this._getAppearance(t,r,a,o);if(this.appearance&&l===null)return super.getOperatorList(t,r,a,s,o);const u=new OperatorList;if(!this._defaultAppearance||l===null)return{opList:u,separateForm:!1,separateCanvas:!1};const d=!!(this.data.hasOwnCanvas&&a&RenderingIntentFlag.DISPLAY),f=[1,0,0,1,0,0],g=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],x=getTransformMatrix(this.data.rect,g,f);let b;this.oc&&(b=await t.parseMarkedContentProps(this.oc,null)),b!==void 0&&u.addOp(OPS.beginMarkedContentProps,["OC",b]),u.addOp(OPS.beginAnnotation,[this.data.id,this.data.rect,x,this.getRotationMatrix(o),d]);const m=new StringStream(l);return await t.getOperatorList({stream:m,task:r,resources:this._fieldResources.mergedResources,operatorList:u}),u.addOp(OPS.endAnnotation,[]),b!==void 0&&u.addOp(OPS.endMarkedContent,[]),{opList:u,separateForm:!1,separateCanvas:d}}_getMKDict(t){const r=new Dict(null);return t&&r.set("R",t),this.borderColor&&r.set("BC",getPdfColorArray(this.borderColor)),this.backgroundColor&&r.set("BG",getPdfColorArray(this.backgroundColor)),r.size>0?r:null}amendSavedDict(t,r){}async save(t,r,a){const s=a?.get(this.data.id);let o=s?.value,l=s?.rotation;if(o===this.data.fieldValue||o===void 0){if(!this._hasValueFromXFA&&l===void 0)return null;o||=this.data.fieldValue}if(l===void 0&&!this._hasValueFromXFA&&Array.isArray(o)&&Array.isArray(this.data.fieldValue)&&o.length===this.data.fieldValue.length&&o.every((S,C)=>S===this.data.fieldValue[C]))return null;l===void 0&&(l=this.rotation);let u=null;if(!this._needAppearances&&(u=await this._getAppearance(t,r,RenderingIntentFlag.SAVE,a),u===null))return null;let d=!1;u?.needAppearances&&(d=!0,u=null);const{xref:f}=t,g=f.fetchIfRef(this.ref);if(!(g instanceof Dict))return null;const x=new Dict(f);for(const S of g.getKeys())S!=="AP"&&x.set(S,g.getRaw(S));const b={path:this.data.fieldName,value:o},m=S=>isAscii(S)?S:stringToUTF16String(S,!0);x.set("V",Array.isArray(o)?o.map(m):m(o)),this.amendSavedDict(a,x);const y=this._getMKDict(l);y&&x.set("MK",y);const v=[],w=[{ref:this.ref,data:"",xfa:b,needAppearances:d}];if(u!==null){const S=f.getNewTemporaryRef(),C=new Dict(f);x.set("AP",C),C.set("N",S);const E=this._getSaveFieldResources(f),T=new StringStream(u),_=T.dict=new Dict(f);_.set("Subtype",Name.get("Form")),_.set("Resources",E),_.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const R=this.getRotationMatrix(a);R!==IDENTITY_MATRIX&&_.set("Matrix",R),await writeObject(S,T,v,f),w.push({ref:S,data:v.join(""),xfa:null,needAppearances:!1}),v.length=0}return x.set("M",`D:${getModificationDate()}`),await writeObject(this.ref,x,v,f),w[0].data=v.join(""),w}async _getAppearance(t,r,a,s){if(this.hasFieldFlag(AnnotationFieldFlag.PASSWORD))return null;const l=s?.get(this.data.id);let u,d;if(l&&(u=l.formattedValue||l.value,d=l.rotation),d===void 0&&u===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const f=this.getBorderAndBackgroundAppearances(s);if(u===void 0&&(u=this.data.fieldValue,!u))return`/Tx BMC q ${f}Q EMC`;if(Array.isArray(u)&&u.length===1&&(u=u[0]),assert(typeof u=="string","Expected `value` to be a string."),u=u.trim(),this.data.combo&&(u=this.data.options.find(({exportValue:oe})=>u===oe)?.displayValue||u),u==="")return`/Tx BMC q ${f}Q EMC`;d===void 0&&(d=this.rotation);let g=-1,x;this.data.multiLine?(x=u.split(/\r\n?|\n/).map(se=>se.normalize("NFC")),g=x.length):x=[u.replace(/\r\n?|\n/,"").normalize("NFC")];const b=1,m=2;let y=this.data.rect[3]-this.data.rect[1],v=this.data.rect[2]-this.data.rect[0];(d===90||d===270)&&([v,y]=[y,v]),this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let w=await WidgetAnnotation._getFontData(t,r,this.data.defaultAppearanceData,this._fieldResources.mergedResources),S,C,E;const T=[];let _=!1;for(const se of x){const oe=w.encodeString(se);oe.length>1&&(_=!0),T.push(oe.join(""))}if(_&&a&RenderingIntentFlag.SAVE)return{needAppearances:!0};if(_&&this._isOffscreenCanvasSupported){const se=this.data.comb?"monospace":"sans-serif",oe=new FakeUnicodeFont(t.xref,se),ue=oe.createFontResources(x.join("")),Z=ue.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const xe=this._fieldResources.mergedResources.get("Font");for(const ye of Z.getKeys())xe.set(ye,Z.getRaw(ye))}else this._fieldResources.mergedResources.set("Font",Z);const te=oe.fontName.name;w=await WidgetAnnotation._getFontData(t,r,{fontName:te,fontSize:0},ue);for(let xe=0,ye=T.length;xe<ye;xe++)T[xe]=stringToUTF16String(x[xe]);const he=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=te,[S,C,E]=this._computeFontSize(y-2*b,v-2*m,u,w,g),this.data.defaultAppearanceData=he}else this._isOffscreenCanvasSupported||warn("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[S,C,E]=this._computeFontSize(y-2*b,v-2*m,u,w,g);let R=w.descent;isNaN(R)?R=BASELINE_FACTOR*E:R=Math.max(BASELINE_FACTOR*E,Math.abs(R)*C);const U=Math.min(Math.floor((y-C)/2),b),z=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(S,T,w,C,v,y,z,m,U,R,E,s);if(this.data.comb)return this._getCombAppearance(S,w,T[0],C,v,y,m,U,R,E,s);const X=U+R;if(z===0||z>2)return`/Tx BMC q ${f}BT `+S+` 1 0 0 1 ${numberToString$1(m)} ${numberToString$1(X)} Tm (${escapeString(T[0])}) Tj ET Q EMC`;const W={shift:0},Y=this._renderText(T[0],w,C,v,z,W,m,X);return`/Tx BMC q ${f}BT `+S+` 1 0 0 1 0 0 Tm ${Y} ET Q EMC`}static async _getFontData(t,r,a,s){const o=new OperatorList,l={font:null,clone(){return this}},{fontName:u,fontSize:d}=a;return await t.handleSetFont(s,[u&&Name.get(u),d],null,o,r,l,null),l.font}_getTextWidth(t,r){return r.charsToGlyphs(t).reduce((a,s)=>a+s.width,0)/1e3}_computeFontSize(t,r,a,s,o){let{fontSize:l}=this.data.defaultAppearanceData,u=(l||12)*LINE_FACTOR,d=Math.round(t/u);if(!l){const f=b=>Math.floor(b*100)/100;if(o===-1){const b=this._getTextWidth(a,s);l=f(Math.min(t/LINE_FACTOR,b>r?r/b:1/0)),d=1}else{const b=a.split(/\r\n?|\n/),m=[];for(const v of b){const w=s.encodeString(v).join(""),S=s.charsToGlyphs(w),C=s.getCharPositions(w);m.push({line:w,glyphs:S,positions:C})}const y=v=>{let w=0;for(const S of m){const C=this._splitLine(null,s,v,r,S);if(w+=C.length*v,w>t)return!0}return!1};for(d=Math.max(d,o);;){if(u=t/d,l=f(u/LINE_FACTOR),y(l)){d++;continue}break}}const{fontName:g,fontColor:x}=this.data.defaultAppearanceData;this._defaultAppearance=createDefaultAppearance({fontSize:l,fontName:g,fontColor:x})}return[this._defaultAppearance,l,t/d]}_renderText(t,r,a,s,o,l,u,d){let f;if(o===1){const x=this._getTextWidth(t,r)*a;f=(s-x)/2}else if(o===2){const x=this._getTextWidth(t,r)*a;f=s-x-u}else f=u;const g=numberToString$1(f-l.shift);return l.shift=f,d=numberToString$1(d),`${g} ${d} Td (${escapeString(t)}) Tj`}_getSaveFieldResources(t){const{localResources:r,appearanceResources:a,acroFormResources:s}=this._fieldResources,o=this.data.defaultAppearanceData?.fontName;if(!o)return r||Dict.empty;for(const l of[r,a])if(l instanceof Dict){const u=l.get("Font");if(u instanceof Dict&&u.has(o))return l}if(s instanceof Dict){const l=s.get("Font");if(l instanceof Dict&&l.has(o)){const u=new Dict(t);u.set(o,l.getRaw(o));const d=new Dict(t);return d.set("Font",u),Dict.merge({xref:t,dictArray:[d,r],mergeSubDicts:!0})}}return r||Dict.empty}getFieldObject(){return null}}class TextWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const r=t.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let a=getInheritableProperty({dict:r,key:"Q"});(!Number.isInteger(a)||a<0||a>2)&&(a=null),this.data.textAlignment=a;let s=getInheritableProperty({dict:r,key:"MaxLen"});(!Number.isInteger(s)||s<0)&&(s=0),this.data.maxLen=s,this.data.multiLine=this.hasFieldFlag(AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(t,r,a,s,o,l,u,d,f,g,x){const b=o/this.data.maxLen,m=this.getBorderAndBackgroundAppearances(x),y=[],v=r.getCharPositions(a);for(const[S,C]of v)y.push(`(${escapeString(a.substring(S,C))}) Tj`);const w=y.join(` ${numberToString$1(b)} 0 Td `);return`/Tx BMC q ${m}BT `+t+` 1 0 0 1 ${numberToString$1(u)} ${numberToString$1(d+f)} Tm ${w} ET Q EMC`}_getMultilineAppearance(t,r,a,s,o,l,u,d,f,g,x,b){const m=[],y=o-2*d,v={shift:0};for(let C=0,E=r.length;C<E;C++){const T=r[C],_=this._splitLine(T,a,s,y);for(let R=0,U=_.length;R<U;R++){const z=_[R],X=C===0&&R===0?-f-(x-g):-x;m.push(this._renderText(z,a,s,o,u,v,d,X))}}const w=this.getBorderAndBackgroundAppearances(b),S=m.join(`
`);return`/Tx BMC q ${w}BT `+t+` 1 0 0 1 0 ${numberToString$1(l)} Tm ${S} ET Q EMC`}_splitLine(t,r,a,s,o={}){t=o.line||t;const l=o.glyphs||r.charsToGlyphs(t);if(l.length<=1)return[t];const u=o.positions||r.getCharPositions(t),d=a/1e3,f=[];let g=-1,x=-1,b=-1,m=0,y=0;for(let v=0,w=l.length;v<w;v++){const[S,C]=u[v],E=l[v],T=E.width*d;E.unicode===" "?y+T>s?(f.push(t.substring(m,S)),m=S,y=T,g=-1,b=-1):(y+=T,g=S,x=C,b=v):y+T>s?g!==-1?(f.push(t.substring(m,x)),m=x,v=b+1,g=-1,y=0):(f.push(t.substring(m,S)),m=S,y=T):y+=T}return m<t.length&&f.push(t.substring(m,t.length)),f}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class ButtonWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(t):this.data.radioButton?this._processRadioButton(t):this.data.pushButton?(this.data.hasOwnCanvas=!0,this.data.noHTML=!1,this._processPushButton(t)):warn("Invalid field flags for button widget annotation")}async getOperatorList(t,r,a,s,o){if(this.data.pushButton)return super.getOperatorList(t,r,a,!1,o);let l=null,u=null;if(o){const f=o.get(this.data.id);l=f?f.value:null,u=f?f.rotation:null}if(l===null&&this.appearance)return super.getOperatorList(t,r,a,s,o);l==null&&(l=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const d=l?this.checkedAppearance:this.uncheckedAppearance;if(d){const f=this.appearance,g=d.dict.getArray("Matrix")||IDENTITY_MATRIX;u&&d.dict.set("Matrix",this.getRotationMatrix(o)),this.appearance=d;const x=super.getOperatorList(t,r,a,s,o);return this.appearance=f,d.dict.set("Matrix",g),x}return{opList:new OperatorList,separateForm:!1,separateCanvas:!1}}async save(t,r,a){return this.data.checkBox?this._saveCheckbox(t,r,a):this.data.radioButton?this._saveRadioButton(t,r,a):null}async _saveCheckbox(t,r,a){if(!a)return null;const s=a.get(this.data.id);let o=s?.rotation,l=s?.value;if(o===void 0&&(l===void 0||this.data.fieldValue===this.data.exportValue===l))return null;const u=t.xref.fetchIfRef(this.ref);if(!(u instanceof Dict))return null;o===void 0&&(o=this.rotation),l===void 0&&(l=this.data.fieldValue===this.data.exportValue);const d={path:this.data.fieldName,value:l?this.data.exportValue:""},f=Name.get(l?this.data.exportValue:"Off");u.set("V",f),u.set("AS",f),u.set("M",`D:${getModificationDate()}`);const g=this._getMKDict(o);g&&u.set("MK",g);const x=[];return await writeObject(this.ref,u,x,t.xref),[{ref:this.ref,data:x.join(""),xfa:d}]}async _saveRadioButton(t,r,a){if(!a)return null;const s=a.get(this.data.id);let o=s?.rotation,l=s?.value;if(o===void 0&&(l===void 0||this.data.fieldValue===this.data.buttonValue===l))return null;const u=t.xref.fetchIfRef(this.ref);if(!(u instanceof Dict))return null;l===void 0&&(l=this.data.fieldValue===this.data.buttonValue),o===void 0&&(o=this.rotation);const d={path:this.data.fieldName,value:l?this.data.buttonValue:""},f=Name.get(l?this.data.buttonValue:"Off"),g=[];let x=null;if(l)if(this.parent instanceof Ref){const y=t.xref.fetch(this.parent);y.set("V",f),await writeObject(this.parent,y,g,t.xref),x=g.join(""),g.length=0}else this.parent instanceof Dict&&this.parent.set("V",f);u.set("AS",f),u.set("M",`D:${getModificationDate()}`);const b=this._getMKDict(o);b&&u.set("MK",b),await writeObject(this.ref,u,g,t.xref);const m=[{ref:this.ref,data:g.join(""),xfa:d}];return x&&m.push({ref:this.parent,data:x,xfa:null}),m}_getDefaultCheckedAppearance(t,r){const a=this.data.rect[2]-this.data.rect[0],s=this.data.rect[3]-this.data.rect[1],o=[0,0,a,s],l=.8,u=Math.min(a,s)*l;let d,f;r==="check"?(d={width:.755*u,height:.705*u},f="3"):r==="disc"?(d={width:.791*u,height:.705*u},f="l"):unreachable(`_getDefaultCheckedAppearance - unsupported type: ${r}`);const g=numberToString$1((a-d.width)/2),x=numberToString$1((s-d.height)/2),b=`q BT /PdfJsZaDb ${u} Tf 0 g ${g} ${x} Td (${f}) Tj ET Q`,m=new Dict(t.xref);m.set("FormType",1),m.set("Subtype",Name.get("Form")),m.set("Type",Name.get("XObject")),m.set("BBox",o),m.set("Matrix",[1,0,0,1,0,0]),m.set("Length",b.length);const y=new Dict(t.xref),v=new Dict(t.xref);v.set("PdfJsZaDb",this.fallbackFontDict),y.set("Font",v),m.set("Resources",y),this.checkedAppearance=new StringStream(b),this.checkedAppearance.dict=m,this._streams.push(this.checkedAppearance)}_processCheckBox(t){const r=t.dict.get("AP");if(!(r instanceof Dict))return;const a=r.get("N");if(!(a instanceof Dict))return;const s=this._decodeFormValue(t.dict.get("AS"));typeof s=="string"&&(this.data.fieldValue=s);const o=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",l=a.getKeys();if(l.length===0)l.push("Off",o);else if(l.length===1)l[0]==="Off"?l.push(o):l.unshift("Off");else if(l.includes(o))l.length=0,l.push("Off",o);else{const f=l.find(g=>g!=="Off");l.length=0,l.push("Off",f)}l.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=l[1];const u=a.get(this.data.exportValue);this.checkedAppearance=u instanceof BaseStream?u:null;const d=a.get("Off");this.uncheckedAppearance=d instanceof BaseStream?d:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(t,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(t){this.data.buttonValue=null;const r=t.dict.get("Parent");if(r instanceof Dict){this.parent=t.dict.getRaw("Parent");const u=r.get("V");u instanceof Name&&(this.data.fieldValue=this._decodeFormValue(u))}const a=t.dict.get("AP");if(!(a instanceof Dict))return;const s=a.get("N");if(!(s instanceof Dict))return;for(const u of s.getKeys())if(u!=="Off"){this.data.buttonValue=this._decodeFormValue(u);break}const o=s.get(this.data.buttonValue);this.checkedAppearance=o instanceof BaseStream?o:null;const l=s.get("Off");this.uncheckedAppearance=l instanceof BaseStream?l:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(t,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(t){const{dict:r,annotationGlobals:a}=t;if(!r.has("A")&&!r.has("AA")&&!this.data.alternativeText){warn("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!r.has("A")&&!r.has("AA"),Catalog.parseDestDictionary({destDict:r,resultObj:this.data,docBaseUrl:a.baseUrl,docAttachments:a.attachments})}getFieldObject(){let t="button",r;return this.data.checkBox?(t="checkbox",r=this.data.exportValue):this.data.radioButton&&(t="radiobutton",r=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:r,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:t}}get fallbackFontDict(){const t=new Dict;return t.set("BaseFont",Name.get("ZapfDingbats")),t.set("Type",Name.get("FallbackType")),t.set("Subtype",Name.get("FallbackType")),t.set("Encoding",Name.get("ZapfDingbatsEncoding")),shadow(this,"fallbackFontDict",t)}}class ChoiceWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;this.indices=r.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const s=getInheritableProperty({dict:r,key:"Opt"});if(Array.isArray(s))for(let o=0,l=s.length;o<l;o++){const u=a.fetchIfRef(s[o]),d=Array.isArray(u);this.data.options[o]={exportValue:this._decodeFormValue(d?a.fetchIfRef(u[0]):u),displayValue:this._decodeFormValue(d?a.fetchIfRef(u[1]):u)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const o=this.data.options.length;for(const l of this.indices)Number.isInteger(l)&&l>=0&&l<o&&this.data.fieldValue.push(this.data.options[l].exportValue)}this.data.combo=this.hasFieldFlag(AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const t=this.data.combo?"combobox":"listbox",r=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:r,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:t}}amendSavedDict(t,r){if(!this.hasIndices)return;let a=t?.get(this.data.id)?.value;Array.isArray(a)||(a=[a]);const s=[],{options:o}=this.data;for(let l=0,u=0,d=o.length;l<d;l++)o[l].exportValue===a[u]&&(s.push(l),u+=1);r.set("I",s)}async _getAppearance(t,r,a,s){if(this.data.combo)return super._getAppearance(t,r,a,s);let o,l;const u=s?.get(this.data.id);if(u&&(l=u.rotation,o=u.value),l===void 0&&o===void 0&&!this._needAppearances)return null;o===void 0?o=this.data.fieldValue:Array.isArray(o)||(o=[o]);const d=1,f=2;let g=this.data.rect[3]-this.data.rect[1],x=this.data.rect[2]-this.data.rect[0];(l===90||l===270)&&([x,g]=[g,x]);const b=this.data.options.length,m=[];for(let z=0;z<b;z++){const{exportValue:X}=this.data.options[z];o.includes(X)&&m.push(z)}this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const y=await WidgetAnnotation._getFontData(t,r,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let v,{fontSize:w}=this.data.defaultAppearanceData;if(w)v=this._defaultAppearance;else{const z=(g-d)/b;let X=-1,W;for(const{displayValue:Y}of this.data.options){const se=this._getTextWidth(Y,y);se>X&&(X=se,W=Y)}[v,w]=this._computeFontSize(z,x-2*f,W,y,-1)}const S=w*LINE_FACTOR,C=(S-w)/2,E=Math.floor(g/S);let T=0;if(m.length>0){const z=Math.min(...m),X=Math.max(...m);T=Math.max(0,X-E+1),T>z&&(T=z)}const _=Math.min(T+E+1,b),R=["/Tx BMC q",`1 1 ${x} ${g} re W n`];if(m.length){R.push("0.600006 0.756866 0.854904 rg");for(const z of m)T<=z&&z<_&&R.push(`1 ${g-(z-T+1)*S} ${x} ${S} re f`)}R.push("BT",v,`1 0 0 1 0 ${g} Tm`);const U={shift:0};for(let z=T;z<_;z++){const{displayValue:X}=this.data.options[z],W=z===T?C:0;R.push(this._renderText(X,y,w,x,0,U,f,-S+W))}return R.push("ET Q EMC"),R.join(`
`)}}class SignatureWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!this.data.hasOwnCanvas}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class TextAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:a}=t;this.data.annotationType=AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=a.has("Name")?a.get("Name").name:"Note"),a.has("State")?(this.data.state=a.get("State")||null,this.data.stateModel=a.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class LinkAnnotation extends Annotation{constructor(t){super(t);const{dict:r,annotationGlobals:a}=t;this.data.annotationType=AnnotationType.LINK;const s=getQuadPoints(r,this.rectangle);s&&(this.data.quadPoints=s),this.data.borderColor||=this.data.color,Catalog.parseDestDictionary({destDict:r,resultObj:this.data,docBaseUrl:a.baseUrl,docAttachments:a.attachments})}}class PopupAnnotation extends Annotation{constructor(t){super(t);const{dict:r}=t;this.data.annotationType=AnnotationType.POPUP,this.data.noHTML=!1,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let a=r.get("Parent");if(!a){warn("Popup annotation has a missing or invalid parent annotation.");return}const s=a.getArray("Rect");this.data.parentRect=Array.isArray(s)&&s.length===4?Util.normalizeRect(s):null;const o=a.get("RT");if(isName(o,AnnotationReplyType.GROUP)&&(a=a.get("IRT")),a.has("M")?(this.setModificationDate(a.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,a.has("C")?(this.setColor(a.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const l=a.get("F");this._isViewable(l)&&this.setFlags(l)}this.setTitle(a.get("T")),this.data.titleObj=this._title,this.setContents(a.get("Contents")),this.data.contentsObj=this._contents,a.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(a.get("RC"))),this.data.open=!!r.get("Open")}}class FreeTextAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.hasOwnCanvas=!this.data.noHTML,this.data.noHTML=!1;const{evaluatorOptions:r,xref:a}=t;if(this.data.annotationType=AnnotationType.FREETEXT,this.setDefaultAppearance(t),this.appearance){const{fontColor:s,fontSize:o}=parseAppearanceStream(this.appearance,r,a);this.data.defaultAppearanceData.fontColor=s,this.data.defaultAppearanceData.fontSize=o||10}else if(this._isOffscreenCanvasSupported){const s=t.dict.get("CA"),o=new FakeUnicodeFont(a,"sans-serif");this.data.defaultAppearanceData.fontSize||=10;const{fontColor:l,fontSize:u}=this.data.defaultAppearanceData;this.appearance=o.createAppearance(this._contents.str,this.rectangle,this.rotation,u,l,s),this._streams.push(this.appearance,FakeUnicodeFont.toUnicodeStream)}else warn("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(t,r,{apRef:a,ap:s}){const{color:o,fontSize:l,rect:u,rotation:d,user:f,value:g}=t,x=new Dict(r);x.set("Type",Name.get("Annot")),x.set("Subtype",Name.get("FreeText")),x.set("CreationDate",`D:${getModificationDate()}`),x.set("Rect",u);const b=`/Helv ${l} Tf ${getPdfColor(o,!0)}`;if(x.set("DA",b),x.set("Contents",isAscii(g)?g:stringToUTF16String(g,!0)),x.set("F",4),x.set("Border",[0,0,0]),x.set("Rotate",d),f&&x.set("T",isAscii(f)?f:stringToUTF16String(f,!0)),a||s){const m=new Dict(r);x.set("AP",m),a?m.set("N",a):m.set("N",s)}return x}static async createNewAppearanceStream(t,r,a){const{baseFontRef:s,evaluator:o,task:l}=a,{color:u,fontSize:d,rect:f,rotation:g,value:x}=t,b=new Dict(r),m=new Dict(r);if(s)m.set("Helv",s);else{const ge=new Dict(r);ge.set("BaseFont",Name.get("Helvetica")),ge.set("Type",Name.get("Font")),ge.set("Subtype",Name.get("Type1")),ge.set("Encoding",Name.get("WinAnsiEncoding")),m.set("Helv",ge)}b.set("Font",m);const y=await WidgetAnnotation._getFontData(o,l,{fontName:"Helv",fontSize:d},b),[v,w,S,C]=f;let E=S-v,T=C-w;g%180!==0&&([E,T]=[T,E]);const _=x.split(`
`),R=d/1e3;let U=-1/0;const z=[];for(let ge of _){const de=y.encodeString(ge);if(de.length>1)return null;ge=de.join(""),z.push(ge);let ce=0;const M=y.charsToGlyphs(ge);for(const j of M)ce+=j.width*R;U=Math.max(U,ce)}let X=1;U>E&&(X=E/U);let W=1;const Y=LINE_FACTOR*d,se=(LINE_FACTOR-LINE_DESCENT_FACTOR)*d,oe=Y*_.length;oe>T&&(W=T/oe);const ue=Math.min(X,W),Z=d*ue;let te,he,xe;switch(g){case 0:xe=[1,0,0,1],he=[f[0],f[1],E,T],te=[f[0],f[3]-se];break;case 90:xe=[0,1,-1,0],he=[f[1],-f[2],E,T],te=[f[1],-f[0]-se];break;case 180:xe=[-1,0,0,-1],he=[-f[2],-f[3],E,T],te=[-f[2],-f[1]-se];break;case 270:xe=[0,-1,1,0],he=[-f[3],f[0],E,T],te=[-f[3],f[2]-se];break}const ye=["q",`${xe.join(" ")} 0 0 cm`,`${he.join(" ")} re W n`,"BT",`${getPdfColor(u,!0)}`,`0 Tc /Helv ${numberToString$1(Z)} Tf`];ye.push(`${te.join(" ")} Td (${escapeString(z[0])}) Tj`);const Ae=numberToString$1(Y);for(let ge=1,de=z.length;ge<de;ge++){const ce=z[ge];ye.push(`0 -${Ae} Td (${escapeString(ce)}) Tj`)}ye.push("ET","Q");const we=ye.join(`
`),pe=new Dict(r);pe.set("FormType",1),pe.set("Subtype",Name.get("Form")),pe.set("Type",Name.get("XObject")),pe.set("BBox",f),pe.set("Resources",b),pe.set("Matrix",[1,0,0,1,-f[0],-f[1]]);const Te=new StringStream(we);return Te.dict=pe,Te}}class LineAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;this.data.annotationType=AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const s=r.getArray("L");if(this.data.lineCoordinates=Util.normalizeRect(s),this.setLineEndings(r.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const o=this.color?getPdfColorArray(this.color):[0,0,0],l=r.get("CA"),u=getRgbColor(r.getArray("IC"),null),d=u?getPdfColorArray(u):null,f=d?l:null,g=this.borderStyle.width||1,x=2*g,b=[this.data.lineCoordinates[0]-x,this.data.lineCoordinates[1]-x,this.data.lineCoordinates[2]+x,this.data.lineCoordinates[3]+x];Util.intersect(this.rectangle,b)||(this.rectangle=b),this._setDefaultAppearance({xref:a,extra:`${g} w`,strokeColor:o,fillColor:d,strokeAlpha:l,fillAlpha:f,pointsCallback:(m,y)=>(m.push(`${s[0]} ${s[1]} m`,`${s[2]} ${s[3]} l`,"S"),[y[0].x-g,y[1].x+g,y[3].y-g,y[1].y+g])})}}}class SquareAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;if(this.data.annotationType=AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,!this.appearance){const s=this.color?getPdfColorArray(this.color):[0,0,0],o=r.get("CA"),l=getRgbColor(r.getArray("IC"),null),u=l?getPdfColorArray(l):null,d=u?o:null;if(this.borderStyle.width===0&&!u)return;this._setDefaultAppearance({xref:a,extra:`${this.borderStyle.width} w`,strokeColor:s,fillColor:u,strokeAlpha:o,fillAlpha:d,pointsCallback:(f,g)=>{const x=g[2].x+this.borderStyle.width/2,b=g[2].y+this.borderStyle.width/2,m=g[3].x-g[2].x-this.borderStyle.width,y=g[1].y-g[3].y-this.borderStyle.width;return f.push(`${x} ${b} ${m} ${y} re`),u?f.push("B"):f.push("S"),[g[0].x,g[1].x,g[3].y,g[1].y]}})}}}class CircleAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;if(this.data.annotationType=AnnotationType.CIRCLE,!this.appearance){const s=this.color?getPdfColorArray(this.color):[0,0,0],o=r.get("CA"),l=getRgbColor(r.getArray("IC"),null),u=l?getPdfColorArray(l):null,d=u?o:null;if(this.borderStyle.width===0&&!u)return;const f=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:a,extra:`${this.borderStyle.width} w`,strokeColor:s,fillColor:u,strokeAlpha:o,fillAlpha:d,pointsCallback:(g,x)=>{const b=x[0].x+this.borderStyle.width/2,m=x[0].y-this.borderStyle.width/2,y=x[3].x-this.borderStyle.width/2,v=x[3].y+this.borderStyle.width/2,w=b+(y-b)/2,S=m+(v-m)/2,C=(y-b)/2*f,E=(v-m)/2*f;return g.push(`${w} ${v} m`,`${w+C} ${v} ${y} ${S+E} ${y} ${S} c`,`${y} ${S-E} ${w+C} ${m} ${w} ${m} c`,`${w-C} ${m} ${b} ${S-E} ${b} ${S} c`,`${b} ${S+E} ${w-C} ${v} ${w} ${v} c`,"h"),u?g.push("B"):g.push("S"),[x[0].x,x[1].x,x[3].y,x[1].y]}})}}}class PolylineAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;this.data.annotationType=AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.vertices=[],this instanceof PolygonAnnotation||(this.setLineEndings(r.getArray("LE")),this.data.lineEndings=this.lineEndings);const s=r.getArray("Vertices");if(Array.isArray(s)){for(let o=0,l=s.length;o<l;o+=2)this.data.vertices.push({x:s[o],y:s[o+1]});if(!this.appearance){const o=this.color?getPdfColorArray(this.color):[0,0,0],l=r.get("CA"),u=this.borderStyle.width||1,d=2*u,f=[1/0,1/0,-1/0,-1/0];for(const g of this.data.vertices)f[0]=Math.min(f[0],g.x-d),f[1]=Math.min(f[1],g.y-d),f[2]=Math.max(f[2],g.x+d),f[3]=Math.max(f[3],g.y+d);Util.intersect(this.rectangle,f)||(this.rectangle=f),this._setDefaultAppearance({xref:a,extra:`${u} w`,strokeColor:o,strokeAlpha:l,pointsCallback:(g,x)=>{const b=this.data.vertices;for(let m=0,y=b.length;m<y;m++)g.push(`${b[m].x} ${b[m].y} ${m===0?"m":"l"}`);return g.push("S"),[x[0].x,x[1].x,x[3].y,x[1].y]}})}}}}class PolygonAnnotation extends PolylineAnnotation{constructor(t){super(t),this.data.annotationType=AnnotationType.POLYGON}}class CaretAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.annotationType=AnnotationType.CARET}}class InkAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:r,xref:a}=t;this.data.annotationType=AnnotationType.INK,this.data.inkLists=[];const s=r.getArray("InkList");if(Array.isArray(s)){for(let o=0,l=s.length;o<l;++o){this.data.inkLists.push([]);for(let u=0,d=s[o].length;u<d;u+=2)this.data.inkLists[o].push({x:a.fetchIfRef(s[o][u]),y:a.fetchIfRef(s[o][u+1])})}if(!this.appearance){const o=this.color?getPdfColorArray(this.color):[0,0,0],l=r.get("CA"),u=this.borderStyle.width||1,d=2*u,f=[1/0,1/0,-1/0,-1/0];for(const g of this.data.inkLists)for(const x of g)f[0]=Math.min(f[0],x.x-d),f[1]=Math.min(f[1],x.y-d),f[2]=Math.max(f[2],x.x+d),f[3]=Math.max(f[3],x.y+d);Util.intersect(this.rectangle,f)||(this.rectangle=f),this._setDefaultAppearance({xref:a,extra:`${u} w`,strokeColor:o,strokeAlpha:l,pointsCallback:(g,x)=>{for(const b of this.data.inkLists){for(let m=0,y=b.length;m<y;m++)g.push(`${b[m].x} ${b[m].y} ${m===0?"m":"l"}`);g.push("S")}return[x[0].x,x[1].x,x[3].y,x[1].y]}})}}}static createNewDict(t,r,{apRef:a,ap:s}){const{color:o,opacity:l,paths:u,rect:d,rotation:f,thickness:g}=t,x=new Dict(r);x.set("Type",Name.get("Annot")),x.set("Subtype",Name.get("Ink")),x.set("CreationDate",`D:${getModificationDate()}`),x.set("Rect",d),x.set("InkList",u.map(y=>y.points)),x.set("F",4),x.set("Rotate",f);const b=new Dict(r);x.set("BS",b),b.set("W",g),x.set("C",Array.from(o,y=>y/255)),x.set("CA",l);const m=new Dict(r);return x.set("AP",m),a?m.set("N",a):m.set("N",s),x}static async createNewAppearanceStream(t,r,a){const{color:s,rect:o,paths:l,thickness:u,opacity:d}=t,f=[`${u} w 1 J 1 j`,`${getPdfColor(s,!1)}`];d!==1&&f.push("/R0 gs");const g=[];for(const{bezier:y}of l){g.length=0,g.push(`${numberToString$1(y[0])} ${numberToString$1(y[1])} m`);for(let v=2,w=y.length;v<w;v+=6){const S=y.slice(v,v+6).map(numberToString$1).join(" ");g.push(`${S} c`)}g.push("S"),f.push(g.join(`
`))}const x=f.join(`
`),b=new Dict(r);if(b.set("FormType",1),b.set("Subtype",Name.get("Form")),b.set("Type",Name.get("XObject")),b.set("BBox",o),b.set("Length",x.length),d!==1){const y=new Dict(r),v=new Dict(r),w=new Dict(r);w.set("CA",d),w.set("Type",Name.get("ExtGState")),v.set("R0",w),y.set("ExtGState",v),b.set("Resources",y)}const m=new StringStream(x);return m.dict=b,m}}class HighlightAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;if(this.data.annotationType=AnnotationType.HIGHLIGHT,this.data.quadPoints=getQuadPoints(r,null)){const o=this.appearance?.dict.get("Resources");if(!this.appearance||!o?.has("ExtGState")){this.appearance&&warn("HighlightAnnotation - ignoring built-in appearance stream.");const l=this.color?getPdfColorArray(this.color):[1,1,0],u=r.get("CA");this._setDefaultAppearance({xref:a,fillColor:l,blendMode:"Multiply",fillAlpha:u,pointsCallback:(d,f)=>(d.push(`${f[0].x} ${f[0].y} m`,`${f[1].x} ${f[1].y} l`,`${f[3].x} ${f[3].y} l`,`${f[2].x} ${f[2].y} l`,"f"),[f[0].x,f[1].x,f[3].y,f[1].y])})}}else this.data.popupRef=null}static createNewDict(t,r,{apRef:a,ap:s}){const{color:o,opacity:l,rect:u,rotation:d,user:f,quadPoints:g}=t,x=new Dict(r);if(x.set("Type",Name.get("Annot")),x.set("Subtype",Name.get("Highlight")),x.set("CreationDate",`D:${getModificationDate()}`),x.set("Rect",u),x.set("F",4),x.set("Border",[0,0,0]),x.set("Rotate",d),x.set("QuadPoints",g),x.set("C",Array.from(o,b=>b/255)),x.set("CA",l),f&&x.set("T",isAscii(f)?f:stringToUTF16String(f,!0)),a||s){const b=new Dict(r);x.set("AP",b),b.set("N",a||s)}return x}static async createNewAppearanceStream(t,r,a){const{color:s,rect:o,outlines:l,opacity:u}=t,d=[`${getPdfColor(s,!0)}`,"/R0 gs"],f=[];for(const w of l){f.length=0,f.push(`${numberToString$1(w[0])} ${numberToString$1(w[1])} m`);for(let S=2,C=w.length;S<C;S+=2)f.push(`${numberToString$1(w[S])} ${numberToString$1(w[S+1])} l`);f.push("h"),d.push(f.join(`
`))}d.push("f*");const g=d.join(`
`),x=new Dict(r);x.set("FormType",1),x.set("Subtype",Name.get("Form")),x.set("Type",Name.get("XObject")),x.set("BBox",o),x.set("Length",g.length);const b=new Dict(r),m=new Dict(r);b.set("ExtGState",m),x.set("Resources",b);const y=new Dict(r);m.set("R0",y),y.set("BM",Name.get("Multiply")),u!==1&&(y.set("ca",u),y.set("Type",Name.get("ExtGState")));const v=new StringStream(g);return v.dict=x,v}}class UnderlineAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;if(this.data.annotationType=AnnotationType.UNDERLINE,this.data.quadPoints=getQuadPoints(r,null)){if(!this.appearance){const o=this.color?getPdfColorArray(this.color):[0,0,0],l=r.get("CA");this._setDefaultAppearance({xref:a,extra:"[] 0 d 0.571 w",strokeColor:o,strokeAlpha:l,pointsCallback:(u,d)=>(u.push(`${d[2].x} ${d[2].y+1.3} m`,`${d[3].x} ${d[3].y+1.3} l`,"S"),[d[0].x,d[1].x,d[3].y,d[1].y])})}}else this.data.popupRef=null}}class SquigglyAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;if(this.data.annotationType=AnnotationType.SQUIGGLY,this.data.quadPoints=getQuadPoints(r,null)){if(!this.appearance){const o=this.color?getPdfColorArray(this.color):[0,0,0],l=r.get("CA");this._setDefaultAppearance({xref:a,extra:"[] 0 d 1 w",strokeColor:o,strokeAlpha:l,pointsCallback:(u,d)=>{const f=(d[0].y-d[2].y)/6;let g=f,x=d[2].x;const b=d[2].y,m=d[3].x;u.push(`${x} ${b+g} m`);do x+=2,g=g===0?f:0,u.push(`${x} ${b+g} l`);while(x<m);return u.push("S"),[d[2].x,m,b-2*f,b+2*f]}})}}else this.data.popupRef=null}}class StrikeOutAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t;if(this.data.annotationType=AnnotationType.STRIKEOUT,this.data.quadPoints=getQuadPoints(r,null)){if(!this.appearance){const o=this.color?getPdfColorArray(this.color):[0,0,0],l=r.get("CA");this._setDefaultAppearance({xref:a,extra:"[] 0 d 1 w",strokeColor:o,strokeAlpha:l,pointsCallback:(u,d)=>(u.push(`${(d[0].x+d[2].x)/2} ${(d[0].y+d[2].y)/2} m`,`${(d[1].x+d[3].x)/2} ${(d[1].y+d[3].y)/2} l`,"S"),[d[0].x,d[1].x,d[3].y,d[1].y])})}}else this.data.popupRef=null}}class StampAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.annotationType=AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1}static async createImage(t,r){const{width:a,height:s}=t,o=new OffscreenCanvas(a,s),l=o.getContext("2d",{alpha:!0});l.drawImage(t,0,0);const u=l.getImageData(0,0,a,s).data,d=new Uint32Array(u.buffer),f=d.some(FeatureTest.isLittleEndian?w=>w>>>24!==255:w=>(w&255)!==255);f&&(l.fillStyle="white",l.fillRect(0,0,a,s),l.drawImage(t,0,0));const g=o.convertToBlob({type:"image/jpeg",quality:1}).then(w=>w.arrayBuffer()),x=Name.get("XObject"),b=Name.get("Image"),m=new Dict(r);m.set("Type",x),m.set("Subtype",b),m.set("BitsPerComponent",8),m.set("ColorSpace",Name.get("DeviceRGB")),m.set("Filter",Name.get("DCTDecode")),m.set("BBox",[0,0,a,s]),m.set("Width",a),m.set("Height",s);let y=null;if(f){const w=new Uint8Array(d.length);if(FeatureTest.isLittleEndian)for(let C=0,E=d.length;C<E;C++)w[C]=d[C]>>>24;else for(let C=0,E=d.length;C<E;C++)w[C]=d[C]&255;const S=new Dict(r);S.set("Type",x),S.set("Subtype",b),S.set("BitsPerComponent",8),S.set("ColorSpace",Name.get("DeviceGray")),S.set("Width",a),S.set("Height",s),y=new Stream$1(w,0,0,S)}return{imageStream:new Stream$1(await g,0,0,m),smaskStream:y,width:a,height:s}}static createNewDict(t,r,{apRef:a,ap:s}){const{rect:o,rotation:l,user:u}=t,d=new Dict(r);if(d.set("Type",Name.get("Annot")),d.set("Subtype",Name.get("Stamp")),d.set("CreationDate",`D:${getModificationDate()}`),d.set("Rect",o),d.set("F",4),d.set("Border",[0,0,0]),d.set("Rotate",l),u&&d.set("T",isAscii(u)?u:stringToUTF16String(u,!0)),a||s){const f=new Dict(r);d.set("AP",f),a?f.set("N",a):f.set("N",s)}return d}static async createNewAppearanceStream(t,r,a){const{rotation:s}=t,{imageRef:o,width:l,height:u}=a.image,d=new Dict(r),f=new Dict(r);d.set("XObject",f),f.set("Im0",o);const g=`q ${l} 0 0 ${u} 0 0 cm /Im0 Do Q`,x=new Dict(r);if(x.set("FormType",1),x.set("Subtype",Name.get("Form")),x.set("Type",Name.get("XObject")),x.set("BBox",[0,0,l,u]),x.set("Resources",d),s){const m=getRotationMatrix(s,l,u);x.set("Matrix",m)}const b=new StringStream(g);return b.dict=x,b}}class FileAttachmentAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:r,xref:a}=t,s=new FileSpec(r.get("FS"),a);this.data.annotationType=AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.file=s.serializable;const o=r.get("Name");this.data.name=o instanceof Name?stringToPDFString(o.name):"PushPin";const l=r.get("ca");this.data.fillAlpha=typeof l=="number"&&l>=0&&l<=1?l:null}}function decodeString(n){try{return stringToUTF8String(n)}catch(t){return warn(`UTF-8 decoding failed: "${t}".`),n}}class DatasetXMLParser extends SimpleXMLParser{constructor(t){super(t),this.node=null}onEndElement(t){const r=super.onEndElement(t);if(r&&t==="xfa:datasets")throw this.node=r,new Error("Aborting DatasetXMLParser.")}}class DatasetReader{constructor(t){if(t.datasets)this.node=new SimpleXMLParser({hasAttributes:!0}).parseFromString(t.datasets).documentElement;else{const r=new DatasetXMLParser({hasAttributes:!0});try{r.parseFromString(t["xdp:xdp"])}catch{}this.node=r.node}}getValue(t){if(!this.node||!t)return"";const r=this.node.searchNode(parseXFAPath(t),0);return r?r.firstChild?.nodeName==="value"?r.children.map(s=>decodeString(s.textContent)):decodeString(r.textContent):""}}class XRef{#e=null;constructor(t,r){this.stream=t,this.pdfManager=r,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(t){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const r=this._newPersistentRefNum++;return this._cacheMap.set(r,t),Ref.get(r,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(t){this.startXRefQueue=[t]}parse(t=!1){let r;t?(warn("Indexing all PDF objects"),r=this.indexObjects()):r=this.readXRef(),r.assignXref(this),this.trailer=r;let a;try{a=r.get("Encrypt")}catch(o){if(o instanceof MissingDataException)throw o;warn(`XRef.parse - Invalid "Encrypt" reference: "${o}".`)}if(a instanceof Dict){const o=r.get("ID"),l=o?.length?o[0]:"";a.suppressEncryption=!0,this.encrypt=new CipherTransformFactory(a,l,this.pdfManager.password)}let s;try{s=r.get("Root")}catch(o){if(o instanceof MissingDataException)throw o;warn(`XRef.parse - Invalid "Root" reference: "${o}".`)}if(s instanceof Dict)try{if(s.get("Pages")instanceof Dict){this.root=s;return}}catch(o){if(o instanceof MissingDataException)throw o;warn(`XRef.parse - Invalid "Pages" reference: "${o}".`)}throw t?new InvalidPDFException("Invalid Root reference."):new XRefParseException}processXRefTable(t){"tableState"in this||(this.tableState={entryNum:0,streamPos:t.lexer.stream.pos,parserBuf1:t.buf1,parserBuf2:t.buf2});const r=this.readXRefTable(t);if(!isCmd(r,"trailer"))throw new FormatError("Invalid XRef table: could not find trailer dictionary");let a=t.getObj();if(!(a instanceof Dict)&&a.dict&&(a=a.dict),!(a instanceof Dict))throw new FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,a}readXRefTable(t){const r=t.lexer.stream,a=this.tableState;r.pos=a.streamPos,t.buf1=a.parserBuf1,t.buf2=a.parserBuf2;let s;for(;;){if(!("firstEntryNum"in a)||!("entryCount"in a)){if(isCmd(s=t.getObj(),"trailer"))break;a.firstEntryNum=s,a.entryCount=t.getObj()}let o=a.firstEntryNum;const l=a.entryCount;if(!Number.isInteger(o)||!Number.isInteger(l))throw new FormatError("Invalid XRef table: wrong types in subsection header");for(let u=a.entryNum;u<l;u++){a.streamPos=r.pos,a.entryNum=u,a.parserBuf1=t.buf1,a.parserBuf2=t.buf2;const d={};d.offset=t.getObj(),d.gen=t.getObj();const f=t.getObj();if(f instanceof Cmd)switch(f.cmd){case"f":d.free=!0;break;case"n":d.uncompressed=!0;break}if(!Number.isInteger(d.offset)||!Number.isInteger(d.gen)||!(d.free||d.uncompressed))throw new FormatError(`Invalid entry in XRef subsection: ${o}, ${l}`);u===0&&d.free&&o===1&&(o=0),this.entries[u+o]||(this.entries[u+o]=d)}a.entryNum=0,a.streamPos=r.pos,a.parserBuf1=t.buf1,a.parserBuf2=t.buf2,delete a.firstEntryNum,delete a.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new FormatError("Invalid XRef table: unexpected first object");return s}processXRefStream(t){if(!("streamState"in this)){const r=t.dict,a=r.get("W");let s=r.get("Index");s||(s=[0,r.get("Size")]),this.streamState={entryRanges:s,byteWidths:a,entryNum:0,streamPos:t.pos}}return this.readXRefStream(t),delete this.streamState,t.dict}readXRefStream(t){const r=this.streamState;t.pos=r.streamPos;const[a,s,o]=r.byteWidths,l=r.entryRanges;for(;l.length>0;){const[u,d]=l;if(!Number.isInteger(u)||!Number.isInteger(d))throw new FormatError(`Invalid XRef range fields: ${u}, ${d}`);if(!Number.isInteger(a)||!Number.isInteger(s)||!Number.isInteger(o))throw new FormatError(`Invalid XRef entry fields length: ${u}, ${d}`);for(let f=r.entryNum;f<d;++f){r.entryNum=f,r.streamPos=t.pos;let g=0,x=0,b=0;for(let y=0;y<a;++y){const v=t.getByte();if(v===-1)throw new FormatError("Invalid XRef byteWidths 'type'.");g=g<<8|v}a===0&&(g=1);for(let y=0;y<s;++y){const v=t.getByte();if(v===-1)throw new FormatError("Invalid XRef byteWidths 'offset'.");x=x<<8|v}for(let y=0;y<o;++y){const v=t.getByte();if(v===-1)throw new FormatError("Invalid XRef byteWidths 'generation'.");b=b<<8|v}const m={};switch(m.offset=x,m.gen=b,g){case 0:m.free=!0;break;case 1:m.uncompressed=!0;break;case 2:break;default:throw new FormatError(`Invalid XRef entry type: ${g}`)}this.entries[u+f]||(this.entries[u+f]=m)}r.entryNum=0,r.streamPos=t.pos,l.splice(0,2)}}indexObjects(){function u(W,Y){let se="",oe=W[Y];for(;oe!==10&&oe!==13&&oe!==60&&!(++Y>=W.length);)se+=String.fromCharCode(oe),oe=W[Y];return se}function d(W,Y,se){const oe=se.length,ue=W.length;let Z=0;for(;Y<ue;){let te=0;for(;te<oe&&W[Y+te]===se[te];)++te;if(te>=oe)break;Y++,Z++}return Z}const f=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,g=/\b(startxref|\d+\s+\d+\s+obj)\b/g,x=/^(\d+)\s+(\d+)\s+obj\b/,b=new Uint8Array([116,114,97,105,108,101,114]),m=new Uint8Array([115,116,97,114,116,120,114,101,102]),y=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const v=this.stream;v.pos=0;const w=v.getBytes(),S=bytesToString(w),C=w.length;let E=v.start;const T=[],_=[];for(;E<C;){let W=w[E];if(W===9||W===10||W===13||W===32){++E;continue}if(W===37){do{if(++E,E>=C)break;W=w[E]}while(W!==10&&W!==13);continue}const Y=u(w,E);let se;if(Y.startsWith("xref")&&(Y.length===4||/\s/.test(Y[4])))E+=d(w,E,b),T.push(E),E+=d(w,E,m);else if(se=x.exec(Y)){const oe=se[1]|0,ue=se[2]|0,Z=E+Y.length;let te,he=!1;if(!this.entries[oe])he=!0;else if(this.entries[oe].gen===ue)try{new Parser({lexer:new Lexer(v.makeSubStream(Z))}).getObj(),he=!0}catch(we){we instanceof ParserEOFException?warn(`indexObjects -- checking object (${Y}): "${we}".`):he=!0}he&&(this.entries[oe]={offset:E-v.start,gen:ue,uncompressed:!0}),f.lastIndex=Z;const xe=f.exec(S);xe?(te=f.lastIndex+1-E,xe[1]!=="endobj"&&(warn(`indexObjects: Found "${xe[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),te-=xe[1].length+1)):te=C-E;const ye=w.subarray(E,E+te),Ae=d(ye,0,y);Ae<te&&ye[Ae+5]<64&&(_.push(E-v.start),this._xrefStms.add(E-v.start)),E+=te}else if(Y.startsWith("trailer")&&(Y.length===7||/\s/.test(Y[7]))){T.push(E);const oe=E+Y.length;let ue;g.lastIndex=oe;const Z=g.exec(S);Z?(ue=g.lastIndex+1-E,Z[1]!=="startxref"&&(warn(`indexObjects: Found "${Z[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),ue-=Z[1].length+1)):ue=C-E,E+=ue}else E+=Y.length+1}for(const W of _)this.startXRefQueue.push(W),this.readXRef(!0);const R=[];let U=!1;for(const W of T){v.pos=W;const Y=new Parser({lexer:new Lexer(v),xref:this,allowStreams:!0,recoveryMode:!0}),se=Y.getObj();if(!isCmd(se,"trailer"))continue;const oe=Y.getObj();oe instanceof Dict&&(R.push(oe),oe.has("Encrypt")&&(U=!0))}let z,X;for(const W of[...R,"genFallback",...R]){if(W==="genFallback"){if(!X)break;this._generationFallback=!0;continue}let Y=!1;try{const se=W.get("Root");if(!(se instanceof Dict))continue;const oe=se.get("Pages");if(!(oe instanceof Dict))continue;const ue=oe.get("Count");Number.isInteger(ue)&&(Y=!0)}catch(se){X=se;continue}if(Y&&(!U||W.has("Encrypt"))&&W.has("ID"))return W;z=W}if(z)return z;if(this.topDict)return this.topDict;throw new InvalidPDFException("Invalid PDF structure.")}readXRef(t=!1){const r=this.stream,a=new Set;for(;this.startXRefQueue.length;){try{const s=this.startXRefQueue[0];if(a.has(s)){warn("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}a.add(s),r.pos=s+r.start;const o=new Parser({lexer:new Lexer(r),xref:this,allowStreams:!0});let l=o.getObj(),u;if(isCmd(l,"xref"))u=this.processXRefTable(o),this.topDict||(this.topDict=u),l=u.get("XRefStm"),Number.isInteger(l)&&!this._xrefStms.has(l)&&(this._xrefStms.add(l),this.startXRefQueue.push(l),this.#e??=l);else if(Number.isInteger(l)){if(!Number.isInteger(o.getObj())||!isCmd(o.getObj(),"obj")||!((l=o.getObj())instanceof BaseStream))throw new FormatError("Invalid XRef stream");if(u=this.processXRefStream(l),this.topDict||(this.topDict=u),!u)throw new FormatError("Failed to read XRef stream")}else throw new FormatError("Invalid XRef stream header");l=u.get("Prev"),Number.isInteger(l)?this.startXRefQueue.push(l):l instanceof Ref&&this.startXRefQueue.push(l.num)}catch(s){if(s instanceof MissingDataException)throw s;info("(while reading XRef): "+s)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!t)throw new XRefParseException}get lastXRefStreamPos(){return this.#e??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(t){const r=this.entries[t];return r&&!r.free&&r.offset?r:null}fetchIfRef(t,r=!1){return t instanceof Ref?this.fetch(t,r):t}fetch(t,r=!1){if(!(t instanceof Ref))throw new Error("ref object is not a reference");const a=t.num,s=this._cacheMap.get(a);if(s!==void 0)return s instanceof Dict&&!s.objId&&(s.objId=t.toString()),s;let o=this.getEntry(a);if(o===null)return this._cacheMap.set(a,o),o;if(this._pendingRefs.has(t))return this._pendingRefs.remove(t),warn(`Ignoring circular reference: ${t}.`),CIRCULAR_REF;this._pendingRefs.put(t);try{o=o.uncompressed?this.fetchUncompressed(t,o,r):this.fetchCompressed(t,o,r),this._pendingRefs.remove(t)}catch(l){throw this._pendingRefs.remove(t),l}return o instanceof Dict?o.objId=t.toString():o instanceof BaseStream&&(o.dict.objId=t.toString()),o}fetchUncompressed(t,r,a=!1){const s=t.gen;let o=t.num;if(r.gen!==s){const x=`Inconsistent generation in XRef: ${t}`;if(this._generationFallback&&r.gen<s)return warn(x),this.fetchUncompressed(Ref.get(o,r.gen),r,a);throw new XRefEntryException(x)}const l=this.stream.makeSubStream(r.offset+this.stream.start),u=new Parser({lexer:new Lexer(l),xref:this,allowStreams:!0}),d=u.getObj(),f=u.getObj(),g=u.getObj();if(d!==o||f!==s||!(g instanceof Cmd))throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${t}`);if(g.cmd!=="obj"){if(g.cmd.startsWith("obj")&&(o=parseInt(g.cmd.substring(3),10),!Number.isNaN(o)))return o;throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${t}`)}return r=this.encrypt&&!a?u.getObj(this.encrypt.createCipherTransform(o,s)):u.getObj(),r instanceof BaseStream||this._cacheMap.set(o,r),r}fetchCompressed(t,r,a=!1){const s=r.offset,o=this.fetch(Ref.get(s,0));if(!(o instanceof BaseStream))throw new FormatError("bad ObjStm stream");const l=o.dict.get("First"),u=o.dict.get("N");if(!Number.isInteger(l)||!Number.isInteger(u))throw new FormatError("invalid first and n parameters for ObjStm stream");let d=new Parser({lexer:new Lexer(o),xref:this,allowStreams:!0});const f=new Array(u),g=new Array(u);for(let m=0;m<u;++m){const y=d.getObj();if(!Number.isInteger(y))throw new FormatError(`invalid object number in the ObjStm stream: ${y}`);const v=d.getObj();if(!Number.isInteger(v))throw new FormatError(`invalid object offset in the ObjStm stream: ${v}`);f[m]=y,g[m]=v}const x=(o.start||0)+l,b=new Array(u);for(let m=0;m<u;++m){const y=m<u-1?g[m+1]-g[m]:void 0;if(y<0)throw new FormatError("Invalid offset in the ObjStm stream.");d=new Parser({lexer:new Lexer(o.makeSubStream(x+g[m],y,o.dict)),xref:this,allowStreams:!0});const v=d.getObj();if(b[m]=v,v instanceof BaseStream)continue;const w=f[m],S=this.entries[w];S&&S.offset===s&&S.gen===m&&this._cacheMap.set(w,v)}if(r=b[r.gen],r===void 0)throw new XRefEntryException(`Bad (compressed) XRef entry: ${t}`);return r}async fetchIfRefAsync(t,r){return t instanceof Ref?this.fetchAsync(t,r):t}async fetchAsync(t,r){try{return this.fetch(t,r)}catch(a){if(!(a instanceof MissingDataException))throw a;return await this.pdfManager.requestRange(a.begin,a.end),this.fetchAsync(t,r)}}getCatalogObj(){return this.root}}const DEFAULT_USER_UNIT=1,LETTER_SIZE_MEDIABOX=[0,0,612,792];class Page{constructor({pdfManager:t,xref:r,pageIndex:a,pageDict:s,ref:o,globalIdFactory:l,fontCache:u,builtInCMapCache:d,standardFontDataCache:f,globalImageCache:g,systemFontCache:x,nonBlendModesSet:b,xfaFactory:m}){this.pdfManager=t,this.pageIndex=a,this.pageDict=s,this.xref=r,this.ref=o,this.fontCache=u,this.builtInCMapCache=d,this.standardFontDataCache=f,this.globalImageCache=g,this.systemFontCache=x,this.nonBlendModesSet=b,this.evaluatorOptions=t.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=m;const y={obj:0};this._localIdFactory=class extends l{static createObjId(){return`p${a}_${++y.obj}`}static getPageObjId(){return`p${o.toString()}`}}}_getInheritableProperty(t,r=!1){const a=getInheritableProperty({dict:this.pageDict,key:t,getArray:r,stopWhenFound:!1});return Array.isArray(a)?a.length===1||!(a[0]instanceof Dict)?a[0]:Dict.merge({xref:this.xref,dictArray:a}):a}get content(){return this.pageDict.getArray("Contents")}get resources(){const t=this._getInheritableProperty("Resources");return shadow(this,"resources",t instanceof Dict?t:Dict.empty)}_getBoundingBox(t){if(this.xfaData)return this.xfaData.bbox;let r=this._getInheritableProperty(t,!0);if(Array.isArray(r)&&r.length===4){if(r=Util.normalizeRect(r),r[2]-r[0]>0&&r[3]-r[1]>0)return r;warn(`Empty, or invalid, /${t} entry.`)}return null}get mediaBox(){return shadow(this,"mediaBox",this._getBoundingBox("MediaBox")||LETTER_SIZE_MEDIABOX)}get cropBox(){return shadow(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let t=this.pageDict.get("UserUnit");return(typeof t!="number"||t<=0)&&(t=DEFAULT_USER_UNIT),shadow(this,"userUnit",t)}get view(){const{cropBox:t,mediaBox:r}=this;if(t!==r&&!isArrayEqual(t,r)){const a=Util.intersect(t,r);if(a&&a[2]-a[0]>0&&a[3]-a[1]>0)return shadow(this,"view",a);warn("Empty /CropBox and /MediaBox intersection.")}return shadow(this,"view",r)}get rotate(){let t=this._getInheritableProperty("Rotate")||0;return t%90!==0?t=0:t>=360?t%=360:t<0&&(t=(t%360+360)%360),shadow(this,"rotate",t)}_onSubStreamError(t,r){if(this.evaluatorOptions.ignoreErrors){warn(`getContentStream - ignoring sub-stream (${r}): "${t}".`);return}throw t}getContentStream(){return this.pdfManager.ensure(this,"content").then(t=>t instanceof BaseStream?t:Array.isArray(t)?new StreamsSequenceStream(t,this._onSubStreamError.bind(this)):new NullStream)}get xfaData(){return shadow(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}#e(t,r,a){for(const s of t)if(s.id){const o=Ref.fromString(s.id);if(!o){warn(`A non-linked annotation cannot be modified: ${s.id}`);continue}if(s.deleted){r.put(o);continue}a?.put(o),s.ref=o,delete s.id}}async saveNewAnnotations(t,r,a,s){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const o=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),l=new RefSet,u=new RefSet;this.#e(a,l,u);const d=this.pageDict,f=this.annotations.filter(y=>!(y instanceof Ref&&l.has(y))),g=await AnnotationFactory.saveNewAnnotations(o,r,a,s);for(const{ref:y}of g.annotations)y instanceof Ref&&!u.has(y)&&f.push(y);const x=d.get("Annots");d.set("Annots",f);const b=[];await writeObject(this.ref,d,b,this.xref),x&&d.set("Annots",x);const m=g.dependencies;return m.push({ref:this.ref,data:b.join("")},...g.annotations),m}save(t,r,a){const s=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(o){const l=[];for(const u of o)u.mustBePrinted(a)&&l.push(u.save(s,r,a).catch(function(d){return warn(`save - ignoring annotation data during "${r.name}" task: "${d}".`),null}));return Promise.all(l).then(function(u){return u.filter(d=>!!d)})})}loadResources(t){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new ObjectLoader(this.resources,t,this.xref).load())}getOperatorList({handler:t,sink:r,task:a,intent:s,cacheKey:o,annotationStorage:l=null}){const u=this.getContentStream(),d=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),f=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),g=this.xfaFactory?null:getNewAnnotationsMap(l);let x=null,b=Promise.resolve(null);if(g){const v=g.get(this.pageIndex);if(v){const w=this.pdfManager.ensureDoc("annotationGlobals");let S;const C=new Set;for(const{bitmapId:T,bitmap:_}of v)T&&!_&&!C.has(T)&&C.add(T);const{isOffscreenCanvasSupported:E}=this.evaluatorOptions;if(C.size>0){const T=v.slice();for(const[_,R]of l)_.startsWith(AnnotationEditorPrefix)&&R.bitmap&&C.has(R.bitmapId)&&T.push(R);S=AnnotationFactory.generateImages(T,this.xref,E)}else S=AnnotationFactory.generateImages(v,this.xref,E);x=new RefSet,this.#e(v,x,null),b=w.then(T=>T?AnnotationFactory.printNewAnnotations(T,f,a,v,S):null)}}const y=Promise.all([u,d]).then(([v])=>{const w=new OperatorList(s,r);return t.send("StartRenderPage",{transparency:f.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:o}),f.getOperatorList({stream:v,task:a,resources:this.resources,operatorList:w}).then(function(){return w})});return Promise.all([y,this._parsedAnnotations,b]).then(function([v,w,S]){if(S){w=w.filter(U=>!(U.ref&&x.has(U.ref)));for(let U=0,z=S.length;U<z;U++){const X=S[U];if(X.refToReplace){const W=w.findIndex(Y=>Y.ref&&isRefsEqual(Y.ref,X.refToReplace));W>=0&&(w.splice(W,1,X),S.splice(U--,1),z--)}}w=w.concat(S)}if(w.length===0||s&RenderingIntentFlag.ANNOTATIONS_DISABLE)return v.flush(!0),{length:v.totalLength};const C=!!(s&RenderingIntentFlag.ANNOTATIONS_FORMS),E=!!(s&RenderingIntentFlag.ANY),T=!!(s&RenderingIntentFlag.DISPLAY),_=!!(s&RenderingIntentFlag.PRINT),R=[];for(const U of w)(E||T&&U.mustBeViewed(l,C)||_&&U.mustBePrinted(l))&&R.push(U.getOperatorList(f,a,s,C,l).catch(function(z){return warn(`getOperatorList - ignoring annotation data during "${a.name}" task: "${z}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(R).then(function(U){let z=!1,X=!1;for(const{opList:W,separateForm:Y,separateCanvas:se}of U)v.addOpList(W),z||=Y,X||=se;return v.flush(!0,{form:z,canvas:X}),{length:v.totalLength}})})}extractTextContent({handler:t,task:r,includeMarkedContent:a,disableNormalization:s,sink:o}){const l=this.getContentStream(),u=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([l,u]).then(([f])=>new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:f,task:r,resources:this.resources,includeMarkedContent:a,disableNormalization:s,sink:o,viewBox:this.view}))}async getStructTree(){const t=await this.pdfManager.ensureCatalog("structTreeRoot");return t?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[t])).serializable):null}_parseStructTree(t){const r=new StructTreePage(t,this.pageDict);return r.parse(this.ref),r}async getAnnotationsData(t,r,a){const s=await this._parsedAnnotations;if(s.length===0)return s;const o=[],l=[];let u;const d=!!(a&RenderingIntentFlag.ANY),f=!!(a&RenderingIntentFlag.DISPLAY),g=!!(a&RenderingIntentFlag.PRINT);for(const x of s){const b=d||f&&x.viewable;(b||g&&x.printable)&&o.push(x.data),x.hasTextContent&&b&&(u||=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),l.push(x.extractTextContent(u,r,[-1/0,-1/0,1/0,1/0]).catch(function(m){warn(`getAnnotationsData - ignoring textContent during "${r.name}" task: "${m}".`)})))}return await Promise.all(l),o}get annotations(){const t=this._getInheritableProperty("Annots");return shadow(this,"annotations",Array.isArray(t)?t:[])}get _parsedAnnotations(){const t=this.pdfManager.ensure(this,"annotations").then(async r=>{if(r.length===0)return r;const a=await this.pdfManager.ensureDoc("annotationGlobals");if(!a)return[];const s=[];for(const u of r)s.push(AnnotationFactory.create(this.xref,u,a,this._localIdFactory,!1,this.ref).catch(function(d){return warn(`_parsedAnnotations: "${d}".`),null}));const o=[];let l;for(const u of await Promise.all(s))if(u){if(u instanceof PopupAnnotation){(l||=[]).push(u);continue}o.push(u)}return l&&o.push(...l),o});return shadow(this,"_parsedAnnotations",t)}get jsActions(){const t=collectActions(this.xref,this.pageDict,PageActionEventType);return shadow(this,"jsActions",t)}}const PDF_HEADER_SIGNATURE=new Uint8Array([37,80,68,70,45]),STARTXREF_SIGNATURE=new Uint8Array([115,116,97,114,116,120,114,101,102]),ENDOBJ_SIGNATURE=new Uint8Array([101,110,100,111,98,106]),FINGERPRINT_FIRST_BYTES=1024,EMPTY_FINGERPRINT="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function find(n,t,r=1024,a=!1){const s=t.length,o=n.peekBytes(r),l=o.length-s;if(l<=0)return!1;if(a){const u=s-1;let d=o.length-1;for(;d>=u;){let f=0;for(;f<s&&o[d-f]===t[u-f];)f++;if(f>=s)return n.pos+=d-u,!0;d--}}else{let u=0;for(;u<=l;){let d=0;for(;d<s&&o[u+d]===t[d];)d++;if(d>=s)return n.pos+=u,!0;u++}}return!1}let PDFDocument$1=class{constructor(t,r){if(r.length<=0)throw new InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=t,this.stream=r,this.xref=new XRef(r,t),this._pagePromises=new Map,this._version=null;const a={font:0};this._globalIdFactory=class{static getDocId(){return`g_${t.docId}`}static createFontId(){return`f${++a.font}`}static createObjId(){unreachable("Abstract method `createObjId` called.")}static getPageObjId(){unreachable("Abstract method `getPageObjId` called.")}}}parse(t){this.xref.parse(t),this.catalog=new Catalog(this.pdfManager,this.xref)}get linearization(){let t=null;try{t=Linearization.create(this.stream)}catch(r){if(r instanceof MissingDataException)throw r;info(r)}return shadow(this,"linearization",t)}get startXRef(){const t=this.stream;let r=0;if(this.linearization)t.reset(),find(t,ENDOBJ_SIGNATURE)&&(r=t.pos+6-t.start);else{const s=STARTXREF_SIGNATURE.length;let o=!1,l=t.end;for(;!o&&l>0;)l-=1024-s,l<0&&(l=0),t.pos=l,o=find(t,STARTXREF_SIGNATURE,1024,!0);if(o){t.skip(9);let u;do u=t.getByte();while(isWhiteSpace(u));let d="";for(;u>=32&&u<=57;)d+=String.fromCharCode(u),u=t.getByte();r=parseInt(d,10),isNaN(r)&&(r=0)}}return shadow(this,"startXRef",r)}checkHeader(){const t=this.stream;if(t.reset(),!find(t,PDF_HEADER_SIGNATURE))return;t.moveStart(),t.skip(PDF_HEADER_SIGNATURE.length);let r="",a;for(;(a=t.getByte())>32&&r.length<7;)r+=String.fromCharCode(a);PDF_VERSION_REGEXP.test(r)?this._version=r:warn(`Invalid PDF header version: ${r}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let t=0;return this.catalog.hasActualNumPages?t=this.catalog.numPages:this.xfaFactory?t=this.xfaFactory.getNumPages():this.linearization?t=this.linearization.numPages:t=this.catalog.numPages,shadow(this,"numPages",t)}_hasOnlyDocumentSignatures(t,r=0){return Array.isArray(t)?t.every(s=>{if(s=this.xref.fetchIfRef(s),!(s instanceof Dict))return!1;if(s.has("Kids"))return++r>10?(warn("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(s.get("Kids"),r);const o=isName(s.get("FT"),"Sig"),l=s.get("Rect"),u=Array.isArray(l)&&l.every(d=>d===0);return o&&u}):!1}get _xfaStreams(){const t=this.catalog.acroForm;if(!t)return null;const r=t.get("XFA"),a={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(r instanceof BaseStream&&!r.isEmpty)return a["xdp:xdp"]=r,a;if(!Array.isArray(r)||r.length===0)return null;for(let s=0,o=r.length;s<o;s+=2){let l;if(s===0?l="xdp:xdp":s===o-2?l="/xdp:xdp":l=r[s],!a.hasOwnProperty(l))continue;const u=this.xref.fetchIfRef(r[s+1]);!(u instanceof BaseStream)||u.isEmpty||(a[l]=u)}return a}get xfaDatasets(){const t=this._xfaStreams;if(!t)return shadow(this,"xfaDatasets",null);for(const r of["datasets","xdp:xdp"]){const a=t[r];if(a)try{const s=stringToUTF8String(a.getString()),o={[r]:s};return shadow(this,"xfaDatasets",new DatasetReader(o))}catch{warn("XFA - Invalid utf-8 string.");break}}return shadow(this,"xfaDatasets",null)}get xfaData(){const t=this._xfaStreams;if(!t)return null;const r=Object.create(null);for(const[a,s]of Object.entries(t))if(s)try{r[a]=stringToUTF8String(s.getString())}catch{return warn("XFA - Invalid utf-8 string."),null}return r}get xfaFactory(){let t;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(t=this.xfaData),shadow(this,"xfaFactory",t?new XFAFactory(t):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const t=await this.pdfManager.ensureCatalog("xfaImages");if(!t)return;const r=t.getKeys();await new ObjectLoader(t,r,this.xref).load();const s=new Map;for(const o of r){const l=t.get(o);l instanceof BaseStream&&s.set(o,l.getBytes())}this.xfaFactory.setImages(s)}async loadXfaFonts(t,r){const a=await this.pdfManager.ensureCatalog("acroForm");if(!a)return;const s=await a.getAsync("DR");if(!(s instanceof Dict))return;await new ObjectLoader(s,["Font"],this.xref).load();const l=s.get("Font");if(!(l instanceof Dict))return;const u=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);u.useSystemFonts=!1;const d=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:u}),f=new OperatorList,g=[],x={get font(){return g.at(-1)},set font(w){g.push(w)},clone(){return this}},b=new Map;l.forEach((w,S)=>{b.set(w,S)});const m=[];for(const[w,S]of b){const C=S.get("FontDescriptor");if(!(C instanceof Dict))continue;let E=C.get("FontFamily");E=E.replaceAll(/[ ]+(\d)/g,"$1");const T=C.get("FontWeight"),_=-C.get("ItalicAngle"),R={fontFamily:E,fontWeight:T,italicAngle:_};validateCSSFont(R)&&m.push(d.handleSetFont(s,[Name.get(w),1],null,f,r,x,null,R).catch(function(U){return warn(`loadXfaFonts: "${U}".`),null}))}await Promise.all(m);const y=this.xfaFactory.setFonts(g);if(!y)return;u.ignoreErrors=!0,m.length=0,g.length=0;const v=new Set;for(const w of y)getXfaFontName(`${w}-Regular`)||v.add(w);v.size&&y.push("PdfJS-Fallback");for(const w of y)if(!v.has(w))for(const S of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const C=`${w}-${S.name}`,E=getXfaFontDict(C);m.push(d.handleSetFont(s,[Name.get(C),1],null,f,r,x,E,{fontFamily:w,fontWeight:S.fontWeight,italicAngle:S.italicAngle}).catch(function(T){return warn(`loadXfaFonts: "${T}".`),null}))}await Promise.all(m),this.xfaFactory.appendFonts(g,v)}async serializeXfaData(t){return this.xfaFactory?this.xfaFactory.serializeData(t):null}get version(){return this.catalog.version||this._version}get formInfo(){const t={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},r=this.catalog.acroForm;if(!r)return shadow(this,"formInfo",t);try{const a=r.get("Fields"),s=Array.isArray(a)&&a.length>0;t.hasFields=s;const o=r.get("XFA");t.hasXfa=Array.isArray(o)&&o.length>0||o instanceof BaseStream&&!o.isEmpty;const u=!!(r.get("SigFlags")&1),d=u&&this._hasOnlyDocumentSignatures(a);t.hasAcroForm=s&&!d,t.hasSignatures=u}catch(a){if(a instanceof MissingDataException)throw a;warn(`Cannot fetch form information: "${a}".`)}return shadow(this,"formInfo",t)}get documentInfo(){const t={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let r;try{r=this.xref.trailer.get("Info")}catch(a){if(a instanceof MissingDataException)throw a;info("The document information dictionary is invalid.")}if(!(r instanceof Dict))return shadow(this,"documentInfo",t);for(const a of r.getKeys()){const s=r.get(a);switch(a){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof s=="string"){t[a]=stringToPDFString(s);continue}break;case"Trapped":if(s instanceof Name){t[a]=s;continue}break;default:let o;switch(typeof s){case"string":o=stringToPDFString(s);break;case"number":case"boolean":o=s;break;default:s instanceof Name&&(o=s);break}if(o===void 0){warn(`Bad value, for custom key "${a}", in Info: ${s}.`);continue}t.Custom||(t.Custom=Object.create(null)),t.Custom[a]=o;continue}warn(`Bad value, for key "${a}", in Info: ${s}.`)}return shadow(this,"documentInfo",t)}get fingerprints(){function t(l){return typeof l=="string"&&l.length>0&&l!==EMPTY_FINGERPRINT}function r(l){const u=[];for(const d of l){const f=d.toString(16);u.push(f.padStart(2,"0"))}return u.join("")}const a=this.xref.trailer.get("ID");let s,o;return Array.isArray(a)&&t(a[0])?(s=stringToBytes(a[0]),a[1]!==a[0]&&t(a[1])&&(o=stringToBytes(a[1]))):s=calculateMD5(this.stream.getByteRange(0,FINGERPRINT_FIRST_BYTES),0,FINGERPRINT_FIRST_BYTES),shadow(this,"fingerprints",[r(s),o?r(o):null])}async _getLinearizationPage(t){const{catalog:r,linearization:a,xref:s}=this,o=Ref.get(a.objectNumberFirst,0);try{const l=await s.fetchAsync(o);if(l instanceof Dict){let u=l.getRaw("Type");if(u instanceof Ref&&(u=await s.fetchAsync(u)),isName(u,"Page")||!l.has("Type")&&!l.has("Kids"))return r.pageKidsCountCache.has(o)||r.pageKidsCountCache.put(o,1),r.pageIndexCache.has(o)||r.pageIndexCache.put(o,0),[l,o]}throw new FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(l){return warn(`_getLinearizationPage: "${l.message}".`),r.getPageDict(t)}}getPage(t){const r=this._pagePromises.get(t);if(r)return r;const{catalog:a,linearization:s,xfaFactory:o}=this;let l;return o?l=Promise.resolve([Dict.empty,null]):s?.pageFirst===t?l=this._getLinearizationPage(t):l=a.getPageDict(t),l=l.then(([u,d])=>new Page({pdfManager:this.pdfManager,xref:this.xref,pageIndex:t,pageDict:u,ref:d,globalIdFactory:this._globalIdFactory,fontCache:a.fontCache,builtInCMapCache:a.builtInCMapCache,standardFontDataCache:a.standardFontDataCache,globalImageCache:a.globalImageCache,systemFontCache:a.systemFontCache,nonBlendModesSet:a.nonBlendModesSet,xfaFactory:o})),this._pagePromises.set(t,l),l}async checkFirstPage(t=!1){if(!t)try{await this.getPage(0)}catch(r){if(r instanceof XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new XRefParseException}}async checkLastPage(t=!1){const{catalog:r,pdfManager:a}=this;r.setActualNumPages();let s;try{if(await Promise.all([a.ensureDoc("xfaFactory"),a.ensureDoc("linearization"),a.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?s=this.linearization.numPages:s=r.numPages,Number.isInteger(s)){if(s<=1)return}else throw new FormatError("Page count is not an integer.");await this.getPage(s-1)}catch(o){if(this._pagePromises.delete(s-1),await this.cleanup(),o instanceof XRefEntryException&&!t)throw new XRefParseException;warn(`checkLastPage - invalid /Pages tree /Count: ${s}.`);let l;try{l=await r.getAllPageDicts(t)}catch(u){if(u instanceof XRefEntryException&&!t)throw new XRefParseException;r.setActualNumPages(1);return}for(const[u,[d,f]]of l){let g;d instanceof Error?(g=Promise.reject(d),g.catch(()=>{})):g=Promise.resolve(new Page({pdfManager:a,xref:this.xref,pageIndex:u,pageDict:d,ref:f,globalIdFactory:this._globalIdFactory,fontCache:r.fontCache,builtInCMapCache:r.builtInCMapCache,standardFontDataCache:r.standardFontDataCache,globalImageCache:r.globalImageCache,systemFontCache:r.systemFontCache,nonBlendModesSet:r.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(u,g)}r.setActualNumPages(l.size)}}fontFallback(t,r){return this.catalog.fontFallback(t,r)}async cleanup(t=!1){return this.catalog?this.catalog.cleanup(t):clearGlobalCaches()}async#e(t,r,a,s,o){const{xref:l}=this;if(!(r instanceof Ref)||o.has(r))return;o.put(r);const u=await l.fetchAsync(r);if(!(u instanceof Dict))return;if(u.has("T")){const f=stringToPDFString(await u.getAsync("T"));t=t===""?f:`${t}.${f}`}else{let f=u;for(;;){if(f=f.getRaw("Parent"),f instanceof Ref){if(o.has(f))break;f=await l.fetchAsync(f)}if(!(f instanceof Dict))break;if(f.has("T")){const g=stringToPDFString(await f.getAsync("T"));t=t===""?g:`${t}.${g}`;break}}}if(a.has(t)||a.set(t,[]),a.get(t).push(AnnotationFactory.create(l,r,s,null,!0,null).then(f=>f?.getFieldObject()).catch(function(f){return warn(`#collectFieldObjects: "${f}".`),null})),!u.has("Kids"))return;const d=await u.getAsync("Kids");if(Array.isArray(d))for(const f of d)await this.#e(t,f,a,s,o)}get fieldObjects(){if(!this.formInfo.hasFields)return shadow(this,"fieldObjects",Promise.resolve(null));const t=Promise.all([this.pdfManager.ensureDoc("annotationGlobals"),this.pdfManager.ensureCatalog("acroForm")]).then(async([r,a])=>{if(!r)return null;const s=new RefSet,o=Object.create(null),l=new Map;for(const d of await a.getAsync("Fields"))await this.#e("",d,l,r,s);const u=[];for(const[d,f]of l)u.push(Promise.all(f).then(g=>{g=g.filter(x=>!!x),g.length>0&&(o[d]=g)}));return await Promise.all(u),o});return shadow(this,"fieldObjects",t)}get hasJSActions(){const t=this.pdfManager.ensureDoc("_parseHasJSActions");return shadow(this,"hasJSActions",t)}async _parseHasJSActions(){const[t,r]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return t?!0:r?Object.values(r).some(a=>a.some(s=>s.actions!==null)):!1}get calculationOrderIds(){const t=this.catalog.acroForm;if(!t?.has("CO"))return shadow(this,"calculationOrderIds",null);const r=t.get("CO");if(!Array.isArray(r)||r.length===0)return shadow(this,"calculationOrderIds",null);const a=[];for(const s of r)s instanceof Ref&&a.push(s.toString());return a.length===0?shadow(this,"calculationOrderIds",null):shadow(this,"calculationOrderIds",a)}get annotationGlobals(){return shadow(this,"annotationGlobals",AnnotationFactory.createGlobals(this.pdfManager))}};function parseDocBaseUrl(n){if(n){const t=createValidAbsoluteUrl(n);if(t)return t.href;warn(`Invalid absolute docBaseUrl: "${n}".`)}return null}class BasePdfManager{constructor(t){this.constructor===BasePdfManager&&unreachable("Cannot initialize BasePdfManager."),this._docBaseUrl=parseDocBaseUrl(t.docBaseUrl),this._docId=t.docId,this._password=t.password,this.enableXfa=t.enableXfa,t.evaluatorOptions.isOffscreenCanvasSupported&&=FeatureTest.isOffscreenCanvasSupported,this.evaluatorOptions=t.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(t,r){return this.ensure(this.pdfDocument,t,r)}ensureXRef(t,r){return this.ensure(this.pdfDocument.xref,t,r)}ensureCatalog(t,r){return this.ensure(this.pdfDocument.catalog,t,r)}getPage(t){return this.pdfDocument.getPage(t)}fontFallback(t,r){return this.pdfDocument.fontFallback(t,r)}loadXfaFonts(t,r){return this.pdfDocument.loadXfaFonts(t,r)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(t){return this.pdfDocument.serializeXfaData(t)}cleanup(t=!1){return this.pdfDocument.cleanup(t)}async ensure(t,r,a){unreachable("Abstract method `ensure` called")}requestRange(t,r){unreachable("Abstract method `requestRange` called")}requestLoadedStream(t=!1){unreachable("Abstract method `requestLoadedStream` called")}sendProgressiveData(t){unreachable("Abstract method `sendProgressiveData` called")}updatePassword(t){this._password=t}terminate(t){unreachable("Abstract method `terminate` called")}}class LocalPdfManager extends BasePdfManager{constructor(t){super(t);const r=new Stream$1(t.source);this.pdfDocument=new PDFDocument$1(this,r),this._loadedStreamPromise=Promise.resolve(r)}async ensure(t,r,a){const s=t[r];return typeof s=="function"?s.apply(t,a):s}requestRange(t,r){return Promise.resolve()}requestLoadedStream(t=!1){return this._loadedStreamPromise}terminate(t){}}class NetworkPdfManager extends BasePdfManager{constructor(t){super(t),this.streamManager=new ChunkedStreamManager(t.source,{msgHandler:t.handler,length:t.length,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize}),this.pdfDocument=new PDFDocument$1(this,this.streamManager.getStream())}async ensure(t,r,a){try{const s=t[r];return typeof s=="function"?s.apply(t,a):s}catch(s){if(!(s instanceof MissingDataException))throw s;return await this.requestRange(s.begin,s.end),this.ensure(t,r,a)}}requestRange(t,r){return this.streamManager.requestRange(t,r)}requestLoadedStream(t=!1){return this.streamManager.requestAllChunks(t)}sendProgressiveData(t){this.streamManager.onReceiveData({chunk:t})}terminate(t){this.streamManager.abort(t)}}const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(n){switch(n instanceof Error||typeof n=="object"&&n!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new AbortException(n.message);case"MissingPDFException":return new MissingPDFException(n.message);case"PasswordException":return new PasswordException(n.message,n.code);case"UnexpectedResponseException":return new UnexpectedResponseException(n.message,n.status);case"UnknownErrorException":return new UnknownErrorException(n.message,n.details);default:return new UnknownErrorException(n.message,n.toString())}}class MessageHandler{constructor(t,r,a){this.sourceName=t,this.targetName=r,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const o=s.data;if(o.targetName!==this.sourceName)return;if(o.stream){this.#t(o);return}if(o.callback){const u=o.callbackId,d=this.callbackCapabilities[u];if(!d)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],o.callback===CallbackKind.DATA)d.resolve(o.data);else if(o.callback===CallbackKind.ERROR)d.reject(wrapReason(o.reason));else throw new Error("Unexpected callback case");return}const l=this.actionHandler[o.action];if(!l)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const u=this.sourceName,d=o.sourceName;new Promise(function(f){f(l(o.data))}).then(function(f){a.postMessage({sourceName:u,targetName:d,callback:CallbackKind.DATA,callbackId:o.callbackId,data:f})},function(f){a.postMessage({sourceName:u,targetName:d,callback:CallbackKind.ERROR,callbackId:o.callbackId,reason:wrapReason(f)})});return}if(o.streamId){this.#e(o);return}l(o.data)},a.addEventListener("message",this._onComObjOnMessage)}on(t,r){const a=this.actionHandler;if(a[t])throw new Error(`There is already an actionName called "${t}"`);a[t]=r}send(t,r,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:r},a)}sendWithPromise(t,r,a){const s=this.callbackId++,o=new PromiseCapability;this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:r},a)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,r,a,s){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const g=new PromiseCapability;return this.streamControllers[o]={controller:f,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:r,desiredSize:f.desiredSize},s),g.promise},pull:f=>{const g=new PromiseCapability;return this.streamControllers[o].pullCall=g,d.postMessage({sourceName:l,targetName:u,stream:StreamKind.PULL,streamId:o,desiredSize:f.desiredSize}),g.promise},cancel:f=>{assert(f instanceof Error,"cancel must have a valid reason");const g=new PromiseCapability;return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:StreamKind.CANCEL,streamId:o,reason:wrapReason(f)}),g.promise}},a)}#e(t){const r=t.streamId,a=this.sourceName,s=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,g=1,x){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=new PromiseCapability,this.ready=this.sinkCapability.promise),o.postMessage({sourceName:a,targetName:s,stream:StreamKind.ENQUEUE,streamId:r,chunk:f},x)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:s,stream:StreamKind.CLOSE,streamId:r}),delete l.streamSinks[r])},error(f){assert(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:a,targetName:s,stream:StreamKind.ERROR,streamId:r,reason:wrapReason(f)}))},sinkCapability:new PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[r]=d,new Promise(function(f){f(u(t.data,d))}).then(function(){o.postMessage({sourceName:a,targetName:s,stream:StreamKind.START_COMPLETE,streamId:r,success:!0})},function(f){o.postMessage({sourceName:a,targetName:s,stream:StreamKind.START_COMPLETE,streamId:r,reason:wrapReason(f)})})}#t(t){const r=t.streamId,a=this.sourceName,s=t.sourceName,o=this.comObj,l=this.streamControllers[r],u=this.streamSinks[r];switch(t.stream){case StreamKind.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(wrapReason(t.reason));break;case StreamKind.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(wrapReason(t.reason));break;case StreamKind.PULL:if(!u){o.postMessage({sourceName:a,targetName:s,stream:StreamKind.PULL_COMPLETE,streamId:r,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,new Promise(function(d){d(u.onPull?.())}).then(function(){o.postMessage({sourceName:a,targetName:s,stream:StreamKind.PULL_COMPLETE,streamId:r,success:!0})},function(d){o.postMessage({sourceName:a,targetName:s,stream:StreamKind.PULL_COMPLETE,streamId:r,reason:wrapReason(d)})});break;case StreamKind.ENQUEUE:if(assert(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case StreamKind.CLOSE:if(assert(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#n(l,r);break;case StreamKind.ERROR:assert(l,"error should have stream controller"),l.controller.error(wrapReason(t.reason)),this.#n(l,r);break;case StreamKind.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(wrapReason(t.reason)),this.#n(l,r);break;case StreamKind.CANCEL:if(!u)break;new Promise(function(d){d(u.onCancel?.(wrapReason(t.reason)))}).then(function(){o.postMessage({sourceName:a,targetName:s,stream:StreamKind.CANCEL_COMPLETE,streamId:r,success:!0})},function(d){o.postMessage({sourceName:a,targetName:s,stream:StreamKind.CANCEL_COMPLETE,streamId:r,reason:wrapReason(d)})}),u.sinkCapability.reject(wrapReason(t.reason)),u.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}async#n(t,r){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[r]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class PDFWorkerStream{constructor(t){this._msgHandler=t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return assert(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new PDFWorkerStreamReader(this._msgHandler),this._fullRequestReader}getRangeReader(t,r){const a=new PDFWorkerStreamRangeReader(t,r,this._msgHandler);return this._rangeRequestReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const r of this._rangeRequestReaders.slice(0))r.cancel(t)}}class PDFWorkerStreamReader{constructor(t){this._msgHandler=t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const r=this._msgHandler.sendWithStream("GetReader");this._reader=r.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(a=>{this._isStreamingSupported=a.isStreamingSupported,this._isRangeSupported=a.isRangeSupported,this._contentLength=a.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:t,done:r}=await this._reader.read();return r?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}class PDFWorkerStreamRangeReader{constructor(t,r,a){this._msgHandler=a,this.onProgress=null;const s=this._msgHandler.sendWithStream("GetRangeReader",{begin:t,end:r});this._reader=s.getReader()}get isStreamingSupported(){return!1}async read(){const{value:t,done:r}=await this._reader.read();return r?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}class WorkerTask{constructor(t){this.name=t,this.terminated=!1,this._capability=new PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}class WorkerMessageHandler{static setup(t,r){let a=!1;t.on("test",function(s){a||(a=!0,t.send("test",s instanceof Uint8Array))}),t.on("configure",function(s){setVerbosityLevel(s.verbosity)}),t.on("GetDocRequest",function(s){return WorkerMessageHandler.createDocumentHandler(s,r)})}static createDocumentHandler(t,r){let a,s=!1,o=null;const l=new Set,u=getVerbosityLevel(),{docId:d,apiVersion:f}=t,g="4.0.269";if(f!==g)throw new Error(`The API version "${f}" does not match the Worker version "${g}".`);const x=[];for(const T in[])x.push(T);if(x.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+x.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const b=d+"_worker";let m=new MessageHandler(b,d,r);function y(){if(s)throw new Error("Worker was terminated")}function v(T){l.add(T)}function w(T){T.finish(),l.delete(T)}async function S(T){await a.ensureDoc("checkHeader"),await a.ensureDoc("parseStartXRef"),await a.ensureDoc("parse",[T]),await a.ensureDoc("checkFirstPage",[T]),await a.ensureDoc("checkLastPage",[T]);const _=await a.ensureDoc("isPureXfa");if(_){const X=new WorkerTask("loadXfaFonts");v(X),await Promise.all([a.loadXfaFonts(m,X).catch(W=>{}).then(()=>w(X)),a.loadXfaImages()])}const[R,U]=await Promise.all([a.ensureDoc("numPages"),a.ensureDoc("fingerprints")]),z=_?await a.ensureDoc("htmlForXfa"):null;return{numPages:R,fingerprints:U,htmlForXfa:z}}function C({data:T,password:_,disableAutoFetch:R,rangeChunkSize:U,length:z,docBaseUrl:X,enableXfa:W,evaluatorOptions:Y}){const se={source:null,disableAutoFetch:R,docBaseUrl:X,docId:d,enableXfa:W,evaluatorOptions:Y,handler:m,length:z,password:_,rangeChunkSize:U},oe=new PromiseCapability;let ue;if(T){try{se.source=T,ue=new LocalPdfManager(se),oe.resolve(ue)}catch(Ae){oe.reject(Ae)}return oe.promise}let Z,te=[];try{Z=new PDFWorkerStream(m)}catch(Ae){return oe.reject(Ae),oe.promise}const he=Z.getFullReader();he.headersReady.then(function(){if(he.isRangeSupported){se.source=Z,se.length=he.contentLength,se.disableAutoFetch||=he.isStreamingSupported,ue=new NetworkPdfManager(se);for(const Ae of te)ue.sendProgressiveData(Ae);te=[],oe.resolve(ue),o=null}}).catch(function(Ae){oe.reject(Ae),o=null});let xe=0;const ye=function(){const Ae=arrayBuffersToBytes(te);z&&Ae.length!==z&&warn("reported HTTP length is different from actual");try{se.source=Ae,ue=new LocalPdfManager(se),oe.resolve(ue)}catch(we){oe.reject(we)}te=[]};return new Promise(function(Ae,we){const pe=function({value:Te,done:ge}){try{if(y(),ge){ue||ye(),o=null;return}xe+=Te.byteLength,he.isStreamingSupported||m.send("DocProgress",{loaded:xe,total:Math.max(xe,he.contentLength||0)}),ue?ue.sendProgressiveData(Te):te.push(Te),he.read().then(pe,we)}catch(de){we(de)}};he.read().then(pe,we)}).catch(function(Ae){oe.reject(Ae),o=null}),o=function(Ae){Z.cancelAllRequests(Ae)},oe.promise}function E(T){function _(z){y(),m.send("GetDoc",{pdfInfo:z})}function R(z){if(y(),z instanceof PasswordException){const X=new WorkerTask(`PasswordException: response ${z.code}`);v(X),m.sendWithPromise("PasswordRequest",z).then(function({password:W}){w(X),a.updatePassword(W),U()}).catch(function(){w(X),m.send("DocException",z)})}else z instanceof InvalidPDFException||z instanceof MissingPDFException||z instanceof UnexpectedResponseException||z instanceof UnknownErrorException?m.send("DocException",z):m.send("DocException",new UnknownErrorException(z.message,z.toString()))}function U(){y(),S(!1).then(_,function(z){if(y(),!(z instanceof XRefParseException)){R(z);return}a.requestLoadedStream().then(function(){y(),S(!0).then(_,R)})})}y(),C(T).then(function(z){if(s)throw z.terminate(new AbortException("Worker was terminated.")),new Error("Worker was terminated");a=z,a.requestLoadedStream(!0).then(X=>{m.send("DataLoaded",{length:X.bytes.byteLength})})}).then(U,R)}return m.on("GetPage",function(T){return a.getPage(T.pageIndex).then(function(_){return Promise.all([a.ensure(_,"rotate"),a.ensure(_,"ref"),a.ensure(_,"userUnit"),a.ensure(_,"view")]).then(function([R,U,z,X]){return{rotate:R,ref:U,userUnit:z,view:X}})})}),m.on("GetPageIndex",function(T){const _=Ref.get(T.num,T.gen);return a.ensureCatalog("getPageIndex",[_])}),m.on("GetDestinations",function(T){return a.ensureCatalog("destinations")}),m.on("GetDestination",function(T){return a.ensureCatalog("getDestination",[T.id])}),m.on("GetPageLabels",function(T){return a.ensureCatalog("pageLabels")}),m.on("GetPageLayout",function(T){return a.ensureCatalog("pageLayout")}),m.on("GetPageMode",function(T){return a.ensureCatalog("pageMode")}),m.on("GetViewerPreferences",function(T){return a.ensureCatalog("viewerPreferences")}),m.on("GetOpenAction",function(T){return a.ensureCatalog("openAction")}),m.on("GetAttachments",function(T){return a.ensureCatalog("attachments")}),m.on("GetDocJSActions",function(T){return a.ensureCatalog("jsActions")}),m.on("GetPageJSActions",function({pageIndex:T}){return a.getPage(T).then(function(_){return a.ensure(_,"jsActions")})}),m.on("GetOutline",function(T){return a.ensureCatalog("documentOutline")}),m.on("GetOptionalContentConfig",function(T){return a.ensureCatalog("optionalContentConfig")}),m.on("GetPermissions",function(T){return a.ensureCatalog("permissions")}),m.on("GetMetadata",function(T){return Promise.all([a.ensureDoc("documentInfo"),a.ensureCatalog("metadata")])}),m.on("GetMarkInfo",function(T){return a.ensureCatalog("markInfo")}),m.on("GetData",function(T){return a.requestLoadedStream().then(function(_){return _.bytes})}),m.on("GetAnnotations",function({pageIndex:T,intent:_}){return a.getPage(T).then(function(R){const U=new WorkerTask(`GetAnnotations: page ${T}`);return v(U),R.getAnnotationsData(m,U,_).then(z=>(w(U),z),z=>{throw w(U),z})})}),m.on("GetFieldObjects",function(T){return a.ensureDoc("fieldObjects")}),m.on("HasJSActions",function(T){return a.ensureDoc("hasJSActions")}),m.on("GetCalculationOrderIds",function(T){return a.ensureDoc("calculationOrderIds")}),m.on("SaveDocument",async function({isPureXfa:T,numPages:_,annotationStorage:R,filename:U}){const z=[a.requestLoadedStream(),a.ensureCatalog("acroForm"),a.ensureCatalog("acroFormRef"),a.ensureDoc("startXRef"),a.ensureDoc("xref"),a.ensureDoc("linearization"),a.ensureCatalog("structTreeRoot")],X=[],W=T?null:getNewAnnotationsMap(R),[Y,se,oe,ue,Z,te,he]=await Promise.all(z),xe=Z.trailer.getRaw("Root")||null;let ye;if(W){he?await he.canUpdateStructTree({pdfManager:a,xref:Z,newAnnotationsByPage:W})&&(ye=he):await StructTreeRoot.canCreateStructureTree({catalogRef:xe,pdfManager:a,newAnnotationsByPage:W})&&(ye=null);const j=AnnotationFactory.generateImages(R.values(),Z,a.evaluatorOptions.isOffscreenCanvasSupported),k=ye===void 0?X:[];for(const[F,O]of W)k.push(a.getPage(F).then(D=>{const N=new WorkerTask(`Save (editor): page ${F}`);return D.saveNewAnnotations(m,N,O,j).finally(function(){w(N)})}));ye===null?X.push(Promise.all(k).then(async F=>(await StructTreeRoot.createStructureTree({newAnnotationsByPage:W,xref:Z,catalogRef:xe,pdfManager:a,newRefs:F}),F))):ye&&X.push(Promise.all(k).then(async F=>(await ye.updateStructureTree({newAnnotationsByPage:W,pdfManager:a,newRefs:F}),F)))}if(T)X.push(a.serializeXfaData(R));else for(let j=0;j<_;j++)X.push(a.getPage(j).then(function(k){const F=new WorkerTask(`Save: page ${j}`);return k.save(m,F,R).finally(function(){w(F)})}));const Ae=await Promise.all(X);let we=[],pe=null;if(T){if(pe=Ae[0],!pe)return Y.bytes}else if(we=Ae.flat(2),we.length===0)return Y.bytes;const Te=oe&&se instanceof Dict&&we.some(j=>j.needAppearances),ge=se instanceof Dict&&se.get("XFA")||null;let de=null,ce=!1;if(Array.isArray(ge)){for(let j=0,k=ge.length;j<k;j+=2)ge[j]==="datasets"&&(de=ge[j+1],ce=!0);de===null&&(de=Z.getNewTemporaryRef())}else ge&&warn("Unsupported XFA type.");let M=Object.create(null);if(Z.trailer){const j=Object.create(null),k=Z.trailer.get("Info")||null;k instanceof Dict&&k.forEach((F,O)=>{typeof O=="string"&&(j[F]=stringToPDFString(O))}),M={rootRef:xe,encryptRef:Z.trailer.getRaw("Encrypt")||null,newRef:Z.getNewTemporaryRef(),infoRef:Z.trailer.getRaw("Info")||null,info:j,fileIds:Z.trailer.get("ID")||null,startXRef:te?ue:Z.lastXRefStreamPos??ue,filename:U}}return incrementalUpdate({originalData:Y.bytes,xrefInfo:M,newRefs:we,xref:Z,hasXfa:!!ge,xfaDatasetsRef:de,hasXfaDatasetsEntry:ce,needAppearances:Te,acroFormRef:oe,acroForm:se,xfaData:pe}).finally(()=>{Z.resetNewTemporaryRef()})}),m.on("GetOperatorList",function(T,_){const R=T.pageIndex;a.getPage(R).then(function(U){const z=new WorkerTask(`GetOperatorList: page ${R}`);v(z);const X=u>=VerbosityLevel.INFOS?Date.now():0;U.getOperatorList({handler:m,sink:_,task:z,intent:T.intent,cacheKey:T.cacheKey,annotationStorage:T.annotationStorage}).then(function(W){w(z),X&&info(`page=${R+1} - getOperatorList: time=${Date.now()-X}ms, len=${W.length}`),_.close()},function(W){w(z),!z.terminated&&_.error(W)})})}),m.on("GetTextContent",function(T,_){const{pageIndex:R,includeMarkedContent:U,disableNormalization:z}=T;a.getPage(R).then(function(X){const W=new WorkerTask("GetTextContent: page "+R);v(W);const Y=u>=VerbosityLevel.INFOS?Date.now():0;X.extractTextContent({handler:m,task:W,sink:_,includeMarkedContent:U,disableNormalization:z}).then(function(){w(W),Y&&info(`page=${R+1} - getTextContent: time=${Date.now()-Y}ms`),_.close()},function(se){w(W),!W.terminated&&_.error(se)})})}),m.on("GetStructTree",function(T){return a.getPage(T.pageIndex).then(function(_){return a.ensure(_,"getStructTree")})}),m.on("FontFallback",function(T){return a.fontFallback(T.id,m)}),m.on("Cleanup",function(T){return a.cleanup(!0)}),m.on("Terminate",function(T){s=!0;const _=[];if(a){a.terminate(new AbortException("Worker was terminated."));const R=a.cleanup();_.push(R),a=null}else clearGlobalCaches();o&&o(new AbortException("Worker was terminated."));for(const R of l)_.push(R.finished),R.terminate();return Promise.all(_).then(function(){m.destroy(),m=null})}),m.on("Ready",function(T){E(t),t=null}),b}static initializeFromPort(t){const r=new MessageHandler("worker","main",t);WorkerMessageHandler.setup(r,t),r.send("ready",null)}}function isMessagePort(n){return typeof n.postMessage=="function"&&"onmessage"in n}typeof window>"u"&&!isNodeJS&&typeof self<"u"&&isMessagePort(self)&&WorkerMessageHandler.initializeFromPort(self);var __webpack_exports__WorkerMessageHandler=__webpack_exports__.WorkerMessageHandler;const pdfWorker=Object.freeze(Object.defineProperty({__proto__:null,WorkerMessageHandler:__webpack_exports__WorkerMessageHandler},Symbol.toStringTag,{value:"Module"}));function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fileToArrayBuffer=function(t){return new Promise(function(r,a){const s=new FileReader;s.onerror=function(l){a(l.target.error)},s.onload=function(l){r(l.target.result)},s.readAsArrayBuffer(t)})};const fileToArrayBuffer$1=getDefaultExportFromCjs(fileToArrayBuffer);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(n,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)a.hasOwnProperty(s)&&(r[s]=a[s])},extendStatics(n,t)};function __extends(n,t){extendStatics(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign.apply(this,arguments)};function __rest(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(r[a[s]]=n[a[s]]);return r}function __awaiter(n,t,r,a){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(g){try{f(a.next(g))}catch(x){l(x)}}function d(g){try{f(a.throw(g))}catch(x){l(x)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((a=a.apply(n,t||[])).next())})}function __generator(n,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(g){return d([f,g])}}function d(f){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(n,r)}catch(g){f=[6,g],s=0}finally{a=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function __spreadArrays(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var a=Array(n),s=0,t=0;t<r;t++)for(var o=arguments[t],l=0,u=o.length;l<u;l++,s++)a[s]=o[l];return a}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=new Uint8Array(256);for(var i$2=0;i$2<chars$1.length;i$2++)lookup$2[chars$1.charCodeAt(i$2)]=i$2;var encodeToBase64=function(n){for(var t="",r=n.length,a=0;a<r;a+=3)t+=chars$1[n[a]>>2],t+=chars$1[(n[a]&3)<<4|n[a+1]>>4],t+=chars$1[(n[a+1]&15)<<2|n[a+2]>>6],t+=chars$1[n[a+2]&63];return r%3===2?t=t.substring(0,t.length-1)+"=":r%3===1&&(t=t.substring(0,t.length-2)+"=="),t},decodeFromBase64$1=function(n){var t=n.length*.75,r=n.length,a,s=0,o,l,u,d;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var f=new Uint8Array(t);for(a=0;a<r;a+=4)o=lookup$2[n.charCodeAt(a)],l=lookup$2[n.charCodeAt(a+1)],u=lookup$2[n.charCodeAt(a+2)],d=lookup$2[n.charCodeAt(a+3)],f[s++]=o<<2|l>>4,f[s++]=(l&15)<<4|u>>2,f[s++]=(u&3)<<6|d&63;return f},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(n){var t=n.trim(),r=t.substring(0,100),a=r.match(DATA_URI_PREFIX_REGEX);if(!a)return decodeFromBase64$1(t);var s=a[0],o=t.substring(s.length);return decodeFromBase64$1(o)},toCharCode=function(n){return n.charCodeAt(0)},toCodePoint=function(n){return n.codePointAt(0)},toHexStringOfMinLength=function(n,t){return padStart$1(n.toString(16),t,"0").toUpperCase()},toHexString=function(n){return toHexStringOfMinLength(n,2)},charFromCode=function(n){return String.fromCharCode(n)},charFromHexCode=function(n){return charFromCode(parseInt(n,16))},padStart$1=function(n,t,r){for(var a="",s=0,o=t-n.length;s<o;s++)a+=r;return a+n},copyStringIntoBuffer=function(n,t,r){for(var a=n.length,s=0;s<a;s++)t[r++]=n.charCodeAt(s);return a},escapeRegExp=function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(n){return n.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(n){return/^[\n\f\r\u000B]$/.test(n)},lineSplit=function(n){return n.split(/[\n\f\r\u000B]/)},mergeLines=function(n){return n.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(n,t){var r=n.charCodeAt(t),a,s=t+1,o=1;return r>=55296&&r<=56319&&n.length>s&&(a=n.charCodeAt(s),a>=56320&&a<=57343&&(o=2)),[n.slice(t,t+o),o]},charSplit=function(n){for(var t=[],r=0,a=n.length;r<a;){var s=charAtIndex(n,r),o=s[0],l=s[1];t.push(o),r+=l}return t},buildWordBreakRegex=function(n){for(var t=escapedNewlineChars.join("|"),r=["$"],a=0,s=n.length;a<s;a++){var o=n[a];if(isNewlineChar(o))throw new TypeError("`wordBreak` must not include "+t);r.push(o===""?".":escapeRegExp(o))}var l=r.join("|");return new RegExp("("+t+")|((.*?)("+l+"))","gm")},breakTextIntoLines=function(n,t,r,a){for(var s=buildWordBreakRegex(t),o=cleanText(n).match(s),l="",u=0,d=[],f=function(){l!==""&&d.push(l),l="",u=0},g=0,x=o.length;g<x;g++){var b=o[g];if(isNewlineChar(b))f();else{var m=a(b);u+m>r&&f(),l+=b,u+=m}}return f(),d},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(n){var t=n.match(dateRegex);if(t){var r=t[1],a=t[2],s=a===void 0?"01":a,o=t[3],l=o===void 0?"01":o,u=t[4],d=u===void 0?"00":u,f=t[5],g=f===void 0?"00":f,x=t[6],b=x===void 0?"00":x,m=t[7],y=m===void 0?"Z":m,v=t[8],w=v===void 0?"00":v,S=t[9],C=S===void 0?"00":S,E=y==="Z"?"Z":""+y+w+":"+C,T=new Date(r+"-"+s+"-"+l+"T"+d+":"+g+":"+b+E);return T}},findLastMatch=function(n,t){for(var r,a=0,s;a<n.length;){var o=n.substring(a).match(t);if(!o)return{match:s,pos:a};s=o,a+=((r=o.index)!==null&&r!==void 0?r:0)+o[0].length}return{match:s,pos:a}},last=function(n){return n[n.length-1]},typedArrayFor=function(n){if(n instanceof Uint8Array)return n;for(var t=n.length,r=new Uint8Array(t),a=0;a<t;a++)r[a]=n.charCodeAt(a);return r},mergeIntoTypedArray=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=n.length,a=[],s=0;s<r;s++){var o=n[s];a[s]=o instanceof Uint8Array?o:typedArrayFor(o)}for(var l=0,s=0;s<r;s++)l+=n[s].length;for(var u=new Uint8Array(l),d=0,f=0;f<r;f++)for(var g=a[f],x=0,b=g.length;x<b;x++)u[d++]=g[x];return u},mergeUint8Arrays=function(n){for(var t=0,r=0,a=n.length;r<a;r++)t+=n[r].length;for(var s=new Uint8Array(t),o=0,r=0,a=n.length;r<a;r++){var l=n[r];s.set(l,o),o+=l.length}return s},arrayAsString=function(n){for(var t="",r=0,a=n.length;r<a;r++)t+=charFromCode(n[r]);return t},byAscendingId=function(n,t){return n.id-t.id},sortedUniq=function(n,t){for(var r=[],a=0,s=n.length;a<s;a++){var o=n[a],l=n[a-1];(a===0||t(o)!==t(l))&&r.push(o)}return r},reverseArray=function(n){for(var t=n.length,r=0,a=Math.floor(t/2);r<a;r++){var s=r,o=t-r-1,l=n[r];n[s]=n[o],n[o]=l}return n},sum=function(n){for(var t=0,r=0,a=n.length;r<a;r++)t+=n[r];return t},range=function(n,t){for(var r=new Array(t-n),a=0,s=r.length;a<s;a++)r[a]=n+a;return r},pluckIndices=function(n,t){for(var r=new Array(t.length),a=0,s=t.length;a<s;a++)r[a]=n[t[a]];return r},canBeConvertedToUint8Array=function(n){return n instanceof Uint8Array||n instanceof ArrayBuffer||typeof n=="string"},toUint8Array=function(n){if(typeof n=="string")return decodeFromBase64DataUri(n);if(n instanceof ArrayBuffer)return new Uint8Array(n);if(n instanceof Uint8Array)return n;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(n){setTimeout(function(){return n()},0)})},utf16Encode=function(n,t){t===void 0&&(t=!0);var r=[];t&&r.push(65279);for(var a=0,s=n.length;a<s;){var o=n.codePointAt(a);if(o<65536)r.push(o),a+=1;else if(o<1114112)r.push(highSurrogate(o),lowSurrogate(o)),a+=2;else throw new Error("Invalid code point: 0x"+toHexString(o))}return new Uint16Array(r)},isWithinBMP=function(n){return n>=0&&n<=65535},hasSurrogates=function(n){return n>=65536&&n<=1114111},highSurrogate=function(n){return Math.floor((n-65536)/1024)+55296},lowSurrogate=function(n){return(n-65536)%1024+56320},ByteOrder;(function(n){n.BigEndian="BigEndian",n.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="�".codePointAt(0),utf16Decode=function(n,t){if(t===void 0&&(t=!0),n.length<=1)return String.fromCodePoint(REPLACEMENT);for(var r=t?readBOM(n):ByteOrder.BigEndian,a=t?2:0,s=[];n.length-a>=2;){var o=decodeValues(n[a++],n[a++],r);if(isHighSurrogate(o))if(n.length-a<2)s.push(REPLACEMENT);else{var l=decodeValues(n[a++],n[a++],r);isLowSurrogate(l)?s.push(o,l):s.push(REPLACEMENT)}else isLowSurrogate(o)?(a+=2,s.push(REPLACEMENT)):s.push(o)}return a<n.length&&s.push(REPLACEMENT),String.fromCodePoint.apply(String,s)},isHighSurrogate=function(n){return n>=55296&&n<=56319},isLowSurrogate=function(n){return n>=56320&&n<=57343},decodeValues=function(n,t,r){if(r===ByteOrder.LittleEndian)return t<<8|n;if(r===ByteOrder.BigEndian)return n<<8|t;throw new Error("Invalid byteOrder: "+r)},readBOM=function(n){return hasUtf16BigEndianBOM(n)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(n)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(n){return n[0]===254&&n[1]===255},hasUtf16LittleEndianBOM=function(n){return n[0]===255&&n[1]===254},hasUtf16BOM=function(n){return hasUtf16BigEndianBOM(n)||hasUtf16LittleEndianBOM(n)},numberToString=function(n){var t=String(n);if(Math.abs(n)<1){var r=parseInt(n.toString().split("e-")[1]);if(r){var a=n<0;a&&(n*=-1),n*=Math.pow(10,r-1),t="0."+new Array(r).join("0")+n.toString().substring(2),a&&(t="-"+t)}}else{var r=parseInt(n.toString().split("+")[1]);r>20&&(r-=20,n/=Math.pow(10,r),t=n.toString()+new Array(r+1).join("0"))}return t},sizeInBytes=function(n){return Math.ceil(n.toString(2).length/8)},bytesFor=function(n){for(var t=new Uint8Array(sizeInBytes(n)),r=1;r<=t.length;r++)t[r-1]=n>>(t.length-r)*8;return t},error=function(n){throw new Error(n)},common={};(function(n){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(o,l){return Object.prototype.hasOwnProperty.call(o,l)}n.assign=function(o){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)r(u,d)&&(o[d]=u[d])}}return o},n.shrinkBuf=function(o,l){return o.length===l?o:o.subarray?o.subarray(0,l):(o.length=l,o)};var a={arraySet:function(o,l,u,d,f){if(l.subarray&&o.subarray){o.set(l.subarray(u,u+d),f);return}for(var g=0;g<d;g++)o[f+g]=l[u+g]},flattenChunks:function(o){var l,u,d,f,g,x;for(d=0,l=0,u=o.length;l<u;l++)d+=o[l].length;for(x=new Uint8Array(d),f=0,l=0,u=o.length;l<u;l++)g=o[l],x.set(g,f),f+=g.length;return x}},s={arraySet:function(o,l,u,d,f){for(var g=0;g<d;g++)o[f+g]=l[u+g]},flattenChunks:function(o){return[].concat.apply([],o)}};n.setTyped=function(o){o?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(t)})(common);var deflate$4={},deflate$3={},trees$1={},utils$6=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(n){for(var t=n.length;--t>=0;)n[t]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(n,t,r,a,s){this.static_tree=n,this.extra_bits=t,this.extra_base=r,this.elems=a,this.max_length=s,this.has_stree=n&&n.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(n,t){this.dyn_tree=n,this.max_code=0,this.stat_desc=t}function d_code(n){return n<256?_dist_code[n]:_dist_code[256+(n>>>7)]}function put_short(n,t){n.pending_buf[n.pending++]=t&255,n.pending_buf[n.pending++]=t>>>8&255}function send_bits(n,t,r){n.bi_valid>Buf_size-r?(n.bi_buf|=t<<n.bi_valid&65535,put_short(n,n.bi_buf),n.bi_buf=t>>Buf_size-n.bi_valid,n.bi_valid+=r-Buf_size):(n.bi_buf|=t<<n.bi_valid&65535,n.bi_valid+=r)}function send_code(n,t,r){send_bits(n,r[t*2],r[t*2+1])}function bi_reverse(n,t){var r=0;do r|=n&1,n>>>=1,r<<=1;while(--t>0);return r>>>1}function bi_flush(n){n.bi_valid===16?(put_short(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)}function gen_bitlen(n,t){var r=t.dyn_tree,a=t.max_code,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,d=t.stat_desc.max_length,f,g,x,b,m,y,v=0;for(b=0;b<=MAX_BITS$1;b++)n.bl_count[b]=0;for(r[n.heap[n.heap_max]*2+1]=0,f=n.heap_max+1;f<HEAP_SIZE$1;f++)g=n.heap[f],b=r[r[g*2+1]*2+1]+1,b>d&&(b=d,v++),r[g*2+1]=b,!(g>a)&&(n.bl_count[b]++,m=0,g>=u&&(m=l[g-u]),y=r[g*2],n.opt_len+=y*(b+m),o&&(n.static_len+=y*(s[g*2+1]+m)));if(v!==0){do{for(b=d-1;n.bl_count[b]===0;)b--;n.bl_count[b]--,n.bl_count[b+1]+=2,n.bl_count[d]--,v-=2}while(v>0);for(b=d;b!==0;b--)for(g=n.bl_count[b];g!==0;)x=n.heap[--f],!(x>a)&&(r[x*2+1]!==b&&(n.opt_len+=(b-r[x*2+1])*r[x*2],r[x*2+1]=b),g--)}}function gen_codes(n,t,r){var a=new Array(MAX_BITS$1+1),s=0,o,l;for(o=1;o<=MAX_BITS$1;o++)a[o]=s=s+r[o-1]<<1;for(l=0;l<=t;l++){var u=n[l*2+1];u!==0&&(n[l*2]=bi_reverse(a[u]++,u))}}function tr_static_init(){var n,t,r,a,s,o=new Array(MAX_BITS$1+1);for(r=0,a=0;a<LENGTH_CODES$1-1;a++)for(base_length[a]=r,n=0;n<1<<extra_lbits[a];n++)_length_code[r++]=a;for(_length_code[r-1]=a,s=0,a=0;a<16;a++)for(base_dist[a]=s,n=0;n<1<<extra_dbits[a];n++)_dist_code[s++]=a;for(s>>=7;a<D_CODES$1;a++)for(base_dist[a]=s<<7,n=0;n<1<<extra_dbits[a]-7;n++)_dist_code[256+s++]=a;for(t=0;t<=MAX_BITS$1;t++)o[t]=0;for(n=0;n<=143;)static_ltree[n*2+1]=8,n++,o[8]++;for(;n<=255;)static_ltree[n*2+1]=9,n++,o[9]++;for(;n<=279;)static_ltree[n*2+1]=7,n++,o[7]++;for(;n<=287;)static_ltree[n*2+1]=8,n++,o[8]++;for(gen_codes(static_ltree,L_CODES$1+1,o),n=0;n<D_CODES$1;n++)static_dtree[n*2+1]=5,static_dtree[n*2]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(n){var t;for(t=0;t<L_CODES$1;t++)n.dyn_ltree[t*2]=0;for(t=0;t<D_CODES$1;t++)n.dyn_dtree[t*2]=0;for(t=0;t<BL_CODES$1;t++)n.bl_tree[t*2]=0;n.dyn_ltree[END_BLOCK*2]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0}function bi_windup(n){n.bi_valid>8?put_short(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0}function copy_block(n,t,r,a){bi_windup(n),a&&(put_short(n,r),put_short(n,~r)),utils$6.arraySet(n.pending_buf,n.window,t,r,n.pending),n.pending+=r}function smaller(n,t,r,a){var s=t*2,o=r*2;return n[s]<n[o]||n[s]===n[o]&&a[t]<=a[r]}function pqdownheap(n,t,r){for(var a=n.heap[r],s=r<<1;s<=n.heap_len&&(s<n.heap_len&&smaller(t,n.heap[s+1],n.heap[s],n.depth)&&s++,!smaller(t,a,n.heap[s],n.depth));)n.heap[r]=n.heap[s],r=s,s<<=1;n.heap[r]=a}function compress_block(n,t,r){var a,s,o=0,l,u;if(n.last_lit!==0)do a=n.pending_buf[n.d_buf+o*2]<<8|n.pending_buf[n.d_buf+o*2+1],s=n.pending_buf[n.l_buf+o],o++,a===0?send_code(n,s,t):(l=_length_code[s],send_code(n,l+LITERALS$1+1,t),u=extra_lbits[l],u!==0&&(s-=base_length[l],send_bits(n,s,u)),a--,l=d_code(a),send_code(n,l,r),u=extra_dbits[l],u!==0&&(a-=base_dist[l],send_bits(n,a,u)));while(o<n.last_lit);send_code(n,END_BLOCK,t)}function build_tree(n,t){var r=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.elems,l,u,d=-1,f;for(n.heap_len=0,n.heap_max=HEAP_SIZE$1,l=0;l<o;l++)r[l*2]!==0?(n.heap[++n.heap_len]=d=l,n.depth[l]=0):r[l*2+1]=0;for(;n.heap_len<2;)f=n.heap[++n.heap_len]=d<2?++d:0,r[f*2]=1,n.depth[f]=0,n.opt_len--,s&&(n.static_len-=a[f*2+1]);for(t.max_code=d,l=n.heap_len>>1;l>=1;l--)pqdownheap(n,r,l);f=o;do l=n.heap[1],n.heap[1]=n.heap[n.heap_len--],pqdownheap(n,r,1),u=n.heap[1],n.heap[--n.heap_max]=l,n.heap[--n.heap_max]=u,r[f*2]=r[l*2]+r[u*2],n.depth[f]=(n.depth[l]>=n.depth[u]?n.depth[l]:n.depth[u])+1,r[l*2+1]=r[u*2+1]=f,n.heap[1]=f++,pqdownheap(n,r,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],gen_bitlen(n,t),gen_codes(r,d,n.bl_count)}function scan_tree(n,t,r){var a,s=-1,o,l=t[0*2+1],u=0,d=7,f=4;for(l===0&&(d=138,f=3),t[(r+1)*2+1]=65535,a=0;a<=r;a++)o=l,l=t[(a+1)*2+1],!(++u<d&&o===l)&&(u<f?n.bl_tree[o*2]+=u:o!==0?(o!==s&&n.bl_tree[o*2]++,n.bl_tree[REP_3_6*2]++):u<=10?n.bl_tree[REPZ_3_10*2]++:n.bl_tree[REPZ_11_138*2]++,u=0,s=o,l===0?(d=138,f=3):o===l?(d=6,f=3):(d=7,f=4))}function send_tree(n,t,r){var a,s=-1,o,l=t[0*2+1],u=0,d=7,f=4;for(l===0&&(d=138,f=3),a=0;a<=r;a++)if(o=l,l=t[(a+1)*2+1],!(++u<d&&o===l)){if(u<f)do send_code(n,o,n.bl_tree);while(--u!==0);else o!==0?(o!==s&&(send_code(n,o,n.bl_tree),u--),send_code(n,REP_3_6,n.bl_tree),send_bits(n,u-3,2)):u<=10?(send_code(n,REPZ_3_10,n.bl_tree),send_bits(n,u-3,3)):(send_code(n,REPZ_11_138,n.bl_tree),send_bits(n,u-11,7));u=0,s=o,l===0?(d=138,f=3):o===l?(d=6,f=3):(d=7,f=4)}}function build_bl_tree(n){var t;for(scan_tree(n,n.dyn_ltree,n.l_desc.max_code),scan_tree(n,n.dyn_dtree,n.d_desc.max_code),build_tree(n,n.bl_desc),t=BL_CODES$1-1;t>=3&&n.bl_tree[bl_order[t]*2+1]===0;t--);return n.opt_len+=3*(t+1)+5+5+4,t}function send_all_trees(n,t,r,a){var s;for(send_bits(n,t-257,5),send_bits(n,r-1,5),send_bits(n,a-4,4),s=0;s<a;s++)send_bits(n,n.bl_tree[bl_order[s]*2+1],3);send_tree(n,n.dyn_ltree,t-1),send_tree(n,n.dyn_dtree,r-1)}function detect_data_type(n){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&n.dyn_ltree[r*2]!==0)return Z_BINARY;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(n.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(n){static_init_done||(tr_static_init(),static_init_done=!0),n.l_desc=new TreeDesc(n.dyn_ltree,static_l_desc),n.d_desc=new TreeDesc(n.dyn_dtree,static_d_desc),n.bl_desc=new TreeDesc(n.bl_tree,static_bl_desc),n.bi_buf=0,n.bi_valid=0,init_block(n)}function _tr_stored_block(n,t,r,a){send_bits(n,(STORED_BLOCK<<1)+(a?1:0),3),copy_block(n,t,r,!0)}function _tr_align(n){send_bits(n,STATIC_TREES<<1,3),send_code(n,END_BLOCK,static_ltree),bi_flush(n)}function _tr_flush_block(n,t,r,a){var s,o,l=0;n.level>0?(n.strm.data_type===Z_UNKNOWN$1&&(n.strm.data_type=detect_data_type(n)),build_tree(n,n.l_desc),build_tree(n,n.d_desc),l=build_bl_tree(n),s=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=s&&(s=o)):s=o=r+5,r+4<=s&&t!==-1?_tr_stored_block(n,t,r,a):n.strategy===Z_FIXED$1||o===s?(send_bits(n,(STATIC_TREES<<1)+(a?1:0),3),compress_block(n,static_ltree,static_dtree)):(send_bits(n,(DYN_TREES<<1)+(a?1:0),3),send_all_trees(n,n.l_desc.max_code+1,n.d_desc.max_code+1,l+1),compress_block(n,n.dyn_ltree,n.dyn_dtree)),init_block(n),a&&bi_windup(n)}function _tr_tally(n,t,r){return n.pending_buf[n.d_buf+n.last_lit*2]=t>>>8&255,n.pending_buf[n.d_buf+n.last_lit*2+1]=t&255,n.pending_buf[n.l_buf+n.last_lit]=r&255,n.last_lit++,t===0?n.dyn_ltree[r*2]++:(n.matches++,t--,n.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,n.dyn_dtree[d_code(t)*2]++),n.last_lit===n.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(n,t,r,a){for(var s=n&65535|0,o=n>>>16&65535|0,l=0;r!==0;){l=r>2e3?2e3:r,r-=l;do s=s+t[a++]|0,o=o+s|0;while(--l);s%=65521,o%=65521}return s|o<<16|0}var adler32_1=adler32$2;function makeTable(){for(var n,t=[],r=0;r<256;r++){n=r;for(var a=0;a<8;a++)n=n&1?3988292384^n>>>1:n>>>1;t[r]=n}return t}var crcTable=makeTable();function crc32$2(n,t,r,a){var s=crcTable,o=a+r;n^=-1;for(var l=a;l<o;l++)n=n>>>8^s[(n^t[l])&255];return n^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(n,t){return n.msg=msg$2[t],t}function rank(n){return(n<<1)-(n>4?9:0)}function zero(n){for(var t=n.length;--t>=0;)n[t]=0}function flush_pending(n){var t=n.state,r=t.pending;r>n.avail_out&&(r=n.avail_out),r!==0&&(utils$5.arraySet(n.output,t.pending_buf,t.pending_out,r,n.next_out),n.next_out+=r,t.pending_out+=r,n.total_out+=r,n.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function flush_block_only(n,t){trees._tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,t),n.block_start=n.strstart,flush_pending(n.strm)}function put_byte(n,t){n.pending_buf[n.pending++]=t}function putShortMSB(n,t){n.pending_buf[n.pending++]=t>>>8&255,n.pending_buf[n.pending++]=t&255}function read_buf(n,t,r,a){var s=n.avail_in;return s>a&&(s=a),s===0?0:(n.avail_in-=s,utils$5.arraySet(t,n.input,n.next_in,s,r),n.state.wrap===1?n.adler=adler32$1(n.adler,t,s,r):n.state.wrap===2&&(n.adler=crc32$1(n.adler,t,s,r)),n.next_in+=s,n.total_in+=s,s)}function longest_match(n,t){var r=n.max_chain_length,a=n.strstart,s,o,l=n.prev_length,u=n.nice_match,d=n.strstart>n.w_size-MIN_LOOKAHEAD?n.strstart-(n.w_size-MIN_LOOKAHEAD):0,f=n.window,g=n.w_mask,x=n.prev,b=n.strstart+MAX_MATCH,m=f[a+l-1],y=f[a+l];n.prev_length>=n.good_match&&(r>>=2),u>n.lookahead&&(u=n.lookahead);do if(s=t,!(f[s+l]!==y||f[s+l-1]!==m||f[s]!==f[a]||f[++s]!==f[a+1])){a+=2,s++;do;while(f[++a]===f[++s]&&f[++a]===f[++s]&&f[++a]===f[++s]&&f[++a]===f[++s]&&f[++a]===f[++s]&&f[++a]===f[++s]&&f[++a]===f[++s]&&f[++a]===f[++s]&&a<b);if(o=MAX_MATCH-(b-a),a=b-MAX_MATCH,o>l){if(n.match_start=t,l=o,o>=u)break;m=f[a+l-1],y=f[a+l]}}while((t=x[t&g])>d&&--r!==0);return l<=n.lookahead?l:n.lookahead}function fill_window(n){var t=n.w_size,r,a,s,o,l;do{if(o=n.window_size-n.lookahead-n.strstart,n.strstart>=t+(t-MIN_LOOKAHEAD)){utils$5.arraySet(n.window,n.window,t,t,0),n.match_start-=t,n.strstart-=t,n.block_start-=t,a=n.hash_size,r=a;do s=n.head[--r],n.head[r]=s>=t?s-t:0;while(--a);a=t,r=a;do s=n.prev[--r],n.prev[r]=s>=t?s-t:0;while(--a);o+=t}if(n.strm.avail_in===0)break;if(a=read_buf(n.strm,n.window,n.strstart+n.lookahead,o),n.lookahead+=a,n.lookahead+n.insert>=MIN_MATCH)for(l=n.strstart-n.insert,n.ins_h=n.window[l],n.ins_h=(n.ins_h<<n.hash_shift^n.window[l+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[l+MIN_MATCH-1])&n.hash_mask,n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++,n.insert--,!(n.lookahead+n.insert<MIN_MATCH)););}while(n.lookahead<MIN_LOOKAHEAD&&n.strm.avail_in!==0)}function deflate_stored(n,t){var r=65535;for(r>n.pending_buf_size-5&&(r=n.pending_buf_size-5);;){if(n.lookahead<=1){if(fill_window(n),n.lookahead===0&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var a=n.block_start+r;if((n.strstart===0||n.strstart>=a)&&(n.lookahead=n.strstart-a,n.strstart=a,flush_block_only(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-MIN_LOOKAHEAD&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}return n.insert=0,t===Z_FINISH$2?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(n.strstart>n.block_start&&(flush_block_only(n,!1),n.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(n,t){for(var r,a;;){if(n.lookahead<MIN_LOOKAHEAD){if(fill_window(n),n.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(n.lookahead===0)break}if(r=0,n.lookahead>=MIN_MATCH&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+MIN_MATCH-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),r!==0&&n.strstart-r<=n.w_size-MIN_LOOKAHEAD&&(n.match_length=longest_match(n,r)),n.match_length>=MIN_MATCH)if(a=trees._tr_tally(n,n.strstart-n.match_start,n.match_length-MIN_MATCH),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=MIN_MATCH){n.match_length--;do n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+MIN_MATCH-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else a=trees._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(a&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}return n.insert=n.strstart<MIN_MATCH-1?n.strstart:MIN_MATCH-1,t===Z_FINISH$2?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.last_lit&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(n,t){for(var r,a,s;;){if(n.lookahead<MIN_LOOKAHEAD){if(fill_window(n),n.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(n.lookahead===0)break}if(r=0,n.lookahead>=MIN_MATCH&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+MIN_MATCH-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=MIN_MATCH-1,r!==0&&n.prev_length<n.max_lazy_match&&n.strstart-r<=n.w_size-MIN_LOOKAHEAD&&(n.match_length=longest_match(n,r),n.match_length<=5&&(n.strategy===Z_FILTERED||n.match_length===MIN_MATCH&&n.strstart-n.match_start>4096)&&(n.match_length=MIN_MATCH-1)),n.prev_length>=MIN_MATCH&&n.match_length<=n.prev_length){s=n.strstart+n.lookahead-MIN_MATCH,a=trees._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-MIN_MATCH),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=s&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+MIN_MATCH-1])&n.hash_mask,r=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=MIN_MATCH-1,n.strstart++,a&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}else if(n.match_available){if(a=trees._tr_tally(n,0,n.window[n.strstart-1]),a&&flush_block_only(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return BS_NEED_MORE}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(a=trees._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<MIN_MATCH-1?n.strstart:MIN_MATCH-1,t===Z_FINISH$2?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.last_lit&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(n,t){for(var r,a,s,o,l=n.window;;){if(n.lookahead<=MAX_MATCH){if(fill_window(n),n.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$1)return BS_NEED_MORE;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=MIN_MATCH&&n.strstart>0&&(s=n.strstart-1,a=l[s],a===l[++s]&&a===l[++s]&&a===l[++s])){o=n.strstart+MAX_MATCH;do;while(a===l[++s]&&a===l[++s]&&a===l[++s]&&a===l[++s]&&a===l[++s]&&a===l[++s]&&a===l[++s]&&a===l[++s]&&s<o);n.match_length=MAX_MATCH-(o-s),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=MIN_MATCH?(r=trees._tr_tally(n,1,n.match_length-MIN_MATCH),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(r=trees._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),r&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}return n.insert=0,t===Z_FINISH$2?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.last_lit&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(n,t){for(var r;;){if(n.lookahead===0&&(fill_window(n),n.lookahead===0)){if(t===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(n.match_length=0,r=trees._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,r&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}return n.insert=0,t===Z_FINISH$2?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.last_lit&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(n,t,r,a,s){this.good_length=n,this.max_lazy=t,this.nice_length=r,this.max_chain=a,this.func=s}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(n){n.window_size=2*n.w_size,zero(n.head),n.max_lazy_match=configuration_table[n.level].max_lazy,n.good_match=configuration_table[n.level].good_length,n.nice_match=configuration_table[n.level].nice_length,n.max_chain_length=configuration_table[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,n.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$5.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$5.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5.Buf16(MAX_BITS+1),this.heap=new utils$5.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(n){var t;return!n||!n.state?err(n,Z_STREAM_ERROR$1):(n.total_in=n.total_out=0,n.data_type=Z_UNKNOWN,t=n.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?INIT_STATE:BUSY_STATE,n.adler=t.wrap===2?0:1,t.last_flush=Z_NO_FLUSH$1,trees._tr_init(t),Z_OK$2)}function deflateReset(n){var t=deflateResetKeep(n);return t===Z_OK$2&&lm_init(n.state),t}function deflateSetHeader(n,t){return!n||!n.state||n.state.wrap!==2?Z_STREAM_ERROR$1:(n.state.gzhead=t,Z_OK$2)}function deflateInit2(n,t,r,a,s,o){if(!n)return Z_STREAM_ERROR$1;var l=1;if(t===Z_DEFAULT_COMPRESSION$1&&(t=6),a<0?(l=0,a=-a):a>15&&(l=2,a-=16),s<1||s>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||a<8||a>15||t<0||t>9||o<0||o>Z_FIXED)return err(n,Z_STREAM_ERROR$1);a===8&&(a=9);var u=new DeflateState;return n.state=u,u.strm=n,u.wrap=l,u.gzhead=null,u.w_bits=a,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=s+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+MIN_MATCH-1)/MIN_MATCH),u.window=new utils$5.Buf8(u.w_size*2),u.head=new utils$5.Buf16(u.hash_size),u.prev=new utils$5.Buf16(u.w_size),u.lit_bufsize=1<<s+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new utils$5.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=r,deflateReset(n)}function deflateInit(n,t){return deflateInit2(n,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(n,t){var r,a,s,o;if(!n||!n.state||t>Z_BLOCK$1||t<0)return n?err(n,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(a=n.state,!n.output||!n.input&&n.avail_in!==0||a.status===FINISH_STATE&&t!==Z_FINISH$2)return err(n,n.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(a.strm=n,r=a.last_flush,a.last_flush=t,a.status===INIT_STATE)if(a.wrap===2)n.adler=0,put_byte(a,31),put_byte(a,139),put_byte(a,8),a.gzhead?(put_byte(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),put_byte(a,a.gzhead.time&255),put_byte(a,a.gzhead.time>>8&255),put_byte(a,a.gzhead.time>>16&255),put_byte(a,a.gzhead.time>>24&255),put_byte(a,a.level===9?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&(put_byte(a,a.gzhead.extra.length&255),put_byte(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(n.adler=crc32$1(n.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=EXTRA_STATE):(put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,a.level===9?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,OS_CODE),a.status=BUSY_STATE);else{var l=Z_DEFLATED$2+(a.w_bits-8<<4)<<8,u=-1;a.strategy>=Z_HUFFMAN_ONLY||a.level<2?u=0:a.level<6?u=1:a.level===6?u=2:u=3,l|=u<<6,a.strstart!==0&&(l|=PRESET_DICT),l+=31-l%31,a.status=BUSY_STATE,putShortMSB(a,l),a.strstart!==0&&(putShortMSB(a,n.adler>>>16),putShortMSB(a,n.adler&65535)),n.adler=1}if(a.status===EXTRA_STATE)if(a.gzhead.extra){for(s=a.pending;a.gzindex<(a.gzhead.extra.length&65535)&&!(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(n.adler=crc32$1(n.adler,a.pending_buf,a.pending-s,s)),flush_pending(n),s=a.pending,a.pending===a.pending_buf_size));)put_byte(a,a.gzhead.extra[a.gzindex]&255),a.gzindex++;a.gzhead.hcrc&&a.pending>s&&(n.adler=crc32$1(n.adler,a.pending_buf,a.pending-s,s)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=NAME_STATE)}else a.status=NAME_STATE;if(a.status===NAME_STATE)if(a.gzhead.name){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(n.adler=crc32$1(n.adler,a.pending_buf,a.pending-s,s)),flush_pending(n),s=a.pending,a.pending===a.pending_buf_size)){o=1;break}a.gzindex<a.gzhead.name.length?o=a.gzhead.name.charCodeAt(a.gzindex++)&255:o=0,put_byte(a,o)}while(o!==0);a.gzhead.hcrc&&a.pending>s&&(n.adler=crc32$1(n.adler,a.pending_buf,a.pending-s,s)),o===0&&(a.gzindex=0,a.status=COMMENT_STATE)}else a.status=COMMENT_STATE;if(a.status===COMMENT_STATE)if(a.gzhead.comment){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(n.adler=crc32$1(n.adler,a.pending_buf,a.pending-s,s)),flush_pending(n),s=a.pending,a.pending===a.pending_buf_size)){o=1;break}a.gzindex<a.gzhead.comment.length?o=a.gzhead.comment.charCodeAt(a.gzindex++)&255:o=0,put_byte(a,o)}while(o!==0);a.gzhead.hcrc&&a.pending>s&&(n.adler=crc32$1(n.adler,a.pending_buf,a.pending-s,s)),o===0&&(a.status=HCRC_STATE)}else a.status=HCRC_STATE;if(a.status===HCRC_STATE&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&flush_pending(n),a.pending+2<=a.pending_buf_size&&(put_byte(a,n.adler&255),put_byte(a,n.adler>>8&255),n.adler=0,a.status=BUSY_STATE)):a.status=BUSY_STATE),a.pending!==0){if(flush_pending(n),n.avail_out===0)return a.last_flush=-1,Z_OK$2}else if(n.avail_in===0&&rank(t)<=rank(r)&&t!==Z_FINISH$2)return err(n,Z_BUF_ERROR$1);if(a.status===FINISH_STATE&&n.avail_in!==0)return err(n,Z_BUF_ERROR$1);if(n.avail_in!==0||a.lookahead!==0||t!==Z_NO_FLUSH$1&&a.status!==FINISH_STATE){var d=a.strategy===Z_HUFFMAN_ONLY?deflate_huff(a,t):a.strategy===Z_RLE?deflate_rle(a,t):configuration_table[a.level].func(a,t);if((d===BS_FINISH_STARTED||d===BS_FINISH_DONE)&&(a.status=FINISH_STATE),d===BS_NEED_MORE||d===BS_FINISH_STARTED)return n.avail_out===0&&(a.last_flush=-1),Z_OK$2;if(d===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?trees._tr_align(a):t!==Z_BLOCK$1&&(trees._tr_stored_block(a,0,0,!1),t===Z_FULL_FLUSH&&(zero(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),flush_pending(n),n.avail_out===0))return a.last_flush=-1,Z_OK$2}return t!==Z_FINISH$2?Z_OK$2:a.wrap<=0?Z_STREAM_END$2:(a.wrap===2?(put_byte(a,n.adler&255),put_byte(a,n.adler>>8&255),put_byte(a,n.adler>>16&255),put_byte(a,n.adler>>24&255),put_byte(a,n.total_in&255),put_byte(a,n.total_in>>8&255),put_byte(a,n.total_in>>16&255),put_byte(a,n.total_in>>24&255)):(putShortMSB(a,n.adler>>>16),putShortMSB(a,n.adler&65535)),flush_pending(n),a.wrap>0&&(a.wrap=-a.wrap),a.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(n){var t;return!n||!n.state?Z_STREAM_ERROR$1:(t=n.state.status,t!==INIT_STATE&&t!==EXTRA_STATE&&t!==NAME_STATE&&t!==COMMENT_STATE&&t!==HCRC_STATE&&t!==BUSY_STATE&&t!==FINISH_STATE?err(n,Z_STREAM_ERROR$1):(n.state=null,t===BUSY_STATE?err(n,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(n,t){var r=t.length,a,s,o,l,u,d,f,g;if(!n||!n.state||(a=n.state,l=a.wrap,l===2||l===1&&a.status!==INIT_STATE||a.lookahead))return Z_STREAM_ERROR$1;for(l===1&&(n.adler=adler32$1(n.adler,t,r,0)),a.wrap=0,r>=a.w_size&&(l===0&&(zero(a.head),a.strstart=0,a.block_start=0,a.insert=0),g=new utils$5.Buf8(a.w_size),utils$5.arraySet(g,t,r-a.w_size,a.w_size,0),t=g,r=a.w_size),u=n.avail_in,d=n.next_in,f=n.input,n.avail_in=r,n.next_in=0,n.input=t,fill_window(a);a.lookahead>=MIN_MATCH;){s=a.strstart,o=a.lookahead-(MIN_MATCH-1);do a.ins_h=(a.ins_h<<a.hash_shift^a.window[s+MIN_MATCH-1])&a.hash_mask,a.prev[s&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=s,s++;while(--o);a.strstart=s,a.lookahead=MIN_MATCH-1,fill_window(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=MIN_MATCH-1,a.match_available=0,n.next_in=d,n.input=f,n.avail_in=u,a.wrap=l,Z_OK$2}deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$4=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch{STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}var _utf8len=new utils$4.Buf8(256);for(var q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=function(n){var t,r,a,s,o,l=n.length,u=0;for(s=0;s<l;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<l&&(a=n.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new utils$4.Buf8(u),o=0,s=0;o<u;s++)r=n.charCodeAt(s),(r&64512)===55296&&s+1<l&&(a=n.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};function buf2binstring(n,t){if(t<65534&&(n.subarray&&STR_APPLY_UIA_OK||!n.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$4.shrinkBuf(n,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(n[a]);return r}strings$2.buf2binstring=function(n){return buf2binstring(n,n.length)};strings$2.binstring2buf=function(n){for(var t=new utils$4.Buf8(n.length),r=0,a=t.length;r<a;r++)t[r]=n.charCodeAt(r);return t};strings$2.buf2string=function(n,t){var r,a,s,o,l=t||n.length,u=new Array(l*2);for(a=0,r=0;r<l;){if(s=n[r++],s<128){u[a++]=s;continue}if(o=_utf8len[s],o>4){u[a++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<l;)s=s<<6|n[r++]&63,o--;if(o>1){u[a++]=65533;continue}s<65536?u[a++]=s:(s-=65536,u[a++]=55296|s>>10&1023,u[a++]=56320|s&1023)}return buf2binstring(u,a)};strings$2.utf8border=function(n,t){var r;for(t=t||n.length,t>n.length&&(t=n.length),r=t-1;r>=0&&(n[r]&192)===128;)r--;return r<0||r===0?t:r+_utf8len[n[r]]>t?r:t};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,zlib_deflate=deflate$3,utils$3=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(n){if(!(this instanceof Deflate))return new Deflate(n);this.options=utils$3.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},n||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var r=zlib_deflate.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Z_OK$1)throw new Error(msg$1[r]);if(t.header&&zlib_deflate.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(typeof t.dictionary=="string"?a=strings$1.string2buf(t.dictionary):toString$1.call(t.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(t.dictionary):a=t.dictionary,r=zlib_deflate.deflateSetDictionary(this.strm,a),r!==Z_OK$1)throw new Error(msg$1[r]);this._dict_set=!0}}Deflate.prototype.push=function(n,t){var r=this.strm,a=this.options.chunkSize,s,o;if(this.ended)return!1;o=t===~~t?t:t===!0?Z_FINISH$1:Z_NO_FLUSH,typeof n=="string"?r.input=strings$1.string2buf(n):toString$1.call(n)==="[object ArrayBuffer]"?r.input=new Uint8Array(n):r.input=n,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new utils$3.Buf8(a),r.next_out=0,r.avail_out=a),s=zlib_deflate.deflate(r,o),s!==Z_STREAM_END$1&&s!==Z_OK$1)return this.onEnd(s),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(o===Z_FINISH$1||o===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$3.shrinkBuf(r.output,r.next_out))):this.onData(utils$3.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&s!==Z_STREAM_END$1);return o===Z_FINISH$1?(s=zlib_deflate.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Z_OK$1):(o===Z_SYNC_FLUSH&&(this.onEnd(Z_OK$1),r.avail_out=0),!0)};Deflate.prototype.onData=function(n){this.chunks.push(n)};Deflate.prototype.onEnd=function(n){n===Z_OK$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$3.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function deflate$1(n,t){var r=new Deflate(t);if(r.push(n,!0),r.err)throw r.msg||msg$1[r.err];return r.result}function deflateRaw(n,t){return t=t||{},t.raw=!0,deflate$1(n,t)}function gzip(n,t){return t=t||{},t.gzip=!0,deflate$1(n,t)}deflate$4.Deflate=Deflate;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw;deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function(t,r){var a,s,o,l,u,d,f,g,x,b,m,y,v,w,S,C,E,T,_,R,U,z,X,W,Y;a=t.state,s=t.next_in,W=t.input,o=s+(t.avail_in-5),l=t.next_out,Y=t.output,u=l-(r-t.avail_out),d=l+(t.avail_out-257),f=a.dmax,g=a.wsize,x=a.whave,b=a.wnext,m=a.window,y=a.hold,v=a.bits,w=a.lencode,S=a.distcode,C=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{v<15&&(y+=W[s++]<<v,v+=8,y+=W[s++]<<v,v+=8),T=w[y&C];t:for(;;){if(_=T>>>24,y>>>=_,v-=_,_=T>>>16&255,_===0)Y[l++]=T&65535;else if(_&16){R=T&65535,_&=15,_&&(v<_&&(y+=W[s++]<<v,v+=8),R+=y&(1<<_)-1,y>>>=_,v-=_),v<15&&(y+=W[s++]<<v,v+=8,y+=W[s++]<<v,v+=8),T=S[y&E];n:for(;;){if(_=T>>>24,y>>>=_,v-=_,_=T>>>16&255,_&16){if(U=T&65535,_&=15,v<_&&(y+=W[s++]<<v,v+=8,v<_&&(y+=W[s++]<<v,v+=8)),U+=y&(1<<_)-1,U>f){t.msg="invalid distance too far back",a.mode=BAD$1;break e}if(y>>>=_,v-=_,_=l-u,U>_){if(_=U-_,_>x&&a.sane){t.msg="invalid distance too far back",a.mode=BAD$1;break e}if(z=0,X=m,b===0){if(z+=g-_,_<R){R-=_;do Y[l++]=m[z++];while(--_);z=l-U,X=Y}}else if(b<_){if(z+=g+b-_,_-=b,_<R){R-=_;do Y[l++]=m[z++];while(--_);if(z=0,b<R){_=b,R-=_;do Y[l++]=m[z++];while(--_);z=l-U,X=Y}}}else if(z+=b-_,_<R){R-=_;do Y[l++]=m[z++];while(--_);z=l-U,X=Y}for(;R>2;)Y[l++]=X[z++],Y[l++]=X[z++],Y[l++]=X[z++],R-=3;R&&(Y[l++]=X[z++],R>1&&(Y[l++]=X[z++]))}else{z=l-U;do Y[l++]=Y[z++],Y[l++]=Y[z++],Y[l++]=Y[z++],R-=3;while(R>2);R&&(Y[l++]=Y[z++],R>1&&(Y[l++]=Y[z++]))}}else if(_&64){t.msg="invalid distance code",a.mode=BAD$1;break e}else{T=S[(T&65535)+(y&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){a.mode=TYPE$1;break e}else{t.msg="invalid literal/length code",a.mode=BAD$1;break e}else{T=w[(T&65535)+(y&(1<<_)-1)];continue t}break}}while(s<o&&l<d);R=v>>3,s-=R,v-=R<<3,y&=(1<<v)-1,t.next_in=s,t.next_out=l,t.avail_in=s<o?5+(o-s):5-(s-o),t.avail_out=l<d?257+(d-l):257-(l-d),a.hold=y,a.bits=v},utils$2=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(t,r,a,s,o,l,u,d){var f=d.bits,g=0,x=0,b=0,m=0,y=0,v=0,w=0,S=0,C=0,E=0,T,_,R,U,z,X=null,W=0,Y,se=new utils$2.Buf16(MAXBITS+1),oe=new utils$2.Buf16(MAXBITS+1),ue=null,Z=0,te,he,xe;for(g=0;g<=MAXBITS;g++)se[g]=0;for(x=0;x<s;x++)se[r[a+x]]++;for(y=f,m=MAXBITS;m>=1&&se[m]===0;m--);if(y>m&&(y=m),m===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,d.bits=1,0;for(b=1;b<m&&se[b]===0;b++);for(y<b&&(y=b),S=1,g=1;g<=MAXBITS;g++)if(S<<=1,S-=se[g],S<0)return-1;if(S>0&&(t===CODES$1||m!==1))return-1;for(oe[1]=0,g=1;g<MAXBITS;g++)oe[g+1]=oe[g]+se[g];for(x=0;x<s;x++)r[a+x]!==0&&(u[oe[r[a+x]]++]=x);if(t===CODES$1?(X=ue=u,Y=19):t===LENS$1?(X=lbase,W-=257,ue=lext,Z-=257,Y=256):(X=dbase,ue=dext,Y=-1),E=0,x=0,g=b,z=l,v=y,w=0,R=-1,C=1<<y,U=C-1,t===LENS$1&&C>ENOUGH_LENS$1||t===DISTS$1&&C>ENOUGH_DISTS$1)return 1;for(;;){te=g-w,u[x]<Y?(he=0,xe=u[x]):u[x]>Y?(he=ue[Z+u[x]],xe=X[W+u[x]]):(he=96,xe=0),T=1<<g-w,_=1<<v,b=_;do _-=T,o[z+(E>>w)+_]=te<<24|he<<16|xe|0;while(_!==0);for(T=1<<g-1;E&T;)T>>=1;if(T!==0?(E&=T-1,E+=T):E=0,x++,--se[g]===0){if(g===m)break;g=r[a+u[x]]}if(g>y&&(E&U)!==R){for(w===0&&(w=y),z+=b,v=g-w,S=1<<v;v+w<m&&(S-=se[v+w],!(S<=0));)v++,S<<=1;if(C+=1<<v,t===LENS$1&&C>ENOUGH_LENS$1||t===DISTS$1&&C>ENOUGH_DISTS$1)return 1;R=E&U,o[R]=y<<24|v<<16|z-l|0}}return E!==0&&(o[z+E]=g-w<<24|64<<16|0),d.bits=y,0},utils$1=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$1.Buf16(320),this.work=new utils$1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(n){var t;return!n||!n.state?Z_STREAM_ERROR:(t=n.state,n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new utils$1.Buf32(ENOUGH_LENS),t.distcode=t.distdyn=new utils$1.Buf32(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK)}function inflateReset(n){var t;return!n||!n.state?Z_STREAM_ERROR:(t=n.state,t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(n))}function inflateReset2(n,t){var r,a;return!n||!n.state||(a=n.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Z_STREAM_ERROR:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,inflateReset(n))}function inflateInit2(n,t){var r,a;return n?(a=new InflateState,n.state=a,a.window=null,r=inflateReset2(n,t),r!==Z_OK&&(n.state=null),r):Z_STREAM_ERROR}function inflateInit(n){return inflateInit2(n,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(n){if(virgin){var t;for(lenfix=new utils$1.Buf32(512),distfix=new utils$1.Buf32(32),t=0;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(inflate_table(LENS,n.lens,0,288,lenfix,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;inflate_table(DISTS,n.lens,0,32,distfix,0,n.work,{bits:5}),virgin=!1}n.lencode=lenfix,n.lenbits=9,n.distcode=distfix,n.distbits=5}function updatewindow(n,t,r,a){var s,o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new utils$1.Buf8(o.wsize)),a>=o.wsize?(utils$1.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>a&&(s=a),utils$1.arraySet(o.window,t,r-a,s,o.wnext),a-=s,a?(utils$1.arraySet(o.window,t,r-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}function inflate$2(n,t){var r,a,s,o,l,u,d,f,g,x,b,m,y,v,w=0,S,C,E,T,_,R,U,z,X=new utils$1.Buf8(4),W,Y,se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return Z_STREAM_ERROR;r=n.state,r.mode===TYPE&&(r.mode=TYPEDO),l=n.next_out,s=n.output,d=n.avail_out,o=n.next_in,a=n.input,u=n.avail_in,f=r.hold,g=r.bits,x=u,b=d,z=Z_OK;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;g<16;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(r.wrap&2&&f===35615){r.check=0,X[0]=f&255,X[1]=f>>>8&255,r.check=crc32(r.check,X,2,0),f=0,g=0,r.mode=FLAGS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",r.mode=BAD;break}if((f&15)!==Z_DEFLATED){n.msg="unknown compression method",r.mode=BAD;break}if(f>>>=4,g-=4,U=(f&15)+8,r.wbits===0)r.wbits=U;else if(U>r.wbits){n.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<U,n.adler=r.check=1,r.mode=f&512?DICTID:TYPE,f=0,g=0;break;case FLAGS:for(;g<16;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(r.flags=f,(r.flags&255)!==Z_DEFLATED){n.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){n.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&(X[0]=f&255,X[1]=f>>>8&255,r.check=crc32(r.check,X,2,0)),f=0,g=0,r.mode=TIME;case TIME:for(;g<32;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}r.head&&(r.head.time=f),r.flags&512&&(X[0]=f&255,X[1]=f>>>8&255,X[2]=f>>>16&255,X[3]=f>>>24&255,r.check=crc32(r.check,X,4,0)),f=0,g=0,r.mode=OS;case OS:for(;g<16;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&(X[0]=f&255,X[1]=f>>>8&255,r.check=crc32(r.check,X,2,0)),f=0,g=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;g<16;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&(X[0]=f&255,X[1]=f>>>8&255,r.check=crc32(r.check,X,2,0)),f=0,g=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(m=r.length,m>u&&(m=u),m&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),utils$1.arraySet(r.head.extra,a,o,m,U)),r.flags&512&&(r.check=crc32(r.check,a,m,o)),u-=m,o+=m,r.length-=m),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(u===0)break e;m=0;do U=a[o+m++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&m<u);if(r.flags&512&&(r.check=crc32(r.check,a,m,o)),u-=m,o+=m,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(u===0)break e;m=0;do U=a[o+m++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&m<u);if(r.flags&512&&(r.check=crc32(r.check,a,m,o)),u-=m,o+=m,U)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;g<16;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(f!==(r.check&65535)){n.msg="header crc mismatch",r.mode=BAD;break}f=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),n.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;g<32;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}n.adler=r.check=zswap32(f),f=0,g=0,r.mode=DICT;case DICT:if(r.havedict===0)return n.next_out=l,n.avail_out=d,n.next_in=o,n.avail_in=u,r.hold=f,r.bits=g,Z_NEED_DICT;n.adler=r.check=1,r.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(r.last){f>>>=g&7,g-=g&7,r.mode=CHECK;break}for(;g<3;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}switch(r.last=f&1,f>>>=1,g-=1,f&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,t===Z_TREES){f>>>=2,g-=2;break e}break;case 2:r.mode=TABLE;break;case 3:n.msg="invalid block type",r.mode=BAD}f>>>=2,g-=2;break;case STORED:for(f>>>=g&7,g-=g&7;g<32;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=f&65535,f=0,g=0,r.mode=COPY_,t===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(m=r.length,m){if(m>u&&(m=u),m>d&&(m=d),m===0)break e;utils$1.arraySet(s,a,o,m,l),u-=m,o+=m,d-=m,l+=m,r.length-=m;break}r.mode=TYPE;break;case TABLE:for(;g<14;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(r.nlen=(f&31)+257,f>>>=5,g-=5,r.ndist=(f&31)+1,f>>>=5,g-=5,r.ncode=(f&15)+4,f>>>=4,g-=4,r.nlen>286||r.ndist>30){n.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;g<3;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}r.lens[se[r.have++]]=f&7,f>>>=3,g-=3}for(;r.have<19;)r.lens[se[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,W={bits:r.lenbits},z=inflate_table(CODES,r.lens,0,19,r.lencode,0,r.work,W),r.lenbits=W.bits,z){n.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[f&(1<<r.lenbits)-1],S=w>>>24,C=w>>>16&255,E=w&65535,!(S<=g);){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(E<16)f>>>=S,g-=S,r.lens[r.have++]=E;else{if(E===16){for(Y=S+2;g<Y;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(f>>>=S,g-=S,r.have===0){n.msg="invalid bit length repeat",r.mode=BAD;break}U=r.lens[r.have-1],m=3+(f&3),f>>>=2,g-=2}else if(E===17){for(Y=S+3;g<Y;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}f>>>=S,g-=S,U=0,m=3+(f&7),f>>>=3,g-=3}else{for(Y=S+7;g<Y;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}f>>>=S,g-=S,U=0,m=11+(f&127),f>>>=7,g-=7}if(r.have+m>r.nlen+r.ndist){n.msg="invalid bit length repeat",r.mode=BAD;break}for(;m--;)r.lens[r.have++]=U}}if(r.mode===BAD)break;if(r.lens[256]===0){n.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,W={bits:r.lenbits},z=inflate_table(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,W),r.lenbits=W.bits,z){n.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,W={bits:r.distbits},z=inflate_table(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,W),r.distbits=W.bits,z){n.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,t===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(u>=6&&d>=258){n.next_out=l,n.avail_out=d,n.next_in=o,n.avail_in=u,r.hold=f,r.bits=g,inflate_fast(n,b),l=n.next_out,s=n.output,d=n.avail_out,o=n.next_in,a=n.input,u=n.avail_in,f=r.hold,g=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;w=r.lencode[f&(1<<r.lenbits)-1],S=w>>>24,C=w>>>16&255,E=w&65535,!(S<=g);){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(C&&!(C&240)){for(T=S,_=C,R=E;w=r.lencode[R+((f&(1<<T+_)-1)>>T)],S=w>>>24,C=w>>>16&255,E=w&65535,!(T+S<=g);){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}f>>>=T,g-=T,r.back+=T}if(f>>>=S,g-=S,r.back+=S,r.length=E,C===0){r.mode=LIT;break}if(C&32){r.back=-1,r.mode=TYPE;break}if(C&64){n.msg="invalid literal/length code",r.mode=BAD;break}r.extra=C&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(Y=r.extra;g<Y;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;w=r.distcode[f&(1<<r.distbits)-1],S=w>>>24,C=w>>>16&255,E=w&65535,!(S<=g);){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(!(C&240)){for(T=S,_=C,R=E;w=r.distcode[R+((f&(1<<T+_)-1)>>T)],S=w>>>24,C=w>>>16&255,E=w&65535,!(T+S<=g);){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}f>>>=T,g-=T,r.back+=T}if(f>>>=S,g-=S,r.back+=S,C&64){n.msg="invalid distance code",r.mode=BAD;break}r.offset=E,r.extra=C&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(Y=r.extra;g<Y;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){n.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(d===0)break e;if(m=b-d,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){n.msg="invalid distance too far back",r.mode=BAD;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),v=r.window}else v=s,y=l-r.offset,m=r.length;m>d&&(m=d),d-=m,r.length-=m;do s[l++]=v[y++];while(--m);r.length===0&&(r.mode=LEN);break;case LIT:if(d===0)break e;s[l++]=r.length,d--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;g<32;){if(u===0)break e;u--,f|=a[o++]<<g,g+=8}if(b-=d,n.total_out+=b,r.total+=b,b&&(n.adler=r.check=r.flags?crc32(r.check,s,b,l-b):adler32(r.check,s,b,l-b)),b=d,(r.flags?f:zswap32(f))!==r.check){n.msg="incorrect data check",r.mode=BAD;break}f=0,g=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;g<32;){if(u===0)break e;u--,f+=a[o++]<<g,g+=8}if(f!==(r.total&4294967295)){n.msg="incorrect length check",r.mode=BAD;break}f=0,g=0}r.mode=DONE;case DONE:z=Z_STREAM_END;break e;case BAD:z=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return n.next_out=l,n.avail_out=d,n.next_in=o,n.avail_in=u,r.hold=f,r.bits=g,(r.wsize||b!==n.avail_out&&r.mode<BAD&&(r.mode<CHECK||t!==Z_FINISH))&&updatewindow(n,n.output,n.next_out,b-n.avail_out),x-=n.avail_in,b-=n.avail_out,n.total_in+=x,n.total_out+=b,r.total+=b,r.wrap&&b&&(n.adler=r.check=r.flags?crc32(r.check,s,b,n.next_out-b):adler32(r.check,s,b,n.next_out-b)),n.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(x===0&&b===0||t===Z_FINISH)&&z===Z_OK&&(z=Z_BUF_ERROR),z}function inflateEnd(n){if(!n||!n.state)return Z_STREAM_ERROR;var t=n.state;return t.window&&(t.window=null),n.state=null,Z_OK}function inflateGetHeader(n,t){var r;return!n||!n.state||(r=n.state,!(r.wrap&2))?Z_STREAM_ERROR:(r.head=t,t.done=!1,Z_OK)}function inflateSetDictionary(n,t){var r=t.length,a,s,o;return!n||!n.state||(a=n.state,a.wrap!==0&&a.mode!==DICT)?Z_STREAM_ERROR:a.mode===DICT&&(s=1,s=adler32(s,t,r,0),s!==a.check)?Z_DATA_ERROR:(o=updatewindow(n,t,r,r),o?(a.mode=MEM,Z_MEM_ERROR):(a.havedict=1,Z_OK))}inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils=common,strings=strings$2,c=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(n){if(!(this instanceof Inflate))return new Inflate(n);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},n||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var r=zlib_inflate.inflateInit2(this.strm,t.windowBits);if(r!==c.Z_OK)throw new Error(msg[r]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=strings.string2buf(t.dictionary):toString.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zlib_inflate.inflateSetDictionary(this.strm,t.dictionary),r!==c.Z_OK)))throw new Error(msg[r])}Inflate.prototype.push=function(n,t){var r=this.strm,a=this.options.chunkSize,s=this.options.dictionary,o,l,u,d,f,g=!1;if(this.ended)return!1;l=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof n=="string"?r.input=strings.binstring2buf(n):toString.call(n)==="[object ArrayBuffer]"?r.input=new Uint8Array(n):r.input=n,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new utils.Buf8(a),r.next_out=0,r.avail_out=a),o=zlib_inflate.inflate(r,c.Z_NO_FLUSH),o===c.Z_NEED_DICT&&s&&(o=zlib_inflate.inflateSetDictionary(this.strm,s)),o===c.Z_BUF_ERROR&&g===!0&&(o=c.Z_OK,g=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),this.ended=!0,!1;r.next_out&&(r.avail_out===0||o===c.Z_STREAM_END||r.avail_in===0&&(l===c.Z_FINISH||l===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(u=strings.utf8border(r.output,r.next_out),d=r.next_out-u,f=strings.buf2string(r.output,u),r.next_out=d,r.avail_out=a-d,d&&utils.arraySet(r.output,r.output,u,d,0),this.onData(f)):this.onData(utils.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(g=!0)}while((r.avail_in>0||r.avail_out===0)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(l=c.Z_FINISH),l===c.Z_FINISH?(o=zlib_inflate.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):(l===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),r.avail_out=0),!0)};Inflate.prototype.onData=function(n){this.chunks.push(n)};Inflate.prototype.onEnd=function(n){n===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function inflate$1(n,t){var r=new Inflate(t);if(r.push(n,!0),r.err)throw r.msg||msg[r.err];return r.result}function inflateRaw(n,t){return t=t||{},t.raw=!0,inflate$1(n,t)}inflate$4.Inflate=Inflate;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw;inflate$4.ungzip=inflate$1;var assign=common.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako={};assign(pako,deflate,inflate,constants);var pako_1=pako;const pako$1=getDefaultExportFromCjs(pako_1);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$1=0;i$1<chars.length;i$1++)lookup$1[chars.charCodeAt(i$1)]=i$1;var decodeFromBase64=function(n){var t=n.length*.75,r=n.length,a,s=0,o,l,u,d;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var f=new Uint8Array(t);for(a=0;a<r;a+=4)o=lookup$1[n.charCodeAt(a)],l=lookup$1[n.charCodeAt(a+1)],u=lookup$1[n.charCodeAt(a+2)],d=lookup$1[n.charCodeAt(a+3)],f[s++]=o<<2|l>>4,f[s++]=(l&15)<<4|u>>2,f[s++]=(u&3)<<6|d&63;return f},arrayToString=function(n){for(var t="",r=0;r<n.length;r++)t+=String.fromCharCode(n[r]);return t},decompressJson=function(n){return arrayToString(pako$1.inflate(decodeFromBase64(n)))},padStart=function(n,t,r){for(var a="",s=0,o=t-n.length;s<o;s++)a+=r;return a+n};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="eJyFWdtyGjkQ/RVqnnarcAo7vuE3jEnCxgEvGDtxKg9iRgxaa0ZEF9s4lX/fnrGdTVZ9lBcKTmvU96PW8C0bmqqStc9OsqsPwYlSdnaPDvb6naP+3v5+1s3emNpPRCVpwdAEq6TdOTW6mC61+hpksyBo/euCTrOg89MKUSm9/XUNwddSletGcbOcfo+90Cof1KWmdTu7e4S4N+pBFhfK5+vsxNsgu9lwLazIvbRz2Tw7evCyLmQxM5Won809PTUP2cnnnYOj7s7eQa97fNjvHvd2v3SzBS21WtXywjjllakbRb3eT4LLtcpva+lcdkJPZlfSunZZ1uu9ftXr9UjFxHiVP7my2drGh84f+Z+d3f5xv0uf/V77udt+vm4/jzqDwixlZ751XlauM65zYzfGCi+LV53OQOvOrNnHdWbSSXtHKOkZ0apC1eU8X8s2dO0mcy/qQtjiRUoLh2Lz7jmWB4cUto8vv/Zf97vZwOVNhGx2crhHP8/kj987uxShbO6Ld9fZyfF++/WKvu72Dp/i/EF6q3IKxedv2fVH2qAJ1YQscRtBEfje/R8sH3Itqhj/Ggx5utSxpA7VsglxWceywmgtbIxvpM2bio0EoiKRo/AAC9pcMfsJK2stV0gEHhOu2dHdMk/p4GI0p0YTMbzebtaS8Z5cUYbxxGnh1jH8KK2JUVMzWfL3zEq/tpJZu6JuZVB1x6x16oEB5R3nneRjWivO4Nxow+zhZKWASDcNHCv9GgRTg6WV1IiMm8ReriWJOPeM7YMYOo2hYQydxdAoht7E0NsYehdD4xj6K4bex9B5DH2IoUkMTWPoIob+jqFZDM1j6DKGFjF0FUPXMfQxhj7F0E0MLekQupWep40lyUCfPj8HOSVXKlc2DwyLhoa1HZ0cTIu0/MYbw3DOkukxhn+ZDmK4gGkohuViSMXQPzHE0CvTwky0mK5laG/DhDKGGG5g6IWJfYihuxi6jyGGSbcM6fP1BQphyR2m7fpUNXqlC3jUF+aeiTN/OjfHpW4GlriEmoGO5dktd3astLGKPQ/ALnmwdIznTADbtnGqHTnh1MJHswyKJJUBFNCI241/IwahXzHdsWIKnyY5lmYKUZbckfaEs6PY08DR5E5ayfQ+zUKitGLDkRpdASTjxX/hXQqXiHBaCkL0IwFALrVWG6eYRiVP/doENCk+Hfp8aVMAuNFH5MFzg0vL5CstmXYGfVWJ3HI1vLSSU1wYL3K+3wq6ZUnWf8t2YS4LCig3oYa6FDZUWgRGjSlpyGRYOhesH7LiC3bAjDzGFiua8fih8BwcsFOE8woqIrmgWQ2Cj3czWzLdqYFeg3Bmd2pNusVSyTNJG+N8SlB+AhRNSGdUgtR9whYU6k5x1fwJWDZIdYYADy1SD23BQ669dqEekaktF3yfLHAYBGqGBbAuoAdGWMkZEQR3/0g6mr+8qmBUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2j7IuGcEMqHibdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4CuzfbfhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNS8eaOBgXv9trTmVtbsHcjKUjkw9b4FyR6nGCVQV/NXkRGoKQscMigyN+CBGxCx55dc4BXYyDMTyhCSgk7ylkejHzwdkWCAxodEVYIAP6LWQLqnKCPo6EGZckgzdmKaHEuAh2dSeyZXnidpf28SjIhNq5hXGgpYZNJz5giFvgATTsvjVMCWCpkxbZ6oV74i3yfr+BwkzltRyEpYxnKZYIUxiNIYFc45sJqCthaaORmamwlocJOqqBpMTYvf5A/ERyKHSsCl5NBzVrmk8kGYJ1M3TVteEEtw/3YYkKIhMCJANi9UzqXhDGxkk95MQH4MwGfpsk5KB2DPAeRofuaagn0eEx0yQqc90n2bdAUMAuNkKwATfPpyY8om37Xh3o9gLg1YRFuhf6vSF1ruIH8ETtXJrSjk+IRQqMdHofkf8ks3ey9tfSGUbf49/vL9XxrnGMA=",CourierObliqueCompressed="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",CourierCompressed="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",HelveticaBoldCompressed="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",HelveticaBoldObliqueCompressed="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",HelveticaObliqueCompressed="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",HelveticaCompressed="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",TimesBoldCompressed="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",TimesBoldItalicCompressed="eJyFnV9TG0myxb8K0U/3RjC7NgZj5o0ZZnYGz5pZGyH3bsyDEA3oImhWfxCajf3ut1Xqyjx5Mkt+cbh/p9RdlZV1qrrVJf5T/dg+PjZPi+r76urvy/nortk7PPpwfLh39P7DyUm1X/3cPi0+jR6brsDl5LGZf/dDO735dTGaTsYbdTmdorq3UfdUHj1Opmss0MFhM7m731xwU7Y73pY+fbqbdqW+e3vUkfnPk9fm5vfJYnxffb+YLZv96sf70Ww0XjSzL83msz+9Lpqnm+bmc/s4euqr+cMP7Wv1/b++O3jzZv+7g7cf9k9O3u+fHLz9Y78adGVn08lT83s7nywm7dPmSl0xFS7vJ+OHp2Y+r74/6vhVM5unYtWbNwd/efPmTXeNT+1iMt605Mf2eT3bNGLvf8b/u/f25MPR/ubf4/Tvyebfkzfp33fp3+O905v2utn7sp4vmsf53q9P43b23M5Gi+bmL3t7p9Pp3ufN2eZ7n5t5M3vp6DaYk/neaG8xG900j6PZw157u/fb5KldrJ+b735puk+d/m1v9HTz13a2N+k+PF9ezyc3k9Fs0sz/0lX3p+4yN5Onuy/j+yZ1QKrFl0X3kdHsJqtdwR9Hz7/0ffL+/cl+9TUfHb4/2K9O5+NNpGed+OHdfnXWyHEX4+P96svi5pdhV/Yg/feq++/bg7fb/vp7s5hNxl1E//Wfavi1+v5gE9lPXU3mz6MukP/d3+J3XcwSbl7H09Gj8KOjoy3/97LtQnU9VeVNf6Kn5eP1pqfunrx2006no5nwD+/ebflzMxtvMj4Lx8cftsLosZPmXXi0ZvkzqQapy732PJo1T9PmtiTZj0n1RvPNGecPqhz3yvN0ORcqMRt3A3XkL3G/fr5vnnzxrimTVltykBs5n47m9742fzaz1tP2qfFwsQpKLu5nTVD2tl3OAjp5CcrOJ68BbF6aoG+bOKZPE6iwhGjcTtsnj+fN48RK0gPTjQ842vx7OZp6fDdrupEcNPPfy2aevEZT8KDve637+/fHW3bq0Q8e/ahpe9Cf7MyX+smjn/0H/+aHwC9+UP7qG3buT/9R0du3W/Sbtjuf6+++Ep88uvDn+t2X+oevxGewjvdb9MWf69Kfa+DPdeVrP/SlvvrT1x790yffdTeZPTQLYxsyRq87zY5T/hx5yrF4yngyGU9m4+Wj77XlxrXn3dQTDJHkb6Yy6lMeXQs6PDzsx1jgv75UcOVb/8E73433PkgTj/7Pn+vBl9IhLGn/6K8YmE5ge8/BqPdDaObR3Ndr4Sux9CF88Um48pV49R9c+0r8qejwg+aXTYSDg9zrMJna8ruycTGZ3hSn+pt2FcTZzM46EyzSQk2T421u/+1mYYg+K59ZR3PH7bSdTQI+bwpnGS9n3TQ+XvsuS8NmPklL18D+t6uWeFjdLSed8tgu4pXDRk4n/oZMoc+JczsJWLB+6lZy4XLgZnR3F01pW45LMVpwbPqumTU3/qPdWmh0Nxs9g6nlj153dxFN0EoN7/VoviPCu9XC+ks6wOrdXUGOzXQ6eZ5P5oHUtXVx3y7NWtFN+ya5tedmo5fABkfj5SJauiQvv502r16jkZXx42g8i5Y717MmuvBNuxiNzYhTadL1JAZAlBmOQ61sc9OFNFqjLp/uRrPl43S0DC7T3nXLzIfgdCNsB/TLo8nZk2xwp7rqOXjf53w7u7ntlnlmXagLFDvH6vrDcrnAhV7gncwJs5vHzueWU7yCnGmkTDzjZjPk5/Ng+poW1uZtoZ5tkPTd6OxuiLush16TlZzrUJ2Ybf7p5G+zRiemsEv1dLbvdG3kaiCTxc3kZXITdFJta6bL5WBoaLXth3SdF3xIJ0gagzJVpzsvGiTQVH9KvZ4ZKIp9GKTmNBr0M9RD0hP0Ab0HcBfRO4bOIeAWxN5iUkOPD4+z2D/0CC5FnqOrQpsH2so4Lp+iCujwKOWotVRd50dn0xup0tmsrUI4vVFqhphmAidH1MWrvfrhSR+waftn83QXXP6zvYTew0WN1OTYOUgCUYcXTyOylrUVga6mturdj4+c9tF9OwtadUFX1zAURsEXcok32WwLYRvQBTRidmozjzfmy7TGmQX1pRSUKJY42Wo2wcfldDF5nq6DelEDNcltd+RE6lZbi8loejO5vfV9tS5bwyd7HU3YXcny08402zHrlKVxoaOfSjZIHQqeEo/NX+lE+PCtWzDgEzi5AZq1D80T3gaJOc6au8ncLnx1iNLKS6djPy7kXmTZjWpzN6LBphWkDMyCobU8lmRcFlLqn2Tahyd55Zqec9mnYNLKnxb3vq4/Fg1wGvnWu7xsWxRMpinOjqVZ8LS0fNiRlYUA/1kaGqVKXZR6pDT1lDx3XrpyeRxf7FyW8IyZ1wXNdBE87lkYk1ZPXLU7HDFY6b3PJhe0xNZIQxWuM3UsUOj1PtWucI6P0Me7BJ51iQxVk2nE3cJ8OMj5OgonpI/hIkPuMGzH6T2MfKkTmWJ5ofFrITV/LY3x32j+y3HoonY/msKztzzIN7cm9Jxb+iJyefFlu2zSVPtGB9I6SILA87Pc31gzxQb13Rr16iic67+E613J4PgWRzKss4noG4+2MOX/WKjEkjL/UOz8ZjKOjPasMKHNdrbmk+0frW5huft5d17vXFqfFs55WjTp+HbgovDs8M9g4tSlSGG6LznFQ9iUN9mrzEpAz7ZzKNgq6PPdnVeatneb/n5qg0dVrTdTSR8v5QzqTlUYyXfhTYM8X4GZXGNeSN+ncB6H7w/dFKGeXxrjPy0330X+sV99bGZPv48ms803yP+qTjdfVVf7370/+mO/P9q6h0HbelrUmzrCv22O3sjR1lUMwoahcNEdHelRrgIgSA7DpasM3Y5/g4zzGKUPmWHbp0MGbQcOon9sjqT1l/YoxwyRab0KA3PWgW/9oND6Qdj6gW/9oNj6QdD6vPAzLNkJkqvu6ETaMOyOuqk4H9bd4bEe5SYBgqorhVcCOnyY8bI7eieFlvlsgEyAgMNVgOYAAaIAgSIBAiYBAtYHSMmLacPKHK3tkcRHEcZnS/tCOF4F0aAVTiNXOQ/frMAYFkQDWXg4mrMKQ1oQZbbwKL1F9DkuEiW68DjbReaUF4FGvXAa+pnD+M/oMkDkBMojO8jqwF+OjUH4rvAFFiFSIXwFsxC5FD5nGyJY78gYDCQjdJHMwEoEkZ8I96aSpchZsgb2Iog8RnhkNCJ6txGJLEd47Dsis/mIwA4kgrWhjF98q1cerQNE1iTc+1NvE+hPgsifhJM/KWd/ygr4kyDyJ+GhP2UV/EkQDTDh0QAT0Q8wkWiACY8HmMg8wEQgfxJO/pQ5+FNGlwEif1Ie+VNWB/5y7E/Cd4Uv8CeRCuEr+JPIpfA5fxLB+lPG4E8ZoT9lBv4kiPxJuPenLEX+lDXwJ0HkT8IjfxLR+5NI5E/CY38Smf1JBPYnEaw/ZfziW73yaB0g8ifh3p8wNGhSlpNTWZHsikT2LCODcVlO7mXF0MJMEfAxy2k0WjEakraEH5dWp8FpxXiE2jI8TK1KVmdF8jsjgukZflniZH8kRh5oigwK9WA3tOI34x/4otV3xb/gkLbMzvg7r7SqNUyjgWsajtZpBPBPy8lEreid1OiRnZoC4KmWk7FaMXJXW8JbrNXJZ60Ym60tw45rVbZdq1rvNdpLIU6rAl+XOPmxFb0pK0FLRkqGjBLZsZHYjEEEK0ZKRoxSaMNQAEwYKVkASpEBoO6HP6o0+FGKhz6W4IGPGtkuSmS6IIHlAr2MKdmtkSKzhQKD8OpstCh9I8qByaJajnLBYLHEjig7c0XNWisoYKxA0VYBg6kiJUtFyRsqqJGdggxmipSsFKXISFH3NooqmShKsYViCTZQ1Ng+UbPmCcpLGJNVSNcxJdNEyVtm33r0S0FklsLJKZWzTWYFPFIQGaTw0B2zCtYoiEas8Gi4iujHqkg0UIXHo1RkHqIikAsKJwvMHPwvo8sAkfMpj2wvqwN/OTY84bvCF1idSIXwFUxO5FL4nL2JYL0tYzC2jNDVMgNLE0R+JtybWZYiJ8sa2Jgg8jDhkYGJ6N1LJLIu4bFvicymJQI7lgjWrjJ+8a1eebQOEFmUcO9Pua5oUMrIoVQgiwKBPUokMCll5FIqhDYlMviUMhppKkRDTVU/1lSjwaZCPNpU5+GmCtmVCuRXIoBhCbuMGFkWCJFniTwIrsmupcLOWAa+pVoplgXnUr0YS+ddqljzEg7uJQztSyD4lzIyMBW8g4kWWZiI4GHKyMRUiFxMVW9jqpGPqRAbmersZKqwlalivUz4S9D+VcDWESM/U8EbWq4YGpoyMjQVyNBAYEMTCQxNGRmaCqGhiQyGpowGoQrRIFTVD0LVaBCqEA9C1XkQqkKGpgIZmghgaMIuI0aGBkJkaCIPgmuyoamwM5aBoalWimXB0FQvxtIZmirW0ISDoQlDQxMIhqaMDE0Fb2iiRYYmIhiaMjI0FSJDU9UbmmpkaCrEhqY6G5oqbGiqWEMT/hK0fxWwjaG9YyYxYQFbvdVm/W+UqANlQmaWMVmZYDayXgAby4RMLOPQwnoRDCwTGnIZRwMua364ZYUGW8bxUMsqD7TMybIyJsPqMdhVTy49IasSHBlVLw7cldikMt4RscCgshJHrGBOWS1EzBlT5taWegqm1BO0pB6BIWVCdpSxN6Neiayol8CIMiEbyjgyoax5C8oKGVDGsf1klc0nc7aezK3x9PTFtXXlyNoTWkFl7NdP/SBAvxFEhiOcHEc5W05WwHMEkekID10nq2A7gmgUCY+GkYh+HIlEA0l4PJJE5qEkArmPcLKfzMF/MroMEDmQ8siCsjrwl2MTEr4rfIENiVQIX8GIRC6Fz1mRCNaLMgYzygjdKDOwI0HkR8K9IWUpcqSsgSUJIk8SHpmSiN6VRCJbEh77kshsTCKwM4lgrSnjF9/qlUfrAJE9CXf+9ENHT7ujgyM5yp8FlL0EkAkpcLgC0BxIQBIkYBIfYH1ogOSBrWiQMlCOcgsAmeoCh+oCzdUFRF0OijQEmDQEWN+QLTkzcT/zcT/zcT8rxP0sjPuZj/tZEPezIO5nLu5nPu5nvRkcSXs2PnAoR7XRamuDZzTue9qbLkZGEIVHOMVIeBQoEX20RKKQCee4icDBE8FGUDCFMfMrHwYIaEa1L8WhFR7EN21itPHNiOObOcc38zC+WQzimyWOb+Yuvllw8c0CxTdjjm/Pr3wYML49qn0pF9/MXXx/7kPbT4Y/Y1iR5ZAiI4NSwTiUYrUoZeBECsGKFIoXKcphAzaSuT4d5aYAyi0BZBoCHNoBNDcDkLQCmDQCWN8GILkJira/cdk16uAkI2pjE3RQkxd/hhU6qIk7CHbdWh50XBN1XBN13EQyNh3lugMy1QQOtQSaKwNI6gJMqqKsldVaOrJru4RMTYC75V6iuSaAaMoFReoILN8GAMr5oKj/EVOTEDMzfmd2tCck9wKA7G1AEs6Ns557Uz33fnpesNLz0EXPvYGeB955HtjmuXPMc2+W5/2gP5T2jGyKneOgBxRk3TkNeqA2687NoAdGWXcOgx5IboEiGfRCrN74NsmIRxS3qQnbZIY7YN/UJmhqEzS1tUe+zm2hgm1YwdbXhAcYKEEdZYAB8rHXASZoaQosfUOWhYYsw4YsfUP4fgyUoCHLINhLk1cfq+2TkHd6ZO8sEwpuKhN395OJ2lvJhMK7yKTQDWRiOfyAcvgV6VD+iIkOKCc6Im8/HynRkUKiA7au9NEkOjBypY99osORr3NbqGAbVrD1NeFEByWooyQ6IGuTH/usPpC4S1YDsrVWjrVWKrVWxLVWRWutTCOrLPu9kLU98rVe+9qZqQ7HBQk0REiNRgsV8QOHCtAYIjUeTlSIRxbJNMhIpfFmVUgPEiijSaUByWqQ+lTEjwIu4EcslaAhQyqPEZJ5SFu5LQo7wxKOeSryrYazE5AamwIV2t12tgpSyTWsuiyNMPYSUiNboSLfGsNsNqTGvkOF2IJIZjci2RqTFddFYWdgvHP9Vm0f7b/9IEdyYwfIrORV2DwveHecj4bmqLZH4nyK0MuEmsfZ268OfusbrIXW/mxrfzbcc9/X2e25dzxqKW5Ip3MPPaoDRPWN9qOTFMUBt2FTcY5ItA27l2xKQHBIoBCxGgXKlrkqXXNYEuqiQM0j9VuNjILpB1T4UQ5seUD1BXq7w8AKopAqj4KZ1St/7qFHdYCo6sLLlY4ClbW1L87BEe6u8Kna3vdvlwXpyK6FEsp3zYCCNVHibiGUqF39JESrmcToO6bEzNdLidilzKc8pE4DRG0RTg0SHrVKRN80kah9wrmRInBLRbDNFUxtxi8bGFGb3ZcNzKM2R182sERt9l82sMBt5i8bGHObzQg/LQrcfqtyFKwaxsIWCSJiC3BcrOqiY2UXIytTpKxI8cpfnJ4GiGIknKIjPIqLiD4iIlEshHMUROD2i2BbLti2+aJv7qEe2Uc2F9hIQMFTnAtqGlD7FOfCNAgYPau5gGYAsc+hLvoZCo7s470LPy+poN8TXfSzkR59NSVro9HXRBdV9A3RBRrtISEKszNa5lHAI6NliULvjZYF7gQ2WsbUHbhWZUQdU1irknrl4zn06Kv/YO1LcbdFy9deMtu5oQMtp160InWlFaP+tCV8p1qdetaK3L1W5T62qu1oq1Fvux+eCDn1+64fnoiKXBV6ZVjgXwvnqQvlOSuKv7/Q67BpFRIDKaUFSpQUKEUpgbpPCFQpHVDiZECNUwE1mwioUBrQZviAUgqUN8P7Aldh5Ich/RqeoQ7LcrcX9oj3at4GCD0uiLpbOPW18KijRfS9LBJ1sXDuXxG4c0WwPSuYuhX3+DKiDi3s8SX1ysdz6NFX/8Hal+Lui7bE9pJ9xoVdyAr1JMvUoSxH/cplfPdyCepllrmzWec+Z912PauUASRflhXKBydHaUGFroo9NiwqX4tnq4uf4cxh2SeQ7JmD1FFGSaMCpYsKUaKo6lNENUoOFTgtVOGEUMWmgnJKArNz1jHq+NLOWZavgugOA/Y1+GwdlONODTeY9lp+ugO9KYg6Uzj1pfCoK0X0PSkSdaRw7kcRuBtFsL0omDoRn+Yxoi4sPM0j9crHc+jRV//B2pfizose8PUS3qQfEqK+czfpzKO+i27SWaK+8zfpLHDf8U06Y+o73LrAiPqusHWB1Csfz6FHX/0Ha1+K+y56038r/d5324cjOcqfBZQ7C5DpJ+BwBaC5dwBJxwCTPgHWdweQ3BOK9JWpdGRzLiGbbgkFmZa4S7JEbX4lRKmVGGVVYiahErG5tEH0nuQGNaaTGtulCdnX4rbIb2pJPOx488U0YLvDJSHavZIYbVzZsM2XzUfSLfINMyBbQeVYQaVSE0W8zUYVraMy2ZukSLYlCeKXEv9R4Y6GdGR3NCQU7GhI3O1oSNTuaEgo3NGQFNrRkBjtaEjM7Gj4XG1fDjnUIzsQEgqyPnGX9YnarE8ofNUrKTQeErPvrCVkk/9z76Hv9CinNSLjnCoMzHkGvr2DQnsHYXsHvr3cS6AE7R3Q+P8MvaRkY/Xb7+E+9y6vR7U9krxThPm1pfmRGfS+IAqJ8CguIvrgiEQREh6HSWSOlQiUIMIpS/AR5jtClC+FR5ikDvy5OX2E74pVkEgiFWJVSCmRS7FyySWCzTB8SksZMvSoDhBlXfRItpfy91yQeoIonMKjcIrowykShVN4HE6ROZwiUOoJp9TLHFJPEKWe8ij1sjrw5+bUE74rVkHqiVSIVSH1RC7FyqWeCDb1cC8VZcjQozpAlHrRXqosudcicyXi1yJjNQxw8bXIuAAHe+drkXEhF/j4tchY5YR17+C8CwVO3l3v4IRlBqVrunS26rdjHqW2LbAz5qU0t4V2x9ynvJUp8d3LSWGWDktCXRR4QBRfTtoW6Lo73dBtV7fpyK7CE8q3Q4CChXnibmGeqF2YJ0TL78T0FkFZ3tauxK7IL/vRrO25sDG4dOMWeBgQGaGAePWtiq6+leUBCEj26wlK2/UO5CjXGpBs11Nkt+spx+16SmW7niLdrqdMt+spy9v1lMh2PUHjdrrd1nWoZHtjqmXsJxrfSrkvRRS30tyXAoX7UigsSadIk05Z0Pj79fN9Y6u02cm3fX0sHdmXzRLS1ziEbe5vTyRL5f4WULD7MnG3+zJRu/syIcpLUGhfZmI5LwHZTZgbJPe32vqZadbMt1723CGyU4II8+Zx4jNnacos/SXoVyGUuxf8EpXXcBTxjgNV9N0cZUF/yu8+CFmZo7U98m3wLyPmaRVd2L3Wxpz8OH6tjUXvzO61Nubs0f61NhasW7vX2oiDb7vbAOaRg0e3ASyRl5duA1hmV3e3AczJ3zMHMxREHiic7F545IYieuMXidxfOE8BIrAVimAnA8E0I2ROg1uxmRsyDk7As4RwmiqU74hQMGmo5GcO0Wj6EM5ziAil6PFskjlMKYLIMoSzGWUBZhhBNM0Ij+YaEf2EIxLNOsLjqUdknn9EoElIOM1EmfN0lPnMR4MnJuE0OymPpqisBvNUlpa+NM9YwqNpS8TyfMATmPB4FhOZpzIRSilEk1rGK4/WASq0Opro3LvMeTaI32WOVZ76drzLHBcJpsH4XeZYdVNi4V3mWKbpMX6XOVRxqowfWMRqOG0WH1jEBXgK3fnAIi7kptP4gUWs8tRqVJxRrMCTiFV5srVqOKHYIsHEawvw9GtVNwlb2U0mVqYJ2Yo8LRuVHY1EO0XbnaNFYWek3aRN6jcjHU3gVCCYxm0Jnsyt6qZ0K+/uCze9GxUneSuwc1rVubXdqgrTpBV48rdquASwRYKFgC3AywGrFhYFtpBbGliZFwhW5WWCUd1iwaizUjzdwsGqvHwgNVxEmDLRUsIUWJY+6ZYVVg0XF7bIt2Zit9CwamG5YQu5RYeVdyczL0CMuCoJ66KwM2J+YTLoVyOHR3Ikz6MVyRshiuxzaeX4MFqpPIFWpE+UleljZGX52bESeYS/RWaXCiFqi9+lQjxqVbhLhSRqX7BLhQRuqdulQpja7Hd3RJxaX9jdEYlRHMq7OyKdIlLa3RGpHJt4d0ekUZR4o4OnFKFwo4OXouiUNjp4lSITb3TwGkcl2ujgFYqI2QVAiGLhdwEQj6IQ7gIgidof7AIggVvudgEQpjZHb8/HCkWg+PZ8LEfx2PX2fFyColN+ez7WOValt+djlSJnXxtnRtEKXhtnIYpQ/No4axSV6LVxVjgS/rVx5tR6+bsMpxGj1qtArVchar2qvvWqUetV4Narwq1XxbZeObW+/5H4U0+o5RlTuzOOWp013+asUIsz5vZmzq3N3LY1U9vSq76VH/TIvtV7ha0DFLzVe0WtAmrf6r0yrQFGb/VeQSuA2Ld6N2jzo/rbVxvTkf5oqyC7UFdBfyMrHdmN4gkFe8ETd9vAE7U7wBMKf+wqKbQtPDH7s1YJ2U3fG5Te/337Vg7lORAwCQIw+0QIBHwOBFie/gDTxzkA9ZVTgPmdU0DyOEeZvTfaEvOG8wbRZ5qgwfpLsMgKDcbnCsdA8YdgobT84qki/V1TZVEU5BHBsfTe5rnAkeTuxD70TIgeJW5Ya0/bBhFoS61t4+5tg+7lm3iUop6XG3ZkQS/zi9Mb5u+MN3Rpmr300VkGT3oTd493E7XPdBMKXwxPCj3iTSzojKV5mDvsPXTbhiF6KKA8HgHZn91VjsmpVJJQkSahMqkusL66QOT3dgWlp8zSHn20rMiml3LMLqWSXIo4t1TR1FImmaVIEkvQSOaBIRohIDt3DZ0NAndz1xBNEBDNXUNjgcDM3DVEA1SUR8ARkK3/ad+kZ15v5Ege9CmSB62AzAM/5W6Dx5CtDwrbDR5D43zA9DGpMDE+LaYPRIeVewo6rPyjz2FvfB/kFOJ7gGx3KsfuVCrdqYjyEhTtaGU5LwFJrwoSv9NORLvTzl7aI2t3w4LdDUO7G3q7GxbtbhjY3TCwu2Fod2t75Gu9drWrjUvW3iVr75J1wSXr0CVr75J14JJ14JK1c8nau2Tdu+SBtEdcElDwa5g1uSRQ+7uXdeCSoNAvXNbokoDsb1nWFX5RVlfu27G6cl+J1c4lgbsvv+rKfeNVV/5rrrry323VFX+hVVfuW6waXBIJfl9VV2aRWFd+kVhXfpFYO6M8Vu7WiDUbJZ7FrhHryq8R6ypYI9aV+xqprnCNWFdujVhXfo1YV2aNWFd+jVg7s0TBrxHryq8R68AvUeI1Yl35NWJd+TVi7T2zJs/U4CztkU/nZSF3l2HuLn3usmeCEmT1Msjqpc1qfEzfN889pmdOXhg/pmfRu6J7TM+c/dE/pmfBOqV7TE8cPNNtNmMeuWe02Ywl8tHSZjOW2VHdZjPm5K2Zj3xPs8sKJ6sVHuWsiD5xRaLsFc6JKgJnqwhxyrIbZ07jUrHx5YxxrAtjgxKBbVqFwKtF9IatUuDaIpJ1C2f/FsGZeFbYyTMHOxdEni6cjT0LbXA9Z/EihD4vamD2orHji1CwfdGd94vCE4AIPAtkgaeCzIP5IEvLABWGYDg9iFgeajxRCI9nC5FLI9HNGyLYkUjf5PUxib7JCySaRYrf5AW6n0uib/ICiWeU8Ju8QLPzSvRNnpdgdkFKEwxK0RyDup9mUKWZBqV4ssESPN+gRlMOSjTrgDQKs4TnHpRo+kEpGhao+5GBKg0OlHgAoMZjALXiMOA5CSSyB6OYmQkUtCDE7K6o8RRltGCWQt1PVEYN5irUabpCiWcs1NykBSLPWyDB1IWUZi+UeAIDrY0v76Yx1MKZDAsEkxnKPJ+hVpjSsIib1VDkiQ01nttA4+kNpGCGA3UZ0/JwD6c61HeOaZ7wUIrnPCyxY9S7mQ81M+qvO3Jd5a/srjF4h4L0D3RcYzgABX+K45qaD9T+0Y3roLmg0J/XuDbNA2b+kMZ4M+ikWZujB3sUfWE5lmWmRw8BCs8hW1M8eghQfI78183NWQQ+hDA809aStz/4f3M9zb/5v33B06hWakxaZKNGlFuACF+XAg7Jh1RtGHF+0QaQvEQBTF4tUHZb8R+825DuMtNmPk/PxgU2pgj84UtB9m9WCqbf/tmw2yq/Pn+bHVi01p+Z/Fa5/V2i28g+VRFjVKR/tTQj+gt0t9TV2+njoQ/HNjgPGA5A9hcKHtwkDNx9cf/A8QRsv89/MHMsMPod9wcT6Acf6IdCoB94PlNqw/9QDP+DnbSU2S558F1iRygGvfDOf6xSV+x65z8u4jtoxzv/cQnqttI7/7HMnenfvw/jxV286/37uIjv+ML797Eap0Pp/ftYpiQpvH+/VTeO9yLz8FP2YEDZgxGZM4KQf3lQUdsfbb/t3Rxt3gg/kCMN5OZobY9sZyTkwttilfurZASXyujVf3AdILqycH95Mx9BHQyHihj+WjjPusSpXlb0lYNJEaoGFCoG9DU8wzqmVCWUfIXyxAu1yQiqktGr/+A6QFQD4f7y9LYo1IIUqAwpr8WzrcsK1ZBlX1FZjUAVhUHlhL0Gn11HjKqigq9E/g1YqENGUIWMXv0H1wGi60d/5qmX0Ez6y2cEl8/o1X9wHSC6vHB3+byuKSxrrWy1hKbN7SLL2//3N4r4gepG2mbxePtH7yPNXDA45Sz+mGyRijR5DhJpdsnvS8zjeszt80yr5QuGWr7diFVTnajE82hcuKxugLI42gFmSmgKdtGV9f97IbII7hF/j0KYi/MvLBB2xcM9n6FIH+1js/37SseG2Bd5BMtfV7I42LcmGi79rGJ3qgmm3WfC6UUi4Wa/mVB5w9bgzW9zbd/azGToSO2J5K7F+MwvKS/QAdsLv/Sr7m26vOBSG5AdcC9uUQ3cvZn3wstnwPaFvRezUAamd5jCWnvk69wWKtiGFWx9TdzaVpWgjq19dfDFLF0FSX5vg9/NC5Xemacja/gJ2VfLEwoW9om7aSFRu4RPiJbkidF9fGLmN3wTsevxlUuoVYWPElaVe5SwMgkFKG5TE7YpeBaxMgmlKGgqP7JYmYRa+YRaFRJqFSbUyifUqphQqyChVj6hVj6hVj6hXk3wX33wX33wXwvBfw2D/xoH/9UH/zUI/msQ/LVLobVv2JqnKMJcPPgKxiv4oT/++/9jjgIE",TimesItalicCompressed="eJyNnV1320aWtf+KF6/mXcvpsWTJsnPnTtLdsdNx7ESGMb36gpZgmSNKcEhRCjNr/vsLgqhz9tlnFz03XsaziwDqVNWuDxSg/5l919/cdLd3s29n7/+5Wc+vukcnZ2fHZ49On5+dHs8ez/7W3979PL/phgS/LW669Tc/3s2Xi4udslkuUXnkyvxmsdyiNsCmW1x93l3nn93lYnMzkH36l7dXyyHdN0enfzkd2Ppviz+6y18WdxefZ9/erTbd49l3n+er+cVdt/q12/3+hz/uutvL7vJdfzO/ne7wr3/t/5h9+69vjp69ePzN8dHZ46MnR08eP3/+9N+PZ+dD4tVycdv90q8Xd4v+dnexJ09A+O3z4uL6tluvZ9+eDvx9t1qPyWZPnhz/5cmTJ8NFfu7vFhe77HzXf9mudjl59B8X/+/R0Yvnp493/56N/77Y/fviyfjv0/Hfs0cvL/uP3aNft+u77maI0e1Fv/rSr+Z33eVfHj16uVw+erc72/rRu27dre4Hug/mYv1o/uhuNb/sbuar60f9p0c/LW77u+2X7pt/dMOvXv790fz28j/71aPF8OP15uN6cbmYrxbd+i/D7f4wXOZycXv168XnbiyF8S5+vRt+Ml9dFnVI+N38yz+mgnl2+vTx7EM5Ojk5ejx7ub7YhXo1iM8H8fvOjscgz369u/xHM/v26fH43/fDf8+e7cvrn93danExBPRf/zNrPsy+Pd4F9ufhRtZf5kMc//fxHj99+nSPuz8ulvMb4yfHU/LfN/0QqY9LU06fTMrt5ubjrqCubrN22S+X85Xx5+UqX7rVxa6yF+Hs7PlemN8M0nqITr6z8Q7GEs/al/mqu112n2pS/Jnd3ny9O+P62pRnZ6fTr5abtVGL2cXQRuf5Ep+3Xz53tzn5kJVF7zk5LplcL+frz/lu/uxWfab9bZfh3YNIefd51Ym0n/rNStDFvUi7XvwhYHffibLtdExvF7eiWl30y/4243V3s4iSlcByZwOJdr9v5suMr1bd0JBFNn/fdOvRaoryolToud/7s6OjPXuZ0V8dPTvbo++82h4f79H3+Yc/ZPS3/MO/Z/SPHKYfvT2enOzRq3xfrz37p8/26Kfc9P6Zf/hzvok3+e5/yane5lTvchn8mu/rt3yu83yu9/num5zqQz59m9F/eVSH3mFEH4fO7Lq7C7ZhbfTjoMV2yr+LnnJS8jFfXywWF4vVxeYmh2KzM+310POIJjL6W7gZ96mMPuYqcSH8N6fqcl4/5R9eZfQ5/3CR0X/nK17nVMtc/iJawnSE7X0RrT4X2iqjdb4vEftNztB9bkIPOdUfGW3zTfzpqaxoh/rVUa08LbVyVUlPPdzJEdTGu8XyssuX3nf1l/2DiHPonb0nuBvHaV45jkr+P+0Ghuiz9put6js+LfvVQvB1VznLxWY1dOMXHsDjoxNoNuvFOHhNrb6MWnSzutosBuWmv9Mjh508nvgrcmVw8Wmh8i360WEoqIYDl/OrK9Wl7TkOxWjAsSu7btV52z899rHQ/Go1/wKmVn76cZhEdCKXHt6P8/WBCB9WKyGyAoj6c6uhy+Xiy3rhDXWYLnhW7z73mzBUTL1+qNtecKv5vfDf+cXmTo1cRiv/tOz+yBo1rIJv5hcrNdr5uOrUhS/7u/lFaHAuLYaCxACYssJm6Dc7TOmGEbcYom5ur+arzc1yvhGX6a+GUea1ON0c8+HFchNqrPGXPuY5PptqQL+6/DQM8sKo0IcnsYf10UfkL4p/vvELPD16Yhe4GVxus8QrmC/PRXd3uWvw67XovJaVkXkfuZ29F0PooW0O0+GhzotC+zGVp3fLsfp51x8rjXdLskT9dLHofGSU7sDG0JeL+8WlKKQ23pkPlkXL8NuOP/JRnviRd4/UBK2jHudd1EYgq/mUfr3QThynMPidU2Pw31RKaEM/8BlAuojPFwaDgAlInGBSRs+emTiteIhLkeX4mJDqgeUyxMVnAuoGvHnU6mh0VB/lq7P5NKp2tuiqEM7sk15DQjaBkyH60DVe/eRsusqy/7O7vRKXfxcv4TM4lUmvHAcbiRC9eXEvYiPZeCNQ1JRXn/vkyNllfvvcr0Su3tDVPQyVUvuVeLmry0rYzukCHrHYs4XFjfVmHOGsxP3GKuhRrPFoq2aCN5vl3eLLcivuizLolTwWR+n4hrHW3WK+vFx8+pTLaptt2JpgvI5X2EOV5YeD1exAr1OXLioFfVuzQa4x7ilzORr6kfoVXHobBgy4/mbTn1V/3d3iJMjMcdVdLdZx2OtNtDLw+lG0C5uJbIZWHeYiHmwaQFrDrESm56pu7bJSpf6LTPvkRRm4jqtccQ3McvnDnRihfFc1wKXyLW9uFZPpqr1jrRd8WRs+HKiVlQD/WWsatZt6UyuRWtdT89x17cr1Lv7NwWEJ21IZF3TLO7HYcxdM2gvpoT/giPUhzs1G5IT6cAuVHGd6W6DQ+yw1jnDOTtHHhwq8GiqyuLVf0wymKMtYI33VU/a/NsOIBffiebmN8kBHeWJ9PvZjZe74Y627/Im6vxKGIWif50tYeCttfDcziQ3ci+KQyd/GUZPXtK+UHw2DLAi17vkqeilmaCpVVah6EPqrHO5aBdYzHKtgg0uoxx09NS13Qn0Tm5j+5LRMsIdu80L57PeVsebq4Gj351g+fruV0e67w9VaXsustXLOl1WP1rOkN5WFwz8PjCd/qPX2dG1fHZZZsfFYGAj42Q42hXgLvrh78ErL/mpX3re9GMX3dS/dZKk05eFUlZZ8dXDO0N2Jhw5/Vqrv7cFufAh56iHc8mtt/IfN7kHkvx/PXner21/mi9Xu8fG/Zi93j6lnj795+uTfj6ejvXsEtL/PiCZPR/j33dGpHe1dJSDMGApvhqMTO8+bcguAoHIEbkUV6L79BxScJyhTyALbLw4FtG84iN6Go992OTqzI4sZoJh7E86Ho1M7z3nJPaCQe+CQe6Al94Ao96BY7oFN7Tqw0U6QvB+Ojp5YETbD4Qs7andJ/ciy5Ahv3SjsB8AAbYajY7vwppwNUAgQcLgK0BIgQBQgUCxAwCxAwKYAObkPWXsIR9t4lOOzzfGZEmF7NUSN1ji1XOfcfIsCbdgQNWTjsjUXFZq0IWrXxlXjNjG3cJOomRvXbd1kbvAmUKs3Tk2/8LcZgQkYIidwruygqOAJhsgYjCt3MDFbhEnkE8a1WZjMjmEC24YJ0TsKRgMpDFykoDa3APYT4/VGo5ylaGAvhshjjCujMTG7jUlkOca175jM5mMCO5AJ0YYKvs8RechoK1Al1MKfJptAfzJE/mSc/Mk5+1NRwJ8MkT8Zl/5UVPAnQ+RPxpU/mZj9ySTyJ+Pan0xmfzKB/Mk4+VPhbzMCfzJE/uRc+VNRwZ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxWM/lQY+FNBbW4B7E/G641G+VPRwJ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxV8nyPykNFWoEqohT9haNCkIieniiLZFYnsWUEG44qc3CuK0sJCEvCxyMnMoqgcLabIthZ18rYoaoOLadjlokpWF0XyuyC+rXBwvsjJ/khUHhiSgBFGTm4YRWWJMUX2xaiTOUZRO2RMwzYZVfbKqEbDDBq6ZhDAOgNvKy2UTTSKX2neyk5DAvDUyMlYo6jcNabIFht18tkoarONadhxo8q2G9XovUG7rwTyocK3NX6o1IQpO0FLRkqGjBLZcZDYjEEEK0ZKRoyStGFIACaMlCwYJWXAqGf7RZXMFyVtvZiCjRc1sl2UyHRBeispGC5SstsgKbOFBGC1SMloUVI2i3o2WVTJYlHSBosp2F5RY3NFLVorKGisgMFWgbayhbGlonSwaSo7BRnMFClZKUrKSFHPNooqmShK2kIxBRsoamyfqEXzBOVehuxB0q2m9XIRljnlHv3SEJmlcXJK52yTRQGPNEQGaVy6Y1HBGg2RLxpXpmhidkSTyA6Nay80mY3QBHJB42SBhb/NCMzPEDmfc2V7RQXPM0SGZ1y5nYnZ6kwinzOuTc5kdjgT2N5MiN5WMBpbYeBqBbW5BbCfGa83GuVkRQMbM0QeZlwZmInZvUwi6zKufctkNi0T2LFMiHZV8H2OyENGW4EqoRb+VO4VDcoZOZQLZFEgsEeZBCbljFzKBWlTJoNPOSOjckE5lavZqlwjr3JBm5Xr7FaukF25QH5lwlvBwLGckWWBoDzLZDAtZ+RaLijbcjX7lmtkXC5o53KdrcsV9i5XonkZR/cyCPZlrBUthA3MhQPNSlmYieBhzsjEXFAu5mq2MdfIx1zQRuY6O5krbGWuRC8zfi+C8yDYVrFa5IWhlRtDQ3NGhuYCGRoIbGgmgaE5I0NzQRqayWBozsjQXFCG5mo2NNfI0FzQhuY6G5orZGgukKGZ8FYwMDRnZGggKEMzGQzNGRmaC8rQXM2G5hoZmgva0FxnQ3OFDc2VaGjG0dAMgqEZa0ULYUNz4UCzUoZmIhiaMzI0F5ShuZoNzTUyNBe0obnOhuYKG5or0dCM34vgPAi2VawWeWFoq+n7JO5AhZCZFUxWZpiNbBLAxgohEytYWtgkgoEVQvZVsDKvomXrKgoZV8HatorKplU4WVbBZFgTfpsImFUhZFWGlVFNIthUIWRSBSuLKlo2qKKQPRWszamobE2FszEVHm1pomhKEwJLmkibajjbUcHVJqGsaJLAiAohGypYmVDRsgUVhQyoYG0/RWXzKZytp/BoPBO9T2F4SGSbiY6tsJupEaDfGCLDMU6O45wtpyjgOYbIdIxL1ykq2I4h8h3jynhMzM5jElmPce09JrP5mEDuY5zsp/C3GYEBGSIHcq4sqKjgQYbIhIwrFzIx25BJ5EPGtRGZzE5kAluRCdGLCkYzKgzcqKA2twD2I+P1RqMcqWhgSYbIk4wrUzIxu5JJZEvGtS+ZzMZkAjuTCdGaCr7PEXnIaCtQJdTZn/460Je7K/uRBdFR8RJAMaTOMZpOLZCOPEjOPD7OSmiclIbt6HyslHZUcgAo3C5wuF2g5XYBUZGDYhkBZhkBNmVkT76f4r733+8x7oCih3+f4g4cMgK0ZASQ3S4wu11g0+0CKXF39N689PvJBvyojUexF/me2v1EJ9PFyBii8BinGBlXgTIxR8skCplxjpsJHDwTYgQNUxgLf5/D0GTUCkShNS7iO77DGONbEMe3cI5v4TK+RRTxLRLHt/AU3yKk+BaB4lswx3fi73MYmoxagTi+haf4/m0K7dHRqR2aFwErIUUWDQoEdCjAZlHA3IkAuhUBLF4EqIQN2G6keeZHJSuASk4AhYwAh3wALdkAZLkAZpkANuUBSMmCo/0HLodMPTUUE3Q5U10Z+iHSmepkpuCF24BzXjuR107kdbGrYn5kFdJRHIw7xzrq1Ibgjnx47czuxFnvw7/x0LtaZ9TXuhA6W8fe2zpL3a1L0N86LJMAZFajnU1fMA0VYmWDofEoDp1GVCoEojAN2Auvpua/N4NX2PoBlSYDSMykXlHTBxrnT69CwwfmhedsajJA4iTp1dTon1p+5rFbeIWNHpDoDF5Rowcau4BXodEDI+N/BY0eSLT7V9Doj4108SiOcF9hm0eUR7ivqM0jhTYPOA58X4U2D4wGvq+mlgZH+Z77yg328gb7fCfcyEAR92hNDFAcib/CBuZoEwpnkyvUplJ7NrL2bHLt4fkYKKJebUS92oR69Xq2XwnZT33HoziLH5GYwI88zd1HGqftI5Iz9lGhyfrISvgBlfA76kIeuhjr11jREeXwv6aKjhQqOuBYKq9DRQdGsX89VfQTy0EfLfN1qujAkz++xooOSC4tvQ4VHVhcUHqNFd3RJh7lu95U7noj73qT75prNSjirjfk96+hVjvZxqN819t8d6Grw3ZBAjURUlVroSS54VACakOk6uZEibhlkUyNjFRqb1GFyk8CtUJSqUGyKtomJcnNlBPkFkspqPGSyu2YZG7SUe5rFYkbOqmq9VCSr1VVdgJSdfOiRNzSSCarIJVcI6qbqnAwMNJWKMnXAsNmQ+r/JTDJgkhmNyI5GlMUt1XhYGCyc/002y/tH/uRDfMAhZG8C7v1gv24fnfUhKM2pGzjsvOI0qLyjorl7J+mDD+1RJZLQNjE9xTfuT8mRJmsvHNPKmQX30cn1OYfcu7V++gkqTjga9iUR46Ieg17kmKVgOCQQCFiVQUqpoFwRaGpCW3tVBxAUnMYYwIVzNygZHw4sPUGNSWY7A4Da4hC6lwFs6gQxoKajNr8Qw6a8RyuIqlAFW2b88jBMZ7C8vNseoZyZkd2d47sGYqjOIFzjnlwahM4Rz5Nc+ZTSWflGYoTm7ntUWlSLwWivBinDBlXuTIxZ80kyp9xzqQJnFMTYnYNU57xYQMjynN62MBc5Vk9bGCJ8pwfNrDAeeaHDYw5z6GFv6wKnP+ochSiKmMRk4iIxAQcl6im6EQ5xSjKFKkoUrzKg9OXAlGMjFN0jKu4mJgjYhLFwjhHwQTOvwkx54Zjnt9M2d178BvMKaCSSUBxhuc8PXN+g7kC5HMzZ747wVnZmODEJmaGfrNR4BvsnBCFfsmFsUuyoyYcfQgp26D59gZHaUb7Bo12uttktMwp1tpoWcxRT0bLnOOfjZaFWBLJaIlDmaSxauKqdMJYNaImow/5h21OxcWmhq+TFF7nhgKMnEoxilSUUVTlGVPkQo06lWwUuXijymUc1VjQUaPSTh+eOBHR43I/9OEJleR9pVSaCv9QOU9bSc+1ov79hb0OL61CxUBK1QIlqhQoqSqBeq4QqFJ1QIkrA2pcFVCLFQEVqgb0MvxJihNXgfrL8DnBexn5RtIP8gytTMvFXntHfK+W1wChxA1RcRunsjauCtrEXMomUREb5/I1gQvXhFiyhqlY8R3fkxgGLtDKO76kvs/xbDL6kH/Y5lRcfPKV2L0U17iwCFmhkmSZCpRlVa6cJhcvp6BSZpkLm3Uuc9Zj0bNKNYBkqAisUH1IsqoWlOh9tcSaqvKhera2+huuOSznCmTvzEHVcUaVxgWqLi6oiuJqriKuUeVwgauFK1whXIlVwTlVgvDm7AlFhAu+9uYsy+9FdBvBPojftiIdF6p+wXSvldUdKE1DVJjGqSyNq6I0MZekSVSQxrkcTeBiNCGWomEqRFzNO4lh4CKsrOaR+j7Hs8noQ/5hm1Nx4akFvknCSfqUtTRJZ05lpyfpLOayS5N05lx2eZLOQiy7NEknDmWXXl1IXJUd7uuneDYZfcg/bHMqLju503+UfpmK7YUfld8CKoUFKJQTcLgC0FI6gKxggFmZAJuKA0gpCUe7zUbP/ajkAFDJAaCQA+CQA6AlB4AsB8AsB8CmHAApOXBE+yR3KCbocqbsyTUinalOZio8mAac89qJvHYir308yvfcV26wlzfY5zvhp8agiHu058OAcvB5U+LbGb7RMB7FNxpGJN5oGHl6o2Gk8Y2GEck3GkaF3mgYGb3RMLLwRsO7Gb4+Nh7F57UjEk+vR54e3o40PqcekXw4PSr0RHpk8fn8iOJD+XdTrOEo3/V55a7P5V2f57vmWIMi7vqcHp6/g1g7GV/Eel6OmnDUxiOrPY6wluxpWfiCMjREITGu4mJiDo5JFCHjOkwmc6xMoGI2TmVd+LlAlSzKojexnkWuBMYPZzFVBxO4TpgQKwYukVLBNhm1AlFlUeuhk1QeMkGNMUThNK7CaWIOp0kUTuM6nCZzOE2gGmOcakzh5wJVsihrjIn1LHKNMX44i6nGmMA1xoRYY/D9IyrYJqNWIKox6v2jIqWthOUm9FZCrcoAV7cS6gQc7INbCXWiFHi9lVCrXM+Cel4VDgZG17yY5GuBSbUwqv+XwOQaGeVUL6NMtTPtupFVqakJbVXgWlvddbNPMEy09hPMJ3YUZzkjsmmlI7HxdeRpLjTSuMV1RLRldWT00vbIwvvaI4n7VX+bmpzn502MwW+pcQGXAbFmBIiHla74sNKZvbfjyF7bMbSbmbw4tiObITqyGaKjOEN0jjNEpzZDdOQzRGc+Q3RWZohObIZo6KJfwirAnuxnXGcnhcRfdDmXNuFCFGqXc6xdQGHCBSexSufIK50zkfnP2y+fu9uQjUXIpr2rBoiWPnasD2ftc977SnH2sjj7XJw8cQNFFLRN3ADlUrWJm+d+FbK1yrmnl8n2SLxMthPW3c2i1JxnRjchzSZfYiMWsUae1q9GGpeuRsRb6V2h9ayRifLchFWsHXkIYdrGo5IHQLjLbk9xv9bkaGm/FnPyY71fi8XszGm/FnP26Lxfi4Xo1mm/FnHw7TTEZq4cXA2xWSIvrw2xWWZXT0Ns5uTvhYPJGyIfME52b1yZhInZKUwiuzDOzmACW6EJsTMwTN5ROHULjkPfULA4AfcSxqmrcC76CxNzp+FS7jlMo+7DOPchJtSix71J4YscIu5XjLMZFaHPl+NuxvihaiQ6HJMq1ajS9Zhcq2XcCRmv1Cbujgpf5Whwx2SceifnqosqquinirTJqbnHMq66LRNz32USdWDGdS9mMndlJtSqEHVqBT/kiG8Foj7OuOjo0ibd0hvoTbpa5a7vwCZdnUR0g3qTrlZTl1jZpKtl6h71Jl2pYlepVxW0KrvN6qqCTsBd6MFVBZ0odad6VUGr3LUGFTvYKLAPRpU726hKr4xJhGPGBOybUU32GOXUmUSZOuQospEGlTtnEmMXnV4FladM3bV+FbSiqq67+ipoJYHoxvWroPr3qUuvvAoqz52696AuaqFOXX1Uk1vHdzBrN5M6/6h+vVqrgUBMcLBa1wYFMdHhup8GCFE9WLvTYCGoq1o808Ahqjx8IFUOIkIaNZSIr47WfpmGFVGVg4uYRAwxYgIeaES1MtyIidKgI8qHKzMPQIL4UCvLbVXgIUn99b8xwfk0GtkvzZ7jEARQ/L7NeRpsAE+L0ec4rABEK8rnYQABLKwdn+NQwVFx7v0HSs5n6ZslZZEd85re0WBOudbvaLCY85/e0WDOkcjvaLAQY5Le0SBO0SmYQ5RehZhOo1+FkCJF7MCrEDJFjp1+FUKKHMXKqxBSjfHUr0IokSIbNA4vvU4wnU69TiAkCmz1dQKh56Cq1wmExAGVrxMILQZTvU6QJQokKBxG3KA/nSdt0GdO0dMb9FnMcUsb9JlzxPIGfRZirNIGfeIUpYI5RGIf/HSi2j74ikxxO7gPvpImR7G2D74ic0yr++AreoxwbR+8linepHLYw+7x6YR593gSKMiV3eNJzYHNu8eTwMEUu8eTEgOYd4+zQEEzzuGyv+cA4XJG4XKBwuWCCperOVyuUbhc4HC5wuFyJYbLOYXLBAqXcQ7X9DV6CFYhFKqCKVAFqzAVLQepKBSigjlAhXN4Co/BKZRCM2EKzEQpLO+nkDx7YkclHIBKKACFMACHEAAt2QdkWQdm2QY2ZRlIya6j3fLWUz8qOQAUPxnlPH23YqT26SdH/DU9V/xLUM7KHBSQfZLR0Li3+OjIDm0pDph/FdcZfRXXBVyKA+xfxXUGX8V1CF/FdWhfxXXkX8U1Fqen76H6HR2/KIh+04kM23JPYJUMhy/NAoX1HExtn5p15J+adaaiYKs0p5a/3dLMfo44HsVp44hinXOe5pAjtTrnyGuWM/8QrrE+3msvwtrXQtjrOtOLOpM+PwuSqk7++Vlgour4Tm+vKbji4RndxKMc8rigARwrilOrEI4oj6B4VXEmCqMsR+xJE+y1yfbaZHttKvbaSHttsr02wl4bYa9Nstcm22sz2eu+u2jQXgGJr642ZK9A41dXG2GvoNBXVxu0V0Dxq6vNDJf2m1laz29maRG/Sd4KPK1rNrO0Rt/M8sJ8M8ur8c2Ml+CbWVp3b5KpNmCqnib+osu5pAX0Jhkq8LRU3rCfQuK4KN7M8kp4M8vL3w266f6DU80MF7qbWVrdbmZ5SbuZ4Tp2M0uL102yPeCyOPtcnHpBupnlVehmlpaem1lab27Q7xzlBd5mhqu6zSwt5TbJ7oCnRdtmllZqG2F3oNCabDPLC7HNjFdfd2RcWTXr8OVUR2jGI21n+ES3RZcEFJ/dtsklgaentC26JCB6HtsGlwQWnry26JKOxmesp3ZkvbCj2Ak7xz7YqXXBjrgHdsU7YGfW/zqy7teQu0mbXbLNLtlWXLKVLtlml2yFS7bCJdvkkm12yTa5ZJtcsg0u2WaXbLNLthWXbKVLttol2+ySrXDJVrhkO0tPBtsZjjnbWRpzjkiMOUeexpwjjWPOEdGYs53lMWcbrLfN1ttWrLeV1ttm622r1tsK622z9bbZettsva203nayXk+zydnbVLK3kdnb5Oyx9YIisrcR9WMTGwc+oJlMKT2gYU6Wqh/QsJjNNT2gYc42mx/QsBANNz2gIQ7Wm17PY65MWL2exxLZce31PJbZmNPreczJoguf55JmszZOjm1c1VkTc8U1iWqvca6oJnBtNUFXWTZ1f+4W2iU/jqPU4gRs9MbJ7Z0fiJDwfZey+ZtGPYBx7gZMqEWPO4TCFwJR12Bc9Q8m5k7CJOopjHN3YQL3GUXoc7649zB+qDREP2JSpb5WehSTa9WZ+xbjlWrLvUzhoqsp0ian5k7H+KGoiO7HpEpUKh2RybWopC7JhNjI+StwTxKl3kl+BS5Lqo+qfQUuq9RT6a/AZY37K/UVuKxQrwUSdFxIqe9CSXVfqOceDFXqxFDS/Rim4K4MNerNUKIODaS5rCXcraFEPRtKqlmgnlsGqtQ4UOIGgBq3AdSqzYC7u/AYP9iDeMCff6PPxF0fStT7BelwFEUfGNTcDaJMPSFK3BmidiDI3CWCtNCUOkaUVN+Ieu4eUaUeEiXuJFHjfhK0XmaZe0uUvlJ6os9Etd4GKj0npjjQSrj/RKneFLgXBUl0pKBu5G+4O0XpK2ETnSqq9bBVulZMcSBsqYNFLZjL4Asz/+bMeGTPDR3FjaaTUDrtK4HoHMbliabEeCJDdCLj8kRhD9hVjdMpoyjPC9G70pTOiZI8Y9k+dCUQncu4PJFt8bhSjE7lgjyX7X+4UozO5YI817Rl4CoTOk/B8izlQ2dXAtF5jKsTfURTODHkf/L8IzZzQPHhlHN8OOXUHk45kn/Z/GNovsDo75l/hOa6Jxe7jssGRLuj66Bdx9xPgs0C/ZcFXedU+hz2TqGfo6DrnKpyjmEMsFzO6SwGr1VKfab9iGb/J0guPy7LXyE5OskyabgKcGTEd8aEugUo3oYL/gj6tKD7cPQQjrwe7Y78z6SMR3HzyYjSJpMyOONMoBufEKLsVNyYVM5Y4fcZPWQE+Sxom/PAOTaes83v8h5FDNk2RNk2LrOdXvqcMlT4fUYPGUG28d1FygNnW767OElqy/OR0DAAsruTog6F3EpdcorifYU/VDiGB/m2kuEUqCDmaIlJz1FSIFKqCxeSjJIab055Bule0gdJITpAtzJ7HBmURFx8cpUCAxJGBjGHBjUdG0iRggPavcYPGmN8AG91PlOEUMsh4n3eRxFDaNJAjbkMSdowPmWw8PuMHjKCEBS0zXngrBvP2U5bh4+IQ8bzuDIJMut5G/KUKxPuBXsQDLJvbCsywwFwIUcg7QY+Ig4RyKPhJMgI5J3FU85MuBfsQTCIgLGtyAxHwIUUgU8p7zsyNJdlt17vlkKeGfw0K+9C744Wdi/jEQ1eP+XsfqIx2X4KepWuvyNdPLJlTUe23RNQ/obryHFlEyhu9nQcP+06IvqA68joA65xtiNmOtVZzlUOVPkpx6XgTiCKkHEKk3MRKxNzwFzKUTONQmec42cCBzEvBVxVlgKuDi4FmMqB1W+dTz/Kb51rgUJdeeu8ooqw1986ryTIRVB561yrXBy1t86lfFUVqIBIlcVUeYd6X1jXoRCuc+Svc7ivKzG+loG91tG8ziG8FnG7FsHasT4e5XvuKzfYyxvs852k/dSuiHv03dSO7MmKoW08yne9zXdXazAs0MkONpikilh9rcGkBLmIDzYYVjmohxsMyX1VOBgWWUnqn0zQCQ5mq1KLap9M0DLVrconE6S6rQoHA5PrYRlC7kdbt7hSMSGcxRcUTgpCWUl01Afb67PX9TWD68vQbn+Ul8z7tEjDXJ42LMbsUWXxuz+0+N1/ffG7zxP+PZeL4r2aUQtJXomnzXual8r7ylJ5f3CpvA8zrT2it0qv6gpdiWV5QUoE1xWr9n1t1b4/vGrfx0nUnpU/7nIlEJ3duDx5UeHceU2+r6zJ9wfX5HtsZ3tU+v/aum7USRzZsvt0V/T9/8vrQviTmb/EGPEQyfmd1uIlxTlX+nf2gRellZ5PanHdO6dYmz9FXC6otHJBqZU1d62KeW1M8WV+0VVis/vJ0/yTu3hSkcLrxhDe/VuPp3YUt7qMyCqgI7HrZeRpt8tI4y6XEdHelZF5j++svO3oJG5f2aGLWXlzZTyySbqjUkKIrGAAlpnLPtqrqVJ7AqvLjuKVunzxLl88Dr+A4zICUBhoAbYNDo58Y4Mzi6qzq3hUyhcQ1SETbH/HsdWf3UjsxMrChl+A4hvaziG3QO3NbEf8QXdX/H1tZ/ZNe0f2QrYhnxV5Wf8esuojoRUaAKA4xF7F5o5QGHVxMGx+aR8xc2qIeh8xi7lJpn3EzLlx5n3ELMRmmvYRE4cGa4gajnFqPc65/aZHeFPBFn6Zk3Jzxp3LjCr3x61b71xmMbdzuXOZNWrxeecyC9z2cajMiFygMlQmlf0AdxWfxEJnZ9C7ilnMHpF2FTPXbpF3FbNAvpF2FRNPDlKE33OYwEsMkaEYJ1dxztbiivIX/GL11PzSF6uZk7/oL1azmP0lfbGaOftL/mI1C9Ff0heriYO/GKL2a5zar3P2l/SsfCr2wi9zUvYX/EY2o8r9sb/ob2SzmP1FfiObNfKX/I1sFthfcOMAI/KXysYBUtlf8EPZJ7HQ2V/0h7JZzP6SPpTNXPtL/lA2C+Qv6UPZxJO/FOH3HCbwF0PkL8bJX5yzv7gi/SWs9KDLRIG9JqrsOFGVvhOTCPeJCdiDopqcKMrJj6JMrhRF9qb4jATKMArsA1FlNyA1eZZ+MFMqVFAvaz9LLpbWp7VwMCfJ1w6sT+skwuPq69M6BftdZX1ay8n70gMdLbAPHnqgI9MkT0wL4yeqyiV/PLAwrpMIr9QL41qt+GZlYVzL7KF6YVyq2U+D/Hst3OitUWCHjSr7LKnJbUkXnjstBo2vbe03DBixW4nY7DVi8RV509BQoxK/G2+YvgVv3L0z8mKakcaPwhf8WyYWVsIxXkHc/UG2/R+tLWT3l9hOQkx3f4LtLKSxv71GGAK0V+7BWvcvjdxjddujh5ToISfaQqL9Bzy2mGhCPNElzMnF9r2s4I/+/b//H63X5Vs=",TimesRomanCompressed="eJyFnVtzG0mOhf+Kgk+7Ee5ZSdbN/aa+ebzuMdvupmjORD9QUlnmmmJpSMoSZ2L++9YNwMEBkn5xuL6TdUkkgLxUFvXv0Y/1/X212o6+H1397XEzv6sOTl6+Onx1cHry6uXJ6MXol3q1fTe/r5oCfyzuq813H+r7+aoVHpdLFA5UmN8vljuUGjitFnef27tIqTfb+XJxc7m6WzbFDpvjzS+L5+r2t8X25vPo++36sXox+vHzfD2/2Vbr36v21J+ft9XqtrrVGzWP9sMP9fPo+398d3R28eK746OLF0eHh4cvLl5d/PliNGkKr5eLVfVbvVlsF/Vq9P13jQzCH58XN19W1WYz+v604VfVetMVGx0eHv+luVBzk3f1dnHT1uTH+mG3bitx8F83/31w9Ori9EX773n376v231eH3b8vu3/PDy5v6+vq4PfdZlvdbw7erG7q9UO9nm+r278cHFwulwcf2qs1dqs21fprQ3szLjYH84Pten5b3c/XXw7qTwe/Llb1dvdQfffXqjnr8vXBfHX7P/X6YNGcvHm83ixuF/P1otr8pXncn5vb3C5Wd7/ffK66Buie4vdtc8p8fStqU/DH+cNfhzY5Ozt+MfooRyetJS43N62p14148fLF6KdKjxsjn78Y/b69/et09P3xRfffq+a/Fyd9e/2t2q4XN41B//Hv0fRjU6S93LvmQTYP88aO/3nR45cvX/a4er5Zzu+Vnxxe9Pyfj3VjqeulKqeHw4VWj/fXbUPdraJ2Wy+X87XyC7nLQ7W+ab1chPPz4Tbz+0baNNaJT9Y9QdfiUXuYr6vVsvpUkvxp+njzTXvFzRdTzk6Gs5aPG6Vqs5smOOfxFp93D5+rVSzeVGVRW02OpZKb5XzzOT7Nv6p1HWm9qiLcPiUlt5/XVVL2U/24Tujia1J2s3hOYPW1Stq2ym26WsADa5Vv6mW9SixR3S+8pC2wbNNAoNU/H+fLiO/WVRPIVs2TkxNxmmrTpRpRXh0fDW0P3nd83LNLRWdn5z36IaIf44k/Wamj4fo/21OenvXol3ji64j+Gh3sjaEmtXXof+OJb+ND/GqhJyf+LZ74LqJxfPrfYqn30Tgf4om/x+f6I15rEtGVtZq05zSW+hjRLN7x79Gq101n9qXaurShnnndaD5O+TyfU07OXklOuVksbhbrm0fLohocj23S3jQ9T5J5u/zmHka9eB6vdB1L3ST5N5ZK7vwpnngX0edopEVE/xdP/BJLWQhr5k+slSSdJO09RPTPWEfLDRpCm/hcST57jOhr9LinWCrJpLvYHP8ydHFo/uUd4VhbHTpTX556uJMj8MbtYnlb7Opv66fEzq53tp5g243TzDmOJOw/tQNDzLNW56zv+LSs14uEb6rCVW4e1003fmMGPJLad2GzWXQD1yT996MWZ01z8sdFo9zX23zk0Mrdhb8hk+kl7X1aJCwZPzUDuXQ4cDu/u6uSnrvnOBSjAUfbdtW6gtg/tbHQ/G49f4CkJqdeN9OHKqmlmfd6vtlj4f1qYfylDeD1bs7Q22a5XDxsFptEauq6/Vw/urFi6Padc1vLredfk3iY3zxuE9zn8k/L6jlqhci6n9+s6+TG1+squ/FtvZ3fuIgzadG0JBrAEhrGoT1sdduYNBujPq7u5uvH++X8MblNfdcMM78kl5tjPaBd7p3P6uDi0kY9x+eDz9fr20/NMM+NC22A4vtYG394rjcY2w1eHh3qDe6bPPe4dHeQzDRPRqO3bchvNkn3tSyMzevCc9bJILqJzmZC3Hh90mpvQoNax+z9zzp/7zXWMaVNapfzbWdjo/AEOoq+XXxdgDvbKf7JbLichIY9duGkSXKSdRYUg9pVdzMvChKoaryk3c8FiuFyQ8wpGuwc/3TWEnSCzQHCTWzG0GQImIL4KSZV9PxMxWHNI7kV5RwbFXo/sFrmdnmXPYCFR8lHfUq1cX52NZtIla7m0yqYMyZK8xBXTeCUEW3wSnc/H+6yrP9Vre6STPKhEFGvs0qac+wNkn2ee1nqRtaFJr3hutrsJ1pOxyR/fK7XSa3GdHczA0WBTvOIX0iyLZhtQjcwi/muzS1vbB67Mc46eV7vgmbFEqe0Kknw/nG5XTwsd8lz+QqCk/vmkI6vGW1tF/Pl7eJTMsHalVPDO38fc9jEWSw29rrZnl6nLN0U0t2qlAapQSGnzFM/fkMXwsW3ZsCAK3A6AVrXX6oVToM0Oa6ru8XGD3wtRAsjrzcxLs50LvLYRLWbjZixCyPIdcEyNceSxmXBpf7uLXZ68kpGrt06l18F01r+vLURiiXZYgJcZnnr5fHgvdtCkqmKvWNJuCwNH/Z4pTewzZZLoVG697jUIqWuh3Ou9iOlO5fjeLx3WMI9powLquU2We7ZuiRtOfGp3pMR40hPzrt/TGrin8hMlY4zLRbI9DZP9SOc81PM440DrxtHhkfTbiRMYaRtloWO5G06yNAZhm+4V7JuoK90spxYnpC9KYT+m1KI/0pPLWZojPZ5voSeQWK8nZnQMrc2xb6x88qPmszTvtF+hUioSt3znc+lWKGhVbNG9fnMeDbcVQfOZzjqYE2WyF541BRalgnn+XiDks2pZvPbxU2WZ38q9GfrvbV559vHHpdGuzbc3OvWe+91WfCFy2KOzmcDY38dy8NJv2kjkUJvX0oUX9Lxs47H3EDArrY3FPwj2PLu3jst67u2vVd1Moqvy7n0MUoSys2lCpF8t3fOUEFHbjYvuO8q7cbh9WHoISzll2L858f2VeSfL0Zvq/Xqt/li3b5A/sfosn1RPXrx3cnhny+Goz57ONQ/p0dDTkf42h/1WcUhrBgK4+bo9FSP5BEAgXM4rk3laB//DrnM45TBZI71i0MO9YGD6L07+qM5Ojo60kMxmmOu/qBM3KUm0QCTggEmqQEm0QCTogEmiQFk6OdYl1GQXLWVeKmH0+bwlbbprBUPVZxJnZDBwwOGfQHOSF+bw/MTOXpq73YsRzt/JDcDBPca6FAIA0ARRYFyCgXjHA+ivE4QRYbyNDxEhRhRRH6iPHMWFaPHqERuozz3HZXZgVSgMFJOsST8fUQYVco4tExI40vkSbw8R5ryfRZMYk6lggUL0adyyYIhDlXwwSgYI1IYhKUgjE1lHKAqJFEqWhqqIkK8CoKgFbRLEIWv8hjDQyhhDCuiGFZOMWycY1iU1wmiGFaexrCoEMOKyAOVZx6oYvRAlcgDleceqDJ7oAoUw8ophoW/jwhjWBnHsAlpDIs8iZfnGFa+z4JJDKtUsGAhhlUuWTDEsAo+hgVjDAuDGBaEMayMY1iFJIZFS2NYRIhhQRDDgnYJohhWHmMY2wkD2XOKZi9SSJPIce3k1yVOEe7FNMxdEYh1z8ldvZj5rC8RHdfr5L1ezF3Yl2E/9iqlAy9STnDi+wLH7OAFThGkpnnClZkUbskZw4vfbIIkd3h9XxMUsogvs7cJQj7xqk8qTsPM4gRIL45jjvECJxqvJtnGFUhTjisBecdxSD6O70qc0pAXYy4ygpkIKeUhlCgLOYlzEIivc0r5B6U0+0AByD1Iye1Rypwe9ejyqJLDo5S7O5ZgZ0eNsg1KlGtAep9SzDOIOcs4Lc0xUGKS3orzC0rfMHSSW1AtG7qQV7DEHkOHnIKazyigYD4BDNkEKOYSxJxJUEvyCMhpFgEdcghQyCBAdzml7IFSzB1D42DiUERZQzmlDOOcL0R5nSDKFMrTNCEq5AhF5LfKM6dVMXqsSuSuynNfVZkdVQVKB8opFwh/HxFmAWWcAkxI41/kSbw8R77yfRZMYl6lggUL0a5yyYIhzlXwQS4YI1wYhLcgjG1lHNgqJFEtWhrSIkI8C4JgFrRLEIWx8hjDYjgMYmMUxSZQGIPAcazS64xRJJuQhrLKEMvGyBVNyHzR1OiMppE3mpC7o+nsj6ZQSJtAMa3C+4RhVBvksAYljWvVJ8ktOLJN2GvOJLZNK5mzEN2mF80Z4tsUH+DKMcIVQogrwxg3yEFuShLlKqZhrirEuTIIdGW7jFGomxBjXWyFsW6MYt0EinUQONZVep0xinUT0lhXGWLdGDmnCZlzmhqd0zRyThNy5zSdndMUinUTKNZVeJ8wjHWDHOugpLGu+iS5Bce6CXvNmcS6aSVzFmLd9KI5Q6yb4mNdOca6Qoh1ZRjrBjnWTUliXcU01lWFWFfWxvopheguY9pMLGBD9Np6+CjbAkoIxblginLFHOOD8DoSim/BaXQPIsS2EHJFwZkjihbdUBRyQsG5C4rKDiicolkwxfKA3weCcSyIo1h5GsODOgmX5vgVvMdoSeyKkhutELeiFowWYla4j9iBYrwOCKJ1IBirgjhShSdxOkhplA4axOhAoDceyC4S6okFx3548BgMTkUUncopPI1zfIryOkEUocrTEBUVYlQR+ZvyzOFUjB6nErmc8tznVGanU4FCVTnFqvD3EWG0KuNwNSGNV5En8fIcscr3WTCJWZUKFixErcolC4a4VcEHrmCMXGEQuoIwdpVx8KqQRK9oafiKCPErCAJY0C5BFMLKQwz/0NDL5qivcnck5wKSeAPk2hc43AGotCogbTFg2ljAhnYCIs5vaNJZVo+sIRS5xwXumkapPC4g8j9QtCLAtCLAhor05KfB7id25DPmT2h3QK4iwKEiQKUigPRxgenjAhseF4jY3dCVO2rj5KUezTS4fsLgABSywLCb11lGEZlHOdlIeWYoFaO1VCKTKWe7qcDGU8FbUDGZUfhVRGBQQbNoLDat8sS+3XcA3r6C2L7C2b7CU/uKmNhXJLav8GBfEYJ9RSD7Cmb7DvwqIrTvgGbRWMG+woN9fxlM2+fsX9CqgMSggJwtgcMdgIoFAanxgKndgA0mAyLWMtSOwY60PnNNpoakBoB8fjWO+dWo5ldDlkWNWRY1JlnUiNTAUP/jUC++uzgUUju9jnWqCxWo0wrUsQI1dxCmJFWrZWAHKNZj+NUqqcj/Du51ZkdSEUDSOIBc3YBD3YBK3QBpDYBp4wAbGgeIVKpHb0f9MPylHelow5AfWhjHoYVRHVoYoqYAxQYdxqQpAOkIQ1F7dHyqR/LUgGRMjQgrAhwqglQ/5HBY6gdIawFMm8NYrWOkt+j0gJJB3FtyeqB+EPc2cXpQaHj3Fp0ekB/LtehRQ6A78qHaoSRUOx5CtaM+VDuUhmqnUKh2jLJQx1wWasnOWX4X/WMXG91NtjAuSKAQITWLFioSA4cKUAyRmocTFeLIIpmCjFSKN69WJYtxFJJKAclqEptU5FstlkUslaDgJZXjmGQOaS9DdJNAgU5qFvNUJIY/FaBMQGqeFKgQ5weSKVWQSlnDq5BASKBcQmqWVqhIzDBUgJINqXneoUKcgkjmbESyT0xe3JVcidMVqSEOfh3160r9EkJ3JMGGyK0lmdAtsRweyuFUB5+/jmRhRUVYUzHm5uyK3UqK3a17/6BPvfNj+V+pegPFb1iGK4VPWALPauu+7hgeFb/uGOrtv+7wxYIF8q87vJbZAj/boHqyVbLPNgZJJpfZHUTbxeJ8B+XJHZzzQROQQA3BatYcvgw2ilegabwwK54SmonkpLF8idSgIXxTGwXjFsN3KDAkVzSuIjKr8cygoqIphYERBc2SYsFwKiQmEy0zlmi7WE82kPJgmncjXA7tjnxv2iG/HNqhpFfteOhKO+r7zw5Rf9gxWg7tmFsO7YjvDN9J8F4miOqinCqkPKuVirFqKlH9lHMlVeCaquCrq5jqjOuGjKjOYd2QeVbnbN2QJapzXDdkgevM64aMuc4uyi+LAtffq2wFr6a28EUSi/gCbBevBut4OdjIy2QpL5K95B3IZYLIRsrJOsozu6gYLaIS2UI5W0EFrr8KvuaKfZ3HrrrjWNNxrOS4UL9xWrVxrNU4qdA4qcs4VGOc16DtpfqF2zF2UIiS177joVs61aOpu+pHV3LmStqKryHsKnoaE+24kGjHhUQ73pdox+VEOy4k2nEp0Y5LiXacJ9pxIdEqhzYJI+PAs9bBkTHZcxpv9zGeOIsncrNlI+VBcl8TQQN6Tq3oRWpKL2bt6UvERvU6tawXuXm9ym3sVd/QXqPWDp/7nSTW43bf97FfVuSq0CrTwnN8LFxnVrgOe0Xxg7dBh09FwDGQklugRE6BUuYSqEeHQJXcASV2BtTYFVDzjoAKuQF9i3US7MQuUP4SKxa4Si0/Te/+Mb3CLL0CN3vh66RBlQ8LoMUVUXMrp7ZWnjW0irGVVaImVs7tqwI3rgq+ZRVTs+KXNSfeDNyghe9qSL2K9pzG232MJ87iidx82Tcog+RX1bAJWaGWZJkalOWsXblMbF4uQa3MMjc269zmrPumZ5U8gGRwBFbIH4KcuQUVuiq22LT4RB+LV5sVr8aew3J0IP3UAFzHGDmNCeQuJmSOYmp0EdPIOUxgtzCFHcIU7wrGyQnctzgnZBFu+NKXOCxfJdadJvf8mJw7S87lRk2/Vhk0Wd2B1lREjamc2lJ51pQqxpZUiRpSObejCtyMKvhWVEyNiCt6J94M3ISFFT1Sr6I9p/F2H+OJs3giN162wjdIcZI+LkzSx4VJ+njfJH1cnqSPC5P0cWmSPi5N0sf5JH1cmqTjTt0TbwZuu8I+XVKvoj2n8XYf44mzeCK3XbantZd+G5qtX479DVsMkDQWINdOwMNe1d+wdQBpwwDTNgE2NAcQaQlDtvmpO/JvDDvkNz91KHlz2PHwurCj/h1hh+idX8foRV/H3Nu9jvhNQy2SzU/DZuIW6T6igb0f4ZbZ7shvme1QsmW242HLbEf9ltkOpVtmO4W2zHaMtsx2zG2Z/TDqN0mc2JHfs9ihZFtix8OOxI76zYgdoqcGhXYodkzeUwPy+w8/DJF9ZkcS1IhcPJswcdeZxPpOCvWdpPWdxPpyK4GS1HdCmzE/QCsZaRPQhR61uad/u/JhyDFndqQb2AzhrrSeykIOtL4iMonyzC4qRuOoRBZSnptJZbaVCuQgyslLcGHtjBD5S2FhjdRJvDa7j/J9tkocSaWCrQoupXLJVsG5VPAehmuHFx6Br+FCIfkRe122UDhI8vYFXE8RmVN5Zk4VozlVInMqz82pMptTBXI95eR6wsH1FJHrGc9cT9RJvDa7nvJ9tkpcT6WCrQqup3LJVsH1VPCuh5v1LzwC18PN+uRH7HrZZn2RwvZAeYh8e2CupgYubg/MC7Cx924PzAsFw+fbA3OVHTbsEDlLBXbefTtE0jKT0j2DO3v12zbPXNsX2Gvzkpv7QvttHl3ey+T4YevMRSZgEISdM6lfh4Ao7pvpC/wxGqYZL/VIpxmGdJphyE8zjOM0w6hOMwzZNMOYTTOMyTTDiE4zFLXRfHShRzr6NuRH38Zx9G1UR9+GePRtio2+jen3CIZ0aqHIvqnojuSpAYndAbmKAA8R0FHv9h0iN+6Y2h0uONgdiM8bLer/wrVMWXvST5f6rUotac84V103GQOSxILIfcFjPGy97ilsHIbC+mGPIdpW3TH7sEfZ8HfPZSbbosVIpvzdkV896RCtW7SsdgasYwvXhebEPcNApUaAyC9B0boCE78EJK1qSOe31ohrV611rP1aGhGR6xJMsL+NLtmtpe0+4xM70i7BkO8HjKPrG1XXN8Rp3hQLCmOW0I1JFlfy5Cy380exvXexXXGz1ZDRwmYr5pSP881WLMbMHDZbMeccHTdbseCzddhsRRzydpgGMM8yeDYNYIlyeWkawDJn9TANYE75Xfg8tjRneuWU7pVnSULFmPhVouyvnLsAFbgfUMF3BoqpRxBO3YJh1zcIhhStiHoJ5dRVGI9f7ZgYOw2TYs+hGnUfyrkPUYE7EhG4NxEOXYoiyqzKuXMRoY6twt2M8n1ulHQ4KlGvozzvelTm/kcF6oSUU08knLsj4etoDe6YlFPvZDzrokRN+imRoLNSRD2W8qzbUjH2XSpRB6Y878VU5q5MBe7PVPCdmuCn2BK7BBWcLevowg5b6Q3yHba5yl3fnh22eZGkG8x32OZq6BILO2xzmbrHfIdtqmJXmS9Y5GrabRYXLPIC3IXuXbDIC4XuNF+wyFXuWp06L3lY6Ga9yp2tV9Nc6YskHa8vwN2vV0Mn7OXQFXuZOmQvcrfsVO6cSfRdtP+CEro2L3B37VXutEnNum5fJOnAqUDSjfsS/pNcVu33HlI5dOxODt27U7GT9wL3VV4NHb7/ZLPU9qHz9+q33TobCPgCPBzwamFQ4AuFoYGXeYDgVR4mODUMFpy6LtkzDBy8ysMHUtNBhCuTDSVcARxQeIGHFV5NBxe+SDLE8AV4oOHVwnDDFwqDDi+HoYeXaQDixKdSS++Kwt4QiAOTyTAaObEjvx49wXEHoGRdekIjDKC+N5i4sQQwWkaewKgBiM/wsn6O1QjfTjCnCuXfTrAYqxa+nWDOlYzfTrDgqxu+nRh4+OYg5VT7/JuDVMzsUPzmINXJIoVvDlKVbZN+c5BqZCXafp9QslC2/T6RMusUtt8nKlkm3X6faGyVZPt9opBFcG86I7JF2JvOPLNCtjedJap/3JvOAtec96Yzpjone7oLClmgtKe7IGf22LOnu1CCrFPc013Q2VaFPd0FlSznNjMHRtaKm5mDkFko3cwcNLJKspk5KGyJsJk5cKq9/pL0Zcao9iZQ7U3Iam9qrL1pVHsTuPamcO1N8bU3TrUffqn3MhKquWCqt+Cs1qLFOotCNRbM9RXOtRXu6yrU1/RqqOXwS61XWEVkulcTmF9fAAFXFQDrWgIwWxwAaBsYAcoORkC6OGCs/Y3jIzvyW0w75IfsJoydTWgvSIeSxux4aMiO+kbsULrXoFOoaTvmd3J0KLYd7E/tDrXtgKkRgPm3rMbxdxKN6nq4IZs3G7N2gztJuwHSX0pUJBOkfurWk2Hz7fErQVSHKqmrLTgAyqtapVV16wl44WiCKjFBlZlAVwmGH99oWbs2cGZHunXDkP9ZLeP4G0JG9eexDNlvYhmjnxpsWe2NbL/oCMxHOgg4ozKqywSGeKUQrmErAsZ0URDK6eRfke3GtmI43TZvaufY5xrqOrEG5L3EOHqJUfUGQ1RDUMxPjNm6kjH5SdGOTCUx9603dYkZmAY3MGouEzAxA9bEDMwSM0DzboAS4IA0MRvrFrHtyO+Sn4b0Cjzskp9iegWU7pKfuvQKTF3MkD62Ilthno7CsvJ0FNaSpyG3Ag/LD1PMrYBojWw6iovC0xGvBE8xsxqSWHh5bqTPrP2a5XRIrHZGFWupaRVRXssq9IZTTqtQ2HeSU5dVgSWV16R6puGycCctfA8+denPWO2uWse6ZwunU859RmNz5uui01FcDJ2OwgrodBSWPaeY+awRMfFZY7eJ71RP08QHyP95AePhs6QpJj5A/PcETLE/JWDM/oqAMfkDAkraBb7zl3qk6doQpuWOzny+nCX5cpbky1kpX87yfDlL8uUsy5ezLF/OYr6cJflyNsIfMZ1hvgSUvD2ZUb4E6t+CzJJ8CQrtc5hhvgTkf2x0NuTLYZQzw4SJTFsAGOV+E3DXqlH/w8ozlzOBwYdQBvVLKEP+p5VnkDX78JqNwnh0NqRNuEyVVFYTp2OFylZpZf2IFEpHI1SJEarMCDYi7UepsyF79u8nZpg9AdEfAJkN2fPoSK9rg0dgvrogYAwb9XtvZkkCxWvQ67sZZlAsp1MORTx4nFEOtaZ/9IZ6pHnHLGRRFMIsY4ZpFFCopEk00Zi5PIoF/VxrpuvnkFrCy4EgcIbMXw8ENcmV4QVBEELWjK8IgkL5M7wkYAEyafjWjXmWU7Nv3Vii7Fr61o1lzrPhWzfmlHGFY9pVxulIBU7AKqSJSdWYnVSiVKSc85EKISmpQulZOeVo4RSthn22Fp5VO+RtFTh5m7DPUEkaNynJ5SoWrBiyugpFK4b8LgIkeUWU6ZVzuhcBc74yTvwqpNlf1dgFqET9gPJCZ6A69wgqcLegAvUNwkMHIULSS4j0mNg89BcqpJ2GqrHnUIm6D+WFPkR17khUCL2JKtSl0EtFybXZW8VM476l+F4xK5D0MNmbxUwL/Uz6bjETqbfJ3i4mGvQ5SKnbQSnreVCPnQ+q1P+glHdBWIJ7IdSoI0KJ+iKQsDtCzIkWNe6UUEvTLRaIGRdVyqsocWpFLWRXFKmbQslWkYJGWcMpvsMCqXCt0G2hxj2X075hzaT/cmrShaFetnboyFDbZ+3QnYEGPRpS6tRQ4n4NNOzaEHPvhlrawWGB2MehSt0cSoWeDotwZ4ca93eoUZcHUuj1QEs6PlAf8wYK3R9qaQ+IBWIniCr1gygVukIswr0haqFDRNH3iU3Ydn9fsu8F2qN241r/YlFSHhYQBKWG5IelBEEpt9sHijoO5eGRoTRQKCvbR6CgICiluwWgmDIo5/629VDO/W3roRz8dd2hFPx13aEM/gnPoRD+Cc++1DV6br+4ez245LEdiScCSt6yXZPfAfVv2a4TPwOF3r9dO7cCNniTka9arZtRvxYKRxpNhnBc1FNxsV2C6ALK41Xw2w9GdJXs2w+R5M8Ru+sY5CuZEq/Vd5L9Hy24vV7K3y3os5hTvdRW0H7uqTvyOwM6lO0MUM/Toyd39OxK7vyRr1puZenG8fkU0UMqT5/UpRqPniJ6jifuEkRVKHuLDDmwHoqoHsrTeogK9cAPkwg9xxN3CaJ6lP3VDY9cZRznGjkxr1bI3gl/KvDnwnV2Jc71dWKsNHQKdzmlCqOUVpc7n0CfUvqcXmGXU6okSkkVbdzq6oiYK4laXksogdUE/JTj5/wiuwLmqqIW6ypd912CqI7K0/q5YYFHTxE9xxN3CaK6KI/10LHFXcaoJiakVfFjF2JPCXtOzt1ljOpjQqyQDoLuMkYVMiGtkB9kEXtK2HNy7i5jVCETQoU+jWS2r0d+Z0eHbG6vKNns0fGw2aOjfrNHh2hLR8fohw875n74sCN+l0eLmmhaVptNN5VU+Ekt2B4tdITWHfmR5CcadfQTy7vBNnagk1IlYhkj/nW8Ynwbr1BfxiuxN+6KbLqrSN63KxCT9ESmHvNIfA0U+2ooTuqiWqiQKr5Wiqlqyql+yl0llfqaxs9JU+5rXfiYNBUTC5Q/JU11b43Sh6SpSpbJPyNNNWcl/VNgeuDsEf78VwsXLi0t4tB0URgOLdJxwyL2Q4skny+SlNgeWbR3Rz5DdcjWywzFDNXxkKF66lbFFPvE1SFKXB2jxNWy2h/FZ64LD1inD1jHJwnrS6Ykz1j7/XId8pnUdydJR5J3IV/il8bD9QpfGucqteC+L43zItFse740zkuQjUtfGucy+0D86jcX9poldZLyV795gb3VKnhR6avfXCbfKnz1m6q7kiOx85W/Be0LLIdRU3+XpVul61H8OnUQ5GfYDUleOtEje85kzJiPFleYNocrxbn6qjBXX5Xn6iucYg8XjpPnVWHyvCpPnlfeRHj5QqOxwLf6RqOtcHVwuJWgXSzFl1ceLlyPcB2udiPqWi5+qEc+CGu+ZE+xOYfrxgWa2rWwP5Fvk7ZwL4XudbhhYbWhjqsKyXX4/uVVhV6nvnx4hHQNoObZfrgC37w02+9VHDAM940T19rNUv2JfLt0ltpL9B0h3JIUuDMpu+LV+DlYjo/jBkbDgyQT3dpPaulcvm0+qe01SX9wP8yIxx7t4ol8s+yvyg4SxvtwL3wbcOzRLp7I90pTQCc9uAs8xHMf8tOG1xCFVWove03OWFaf5Fvdi1SQ58hV/0kCq8l2di4CdcoL+E3urNKudpZpMz/L7qMGFv1O+E7NjbXHUnvM9C0b7TfQHuvsM80+u5SN8m2LwP+HL6HQ5Ubtm7LTw4ibB5xvc22pTu6xDwuv0dJVUsIP/pzmYyTWYZ0/p/6kS6bJRCHV3MMmJboJ7mnEfruB1/SGmSZvu3LVP05S4mF+U+Wm6ax9ETG1RyzxVWveWFf3pZwoudPTuiNd2zOU3aIVdBvHsV5M39n2lZOG49u6d2QXHtEDlN6ReZUfJez5G56Hf79yeB73ruvCI3qe0rsur/LzhB9AlOdJf7JLnsqJ+Gxe4Cf0av6c+c9eHWc3pmcefLRL0ER81CjWFTWP/Vqa13D9ySu6fuaxrZx5TpuDlMtqmae6TubwH2o3Jbo6QTixtYj2t6eEdH96ypH2t+BfeSI2JQwG6pUmzLsFz37E1B3porYhaQpAfseEcdwxYVR3TBiyfRHGbF+EMdkXYUTMbUgi4EyJze66Iz/h65C2BaD4Z6c6HqaFPcWFIMP+r1F1iP4aVcfor1G1rNZQ6o78y4UOJdtUOh62qXTUb1PpULpNpVNom0rHpEsGpLZXpHHeG/9phK+CntChAPlXQU/BoYCHkfUTOhQgWlx6cg4FzL0KekKHMuQd6mmEK29Po7Dc9hQaB3hagTpWIF9CexrFdbOnUVgsexqFFbKn2DjPLjKeY2Q8x8h4LkTGcxoZz3lkPMfIeE4i4zmJjF1ojl2s2I5HDIS5eLLlNip40p//+X+DG1I7",SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(n){n.Courier="Courier",n.CourierBold="Courier-Bold",n.CourierOblique="Courier-Oblique",n.CourierBoldOblique="Courier-BoldOblique",n.Helvetica="Helvetica",n.HelveticaBold="Helvetica-Bold",n.HelveticaOblique="Helvetica-Oblique",n.HelveticaBoldOblique="Helvetica-BoldOblique",n.TimesRoman="Times-Roman",n.TimesRomanBold="Times-Bold",n.TimesRomanItalic="Times-Italic",n.TimesRomanBoldItalic="Times-BoldItalic",n.Symbol="Symbol",n.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font=function(){function n(){var t=this;this.getWidthOfGlyph=function(r){return t.CharWidths[r]},this.getXAxisKerningForPair=function(r,a){return(t.KernPairXAmounts[r]||{})[a]}}return n.load=function(t){var r=fontCache[t];if(r)return r;var a=decompressJson(compressedJsonForFontName[t]),s=Object.assign(new n,JSON.parse(a));return s.CharWidths=s.CharMetrics.reduce(function(o,l){return o[l.N]=l.WX,o},{}),s.KernPairXAmounts=s.KernPairs.reduce(function(o,l){var u=l[0],d=l[1],f=l[2];return o[u]||(o[u]={}),o[u][d]=f,o},{}),fontCache[t]=s,s},n}();const AllEncodingsCompressed="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";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function n(t,r){var a=this;this.canEncodeUnicodeCodePoint=function(s){return s in a.unicodeMappings},this.encodeUnicodeCodePoint=function(s){var o=a.unicodeMappings[s];if(!o){var l=String.fromCharCode(s),u="0x"+padStart(s.toString(16),4,"0"),d=a.name+' cannot encode "'+l+'" ('+u+")";throw new Error(d)}return{code:o[0],name:o[1]}},this.name=t,this.supportedCodePoints=Object.keys(r).map(Number).sort(function(s,o){return s-o}),this.unicodeMappings=r}return n}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(n){return Object.keys(n).map(function(t){return n[t]})},StandardFontValues=values(FontNames),isStandardFont=function(n){return StandardFontValues.includes(n)},rectanglesAreEqual=function(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height},backtick=function(n){return"`"+n+"`"},singleQuote=function(n){return"'"+n+"'"},formatValue=function(n){var t=typeof n;return t==="string"?singleQuote(n):t==="undefined"?backtick(n):n},createValueErrorMsg=function(n,t,r){for(var a=new Array(r.length),s=0,o=r.length;s<o;s++){var l=r[s];a[s]=formatValue(l)}var u=a.join(" or ");return backtick(t)+" must be one of "+u+", but was actually "+formatValue(n)},assertIsOneOf=function(n,t,r){Array.isArray(r)||(r=values(r));for(var a=0,s=r.length;a<s;a++)if(n===r[a])return;throw new TypeError(createValueErrorMsg(n,t,r))},assertIsOneOfOrUndefined=function(n,t,r){Array.isArray(r)||(r=values(r)),assertIsOneOf(n,t,r.concat(void 0))},assertIsSubset=function(n,t,r){Array.isArray(r)||(r=values(r));for(var a=0,s=n.length;a<s;a++)assertIsOneOf(n[a],t,r)},getType=function(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?"string":isNaN(n)?"NaN":typeof n=="number"?"number":typeof n=="boolean"?"boolean":typeof n=="symbol"?"symbol":typeof n=="bigint"?"bigint":n.constructor&&n.constructor.name?n.constructor.name:n.name?n.name:n.constructor?String(n.constructor):String(n)},isType=function(n,t){return t==="null"?n===null:t==="undefined"?n===void 0:t==="string"?typeof n=="string":t==="number"?typeof n=="number"&&!isNaN(n):t==="boolean"?typeof n=="boolean":t==="symbol"?typeof n=="symbol":t==="bigint"?typeof n=="bigint":t===Date?n instanceof Date:t===Array?n instanceof Array:t===Uint8Array?n instanceof Uint8Array:t===ArrayBuffer?n instanceof ArrayBuffer:t===Function?n instanceof Function:n instanceof t[0]},createTypeErrorMsg=function(n,t,r){for(var a=new Array(r.length),s=0,o=r.length;s<o;s++){var l=r[s];l==="null"&&(a[s]=backtick("null")),l==="undefined"&&(a[s]=backtick("undefined")),l==="string"?a[s]=backtick("string"):l==="number"?a[s]=backtick("number"):l==="boolean"?a[s]=backtick("boolean"):l==="symbol"?a[s]=backtick("symbol"):l==="bigint"?a[s]=backtick("bigint"):l===Array?a[s]=backtick("Array"):l===Uint8Array?a[s]=backtick("Uint8Array"):l===ArrayBuffer?a[s]=backtick("ArrayBuffer"):a[s]=backtick(l[1])}var u=a.join(" or ");return backtick(t)+" must be of type "+u+", but was actually of type "+backtick(getType(n))},assertIs=function(n,t,r){for(var a=0,s=r.length;a<s;a++)if(isType(n,r[a]))return;throw new TypeError(createTypeErrorMsg(n,t,r))},assertOrUndefined=function(n,t,r){assertIs(n,t,r.concat("undefined"))},assertEachIs=function(n,t,r){for(var a=0,s=n.length;a<s;a++)assertIs(n[a],t,r)},assertRange=function(n,t,r,a){if(assertIs(n,t,["number"]),assertIs(r,"min",["number"]),assertIs(a,"max",["number"]),a=Math.max(r,a),n<r||n>a)throw new Error(backtick(t)+" must be at least "+r+" and at most "+a+", but was actually "+n)},assertRangeOrUndefined=function(n,t,r,a){assertIs(n,t,["number","undefined"]),typeof n=="number"&&assertRange(n,t,r,a)},assertMultiple=function(n,t,r){if(assertIs(n,t,["number"]),n%r!==0)throw new Error(backtick(t)+" must be a multiple of "+r+", but was actually "+n)},assertInteger=function(n,t){if(!Number.isInteger(n))throw new Error(backtick(t)+" must be an integer, but was actually "+n)},assertPositive=function(n,t){if(![1,0].includes(Math.sign(n)))throw new Error(backtick(t)+" must be a positive number or 0, but was actually "+n)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("˘");pdfDocEncodingToUnicode[25]=toCharCode("ˇ");pdfDocEncodingToUnicode[26]=toCharCode("ˆ");pdfDocEncodingToUnicode[27]=toCharCode("˙");pdfDocEncodingToUnicode[28]=toCharCode("˝");pdfDocEncodingToUnicode[29]=toCharCode("˛");pdfDocEncodingToUnicode[30]=toCharCode("˚");pdfDocEncodingToUnicode[31]=toCharCode("˜");pdfDocEncodingToUnicode[127]=toCharCode("�");pdfDocEncodingToUnicode[128]=toCharCode("•");pdfDocEncodingToUnicode[129]=toCharCode("†");pdfDocEncodingToUnicode[130]=toCharCode("‡");pdfDocEncodingToUnicode[131]=toCharCode("…");pdfDocEncodingToUnicode[132]=toCharCode("—");pdfDocEncodingToUnicode[133]=toCharCode("–");pdfDocEncodingToUnicode[134]=toCharCode("ƒ");pdfDocEncodingToUnicode[135]=toCharCode("⁄");pdfDocEncodingToUnicode[136]=toCharCode("‹");pdfDocEncodingToUnicode[137]=toCharCode("›");pdfDocEncodingToUnicode[138]=toCharCode("−");pdfDocEncodingToUnicode[139]=toCharCode("‰");pdfDocEncodingToUnicode[140]=toCharCode("„");pdfDocEncodingToUnicode[141]=toCharCode("“");pdfDocEncodingToUnicode[142]=toCharCode("”");pdfDocEncodingToUnicode[143]=toCharCode("‘");pdfDocEncodingToUnicode[144]=toCharCode("’");pdfDocEncodingToUnicode[145]=toCharCode("‚");pdfDocEncodingToUnicode[146]=toCharCode("™");pdfDocEncodingToUnicode[147]=toCharCode("ﬁ");pdfDocEncodingToUnicode[148]=toCharCode("ﬂ");pdfDocEncodingToUnicode[149]=toCharCode("Ł");pdfDocEncodingToUnicode[150]=toCharCode("Œ");pdfDocEncodingToUnicode[151]=toCharCode("Š");pdfDocEncodingToUnicode[152]=toCharCode("Ÿ");pdfDocEncodingToUnicode[153]=toCharCode("Ž");pdfDocEncodingToUnicode[154]=toCharCode("ı");pdfDocEncodingToUnicode[155]=toCharCode("ł");pdfDocEncodingToUnicode[156]=toCharCode("œ");pdfDocEncodingToUnicode[157]=toCharCode("š");pdfDocEncodingToUnicode[158]=toCharCode("ž");pdfDocEncodingToUnicode[159]=toCharCode("�");pdfDocEncodingToUnicode[160]=toCharCode("€");pdfDocEncodingToUnicode[173]=toCharCode("�");var pdfDocEncodingDecode=function(n){for(var t=new Array(n.length),r=0,a=n.length;r<a;r++)t[r]=pdfDocEncodingToUnicode[n[r]];return String.fromCodePoint.apply(String,t)},Cache=function(){function n(t){this.populate=t,this.value=void 0}return n.prototype.getValue=function(){return this.value},n.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},n.prototype.invalidate=function(){this.value=void 0},n.populatedBy=function(t){return new n(t)},n}(),MethodNotImplementedError=function(n){__extends(t,n);function t(r,a){var s=this,o="Method "+r+"."+a+"() not implemented";return s=n.call(this,o)||this,s}return t}(Error),PrivateConstructorError=function(n){__extends(t,n);function t(r){var a=this,s="Cannot construct "+r+" - it has a private constructor";return a=n.call(this,s)||this,a}return t}(Error),UnexpectedObjectTypeError=function(n){__extends(t,n);function t(r,a){var s=this,o=function(d){var f,g;return(f=d?.name)!==null&&f!==void 0?f:(g=d?.constructor)===null||g===void 0?void 0:g.name},l=Array.isArray(r)?r.map(o):[o(r)],u="Expected instance of "+l.join(" or ")+", "+("but got instance of "+(a&&o(a)));return s=n.call(this,u)||this,s}return t}(Error),UnsupportedEncodingError=function(n){__extends(t,n);function t(r){var a=this,s=r+" stream encoding not supported";return a=n.call(this,s)||this,a}return t}(Error),ReparseError=function(n){__extends(t,n);function t(r,a){var s=this,o="Cannot call "+r+"."+a+"() more than once";return s=n.call(this,o)||this,s}return t}(Error);(function(n){__extends(t,n);function t(r){var a=this,s="Missing catalog (ref="+r+")";return a=n.call(this,s)||this,a}return t})(Error);var MissingPageContentsEmbeddingError=function(n){__extends(t,n);function t(){var r=this,a="Can't embed page with missing Contents";return r=n.call(this,a)||this,r}return t}(Error),UnrecognizedStreamTypeError=function(n){__extends(t,n);function t(r){var a,s,o,l=this,u=(o=(s=(a=r?.contructor)===null||a===void 0?void 0:a.name)!==null&&s!==void 0?s:r?.name)!==null&&o!==void 0?o:r,d="Unrecognized stream type: "+u;return l=n.call(this,d)||this,l}return t}(Error),PageEmbeddingMismatchedContextError=function(n){__extends(t,n);function t(){var r=this,a="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return r=n.call(this,a)||this,r}return t}(Error),PDFArrayIsNotRectangleError=function(n){__extends(t,n);function t(r){var a=this,s="Attempted to convert PDFArray with "+r+" elements to rectangle, but must have exactly 4 elements.";return a=n.call(this,s)||this,a}return t}(Error),InvalidPDFDateStringError=function(n){__extends(t,n);function t(r){var a=this,s='Attempted to convert "'+r+'" to a date, but it does not match the PDF date string format.';return a=n.call(this,s)||this,a}return t}(Error),InvalidTargetIndexError=function(n){__extends(t,n);function t(r,a){var s=this,o="Invalid targetIndex specified: targetIndex="+r+" must be less than Count="+a;return s=n.call(this,o)||this,s}return t}(Error),CorruptPageTreeError=function(n){__extends(t,n);function t(r,a){var s=this,o="Failed to "+a+" at targetIndex="+r+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return s=n.call(this,o)||this,s}return t}(Error),IndexOutOfBoundsError=function(n){__extends(t,n);function t(r,a,s){var o=this,l="index should be at least "+a+" and at most "+s+", but was actually "+r;return o=n.call(this,l)||this,o}return t}(Error),InvalidAcroFieldValueError=function(n){__extends(t,n);function t(){var r=this,a="Attempted to set invalid field value";return r=n.call(this,a)||this,r}return t}(Error),MultiSelectValueError=function(n){__extends(t,n);function t(){var r=this,a="Attempted to select multiple values for single-select field";return r=n.call(this,a)||this,r}return t}(Error),MissingDAEntryError=function(n){__extends(t,n);function t(r){var a=this,s="No /DA (default appearance) entry found for field: "+r;return a=n.call(this,s)||this,a}return t}(Error),MissingTfOperatorError=function(n){__extends(t,n);function t(r){var a=this,s="No Tf operator found for DA of field: "+r;return a=n.call(this,s)||this,a}return t}(Error),NumberParsingError=function(n){__extends(t,n);function t(r,a){var s=this,o="Failed to parse number "+("(line:"+r.line+" col:"+r.column+" offset="+r.offset+'): "'+a+'"');return s=n.call(this,o)||this,s}return t}(Error),PDFParsingError=function(n){__extends(t,n);function t(r,a){var s=this,o="Failed to parse PDF document "+("(line:"+r.line+" col:"+r.column+" offset="+r.offset+"): "+a);return s=n.call(this,o)||this,s}return t}(Error),NextByteAssertionError=function(n){__extends(t,n);function t(r,a,s){var o=this,l="Expected next byte to be "+a+" but it was actually "+s;return o=n.call(this,r,l)||this,o}return t}(PDFParsingError),PDFObjectParsingError=function(n){__extends(t,n);function t(r,a){var s=this,o="Failed to parse PDF object starting with the following byte: "+a;return s=n.call(this,r,o)||this,s}return t}(PDFParsingError),PDFInvalidObjectParsingError=function(n){__extends(t,n);function t(r){var a=this,s="Failed to parse invalid PDF object";return a=n.call(this,r,s)||this,a}return t}(PDFParsingError),PDFStreamParsingError=function(n){__extends(t,n);function t(r){var a=this,s="Failed to parse PDF stream";return a=n.call(this,r,s)||this,a}return t}(PDFParsingError),UnbalancedParenthesisError=function(n){__extends(t,n);function t(r){var a=this,s="Failed to parse PDF literal string due to unbalanced parenthesis";return a=n.call(this,r,s)||this,a}return t}(PDFParsingError),StalledParserError=function(n){__extends(t,n);function t(r){var a=this,s="Parser stalled";return a=n.call(this,r,s)||this,a}return t}(PDFParsingError),MissingPDFHeaderError=function(n){__extends(t,n);function t(r){var a=this,s="No PDF header found";return a=n.call(this,r,s)||this,a}return t}(PDFParsingError),MissingKeywordError=function(n){__extends(t,n);function t(r,a){var s=this,o="Did not find expected keyword '"+arrayAsString(a)+"'";return s=n.call(this,r,o)||this,s}return t}(PDFParsingError),CharCodes;(function(n){n[n.Null=0]="Null",n[n.Backspace=8]="Backspace",n[n.Tab=9]="Tab",n[n.Newline=10]="Newline",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationPoint=33]="ExclamationPoint",n[n.Hash=35]="Hash",n[n.Percent=37]="Percent",n[n.LeftParen=40]="LeftParen",n[n.RightParen=41]="RightParen",n[n.Plus=43]="Plus",n[n.Minus=45]="Minus",n[n.Dash=45]="Dash",n[n.Period=46]="Period",n[n.ForwardSlash=47]="ForwardSlash",n[n.Zero=48]="Zero",n[n.One=49]="One",n[n.Two=50]="Two",n[n.Three=51]="Three",n[n.Four=52]="Four",n[n.Five=53]="Five",n[n.Six=54]="Six",n[n.Seven=55]="Seven",n[n.Eight=56]="Eight",n[n.Nine=57]="Nine",n[n.LessThan=60]="LessThan",n[n.GreaterThan=62]="GreaterThan",n[n.A=65]="A",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.O=79]="O",n[n.P=80]="P",n[n.R=82]="R",n[n.LeftSquareBracket=91]="LeftSquareBracket",n[n.BackSlash=92]="BackSlash",n[n.RightSquareBracket=93]="RightSquareBracket",n[n.a=97]="a",n[n.b=98]="b",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.i=105]="i",n[n.j=106]="j",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.x=120]="x",n[n.LeftCurly=123]="LeftCurly",n[n.RightCurly=125]="RightCurly",n[n.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function n(t,r){this.major=String(t),this.minor=String(r)}return n.prototype.toString=function(){var t=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+t+t+t+t},n.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},n.prototype.copyBytesInto=function(t,r){var a=r;return t[r++]=CharCodes$1.Percent,t[r++]=CharCodes$1.P,t[r++]=CharCodes$1.D,t[r++]=CharCodes$1.F,t[r++]=CharCodes$1.Dash,r+=copyStringIntoBuffer(this.major,t,r),t[r++]=CharCodes$1.Period,r+=copyStringIntoBuffer(this.minor,t,r),t[r++]=CharCodes$1.Newline,t[r++]=CharCodes$1.Percent,t[r++]=129,t[r++]=129,t[r++]=129,t[r++]=129,r-a},n.forVersion=function(t,r){return new n(t,r)},n}(),PDFObject=function(){function n(){}return n.prototype.clone=function(t){throw new MethodNotImplementedError(this.constructor.name,"clone")},n.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},n.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},n.prototype.copyBytesInto=function(t,r){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},n}(),PDFNumber=function(n){__extends(t,n);function t(r){var a=n.call(this)||this;return a.numberValue=r,a.stringValue=numberToString(r),a}return t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(r,a){return a+=copyStringIntoBuffer(this.stringValue,r,a),this.stringValue.length},t.of=function(r){return new t(r)},t}(PDFObject),PDFArray=function(n){__extends(t,n);function t(r){var a=n.call(this)||this;return a.array=[],a.context=r,a}return t.prototype.size=function(){return this.array.length},t.prototype.push=function(r){this.array.push(r)},t.prototype.insert=function(r,a){this.array.splice(r,0,a)},t.prototype.indexOf=function(r){var a=this.array.indexOf(r);return a===-1?void 0:a},t.prototype.remove=function(r){this.array.splice(r,1)},t.prototype.set=function(r,a){this.array[r]=a},t.prototype.get=function(r){return this.array[r]},t.prototype.lookupMaybe=function(r){for(var a,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return(a=this.context).lookupMaybe.apply(a,__spreadArrays([this.get(r)],s))},t.prototype.lookup=function(r){for(var a,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return(a=this.context).lookup.apply(a,__spreadArrays([this.get(r)],s))},t.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var r=this.lookup(0,PDFNumber).asNumber(),a=this.lookup(1,PDFNumber).asNumber(),s=this.lookup(2,PDFNumber).asNumber(),o=this.lookup(3,PDFNumber).asNumber(),l=r,u=a,d=s-r,f=o-a;return{x:l,y:u,width:d,height:f}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(r){for(var a=t.withContext(r||this.context),s=0,o=this.size();s<o;s++)a.push(this.array[s]);return a},t.prototype.toString=function(){for(var r="[ ",a=0,s=this.size();a<s;a++)r+=this.get(a).toString(),r+=" ";return r+="]",r},t.prototype.sizeInBytes=function(){for(var r=3,a=0,s=this.size();a<s;a++)r+=this.get(a).sizeInBytes()+1;return r},t.prototype.copyBytesInto=function(r,a){var s=a;r[a++]=CharCodes$1.LeftSquareBracket,r[a++]=CharCodes$1.Space;for(var o=0,l=this.size();o<l;o++)a+=this.get(o).copyBytesInto(r,a),r[a++]=CharCodes$1.Space;return r[a++]=CharCodes$1.RightSquareBracket,a-s},t.prototype.scalePDFNumbers=function(r,a){for(var s=0,o=this.size();s<o;s++){var l=this.lookup(s);if(l instanceof PDFNumber){var u=s%2===0?r:a;this.set(s,PDFNumber.of(l.asNumber()*u))}}},t.withContext=function(r){return new t(r)},t}(PDFObject),ENFORCER$2={},PDFBool=function(n){__extends(t,n);function t(r,a){var s=this;if(r!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return s=n.call(this)||this,s.value=a,s}return t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(r,a){return this.value?(r[a++]=CharCodes$1.t,r[a++]=CharCodes$1.r,r[a++]=CharCodes$1.u,r[a++]=CharCodes$1.e,4):(r[a++]=CharCodes$1.f,r[a++]=CharCodes$1.a,r[a++]=CharCodes$1.l,r[a++]=CharCodes$1.s,r[a++]=CharCodes$1.e,5)},t.True=new t(ENFORCER$2,!0),t.False=new t(ENFORCER$2,!1),t}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$2=256;idx$1<len$2;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(n){return n.replace(/#([\dABCDEF]{2})/g,function(t,r){return charFromHexCode(r)})},isRegularChar=function(n){return n>=CharCodes$1.ExclamationPoint&&n<=CharCodes$1.Tilde&&!IsIrregular[n]},ENFORCER$1={},pool$1=new Map,PDFName=function(n){__extends(t,n);function t(r,a){var s=this;if(r!==ENFORCER$1)throw new PrivateConstructorError("PDFName");s=n.call(this)||this;for(var o="/",l=0,u=a.length;l<u;l++){var d=a[l],f=toCharCode(d);o+=isRegularChar(f)?d:"#"+toHexString(f)}return s.encodedName=o,s}return t.prototype.asBytes=function(){for(var r=[],a="",s=!1,o=function(x){x!==void 0&&r.push(x),s=!1},l=1,u=this.encodedName.length;l<u;l++){var d=this.encodedName[l],f=toCharCode(d),g=this.encodedName[l+1];s?f>=CharCodes$1.Zero&&f<=CharCodes$1.Nine||f>=CharCodes$1.a&&f<=CharCodes$1.f||f>=CharCodes$1.A&&f<=CharCodes$1.F?(a+=d,(a.length===2||!(g>="0"&&g<="9"||g>="a"&&g<="f"||g>="A"&&g<="F"))&&(o(parseInt(a,16)),a="")):o(f):f===CharCodes$1.Hash?s=!0:o(f)}return new Uint8Array(r)},t.prototype.decodeText=function(){var r=this.asBytes();return String.fromCharCode.apply(String,Array.from(r))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(r,a){return a+=copyStringIntoBuffer(this.encodedName,r,a),this.encodedName.length},t.of=function(r){var a=decodeName(r),s=pool$1.get(a);return s||(s=new t(ENFORCER$1,a),pool$1.set(a,s)),s},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(PDFObject),PDFNull=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(r,a){return r[a++]=CharCodes$1.n,r[a++]=CharCodes$1.u,r[a++]=CharCodes$1.l,r[a++]=CharCodes$1.l,4},t}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(n){__extends(t,n);function t(r,a){var s=n.call(this)||this;return s.dict=r,s.context=a,s}return t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(r,a){this.dict.set(r,a)},t.prototype.get=function(r,a){a===void 0&&(a=!1);var s=this.dict.get(r);if(!(s===PDFNull$1&&!a))return s},t.prototype.has=function(r){var a=this.dict.get(r);return a!==void 0&&a!==PDFNull$1},t.prototype.lookupMaybe=function(r){for(var a,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var l=s.includes(PDFNull$1),u=(a=this.context).lookupMaybe.apply(a,__spreadArrays([this.get(r,l)],s));if(!(u===PDFNull$1&&!l))return u},t.prototype.lookup=function(r){for(var a,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var l=s.includes(PDFNull$1),u=(a=this.context).lookup.apply(a,__spreadArrays([this.get(r,l)],s));if(!(u===PDFNull$1&&!l))return u},t.prototype.delete=function(r){return this.dict.delete(r)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(r){r===void 0&&(r="");for(var a=this.keys(),s=PDFName.of(this.context.addRandomSuffix(r,10));a.includes(s);)s=PDFName.of(this.context.addRandomSuffix(r,10));return s},t.prototype.clone=function(r){for(var a=t.withContext(r||this.context),s=this.entries(),o=0,l=s.length;o<l;o++){var u=s[o],d=u[0],f=u[1];a.set(d,f)}return a},t.prototype.toString=function(){for(var r=`<<
`,a=this.entries(),s=0,o=a.length;s<o;s++){var l=a[s],u=l[0],d=l[1];r+=u.toString()+" "+d.toString()+`
`}return r+=">>",r},t.prototype.sizeInBytes=function(){for(var r=5,a=this.entries(),s=0,o=a.length;s<o;s++){var l=a[s],u=l[0],d=l[1];r+=u.sizeInBytes()+d.sizeInBytes()+2}return r},t.prototype.copyBytesInto=function(r,a){var s=a;r[a++]=CharCodes$1.LessThan,r[a++]=CharCodes$1.LessThan,r[a++]=CharCodes$1.Newline;for(var o=this.entries(),l=0,u=o.length;l<u;l++){var d=o[l],f=d[0],g=d[1];a+=f.copyBytesInto(r,a),r[a++]=CharCodes$1.Space,a+=g.copyBytesInto(r,a),r[a++]=CharCodes$1.Newline}return r[a++]=CharCodes$1.GreaterThan,r[a++]=CharCodes$1.GreaterThan,a-s},t.withContext=function(r){return new t(new Map,r)},t.fromMapWithContext=function(r,a){return new t(r,a)},t}(PDFObject),PDFStream=function(n){__extends(t,n);function t(r){var a=n.call(this)||this;return a.dict=r,a}return t.prototype.clone=function(r){throw new MethodNotImplementedError(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var r=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(r))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var r=this.dict.toString();return r+=`
stream
`,r+=this.getContentsString(),r+=`
endstream`,r},t.prototype.copyBytesInto=function(r,a){this.updateDict();var s=a;a+=this.dict.copyBytesInto(r,a),r[a++]=CharCodes$1.Newline,r[a++]=CharCodes$1.s,r[a++]=CharCodes$1.t,r[a++]=CharCodes$1.r,r[a++]=CharCodes$1.e,r[a++]=CharCodes$1.a,r[a++]=CharCodes$1.m,r[a++]=CharCodes$1.Newline;for(var o=this.getContents(),l=0,u=o.length;l<u;l++)r[a++]=o[l];return r[a++]=CharCodes$1.Newline,r[a++]=CharCodes$1.e,r[a++]=CharCodes$1.n,r[a++]=CharCodes$1.d,r[a++]=CharCodes$1.s,r[a++]=CharCodes$1.t,r[a++]=CharCodes$1.r,r[a++]=CharCodes$1.e,r[a++]=CharCodes$1.a,r[a++]=CharCodes$1.m,a-s},t}(PDFObject),PDFRawStream=function(n){__extends(t,n);function t(r,a){var s=n.call(this,r)||this;return s.contents=a,s}return t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(r){return t.of(this.dict.clone(r),this.contents.slice())},t.prototype.getContentsString=function(){return arrayAsString(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(r,a){return new t(r,a)},t}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(n){__extends(t,n);function t(r,a,s){var o=this;if(r!==ENFORCER)throw new PrivateConstructorError("PDFRef");return o=n.call(this)||this,o.objectNumber=a,o.generationNumber=s,o.tag=a+" "+s+" R",o}return t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(r,a){return a+=copyStringIntoBuffer(this.tag,r,a),this.tag.length},t.of=function(r,a){a===void 0&&(a=0);var s=r+" "+a+" R",o=pool.get(s);return o||(o=new t(ENFORCER,r,a),pool.set(s,o)),o},t}(PDFObject),PDFOperator=function(){function n(t,r){this.name=t,this.args=r||[]}return n.prototype.clone=function(t){for(var r=new Array(this.args.length),a=0,s=r.length;a<s;a++){var o=this.args[a];r[a]=o instanceof PDFObject?o.clone(t):o}return n.of(this.name,r)},n.prototype.toString=function(){for(var t="",r=0,a=this.args.length;r<a;r++)t+=String(this.args[r])+" ";return t+=this.name,t},n.prototype.sizeInBytes=function(){for(var t=0,r=0,a=this.args.length;r<a;r++){var s=this.args[r];t+=(s instanceof PDFObject?s.sizeInBytes():s.length)+1}return t+=this.name.length,t},n.prototype.copyBytesInto=function(t,r){for(var a=r,s=0,o=this.args.length;s<o;s++){var l=this.args[s];l instanceof PDFObject?r+=l.copyBytesInto(t,r):r+=copyStringIntoBuffer(l,t,r),t[r++]=CharCodes$1.Space}return r+=copyStringIntoBuffer(this.name,t,r),r-a},n.of=function(t,r){return new n(t,r)},n}(),PDFOperatorNames;(function(n){n.NonStrokingColor="sc",n.NonStrokingColorN="scn",n.NonStrokingColorRgb="rg",n.NonStrokingColorGray="g",n.NonStrokingColorCmyk="k",n.NonStrokingColorspace="cs",n.StrokingColor="SC",n.StrokingColorN="SCN",n.StrokingColorRgb="RG",n.StrokingColorGray="G",n.StrokingColorCmyk="K",n.StrokingColorspace="CS",n.BeginMarkedContentSequence="BDC",n.BeginMarkedContent="BMC",n.EndMarkedContent="EMC",n.MarkedContentPointWithProps="DP",n.MarkedContentPoint="MP",n.DrawObject="Do",n.ConcatTransformationMatrix="cm",n.PopGraphicsState="Q",n.PushGraphicsState="q",n.SetFlatness="i",n.SetGraphicsStateParams="gs",n.SetLineCapStyle="J",n.SetLineDashPattern="d",n.SetLineJoinStyle="j",n.SetLineMiterLimit="M",n.SetLineWidth="w",n.SetTextMatrix="Tm",n.SetRenderingIntent="ri",n.AppendRectangle="re",n.BeginInlineImage="BI",n.BeginInlineImageData="ID",n.EndInlineImage="EI",n.ClipEvenOdd="W*",n.ClipNonZero="W",n.CloseAndStroke="s",n.CloseFillEvenOddAndStroke="b*",n.CloseFillNonZeroAndStroke="b",n.ClosePath="h",n.AppendBezierCurve="c",n.CurveToReplicateFinalPoint="y",n.CurveToReplicateInitialPoint="v",n.EndPath="n",n.FillEvenOddAndStroke="B*",n.FillEvenOdd="f*",n.FillNonZeroAndStroke="B",n.FillNonZero="f",n.LegacyFillNonZero="F",n.LineTo="l",n.MoveTo="m",n.ShadingFill="sh",n.StrokePath="S",n.BeginText="BT",n.EndText="ET",n.MoveText="Td",n.MoveTextSetLeading="TD",n.NextLine="T*",n.SetCharacterSpacing="Tc",n.SetFontAndSize="Tf",n.SetTextHorizontalScaling="Tz",n.SetTextLineHeight="TL",n.SetTextRenderingMode="Tr",n.SetTextRise="Ts",n.SetWordSpacing="Tw",n.ShowText="Tj",n.ShowTextAdjusted="TJ",n.ShowTextLine="'",n.ShowTextLineAndSpace='"',n.Type3D0="d0",n.Type3D1="d1",n.BeginCompatibilitySection="BX",n.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(n){__extends(t,n);function t(r,a){var s=n.call(this,r)||this;return s.computeContents=function(){var o=s.getUnencodedContents();return s.encode?pako$1.deflate(o):o},s.encode=a,a&&r.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),s.contentsCache=Cache.populatedBy(s.computeContents),s}return t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},t}(PDFStream),PDFContentStream=function(n){__extends(t,n);function t(r,a,s){s===void 0&&(s=!0);var o=n.call(this,r,s)||this;return o.operators=a,o}return t.prototype.push=function(){for(var r,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];(r=this.operators).push.apply(r,a)},t.prototype.clone=function(r){for(var a=new Array(this.operators.length),s=0,o=this.operators.length;s<o;s++)a[s]=this.operators[s].clone(r);var l=this,u=l.dict,d=l.encode;return t.of(u.clone(r),a,d)},t.prototype.getContentsString=function(){for(var r="",a=0,s=this.operators.length;a<s;a++)r+=this.operators[a]+`
`;return r},t.prototype.getUnencodedContents=function(){for(var r=new Uint8Array(this.getUnencodedContentsSize()),a=0,s=0,o=this.operators.length;s<o;s++)a+=this.operators[s].copyBytesInto(r,a),r[a++]=CharCodes$1.Newline;return r},t.prototype.getUnencodedContentsSize=function(){for(var r=0,a=0,s=this.operators.length;a<s;a++)r+=this.operators[a].sizeInBytes()+1;return r},t.of=function(r,a,s){return s===void 0&&(s=!0),new t(r,a,s)},t}(PDFFlateStream),SimpleRNG=function(){function n(t){this.seed=t}return n.prototype.nextInt=function(){var t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)},n.withSeed=function(t){return new n(t)},n}(),byAscendingObjectNumber=function(n,t){var r=n[0],a=t[0];return r.objectNumber-a.objectNumber},PDFContext=function(){function n(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1)}return n.prototype.assign=function(t,r){this.indirectObjects.set(t,r),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},n.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},n.prototype.register=function(t){var r=this.nextRef();return this.assign(r,t),r},n.prototype.delete=function(t){return this.indirectObjects.delete(t)},n.prototype.lookupMaybe=function(t){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=r.includes(PDFNull$1),o=t instanceof PDFRef?this.indirectObjects.get(t):t;if(!(!o||o===PDFNull$1&&!s)){for(var l=0,u=r.length;l<u;l++){var d=r[l];if(d===PDFNull$1){if(o===PDFNull$1)return o}else if(o instanceof d)return o}throw new UnexpectedObjectTypeError(r,o)}},n.prototype.lookup=function(t){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=t instanceof PDFRef?this.indirectObjects.get(t):t;if(r.length===0)return s;for(var o=0,l=r.length;o<l;o++){var u=r[o];if(u===PDFNull$1){if(s===PDFNull$1)return s}else if(s instanceof u)return s}throw new UnexpectedObjectTypeError(r,s)},n.prototype.getObjectRef=function(t){for(var r=Array.from(this.indirectObjects.entries()),a=0,s=r.length;a<s;a++){var o=r[a],l=o[0],u=o[1];if(u===t)return l}},n.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},n.prototype.obj=function(t){if(t instanceof PDFObject)return t;if(t==null)return PDFNull$1;if(typeof t=="string")return PDFName.of(t);if(typeof t=="number")return PDFNumber.of(t);if(typeof t=="boolean")return t?PDFBool.True:PDFBool.False;if(Array.isArray(t)){for(var r=PDFArray.withContext(this),a=0,s=t.length;a<s;a++)r.push(this.obj(t[a]));return r}else{for(var o=PDFDict.withContext(this),l=Object.keys(t),a=0,s=l.length;a<s;a++){var u=l[a],d=t[u];d!==void 0&&o.set(PDFName.of(u),this.obj(d))}return o}},n.prototype.stream=function(t,r){return r===void 0&&(r={}),PDFRawStream.of(this.obj(r),typedArrayFor(t))},n.prototype.flateStream=function(t,r){return r===void 0&&(r={}),this.stream(pako$1.deflate(typedArrayFor(t)),__assign(__assign({},r),{Filter:"FlateDecode"}))},n.prototype.contentStream=function(t,r){return r===void 0&&(r={}),PDFContentStream.of(this.obj(r),t)},n.prototype.formXObject=function(t,r){return r===void 0&&(r={}),this.contentStream(t,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},r),{Type:"XObject",Subtype:"Form"}))},n.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),r=PDFOperator.of(Ops.PushGraphicsState),a=PDFContentStream.of(t,[r]);return this.pushGraphicsStateContentStreamRef=this.register(a),this.pushGraphicsStateContentStreamRef},n.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),r=PDFOperator.of(Ops.PopGraphicsState),a=PDFContentStream.of(t,[r]);return this.popGraphicsStateContentStreamRef=this.register(a),this.popGraphicsStateContentStreamRef},n.prototype.addRandomSuffix=function(t,r){return r===void 0&&(r=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,r))},n.create=function(){return new n},n}(),PDFPageLeaf=function(n){__extends(t,n);function t(r,a,s){s===void 0&&(s=!0);var o=n.call(this,r,a)||this;return o.normalized=!1,o.autoNormalizeCTM=s,o}return t.prototype.clone=function(r){for(var a=t.fromMapWithContext(new Map,r||this.context,this.autoNormalizeCTM),s=this.entries(),o=0,l=s.length;o<l;o++){var u=s[o],d=u[0],f=u[1];a.set(d,f)}return a},t.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},t.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},t.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},t.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},t.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},t.prototype.Resources=function(){var r=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(r,PDFDict)},t.prototype.MediaBox=function(){var r=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(r,PDFArray)},t.prototype.CropBox=function(){var r=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(r,PDFArray)},t.prototype.Rotate=function(){var r=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(r,PDFNumber)},t.prototype.getInheritableAttribute=function(r){var a;return this.ascend(function(s){a||(a=s.get(r))}),a},t.prototype.setParent=function(r){this.set(PDFName.Parent,r)},t.prototype.addContentStream=function(r){var a=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,a),a.push(r)},t.prototype.wrapContentStreams=function(r,a){var s=this.Contents();return s instanceof PDFArray?(s.insert(0,r),s.push(a),!0):!1},t.prototype.addAnnot=function(r){var a=this.normalizedEntries().Annots;a.push(r)},t.prototype.removeAnnot=function(r){var a=this.normalizedEntries().Annots,s=a.indexOf(r);s!==void 0&&a.remove(s)},t.prototype.setFontDictionary=function(r,a){var s=this.normalizedEntries().Font;s.set(r,a)},t.prototype.newFontDictionaryKey=function(r){var a=this.normalizedEntries().Font;return a.uniqueKey(r)},t.prototype.newFontDictionary=function(r,a){var s=this.newFontDictionaryKey(r);return this.setFontDictionary(s,a),s},t.prototype.setXObject=function(r,a){var s=this.normalizedEntries().XObject;s.set(r,a)},t.prototype.newXObjectKey=function(r){var a=this.normalizedEntries().XObject;return a.uniqueKey(r)},t.prototype.newXObject=function(r,a){var s=this.newXObjectKey(r);return this.setXObject(s,a),s},t.prototype.setExtGState=function(r,a){var s=this.normalizedEntries().ExtGState;s.set(r,a)},t.prototype.newExtGStateKey=function(r){var a=this.normalizedEntries().ExtGState;return a.uniqueKey(r)},t.prototype.newExtGState=function(r,a){var s=this.newExtGStateKey(r);return this.setExtGState(s,a),s},t.prototype.ascend=function(r){r(this);var a=this.Parent();a&&a.ascend(r)},t.prototype.normalize=function(){if(!this.normalized){var r=this.context,a=this.get(PDFName.Contents),s=this.context.lookup(a);s instanceof PDFStream&&this.set(PDFName.Contents,r.obj([a])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var o=this.getInheritableAttribute(PDFName.Resources),l=r.lookupMaybe(o,PDFDict)||r.obj({});this.set(PDFName.Resources,l);var u=l.lookupMaybe(PDFName.Font,PDFDict)||r.obj({});l.set(PDFName.Font,u);var d=l.lookupMaybe(PDFName.XObject,PDFDict)||r.obj({});l.set(PDFName.XObject,d);var f=l.lookupMaybe(PDFName.ExtGState,PDFDict)||r.obj({});l.set(PDFName.ExtGState,f);var g=this.Annots()||r.obj([]);this.set(PDFName.Annots,g),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var r=this.Annots(),a=this.Resources(),s=this.Contents();return{Annots:r,Resources:a,Contents:s,Font:a.lookup(PDFName.Font,PDFDict),XObject:a.lookup(PDFName.XObject,PDFDict),ExtGState:a.lookup(PDFName.ExtGState,PDFDict)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(r,a){var s=new Map;return s.set(PDFName.Type,PDFName.Page),s.set(PDFName.Parent,a),s.set(PDFName.Resources,r.obj({})),s.set(PDFName.MediaBox,r.obj([0,0,612,792])),new t(s,r,!1)},t.fromMapWithContext=function(r,a,s){return s===void 0&&(s=!0),new t(r,a,s)},t}(PDFDict),PDFObjectCopier=function(){function n(t,r){var a=this;this.traversedObjects=new Map,this.copy=function(s){return s instanceof PDFPageLeaf?a.copyPDFPage(s):s instanceof PDFDict?a.copyPDFDict(s):s instanceof PDFArray?a.copyPDFArray(s):s instanceof PDFStream?a.copyPDFStream(s):s instanceof PDFRef?a.copyPDFIndirectObject(s):s.clone()},this.copyPDFPage=function(s){for(var o=s.clone(),l=PDFPageLeaf.InheritableEntries,u=0,d=l.length;u<d;u++){var f=PDFName.of(l[u]),g=o.getInheritableAttribute(f);!o.get(f)&&g&&o.set(f,g)}return o.delete(PDFName.of("Parent")),a.copyPDFDict(o)},this.copyPDFDict=function(s){if(a.traversedObjects.has(s))return a.traversedObjects.get(s);var o=s.clone(a.dest);a.traversedObjects.set(s,o);for(var l=s.entries(),u=0,d=l.length;u<d;u++){var f=l[u],g=f[0],x=f[1];o.set(g,a.copy(x))}return o},this.copyPDFArray=function(s){if(a.traversedObjects.has(s))return a.traversedObjects.get(s);var o=s.clone(a.dest);a.traversedObjects.set(s,o);for(var l=0,u=s.size();l<u;l++){var d=s.get(l);o.set(l,a.copy(d))}return o},this.copyPDFStream=function(s){if(a.traversedObjects.has(s))return a.traversedObjects.get(s);var o=s.clone(a.dest);a.traversedObjects.set(s,o);for(var l=s.dict.entries(),u=0,d=l.length;u<d;u++){var f=l[u],g=f[0],x=f[1];o.dict.set(g,a.copy(x))}return o},this.copyPDFIndirectObject=function(s){var o=a.traversedObjects.has(s);if(!o){var l=a.dest.nextRef();a.traversedObjects.set(s,l);var u=a.src.lookup(s);if(u){var d=a.copy(u);a.dest.assign(l,d)}}return a.traversedObjects.get(s)},this.src=t,this.dest=r}return n.for=function(t,r){return new n(t,r)},n}(),PDFCrossRefSection=function(){function n(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return n.prototype.addEntry=function(t,r){this.append({ref:t,offset:r,deleted:!1})},n.prototype.addDeletedEntry=function(t,r){this.append({ref:t,offset:r,deleted:!0})},n.prototype.toString=function(){for(var t=`xref
`,r=0,a=this.subsections.length;r<a;r++){var s=this.subsections[r];t+=s[0].ref.objectNumber+" "+s.length+`
`;for(var o=0,l=s.length;o<l;o++){var u=s[o];t+=padStart$1(String(u.offset),10,"0"),t+=" ",t+=padStart$1(String(u.ref.generationNumber),5,"0"),t+=" ",t+=u.deleted?"f":"n",t+=` 
`}}return t},n.prototype.sizeInBytes=function(){for(var t=5,r=0,a=this.subsections.length;r<a;r++){var s=this.subsections[r],o=s.length,l=s[0];t+=2,t+=String(l.ref.objectNumber).length,t+=String(o).length,t+=20*o}return t},n.prototype.copyBytesInto=function(t,r){var a=r;return t[r++]=CharCodes$1.x,t[r++]=CharCodes$1.r,t[r++]=CharCodes$1.e,t[r++]=CharCodes$1.f,t[r++]=CharCodes$1.Newline,r+=this.copySubsectionsIntoBuffer(this.subsections,t,r),r-a},n.prototype.copySubsectionsIntoBuffer=function(t,r,a){for(var s=a,o=t.length,l=0;l<o;l++){var u=this.subsections[l],d=String(u[0].ref.objectNumber);a+=copyStringIntoBuffer(d,r,a),r[a++]=CharCodes$1.Space;var f=String(u.length);a+=copyStringIntoBuffer(f,r,a),r[a++]=CharCodes$1.Newline,a+=this.copyEntriesIntoBuffer(u,r,a)}return a-s},n.prototype.copyEntriesIntoBuffer=function(t,r,a){for(var s=t.length,o=0;o<s;o++){var l=t[o],u=padStart$1(String(l.offset),10,"0");a+=copyStringIntoBuffer(u,r,a),r[a++]=CharCodes$1.Space;var d=padStart$1(String(l.ref.generationNumber),5,"0");a+=copyStringIntoBuffer(d,r,a),r[a++]=CharCodes$1.Space,r[a++]=l.deleted?CharCodes$1.f:CharCodes$1.n,r[a++]=CharCodes$1.Space,r[a++]=CharCodes$1.Newline}return 20*s},n.prototype.append=function(t){if(this.chunkLength===0){this.subsections.push([t]),this.chunkIdx=0,this.chunkLength=1;return}var r=this.subsections[this.chunkIdx],a=r[this.chunkLength-1];t.ref.objectNumber-a.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(r.push(t),this.chunkLength+=1)},n.create=function(){return new n({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},n.createEmpty=function(){return new n},n}(),PDFTrailer=function(){function n(t){this.lastXRefOffset=String(t)}return n.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},n.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},n.prototype.copyBytesInto=function(t,r){var a=r;return t[r++]=CharCodes$1.s,t[r++]=CharCodes$1.t,t[r++]=CharCodes$1.a,t[r++]=CharCodes$1.r,t[r++]=CharCodes$1.t,t[r++]=CharCodes$1.x,t[r++]=CharCodes$1.r,t[r++]=CharCodes$1.e,t[r++]=CharCodes$1.f,t[r++]=CharCodes$1.Newline,r+=copyStringIntoBuffer(this.lastXRefOffset,t,r),t[r++]=CharCodes$1.Newline,t[r++]=CharCodes$1.Percent,t[r++]=CharCodes$1.Percent,t[r++]=CharCodes$1.E,t[r++]=CharCodes$1.O,t[r++]=CharCodes$1.F,r-a},n.forLastCrossRefSectionOffset=function(t){return new n(t)},n}(),PDFTrailerDict=function(){function n(t){this.dict=t}return n.prototype.toString=function(){return`trailer
`+this.dict.toString()},n.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},n.prototype.copyBytesInto=function(t,r){var a=r;return t[r++]=CharCodes$1.t,t[r++]=CharCodes$1.r,t[r++]=CharCodes$1.a,t[r++]=CharCodes$1.i,t[r++]=CharCodes$1.l,t[r++]=CharCodes$1.e,t[r++]=CharCodes$1.r,t[r++]=CharCodes$1.Newline,r+=this.dict.copyBytesInto(t,r),r-a},n.of=function(t){return new n(t)},n}(),PDFObjectStream=function(n){__extends(t,n);function t(r,a,s){s===void 0&&(s=!0);var o=n.call(this,r.obj({}),s)||this;return o.objects=a,o.offsets=o.computeObjectOffsets(),o.offsetsString=o.computeOffsetsString(),o.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),o.dict.set(PDFName.of("N"),PDFNumber.of(o.objects.length)),o.dict.set(PDFName.of("First"),PDFNumber.of(o.offsetsString.length)),o}return t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(r){return t.withContextAndObjects(r||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var r=this.offsetsString,a=0,s=this.objects.length;a<s;a++){var o=this.objects[a],l=o[1];r+=l+`
`}return r},t.prototype.getUnencodedContents=function(){for(var r=new Uint8Array(this.getUnencodedContentsSize()),a=copyStringIntoBuffer(this.offsetsString,r,0),s=0,o=this.objects.length;s<o;s++){var l=this.objects[s],u=l[1];a+=u.copyBytesInto(r,a),r[a++]=CharCodes$1.Newline}return r},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last(this.offsets)[1]+last(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var r="",a=0,s=this.offsets.length;a<s;a++){var o=this.offsets[a],l=o[0],u=o[1];r+=l+" "+u+" "}return r},t.prototype.computeObjectOffsets=function(){for(var r=0,a=new Array(this.objects.length),s=0,o=this.objects.length;s<o;s++){var l=this.objects[s],u=l[0],d=l[1];a[s]=[u.objectNumber,r],r+=d.sizeInBytes()+1}return a},t.withContextAndObjects=function(r,a,s){return s===void 0&&(s=!0),new t(r,a,s)},t}(PDFFlateStream),PDFWriter=function(){function n(t,r){var a=this;this.parsedObjects=0,this.shouldWaitForTick=function(s){return a.parsedObjects+=s,a.parsedObjects%a.objectsPerTick===0},this.context=t,this.objectsPerTick=r}return n.prototype.serializeToBuffer=function(){return __awaiter(this,void 0,void 0,function(){var t,r,a,s,o,l,u,d,f,g,x,b,m,y,v,w,S;return __generator(this,function(C){switch(C.label){case 0:return[4,this.computeBufferSize()];case 1:t=C.sent(),r=t.size,a=t.header,s=t.indirectObjects,o=t.xref,l=t.trailerDict,u=t.trailer,d=0,f=new Uint8Array(r),d+=a.copyBytesInto(f,d),f[d++]=CharCodes$1.Newline,f[d++]=CharCodes$1.Newline,g=0,x=s.length,C.label=2;case 2:return g<x?(b=s[g],m=b[0],y=b[1],v=String(m.objectNumber),d+=copyStringIntoBuffer(v,f,d),f[d++]=CharCodes$1.Space,w=String(m.generationNumber),d+=copyStringIntoBuffer(w,f,d),f[d++]=CharCodes$1.Space,f[d++]=CharCodes$1.o,f[d++]=CharCodes$1.b,f[d++]=CharCodes$1.j,f[d++]=CharCodes$1.Newline,d+=y.copyBytesInto(f,d),f[d++]=CharCodes$1.Newline,f[d++]=CharCodes$1.e,f[d++]=CharCodes$1.n,f[d++]=CharCodes$1.d,f[d++]=CharCodes$1.o,f[d++]=CharCodes$1.b,f[d++]=CharCodes$1.j,f[d++]=CharCodes$1.Newline,f[d++]=CharCodes$1.Newline,S=y instanceof PDFObjectStream?y.getObjectsCount():1,this.shouldWaitForTick(S)?[4,waitForTick()]:[3,4]):[3,5];case 3:C.sent(),C.label=4;case 4:return g++,[3,2];case 5:return o&&(d+=o.copyBytesInto(f,d),f[d++]=CharCodes$1.Newline),l&&(d+=l.copyBytesInto(f,d),f[d++]=CharCodes$1.Newline,f[d++]=CharCodes$1.Newline),d+=u.copyBytesInto(f,d),[2,f]}})})},n.prototype.computeIndirectObjectSize=function(t){var r=t[0],a=t[1],s=r.sizeInBytes()+3,o=a.sizeInBytes()+9;return s+o},n.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},n.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var t,r,a,s,o,l,u,d,f,g,x;return __generator(this,function(b){switch(b.label){case 0:t=PDFHeader.forVersion(1,7),r=t.sizeInBytes()+2,a=PDFCrossRefSection.create(),s=this.context.enumerateIndirectObjects(),o=0,l=s.length,b.label=1;case 1:return o<l?(u=s[o],d=u[0],a.addEntry(d,r),r+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4];case 2:b.sent(),b.label=3;case 3:return o++,[3,1];case 4:return f=r,r+=a.sizeInBytes()+1,g=PDFTrailerDict.of(this.createTrailerDict()),r+=g.sizeInBytes()+2,x=PDFTrailer.forLastCrossRefSectionOffset(f),r+=x.sizeInBytes(),[2,{size:r,header:t,indirectObjects:s,xref:a,trailerDict:g,trailer:x}]}})})},n.forContext=function(t,r){return new n(t,r)},n}(),PDFInvalidObject=function(n){__extends(t,n);function t(r){var a=n.call(this)||this;return a.data=r,a}return t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(r,a){for(var s=this.data.length,o=0;o<s;o++)r[a++]=this.data[o];return s},t.of=function(r){return new t(r)},t}(PDFObject),EntryType;(function(n){n[n.Deleted=0]="Deleted",n[n.Uncompressed=1]="Uncompressed",n[n.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(n){__extends(t,n);function t(r,a,s){s===void 0&&(s=!0);var o=n.call(this,r,s)||this;return o.computeIndex=function(){for(var l=[],u=0,d=0,f=o.entries.length;d<f;d++){var g=o.entries[d],x=o.entries[d-1];d===0?l.push(g.ref.objectNumber):g.ref.objectNumber-x.ref.objectNumber>1&&(l.push(u),l.push(g.ref.objectNumber),u=0),u+=1}return l.push(u),l},o.computeEntryTuples=function(){for(var l=new Array(o.entries.length),u=0,d=o.entries.length;u<d;u++){var f=o.entries[u];if(f.type===EntryType.Deleted){var g=f.type,x=f.nextFreeObjectNumber,b=f.ref;l[u]=[g,x,b.generationNumber]}if(f.type===EntryType.Uncompressed){var g=f.type,m=f.offset,b=f.ref;l[u]=[g,m,b.generationNumber]}if(f.type===EntryType.Compressed){var g=f.type,y=f.objectStreamRef,v=f.index;l[u]=[g,y.objectNumber,v]}}return l},o.computeMaxEntryByteWidths=function(){for(var l=o.entryTuplesCache.access(),u=[0,0,0],d=0,f=l.length;d<f;d++){var g=l[d],x=g[0],b=g[1],m=g[2],y=sizeInBytes(x),v=sizeInBytes(b),w=sizeInBytes(m);y>u[0]&&(u[0]=y),v>u[1]&&(u[1]=v),w>u[2]&&(u[2]=w)}return u},o.entries=a||[],o.entryTuplesCache=Cache.populatedBy(o.computeEntryTuples),o.maxByteWidthsCache=Cache.populatedBy(o.computeMaxEntryByteWidths),o.indexCache=Cache.populatedBy(o.computeIndex),r.set(PDFName.of("Type"),PDFName.of("XRef")),o}return t.prototype.addDeletedEntry=function(r,a){var s=EntryType.Deleted;this.entries.push({type:s,ref:r,nextFreeObjectNumber:a}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(r,a){var s=EntryType.Uncompressed;this.entries.push({type:s,ref:r,offset:a}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(r,a,s){var o=EntryType.Compressed;this.entries.push({type:o,ref:r,objectStreamRef:a,index:s}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(r){var a=this,s=a.dict,o=a.entries,l=a.encode;return t.of(s.clone(r),o.slice(),l)},t.prototype.getContentsString=function(){for(var r=this.entryTuplesCache.access(),a=this.maxByteWidthsCache.access(),s="",o=0,l=r.length;o<l;o++){for(var u=r[o],d=u[0],f=u[1],g=u[2],x=reverseArray(bytesFor(d)),b=reverseArray(bytesFor(f)),m=reverseArray(bytesFor(g)),y=a[0]-1;y>=0;y--)s+=(x[y]||0).toString(2);for(var y=a[1]-1;y>=0;y--)s+=(b[y]||0).toString(2);for(var y=a[2]-1;y>=0;y--)s+=(m[y]||0).toString(2)}return s},t.prototype.getUnencodedContents=function(){for(var r=this.entryTuplesCache.access(),a=this.maxByteWidthsCache.access(),s=new Uint8Array(this.getUnencodedContentsSize()),o=0,l=0,u=r.length;l<u;l++){for(var d=r[l],f=d[0],g=d[1],x=d[2],b=reverseArray(bytesFor(f)),m=reverseArray(bytesFor(g)),y=reverseArray(bytesFor(x)),v=a[0]-1;v>=0;v--)s[o++]=b[v]||0;for(var v=a[1]-1;v>=0;v--)s[o++]=m[v]||0;for(var v=a[2]-1;v>=0;v--)s[o++]=y[v]||0}return s},t.prototype.getUnencodedContentsSize=function(){var r=this.maxByteWidthsCache.access(),a=sum(r);return a*this.entries.length},t.prototype.updateDict=function(){n.prototype.updateDict.call(this);var r=this.maxByteWidthsCache.access(),a=this.indexCache.access(),s=this.dict.context;this.dict.set(PDFName.of("W"),s.obj(r)),this.dict.set(PDFName.of("Index"),s.obj(a))},t.create=function(r,a){a===void 0&&(a=!0);var s=new t(r,[],a);return s.addDeletedEntry(PDFRef.of(0,65535),0),s},t.of=function(r,a,s){return s===void 0&&(s=!0),new t(r,a,s)},t}(PDFFlateStream),PDFStreamWriter=function(n){__extends(t,n);function t(r,a,s,o){var l=n.call(this,r,a)||this;return l.encodeStreams=s,l.objectsPerStream=o,l}return t.prototype.computeBufferSize=function(){return __awaiter(this,void 0,void 0,function(){var r,a,s,o,l,u,d,f,y,v,g,S,x,b,w,m,y,v,w,S,C,E,T,_;return __generator(this,function(R){switch(R.label){case 0:r=this.context.largestObjectNumber+1,a=PDFHeader.forVersion(1,7),s=a.sizeInBytes()+2,o=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),l=[],u=[],d=[],f=this.context.enumerateIndirectObjects(),y=0,v=f.length,R.label=1;case 1:return y<v?(g=f[y],S=g[0],x=g[1],b=S===this.context.trailerInfo.Encrypt||x instanceof PDFStream||x instanceof PDFInvalidObject||S.generationNumber!==0,b?(l.push(g),o.addUncompressedEntry(S,s),s+=this.computeIndirectObjectSize(g),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,6];case 2:R.sent(),R.label=3;case 3:return[3,5];case 4:w=last(u),m=last(d),(!w||w.length%this.objectsPerStream===0)&&(w=[],u.push(w),m=PDFRef.of(r++),d.push(m)),o.addCompressedEntry(S,m,w.length),w.push(g),R.label=5;case 5:return y++,[3,1];case 6:y=0,v=u.length,R.label=7;case 7:return y<v?(w=u[y],S=d[y],C=PDFObjectStream.withContextAndObjects(this.context,w,this.encodeStreams),o.addUncompressedEntry(S,s),s+=this.computeIndirectObjectSize([S,C]),l.push([S,C]),this.shouldWaitForTick(w.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:R.sent(),R.label=9;case 9:return y++,[3,7];case 10:return E=PDFRef.of(r++),o.dict.set(PDFName.of("Size"),PDFNumber.of(r)),o.addUncompressedEntry(E,s),T=s,s+=this.computeIndirectObjectSize([E,o]),l.push([E,o]),_=PDFTrailer.forLastCrossRefSectionOffset(T),s+=_.sizeInBytes(),[2,{size:s,header:a,indirectObjects:l,trailer:_}]}})})},t.forContext=function(r,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=50),new t(r,a,s,o)},t}(PDFWriter),PDFHexString=function(n){__extends(t,n);function t(r){var a=n.call(this)||this;return a.value=r,a}return t.prototype.asBytes=function(){for(var r=this.value+(this.value.length%2===1?"0":""),a=r.length,s=new Uint8Array(r.length/2),o=0,l=0;o<a;){var u=parseInt(r.substring(o,o+2),16);s[l]=u,o+=2,l+=1}return s},t.prototype.decodeText=function(){var r=this.asBytes();return hasUtf16BOM(r)?utf16Decode(r):pdfDocEncodingDecode(r)},t.prototype.decodeDate=function(){var r=this.decodeText(),a=parseDate(r);if(!a)throw new InvalidPDFDateStringError(r);return a},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(r,a){return r[a++]=CharCodes$1.LessThan,a+=copyStringIntoBuffer(this.value,r,a),r[a++]=CharCodes$1.GreaterThan,this.value.length+2},t.of=function(r){return new t(r)},t.fromText=function(r){for(var a=utf16Encode(r),s="",o=0,l=a.length;o<l;o++)s+=toHexStringOfMinLength(a[o],4);return new t(s)},t}(PDFObject),StandardFontEmbedder=function(){function n(t,r){this.encoding=t===FontNames.ZapfDingbats?Encodings.ZapfDingbats:t===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font.load(t),this.fontName=this.font.FontName,this.customName=r}return n.prototype.encodeText=function(t){for(var r=this.encodeTextAsGlyphs(t),a=new Array(r.length),s=0,o=r.length;s<o;s++)a[s]=toHexString(r[s].code);return PDFHexString.of(a.join(""))},n.prototype.widthOfTextAtSize=function(t,r){for(var a=this.encodeTextAsGlyphs(t),s=0,o=0,l=a.length;o<l;o++){var u=a[o].name,d=(a[o+1]||{}).name,f=this.font.getXAxisKerningForPair(u,d)||0;s+=this.widthOfGlyph(u)+f}var g=r/1e3;return s*g},n.prototype.heightOfFontAtSize=function(t,r){r===void 0&&(r={});var a=r.descender,s=a===void 0?!0:a,o=this.font,l=o.Ascender,u=o.Descender,d=o.FontBBox,f=l||d[3],g=u||d[1],x=f-g;return s||(x+=u||0),x/1e3*t},n.prototype.sizeOfFontAtHeight=function(t){var r=this.font,a=r.Ascender,s=r.Descender,o=r.FontBBox,l=a||o[3],u=s||o[1];return 1e3*t/(l-u)},n.prototype.embedIntoContext=function(t,r){var a=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return r?(t.assign(r,a),r):t.register(a)},n.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},n.prototype.encodeTextAsGlyphs=function(t){for(var r=Array.from(t),a=new Array(r.length),s=0,o=r.length;s<o;s++){var l=toCodePoint(r[s]);a[s]=this.encoding.encodeUnicodeCodePoint(l)}return a},n.for=function(t,r){return new n(t,r)},n}(),createCmap=function(n,t){for(var r=new Array(n.length),a=0,s=n.length;a<s;a++){var o=n[a],l=cmapHexFormat(cmapHexString(t(o))),u=cmapHexFormat.apply(void 0,o.codePoints.map(cmapCodePointFormat));r[a]=[l,u]}return fillCmapTemplate(r)},fillCmapTemplate=function(n){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+n.length+` beginbfchar
`+n.map(function(t){var r=t[0],a=t[1];return r+" "+a}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return"<"+n.join("")+">"},cmapHexString=function(n){return toHexStringOfMinLength(n,4)},cmapCodePointFormat=function(n){if(isWithinBMP(n))return cmapHexString(n);if(hasSurrogates(n)){var t=highSurrogate(n),r=lowSurrogate(n);return""+cmapHexString(t)+cmapHexString(r)}var a=toHexString(n),s="0x"+a+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(s)},makeFontFlags=function(n){var t=0,r=function(a){t|=1<<a-1};return n.fixedPitch&&r(1),n.serif&&r(2),n.symbolic&&r(3),n.script&&r(4),n.nonsymbolic&&r(6),n.italic&&r(7),n.allCap&&r(17),n.smallCap&&r(18),n.forceBold&&r(19),t},deriveFontFlags=function(n){var t=n["OS/2"]?n["OS/2"].sFamilyClass:0,r=makeFontFlags({fixedPitch:n.post.isFixedPitch,serif:1<=t&&t<=7,symbolic:!0,script:t===10,italic:n.head.macStyle.italic});return r},PDFString=function(n){__extends(t,n);function t(r){var a=n.call(this)||this;return a.value=r,a}return t.prototype.asBytes=function(){for(var r=[],a="",s=!1,o=function(x){x!==void 0&&r.push(x),s=!1},l=0,u=this.value.length;l<u;l++){var d=this.value[l],f=toCharCode(d),g=this.value[l+1];s?f===CharCodes$1.Newline||f===CharCodes$1.CarriageReturn?o():f===CharCodes$1.n?o(CharCodes$1.Newline):f===CharCodes$1.r?o(CharCodes$1.CarriageReturn):f===CharCodes$1.t?o(CharCodes$1.Tab):f===CharCodes$1.b?o(CharCodes$1.Backspace):f===CharCodes$1.f?o(CharCodes$1.FormFeed):f===CharCodes$1.LeftParen?o(CharCodes$1.LeftParen):f===CharCodes$1.RightParen?o(CharCodes$1.RightParen):f===CharCodes$1.Backspace?o(CharCodes$1.BackSlash):f>=CharCodes$1.Zero&&f<=CharCodes$1.Seven?(a+=d,(a.length===3||!(g>="0"&&g<="7"))&&(o(parseInt(a,8)),a="")):o(f):f===CharCodes$1.BackSlash?s=!0:o(f)}return new Uint8Array(r)},t.prototype.decodeText=function(){var r=this.asBytes();return hasUtf16BOM(r)?utf16Decode(r):pdfDocEncodingDecode(r)},t.prototype.decodeDate=function(){var r=this.decodeText(),a=parseDate(r);if(!a)throw new InvalidPDFDateStringError(r);return a},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(r,a){return r[a++]=CharCodes$1.LeftParen,a+=copyStringIntoBuffer(this.value,r,a),r[a++]=CharCodes$1.RightParen,this.value.length+2},t.of=function(r){return new t(r)},t.fromDate=function(r){var a=padStart$1(String(r.getUTCFullYear()),4,"0"),s=padStart$1(String(r.getUTCMonth()+1),2,"0"),o=padStart$1(String(r.getUTCDate()),2,"0"),l=padStart$1(String(r.getUTCHours()),2,"0"),u=padStart$1(String(r.getUTCMinutes()),2,"0"),d=padStart$1(String(r.getUTCSeconds()),2,"0");return new t("D:"+a+s+o+l+u+d+"Z")},t}(PDFObject),CustomFontEmbedder=function(){function n(t,r,a,s){var o=this;this.allGlyphsInFontSortedById=function(){for(var l=new Array(o.font.characterSet.length),u=0,d=l.length;u<d;u++){var f=o.font.characterSet[u];l[u]=o.font.glyphForCodePoint(f)}return sortedUniq(l.sort(byAscendingId),function(g){return g.id})},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=r,this.fontName=this.font.postscriptName||"Font",this.customName=a,this.fontFeatures=s,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return n.for=function(t,r,a,s){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(l){switch(l.label){case 0:return[4,t.create(r)];case 1:return o=l.sent(),[2,new n(o,r,a,s)]}})})},n.prototype.encodeText=function(t){for(var r=this.font.layout(t,this.fontFeatures).glyphs,a=new Array(r.length),s=0,o=r.length;s<o;s++)a[s]=toHexStringOfMinLength(r[s].id,4);return PDFHexString.of(a.join(""))},n.prototype.widthOfTextAtSize=function(t,r){for(var a=this.font.layout(t,this.fontFeatures).glyphs,s=0,o=0,l=a.length;o<l;o++)s+=a[o].advanceWidth*this.scale;var u=r/1e3;return s*u},n.prototype.heightOfFontAtSize=function(t,r){r===void 0&&(r={});var a=r.descender,s=a===void 0?!0:a,o=this.font,l=o.ascent,u=o.descent,d=o.bbox,f=(l||d.maxY)*this.scale,g=(u||d.minY)*this.scale,x=f-g;return s||(x-=Math.abs(u)||0),x/1e3*t},n.prototype.sizeOfFontAtHeight=function(t){var r=this.font,a=r.ascent,s=r.descent,o=r.bbox,l=(a||o.maxY)*this.scale,u=(s||o.minY)*this.scale;return 1e3*t/(l-u)},n.prototype.embedIntoContext=function(t,r){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,r)},n.prototype.embedFontDict=function(t,r){return __awaiter(this,void 0,void 0,function(){var a,s,o;return __generator(this,function(l){switch(l.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return a=l.sent(),s=this.embedUnicodeCmap(t),o=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[a],ToUnicode:s}),r?(t.assign(r,o),[2,r]):[2,t.register(o)]}})})},n.prototype.isCFF=function(){return this.font.cff},n.prototype.embedCIDFontDict=function(t){return __awaiter(this,void 0,void 0,function(){var r,a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return r=s.sent(),a=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:r,W:this.computeWidths()}),[2,t.register(a)]}})})},n.prototype.embedFontDescriptor=function(t){return __awaiter(this,void 0,void 0,function(){var r,a,s,o,l,u,d,f,g,x,b,m,y,v,w;return __generator(this,function(S){switch(S.label){case 0:return[4,this.embedFontStream(t)];case 1:return r=S.sent(),a=this.scale,s=this.font,o=s.italicAngle,l=s.ascent,u=s.descent,d=s.capHeight,f=s.xHeight,g=this.font.bbox,x=g.minX,b=g.minY,m=g.maxX,y=g.maxY,v=t.obj((w={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[x*a,b*a,m*a,y*a],ItalicAngle:o,Ascent:l*a,Descent:u*a,CapHeight:(d||l)*a,XHeight:(f||0)*a,StemV:0},w[this.isCFF()?"FontFile3":"FontFile2"]=r,w)),[2,t.register(v)]}})})},n.prototype.serializeFont=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,this.fontData]})})},n.prototype.embedFontStream=function(t){return __awaiter(this,void 0,void 0,function(){var r,a,s;return __generator(this,function(o){switch(o.label){case 0:return s=(a=t).flateStream,[4,this.serializeFont()];case 1:return r=s.apply(a,[o.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(r)]}})})},n.prototype.embedUnicodeCmap=function(t){var r=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),a=t.flateStream(r);return t.register(a)},n.prototype.glyphId=function(t){return t?t.id:-1},n.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),r=[],a=[],s=0,o=t.length;s<o;s++){var l=t[s],u=t[s-1],d=this.glyphId(l),f=this.glyphId(u);s===0?r.push(d):d-f!==1&&(r.push(a),r.push(d),a=[]),a.push(l.advanceWidth*this.scale)}return r.push(a),r},n}(),CustomFontSubsetEmbedder=function(n){__extends(t,n);function t(r,a,s,o){var l=n.call(this,r,a,s,o)||this;return l.subset=l.font.createSubset(),l.glyphs=[],l.glyphCache=Cache.populatedBy(function(){return l.glyphs}),l.glyphIdMap=new Map,l}return t.for=function(r,a,s,o){return __awaiter(this,void 0,void 0,function(){var l;return __generator(this,function(u){switch(u.label){case 0:return[4,r.create(a)];case 1:return l=u.sent(),[2,new t(l,a,s,o)]}})})},t.prototype.encodeText=function(r){for(var a=this.font.layout(r,this.fontFeatures).glyphs,s=new Array(a.length),o=0,l=a.length;o<l;o++){var u=a[o],d=this.subset.includeGlyph(u);this.glyphs[d-1]=u,this.glyphIdMap.set(u.id,d),s[o]=toHexStringOfMinLength(d,4)}return this.glyphCache.invalidate(),PDFHexString.of(s.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(r){return r?this.glyphIdMap.get(r.id):-1},t.prototype.serializeFont=function(){var r=this;return new Promise(function(a,s){var o=[];r.subset.encodeStream().on("data",function(l){return o.push(l)}).on("end",function(){return a(mergeUint8Arrays(o))}).on("error",function(l){return s(l)})})},t}(CustomFontEmbedder),AFRelationship;(function(n){n.Source="Source",n.Data="Data",n.Alternative="Alternative",n.Supplement="Supplement",n.EncryptedPayload="EncryptedPayload",n.FormData="EncryptedPayload",n.Schema="Schema",n.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function n(t,r,a){a===void 0&&(a={}),this.fileData=t,this.fileName=r,this.options=a}return n.for=function(t,r,a){return a===void 0&&(a={}),new n(t,r,a)},n.prototype.embedIntoContext=function(t,r){return __awaiter(this,void 0,void 0,function(){var a,s,o,l,u,d,f,g,x;return __generator(this,function(b){return a=this.options,s=a.mimeType,o=a.description,l=a.creationDate,u=a.modificationDate,d=a.afRelationship,f=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:s??void 0,Params:{Size:this.fileData.length,CreationDate:l?PDFString.fromDate(l):void 0,ModDate:u?PDFString.fromDate(u):void 0}}),g=t.register(f),x=t.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:g},Desc:o?PDFHexString.fromText(o):void 0,AFRelationship:d??void 0}),r?(t.assign(r,x),[2,r]):[2,t.register(x)]})})},n}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(n){n.DeviceGray="DeviceGray",n.DeviceRGB="DeviceRGB",n.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function n(t,r,a,s,o){this.imageData=t,this.bitsPerComponent=r,this.width=a,this.height=s,this.colorSpace=o}return n.for=function(t){return __awaiter(this,void 0,void 0,function(){var r,a,s,o,l,u,d,f,g,x;return __generator(this,function(b){if(r=new DataView(t.buffer),a=r.getUint16(0),a!==65496)throw new Error("SOI not found in JPEG");for(s=2;s<r.byteLength&&(o=r.getUint16(s),s+=2,!MARKERS.includes(o));)s+=r.getUint16(s);if(!MARKERS.includes(o))throw new Error("Invalid JPEG");if(s+=2,l=r.getUint8(s++),u=r.getUint16(s),s+=2,d=r.getUint16(s),s+=2,f=r.getUint8(s++),g=ChannelToColorSpace[f],!g)throw new Error("Unknown JPEG channel.");return x=g,[2,new n(t,l,d,u,x)]})})},n.prototype.embedIntoContext=function(t,r){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(s){return a=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),r?(t.assign(r,a),[2,r]):[2,t.register(a)]})})},n}(),UPNG={};UPNG.toRGBA8=function(n){var t=n.width,r=n.height;if(n.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(n.data,t,r,n).buffer];var a=[];n.frames[0].data==null&&(n.frames[0].data=n.data);for(var s=t*r*4,o=new Uint8Array(s),l=new Uint8Array(s),u=new Uint8Array(s),d=0;d<n.frames.length;d++){var f=n.frames[d],g=f.rect.x,x=f.rect.y,b=f.rect.width,m=f.rect.height,y=UPNG.toRGBA8.decodeImage(f.data,b,m,n);if(d!=0)for(var v=0;v<s;v++)u[v]=o[v];if(f.blend==0?UPNG._copyTile(y,b,m,o,t,r,g,x,0):f.blend==1&&UPNG._copyTile(y,b,m,o,t,r,g,x,1),a.push(o.buffer.slice(0)),f.dispose!=0){if(f.dispose==1)UPNG._copyTile(l,b,m,o,t,r,g,x,0);else if(f.dispose==2)for(var v=0;v<s;v++)o[v]=u[v]}}return a};UPNG.toRGBA8.decodeImage=function(n,t,r,a){var s=t*r,o=UPNG.decode._getBPP(a),l=Math.ceil(t*o/8),u=new Uint8Array(s*4),d=new Uint32Array(u.buffer),f=a.ctype,g=a.depth,x=UPNG._bin.readUshort;if(f==6){var b=s<<2;if(g==8)for(var m=0;m<b;m+=4)u[m]=n[m],u[m+1]=n[m+1],u[m+2]=n[m+2],u[m+3]=n[m+3];if(g==16)for(var m=0;m<b;m++)u[m]=n[m<<1]}else if(f==2){var y=a.tabs.tRNS;if(y==null){if(g==8)for(var m=0;m<s;m++){var v=m*3;d[m]=255<<24|n[v+2]<<16|n[v+1]<<8|n[v]}if(g==16)for(var m=0;m<s;m++){var v=m*6;d[m]=255<<24|n[v+4]<<16|n[v+2]<<8|n[v]}}else{var w=y[0],S=y[1],C=y[2];if(g==8)for(var m=0;m<s;m++){var E=m<<2,v=m*3;d[m]=255<<24|n[v+2]<<16|n[v+1]<<8|n[v],n[v]==w&&n[v+1]==S&&n[v+2]==C&&(u[E+3]=0)}if(g==16)for(var m=0;m<s;m++){var E=m<<2,v=m*6;d[m]=255<<24|n[v+4]<<16|n[v+2]<<8|n[v],x(n,v)==w&&x(n,v+2)==S&&x(n,v+4)==C&&(u[E+3]=0)}}}else if(f==3){var T=a.tabs.PLTE,_=a.tabs.tRNS,R=_?_.length:0;if(g==1)for(var U=0;U<r;U++)for(var z=U*l,X=U*t,m=0;m<t;m++){var E=X+m<<2,W=n[z+(m>>3)]>>7-((m&7)<<0)&1,Y=3*W;u[E]=T[Y],u[E+1]=T[Y+1],u[E+2]=T[Y+2],u[E+3]=W<R?_[W]:255}if(g==2)for(var U=0;U<r;U++)for(var z=U*l,X=U*t,m=0;m<t;m++){var E=X+m<<2,W=n[z+(m>>2)]>>6-((m&3)<<1)&3,Y=3*W;u[E]=T[Y],u[E+1]=T[Y+1],u[E+2]=T[Y+2],u[E+3]=W<R?_[W]:255}if(g==4)for(var U=0;U<r;U++)for(var z=U*l,X=U*t,m=0;m<t;m++){var E=X+m<<2,W=n[z+(m>>1)]>>4-((m&1)<<2)&15,Y=3*W;u[E]=T[Y],u[E+1]=T[Y+1],u[E+2]=T[Y+2],u[E+3]=W<R?_[W]:255}if(g==8)for(var m=0;m<s;m++){var E=m<<2,W=n[m],Y=3*W;u[E]=T[Y],u[E+1]=T[Y+1],u[E+2]=T[Y+2],u[E+3]=W<R?_[W]:255}}else if(f==4){if(g==8)for(var m=0;m<s;m++){var E=m<<2,se=m<<1,oe=n[se];u[E]=oe,u[E+1]=oe,u[E+2]=oe,u[E+3]=n[se+1]}if(g==16)for(var m=0;m<s;m++){var E=m<<2,se=m<<2,oe=n[se];u[E]=oe,u[E+1]=oe,u[E+2]=oe,u[E+3]=n[se+2]}}else if(f==0)for(var w=a.tabs.tRNS?a.tabs.tRNS:-1,U=0;U<r;U++){var ue=U*l,Z=U*t;if(g==1)for(var te=0;te<t;te++){var oe=255*(n[ue+(te>>>3)]>>>7-(te&7)&1),he=oe==w*255?0:255;d[Z+te]=he<<24|oe<<16|oe<<8|oe}else if(g==2)for(var te=0;te<t;te++){var oe=85*(n[ue+(te>>>2)]>>>6-((te&3)<<1)&3),he=oe==w*85?0:255;d[Z+te]=he<<24|oe<<16|oe<<8|oe}else if(g==4)for(var te=0;te<t;te++){var oe=17*(n[ue+(te>>>1)]>>>4-((te&1)<<2)&15),he=oe==w*17?0:255;d[Z+te]=he<<24|oe<<16|oe<<8|oe}else if(g==8)for(var te=0;te<t;te++){var oe=n[ue+te],he=oe==w?0:255;d[Z+te]=he<<24|oe<<16|oe<<8|oe}else if(g==16)for(var te=0;te<t;te++){var oe=n[ue+(te<<1)],he=x(n,ue+(te<<m))==w?0:255;d[Z+te]=he<<24|oe<<16|oe<<8|oe}}return u};UPNG.decode=function(n){for(var t=new Uint8Array(n),r=8,a=UPNG._bin,s=a.readUshort,o=a.readUint,l={tabs:{},frames:[]},u=new Uint8Array(t.length),d=0,f,g=0,x=[137,80,78,71,13,10,26,10],b=0;b<8;b++)if(t[b]!=x[b])throw"The input is not a PNG file!";for(;r<t.length;){var m=a.readUint(t,r);r+=4;var y=a.readASCII(t,r,4);if(r+=4,y=="IHDR")UPNG.decode._IHDR(t,r,l);else if(y=="IDAT"){for(var b=0;b<m;b++)u[d+b]=t[r+b];d+=m}else if(y=="acTL")l.tabs[y]={num_frames:o(t,r),num_plays:o(t,r+4)},f=new Uint8Array(t.length);else if(y=="fcTL"){if(g!=0){var v=l.frames[l.frames.length-1];v.data=UPNG.decode._decompress(l,f.slice(0,g),v.rect.width,v.rect.height),g=0}var w={x:o(t,r+12),y:o(t,r+16),width:o(t,r+4),height:o(t,r+8)},S=s(t,r+22);S=s(t,r+20)/(S==0?100:S);var C={rect:w,delay:Math.round(S*1e3),dispose:t[r+24],blend:t[r+25]};l.frames.push(C)}else if(y=="fdAT"){for(var b=0;b<m-4;b++)f[g+b]=t[r+b+4];g+=m-4}else if(y=="pHYs")l.tabs[y]=[a.readUint(t,r),a.readUint(t,r+4),t[r+8]];else if(y=="cHRM"){l.tabs[y]=[];for(var b=0;b<8;b++)l.tabs[y].push(a.readUint(t,r+b*4))}else if(y=="tEXt"){l.tabs[y]==null&&(l.tabs[y]={});var E=a.nextZero(t,r),T=a.readASCII(t,r,E-r),_=a.readASCII(t,E+1,r+m-E-1);l.tabs[y][T]=_}else if(y=="iTXt"){l.tabs[y]==null&&(l.tabs[y]={});var E=0,R=r;E=a.nextZero(t,R);var T=a.readASCII(t,R,E-R);R=E+1,t[R],t[R+1],R+=2,E=a.nextZero(t,R),a.readASCII(t,R,E-R),R=E+1,E=a.nextZero(t,R),a.readUTF8(t,R,E-R),R=E+1;var _=a.readUTF8(t,R,m-(R-r));l.tabs[y][T]=_}else if(y=="PLTE")l.tabs[y]=a.readBytes(t,r,m);else if(y=="hIST"){var U=l.tabs.PLTE.length/3;l.tabs[y]=[];for(var b=0;b<U;b++)l.tabs[y].push(s(t,r+b*2))}else if(y=="tRNS")l.ctype==3?l.tabs[y]=a.readBytes(t,r,m):l.ctype==0?l.tabs[y]=s(t,r):l.ctype==2&&(l.tabs[y]=[s(t,r),s(t,r+2),s(t,r+4)]);else if(y=="gAMA")l.tabs[y]=a.readUint(t,r)/1e5;else if(y=="sRGB")l.tabs[y]=t[r];else if(y=="bKGD")l.ctype==0||l.ctype==4?l.tabs[y]=[s(t,r)]:l.ctype==2||l.ctype==6?l.tabs[y]=[s(t,r),s(t,r+2),s(t,r+4)]:l.ctype==3&&(l.tabs[y]=t[r]);else if(y=="IEND")break;r+=m,a.readUint(t,r),r+=4}if(g!=0){var v=l.frames[l.frames.length-1];v.data=UPNG.decode._decompress(l,f.slice(0,g),v.rect.width,v.rect.height),g=0}return l.data=UPNG.decode._decompress(l,u,l.width,l.height),delete l.compress,delete l.interlace,delete l.filter,l};UPNG.decode._decompress=function(n,t,r,a){var s=UPNG.decode._getBPP(n),o=Math.ceil(r*s/8),l=new Uint8Array((o+1+n.interlace)*a);return t=UPNG.decode._inflate(t,l),n.interlace==0?t=UPNG.decode._filterZero(t,n,0,r,a):n.interlace==1&&(t=UPNG.decode._readInterlace(t,n)),t};UPNG.decode._inflate=function(n,t){var r=UPNG.inflateRaw(new Uint8Array(n.buffer,2,n.length-6),t);return r};UPNG.inflateRaw=function(){var n={};return n.H={},n.H.N=function(t,r){var a=Uint8Array,s=0,o=0,l=0,u=0,d=0,f=0,g=0,x=0,b=0,m,y;if(t[0]==3&&t[1]==0)return r||new a(0);var v=n.H,w=v.b,S=v.e,C=v.R,E=v.n,T=v.A,_=v.Z,R=v.m,U=r==null;for(U&&(r=new a(t.length>>>2<<3));s==0;){if(s=w(t,b,1),o=w(t,b+1,2),b+=3,o==0){b&7&&(b+=8-(b&7));var z=(b>>>3)+4,X=t[z-4]|t[z-3]<<8;U&&(r=n.H.W(r,x+X)),r.set(new a(t.buffer,t.byteOffset+z,X),x),b=z+X<<3,x+=X;continue}if(U&&(r=n.H.W(r,x+(1<<17))),o==1&&(m=R.J,y=R.h,f=511,g=31),o==2){l=S(t,b,5)+257,u=S(t,b+5,5)+1,d=S(t,b+10,4)+4,b+=14;for(var W=1,Y=0;Y<38;Y+=2)R.Q[Y]=0,R.Q[Y+1]=0;for(var Y=0;Y<d;Y++){var se=S(t,b+Y*3,3);R.Q[(R.X[Y]<<1)+1]=se,se>W&&(W=se)}b+=3*d,E(R.Q,W),T(R.Q,W,R.u),m=R.w,y=R.d,b=C(R.u,(1<<W)-1,l+u,t,b,R.v);var oe=v.V(R.v,0,l,R.C);f=(1<<oe)-1;var ue=v.V(R.v,l,u,R.D);g=(1<<ue)-1,E(R.C,oe),T(R.C,oe,m),E(R.D,ue),T(R.D,ue,y)}for(;;){var Z=m[_(t,b)&f];b+=Z&15;var te=Z>>>4;if(!(te>>>8))r[x++]=te;else{if(te==256)break;var he=x+te-254;if(te>264){var xe=R.q[te-257];he=x+(xe>>>3)+S(t,b,xe&7),b+=xe&7}var ye=y[_(t,b)&g];b+=ye&15;var Ae=ye>>>4,we=R.c[Ae],pe=(we>>>4)+w(t,b,we&15);for(b+=we&15;x<he;)r[x]=r[x++-pe],r[x]=r[x++-pe],r[x]=r[x++-pe],r[x]=r[x++-pe];x=he}}}return r.length==x?r:r.slice(0,x)},n.H.W=function(t,r){var a=t.length;if(r<=a)return t;var s=new Uint8Array(a<<1);return s.set(t,0),s},n.H.R=function(t,r,a,s,o,l){for(var u=n.H.e,d=n.H.Z,f=0;f<a;){var g=t[d(s,o)&r];o+=g&15;var x=g>>>4;if(x<=15)l[f]=x,f++;else{var b=0,m=0;x==16?(m=3+u(s,o,2),o+=2,b=l[f-1]):x==17?(m=3+u(s,o,3),o+=3):x==18&&(m=11+u(s,o,7),o+=7);for(var y=f+m;f<y;)l[f]=b,f++}}return o},n.H.V=function(t,r,a,s){for(var o=0,l=0,u=s.length>>>1;l<a;){var d=t[l+r];s[l<<1]=0,s[(l<<1)+1]=d,d>o&&(o=d),l++}for(;l<u;)s[l<<1]=0,s[(l<<1)+1]=0,l++;return o},n.H.n=function(t,r){for(var a=n.H.m,s=t.length,o,l,u,d,f,g=a.j,d=0;d<=r;d++)g[d]=0;for(d=1;d<s;d+=2)g[t[d]]++;var x=a.K;for(o=0,g[0]=0,l=1;l<=r;l++)o=o+g[l-1]<<1,x[l]=o;for(u=0;u<s;u+=2)f=t[u+1],f!=0&&(t[u]=x[f],x[f]++)},n.H.A=function(t,r,a){for(var s=t.length,o=n.H.m,l=o.r,u=0;u<s;u+=2)if(t[u+1]!=0)for(var d=u>>1,f=t[u+1],g=d<<4|f,x=r-f,b=t[u]<<x,m=b+(1<<x);b!=m;){var y=l[b]>>>15-r;a[y]=g,b++}},n.H.l=function(t,r){for(var a=n.H.m.r,s=15-r,o=0;o<t.length;o+=2){var l=t[o]<<r-t[o+1];t[o]=a[l]>>>s}},n.H.M=function(t,r,a){a=a<<(r&7);var s=r>>>3;t[s]|=a,t[s+1]|=a>>>8},n.H.I=function(t,r,a){a=a<<(r&7);var s=r>>>3;t[s]|=a,t[s+1]|=a>>>8,t[s+2]|=a>>>16},n.H.e=function(t,r,a){return(t[r>>>3]|t[(r>>>3)+1]<<8)>>>(r&7)&(1<<a)-1},n.H.b=function(t,r,a){return(t[r>>>3]|t[(r>>>3)+1]<<8|t[(r>>>3)+2]<<16)>>>(r&7)&(1<<a)-1},n.H.Z=function(t,r){return(t[r>>>3]|t[(r>>>3)+1]<<8|t[(r>>>3)+2]<<16)>>>(r&7)},n.H.i=function(t,r){return(t[r>>>3]|t[(r>>>3)+1]<<8|t[(r>>>3)+2]<<16|t[(r>>>3)+3]<<24)>>>(r&7)},n.H.m=function(){var t=Uint16Array,r=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new t(65536),g:new t(32768)}}(),function(){for(var t=n.H.m,r=32768,a=0;a<r;a++){var s=a;s=(s&2863311530)>>>1|(s&1431655765)<<1,s=(s&3435973836)>>>2|(s&858993459)<<2,s=(s&4042322160)>>>4|(s&252645135)<<4,s=(s&4278255360)>>>8|(s&16711935)<<8,t.r[a]=(s>>>16|s<<16)>>>17}function o(l,u,d){for(;u--!=0;)l.push(0,d)}for(var a=0;a<32;a++)t.q[a]=t.S[a]<<3|t.T[a],t.c[a]=t.p[a]<<4|t.z[a];o(t._,144,8),o(t._,112,9),o(t._,24,7),o(t._,8,8),n.H.n(t._,9),n.H.A(t._,9,t.J),n.H.l(t._,9),o(t.$,32,5),n.H.n(t.$,5),n.H.A(t.$,5,t.h),n.H.l(t.$,5),o(t.Q,19,0),o(t.C,286,0),o(t.D,30,0),o(t.v,320,0)}(),n.H.N}();UPNG.decode._readInterlace=function(n,t){for(var r=t.width,a=t.height,s=UPNG.decode._getBPP(t),o=s>>3,l=Math.ceil(r*s/8),u=new Uint8Array(a*l),d=0,f=[0,0,4,0,2,0,1],g=[0,4,0,2,0,1,0],x=[8,8,8,4,4,2,2],b=[8,8,4,4,2,2,1],m=0;m<7;){for(var y=x[m],v=b[m],w=0,S=0,C=f[m];C<a;)C+=y,S++;for(var E=g[m];E<r;)E+=v,w++;var T=Math.ceil(w*s/8);UPNG.decode._filterZero(n,t,d,w,S);for(var _=0,R=f[m];R<a;){for(var U=g[m],z=d+_*T<<3;U<r;){if(s==1){var X=n[z>>3];X=X>>7-(z&7)&1,u[R*l+(U>>3)]|=X<<7-((U&7)<<0)}if(s==2){var X=n[z>>3];X=X>>6-(z&7)&3,u[R*l+(U>>2)]|=X<<6-((U&3)<<1)}if(s==4){var X=n[z>>3];X=X>>4-(z&7)&15,u[R*l+(U>>1)]|=X<<4-((U&1)<<2)}if(s>=8)for(var W=R*l+U*o,Y=0;Y<o;Y++)u[W+Y]=n[(z>>3)+Y];z+=s,U+=v}_++,R+=y}w*S!=0&&(d+=S*(1+T)),m=m+1}return u};UPNG.decode._getBPP=function(n){var t=[1,null,3,1,2,null,4][n.ctype];return t*n.depth};UPNG.decode._filterZero=function(n,t,r,a,s){var o=UPNG.decode._getBPP(t),l=Math.ceil(a*o/8),u=UPNG.decode._paeth;o=Math.ceil(o/8);var d=0,f=1,g=n[r],x=0;if(g>1&&(n[r]=[0,0,1][g-2]),g==3)for(x=o;x<l;x++)n[x+1]=n[x+1]+(n[x+1-o]>>>1)&255;for(var b=0;b<s;b++)if(d=r+b*l,f=d+b+1,g=n[f-1],x=0,g==0)for(;x<l;x++)n[d+x]=n[f+x];else if(g==1){for(;x<o;x++)n[d+x]=n[f+x];for(;x<l;x++)n[d+x]=n[f+x]+n[d+x-o]}else if(g==2)for(;x<l;x++)n[d+x]=n[f+x]+n[d+x-l];else if(g==3){for(;x<o;x++)n[d+x]=n[f+x]+(n[d+x-l]>>>1);for(;x<l;x++)n[d+x]=n[f+x]+(n[d+x-l]+n[d+x-o]>>>1)}else{for(;x<o;x++)n[d+x]=n[f+x]+u(0,n[d+x-l],0);for(;x<l;x++)n[d+x]=n[f+x]+u(n[d+x-o],n[d+x-l],n[d+x-o-l])}return n};UPNG.decode._paeth=function(n,t,r){var a=n+t-r,s=a-n,o=a-t,l=a-r;return s*s<=o*o&&s*s<=l*l?n:o*o<=l*l?t:r};UPNG.decode._IHDR=function(n,t,r){var a=UPNG._bin;r.width=a.readUint(n,t),t+=4,r.height=a.readUint(n,t),t+=4,r.depth=n[t],t++,r.ctype=n[t],t++,r.compress=n[t],t++,r.filter=n[t],t++,r.interlace=n[t],t++};UPNG._bin={nextZero:function(n,t){for(;n[t]!=0;)t++;return t},readUshort:function(n,t){return n[t]<<8|n[t+1]},writeUshort:function(n,t,r){n[t]=r>>8&255,n[t+1]=r&255},readUint:function(n,t){return n[t]*(256*256*256)+(n[t+1]<<16|n[t+2]<<8|n[t+3])},writeUint:function(n,t,r){n[t]=r>>24&255,n[t+1]=r>>16&255,n[t+2]=r>>8&255,n[t+3]=r&255},readASCII:function(n,t,r){for(var a="",s=0;s<r;s++)a+=String.fromCharCode(n[t+s]);return a},writeASCII:function(n,t,r){for(var a=0;a<r.length;a++)n[t+a]=r.charCodeAt(a)},readBytes:function(n,t,r){for(var a=[],s=0;s<r;s++)a.push(n[t+s]);return a},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,t,r){for(var a="",s,o=0;o<r;o++)a+="%"+UPNG._bin.pad(n[t+o].toString(16));try{s=decodeURIComponent(a)}catch{return UPNG._bin.readASCII(n,t,r)}return s}};UPNG._copyTile=function(n,t,r,a,s,o,l,u,d){for(var f=Math.min(t,s),g=Math.min(r,o),x=0,b=0,m=0;m<g;m++)for(var y=0;y<f;y++)if(l>=0&&u>=0?(x=m*t+y<<2,b=(u+m)*s+l+y<<2):(x=(-u+m)*t-l+y<<2,b=m*s+y<<2),d==0)a[b]=n[x],a[b+1]=n[x+1],a[b+2]=n[x+2],a[b+3]=n[x+3];else if(d==1){var v=n[x+3]*.00392156862745098,w=n[x]*v,S=n[x+1]*v,C=n[x+2]*v,E=a[b+3]*(1/255),T=a[b]*E,_=a[b+1]*E,R=a[b+2]*E,U=1-v,z=v+E*U,X=z==0?0:1/z;a[b+3]=255*z,a[b+0]=(w+T*U)*X,a[b+1]=(S+_*U)*X,a[b+2]=(C+R*U)*X}else if(d==2){var v=n[x+3],w=n[x],S=n[x+1],C=n[x+2],E=a[b+3],T=a[b],_=a[b+1],R=a[b+2];v==E&&w==T&&S==_&&C==R?(a[b]=0,a[b+1]=0,a[b+2]=0,a[b+3]=0):(a[b]=w,a[b+1]=S,a[b+2]=C,a[b+3]=v)}else if(d==3){var v=n[x+3],w=n[x],S=n[x+1],C=n[x+2],E=a[b+3],T=a[b],_=a[b+1],R=a[b+2];if(v==E&&w==T&&S==_&&C==R)continue;if(v<220&&E>20)return!1}return!0};UPNG.encode=function(n,t,r,a,s,o,l){a==null&&(a=0),l==null&&(l=!1);var u=UPNG.encode.compress(n,t,r,a,[!1,!1,!1,0,l]);return UPNG.encode.compressPNG(u,-1),UPNG.encode._main(u,t,r,s,o)};UPNG.encodeLL=function(n,t,r,a,s,o,l,u){for(var d={ctype:0+(a==1?0:2)+(s==0?0:4),depth:o,frames:[]},f=(a+s)*o,g=f*t,x=0;x<n.length;x++)d.frames.push({rect:{x:0,y:0,width:t,height:r},img:new Uint8Array(n[x]),blend:0,dispose:1,bpp:Math.ceil(f/8),bpl:Math.ceil(g/8)});UPNG.encode.compressPNG(d,0,!0);var b=UPNG.encode._main(d,t,r,l,u);return b};UPNG.encode._main=function(n,t,r,a,s){s==null&&(s={});var o=UPNG.crc.crc,l=UPNG._bin.writeUint,u=UPNG._bin.writeUshort,d=UPNG._bin.writeASCII,f=8,g=n.frames.length>1,x=!1,b=33+(g?20:0);if(s.sRGB!=null&&(b+=13),s.pHYs!=null&&(b+=21),n.ctype==3){for(var m=n.plte.length,y=0;y<m;y++)n.plte[y]>>>24!=255&&(x=!0);b+=8+m*3+4+(x?8+m*1+4:0)}for(var v=0;v<n.frames.length;v++){var w=n.frames[v];g&&(b+=38),b+=w.cimg.length+12,v!=0&&(b+=4)}b+=12;for(var S=new Uint8Array(b),C=[137,80,78,71,13,10,26,10],y=0;y<8;y++)S[y]=C[y];if(l(S,f,13),f+=4,d(S,f,"IHDR"),f+=4,l(S,f,t),f+=4,l(S,f,r),f+=4,S[f]=n.depth,f++,S[f]=n.ctype,f++,S[f]=0,f++,S[f]=0,f++,S[f]=0,f++,l(S,f,o(S,f-17,17)),f+=4,s.sRGB!=null&&(l(S,f,1),f+=4,d(S,f,"sRGB"),f+=4,S[f]=s.sRGB,f++,l(S,f,o(S,f-5,5)),f+=4),s.pHYs!=null&&(l(S,f,9),f+=4,d(S,f,"pHYs"),f+=4,l(S,f,s.pHYs[0]),f+=4,l(S,f,s.pHYs[1]),f+=4,S[f]=s.pHYs[2],f++,l(S,f,o(S,f-13,13)),f+=4),g&&(l(S,f,8),f+=4,d(S,f,"acTL"),f+=4,l(S,f,n.frames.length),f+=4,l(S,f,s.loop!=null?s.loop:0),f+=4,l(S,f,o(S,f-12,12)),f+=4),n.ctype==3){var m=n.plte.length;l(S,f,m*3),f+=4,d(S,f,"PLTE"),f+=4;for(var y=0;y<m;y++){var E=y*3,T=n.plte[y],_=T&255,R=T>>>8&255,U=T>>>16&255;S[f+E+0]=_,S[f+E+1]=R,S[f+E+2]=U}if(f+=m*3,l(S,f,o(S,f-m*3-4,m*3+4)),f+=4,x){l(S,f,m),f+=4,d(S,f,"tRNS"),f+=4;for(var y=0;y<m;y++)S[f+y]=n.plte[y]>>>24&255;f+=m,l(S,f,o(S,f-m-4,m+4)),f+=4}}for(var z=0,v=0;v<n.frames.length;v++){var w=n.frames[v];g&&(l(S,f,26),f+=4,d(S,f,"fcTL"),f+=4,l(S,f,z++),f+=4,l(S,f,w.rect.width),f+=4,l(S,f,w.rect.height),f+=4,l(S,f,w.rect.x),f+=4,l(S,f,w.rect.y),f+=4,u(S,f,a[v]),f+=2,u(S,f,1e3),f+=2,S[f]=w.dispose,f++,S[f]=w.blend,f++,l(S,f,o(S,f-30,30)),f+=4);var X=w.cimg,m=X.length;l(S,f,m+(v==0?0:4)),f+=4;var W=f;d(S,f,v==0?"IDAT":"fdAT"),f+=4,v!=0&&(l(S,f,z++),f+=4),S.set(X,f),f+=m,l(S,f,o(S,W,f-W)),f+=4}return l(S,f,0),f+=4,d(S,f,"IEND"),f+=4,l(S,f,o(S,f-4,4)),f+=4,S.buffer};UPNG.encode.compressPNG=function(n,t,r){for(var a=0;a<n.frames.length;a++){var s=n.frames[a];s.rect.width;var o=s.rect.height,l=new Uint8Array(o*s.bpl+o);s.cimg=UPNG.encode._filterZero(s.img,o,s.bpp,s.bpl,l,t,r)}};UPNG.encode.compress=function(n,t,r,a,s){for(var o=s[0],l=s[1],u=s[2],d=s[3],f=s[4],g=6,x=8,b=255,m=0;m<n.length;m++)for(var y=new Uint8Array(n[m]),v=y.length,w=0;w<v;w+=4)b&=y[w+3];var S=b!=255,C=UPNG.encode.framize(n,t,r,o,l,u),E={},T=[],_=[];if(a!=0){for(var R=[],w=0;w<C.length;w++)R.push(C[w].img.buffer);for(var U=UPNG.encode.concatRGBA(R),z=UPNG.quantize(U,a),X=0,W=new Uint8Array(z.abuf),w=0;w<C.length;w++){var Y=C[w].img,se=Y.length;_.push(new Uint8Array(z.inds.buffer,X>>2,se>>2));for(var m=0;m<se;m+=4)Y[m]=W[X+m],Y[m+1]=W[X+m+1],Y[m+2]=W[X+m+2],Y[m+3]=W[X+m+3];X+=se}for(var w=0;w<z.plte.length;w++)T.push(z.plte[w].est.rgba)}else for(var m=0;m<C.length;m++){var oe=C[m],ue=new Uint32Array(oe.img.buffer),Z=oe.rect.width,v=ue.length,te=new Uint8Array(v);_.push(te);for(var w=0;w<v;w++){var he=ue[w];if(w!=0&&he==ue[w-1])te[w]=te[w-1];else if(w>Z&&he==ue[w-Z])te[w]=te[w-Z];else{var xe=E[he];if(xe==null&&(E[he]=xe=T.length,T.push(he),T.length>=300))break;te[w]=xe}}}var ye=T.length;ye<=256&&f==!1&&(ye<=2?x=1:ye<=4?x=2:ye<=16?x=4:x=8,x=Math.max(x,d));for(var m=0;m<C.length;m++){var oe=C[m];oe.rect.x,oe.rect.y;var Z=oe.rect.width,Ae=oe.rect.height,we=oe.img;new Uint32Array(we.buffer);var pe=4*Z,Te=4;if(ye<=256&&f==!1){pe=Math.ceil(x*Z/8);for(var ge=new Uint8Array(pe*Ae),de=_[m],ce=0;ce<Ae;ce++){var w=ce*pe,M=ce*Z;if(x==8)for(var j=0;j<Z;j++)ge[w+j]=de[M+j];else if(x==4)for(var j=0;j<Z;j++)ge[w+(j>>1)]|=de[M+j]<<4-(j&1)*4;else if(x==2)for(var j=0;j<Z;j++)ge[w+(j>>2)]|=de[M+j]<<6-(j&3)*2;else if(x==1)for(var j=0;j<Z;j++)ge[w+(j>>3)]|=de[M+j]<<7-(j&7)*1}we=ge,g=3,Te=1}else if(S==!1&&C.length==1){for(var ge=new Uint8Array(Z*Ae*3),k=Z*Ae,w=0;w<k;w++){var Y=w*3,F=w*4;ge[Y]=we[F],ge[Y+1]=we[F+1],ge[Y+2]=we[F+2]}we=ge,g=2,Te=3,pe=3*Z}oe.img=we,oe.bpl=pe,oe.bpp=Te}return{ctype:g,depth:x,plte:T,frames:C}};UPNG.encode.framize=function(n,t,r,a,s,o){for(var l=[],u=0;u<n.length;u++){var d=new Uint8Array(n[u]),f=new Uint32Array(d.buffer),g,x=0,b=0,m=t,y=r,v=a?1:0;if(u!=0){for(var w=o||a||u==1||l[u-2].dispose!=0?1:2,S=0,C=1e9,E=0;E<w;E++){for(var oe=new Uint8Array(n[u-1-E]),T=new Uint32Array(n[u-1-E]),_=t,R=r,U=-1,z=-1,X=0;X<r;X++)for(var W=0;W<t;W++){var Y=X*t+W;f[Y]!=T[Y]&&(W<_&&(_=W),W>U&&(U=W),X<R&&(R=X),X>z&&(z=X))}U==-1&&(_=R=U=z=0),s&&((_&1)==1&&_--,(R&1)==1&&R--);var se=(U-_+1)*(z-R+1);se<C&&(C=se,S=E,x=_,b=R,m=U-_+1,y=z-R+1)}var oe=new Uint8Array(n[u-1-S]);S==1&&(l[u-1].dispose=2),g=new Uint8Array(m*y*4),UPNG._copyTile(oe,t,r,g,m,y,-x,-b,0),v=UPNG._copyTile(d,t,r,g,m,y,-x,-b,3)?1:0,v==1?UPNG.encode._prepareDiff(d,t,r,g,{x,y:b,width:m,height:y}):UPNG._copyTile(d,t,r,g,m,y,-x,-b,0)}else g=d.slice(0);l.push({rect:{x,y:b,width:m,height:y},img:g,blend:v,dispose:0})}if(a)for(var u=0;u<l.length;u++){var ue=l[u];if(ue.blend!=1){var Z=ue.rect,te=l[u-1].rect,he=Math.min(Z.x,te.x),xe=Math.min(Z.y,te.y),ye=Math.max(Z.x+Z.width,te.x+te.width),Ae=Math.max(Z.y+Z.height,te.y+te.height),we={x:he,y:xe,width:ye-he,height:Ae-xe};l[u-1].dispose=1,u-1!=0&&UPNG.encode._updateFrame(n,t,r,l,u-1,we,s),UPNG.encode._updateFrame(n,t,r,l,u,we,s)}}var pe=0;if(n.length!=1)for(var Y=0;Y<l.length;Y++){var ue=l[Y];pe+=ue.rect.width*ue.rect.height}return l};UPNG.encode._updateFrame=function(n,t,r,a,s,o,l){for(var u=Uint8Array,d=Uint32Array,f=new u(n[s-1]),g=new d(n[s-1]),x=s+1<n.length?new u(n[s+1]):null,b=new u(n[s]),m=new d(b.buffer),y=t,v=r,w=-1,S=-1,C=0;C<o.height;C++)for(var E=0;E<o.width;E++){var T=o.x+E,_=o.y+C,R=_*t+T,U=m[R];U==0||a[s-1].dispose==0&&g[R]==U&&(x==null||x[R*4+3]!=0)||(T<y&&(y=T),T>w&&(w=T),_<v&&(v=_),_>S&&(S=_))}w==-1&&(y=v=w=S=0),l&&((y&1)==1&&y--,(v&1)==1&&v--),o={x:y,y:v,width:w-y+1,height:S-v+1};var z=a[s];z.rect=o,z.blend=1,z.img=new Uint8Array(o.width*o.height*4),a[s-1].dispose==0?(UPNG._copyTile(f,t,r,z.img,o.width,o.height,-o.x,-o.y,0),UPNG.encode._prepareDiff(b,t,r,z.img,o)):UPNG._copyTile(b,t,r,z.img,o.width,o.height,-o.x,-o.y,0)};UPNG.encode._prepareDiff=function(n,t,r,a,s){UPNG._copyTile(n,t,r,a,s.width,s.height,-s.x,-s.y,2)};UPNG.encode._filterZero=function(n,t,r,a,s,o,l){var u=[],d=[0,1,2,3,4];o!=-1?d=[o]:(t*a>5e5||r==1)&&(d=[0]);var f;l&&(f={level:0});for(var g=l&&UZIP!=null?UZIP:pako$1,x=0;x<d.length;x++){for(var b=0;b<t;b++)UPNG.encode._filterLine(s,n,b,a,r,d[x]);u.push(g.deflate(s,f))}for(var m,y=1e9,x=0;x<u.length;x++)u[x].length<y&&(m=x,y=u[x].length);return u[m]};UPNG.encode._filterLine=function(n,t,r,a,s,o){var l=r*a,u=l+r,d=UPNG.decode._paeth;if(n[u]=o,u++,o==0)if(a<500)for(var f=0;f<a;f++)n[u+f]=t[l+f];else n.set(new Uint8Array(t.buffer,l,a),u);else if(o==1){for(var f=0;f<s;f++)n[u+f]=t[l+f];for(var f=s;f<a;f++)n[u+f]=t[l+f]-t[l+f-s]+256&255}else if(r==0){for(var f=0;f<s;f++)n[u+f]=t[l+f];if(o==2)for(var f=s;f<a;f++)n[u+f]=t[l+f];if(o==3)for(var f=s;f<a;f++)n[u+f]=t[l+f]-(t[l+f-s]>>1)+256&255;if(o==4)for(var f=s;f<a;f++)n[u+f]=t[l+f]-d(t[l+f-s],0,0)+256&255}else{if(o==2)for(var f=0;f<a;f++)n[u+f]=t[l+f]+256-t[l+f-a]&255;if(o==3){for(var f=0;f<s;f++)n[u+f]=t[l+f]+256-(t[l+f-a]>>1)&255;for(var f=s;f<a;f++)n[u+f]=t[l+f]+256-(t[l+f-a]+t[l+f-s]>>1)&255}if(o==4){for(var f=0;f<s;f++)n[u+f]=t[l+f]+256-d(0,t[l+f-a],0)&255;for(var f=s;f<a;f++)n[u+f]=t[l+f]+256-d(t[l+f-s],t[l+f-a],t[l+f-s-a])&255}}};UPNG.crc={table:function(){for(var n=new Uint32Array(256),t=0;t<256;t++){for(var r=t,a=0;a<8;a++)r&1?r=3988292384^r>>>1:r=r>>>1;n[t]=r}return n}(),update:function(n,t,r,a){for(var s=0;s<a;s++)n=UPNG.crc.table[(n^t[r+s])&255]^n>>>8;return n},crc:function(n,t,r){return UPNG.crc.update(4294967295,n,t,r)^4294967295}};UPNG.quantize=function(n,t){var r=new Uint8Array(n),a=r.slice(0),s=new Uint32Array(a.buffer),o=UPNG.quantize.getKDtree(a,t),l=o[0],u=o[1];UPNG.quantize.planeDst;for(var d=r,f=s,g=d.length,x=new Uint8Array(r.length>>2),b=0;b<g;b+=4){var m=d[b]*.00392156862745098,y=d[b+1]*(1/255),v=d[b+2]*(1/255),w=d[b+3]*(1/255),S=UPNG.quantize.getNearest(l,m,y,v,w);x[b>>2]=S.ind,f[b>>2]=S.est.rgba}return{abuf:a.buffer,inds:x,plte:u}};UPNG.quantize.getKDtree=function(n,t,r){r==null&&(r=1e-4);var a=new Uint32Array(n.buffer),s={i0:0,i1:n.length,bst:null,est:null,tdst:0,left:null,right:null};s.bst=UPNG.quantize.stats(n,s.i0,s.i1),s.est=UPNG.quantize.estats(s.bst);for(var o=[s];o.length<t;){for(var l=0,u=0,d=0;d<o.length;d++)o[d].est.L>l&&(l=o[d].est.L,u=d);if(l<r)break;var f=o[u],g=UPNG.quantize.splitPixels(n,a,f.i0,f.i1,f.est.e,f.est.eMq255),x=f.i0>=g||f.i1<=g;if(x){f.est.L=0;continue}var b={i0:f.i0,i1:g,bst:null,est:null,tdst:0,left:null,right:null};b.bst=UPNG.quantize.stats(n,b.i0,b.i1),b.est=UPNG.quantize.estats(b.bst);var m={i0:g,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};m.bst={R:[],m:[],N:f.bst.N-b.bst.N};for(var d=0;d<16;d++)m.bst.R[d]=f.bst.R[d]-b.bst.R[d];for(var d=0;d<4;d++)m.bst.m[d]=f.bst.m[d]-b.bst.m[d];m.est=UPNG.quantize.estats(m.bst),f.left=b,f.right=m,o[u]=b,o.push(m)}o.sort(function(y,v){return v.bst.N-y.bst.N});for(var d=0;d<o.length;d++)o[d].ind=d;return[s,o]};UPNG.quantize.getNearest=function(n,t,r,a,s){if(n.left==null)return n.tdst=UPNG.quantize.dist(n.est.q,t,r,a,s),n;var o=UPNG.quantize.planeDst(n.est,t,r,a,s),l=n.left,u=n.right;o>0&&(l=n.right,u=n.left);var d=UPNG.quantize.getNearest(l,t,r,a,s);if(d.tdst<=o*o)return d;var f=UPNG.quantize.getNearest(u,t,r,a,s);return f.tdst<d.tdst?f:d};UPNG.quantize.planeDst=function(n,t,r,a,s){var o=n.e;return o[0]*t+o[1]*r+o[2]*a+o[3]*s-n.eMq};UPNG.quantize.dist=function(n,t,r,a,s){var o=t-n[0],l=r-n[1],u=a-n[2],d=s-n[3];return o*o+l*l+u*u+d*d};UPNG.quantize.splitPixels=function(n,t,r,a,s,o){var l=UPNG.quantize.vecDot;for(a-=4;r<a;){for(;l(n,r,s)<=o;)r+=4;for(;l(n,a,s)>o;)a-=4;if(r>=a)break;var u=t[r>>2];t[r>>2]=t[a>>2],t[a>>2]=u,r+=4,a-=4}for(;l(n,r,s)>o;)r-=4;return r+4};UPNG.quantize.vecDot=function(n,t,r){return n[t]*r[0]+n[t+1]*r[1]+n[t+2]*r[2]+n[t+3]*r[3]};UPNG.quantize.stats=function(n,t,r){for(var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0],o=r-t>>2,l=t;l<r;l+=4){var u=n[l]*.00392156862745098,d=n[l+1]*(1/255),f=n[l+2]*(1/255),g=n[l+3]*(1/255);s[0]+=u,s[1]+=d,s[2]+=f,s[3]+=g,a[0]+=u*u,a[1]+=u*d,a[2]+=u*f,a[3]+=u*g,a[5]+=d*d,a[6]+=d*f,a[7]+=d*g,a[10]+=f*f,a[11]+=f*g,a[15]+=g*g}return a[4]=a[1],a[8]=a[2],a[9]=a[6],a[12]=a[3],a[13]=a[7],a[14]=a[11],{R:a,m:s,N:o}};UPNG.quantize.estats=function(n){var t=n.R,r=n.m,a=n.N,s=r[0],o=r[1],l=r[2],u=r[3],d=a==0?0:1/a,f=[t[0]-s*s*d,t[1]-s*o*d,t[2]-s*l*d,t[3]-s*u*d,t[4]-o*s*d,t[5]-o*o*d,t[6]-o*l*d,t[7]-o*u*d,t[8]-l*s*d,t[9]-l*o*d,t[10]-l*l*d,t[11]-l*u*d,t[12]-u*s*d,t[13]-u*o*d,t[14]-u*l*d,t[15]-u*u*d],g=f,x=UPNG.M4,b=[.5,.5,.5,.5],m=0,y=0;if(a!=0)for(var v=0;v<10&&(b=x.multVec(g,b),y=Math.sqrt(x.dot(b,b)),b=x.sml(1/y,b),!(Math.abs(y-m)<1e-9));v++)m=y;var w=[s*d,o*d,l*d,u*d],S=x.dot(x.sml(255,w),b);return{Cov:f,q:w,e:b,L:m,eMq255:S,eMq:x.dot(b,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2])<<16|Math.round(255*w[1])<<8|Math.round(255*w[0])<<0)>>>0}};UPNG.M4={multVec:function(n,t){return[n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3],n[4]*t[0]+n[5]*t[1]+n[6]*t[2]+n[7]*t[3],n[8]*t[0]+n[9]*t[1]+n[10]*t[2]+n[11]*t[3],n[12]*t[0]+n[13]*t[1]+n[14]*t[2]+n[15]*t[3]]},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]},sml:function(n,t){return[n*t[0],n*t[1],n*t[2],n*t[3]]}};UPNG.encode.concatRGBA=function(n){for(var t=0,r=0;r<n.length;r++)t+=n[r].byteLength;for(var a=new Uint8Array(t),s=0,r=0;r<n.length;r++){for(var o=new Uint8Array(n[r]),l=o.length,u=0;u<l;u+=4){var d=o[u],f=o[u+1],g=o[u+2],x=o[u+3];x==0&&(d=f=g=0),a[s+u]=d,a[s+u+1]=f,a[s+u+2]=g,a[s+u+3]=x}s+=l}return a.buffer};var getImageType=function(n){if(n===0)return PngType.Greyscale;if(n===2)return PngType.Truecolour;if(n===3)return PngType.IndexedColour;if(n===4)return PngType.GreyscaleWithAlpha;if(n===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+n)},splitAlphaChannel=function(n){for(var t=Math.floor(n.length/4),r=new Uint8Array(t*3),a=new Uint8Array(t*1),s=0,o=0,l=0;s<n.length;)r[o++]=n[s++],r[o++]=n[s++],r[o++]=n[s++],a[l++]=n[s++];return{rgbChannel:r,alphaChannel:a}},PngType;(function(n){n.Greyscale="Greyscale",n.Truecolour="Truecolour",n.IndexedColour="IndexedColour",n.GreyscaleWithAlpha="GreyscaleWithAlpha",n.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function n(t){var r=UPNG.decode(t),a=UPNG.toRGBA8(r);if(a.length>1)throw new Error("Animated PNGs are not supported");var s=new Uint8Array(a[0]),o=splitAlphaChannel(s),l=o.rgbChannel,u=o.alphaChannel;this.rgbChannel=l;var d=u.some(function(f){return f<255});d&&(this.alphaChannel=u),this.type=getImageType(r.ctype),this.width=r.width,this.height=r.height,this.bitsPerComponent=8}return n.load=function(t){return new n(t)},n}(),PngEmbedder=function(){function n(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return n.for=function(t){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(a){return r=PNG.load(t),[2,new n(r)]})})},n.prototype.embedIntoContext=function(t,r){return __awaiter(this,void 0,void 0,function(){var a,s;return __generator(this,function(o){return a=this.embedAlphaChannel(t),s=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:a}),r?(t.assign(r,s),[2,r]):[2,t.register(s)]})})},n.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var r=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(r)}},n}(),Stream=function(){function n(t,r,a){this.bytes=t,this.start=r||0,this.pos=this.start,this.end=r&&a?r+a:this.bytes.length}return Object.defineProperty(n.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),n.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},n.prototype.getUint16=function(){var t=this.getByte(),r=this.getByte();return t===-1||r===-1?-1:(t<<8)+r},n.prototype.getInt32=function(){var t=this.getByte(),r=this.getByte(),a=this.getByte(),s=this.getByte();return(t<<24)+(r<<16)+(a<<8)+s},n.prototype.getBytes=function(t,r){r===void 0&&(r=!1);var a=this.bytes,s=this.pos,o=this.end;if(t){var u=s+t;u>o&&(u=o),this.pos=u;var l=a.subarray(s,u);return r?new Uint8ClampedArray(l):l}else{var l=a.subarray(s,o);return r?new Uint8ClampedArray(l):l}},n.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},n.prototype.peekBytes=function(t,r){r===void 0&&(r=!1);var a=this.getBytes(t,r);return this.pos-=a.length,a},n.prototype.skip=function(t){t||(t=1),this.pos+=t},n.prototype.reset=function(){this.pos=this.start},n.prototype.moveStart=function(){this.start=this.pos},n.prototype.makeSubStream=function(t,r){return new n(this.bytes,t,r)},n.prototype.decode=function(){return this.bytes},n}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function n(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),n.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},n.prototype.getUint16=function(){var t=this.getByte(),r=this.getByte();return t===-1||r===-1?-1:(t<<8)+r},n.prototype.getInt32=function(){var t=this.getByte(),r=this.getByte(),a=this.getByte(),s=this.getByte();return(t<<24)+(r<<16)+(a<<8)+s},n.prototype.getBytes=function(t,r){r===void 0&&(r=!1);var a,s=this.pos;if(t){for(this.ensureBuffer(s+t),a=s+t;!this.eof&&this.bufferLength<a;)this.readBlock();var o=this.bufferLength;a>o&&(a=o)}else{for(;!this.eof;)this.readBlock();a=this.bufferLength}this.pos=a;var l=this.buffer.subarray(s,a);return r&&!(l instanceof Uint8ClampedArray)?new Uint8ClampedArray(l):l},n.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},n.prototype.peekBytes=function(t,r){r===void 0&&(r=!1);var a=this.getBytes(t,r);return this.pos-=a.length,a},n.prototype.skip=function(t){t||(t=1),this.pos+=t},n.prototype.reset=function(){this.pos=0},n.prototype.makeSubStream=function(t,r){for(var a=t+r;this.bufferLength<=a&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,r)},n.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},n.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},n.prototype.ensureBuffer=function(t){var r=this.buffer;if(t<=r.byteLength)return r;for(var a=this.minBufferLength;a<t;)a*=2;var s=new Uint8Array(a);return s.set(r),this.buffer=s},n}(),isSpace=function(n){return n===32||n===9||n===13||n===10},Ascii85Stream=function(n){__extends(t,n);function t(r,a){var s=n.call(this,a)||this;return s.stream=r,s.input=new Uint8Array(5),a&&(a=.8*a),s}return t.prototype.readBlock=function(){for(var r=126,a=122,s=-1,o=this.stream,l=o.getByte();isSpace(l);)l=o.getByte();if(l===s||l===r){this.eof=!0;return}var u=this.bufferLength,d,f;if(l===a){for(d=this.ensureBuffer(u+4),f=0;f<4;++f)d[u+f]=0;this.bufferLength+=4}else{var g=this.input;for(g[0]=l,f=1;f<5;++f){for(l=o.getByte();isSpace(l);)l=o.getByte();if(g[f]=l,l===s||l===r)break}if(d=this.ensureBuffer(u+f-1),this.bufferLength+=f-1,f<5){for(;f<5;++f)g[f]=117;this.eof=!0}var x=0;for(f=0;f<5;++f)x=x*85+(g[f]-33);for(f=3;f>=0;--f)d[u+f]=x&255,x>>=8}},t}(DecodeStream),AsciiHexStream=function(n){__extends(t,n);function t(r,a){var s=n.call(this,a)||this;return s.stream=r,s.firstDigit=-1,a&&(a=.5*a),s}return t.prototype.readBlock=function(){var r=8e3,a=this.stream.getBytes(r);if(!a.length){this.eof=!0;return}for(var s=a.length+1>>1,o=this.ensureBuffer(this.bufferLength+s),l=this.bufferLength,u=this.firstDigit,d=0,f=a.length;d<f;d++){var g=a[d],x=void 0;if(g>=48&&g<=57)x=g&15;else if(g>=65&&g<=70||g>=97&&g<=102)x=(g&15)+9;else if(g===62){this.eof=!0;break}else continue;u<0?u=x:(o[l++]=u<<4|x,u=-1)}u>=0&&this.eof&&(o[l++]=u<<4,u=-1),this.firstDigit=u,this.bufferLength=l},t}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(n){__extends(t,n);function t(r,a){var s=n.call(this,a)||this;s.stream=r;var o=r.getByte(),l=r.getByte();if(o===-1||l===-1)throw new Error("Invalid header in flate stream: "+o+", "+l);if((o&15)!==8)throw new Error("Unknown compression method in flate stream: "+o+", "+l);if(((o<<8)+l)%31!==0)throw new Error("Bad FCHECK in flate stream: "+o+", "+l);if(l&32)throw new Error("FDICT bit set in flate stream: "+o+", "+l);return s.codeSize=0,s.codeBuf=0,s}return t.prototype.readBlock=function(){var r,a,s=this.stream,o=this.getBits(3);if(o&1&&(this.eof=!0),o>>=1,o===0){var l=void 0;if((l=s.getByte())===-1)throw new Error("Bad block header in flate stream");var u=l;if((l=s.getByte())===-1)throw new Error("Bad block header in flate stream");if(u|=l<<8,(l=s.getByte())===-1)throw new Error("Bad block header in flate stream");var d=l;if((l=s.getByte())===-1)throw new Error("Bad block header in flate stream");if(d|=l<<8,d!==(~u&65535)&&(u!==0||d!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var f=this.bufferLength;r=this.ensureBuffer(f+u);var g=f+u;if(this.bufferLength=g,u===0)s.peekByte()===-1&&(this.eof=!0);else for(var x=f;x<g;++x){if((l=s.getByte())===-1){this.eof=!0;break}r[x]=l}return}var b,m;if(o===1)b=fixedLitCodeTab,m=fixedDistCodeTab;else if(o===2){var y=this.getBits(5)+257,v=this.getBits(5)+1,w=this.getBits(4)+4,S=new Uint8Array(codeLenCodeMap.length),C=void 0;for(C=0;C<w;++C)S[codeLenCodeMap[C]]=this.getBits(3);var E=this.generateHuffmanTable(S);a=0,C=0;for(var T=y+v,_=new Uint8Array(T),R=void 0,U=void 0,z=void 0;C<T;){var X=this.getCode(E);if(X===16)R=2,U=3,z=a;else if(X===17)R=3,U=3,z=a=0;else if(X===18)R=7,U=11,z=a=0;else{_[C++]=a=X;continue}for(var W=this.getBits(R)+U;W-- >0;)_[C++]=z}b=this.generateHuffmanTable(_.subarray(0,y)),m=this.generateHuffmanTable(_.subarray(y,T))}else throw new Error("Unknown block type in flate stream");r=this.buffer;for(var Y=r?r.length:0,se=this.bufferLength;;){var oe=this.getCode(b);if(oe<256){se+1>=Y&&(r=this.ensureBuffer(se+1),Y=r.length),r[se++]=oe;continue}if(oe===256){this.bufferLength=se;return}oe-=257,oe=lengthDecode[oe];var ue=oe>>16;ue>0&&(ue=this.getBits(ue)),a=(oe&65535)+ue,oe=this.getCode(m),oe=distDecode[oe],ue=oe>>16,ue>0&&(ue=this.getBits(ue));var Z=(oe&65535)+ue;se+a>=Y&&(r=this.ensureBuffer(se+a),Y=r.length);for(var te=0;te<a;++te,++se)r[se]=r[se-Z]}},t.prototype.getBits=function(r){for(var a=this.stream,s=this.codeSize,o=this.codeBuf,l;s<r;){if((l=a.getByte())===-1)throw new Error("Bad encoding in flate stream");o|=l<<s,s+=8}return l=o&(1<<r)-1,this.codeBuf=o>>r,this.codeSize=s-=r,l},t.prototype.getCode=function(r){for(var a=this.stream,s=r[0],o=r[1],l=this.codeSize,u=this.codeBuf,d;l<o&&(d=a.getByte())!==-1;)u|=d<<l,l+=8;var f=s[u&(1<<o)-1];typeof s=="number"&&console.log("FLATE:",f);var g=f>>16,x=f&65535;if(g<1||l<g)throw new Error("Bad encoding in flate stream");return this.codeBuf=u>>g,this.codeSize=l-g,x},t.prototype.generateHuffmanTable=function(r){var a=r.length,s=0,o;for(o=0;o<a;++o)r[o]>s&&(s=r[o]);for(var l=1<<s,u=new Int32Array(l),d=1,f=0,g=2;d<=s;++d,f<<=1,g<<=1)for(var x=0;x<a;++x)if(r[x]===d){var b=0,m=f;for(o=0;o<d;++o)b=b<<1|m&1,m>>=1;for(o=b;o<l;o+=g)u[o]=d<<16|x;++f}return[u,s]},t}(DecodeStream),LZWStream=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,a)||this;o.stream=r,o.cachedData=0,o.bitsCached=0;for(var l=4096,u={earlyChange:s,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(l),dictionaryLengths:new Uint16Array(l),dictionaryPrevCodes:new Uint16Array(l),currentSequence:new Uint8Array(l),currentSequenceLength:0},d=0;d<256;++d)u.dictionaryValues[d]=d,u.dictionaryLengths[d]=1;return o.lzwState=u,o}return t.prototype.readBlock=function(){var r=512,a=r*2,s=r,o,l,u,d=this.lzwState;if(d){var f=d.earlyChange,g=d.nextCode,x=d.dictionaryValues,b=d.dictionaryLengths,m=d.dictionaryPrevCodes,y=d.codeLength,v=d.prevCode,w=d.currentSequence,S=d.currentSequenceLength,C=0,E=this.bufferLength,T=this.ensureBuffer(this.bufferLength+a);for(o=0;o<r;o++){var _=this.readBits(y),R=S>0;if(!_||_<256)w[0]=_,S=1;else if(_>=258)if(_<g)for(S=b[_],l=S-1,u=_;l>=0;l--)w[l]=x[u],u=m[u];else w[S++]=w[0];else if(_===256){y=9,g=258,S=0;continue}else{this.eof=!0,delete this.lzwState;break}if(R&&(m[g]=v,b[g]=b[v]+1,x[g]=w[0],g++,y=g+f&g+f-1?y:Math.min(Math.log(g+f)/.6931471805599453+1,12)|0),v=_,C+=S,a<C){do a+=s;while(a<C);T=this.ensureBuffer(this.bufferLength+a)}for(l=0;l<S;l++)T[E++]=w[l]}d.nextCode=g,d.codeLength=y,d.prevCode=v,d.currentSequenceLength=S,this.bufferLength=E}},t.prototype.readBits=function(r){for(var a=this.bitsCached,s=this.cachedData;a<r;){var o=this.stream.getByte();if(o===-1)return this.eof=!0,null;s=s<<8|o,a+=8}return this.bitsCached=a-=r,this.cachedData=s,s>>>a&(1<<r)-1},t}(DecodeStream),RunLengthStream=function(n){__extends(t,n);function t(r,a){var s=n.call(this,a)||this;return s.stream=r,s}return t.prototype.readBlock=function(){var r=this.stream.getBytes(2);if(!r||r.length<2||r[0]===128){this.eof=!0;return}var a,s=this.bufferLength,o=r[0];if(o<128){if(a=this.ensureBuffer(s+o+1),a[s++]=r[1],o>0){var l=this.stream.getBytes(o);a.set(l,s),s+=o}}else{o=257-o;var u=r[1];a=this.ensureBuffer(s+o+1);for(var d=0;d<o;d++)a[s++]=u}this.bufferLength=s},t}(DecodeStream),decodeStream=function(n,t,r){if(t===PDFName.of("FlateDecode"))return new FlateStream(n);if(t===PDFName.of("LZWDecode")){var a=1;if(r instanceof PDFDict){var s=r.lookup(PDFName.of("EarlyChange"));s instanceof PDFNumber&&(a=s.asNumber())}return new LZWStream(n,void 0,a)}if(t===PDFName.of("ASCII85Decode"))return new Ascii85Stream(n);if(t===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(n);if(t===PDFName.of("RunLengthDecode"))return new RunLengthStream(n);throw new UnsupportedEncodingError(t.asString())},decodePDFRawStream=function(n){var t=n.dict,r=n.contents,a=new Stream(r),s=t.lookup(PDFName.of("Filter")),o=t.lookup(PDFName.of("DecodeParms"));if(s instanceof PDFName)a=decodeStream(a,s,o);else if(s instanceof PDFArray)for(var l=0,u=s.size();l<u;l++)a=decodeStream(a,s.lookup(l,PDFName),o&&o.lookupMaybe(l,PDFDict));else if(s)throw new UnexpectedObjectTypeError([PDFName,PDFArray],s);return a},fullPageBoundingBox=function(n){var t=n.MediaBox(),r=t.lookup(2,PDFNumber).asNumber()-t.lookup(0,PDFNumber).asNumber(),a=t.lookup(3,PDFNumber).asNumber()-t.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:r,top:a}},boundingBoxAdjustedMatrix=function(n){return[1,0,0,1,-n.left,-n.bottom]},PDFPageEmbedder=function(){function n(t,r,a){this.page=t;var s=r??fullPageBoundingBox(t);this.width=s.right-s.left,this.height=s.top-s.bottom,this.boundingBox=s,this.transformationMatrix=a??boundingBoxAdjustedMatrix(s)}return n.for=function(t,r,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(s){return[2,new n(t,r,a)]})})},n.prototype.embedIntoContext=function(t,r){return __awaiter(this,void 0,void 0,function(){var a,s,o,l,u,d,f,g,x,b;return __generator(this,function(m){if(a=this.page.normalizedEntries(),s=a.Contents,o=a.Resources,!s)throw new MissingPageContentsEmbeddingError;return l=this.decodeContents(s),u=this.boundingBox,d=u.left,f=u.bottom,g=u.right,x=u.top,b=t.flateStream(l,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[d,f,g,x],Matrix:this.transformationMatrix,Resources:o}),r?(t.assign(r,b),[2,r]):[2,t.register(b)]})})},n.prototype.decodeContents=function(t){for(var r=Uint8Array.of(CharCodes$1.Newline),a=[],s=0,o=t.size();s<o;s++){var l=t.lookup(s,PDFStream),u=void 0;if(l instanceof PDFRawStream)u=decodePDFRawStream(l).decode();else if(l instanceof PDFContentStream)u=l.getUnencodedContents();else throw new UnrecognizedStreamTypeError(l);a.push(u,r)}return mergeIntoTypedArray.apply(void 0,a)},n}(),asEnum=function(n,t){if(n!==void 0)return t[n]},NonFullScreenPageMode;(function(n){n.UseNone="UseNone",n.UseOutlines="UseOutlines",n.UseThumbs="UseThumbs",n.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(n){n.L2R="L2R",n.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(n){n.None="None",n.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(n){n.Simplex="Simplex",n.DuplexFlipShortEdge="DuplexFlipShortEdge",n.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function n(t){this.dict=t}return n.prototype.lookupBool=function(t){var r=this.dict.lookup(PDFName.of(t));if(r instanceof PDFBool)return r},n.prototype.lookupName=function(t){var r=this.dict.lookup(PDFName.of(t));if(r instanceof PDFName)return r},n.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},n.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},n.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},n.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},n.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},n.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},n.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},n.prototype.Direction=function(){return this.lookupName("Direction")},n.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},n.prototype.Duplex=function(){return this.lookupName("Duplex")},n.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},n.prototype.PrintPageRange=function(){var t=this.dict.lookup(PDFName.of("PrintPageRange"));if(t instanceof PDFArray)return t},n.prototype.NumCopies=function(){var t=this.dict.lookup(PDFName.of("NumCopies"));if(t instanceof PDFNumber)return t},n.prototype.getHideToolbar=function(){var t,r;return(r=(t=this.HideToolbar())===null||t===void 0?void 0:t.asBoolean())!==null&&r!==void 0?r:!1},n.prototype.getHideMenubar=function(){var t,r;return(r=(t=this.HideMenubar())===null||t===void 0?void 0:t.asBoolean())!==null&&r!==void 0?r:!1},n.prototype.getHideWindowUI=function(){var t,r;return(r=(t=this.HideWindowUI())===null||t===void 0?void 0:t.asBoolean())!==null&&r!==void 0?r:!1},n.prototype.getFitWindow=function(){var t,r;return(r=(t=this.FitWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&r!==void 0?r:!1},n.prototype.getCenterWindow=function(){var t,r;return(r=(t=this.CenterWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&r!==void 0?r:!1},n.prototype.getDisplayDocTitle=function(){var t,r;return(r=(t=this.DisplayDocTitle())===null||t===void 0?void 0:t.asBoolean())!==null&&r!==void 0?r:!1},n.prototype.getNonFullScreenPageMode=function(){var t,r,a=(t=this.NonFullScreenPageMode())===null||t===void 0?void 0:t.decodeText();return(r=asEnum(a,NonFullScreenPageMode))!==null&&r!==void 0?r:NonFullScreenPageMode.UseNone},n.prototype.getReadingDirection=function(){var t,r,a=(t=this.Direction())===null||t===void 0?void 0:t.decodeText();return(r=asEnum(a,ReadingDirection))!==null&&r!==void 0?r:ReadingDirection.L2R},n.prototype.getPrintScaling=function(){var t,r,a=(t=this.PrintScaling())===null||t===void 0?void 0:t.decodeText();return(r=asEnum(a,PrintScaling))!==null&&r!==void 0?r:PrintScaling.AppDefault},n.prototype.getDuplex=function(){var t,r=(t=this.Duplex())===null||t===void 0?void 0:t.decodeText();return asEnum(r,Duplex)},n.prototype.getPickTrayByPDFSize=function(){var t;return(t=this.PickTrayByPDFSize())===null||t===void 0?void 0:t.asBoolean()},n.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var r=[],a=0;a<t.size();a+=2){var s=t.lookup(a,PDFNumber).asNumber(),o=t.lookup(a+1,PDFNumber).asNumber();r.push({start:s,end:o})}return r},n.prototype.getNumCopies=function(){var t,r;return(r=(t=this.NumCopies())===null||t===void 0?void 0:t.asNumber())!==null&&r!==void 0?r:1},n.prototype.setHideToolbar=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("HideToolbar"),r)},n.prototype.setHideMenubar=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("HideMenubar"),r)},n.prototype.setHideWindowUI=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("HideWindowUI"),r)},n.prototype.setFitWindow=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("FitWindow"),r)},n.prototype.setCenterWindow=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("CenterWindow"),r)},n.prototype.setDisplayDocTitle=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("DisplayDocTitle"),r)},n.prototype.setNonFullScreenPageMode=function(t){assertIsOneOf(t,"nonFullScreenPageMode",NonFullScreenPageMode);var r=PDFName.of(t);this.dict.set(PDFName.of("NonFullScreenPageMode"),r)},n.prototype.setReadingDirection=function(t){assertIsOneOf(t,"readingDirection",ReadingDirection);var r=PDFName.of(t);this.dict.set(PDFName.of("Direction"),r)},n.prototype.setPrintScaling=function(t){assertIsOneOf(t,"printScaling",PrintScaling);var r=PDFName.of(t);this.dict.set(PDFName.of("PrintScaling"),r)},n.prototype.setDuplex=function(t){assertIsOneOf(t,"duplex",Duplex);var r=PDFName.of(t);this.dict.set(PDFName.of("Duplex"),r)},n.prototype.setPickTrayByPDFSize=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("PickTrayByPDFSize"),r)},n.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var r=[],a=0,s=t.length;a<s;a++)r.push(t[a].start),r.push(t[a].end);assertEachIs(r,"printPageRange",["number"]);var o=this.dict.context.obj(r);this.dict.set(PDFName.of("PrintPageRange"),o)},n.prototype.setNumCopies=function(t){assertRange(t,"numCopies",1,Number.MAX_VALUE),assertInteger(t,"numCopies");var r=this.dict.context.obj(t);this.dict.set(PDFName.of("NumCopies"),r)},n.fromDict=function(t){return new n(t)},n.create=function(t){var r=t.obj({});return new n(r)},n}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function n(t,r){this.dict=t,this.ref=r}return n.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},n.prototype.Ff=function(){var t=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(t,PDFNumber)},n.prototype.V=function(){var t=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(t)},n.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},n.prototype.DA=function(){var t=this.dict.lookup(PDFName.of("DA"));if(t instanceof PDFString||t instanceof PDFHexString)return t},n.prototype.setKids=function(t){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(t))},n.prototype.getParent=function(){var t=this.dict.get(PDFName.of("Parent"));if(t instanceof PDFRef){var r=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new n(r,t)}},n.prototype.setParent=function(t){t?this.dict.set(PDFName.of("Parent"),t):this.dict.delete(PDFName.of("Parent"))},n.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},n.prototype.getPartialName=function(){var t;return(t=this.T())===null||t===void 0?void 0:t.decodeText()},n.prototype.setPartialName=function(t){t?this.dict.set(PDFName.of("T"),PDFHexString.fromText(t)):this.dict.delete(PDFName.of("T"))},n.prototype.setDefaultAppearance=function(t){this.dict.set(PDFName.of("DA"),PDFString.of(t))},n.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof PDFHexString?t.decodeText():t?.asString()},n.prototype.setFontSize=function(t){var r,a=(r=this.getFullyQualifiedName())!==null&&r!==void 0?r:"",s=this.getDefaultAppearance();if(!s)throw new MissingDAEntryError(a);var o=findLastMatch(s,tfRegex$1);if(!o.match)throw new MissingTfOperatorError(a);var l=s.slice(0,o.pos-o.match[0].length),u=o.pos<=s.length?s.slice(o.pos):"",d=o.match[1],f=l+" /"+d+" "+t+" Tf "+u;this.setDefaultAppearance(f)},n.prototype.getFlags=function(){var t,r;return(r=(t=this.Ff())===null||t===void 0?void 0:t.asNumber())!==null&&r!==void 0?r:0},n.prototype.setFlags=function(t){this.dict.set(PDFName.of("Ff"),PDFNumber.of(t))},n.prototype.hasFlag=function(t){var r=this.getFlags();return(r&t)!==0},n.prototype.setFlag=function(t){var r=this.getFlags();this.setFlags(r|t)},n.prototype.clearFlag=function(t){var r=this.getFlags();this.setFlags(r&~t)},n.prototype.setFlagTo=function(t,r){r?this.setFlag(t):this.clearFlag(t)},n.prototype.getInheritableAttribute=function(t){var r;return this.ascend(function(a){r||(r=a.dict.get(t))}),r},n.prototype.ascend=function(t){t(this);var r=this.getParent();r&&r.ascend(t)},n}(),BorderStyle=function(){function n(t){this.dict=t}return n.prototype.W=function(){var t=this.dict.lookup(PDFName.of("W"));if(t instanceof PDFNumber)return t},n.prototype.getWidth=function(){var t,r;return(r=(t=this.W())===null||t===void 0?void 0:t.asNumber())!==null&&r!==void 0?r:1},n.prototype.setWidth=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("W"),r)},n.fromDict=function(t){return new n(t)},n}(),PDFAnnotation=function(){function n(t){this.dict=t}return n.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},n.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},n.prototype.F=function(){var t=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(t,PDFNumber)},n.prototype.getRectangle=function(){var t,r=this.Rect();return(t=r?.asRectangle())!==null&&t!==void 0?t:{x:0,y:0,width:0,height:0}},n.prototype.setRectangle=function(t){var r=t.x,a=t.y,s=t.width,o=t.height,l=this.dict.context.obj([r,a,r+s,a+o]);this.dict.set(PDFName.of("Rect"),l)},n.prototype.getAppearanceState=function(){var t=this.dict.lookup(PDFName.of("AS"));if(t instanceof PDFName)return t},n.prototype.setAppearanceState=function(t){this.dict.set(PDFName.of("AS"),t)},n.prototype.setAppearances=function(t){this.dict.set(PDFName.of("AP"),t)},n.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),t)),t},n.prototype.getNormalAppearance=function(){var t=this.ensureAP(),r=t.get(PDFName.of("N"));if(r instanceof PDFRef||r instanceof PDFDict)return r;throw new Error("Unexpected N type: "+r?.constructor.name)},n.prototype.setNormalAppearance=function(t){var r=this.ensureAP();r.set(PDFName.of("N"),t)},n.prototype.setRolloverAppearance=function(t){var r=this.ensureAP();r.set(PDFName.of("R"),t)},n.prototype.setDownAppearance=function(t){var r=this.ensureAP();r.set(PDFName.of("D"),t)},n.prototype.removeRolloverAppearance=function(){var t=this.AP();t?.delete(PDFName.of("R"))},n.prototype.removeDownAppearance=function(){var t=this.AP();t?.delete(PDFName.of("D"))},n.prototype.getAppearances=function(){var t=this.AP();if(t){var r=t.lookup(PDFName.of("N"),PDFDict,PDFStream),a=t.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),s=t.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:r,rollover:a,down:s}}},n.prototype.getFlags=function(){var t,r;return(r=(t=this.F())===null||t===void 0?void 0:t.asNumber())!==null&&r!==void 0?r:0},n.prototype.setFlags=function(t){this.dict.set(PDFName.of("F"),PDFNumber.of(t))},n.prototype.hasFlag=function(t){var r=this.getFlags();return(r&t)!==0},n.prototype.setFlag=function(t){var r=this.getFlags();this.setFlags(r|t)},n.prototype.clearFlag=function(t){var r=this.getFlags();this.setFlags(r&~t)},n.prototype.setFlagTo=function(t,r){r?this.setFlag(t):this.clearFlag(t)},n.fromDict=function(t){return new n(t)},n}(),AppearanceCharacteristics=function(){function n(t){this.dict=t}return n.prototype.R=function(){var t=this.dict.lookup(PDFName.of("R"));if(t instanceof PDFNumber)return t},n.prototype.BC=function(){var t=this.dict.lookup(PDFName.of("BC"));if(t instanceof PDFArray)return t},n.prototype.BG=function(){var t=this.dict.lookup(PDFName.of("BG"));if(t instanceof PDFArray)return t},n.prototype.CA=function(){var t=this.dict.lookup(PDFName.of("CA"));if(t instanceof PDFHexString||t instanceof PDFString)return t},n.prototype.RC=function(){var t=this.dict.lookup(PDFName.of("RC"));if(t instanceof PDFHexString||t instanceof PDFString)return t},n.prototype.AC=function(){var t=this.dict.lookup(PDFName.of("AC"));if(t instanceof PDFHexString||t instanceof PDFString)return t},n.prototype.getRotation=function(){var t;return(t=this.R())===null||t===void 0?void 0:t.asNumber()},n.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var r=[],a=0,s=t?.size();a<s;a++){var o=t.get(a);o instanceof PDFNumber&&r.push(o.asNumber())}return r}},n.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var r=[],a=0,s=t?.size();a<s;a++){var o=t.get(a);o instanceof PDFNumber&&r.push(o.asNumber())}return r}},n.prototype.getCaptions=function(){var t=this.CA(),r=this.RC(),a=this.AC();return{normal:t?.decodeText(),rollover:r?.decodeText(),down:a?.decodeText()}},n.prototype.setRotation=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("R"),r)},n.prototype.setBorderColor=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("BC"),r)},n.prototype.setBackgroundColor=function(t){var r=this.dict.context.obj(t);this.dict.set(PDFName.of("BG"),r)},n.prototype.setCaptions=function(t){var r=PDFHexString.fromText(t.normal);if(this.dict.set(PDFName.of("CA"),r),t.rollover){var a=PDFHexString.fromText(t.rollover);this.dict.set(PDFName.of("RC"),a)}else this.dict.delete(PDFName.of("RC"));if(t.down){var s=PDFHexString.fromText(t.down);this.dict.set(PDFName.of("AC"),s)}else this.dict.delete(PDFName.of("AC"))},n.fromDict=function(t){return new n(t)},n}(),PDFWidgetAnnotation=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.MK=function(){var r=this.dict.lookup(PDFName.of("MK"));if(r instanceof PDFDict)return r},t.prototype.BS=function(){var r=this.dict.lookup(PDFName.of("BS"));if(r instanceof PDFDict)return r},t.prototype.DA=function(){var r=this.dict.lookup(PDFName.of("DA"));if(r instanceof PDFString||r instanceof PDFHexString)return r},t.prototype.P=function(){var r=this.dict.get(PDFName.of("P"));if(r instanceof PDFRef)return r},t.prototype.setP=function(r){this.dict.set(PDFName.of("P"),r)},t.prototype.setDefaultAppearance=function(r){this.dict.set(PDFName.of("DA"),PDFString.of(r))},t.prototype.getDefaultAppearance=function(){var r=this.DA();return r instanceof PDFHexString?r.decodeText():r?.asString()},t.prototype.getAppearanceCharacteristics=function(){var r=this.MK();if(r)return AppearanceCharacteristics.fromDict(r)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var r=this.MK();if(r)return AppearanceCharacteristics.fromDict(r);var a=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),a.dict),a},t.prototype.getBorderStyle=function(){var r=this.BS();if(r)return BorderStyle.fromDict(r)},t.prototype.getOrCreateBorderStyle=function(){var r=this.BS();if(r)return BorderStyle.fromDict(r);var a=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),a.dict),a},t.prototype.getOnValue=function(){var r,a=(r=this.getAppearances())===null||r===void 0?void 0:r.normal;if(a instanceof PDFDict)for(var s=a.keys(),o=0,l=s.length;o<l;o++){var u=s[o];if(u!==PDFName.of("Off"))return u}},t.fromDict=function(r){return new t(r)},t.create=function(r,a){var s=r.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:a});return new t(s)},t}(PDFAnnotation),PDFAcroTerminal=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.FT=function(){var r=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(r,PDFName)},t.prototype.getWidgets=function(){var r=this.Kids();if(!r)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var a=new Array(r.size()),s=0,o=r.size();s<o;s++){var l=r.lookup(s,PDFDict);a[s]=PDFWidgetAnnotation.fromDict(l)}return a},t.prototype.addWidget=function(r){var a=this.normalizedEntries().Kids;a.push(r)},t.prototype.removeWidget=function(r){var a=this.Kids();if(a){if(r<0||r>a.size())throw new IndexOutOfBoundsError(r,0,a.size());a.remove(r)}else{if(r!==0)throw new IndexOutOfBoundsError(r,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var r=this.Kids();return r||(r=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),r)),{Kids:r}},t.fromDict=function(r,a){return new t(r,a)},t}(PDFAcroField),PDFAcroButton=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},t.prototype.setOpt=function(r){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(r))},t.prototype.getExportValues=function(){var r=this.Opt();if(r){if(r instanceof PDFString||r instanceof PDFHexString)return[r];for(var a=[],s=0,o=r.size();s<o;s++){var l=r.lookup(s);(l instanceof PDFString||l instanceof PDFHexString)&&a.push(l)}return a}},t.prototype.removeExportValue=function(r){var a=this.Opt();if(a)if(a instanceof PDFString||a instanceof PDFHexString){if(r!==0)throw new IndexOutOfBoundsError(r,0,0);this.setOpt([])}else{if(r<0||r>a.size())throw new IndexOutOfBoundsError(r,0,a.size());a.remove(r)}},t.prototype.normalizeExportValues=function(){for(var r,a,s,o,l=(r=this.getExportValues())!==null&&r!==void 0?r:[],u=[],d=this.getWidgets(),f=0,g=d.length;f<g;f++){var x=d[f],b=(a=l[f])!==null&&a!==void 0?a:PDFHexString.fromText((o=(s=x.getOnValue())===null||s===void 0?void 0:s.decodeText())!==null&&o!==void 0?o:"");u.push(b)}this.setOpt(u)},t.prototype.addOpt=function(r,a){var s;this.normalizeExportValues();var o=r.decodeText(),l;if(a)for(var u=(s=this.getExportValues())!==null&&s!==void 0?s:[],d=0,f=u.length;d<f;d++){var g=u[d];g.decodeText()===o&&(l=d)}var x=this.Opt();return x.push(r),l??x.size()-1},t.prototype.addWidgetWithOpt=function(r,a,s){var o=this.addOpt(a,s),l=PDFName.of(String(o));return this.addWidget(r),l},t}(PDFAcroTerminal),PDFAcroCheckBox=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValue=function(r){var a,s=(a=this.getOnValue())!==null&&a!==void 0?a:PDFName.of("Yes");if(r!==s&&r!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),r);for(var o=this.getWidgets(),l=0,u=o.length;l<u;l++){var d=o[l],f=d.getOnValue()===r?r:PDFName.of("Off");d.setAppearanceState(f)}},t.prototype.getValue=function(){var r=this.V();return r instanceof PDFName?r:PDFName.of("Off")},t.prototype.getOnValue=function(){var r=this.getWidgets()[0];return r?.getOnValue()},t.fromDict=function(r,a){return new t(r,a)},t.create=function(r){var a=r.obj({FT:"Btn",Kids:[]}),s=r.register(a);return new t(a,s)},t}(PDFAcroButton),flag$1=function(n){return 1<<n},AcroFieldFlags;(function(n){n[n.ReadOnly=flag$1(0)]="ReadOnly",n[n.Required=flag$1(1)]="Required",n[n.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(n){n[n.NoToggleToOff=flag$1(14)]="NoToggleToOff",n[n.Radio=flag$1(15)]="Radio",n[n.PushButton=flag$1(16)]="PushButton",n[n.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(n){n[n.Multiline=flag$1(12)]="Multiline",n[n.Password=flag$1(13)]="Password",n[n.FileSelect=flag$1(20)]="FileSelect",n[n.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",n[n.DoNotScroll=flag$1(23)]="DoNotScroll",n[n.Comb=flag$1(24)]="Comb",n[n.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(n){n[n.Combo=flag$1(17)]="Combo",n[n.Edit=flag$1(18)]="Edit",n[n.Sort=flag$1(19)]="Sort",n[n.MultiSelect=flag$1(21)]="MultiSelect",n[n.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",n[n.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValues=function(r){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(r))throw new InvalidAcroFieldValueError;if(r.length===0&&this.dict.delete(PDFName.of("V")),r.length===1&&this.dict.set(PDFName.of("V"),r[0]),r.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(r))}this.updateSelectedIndices(r)},t.prototype.valuesAreValid=function(r){for(var a=this.getOptions(),s=function(d,f){var g=r[d].decodeText();if(!a.find(function(x){return g===(x.display||x.value).decodeText()}))return{value:!1}},o=0,l=r.length;o<l;o++){var u=s(o);if(typeof u=="object")return u.value}return!0},t.prototype.updateSelectedIndices=function(r){if(r.length>1){for(var a=new Array(r.length),s=this.getOptions(),o=function(d,f){var g=r[d].decodeText();a[d]=s.findIndex(function(x){return g===(x.display||x.value).decodeText()})},l=0,u=r.length;l<u;l++)o(l,u);this.dict.set(PDFName.of("I"),this.dict.context.obj(a.sort()))}else this.dict.delete(PDFName.of("I"))},t.prototype.getValues=function(){var r=this.V();if(r instanceof PDFString||r instanceof PDFHexString)return[r];if(r instanceof PDFArray){for(var a=[],s=0,o=r.size();s<o;s++){var l=r.lookup(s);(l instanceof PDFString||l instanceof PDFHexString)&&a.push(l)}return a}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},t.prototype.setOptions=function(r){for(var a=new Array(r.length),s=0,o=r.length;s<o;s++){var l=r[s],u=l.value,d=l.display;a[s]=this.dict.context.obj([u,d||u])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(a))},t.prototype.getOptions=function(){var r=this.Opt();if(r instanceof PDFString||r instanceof PDFHexString)return[{value:r,display:r}];if(r instanceof PDFArray){for(var a=[],s=0,o=r.size();s<o;s++){var l=r.lookup(s);if((l instanceof PDFString||l instanceof PDFHexString)&&a.push({value:l,display:l}),l instanceof PDFArray&&l.size()>0){var u=l.lookup(0,PDFString,PDFHexString),d=l.lookupMaybe(1,PDFString,PDFHexString);a.push({value:u,display:d||u})}}return a}return[]},t}(PDFAcroTerminal),PDFAcroComboBox=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(r,a){return new t(r,a)},t.create=function(r){var a=r.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),s=r.register(a);return new t(a,s)},t}(PDFAcroChoice),PDFAcroNonTerminal=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.addField=function(r){var a=this.normalizedEntries().Kids;a?.push(r)},t.prototype.normalizedEntries=function(){var r=this.Kids();return r||(r=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),r)),{Kids:r}},t.fromDict=function(r,a){return new t(r,a)},t.create=function(r){var a=r.obj({}),s=r.register(a);return new t(a,s)},t}(PDFAcroField),PDFAcroSignature=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(r,a){return new t(r,a)},t}(PDFAcroTerminal),PDFAcroText=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.MaxLen=function(){var r=this.dict.lookup(PDFName.of("MaxLen"));if(r instanceof PDFNumber)return r},t.prototype.Q=function(){var r=this.dict.lookup(PDFName.of("Q"));if(r instanceof PDFNumber)return r},t.prototype.setMaxLength=function(r){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(r))},t.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},t.prototype.getMaxLength=function(){var r;return(r=this.MaxLen())===null||r===void 0?void 0:r.asNumber()},t.prototype.setQuadding=function(r){this.dict.set(PDFName.of("Q"),PDFNumber.of(r))},t.prototype.getQuadding=function(){var r;return(r=this.Q())===null||r===void 0?void 0:r.asNumber()},t.prototype.setValue=function(r){this.dict.set(PDFName.of("V"),r)},t.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},t.prototype.getValue=function(){var r=this.V();if(r instanceof PDFString||r instanceof PDFHexString)return r},t.fromDict=function(r,a){return new t(r,a)},t.create=function(r){var a=r.obj({FT:"Tx",Kids:[]}),s=r.register(a);return new t(a,s)},t}(PDFAcroTerminal),PDFAcroPushButton=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(r,a){return new t(r,a)},t.create=function(r){var a=r.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),s=r.register(a);return new t(a,s)},t}(PDFAcroButton),PDFAcroRadioButton=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValue=function(r){var a=this.getOnValues();if(!a.includes(r)&&r!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),r);for(var s=this.getWidgets(),o=0,l=s.length;o<l;o++){var u=s[o],d=u.getOnValue()===r?r:PDFName.of("Off");u.setAppearanceState(d)}},t.prototype.getValue=function(){var r=this.V();return r instanceof PDFName?r:PDFName.of("Off")},t.prototype.getOnValues=function(){for(var r=this.getWidgets(),a=[],s=0,o=r.length;s<o;s++){var l=r[s].getOnValue();l&&a.push(l)}return a},t.fromDict=function(r,a){return new t(r,a)},t.create=function(r){var a=r.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),s=r.register(a);return new t(a,s)},t}(PDFAcroButton),PDFAcroListBox=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.fromDict=function(r,a){return new t(r,a)},t.create=function(r){var a=r.obj({FT:"Ch",Kids:[]}),s=r.register(a);return new t(a,s)},t}(PDFAcroChoice),createPDFAcroFields=function(n){if(!n)return[];for(var t=[],r=0,a=n.size();r<a;r++){var s=n.get(r),o=n.lookup(r);s instanceof PDFRef&&o instanceof PDFDict&&t.push([createPDFAcroField(o,s),s])}return t},createPDFAcroField=function(n,t){var r=isNonTerminalAcroField(n);return r?PDFAcroNonTerminal.fromDict(n,t):createPDFAcroTerminal(n,t)},isNonTerminalAcroField=function(n){var t=n.lookup(PDFName.of("Kids"));if(t instanceof PDFArray)for(var r=0,a=t.size();r<a;r++){var s=t.lookup(r),o=s instanceof PDFDict&&s.has(PDFName.of("T"));if(o)return!0}return!1},createPDFAcroTerminal=function(n,t){var r=getInheritableAttribute(n,PDFName.of("FT")),a=n.context.lookup(r,PDFName);return a===PDFName.of("Btn")?createPDFAcroButton(n,t):a===PDFName.of("Ch")?createPDFAcroChoice(n,t):a===PDFName.of("Tx")?PDFAcroText.fromDict(n,t):a===PDFName.of("Sig")?PDFAcroSignature.fromDict(n,t):PDFAcroTerminal.fromDict(n,t)},createPDFAcroButton=function(n,t){var r,a=getInheritableAttribute(n,PDFName.of("Ff")),s=n.context.lookupMaybe(a,PDFNumber),o=(r=s?.asNumber())!==null&&r!==void 0?r:0;return flagIsSet(o,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(n,t):flagIsSet(o,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(n,t):PDFAcroCheckBox.fromDict(n,t)},createPDFAcroChoice=function(n,t){var r,a=getInheritableAttribute(n,PDFName.of("Ff")),s=n.context.lookupMaybe(a,PDFNumber),o=(r=s?.asNumber())!==null&&r!==void 0?r:0;return flagIsSet(o,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(n,t):PDFAcroListBox.fromDict(n,t)},flagIsSet=function(n,t){return(n&t)!==0},getInheritableAttribute=function(n,t){var r;return ascend(n,function(a){r||(r=a.get(t))}),r},ascend=function(n,t){t(n);var r=n.lookupMaybe(PDFName.of("Parent"),PDFDict);r&&ascend(r,t)},PDFAcroForm=function(){function n(t){this.dict=t}return n.prototype.Fields=function(){var t=this.dict.lookup(PDFName.of("Fields"));if(t instanceof PDFArray)return t},n.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,r=new Array(t.size()),a=0,s=t.size();a<s;a++){var o=t.get(a),l=t.lookup(a,PDFDict);r[a]=[createPDFAcroField(l,o),o]}return r},n.prototype.getAllFields=function(){var t=[],r=function(a){if(a)for(var s=0,o=a.length;s<o;s++){var l=a[s];t.push(l);var u=l[0];u instanceof PDFAcroNonTerminal&&r(createPDFAcroFields(u.Kids()))}};return r(this.getFields()),t},n.prototype.addField=function(t){var r=this.normalizedEntries().Fields;r?.push(t)},n.prototype.removeField=function(t){var r=t.getParent(),a=r===void 0?this.normalizedEntries().Fields:r.Kids(),s=a?.indexOf(t.ref);if(a===void 0||s===void 0)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());a.remove(s),r!==void 0&&a.size()===0&&this.removeField(r)},n.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),t)),{Fields:t}},n.fromDict=function(t){return new n(t)},n.create=function(t){var r=t.obj({Fields:[]});return new n(r)},n}(),PDFCatalog=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},t.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},t.prototype.getAcroForm=function(){var r=this.AcroForm();if(r)return PDFAcroForm.fromDict(r)},t.prototype.getOrCreateAcroForm=function(){var r=this.getAcroForm();if(!r){r=PDFAcroForm.create(this.context);var a=this.context.register(r.dict);this.set(PDFName.of("AcroForm"),a)}return r},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},t.prototype.getViewerPreferences=function(){var r=this.ViewerPreferences();if(r)return ViewerPreferences.fromDict(r)},t.prototype.getOrCreateViewerPreferences=function(){var r=this.getViewerPreferences();if(!r){r=ViewerPreferences.create(this.context);var a=this.context.register(r.dict);this.set(PDFName.of("ViewerPreferences"),a)}return r},t.prototype.insertLeafNode=function(r,a){var s=this.get(PDFName.of("Pages")),o=this.Pages().insertLeafNode(r,a);return o||s},t.prototype.removeLeafNode=function(r){this.Pages().removeLeafNode(r)},t.withContextAndPages=function(r,a){var s=new Map;return s.set(PDFName.of("Type"),PDFName.of("Catalog")),s.set(PDFName.of("Pages"),a),new t(s,r)},t.fromMapWithContext=function(r,a){return new t(r,a)},t}(PDFDict),PDFPageTree=function(n){__extends(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},t.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},t.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},t.prototype.pushTreeNode=function(r){var a=this.Kids();a.push(r)},t.prototype.pushLeafNode=function(r){var a=this.Kids();this.insertLeafKid(a.size(),r)},t.prototype.insertLeafNode=function(r,a){var s=this.Kids(),o=this.Count().asNumber();if(a>o)throw new InvalidTargetIndexError(a,o);for(var l=a,u=0,d=s.size();u<d;u++){if(l===0){this.insertLeafKid(u,r);return}var f=s.get(u),g=this.context.lookup(f);if(g instanceof t){if(g.Count().asNumber()>l)return g.insertLeafNode(r,l)||f;l-=g.Count().asNumber()}g instanceof PDFPageLeaf&&(l-=1)}if(l===0){this.insertLeafKid(s.size(),r);return}throw new CorruptPageTreeError(a,"insertLeafNode")},t.prototype.removeLeafNode=function(r,a){a===void 0&&(a=!0);var s=this.Kids(),o=this.Count().asNumber();if(r>=o)throw new InvalidTargetIndexError(r,o);for(var l=r,u=0,d=s.size();u<d;u++){var f=s.get(u),g=this.context.lookup(f);if(g instanceof t)if(g.Count().asNumber()>l){g.removeLeafNode(l,a),a&&g.Kids().size()===0&&s.remove(u);return}else l-=g.Count().asNumber();if(g instanceof PDFPageLeaf)if(l===0){this.removeKid(u);return}else l-=1}throw new CorruptPageTreeError(r,"removeLeafNode")},t.prototype.ascend=function(r){r(this);var a=this.Parent();a&&a.ascend(r)},t.prototype.traverse=function(r){for(var a=this.Kids(),s=0,o=a.size();s<o;s++){var l=a.get(s),u=this.context.lookup(l);u instanceof t&&u.traverse(r),r(u,l)}},t.prototype.insertLeafKid=function(r,a){var s=this.Kids();this.ascend(function(o){var l=o.Count().asNumber()+1;o.set(PDFName.of("Count"),PDFNumber.of(l))}),s.insert(r,a)},t.prototype.removeKid=function(r){var a=this.Kids(),s=a.lookup(r);s instanceof PDFPageLeaf&&this.ascend(function(o){var l=o.Count().asNumber()-1;o.set(PDFName.of("Count"),PDFNumber.of(l))}),a.remove(r)},t.withContext=function(r,a){var s=new Map;return s.set(PDFName.of("Type"),PDFName.of("Pages")),s.set(PDFName.of("Kids"),r.obj([])),s.set(PDFName.of("Count"),r.obj(0)),a&&s.set(PDFName.of("Parent"),a),new t(s,r)},t.fromMapWithContext=function(r,a){return new t(r,a)},t}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len$1=256;idx<len$1;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function n(t,r){r===void 0&&(r=!1),this.bytes=t,this.capNumbers=r}return n.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var r=this.bytes.peek();if(!IsDigit[r])break;t+=charFromCode(this.bytes.next())}var a=Number(t);if(!t||!isFinite(a))throw new NumberParsingError(this.bytes.position(),t);return a},n.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var r=this.bytes.peek();if(!IsNumeric[r]||(t+=charFromCode(this.bytes.next()),r===CharCodes$1.Period))break}for(;!this.bytes.done();){var r=this.bytes.peek();if(!IsDigit[r])break;t+=charFromCode(this.bytes.next())}var a=Number(t);if(!t||!isFinite(a))throw new NumberParsingError(this.bytes.position(),t);if(a>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var s="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(s),Number.MAX_SAFE_INTEGER}else{var s="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(s)}return a},n.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},n.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Newline$1||t===CarriageReturn$1)return;this.bytes.next()}},n.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Newline$1||t===CarriageReturn$1)return!0;this.bytes.next()}return!0},n.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},n.prototype.matchKeyword=function(t){for(var r=this.bytes.offset(),a=0,s=t.length;a<s;a++)if(this.bytes.done()||this.bytes.next()!==t[a])return this.bytes.moveTo(r),!1;return!0},n}(),ByteStream=function(){function n(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return n.prototype.moveTo=function(t){this.idx=t},n.prototype.next=function(){var t=this.bytes[this.idx++];return t===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,t},n.prototype.assertNext=function(t){if(this.peek()!==t)throw new NextByteAssertionError(this.position(),t,this.peek());return this.next()},n.prototype.peek=function(){return this.bytes[this.idx]},n.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},n.prototype.peekAt=function(t){return this.bytes[t]},n.prototype.done=function(){return this.idx>=this.length},n.prototype.offset=function(){return this.idx},n.prototype.slice=function(t,r){return this.bytes.slice(t,r)},n.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},n.of=function(t){return new n(t)},n.fromPDFRawStream=function(t){return n.of(decodePDFRawStream(t).decode())},n}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(n){__extends(t,n);function t(r,a,s){s===void 0&&(s=!1);var o=n.call(this,r,s)||this;return o.context=a,o}return t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var r=this.bytes.peek();if(r===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(r===CharCodes$1.LessThan)return this.parseHexString();if(r===CharCodes$1.LeftParen)return this.parseString();if(r===CharCodes$1.ForwardSlash)return this.parseName();if(r===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[r])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),r)},t.prototype.parseNumberOrRef=function(){var r=this.parseRawNumber();this.skipWhitespaceAndComments();var a=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var s=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(r,s)}return this.bytes.moveTo(a),PDFNumber.of(r)},t.prototype.parseHexString=function(){var r="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)r+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(r)},t.prototype.parseString=function(){for(var r=0,a=!1,s="";!this.bytes.done();){var o=this.bytes.next();if(s+=charFromCode(o),a||(o===CharCodes$1.LeftParen&&(r+=1),o===CharCodes$1.RightParen&&(r-=1)),o===CharCodes$1.BackSlash?a=!a:a&&(a=!1),r===0)return PDFString.of(s.substring(1,s.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var r="";!this.bytes.done();){var a=this.bytes.peek();if(IsWhitespace[a]||IsDelimiter[a])break;r+=charFromCode(a),this.bytes.next()}return PDFName.of(r)},t.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var r=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var a=this.parseObject();r.push(a),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),r},t.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var r=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var a=this.parseName(),s=this.parseObject();r.set(a,s),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var o=r.get(PDFName.of("Type"));return o===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(r,this.context):o===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(r,this.context):o===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(r,this.context):PDFDict.fromMapWithContext(r,this.context)},t.prototype.parseDictOrStream=function(){var r=this.bytes.position(),a=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return a;var s=this.bytes.offset(),o,l=a.get(PDFName.of("Length"));l instanceof PDFNumber?(o=s+l.asNumber(),this.bytes.moveTo(o),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(s),o=this.findEndOfStreamFallback(r))):o=this.findEndOfStreamFallback(r);var u=this.bytes.slice(s,o);return PDFRawStream.of(a,u)},t.prototype.findEndOfStreamFallback=function(r){for(var a=1,s=this.bytes.offset();!this.bytes.done()&&(s=this.bytes.offset(),this.matchKeyword(Keywords.stream)?a+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?a-=1:this.bytes.next(),a!==0););if(a!==0)throw new PDFStreamParsingError(r);return s},t.forBytes=function(r,a,s){return new t(ByteStream.of(r),a,s)},t.forByteStream=function(r,a,s){return s===void 0&&(s=!1),new t(r,a,s)},t}(BaseParser),PDFObjectStreamParser=function(n){__extends(t,n);function t(r,a){var s=n.call(this,ByteStream.fromPDFRawStream(r),r.dict.context)||this,o=r.dict;return s.alreadyParsed=!1,s.shouldWaitForTick=a||function(){return!1},s.firstOffset=o.lookup(PDFName.of("First"),PDFNumber).asNumber(),s.objectCount=o.lookup(PDFName.of("N"),PDFNumber).asNumber(),s}return t.prototype.parseIntoContext=function(){return __awaiter(this,void 0,void 0,function(){var r,a,s,o,l,u,d,f;return __generator(this,function(g){switch(g.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,r=this.parseOffsetsAndObjectNumbers(),a=0,s=r.length,g.label=1;case 1:return a<s?(o=r[a],l=o.objectNumber,u=o.offset,this.bytes.moveTo(this.firstOffset+u),d=this.parseObject(),f=PDFRef.of(l,0),this.context.assign(f,d),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:g.sent(),g.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var r=[],a=0,s=this.objectCount;a<s;a++){this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var l=this.parseRawInt();r.push({objectNumber:o,offset:l})}return r},t.forStream=function(r,a){return new t(r,a)},t}(PDFObjectParser),PDFXRefStreamParser=function(){function n(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=ByteStream.fromPDFRawStream(t),this.context=this.dict.context;var r=this.dict.lookup(PDFName.of("Size"),PDFNumber),a=this.dict.lookup(PDFName.of("Index"));if(a instanceof PDFArray){this.subsections=[];for(var s=0,o=a.size();s<o;s+=2){var l=a.lookup(s+0,PDFNumber).asNumber(),u=a.lookup(s+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:l,length:u})}}else this.subsections=[{firstObjectNumber:0,length:r.asNumber()}];var d=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var s=0,o=d.size();s<o;s++)this.byteWidths[s]=d.lookup(s,PDFNumber).asNumber()}return n.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var t=this.parseEntries();return t},n.prototype.parseEntries=function(){for(var t=[],r=this.byteWidths,a=r[0],s=r[1],o=r[2],l=0,u=this.subsections.length;l<u;l++)for(var d=this.subsections[l],f=d.firstObjectNumber,g=d.length,x=0;x<g;x++){for(var b=0,m=0,y=a;m<y;m++)b=b<<8|this.bytes.next();for(var v=0,m=0,y=s;m<y;m++)v=v<<8|this.bytes.next();for(var w=0,m=0,y=o;m<y;m++)w=w<<8|this.bytes.next();a===0&&(b=1);var S=f+x,C={ref:PDFRef.of(S,w),offset:v,deleted:b===0,inObjectStream:b===2};t.push(C)}return t},n.forStream=function(t){return new n(t)},n}(),PDFParser=function(n){__extends(t,n);function t(r,a,s,o){a===void 0&&(a=1/0),s===void 0&&(s=!1),o===void 0&&(o=!1);var l=n.call(this,ByteStream.of(r),PDFContext.create(),o)||this;return l.alreadyParsed=!1,l.parsedObjects=0,l.shouldWaitForTick=function(){return l.parsedObjects+=1,l.parsedObjects%l.objectsPerTick===0},l.objectsPerTick=a,l.throwOnInvalidObject=s,l}return t.prototype.parseDocument=function(){return __awaiter(this,void 0,void 0,function(){var r,a;return __generator(this,function(s){switch(s.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),s.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(s.sent(),a=this.bytes.offset(),a===r)throw new StalledParserError(this.bytes.position());return r=a,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var r=function(g){return g instanceof PDFDict&&g.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},a=this.context.lookup(this.context.trailerInfo.Root);if(!r(a))for(var s=this.context.enumerateIndirectObjects(),o=0,l=s.length;o<l;o++){var u=s[o],d=u[0],f=u[1];r(f)&&(this.context.trailerInfo.Root=d)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var r=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var a=this.parseRawInt(),s=PDFHeader.forVersion(r,a);return this.skipBinaryHeaderComment(),s}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(r,a)},t.prototype.matchIndirectObjectHeader=function(){var r=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(r),!1}},t.prototype.parseIndirectObject=function(){return __awaiter(this,void 0,void 0,function(){var r,a;return __generator(this,function(s){switch(s.label){case 0:return r=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),a=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),a instanceof PDFRawStream&&a.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(a,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return s.sent(),[3,3];case 2:a instanceof PDFRawStream&&a.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(a).parseIntoContext():this.context.assign(r,a),s.label=3;case 3:return[2,r]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var r=this.bytes.position(),a="Trying to parse invalid object: "+JSON.stringify(r)+")";if(this.throwOnInvalidObject)throw new Error(a);console.warn(a);var s=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+s),this.skipWhitespaceAndComments();for(var o=this.bytes.offset(),l=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(l=!1),!!l);)this.bytes.next();if(l)throw new PDFInvalidObjectParsingError(r);var u=this.bytes.offset()-Keywords.endobj.length,d=PDFInvalidObject.of(this.bytes.slice(o,u));return this.context.assign(s,d),s},t.prototype.parseIndirectObjects=function(){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(a){switch(a.label){case 0:this.skipWhitespaceAndComments(),a.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];r=this.bytes.offset(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return a.sent(),[3,5];case 4:return a.sent(),this.bytes.moveTo(r),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:a.sent(),a.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var r=-1,a=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var s=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var l=this.bytes.peek();if(l===CharCodes$1.n||l===CharCodes$1.f){var u=PDFRef.of(r,o);this.bytes.next()===CharCodes$1.n?a.addEntry(u,s):a.addDeletedEntry(u,s),r+=1}else r=s;this.skipWhitespaceAndComments()}return a}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var r=this.parseDict(),a=this.context;a.trailerInfo={Root:r.get(PDFName.of("Root"))||a.trailerInfo.Root,Encrypt:r.get(PDFName.of("Encrypt"))||a.trailerInfo.Encrypt,Info:r.get(PDFName.of("Info"))||a.trailerInfo.Info,ID:r.get(PDFName.of("ID"))||a.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var r=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(r)}},t.prototype.parseDocumentSection=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,this.parseIndirectObjects()];case 1:return r.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var r=this.bytes.offset(),a=this.bytes.peek(),s=a>=CharCodes$1.Space&&a<=CharCodes$1.Tilde;if(s&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(r);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var r=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(r)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(r,a,s,o){return new t(r,a,s,o)},t}(PDFObjectParser),flag=function(n){return 1<<n},AnnotationFlags;(function(n){n[n.Invisible=flag(0)]="Invisible",n[n.Hidden=flag(1)]="Hidden",n[n.Print=flag(2)]="Print",n[n.NoZoom=flag(3)]="NoZoom",n[n.NoRotate=flag(4)]="NoRotate",n[n.NoView=flag(5)]="NoView",n[n.ReadOnly=flag(6)]="ReadOnly",n[n.Locked=flag(7)]="Locked",n[n.ToggleNoView=flag(8)]="ToggleNoView",n[n.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(n){return n instanceof PDFName?n:PDFName.of(n)},asPDFNumber=function(n){return n instanceof PDFNumber?n:PDFNumber.of(n)},asNumber=function(n){return n instanceof PDFNumber?n.asNumber():n},RotationTypes;(function(n){n.Degrees="degrees",n.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(n){return assertIs(n,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:n}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(n){return n*Math.PI/180},radiansToDegrees=function(n){return n*180/Math.PI},toRadians=function(n){return n.type===Radians?n.angle:n.type===Degrees?degreesToRadians(n.angle):error("Invalid rotation: "+JSON.stringify(n))},toDegrees=function(n){return n.type===Radians?radiansToDegrees(n.angle):n.type===Degrees?n.angle:error("Invalid rotation: "+JSON.stringify(n))},reduceRotation=function(n){n===void 0&&(n=0);var t=n/90%4;return t===0?0:t===1?90:t===2?180:t===3?270:0},adjustDimsForRotation=function(n,t){t===void 0&&(t=0);var r=reduceRotation(t);return r===90||r===270?{width:n.height,height:n.width}:{width:n.width,height:n.height}},rotateRectangle=function(n,t,r){t===void 0&&(t=0),r===void 0&&(r=0);var a=n.x,s=n.y,o=n.width,l=n.height,u=reduceRotation(r),d=t/2;return u===0?{x:a-d,y:s-d,width:o,height:l}:u===90?{x:a-l+d,y:s-d,width:l,height:o}:u===180?{x:a-o+d,y:s-l+d,width:o,height:l}:u===270?{x:a-d,y:s-o+d,width:l,height:o}:{x:a-d,y:s-d,width:o,height:l}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(n,t,r,a,s,o){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r),asPDFNumber(a),asPDFNumber(s),asPDFNumber(o)])},translate=function(n,t){return concatTransformationMatrix(1,0,0,1,n,t)},scale=function(n,t){return concatTransformationMatrix(n,0,0,t,0,0)},rotateRadians=function(n){return concatTransformationMatrix(cos(asNumber(n)),sin(asNumber(n)),-sin(asNumber(n)),cos(asNumber(n)),0,0)},rotateDegrees=function(n){return rotateRadians(degreesToRadians(asNumber(n)))},skewRadians=function(n,t){return concatTransformationMatrix(1,tan(asNumber(n)),tan(asNumber(t)),1,0,0)},setDashPattern=function(n,t){return PDFOperator.of(Ops.SetLineDashPattern,["["+n.map(asPDFNumber).join(" ")+"]",asPDFNumber(t)])},LineCapStyle;(function(n){n[n.Butt=0]="Butt",n[n.Round=1]="Round",n[n.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(n){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(n)])},LineJoinStyle;(function(n){n[n.Miter=0]="Miter",n[n.Round=1]="Round",n[n.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(n){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(n)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(n){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(n)])},appendBezierCurve=function(n,t,r,a,s,o){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r),asPDFNumber(a),asPDFNumber(s),asPDFNumber(o)])},appendQuadraticCurve=function(n,t,r,a){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r),asPDFNumber(a)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(n,t){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(n),asPDFNumber(t)])},lineTo=function(n,t){return PDFOperator.of(Ops.LineTo,[asPDFNumber(n),asPDFNumber(t)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(n){return PDFOperator.of(Ops.ShowText,[n])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(n,t){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(n),asPDFNumber(t)])},setLineHeight=function(n){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(n)])},TextRenderingMode;(function(n){n[n.Fill=0]="Fill",n[n.Outline=1]="Outline",n[n.FillAndOutline=2]="FillAndOutline",n[n.Invisible=3]="Invisible",n[n.FillAndClip=4]="FillAndClip",n[n.OutlineAndClip=5]="OutlineAndClip",n[n.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",n[n.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(n,t,r,a,s,o){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r),asPDFNumber(a),asPDFNumber(s),asPDFNumber(o)])},rotateAndSkewTextRadiansAndTranslate=function(n,t,r,a,s){return setTextMatrix(cos(asNumber(n)),sin(asNumber(n))+tan(asNumber(t)),-sin(asNumber(n))+tan(asNumber(r)),cos(asNumber(n)),a,s)},drawObject=function(n){return PDFOperator.of(Ops.DrawObject,[asPDFName(n)])},setFillingGrayscaleColor=function(n){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(n)])},setStrokingGrayscaleColor=function(n){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(n)])},setFillingRgbColor=function(n,t,r){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r)])},setStrokingRgbColor=function(n,t,r){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r)])},setFillingCmykColor=function(n,t,r,a){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r),asPDFNumber(a)])},setStrokingCmykColor=function(n,t,r,a){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(n),asPDFNumber(t),asPDFNumber(r),asPDFNumber(a)])},beginMarkedContent=function(n){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(n)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(n){n.Grayscale="Grayscale",n.RGB="RGB",n.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(n){return assertRange(n,"gray",0,1),{type:ColorTypes.Grayscale,gray:n}},rgb=function(n,t,r){return assertRange(n,"red",0,1),assertRange(t,"green",0,1),assertRange(r,"blue",0,1),{type:ColorTypes.RGB,red:n,green:t,blue:r}},cmyk=function(n,t,r,a){return assertRange(n,"cyan",0,1),assertRange(t,"magenta",0,1),assertRange(r,"yellow",0,1),assertRange(a,"key",0,1),{type:ColorTypes.CMYK,cyan:n,magenta:t,yellow:r,key:a}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(n){return n.type===Grayscale?setFillingGrayscaleColor(n.gray):n.type===RGB?setFillingRgbColor(n.red,n.green,n.blue):n.type===CMYK?setFillingCmykColor(n.cyan,n.magenta,n.yellow,n.key):error("Invalid color: "+JSON.stringify(n))},setStrokingColor=function(n){return n.type===Grayscale?setStrokingGrayscaleColor(n.gray):n.type===RGB?setStrokingRgbColor(n.red,n.green,n.blue):n.type===CMYK?setStrokingCmykColor(n.cyan,n.magenta,n.yellow,n.key):error("Invalid color: "+JSON.stringify(n))},componentsToColor=function(n,t){return t===void 0&&(t=1),n?.length===1?grayscale(n[0]*t):n?.length===3?rgb(n[0]*t,n[1]*t,n[2]*t):n?.length===4?cmyk(n[0]*t,n[1]*t,n[2]*t,n[3]*t):void 0},colorToComponents=function(n){return n.type===Grayscale?[n.gray]:n.type===RGB?[n.red,n.green,n.blue]:n.type===CMYK?[n.cyan,n.magenta,n.yellow,n.key]:error("Invalid color: "+JSON.stringify(n))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(n){for(var t,r=[],a=[],s="",o=!1,l=0,u=0,d=n;u<d.length;u++){var f=d[u];if(parameters.has(f))l=parameters.get(f),t&&(s.length>0&&(a[a.length]=+s),r[r.length]={cmd:t,args:a},a=[],s="",o=!1),t=f;else if([" ",","].includes(f)||f==="-"&&s.length>0&&s[s.length-1]!=="e"||f==="."&&o){if(s.length===0)continue;a.length===l?(r[r.length]={cmd:t,args:a},a=[+s],t==="M"&&(t="L"),t==="m"&&(t="l")):a[a.length]=+s,o=f===".",s=["-","."].includes(f)?f:""}else s+=f,f==="."&&(o=!0)}return s.length>0&&(a.length===l?(r[r.length]={cmd:t,args:a},a=[+s],t==="M"&&(t="L"),t==="m"&&(t="l")):a[a.length]=+s),r[r.length]={cmd:t,args:a},r},apply=function(n){cx=cy=px=py=sx=sy=0;for(var t=[],r=0;r<n.length;r++){var a=n[r];if(a.cmd&&typeof runners[a.cmd]=="function"){var s=runners[a.cmd](a.args);Array.isArray(s)?t=t.concat(s):t.push(s)}}return t},runners={M:function(n){return cx=n[0],cy=n[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(n){return cx+=n[0],cy+=n[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(n){return cx=n[4],cy=n[5],px=n[2],py=n[3],appendBezierCurve(n[0],n[1],n[2],n[3],n[4],n[5])},c:function(n){var t=appendBezierCurve(n[0]+cx,n[1]+cy,n[2]+cx,n[3]+cy,n[4]+cx,n[5]+cy);return px=cx+n[2],py=cy+n[3],cx+=n[4],cy+=n[5],t},S:function(n){(px===null||py===null)&&(px=cx,py=cy);var t=appendBezierCurve(cx-(px-cx),cy-(py-cy),n[0],n[1],n[2],n[3]);return px=n[0],py=n[1],cx=n[2],cy=n[3],t},s:function(n){(px===null||py===null)&&(px=cx,py=cy);var t=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+n[0],cy+n[1],cx+n[2],cy+n[3]);return px=cx+n[0],py=cy+n[1],cx+=n[2],cy+=n[3],t},Q:function(n){return px=n[0],py=n[1],cx=n[2],cy=n[3],appendQuadraticCurve(n[0],n[1],cx,cy)},q:function(n){var t=appendQuadraticCurve(n[0]+cx,n[1]+cy,n[2]+cx,n[3]+cy);return px=cx+n[0],py=cy+n[1],cx+=n[2],cy+=n[3],t},T:function(n){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var t=appendQuadraticCurve(px,py,n[0],n[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=n[0],cy=n[1],t},t:function(n){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var t=appendQuadraticCurve(px,py,cx+n[0],cy+n[1]);return cx+=n[0],cy+=n[1],t},A:function(n){var t=solveArc(cx,cy,n);return cx=n[5],cy=n[6],t},a:function(n){n[5]+=cx,n[6]+=cy;var t=solveArc(cx,cy,n);return cx=n[5],cy=n[6],t},L:function(n){return cx=n[0],cy=n[1],px=py=null,lineTo(cx,cy)},l:function(n){return cx+=n[0],cy+=n[1],px=py=null,lineTo(cx,cy)},H:function(n){return cx=n[0],px=py=null,lineTo(cx,cy)},h:function(n){return cx+=n[0],px=py=null,lineTo(cx,cy)},V:function(n){return cy=n[0],px=py=null,lineTo(cx,cy)},v:function(n){return cy+=n[0],px=py=null,lineTo(cx,cy)},Z:function(){var n=closePath();return cx=sx,cy=sy,n},z:function(){var n=closePath();return cx=sx,cy=sy,n}},solveArc=function(n,t,r){for(var a=r[0],s=r[1],o=r[2],l=r[3],u=r[4],d=r[5],f=r[6],g=arcToSegments(d,f,a,s,l,u,o,n,t),x=[],b=0,m=g;b<m.length;b++){var y=m[b],v=segmentToBezier.apply(void 0,y);x.push(appendBezierCurve.apply(void 0,v))}return x},arcToSegments=function(n,t,r,a,s,o,l,u,d){var f=l*(Math.PI/180),g=Math.sin(f),x=Math.cos(f);r=Math.abs(r),a=Math.abs(a),px=x*(u-n)*.5+g*(d-t)*.5,py=x*(d-t)*.5-g*(u-n)*.5;var b=px*px/(r*r)+py*py/(a*a);b>1&&(b=Math.sqrt(b),r*=b,a*=b);var m=x/r,y=g/r,v=-g/a,w=x/a,S=m*u+y*d,C=v*u+w*d,E=m*n+y*t,T=v*n+w*t,_=(E-S)*(E-S)+(T-C)*(T-C),R=1/_-.25;R<0&&(R=0);var U=Math.sqrt(R);o===s&&(U=-U);var z=.5*(S+E)-U*(T-C),X=.5*(C+T)+U*(E-S),W=Math.atan2(C-X,S-z),Y=Math.atan2(T-X,E-z),se=Y-W;se<0&&o===1?se+=2*Math.PI:se>0&&o===0&&(se-=2*Math.PI);for(var oe=Math.ceil(Math.abs(se/(Math.PI*.5+.001))),ue=[],Z=0;Z<oe;Z++){var te=W+Z*se/oe,he=W+(Z+1)*se/oe;ue[Z]=[z,X,te,he,r,a,g,x]}return ue},segmentToBezier=function(n,t,r,a,s,o,l,u){var d=u*s,f=-l*o,g=l*s,x=u*o,b=.5*(a-r),m=8/3*Math.sin(b*.5)*Math.sin(b*.5)/Math.sin(b),y=n+Math.cos(r)-m*Math.sin(r),v=t+Math.sin(r)+m*Math.cos(r),w=n+Math.cos(a),S=t+Math.sin(a),C=w+m*Math.sin(a),E=S-m*Math.cos(a),T=[d*y+f*v,g*y+x*v,d*C+f*E,g*C+x*E,d*w+f*S,g*w+x*S];return T},svgPathToOperators=function(n){return apply(parse(n))},drawLinesOfText=function(n,t){for(var r=[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),beginText(),setFillingColor(t.color),setFontAndSize(t.font,t.size),setLineHeight(t.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(t.rotate),toRadians(t.xSkew),toRadians(t.ySkew),t.x,t.y)].filter(Boolean),a=0,s=n.length;a<s;a++)r.push(showText(n[a]),nextLine());return r.push(endText(),popGraphicsState()),r},drawImage=function(n,t){return[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians(t.rotate)),scale(t.width,t.height),skewRadians(toRadians(t.xSkew),toRadians(t.ySkew)),drawObject(n),popGraphicsState()].filter(Boolean)},drawPage=function(n,t){return[pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians(t.rotate)),scale(t.xScale,t.yScale),skewRadians(toRadians(t.xSkew),toRadians(t.ySkew)),drawObject(n),popGraphicsState()].filter(Boolean)},drawLine=function(n){var t,r;return[pushGraphicsState(),n.graphicsState&&setGraphicsState(n.graphicsState),n.color&&setStrokingColor(n.color),setLineWidth(n.thickness),setDashPattern((t=n.dashArray)!==null&&t!==void 0?t:[],(r=n.dashPhase)!==null&&r!==void 0?r:0),moveTo(n.start.x,n.start.y),n.lineCap&&setLineCap(n.lineCap),moveTo(n.start.x,n.start.y),lineTo(n.end.x,n.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(n){var t,r;return[pushGraphicsState(),n.graphicsState&&setGraphicsState(n.graphicsState),n.color&&setFillingColor(n.color),n.borderColor&&setStrokingColor(n.borderColor),setLineWidth(n.borderWidth),n.borderLineCap&&setLineCap(n.borderLineCap),setDashPattern((t=n.borderDashArray)!==null&&t!==void 0?t:[],(r=n.borderDashPhase)!==null&&r!==void 0?r:0),translate(n.x,n.y),rotateRadians(toRadians(n.rotate)),skewRadians(toRadians(n.xSkew),toRadians(n.ySkew)),moveTo(0,0),lineTo(0,n.height),lineTo(n.width,n.height),lineTo(n.width,0),closePath(),n.color&&n.borderWidth?fillAndStroke():n.color?fill():n.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(n){var t=asNumber(n.x),r=asNumber(n.y),a=asNumber(n.xScale),s=asNumber(n.yScale);t-=a,r-=s;var o=a*KAPPA,l=s*KAPPA,u=t+a*2,d=r+s*2,f=t+a,g=r+s;return[pushGraphicsState(),moveTo(t,g),appendBezierCurve(t,g-l,f-o,r,f,r),appendBezierCurve(f+o,r,u,g-l,u,g),appendBezierCurve(u,g+l,f+o,d,f,d),appendBezierCurve(f-o,d,t,g+l,t,g),popGraphicsState()]},drawEllipseCurves=function(n){var t=asNumber(n.x),r=asNumber(n.y),a=asNumber(n.xScale),s=asNumber(n.yScale),o=-a,l=-s,u=a*KAPPA,d=s*KAPPA,f=o+a*2,g=l+s*2,x=o+a,b=l+s;return[translate(t,r),rotateRadians(toRadians(n.rotate)),moveTo(o,b),appendBezierCurve(o,b-d,x-u,l,x,l),appendBezierCurve(x+u,l,f,b-d,f,b),appendBezierCurve(f,b+d,x+u,g,x,g),appendBezierCurve(x-u,g,o,b+d,o,b)]},drawEllipse=function(n){var t,r,a;return __spreadArrays([pushGraphicsState(),n.graphicsState&&setGraphicsState(n.graphicsState),n.color&&setFillingColor(n.color),n.borderColor&&setStrokingColor(n.borderColor),setLineWidth(n.borderWidth),n.borderLineCap&&setLineCap(n.borderLineCap),setDashPattern((t=n.borderDashArray)!==null&&t!==void 0?t:[],(r=n.borderDashPhase)!==null&&r!==void 0?r:0)],n.rotate===void 0?drawEllipsePath({x:n.x,y:n.y,xScale:n.xScale,yScale:n.yScale}):drawEllipseCurves({x:n.x,y:n.y,xScale:n.xScale,yScale:n.yScale,rotate:(a=n.rotate)!==null&&a!==void 0?a:degrees(0)}),[n.color&&n.borderWidth?fillAndStroke():n.color?fill():n.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(n,t){var r,a,s;return __spreadArrays([pushGraphicsState(),t.graphicsState&&setGraphicsState(t.graphicsState),translate(t.x,t.y),rotateRadians(toRadians((r=t.rotate)!==null&&r!==void 0?r:degrees(0))),t.scale?scale(t.scale,-t.scale):scale(1,-1),t.color&&setFillingColor(t.color),t.borderColor&&setStrokingColor(t.borderColor),t.borderWidth&&setLineWidth(t.borderWidth),t.borderLineCap&&setLineCap(t.borderLineCap),setDashPattern((a=t.borderDashArray)!==null&&a!==void 0?a:[],(s=t.borderDashPhase)!==null&&s!==void 0?s:0)],svgPathToOperators(n),[t.color&&t.borderWidth?fillAndStroke():t.color?fill():t.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(n){var t=asNumber(n.size),r=-1+.75,a=-1+.51,s=1-.525,o=1-.31,l=-1+.325,u=-((l-r)*(o-r))/(s-a)+a;return[pushGraphicsState(),n.color&&setStrokingColor(n.color),setLineWidth(n.thickness),translate(n.x,n.y),moveTo(l*t,u*t),lineTo(r*t,a*t),lineTo(o*t,s*t),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(n){return n.rotation===0?[translate(0,0),rotateDegrees(0)]:n.rotation===90?[translate(n.width,0),rotateDegrees(90)]:n.rotation===180?[translate(n.width,n.height),rotateDegrees(180)]:n.rotation===270?[translate(0,n.height),rotateDegrees(270)]:[]},drawCheckBox=function(n){var t=drawRectangle({x:n.x,y:n.y,width:n.width,height:n.height,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!n.filled)return t;var r=asNumber(n.width),a=asNumber(n.height),s=Math.min(r,a)/2,o=drawCheckMark({x:r/2,y:a/2,size:s,thickness:n.thickness,color:n.markColor});return __spreadArrays([pushGraphicsState()],t,o,[popGraphicsState()])},drawRadioButton=function(n){var t=asNumber(n.width),r=asNumber(n.height),a=Math.min(t,r)/2,s=drawEllipse({x:n.x,y:n.y,xScale:a,yScale:a,color:n.color,borderColor:n.borderColor,borderWidth:n.borderWidth});if(!n.filled)return s;var o=drawEllipse({x:n.x,y:n.y,xScale:a*.45,yScale:a*.45,color:n.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],s,o,[popGraphicsState()])},drawButton=function(n){var t=asNumber(n.x),r=asNumber(n.y),a=asNumber(n.width),s=asNumber(n.height),o=drawRectangle({x:t,y:r,width:a,height:s,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),l=drawTextLines(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],o,l,[popGraphicsState()])},drawTextLines=function(n,t){for(var r=[beginText(),setFillingColor(t.color),setFontAndSize(t.font,t.size)],a=0,s=n.length;a<s;a++){var o=n[a],l=o.encoded,u=o.x,d=o.y;r.push(rotateAndSkewTextRadiansAndTranslate(toRadians(t.rotate),toRadians(t.xSkew),toRadians(t.ySkew),u,d),showText(l))}return r.push(endText()),r},drawTextField=function(n){var t=asNumber(n.x),r=asNumber(n.y),a=asNumber(n.width),s=asNumber(n.height),o=asNumber(n.borderWidth),l=asNumber(n.padding),u=t+o/2+l,d=r+o/2+l,f=a-(o/2+l)*2,g=s-(o/2+l)*2,x=[moveTo(u,d),lineTo(u,d+g),lineTo(u+f,d+g),lineTo(u+f,d),closePath(),clip(),endPath()],b=drawRectangle({x:t,y:r,width:a,height:s,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),m=drawTextLines(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),y=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],m,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],b,x,y,[popGraphicsState()])},drawOptionList=function(n){for(var t=asNumber(n.x),r=asNumber(n.y),a=asNumber(n.width),s=asNumber(n.height),o=asNumber(n.lineHeight),l=asNumber(n.borderWidth),u=asNumber(n.padding),d=t+l/2+u,f=r+l/2+u,g=a-(l/2+u)*2,x=s-(l/2+u)*2,b=[moveTo(d,f),lineTo(d,f+x),lineTo(d+g,f+x),lineTo(d+g,f),closePath(),clip(),endPath()],m=drawRectangle({x:t,y:r,width:a,height:s,borderWidth:n.borderWidth,color:n.color,borderColor:n.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),y=[],v=0,w=n.selectedLines.length;v<w;v++){var S=n.textLines[n.selectedLines[v]];y.push.apply(y,drawRectangle({x:S.x-u,y:S.y-(o-S.height)/2,width:a-l,height:S.height+(o-S.height)/2,borderWidth:0,color:n.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var C=drawTextLines(n.textLines,{color:n.textColor,font:n.font,size:n.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),E=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],C,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],m,y,b,E,[popGraphicsState()])},EncryptedPDFError=function(n){__extends(t,n);function t(){var r=this,a="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return r=n.call(this,a)||this,r}return t}(Error),FontkitNotRegisteredError=function(n){__extends(t,n);function t(){var r=this,a="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return r=n.call(this,a)||this,r}return t}(Error),ForeignPageError=function(n){__extends(t,n);function t(){var r=this,a="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return r=n.call(this,a)||this,r}return t}(Error),RemovePageFromEmptyDocumentError=function(n){__extends(t,n);function t(){var r=this,a="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return r=n.call(this,a)||this,r}return t}(Error),NoSuchFieldError=function(n){__extends(t,n);function t(r){var a=this,s='PDFDocument has no form field with the name "'+r+'"';return a=n.call(this,s)||this,a}return t}(Error),UnexpectedFieldTypeError=function(n){__extends(t,n);function t(r,a,s){var o,l,u=this,d=a?.name,f=(l=(o=s?.constructor)===null||o===void 0?void 0:o.name)!==null&&l!==void 0?l:s,g='Expected field "'+r+'" to be of type '+d+", "+("but it is actually of type "+f);return u=n.call(this,g)||this,u}return t}(Error);(function(n){__extends(t,n);function t(r){var a=this,s='Failed to select check box due to missing onValue: "'+r+'"';return a=n.call(this,s)||this,a}return t})(Error);var FieldAlreadyExistsError=function(n){__extends(t,n);function t(r){var a=this,s='A field already exists with the specified name: "'+r+'"';return a=n.call(this,s)||this,a}return t}(Error),InvalidFieldNamePartError=function(n){__extends(t,n);function t(r){var a=this,s='Field name contains invalid component: "'+r+'"';return a=n.call(this,s)||this,a}return t}(Error);(function(n){__extends(t,n);function t(r){var a=this,s='A non-terminal field already exists with the specified name: "'+r+'"';return a=n.call(this,s)||this,a}return t})(Error);var RichTextFieldReadError=function(n){__extends(t,n);function t(r){var a=this,s="Reading rich text fields is not supported: Attempted to read rich text field: "+r;return a=n.call(this,s)||this,a}return t}(Error),CombedTextLayoutError=function(n){__extends(t,n);function t(r,a){var s=this,o="Failed to layout combed text as lineLength="+r+" is greater than cellCount="+a;return s=n.call(this,o)||this,s}return t}(Error),ExceededMaxLengthError=function(n){__extends(t,n);function t(r,a,s){var o=this,l="Attempted to set text with length="+r+" for TextField with maxLength="+a+" and name="+s;return o=n.call(this,l)||this,o}return t}(Error),InvalidMaxLengthError=function(n){__extends(t,n);function t(r,a,s){var o=this,l="Attempted to set maxLength="+a+", which is less than "+r+", the length of this field's current value (name="+s+")";return o=n.call(this,l)||this,o}return t}(Error),TextAlignment;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(n,t,r,a){a===void 0&&(a=!1);for(var s=MIN_FONT_SIZE;s<MAX_FONT_SIZE;){for(var o=0,l=0,u=n.length;l<u;l++){o+=1;for(var d=n[l],f=d.split(" "),g=r.width,x=0,b=f.length;x<b;x++){var m=x===b-1,y=m?f[x]:f[x]+" ",v=t.widthOfTextAtSize(y,s);g-=v,g<=0&&(o+=1,g=r.width-v)}}if(!a&&o>n.length)return s-1;var w=t.heightAtSize(s),S=w+w*.2,C=S*o;if(C>Math.abs(r.height))return s-1;s+=1}return s},computeCombedFontSize=function(n,t,r,a){for(var s=r.width/a,o=r.height,l=MIN_FONT_SIZE,u=charSplit(n);l<MAX_FONT_SIZE;){for(var d=0,f=u.length;d<f;d++){var g=u[d],x=t.widthOfTextAtSize(g,l)>s*.75;if(x)return l-1}var b=t.heightAtSize(l,{descender:!1});if(b>o)return l-1;l+=1}return l},lastIndexOfWhitespace=function(n){for(var t=n.length;t>0;t--)if(/\s/.test(n[t]))return t},splitOutLines=function(n,t,r,a){for(var s,o=n.length;o>0;){var l=n.substring(0,o),u=r.encodeText(l),d=r.widthOfTextAtSize(l,a);if(d<t){var f=n.substring(o)||void 0;return{line:l,encoded:u,width:d,remainder:f}}o=(s=lastIndexOfWhitespace(l))!==null&&s!==void 0?s:0}return{line:n,encoded:r.encodeText(n),width:r.widthOfTextAtSize(n,a),remainder:void 0}},layoutMultilineText=function(n,t){var r=t.alignment,a=t.fontSize,s=t.font,o=t.bounds,l=lineSplit(cleanText(n));(a===void 0||a===0)&&(a=computeFontSize(l,s,o,!0));for(var u=s.heightAtSize(a),d=u+u*.2,f=[],g=o.x,x=o.y,b=o.x+o.width,m=o.y+o.height,y=o.y+o.height,v=0,w=l.length;v<w;v++)for(var S=l[v];S!==void 0;){var C=splitOutLines(S,o.width,s,a),E=C.line,T=C.encoded,_=C.width,R=C.remainder,U=r===TextAlignment.Left?o.x:r===TextAlignment.Center?o.x+o.width/2-_/2:r===TextAlignment.Right?o.x+o.width-_:o.x;y-=d,U<g&&(g=U),y<x&&(x=y),U+_>b&&(b=U+_),y+u>m&&(m=y+u),f.push({text:E,encoded:T,width:_,height:u,x:U,y}),S=R?.trim()}return{fontSize:a,lineHeight:d,lines:f,bounds:{x:g,y:x,width:b-g,height:m-x}}},layoutCombedText=function(n,t){var r=t.fontSize,a=t.font,s=t.bounds,o=t.cellCount,l=mergeLines(cleanText(n));if(l.length>o)throw new CombedTextLayoutError(l.length,o);(r===void 0||r===0)&&(r=computeCombedFontSize(l,a,s,o));for(var u=s.width/o,d=a.heightAtSize(r,{descender:!1}),f=s.y+(s.height/2-d/2),g=[],x=s.x,b=s.y,m=s.x+s.width,y=s.y+s.height,v=0,w=0;v<o;){var S=charAtIndex(l,w),C=S[0],E=S[1],T=a.encodeText(C),_=a.widthOfTextAtSize(C,r),R=s.x+(u*v+u/2),U=R-_/2;U<x&&(x=U),f<b&&(b=f),U+_>m&&(m=U+_),f+d>y&&(y=f+d),g.push({text:l,encoded:T,width:_,height:d,x:U,y:f}),v+=1,w+=E}return{fontSize:r,cells:g,bounds:{x,y:b,width:m-x,height:y-b}}},layoutSinglelineText=function(n,t){var r=t.alignment,a=t.fontSize,s=t.font,o=t.bounds,l=mergeLines(cleanText(n));(a===void 0||a===0)&&(a=computeFontSize([l],s,o));var u=s.encodeText(l),d=s.widthOfTextAtSize(l,a),f=s.heightAtSize(a,{descender:!1}),g=r===TextAlignment.Left?o.x:r===TextAlignment.Center?o.x+o.width/2-d/2:r===TextAlignment.Right?o.x+o.width-d:o.x,x=o.y+(o.height/2-f/2);return{fontSize:a,line:{text:l,encoded:u,width:d,height:f,x:g,y:x},bounds:{x:g,y:x,width:d,height:f}}},normalizeAppearance=function(n){return"normal"in n?n:{normal:n}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(n){var t,r,a=(t=n.getDefaultAppearance())!==null&&t!==void 0?t:"",s=(r=findLastMatch(a,tfRegex).match)!==null&&r!==void 0?r:[],o=Number(s[2]);return isFinite(o)?o:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(n){var t,r=(t=n.getDefaultAppearance())!==null&&t!==void 0?t:"",a=findLastMatch(r,colorRegex).match,s=a??[],o=s[1],l=s[2],u=s[3],d=s[4],f=s[5];if(f==="g"&&o)return grayscale(Number(o));if(f==="rg"&&o&&l&&u)return rgb(Number(o),Number(l),Number(u));if(f==="k"&&o&&l&&u&&d)return cmyk(Number(o),Number(l),Number(u),Number(d))},updateDefaultAppearance=function(n,t,r,a){var s;a===void 0&&(a=0);var o=[setFillingColor(t).toString(),setFontAndSize((s=r?.name)!==null&&s!==void 0?s:"dummy__noop",a).toString()].join(`
`);n.setDefaultAppearance(o)},defaultCheckBoxAppearanceProvider=function(n,t){var r,a,s,o=getDefaultColor(t),l=getDefaultColor(n.acroField),u=t.getRectangle(),d=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),g=(r=f?.getWidth())!==null&&r!==void 0?r:0,x=reduceRotation(d?.getRotation()),b=adjustDimsForRotation(u,x),m=b.width,y=b.height,v=rotateInPlace(__assign(__assign({},u),{rotation:x})),w=rgb(0,0,0),S=(a=componentsToColor(d?.getBorderColor()))!==null&&a!==void 0?a:w,C=componentsToColor(d?.getBackgroundColor()),E=componentsToColor(d?.getBackgroundColor(),.8),T=(s=o??l)!==null&&s!==void 0?s:w;updateDefaultAppearance(o?t:n.acroField,T);var _={x:0+g/2,y:0+g/2,width:m-g,height:y-g,thickness:1.5,borderWidth:g,borderColor:S,markColor:T};return{normal:{on:__spreadArrays(v,drawCheckBox(__assign(__assign({},_),{color:C,filled:!0}))),off:__spreadArrays(v,drawCheckBox(__assign(__assign({},_),{color:C,filled:!1})))},down:{on:__spreadArrays(v,drawCheckBox(__assign(__assign({},_),{color:E,filled:!0}))),off:__spreadArrays(v,drawCheckBox(__assign(__assign({},_),{color:E,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(n,t){var r,a,s,o=getDefaultColor(t),l=getDefaultColor(n.acroField),u=t.getRectangle(),d=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),g=(r=f?.getWidth())!==null&&r!==void 0?r:0,x=reduceRotation(d?.getRotation()),b=adjustDimsForRotation(u,x),m=b.width,y=b.height,v=rotateInPlace(__assign(__assign({},u),{rotation:x})),w=rgb(0,0,0),S=(a=componentsToColor(d?.getBorderColor()))!==null&&a!==void 0?a:w,C=componentsToColor(d?.getBackgroundColor()),E=componentsToColor(d?.getBackgroundColor(),.8),T=(s=o??l)!==null&&s!==void 0?s:w;updateDefaultAppearance(o?t:n.acroField,T);var _={x:m/2,y:y/2,width:m-g,height:y-g,borderWidth:g,borderColor:S,dotColor:T};return{normal:{on:__spreadArrays(v,drawRadioButton(__assign(__assign({},_),{color:C,filled:!0}))),off:__spreadArrays(v,drawRadioButton(__assign(__assign({},_),{color:C,filled:!1})))},down:{on:__spreadArrays(v,drawRadioButton(__assign(__assign({},_),{color:E,filled:!0}))),off:__spreadArrays(v,drawRadioButton(__assign(__assign({},_),{color:E,filled:!1})))}}},defaultButtonAppearanceProvider=function(n,t,r){var a,s,o,l,u,d=getDefaultColor(t),f=getDefaultColor(n.acroField),g=getDefaultFontSize(t),x=getDefaultFontSize(n.acroField),b=t.getRectangle(),m=t.getAppearanceCharacteristics(),y=t.getBorderStyle(),v=m?.getCaptions(),w=(a=v?.normal)!==null&&a!==void 0?a:"",S=(o=(s=v?.down)!==null&&s!==void 0?s:w)!==null&&o!==void 0?o:"",C=(l=y?.getWidth())!==null&&l!==void 0?l:0,E=reduceRotation(m?.getRotation()),T=adjustDimsForRotation(b,E),_=T.width,R=T.height,U=rotateInPlace(__assign(__assign({},b),{rotation:E})),z=rgb(0,0,0),X=componentsToColor(m?.getBorderColor()),W=componentsToColor(m?.getBackgroundColor()),Y=componentsToColor(m?.getBackgroundColor(),.8),se={x:C,y:C,width:_-C*2,height:R-C*2},oe=layoutSinglelineText(w,{alignment:TextAlignment.Center,fontSize:g??x,font:r,bounds:se}),ue=layoutSinglelineText(S,{alignment:TextAlignment.Center,fontSize:g??x,font:r,bounds:se}),Z=Math.min(oe.fontSize,ue.fontSize),te=(u=d??f)!==null&&u!==void 0?u:z;updateDefaultAppearance(d||g!==void 0?t:n.acroField,te,r,Z);var he={x:0+C/2,y:0+C/2,width:_-C,height:R-C,borderWidth:C,borderColor:X,textColor:te,font:r.name,fontSize:Z};return{normal:__spreadArrays(U,drawButton(__assign(__assign({},he),{color:W,textLines:[oe.line]}))),down:__spreadArrays(U,drawButton(__assign(__assign({},he),{color:Y,textLines:[ue.line]})))}},defaultTextFieldAppearanceProvider=function(n,t,r){var a,s,o,l,u=getDefaultColor(t),d=getDefaultColor(n.acroField),f=getDefaultFontSize(t),g=getDefaultFontSize(n.acroField),x=t.getRectangle(),b=t.getAppearanceCharacteristics(),m=t.getBorderStyle(),y=(a=n.getText())!==null&&a!==void 0?a:"",v=(s=m?.getWidth())!==null&&s!==void 0?s:0,w=reduceRotation(b?.getRotation()),S=adjustDimsForRotation(x,w),C=S.width,E=S.height,T=rotateInPlace(__assign(__assign({},x),{rotation:w})),_=rgb(0,0,0),R=componentsToColor(b?.getBorderColor()),U=componentsToColor(b?.getBackgroundColor()),z,X,W=n.isCombed()?0:1,Y={x:v+W,y:v+W,width:C-(v+W)*2,height:E-(v+W)*2};if(n.isMultiline()){var se=layoutMultilineText(y,{alignment:n.getAlignment(),fontSize:f??g,font:r,bounds:Y});z=se.lines,X=se.fontSize}else if(n.isCombed()){var se=layoutCombedText(y,{fontSize:f??g,font:r,bounds:Y,cellCount:(o=n.getMaxLength())!==null&&o!==void 0?o:0});z=se.cells,X=se.fontSize}else{var se=layoutSinglelineText(y,{alignment:n.getAlignment(),fontSize:f??g,font:r,bounds:Y});z=[se.line],X=se.fontSize}var oe=(l=u??d)!==null&&l!==void 0?l:_;updateDefaultAppearance(u||f!==void 0?t:n.acroField,oe,r,X);var ue={x:0+v/2,y:0+v/2,width:C-v,height:E-v,borderWidth:v??0,borderColor:R,textColor:oe,font:r.name,fontSize:X,color:U,textLines:z,padding:W};return __spreadArrays(T,drawTextField(ue))},defaultDropdownAppearanceProvider=function(n,t,r){var a,s,o,l=getDefaultColor(t),u=getDefaultColor(n.acroField),d=getDefaultFontSize(t),f=getDefaultFontSize(n.acroField),g=t.getRectangle(),x=t.getAppearanceCharacteristics(),b=t.getBorderStyle(),m=(a=n.getSelected()[0])!==null&&a!==void 0?a:"",y=(s=b?.getWidth())!==null&&s!==void 0?s:0,v=reduceRotation(x?.getRotation()),w=adjustDimsForRotation(g,v),S=w.width,C=w.height,E=rotateInPlace(__assign(__assign({},g),{rotation:v})),T=rgb(0,0,0),_=componentsToColor(x?.getBorderColor()),R=componentsToColor(x?.getBackgroundColor()),U=1,z={x:y+U,y:y+U,width:S-(y+U)*2,height:C-(y+U)*2},X=layoutSinglelineText(m,{alignment:TextAlignment.Left,fontSize:d??f,font:r,bounds:z}),W=X.line,Y=X.fontSize,se=(o=l??u)!==null&&o!==void 0?o:T;updateDefaultAppearance(l||d!==void 0?t:n.acroField,se,r,Y);var oe={x:0+y/2,y:0+y/2,width:S-y,height:C-y,borderWidth:y??0,borderColor:_,textColor:se,font:r.name,fontSize:Y,color:R,textLines:[W],padding:U};return __spreadArrays(E,drawTextField(oe))},defaultOptionListAppearanceProvider=function(n,t,r){var a,s,o=getDefaultColor(t),l=getDefaultColor(n.acroField),u=getDefaultFontSize(t),d=getDefaultFontSize(n.acroField),f=t.getRectangle(),g=t.getAppearanceCharacteristics(),x=t.getBorderStyle(),b=(a=x?.getWidth())!==null&&a!==void 0?a:0,m=reduceRotation(g?.getRotation()),y=adjustDimsForRotation(f,m),v=y.width,w=y.height,S=rotateInPlace(__assign(__assign({},f),{rotation:m})),C=rgb(0,0,0),E=componentsToColor(g?.getBorderColor()),T=componentsToColor(g?.getBackgroundColor()),_=n.getOptions(),R=n.getSelected();n.isSorted()&&_.sort();for(var U="",z=0,X=_.length;z<X;z++)U+=_[z],z<X-1&&(U+=`
`);for(var W=1,Y={x:b+W,y:b+W,width:v-(b+W)*2,height:w-(b+W)*2},se=layoutMultilineText(U,{alignment:TextAlignment.Left,fontSize:u??d,font:r,bounds:Y}),oe=se.lines,ue=se.fontSize,Z=se.lineHeight,te=[],z=0,X=oe.length;z<X;z++){var he=oe[z];R.includes(he.text)&&te.push(z)}var xe=rgb(153/255,193/255,218/255),ye=(s=o??l)!==null&&s!==void 0?s:C;return updateDefaultAppearance(o||u!==void 0?t:n.acroField,ye,r,ue),__spreadArrays(S,drawOptionList({x:0+b/2,y:0+b/2,width:v-b,height:w-b,borderWidth:b??0,borderColor:E,textColor:ye,font:r.name,fontSize:ue,color:T,textLines:oe,lineHeight:Z,selectedColor:xe,selectedLines:te,padding:W}))},PDFEmbeddedPage=function(){function n(t,r,a){this.alreadyEmbedded=!1,assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(r,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(a,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=t,this.doc=r,this.width=a.width,this.height=a.height,this.embedder=a}return n.prototype.scale=function(t){return assertIs(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},n.prototype.size=function(){return this.scale(1)},n.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}})})},n.of=function(t,r,a){return new n(t,r,a)},n}(),PDFFont=function(){function n(t,r,a){this.modified=!0,assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(r,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(a,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=t,this.doc=r,this.name=a.fontName,this.embedder=a}return n.prototype.encodeText=function(t){return assertIs(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},n.prototype.widthOfTextAtSize=function(t,r){return assertIs(t,"text",["string"]),assertIs(r,"size",["number"]),this.embedder.widthOfTextAtSize(t,r)},n.prototype.heightAtSize=function(t,r){var a;return assertIs(t,"size",["number"]),assertOrUndefined(r?.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:(a=r?.descender)!==null&&a!==void 0?a:!0})},n.prototype.sizeAtHeight=function(t){return assertIs(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},n.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},n.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}})})},n.of=function(t,r,a){return new n(t,r,a)},n}(),PDFImage=function(){function n(t,r,a){assertIs(t,"ref",[[PDFRef,"PDFRef"]]),assertIs(r,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(a,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=t,this.doc=r,this.width=a.width,this.height=a.height,this.embedder=a}return n.prototype.scale=function(t){return assertIs(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},n.prototype.scaleToFit=function(t,r){assertIs(t,"width",["number"]),assertIs(r,"height",["number"]);var a=t/this.width,s=r/this.height,o=Math.min(a,s);return this.scale(o)},n.prototype.size=function(){return this.scale(1)},n.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var t,r,a;return __generator(this,function(s){switch(s.label){case 0:return this.embedder?(this.embedTask||(t=this,r=t.doc,a=t.ref,this.embedTask=this.embedder.embedIntoContext(r.context,a)),[4,this.embedTask]):[2];case 1:return s.sent(),this.embedder=void 0,[2]}})})},n.of=function(t,r,a){return new n(t,r,a)},n}(),ImageAlignment;(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(n){assertOrUndefined(n?.x,"options.x",["number"]),assertOrUndefined(n?.y,"options.y",["number"]),assertOrUndefined(n?.width,"options.width",["number"]),assertOrUndefined(n?.height,"options.height",["number"]),assertOrUndefined(n?.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(n?.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(n?.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(n?.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(n?.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function n(t,r,a){assertIs(t,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(r,"ref",[[PDFRef,"PDFRef"]]),assertIs(a,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=t,this.ref=r,this.doc=a}return n.prototype.getName=function(){var t;return(t=this.acroField.getFullyQualifiedName())!==null&&t!==void 0?t:""},n.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},n.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},n.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},n.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},n.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},n.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},n.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},n.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},n.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},n.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},n.prototype.defaultUpdateAppearances=function(t){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},n.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},n.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},n.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},n.prototype.createWidget=function(t){var r,a=t.textColor,s=t.backgroundColor,o=t.borderColor,l=t.borderWidth,u=toDegrees(t.rotate),d=t.caption,f=t.x,g=t.y,x=t.width+l,b=t.height+l,m=!!t.hidden,y=t.page;assertMultiple(u,"degreesAngle",90);var v=PDFWidgetAnnotation.create(this.doc.context,this.ref),w=rotateRectangle({x:f,y:g,width:x,height:b},l,u);v.setRectangle(w),y&&v.setP(y);var S=v.getOrCreateAppearanceCharacteristics();s&&S.setBackgroundColor(colorToComponents(s)),S.setRotation(u),d&&S.setCaptions({normal:d}),o&&S.setBorderColor(colorToComponents(o));var C=v.getOrCreateBorderStyle();if(l!==void 0&&C.setWidth(l),v.setFlagTo(AnnotationFlags.Print,!0),v.setFlagTo(AnnotationFlags.Hidden,m),v.setFlagTo(AnnotationFlags.Invisible,!1),a){var E=(r=this.acroField.getDefaultAppearance())!==null&&r!==void 0?r:"",T=E+`
`+setFillingColor(a).toString();this.acroField.setDefaultAppearance(T)}return v},n.prototype.updateWidgetAppearanceWithFont=function(t,r,a){var s=a.normal,o=a.rollover,l=a.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,s,r),rollover:o&&this.createAppearanceStream(t,o,r),down:l&&this.createAppearanceStream(t,l,r)})},n.prototype.updateOnOffWidgetAppearance=function(t,r,a){var s=a.normal,o=a.rollover,l=a.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,s,r),rollover:o&&this.createAppearanceDict(t,o,r),down:l&&this.createAppearanceDict(t,l,r)})},n.prototype.updateWidgetAppearances=function(t,r){var a=r.normal,s=r.rollover,o=r.down;t.setNormalAppearance(a),s?t.setRolloverAppearance(s):t.removeRolloverAppearance(),o?t.setDownAppearance(o):t.removeDownAppearance()},n.prototype.createAppearanceStream=function(t,r,a){var s,o=this.acroField.dict.context,l=t.getRectangle(),u=l.width,d=l.height,f=a&&{Font:(s={},s[a.name]=a.ref,s)},g=o.formXObject(r,{Resources:f,BBox:o.obj([0,0,u,d]),Matrix:o.obj([1,0,0,1,0,0])}),x=o.register(g);return x},n.prototype.createImageAppearanceStream=function(t,r,a){var s,o,l=this.acroField.dict.context,u=t.getRectangle(),d=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),g=(o=f?.getWidth())!==null&&o!==void 0?o:0,x=reduceRotation(d?.getRotation()),b=rotateInPlace(__assign(__assign({},u),{rotation:x})),m=adjustDimsForRotation(u,x),y=r.scaleToFit(m.width-g*2,m.height-g*2),v={x:g,y:g,width:y.width,height:y.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};a===ImageAlignment.Center?(v.x+=(m.width-g*2)/2-y.width/2,v.y+=(m.height-g*2)/2-y.height/2):a===ImageAlignment.Right&&(v.x=m.width-g-y.width,v.y=m.height-g-y.height);var w=this.doc.context.addRandomSuffix("Image",10),S=__spreadArrays(b,drawImage(w,v)),C={XObject:(s={},s[w]=r.ref,s)},E=l.formXObject(S,{Resources:C,BBox:l.obj([0,0,u.width,u.height]),Matrix:l.obj([1,0,0,1,0,0])});return l.register(E)},n.prototype.createAppearanceDict=function(t,r,a){var s=this.acroField.dict.context,o=this.createAppearanceStream(t,r.on),l=this.createAppearanceStream(t,r.off),u=s.obj({});return u.set(a,o),u.set(PDFName.of("Off"),l),u},n}(),PDFCheckBox=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,r,a,s)||this;return assertIs(r,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),o.acroField=r,o}return t.prototype.check=function(){var r,a=(r=this.acroField.getOnValue())!==null&&r!==void 0?r:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(a)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},t.prototype.isChecked=function(){var r=this.acroField.getOnValue();return!!r&&r===this.acroField.getValue()},t.prototype.addToPage=function(r,a){var s,o,l,u,d,f;assertIs(r,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(a),a||(a={}),"textColor"in a||(a.textColor=rgb(0,0,0)),"backgroundColor"in a||(a.backgroundColor=rgb(1,1,1)),"borderColor"in a||(a.borderColor=rgb(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var g=this.createWidget({x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:(l=a.width)!==null&&l!==void 0?l:50,height:(u=a.height)!==null&&u!==void 0?u:50,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(d=a.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=a.rotate)!==null&&f!==void 0?f:degrees(0),hidden:a.hidden,page:r.ref}),x=this.doc.context.register(g.dict);this.acroField.addWidget(x),g.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(g,PDFName.of("Yes")),r.node.addAnnot(x)},t.prototype.needsAppearancesUpdate=function(){for(var r,a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],u=l.getAppearanceState(),d=(r=l.getAppearances())===null||r===void 0?void 0:r.normal;if(!(d instanceof PDFDict)||u&&!d.has(u))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(r){var a;assertOrUndefined(r,"provider",[Function]);for(var s=this.acroField.getWidgets(),o=0,l=s.length;o<l;o++){var u=s[o],d=(a=u.getOnValue())!==null&&a!==void 0?a:PDFName.of("Yes");d&&this.updateWidgetAppearance(u,d,r)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(r,a,s){var o=s??defaultCheckBoxAppearanceProvider,l=normalizeAppearance(o(this,r));this.updateOnOffWidgetAppearance(r,a,l)},t.of=function(r,a,s){return new t(r,a,s)},t}(PDFField),PDFDropdown=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,r,a,s)||this;return assertIs(r,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),o.acroField=r,o}return t.prototype.getOptions=function(){for(var r=this.acroField.getOptions(),a=new Array(r.length),s=0,o=a.length;s<o;s++){var l=r[s],u=l.display,d=l.value;a[s]=(u??d).decodeText()}return a},t.prototype.getSelected=function(){for(var r=this.acroField.getValues(),a=new Array(r.length),s=0,o=r.length;s<o;s++)a[s]=r[s].decodeText();return a},t.prototype.setOptions=function(r){assertIs(r,"options",[Array]);for(var a=new Array(r.length),s=0,o=r.length;s<o;s++)a[s]={value:PDFHexString.fromText(r[s])};this.acroField.setOptions(a)},t.prototype.addOptions=function(r){assertIs(r,"options",["string",Array]);for(var a=Array.isArray(r)?r:[r],s=this.acroField.getOptions(),o=new Array(a.length),l=0,u=a.length;l<u;l++)o[l]={value:PDFHexString.fromText(a[l])};this.acroField.setOptions(s.concat(o))},t.prototype.select=function(r,a){a===void 0&&(a=!1),assertIs(r,"options",["string",Array]),assertIs(a,"merge",["boolean"]);var s=Array.isArray(r)?r:[r],o=this.getOptions(),l=s.find(function(x){return!o.includes(x)});l&&this.enableEditing(),this.markAsDirty(),(s.length>1||s.length===1&&a)&&this.enableMultiselect();for(var u=new Array(s.length),d=0,f=s.length;d<f;d++)u[d]=PDFHexString.fromText(s[d]);if(a){var g=this.acroField.getValues();this.acroField.setValues(g.concat(u))}else this.acroField.setValues(u)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(r){assertPositive(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},t.prototype.addToPage=function(r,a){var s,o,l,u,d,f,g;assertIs(r,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(a),a||(a={}),"textColor"in a||(a.textColor=rgb(0,0,0)),"backgroundColor"in a||(a.backgroundColor=rgb(1,1,1)),"borderColor"in a||(a.borderColor=rgb(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var x=this.createWidget({x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:(l=a.width)!==null&&l!==void 0?l:200,height:(u=a.height)!==null&&u!==void 0?u:50,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(d=a.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=a.rotate)!==null&&f!==void 0?f:degrees(0),hidden:a.hidden,page:r.ref}),b=this.doc.context.register(x.dict);this.acroField.addWidget(b);var m=(g=a.font)!==null&&g!==void 0?g:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(x,m),r.node.addAnnot(b)},t.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],u=((r=l.getAppearances())===null||r===void 0?void 0:r.normal)instanceof PDFStream;if(!u)return!0}return!1},t.prototype.defaultUpdateAppearances=function(r){assertIs(r,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(r)},t.prototype.updateAppearances=function(r,a){assertIs(r,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(a,"provider",[Function]);for(var s=this.acroField.getWidgets(),o=0,l=s.length;o<l;o++){var u=s[o];this.updateWidgetAppearance(u,r,a)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(r,a,s){var o=s??defaultDropdownAppearanceProvider,l=normalizeAppearance(o(this,r,a));this.updateWidgetAppearanceWithFont(r,a,l)},t.of=function(r,a,s){return new t(r,a,s)},t}(PDFField),PDFOptionList=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,r,a,s)||this;return assertIs(r,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),o.acroField=r,o}return t.prototype.getOptions=function(){for(var r=this.acroField.getOptions(),a=new Array(r.length),s=0,o=a.length;s<o;s++){var l=r[s],u=l.display,d=l.value;a[s]=(u??d).decodeText()}return a},t.prototype.getSelected=function(){for(var r=this.acroField.getValues(),a=new Array(r.length),s=0,o=r.length;s<o;s++)a[s]=r[s].decodeText();return a},t.prototype.setOptions=function(r){assertIs(r,"options",[Array]),this.markAsDirty();for(var a=new Array(r.length),s=0,o=r.length;s<o;s++)a[s]={value:PDFHexString.fromText(r[s])};this.acroField.setOptions(a)},t.prototype.addOptions=function(r){assertIs(r,"options",["string",Array]),this.markAsDirty();for(var a=Array.isArray(r)?r:[r],s=this.acroField.getOptions(),o=new Array(a.length),l=0,u=a.length;l<u;l++)o[l]={value:PDFHexString.fromText(a[l])};this.acroField.setOptions(s.concat(o))},t.prototype.select=function(r,a){a===void 0&&(a=!1),assertIs(r,"options",["string",Array]),assertIs(a,"merge",["boolean"]);var s=Array.isArray(r)?r:[r],o=this.getOptions();assertIsSubset(s,"option",o),this.markAsDirty(),(s.length>1||s.length===1&&a)&&this.enableMultiselect();for(var l=new Array(s.length),u=0,d=s.length;u<d;u++)l[u]=PDFHexString.fromText(s[u]);if(a){var f=this.acroField.getValues();this.acroField.setValues(f.concat(l))}else this.acroField.setValues(l)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(r){assertPositive(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},t.prototype.addToPage=function(r,a){var s,o,l,u,d,f,g;assertIs(r,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(a),a||(a={}),"textColor"in a||(a.textColor=rgb(0,0,0)),"backgroundColor"in a||(a.backgroundColor=rgb(1,1,1)),"borderColor"in a||(a.borderColor=rgb(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var x=this.createWidget({x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:(l=a.width)!==null&&l!==void 0?l:200,height:(u=a.height)!==null&&u!==void 0?u:100,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(d=a.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=a.rotate)!==null&&f!==void 0?f:degrees(0),hidden:a.hidden,page:r.ref}),b=this.doc.context.register(x.dict);this.acroField.addWidget(b);var m=(g=a.font)!==null&&g!==void 0?g:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(x,m),r.node.addAnnot(b)},t.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],u=((r=l.getAppearances())===null||r===void 0?void 0:r.normal)instanceof PDFStream;if(!u)return!0}return!1},t.prototype.defaultUpdateAppearances=function(r){assertIs(r,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(r)},t.prototype.updateAppearances=function(r,a){assertIs(r,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(a,"provider",[Function]);for(var s=this.acroField.getWidgets(),o=0,l=s.length;o<l;o++){var u=s[o];this.updateWidgetAppearance(u,r,a)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(r,a,s){var o=s??defaultOptionListAppearanceProvider,l=normalizeAppearance(o(this,r,a));this.updateWidgetAppearanceWithFont(r,a,l)},t.of=function(r,a,s){return new t(r,a,s)},t}(PDFField),PDFRadioGroup=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,r,a,s)||this;return assertIs(r,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),o.acroField=r,o}return t.prototype.getOptions=function(){var r=this.acroField.getExportValues();if(r){for(var a=new Array(r.length),s=0,o=r.length;s<o;s++)a[s]=r[s].decodeText();return a}for(var l=this.acroField.getOnValues(),u=new Array(l.length),s=0,o=u.length;s<o;s++)u[s]=l[s].decodeText();return u},t.prototype.getSelected=function(){var r=this.acroField.getValue();if(r!==PDFName.of("Off")){var a=this.acroField.getExportValues();if(a){for(var s=this.acroField.getOnValues(),o=0,l=s.length;o<l;o++)if(s[o]===r)return a[o].decodeText()}return r.decodeText()}},t.prototype.select=function(r){assertIs(r,"option",["string"]);var a=this.getOptions();assertIsOneOf(r,"option",a),this.markAsDirty();var s=this.acroField.getOnValues(),o=this.acroField.getExportValues();if(o)for(var l=0,u=o.length;l<u;l++)o[l].decodeText()===r&&this.acroField.setValue(s[l]);else for(var l=0,u=s.length;l<u;l++){var d=s[l];d.decodeText()===r&&this.acroField.setValue(d)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(r,a,s){var o,l,u,d,f,g,x,b,m;assertIs(r,"option",["string"]),assertIs(a,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(s);var y=this.createWidget({x:(o=s?.x)!==null&&o!==void 0?o:0,y:(l=s?.y)!==null&&l!==void 0?l:0,width:(u=s?.width)!==null&&u!==void 0?u:50,height:(d=s?.height)!==null&&d!==void 0?d:50,textColor:(f=s?.textColor)!==null&&f!==void 0?f:rgb(0,0,0),backgroundColor:(g=s?.backgroundColor)!==null&&g!==void 0?g:rgb(1,1,1),borderColor:(x=s?.borderColor)!==null&&x!==void 0?x:rgb(0,0,0),borderWidth:(b=s?.borderWidth)!==null&&b!==void 0?b:1,rotate:(m=s?.rotate)!==null&&m!==void 0?m:degrees(0),hidden:s?.hidden,page:a.ref}),v=this.doc.context.register(y.dict),w=this.acroField.addWidgetWithOpt(v,PDFHexString.fromText(r),!this.isMutuallyExclusive());y.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(y,w),a.node.addAnnot(v)},t.prototype.needsAppearancesUpdate=function(){for(var r,a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],u=l.getAppearanceState(),d=(r=l.getAppearances())===null||r===void 0?void 0:r.normal;if(!(d instanceof PDFDict)||u&&!d.has(u))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(r){assertOrUndefined(r,"provider",[Function]);for(var a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],u=l.getOnValue();u&&this.updateWidgetAppearance(l,u,r)}},t.prototype.updateWidgetAppearance=function(r,a,s){var o=s??defaultRadioGroupAppearanceProvider,l=normalizeAppearance(o(this,r));this.updateOnOffWidgetAppearance(r,a,l)},t.of=function(r,a,s){return new t(r,a,s)},t}(PDFField),PDFSignature=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,r,a,s)||this;return assertIs(r,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),o.acroField=r,o}return t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(r,a,s){return new t(r,a,s)},t}(PDFField),PDFTextField=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,r,a,s)||this;return assertIs(r,"acroText",[[PDFAcroText,"PDFAcroText"]]),o.acroField=r,o}return t.prototype.getText=function(){var r=this.acroField.getValue();if(!r&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return r?.decodeText()},t.prototype.setText=function(r){assertOrUndefined(r,"text",["string"]);var a=this.getMaxLength();if(a!==void 0&&r&&r.length>a)throw new ExceededMaxLengthError(r.length,a,this.getName());this.markAsDirty(),this.disableRichFormatting(),r?this.acroField.setValue(PDFHexString.fromText(r)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var r=this.acroField.getQuadding();return r===0?TextAlignment.Left:r===1?TextAlignment.Center:r===2?TextAlignment.Right:TextAlignment.Left},t.prototype.setAlignment=function(r){assertIsOneOf(r,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(r)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(r){if(assertRangeOrUndefined(r,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),r===void 0)this.acroField.removeMaxLength();else{var a=this.getText();if(a&&a.length>r)throw new InvalidMaxLengthError(a.length,r,this.getName());this.acroField.setMaxLength(r)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(r){for(var a=this.getAlignment(),s=a===TextAlignment.Center?ImageAlignment.Center:a===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,o=this.acroField.getWidgets(),l=0,u=o.length;l<u;l++){var d=o[l],f=this.createImageAppearanceStream(d,r,s);this.updateWidgetAppearances(d,{normal:f})}this.markAsClean()},t.prototype.setFontSize=function(r){assertPositive(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},t.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var r="PDFTextFields must have a max length in order to be combed";console.warn(r)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},t.prototype.addToPage=function(r,a){var s,o,l,u,d,f,g;assertIs(r,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(a),a||(a={}),"textColor"in a||(a.textColor=rgb(0,0,0)),"backgroundColor"in a||(a.backgroundColor=rgb(1,1,1)),"borderColor"in a||(a.borderColor=rgb(0,0,0)),"borderWidth"in a||(a.borderWidth=1);var x=this.createWidget({x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:(l=a.width)!==null&&l!==void 0?l:200,height:(u=a.height)!==null&&u!==void 0?u:50,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:(d=a.borderWidth)!==null&&d!==void 0?d:0,rotate:(f=a.rotate)!==null&&f!==void 0?f:degrees(0),hidden:a.hidden,page:r.ref}),b=this.doc.context.register(x.dict);this.acroField.addWidget(b);var m=(g=a.font)!==null&&g!==void 0?g:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(x,m),r.node.addAnnot(b)},t.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],u=((r=l.getAppearances())===null||r===void 0?void 0:r.normal)instanceof PDFStream;if(!u)return!0}return!1},t.prototype.defaultUpdateAppearances=function(r){assertIs(r,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(r)},t.prototype.updateAppearances=function(r,a){assertIs(r,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(a,"provider",[Function]);for(var s=this.acroField.getWidgets(),o=0,l=s.length;o<l;o++){var u=s[o];this.updateWidgetAppearance(u,r,a)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(r,a,s){var o=s??defaultTextFieldAppearanceProvider,l=normalizeAppearance(o(this,r,a));this.updateWidgetAppearanceWithFont(r,a,l)},t.of=function(r,a,s){return new t(r,a,s)},t}(PDFField),StandardFonts;(function(n){n.Courier="Courier",n.CourierBold="Courier-Bold",n.CourierOblique="Courier-Oblique",n.CourierBoldOblique="Courier-BoldOblique",n.Helvetica="Helvetica",n.HelveticaBold="Helvetica-Bold",n.HelveticaOblique="Helvetica-Oblique",n.HelveticaBoldOblique="Helvetica-BoldOblique",n.TimesRoman="Times-Roman",n.TimesRomanBold="Times-Bold",n.TimesRomanItalic="Times-Italic",n.TimesRomanBoldItalic="Times-BoldItalic",n.Symbol="Symbol",n.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function n(t,r){var a=this;this.embedDefaultFont=function(){return a.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(t,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(r,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=t,this.doc=r,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return n.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},n.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},n.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),r=[],a=0,s=t.length;a<s;a++){var o=t[a],l=o[0],u=o[1],d=convertToPDFField(l,u,this.doc);d&&r.push(d)}return r},n.prototype.getFieldMaybe=function(t){assertIs(t,"name",["string"]);for(var r=this.getFields(),a=0,s=r.length;a<s;a++){var o=r[a];if(o.getName()===t)return o}},n.prototype.getField=function(t){assertIs(t,"name",["string"]);var r=this.getFieldMaybe(t);if(r)return r;throw new NoSuchFieldError(t)},n.prototype.getButton=function(t){assertIs(t,"name",["string"]);var r=this.getField(t);if(r instanceof PDFButton$1)return r;throw new UnexpectedFieldTypeError(t,PDFButton$1,r)},n.prototype.getCheckBox=function(t){assertIs(t,"name",["string"]);var r=this.getField(t);if(r instanceof PDFCheckBox)return r;throw new UnexpectedFieldTypeError(t,PDFCheckBox,r)},n.prototype.getDropdown=function(t){assertIs(t,"name",["string"]);var r=this.getField(t);if(r instanceof PDFDropdown)return r;throw new UnexpectedFieldTypeError(t,PDFDropdown,r)},n.prototype.getOptionList=function(t){assertIs(t,"name",["string"]);var r=this.getField(t);if(r instanceof PDFOptionList)return r;throw new UnexpectedFieldTypeError(t,PDFOptionList,r)},n.prototype.getRadioGroup=function(t){assertIs(t,"name",["string"]);var r=this.getField(t);if(r instanceof PDFRadioGroup)return r;throw new UnexpectedFieldTypeError(t,PDFRadioGroup,r)},n.prototype.getSignature=function(t){assertIs(t,"name",["string"]);var r=this.getField(t);if(r instanceof PDFSignature)return r;throw new UnexpectedFieldTypeError(t,PDFSignature,r)},n.prototype.getTextField=function(t){assertIs(t,"name",["string"]);var r=this.getField(t);if(r instanceof PDFTextField)return r;throw new UnexpectedFieldTypeError(t,PDFTextField,r)},n.prototype.createButton=function(t){assertIs(t,"name",["string"]);var r=splitFieldName(t),a=this.findOrCreateNonTerminals(r.nonTerminal),s=PDFAcroPushButton.create(this.doc.context);return s.setPartialName(r.terminal),addFieldToParent(a,[s,s.ref],r.terminal),PDFButton$1.of(s,s.ref,this.doc)},n.prototype.createCheckBox=function(t){assertIs(t,"name",["string"]);var r=splitFieldName(t),a=this.findOrCreateNonTerminals(r.nonTerminal),s=PDFAcroCheckBox.create(this.doc.context);return s.setPartialName(r.terminal),addFieldToParent(a,[s,s.ref],r.terminal),PDFCheckBox.of(s,s.ref,this.doc)},n.prototype.createDropdown=function(t){assertIs(t,"name",["string"]);var r=splitFieldName(t),a=this.findOrCreateNonTerminals(r.nonTerminal),s=PDFAcroComboBox.create(this.doc.context);return s.setPartialName(r.terminal),addFieldToParent(a,[s,s.ref],r.terminal),PDFDropdown.of(s,s.ref,this.doc)},n.prototype.createOptionList=function(t){assertIs(t,"name",["string"]);var r=splitFieldName(t),a=this.findOrCreateNonTerminals(r.nonTerminal),s=PDFAcroListBox.create(this.doc.context);return s.setPartialName(r.terminal),addFieldToParent(a,[s,s.ref],r.terminal),PDFOptionList.of(s,s.ref,this.doc)},n.prototype.createRadioGroup=function(t){assertIs(t,"name",["string"]);var r=splitFieldName(t),a=this.findOrCreateNonTerminals(r.nonTerminal),s=PDFAcroRadioButton.create(this.doc.context);return s.setPartialName(r.terminal),addFieldToParent(a,[s,s.ref],r.terminal),PDFRadioGroup.of(s,s.ref,this.doc)},n.prototype.createTextField=function(t){assertIs(t,"name",["string"]);var r=splitFieldName(t),a=this.findOrCreateNonTerminals(r.nonTerminal),s=PDFAcroText.create(this.doc.context);return s.setPartialName(r.terminal),addFieldToParent(a,[s,s.ref],r.terminal),PDFTextField.of(s,s.ref,this.doc)},n.prototype.flatten=function(t){t===void 0&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var r=this.getFields(),a=0,s=r.length;a<s;a++){for(var o=r[a],l=o.acroField.getWidgets(),u=0,d=l.length;u<d;u++){var f=l[u],g=this.findWidgetPage(f),x=this.findWidgetAppearanceRef(o,f),b=g.node.newXObject("FlatWidget",x),m=f.getRectangle(),y=__spreadArrays([pushGraphicsState(),translate(m.x,m.y)],rotateInPlace(__assign(__assign({},m),{rotation:0})),[drawObject(b),popGraphicsState()]).filter(Boolean);g.pushOperators.apply(g,y)}this.removeField(o)}},n.prototype.removeField=function(t){for(var r=t.acroField.getWidgets(),a=new Set,s=0,o=r.length;s<o;s++){var l=r[s],u=this.findWidgetAppearanceRef(t,l),d=this.findWidgetPage(l);a.add(d),d.node.removeAnnot(u)}a.forEach(function(m){return m.node.removeAnnot(t.ref)}),this.acroForm.removeField(t.acroField);for(var f=t.acroField.normalizedEntries().Kids,g=f.size(),x=0;x<g;x++){var b=f.get(x);b instanceof PDFRef&&this.doc.context.delete(b)}this.doc.context.delete(t.ref)},n.prototype.updateFieldAppearances=function(t){assertOrUndefined(t,"font",[[PDFFont,"PDFFont"]]),t=t??this.getDefaultFont();for(var r=this.getFields(),a=0,s=r.length;a<s;a++){var o=r[a];o.needsAppearancesUpdate()&&o.defaultUpdateAppearances(t)}},n.prototype.markFieldAsDirty=function(t){assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(t)},n.prototype.markFieldAsClean=function(t){assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(t)},n.prototype.fieldIsDirty=function(t){return assertOrUndefined(t,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(t)},n.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},n.prototype.findWidgetPage=function(t){var r=t.P(),a=this.doc.getPages().find(function(o){return o.ref===r});if(a===void 0){var s=this.doc.context.getObjectRef(t.dict);if(s===void 0)throw new Error("Could not find PDFRef for PDFObject");if(a=this.doc.findPageForAnnotationRef(s),a===void 0)throw new Error("Could not find page for PDFRef "+s)}return a},n.prototype.findWidgetAppearanceRef=function(t,r){var a,s=r.getNormalAppearance();if(s instanceof PDFDict&&(t instanceof PDFCheckBox||t instanceof PDFRadioGroup)){var o=t.acroField.getValue(),l=(a=s.get(o))!==null&&a!==void 0?a:s.get(PDFName.of("Off"));l instanceof PDFRef&&(s=l)}if(!(s instanceof PDFRef)){var u=t.getName();throw new Error("Failed to extract appearance ref for: "+u)}return s},n.prototype.findOrCreateNonTerminals=function(t){for(var r=[this.acroForm],a=0,s=t.length;a<s;a++){var o=t[a];if(!o)throw new InvalidFieldNamePartError(o);var l=r[0],u=r[1],d=this.findNonTerminal(o,l);if(d)r=d;else{var f=PDFAcroNonTerminal.create(this.doc.context);f.setPartialName(o),f.setParent(u);var g=this.doc.context.register(f.dict);l.addField(g),r=[f,g]}}return r},n.prototype.findNonTerminal=function(t,r){for(var a=r instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(r.Kids()),s=0,o=a.length;s<o;s++){var l=a[s],u=l[0],d=l[1];if(u.getPartialName()===t){if(u instanceof PDFAcroNonTerminal)return[u,d];throw new FieldAlreadyExistsError(t)}}},n.of=function(t,r){return new n(t,r)},n}(),convertToPDFField=function(n,t,r){if(n instanceof PDFAcroPushButton)return PDFButton$1.of(n,t,r);if(n instanceof PDFAcroCheckBox)return PDFCheckBox.of(n,t,r);if(n instanceof PDFAcroComboBox)return PDFDropdown.of(n,t,r);if(n instanceof PDFAcroListBox)return PDFOptionList.of(n,t,r);if(n instanceof PDFAcroText)return PDFTextField.of(n,t,r);if(n instanceof PDFAcroRadioButton)return PDFRadioGroup.of(n,t,r);if(n instanceof PDFAcroSignature)return PDFSignature.of(n,t,r)},splitFieldName=function(n){if(n.length===0)throw new Error("PDF field names must not be empty strings");for(var t=n.split("."),r=0,a=t.length;r<a;r++)if(t[r]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+n+'"');return t.length===1?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},addFieldToParent=function(n,t,r){for(var a=n[0],s=n[1],o=t[0],l=t[1],u=a.normalizedEntries(),d=createPDFAcroFields("Kids"in u?u.Kids:u.Fields),f=0,g=d.length;f<g;f++)if(d[f][0].getPartialName()===r)throw new FieldAlreadyExistsError(r);a.addField(l),o.setParent(s)},PageSizes={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},ParseSpeeds;(function(n){n[n.Fastest=1/0]="Fastest",n[n.Fast=1500]="Fast",n[n.Medium=500]="Medium",n[n.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function n(t,r,a){this.alreadyEmbedded=!1,this.ref=t,this.doc=r,this.embedder=a}return n.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var t,r,a,s,o;return __generator(this,function(l){switch(l.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=l.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),r=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),r.has(PDFName.of("EmbeddedFiles"))||r.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),a=r.lookup(PDFName.of("EmbeddedFiles"),PDFDict),a.has(PDFName.of("Names"))||a.set(PDFName.of("Names"),this.doc.context.obj([])),s=a.lookup(PDFName.of("Names"),PDFArray),s.push(PDFHexString.fromText(this.embedder.fileName)),s.push(t),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),o=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),o.push(t),this.alreadyEmbedded=!0,l.label=2;case 2:return[2]}})})},n.of=function(t,r,a){return new n(t,r,a)},n}(),PDFJavaScript=function(){function n(t,r,a){this.alreadyEmbedded=!1,this.ref=t,this.doc=r,this.embedder=a}return n.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var t,r,a,s,o,l,u;return __generator(this,function(d){switch(d.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,r=t.catalog,a=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:s=d.sent(),r.has(PDFName.of("Names"))||r.set(PDFName.of("Names"),a.obj({})),o=r.lookup(PDFName.of("Names"),PDFDict),o.has(PDFName.of("JavaScript"))||o.set(PDFName.of("JavaScript"),a.obj({})),l=o.lookup(PDFName.of("JavaScript"),PDFDict),l.has(PDFName.of("Names"))||l.set(PDFName.of("Names"),a.obj([])),u=l.lookup(PDFName.of("Names"),PDFArray),u.push(PDFHexString.fromText(this.embedder.scriptName)),u.push(s),this.alreadyEmbedded=!0,d.label=2;case 2:return[2]}})})},n.of=function(t,r,a){return new n(t,r,a)},n}(),JavaScriptEmbedder=function(){function n(t,r){this.script=t,this.scriptName=r}return n.for=function(t,r){return new n(t,r)},n.prototype.embedIntoContext=function(t,r){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(s){return a=t.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),r?(t.assign(r,a),[2,r]):[2,t.register(a)]})})},n}(),PDFDocument=function(){function n(t,r,a){var s=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var o=[];return s.catalog.Pages().traverse(function(l,u){if(l instanceof PDFPageLeaf){var d=s.pageMap.get(l);d||(d=PDFPage.of(l,u,s),s.pageMap.set(l,d)),o.push(d)}}),o},this.getOrCreateForm=function(){var o=s.catalog.getOrCreateAcroForm();return PDFForm.of(o,s)},assertIs(t,"context",[[PDFContext,"PDFContext"]]),assertIs(r,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!r&&this.isEncrypted)throw new EncryptedPDFError;a&&this.updateInfoDict()}return n.load=function(t,r){return r===void 0&&(r={}),__awaiter(this,void 0,void 0,function(){var a,s,o,l,u,d,f,g,x,b,m,y;return __generator(this,function(v){switch(v.label){case 0:return a=r.ignoreEncryption,s=a===void 0?!1:a,o=r.parseSpeed,l=o===void 0?ParseSpeeds.Slow:o,u=r.throwOnInvalidObject,d=u===void 0?!1:u,f=r.updateMetadata,g=f===void 0?!0:f,x=r.capNumbers,b=x===void 0?!1:x,assertIs(t,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(s,"ignoreEncryption",["boolean"]),assertIs(l,"parseSpeed",["number"]),assertIs(d,"throwOnInvalidObject",["boolean"]),m=toUint8Array(t),[4,PDFParser.forBytesWithOptions(m,l,d,b).parseDocument()];case 1:return y=v.sent(),[2,new n(y,s,g)]}})})},n.create=function(t){return t===void 0&&(t={}),__awaiter(this,void 0,void 0,function(){var r,a,s,o,l,u;return __generator(this,function(d){return r=t.updateMetadata,a=r===void 0?!0:r,s=PDFContext.create(),o=PDFPageTree.withContext(s),l=s.register(o),u=PDFCatalog.withContextAndPages(s,l),s.trailerInfo.Root=s.register(u),[2,new n(s,!1,a)]})})},n.prototype.registerFontkit=function(t){this.fontkit=t},n.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},n.prototype.getTitle=function(){var t=this.getInfoDict().lookup(PDFName.Title);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},n.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(PDFName.Author);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},n.prototype.getSubject=function(){var t=this.getInfoDict().lookup(PDFName.Subject);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},n.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(PDFName.Keywords);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},n.prototype.getCreator=function(){var t=this.getInfoDict().lookup(PDFName.Creator);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},n.prototype.getProducer=function(){var t=this.getInfoDict().lookup(PDFName.Producer);if(t)return assertIsLiteralOrHexString(t),t.decodeText()},n.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(PDFName.CreationDate);if(t)return assertIsLiteralOrHexString(t),t.decodeDate()},n.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(PDFName.ModDate);if(t)return assertIsLiteralOrHexString(t),t.decodeDate()},n.prototype.setTitle=function(t,r){assertIs(t,"title",["string"]);var a=PDFName.of("Title");if(this.getInfoDict().set(a,PDFHexString.fromText(t)),r?.showInWindowTitleBar){var s=this.catalog.getOrCreateViewerPreferences();s.setDisplayDocTitle(!0)}},n.prototype.setAuthor=function(t){assertIs(t,"author",["string"]);var r=PDFName.of("Author");this.getInfoDict().set(r,PDFHexString.fromText(t))},n.prototype.setSubject=function(t){assertIs(t,"author",["string"]);var r=PDFName.of("Subject");this.getInfoDict().set(r,PDFHexString.fromText(t))},n.prototype.setKeywords=function(t){assertIs(t,"keywords",[Array]);var r=PDFName.of("Keywords");this.getInfoDict().set(r,PDFHexString.fromText(t.join(" ")))},n.prototype.setCreator=function(t){assertIs(t,"creator",["string"]);var r=PDFName.of("Creator");this.getInfoDict().set(r,PDFHexString.fromText(t))},n.prototype.setProducer=function(t){assertIs(t,"creator",["string"]);var r=PDFName.of("Producer");this.getInfoDict().set(r,PDFHexString.fromText(t))},n.prototype.setLanguage=function(t){assertIs(t,"language",["string"]);var r=PDFName.of("Lang");this.catalog.set(r,PDFString.of(t))},n.prototype.setCreationDate=function(t){assertIs(t,"creationDate",[[Date,"Date"]]);var r=PDFName.of("CreationDate");this.getInfoDict().set(r,PDFString.fromDate(t))},n.prototype.setModificationDate=function(t){assertIs(t,"modificationDate",[[Date,"Date"]]);var r=PDFName.of("ModDate");this.getInfoDict().set(r,PDFString.fromDate(t))},n.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},n.prototype.getPages=function(){return this.pageCache.access()},n.prototype.getPage=function(t){var r=this.getPages();return assertRange(t,"index",0,r.length-1),r[t]},n.prototype.getPageIndices=function(){return range(0,this.getPageCount())},n.prototype.removePage=function(t){var r=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(t,"index",0,r-1),this.catalog.removeLeafNode(t),this.pageCount=r-1},n.prototype.addPage=function(t){return assertIs(t,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},n.prototype.insertPage=function(t,r){var a=this.getPageCount();if(assertRange(t,"index",0,a),assertIs(r,"page",["undefined",[PDFPage,"PDFPage"],Array]),!r||Array.isArray(r)){var s=Array.isArray(r)?r:PageSizes.A4;r=PDFPage.create(this),r.setSize.apply(r,s)}else if(r.doc!==this)throw new ForeignPageError;var o=this.catalog.insertLeafNode(r.ref,t);return r.node.setParent(o),this.pageMap.set(r.node,r),this.pageCache.invalidate(),this.pageCount=a+1,r},n.prototype.copyPages=function(t,r){return __awaiter(this,void 0,void 0,function(){var a,s,o,l,u,d,f,g;return __generator(this,function(x){switch(x.label){case 0:return assertIs(t,"srcDoc",[[n,"PDFDocument"]]),assertIs(r,"indices",[Array]),[4,t.flush()];case 1:for(x.sent(),a=PDFObjectCopier.for(t.context,this.context),s=t.getPages(),o=new Array(r.length),l=0,u=r.length;l<u;l++)d=s[r[l]],f=a.copy(d.node),g=this.context.register(f),o[l]=PDFPage.of(f,g,this);return[2,o]}})})},n.prototype.copy=function(){return __awaiter(this,void 0,void 0,function(){var t,r,a,s;return __generator(this,function(o){switch(o.label){case 0:return[4,n.create()];case 1:return t=o.sent(),[4,t.copyPages(this,this.getPageIndices())];case 2:for(r=o.sent(),a=0,s=r.length;a<s;a++)t.addPage(r[a]);return this.getAuthor()!==void 0&&t.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&t.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&t.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&t.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&t.setProducer(this.getProducer()),this.getSubject()!==void 0&&t.setSubject(this.getSubject()),this.getTitle()!==void 0&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},n.prototype.addJavaScript=function(t,r){assertIs(t,"name",["string"]),assertIs(r,"script",["string"]);var a=JavaScriptEmbedder.for(r,t),s=this.context.nextRef(),o=PDFJavaScript.of(s,this,a);this.javaScripts.push(o)},n.prototype.attach=function(t,r,a){return a===void 0&&(a={}),__awaiter(this,void 0,void 0,function(){var s,o,l,u;return __generator(this,function(d){return assertIs(t,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(r,"name",["string"]),assertOrUndefined(a.mimeType,"mimeType",["string"]),assertOrUndefined(a.description,"description",["string"]),assertOrUndefined(a.creationDate,"options.creationDate",[Date]),assertOrUndefined(a.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(a.afRelationship,"options.afRelationship",AFRelationship),s=toUint8Array(t),o=FileEmbedder.for(s,r,a),l=this.context.nextRef(),u=PDFEmbeddedFile.of(l,this,o),this.embeddedFiles.push(u),[2]})})},n.prototype.embedFont=function(t,r){return r===void 0&&(r={}),__awaiter(this,void 0,void 0,function(){var a,s,o,l,u,d,f,g,x,b;return __generator(this,function(m){switch(m.label){case 0:return a=r.subset,s=a===void 0?!1:a,o=r.customName,l=r.features,assertIs(t,"font",["string",Uint8Array,ArrayBuffer]),assertIs(s,"subset",["boolean"]),isStandardFont(t)?(u=StandardFontEmbedder.for(t,o),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(t)?(d=toUint8Array(t),f=this.assertFontkit(),s?[4,CustomFontSubsetEmbedder.for(f,d,o,l)]:[3,3]):[3,6];case 2:return g=m.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(f,d,o,l)];case 4:g=m.sent(),m.label=5;case 5:return u=g,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return x=this.context.nextRef(),b=PDFFont.of(x,this,u),this.fonts.push(b),[2,b]}})})},n.prototype.embedStandardFont=function(t,r){if(assertIs(t,"font",["string"]),!isStandardFont(t))throw new TypeError("`font` must be one of type `StandardFonts`");var a=StandardFontEmbedder.for(t,r),s=this.context.nextRef(),o=PDFFont.of(s,this,a);return this.fonts.push(o),o},n.prototype.embedJpg=function(t){return __awaiter(this,void 0,void 0,function(){var r,a,s,o;return __generator(this,function(l){switch(l.label){case 0:return assertIs(t,"jpg",["string",Uint8Array,ArrayBuffer]),r=toUint8Array(t),[4,JpegEmbedder.for(r)];case 1:return a=l.sent(),s=this.context.nextRef(),o=PDFImage.of(s,this,a),this.images.push(o),[2,o]}})})},n.prototype.embedPng=function(t){return __awaiter(this,void 0,void 0,function(){var r,a,s,o;return __generator(this,function(l){switch(l.label){case 0:return assertIs(t,"png",["string",Uint8Array,ArrayBuffer]),r=toUint8Array(t),[4,PngEmbedder.for(r)];case 1:return a=l.sent(),s=this.context.nextRef(),o=PDFImage.of(s,this,a),this.images.push(o),[2,o]}})})},n.prototype.embedPdf=function(t,r){return r===void 0&&(r=[0]),__awaiter(this,void 0,void 0,function(){var a,s,o;return __generator(this,function(l){switch(l.label){case 0:return assertIs(t,"pdf",["string",Uint8Array,ArrayBuffer,[n,"PDFDocument"]]),assertIs(r,"indices",[Array]),t instanceof n?(s=t,[3,3]):[3,1];case 1:return[4,n.load(t)];case 2:s=l.sent(),l.label=3;case 3:return a=s,o=pluckIndices(a.getPages(),r),[2,this.embedPages(o)]}})})},n.prototype.embedPage=function(t,r,a){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(o){switch(o.label){case 0:return assertIs(t,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([t],[r],[a])];case 1:return s=o.sent()[0],[2,s]}})})},n.prototype.embedPages=function(t,r,a){return r===void 0&&(r=[]),a===void 0&&(a=[]),__awaiter(this,void 0,void 0,function(){var f,g,s,o,l,u,d,f,g,x,b,m,y,v,w;return __generator(this,function(S){switch(S.label){case 0:if(t.length===0)return[2,[]];for(f=0,g=t.length-1;f<g;f++)if(s=t[f],o=t[f+1],s.node.context!==o.node.context)throw new PageEmbeddingMismatchedContextError;l=t[0].node.context,u=l===this.context?function(C){return C}:PDFObjectCopier.for(l,this.context).copy,d=new Array(t.length),f=0,g=t.length,S.label=1;case 1:return f<g?(x=u(t[f].node),b=r[f],m=a[f],[4,PDFPageEmbedder.for(x,b,m)]):[3,4];case 2:y=S.sent(),v=this.context.nextRef(),d[f]=PDFEmbeddedPage.of(v,this,y),S.label=3;case 3:return f++,[3,1];case 4:return(w=this.embeddedPages).push.apply(w,d),[2,d]}})})},n.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}})})},n.prototype.save=function(t){return t===void 0&&(t={}),__awaiter(this,void 0,void 0,function(){var r,a,s,o,l,u,d,f,g,x;return __generator(this,function(b){switch(b.label){case 0:return r=t.useObjectStreams,a=r===void 0?!0:r,s=t.addDefaultPage,o=s===void 0?!0:s,l=t.objectsPerTick,u=l===void 0?50:l,d=t.updateFieldAppearances,f=d===void 0?!0:d,assertIs(a,"useObjectStreams",["boolean"]),assertIs(o,"addDefaultPage",["boolean"]),assertIs(u,"objectsPerTick",["number"]),assertIs(f,"updateFieldAppearances",["boolean"]),o&&this.getPageCount()===0&&this.addPage(),f&&(g=this.formCache.getValue(),g&&g.updateFieldAppearances()),[4,this.flush()];case 1:return b.sent(),x=a?PDFStreamWriter:PDFWriter,[2,x.forContext(this.context,u).serializeToBuffer()]}})})},n.prototype.saveAsBase64=function(t){return t===void 0&&(t={}),__awaiter(this,void 0,void 0,function(){var r,a,s,o,l;return __generator(this,function(u){switch(u.label){case 0:return r=t.dataUri,a=r===void 0?!1:r,s=__rest(t,["dataUri"]),assertIs(a,"dataUri",["boolean"]),[4,this.save(s)];case 1:return o=u.sent(),l=encodeToBase64(o),[2,a?"data:application/pdf;base64,"+l:l]}})})},n.prototype.findPageForAnnotationRef=function(t){for(var r=this.getPages(),a=0,s=r.length;a<s;a++){var o=r[a],l=o.node.Annots();if(l?.indexOf(t)!==void 0)return o}},n.prototype.embedAll=function(t){return __awaiter(this,void 0,void 0,function(){var r,a;return __generator(this,function(s){switch(s.label){case 0:r=0,a=t.length,s.label=1;case 1:return r<a?[4,t[r].embed()]:[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},n.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",r=new Date,a=this.getInfoDict();this.setProducer(t),this.setModificationDate(r),a.get(PDFName.of("Creator"))||this.setCreator(t),a.get(PDFName.of("CreationDate"))||this.setCreationDate(r)},n.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof PDFDict)return t;var r=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(r),r},n.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},n}();function assertIsLiteralOrHexString(n){if(!(n instanceof PDFHexString)&&!(n instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],n)}var BlendMode;(function(n){n.Normal="Normal",n.Multiply="Multiply",n.Screen="Screen",n.Overlay="Overlay",n.Darken="Darken",n.Lighten="Lighten",n.ColorDodge="ColorDodge",n.ColorBurn="ColorBurn",n.HardLight="HardLight",n.SoftLight="SoftLight",n.Difference="Difference",n.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function n(t,r,a){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(t,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(r,"ref",[[PDFRef,"PDFRef"]]),assertIs(a,"doc",[[PDFDocument,"PDFDocument"]]),this.node=t,this.ref=r,this.doc=a}return n.prototype.setRotation=function(t){var r=toDegrees(t);assertMultiple(r,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(r))},n.prototype.getRotation=function(){var t=this.node.Rotate();return degrees(t?t.asNumber():0)},n.prototype.setSize=function(t,r){assertIs(t,"width",["number"]),assertIs(r,"height",["number"]);var a=this.getMediaBox();this.setMediaBox(a.x,a.y,t,r);var s=this.getCropBox(),o=this.getBleedBox(),l=this.getTrimBox(),u=this.getArtBox(),d=this.node.CropBox(),f=this.node.BleedBox(),g=this.node.TrimBox(),x=this.node.ArtBox();d&&rectanglesAreEqual(s,a)&&this.setCropBox(a.x,a.y,t,r),f&&rectanglesAreEqual(o,a)&&this.setBleedBox(a.x,a.y,t,r),g&&rectanglesAreEqual(l,a)&&this.setTrimBox(a.x,a.y,t,r),x&&rectanglesAreEqual(u,a)&&this.setArtBox(a.x,a.y,t,r)},n.prototype.setWidth=function(t){assertIs(t,"width",["number"]),this.setSize(t,this.getSize().height)},n.prototype.setHeight=function(t){assertIs(t,"height",["number"]),this.setSize(this.getSize().width,t)},n.prototype.setMediaBox=function(t,r,a,s){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),assertIs(a,"width",["number"]),assertIs(s,"height",["number"]);var o=this.doc.context.obj([t,r,t+a,r+s]);this.node.set(PDFName.MediaBox,o)},n.prototype.setCropBox=function(t,r,a,s){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),assertIs(a,"width",["number"]),assertIs(s,"height",["number"]);var o=this.doc.context.obj([t,r,t+a,r+s]);this.node.set(PDFName.CropBox,o)},n.prototype.setBleedBox=function(t,r,a,s){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),assertIs(a,"width",["number"]),assertIs(s,"height",["number"]);var o=this.doc.context.obj([t,r,t+a,r+s]);this.node.set(PDFName.BleedBox,o)},n.prototype.setTrimBox=function(t,r,a,s){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),assertIs(a,"width",["number"]),assertIs(s,"height",["number"]);var o=this.doc.context.obj([t,r,t+a,r+s]);this.node.set(PDFName.TrimBox,o)},n.prototype.setArtBox=function(t,r,a,s){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),assertIs(a,"width",["number"]),assertIs(s,"height",["number"]);var o=this.doc.context.obj([t,r,t+a,r+s]);this.node.set(PDFName.ArtBox,o)},n.prototype.getSize=function(){var t=this.getMediaBox(),r=t.width,a=t.height;return{width:r,height:a}},n.prototype.getWidth=function(){return this.getSize().width},n.prototype.getHeight=function(){return this.getSize().height},n.prototype.getMediaBox=function(){var t=this.node.MediaBox();return t.asRectangle()},n.prototype.getCropBox=function(){var t,r=this.node.CropBox();return(t=r?.asRectangle())!==null&&t!==void 0?t:this.getMediaBox()},n.prototype.getBleedBox=function(){var t,r=this.node.BleedBox();return(t=r?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},n.prototype.getTrimBox=function(){var t,r=this.node.TrimBox();return(t=r?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},n.prototype.getArtBox=function(){var t,r=this.node.ArtBox();return(t=r?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},n.prototype.translateContent=function(t,r){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),this.node.normalize(),this.getContentStream();var a=this.createContentStream(pushGraphicsState(),translate(t,r)),s=this.doc.context.register(a),o=this.createContentStream(popGraphicsState()),l=this.doc.context.register(o);this.node.wrapContentStreams(s,l)},n.prototype.scale=function(t,r){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*r),this.scaleContent(t,r),this.scaleAnnotations(t,r)},n.prototype.scaleContent=function(t,r){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),this.node.normalize(),this.getContentStream();var a=this.createContentStream(pushGraphicsState(),scale(t,r)),s=this.doc.context.register(a),o=this.createContentStream(popGraphicsState()),l=this.doc.context.register(o);this.node.wrapContentStreams(s,l)},n.prototype.scaleAnnotations=function(t,r){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]);var a=this.node.Annots();if(a)for(var s=0;s<a.size();s++){var o=a.lookup(s);o instanceof PDFDict&&this.scaleAnnot(o,t,r)}},n.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},n.prototype.setFont=function(t){assertIs(t,"font",[[PDFFont,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},n.prototype.setFontSize=function(t){assertIs(t,"fontSize",["number"]),this.fontSize=t},n.prototype.setFontColor=function(t){assertIs(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},n.prototype.setLineHeight=function(t){assertIs(t,"lineHeight",["number"]),this.lineHeight=t},n.prototype.getPosition=function(){return{x:this.x,y:this.y}},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.moveTo=function(t,r){assertIs(t,"x",["number"]),assertIs(r,"y",["number"]),this.x=t,this.y=r},n.prototype.moveDown=function(t){assertIs(t,"yDecrease",["number"]),this.y-=t},n.prototype.moveUp=function(t){assertIs(t,"yIncrease",["number"]),this.y+=t},n.prototype.moveLeft=function(t){assertIs(t,"xDecrease",["number"]),this.x-=t},n.prototype.moveRight=function(t){assertIs(t,"xIncrease",["number"]),this.x+=t},n.prototype.pushOperators=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];assertEachIs(t,"operator",[[PDFOperator,"PDFOperator"]]);var a=this.getContentStream();a.push.apply(a,t)},n.prototype.drawText=function(t,r){var a,s,o,l,u,d,f;r===void 0&&(r={}),assertIs(t,"text",["string"]),assertOrUndefined(r.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(r.opacity,"opacity.opacity",0,1),assertOrUndefined(r.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(r.size,"options.size",["number"]),assertOrUndefined(r.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(r.x,"options.x",["number"]),assertOrUndefined(r.y,"options.y",["number"]),assertOrUndefined(r.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(r.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(r.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(r.blendMode,"options.blendMode",BlendMode);for(var g=this.setOrEmbedFont(r.font),x=g.oldFont,b=g.newFont,m=g.newFontKey,y=r.size||this.fontSize,v=r.wordBreaks||this.doc.defaultWordBreaks,w=function(U){return b.widthOfTextAtSize(U,y)},S=r.maxWidth===void 0?lineSplit(cleanText(t)):breakTextIntoLines(t,v,r.maxWidth,w),C=new Array(S.length),E=0,T=S.length;E<T;E++)C[E]=b.encodeText(S[E]);var _=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),R=this.getContentStream();R.push.apply(R,drawLinesOfText(C,{color:(a=r.color)!==null&&a!==void 0?a:this.fontColor,font:m,size:y,rotate:(s=r.rotate)!==null&&s!==void 0?s:degrees(0),xSkew:(o=r.xSkew)!==null&&o!==void 0?o:degrees(0),ySkew:(l=r.ySkew)!==null&&l!==void 0?l:degrees(0),x:(u=r.x)!==null&&u!==void 0?u:this.x,y:(d=r.y)!==null&&d!==void 0?d:this.y,lineHeight:(f=r.lineHeight)!==null&&f!==void 0?f:this.lineHeight,graphicsState:_})),r.font&&(x?this.setFont(x):this.resetFont())},n.prototype.drawImage=function(t,r){var a,s,o,l,u,d,f;r===void 0&&(r={}),assertIs(t,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(r.x,"options.x",["number"]),assertOrUndefined(r.y,"options.y",["number"]),assertOrUndefined(r.width,"options.width",["number"]),assertOrUndefined(r.height,"options.height",["number"]),assertOrUndefined(r.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(r.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(r.blendMode,"options.blendMode",BlendMode);var g=this.node.newXObject("Image",t.ref),x=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),b=this.getContentStream();b.push.apply(b,drawImage(g,{x:(a=r.x)!==null&&a!==void 0?a:this.x,y:(s=r.y)!==null&&s!==void 0?s:this.y,width:(o=r.width)!==null&&o!==void 0?o:t.size().width,height:(l=r.height)!==null&&l!==void 0?l:t.size().height,rotate:(u=r.rotate)!==null&&u!==void 0?u:degrees(0),xSkew:(d=r.xSkew)!==null&&d!==void 0?d:degrees(0),ySkew:(f=r.ySkew)!==null&&f!==void 0?f:degrees(0),graphicsState:x}))},n.prototype.drawPage=function(t,r){var a,s,o,l,u;r===void 0&&(r={}),assertIs(t,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(r.x,"options.x",["number"]),assertOrUndefined(r.y,"options.y",["number"]),assertOrUndefined(r.xScale,"options.xScale",["number"]),assertOrUndefined(r.yScale,"options.yScale",["number"]),assertOrUndefined(r.width,"options.width",["number"]),assertOrUndefined(r.height,"options.height",["number"]),assertOrUndefined(r.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(r.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(r.blendMode,"options.blendMode",BlendMode);var d=this.node.newXObject("EmbeddedPdfPage",t.ref),f=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),g=r.width!==void 0?r.width/t.width:r.xScale!==void 0?r.xScale:1,x=r.height!==void 0?r.height/t.height:r.yScale!==void 0?r.yScale:1,b=this.getContentStream();b.push.apply(b,drawPage(d,{x:(a=r.x)!==null&&a!==void 0?a:this.x,y:(s=r.y)!==null&&s!==void 0?s:this.y,xScale:g,yScale:x,rotate:(o=r.rotate)!==null&&o!==void 0?o:degrees(0),xSkew:(l=r.xSkew)!==null&&l!==void 0?l:degrees(0),ySkew:(u=r.ySkew)!==null&&u!==void 0?u:degrees(0),graphicsState:f}))},n.prototype.drawSvgPath=function(t,r){var a,s,o,l,u,d,f,g,x;r===void 0&&(r={}),assertIs(t,"path",["string"]),assertOrUndefined(r.x,"options.x",["number"]),assertOrUndefined(r.y,"options.y",["number"]),assertOrUndefined(r.scale,"options.scale",["number"]),assertOrUndefined(r.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(r.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(r.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(r.opacity,"opacity.opacity",0,1),assertOrUndefined(r.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(r.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(r.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(r.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(r.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(r.blendMode,"options.blendMode",BlendMode);var b=this.maybeEmbedGraphicsState({opacity:r.opacity,borderOpacity:r.borderOpacity,blendMode:r.blendMode});!("color"in r)&&!("borderColor"in r)&&(r.borderColor=rgb(0,0,0));var m=this.getContentStream();m.push.apply(m,drawSvgPath(t,{x:(a=r.x)!==null&&a!==void 0?a:this.x,y:(s=r.y)!==null&&s!==void 0?s:this.y,scale:r.scale,rotate:(o=r.rotate)!==null&&o!==void 0?o:degrees(0),color:(l=r.color)!==null&&l!==void 0?l:void 0,borderColor:(u=r.borderColor)!==null&&u!==void 0?u:void 0,borderWidth:(d=r.borderWidth)!==null&&d!==void 0?d:0,borderDashArray:(f=r.borderDashArray)!==null&&f!==void 0?f:void 0,borderDashPhase:(g=r.borderDashPhase)!==null&&g!==void 0?g:void 0,borderLineCap:(x=r.borderLineCap)!==null&&x!==void 0?x:void 0,graphicsState:b}))},n.prototype.drawLine=function(t){var r,a,s,o,l;assertIs(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(t.start.x,"options.start.x",["number"]),assertIs(t.start.y,"options.start.y",["number"]),assertIs(t.end.x,"options.end.x",["number"]),assertIs(t.end.y,"options.end.y",["number"]),assertOrUndefined(t.thickness,"options.thickness",["number"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertOrUndefined(t.dashArray,"options.dashArray",[Array]),assertOrUndefined(t.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(t.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var u=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=rgb(0,0,0));var d=this.getContentStream();d.push.apply(d,drawLine({start:t.start,end:t.end,thickness:(r=t.thickness)!==null&&r!==void 0?r:1,color:(a=t.color)!==null&&a!==void 0?a:void 0,dashArray:(s=t.dashArray)!==null&&s!==void 0?s:void 0,dashPhase:(o=t.dashPhase)!==null&&o!==void 0?o:void 0,lineCap:(l=t.lineCap)!==null&&l!==void 0?l:void 0,graphicsState:u}))},n.prototype.drawRectangle=function(t){var r,a,s,o,l,u,d,f,g,x,b,m,y;t===void 0&&(t={}),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.width,"options.width",["number"]),assertOrUndefined(t.height,"options.height",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(t.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(t.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(t.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(t.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(t.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var v=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=rgb(0,0,0));var w=this.getContentStream();w.push.apply(w,drawRectangle({x:(r=t.x)!==null&&r!==void 0?r:this.x,y:(a=t.y)!==null&&a!==void 0?a:this.y,width:(s=t.width)!==null&&s!==void 0?s:150,height:(o=t.height)!==null&&o!==void 0?o:100,rotate:(l=t.rotate)!==null&&l!==void 0?l:degrees(0),xSkew:(u=t.xSkew)!==null&&u!==void 0?u:degrees(0),ySkew:(d=t.ySkew)!==null&&d!==void 0?d:degrees(0),borderWidth:(f=t.borderWidth)!==null&&f!==void 0?f:0,color:(g=t.color)!==null&&g!==void 0?g:void 0,borderColor:(x=t.borderColor)!==null&&x!==void 0?x:void 0,borderDashArray:(b=t.borderDashArray)!==null&&b!==void 0?b:void 0,borderDashPhase:(m=t.borderDashPhase)!==null&&m!==void 0?m:void 0,graphicsState:v,borderLineCap:(y=t.borderLineCap)!==null&&y!==void 0?y:void 0}))},n.prototype.drawSquare=function(t){t===void 0&&(t={});var r=t.size;assertOrUndefined(r,"size",["number"]),this.drawRectangle(__assign(__assign({},t),{width:r,height:r}))},n.prototype.drawEllipse=function(t){var r,a,s,o,l,u,d,f,g,x,b;t===void 0&&(t={}),assertOrUndefined(t.x,"options.x",["number"]),assertOrUndefined(t.y,"options.y",["number"]),assertOrUndefined(t.xScale,"options.xScale",["number"]),assertOrUndefined(t.yScale,"options.yScale",["number"]),assertOrUndefined(t.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(t.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(t.opacity,"opacity.opacity",0,1),assertOrUndefined(t.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(t.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(t.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(t.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(t.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(t.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(t.blendMode,"options.blendMode",BlendMode);var m=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=rgb(0,0,0));var y=this.getContentStream();y.push.apply(y,drawEllipse({x:(r=t.x)!==null&&r!==void 0?r:this.x,y:(a=t.y)!==null&&a!==void 0?a:this.y,xScale:(s=t.xScale)!==null&&s!==void 0?s:100,yScale:(o=t.yScale)!==null&&o!==void 0?o:100,rotate:(l=t.rotate)!==null&&l!==void 0?l:void 0,color:(u=t.color)!==null&&u!==void 0?u:void 0,borderColor:(d=t.borderColor)!==null&&d!==void 0?d:void 0,borderWidth:(f=t.borderWidth)!==null&&f!==void 0?f:0,borderDashArray:(g=t.borderDashArray)!==null&&g!==void 0?g:void 0,borderDashPhase:(x=t.borderDashPhase)!==null&&x!==void 0?x:void 0,borderLineCap:(b=t.borderLineCap)!==null&&b!==void 0?b:void 0,graphicsState:m}))},n.prototype.drawCircle=function(t){t===void 0&&(t={});var r=t.size,a=r===void 0?100:r;assertOrUndefined(a,"size",["number"]),this.drawEllipse(__assign(__assign({},t),{xScale:a,yScale:a}))},n.prototype.setOrEmbedFont=function(t){var r=this.font,a=this.fontKey;t?this.setFont(t):this.getFont();var s=this.font,o=this.fontKey;return{oldFont:r,oldFontKey:a,newFont:s,newFontKey:o}},n.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},n.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},n.prototype.getContentStream=function(t){return t===void 0&&(t=!0),t&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},n.prototype.createContentStream=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=this.doc.context.obj({}),s=PDFContentStream.of(a,t);return s},n.prototype.maybeEmbedGraphicsState=function(t){var r=t.opacity,a=t.borderOpacity,s=t.blendMode;if(!(r===void 0&&a===void 0&&s===void 0)){var o=this.doc.context.obj({Type:"ExtGState",ca:r,CA:a,BM:s}),l=this.node.newExtGState("GS",o);return l}},n.prototype.scaleAnnot=function(t,r,a){for(var s=["RD","CL","Vertices","QuadPoints","L","Rect"],o=0,l=s.length;o<l;o++){var u=t.lookup(PDFName.of(s[o]));u instanceof PDFArray&&u.scalePDFNumbers(r,a)}var d=t.lookup(PDFName.of("InkList"));if(d instanceof PDFArray)for(var o=0,l=d.size();o<l;o++){var f=d.lookup(o);f instanceof PDFArray&&f.scalePDFNumbers(r,a)}},n.of=function(t,r,a){return new n(t,r,a)},n.create=function(t){assertIs(t,"doc",[[PDFDocument,"PDFDocument"]]);var r=PDFRef.of(-1),a=PDFPageLeaf.withContextAndParent(t.context,r),s=t.context.register(a);return new n(a,s,t)},n}(),PDFButton=function(n){__extends(t,n);function t(r,a,s){var o=n.call(this,r,a,s)||this;return assertIs(r,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),o.acroField=r,o}return t.prototype.setImage=function(r,a){a===void 0&&(a=ImageAlignment.Center);for(var s=this.acroField.getWidgets(),o=0,l=s.length;o<l;o++){var u=s[o],d=this.createImageAppearanceStream(u,r,a);this.updateWidgetAppearances(u,{normal:d})}this.markAsClean()},t.prototype.setFontSize=function(r){assertPositive(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},t.prototype.addToPage=function(r,a,s){var o,l,u,d,f,g,x,b,m,y,v;assertOrUndefined(r,"text",["string"]),assertOrUndefined(a,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(s);var w=this.createWidget({x:((o=s?.x)!==null&&o!==void 0?o:0)-((l=s?.borderWidth)!==null&&l!==void 0?l:0)/2,y:((u=s?.y)!==null&&u!==void 0?u:0)-((d=s?.borderWidth)!==null&&d!==void 0?d:0)/2,width:(f=s?.width)!==null&&f!==void 0?f:100,height:(g=s?.height)!==null&&g!==void 0?g:50,textColor:(x=s?.textColor)!==null&&x!==void 0?x:rgb(0,0,0),backgroundColor:(b=s?.backgroundColor)!==null&&b!==void 0?b:rgb(.75,.75,.75),borderColor:s?.borderColor,borderWidth:(m=s?.borderWidth)!==null&&m!==void 0?m:0,rotate:(y=s?.rotate)!==null&&y!==void 0?y:degrees(0),caption:r,hidden:s?.hidden,page:a.ref}),S=this.doc.context.register(w.dict);this.acroField.addWidget(S);var C=(v=s?.font)!==null&&v!==void 0?v:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(w,C),a.node.addAnnot(S)},t.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var a=this.acroField.getWidgets(),s=0,o=a.length;s<o;s++){var l=a[s],u=((r=l.getAppearances())===null||r===void 0?void 0:r.normal)instanceof PDFStream;if(!u)return!0}return!1},t.prototype.defaultUpdateAppearances=function(r){assertIs(r,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(r)},t.prototype.updateAppearances=function(r,a){assertIs(r,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(a,"provider",[Function]);for(var s=this.acroField.getWidgets(),o=0,l=s.length;o<l;o++){var u=s[o];this.updateWidgetAppearance(u,r,a)}},t.prototype.updateWidgetAppearance=function(r,a,s){var o=s??defaultButtonAppearanceProvider,l=normalizeAppearance(o(this,r,a));this.updateWidgetAppearanceWithFont(r,a,l)},t.of=function(r,a,s){return new t(r,a,s)},t}(PDFField);const PDFButton$1=PDFButton;var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=n.indexOf("=");r===-1&&(r=t);var a=r===t?0:4-r%4;return[r,a]}function byteLength(n){var t=getLens(n),r=t[0],a=t[1];return(r+a)*3/4-a}function _byteLength(n,t,r){return(t+r)*3/4-r}function toByteArray(n){var t,r=getLens(n),a=r[0],s=r[1],o=new Arr(_byteLength(n,a,s)),l=0,u=s>0?a-4:a,d;for(d=0;d<u;d+=4)t=revLookup[n.charCodeAt(d)]<<18|revLookup[n.charCodeAt(d+1)]<<12|revLookup[n.charCodeAt(d+2)]<<6|revLookup[n.charCodeAt(d+3)],o[l++]=t>>16&255,o[l++]=t>>8&255,o[l++]=t&255;return s===2&&(t=revLookup[n.charCodeAt(d)]<<2|revLookup[n.charCodeAt(d+1)]>>4,o[l++]=t&255),s===1&&(t=revLookup[n.charCodeAt(d)]<<10|revLookup[n.charCodeAt(d+1)]<<4|revLookup[n.charCodeAt(d+2)]>>2,o[l++]=t>>8&255,o[l++]=t&255),o}function tripletToBase64(n){return lookup[n>>18&63]+lookup[n>>12&63]+lookup[n>>6&63]+lookup[n&63]}function encodeChunk(n,t,r){for(var a,s=[],o=t;o<r;o+=3)a=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),s.push(tripletToBase64(a));return s.join("")}function fromByteArray(n){for(var t,r=n.length,a=r%3,s=[],o=16383,l=0,u=r-a;l<u;l+=o)s.push(encodeChunk(n,l,l+o>u?u:l+o));return a===1?(t=n[r-1],s.push(lookup[t>>2]+lookup[t<<4&63]+"==")):a===2&&(t=(n[r-2]<<8)+n[r-1],s.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),s.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(n,t,r,a,s){var o,l,u=s*8-a-1,d=(1<<u)-1,f=d>>1,g=-7,x=r?s-1:0,b=r?-1:1,m=n[t+x];for(x+=b,o=m&(1<<-g)-1,m>>=-g,g+=u;g>0;o=o*256+n[t+x],x+=b,g-=8);for(l=o&(1<<-g)-1,o>>=-g,g+=a;g>0;l=l*256+n[t+x],x+=b,g-=8);if(o===0)o=1-f;else{if(o===d)return l?NaN:(m?-1:1)*(1/0);l=l+Math.pow(2,a),o=o-f}return(m?-1:1)*l*Math.pow(2,o-a)};ieee754.write=function(n,t,r,a,s,o){var l,u,d,f=o*8-s-1,g=(1<<f)-1,x=g>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:o-1,y=a?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=g):(l=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+x>=1?t+=b/d:t+=b*Math.pow(2,1-x),t*d>=2&&(l++,d/=2),l+x>=g?(u=0,l=g):l+x>=1?(u=(t*d-1)*Math.pow(2,s),l=l+x):(u=t*Math.pow(2,x-1)*Math.pow(2,s),l=0));s>=8;n[r+m]=u&255,m+=y,u/=256,s-=8);for(l=l<<s|u,f+=s;f>0;n[r+m]=l&255,m+=y,l/=256,f-=8);n[r+m-y]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=base64Js,r=ieee754,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=C,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const K=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(K,L),K.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(K){if(K>s)throw new RangeError('The value "'+K+'" is invalid for option "size"');const L=new Uint8Array(K);return Object.setPrototypeOf(L,u.prototype),L}function u(K,L,G){if(typeof K=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(K)}return d(K,L,G)}u.poolSize=8192;function d(K,L,G){if(typeof K=="string")return b(K,L);if(ArrayBuffer.isView(K))return y(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ee(K,ArrayBuffer)||K&&ee(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(K,SharedArrayBuffer)||K&&ee(K.buffer,SharedArrayBuffer)))return v(K,L,G);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=K.valueOf&&K.valueOf();if(ae!=null&&ae!==K)return u.from(ae,L,G);const me=w(K);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return u.from(K[Symbol.toPrimitive]("string"),L,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}u.from=function(K,L,G){return d(K,L,G)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function f(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function g(K,L,G){return f(K),K<=0?l(K):L!==void 0?typeof G=="string"?l(K).fill(L,G):l(K).fill(L):l(K)}u.alloc=function(K,L,G){return g(K,L,G)};function x(K){return f(K),l(K<0?0:S(K)|0)}u.allocUnsafe=function(K){return x(K)},u.allocUnsafeSlow=function(K){return x(K)};function b(K,L){if((typeof L!="string"||L==="")&&(L="utf8"),!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const G=E(K,L)|0;let ae=l(G);const me=ae.write(K,L);return me!==G&&(ae=ae.slice(0,me)),ae}function m(K){const L=K.length<0?0:S(K.length)|0,G=l(L);for(let ae=0;ae<L;ae+=1)G[ae]=K[ae]&255;return G}function y(K){if(ee(K,Uint8Array)){const L=new Uint8Array(K);return v(L.buffer,L.byteOffset,L.byteLength)}return m(K)}function v(K,L,G){if(L<0||K.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<L+(G||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return L===void 0&&G===void 0?ae=new Uint8Array(K):G===void 0?ae=new Uint8Array(K,L):ae=new Uint8Array(K,L,G),Object.setPrototypeOf(ae,u.prototype),ae}function w(K){if(u.isBuffer(K)){const L=S(K.length)|0,G=l(L);return G.length===0||K.copy(G,0,0,L),G}if(K.length!==void 0)return typeof K.length!="number"||le(K.length)?l(0):m(K);if(K.type==="Buffer"&&Array.isArray(K.data))return m(K.data)}function S(K){if(K>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return K|0}function C(K){return+K!=K&&(K=0),u.alloc(+K)}u.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==u.prototype},u.compare=function(L,G){if(ee(L,Uint8Array)&&(L=u.from(L,L.offset,L.byteLength)),ee(G,Uint8Array)&&(G=u.from(G,G.offset,G.byteLength)),!u.isBuffer(L)||!u.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===G)return 0;let ae=L.length,me=G.length;for(let Se=0,Ce=Math.min(ae,me);Se<Ce;++Se)if(L[Se]!==G[Se]){ae=L[Se],me=G[Se];break}return ae<me?-1:me<ae?1:0},u.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(L,G){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return u.alloc(0);let ae;if(G===void 0)for(G=0,ae=0;ae<L.length;++ae)G+=L[ae].length;const me=u.allocUnsafe(G);let Se=0;for(ae=0;ae<L.length;++ae){let Ce=L[ae];if(ee(Ce,Uint8Array))Se+Ce.length>me.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(me,Se)):Uint8Array.prototype.set.call(me,Ce,Se);else if(u.isBuffer(Ce))Ce.copy(me,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=Ce.length}return me};function E(K,L){if(u.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ee(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const G=K.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&G===0)return 0;let me=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return J(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return ie(K).length;default:if(me)return ae?-1:J(K).length;L=(""+L).toLowerCase(),me=!0}}u.byteLength=E;function T(K,L,G){let ae=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,L>>>=0,G<=L))return"";for(K||(K="utf8");;)switch(K){case"hex":return ye(this,L,G);case"utf8":case"utf-8":return ue(this,L,G);case"ascii":return he(this,L,G);case"latin1":case"binary":return xe(this,L,G);case"base64":return oe(this,L,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,L,G);default:if(ae)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),ae=!0}}u.prototype._isBuffer=!0;function _(K,L,G){const ae=K[L];K[L]=K[G],K[G]=ae}u.prototype.swap16=function(){const L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<L;G+=2)_(this,G,G+1);return this},u.prototype.swap32=function(){const L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<L;G+=4)_(this,G,G+3),_(this,G+1,G+2);return this},u.prototype.swap64=function(){const L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<L;G+=8)_(this,G,G+7),_(this,G+1,G+6),_(this,G+2,G+5),_(this,G+3,G+4);return this},u.prototype.toString=function(){const L=this.length;return L===0?"":arguments.length===0?ue(this,0,L):T.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(L){if(!u.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:u.compare(this,L)===0},u.prototype.inspect=function(){let L="";const G=n.INSPECT_MAX_BYTES;return L=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(L+=" ... "),"<Buffer "+L+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(L,G,ae,me,Se){if(ee(L,Uint8Array)&&(L=u.from(L,L.offset,L.byteLength)),!u.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(G===void 0&&(G=0),ae===void 0&&(ae=L?L.length:0),me===void 0&&(me=0),Se===void 0&&(Se=this.length),G<0||ae>L.length||me<0||Se>this.length)throw new RangeError("out of range index");if(me>=Se&&G>=ae)return 0;if(me>=Se)return-1;if(G>=ae)return 1;if(G>>>=0,ae>>>=0,me>>>=0,Se>>>=0,this===L)return 0;let Ce=Se-me,Ie=ae-G;const ve=Math.min(Ce,Ie),ke=this.slice(me,Se),Ee=L.slice(G,ae);for(let Pe=0;Pe<ve;++Pe)if(ke[Pe]!==Ee[Pe]){Ce=ke[Pe],Ie=Ee[Pe];break}return Ce<Ie?-1:Ie<Ce?1:0};function R(K,L,G,ae,me){if(K.length===0)return-1;if(typeof G=="string"?(ae=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,le(G)&&(G=me?0:K.length-1),G<0&&(G=K.length+G),G>=K.length){if(me)return-1;G=K.length-1}else if(G<0)if(me)G=0;else return-1;if(typeof L=="string"&&(L=u.from(L,ae)),u.isBuffer(L))return L.length===0?-1:U(K,L,G,ae,me);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call(K,L,G):Uint8Array.prototype.lastIndexOf.call(K,L,G):U(K,[L],G,ae,me);throw new TypeError("val must be string, number or Buffer")}function U(K,L,G,ae,me){let Se=1,Ce=K.length,Ie=L.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(K.length<2||L.length<2)return-1;Se=2,Ce/=2,Ie/=2,G/=2}function ve(Ee,Pe){return Se===1?Ee[Pe]:Ee.readUInt16BE(Pe*Se)}let ke;if(me){let Ee=-1;for(ke=G;ke<Ce;ke++)if(ve(K,ke)===ve(L,Ee===-1?0:ke-Ee)){if(Ee===-1&&(Ee=ke),ke-Ee+1===Ie)return Ee*Se}else Ee!==-1&&(ke-=ke-Ee),Ee=-1}else for(G+Ie>Ce&&(G=Ce-Ie),ke=G;ke>=0;ke--){let Ee=!0;for(let Pe=0;Pe<Ie;Pe++)if(ve(K,ke+Pe)!==ve(L,Pe)){Ee=!1;break}if(Ee)return ke}return-1}u.prototype.includes=function(L,G,ae){return this.indexOf(L,G,ae)!==-1},u.prototype.indexOf=function(L,G,ae){return R(this,L,G,ae,!0)},u.prototype.lastIndexOf=function(L,G,ae){return R(this,L,G,ae,!1)};function z(K,L,G,ae){G=Number(G)||0;const me=K.length-G;ae?(ae=Number(ae),ae>me&&(ae=me)):ae=me;const Se=L.length;ae>Se/2&&(ae=Se/2);let Ce;for(Ce=0;Ce<ae;++Ce){const Ie=parseInt(L.substr(Ce*2,2),16);if(le(Ie))return Ce;K[G+Ce]=Ie}return Ce}function X(K,L,G,ae){return ne(J(L,K.length-G),K,G,ae)}function W(K,L,G,ae){return ne(Q(L),K,G,ae)}function Y(K,L,G,ae){return ne(ie(L),K,G,ae)}function se(K,L,G,ae){return ne(re(L,K.length-G),K,G,ae)}u.prototype.write=function(L,G,ae,me){if(G===void 0)me="utf8",ae=this.length,G=0;else if(ae===void 0&&typeof G=="string")me=G,ae=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(ae)?(ae=ae>>>0,me===void 0&&(me="utf8")):(me=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-G;if((ae===void 0||ae>Se)&&(ae=Se),L.length>0&&(ae<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let Ce=!1;for(;;)switch(me){case"hex":return z(this,L,G,ae);case"utf8":case"utf-8":return X(this,L,G,ae);case"ascii":case"latin1":case"binary":return W(this,L,G,ae);case"base64":return Y(this,L,G,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,L,G,ae);default:if(Ce)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(K,L,G){return L===0&&G===K.length?t.fromByteArray(K):t.fromByteArray(K.slice(L,G))}function ue(K,L,G){G=Math.min(K.length,G);const ae=[];let me=L;for(;me<G;){const Se=K[me];let Ce=null,Ie=Se>239?4:Se>223?3:Se>191?2:1;if(me+Ie<=G){let ve,ke,Ee,Pe;switch(Ie){case 1:Se<128&&(Ce=Se);break;case 2:ve=K[me+1],(ve&192)===128&&(Pe=(Se&31)<<6|ve&63,Pe>127&&(Ce=Pe));break;case 3:ve=K[me+1],ke=K[me+2],(ve&192)===128&&(ke&192)===128&&(Pe=(Se&15)<<12|(ve&63)<<6|ke&63,Pe>2047&&(Pe<55296||Pe>57343)&&(Ce=Pe));break;case 4:ve=K[me+1],ke=K[me+2],Ee=K[me+3],(ve&192)===128&&(ke&192)===128&&(Ee&192)===128&&(Pe=(Se&15)<<18|(ve&63)<<12|(ke&63)<<6|Ee&63,Pe>65535&&Pe<1114112&&(Ce=Pe))}}Ce===null?(Ce=65533,Ie=1):Ce>65535&&(Ce-=65536,ae.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),ae.push(Ce),me+=Ie}return te(ae)}const Z=4096;function te(K){const L=K.length;if(L<=Z)return String.fromCharCode.apply(String,K);let G="",ae=0;for(;ae<L;)G+=String.fromCharCode.apply(String,K.slice(ae,ae+=Z));return G}function he(K,L,G){let ae="";G=Math.min(K.length,G);for(let me=L;me<G;++me)ae+=String.fromCharCode(K[me]&127);return ae}function xe(K,L,G){let ae="";G=Math.min(K.length,G);for(let me=L;me<G;++me)ae+=String.fromCharCode(K[me]);return ae}function ye(K,L,G){const ae=K.length;(!L||L<0)&&(L=0),(!G||G<0||G>ae)&&(G=ae);let me="";for(let Se=L;Se<G;++Se)me+=be[K[Se]];return me}function Ae(K,L,G){const ae=K.slice(L,G);let me="";for(let Se=0;Se<ae.length-1;Se+=2)me+=String.fromCharCode(ae[Se]+ae[Se+1]*256);return me}u.prototype.slice=function(L,G){const ae=this.length;L=~~L,G=G===void 0?ae:~~G,L<0?(L+=ae,L<0&&(L=0)):L>ae&&(L=ae),G<0?(G+=ae,G<0&&(G=0)):G>ae&&(G=ae),G<L&&(G=L);const me=this.subarray(L,G);return Object.setPrototypeOf(me,u.prototype),me};function we(K,L,G){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+L>G)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(L,G,ae){L=L>>>0,G=G>>>0,ae||we(L,G,this.length);let me=this[L],Se=1,Ce=0;for(;++Ce<G&&(Se*=256);)me+=this[L+Ce]*Se;return me},u.prototype.readUintBE=u.prototype.readUIntBE=function(L,G,ae){L=L>>>0,G=G>>>0,ae||we(L,G,this.length);let me=this[L+--G],Se=1;for(;G>0&&(Se*=256);)me+=this[L+--G]*Se;return me},u.prototype.readUint8=u.prototype.readUInt8=function(L,G){return L=L>>>0,G||we(L,1,this.length),this[L]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(L,G){return L=L>>>0,G||we(L,2,this.length),this[L]|this[L+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(L,G){return L=L>>>0,G||we(L,2,this.length),this[L]<<8|this[L+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(L,G){return L=L>>>0,G||we(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(L,G){return L=L>>>0,G||we(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},u.prototype.readBigUInt64LE=fe(function(L){L=L>>>0,N(L,"offset");const G=this[L],ae=this[L+7];(G===void 0||ae===void 0)&&H(L,this.length-8);const me=G+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24,Se=this[++L]+this[++L]*2**8+this[++L]*2**16+ae*2**24;return BigInt(me)+(BigInt(Se)<<BigInt(32))}),u.prototype.readBigUInt64BE=fe(function(L){L=L>>>0,N(L,"offset");const G=this[L],ae=this[L+7];(G===void 0||ae===void 0)&&H(L,this.length-8);const me=G*2**24+this[++L]*2**16+this[++L]*2**8+this[++L],Se=this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ae;return(BigInt(me)<<BigInt(32))+BigInt(Se)}),u.prototype.readIntLE=function(L,G,ae){L=L>>>0,G=G>>>0,ae||we(L,G,this.length);let me=this[L],Se=1,Ce=0;for(;++Ce<G&&(Se*=256);)me+=this[L+Ce]*Se;return Se*=128,me>=Se&&(me-=Math.pow(2,8*G)),me},u.prototype.readIntBE=function(L,G,ae){L=L>>>0,G=G>>>0,ae||we(L,G,this.length);let me=G,Se=1,Ce=this[L+--me];for(;me>0&&(Se*=256);)Ce+=this[L+--me]*Se;return Se*=128,Ce>=Se&&(Ce-=Math.pow(2,8*G)),Ce},u.prototype.readInt8=function(L,G){return L=L>>>0,G||we(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},u.prototype.readInt16LE=function(L,G){L=L>>>0,G||we(L,2,this.length);const ae=this[L]|this[L+1]<<8;return ae&32768?ae|4294901760:ae},u.prototype.readInt16BE=function(L,G){L=L>>>0,G||we(L,2,this.length);const ae=this[L+1]|this[L]<<8;return ae&32768?ae|4294901760:ae},u.prototype.readInt32LE=function(L,G){return L=L>>>0,G||we(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},u.prototype.readInt32BE=function(L,G){return L=L>>>0,G||we(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},u.prototype.readBigInt64LE=fe(function(L){L=L>>>0,N(L,"offset");const G=this[L],ae=this[L+7];(G===void 0||ae===void 0)&&H(L,this.length-8);const me=this[L+4]+this[L+5]*2**8+this[L+6]*2**16+(ae<<24);return(BigInt(me)<<BigInt(32))+BigInt(G+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24)}),u.prototype.readBigInt64BE=fe(function(L){L=L>>>0,N(L,"offset");const G=this[L],ae=this[L+7];(G===void 0||ae===void 0)&&H(L,this.length-8);const me=(G<<24)+this[++L]*2**16+this[++L]*2**8+this[++L];return(BigInt(me)<<BigInt(32))+BigInt(this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ae)}),u.prototype.readFloatLE=function(L,G){return L=L>>>0,G||we(L,4,this.length),r.read(this,L,!0,23,4)},u.prototype.readFloatBE=function(L,G){return L=L>>>0,G||we(L,4,this.length),r.read(this,L,!1,23,4)},u.prototype.readDoubleLE=function(L,G){return L=L>>>0,G||we(L,8,this.length),r.read(this,L,!0,52,8)},u.prototype.readDoubleBE=function(L,G){return L=L>>>0,G||we(L,8,this.length),r.read(this,L,!1,52,8)};function pe(K,L,G,ae,me,Se){if(!u.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>me||L<Se)throw new RangeError('"value" argument is out of bounds');if(G+ae>K.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(L,G,ae,me){if(L=+L,G=G>>>0,ae=ae>>>0,!me){const Ie=Math.pow(2,8*ae)-1;pe(this,L,G,ae,Ie,0)}let Se=1,Ce=0;for(this[G]=L&255;++Ce<ae&&(Se*=256);)this[G+Ce]=L/Se&255;return G+ae},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(L,G,ae,me){if(L=+L,G=G>>>0,ae=ae>>>0,!me){const Ie=Math.pow(2,8*ae)-1;pe(this,L,G,ae,Ie,0)}let Se=ae-1,Ce=1;for(this[G+Se]=L&255;--Se>=0&&(Ce*=256);)this[G+Se]=L/Ce&255;return G+ae},u.prototype.writeUint8=u.prototype.writeUInt8=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,1,255,0),this[G]=L&255,G+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,2,65535,0),this[G]=L&255,this[G+1]=L>>>8,G+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,2,65535,0),this[G]=L>>>8,this[G+1]=L&255,G+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,4,4294967295,0),this[G+3]=L>>>24,this[G+2]=L>>>16,this[G+1]=L>>>8,this[G]=L&255,G+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,4,4294967295,0),this[G]=L>>>24,this[G+1]=L>>>16,this[G+2]=L>>>8,this[G+3]=L&255,G+4};function Te(K,L,G,ae,me){D(L,ae,me,K,G,7);let Se=Number(L&BigInt(4294967295));K[G++]=Se,Se=Se>>8,K[G++]=Se,Se=Se>>8,K[G++]=Se,Se=Se>>8,K[G++]=Se;let Ce=Number(L>>BigInt(32)&BigInt(4294967295));return K[G++]=Ce,Ce=Ce>>8,K[G++]=Ce,Ce=Ce>>8,K[G++]=Ce,Ce=Ce>>8,K[G++]=Ce,G}function ge(K,L,G,ae,me){D(L,ae,me,K,G,7);let Se=Number(L&BigInt(4294967295));K[G+7]=Se,Se=Se>>8,K[G+6]=Se,Se=Se>>8,K[G+5]=Se,Se=Se>>8,K[G+4]=Se;let Ce=Number(L>>BigInt(32)&BigInt(4294967295));return K[G+3]=Ce,Ce=Ce>>8,K[G+2]=Ce,Ce=Ce>>8,K[G+1]=Ce,Ce=Ce>>8,K[G]=Ce,G+8}u.prototype.writeBigUInt64LE=fe(function(L,G=0){return Te(this,L,G,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=fe(function(L,G=0){return ge(this,L,G,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(L,G,ae,me){if(L=+L,G=G>>>0,!me){const ve=Math.pow(2,8*ae-1);pe(this,L,G,ae,ve-1,-ve)}let Se=0,Ce=1,Ie=0;for(this[G]=L&255;++Se<ae&&(Ce*=256);)L<0&&Ie===0&&this[G+Se-1]!==0&&(Ie=1),this[G+Se]=(L/Ce>>0)-Ie&255;return G+ae},u.prototype.writeIntBE=function(L,G,ae,me){if(L=+L,G=G>>>0,!me){const ve=Math.pow(2,8*ae-1);pe(this,L,G,ae,ve-1,-ve)}let Se=ae-1,Ce=1,Ie=0;for(this[G+Se]=L&255;--Se>=0&&(Ce*=256);)L<0&&Ie===0&&this[G+Se+1]!==0&&(Ie=1),this[G+Se]=(L/Ce>>0)-Ie&255;return G+ae},u.prototype.writeInt8=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,1,127,-128),L<0&&(L=255+L+1),this[G]=L&255,G+1},u.prototype.writeInt16LE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,2,32767,-32768),this[G]=L&255,this[G+1]=L>>>8,G+2},u.prototype.writeInt16BE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,2,32767,-32768),this[G]=L>>>8,this[G+1]=L&255,G+2},u.prototype.writeInt32LE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,4,2147483647,-2147483648),this[G]=L&255,this[G+1]=L>>>8,this[G+2]=L>>>16,this[G+3]=L>>>24,G+4},u.prototype.writeInt32BE=function(L,G,ae){return L=+L,G=G>>>0,ae||pe(this,L,G,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[G]=L>>>24,this[G+1]=L>>>16,this[G+2]=L>>>8,this[G+3]=L&255,G+4},u.prototype.writeBigInt64LE=fe(function(L,G=0){return Te(this,L,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=fe(function(L,G=0){return ge(this,L,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(K,L,G,ae,me,Se){if(G+ae>K.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function ce(K,L,G,ae,me){return L=+L,G=G>>>0,me||de(K,L,G,4),r.write(K,L,G,ae,23,4),G+4}u.prototype.writeFloatLE=function(L,G,ae){return ce(this,L,G,!0,ae)},u.prototype.writeFloatBE=function(L,G,ae){return ce(this,L,G,!1,ae)};function M(K,L,G,ae,me){return L=+L,G=G>>>0,me||de(K,L,G,8),r.write(K,L,G,ae,52,8),G+8}u.prototype.writeDoubleLE=function(L,G,ae){return M(this,L,G,!0,ae)},u.prototype.writeDoubleBE=function(L,G,ae){return M(this,L,G,!1,ae)},u.prototype.copy=function(L,G,ae,me){if(!u.isBuffer(L))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!me&&me!==0&&(me=this.length),G>=L.length&&(G=L.length),G||(G=0),me>0&&me<ae&&(me=ae),me===ae||L.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),L.length-G<me-ae&&(me=L.length-G+ae);const Se=me-ae;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,ae,me):Uint8Array.prototype.set.call(L,this.subarray(ae,me),G),Se},u.prototype.fill=function(L,G,ae,me){if(typeof L=="string"){if(typeof G=="string"?(me=G,G=0,ae=this.length):typeof ae=="string"&&(me=ae,ae=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!u.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(L.length===1){const Ce=L.charCodeAt(0);(me==="utf8"&&Ce<128||me==="latin1")&&(L=Ce)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(G<0||this.length<G||this.length<ae)throw new RangeError("Out of range index");if(ae<=G)return this;G=G>>>0,ae=ae===void 0?this.length:ae>>>0,L||(L=0);let Se;if(typeof L=="number")for(Se=G;Se<ae;++Se)this[Se]=L;else{const Ce=u.isBuffer(L)?L:u.from(L,me),Ie=Ce.length;if(Ie===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(Se=0;Se<ae-G;++Se)this[Se+G]=Ce[Se%Ie]}return this};const j={};function k(K,L,G){j[K]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}k("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(K,L){return`The "${K}" argument must be of type number. Received type ${typeof L}`},TypeError),k("ERR_OUT_OF_RANGE",function(K,L,G){let ae=`The value of "${K}" is out of range.`,me=G;return Number.isInteger(G)&&Math.abs(G)>2**32?me=F(String(G)):typeof G=="bigint"&&(me=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(me=F(me)),me+="n"),ae+=` It must be ${L}. Received ${me}`,ae},RangeError);function F(K){let L="",G=K.length;const ae=K[0]==="-"?1:0;for(;G>=ae+4;G-=3)L=`_${K.slice(G-3,G)}${L}`;return`${K.slice(0,G)}${L}`}function O(K,L,G){N(L,"offset"),(K[L]===void 0||K[L+G]===void 0)&&H(L,K.length-(G+1))}function D(K,L,G,ae,me,Se){if(K>G||K<L){const Ce=typeof L=="bigint"?"n":"";let Ie;throw Se>3?L===0||L===BigInt(0)?Ie=`>= 0${Ce} and < 2${Ce} ** ${(Se+1)*8}${Ce}`:Ie=`>= -(2${Ce} ** ${(Se+1)*8-1}${Ce}) and < 2 ** ${(Se+1)*8-1}${Ce}`:Ie=`>= ${L}${Ce} and <= ${G}${Ce}`,new j.ERR_OUT_OF_RANGE("value",Ie,K)}O(ae,me,Se)}function N(K,L){if(typeof K!="number")throw new j.ERR_INVALID_ARG_TYPE(L,"number",K)}function H(K,L,G){throw Math.floor(K)!==K?(N(K,G),new j.ERR_OUT_OF_RANGE(G||"offset","an integer",K)):L<0?new j.ERR_BUFFER_OUT_OF_BOUNDS:new j.ERR_OUT_OF_RANGE(G||"offset",`>= ${G?1:0} and <= ${L}`,K)}const V=/[^+/0-9A-Za-z-_]/g;function $(K){if(K=K.split("=")[0],K=K.trim().replace(V,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function J(K,L){L=L||1/0;let G;const ae=K.length;let me=null;const Se=[];for(let Ce=0;Ce<ae;++Ce){if(G=K.charCodeAt(Ce),G>55295&&G<57344){if(!me){if(G>56319){(L-=3)>-1&&Se.push(239,191,189);continue}else if(Ce+1===ae){(L-=3)>-1&&Se.push(239,191,189);continue}me=G;continue}if(G<56320){(L-=3)>-1&&Se.push(239,191,189),me=G;continue}G=(me-55296<<10|G-56320)+65536}else me&&(L-=3)>-1&&Se.push(239,191,189);if(me=null,G<128){if((L-=1)<0)break;Se.push(G)}else if(G<2048){if((L-=2)<0)break;Se.push(G>>6|192,G&63|128)}else if(G<65536){if((L-=3)<0)break;Se.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((L-=4)<0)break;Se.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return Se}function Q(K){const L=[];for(let G=0;G<K.length;++G)L.push(K.charCodeAt(G)&255);return L}function re(K,L){let G,ae,me;const Se=[];for(let Ce=0;Ce<K.length&&!((L-=2)<0);++Ce)G=K.charCodeAt(Ce),ae=G>>8,me=G%256,Se.push(me),Se.push(ae);return Se}function ie(K){return t.toByteArray($(K))}function ne(K,L,G,ae){let me;for(me=0;me<ae&&!(me+G>=L.length||me>=K.length);++me)L[me+G]=K[me];return me}function ee(K,L){return K instanceof L||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===L.name}function le(K){return K!==K}const be=function(){const K="0123456789abcdef",L=new Array(256);for(let G=0;G<16;++G){const ae=G*16;for(let me=0;me<16;++me)L[ae+me]=K[G]+K[me]}return L}();function fe(K){return typeof BigInt>"u"?Fe:K}function Fe(){throw new Error("BigInt not supported")}})(buffer);(()=>{var __webpack_modules__={106:()=>{(function(){if(window.cadesplugin)return;var pluginObject,plugin_resolved=0,plugin_reject,plugin_resolve,isOpera=0,isFireFox=0,isSafari=0,isYandex=0,canPromise=!!window.Promise,cadesplugin_loaded_event_recieved=!1,isFireFoxExtensionLoaded=!1,cadesplugin;canPromise?cadesplugin=new Promise(function(n,t){plugin_resolve=n,plugin_reject=t}):cadesplugin={};function check_browser(){var n=navigator.userAgent,t,r=n.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(t=/\brv[ :]+(\d+)/g.exec(n)||[],{name:"IE",version:t[1]||""}):r[1]==="Chrome"&&(t=n.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/),t!=null)?{name:t[1].replace("OPR","Opera"),version:t[2]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=n.match(/version\/(\d+)/i))!=null&&r.splice(1,1,t[1]),{name:r[0],version:r[1]})}var browserSpecs=check_browser();function cpcsp_console_log(n,t){if(!(typeof console>"u")&&n<=cadesplugin.current_log_level){n===cadesplugin.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",t),n===cadesplugin.LOG_LEVEL_INFO&&console.info("INFO: %s",t),n===cadesplugin.LOG_LEVEL_ERROR&&console.error("ERROR: %s",t);return}}function set_log_level(n){if(!(n===cadesplugin.LOG_LEVEL_DEBUG||n===cadesplugin.LOG_LEVEL_INFO||n===cadesplugin.LOG_LEVEL_ERROR)){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+n);return}cadesplugin.current_log_level=n,cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),isNativeMessageSupported()&&(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))}function set_constantValues(){cadesplugin.CAPICOM_MEMORY_STORE=0,cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1,cadesplugin.CAPICOM_CURRENT_USER_STORE=2,cadesplugin.CAPICOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_MEMORY_STORE=0,cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1,cadesplugin.CADESCOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_CONTAINER_STORE=100,cadesplugin.CAPICOM_MY_STORE="My",cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,cadesplugin.CADESCOM_XADES_DEFAULT=16,cadesplugin.CADESCOM_XADES_BES=32,cadesplugin.CADESCOM_XADES_T=80,cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1=1488,cadesplugin.CADESCOM_XMLDSIG_TYPE=0,cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",cadesplugin.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256",cadesplugin.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256",cadesplugin.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512",cadesplugin.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512",cadesplugin.CADESCOM_CADES_DEFAULT=0,cadesplugin.CADESCOM_CADES_BES=1,cadesplugin.CADESCOM_CADES_T=5,cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93,cadesplugin.CADESCOM_PKCS7_TYPE=65535,cadesplugin.CADESCOM_ENCODE_BASE64=0,cadesplugin.CADESCOM_ENCODE_BINARY=1,cadesplugin.CADESCOM_ENCODE_ANY=-1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9,cadesplugin.CAPICOM_OID_OTHER=0,cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10,cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2,cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5,cadesplugin.CAPICOM_EKU_OTHER=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256,cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1,cadesplugin.CADESCOM_STRING_TO_UCS2LE=0,cadesplugin.CADESCOM_BASE64_TO_BINARY=1,cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0,cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1,cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0,cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1,cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2,cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,cadesplugin.LOG_LEVEL_DEBUG=4,cadesplugin.LOG_LEVEL_INFO=2,cadesplugin.LOG_LEVEL_ERROR=1,cadesplugin.CADESCOM_AllowNone=0,cadesplugin.CADESCOM_AllowNoOutstandingRequest=1,cadesplugin.CADESCOM_AllowUntrustedCertificate=2,cadesplugin.CADESCOM_AllowUntrustedRoot=4,cadesplugin.CADESCOM_SkipInstallToStore=268435456,cadesplugin.CADESCOM_InstallCertChainToContainer=536870912,cadesplugin.CADESCOM_UseContainerStore=1073741824,cadesplugin.ENABLE_CARRIER_TYPE_CSP=1,cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM=2,cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM=4,cadesplugin.ENABLE_ANY_CARRIER_TYPE=7,cadesplugin.DISABLE_EVERY_CARRIER_OPERATION=0,cadesplugin.ENABLE_CARRIER_OPEN_ENUM=1,cadesplugin.ENABLE_CARRIER_CREATE=2,cadesplugin.ENABLE_ANY_OPERATION=3,cadesplugin.CADESCOM_PRODUCT_CSP=0,cadesplugin.CADESCOM_PRODUCT_OCSP=1,cadesplugin.CADESCOM_PRODUCT_TSP=2,cadesplugin.MEDIA_TYPE_REGISTRY=1,cadesplugin.MEDIA_TYPE_HDIMAGE=2,cadesplugin.MEDIA_TYPE_CLOUD=4,cadesplugin.MEDIA_TYPE_SCARD=8,cadesplugin.XCN_CRYPT_STRING_BASE64HEADER=0,cadesplugin.AT_KEYEXCHANGE=1,cadesplugin.AT_SIGNATURE=2,cadesplugin.CARRIER_FLAG_REMOVABLE=1,cadesplugin.CARRIER_FLAG_UNIQUE=2,cadesplugin.CARRIER_FLAG_PROTECTED=4,cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER=8,cadesplugin.CARRIER_FLAG_SECURE_MESSAGING=16,cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64,cadesplugin.CARRIER_FLAG_VIRTUAL=128}function async_spawn(n){function t(o,l){var u;try{u=r[o](l)}catch(d){return Promise.reject(d)}return u.done?u.value:Promise.resolve(u.value).then(a,s)}var r=n(Array.prototype.slice.call(arguments,1)),a=t.bind(t,"next"),s=t.bind(t,"throw");return a()}function isIE(){return browserSpecs.name==="IE"||browserSpecs.name==="MSIE"}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){if(isIE())return!1;if(browserSpecs.name==="Edg")return!0;if(browserSpecs.name==="YaBrowser")return isYandex=!0,!0;if(browserSpecs.name==="Opera")return isOpera=!0,browserSpecs.version>=33;if(browserSpecs.name==="Firefox")return isFireFox=!0,browserSpecs.version>=52;if(browserSpecs.name==="Chrome")return browserSpecs.version>=42;if(browserSpecs.name==="Safari")return isSafari=!0,browserSpecs.version>=12}function CreateObject(n){if(isIOS())return call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[n]);if(isIE()){if(n.match(/X509Enrollment/i))try{var t=document.getElementById("webClassFactory");return t.CreateObject(n)}catch{try{var r=document.getElementById("certEnrollClassFactory");return r.CreateObject(n)}catch{throw"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS"}}try{var r=document.getElementById("webClassFactory");return r.CreateObject(n)}catch{return new ActiveXObject(n)}}return pluginObject.CreateObject(n)}function decimalToHexString(n){return n<0&&(n=4294967295+n+1),n.toString(16).toUpperCase()}function GetMessageFromException(n){var t=n.message;return t?n.number&&(t+=" (0x"+decimalToHexString(n.number)+")"):t=n,t}function getLastError(n){if(isNativeMessageSupported()||isIE()||isIOS())return GetMessageFromException(n);try{return pluginObject.getLastError()}catch{return GetMessageFromException(n)}}function ReleasePluginObjects(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}function CreateObjectAsync(n){return pluginObject.CreateObjectAsync(n)}var ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function(t,r){var a=ru_cryptopro_npcades_10_native_bridge.callbacks[t];a&&a.apply(null,r)},call:function(t,r,a){var s=a&&typeof a=="function",o=s?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;s&&(ru_cryptopro_npcades_10_native_bridge.callbacks[o]=a);var l=document.createElement("IFRAME"),u=new Array("_CPNP_handle");try{l.setAttribute("src","cpnp-js-call:"+t+":"+o+":"+encodeURIComponent(JSON.stringify(r,u)))}catch(d){alert(d)}document.documentElement.appendChild(l),l.parentNode.removeChild(l),l=null}};function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj,ex;if(ru_cryptopro_npcades_10_native_bridge.call(functionName,array,function(e,response){ex=e;var str="tmpobj="+response;eval(str)}),ex)throw ex;return tmpobj}function show_firefox_missing_extension_dialog(){if(!window.cadesplugin_skip_extension_install){var n=document.createElement("div");n.id="cadesplugin_ovr",n.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",n.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; max-width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p></div>",document.getElementsByTagName("Body")[0].appendChild(n),document.getElementById("cadesplugin_close_install").addEventListener("click",function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),n.addEventListener("click",function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),n.style.visibility="visible"}}function firefox_or_safari_nmcades_onload(){window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),isFireFoxExtensionLoaded=!0,cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){!isIE()&&!isFireFox&&!isSafari&&window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",function(n){if(!(typeof n.data!="string"||!n.data.match("cadesplugin_loaded"))&&!cadesplugin_loaded_event_recieved){if(isFireFox||isSafari){var t=n.data.substring(n.data.indexOf("url:")+4);if(!t.match("^(moz|safari)-extension://[a-zA-Z0-9/_-]+/nmcades_plugin_api.js$")){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,'Bad url "'+t+'" for load CryptoPro Extension for CAdES Browser plug-in'),plugin_loaded_error();return}var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",t),r.onerror=plugin_loaded_error,r.onload=firefox_or_safari_nmcades_onload,document.getElementsByTagName("head")[0].appendChild(r)}else cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error);cadesplugin_loaded_event_recieved=!0}},!1)}function load_extension(){if(isFireFox||isSafari)nmcades_api_onload();else if(isOpera||isYandex){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),n.onerror=plugin_loaded_error,n.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(n)}else{var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),n.onerror=plugin_loaded_error,n.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(n)}}function load_npapi_plugin(){var n=document.createElement("object");if(n.setAttribute("id","cadesplugin_object"),n.setAttribute("type","application/x-cades"),n.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(n),pluginObject=document.getElementById("cadesplugin_object"),isIE()){var t=document.createElement("object");t.setAttribute("id","certEnrollClassFactory"),t.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),t.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(t);var r=document.createElement("object");r.setAttribute("id","webClassFactory"),r.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),r.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(r)}}function plugin_loaded(){plugin_resolved=1,canPromise?plugin_resolve():window.postMessage("cadesplugin_loaded","*")}function plugin_loaded_error(n){(typeof n>"u"||typeof n=="object")&&(n="Плагин недоступен"),plugin_resolved=1,canPromise?plugin_reject(n):window.postMessage("cadesplugin_load_error","*")}function check_load_timeout(){plugin_resolved!==1&&(isFireFox&&(isFireFoxExtensionLoaded||show_firefox_missing_extension_dialog()),plugin_resolved=1,canPromise?plugin_reject("Истекло время ожидания загрузки плагина"):window.postMessage("cadesplugin_load_error","*"))}function check_npapi_plugin(){try{var n=CreateObject("CAdESCOM.About");plugin_loaded()}catch{document.getElementById("cadesplugin_object").style.display="none";var t=navigator.mimeTypes["application/x-cades"];if(t){var r=t.enabledPlugin;plugin_loaded_error(r?"Плагин загружен, но не создаются обьекты":"Ошибка при загрузке плагина")}else plugin_loaded_error("Плагин недоступен")}}function check_plugin_working(){var n=document.createElement("div");n.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var t=n.getElementsByTagName("i").length===1;if(t){plugin_loaded_error("Internet Explorer версии 8 и ниже не поддерживается");return}isNativeMessageSupported()?load_extension():canPromise?document.readyState==="complete"?(load_npapi_plugin(),check_npapi_plugin()):window.addEventListener("load",function(r){load_npapi_plugin(),check_npapi_plugin()},!1):window.addEventListener("message",function(r){r.data==="cadesplugin_echo_request"&&(load_npapi_plugin(),check_npapi_plugin())},!1)}function set_pluginObject(n){pluginObject=n}function is_capilite_enabled(){return!!(typeof cadesplugin.EnableInternalCSP<"u"&&cadesplugin.EnableInternalCSP)}cadesplugin.JSModuleVersion="2.3.3",cadesplugin.async_spawn=async_spawn,cadesplugin.set=set_pluginObject,cadesplugin.set_log_level=set_log_level,cadesplugin.getLastError=getLastError,cadesplugin.is_capilite_enabled=is_capilite_enabled,isNativeMessageSupported()&&(cadesplugin.CreateObjectAsync=CreateObjectAsync,cadesplugin.ReleasePluginObjects=ReleasePluginObjects),isNativeMessageSupported()||(cadesplugin.CreateObject=CreateObject),window.cadesplugin_load_timeout?setTimeout(check_load_timeout,window.cadesplugin_load_timeout):setTimeout(check_load_timeout,2e4),set_constantValues(),cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR,window.cadesplugin=cadesplugin,check_plugin_working()})()}},__webpack_module_cache__={};function __webpack_require__(n){var t=__webpack_module_cache__[n];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](r,r.exports,__webpack_require__),r.exports}(()=>{__webpack_require__(106);const n=function(v){return btoa(unescape(encodeURIComponent(v)))},t=v=>new Promise(w=>{const S=new FileReader;S.onloadend=()=>w(r(S.result)),S.readAsArrayBuffer(v)}),r=v=>{let w="";const S=new Uint8Array(v),C=S.byteLength;for(var E=0;E<C;E++)w+=String.fromCharCode(S[E]);return window.btoa(w)},a=async()=>{const{cadesplugin:v}=window;if(!v)return Promise.reject("Ошибка инициализации CAdES plugin Browser");await v.catch(w=>Promise.reject(`Плагин CAdES plugin Browser не установлен: ${v.getLastError(w)}`))},s=v=>v.getVarDate?v.getVarDate():v,o=async v=>{const{cadesplugin:w}=window;if(!w)return Promise.reject("Плагин CAdES plugin Browser е установлен");const S=await w.CreateObjectAsync("CAdESCOM.Store");if(await S.Open(w.CAPICOM_CURRENT_USER_STORE,w.CAPICOM_MY_STORE,w.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),!S)return Promise.reject("Не удалось получить доступ к хранилищу сертификатов");let C=await S.Certificates;if(!await C.Count)return Promise.reject("Нет доступных сертификатов");if(C=await C.Find(w.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,v),!await C.Count)return Promise.reject(`Сертификат с отпечатком: '${v}' не найден`);const _=await C.Item(1);return await S.Close(),_},l=async v=>{let w;const S={},C={"1.2.643.2.2.9":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411","1.2.643.7.1.1.2.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","1.2.643.7.1.1.2.3":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512","1.2.643.7.1.1.4.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC","1.2.643.7.1.1.4.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC","1.2.643.2.2.30.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC","1.2.643.2.2.19":"XmlDsigGost3410Url","1.2.643.7.1.1.1.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","1.2.643.7.1.1.1.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512"};try{w=await v.PublicKey(),w=await w.Algorithm,S.algorithm=await w.FriendlyName,S.oid=await w.Value,S.key=C[S.oid]}catch{return Promise.reject("Ошибка при получении алгоритма")}return S},u=async()=>{await a();const{cadesplugin:v}=window;let w=[];const S=await v.CreateObjectAsync("CAdESCOM.Store");if(await S.Open(v.CAPICOM_CURRENT_USER_STORE,v.CAPICOM_MY_STORE,v.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),!S)return Promise.reject("Не удалось получить доступ к хранилищу сертификатов");let C=await S.Certificates;if(!await C.Count)return Promise.reject("Нет доступных сертификатов");const T=await C.Count;if(!T)return Promise.reject("Нет действующих сертификатов");const _=(W,Y)=>{let se=W.match(new RegExp(`(^| )${Y}=(".+?"|.*?)(?:,|$)`));return se?se[2]:null},R=W=>{let Y=W.match(/CN=(.+?)(?:,|$)/);return Y?Y[1]:""},U=(W,Y)=>{let se={};for(const[oe,ue]of Object.entries(Y))for(const Z of ue){let te=_(W,Z);if(te!=null){se[oe]=te;break}}return se},z=W=>new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(W));let X={inn:["INN","ИНН"],innJur:["ИНН ЮЛ"],ogrn:["OGRN","ОГРН"],ogrnip:["OGRNIP","ОГРНИП"],snils:["SNILS","СНИЛС"],email:["E"],CN:["CN"],SN:["SN"],G:["G","GN"],C:["C"],S:["S"],L:["L"],street:["STREET"],O:["O"],OU:["OU"],T:["T"]};for(let W=T;W>0;W--){const Y=await C.Item(W),[se,oe,ue,Z,te,he,xe,ye]=await Promise.all([Y.SubjectName,Y.Thumbprint,Y.IsValid().then(Ae=>Ae.Result),l(Y),Y.IssuerName,Y.ValidToDate,Y.ValidFromDate,Y.SerialNumber]);w.push({thumbprint:oe,...U(se,X),name:R(se),algorithm:Z.key,algorithmName:Z.algorithm,valid:ue,issuerName:R(te),issuer:te,validFromDate:z(xe),validToDate:z(he),serialNumber:ye,subject:se})}return w},d=async(v,w)=>{await a();const{cadesplugin:S}=window,C=S[w||"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256"],E=await S.CreateObjectAsync("CAdESCOM.HashedData");let T;try{await E.propset_Algorithm(C),await E.propset_DataEncoding(S.CADESCOM_BASE64_TO_BINARY),await E.Hash(v),T=await E.Value}catch(_){return Promise.reject(`Ошибка хэширования данных: ${S.getLastError(_)}`)}return T},f=async(v,w,S,C,E)=>{await a();const{cadesplugin:T}=window,_=T[S||"CADESCOM_CADES_BES"],R=T[C||"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256"],U=await T.CreateObjectAsync("CADESCOM.CPAttribute"),z=s(new Date);try{await U.propset_Name(T.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),await U.propset_Value(z)}catch(ue){return Promise.reject(`Ошибка при установке времени подписи: ${T.getLastError(ue)}`)}const X=await T.CreateObjectAsync("CAdESCOM.CPSigner"),W=await o(v);try{await X.propset_Certificate(W),await X.propset_Options(T.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(ue){return Promise.reject(`Ошибка при установке сертификата: ${T.getLastError(ue)}`)}const Y=await T.CreateObjectAsync("CAdESCOM.HashedData");try{await Y.propset_Algorithm(R),await Y.SetHashValue(w)}catch(ue){return Promise.reject(`Ошибка при установке хеша: ${T.getLastError(ue)}`)}let se=null;const oe=await T.CreateObjectAsync("CAdESCOM.CadesSignedData");try{se=await oe.SignHash(Y,X,_)}catch(ue){return Promise.reject(`Ошибка при подписании данных: ${T.getLastError(ue)}`)}return se},g=async(v,w,S)=>{await a();const{cadesplugin:C}=window,E=C[S||"CADESCOM_CADES_BES"];var T=await C.CreateObjectAsync("CAdESCOM.CadesSignedData");try{let _=n(w);await T.propset_ContentEncoding(C.CADESCOM_BASE64_TO_BINARY),await T.propset_Content(_),await T.VerifyCades(v,E,!0)}catch(_){return Promise.reject(`Ошибка при проверке подписи: ${C.getLastError(_)}`)}return!0},x=function(){return a().then(async v=>new Promise(function(w,S){console.debug("CADES plugin loaded"),u().then(C=>w(C)).catch(C=>S(typeof C=="string"?C:C.message))}))},b=function(v,w){return x().then(S=>new Promise(function(C,E){if(console.debug("CADES plugin loaded"),w==null)return E("Не задан сертификат для подписания");const T=S.find(_=>_.thumbprint===w);return m(T,v,C,E)}))},m=async function(v,w,S,C){const E=Array.isArray(w),T=E?[]:{},_=E?w.length:Object.keys(w).length;let R=0,U=function(X,W){T[X]=W,R++,_===R&&S({certificate:v,signatures:T})},z=async function(X,W){let Y=null;W instanceof Blob?Y=await t(W):W instanceof ArrayBuffer?Y=r(W):Y=n(W);let se=await d(Y,v.algorithm);U(X,await f(v.thumbprint,se,void 0,v.algorithm))};try{if(E)for(let X=0;X<_;X++)await z(X,w[X]);else for(let X of Object.keys(w))await z(X,w[X])}catch(X){return C(typeof X=="string"?X:X.message)}},y=function(v,w){return new Promise(async function(S,C){g(v,w).then(()=>S()).catch(E=>C(E))})};window.getCertificates=x,window.signData=b,window.verifySignature=y})()})();class PDFArrayCustom extends PDFArray{constructor(t){super()}static withContext(t){return new PDFArrayCustom(t)}clone(t){const r=PDFArrayCustom.withContext(t||this.context);for(let a=0,s=this.size();a<s;a++)r.push(this.array[a]);return r}toString(){let t="[";for(let r=0,a=this.size();r<a;r++)t+=this.get(r).toString(),r<a-1&&(t+=" ");return t+="]",t}sizeInBytes(){let t=2;for(let r=0,a=this.size();r<a;r++)t+=this.get(r).sizeInBytes(),r<a-1&&(t+=1);return t}copyBytesInto(t,r){const a=r;t[r++]=CharCodes$1.LeftSquareBracket;for(let s=0,o=this.size();s<o;s++)r+=this.get(s).copyBytesInto(t,r),s<o-1&&(t[r++]=CharCodes$1.Space);return t[r++]=CharCodes$1.RightSquareBracket,r-a}}const bufferToFile=function(n,t,r){let a=new Blob([n],{type:r});return new File([a],t,{type:r})},base64ToHex=function(n){let t=atob(n),r="";for(let a=0;a<t.length;a++){let s=t.charCodeAt(a).toString(16);r+=s.length===2?s:"0"+s}return r},DEFAULT_SIGNATURE_LENGTH=102416,DEFAULT_BYTE_RANGE_PLACEHOLDER="**********",byteRange=[0,0,0,0],addSignatureToPdf=async(n,t)=>{console.log("Конвертация файла в arraybuffer");const r=await fileToArrayBuffer$1(n);console.log("Создание наполнителя");const a=await addSignaturePlaceholder(r);console.log("Конвертация в buffer");let s=buffer.Buffer.from(a);s=fillByteRange(s),console.log("Создание Blob");let o=new Blob([s]);console.log("Создание подписи");let u=(await signData({buffer:o},t).catch(f=>{console.error(f)})).signatures.buffer;console.log("Подпись создана:"),console.log(u),console.log("Преобразование в hex");const d=base64ToHex(u);return console.log(d),console.log("Вставка подписи"),await fillHexToContents(s,d).catch(f=>{console.error(f)})},addSignaturePlaceholder=async n=>{const t=await PDFDocument.load(n),r=t.getPages(),a=PDFArrayCustom.withContext(t.context);a.push(PDFNumber.of(0)),a.push(PDFName.of(DEFAULT_BYTE_RANGE_PLACEHOLDER)),a.push(PDFName.of(DEFAULT_BYTE_RANGE_PLACEHOLDER)),a.push(PDFName.of(DEFAULT_BYTE_RANGE_PLACEHOLDER));const s=t.context.obj({Type:"Sig",Reason:PDFString.of("test_reason"),Location:PDFString.of("test_location"),M:PDFString.fromDate(new Date),Filter:"CryptoPro#20PDF",SubFilter:"adbe.pkcs7.detached",ByteRange:a,Contents:PDFHexString.of("A".repeat(DEFAULT_SIGNATURE_LENGTH))}),o=t.context.register(s),l=t.context.obj({FT:"Sig",T:PDFString.of("demasto"),V:o,F:4,Type:"Annot",Subtype:"Widget",Rect:[36,720,160,780],P:r[0].ref}),u=t.context.register(l);return r[0].node.set(PDFName.of("Annots"),t.context.obj([u])),t.catalog.set(PDFName.of("AcroForm"),t.context.obj({SigFlags:3,Fields:[u]})),await t.save({useObjectStreams:!1})},fillByteRange=n=>{n=removeTrailingNewLine(n);const{byteRangePlaceholder:t}=findByteRangePlaceholder(n);t||console.error("Could not find empty ByteRange placeholder");const r=n.indexOf(t),a=r+t.length,s=n.indexOf("/Contents ",a),o=n.indexOf("<",s),l=n.indexOf(">",o);byteRange[1]=o-1,byteRange[2]=l,byteRange[3]=n.length-byteRange[2]-1;let u=`/ByteRange [${byteRange.join(" ")}]`;return u+=" ".repeat(t.length-u.length),n=buffer.Buffer.concat([n.slice(0,r),buffer.Buffer.from(u),n.slice(a,n.length)]),n=buffer.Buffer.concat([n.slice(0,byteRange[1]),n.slice(byteRange[2]+1,n.length)]),n},fillHexToContents=async(n,t)=>{const r=fillRemainString(t);return n=buffer.Buffer.concat([n.slice(0,byteRange[1]),buffer.Buffer.from(`<${r}>`),n.slice(byteRange[1],n.length)]),n},removeTrailingNewLine=n=>{let t=n;return t=sliceLastChar(t,`
`),t=sliceLastChar(t,"\r"),t.slice(t.length-6).toString()!==`
%%EOF`&&console.error("A PDF file must end with an EOF line."),t},sliceLastChar=(n,t)=>n.slice(n.length-1).toString()===t?n.slice(0,n.length-1):n,findByteRangePlaceholder=n=>{n instanceof buffer.Buffer||console.error("PDF expected as Buffer.");const t=n.toString().match(/\/ByteRange\s*\[{1}\s*(?:(?:\d*|\/\*{10})\s+){3}(?:\d+|\/\*{10}){1}\s*]{1}/g);t||console.error("No ByteRangeStrings found within PDF buffer");const r=t.find(s=>s.includes(`/${DEFAULT_BYTE_RANGE_PLACEHOLDER}`)),a=t.map(s=>s.match(/[^[\s]*(?:\d|\/\*{10})/g));return{byteRangePlaceholder:r,byteRangeStrings:t,byteRanges:a}};function fillRemainString(n){return`${n}${"0".repeat(DEFAULT_SIGNATURE_LENGTH-n.length)}`}function createHtmlSign(n,t){let r=document.createElement("div");return r.innerHTML=`
        <svg viewBox="-5 -5 410 160" xmlns="http://www.w3.org/2000/svg">
          <rect width="400" height="145" fill="none" rx="15" ry="15" stroke="black" stroke-width="3px"/>
          <text x="130" y="30" class="svg-title">ДОКУМЕНТ ПОДПИСАН</text>
          <text x="115" y="50" class="svg-title">ЭЛЕКТРОННОЙ ПОДПИСЬЮ</text>
          <text x="10" y="80" class="svg-text">Сертификат: ${n.serialNumber}</text>
          <text x="10" y="100" class="svg-text">Владелец: ${n.issuerName}</text>
          <text x="10" y="120" class="svg-text">Действителен: c ${n.validFromDate} до ${n.validToDate}</text>
       </svg>`,r.style.cssText=`
         position: absolute;
         user-select: none;
         top: ${t.y}px;
         left: ${t.x}px;
         width: ${t.width}px;
         height: ${t.height}px;
      `,r.classList.add("token"),r}function createHtmlDeleteSignBth(){let n=document.createElement("button");return n.innerText="X",n.style.cssText=`
         position: absolute;
         width: 30px;
         height: 30px;
         top: -30px;
         right: -30px;
      `,n}__webpack_exports__GlobalWorkerOptions.workerSrc=pdfWorker;let pdf=null;const _sfc_main$2={components:{SelectedCert,DraggableResizableVue:_sfc_main$7,certificateSvg},emits:["update:fileObject","download-file","change-cert","processing"],props:{fileObject:{},certificate:{}},data:function(){return{currentPage:1,countPages:0,zoom:{scale:1.5},signCount:0,signDict:{},dragAndResize:!1}},computed:{currentPageComputed:{get(){return this.currentPage},set(n){this.isValidPage(n)&&(this.currentPage=n,this.renderCanvasPage())}},dictIsEmpty:{get(){return this.signDict[this.currentPage]==null||!this.signDict[this.currentPage].length}}},setup(){return{element:ref({x:10,y:10,width:400,height:150,isActive:!0})}},methods:{updateHtmlSignDict:async function(n){this.dictIsEmpty&&(this.signDict[this.currentPage]=[]);const t=JSON.parse(JSON.stringify(this.element));t.index=this.signDict[this.currentPage].length,this.signCount++,this.signDict[this.currentPage].push(t),console.log(this.signDict),this.renderCanvasPage(),this.initSvgPosition()},createSignClick:async function(n){this.$emit("processing");const t=await addSignatureToPdf(this.fileObject.file,this.certificate.thumbprint).catch(a=>{this.$emit("processing"),console.error(a)});let r=bufferToFile(t,`${this.fileObject.file.name}.sig`,"application/pgp-signature");this.$emit("update:fileObject",this.fileObject),this.$emit("download-file",{file:r})},renderCanvasPage:function(){let n=document.getElementById("pdf_renderer");pdf.getPage(this.currentPage).then(t=>{this.renderCurrentPageSignAppearance();let r=t.getViewport(this.zoom),a=n.getContext("2d");n.height=r.height,n.width=r.width,t.render({canvasContext:a,viewport:r})})},renderCurrentPageSignAppearance:function(){if(document.querySelectorAll(".token").forEach(t=>t.remove()),this.dictIsEmpty)return;let n=!0;for(let t of this.signDict[this.currentPage])t!=null&&(this.createSignAppearance(t),n=!1);n&&(this.signDict[this.currentPage]=[])},createSignAppearance:function(n){let t=createHtmlSign(this.certificate,n),r=createHtmlDeleteSignBth();r.addEventListener("click",a=>{this.signDict[this.currentPage][n.index]=null,this.signCount--,a.target.parentElement.remove()}),t.appendChild(r),document.getElementById("pdf_container").appendChild(t)},clearSignDict:function(){this.signDict={},this.signCount=0,document.querySelectorAll(".token").forEach(n=>n.remove())},onInputPage:function(n){let t=n.target.valueAsNumber;this.isValidPage(t)?this.currentPageComputed=t:n.target.value=this.currentPageComputed},isValidPage:function(n){return!(pdf==null||n===this.currentPage||n<=0||n>this.countPages)},changeCert:function(){this.$emit("change-cert"),this.signDict={},this.renderCanvasPage()},initSvgPosition(){this.dragAndResize=!1,this.element.x=10,this.element.y=10}},async mounted(){if("file"in this.fileObject){let n=await fileToArrayBuffer$1(this.fileObject.file);pdf=await __webpack_exports__getDocument(n).promise,this.countPages=pdf.numPages,this.renderCanvasPage()}}},_withScopeId=n=>(pushScopeId("data-v-eb91d4e6"),n=n(),popScopeId(),n),_hoisted_1$1={class:"component-container"},_hoisted_2={id:"pdf_container"},_hoisted_3=_withScopeId(()=>createBaseVNode("div",{id:"handle-br"},"SIZE",-1)),_hoisted_4={id:"navigation_controls"},_hoisted_5=["value"],_hoisted_6={id:"count_pages"},_hoisted_7=_withScopeId(()=>createBaseVNode("canvas",{id:"pdf_renderer"},null,-1)),_hoisted_8={id:"toolbarContainer"},_hoisted_9=_withScopeId(()=>createBaseVNode("h2",{class:"h1-tool"},"toolbar Container",-1)),_hoisted_10={key:0};function _sfc_render$2(n,t,r,a,s,o){const l=resolveComponent("certificate-svg"),u=resolveComponent("draggable-resizable-vue"),d=resolveComponent("selected-cert");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[withDirectives(createVNode(u,{x:a.element.x,"onUpdate:x":t[0]||(t[0]=f=>a.element.x=f),y:a.element.y,"onUpdate:y":t[1]||(t[1]=f=>a.element.y=f),h:a.element.height,"onUpdate:h":t[2]||(t[2]=f=>a.element.height=f),w:a.element.width,"onUpdate:w":t[3]||(t[3]=f=>a.element.width=f),active:a.element.isActive,"onUpdate:active":t[4]||(t[4]=f=>a.element.isActive=f),"min-height":50,"max-height":200,"lock-aspect-ratio":!0,"disable-user-select":!0,handles:["br"],"class-name-draggable":"draggable","handles-border":"none",parent:!0,"class-name-active":"active",style:{"z-index":"2"}},{"handle-br":withCtx(()=>[_hoisted_3]),default:withCtx(()=>[createVNode(l,{"selected-cert":r.certificate},null,8,["selected-cert"])]),_:1},8,["x","y","h","w","active"]),[[vShow,n.dragAndResize]]),createBaseVNode("div",_hoisted_4,[createBaseVNode("button",{id:"go_previous",class:"custom-button",style:{background:"white"},onClick:t[5]||(t[5]=f=>o.currentPageComputed--)},"Previous"),createBaseVNode("input",{id:"current_page",value:o.currentPageComputed,onKeyup:t[6]||(t[6]=withKeys(f=>{f.target.blur()},["enter"])),onBlur:t[7]||(t[7]=(...f)=>o.onInputPage&&o.onInputPage(...f)),type:"number"},null,40,_hoisted_5),createBaseVNode("p",_hoisted_6,"/ "+toDisplayString(this.countPages),1),createBaseVNode("button",{id:"go_next",class:"custom-button",style:{background:"white"},onClick:t[8]||(t[8]=f=>o.currentPageComputed++)},"Next")]),_hoisted_7,createBaseVNode("div",_hoisted_8,[_hoisted_9,createVNode(d,{certificate:r.certificate,onChangeCert:o.changeCert,"sign-count":n.signCount},null,8,["certificate","onChangeCert","sign-count"]),n.dragAndResize?(openBlock(),createElementBlock("div",_hoisted_10,[createBaseVNode("label",{class:"custom-button indent valid-bth",onClick:t[9]||(t[9]=(...f)=>o.updateHtmlSignDict&&o.updateHtmlSignDict(...f))}," Сохранить изменения "),createBaseVNode("label",{class:"custom-button indent valid-bth",onClick:t[10]||(t[10]=f=>{this.dragAndResize=!1,this.element.x=10,this.element.y=10})}," Отмена ")])):(openBlock(),createElementBlock("label",{key:1,class:"custom-button indent",onClick:t[11]||(t[11]=f=>n.dragAndResize=!0)}," Добавить оттиск ")),createBaseVNode("p",null,"Создано полей: "+toDisplayString(this.signCount),1),createBaseVNode("button",{class:"custom-button",onClick:t[12]||(t[12]=(...f)=>o.clearSignDict&&o.clearSignDict(...f))},"Сбросить"),createBaseVNode("label",{class:"custom-button indent",onClick:t[13]||(t[13]=(...f)=>o.createSignClick&&o.createSignClick(...f))}," Подписать и сохранить ")])])])}const RenderPage=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-eb91d4e6"]]),_sfc_main$1={components:{Preloader,UploadPage,RenderPage,DownloadPage,SelectCertModal},data(){return{showUploadingPage:!0,showRenderingPage:!0,preloader:!1,showCertificateWindow:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}},watch:{selectedFile(n){console.log(n)}},methods:{tryGetCert:async function(){this.showCertificateWindow=!0,getCertificates().then(n=>{n.length?this.certList=n:(this.errorCertificateMessage="Отсутствуют сертификаты",console.log("Сертификатов нет"))}).catch(n=>{this.errorCertificateMessage=`${n} - Пожалуйста, предоставьте доступ к сертификатам или установите плагин.`,this.showCertificateWindow=!1,console.error(n)})},onSelectedCert:function(n){this.selectedCert=n,this.showUploadingPage=!1,this.showCertificateWindow=!1},onCancelSelect:function(){this.errorCertificateMessage="Выберите сертификат, чтобы продолжить!",this.showCertificateWindow=!1},processing:function(){this.preloader=!this.preloader},showDownloadPage:function(n){this.signResult=n,this.showRenderingPage=!1,this.preloader=!1},restartProcess:function(){Object.assign(this.$data,initData())}},mounted(){}};function initData(){return{showUploadingPage:!0,showRenderingPage:!0,showCertificateWindow:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}}const _hoisted_1=createBaseVNode("h1",null,"Подписать файл с визуализацией",-1);function _sfc_render$1(n,t,r,a,s,o){const l=resolveComponent("preloader"),u=resolveComponent("upload-page"),d=resolveComponent("render-page"),f=resolveComponent("download-page"),g=resolveComponent("select-cert-modal");return openBlock(),createElementBlock(Fragment,null,[withDirectives(createVNode(l,{height:"600px"},null,512),[[vShow,s.preloader]]),s.showUploadingPage?(openBlock(),createBlock(u,{key:0,"mime-type-string":"application/pdf","selected-file":s.selectedFile,"onUpdate:selectedFile":t[0]||(t[0]=x=>s.selectedFile=x),"error-certificate-message":s.errorCertificateMessage,"onUpdate:errorCertificateMessage":t[1]||(t[1]=x=>s.errorCertificateMessage=x),onTryGetCert:o.tryGetCert},{header:withCtx(()=>[_hoisted_1]),_:1},8,["selected-file","error-certificate-message","onTryGetCert"])):s.showRenderingPage?withDirectives((openBlock(),createBlock(d,{key:1,"file-object":s.selectedFile,"onUpdate:fileObject":t[2]||(t[2]=x=>s.selectedFile=x),certificate:s.selectedCert,onDownloadFile:o.showDownloadPage,onChangeCert:t[3]||(t[3]=x=>s.showCertificateWindow=!0),onProcessing:o.processing},null,8,["file-object","certificate","onDownloadFile","onProcessing"])),[[vShow,!s.preloader]]):(openBlock(),createBlock(f,{key:2,"pdf-result":s.selectedFile,"sign-result":s.signResult,onRestart:o.restartProcess},null,8,["pdf-result","sign-result","onRestart"])),withDirectives(createVNode(g,{"cert-list":s.certList,onGetCertificate:o.onSelectedCert,onCancel:o.onCancelSelect},null,8,["cert-list","onGetCertificate","onCancel"]),[[vShow,s.showCertificateWindow]])],64)}const SignWithView=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main={};function _sfc_render(n,t){return openBlock(),createElementBlock("h1",null,"Проверить электронную подпись")}const CheckSign=_export_sfc(_sfc_main,[["render",_sfc_render]]),router=createRouter({history:createWebHistory(),routes:[{path:"/signer/home",component:Home},{path:"/signer/detached",name:"detach",component:Detached},{path:"/signer/signing-with-view",component:SignWithView},{path:"/signer/check-sign",component:CheckSign},{path:"/",redirect:"/signer/home"}]}),app=createApp(App);app.use(router);app.use(_sfc_main$7);app.mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}