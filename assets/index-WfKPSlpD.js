(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))b(S);new MutationObserver(S=>{for(const w of S)if(w.type==="childList")for(const C of w.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&b(C)}).observe(document,{childList:!0,subtree:!0});function x(S){const w={};return S.integrity&&(w.integrity=S.integrity),S.referrerPolicy&&(w.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?w.credentials="include":S.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function b(S){if(S.ep)return;S.ep=!0;const w=x(S);fetch(S.href,w)}})();window.File&&window.FileReader&&window.FileList&&window.Blob||alert("The File APIs are not fully supported in this browser.");String.prototype.convertToHex=function(g){return this.split("").map(function(d){return("0"+d.charCodeAt(0).toString(16)).slice(-2)}).join(g||"")};String.prototype.base64ToHex=function(){let g=atob(this.valueOf()),d="";for(let x=0;x<g.length;x++){let b=g.charCodeAt(x).toString(16);d+=b.length===2?b:"0"+b}return d};String.prototype.removeEnclosingQuotes=function(){let g=this.valueOf();for(;g.charAt(0)==='"'&&g.charAt(g.length-1)==='"';)g=g.substring(1,g.length-1);return g};function makeMap(g,d){const x=Object.create(null),b=g.split(",");for(let S=0;S<b.length;S++)x[b[S]]=!0;return d?S=>!!x[S.toLowerCase()]:S=>!!x[S]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,isOn=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&(g.charCodeAt(2)>122||g.charCodeAt(2)<97),isModelListener=g=>g.startsWith("onUpdate:"),extend=Object.assign,remove=(g,d)=>{const x=g.indexOf(d);x>-1&&g.splice(x,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(g,d)=>hasOwnProperty$1.call(g,d),isArray$1=Array.isArray,isMap=g=>toTypeString(g)==="[object Map]",isSet=g=>toTypeString(g)==="[object Set]",isFunction$1=g=>typeof g=="function",isString=g=>typeof g=="string",isSymbol=g=>typeof g=="symbol",isObject=g=>g!==null&&typeof g=="object",isPromise=g=>(isObject(g)||isFunction$1(g))&&isFunction$1(g.then)&&isFunction$1(g.catch),objectToString=Object.prototype.toString,toTypeString=g=>objectToString.call(g),toRawType=g=>toTypeString(g).slice(8,-1),isPlainObject=g=>toTypeString(g)==="[object Object]",isIntegerKey=g=>isString(g)&&g!=="NaN"&&g[0]!=="-"&&""+parseInt(g,10)===g,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=g=>{const d=Object.create(null);return x=>d[x]||(d[x]=g(x))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(g=>g.replace(camelizeRE,(d,x)=>x?x.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(g=>g.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(g=>g.charAt(0).toUpperCase()+g.slice(1)),toHandlerKey=cacheStringFunction(g=>g?`on${capitalize(g)}`:""),hasChanged=(g,d)=>!Object.is(g,d),invokeArrayFns=(g,d)=>{for(let x=0;x<g.length;x++)g[x](d)},def=(g,d,x)=>{Object.defineProperty(g,d,{configurable:!0,enumerable:!1,value:x})},looseToNumber=g=>{const d=parseFloat(g);return isNaN(d)?g:d};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(g){if(isArray$1(g)){const d={};for(let x=0;x<g.length;x++){const b=g[x],S=isString(b)?parseStringStyle(b):normalizeStyle(b);if(S)for(const w in S)d[w]=S[w]}return d}else if(isString(g)||isObject(g))return g}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(g){const d={};return g.replace(styleCommentRE,"").split(listDelimiterRE).forEach(x=>{if(x){const b=x.split(propertyDelimiterRE);b.length>1&&(d[b[0].trim()]=b[1].trim())}}),d}function normalizeClass(g){let d="";if(isString(g))d=g;else if(isArray$1(g))for(let x=0;x<g.length;x++){const b=normalizeClass(g[x]);b&&(d+=b+" ")}else if(isObject(g))for(const x in g)g[x]&&(d+=x+" ");return d.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(g){return!!g||g===""}const toDisplayString=g=>isString(g)?g:g==null?"":isArray$1(g)||isObject(g)&&(g.toString===objectToString||!isFunction$1(g.toString))?JSON.stringify(g,replacer,2):String(g),replacer=(g,d)=>d&&d.__v_isRef?replacer(g,d.value):isMap(d)?{[`Map(${d.size})`]:[...d.entries()].reduce((x,[b,S],w)=>(x[stringifySymbol(b,w)+" =>"]=S,x),{})}:isSet(d)?{[`Set(${d.size})`]:[...d.values()].map(x=>stringifySymbol(x))}:isSymbol(d)?stringifySymbol(d):isObject(d)&&!isArray$1(d)&&!isPlainObject(d)?String(d):d,stringifySymbol=(g,d="")=>{var x;return isSymbol(g)?`Symbol(${(x=g.description)!=null?x:d})`:g};let activeEffectScope;class EffectScope{constructor(d=!1){this.detached=d,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!d&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(d){if(this._active){const x=activeEffectScope;try{return activeEffectScope=this,d()}finally{activeEffectScope=x}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(d){if(this._active){let x,b;for(x=0,b=this.effects.length;x<b;x++)this.effects[x].stop();for(x=0,b=this.cleanups.length;x<b;x++)this.cleanups[x]();if(this.scopes)for(x=0,b=this.scopes.length;x<b;x++)this.scopes[x].stop(!0);if(!this.detached&&this.parent&&!d){const S=this.parent.scopes.pop();S&&S!==this&&(this.parent.scopes[this.index]=S,S.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(g,d=activeEffectScope){d&&d.active&&d.effects.push(g)}function getCurrentScope(){return activeEffectScope}const createDep=g=>{const d=new Set(g);return d.w=0,d.n=0,d},wasTracked=g=>(g.w&trackOpBit)>0,newTracked=g=>(g.n&trackOpBit)>0,initDepMarkers=({deps:g})=>{if(g.length)for(let d=0;d<g.length;d++)g[d].w|=trackOpBit},finalizeDepMarkers=g=>{const{deps:d}=g;if(d.length){let x=0;for(let b=0;b<d.length;b++){const S=d[b];wasTracked(S)&&!newTracked(S)?S.delete(g):d[x++]=S,S.w&=~trackOpBit,S.n&=~trackOpBit}d.length=x}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(d,x=null,b){this.fn=d,this.scheduler=x,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,b)}run(){if(!this.active)return this.fn();let d=activeEffect,x=shouldTrack;for(;d;){if(d===this)return;d=d.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=x,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(g){const{deps:d}=g;if(d.length){for(let x=0;x<d.length;x++)d[x].delete(g);d.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const g=trackStack.pop();shouldTrack=g===void 0?!0:g}function track(g,d,x){if(shouldTrack&&activeEffect){let b=targetMap.get(g);b||targetMap.set(g,b=new Map);let S=b.get(x);S||b.set(x,S=createDep()),trackEffects(S)}}function trackEffects(g,d){let x=!1;effectTrackDepth<=maxMarkerBits?newTracked(g)||(g.n|=trackOpBit,x=!wasTracked(g)):x=!g.has(activeEffect),x&&(g.add(activeEffect),activeEffect.deps.push(g))}function trigger(g,d,x,b,S,w){const C=targetMap.get(g);if(!C)return;let F=[];if(d==="clear")F=[...C.values()];else if(x==="length"&&isArray$1(g)){const E=Number(b);C.forEach((k,D)=>{(D==="length"||!isSymbol(D)&&D>=E)&&F.push(k)})}else switch(x!==void 0&&F.push(C.get(x)),d){case"add":isArray$1(g)?isIntegerKey(x)&&F.push(C.get("length")):(F.push(C.get(ITERATE_KEY)),isMap(g)&&F.push(C.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(g)||(F.push(C.get(ITERATE_KEY)),isMap(g)&&F.push(C.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(g)&&F.push(C.get(ITERATE_KEY));break}if(F.length===1)F[0]&&triggerEffects(F[0]);else{const E=[];for(const k of F)k&&E.push(...k);triggerEffects(createDep(E))}}function triggerEffects(g,d){const x=isArray$1(g)?g:[...g];for(const b of x)b.computed&&triggerEffect(b);for(const b of x)b.computed||triggerEffect(b)}function triggerEffect(g,d){(g!==activeEffect||g.allowRecurse)&&(g.scheduler?g.scheduler():g.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(g=>g!=="arguments"&&g!=="caller").map(g=>Symbol[g]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const g={};return["includes","indexOf","lastIndexOf"].forEach(d=>{g[d]=function(...x){const b=toRaw(this);for(let w=0,C=this.length;w<C;w++)track(b,"get",w+"");const S=b[d](...x);return S===-1||S===!1?b[d](...x.map(toRaw)):S}}),["push","pop","shift","unshift","splice"].forEach(d=>{g[d]=function(...x){pauseTracking();const b=toRaw(this)[d].apply(this,x);return resetTracking(),b}}),g}function hasOwnProperty(g){const d=toRaw(this);return track(d,"has",g),d.hasOwnProperty(g)}class BaseReactiveHandler{constructor(d=!1,x=!1){this._isReadonly=d,this._shallow=x}get(d,x,b){const S=this._isReadonly,w=this._shallow;if(x==="__v_isReactive")return!S;if(x==="__v_isReadonly")return S;if(x==="__v_isShallow")return w;if(x==="__v_raw")return b===(S?w?shallowReadonlyMap:readonlyMap:w?shallowReactiveMap:reactiveMap).get(d)||Object.getPrototypeOf(d)===Object.getPrototypeOf(b)?d:void 0;const C=isArray$1(d);if(!S){if(C&&hasOwn(arrayInstrumentations,x))return Reflect.get(arrayInstrumentations,x,b);if(x==="hasOwnProperty")return hasOwnProperty}const F=Reflect.get(d,x,b);return(isSymbol(x)?builtInSymbols.has(x):isNonTrackableKeys(x))||(S||track(d,"get",x),w)?F:isRef(F)?C&&isIntegerKey(x)?F:F.value:isObject(F)?S?readonly(F):reactive(F):F}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(d=!1){super(!1,d)}set(d,x,b,S){let w=d[x];if(!this._shallow){const E=isReadonly(w);if(!isShallow(b)&&!isReadonly(b)&&(w=toRaw(w),b=toRaw(b)),!isArray$1(d)&&isRef(w)&&!isRef(b))return E?!1:(w.value=b,!0)}const C=isArray$1(d)&&isIntegerKey(x)?Number(x)<d.length:hasOwn(d,x),F=Reflect.set(d,x,b,S);return d===toRaw(S)&&(C?hasChanged(b,w)&&trigger(d,"set",x,b):trigger(d,"add",x,b)),F}deleteProperty(d,x){const b=hasOwn(d,x);d[x];const S=Reflect.deleteProperty(d,x);return S&&b&&trigger(d,"delete",x,void 0),S}has(d,x){const b=Reflect.has(d,x);return(!isSymbol(x)||!builtInSymbols.has(x))&&track(d,"has",x),b}ownKeys(d){return track(d,"iterate",isArray$1(d)?"length":ITERATE_KEY),Reflect.ownKeys(d)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(d=!1){super(!0,d)}set(d,x){return!0}deleteProperty(d,x){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),toShallow=g=>g,getProto=g=>Reflect.getPrototypeOf(g);function get(g,d,x=!1,b=!1){g=g.__v_raw;const S=toRaw(g),w=toRaw(d);x||(hasChanged(d,w)&&track(S,"get",d),track(S,"get",w));const{has:C}=getProto(S),F=b?toShallow:x?toReadonly:toReactive;if(C.call(S,d))return F(g.get(d));if(C.call(S,w))return F(g.get(w));g!==S&&g.get(d)}function has(g,d=!1){const x=this.__v_raw,b=toRaw(x),S=toRaw(g);return d||(hasChanged(g,S)&&track(b,"has",g),track(b,"has",S)),g===S?x.has(g):x.has(g)||x.has(S)}function size(g,d=!1){return g=g.__v_raw,!d&&track(toRaw(g),"iterate",ITERATE_KEY),Reflect.get(g,"size",g)}function add(g){g=toRaw(g);const d=toRaw(this);return getProto(d).has.call(d,g)||(d.add(g),trigger(d,"add",g,g)),this}function set(g,d){d=toRaw(d);const x=toRaw(this),{has:b,get:S}=getProto(x);let w=b.call(x,g);w||(g=toRaw(g),w=b.call(x,g));const C=S.call(x,g);return x.set(g,d),w?hasChanged(d,C)&&trigger(x,"set",g,d):trigger(x,"add",g,d),this}function deleteEntry(g){const d=toRaw(this),{has:x,get:b}=getProto(d);let S=x.call(d,g);S||(g=toRaw(g),S=x.call(d,g)),b&&b.call(d,g);const w=d.delete(g);return S&&trigger(d,"delete",g,void 0),w}function clear(){const g=toRaw(this),d=g.size!==0,x=g.clear();return d&&trigger(g,"clear",void 0,void 0),x}function createForEach(g,d){return function(b,S){const w=this,C=w.__v_raw,F=toRaw(C),E=d?toShallow:g?toReadonly:toReactive;return!g&&track(F,"iterate",ITERATE_KEY),C.forEach((k,D)=>b.call(S,E(k),E(D),w))}}function createIterableMethod(g,d,x){return function(...b){const S=this.__v_raw,w=toRaw(S),C=isMap(w),F=g==="entries"||g===Symbol.iterator&&C,E=g==="keys"&&C,k=S[g](...b),D=x?toShallow:d?toReadonly:toReactive;return!d&&track(w,"iterate",E?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:M,done:L}=k.next();return L?{value:M,done:L}:{value:F?[D(M[0]),D(M[1])]:D(M),done:L}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(g){return function(...d){return g==="delete"?!1:g==="clear"?void 0:this}}function createInstrumentations(){const g={get(w){return get(this,w)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},d={get(w){return get(this,w,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},x={get(w){return get(this,w,!0)},get size(){return size(this,!0)},has(w){return has.call(this,w,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},b={get(w){return get(this,w,!0,!0)},get size(){return size(this,!0)},has(w){return has.call(this,w,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(w=>{g[w]=createIterableMethod(w,!1,!1),x[w]=createIterableMethod(w,!0,!1),d[w]=createIterableMethod(w,!1,!0),b[w]=createIterableMethod(w,!0,!0)}),[g,x,d,b]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(g,d){const x=d?g?shallowReadonlyInstrumentations:shallowInstrumentations:g?readonlyInstrumentations:mutableInstrumentations;return(b,S,w)=>S==="__v_isReactive"?!g:S==="__v_isReadonly"?g:S==="__v_raw"?b:Reflect.get(hasOwn(x,S)&&S in b?x:b,S,w)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(g){switch(g){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(g){return g.__v_skip||!Object.isExtensible(g)?0:targetTypeMap(toRawType(g))}function reactive(g){return isReadonly(g)?g:createReactiveObject(g,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(g){return createReactiveObject(g,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(g){return createReactiveObject(g,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(g,d,x,b,S){if(!isObject(g)||g.__v_raw&&!(d&&g.__v_isReactive))return g;const w=S.get(g);if(w)return w;const C=getTargetType(g);if(C===0)return g;const F=new Proxy(g,C===2?b:x);return S.set(g,F),F}function isReactive(g){return isReadonly(g)?isReactive(g.__v_raw):!!(g&&g.__v_isReactive)}function isReadonly(g){return!!(g&&g.__v_isReadonly)}function isShallow(g){return!!(g&&g.__v_isShallow)}function isProxy(g){return isReactive(g)||isReadonly(g)}function toRaw(g){const d=g&&g.__v_raw;return d?toRaw(d):g}function markRaw(g){return def(g,"__v_skip",!0),g}const toReactive=g=>isObject(g)?reactive(g):g,toReadonly=g=>isObject(g)?readonly(g):g;function trackRefValue(g){shouldTrack&&activeEffect&&(g=toRaw(g),trackEffects(g.dep||(g.dep=createDep())))}function triggerRefValue(g,d){g=toRaw(g);const x=g.dep;x&&triggerEffects(x)}function isRef(g){return!!(g&&g.__v_isRef===!0)}function ref(g){return createRef(g,!1)}function shallowRef(g){return createRef(g,!0)}function createRef(g,d){return isRef(g)?g:new RefImpl(g,d)}class RefImpl{constructor(d,x){this.__v_isShallow=x,this.dep=void 0,this.__v_isRef=!0,this._rawValue=x?d:toRaw(d),this._value=x?d:toReactive(d)}get value(){return trackRefValue(this),this._value}set value(d){const x=this.__v_isShallow||isShallow(d)||isReadonly(d);d=x?d:toRaw(d),hasChanged(d,this._rawValue)&&(this._rawValue=d,this._value=x?d:toReactive(d),triggerRefValue(this))}}function unref(g){return isRef(g)?g.value:g}const shallowUnwrapHandlers={get:(g,d,x)=>unref(Reflect.get(g,d,x)),set:(g,d,x,b)=>{const S=g[d];return isRef(S)&&!isRef(x)?(S.value=x,!0):Reflect.set(g,d,x,b)}};function proxyRefs(g){return isReactive(g)?g:new Proxy(g,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(d,x,b,S){this._setter=x,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(d,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!S,this.__v_isReadonly=b}get value(){const d=toRaw(this);return trackRefValue(d),(d._dirty||!d._cacheable)&&(d._dirty=!1,d._value=d.effect.run()),d._value}set value(d){this._setter(d)}}function computed$1(g,d,x=!1){let b,S;const w=isFunction$1(g);return w?(b=g,S=NOOP$1):(b=g.get,S=g.set),new ComputedRefImpl(b,S,w||!S,x)}function warn$1(g,...d){}function callWithErrorHandling(g,d,x,b){let S;try{S=b?g(...b):g()}catch(w){handleError(w,d,x)}return S}function callWithAsyncErrorHandling(g,d,x,b){if(isFunction$1(g)){const w=callWithErrorHandling(g,d,x,b);return w&&isPromise(w)&&w.catch(C=>{handleError(C,d,x)}),w}const S=[];for(let w=0;w<g.length;w++)S.push(callWithAsyncErrorHandling(g[w],d,x,b));return S}function handleError(g,d,x,b=!0){const S=d?d.vnode:null;if(d){let w=d.parent;const C=d.proxy,F=x;for(;w;){const k=w.ec;if(k){for(let D=0;D<k.length;D++)if(k[D](g,C,F)===!1)return}w=w.parent}const E=d.appContext.config.errorHandler;if(E){callWithErrorHandling(E,null,10,[g,C,F]);return}}logError(g,x,S,b)}function logError(g,d,x,b=!0){console.error(g)}let isFlushing=!1,isFlushPending=!1;const queue$1=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(g){const d=currentFlushPromise||resolvedPromise;return g?d.then(this?g.bind(this):g):d}function findInsertionIndex(g){let d=flushIndex+1,x=queue$1.length;for(;d<x;){const b=d+x>>>1,S=queue$1[b],w=getId(S);w<g||w===g&&S.pre?d=b+1:x=b}return d}function queueJob(g){(!queue$1.length||!queue$1.includes(g,isFlushing&&g.allowRecurse?flushIndex+1:flushIndex))&&(g.id==null?queue$1.push(g):queue$1.splice(findInsertionIndex(g.id),0,g),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(g){const d=queue$1.indexOf(g);d>flushIndex&&queue$1.splice(d,1)}function queuePostFlushCb(g){isArray$1(g)?pendingPostFlushCbs.push(...g):(!activePostFlushCbs||!activePostFlushCbs.includes(g,g.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(g),queueFlush()}function flushPreFlushCbs(g,d,x=isFlushing?flushIndex+1:0){for(;x<queue$1.length;x++){const b=queue$1[x];if(b&&b.pre){if(g&&b.id!==g.uid)continue;queue$1.splice(x,1),x--,b()}}}function flushPostFlushCbs(g){if(pendingPostFlushCbs.length){const d=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...d);return}for(activePostFlushCbs=d,activePostFlushCbs.sort((x,b)=>getId(x)-getId(b)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=g=>g.id==null?1/0:g.id,comparator=(g,d)=>{const x=getId(g)-getId(d);if(x===0){if(g.pre&&!d.pre)return-1;if(d.pre&&!g.pre)return 1}return x};function flushJobs(g){isFlushPending=!1,isFlushing=!0,queue$1.sort(comparator);try{for(flushIndex=0;flushIndex<queue$1.length;flushIndex++){const d=queue$1[flushIndex];d&&d.active!==!1&&callWithErrorHandling(d,null,14)}}finally{flushIndex=0,queue$1.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue$1.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(g,d,...x){if(g.isUnmounted)return;const b=g.vnode.props||EMPTY_OBJ;let S=x;const w=d.startsWith("update:"),C=w&&d.slice(7);if(C&&C in b){const D=`${C==="modelValue"?"model":C}Modifiers`,{number:M,trim:L}=b[D]||EMPTY_OBJ;L&&(S=x.map(R=>isString(R)?R.trim():R)),M&&(S=x.map(looseToNumber))}let F,E=b[F=toHandlerKey(d)]||b[F=toHandlerKey(camelize(d))];!E&&w&&(E=b[F=toHandlerKey(hyphenate(d))]),E&&callWithAsyncErrorHandling(E,g,6,S);const k=b[F+"Once"];if(k){if(!g.emitted)g.emitted={};else if(g.emitted[F])return;g.emitted[F]=!0,callWithAsyncErrorHandling(k,g,6,S)}}function normalizeEmitsOptions(g,d,x=!1){const b=d.emitsCache,S=b.get(g);if(S!==void 0)return S;const w=g.emits;let C={},F=!1;if(!isFunction$1(g)){const E=k=>{const D=normalizeEmitsOptions(k,d,!0);D&&(F=!0,extend(C,D))};!x&&d.mixins.length&&d.mixins.forEach(E),g.extends&&E(g.extends),g.mixins&&g.mixins.forEach(E)}return!w&&!F?(isObject(g)&&b.set(g,null),null):(isArray$1(w)?w.forEach(E=>C[E]=null):extend(C,w),isObject(g)&&b.set(g,C),C)}function isEmitListener(g,d){return!g||!isOn(d)?!1:(d=d.slice(2).replace(/Once$/,""),hasOwn(g,d[0].toLowerCase()+d.slice(1))||hasOwn(g,hyphenate(d))||hasOwn(g,d))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(g){const d=currentRenderingInstance;return currentRenderingInstance=g,currentScopeId=g&&g.type.__scopeId||null,d}function pushScopeId(g){currentScopeId=g}function popScopeId(){currentScopeId=null}function withCtx(g,d=currentRenderingInstance,x){if(!d||g._n)return g;const b=(...S)=>{b._d&&setBlockTracking(-1);const w=setCurrentRenderingInstance(d);let C;try{C=g(...S)}finally{setCurrentRenderingInstance(w),b._d&&setBlockTracking(1)}return C};return b._n=!0,b._c=!0,b._d=!0,b}function markAttrsAccessed(){}function renderComponentRoot(g){const{type:d,vnode:x,proxy:b,withProxy:S,props:w,propsOptions:[C],slots:F,attrs:E,emit:k,render:D,renderCache:M,data:L,setupState:R,ctx:U,inheritAttrs:j}=g;let H,V;const z=setCurrentRenderingInstance(g);try{if(x.shapeFlag&4){const X=S||b,Y=X;H=normalizeVNode(D.call(Y,X,M,w,R,L,U)),V=E}else{const X=d;H=normalizeVNode(X.length>1?X(w,{attrs:E,slots:F,emit:k}):X(w,null)),V=d.props?E:getFunctionalFallthrough(E)}}catch(X){blockStack.length=0,handleError(X,g,1),H=createVNode(Comment)}let G=H;if(V&&j!==!1){const X=Object.keys(V),{shapeFlag:Y}=G;X.length&&Y&7&&(C&&X.some(isModelListener)&&(V=filterModelListeners(V,C)),G=cloneVNode(G,V))}return x.dirs&&(G=cloneVNode(G),G.dirs=G.dirs?G.dirs.concat(x.dirs):x.dirs),x.transition&&(G.transition=x.transition),H=G,setCurrentRenderingInstance(z),H}const getFunctionalFallthrough=g=>{let d;for(const x in g)(x==="class"||x==="style"||isOn(x))&&((d||(d={}))[x]=g[x]);return d},filterModelListeners=(g,d)=>{const x={};for(const b in g)(!isModelListener(b)||!(b.slice(9)in d))&&(x[b]=g[b]);return x};function shouldUpdateComponent(g,d,x){const{props:b,children:S,component:w}=g,{props:C,children:F,patchFlag:E}=d,k=w.emitsOptions;if(d.dirs||d.transition)return!0;if(x&&E>=0){if(E&1024)return!0;if(E&16)return b?hasPropsChanged(b,C,k):!!C;if(E&8){const D=d.dynamicProps;for(let M=0;M<D.length;M++){const L=D[M];if(C[L]!==b[L]&&!isEmitListener(k,L))return!0}}}else return(S||F)&&(!F||!F.$stable)?!0:b===C?!1:b?C?hasPropsChanged(b,C,k):!0:!!C;return!1}function hasPropsChanged(g,d,x){const b=Object.keys(d);if(b.length!==Object.keys(g).length)return!0;for(let S=0;S<b.length;S++){const w=b[S];if(d[w]!==g[w]&&!isEmitListener(x,w))return!0}return!1}function updateHOCHostEl({vnode:g,parent:d},x){for(;d&&d.subTree===g;)(g=d.vnode).el=x,d=d.parent}const COMPONENTS="components";function resolveComponent(g,d){return resolveAsset(COMPONENTS,g,!0,d)||g}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveAsset(g,d,x=!0,b=!1){const S=currentRenderingInstance||currentInstance;if(S){const w=S.type;if(g===COMPONENTS){const F=getComponentName(w,!1);if(F&&(F===d||F===camelize(d)||F===capitalize(camelize(d))))return w}const C=resolve(S[g]||w[g],d)||resolve(S.appContext[g],d);return!C&&b?w:C}}function resolve(g,d){return g&&(g[d]||g[camelize(d)]||g[capitalize(camelize(d))])}const isSuspense=g=>g.__isSuspense;function queueEffectWithSuspense(g,d){d&&d.pendingBranch?isArray$1(g)?d.effects.push(...g):d.effects.push(g):queuePostFlushCb(g)}function watchPostEffect(g,d){return doWatch(g,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(g,d,x){return doWatch(g,d,x)}function doWatch(g,d,{immediate:x,deep:b,flush:S,onTrack:w,onTrigger:C}=EMPTY_OBJ){var F;const E=getCurrentScope()===((F=currentInstance)==null?void 0:F.scope)?currentInstance:null;let k,D=!1,M=!1;if(isRef(g)?(k=()=>g.value,D=isShallow(g)):isReactive(g)?(k=()=>g,b=!0):isArray$1(g)?(M=!0,D=g.some(X=>isReactive(X)||isShallow(X)),k=()=>g.map(X=>{if(isRef(X))return X.value;if(isReactive(X))return traverse(X);if(isFunction$1(X))return callWithErrorHandling(X,E,2)})):isFunction$1(g)?d?k=()=>callWithErrorHandling(g,E,2):k=()=>{if(!(E&&E.isUnmounted))return L&&L(),callWithAsyncErrorHandling(g,E,3,[R])}:k=NOOP$1,d&&b){const X=k;k=()=>traverse(X())}let L,R=X=>{L=z.onStop=()=>{callWithErrorHandling(X,E,4),L=z.onStop=void 0}},U;if(isInSSRComponentSetup)if(R=NOOP$1,d?x&&callWithAsyncErrorHandling(d,E,3,[k(),M?[]:void 0,R]):k(),S==="sync"){const X=useSSRContext();U=X.__watcherHandles||(X.__watcherHandles=[])}else return NOOP$1;let j=M?new Array(g.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const H=()=>{if(z.active)if(d){const X=z.run();(b||D||(M?X.some((Y,J)=>hasChanged(Y,j[J])):hasChanged(X,j)))&&(L&&L(),callWithAsyncErrorHandling(d,E,3,[X,j===INITIAL_WATCHER_VALUE?void 0:M&&j[0]===INITIAL_WATCHER_VALUE?[]:j,R]),j=X)}else z.run()};H.allowRecurse=!!d;let V;S==="sync"?V=H:S==="post"?V=()=>queuePostRenderEffect(H,E&&E.suspense):(H.pre=!0,E&&(H.id=E.uid),V=()=>queueJob(H));const z=new ReactiveEffect(k,V);d?x?H():j=z.run():S==="post"?queuePostRenderEffect(z.run.bind(z),E&&E.suspense):z.run();const G=()=>{z.stop(),E&&E.scope&&remove(E.scope.effects,z)};return U&&U.push(G),G}function instanceWatch(g,d,x){const b=this.proxy,S=isString(g)?g.includes(".")?createPathGetter(b,g):()=>b[g]:g.bind(b,b);let w;isFunction$1(d)?w=d:(w=d.handler,x=d);const C=currentInstance;setCurrentInstance(this);const F=doWatch(S,w.bind(b),x);return C?setCurrentInstance(C):unsetCurrentInstance(),F}function createPathGetter(g,d){const x=d.split(".");return()=>{let b=g;for(let S=0;S<x.length&&b;S++)b=b[x[S]];return b}}function traverse(g,d){if(!isObject(g)||g.__v_skip||(d=d||new Set,d.has(g)))return g;if(d.add(g),isRef(g))traverse(g.value,d);else if(isArray$1(g))for(let x=0;x<g.length;x++)traverse(g[x],d);else if(isSet(g)||isMap(g))g.forEach(x=>{traverse(x,d)});else if(isPlainObject(g))for(const x in g)traverse(g[x],d);return g}function withDirectives(g,d){const x=currentRenderingInstance;if(x===null)return g;const b=getExposeProxy(x)||x.proxy,S=g.dirs||(g.dirs=[]);for(let w=0;w<d.length;w++){let[C,F,E,k=EMPTY_OBJ]=d[w];C&&(isFunction$1(C)&&(C={mounted:C,updated:C}),C.deep&&traverse(F),S.push({dir:C,instance:b,value:F,oldValue:void 0,arg:E,modifiers:k}))}return g}function invokeDirectiveHook(g,d,x,b){const S=g.dirs,w=d&&d.dirs;for(let C=0;C<S.length;C++){const F=S[C];w&&(F.oldValue=w[C].value);let E=F.dir[b];E&&(pauseTracking(),callWithAsyncErrorHandling(E,x,8,[g.el,F,g,d]),resetTracking())}}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(g,d){return isFunction$1(g)?extend({name:g.name},d,{setup:g}):g}const isAsyncWrapper=g=>!!g.type.__asyncLoader,isKeepAlive=g=>g.type.__isKeepAlive;function onActivated(g,d){registerKeepAliveHook(g,"a",d)}function onDeactivated(g,d){registerKeepAliveHook(g,"da",d)}function registerKeepAliveHook(g,d,x=currentInstance){const b=g.__wdc||(g.__wdc=()=>{let S=x;for(;S;){if(S.isDeactivated)return;S=S.parent}return g()});if(injectHook(d,b,x),x){let S=x.parent;for(;S&&S.parent;)isKeepAlive(S.parent.vnode)&&injectToKeepAliveRoot(b,d,x,S),S=S.parent}}function injectToKeepAliveRoot(g,d,x,b){const S=injectHook(d,g,b,!0);onUnmounted(()=>{remove(b[d],S)},x)}function injectHook(g,d,x=currentInstance,b=!1){if(x){const S=x[g]||(x[g]=[]),w=d.__weh||(d.__weh=(...C)=>{if(x.isUnmounted)return;pauseTracking(),setCurrentInstance(x);const F=callWithAsyncErrorHandling(d,x,g,C);return unsetCurrentInstance(),resetTracking(),F});return b?S.unshift(w):S.push(w),w}}const createHook=g=>(d,x=currentInstance)=>(!isInSSRComponentSetup||g==="sp")&&injectHook(g,(...b)=>d(...b),x),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(g,d=currentInstance){injectHook("ec",g,d)}function renderList(g,d,x,b){let S;const w=x&&x[b];if(isArray$1(g)||isString(g)){S=new Array(g.length);for(let C=0,F=g.length;C<F;C++)S[C]=d(g[C],C,void 0,w&&w[C])}else if(typeof g=="number"){S=new Array(g);for(let C=0;C<g;C++)S[C]=d(C+1,C,void 0,w&&w[C])}else if(isObject(g))if(g[Symbol.iterator])S=Array.from(g,(C,F)=>d(C,F,void 0,w&&w[F]));else{const C=Object.keys(g);S=new Array(C.length);for(let F=0,E=C.length;F<E;F++){const k=C[F];S[F]=d(g[k],k,F,w&&w[F])}}else S=[];return x&&(x[b]=S),S}function renderSlot(g,d,x={},b,S){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return d!=="default"&&(x.name=d),createVNode("slot",x,b&&b());let w=g[d];w&&w._c&&(w._d=!1),openBlock();const C=w&&ensureValidVNode(w(x)),F=createBlock(Fragment,{key:x.key||C&&C.key||`_${d}`},C||(b?b():[]),C&&g._===1?64:-2);return!S&&F.scopeId&&(F.slotScopeIds=[F.scopeId+"-s"]),w&&w._c&&(w._d=!0),F}function ensureValidVNode(g){return g.some(d=>isVNode(d)?!(d.type===Comment||d.type===Fragment&&!ensureValidVNode(d.children)):!0)?g:null}const getPublicInstance=g=>g?isStatefulComponent(g)?getExposeProxy(g)||g.proxy:getPublicInstance(g.parent):null,publicPropertiesMap=extend(Object.create(null),{$:g=>g,$el:g=>g.vnode.el,$data:g=>g.data,$props:g=>g.props,$attrs:g=>g.attrs,$slots:g=>g.slots,$refs:g=>g.refs,$parent:g=>getPublicInstance(g.parent),$root:g=>getPublicInstance(g.root),$emit:g=>g.emit,$options:g=>resolveMergedOptions(g),$forceUpdate:g=>g.f||(g.f=()=>queueJob(g.update)),$nextTick:g=>g.n||(g.n=nextTick.bind(g.proxy)),$watch:g=>instanceWatch.bind(g)}),hasSetupBinding=(g,d)=>g!==EMPTY_OBJ&&!g.__isScriptSetup&&hasOwn(g,d),PublicInstanceProxyHandlers={get({_:g},d){const{ctx:x,setupState:b,data:S,props:w,accessCache:C,type:F,appContext:E}=g;let k;if(d[0]!=="$"){const R=C[d];if(R!==void 0)switch(R){case 1:return b[d];case 2:return S[d];case 4:return x[d];case 3:return w[d]}else{if(hasSetupBinding(b,d))return C[d]=1,b[d];if(S!==EMPTY_OBJ&&hasOwn(S,d))return C[d]=2,S[d];if((k=g.propsOptions[0])&&hasOwn(k,d))return C[d]=3,w[d];if(x!==EMPTY_OBJ&&hasOwn(x,d))return C[d]=4,x[d];shouldCacheAccess&&(C[d]=0)}}const D=publicPropertiesMap[d];let M,L;if(D)return d==="$attrs"&&track(g,"get",d),D(g);if((M=F.__cssModules)&&(M=M[d]))return M;if(x!==EMPTY_OBJ&&hasOwn(x,d))return C[d]=4,x[d];if(L=E.config.globalProperties,hasOwn(L,d))return L[d]},set({_:g},d,x){const{data:b,setupState:S,ctx:w}=g;return hasSetupBinding(S,d)?(S[d]=x,!0):b!==EMPTY_OBJ&&hasOwn(b,d)?(b[d]=x,!0):hasOwn(g.props,d)||d[0]==="$"&&d.slice(1)in g?!1:(w[d]=x,!0)},has({_:{data:g,setupState:d,accessCache:x,ctx:b,appContext:S,propsOptions:w}},C){let F;return!!x[C]||g!==EMPTY_OBJ&&hasOwn(g,C)||hasSetupBinding(d,C)||(F=w[0])&&hasOwn(F,C)||hasOwn(b,C)||hasOwn(publicPropertiesMap,C)||hasOwn(S.config.globalProperties,C)},defineProperty(g,d,x){return x.get!=null?g._.accessCache[d]=0:hasOwn(x,"value")&&this.set(g,d,x.value,null),Reflect.defineProperty(g,d,x)}};function useSlots(){return getContext().slots}function getContext(){const g=getCurrentInstance();return g.setupContext||(g.setupContext=createSetupContext(g))}function normalizePropsOrEmits(g){return isArray$1(g)?g.reduce((d,x)=>(d[x]=null,d),{}):g}let shouldCacheAccess=!0;function applyOptions(g){const d=resolveMergedOptions(g),x=g.proxy,b=g.ctx;shouldCacheAccess=!1,d.beforeCreate&&callHook(d.beforeCreate,g,"bc");const{data:S,computed:w,methods:C,watch:F,provide:E,inject:k,created:D,beforeMount:M,mounted:L,beforeUpdate:R,updated:U,activated:j,deactivated:H,beforeDestroy:V,beforeUnmount:z,destroyed:G,unmounted:X,render:Y,renderTracked:J,renderTriggered:ee,errorCaptured:ie,serverPrefetch:oe,expose:he,inheritAttrs:fe,components:Se,directives:we,filters:Ee}=d;if(k&&resolveInjections(k,b,null),C)for(const Te in C){const Oe=C[Te];isFunction$1(Oe)&&(b[Te]=Oe.bind(x))}if(S){const Te=S.call(x,x);isObject(Te)&&(g.data=reactive(Te))}if(shouldCacheAccess=!0,w)for(const Te in w){const Oe=w[Te],Ne=isFunction$1(Oe)?Oe.bind(x,x):isFunction$1(Oe.get)?Oe.get.bind(x,x):NOOP$1,Le=!isFunction$1(Oe)&&isFunction$1(Oe.set)?Oe.set.bind(x):NOOP$1,Me=computed({get:Ne,set:Le});Object.defineProperty(b,Te,{enumerable:!0,configurable:!0,get:()=>Me.value,set:Ie=>Me.value=Ie})}if(F)for(const Te in F)createWatcher(F[Te],b,x,Te);if(E){const Te=isFunction$1(E)?E.call(x):E;Reflect.ownKeys(Te).forEach(Oe=>{provide(Oe,Te[Oe])})}D&&callHook(D,g,"c");function xe(Te,Oe){isArray$1(Oe)?Oe.forEach(Ne=>Te(Ne.bind(x))):Oe&&Te(Oe.bind(x))}if(xe(onBeforeMount,M),xe(onMounted,L),xe(onBeforeUpdate,R),xe(onUpdated,U),xe(onActivated,j),xe(onDeactivated,H),xe(onErrorCaptured,ie),xe(onRenderTracked,J),xe(onRenderTriggered,ee),xe(onBeforeUnmount,z),xe(onUnmounted,X),xe(onServerPrefetch,oe),isArray$1(he))if(he.length){const Te=g.exposed||(g.exposed={});he.forEach(Oe=>{Object.defineProperty(Te,Oe,{get:()=>x[Oe],set:Ne=>x[Oe]=Ne})})}else g.exposed||(g.exposed={});Y&&g.render===NOOP$1&&(g.render=Y),fe!=null&&(g.inheritAttrs=fe),Se&&(g.components=Se),we&&(g.directives=we)}function resolveInjections(g,d,x=NOOP$1){isArray$1(g)&&(g=normalizeInject(g));for(const b in g){const S=g[b];let w;isObject(S)?"default"in S?w=inject(S.from||b,S.default,!0):w=inject(S.from||b):w=inject(S),isRef(w)?Object.defineProperty(d,b,{enumerable:!0,configurable:!0,get:()=>w.value,set:C=>w.value=C}):d[b]=w}}function callHook(g,d,x){callWithAsyncErrorHandling(isArray$1(g)?g.map(b=>b.bind(d.proxy)):g.bind(d.proxy),d,x)}function createWatcher(g,d,x,b){const S=b.includes(".")?createPathGetter(x,b):()=>x[b];if(isString(g)){const w=d[g];isFunction$1(w)&&watch(S,w)}else if(isFunction$1(g))watch(S,g.bind(x));else if(isObject(g))if(isArray$1(g))g.forEach(w=>createWatcher(w,d,x,b));else{const w=isFunction$1(g.handler)?g.handler.bind(x):d[g.handler];isFunction$1(w)&&watch(S,w,g)}}function resolveMergedOptions(g){const d=g.type,{mixins:x,extends:b}=d,{mixins:S,optionsCache:w,config:{optionMergeStrategies:C}}=g.appContext,F=w.get(d);let E;return F?E=F:!S.length&&!x&&!b?E=d:(E={},S.length&&S.forEach(k=>mergeOptions$1(E,k,C,!0)),mergeOptions$1(E,d,C)),isObject(d)&&w.set(d,E),E}function mergeOptions$1(g,d,x,b=!1){const{mixins:S,extends:w}=d;w&&mergeOptions$1(g,w,x,!0),S&&S.forEach(C=>mergeOptions$1(g,C,x,!0));for(const C in d)if(!(b&&C==="expose")){const F=internalOptionMergeStrats[C]||x&&x[C];g[C]=F?F(g[C],d[C]):d[C]}return g}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(g,d){return d?g?function(){return extend(isFunction$1(g)?g.call(this,this):g,isFunction$1(d)?d.call(this,this):d)}:d:g}function mergeInject(g,d){return mergeObjectOptions(normalizeInject(g),normalizeInject(d))}function normalizeInject(g){if(isArray$1(g)){const d={};for(let x=0;x<g.length;x++)d[g[x]]=g[x];return d}return g}function mergeAsArray(g,d){return g?[...new Set([].concat(g,d))]:d}function mergeObjectOptions(g,d){return g?extend(Object.create(null),g,d):d}function mergeEmitsOrPropsOptions(g,d){return g?isArray$1(g)&&isArray$1(d)?[...new Set([...g,...d])]:extend(Object.create(null),normalizePropsOrEmits(g),normalizePropsOrEmits(d??{})):d}function mergeWatchOptions(g,d){if(!g)return d;if(!d)return g;const x=extend(Object.create(null),g);for(const b in d)x[b]=mergeAsArray(g[b],d[b]);return x}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(g,d){return function(b,S=null){isFunction$1(b)||(b=extend({},b)),S!=null&&!isObject(S)&&(S=null);const w=createAppContext(),C=new WeakSet;let F=!1;const E=w.app={_uid:uid$1++,_component:b,_props:S,_container:null,_context:w,_instance:null,version,get config(){return w.config},set config(k){},use(k,...D){return C.has(k)||(k&&isFunction$1(k.install)?(C.add(k),k.install(E,...D)):isFunction$1(k)&&(C.add(k),k(E,...D))),E},mixin(k){return w.mixins.includes(k)||w.mixins.push(k),E},component(k,D){return D?(w.components[k]=D,E):w.components[k]},directive(k,D){return D?(w.directives[k]=D,E):w.directives[k]},mount(k,D,M){if(!F){const L=createVNode(b,S);return L.appContext=w,D&&d?d(L,k):g(L,k,M),F=!0,E._container=k,k.__vue_app__=E,getExposeProxy(L.component)||L.component.proxy}},unmount(){F&&(g(null,E._container),delete E._container.__vue_app__)},provide(k,D){return w.provides[k]=D,E},runWithContext(k){currentApp=E;try{return k()}finally{currentApp=null}}};return E}}let currentApp=null;function provide(g,d){if(currentInstance){let x=currentInstance.provides;const b=currentInstance.parent&&currentInstance.parent.provides;b===x&&(x=currentInstance.provides=Object.create(b)),x[g]=d}}function inject(g,d,x=!1){const b=currentInstance||currentRenderingInstance;if(b||currentApp){const S=b?b.parent==null?b.vnode.appContext&&b.vnode.appContext.provides:b.parent.provides:currentApp._context.provides;if(S&&g in S)return S[g];if(arguments.length>1)return x&&isFunction$1(d)?d.call(b&&b.proxy):d}}function initProps(g,d,x,b=!1){const S={},w={};def(w,InternalObjectKey,1),g.propsDefaults=Object.create(null),setFullProps(g,d,S,w);for(const C in g.propsOptions[0])C in S||(S[C]=void 0);x?g.props=b?S:shallowReactive(S):g.type.props?g.props=S:g.props=w,g.attrs=w}function updateProps(g,d,x,b){const{props:S,attrs:w,vnode:{patchFlag:C}}=g,F=toRaw(S),[E]=g.propsOptions;let k=!1;if((b||C>0)&&!(C&16)){if(C&8){const D=g.vnode.dynamicProps;for(let M=0;M<D.length;M++){let L=D[M];if(isEmitListener(g.emitsOptions,L))continue;const R=d[L];if(E)if(hasOwn(w,L))R!==w[L]&&(w[L]=R,k=!0);else{const U=camelize(L);S[U]=resolvePropValue(E,F,U,R,g,!1)}else R!==w[L]&&(w[L]=R,k=!0)}}}else{setFullProps(g,d,S,w)&&(k=!0);let D;for(const M in F)(!d||!hasOwn(d,M)&&((D=hyphenate(M))===M||!hasOwn(d,D)))&&(E?x&&(x[M]!==void 0||x[D]!==void 0)&&(S[M]=resolvePropValue(E,F,M,void 0,g,!0)):delete S[M]);if(w!==F)for(const M in w)(!d||!hasOwn(d,M))&&(delete w[M],k=!0)}k&&trigger(g,"set","$attrs")}function setFullProps(g,d,x,b){const[S,w]=g.propsOptions;let C=!1,F;if(d)for(let E in d){if(isReservedProp(E))continue;const k=d[E];let D;S&&hasOwn(S,D=camelize(E))?!w||!w.includes(D)?x[D]=k:(F||(F={}))[D]=k:isEmitListener(g.emitsOptions,E)||(!(E in b)||k!==b[E])&&(b[E]=k,C=!0)}if(w){const E=toRaw(x),k=F||EMPTY_OBJ;for(let D=0;D<w.length;D++){const M=w[D];x[M]=resolvePropValue(S,E,M,k[M],g,!hasOwn(k,M))}}return C}function resolvePropValue(g,d,x,b,S,w){const C=g[x];if(C!=null){const F=hasOwn(C,"default");if(F&&b===void 0){const E=C.default;if(C.type!==Function&&!C.skipFactory&&isFunction$1(E)){const{propsDefaults:k}=S;x in k?b=k[x]:(setCurrentInstance(S),b=k[x]=E.call(null,d),unsetCurrentInstance())}else b=E}C[0]&&(w&&!F?b=!1:C[1]&&(b===""||b===hyphenate(x))&&(b=!0))}return b}function normalizePropsOptions(g,d,x=!1){const b=d.propsCache,S=b.get(g);if(S)return S;const w=g.props,C={},F=[];let E=!1;if(!isFunction$1(g)){const D=M=>{E=!0;const[L,R]=normalizePropsOptions(M,d,!0);extend(C,L),R&&F.push(...R)};!x&&d.mixins.length&&d.mixins.forEach(D),g.extends&&D(g.extends),g.mixins&&g.mixins.forEach(D)}if(!w&&!E)return isObject(g)&&b.set(g,EMPTY_ARR),EMPTY_ARR;if(isArray$1(w))for(let D=0;D<w.length;D++){const M=camelize(w[D]);validatePropName(M)&&(C[M]=EMPTY_OBJ)}else if(w)for(const D in w){const M=camelize(D);if(validatePropName(M)){const L=w[D],R=C[M]=isArray$1(L)||isFunction$1(L)?{type:L}:extend({},L);if(R){const U=getTypeIndex(Boolean,R.type),j=getTypeIndex(String,R.type);R[0]=U>-1,R[1]=j<0||U<j,(U>-1||hasOwn(R,"default"))&&F.push(M)}}}const k=[C,F];return isObject(g)&&b.set(g,k),k}function validatePropName(g){return g[0]!=="$"}function getType$1(g){const d=g&&g.toString().match(/^\s*(function|class) (\w+)/);return d?d[2]:g===null?"null":""}function isSameType(g,d){return getType$1(g)===getType$1(d)}function getTypeIndex(g,d){return isArray$1(d)?d.findIndex(x=>isSameType(x,g)):isFunction$1(d)&&isSameType(d,g)?0:-1}const isInternalKey=g=>g[0]==="_"||g==="$stable",normalizeSlotValue=g=>isArray$1(g)?g.map(normalizeVNode):[normalizeVNode(g)],normalizeSlot$1=(g,d,x)=>{if(d._n)return d;const b=withCtx((...S)=>normalizeSlotValue(d(...S)),x);return b._c=!1,b},normalizeObjectSlots=(g,d,x)=>{const b=g._ctx;for(const S in g){if(isInternalKey(S))continue;const w=g[S];if(isFunction$1(w))d[S]=normalizeSlot$1(S,w,b);else if(w!=null){const C=normalizeSlotValue(w);d[S]=()=>C}}},normalizeVNodeSlots=(g,d)=>{const x=normalizeSlotValue(d);g.slots.default=()=>x},initSlots=(g,d)=>{if(g.vnode.shapeFlag&32){const x=d._;x?(g.slots=toRaw(d),def(d,"_",x)):normalizeObjectSlots(d,g.slots={})}else g.slots={},d&&normalizeVNodeSlots(g,d);def(g.slots,InternalObjectKey,1)},updateSlots=(g,d,x)=>{const{vnode:b,slots:S}=g;let w=!0,C=EMPTY_OBJ;if(b.shapeFlag&32){const F=d._;F?x&&F===1?w=!1:(extend(S,d),!x&&F===1&&delete S._):(w=!d.$stable,normalizeObjectSlots(d,S)),C=d}else d&&(normalizeVNodeSlots(g,d),C={default:1});if(w)for(const F in S)!isInternalKey(F)&&C[F]==null&&delete S[F]};function setRef(g,d,x,b,S=!1){if(isArray$1(g)){g.forEach((L,R)=>setRef(L,d&&(isArray$1(d)?d[R]:d),x,b,S));return}if(isAsyncWrapper(b)&&!S)return;const w=b.shapeFlag&4?getExposeProxy(b.component)||b.component.proxy:b.el,C=S?null:w,{i:F,r:E}=g,k=d&&d.r,D=F.refs===EMPTY_OBJ?F.refs={}:F.refs,M=F.setupState;if(k!=null&&k!==E&&(isString(k)?(D[k]=null,hasOwn(M,k)&&(M[k]=null)):isRef(k)&&(k.value=null)),isFunction$1(E))callWithErrorHandling(E,F,12,[C,D]);else{const L=isString(E),R=isRef(E);if(L||R){const U=()=>{if(g.f){const j=L?hasOwn(M,E)?M[E]:D[E]:E.value;S?isArray$1(j)&&remove(j,w):isArray$1(j)?j.includes(w)||j.push(w):L?(D[E]=[w],hasOwn(M,E)&&(M[E]=D[E])):(E.value=[w],g.k&&(D[g.k]=E.value))}else L?(D[E]=C,hasOwn(M,E)&&(M[E]=C)):R&&(E.value=C,g.k&&(D[g.k]=C))};C?(U.id=-1,queuePostRenderEffect(U,x)):U()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(g){return baseCreateRenderer(g)}function baseCreateRenderer(g,d){const x=getGlobalThis();x.__VUE__=!0;const{insert:b,remove:S,patchProp:w,createElement:C,createText:F,createComment:E,setText:k,setElementText:D,parentNode:M,nextSibling:L,setScopeId:R=NOOP$1,insertStaticContent:U}=g,j=(K,Q,ae,ce=null,le=null,ge=null,pe=!1,ye=null,ve=!!Q.dynamicChildren)=>{if(K===Q)return;K&&!isSameVNodeType(K,Q)&&(ce=te(K),Ie(K,le,ge,!0),K=null),Q.patchFlag===-2&&(ve=!1,Q.dynamicChildren=null);const{type:be,ref:me,shapeFlag:Fe}=Q;switch(be){case Text$1:H(K,Q,ae,ce);break;case Comment:V(K,Q,ae,ce);break;case Static:K==null&&z(Q,ae,ce,pe);break;case Fragment:Se(K,Q,ae,ce,le,ge,pe,ye,ve);break;default:Fe&1?Y(K,Q,ae,ce,le,ge,pe,ye,ve):Fe&6?we(K,Q,ae,ce,le,ge,pe,ye,ve):(Fe&64||Fe&128)&&be.process(K,Q,ae,ce,le,ge,pe,ye,ve,W)}me!=null&&le&&setRef(me,K&&K.ref,ge,Q||K,!Q)},H=(K,Q,ae,ce)=>{if(K==null)b(Q.el=F(Q.children),ae,ce);else{const le=Q.el=K.el;Q.children!==K.children&&k(le,Q.children)}},V=(K,Q,ae,ce)=>{K==null?b(Q.el=E(Q.children||""),ae,ce):Q.el=K.el},z=(K,Q,ae,ce)=>{[K.el,K.anchor]=U(K.children,Q,ae,ce,K.el,K.anchor)},G=({el:K,anchor:Q},ae,ce)=>{let le;for(;K&&K!==Q;)le=L(K),b(K,ae,ce),K=le;b(Q,ae,ce)},X=({el:K,anchor:Q})=>{let ae;for(;K&&K!==Q;)ae=L(K),S(K),K=ae;S(Q)},Y=(K,Q,ae,ce,le,ge,pe,ye,ve)=>{pe=pe||Q.type==="svg",K==null?J(Q,ae,ce,le,ge,pe,ye,ve):oe(K,Q,le,ge,pe,ye,ve)},J=(K,Q,ae,ce,le,ge,pe,ye)=>{let ve,be;const{type:me,props:Fe,shapeFlag:Re,transition:ke,dirs:je}=K;if(ve=K.el=C(K.type,ge,Fe&&Fe.is,Fe),Re&8?D(ve,K.children):Re&16&&ie(K.children,ve,null,ce,le,ge&&me!=="foreignObject",pe,ye),je&&invokeDirectiveHook(K,null,ce,"created"),ee(ve,K,K.scopeId,pe,ce),Fe){for(const ne in Fe)ne!=="value"&&!isReservedProp(ne)&&w(ve,ne,null,Fe[ne],ge,K.children,ce,le,Ce);"value"in Fe&&w(ve,"value",null,Fe.value),(be=Fe.onVnodeBeforeMount)&&invokeVNodeHook(be,ce,K)}je&&invokeDirectiveHook(K,null,ce,"beforeMount");const ue=needTransition(le,ke);ue&&ke.beforeEnter(ve),b(ve,Q,ae),((be=Fe&&Fe.onVnodeMounted)||ue||je)&&queuePostRenderEffect(()=>{be&&invokeVNodeHook(be,ce,K),ue&&ke.enter(ve),je&&invokeDirectiveHook(K,null,ce,"mounted")},le)},ee=(K,Q,ae,ce,le)=>{if(ae&&R(K,ae),ce)for(let ge=0;ge<ce.length;ge++)R(K,ce[ge]);if(le){let ge=le.subTree;if(Q===ge){const pe=le.vnode;ee(K,pe,pe.scopeId,pe.slotScopeIds,le.parent)}}},ie=(K,Q,ae,ce,le,ge,pe,ye,ve=0)=>{for(let be=ve;be<K.length;be++){const me=K[be]=ye?cloneIfMounted(K[be]):normalizeVNode(K[be]);j(null,me,Q,ae,ce,le,ge,pe,ye)}},oe=(K,Q,ae,ce,le,ge,pe)=>{const ye=Q.el=K.el;let{patchFlag:ve,dynamicChildren:be,dirs:me}=Q;ve|=K.patchFlag&16;const Fe=K.props||EMPTY_OBJ,Re=Q.props||EMPTY_OBJ;let ke;ae&&toggleRecurse(ae,!1),(ke=Re.onVnodeBeforeUpdate)&&invokeVNodeHook(ke,ae,Q,K),me&&invokeDirectiveHook(Q,K,ae,"beforeUpdate"),ae&&toggleRecurse(ae,!0);const je=le&&Q.type!=="foreignObject";if(be?he(K.dynamicChildren,be,ye,ae,ce,je,ge):pe||Oe(K,Q,ye,null,ae,ce,je,ge,!1),ve>0){if(ve&16)fe(ye,Q,Fe,Re,ae,ce,le);else if(ve&2&&Fe.class!==Re.class&&w(ye,"class",null,Re.class,le),ve&4&&w(ye,"style",Fe.style,Re.style,le),ve&8){const ue=Q.dynamicProps;for(let ne=0;ne<ue.length;ne++){const se=ue[ne],Ae=Fe[se],_e=Re[se];(_e!==Ae||se==="value")&&w(ye,se,Ae,_e,le,K.children,ae,ce,Ce)}}ve&1&&K.children!==Q.children&&D(ye,Q.children)}else!pe&&be==null&&fe(ye,Q,Fe,Re,ae,ce,le);((ke=Re.onVnodeUpdated)||me)&&queuePostRenderEffect(()=>{ke&&invokeVNodeHook(ke,ae,Q,K),me&&invokeDirectiveHook(Q,K,ae,"updated")},ce)},he=(K,Q,ae,ce,le,ge,pe)=>{for(let ye=0;ye<Q.length;ye++){const ve=K[ye],be=Q[ye],me=ve.el&&(ve.type===Fragment||!isSameVNodeType(ve,be)||ve.shapeFlag&70)?M(ve.el):ae;j(ve,be,me,null,ce,le,ge,pe,!0)}},fe=(K,Q,ae,ce,le,ge,pe)=>{if(ae!==ce){if(ae!==EMPTY_OBJ)for(const ye in ae)!isReservedProp(ye)&&!(ye in ce)&&w(K,ye,ae[ye],null,pe,Q.children,le,ge,Ce);for(const ye in ce){if(isReservedProp(ye))continue;const ve=ce[ye],be=ae[ye];ve!==be&&ye!=="value"&&w(K,ye,be,ve,pe,Q.children,le,ge,Ce)}"value"in ce&&w(K,"value",ae.value,ce.value)}},Se=(K,Q,ae,ce,le,ge,pe,ye,ve)=>{const be=Q.el=K?K.el:F(""),me=Q.anchor=K?K.anchor:F("");let{patchFlag:Fe,dynamicChildren:Re,slotScopeIds:ke}=Q;ke&&(ye=ye?ye.concat(ke):ke),K==null?(b(be,ae,ce),b(me,ae,ce),ie(Q.children,ae,me,le,ge,pe,ye,ve)):Fe>0&&Fe&64&&Re&&K.dynamicChildren?(he(K.dynamicChildren,Re,ae,le,ge,pe,ye),(Q.key!=null||le&&Q===le.subTree)&&traverseStaticChildren(K,Q,!0)):Oe(K,Q,ae,me,le,ge,pe,ye,ve)},we=(K,Q,ae,ce,le,ge,pe,ye,ve)=>{Q.slotScopeIds=ye,K==null?Q.shapeFlag&512?le.ctx.activate(Q,ae,ce,pe,ve):Ee(Q,ae,ce,le,ge,pe,ve):de(K,Q,ve)},Ee=(K,Q,ae,ce,le,ge,pe)=>{const ye=K.component=createComponentInstance(K,ce,le);if(isKeepAlive(K)&&(ye.ctx.renderer=W),setupComponent(ye),ye.asyncDep){if(le&&le.registerDep(ye,xe),!K.el){const ve=ye.subTree=createVNode(Comment);V(null,ve,Q,ae)}return}xe(ye,K,Q,ae,le,ge,pe)},de=(K,Q,ae)=>{const ce=Q.component=K.component;if(shouldUpdateComponent(K,Q,ae))if(ce.asyncDep&&!ce.asyncResolved){Te(ce,Q,ae);return}else ce.next=Q,invalidateJob(ce.update),ce.update();else Q.el=K.el,ce.vnode=Q},xe=(K,Q,ae,ce,le,ge,pe)=>{const ye=()=>{if(K.isMounted){let{next:me,bu:Fe,u:Re,parent:ke,vnode:je}=K,ue=me,ne;toggleRecurse(K,!1),me?(me.el=je.el,Te(K,me,pe)):me=je,Fe&&invokeArrayFns(Fe),(ne=me.props&&me.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ne,ke,me,je),toggleRecurse(K,!0);const se=renderComponentRoot(K),Ae=K.subTree;K.subTree=se,j(Ae,se,M(Ae.el),te(Ae),K,le,ge),me.el=se.el,ue===null&&updateHOCHostEl(K,se.el),Re&&queuePostRenderEffect(Re,le),(ne=me.props&&me.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ne,ke,me,je),le)}else{let me;const{el:Fe,props:Re}=Q,{bm:ke,m:je,parent:ue}=K,ne=isAsyncWrapper(Q);if(toggleRecurse(K,!1),ke&&invokeArrayFns(ke),!ne&&(me=Re&&Re.onVnodeBeforeMount)&&invokeVNodeHook(me,ue,Q),toggleRecurse(K,!0),Fe&&Z){const se=()=>{K.subTree=renderComponentRoot(K),Z(Fe,K.subTree,K,le,null)};ne?Q.type.__asyncLoader().then(()=>!K.isUnmounted&&se()):se()}else{const se=K.subTree=renderComponentRoot(K);j(null,se,ae,ce,K,le,ge),Q.el=se.el}if(je&&queuePostRenderEffect(je,le),!ne&&(me=Re&&Re.onVnodeMounted)){const se=Q;queuePostRenderEffect(()=>invokeVNodeHook(me,ue,se),le)}(Q.shapeFlag&256||ue&&isAsyncWrapper(ue.vnode)&&ue.vnode.shapeFlag&256)&&K.a&&queuePostRenderEffect(K.a,le),K.isMounted=!0,Q=ae=ce=null}},ve=K.effect=new ReactiveEffect(ye,()=>queueJob(be),K.scope),be=K.update=()=>ve.run();be.id=K.uid,toggleRecurse(K,!0),be()},Te=(K,Q,ae)=>{Q.component=K;const ce=K.vnode.props;K.vnode=Q,K.next=null,updateProps(K,Q.props,ce,ae),updateSlots(K,Q.children,ae),pauseTracking(),flushPreFlushCbs(K),resetTracking()},Oe=(K,Q,ae,ce,le,ge,pe,ye,ve=!1)=>{const be=K&&K.children,me=K?K.shapeFlag:0,Fe=Q.children,{patchFlag:Re,shapeFlag:ke}=Q;if(Re>0){if(Re&128){Le(be,Fe,ae,ce,le,ge,pe,ye,ve);return}else if(Re&256){Ne(be,Fe,ae,ce,le,ge,pe,ye,ve);return}}ke&8?(me&16&&Ce(be,le,ge),Fe!==be&&D(ae,Fe)):me&16?ke&16?Le(be,Fe,ae,ce,le,ge,pe,ye,ve):Ce(be,le,ge,!0):(me&8&&D(ae,""),ke&16&&ie(Fe,ae,ce,le,ge,pe,ye,ve))},Ne=(K,Q,ae,ce,le,ge,pe,ye,ve)=>{K=K||EMPTY_ARR,Q=Q||EMPTY_ARR;const be=K.length,me=Q.length,Fe=Math.min(be,me);let Re;for(Re=0;Re<Fe;Re++){const ke=Q[Re]=ve?cloneIfMounted(Q[Re]):normalizeVNode(Q[Re]);j(K[Re],ke,ae,null,le,ge,pe,ye,ve)}be>me?Ce(K,le,ge,!0,!1,Fe):ie(Q,ae,ce,le,ge,pe,ye,ve,Fe)},Le=(K,Q,ae,ce,le,ge,pe,ye,ve)=>{let be=0;const me=Q.length;let Fe=K.length-1,Re=me-1;for(;be<=Fe&&be<=Re;){const ke=K[be],je=Q[be]=ve?cloneIfMounted(Q[be]):normalizeVNode(Q[be]);if(isSameVNodeType(ke,je))j(ke,je,ae,null,le,ge,pe,ye,ve);else break;be++}for(;be<=Fe&&be<=Re;){const ke=K[Fe],je=Q[Re]=ve?cloneIfMounted(Q[Re]):normalizeVNode(Q[Re]);if(isSameVNodeType(ke,je))j(ke,je,ae,null,le,ge,pe,ye,ve);else break;Fe--,Re--}if(be>Fe){if(be<=Re){const ke=Re+1,je=ke<me?Q[ke].el:ce;for(;be<=Re;)j(null,Q[be]=ve?cloneIfMounted(Q[be]):normalizeVNode(Q[be]),ae,je,le,ge,pe,ye,ve),be++}}else if(be>Re)for(;be<=Fe;)Ie(K[be],le,ge,!0),be++;else{const ke=be,je=be,ue=new Map;for(be=je;be<=Re;be++){const ze=Q[be]=ve?cloneIfMounted(Q[be]):normalizeVNode(Q[be]);ze.key!=null&&ue.set(ze.key,be)}let ne,se=0;const Ae=Re-je+1;let _e=!1,Be=0;const He=new Array(Ae);for(be=0;be<Ae;be++)He[be]=0;for(be=ke;be<=Fe;be++){const ze=K[be];if(se>=Ae){Ie(ze,le,ge,!0);continue}let Ge;if(ze.key!=null)Ge=ue.get(ze.key);else for(ne=je;ne<=Re;ne++)if(He[ne-je]===0&&isSameVNodeType(ze,Q[ne])){Ge=ne;break}Ge===void 0?Ie(ze,le,ge,!0):(He[Ge-je]=be+1,Ge>=Be?Be=Ge:_e=!0,j(ze,Q[Ge],ae,null,le,ge,pe,ye,ve),se++)}const Ue=_e?getSequence(He):EMPTY_ARR;for(ne=Ue.length-1,be=Ae-1;be>=0;be--){const ze=je+be,Ge=Q[ze],Xe=ze+1<me?Q[ze+1].el:ce;He[be]===0?j(null,Ge,ae,Xe,le,ge,pe,ye,ve):_e&&(ne<0||be!==Ue[ne]?Me(Ge,ae,Xe,2):ne--)}}},Me=(K,Q,ae,ce,le=null)=>{const{el:ge,type:pe,transition:ye,children:ve,shapeFlag:be}=K;if(be&6){Me(K.component.subTree,Q,ae,ce);return}if(be&128){K.suspense.move(Q,ae,ce);return}if(be&64){pe.move(K,Q,ae,W);return}if(pe===Fragment){b(ge,Q,ae);for(let Fe=0;Fe<ve.length;Fe++)Me(ve[Fe],Q,ae,ce);b(K.anchor,Q,ae);return}if(pe===Static){G(K,Q,ae);return}if(ce!==2&&be&1&&ye)if(ce===0)ye.beforeEnter(ge),b(ge,Q,ae),queuePostRenderEffect(()=>ye.enter(ge),le);else{const{leave:Fe,delayLeave:Re,afterLeave:ke}=ye,je=()=>b(ge,Q,ae),ue=()=>{Fe(ge,()=>{je(),ke&&ke()})};Re?Re(ge,je,ue):ue()}else b(ge,Q,ae)},Ie=(K,Q,ae,ce=!1,le=!1)=>{const{type:ge,props:pe,ref:ye,children:ve,dynamicChildren:be,shapeFlag:me,patchFlag:Fe,dirs:Re}=K;if(ye!=null&&setRef(ye,null,ae,K,!0),me&256){Q.ctx.deactivate(K);return}const ke=me&1&&Re,je=!isAsyncWrapper(K);let ue;if(je&&(ue=pe&&pe.onVnodeBeforeUnmount)&&invokeVNodeHook(ue,Q,K),me&6)Pe(K.component,ae,ce);else{if(me&128){K.suspense.unmount(ae,ce);return}ke&&invokeDirectiveHook(K,null,Q,"beforeUnmount"),me&64?K.type.remove(K,Q,ae,le,W,ce):be&&(ge!==Fragment||Fe>0&&Fe&64)?Ce(be,Q,ae,!1,!0):(ge===Fragment&&Fe&384||!le&&me&16)&&Ce(ve,Q,ae),ce&&Ve(K)}(je&&(ue=pe&&pe.onVnodeUnmounted)||ke)&&queuePostRenderEffect(()=>{ue&&invokeVNodeHook(ue,Q,K),ke&&invokeDirectiveHook(K,null,Q,"unmounted")},ae)},Ve=K=>{const{type:Q,el:ae,anchor:ce,transition:le}=K;if(Q===Fragment){De(ae,ce);return}if(Q===Static){X(K);return}const ge=()=>{S(ae),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(K.shapeFlag&1&&le&&!le.persisted){const{leave:pe,delayLeave:ye}=le,ve=()=>pe(ae,ge);ye?ye(K.el,ge,ve):ve()}else ge()},De=(K,Q)=>{let ae;for(;K!==Q;)ae=L(K),S(K),K=ae;S(Q)},Pe=(K,Q,ae)=>{const{bum:ce,scope:le,update:ge,subTree:pe,um:ye}=K;ce&&invokeArrayFns(ce),le.stop(),ge&&(ge.active=!1,Ie(pe,K,Q,ae)),ye&&queuePostRenderEffect(ye,Q),queuePostRenderEffect(()=>{K.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},Ce=(K,Q,ae,ce=!1,le=!1,ge=0)=>{for(let pe=ge;pe<K.length;pe++)Ie(K[pe],Q,ae,ce,le)},te=K=>K.shapeFlag&6?te(K.component.subTree):K.shapeFlag&128?K.suspense.next():L(K.anchor||K.el),re=(K,Q,ae)=>{K==null?Q._vnode&&Ie(Q._vnode,null,null,!0):j(Q._vnode||null,K,Q,null,null,null,ae),flushPreFlushCbs(),flushPostFlushCbs(),Q._vnode=K},W={p:j,um:Ie,m:Me,r:Ve,mt:Ee,mc:ie,pc:Oe,pbc:he,n:te,o:g};let $,Z;return d&&([$,Z]=d(W)),{render:re,hydrate:$,createApp:createAppAPI(re,$)}}function toggleRecurse({effect:g,update:d},x){g.allowRecurse=d.allowRecurse=x}function needTransition(g,d){return(!g||g&&!g.pendingBranch)&&d&&!d.persisted}function traverseStaticChildren(g,d,x=!1){const b=g.children,S=d.children;if(isArray$1(b)&&isArray$1(S))for(let w=0;w<b.length;w++){const C=b[w];let F=S[w];F.shapeFlag&1&&!F.dynamicChildren&&((F.patchFlag<=0||F.patchFlag===32)&&(F=S[w]=cloneIfMounted(S[w]),F.el=C.el),x||traverseStaticChildren(C,F)),F.type===Text$1&&(F.el=C.el)}}function getSequence(g){const d=g.slice(),x=[0];let b,S,w,C,F;const E=g.length;for(b=0;b<E;b++){const k=g[b];if(k!==0){if(S=x[x.length-1],g[S]<k){d[b]=S,x.push(b);continue}for(w=0,C=x.length-1;w<C;)F=w+C>>1,g[x[F]]<k?w=F+1:C=F;k<g[x[w]]&&(w>0&&(d[b]=x[w-1]),x[w]=b)}}for(w=x.length,C=x[w-1];w-- >0;)x[w]=C,C=d[C];return x}const isTeleport=g=>g.__isTeleport,Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(g=!1){blockStack.push(currentBlock=g?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(g){isBlockTreeEnabled+=g}function setupBlock(g){return g.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(g),g}function createElementBlock(g,d,x,b,S,w){return setupBlock(createBaseVNode(g,d,x,b,S,w,!0))}function createBlock(g,d,x,b,S){return setupBlock(createVNode(g,d,x,b,S,!0))}function isVNode(g){return g?g.__v_isVNode===!0:!1}function isSameVNodeType(g,d){return g.type===d.type&&g.key===d.key}const InternalObjectKey="__vInternal",normalizeKey=({key:g})=>g??null,normalizeRef=({ref:g,ref_key:d,ref_for:x})=>(typeof g=="number"&&(g=""+g),g!=null?isString(g)||isRef(g)||isFunction$1(g)?{i:currentRenderingInstance,r:g,k:d,f:!!x}:g:null);function createBaseVNode(g,d=null,x=null,b=0,S=null,w=g===Fragment?0:1,C=!1,F=!1){const E={__v_isVNode:!0,__v_skip:!0,type:g,props:d,key:d&&normalizeKey(d),ref:d&&normalizeRef(d),scopeId:currentScopeId,slotScopeIds:null,children:x,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:w,patchFlag:b,dynamicProps:S,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return F?(normalizeChildren(E,x),w&128&&g.normalize(E)):x&&(E.shapeFlag|=isString(x)?8:16),isBlockTreeEnabled>0&&!C&&currentBlock&&(E.patchFlag>0||w&6)&&E.patchFlag!==32&&currentBlock.push(E),E}const createVNode=_createVNode;function _createVNode(g,d=null,x=null,b=0,S=null,w=!1){if((!g||g===NULL_DYNAMIC_COMPONENT)&&(g=Comment),isVNode(g)){const F=cloneVNode(g,d,!0);return x&&normalizeChildren(F,x),isBlockTreeEnabled>0&&!w&&currentBlock&&(F.shapeFlag&6?currentBlock[currentBlock.indexOf(g)]=F:currentBlock.push(F)),F.patchFlag|=-2,F}if(isClassComponent(g)&&(g=g.__vccOpts),d){d=guardReactiveProps(d);let{class:F,style:E}=d;F&&!isString(F)&&(d.class=normalizeClass(F)),isObject(E)&&(isProxy(E)&&!isArray$1(E)&&(E=extend({},E)),d.style=normalizeStyle(E))}const C=isString(g)?1:isSuspense(g)?128:isTeleport(g)?64:isObject(g)?4:isFunction$1(g)?2:0;return createBaseVNode(g,d,x,b,S,C,w,!0)}function guardReactiveProps(g){return g?isProxy(g)||InternalObjectKey in g?extend({},g):g:null}function cloneVNode(g,d,x=!1){const{props:b,ref:S,patchFlag:w,children:C}=g,F=d?mergeProps(b||{},d):b;return{__v_isVNode:!0,__v_skip:!0,type:g.type,props:F,key:F&&normalizeKey(F),ref:d&&d.ref?x&&S?isArray$1(S)?S.concat(normalizeRef(d)):[S,normalizeRef(d)]:normalizeRef(d):S,scopeId:g.scopeId,slotScopeIds:g.slotScopeIds,children:C,target:g.target,targetAnchor:g.targetAnchor,staticCount:g.staticCount,shapeFlag:g.shapeFlag,patchFlag:d&&g.type!==Fragment?w===-1?16:w|16:w,dynamicProps:g.dynamicProps,dynamicChildren:g.dynamicChildren,appContext:g.appContext,dirs:g.dirs,transition:g.transition,component:g.component,suspense:g.suspense,ssContent:g.ssContent&&cloneVNode(g.ssContent),ssFallback:g.ssFallback&&cloneVNode(g.ssFallback),el:g.el,anchor:g.anchor,ctx:g.ctx,ce:g.ce}}function createTextVNode(g=" ",d=0){return createVNode(Text$1,null,g,d)}function createCommentVNode(g="",d=!1){return d?(openBlock(),createBlock(Comment,null,g)):createVNode(Comment,null,g)}function normalizeVNode(g){return g==null||typeof g=="boolean"?createVNode(Comment):isArray$1(g)?createVNode(Fragment,null,g.slice()):typeof g=="object"?cloneIfMounted(g):createVNode(Text$1,null,String(g))}function cloneIfMounted(g){return g.el===null&&g.patchFlag!==-1||g.memo?g:cloneVNode(g)}function normalizeChildren(g,d){let x=0;const{shapeFlag:b}=g;if(d==null)d=null;else if(isArray$1(d))x=16;else if(typeof d=="object")if(b&65){const S=d.default;S&&(S._c&&(S._d=!1),normalizeChildren(g,S()),S._c&&(S._d=!0));return}else{x=32;const S=d._;!S&&!(InternalObjectKey in d)?d._ctx=currentRenderingInstance:S===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?d._=1:(d._=2,g.patchFlag|=1024))}else isFunction$1(d)?(d={default:d,_ctx:currentRenderingInstance},x=32):(d=String(d),b&64?(x=16,d=[createTextVNode(d)]):x=8);g.children=d,g.shapeFlag|=x}function mergeProps(...g){const d={};for(let x=0;x<g.length;x++){const b=g[x];for(const S in b)if(S==="class")d.class!==b.class&&(d.class=normalizeClass([d.class,b.class]));else if(S==="style")d.style=normalizeStyle([d.style,b.style]);else if(isOn(S)){const w=d[S],C=b[S];C&&w!==C&&!(isArray$1(w)&&w.includes(C))&&(d[S]=w?[].concat(w,C):C)}else S!==""&&(d[S]=b[S])}return d}function invokeVNodeHook(g,d,x,b=null){callWithAsyncErrorHandling(g,d,7,[x,b])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(g,d,x){const b=g.type,S=(d?d.appContext:g.appContext)||emptyAppContext,w={uid:uid$2++,vnode:g,type:b,parent:d,appContext:S,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:d?d.provides:Object.create(S.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(b,S),emitsOptions:normalizeEmitsOptions(b,S),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:b.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:x,suspenseId:x?x.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return w.ctx={_:w},w.root=d?d.root:w,w.emit=emit.bind(null,w),g.ce&&g.ce(w),w}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(g=>currentInstance=g),internalSetCurrentInstance=g=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(d=>d(g)):globalCurrentInstanceSetters[0](g)};const setCurrentInstance=g=>{internalSetCurrentInstance(g),g.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(g){return g.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(g,d=!1){isInSSRComponentSetup=d;const{props:x,children:b}=g.vnode,S=isStatefulComponent(g);initProps(g,x,S,d),initSlots(g,b);const w=S?setupStatefulComponent(g,d):void 0;return isInSSRComponentSetup=!1,w}function setupStatefulComponent(g,d){const x=g.type;g.accessCache=Object.create(null),g.proxy=markRaw(new Proxy(g.ctx,PublicInstanceProxyHandlers));const{setup:b}=x;if(b){const S=g.setupContext=b.length>1?createSetupContext(g):null;setCurrentInstance(g),pauseTracking();const w=callWithErrorHandling(b,g,0,[g.props,S]);if(resetTracking(),unsetCurrentInstance(),isPromise(w)){if(w.then(unsetCurrentInstance,unsetCurrentInstance),d)return w.then(C=>{handleSetupResult(g,C,d)}).catch(C=>{handleError(C,g,0)});g.asyncDep=w}else handleSetupResult(g,w,d)}else finishComponentSetup(g,d)}function handleSetupResult(g,d,x){isFunction$1(d)?g.type.__ssrInlineRender?g.ssrRender=d:g.render=d:isObject(d)&&(g.setupState=proxyRefs(d)),finishComponentSetup(g,x)}let compile;function finishComponentSetup(g,d,x){const b=g.type;if(!g.render){if(!d&&compile&&!b.render){const S=b.template||resolveMergedOptions(g).template;if(S){const{isCustomElement:w,compilerOptions:C}=g.appContext.config,{delimiters:F,compilerOptions:E}=b,k=extend(extend({isCustomElement:w,delimiters:F},C),E);b.render=compile(S,k)}}g.render=b.render||NOOP$1}{setCurrentInstance(g),pauseTracking();try{applyOptions(g)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(g){return g.attrsProxy||(g.attrsProxy=new Proxy(g.attrs,{get(d,x){return track(g,"get","$attrs"),d[x]}}))}function createSetupContext(g){const d=x=>{g.exposed=x||{}};return{get attrs(){return getAttrsProxy(g)},slots:g.slots,emit:g.emit,expose:d}}function getExposeProxy(g){if(g.exposed)return g.exposeProxy||(g.exposeProxy=new Proxy(proxyRefs(markRaw(g.exposed)),{get(d,x){if(x in d)return d[x];if(x in publicPropertiesMap)return publicPropertiesMap[x](g)},has(d,x){return x in d||x in publicPropertiesMap}}))}function getComponentName(g,d=!0){return isFunction$1(g)?g.displayName||g.name:g.name||d&&g.__name}function isClassComponent(g){return isFunction$1(g)&&"__vccOpts"in g}const computed=(g,d)=>computed$1(g,d,isInSSRComponentSetup);function h$1(g,d,x){const b=arguments.length;return b===2?isObject(d)&&!isArray$1(d)?isVNode(d)?createVNode(g,null,[d]):createVNode(g,d):createVNode(g,null,d):(b>3?x=Array.prototype.slice.call(arguments,2):b===3&&isVNode(x)&&(x=[x]),createVNode(g,d,x))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version="3.3.13",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(g,d,x)=>{d.insertBefore(g,x||null)},remove:g=>{const d=g.parentNode;d&&d.removeChild(g)},createElement:(g,d,x,b)=>{const S=d?doc.createElementNS(svgNS,g):doc.createElement(g,x?{is:x}:void 0);return g==="select"&&b&&b.multiple!=null&&S.setAttribute("multiple",b.multiple),S},createText:g=>doc.createTextNode(g),createComment:g=>doc.createComment(g),setText:(g,d)=>{g.nodeValue=d},setElementText:(g,d)=>{g.textContent=d},parentNode:g=>g.parentNode,nextSibling:g=>g.nextSibling,querySelector:g=>doc.querySelector(g),setScopeId(g,d){g.setAttribute(d,"")},insertStaticContent(g,d,x,b,S,w){const C=x?x.previousSibling:d.lastChild;if(S&&(S===w||S.nextSibling))for(;d.insertBefore(S.cloneNode(!0),x),!(S===w||!(S=S.nextSibling)););else{templateContainer.innerHTML=b?`<svg>${g}</svg>`:g;const F=templateContainer.content;if(b){const E=F.firstChild;for(;E.firstChild;)F.appendChild(E.firstChild);F.removeChild(E)}d.insertBefore(F,x)}return[C?C.nextSibling:d.firstChild,x?x.previousSibling:d.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(g,d,x){const b=g[vtcKey];b&&(d=(d?[d,...b]:[...b]).join(" ")),d==null?g.removeAttribute("class"):x?g.setAttribute("class",d):g.className=d}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(g,{value:d},{transition:x}){g[vShowOldKey]=g.style.display==="none"?"":g.style.display,x&&d?x.beforeEnter(g):setDisplay(g,d)},mounted(g,{value:d},{transition:x}){x&&d&&x.enter(g)},updated(g,{value:d,oldValue:x},{transition:b}){!d!=!x&&(b?d?(b.beforeEnter(g),setDisplay(g,!0),b.enter(g)):b.leave(g,()=>{setDisplay(g,!1)}):setDisplay(g,d))},beforeUnmount(g,{value:d}){setDisplay(g,d)}};function setDisplay(g,d){g.style.display=d?g[vShowOldKey]:"none"}const CSS_VAR_TEXT=Symbol("");function useCssVars(g){const d=getCurrentInstance();if(!d)return;const x=d.ut=(S=g(d.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${d.uid}"]`)).forEach(w=>setVarsOnNode(w,S))},b=()=>{const S=g(d.proxy);setVarsOnVNode(d.subTree,S),x(S)};watchPostEffect(b),onMounted(()=>{const S=new MutationObserver(b);S.observe(d.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>S.disconnect())})}function setVarsOnVNode(g,d){if(g.shapeFlag&128){const x=g.suspense;g=x.activeBranch,x.pendingBranch&&!x.isHydrating&&x.effects.push(()=>{setVarsOnVNode(x.activeBranch,d)})}for(;g.component;)g=g.component.subTree;if(g.shapeFlag&1&&g.el)setVarsOnNode(g.el,d);else if(g.type===Fragment)g.children.forEach(x=>setVarsOnVNode(x,d));else if(g.type===Static){let{el:x,anchor:b}=g;for(;x&&(setVarsOnNode(x,d),x!==b);)x=x.nextSibling}}function setVarsOnNode(g,d){if(g.nodeType===1){const x=g.style;let b="";for(const S in d)x.setProperty(`--${S}`,d[S]),b+=`--${S}: ${d[S]};`;x[CSS_VAR_TEXT]=b}}function patchStyle(g,d,x){const b=g.style,S=isString(x);if(x&&!S){if(d&&!isString(d))for(const w in d)x[w]==null&&setStyle(b,w,"");for(const w in x)setStyle(b,w,x[w])}else{const w=b.display;if(S){if(d!==x){const C=b[CSS_VAR_TEXT];C&&(x+=";"+C),b.cssText=x}}else d&&g.removeAttribute("style");vShowOldKey in g&&(b.display=w)}}const importantRE=/\s*!important$/;function setStyle(g,d,x){if(isArray$1(x))x.forEach(b=>setStyle(g,d,b));else if(x==null&&(x=""),d.startsWith("--"))g.setProperty(d,x);else{const b=autoPrefix(g,d);importantRE.test(x)?g.setProperty(hyphenate(b),x.replace(importantRE,""),"important"):g[b]=x}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(g,d){const x=prefixCache[d];if(x)return x;let b=camelize(d);if(b!=="filter"&&b in g)return prefixCache[d]=b;b=capitalize(b);for(let S=0;S<prefixes.length;S++){const w=prefixes[S]+b;if(w in g)return prefixCache[d]=w}return d}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(g,d,x,b,S){if(b&&d.startsWith("xlink:"))x==null?g.removeAttributeNS(xlinkNS,d.slice(6,d.length)):g.setAttributeNS(xlinkNS,d,x);else{const w=isSpecialBooleanAttr(d);x==null||w&&!includeBooleanAttr(x)?g.removeAttribute(d):g.setAttribute(d,w?"":x)}}function patchDOMProp(g,d,x,b,S,w,C){if(d==="innerHTML"||d==="textContent"){b&&C(b,S,w),g[d]=x??"";return}const F=g.tagName;if(d==="value"&&F!=="PROGRESS"&&!F.includes("-")){g._value=x;const k=F==="OPTION"?g.getAttribute("value"):g.value,D=x??"";k!==D&&(g.value=D),x==null&&g.removeAttribute(d);return}let E=!1;if(x===""||x==null){const k=typeof g[d];k==="boolean"?x=includeBooleanAttr(x):x==null&&k==="string"?(x="",E=!0):k==="number"&&(x=0,E=!0)}try{g[d]=x}catch{}E&&g.removeAttribute(d)}function addEventListener(g,d,x,b){g.addEventListener(d,x,b)}function removeEventListener(g,d,x,b){g.removeEventListener(d,x,b)}const veiKey=Symbol("_vei");function patchEvent(g,d,x,b,S=null){const w=g[veiKey]||(g[veiKey]={}),C=w[d];if(b&&C)C.value=b;else{const[F,E]=parseName(d);if(b){const k=w[d]=createInvoker(b,S);addEventListener(g,F,k,E)}else C&&(removeEventListener(g,F,C,E),w[d]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(g){let d;if(optionsModifierRE.test(g)){d={};let b;for(;b=g.match(optionsModifierRE);)g=g.slice(0,g.length-b[0].length),d[b[0].toLowerCase()]=!0}return[g[2]===":"?g.slice(3):hyphenate(g.slice(2)),d]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(g,d){const x=b=>{if(!b._vts)b._vts=Date.now();else if(b._vts<=x.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(b,x.value),d,5,[b])};return x.value=g,x.attached=getNow(),x}function patchStopImmediatePropagation(g,d){if(isArray$1(d)){const x=g.stopImmediatePropagation;return g.stopImmediatePropagation=()=>{x.call(g),g._stopped=!0},d.map(b=>S=>!S._stopped&&b&&b(S))}else return d}const isNativeOn=g=>g.charCodeAt(0)===111&&g.charCodeAt(1)===110&&g.charCodeAt(2)>96&&g.charCodeAt(2)<123,patchProp=(g,d,x,b,S=!1,w,C,F,E)=>{d==="class"?patchClass(g,b,S):d==="style"?patchStyle(g,x,b):isOn(d)?isModelListener(d)||patchEvent(g,d,x,b,C):(d[0]==="."?(d=d.slice(1),!0):d[0]==="^"?(d=d.slice(1),!1):shouldSetAsProp(g,d,b,S))?patchDOMProp(g,d,b,w,C,F,E):(d==="true-value"?g._trueValue=b:d==="false-value"&&(g._falseValue=b),patchAttr(g,d,b,S))};function shouldSetAsProp(g,d,x,b){if(b)return!!(d==="innerHTML"||d==="textContent"||d in g&&isNativeOn(d)&&isFunction$1(x));if(d==="spellcheck"||d==="draggable"||d==="translate"||d==="form"||d==="list"&&g.tagName==="INPUT"||d==="type"&&g.tagName==="TEXTAREA")return!1;if(d==="width"||d==="height"){const S=g.tagName;if(S==="IMG"||S==="VIDEO"||S==="CANVAS"||S==="SOURCE")return!1}return isNativeOn(d)&&isString(x)?!1:d in g}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:g=>g.stopPropagation(),prevent:g=>g.preventDefault(),self:g=>g.target!==g.currentTarget,ctrl:g=>!g.ctrlKey,shift:g=>!g.shiftKey,alt:g=>!g.altKey,meta:g=>!g.metaKey,left:g=>"button"in g&&g.button!==0,middle:g=>"button"in g&&g.button!==1,right:g=>"button"in g&&g.button!==2,exact:(g,d)=>systemModifiers.some(x=>g[`${x}Key`]&&!d.includes(x))},withModifiers=(g,d)=>{const x=g._withMods||(g._withMods={}),b=d.join(".");return x[b]||(x[b]=(S,...w)=>{for(let C=0;C<d.length;C++){const F=modifierGuards[d[C]];if(F&&F(S,d))return}return g(S,...w)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(g,d)=>{const x=g._withKeys||(g._withKeys={}),b=d.join(".");return x[b]||(x[b]=S=>{if(!("key"in S))return;const w=hyphenate(S.key);if(d.some(C=>C===w||keyNames[C]===w))return g(S)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...g)=>{const d=ensureRenderer().createApp(...g),{mount:x}=d;return d.mount=b=>{const S=normalizeContainer(b);if(!S)return;const w=d._component;!isFunction$1(w)&&!w.render&&!w.template&&(w.template=S.innerHTML),S.innerHTML="";const C=x(S,!1,S instanceof SVGElement);return S instanceof Element&&(S.removeAttribute("v-cloak"),S.setAttribute("data-v-app","")),C},d};function normalizeContainer(g){return isString(g)?document.querySelector(g):g}const _export_sfc=(g,d)=>{const x=g.__vccOpts||g;for(const[b,S]of d)x[b]=S;return x},_sfc_main$j={},_hoisted_1$i={class:"flex-row",ondragstart:"return false"};function _sfc_render$h(g,d){const x=resolveComponent("router-link"),b=resolveComponent("router-view");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("header",_hoisted_1$i,[createVNode(x,{to:{name:"home"},textContent:" "}),createVNode(x,{to:{name:"detached"},textContent:" "}),createVNode(x,{to:{name:"with-view"},textContent:"  "}),createVNode(x,{to:{name:"verify"},textContent:" "})]),createVNode(b)],64)}const App=_export_sfc(_sfc_main$j,[["render",_sfc_render$h],["__scopeId","data-v-e7da8d44"]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(g){return g.__esModule||g[Symbol.toStringTag]==="Module"}const assign$1=Object.assign;function applyToParams(g,d){const x={};for(const b in d){const S=d[b];x[b]=isArray(S)?S.map(g):g(S)}return x}const noop$1=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=g=>g.replace(TRAILING_SLASH_RE,"");function parseURL(g,d,x="/"){let b,S={},w="",C="";const F=d.indexOf("#");let E=d.indexOf("?");return F<E&&F>=0&&(E=-1),E>-1&&(b=d.slice(0,E),w=d.slice(E+1,F>-1?F:d.length),S=g(w)),F>-1&&(b=b||d.slice(0,F),C=d.slice(F,d.length)),b=resolveRelativePath(b??d,x),{fullPath:b+(w&&"?")+w+C,path:b,query:S,hash:C}}function stringifyURL(g,d){const x=d.query?g(d.query):"";return d.path+(x&&"?")+x+(d.hash||"")}function stripBase(g,d){return!d||!g.toLowerCase().startsWith(d.toLowerCase())?g:g.slice(d.length)||"/"}function isSameRouteLocation(g,d,x){const b=d.matched.length-1,S=x.matched.length-1;return b>-1&&b===S&&isSameRouteRecord(d.matched[b],x.matched[S])&&isSameRouteLocationParams(d.params,x.params)&&g(d.query)===g(x.query)&&d.hash===x.hash}function isSameRouteRecord(g,d){return(g.aliasOf||g)===(d.aliasOf||d)}function isSameRouteLocationParams(g,d){if(Object.keys(g).length!==Object.keys(d).length)return!1;for(const x in g)if(!isSameRouteLocationParamsValue(g[x],d[x]))return!1;return!0}function isSameRouteLocationParamsValue(g,d){return isArray(g)?isEquivalentArray(g,d):isArray(d)?isEquivalentArray(d,g):g===d}function isEquivalentArray(g,d){return isArray(d)?g.length===d.length&&g.every((x,b)=>x===d[b]):g.length===1&&g[0]===d}function resolveRelativePath(g,d){if(g.startsWith("/"))return g;if(!g)return d;const x=d.split("/"),b=g.split("/"),S=b[b.length-1];(S===".."||S===".")&&b.push("");let w=x.length-1,C,F;for(C=0;C<b.length;C++)if(F=b[C],F!==".")if(F==="..")w>1&&w--;else break;return x.slice(0,w).join("/")+"/"+b.slice(C-(C===b.length?1:0)).join("/")}var NavigationType;(function(g){g.pop="pop",g.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(g){g.back="back",g.forward="forward",g.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(g){if(!g)if(isBrowser){const d=document.querySelector("base");g=d&&d.getAttribute("href")||"/",g=g.replace(/^\w+:\/\/[^\/]+/,"")}else g="/";return g[0]!=="/"&&g[0]!=="#"&&(g="/"+g),removeTrailingSlash(g)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(g,d){return g.replace(BEFORE_HASH_RE,"#")+d}function getElementPosition(g,d){const x=document.documentElement.getBoundingClientRect(),b=g.getBoundingClientRect();return{behavior:d.behavior,left:b.left-x.left-(d.left||0),top:b.top-x.top-(d.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(g){let d;if("el"in g){const x=g.el,b=typeof x=="string"&&x.startsWith("#"),S=typeof x=="string"?b?document.getElementById(x.slice(1)):document.querySelector(x):x;if(!S)return;d=getElementPosition(S,g)}else d=g;"scrollBehavior"in document.documentElement.style?window.scrollTo(d):window.scrollTo(d.left!=null?d.left:window.pageXOffset,d.top!=null?d.top:window.pageYOffset)}function getScrollKey(g,d){return(history.state?history.state.position-d:-1)+g}const scrollPositions=new Map;function saveScrollPosition(g,d){scrollPositions.set(g,d)}function getSavedScrollPosition(g){const d=scrollPositions.get(g);return scrollPositions.delete(g),d}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(g,d){const{pathname:x,search:b,hash:S}=d,w=g.indexOf("#");if(w>-1){let F=S.includes(g.slice(w))?g.slice(w).length:1,E=S.slice(F);return E[0]!=="/"&&(E="/"+E),stripBase(E,"")}return stripBase(x,g)+b+S}function useHistoryListeners(g,d,x,b){let S=[],w=[],C=null;const F=({state:L})=>{const R=createCurrentLocation(g,location),U=x.value,j=d.value;let H=0;if(L){if(x.value=R,d.value=L,C&&C===U){C=null;return}H=j?L.position-j.position:0}else b(R);S.forEach(V=>{V(x.value,U,{delta:H,type:NavigationType.pop,direction:H?H>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function E(){C=x.value}function k(L){S.push(L);const R=()=>{const U=S.indexOf(L);U>-1&&S.splice(U,1)};return w.push(R),R}function D(){const{history:L}=window;L.state&&L.replaceState(assign$1({},L.state,{scroll:computeScrollPosition()}),"")}function M(){for(const L of w)L();w=[],window.removeEventListener("popstate",F),window.removeEventListener("beforeunload",D)}return window.addEventListener("popstate",F),window.addEventListener("beforeunload",D,{passive:!0}),{pauseListeners:E,listen:k,destroy:M}}function buildState(g,d,x,b=!1,S=!1){return{back:g,current:d,forward:x,replaced:b,position:window.history.length,scroll:S?computeScrollPosition():null}}function useHistoryStateNavigation(g){const{history:d,location:x}=window,b={value:createCurrentLocation(g,x)},S={value:d.state};S.value||w(b.value,{back:null,current:b.value,forward:null,position:d.length-1,replaced:!0,scroll:null},!0);function w(E,k,D){const M=g.indexOf("#"),L=M>-1?(x.host&&document.querySelector("base")?g:g.slice(M))+E:createBaseLocation()+g+E;try{d[D?"replaceState":"pushState"](k,"",L),S.value=k}catch(R){console.error(R),x[D?"replace":"assign"](L)}}function C(E,k){const D=assign$1({},d.state,buildState(S.value.back,E,S.value.forward,!0),k,{position:S.value.position});w(E,D,!0),b.value=E}function F(E,k){const D=assign$1({},S.value,d.state,{forward:E,scroll:computeScrollPosition()});w(D.current,D,!0);const M=assign$1({},buildState(b.value,E,null),{position:D.position+1},k);w(E,M,!1),b.value=E}return{location:b,state:S,push:F,replace:C}}function createWebHistory(g){g=normalizeBase(g);const d=useHistoryStateNavigation(g),x=useHistoryListeners(g,d.state,d.location,d.replace);function b(w,C=!0){C||x.pauseListeners(),history.go(w)}const S=assign$1({location:"",base:g,go:b,createHref:createHref.bind(null,g)},d,x);return Object.defineProperty(S,"location",{enumerable:!0,get:()=>d.location.value}),Object.defineProperty(S,"state",{enumerable:!0,get:()=>d.state.value}),S}function isRouteLocation(g){return typeof g=="string"||g&&typeof g=="object"}function isRouteName(g){return typeof g=="string"||typeof g=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(g){g[g.aborted=4]="aborted",g[g.cancelled=8]="cancelled",g[g.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(g,d){return assign$1(new Error,{type:g,[NavigationFailureSymbol]:!0},d)}function isNavigationFailure(g,d){return g instanceof Error&&NavigationFailureSymbol in g&&(d==null||!!(g.type&d))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(g,d){const x=assign$1({},BASE_PATH_PARSER_OPTIONS,d),b=[];let S=x.start?"^":"";const w=[];for(const k of g){const D=k.length?[]:[90];x.strict&&!k.length&&(S+="/");for(let M=0;M<k.length;M++){const L=k[M];let R=40+(x.sensitive?.25:0);if(L.type===0)M||(S+="/"),S+=L.value.replace(REGEX_CHARS_RE,"\\$&"),R+=40;else if(L.type===1){const{value:U,repeatable:j,optional:H,regexp:V}=L;w.push({name:U,repeatable:j,optional:H});const z=V||BASE_PARAM_PATTERN;if(z!==BASE_PARAM_PATTERN){R+=10;try{new RegExp(`(${z})`)}catch(X){throw new Error(`Invalid custom RegExp for param "${U}" (${z}): `+X.message)}}let G=j?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;M||(G=H&&k.length<2?`(?:/${G})`:"/"+G),H&&(G+="?"),S+=G,R+=20,H&&(R+=-8),j&&(R+=-20),z===".*"&&(R+=-50)}D.push(R)}b.push(D)}if(x.strict&&x.end){const k=b.length-1;b[k][b[k].length-1]+=.7000000000000001}x.strict||(S+="/?"),x.end?S+="$":x.strict&&(S+="(?:/|$)");const C=new RegExp(S,x.sensitive?"":"i");function F(k){const D=k.match(C),M={};if(!D)return null;for(let L=1;L<D.length;L++){const R=D[L]||"",U=w[L-1];M[U.name]=R&&U.repeatable?R.split("/"):R}return M}function E(k){let D="",M=!1;for(const L of g){(!M||!D.endsWith("/"))&&(D+="/"),M=!1;for(const R of L)if(R.type===0)D+=R.value;else if(R.type===1){const{value:U,repeatable:j,optional:H}=R,V=U in k?k[U]:"";if(isArray(V)&&!j)throw new Error(`Provided param "${U}" is an array but it is not repeatable (* or + modifiers)`);const z=isArray(V)?V.join("/"):V;if(!z)if(H)L.length<2&&(D.endsWith("/")?D=D.slice(0,-1):M=!0);else throw new Error(`Missing required param "${U}"`);D+=z}}return D||"/"}return{re:C,score:b,keys:w,parse:F,stringify:E}}function compareScoreArray(g,d){let x=0;for(;x<g.length&&x<d.length;){const b=d[x]-g[x];if(b)return b;x++}return g.length<d.length?g.length===1&&g[0]===80?-1:1:g.length>d.length?d.length===1&&d[0]===80?1:-1:0}function comparePathParserScore(g,d){let x=0;const b=g.score,S=d.score;for(;x<b.length&&x<S.length;){const w=compareScoreArray(b[x],S[x]);if(w)return w;x++}if(Math.abs(S.length-b.length)===1){if(isLastScoreNegative(b))return 1;if(isLastScoreNegative(S))return-1}return S.length-b.length}function isLastScoreNegative(g){const d=g[g.length-1];return g.length>0&&d[d.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(g){if(!g)return[[]];if(g==="/")return[[ROOT_TOKEN]];if(!g.startsWith("/"))throw new Error(`Invalid path "${g}"`);function d(R){throw new Error(`ERR (${x})/"${k}": ${R}`)}let x=0,b=x;const S=[];let w;function C(){w&&S.push(w),w=[]}let F=0,E,k="",D="";function M(){k&&(x===0?w.push({type:0,value:k}):x===1||x===2||x===3?(w.length>1&&(E==="*"||E==="+")&&d(`A repeatable param (${k}) must be alone in its segment. eg: '/:ids+.`),w.push({type:1,value:k,regexp:D,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):d("Invalid state to consume buffer"),k="")}function L(){k+=E}for(;F<g.length;){if(E=g[F++],E==="\\"&&x!==2){b=x,x=4;continue}switch(x){case 0:E==="/"?(k&&M(),C()):E===":"?(M(),x=1):L();break;case 4:L(),x=b;break;case 1:E==="("?x=2:VALID_PARAM_RE.test(E)?L():(M(),x=0,E!=="*"&&E!=="?"&&E!=="+"&&F--);break;case 2:E===")"?D[D.length-1]=="\\"?D=D.slice(0,-1)+E:x=3:D+=E;break;case 3:M(),x=0,E!=="*"&&E!=="?"&&E!=="+"&&F--,D="";break;default:d("Unknown state");break}}return x===2&&d(`Unfinished custom RegExp for param "${k}"`),M(),C(),S}function createRouteRecordMatcher(g,d,x){const b=tokensToParser(tokenizePath(g.path),x),S=assign$1(b,{record:g,parent:d,children:[],alias:[]});return d&&!S.record.aliasOf==!d.record.aliasOf&&d.children.push(S),S}function createRouterMatcher(g,d){const x=[],b=new Map;d=mergeOptions({strict:!1,end:!0,sensitive:!1},d);function S(D){return b.get(D)}function w(D,M,L){const R=!L,U=normalizeRouteRecord(D);U.aliasOf=L&&L.record;const j=mergeOptions(d,D),H=[U];if("alias"in D){const G=typeof D.alias=="string"?[D.alias]:D.alias;for(const X of G)H.push(assign$1({},U,{components:L?L.record.components:U.components,path:X,aliasOf:L?L.record:U}))}let V,z;for(const G of H){const{path:X}=G;if(M&&X[0]!=="/"){const Y=M.record.path,J=Y[Y.length-1]==="/"?"":"/";G.path=M.record.path+(X&&J+X)}if(V=createRouteRecordMatcher(G,M,j),L?L.alias.push(V):(z=z||V,z!==V&&z.alias.push(V),R&&D.name&&!isAliasRecord(V)&&C(D.name)),U.children){const Y=U.children;for(let J=0;J<Y.length;J++)w(Y[J],V,L&&L.children[J])}L=L||V,(V.record.components&&Object.keys(V.record.components).length||V.record.name||V.record.redirect)&&E(V)}return z?()=>{C(z)}:noop$1}function C(D){if(isRouteName(D)){const M=b.get(D);M&&(b.delete(D),x.splice(x.indexOf(M),1),M.children.forEach(C),M.alias.forEach(C))}else{const M=x.indexOf(D);M>-1&&(x.splice(M,1),D.record.name&&b.delete(D.record.name),D.children.forEach(C),D.alias.forEach(C))}}function F(){return x}function E(D){let M=0;for(;M<x.length&&comparePathParserScore(D,x[M])>=0&&(D.record.path!==x[M].record.path||!isRecordChildOf(D,x[M]));)M++;x.splice(M,0,D),D.record.name&&!isAliasRecord(D)&&b.set(D.record.name,D)}function k(D,M){let L,R={},U,j;if("name"in D&&D.name){if(L=b.get(D.name),!L)throw createRouterError(1,{location:D});j=L.record.name,R=assign$1(paramsFromLocation(M.params,L.keys.filter(z=>!z.optional).map(z=>z.name)),D.params&&paramsFromLocation(D.params,L.keys.map(z=>z.name))),U=L.stringify(R)}else if("path"in D)U=D.path,L=x.find(z=>z.re.test(U)),L&&(R=L.parse(U),j=L.record.name);else{if(L=M.name?b.get(M.name):x.find(z=>z.re.test(M.path)),!L)throw createRouterError(1,{location:D,currentLocation:M});j=L.record.name,R=assign$1({},M.params,D.params),U=L.stringify(R)}const H=[];let V=L;for(;V;)H.unshift(V.record),V=V.parent;return{name:j,path:U,params:R,matched:H,meta:mergeMetaFields(H)}}return g.forEach(D=>w(D)),{addRoute:w,resolve:k,removeRoute:C,getRoutes:F,getRecordMatcher:S}}function paramsFromLocation(g,d){const x={};for(const b of d)b in g&&(x[b]=g[b]);return x}function normalizeRouteRecord(g){return{path:g.path,redirect:g.redirect,name:g.name,meta:g.meta||{},aliasOf:void 0,beforeEnter:g.beforeEnter,props:normalizeRecordProps(g),children:g.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in g?g.components||null:g.component&&{default:g.component}}}function normalizeRecordProps(g){const d={},x=g.props||!1;if("component"in g)d.default=x;else for(const b in g.components)d[b]=typeof x=="object"?x[b]:x;return d}function isAliasRecord(g){for(;g;){if(g.record.aliasOf)return!0;g=g.parent}return!1}function mergeMetaFields(g){return g.reduce((d,x)=>assign$1(d,x.meta),{})}function mergeOptions(g,d){const x={};for(const b in g)x[b]=b in d?d[b]:g[b];return x}function isRecordChildOf(g,d){return d.children.some(x=>x===g||isRecordChildOf(g,x))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(g){return encodeURI(""+g).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(g){return commonEncode(g).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(g){return commonEncode(g).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(g){return encodeQueryValue(g).replace(EQUAL_RE,"%3D")}function encodePath(g){return commonEncode(g).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(g){return g==null?"":encodePath(g).replace(SLASH_RE,"%2F")}function decode(g){try{return decodeURIComponent(""+g)}catch{}return""+g}function parseQuery(g){const d={};if(g===""||g==="?")return d;const b=(g[0]==="?"?g.slice(1):g).split("&");for(let S=0;S<b.length;++S){const w=b[S].replace(PLUS_RE," "),C=w.indexOf("="),F=decode(C<0?w:w.slice(0,C)),E=C<0?null:decode(w.slice(C+1));if(F in d){let k=d[F];isArray(k)||(k=d[F]=[k]),k.push(E)}else d[F]=E}return d}function stringifyQuery(g){let d="";for(let x in g){const b=g[x];if(x=encodeQueryKey(x),b==null){b!==void 0&&(d+=(d.length?"&":"")+x);continue}(isArray(b)?b.map(w=>w&&encodeQueryValue(w)):[b&&encodeQueryValue(b)]).forEach(w=>{w!==void 0&&(d+=(d.length?"&":"")+x,w!=null&&(d+="="+w))})}return d}function normalizeQuery(g){const d={};for(const x in g){const b=g[x];b!==void 0&&(d[x]=isArray(b)?b.map(S=>S==null?null:""+S):b==null?b:""+b)}return d}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let g=[];function d(b){return g.push(b),()=>{const S=g.indexOf(b);S>-1&&g.splice(S,1)}}function x(){g=[]}return{add:d,list:()=>g.slice(),reset:x}}function guardToPromiseFn(g,d,x,b,S){const w=b&&(b.enterCallbacks[S]=b.enterCallbacks[S]||[]);return()=>new Promise((C,F)=>{const E=M=>{M===!1?F(createRouterError(4,{from:x,to:d})):M instanceof Error?F(M):isRouteLocation(M)?F(createRouterError(2,{from:d,to:M})):(w&&b.enterCallbacks[S]===w&&typeof M=="function"&&w.push(M),C())},k=g.call(b&&b.instances[S],d,x,E);let D=Promise.resolve(k);g.length<3&&(D=D.then(E)),D.catch(M=>F(M))})}function extractComponentsGuards(g,d,x,b){const S=[];for(const w of g)for(const C in w.components){let F=w.components[C];if(!(d!=="beforeRouteEnter"&&!w.instances[C]))if(isRouteComponent(F)){const k=(F.__vccOpts||F)[d];k&&S.push(guardToPromiseFn(k,x,b,w,C))}else{let E=F();S.push(()=>E.then(k=>{if(!k)return Promise.reject(new Error(`Couldn't resolve component "${C}" at "${w.path}"`));const D=isESModule(k)?k.default:k;w.components[C]=D;const L=(D.__vccOpts||D)[d];return L&&guardToPromiseFn(L,x,b,w,C)()}))}}return S}function isRouteComponent(g){return typeof g=="object"||"displayName"in g||"props"in g||"__vccOpts"in g}function useLink(g){const d=inject(routerKey),x=inject(routeLocationKey),b=computed(()=>d.resolve(unref(g.to))),S=computed(()=>{const{matched:E}=b.value,{length:k}=E,D=E[k-1],M=x.matched;if(!D||!M.length)return-1;const L=M.findIndex(isSameRouteRecord.bind(null,D));if(L>-1)return L;const R=getOriginalPath(E[k-2]);return k>1&&getOriginalPath(D)===R&&M[M.length-1].path!==R?M.findIndex(isSameRouteRecord.bind(null,E[k-2])):L}),w=computed(()=>S.value>-1&&includesParams(x.params,b.value.params)),C=computed(()=>S.value>-1&&S.value===x.matched.length-1&&isSameRouteLocationParams(x.params,b.value.params));function F(E={}){return guardEvent(E)?d[unref(g.replace)?"replace":"push"](unref(g.to)).catch(noop$1):Promise.resolve()}return{route:b,href:computed(()=>b.value.href),isActive:w,isExactActive:C,navigate:F}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(g,{slots:d}){const x=reactive(useLink(g)),{options:b}=inject(routerKey),S=computed(()=>({[getLinkClass(g.activeClass,b.linkActiveClass,"router-link-active")]:x.isActive,[getLinkClass(g.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:x.isExactActive}));return()=>{const w=d.default&&d.default(x);return g.custom?w:h$1("a",{"aria-current":x.isExactActive?g.ariaCurrentValue:null,href:x.href,onClick:x.navigate,class:S.value},w)}}}),RouterLink=RouterLinkImpl;function guardEvent(g){if(!(g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)&&!g.defaultPrevented&&!(g.button!==void 0&&g.button!==0)){if(g.currentTarget&&g.currentTarget.getAttribute){const d=g.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(d))return}return g.preventDefault&&g.preventDefault(),!0}}function includesParams(g,d){for(const x in d){const b=d[x],S=g[x];if(typeof b=="string"){if(b!==S)return!1}else if(!isArray(S)||S.length!==b.length||b.some((w,C)=>w!==S[C]))return!1}return!0}function getOriginalPath(g){return g?g.aliasOf?g.aliasOf.path:g.path:""}const getLinkClass=(g,d,x)=>g??d??x,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(g,{attrs:d,slots:x}){const b=inject(routerViewLocationKey),S=computed(()=>g.route||b.value),w=inject(viewDepthKey,0),C=computed(()=>{let k=unref(w);const{matched:D}=S.value;let M;for(;(M=D[k])&&!M.components;)k++;return k}),F=computed(()=>S.value.matched[C.value]);provide(viewDepthKey,computed(()=>C.value+1)),provide(matchedRouteKey,F),provide(routerViewLocationKey,S);const E=ref();return watch(()=>[E.value,F.value,g.name],([k,D,M],[L,R,U])=>{D&&(D.instances[M]=k,R&&R!==D&&k&&k===L&&(D.leaveGuards.size||(D.leaveGuards=R.leaveGuards),D.updateGuards.size||(D.updateGuards=R.updateGuards))),k&&D&&(!R||!isSameRouteRecord(D,R)||!L)&&(D.enterCallbacks[M]||[]).forEach(j=>j(k))},{flush:"post"}),()=>{const k=S.value,D=g.name,M=F.value,L=M&&M.components[D];if(!L)return normalizeSlot(x.default,{Component:L,route:k});const R=M.props[D],U=R?R===!0?k.params:typeof R=="function"?R(k):R:null,H=h$1(L,assign$1({},U,d,{onVnodeUnmounted:V=>{V.component.isUnmounted&&(M.instances[D]=null)},ref:E}));return normalizeSlot(x.default,{Component:H,route:k})||H}}});function normalizeSlot(g,d){if(!g)return null;const x=g(d);return x.length===1?x[0]:x}const RouterView=RouterViewImpl;function createRouter(g){const d=createRouterMatcher(g.routes,g),x=g.parseQuery||parseQuery,b=g.stringifyQuery||stringifyQuery,S=g.history,w=useCallbacks(),C=useCallbacks(),F=useCallbacks(),E=shallowRef(START_LOCATION_NORMALIZED);let k=START_LOCATION_NORMALIZED;isBrowser&&g.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const D=applyToParams.bind(null,te=>""+te),M=applyToParams.bind(null,encodeParam),L=applyToParams.bind(null,decode);function R(te,re){let W,$;return isRouteName(te)?(W=d.getRecordMatcher(te),$=re):$=te,d.addRoute($,W)}function U(te){const re=d.getRecordMatcher(te);re&&d.removeRoute(re)}function j(){return d.getRoutes().map(te=>te.record)}function H(te){return!!d.getRecordMatcher(te)}function V(te,re){if(re=assign$1({},re||E.value),typeof te=="string"){const ae=parseURL(x,te,re.path),ce=d.resolve({path:ae.path},re),le=S.createHref(ae.fullPath);return assign$1(ae,ce,{params:L(ce.params),hash:decode(ae.hash),redirectedFrom:void 0,href:le})}let W;if("path"in te)W=assign$1({},te,{path:parseURL(x,te.path,re.path).path});else{const ae=assign$1({},te.params);for(const ce in ae)ae[ce]==null&&delete ae[ce];W=assign$1({},te,{params:M(ae)}),re.params=M(re.params)}const $=d.resolve(W,re),Z=te.hash||"";$.params=D(L($.params));const K=stringifyURL(b,assign$1({},te,{hash:encodeHash(Z),path:$.path})),Q=S.createHref(K);return assign$1({fullPath:K,hash:Z,query:b===stringifyQuery?normalizeQuery(te.query):te.query||{}},$,{redirectedFrom:void 0,href:Q})}function z(te){return typeof te=="string"?parseURL(x,te,E.value.path):assign$1({},te)}function G(te,re){if(k!==te)return createRouterError(8,{from:re,to:te})}function X(te){return ee(te)}function Y(te){return X(assign$1(z(te),{replace:!0}))}function J(te){const re=te.matched[te.matched.length-1];if(re&&re.redirect){const{redirect:W}=re;let $=typeof W=="function"?W(te):W;return typeof $=="string"&&($=$.includes("?")||$.includes("#")?$=z($):{path:$},$.params={}),assign$1({query:te.query,hash:te.hash,params:"path"in $?{}:te.params},$)}}function ee(te,re){const W=k=V(te),$=E.value,Z=te.state,K=te.force,Q=te.replace===!0,ae=J(W);if(ae)return ee(assign$1(z(ae),{state:typeof ae=="object"?assign$1({},Z,ae.state):Z,force:K,replace:Q}),re||W);const ce=W;ce.redirectedFrom=re;let le;return!K&&isSameRouteLocation(b,$,W)&&(le=createRouterError(16,{to:ce,from:$}),Me($,$,!0,!1)),(le?Promise.resolve(le):he(ce,$)).catch(ge=>isNavigationFailure(ge)?isNavigationFailure(ge,2)?ge:Le(ge):Oe(ge,ce,$)).then(ge=>{if(ge){if(isNavigationFailure(ge,2))return ee(assign$1({replace:Q},z(ge.to),{state:typeof ge.to=="object"?assign$1({},Z,ge.to.state):Z,force:K}),re||ce)}else ge=Se(ce,$,!0,Q,Z);return fe(ce,$,ge),ge})}function ie(te,re){const W=G(te,re);return W?Promise.reject(W):Promise.resolve()}function oe(te){const re=De.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(te):te()}function he(te,re){let W;const[$,Z,K]=extractChangingRecords(te,re);W=extractComponentsGuards($.reverse(),"beforeRouteLeave",te,re);for(const ae of $)ae.leaveGuards.forEach(ce=>{W.push(guardToPromiseFn(ce,te,re))});const Q=ie.bind(null,te,re);return W.push(Q),Ce(W).then(()=>{W=[];for(const ae of w.list())W.push(guardToPromiseFn(ae,te,re));return W.push(Q),Ce(W)}).then(()=>{W=extractComponentsGuards(Z,"beforeRouteUpdate",te,re);for(const ae of Z)ae.updateGuards.forEach(ce=>{W.push(guardToPromiseFn(ce,te,re))});return W.push(Q),Ce(W)}).then(()=>{W=[];for(const ae of K)if(ae.beforeEnter)if(isArray(ae.beforeEnter))for(const ce of ae.beforeEnter)W.push(guardToPromiseFn(ce,te,re));else W.push(guardToPromiseFn(ae.beforeEnter,te,re));return W.push(Q),Ce(W)}).then(()=>(te.matched.forEach(ae=>ae.enterCallbacks={}),W=extractComponentsGuards(K,"beforeRouteEnter",te,re),W.push(Q),Ce(W))).then(()=>{W=[];for(const ae of C.list())W.push(guardToPromiseFn(ae,te,re));return W.push(Q),Ce(W)}).catch(ae=>isNavigationFailure(ae,8)?ae:Promise.reject(ae))}function fe(te,re,W){F.list().forEach($=>oe(()=>$(te,re,W)))}function Se(te,re,W,$,Z){const K=G(te,re);if(K)return K;const Q=re===START_LOCATION_NORMALIZED,ae=isBrowser?history.state:{};W&&($||Q?S.replace(te.fullPath,assign$1({scroll:Q&&ae&&ae.scroll},Z)):S.push(te.fullPath,Z)),E.value=te,Me(te,re,W,Q),Le()}let we;function Ee(){we||(we=S.listen((te,re,W)=>{if(!Pe.listening)return;const $=V(te),Z=J($);if(Z){ee(assign$1(Z,{replace:!0}),$).catch(noop$1);return}k=$;const K=E.value;isBrowser&&saveScrollPosition(getScrollKey(K.fullPath,W.delta),computeScrollPosition()),he($,K).catch(Q=>isNavigationFailure(Q,12)?Q:isNavigationFailure(Q,2)?(ee(Q.to,$).then(ae=>{isNavigationFailure(ae,20)&&!W.delta&&W.type===NavigationType.pop&&S.go(-1,!1)}).catch(noop$1),Promise.reject()):(W.delta&&S.go(-W.delta,!1),Oe(Q,$,K))).then(Q=>{Q=Q||Se($,K,!1),Q&&(W.delta&&!isNavigationFailure(Q,8)?S.go(-W.delta,!1):W.type===NavigationType.pop&&isNavigationFailure(Q,20)&&S.go(-1,!1)),fe($,K,Q)}).catch(noop$1)}))}let de=useCallbacks(),xe=useCallbacks(),Te;function Oe(te,re,W){Le(te);const $=xe.list();return $.length?$.forEach(Z=>Z(te,re,W)):console.error(te),Promise.reject(te)}function Ne(){return Te&&E.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((te,re)=>{de.add([te,re])})}function Le(te){return Te||(Te=!te,Ee(),de.list().forEach(([re,W])=>te?W(te):re()),de.reset()),te}function Me(te,re,W,$){const{scrollBehavior:Z}=g;if(!isBrowser||!Z)return Promise.resolve();const K=!W&&getSavedScrollPosition(getScrollKey(te.fullPath,0))||($||!W)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Z(te,re,K)).then(Q=>Q&&scrollToPosition(Q)).catch(Q=>Oe(Q,te,re))}const Ie=te=>S.go(te);let Ve;const De=new Set,Pe={currentRoute:E,listening:!0,addRoute:R,removeRoute:U,hasRoute:H,getRoutes:j,resolve:V,options:g,push:X,replace:Y,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:w.add,beforeResolve:C.add,afterEach:F.add,onError:xe.add,isReady:Ne,install(te){const re=this;te.component("RouterLink",RouterLink),te.component("RouterView",RouterView),te.config.globalProperties.$router=re,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(E)}),isBrowser&&!Ve&&E.value===START_LOCATION_NORMALIZED&&(Ve=!0,X(S.location).catch(Z=>{}));const W={};for(const Z in START_LOCATION_NORMALIZED)Object.defineProperty(W,Z,{get:()=>E.value[Z],enumerable:!0});te.provide(routerKey,re),te.provide(routeLocationKey,shallowReactive(W)),te.provide(routerViewLocationKey,E);const $=te.unmount;De.add(te),te.unmount=function(){De.delete(te),De.size<1&&(k=START_LOCATION_NORMALIZED,we&&we(),we=null,E.value=START_LOCATION_NORMALIZED,Ve=!1,Te=!1),$()}}};function Ce(te){return te.reduce((re,W)=>re.then(()=>oe(W)),Promise.resolve())}return Pe}function extractChangingRecords(g,d){const x=[],b=[],S=[],w=Math.max(d.matched.length,g.matched.length);for(let C=0;C<w;C++){const F=d.matched[C];F&&(g.matched.find(k=>isSameRouteRecord(k,F))?b.push(F):x.push(F));const E=g.matched[C];E&&(d.matched.find(k=>isSameRouteRecord(k,E))||S.push(E))}return[x,b,S]}const _sfc_main$i={},_withScopeId$7=g=>(pushScopeId("data-v-3b4afa6a"),g=g(),popScopeId(),g),_hoisted_1$h={class:"container flex-col"},_hoisted_2$e=_withScopeId$7(()=>createBaseVNode("h1",{class:"welcome"},"   ",-1)),_hoisted_3$d=_withScopeId$7(()=>createBaseVNode("p",{class:"description text"},"         ,    ,     .    .    ,        .                    .",-1)),_hoisted_4$8=[_hoisted_2$e,_hoisted_3$d];function _sfc_render$g(g,d,x,b,S,w){return openBlock(),createElementBlock("article",_hoisted_1$h,_hoisted_4$8)}const Home=_export_sfc(_sfc_main$i,[["render",_sfc_render$g],["__scopeId","data-v-3b4afa6a"]]),_imports_0="/signer/document.png",_sfc_main$h={name:"Uploading-field",props:{message:"",mimeTypeString:""},computed:{errorMessage:{get(){return this.errorMessage},set(g){this.$emit("update:message",g)}}},data(){return{isFieldActive:!1,counter:0}},emits:["file-changed","update:message"],methods:{onChangeFile:function(g){this.updateFile(g.target.files[0]),g.target.value=null},onDropHandler:async function(g){if(g.length>1||g.length===0){this.errorMessage="    !";return}const d=g[0];if(d.length<1){this.errorMessage=" !";return}this.updateFile(d)},updateFile:function(g){if(this.mimeTypeString.length&&!this.mimeTypeString.split(",").includes(g.type)){this.errorMessage=`  : ${this.mimeTypeString}`;return}if(g.size>this.$maxByteSize){alert("The file weighs more than 150mb");return}this.$emit("file-changed",g)}},mounted(){const g=this.$refs["upload-field-ref"];g.ondragleave=d=>{d.preventDefault(),this.counter--,this.counter===0&&(this.isFieldActive=!1)},g.ondrop=d=>{d.preventDefault(),this.isFieldActive=!1,this.counter=0,this.onDropHandler(d.dataTransfer.files)},g.ondragenter=d=>{d.preventDefault(),this.counter++,this.isFieldActive=!0},g.ondragover=d=>{d.preventDefault()}}},_withScopeId$6=g=>(pushScopeId("data-v-f06827a9"),g=g(),popScopeId(),g),_hoisted_1$g=_withScopeId$6(()=>createBaseVNode("img",{id:"img-doc",src:_imports_0,alt:" ",ondragstart:"return false"},null,-1)),_hoisted_2$d={class:"custom-button"},_hoisted_3$c=["accept"],_hoisted_4$7=_withScopeId$6(()=>createBaseVNode("p",null,"   ",-1));function _sfc_render$f(g,d,x,b,S,w){return openBlock(),createElementBlock("div",{class:normalizeClass(["upload-field flex-col",{active:this.isFieldActive}]),ref:"upload-field-ref"},[_hoisted_1$g,createBaseVNode("label",_hoisted_2$d,[createBaseVNode("input",{type:"file",name:"file",accept:x.mimeTypeString,onChange:d[0]||(d[0]=(...C)=>w.onChangeFile&&w.onChangeFile(...C))},null,40,_hoisted_3$c),createTextVNode("     ")]),_hoisted_4$7],2)}const UploadingField=_export_sfc(_sfc_main$h,[["render",_sfc_render$f],["__scopeId","data-v-f06827a9"]]),_sfc_main$g={components:{UploadingField},data(){return{isActive:!1,counter:0}},props:{errorCertificateMessage:"",selectedFile:{},mimeTypeString:""},computed:{errorMessage:{get(){return this.errorCertificateMessage},set(g){this.$emit("update:errorCertificateMessage",g)}}},emits:["update:selectedFile","update:errorCertificateMessage","try-get-cert"],methods:{onChangeFile:function(g){this.$emit("try-get-cert"),this.$emit("update:selectedFile",{file:g})}}},_hoisted_1$f={class:"container flex-col"},_hoisted_2$c={class:"box1"},_hoisted_3$b=["textContent"];function _sfc_render$e(g,d,x,b,S,w){const C=resolveComponent("uploading-field");return openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("header",_hoisted_2$c,[renderSlot(g.$slots,"header",{},void 0,!0)]),createVNode(C,{class:"box2",message:w.errorMessage,"onUpdate:message":d[0]||(d[0]=F=>w.errorMessage=F),"mime-type-string":x.mimeTypeString,onFileChanged:w.onChangeFile},null,8,["message","mime-type-string","onFileChanged"]),createBaseVNode("p",{class:"errorMessage",textContent:toDisplayString(w.errorMessage)},null,8,_hoisted_3$b)])}const PageUpload$1=_export_sfc(_sfc_main$g,[["render",_sfc_render$e],["__scopeId","data-v-e350e02d"]]),_sfc_main$f={emits:["restart","new-sign"],props:{pdfResult:{},signResult:{}},data(){return{pdfObjectUrl:"",signObjectUrl:""}},computed:{PdfFileName:{get(){return"file"in this.pdfResult?this.pdfResult.file.name:""}},SignFileName:{get(){return"file"in this.signResult?this.signResult.file.name:""}}},watch:{},mounted(){console.debug("download"),"file"in this.pdfResult&&(this.pdfObjectUrl=window.URL.createObjectURL(this.pdfResult.file),console.debug("PDF file and PDF-FILE-URL updated")),"file"in this.signResult&&(this.signObjectUrl=window.URL.createObjectURL(this.signResult.file),console.debug("SIGN file and SIGN-FILE-URL updated"))}},_hoisted_1$e={class:"container flex-col"},_hoisted_2$b=createBaseVNode("h1",{class:"title"},"  !",-1),_hoisted_3$a=["href","download"],_hoisted_4$6=["href","download"];function _sfc_render$d(g,d,x,b,S,w){return openBlock(),createElementBlock("div",_hoisted_1$e,[_hoisted_2$b,createBaseVNode("a",{class:"custom-button link",href:S.pdfObjectUrl,download:w.PdfFileName},"  ",8,_hoisted_3$a),createBaseVNode("a",{class:"custom-button link",href:S.signObjectUrl,download:w.SignFileName},"  ",8,_hoisted_4$6),createBaseVNode("a",{class:"custom-button",onClick:d[0]||(d[0]=C=>this.$emit("restart"))},"  "),createBaseVNode("a",{class:"custom-button",onClick:d[1]||(d[1]=C=>this.$emit("new-sign"))}," ")])}const PageDownload=_export_sfc(_sfc_main$f,[["render",_sfc_render$d]]),_sfc_main$e={props:{width:"100%",height:"100%"}},__injectCSSVars__=()=>{useCssVars(g=>({"7a087834":g.width,faa481f2:g.height}))},__setup__=_sfc_main$e.setup;_sfc_main$e.setup=__setup__?(g,d)=>(__injectCSSVars__(),__setup__(g,d)):__injectCSSVars__;const _withScopeId$5=g=>(pushScopeId("data-v-422895f0"),g=g(),popScopeId(),g),_hoisted_1$d={class:"preload-container"},_hoisted_2$a=_withScopeId$5(()=>createBaseVNode("div",{class:"preloader"},[createBaseVNode("div",{class:"preloader__row"},[createBaseVNode("div",{class:"preloader__item"}),createBaseVNode("div",{class:"preloader__item"})])],-1)),_hoisted_3$9=[_hoisted_2$a];function _sfc_render$c(g,d,x,b,S,w){return openBlock(),createElementBlock("div",_hoisted_1$d,_hoisted_3$9)}const Preloader=_export_sfc(_sfc_main$e,[["render",_sfc_render$c],["__scopeId","data-v-422895f0"]]),_sfc_main$d={components:{preloader:Preloader},props:["certList"],data(){return{certificateSelected:!1,loading:!0,showAll:!1,selectedCertName:""}},watch:{certList(g){g.length&&(this.loading=!1),console.debug(g)}},emits:["cancel","get-certificate"],methods:{onClickCert:function(g,d,x){if(!d||(this.selectedCertName=x.removeEnclosingQuotes(),g.currentTarget.classList.contains("selected")))return;let b=document.getElementsByClassName("selected");b.length>0&&b[0].classList.remove("selected"),g.currentTarget.classList.add("selected"),this.certificateSelected=!0},onGetSelectedCert:function(){let d=document.getElementsByClassName("selected")[0].getAttribute("data-thumbprint"),x=this.certList.find(b=>b.thumbprint===d);x.CN=x.CN.removeEnclosingQuotes(),this.$emit("get-certificate",x)},toggleSlider:function(){this.showAll=!this.showAll,document.querySelector(".slider").classList.toggle("right")}}},_withScopeId$4=g=>(pushScopeId("data-v-6c821600"),g=g(),popScopeId(),g),_hoisted_1$c={class:"modal-mask"},_hoisted_2$9={class:"modal-wrapper"},_hoisted_3$8={class:"modal-container",ondragstart:"return false"},_hoisted_4$5={class:"modal-header"},_hoisted_5$5=_withScopeId$4(()=>createBaseVNode("h2",null," :",-1)),_hoisted_6$5=_withScopeId$4(()=>createBaseVNode("div",{class:"slider"},null,-1)),_hoisted_7$4=[_hoisted_6$5],_hoisted_8$1={class:"modal-body"},_hoisted_9={key:1,id:"certificate__keys__wrapper"},_hoisted_10=["onClick","data-thumbprint"],_hoisted_11=_withScopeId$4(()=>createBaseVNode("br",null,null,-1)),_hoisted_12={class:"modal-footer"};function _sfc_render$b(g,d,x,b,S,w){const C=resolveComponent("preloader");return openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$5,[renderSlot(g.$slots,"header",{},()=>[_hoisted_5$5,createBaseVNode("div",{class:"switch",onClick:d[0]||(d[0]=(...F)=>w.toggleSlider&&w.toggleSlider(...F))},_hoisted_7$4)],!0)]),createBaseVNode("div",_hoisted_8$1,[renderSlot(g.$slots,"body",{},()=>[S.loading?(openBlock(),createBlock(C,{key:0,height:"500px"})):(openBlock(),createElementBlock("section",_hoisted_9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(x.certList,F=>withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["certificate__keys__content__block",{"non-valid-cert":!F.valid,"valid-cert":F.valid}]),onClick:E=>w.onClickCert(E,F.valid,F.name),onDblclick:d[1]||(d[1]=(...E)=>w.onGetSelectedCert&&w.onGetSelectedCert(...E)),"data-thumbprint":F.thumbprint},[createBaseVNode("h4",null,[createTextVNode(toDisplayString(F.name.removeEnclosingQuotes()),1),_hoisted_11,withDirectives(createBaseVNode("span",null,"(  )",512),[[vShow,!F.valid]])]),createBaseVNode("ul",null,[createBaseVNode("li",null," : "+toDisplayString(F.serialNumber),1),createBaseVNode("li",null,": "+toDisplayString(F.name.removeEnclosingQuotes()),1),createBaseVNode("li",null,": "+toDisplayString(F.validFromDate)+"  "+toDisplayString(F.validToDate),1)])],42,_hoisted_10)),[[vShow,F.valid|S.showAll]])),256))]))],!0)]),createBaseVNode("div",_hoisted_12,[renderSlot(g.$slots,"footer",{},()=>[S.certificateSelected?(openBlock(),createElementBlock("div",{key:0,class:"custom-button resume link",onClick:d[2]||(d[2]=(...F)=>w.onGetSelectedCert&&w.onGetSelectedCert(...F))},"  ("+toDisplayString(S.selectedCertName)+") ",1)):createCommentVNode("",!0),createBaseVNode("div",{class:"custom-button",onClick:d[3]||(d[3]=F=>g.$emit("cancel"))},"  ")],!0)])])])])}const SelectCertModal=_export_sfc(_sfc_main$d,[["render",_sfc_render$b],["__scopeId","data-v-6c821600"]]),_sfc_main$c={components:{PageUpload:PageUpload$1,PageDownload,ModalCertificateSelect:SelectCertModal,Preloader},data(){return{showUploadingPage:!0,showCertificateWindow:!1,preloader:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}},methods:{tryGetCert:function(){this.showCertificateWindow=!0,getCertificates().then(g=>{g.length?this.certList=g:(this.errorCertificateMessage=" ",console.log(" "))}).catch(g=>{this.errorCertificateMessage=`${g} - ,       .`,this.showCertificateWindow=!1,console.error(g)})},onSelectedCert:function(g){this.showCertificateWindow=!1,this.preloader=!0,console.log("creating signature..."),signData(this.selectedFile,g.thumbprint).then(d=>{console.log(d),console.log(this.selectedFile);let x=this.selectedFile.file.name,b=new Blob([d.signatures.file],{type:"application/pgp-signature"}),S=new File([b],`${x}.sig`,{type:"application/pgp-signature"});this.signResult={file:S},this.preloader=!1,this.showUploadingPage=!1}).catch(d=>{this.preloader=!1,this.showCertificateWindow=!1,this.errorCertificateMessage=d,console.error(d)})},onCancelSelect:function(){this.errorCertificateMessage=" ,  !",this.showCertificateWindow=!1},restartProcess:function(){Object.assign(this.$data,initData())}},mounted(){}};function initData(){return{showUploadingPage:!0,showCertificateWindow:!1,preloader:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}}const _hoisted_1$b=createBaseVNode("h1",null,"  ",-1);function _sfc_render$a(g,d,x,b,S,w){const C=resolveComponent("preloader"),F=resolveComponent("PageUpload"),E=resolveComponent("PageDownload"),k=resolveComponent("ModalCertificateSelect");return openBlock(),createElementBlock(Fragment,null,[withDirectives(createVNode(C,{height:"600px"},null,512),[[vShow,S.preloader]]),S.showUploadingPage?withDirectives((openBlock(),createBlock(F,{key:0,"mime-type-string":"","selected-file":S.selectedFile,"onUpdate:selectedFile":d[0]||(d[0]=D=>S.selectedFile=D),"error-certificate-message":S.errorCertificateMessage,"onUpdate:errorCertificateMessage":d[1]||(d[1]=D=>S.errorCertificateMessage=D),onTryGetCert:w.tryGetCert},{header:withCtx(()=>[_hoisted_1$b]),_:1},8,["selected-file","error-certificate-message","onTryGetCert"])),[[vShow,!S.preloader]]):(openBlock(),createBlock(E,{key:1,"pdf-result":S.selectedFile,"sign-result":S.signResult,onRestart:w.restartProcess},null,8,["pdf-result","sign-result","onRestart"])),withDirectives(createVNode(k,{"cert-list":S.certList,onGetCertificate:w.onSelectedCert,onCancel:w.onCancelSelect},null,8,["cert-list","onGetCertificate","onCancel"]),[[vShow,S.showCertificateWindow]])],64)}const Detached=_export_sfc(_sfc_main$c,[["render",_sfc_render$a]]),_sfc_main$b={emits:["cancel","approve"]},_hoisted_1$a={class:"modal-mask"},_hoisted_2$8={class:"modal-wrapper"},_hoisted_3$7={class:"modal-container",ondragstart:"return false"},_hoisted_4$4={class:"modal-header"},_hoisted_5$4=createBaseVNode("h2",null,"!",-1),_hoisted_6$4={class:"modal-body"},_hoisted_7$3=createBaseVNode("b",null,"",-1),_hoisted_8={class:"modal-footer"};function _sfc_render$9(g,d,x,b,S,w){return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$4,[renderSlot(g.$slots,"header",{},()=>[_hoisted_5$4])]),createBaseVNode("div",_hoisted_6$4,[renderSlot(g.$slots,"body",{},()=>[createTextVNode("   ,   "),_hoisted_7$3,createTextVNode(". ")])]),createBaseVNode("div",_hoisted_8,[renderSlot(g.$slots,"footer",{},()=>[createBaseVNode("div",{class:"custom-button resume link",onClick:d[0]||(d[0]=C=>g.$emit("approve"))},"   "),createBaseVNode("div",{class:"custom-button resume",onClick:d[1]||(d[1]=C=>g.$emit("cancel"))},"  ")])])])])])}const ApproveChange=_export_sfc(_sfc_main$b,[["render",_sfc_render$9]]),_sfc_main$a={name:"Selected-cert",components:{ApproveChange},props:{certificate:{},signCount:0},data(){return{showApprove:!1}},methods:{approveOrAsk:function(){this.signCount>0?this.showApprove=!0:this.$emit("change-cert")}},emits:["change-cert"]},_withScopeId$3=g=>(pushScopeId("data-v-73cf4a27"),g=g(),popScopeId(),g),_hoisted_1$9={class:"certificate"},_hoisted_2$7={class:"selected-cert"},_hoisted_3$6=_withScopeId$3(()=>createBaseVNode("h4",null," :",-1));function _sfc_render$8(g,d,x,b,S,w){const C=resolveComponent("approve-change");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$7,[_hoisted_3$6,createBaseVNode("ul",null,[createBaseVNode("li",null,": ("+toDisplayString(x.certificate.name)+")",1),createBaseVNode("li",null,": ("+toDisplayString(x.certificate.issuerName)+")",1),createBaseVNode("li",null,": ( "+toDisplayString(x.certificate.validFromDate)+"  "+toDisplayString(x.certificate.validToDate)+")",1)])]),createBaseVNode("label",{class:"custom-button-2",onClick:d[0]||(d[0]=(...F)=>w.approveOrAsk&&w.approveOrAsk(...F))},"   ")]),withDirectives(createVNode(C,{onCancel:d[1]||(d[1]=F=>S.showApprove=!1),onApprove:d[2]||(d[2]=F=>{this.$emit("change-cert"),S.showApprove=!1})},null,512),[[vShow,S.showApprove]])],64)}const CertificateViewAndChange=_export_sfc(_sfc_main$a,[["render",_sfc_render$8],["__scopeId","data-v-73cf4a27"]]);function isFunction(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Function]"}function snapToGrid(g,d,x,b=1){const[S,w]=typeof b=="number"?[b,b]:b,C=Math.round(d/S/g[0])*g[0],F=Math.round(x/w/g[1])*g[1];return[C,F]}function computeWidth(g,d,x){return g-d-x}function computeHeight(g,d,x){return g-d-x}function restrictToBounds(g,d,x){return d!==null&&g<d?d:x!==null&&x<g?x:g}function matchesSelectorToParentElements(g,d,x){let b=g;const S=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(w=>isFunction(b[w]));if(!isFunction(b[S]))return!1;do{if(b[S](d))return!0;if(b===x)return!1;b=b.parentNode}while(b);return!1}function getComputedSize(g){const d=window.getComputedStyle(g);return[parseFloat(d.getPropertyValue("width"),10),parseFloat(d.getPropertyValue("height"),10)]}function addEvent(g,d,x){g&&(g.attachEvent?g.attachEvent("on"+d,x):g.addEventListener?g.addEventListener(d,x,!0):g["on"+d]=x)}function removeEvent(g,d,x){g&&(g.detachEvent?g.detachEvent("on"+d,x):g.removeEventListener?g.removeEventListener(d,x,!0):g["on"+d]=null)}const _hoisted_1$8=["onMousedown","onTouchstart"],_sfc_main$9={__name:"DraggableResizable",props:{draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:g=>typeof g=="string"?g==="auto":g>=0},w:{type:[Number,String],validator:g=>typeof g=="number"?g>0:g==="auto"},h:{type:[Number,String],validator:g=>typeof g=="number"?g>0:g==="auto"},minWidth:{type:Number,default:0,validator:g=>g>=0},minHeight:{type:Number,default:0,validator:g=>g>=0},maxWidth:{type:Number,default:null,validator:g=>g>=0},maxHeight:{type:Number,default:null,validator:g=>g>=0},active:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},activeOnHover:{type:Boolean,default:!1},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},lockAspectRatio:{type:Boolean,default:!1},handlesType:{type:String,default:"handles",validator:g=>["handles","borders","custom"].includes(g)},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:g=>{const d=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(g.filter(x=>d.has(x))).size===g.length}},handlesSize:{type:Number,default:10},handlesBorder:{type:String,default:"0.5px solid #bbb"},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:g=>["x","y","both"].includes(g)},grid:{type:Array,validator:g=>Array.isArray(g)&&typeof g[0]=="number"&&typeof g[1]=="number"},showGrid:{type:[Boolean,String],default:!1,validator:g=>[!0,!1,"x","y","both"].includes(g)},gridColor:{type:String,default:"rgba(0, 0, 0, 0.1)"},parent:{type:[Boolean,String],default:!1},scale:{type:[Number,Array],default:1,validator:g=>typeof g=="number"?g>0:g.length===2&&g[0]>0&&g[1]>0},className:{type:String,default:"drv"},classNameDraggable:{type:String,default:"drv-draggable"},classNameResizable:{type:String,default:"drv-resizable"},classNameDragging:{type:String,default:"drv-dragging"},classNameResizing:{type:String,default:"drv-resizing"},classNameActive:{type:String,default:"drv-active"},classNameHandle:{type:String,default:"drv-handle"},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0}},emits:["update:x","update:y","update:w","update:h","update:active","resizing","resizestop","dragging","dragstop","activated","deactivated"],setup(g,{emit:d}){useCssVars(Ue=>({cd6b3e9a:G.value,"5383905e":Y.value,"01679a86":X.value}));const x={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},b={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},S={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let w=x.mouse;const C=g,F=d,E=ref(null),k=ref(null),D=ref({h:"auto",w:"auto",active:!1,x:0,y:0}),M=useSlots(),L=computed({get(){return C.w||D.value.w},set(Ue){F("update:w",Ue),D.value.w=Ue}}),R=computed({get(){return C.h||D.value.h},set(Ue){F("update:h",Ue),D.value.h=Ue}}),U=computed({get(){return C.x||D.value.x},set(Ue){F("update:x",Ue),D.value.x=Ue}}),j=computed({get(){return C.y||D.value.y},set(Ue){F("update:y",Ue),D.value.y=Ue}}),H=ref(null),V=ref(null),z=computed({get(){return C.active||D.value.active},set(Ue){F("update:active",Ue),D.value.active=Ue}}),G=computed(()=>C.handlesSize+"px"),X=computed(()=>C.handlesSize/2+"px"),Y=computed(()=>C.handlesBorder),J=ref(!1),ee=ref(!1),ie=ref(null),oe=ref(null),he=ref(null),fe=ref(null),Se=ref(!1),we=ref(!1),Ee=ref(!1),de=ref(!1),xe=ref(null),Te=ref(null),Oe=computed(()=>({transform:`translate(${U.value}px, ${j.value}px)`,width:Pe.value,height:Ce.value,zIndex:C.z,...we.value&&C.disableUserSelect?b:S})),Ne=inject("drvContainerClass",{}),Le=computed(()=>Ne.value?"."+Ne.value:C.parent),Me=inject("drvContainerGrid",{}),Ie=computed(()=>!Me||!Me.value?C.grid||[1,1]:C.grid?C.grid:Me.value),Ve=computed(()=>{const Ue={x:`linear-gradient(-90deg, ${C.gridColor} 1px, transparent 1px) 0px 0px / ${Ie.value[0]}px ${Ie.value[0]}px`,y:`linear-gradient(0deg, ${C.gridColor} 1px, transparent 1px) 0px 0px / ${Ie.value[1]}px ${Ie.value[1]}px`};return C.showGrid==="x"||C.showGrid==="y"?Ue[C.showGrid]:C.showGrid?`${Ue.x}, ${Ue.y}`:null}),De=computed(()=>C.resizable?C.handles:[]),Pe=computed(()=>L.value==="auto"&&!J.value?"auto":L.value+"px"),Ce=computed(()=>R.value==="auto"&&!ee.value?"auto":R.value+"px"),te=ref(C.minWidth),re=ref(C.minHeight),W=ref(C.maxWidth),$=ref(C.maxHeight),Z=computed(()=>!!fe.value&&(fe.value.includes("l")||fe.value.includes("r"))),K=computed(()=>!!fe.value&&(fe.value.includes("t")||fe.value.includes("b"))),Q=()=>{xe.value={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},Te.value={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},ae=()=>{if(Le.value){const Ue=typeof Le.value=="string"?E.value.closest(Le.value):E.value.parentNode;k.value=Ue;const ze=window.getComputedStyle(Ue,null);return[parseInt(ze.getPropertyValue("width"),10),parseInt(ze.getPropertyValue("height"),10)]}return[null,null]},ce=()=>{if(Le.value&&C.showGrid){if(!k.value){const Ue=typeof Ue.value=="string"?E.value.closest(Ue.value):E.value.parentNode;k.value=Ue}k.value.style.background=Ve.value}},le=Ue=>{w=x.touch,pe(Ue)},ge=Ue=>{w=x.mouse,pe(Ue)},pe=Ue=>{if(Ue instanceof MouseEvent&&Ue.which!==1)return;const ze=Ue.target||Ue.srcElement;if(E.value.contains(ze)){if(C.onDragStart(Ue)===!1)return;if(C.dragHandle&&!matchesSelectorToParentElements(ze,C.dragHandle,E.value)||C.dragCancel&&matchesSelectorToParentElements(ze,C.dragCancel,E.value)){we.value=!1;return}z.value||(z.value=!0,F("activated")),C.draggable&&(Ee.value=!0),xe.value.mouseX=Ue.touches?Ue.touches[0].pageX:Ue.pageX,xe.value.mouseY=Ue.touches?Ue.touches[0].pageY:Ue.pageY,xe.value.left=U.value,xe.value.right=H.value,xe.value.top=j.value,xe.value.bottom=V.value,Le.value&&(Te.value=ye()),addEvent(document.documentElement,w.move,Re),addEvent(document.documentElement,w.stop,_e)}},ye=()=>({minLeft:U.value%Ie.value[0],maxLeft:Math.floor((oe.value-L.value-U.value)/Ie.value[0])*Ie.value[0]+U.value,minRight:H.value%Ie.value[0],maxRight:Math.floor((oe.value-L.value-H.value)/Ie.value[0])*Ie.value[0]+H.value,minTop:j.value%Ie.value[1],maxTop:Math.floor((he.value-R.value-j.value)/Ie.value[1])*Ie.value[1]+j.value,minBottom:V.value%Ie.value[1],maxBottom:Math.floor((he.value-R.value-V.value)/Ie.value[1])*Ie.value[1]+V.value}),ve=Ue=>{const ze=Ue.target||Ue.srcElement,Ge=new RegExp(C.className+"-([trmbl]{2})","");(!E.value||!E.value.contains(ze)&&!Ge.test(ze.className))&&(z.value&&!C.preventDeactivation&&(z.value=!1,F("deactivated")),removeEvent(document.documentElement,w.move,ne)),Q()},be=(Ue,ze)=>{w=x.touch,me(Ue,ze)},me=(Ue,ze)=>{ze instanceof MouseEvent&&ze.which!==1||C.onResizeStart(Ue,ze)!==!1&&(ze.stopPropagation&&ze.stopPropagation(),C.lockAspectRatio&&!Ue.includes("m")?fe.value="m"+Ue.substring(1):fe.value=Ue,de.value=!0,xe.value.mouseX=ze.touches?ze.touches[0].pageX:ze.pageX,xe.value.mouseY=ze.touches?ze.touches[0].pageY:ze.pageY,xe.value.left=U.value,xe.value.right=H.value,xe.value.top=j.value,xe.value.bottom=V.value,Te.value=Fe(),addEvent(document.documentElement,w.move,ne),addEvent(document.documentElement,w.stop,_e))},Fe=()=>{const[Ue,ze]=Ie.value;C.lockAspectRatio&&(te.value/re.value>ie.value?re.value=te.value/ie.value:te.value=ie.value*re.value,W.value&&$.value?(W.value=Math.min(W.value,ie.value*$.value),$.value=Math.min($.value,W.value/ie.value)):W.value?$.value=W.value/ie.value:$.value&&(W.value=ie.value*$.value)),W.value=W.value-W.value%Ue,$.value=$.value-$.value%ze;const Ge={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return Le.value?(Ge.minLeft=U.value%Ue,Ge.maxLeft=U.value+Math.floor((L.value-te.value)/Ue)*Ue,Ge.minTop=j.value%ze,Ge.maxTop=j.value+Math.floor((R.value-re.value)/ze)*ze,Ge.minRight=H.value%Ue,Ge.maxRight=H.value+Math.floor((L.value-te.value)/Ue)*Ue,Ge.minBottom=V.value%ze,Ge.maxBottom=V.value+Math.floor((R.value-re.value)/ze)*ze,W.value&&(Ge.minLeft=Math.max(Ge.minLeft,oe.value-H.value-W.value),Ge.minRight=Math.max(Ge.minRight,oe.value-U.value-W.value)),$.value&&(Ge.minTop=Math.max(Ge.minTop,he.value-V.value-$.value),Ge.minBottom=Math.max(Ge.minBottom,he.value-j.value-$.value)),C.lockAspectRatio&&(Ge.minLeft=Math.max(Ge.minLeft,U.value-j.value*ie.value),Ge.minTop=Math.max(Ge.minTop,j.value-U.value/ie.value),Ge.minRight=Math.max(Ge.minRight,H.value-V.value*ie.value),Ge.minBottom=Math.max(Ge.minBottom,V.value-H.value/ie.value))):(Ge.minLeft=null,Ge.maxLeft=U.value+Math.floor((L.value-te.value)/Ue)*Ue,Ge.minTop=null,Ge.maxTop=j.value+Math.floor((R.value-re.value)/ze)*ze,Ge.minRight=null,Ge.maxRight=H.value+Math.floor((L.value-te.value)/Ue)*Ue,Ge.minBottom=null,Ge.maxBottom=V.value+Math.floor((R.value-re.value)/ze)*ze,W.value&&(Ge.minLeft=-(H.value+W.value),Ge.minRight=-(U.value+W.value)),$.value&&(Ge.minTop=-(V.value+$.value),Ge.minBottom=-(j.value+$.value)),C.lockAspectRatio&&W.value&&$.value&&(Ge.minLeft=Math.min(Ge.minLeft,-(H.value+W.value)),Ge.minTop=Math.min(Ge.minTop,-($.value+V.value)),Ge.minRight=Math.min(Ge.minRight,-U.value-W.value),Ge.minBottom=Math.min(Ge.minBottom,-j.value-$.value))),Ge},Re=Ue=>{Se.value?ne(Ue):Ee.value&&ke(Ue)},ke=Ue=>{const ze=C.axis&&C.axis!=="y"?xe.value.mouseX-(Ue.touches?Ue.touches[0].pageX:Ue.pageX):0,Ge=C.axis&&C.axis!=="x"?xe.value.mouseY-(Ue.touches?Ue.touches[0].pageY:Ue.pageY):0,[Xe,$e]=snapToGrid(Ie.value,ze,Ge,C.scale),qe=restrictToBounds(xe.value.left-Xe,Te.value.minLeft,Te.value.maxLeft),Ke=restrictToBounds(xe.value.top-$e,Te.value.minTop,Te.value.maxTop);if(C.onDrag(U,j)===!1)return;const Ye=restrictToBounds(xe.value.right+Xe,Te.value.minRight,Te.value.maxRight),We=restrictToBounds(xe.value.bottom+$e,Te.value.minBottom,Te.value.maxBottom);U.value=qe,j.value=Ke,H.value=Ye,V.value=We,F("dragging",U.value,j.value),we.value=!0},je=Ue=>{const[ze]=snapToGrid(Ie.value,Ue,j.value,1),Ge=restrictToBounds(ze,Te.value.minLeft,Te.value.maxLeft);U.value=Ge,H.value=oe.value-L.value-Ge},ue=Ue=>{const[,ze]=snapToGrid(Ie.value,U.value,Ue,1),Ge=restrictToBounds(ze,Te.value.minTop,Te.value.maxTop);j.value=Ge,V.value=he.value-R.value-Ge},ne=Ue=>{let ze=U.value,Ge=j.value,Xe=H.value,$e=V.value;const qe=xe.value.mouseX-(Ue.touches?Ue.touches[0].pageX:Ue.pageX),Ke=xe.value.mouseY-(Ue.touches?Ue.touches[0].pageY:Ue.pageY);!J.value&&qe&&(J.value=!0),!ee.value&&Ke&&(ee.value=!0);const[Ye,We]=snapToGrid(Ie.value,qe,Ke,C.scale);fe.value.includes("b")?($e=restrictToBounds(xe.value.bottom+We,Te.value.minBottom,Te.value.maxBottom),C.lockAspectRatio&&K&&(Xe=H.value-(V.value-$e)*ie.value)):fe.value.includes("t")&&(Ge=restrictToBounds(xe.value.top-We,Te.value.minTop,Te.value.maxTop),C.lockAspectRatio&&K&&(ze=U.value-(j.value-Ge)*ie.value)),fe.value.includes("r")?(Xe=restrictToBounds(xe.value.right+Ye,Te.value.minRight,Te.value.maxRight),C.lockAspectRatio&&Z&&($e=V.value-(H.value-Xe)/ie.value)):fe.value.includes("l")&&(ze=restrictToBounds(xe.value.left-Ye,Te.value.minLeft,Te.value.maxLeft),C.lockAspectRatio&&Z&&(Ge=j.value-(U.value-ze)/ie.value));const et=computeWidth(oe.value,ze,Xe),tt=computeHeight(he.value,Ge,$e);C.onResize(fe.value,ze,Ge,et,tt)!==!1&&(U.value=ze,j.value=Ge,H.value=Xe,V.value=$e,L.value=et,R.value=tt,F("resizing",U.value,j.value,L.value,R.value),Se.value=!0)},se=Ue=>{const[ze]=snapToGrid(Ie.value,Ue,0,1);let Ge=restrictToBounds(oe.value-ze-U.value,Te.value.minRight,Te.value.maxRight),Xe=V.value;C.lockAspectRatio&&(Xe=V.value-(H.value-Ge)/ie.value);const $e=computeWidth(oe.value,U.value,Ge),qe=computeHeight(he.value,j.value,Xe);H.value=Ge,V.value=Xe,L.value=$e,R.value=qe},Ae=Ue=>{const[,ze]=snapToGrid(Ie.value,0,Ue,1);let Ge=restrictToBounds(he.value-ze-j.value,Te.value.minBottom,Te.value.maxBottom),Xe=H.value;C.lockAspectRatio&&(Xe=H.value-(V.value-Ge)*ie.value);const $e=computeWidth(oe.value,U.value,Xe),qe=computeHeight(he.value,j.value,Ge);H.value=Xe,V.value=Ge,L.value=$e,R.value=qe},_e=()=>{fe.value=null,Q(),Ee.value=!1,de.value=!1,Se.value&&(Se.value=!1,F("resizestop",U.value,j.value,L.value,R.value)),we.value&&(we.value=!1,F("dragstop",U.value,j.value)),removeEvent(document.documentElement,w.move,ne)},Be=()=>{C.activeOnHover&&(z.value=!0)},He=()=>{C.activeOnHover&&!we.value&&(z.value=!1)};return onMounted(()=>{Q(),C.enableNativeDrag||(E.value.ondragstart=()=>!1);const[Ue,ze]=ae();oe.value=Ue,he.value=ze;const[Ge,Xe]=getComputedSize(E.value);ie.value=(L.value!=="auto"?L.value:Ge)/(R.value!=="auto"?R.value:Xe),L.value=L.value!=="auto"?L.value:Ge,R.value=R.value!=="auto"?R.value:Xe,H.value=oe.value-L.value-U.value,V.value=he.value-R.value-j.value,z.value&&F("activated"),C.showGrid&&ce(),addEvent(document.documentElement,"mousedown",ve),addEvent(document.documentElement,"touchend touchcancel",ve)}),watch(()=>C.x,Ue=>{Se.value||we.value||(Le.value&&(Te.value=ye()),je(Ue))}),watch(()=>C.y,Ue=>{Se.value||we.value||(Le.value&&(Te.value=ye()),ue(Ue))}),watch(()=>C.lockAspectRatio,Ue=>{Ue?ie.value=L.value/R.value:ie.value=void 0}),watch(()=>C.w,Ue=>{Se.value||we.value||(Le.value&&(Te.value=Fe()),se(Ue))}),watch(()=>C.h,Ue=>{Se.value||we.value||(Le.value&&(Te.value=Fe()),Ae(Ue))}),watch(()=>C.showGrid,()=>{ce()}),watch(()=>C.grid,()=>{ce()}),(Ue,ze)=>(openBlock(),createElementBlock("div",{ref_key:"el",ref:E,style:normalizeStyle(Oe.value),class:normalizeClass([{[g.classNameActive]:z.value,[g.classNameDragging]:we.value,[g.classNameResizing]:Se.value,[g.classNameDraggable]:g.draggable,[g.classNameResizable]:g.resizable},g.className]),onMousedown:ge,onTouchstart:le,onMouseover:Be,onMouseleave:He},[createBaseVNode("div",{class:normalizeClass("drv-"+g.handlesType)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(De.value,Ge=>(openBlock(),createElementBlock("div",{key:Ge,class:normalizeClass([g.classNameHandle,g.classNameHandle+"-"+Ge,g.classNameHandle!=="drv-handle"?"drv-handle":"",g.classNameHandle!=="drv-handle"?"drv-handle-"+Ge:""]),style:normalizeStyle({display:z.value?"block":"none"}),onMousedown:withModifiers(Xe=>me(Ge,Xe),["stop","prevent"]),onTouchstart:withModifiers(Xe=>be(Ge,Xe),["stop","prevent"])},[unref(M)["handle-"+Ge]?renderSlot(Ue.$slots,"handle-"+Ge,{key:0}):createCommentVNode("",!0),unref(M)["handle-"+Ge]?createCommentVNode("",!0):renderSlot(Ue.$slots,"handle",{key:1})],46,_hoisted_1$8))),128))],2),renderSlot(Ue.$slots,"default")],38))}},_sfc_main$8={props:{selectedCert:{serialNumber:"",issuerName:"",validFromDate:"",validToDate:""}}},_hoisted_1$7={viewBox:"-5 -5 410 160",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2$6=createBaseVNode("rect",{width:"400",height:"145",fill:"none",rx:"15",ry:"15",stroke:"black","stroke-width":"3px"},null,-1),_hoisted_3$5=createBaseVNode("text",{x:"130",y:"30",class:"svg-title"}," ",-1),_hoisted_4$3=createBaseVNode("text",{x:"115",y:"50",class:"svg-title"}," ",-1),_hoisted_5$3={x:"10",y:"80",class:"svg-text"},_hoisted_6$3={x:"10",y:"100",class:"svg-text"},_hoisted_7$2={x:"10",y:"120",class:"svg-text"};function _sfc_render$7(g,d,x,b,S,w){return openBlock(),createElementBlock("svg",_hoisted_1$7,[_hoisted_2$6,_hoisted_3$5,_hoisted_4$3,createBaseVNode("text",_hoisted_5$3,": "+toDisplayString(x.selectedCert.serialNumber),1),createBaseVNode("text",_hoisted_6$3,": "+toDisplayString(x.selectedCert.name.removeEnclosingQuotes()),1),createBaseVNode("text",_hoisted_7$2,": c "+toDisplayString(x.selectedCert.validFromDate)+"  "+toDisplayString(x.selectedCert.validToDate),1)])}const certificateSvg=_export_sfc(_sfc_main$8,[["render",_sfc_render$7]]),_sfc_main$7={name:"drag-resize-cert",components:{certificateSvg,DraggableResizable:_sfc_main$9},props:{certificate:{},element:{x:10,y:10,width:400,height:150,isActive:!0}}},_withScopeId$2=g=>(pushScopeId("data-v-68d58d33"),g=g(),popScopeId(),g),_hoisted_1$6=_withScopeId$2(()=>createBaseVNode("div",{id:"handle-br"},"SIZE",-1));function _sfc_render$6(g,d,x,b,S,w){const C=resolveComponent("certificate-svg"),F=resolveComponent("draggable-resizable");return openBlock(),createBlock(F,{x:x.element.x,"onUpdate:x":d[0]||(d[0]=E=>x.element.x=E),y:x.element.y,"onUpdate:y":d[1]||(d[1]=E=>x.element.y=E),h:x.element.height,"onUpdate:h":d[2]||(d[2]=E=>x.element.height=E),w:x.element.width,"onUpdate:w":d[3]||(d[3]=E=>x.element.width=E),active:x.element.isActive,"onUpdate:active":d[4]||(d[4]=E=>x.element.isActive=E),"min-height":75,"max-height":200,"lock-aspect-ratio":!0,"disable-user-select":!0,handles:["br"],"class-name-draggable":"draggable","handles-border":"none",parent:!0,"class-name-active":"active",style:{"z-index":"10"}},{"handle-br":withCtx(()=>[_hoisted_1$6]),default:withCtx(()=>[createVNode(C,{"selected-cert":x.certificate},null,8,["selected-cert"])]),_:1},8,["x","y","h","w","active"])}const DragResizeCert=_export_sfc(_sfc_main$7,[["render",_sfc_render$6],["__scopeId","data-v-68d58d33"]]),_sfc_main$6={name:"addSignAppearanceButton",props:{dragAndResize:!1,signCount:0},emits:["update:dragAndResize","updateSign","cancel","clearDict","createSignature"]},_hoisted_1$5={key:0,class:"flex-row",style:{"justify-content":"space-between","align-items":"start"}},_hoisted_2$5={class:"signCount"};function _sfc_render$5(g,d,x,b,S,w){return openBlock(),createElementBlock(Fragment,null,[x.dragAndResize?(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("label",{class:"custom-button-2 save-bth",onClick:d[0]||(d[0]=C=>this.$emit("updateSign"))},"   "),createBaseVNode("label",{class:"custom-button-2 cancel-bth",onClick:d[1]||(d[1]=C=>this.$emit("cancel"))},"  ")])):(openBlock(),createElementBlock("label",{key:1,class:"custom-button-2 main-bth",onClick:d[2]||(d[2]=C=>this.$emit("update:dragAndResize",!0))},"   ")),createBaseVNode("p",_hoisted_2$5,"  : "+toDisplayString(x.signCount),1),createBaseVNode("button",{class:"custom-button",onClick:d[3]||(d[3]=C=>g.$emit("clearDict"))},""),createBaseVNode("label",{class:"custom-button-2 indent",onClick:d[4]||(d[4]=C=>g.$emit("createSignature"))},"    ")],64)}const AddSignAppearanceBar=_export_sfc(_sfc_main$6,[["render",_sfc_render$5],["__scopeId","data-v-357bf92c"]]),_sfc_main$5=defineComponent({name:"PageNavigation",props:["countPages","currentPageComputed"],emits:["input","tryUpdatePage"]}),_hoisted_1$4={id:"navigation_controls"},_hoisted_2$4=["value"],_hoisted_3$4={id:"count_pages"};function _sfc_render$4(g,d,x,b,S,w){return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("button",{id:"go_previous",class:"custom-button",style:{background:"white"},onClick:d[0]||(d[0]=C=>g.$emit("tryUpdatePage",g.currentPageComputed-1))},"  "),createBaseVNode("input",{id:"current_page",value:g.currentPageComputed,onKeyup:d[1]||(d[1]=withKeys(C=>{C.target.blur()},["enter"])),onBlur:d[2]||(d[2]=C=>g.$emit("input",C)),type:"number"},null,40,_hoisted_2$4),createBaseVNode("p",_hoisted_3$4,toDisplayString("  ")+"/ "+toDisplayString(g.countPages),1),createBaseVNode("button",{id:"go_next",class:"custom-button",style:{background:"white"},onClick:d[3]||(d[3]=C=>g.$emit("tryUpdatePage",g.currentPageComputed+1))}," + ")])}const PageNavigation=_export_sfc(_sfc_main$5,[["render",_sfc_render$4],["__scopeId","data-v-cb00e95d"]]),scriptRel="modulepreload",assetsURL=function(g){return"/signer/"+g},seen={},__vitePreload=function(d,x,b){let S=Promise.resolve();if(x&&x.length>0){const w=document.getElementsByTagName("link");S=Promise.all(x.map(C=>{if(C=assetsURL(C),C in seen)return;seen[C]=!0;const F=C.endsWith(".css"),E=F?'[rel="stylesheet"]':"";if(!!b)for(let M=w.length-1;M>=0;M--){const L=w[M];if(L.href===C&&(!F||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${C}"]${E}`))return;const D=document.createElement("link");if(D.rel=F?"stylesheet":scriptRel,F||(D.as="script",D.crossOrigin=""),D.href=C,document.head.appendChild(D),F)return new Promise((M,L)=>{D.addEventListener("load",M),D.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${C}`)))})}))}return S.then(()=>d()).catch(w=>{const C=new Event("vite:preloadError",{cancelable:!0});if(C.payload=w,window.dispatchEvent(C),!C.defaultPrevented)throw w})};var __webpack_modules__={640:(g,d,x)=>{x.d(d,{AnnotationLayer:()=>Pe,FreeTextAnnotationElement:()=>fe,InkAnnotationElement:()=>Oe,StampAnnotationElement:()=>Ve});var b=x(266),S=x(473),w=x(780);function C(Ce){return Math.floor(Math.max(0,Math.min(1,Ce))*255).toString(16).padStart(2,"0")}function F(Ce){return Math.max(0,Math.min(255,255*Ce))}class E{static CMYK_G([te,re,W,$]){return["G",1-Math.min(1,.3*te+.59*W+.11*re+$)]}static G_CMYK([te]){return["CMYK",0,0,0,1-te]}static G_RGB([te]){return["RGB",te,te,te]}static G_rgb([te]){return te=F(te),[te,te,te]}static G_HTML([te]){const re=C(te);return`#${re}${re}${re}`}static RGB_G([te,re,W]){return["G",.3*te+.59*re+.11*W]}static RGB_rgb(te){return te.map(F)}static RGB_HTML(te){return`#${te.map(C).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([te,re,W,$]){return["RGB",1-Math.min(1,te+$),1-Math.min(1,W+$),1-Math.min(1,re+$)]}static CMYK_rgb([te,re,W,$]){return[F(1-Math.min(1,te+$)),F(1-Math.min(1,W+$)),F(1-Math.min(1,re+$))]}static CMYK_HTML(te){const re=this.CMYK_RGB(te).slice(1);return this.RGB_HTML(re)}static RGB_CMYK([te,re,W]){const $=1-te,Z=1-re,K=1-W,Q=Math.min($,Z,K);return["CMYK",$,Z,K,Q]}}var k=x(160);const D=1e3,M=9,L=new WeakSet;function R(Ce){return{width:Ce[2]-Ce[0],height:Ce[3]-Ce[1]}}class U{static create(te){switch(te.data.annotationType){case b.AnnotationType.LINK:return new H(te);case b.AnnotationType.TEXT:return new V(te);case b.AnnotationType.WIDGET:switch(te.data.fieldType){case"Tx":return new G(te);case"Btn":return te.data.radioButton?new J(te):te.data.checkBox?new Y(te):new ee(te);case"Ch":return new ie(te);case"Sig":return new X(te)}return new z(te);case b.AnnotationType.POPUP:return new oe(te);case b.AnnotationType.FREETEXT:return new fe(te);case b.AnnotationType.LINE:return new Se(te);case b.AnnotationType.SQUARE:return new we(te);case b.AnnotationType.CIRCLE:return new Ee(te);case b.AnnotationType.POLYLINE:return new de(te);case b.AnnotationType.CARET:return new Te(te);case b.AnnotationType.INK:return new Oe(te);case b.AnnotationType.POLYGON:return new xe(te);case b.AnnotationType.HIGHLIGHT:return new Ne(te);case b.AnnotationType.UNDERLINE:return new Le(te);case b.AnnotationType.SQUIGGLY:return new Me(te);case b.AnnotationType.STRIKEOUT:return new Ie(te);case b.AnnotationType.STAMP:return new Ve(te);case b.AnnotationType.FILEATTACHMENT:return new De(te);default:return new j(te)}}}class j{#e=!1;constructor(te,{isRenderable:re=!1,ignoreBorder:W=!1,createQuadrilaterals:$=!1}={}){this.isRenderable=re,this.data=te.data,this.layer=te.layer,this.linkService=te.linkService,this.downloadManager=te.downloadManager,this.imageResourcesPath=te.imageResourcesPath,this.renderForms=te.renderForms,this.svgFactory=te.svgFactory,this.annotationStorage=te.annotationStorage,this.enableScripting=te.enableScripting,this.hasJSActions=te.hasJSActions,this._fieldObjects=te.fieldObjects,this.parent=te.parent,re&&(this.container=this._createContainer(W)),$&&this._createQuadrilaterals()}static _hasPopupData({titleObj:te,contentsObj:re,richText:W}){return!!(te?.str||re?.str||W?.str)}get hasPopupData(){return j._hasPopupData(this.data)}_createContainer(te){const{data:re,parent:{page:W,viewport:$}}=this,Z=document.createElement("section");Z.setAttribute("data-annotation-id",re.id),this instanceof z||(Z.tabIndex=D),Z.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Z.setAttribute("aria-haspopup","dialog"),re.noRotate&&Z.classList.add("norotate");const{pageWidth:K,pageHeight:Q,pageX:ae,pageY:ce}=$.rawDims;if(!re.rect||this instanceof oe){const{rotation:ve}=re;return!re.hasOwnCanvas&&ve!==0&&this.setRotation(ve,Z),Z}const{width:le,height:ge}=R(re.rect),pe=b.Util.normalizeRect([re.rect[0],W.view[3]-re.rect[1]+W.view[1],re.rect[2],W.view[3]-re.rect[3]+W.view[1]]);if(!te&&re.borderStyle.width>0){Z.style.borderWidth=`${re.borderStyle.width}px`;const ve=re.borderStyle.horizontalCornerRadius,be=re.borderStyle.verticalCornerRadius;if(ve>0||be>0){const Fe=`calc(${ve}px * var(--scale-factor)) / calc(${be}px * var(--scale-factor))`;Z.style.borderRadius=Fe}else if(this instanceof J){const Fe=`calc(${le}px * var(--scale-factor)) / calc(${ge}px * var(--scale-factor))`;Z.style.borderRadius=Fe}switch(re.borderStyle.style){case b.AnnotationBorderStyleType.SOLID:Z.style.borderStyle="solid";break;case b.AnnotationBorderStyleType.DASHED:Z.style.borderStyle="dashed";break;case b.AnnotationBorderStyleType.BEVELED:(0,b.warn)("Unimplemented border style: beveled");break;case b.AnnotationBorderStyleType.INSET:(0,b.warn)("Unimplemented border style: inset");break;case b.AnnotationBorderStyleType.UNDERLINE:Z.style.borderBottomStyle="solid";break}const me=re.borderColor||null;me?(this.#e=!0,Z.style.borderColor=b.Util.makeHexColor(me[0]|0,me[1]|0,me[2]|0)):Z.style.borderWidth=0}Z.style.left=`${100*(pe[0]-ae)/K}%`,Z.style.top=`${100*(pe[1]-ce)/Q}%`;const{rotation:ye}=re;return re.hasOwnCanvas||ye===0?(Z.style.width=`${100*le/K}%`,Z.style.height=`${100*ge/Q}%`):this.setRotation(ye,Z),Z}setRotation(te,re=this.container){if(!this.data.rect)return;const{pageWidth:W,pageHeight:$}=this.parent.viewport.rawDims,{width:Z,height:K}=R(this.data.rect);let Q,ae;te%180===0?(Q=100*Z/W,ae=100*K/$):(Q=100*K/W,ae=100*Z/$),re.style.width=`${Q}%`,re.style.height=`${ae}%`,re.setAttribute("data-main-rotation",(360-te)%360)}get _commonActions(){const te=(re,W,$)=>{const Z=$.detail[re],K=Z[0],Q=Z.slice(1);$.target.style[W]=E[`${K}_HTML`](Q),this.annotationStorage.setValue(this.data.id,{[W]:E[`${K}_rgb`](Q)})};return(0,b.shadow)(this,"_commonActions",{display:re=>{const{display:W}=re.detail,$=W%2===1;this.container.style.visibility=$?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:$,noPrint:W===1||W===2})},print:re=>{this.annotationStorage.setValue(this.data.id,{noPrint:!re.detail.print})},hidden:re=>{const{hidden:W}=re.detail;this.container.style.visibility=W?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:W,noView:W})},focus:re=>{setTimeout(()=>re.target.focus({preventScroll:!1}),0)},userName:re=>{re.target.title=re.detail.userName},readonly:re=>{re.target.disabled=re.detail.readonly},required:re=>{this._setRequired(re.target,re.detail.required)},bgColor:re=>{te("bgColor","backgroundColor",re)},fillColor:re=>{te("fillColor","backgroundColor",re)},fgColor:re=>{te("fgColor","color",re)},textColor:re=>{te("textColor","color",re)},borderColor:re=>{te("borderColor","borderColor",re)},strokeColor:re=>{te("strokeColor","borderColor",re)},rotation:re=>{const W=re.detail.rotation;this.setRotation(W),this.annotationStorage.setValue(this.data.id,{rotation:W})}})}_dispatchEventFromSandbox(te,re){const W=this._commonActions;for(const $ of Object.keys(re.detail))(te[$]||W[$])?.(re)}_setDefaultPropertiesFromJS(te){if(!this.enableScripting)return;const re=this.annotationStorage.getRawValue(this.data.id);if(!re)return;const W=this._commonActions;for(const[$,Z]of Object.entries(re)){const K=W[$];if(K){const Q={detail:{[$]:Z},target:te};K(Q),delete re[$]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:te}=this.data;if(!te)return;const[re,W,$,Z]=this.data.rect;if(te.length===1){const[,{x:be,y:me},{x:Fe,y:Re}]=te[0];if($===be&&Z===me&&re===Fe&&W===Re)return}const{style:K}=this.container;let Q;if(this.#e){const{borderColor:be,borderWidth:me}=K;K.borderWidth=0,Q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${be}" stroke-width="${me}">`],this.container.classList.add("hasBorder")}const ae=$-re,ce=Z-W,{svgFactory:le}=this,ge=le.createElement("svg");ge.classList.add("quadrilateralsContainer"),ge.setAttribute("width",0),ge.setAttribute("height",0);const pe=le.createElement("defs");ge.append(pe);const ye=le.createElement("clipPath"),ve=`clippath_${this.data.id}`;ye.setAttribute("id",ve),ye.setAttribute("clipPathUnits","objectBoundingBox"),pe.append(ye);for(const[,{x:be,y:me},{x:Fe,y:Re}]of te){const ke=le.createElement("rect"),je=(Fe-re)/ae,ue=(Z-me)/ce,ne=(be-Fe)/ae,se=(me-Re)/ce;ke.setAttribute("x",je),ke.setAttribute("y",ue),ke.setAttribute("width",ne),ke.setAttribute("height",se),ye.append(ke),Q?.push(`<rect vector-effect="non-scaling-stroke" x="${je}" y="${ue}" width="${ne}" height="${se}"/>`)}this.#e&&(Q.push("</g></svg>')"),K.backgroundImage=Q.join("")),this.container.append(ge),this.container.style.clipPath=`url(#${ve})`}_createPopup(){const{container:te,data:re}=this;te.setAttribute("aria-haspopup","dialog");const W=new oe({data:{color:re.color,titleObj:re.titleObj,modificationDate:re.modificationDate,contentsObj:re.contentsObj,richText:re.richText,parentRect:re.rect,borderStyle:0,id:`popup_${re.id}`,rotation:re.rotation},parent:this.parent,elements:[this]});this.parent.div.append(W.render())}render(){(0,b.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(te,re=null){const W=[];if(this._fieldObjects){const $=this._fieldObjects[te];if($)for(const{page:Z,id:K,exportValues:Q}of $){if(Z===-1||K===re)continue;const ae=typeof Q=="string"?Q:null,ce=document.querySelector(`[data-element-id="${K}"]`);if(ce&&!L.has(ce)){(0,b.warn)(`_getElementsByName - element not allowed: ${K}`);continue}W.push({id:K,exportValue:ae,domElement:ce})}return W}for(const $ of document.getElementsByName(te)){const{exportValue:Z}=$,K=$.getAttribute("data-element-id");K!==re&&L.has($)&&W.push({id:K,exportValue:Z,domElement:$})}return W}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const te=this.getElementsToTriggerPopup();if(Array.isArray(te))for(const re of te)re.classList.add("highlightArea");else te.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:te,data:{id:re}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:te,editId:re})})}}class H extends j{constructor(te,re=null){super(te,{isRenderable:!0,ignoreBorder:!!re?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=te.data.isTooltipOnly}render(){const{data:te,linkService:re}=this,W=document.createElement("a");W.setAttribute("data-element-id",te.id);let $=!1;return te.url?(re.addLinkAttributes(W,te.url,te.newWindow),$=!0):te.action?(this._bindNamedAction(W,te.action),$=!0):te.attachment?(this.#t(W,te.attachment,te.attachmentDest),$=!0):te.setOCGState?(this.#n(W,te.setOCGState),$=!0):te.dest?(this._bindLink(W,te.dest),$=!0):(te.actions&&(te.actions.Action||te.actions["Mouse Up"]||te.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(W,te),$=!0),te.resetForm?(this._bindResetFormAction(W,te.resetForm),$=!0):this.isTooltipOnly&&!$&&(this._bindLink(W,""),$=!0)),this.container.classList.add("linkAnnotation"),$&&this.container.append(W),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(te,re){te.href=this.linkService.getDestinationHash(re),te.onclick=()=>(re&&this.linkService.goToDestination(re),!1),(re||re==="")&&this.#e()}_bindNamedAction(te,re){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.linkService.executeNamedAction(re),!1),this.#e()}#t(te,re,W=null){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.downloadManager?.openOrDownloadData(re.content,re.filename,W),!1),this.#e()}#n(te,re){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.linkService.executeSetOCGState(re),!1),this.#e()}_bindJSAction(te,re){te.href=this.linkService.getAnchorUrl("");const W=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $ of Object.keys(re.actions)){const Z=W.get($);Z&&(te[Z]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:re.id,name:$}}),!1))}te.onclick||(te.onclick=()=>!1),this.#e()}_bindResetFormAction(te,re){const W=te.onclick;if(W||(te.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,b.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),W||(te.onclick=()=>!1);return}te.onclick=()=>{W?.();const{fields:$,refs:Z,include:K}=re,Q=[];if($.length!==0||Z.length!==0){const le=new Set(Z);for(const ge of $){const pe=this._fieldObjects[ge]||[];for(const{id:ye}of pe)le.add(ye)}for(const ge of Object.values(this._fieldObjects))for(const pe of ge)le.has(pe.id)===K&&Q.push(pe)}else for(const le of Object.values(this._fieldObjects))Q.push(...le);const ae=this.annotationStorage,ce=[];for(const le of Q){const{id:ge}=le;switch(ce.push(ge),le.type){case"text":{const ye=le.defaultValue||"";ae.setValue(ge,{value:ye});break}case"checkbox":case"radiobutton":{const ye=le.defaultValue===le.exportValues;ae.setValue(ge,{value:ye});break}case"combobox":case"listbox":{const ye=le.defaultValue||"";ae.setValue(ge,{value:ye});break}default:continue}const pe=document.querySelector(`[data-element-id="${ge}"]`);if(pe){if(!L.has(pe)){(0,b.warn)(`_bindResetFormAction - element not allowed: ${ge}`);continue}}else continue;pe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ce,name:"ResetForm"}}),!1}}}class V extends j{constructor(te){super(te,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const te=document.createElement("img");return te.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",te.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),te.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(te),this.container}}class z extends j{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(te){this.data.hasOwnCanvas&&(te.previousSibling?.nodeName==="CANVAS"&&(te.previousSibling.hidden=!0),te.hidden=!1)}_getKeyModifier(te){return b.FeatureTest.platform.isMac?te.metaKey:te.ctrlKey}_setEventListener(te,re,W,$,Z){W.includes("mouse")?te.addEventListener(W,K=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$,value:Z(K),shift:K.shiftKey,modifier:this._getKeyModifier(K)}})}):te.addEventListener(W,K=>{if(W==="blur"){if(!re.focused||!K.relatedTarget)return;re.focused=!1}else if(W==="focus"){if(re.focused)return;re.focused=!0}Z&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$,value:Z(K)}})})}_setEventListeners(te,re,W,$){for(const[Z,K]of W)(K==="Action"||this.data.actions?.[K])&&((K==="Focus"||K==="Blur")&&(re||={focused:!1}),this._setEventListener(te,re,Z,K,$),K==="Focus"&&!this.data.actions?.Blur?this._setEventListener(te,re,"blur","Blur",null):K==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(te,re,"focus","Focus",null))}_setBackgroundColor(te){const re=this.data.backgroundColor||null;te.style.backgroundColor=re===null?"transparent":b.Util.makeHexColor(re[0],re[1],re[2])}_setTextStyle(te){const re=["left","center","right"],{fontColor:W}=this.data.defaultAppearanceData,$=this.data.defaultAppearanceData.fontSize||M,Z=te.style;let K;const Q=2,ae=ce=>Math.round(10*ce)/10;if(this.data.multiLine){const ce=Math.abs(this.data.rect[3]-this.data.rect[1]-Q),le=Math.round(ce/(b.LINE_FACTOR*$))||1,ge=ce/le;K=Math.min($,ae(ge/b.LINE_FACTOR))}else{const ce=Math.abs(this.data.rect[3]-this.data.rect[1]-Q);K=Math.min($,ae(ce/b.LINE_FACTOR))}Z.fontSize=`calc(${K}px * var(--scale-factor))`,Z.color=b.Util.makeHexColor(W[0],W[1],W[2]),this.data.textAlignment!==null&&(Z.textAlign=re[this.data.textAlignment])}_setRequired(te,re){re?te.setAttribute("required",!0):te.removeAttribute("required"),te.setAttribute("aria-required",re)}}class G extends z{constructor(te){const re=te.renderForms||te.data.hasOwnCanvas||!te.data.hasAppearance&&!!te.data.fieldValue;super(te,{isRenderable:re})}setPropertyOnSiblings(te,re,W,$){const Z=this.annotationStorage;for(const K of this._getElementsByName(te.name,te.id))K.domElement&&(K.domElement[re]=W),Z.setValue(K.id,{[$]:W})}render(){const te=this.annotationStorage,re=this.data.id;this.container.classList.add("textWidgetAnnotation");let W=null;if(this.renderForms){const $=te.getValue(re,{value:this.data.fieldValue});let Z=$.value||"";const K=te.getValue(re,{charLimit:this.data.maxLen}).charLimit;K&&Z.length>K&&(Z=Z.slice(0,K));let Q=$.formattedValue||this.data.textContent?.join(`
`)||null;Q&&this.data.comb&&(Q=Q.replaceAll(/\s+/g,""));const ae={userValue:Z,formattedValue:Q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(W=document.createElement("textarea"),W.textContent=Q??Z,this.data.doNotScroll&&(W.style.overflowY="hidden")):(W=document.createElement("input"),W.type="text",W.setAttribute("value",Q??Z),this.data.doNotScroll&&(W.style.overflowX="hidden")),this.data.hasOwnCanvas&&(W.hidden=!0),L.add(W),W.setAttribute("data-element-id",re),W.disabled=this.data.readOnly,W.name=this.data.fieldName,W.tabIndex=D,this._setRequired(W,this.data.required),K&&(W.maxLength=K),W.addEventListener("input",le=>{te.setValue(re,{value:le.target.value}),this.setPropertyOnSiblings(W,"value",le.target.value,"value"),ae.formattedValue=null}),W.addEventListener("resetform",le=>{const ge=this.data.defaultFieldValue??"";W.value=ae.userValue=ge,ae.formattedValue=null});let ce=le=>{const{formattedValue:ge}=ae;ge!=null&&(le.target.value=ge),le.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){W.addEventListener("focus",ge=>{if(ae.focused)return;const{target:pe}=ge;ae.userValue&&(pe.value=ae.userValue),ae.lastCommittedValue=pe.value,ae.commitKey=1,this.data.actions?.Focus||(ae.focused=!0)}),W.addEventListener("updatefromsandbox",ge=>{this.showElementAndHideCanvas(ge.target);const pe={value(ye){ae.userValue=ye.detail.value??"",te.setValue(re,{value:ae.userValue.toString()}),ye.target.value=ae.userValue},formattedValue(ye){const{formattedValue:ve}=ye.detail;ae.formattedValue=ve,ve!=null&&ye.target!==document.activeElement&&(ye.target.value=ve),te.setValue(re,{formattedValue:ve})},selRange(ye){ye.target.setSelectionRange(...ye.detail.selRange)},charLimit:ye=>{const{charLimit:ve}=ye.detail,{target:be}=ye;if(ve===0){be.removeAttribute("maxLength");return}be.setAttribute("maxLength",ve);let me=ae.userValue;!me||me.length<=ve||(me=me.slice(0,ve),be.value=ae.userValue=me,te.setValue(re,{value:me}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:re,name:"Keystroke",value:me,willCommit:!0,commitKey:1,selStart:be.selectionStart,selEnd:be.selectionEnd}}))}};this._dispatchEventFromSandbox(pe,ge)}),W.addEventListener("keydown",ge=>{ae.commitKey=1;let pe=-1;if(ge.key==="Escape"?pe=0:ge.key==="Enter"&&!this.data.multiLine?pe=2:ge.key==="Tab"&&(ae.commitKey=3),pe===-1)return;const{value:ye}=ge.target;ae.lastCommittedValue!==ye&&(ae.lastCommittedValue=ye,ae.userValue=ye,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:re,name:"Keystroke",value:ye,willCommit:!0,commitKey:pe,selStart:ge.target.selectionStart,selEnd:ge.target.selectionEnd}}))});const le=ce;ce=null,W.addEventListener("blur",ge=>{if(!ae.focused||!ge.relatedTarget)return;this.data.actions?.Blur||(ae.focused=!1);const{value:pe}=ge.target;ae.userValue=pe,ae.lastCommittedValue!==pe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:re,name:"Keystroke",value:pe,willCommit:!0,commitKey:ae.commitKey,selStart:ge.target.selectionStart,selEnd:ge.target.selectionEnd}}),le(ge)}),this.data.actions?.Keystroke&&W.addEventListener("beforeinput",ge=>{ae.lastCommittedValue=null;const{data:pe,target:ye}=ge,{value:ve,selectionStart:be,selectionEnd:me}=ye;let Fe=be,Re=me;switch(ge.inputType){case"deleteWordBackward":{const ke=ve.substring(0,be).match(/\w*[^\w]*$/);ke&&(Fe-=ke[0].length);break}case"deleteWordForward":{const ke=ve.substring(be).match(/^[^\w]*\w*/);ke&&(Re+=ke[0].length);break}case"deleteContentBackward":be===me&&(Fe-=1);break;case"deleteContentForward":be===me&&(Re+=1);break}ge.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:re,name:"Keystroke",value:ve,change:pe||"",willCommit:!1,selStart:Fe,selEnd:Re}})}),this._setEventListeners(W,ae,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ge=>ge.target.value)}if(ce&&W.addEventListener("blur",ce),this.data.comb){const ge=(this.data.rect[2]-this.data.rect[0])/K;W.classList.add("comb"),W.style.letterSpacing=`calc(${ge}px * var(--scale-factor) - 1ch)`}}else W=document.createElement("div"),W.textContent=this.data.fieldValue,W.style.verticalAlign="middle",W.style.display="table-cell",this.data.hasOwnCanvas&&(W.hidden=!0);return this._setTextStyle(W),this._setBackgroundColor(W),this._setDefaultPropertiesFromJS(W),this.container.append(W),this.container}}class X extends z{constructor(te){super(te,{isRenderable:!!te.data.hasOwnCanvas})}}class Y extends z{constructor(te){super(te,{isRenderable:te.renderForms})}render(){const te=this.annotationStorage,re=this.data,W=re.id;let $=te.getValue(W,{value:re.exportValue===re.fieldValue}).value;typeof $=="string"&&($=$!=="Off",te.setValue(W,{value:$})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Z=document.createElement("input");return L.add(Z),Z.setAttribute("data-element-id",W),Z.disabled=re.readOnly,this._setRequired(Z,this.data.required),Z.type="checkbox",Z.name=re.fieldName,$&&Z.setAttribute("checked",!0),Z.setAttribute("exportValue",re.exportValue),Z.tabIndex=D,Z.addEventListener("change",K=>{const{name:Q,checked:ae}=K.target;for(const ce of this._getElementsByName(Q,W)){const le=ae&&ce.exportValue===re.exportValue;ce.domElement&&(ce.domElement.checked=le),te.setValue(ce.id,{value:le})}te.setValue(W,{value:ae})}),Z.addEventListener("resetform",K=>{const Q=re.defaultFieldValue||"Off";K.target.checked=Q===re.exportValue}),this.enableScripting&&this.hasJSActions&&(Z.addEventListener("updatefromsandbox",K=>{const Q={value(ae){ae.target.checked=ae.detail.value!=="Off",te.setValue(W,{value:ae.target.checked})}};this._dispatchEventFromSandbox(Q,K)}),this._setEventListeners(Z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.checked)),this._setBackgroundColor(Z),this._setDefaultPropertiesFromJS(Z),this.container.append(Z),this.container}}class J extends z{constructor(te){super(te,{isRenderable:te.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const te=this.annotationStorage,re=this.data,W=re.id;let $=te.getValue(W,{value:re.fieldValue===re.buttonValue}).value;if(typeof $=="string"&&($=$!==re.buttonValue,te.setValue(W,{value:$})),$)for(const K of this._getElementsByName(re.fieldName,W))te.setValue(K.id,{value:!1});const Z=document.createElement("input");if(L.add(Z),Z.setAttribute("data-element-id",W),Z.disabled=re.readOnly,this._setRequired(Z,this.data.required),Z.type="radio",Z.name=re.fieldName,$&&Z.setAttribute("checked",!0),Z.tabIndex=D,Z.addEventListener("change",K=>{const{name:Q,checked:ae}=K.target;for(const ce of this._getElementsByName(Q,W))te.setValue(ce.id,{value:!1});te.setValue(W,{value:ae})}),Z.addEventListener("resetform",K=>{const Q=re.defaultFieldValue;K.target.checked=Q!=null&&Q===re.buttonValue}),this.enableScripting&&this.hasJSActions){const K=re.buttonValue;Z.addEventListener("updatefromsandbox",Q=>{const ae={value:ce=>{const le=K===ce.detail.value;for(const ge of this._getElementsByName(ce.target.name)){const pe=le&&ge.id===W;ge.domElement&&(ge.domElement.checked=pe),te.setValue(ge.id,{value:pe})}}};this._dispatchEventFromSandbox(ae,Q)}),this._setEventListeners(Z,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(Z),this._setDefaultPropertiesFromJS(Z),this.container.append(Z),this.container}}class ee extends H{constructor(te){super(te,{ignoreBorder:te.data.hasAppearance})}render(){const te=super.render();te.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(te.title=this.data.alternativeText);const re=te.lastChild;return this.enableScripting&&this.hasJSActions&&re&&(this._setDefaultPropertiesFromJS(re),re.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({},W)})),te}}class ie extends z{constructor(te){super(te,{isRenderable:te.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const te=this.annotationStorage,re=this.data.id,W=te.getValue(re,{value:this.data.fieldValue}),$=document.createElement("select");L.add($),$.setAttribute("data-element-id",re),$.disabled=this.data.readOnly,this._setRequired($,this.data.required),$.name=this.data.fieldName,$.tabIndex=D;let Z=this.data.combo&&this.data.options.length>0;this.data.combo||($.size=this.data.options.length,this.data.multiSelect&&($.multiple=!0)),$.addEventListener("resetform",le=>{const ge=this.data.defaultFieldValue;for(const pe of $.options)pe.selected=pe.value===ge});for(const le of this.data.options){const ge=document.createElement("option");ge.textContent=le.displayValue,ge.value=le.exportValue,W.value.includes(le.exportValue)&&(ge.setAttribute("selected",!0),Z=!1),$.append(ge)}let K=null;if(Z){const le=document.createElement("option");le.value=" ",le.setAttribute("hidden",!0),le.setAttribute("selected",!0),$.prepend(le),K=()=>{le.remove(),$.removeEventListener("input",K),K=null},$.addEventListener("input",K)}const Q=le=>{const ge=le?"value":"textContent",{options:pe,multiple:ye}=$;return ye?Array.prototype.filter.call(pe,ve=>ve.selected).map(ve=>ve[ge]):pe.selectedIndex===-1?null:pe[pe.selectedIndex][ge]};let ae=Q(!1);const ce=le=>{const ge=le.target.options;return Array.prototype.map.call(ge,pe=>({displayValue:pe.textContent,exportValue:pe.value}))};return this.enableScripting&&this.hasJSActions?($.addEventListener("updatefromsandbox",le=>{const ge={value(pe){K?.();const ye=pe.detail.value,ve=new Set(Array.isArray(ye)?ye:[ye]);for(const be of $.options)be.selected=ve.has(be.value);te.setValue(re,{value:Q(!0)}),ae=Q(!1)},multipleSelection(pe){$.multiple=!0},remove(pe){const ye=$.options,ve=pe.detail.remove;ye[ve].selected=!1,$.remove(ve),ye.length>0&&Array.prototype.findIndex.call(ye,me=>me.selected)===-1&&(ye[0].selected=!0),te.setValue(re,{value:Q(!0),items:ce(pe)}),ae=Q(!1)},clear(pe){for(;$.length!==0;)$.remove(0);te.setValue(re,{value:null,items:[]}),ae=Q(!1)},insert(pe){const{index:ye,displayValue:ve,exportValue:be}=pe.detail.insert,me=$.children[ye],Fe=document.createElement("option");Fe.textContent=ve,Fe.value=be,me?me.before(Fe):$.append(Fe),te.setValue(re,{value:Q(!0),items:ce(pe)}),ae=Q(!1)},items(pe){const{items:ye}=pe.detail;for(;$.length!==0;)$.remove(0);for(const ve of ye){const{displayValue:be,exportValue:me}=ve,Fe=document.createElement("option");Fe.textContent=be,Fe.value=me,$.append(Fe)}$.options.length>0&&($.options[0].selected=!0),te.setValue(re,{value:Q(!0),items:ce(pe)}),ae=Q(!1)},indices(pe){const ye=new Set(pe.detail.indices);for(const ve of pe.target.options)ve.selected=ye.has(ve.index);te.setValue(re,{value:Q(!0)}),ae=Q(!1)},editable(pe){pe.target.disabled=!pe.detail.editable}};this._dispatchEventFromSandbox(ge,le)}),$.addEventListener("input",le=>{const ge=Q(!0);te.setValue(re,{value:ge}),le.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:re,name:"Keystroke",value:ae,changeEx:ge,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners($,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],le=>le.target.value)):$.addEventListener("input",function(le){te.setValue(re,{value:Q(!0)})}),this.data.combo&&this._setTextStyle($),this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class oe extends j{constructor(te){const{data:re,elements:W}=te;super(te,{isRenderable:j._hasPopupData(re)}),this.elements=W}render(){this.container.classList.add("popupAnnotation");const te=new he({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),re=[];for(const W of this.elements)W.popup=te,re.push(W.data.id),W.addHighlightArea();return this.container.setAttribute("aria-controls",re.map(W=>`${b.AnnotationPrefix}${W}`).join(",")),this.container}}class he{#e=this.#m.bind(this);#t=this.#F.bind(this);#n=this.#y.bind(this);#r=this.#d.bind(this);#s=null;#i=null;#c=null;#l=null;#o=null;#u=null;#a=null;#f=!1;#h=null;#p=null;#g=null;#b=null;#x=!1;constructor({container:te,color:re,elements:W,titleObj:$,modificationDate:Z,contentsObj:K,richText:Q,parent:ae,rect:ce,parentRect:le,open:ge}){this.#i=te,this.#b=$,this.#c=K,this.#g=Q,this.#u=ae,this.#s=re,this.#p=ce,this.#a=le,this.#o=W,this.#l=S.PDFDateString.toDateObject(Z),this.trigger=W.flatMap(pe=>pe.getElementsToTriggerPopup());for(const pe of this.trigger)pe.addEventListener("click",this.#r),pe.addEventListener("mouseenter",this.#n),pe.addEventListener("mouseleave",this.#t),pe.classList.add("popupTriggerArea");for(const pe of W)pe.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,ge&&this.#d()}render(){if(this.#h)return;const{page:{view:te},viewport:{rawDims:{pageWidth:re,pageHeight:W,pageX:$,pageY:Z}}}=this.#u,K=this.#h=document.createElement("div");if(K.className="popup",this.#s){const ke=K.style.outlineColor=b.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?K.style.backgroundColor=`color-mix(in srgb, ${ke} 30%, white)`:K.style.backgroundColor=b.Util.makeHexColor(...this.#s.map(ue=>Math.floor(.7*(255-ue)+ue)))}const Q=document.createElement("span");Q.className="header";const ae=document.createElement("h1");if(Q.append(ae),{dir:ae.dir,str:ae.textContent}=this.#b,K.append(Q),this.#l){const ke=document.createElement("span");ke.classList.add("popupDate"),ke.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),ke.setAttribute("data-l10n-args",JSON.stringify({date:this.#l.toLocaleDateString(),time:this.#l.toLocaleTimeString()})),Q.append(ke)}const ce=this.#c,le=this.#g;if(le?.str&&(!ce?.str||ce.str===le.str))k.XfaLayer.render({xfaHtml:le.html,intent:"richText",div:K}),K.lastChild.classList.add("richText","popupContent");else{const ke=this._formatContents(ce);K.append(ke)}let ge=!!this.#a,pe=ge?this.#a:this.#p;for(const ke of this.#o)if(!pe||b.Util.intersect(ke.data.rect,pe)!==null){pe=ke.data.rect,ge=!0;break}const ye=b.Util.normalizeRect([pe[0],te[3]-pe[1]+te[1],pe[2],te[3]-pe[3]+te[1]]),ve=5,be=ge?pe[2]-pe[0]+ve:0,me=ye[0]+be,Fe=ye[1],{style:Re}=this.#i;Re.left=`${100*(me-$)/re}%`,Re.top=`${100*(Fe-Z)/W}%`,this.#i.append(K)}_formatContents({str:te,dir:re}){const W=document.createElement("p");W.classList.add("popupContent"),W.dir=re;const $=te.split(/(?:\r\n?|\n)/);for(let Z=0,K=$.length;Z<K;++Z){const Q=$[Z];W.append(document.createTextNode(Q)),Z<K-1&&W.append(document.createElement("br"))}return W}#m(te){te.altKey||te.shiftKey||te.ctrlKey||te.metaKey||(te.key==="Enter"||te.key==="Escape"&&this.#f)&&this.#d()}#d(){this.#f=!this.#f,this.#f?(this.#y(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#F(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#y(){this.#h||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#F(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#x=this.isVisible,this.#x&&(this.#i.hidden=!0)}maybeShow(){this.#x&&(this.#x=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class fe extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0}),this.textContent=te.data.textContent,this.textPosition=te.data.textPosition,this.annotationEditorType=b.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const te=document.createElement("div");te.classList.add("annotationTextContent"),te.setAttribute("role","comment");for(const re of this.textContent){const W=document.createElement("span");W.textContent=re,te.append(W)}this.container.append(te)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class Se extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const te=this.data,{width:re,height:W}=R(te.rect),$=this.svgFactory.create(re,W,!0),Z=this.#e=this.svgFactory.createElement("svg:line");return Z.setAttribute("x1",te.rect[2]-te.lineCoordinates[0]),Z.setAttribute("y1",te.rect[3]-te.lineCoordinates[1]),Z.setAttribute("x2",te.rect[2]-te.lineCoordinates[2]),Z.setAttribute("y2",te.rect[3]-te.lineCoordinates[3]),Z.setAttribute("stroke-width",te.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),$.append(Z),this.container.append($),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class we extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const te=this.data,{width:re,height:W}=R(te.rect),$=this.svgFactory.create(re,W,!0),Z=te.borderStyle.width,K=this.#e=this.svgFactory.createElement("svg:rect");return K.setAttribute("x",Z/2),K.setAttribute("y",Z/2),K.setAttribute("width",re-Z),K.setAttribute("height",W-Z),K.setAttribute("stroke-width",Z||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),$.append(K),this.container.append($),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ee extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const te=this.data,{width:re,height:W}=R(te.rect),$=this.svgFactory.create(re,W,!0),Z=te.borderStyle.width,K=this.#e=this.svgFactory.createElement("svg:ellipse");return K.setAttribute("cx",re/2),K.setAttribute("cy",W/2),K.setAttribute("rx",re/2-Z/2),K.setAttribute("ry",W/2-Z/2),K.setAttribute("stroke-width",Z||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),$.append(K),this.container.append($),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class de extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const te=this.data,{width:re,height:W}=R(te.rect),$=this.svgFactory.create(re,W,!0);let Z=[];for(const Q of te.vertices){const ae=Q.x-te.rect[0],ce=te.rect[3]-Q.y;Z.push(ae+","+ce)}Z=Z.join(" ");const K=this.#e=this.svgFactory.createElement(this.svgElementName);return K.setAttribute("points",Z),K.setAttribute("stroke-width",te.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),$.append(K),this.container.append($),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class xe extends de{constructor(te){super(te),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Te extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Oe extends j{#e=[];constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=b.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const te=this.data,{width:re,height:W}=R(te.rect),$=this.svgFactory.create(re,W,!0);for(const Z of te.inkLists){let K=[];for(const ae of Z){const ce=ae.x-te.rect[0],le=te.rect[3]-ae.y;K.push(`${ce},${le}`)}K=K.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);this.#e.push(Q),Q.setAttribute("points",K),Q.setAttribute("stroke-width",te.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),!te.popupRef&&this.hasPopupData&&this._createPopup(),$.append(Q)}return this.container.append($),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ne extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Le extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Me extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ie extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ve extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class De extends j{#e=null;constructor(te){super(te,{isRenderable:!0});const{filename:re,content:W}=this.data.file;this.filename=(0,S.getFilenameFromUrl)(re,!0),this.content=W,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:re,content:W})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:te,data:re}=this;let W;re.hasAppearance||re.fillAlpha===0?W=document.createElement("div"):(W=document.createElement("img"),W.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(re.name)?"paperclip":"pushpin"}.svg`,re.fillAlpha&&re.fillAlpha<1&&(W.style=`filter: opacity(${Math.round(re.fillAlpha*100)}%);`)),W.addEventListener("dblclick",this.#t.bind(this)),this.#e=W;const{isMac:$}=b.FeatureTest.platform;return te.addEventListener("keydown",Z=>{Z.key==="Enter"&&($?Z.metaKey:Z.ctrlKey)&&this.#t()}),!re.popupRef&&this.hasPopupData?this._createPopup():W.classList.add("popupTriggerArea"),te.append(W),te}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Pe{#e=null;#t=null;#n=new Map;constructor({div:te,accessibilityManager:re,annotationCanvasMap:W,page:$,viewport:Z}){this.div=te,this.#e=re,this.#t=W,this.page=$,this.viewport=Z,this.zIndex=0}#r(te,re){const W=te.firstChild||te;W.id=`${b.AnnotationPrefix}${re}`,this.div.append(te),this.#e?.moveElementInDOM(this.div,te,W,!1)}async render(te){const{annotations:re}=te,W=this.div;(0,S.setLayerDimensions)(W,this.viewport);const $=new Map,Z={data:null,layer:W,linkService:te.linkService,downloadManager:te.downloadManager,imageResourcesPath:te.imageResourcesPath||"",renderForms:te.renderForms!==!1,svgFactory:new S.DOMSVGFactory,annotationStorage:te.annotationStorage||new w.AnnotationStorage,enableScripting:te.enableScripting===!0,hasJSActions:te.hasJSActions,fieldObjects:te.fieldObjects,parent:this,elements:null};for(const K of re){if(K.noHTML)continue;const Q=K.annotationType===b.AnnotationType.POPUP;if(Q){const le=$.get(K.id);if(!le)continue;Z.elements=le}else{const{width:le,height:ge}=R(K.rect);if(le<=0||ge<=0)continue}Z.data=K;const ae=U.create(Z);if(!ae.isRenderable)continue;if(!Q&&K.popupRef){const le=$.get(K.popupRef);le?le.push(ae):$.set(K.popupRef,[ae])}ae.annotationEditorType>0&&this.#n.set(ae.data.id,ae);const ce=ae.render();K.hidden&&(ce.style.visibility="hidden"),this.#r(ce,K.id)}this.#s()}update({viewport:te}){const re=this.div;this.viewport=te,(0,S.setLayerDimensions)(re,{rotation:te.rotation}),this.#s(),re.hidden=!1}#s(){if(!this.#t)return;const te=this.div;for(const[re,W]of this.#t){const $=te.querySelector(`[data-annotation-id="${re}"]`);if(!$)continue;const{firstChild:Z}=$;Z?Z.nodeName==="CANVAS"?Z.replaceWith(W):Z.before(W):$.append(W)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(te){return this.#n.get(te)}}},780:(g,d,x)=>{x.d(d,{AnnotationStorage:()=>F,PrintAnnotationStorage:()=>E,SerializableEmpty:()=>C});var b=x(266),S=x(796),w=x(825);const C=Object.freeze({map:null,hash:"",transfer:void 0});class F{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(D,M){const L=this.#t.get(D);return L===void 0?M:Object.assign(M,L)}getRawValue(D){return this.#t.get(D)}remove(D){if(this.#t.delete(D),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const M of this.#t.values())if(M instanceof S.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(D,M){const L=this.#t.get(D);let R=!1;if(L!==void 0)for(const[U,j]of Object.entries(M))L[U]!==j&&(R=!0,L[U]=j);else R=!0,this.#t.set(D,M);R&&this.#n(),M instanceof S.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(M.constructor._type)}has(D){return this.#t.has(D)}getAll(){return this.#t.size>0?(0,b.objectFromMap)(this.#t):null}setAll(D){for(const[M,L]of Object.entries(D))this.setValue(M,L)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new E(this)}get serializable(){if(this.#t.size===0)return C;const D=new Map,M=new w.MurmurHash3_64,L=[],R=Object.create(null);let U=!1;for(const[j,H]of this.#t){const V=H instanceof S.AnnotationEditor?H.serialize(!1,R):H;V&&(D.set(j,V),M.update(`${j}:${JSON.stringify(V)}`),U||=!!V.bitmap)}if(U)for(const j of D.values())j.bitmap&&L.push(j.bitmap);return D.size>0?{map:D,hash:M.hexdigest(),transfer:L}:C}}class E extends F{#e;constructor(D){super();const{map:M,hash:L,transfer:R}=D.serializable,U=structuredClone(M,R?{transfer:R}:null);this.#e={map:U,hash:L,transfer:R}}get print(){(0,b.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}},406:(g,d,x)=>{x.a(g,async(b,S)=>{try{let Se=function(W){if(typeof W=="string"||W instanceof URL?W={url:W}:(0,w.isArrayBuffer)(W)&&(W={data:W}),typeof W!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!W.url&&!W.data&&!W.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new xe,{docId:Z}=$,K=W.url?Ee(W.url):null,Q=W.data?de(W.data):null,ae=W.httpHeaders||null,ce=W.withCredentials===!0,le=W.password??null,ge=W.range instanceof Te?W.range:null,pe=Number.isInteger(W.rangeChunkSize)&&W.rangeChunkSize>0?W.rangeChunkSize:Y;let ye=W.worker instanceof Ie?W.worker:null;const ve=W.verbosity,be=typeof W.docBaseUrl=="string"&&!(0,F.isDataScheme)(W.docBaseUrl)?W.docBaseUrl:null,me=typeof W.cMapUrl=="string"?W.cMapUrl:null,Fe=W.cMapPacked!==!1,Re=W.CMapReaderFactory||oe,ke=typeof W.standardFontDataUrl=="string"?W.standardFontDataUrl:null,je=W.StandardFontDataFactory||fe,ue=W.stopAtErrors!==!0,ne=Number.isInteger(W.maxImageSize)&&W.maxImageSize>-1?W.maxImageSize:-1,se=W.isEvalSupported!==!1,Ae=typeof W.isOffscreenCanvasSupported=="boolean"?W.isOffscreenCanvasSupported:!w.isNodeJS,_e=Number.isInteger(W.canvasMaxAreaInBytes)?W.canvasMaxAreaInBytes:-1,Be=typeof W.disableFontFace=="boolean"?W.disableFontFace:w.isNodeJS,He=W.fontExtraProperties===!0,Ue=W.enableXfa===!0,ze=W.ownerDocument||globalThis.document,Ge=W.disableRange===!0,Xe=W.disableStream===!0,$e=W.disableAutoFetch===!0,qe=W.pdfBug===!0,Ke=ge?ge.length:W.length??NaN,Ye=typeof W.useSystemFonts=="boolean"?W.useSystemFonts:!w.isNodeJS&&!Be,We=typeof W.useWorkerFetch=="boolean"?W.useWorkerFetch:Re===F.DOMCMapReaderFactory&&je===F.DOMStandardFontDataFactory&&me&&ke&&(0,F.isValidFetchUrl)(me,document.baseURI)&&(0,F.isValidFetchUrl)(ke,document.baseURI),et=W.canvasFactory||new ie({ownerDocument:ze}),tt=W.filterFactory||new he({docId:Z,ownerDocument:ze}),ot=null;(0,w.setVerbosityLevel)(ve);const Qe={canvasFactory:et,filterFactory:tt};if(We||(Qe.cMapReaderFactory=new Re({baseUrl:me,isCompressed:Fe}),Qe.standardFontDataFactory=new je({baseUrl:ke})),!ye){const nt={verbosity:ve,port:M.GlobalWorkerOptions.workerPort};ye=nt.port?Ie.fromPort(nt):new Ie(nt),$._worker=ye}const Je={docId:Z,apiVersion:"4.0.269",data:Q,password:le,disableAutoFetch:$e,rangeChunkSize:pe,length:Ke,docBaseUrl:be,enableXfa:Ue,evaluatorOptions:{maxImageSize:ne,disableFontFace:Be,ignoreErrors:ue,isEvalSupported:se,isOffscreenCanvasSupported:Ae,canvasMaxAreaInBytes:_e,fontExtraProperties:He,useSystemFonts:Ye,cMapUrl:We?me:null,standardFontDataUrl:We?ke:null}},ct={ignoreErrors:ue,isEvalSupported:se,disableFontFace:Be,fontExtraProperties:He,enableXfa:Ue,ownerDocument:ze,disableAutoFetch:$e,pdfBug:qe,styleElement:ot};return ye.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");const nt=we(ye,Je),rt=new Promise(function(Ze){let at;ge?at=new j.PDFDataTransportStream({length:Ke,initialData:ge.initialData,progressiveDone:ge.progressiveDone,contentDispositionFilename:ge.contentDispositionFilename,disableRange:Ge,disableStream:Xe},ge):Q||(at=(it=>w.isNodeJS?new z.PDFNodeStream(it):(0,F.isValidFetchUrl)(it.url)?new H.PDFFetchStream(it):new V.PDFNetworkStream(it))({url:K,length:Ke,httpHeaders:ae,withCredentials:ce,rangeChunkSize:pe,disableRange:Ge,disableStream:Xe})),Ze(at)});return Promise.all([nt,rt]).then(function([Ze,at]){if($.destroyed)throw new Error("Loading aborted");const lt=new L.MessageHandler(Z,Ze,ye.port),it=new Ve(lt,$,at,ct,Qe);$._transport=it,lt.send("Ready",null)})}).catch($._capability.reject),$},Ee=function(W){if(W instanceof URL)return W.href;try{return new URL(W,window.location).href}catch{if(w.isNodeJS&&typeof W=="string")return W}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")},de=function(W){if(w.isNodeJS&&typeof Buffer<"u"&&W instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(W instanceof Uint8Array&&W.byteLength===W.buffer.byteLength)return W;if(typeof W=="string")return(0,w.stringToBytes)(W);if(typeof W=="object"&&!isNaN(W?.length)||(0,w.isArrayBuffer)(W))return new Uint8Array(W);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")};x.d(d,{PDFDataRangeTransport:()=>Te,PDFWorker:()=>Ie,build:()=>re,getDocument:()=>Se,version:()=>te});var w=x(266),C=x(780),F=x(473),E=x(742),k=x(738),D=x(250),M=x(368),L=x(694),R=x(472),U=x(890),j=x(92),H=x(171),V=x(474),z=x(498),G=x(521),X=b([k,z]);[k,z]=X.then?(await X)():X;const Y=65536,J=100,ee=5e3,ie=w.isNodeJS?k.NodeCanvasFactory:F.DOMCanvasFactory,oe=w.isNodeJS?k.NodeCMapReaderFactory:F.DOMCMapReaderFactory,he=w.isNodeJS?k.NodeFilterFactory:F.DOMFilterFactory,fe=w.isNodeJS?k.NodeStandardFontDataFactory:F.DOMStandardFontDataFactory;async function we(W,$){if(W.destroyed)throw new Error("Worker was destroyed");const Z=await W.messageHandler.sendWithPromise("GetDocRequest",$,$.data?[$.data.buffer]:null);if(W.destroyed)throw new Error("Worker was destroyed");return Z}class xe{static#e=0;constructor(){this._capability=new w.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${xe.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch($){throw this._worker?.port&&delete this._worker._pendingDestroy,$}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class Te{constructor($,Z,K=!1,Q=null){this.length=$,this.initialData=Z,this.progressiveDone=K,this.contentDispositionFilename=Q,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new w.PromiseCapability}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,Z){for(const K of this._rangeListeners)K($,Z)}onDataProgress($,Z){this._readyCapability.promise.then(()=>{for(const K of this._progressListeners)K($,Z)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const Z of this._progressiveReadListeners)Z($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,Z){(0,w.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Oe{constructor($,Z){this._pdfInfo=$,this._transport=Z}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,w.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Ne{#e=null;#t=!1;constructor($,Z,K,Q=!1){this._pageIndex=$,this._pageInfo=Z,this._transport=K,this._stats=Q?new F.StatTimer:null,this._pdfBug=Q,this.commonObjs=K.commonObjs,this.objs=new De,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:Z=this.rotate,offsetX:K=0,offsetY:Q=0,dontFlip:ae=!1}={}){return new F.PageViewport({viewBox:this.view,scale:$,rotation:Z,offsetX:K,offsetY:Q,dontFlip:ae})}getAnnotations({intent:$="display"}={}){const Z=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,Z.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,w.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:$,viewport:Z,intent:K="display",annotationMode:Q=w.AnnotationMode.ENABLE,transform:ae=null,background:ce=null,optionalContentConfigPromise:le=null,annotationCanvasMap:ge=null,pageColors:pe=null,printAnnotationStorage:ye=null}){this._stats?.time("Overall");const ve=this._transport.getRenderingIntent(K,Q,ye);this.#t=!1,this.#r(),le||(le=this._transport.getOptionalContentConfig());let be=this._intentStates.get(ve.cacheKey);be||(be=Object.create(null),this._intentStates.set(ve.cacheKey,be)),be.streamReaderCancelTimeout&&(clearTimeout(be.streamReaderCancelTimeout),be.streamReaderCancelTimeout=null);const me=!!(ve.renderingIntent&w.RenderingIntentFlag.PRINT);be.displayReadyCapability||(be.displayReadyCapability=new w.PromiseCapability,be.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ve));const Fe=je=>{be.renderTasks.delete(Re),(this._maybeCleanupAfterRender||me)&&(this.#t=!0),this.#n(!me),je?(Re.capability.reject(je),this._abortOperatorList({intentState:be,reason:je instanceof Error?je:new Error(je)})):Re.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},Re=new Ce({callback:Fe,params:{canvasContext:$,viewport:Z,transform:ae,background:ce},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ge,operatorList:be.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!me,pdfBug:this._pdfBug,pageColors:pe});(be.renderTasks||=new Set).add(Re);const ke=Re.task;return Promise.all([be.displayReadyCapability.promise,le]).then(([je,ue])=>{if(this.destroyed){Fe();return}this._stats?.time("Rendering"),Re.initializeGraphics({transparency:je,optionalContentConfig:ue}),Re.operatorListChanged()}).catch(Fe),ke}getOperatorList({intent:$="display",annotationMode:Z=w.AnnotationMode.ENABLE,printAnnotationStorage:K=null}={}){function Q(){ce.operatorList.lastChunk&&(ce.opListReadCapability.resolve(ce.operatorList),ce.renderTasks.delete(le))}const ae=this._transport.getRenderingIntent($,Z,K,!0);let ce=this._intentStates.get(ae.cacheKey);ce||(ce=Object.create(null),this._intentStates.set(ae.cacheKey,ce));let le;return ce.opListReadCapability||(le=Object.create(null),le.operatorListChanged=Q,ce.opListReadCapability=new w.PromiseCapability,(ce.renderTasks||=new Set).add(le),ce.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ae)),ce.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:Z=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:Z===!0},{highWaterMark:100,size(Q){return Q.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(K=>G.XfaText.textContent(K));const Z=this.streamTextContent($);return new Promise(function(K,Q){function ae(){ce.read().then(function({value:ge,done:pe}){if(pe){K(le);return}Object.assign(le.styles,ge.styles),le.items.push(...ge.items),ae()},Q)}const ce=Z.getReader(),le={items:[],styles:Object.create(null)};ae()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const Z of this._intentStates.values())if(this._abortOperatorList({intentState:Z,reason:new Error("Page was destroyed."),force:!0}),!Z.opListReadCapability)for(const K of Z.renderTasks)$.push(K.completed),K.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all($)}cleanup($=!1){this.#t=!0;const Z=this.#n(!1);return $&&Z&&(this._stats&&=new F.StatTimer),Z}#n($=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if($)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},ee),!1;for(const{renderTasks:Z,operatorList:K}of this._intentStates.values())if(Z.size>0||!K.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage($,Z){const K=this._intentStates.get(Z);K&&(this._stats?.timeEnd("Page Request"),K.displayReadyCapability?.resolve($))}_renderPageChunk($,Z){for(let K=0,Q=$.length;K<Q;K++)Z.operatorList.fnArray.push($.fnArray[K]),Z.operatorList.argsArray.push($.argsArray[K]);Z.operatorList.lastChunk=$.lastChunk,Z.operatorList.separateAnnots=$.separateAnnots;for(const K of Z.renderTasks)K.operatorListChanged();$.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:$,cacheKey:Z,annotationStorageSerializable:K}){const{map:Q,transfer:ae}=K,le=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:Z,annotationStorage:Q},ae).getReader(),ge=this._intentStates.get(Z);ge.streamReader=le;const pe=()=>{le.read().then(({value:ye,done:ve})=>{if(ve){ge.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ye,ge),pe())},ye=>{if(ge.streamReader=null,!this._transport.destroyed){if(ge.operatorList){ge.operatorList.lastChunk=!0;for(const ve of ge.renderTasks)ve.operatorListChanged();this.#n(!0)}if(ge.displayReadyCapability)ge.displayReadyCapability.reject(ye);else if(ge.opListReadCapability)ge.opListReadCapability.reject(ye);else throw ye}})};pe()}_abortOperatorList({intentState:$,reason:Z,force:K=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!K){if($.renderTasks.size>0)return;if(Z instanceof F.RenderingCancelledException){let Q=J;Z.extraDelay>0&&Z.extraDelay<1e3&&(Q+=Z.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:Z,force:!0})},Q);return}}if($.streamReader.cancel(new w.AbortException(Z.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[Q,ae]of this._intentStates)if(ae===$){this._intentStates.delete(Q);break}this.cleanup()}}}get stats(){return this._stats}}class Le{#e=new Set;#t=Promise.resolve();postMessage($,Z){const K={data:structuredClone($,Z?{transfer:Z}:null)};this.#t.then(()=>{for(const Q of this.#e)Q.call(this,K)})}addEventListener($,Z){this.#e.add(Z)}removeEventListener($,Z){this.#e.delete(Z)}terminate(){this.#e.clear()}}const Me={isWorkerDisabled:!1,fakeWorkerId:0};w.isNodeJS&&(Me.isWorkerDisabled=!0,M.GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),Me.isSameOrigin=function(W,$){let Z;try{if(Z=new URL(W),!Z.origin||Z.origin==="null")return!1}catch{return!1}const K=new URL($,Z);return Z.origin===K.origin},Me.createCDNWrapper=function(W){const $=`await import("${W}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};class Ie{static#e;constructor({name:$=null,port:Z=null,verbosity:K=(0,w.getVerbosityLevel)()}={}){if(this.name=$,this.destroyed=!1,this.verbosity=K,this._readyCapability=new w.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Z){if(Ie.#e?.has(Z))throw new Error("Cannot use more than one PDFWorker per port.");(Ie.#e||=new WeakMap).set(Z,this),this._initializeFromPort(Z);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new L.MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Me.isWorkerDisabled&&!Ie.#t){let{workerSrc:$}=Ie;try{Me.isSameOrigin(window.location.href,$)||($=Me.createCDNWrapper(new URL($,window.location).href));const Z=new Worker($,{type:"module"}),K=new L.MessageHandler("main","worker",Z),Q=()=>{Z.removeEventListener("error",ae),K.destroy(),Z.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ae=()=>{this._webWorker||Q()};Z.addEventListener("error",ae),K.on("test",le=>{if(Z.removeEventListener("error",ae),this.destroyed){Q();return}le?(this._messageHandler=K,this._port=Z,this._webWorker=Z,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),K.destroy(),Z.terminate())}),K.on("ready",le=>{if(Z.removeEventListener("error",ae),this.destroyed){Q();return}try{ce()}catch{this._setupFakeWorker()}});const ce=()=>{const le=new Uint8Array;K.send("test",le,[le.buffer])};ce();return}catch{(0,w.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Me.isWorkerDisabled||((0,w.warn)("Setting up fake worker."),Me.isWorkerDisabled=!0),Ie._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Z=new Le;this._port=Z;const K=`fake${Me.fakeWorkerId++}`,Q=new L.MessageHandler(K+"_worker",K,Z);$.setup(Q,Z);const ae=new L.MessageHandler(K,K+"_worker",Z);this._messageHandler=ae,this._readyCapability.resolve(),ae.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ie.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){if(!$?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const Z=this.#e?.get($.port);if(Z){if(Z._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Z}return new Ie($)}static get workerSrc(){if(M.GlobalWorkerOptions.workerSrc)return M.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#t(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const $=async()=>this.#t?this.#t:(await __vitePreload(()=>import(this.workerSrc),__vite__mapDeps([]))).WorkerMessageHandler;return(0,w.shadow)(this,"_setupFakeWorkerGlobal",$())}}class Ve{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor($,Z,K,Q,ae){this.messageHandler=$,this.loadingTask=Z,this.commonObjs=new De,this.fontLoader=new E.FontLoader({ownerDocument:Q.ownerDocument,styleElement:Q.styleElement}),this._params=Q,this.canvasFactory=ae.canvasFactory,this.filterFactory=ae.filterFactory,this.cMapReaderFactory=ae.cMapReaderFactory,this.standardFontDataFactory=ae.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=K,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new w.PromiseCapability,this.setupMessageHandler()}#s($,Z=null){const K=this.#e.get($);if(K)return K;const Q=this.messageHandler.sendWithPromise($,Z);return this.#e.set($,Q),Q}get annotationStorage(){return(0,w.shadow)(this,"annotationStorage",new C.AnnotationStorage)}getRenderingIntent($,Z=w.AnnotationMode.ENABLE,K=null,Q=!1){let ae=w.RenderingIntentFlag.DISPLAY,ce=C.SerializableEmpty;switch($){case"any":ae=w.RenderingIntentFlag.ANY;break;case"display":break;case"print":ae=w.RenderingIntentFlag.PRINT;break;default:(0,w.warn)(`getRenderingIntent - invalid intent: ${$}`)}switch(Z){case w.AnnotationMode.DISABLE:ae+=w.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case w.AnnotationMode.ENABLE:break;case w.AnnotationMode.ENABLE_FORMS:ae+=w.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case w.AnnotationMode.ENABLE_STORAGE:ae+=w.RenderingIntentFlag.ANNOTATIONS_STORAGE,ce=(ae&w.RenderingIntentFlag.PRINT&&K instanceof C.PrintAnnotationStorage?K:this.annotationStorage).serializable;break;default:(0,w.warn)(`getRenderingIntent - invalid annotationMode: ${Z}`)}return Q&&(ae+=w.RenderingIntentFlag.OPLIST),{renderingIntent:ae,cacheKey:`${ae}_${ce.hash}`,annotationStorageSerializable:ce}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new w.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const K of this.#t.values())$.push(K._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Z=this.messageHandler.sendWithPromise("Terminate",null);return $.push(Z),Promise.all($).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new w.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:Z}=this;$.on("GetReader",(K,Q)=>{(0,w.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ae=>{this._lastProgress={loaded:ae.loaded,total:ae.total}},Q.onPull=()=>{this._fullReader.read().then(function({value:ae,done:ce}){if(ce){Q.close();return}(0,w.assert)(ae instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Q.enqueue(new Uint8Array(ae),1,[ae])}).catch(ae=>{Q.error(ae)})},Q.onCancel=ae=>{this._fullReader.cancel(ae),Q.ready.catch(ce=>{if(!this.destroyed)throw ce})}}),$.on("ReaderHeadersReady",K=>{const Q=new w.PromiseCapability,ae=this._fullReader;return ae.headersReady.then(()=>{(!ae.isStreamingSupported||!ae.isRangeSupported)&&(this._lastProgress&&Z.onProgress?.(this._lastProgress),ae.onProgress=ce=>{Z.onProgress?.({loaded:ce.loaded,total:ce.total})}),Q.resolve({isStreamingSupported:ae.isStreamingSupported,isRangeSupported:ae.isRangeSupported,contentLength:ae.contentLength})},Q.reject),Q.promise}),$.on("GetRangeReader",(K,Q)=>{(0,w.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ae=this._networkStream.getRangeReader(K.begin,K.end);if(!ae){Q.close();return}Q.onPull=()=>{ae.read().then(function({value:ce,done:le}){if(le){Q.close();return}(0,w.assert)(ce instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Q.enqueue(new Uint8Array(ce),1,[ce])}).catch(ce=>{Q.error(ce)})},Q.onCancel=ce=>{ae.cancel(ce),Q.ready.catch(le=>{if(!this.destroyed)throw le})}}),$.on("GetDoc",({pdfInfo:K})=>{this._numPages=K.numPages,this._htmlForXfa=K.htmlForXfa,delete K.htmlForXfa,Z._capability.resolve(new Oe(K,this))}),$.on("DocException",function(K){let Q;switch(K.name){case"PasswordException":Q=new w.PasswordException(K.message,K.code);break;case"InvalidPDFException":Q=new w.InvalidPDFException(K.message);break;case"MissingPDFException":Q=new w.MissingPDFException(K.message);break;case"UnexpectedResponseException":Q=new w.UnexpectedResponseException(K.message,K.status);break;case"UnknownErrorException":Q=new w.UnknownErrorException(K.message,K.details);break;default:(0,w.unreachable)("DocException - expected a valid Error.")}Z._capability.reject(Q)}),$.on("PasswordRequest",K=>{if(this.#r=new w.PromiseCapability,Z.onPassword){const Q=ae=>{ae instanceof Error?this.#r.reject(ae):this.#r.resolve({password:ae})};try{Z.onPassword(Q,K.code)}catch(ae){this.#r.reject(ae)}}else this.#r.reject(new w.PasswordException(K.message,K.code));return this.#r.promise}),$.on("DataLoaded",K=>{Z.onProgress?.({loaded:K.length,total:K.length}),this.downloadInfoCapability.resolve(K)}),$.on("StartRenderPage",K=>{if(this.destroyed)return;this.#t.get(K.pageIndex)._startRenderPage(K.transparency,K.cacheKey)}),$.on("commonobj",([K,Q,ae])=>{if(!this.destroyed&&!this.commonObjs.has(K))switch(Q){case"Font":const ce=this._params;if("error"in ae){const pe=ae.error;(0,w.warn)(`Error during font loading: ${pe}`),this.commonObjs.resolve(K,pe);break}const le=ce.pdfBug&&globalThis.FontInspector?.enabled?(pe,ye)=>globalThis.FontInspector.fontAdded(pe,ye):null,ge=new E.FontFaceObject(ae,{isEvalSupported:ce.isEvalSupported,disableFontFace:ce.disableFontFace,ignoreErrors:ce.ignoreErrors,inspectFont:le});this.fontLoader.bind(ge).catch(pe=>$.sendWithPromise("FontFallback",{id:K})).finally(()=>{!ce.fontExtraProperties&&ge.data&&(ge.data=null),this.commonObjs.resolve(K,ge)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(K,ae);break;default:throw new Error(`Got unknown common object type ${Q}`)}}),$.on("obj",([K,Q,ae,ce])=>{if(this.destroyed)return;const le=this.#t.get(Q);if(!le.objs.has(K)){if(le._intentStates.size===0){ce?.bitmap?.close();return}switch(ae){case"Image":if(le.objs.resolve(K,ce),ce){let ge;if(ce.bitmap){const{width:pe,height:ye}=ce;ge=pe*ye*4}else ge=ce.data?.length||0;ge>w.MAX_IMAGE_SIZE_TO_CACHE&&(le._maybeCleanupAfterRender=!0)}break;case"Pattern":le.objs.resolve(K,ce);break;default:throw new Error(`Got unknown object type ${ae}`)}}}),$.on("DocProgress",K=>{this.destroyed||Z.onProgress?.({loaded:K.loaded,total:K.total})}),$.on("FetchBuiltInCMap",K=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(K):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",K=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(K):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,w.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:Z}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:this._fullReader?.filename??null},Z).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const Z=$-1,K=this.#n.get(Z);if(K)return K;const Q=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Z}).then(ae=>{if(this.destroyed)throw new Error("Transport destroyed");const ce=new Ne(Z,ae,this,this._params.pdfBug);return this.#t.set(Z,ce),ce});return this.#n.set(Z,Q),Q}getPageIndex($){return typeof $!="object"||$===null||!Number.isInteger($.num)||$.num<0||!Number.isInteger($.gen)||$.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen})}getAnnotations($,Z){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:Z})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then($=>new U.OptionalContentConfig($))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",Z=this.#e.get($);if(Z)return Z;const K=this.messageHandler.sendWithPromise($,null).then(Q=>({info:Q[0],metadata:Q[1]?new R.Metadata(Q[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set($,K),K}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Z of this.#t.values())if(!Z.cleanup())throw new Error(`startCleanup: Page ${Z.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:$,enableXfa:Z}=this._params;return(0,w.shadow)(this,"loadingParams",{disableAutoFetch:$,enableXfa:Z})}}class De{#e=Object.create(null);#t($){return this.#e[$]||={capability:new w.PromiseCapability,data:null}}get($,Z=null){if(Z){const Q=this.#t($);return Q.capability.promise.then(()=>Z(Q.data)),null}const K=this.#e[$];if(!K?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return K.data}has($){return this.#e[$]?.capability.settled||!1}resolve($,Z=null){const K=this.#t($);K.data=Z,K.capability.resolve()}clear(){for(const $ in this.#e){const{data:Z}=this.#e[$];Z?.bitmap?.close()}this.#e=Object.create(null)}}class Pe{#e=null;constructor($){this.#e=$,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel($=0){this.#e.cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=this.#e.operatorList;if(!$)return!1;const{annotationCanvasMap:Z}=this.#e;return $.form||$.canvas&&Z?.size>0}}class Ce{static#e=new WeakSet;constructor({callback:$,params:Z,objs:K,commonObjs:Q,annotationCanvasMap:ae,operatorList:ce,pageIndex:le,canvasFactory:ge,filterFactory:pe,useRequestAnimationFrame:ye=!1,pdfBug:ve=!1,pageColors:be=null}){this.callback=$,this.params=Z,this.objs=K,this.commonObjs=Q,this.annotationCanvasMap=ae,this.operatorListIdx=null,this.operatorList=ce,this._pageIndex=le,this.canvasFactory=ge,this.filterFactory=pe,this._pdfBug=ve,this.pageColors=be,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ye===!0&&typeof window<"u",this.cancelled=!1,this.capability=new w.PromiseCapability,this.task=new Pe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Z.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:Z}){if(this.cancelled)return;if(this._canvas){if(Ce.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ce.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:K,viewport:Q,transform:ae,background:ce}=this.params;this.gfx=new D.CanvasGraphics(K,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Z},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ae,viewport:Q,transparency:$,background:ce}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel($=null,Z=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),Ce.#e.delete(this._canvas),this.callback($||new F.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Z))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ce.#e.delete(this._canvas),this.callback())))}}const te="4.0.269",re="f4b396f6c";S()}catch(Y){S(Y)}})},822:(g,d,x)=>{x.d(d,{BaseCMapReaderFactory:()=>C,BaseCanvasFactory:()=>w,BaseFilterFactory:()=>S,BaseSVGFactory:()=>E,BaseStandardFontDataFactory:()=>F});var b=x(266);class S{constructor(){this.constructor===S&&(0,b.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(D){return"none"}addHCMFilter(D,M){return"none"}addHighlightHCMFilter(D,M,L,R){return"none"}destroy(D=!1){}}class w{constructor(){this.constructor===w&&(0,b.unreachable)("Cannot initialize BaseCanvasFactory.")}create(D,M){if(D<=0||M<=0)throw new Error("Invalid canvas size");const L=this._createCanvas(D,M);return{canvas:L,context:L.getContext("2d")}}reset(D,M,L){if(!D.canvas)throw new Error("Canvas is not specified");if(M<=0||L<=0)throw new Error("Invalid canvas size");D.canvas.width=M,D.canvas.height=L}destroy(D){if(!D.canvas)throw new Error("Canvas is not specified");D.canvas.width=0,D.canvas.height=0,D.canvas=null,D.context=null}_createCanvas(D,M){(0,b.unreachable)("Abstract method `_createCanvas` called.")}}class C{constructor({baseUrl:D=null,isCompressed:M=!0}){this.constructor===C&&(0,b.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=D,this.isCompressed=M}async fetch({name:D}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!D)throw new Error("CMap name must be specified.");const M=this.baseUrl+D+(this.isCompressed?".bcmap":""),L=this.isCompressed?b.CMapCompressionType.BINARY:b.CMapCompressionType.NONE;return this._fetchData(M,L).catch(R=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${M}`)})}_fetchData(D,M){(0,b.unreachable)("Abstract method `_fetchData` called.")}}class F{constructor({baseUrl:D=null}){this.constructor===F&&(0,b.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=D}async fetch({filename:D}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!D)throw new Error("Font filename must be specified.");const M=`${this.baseUrl}${D}`;return this._fetchData(M).catch(L=>{throw new Error(`Unable to load font data at: ${M}`)})}_fetchData(D){(0,b.unreachable)("Abstract method `_fetchData` called.")}}class E{constructor(){this.constructor===E&&(0,b.unreachable)("Cannot initialize BaseSVGFactory.")}create(D,M,L=!1){if(D<=0||M<=0)throw new Error("Invalid SVG dimensions");const R=this._createSVG("svg:svg");return R.setAttribute("version","1.1"),L||(R.setAttribute("width",`${D}px`),R.setAttribute("height",`${M}px`)),R.setAttribute("preserveAspectRatio","none"),R.setAttribute("viewBox",`0 0 ${D} ${M}`),R}createElement(D){if(typeof D!="string")throw new Error("Invalid SVG element type");return this._createSVG(D)}_createSVG(D){(0,b.unreachable)("Abstract method `_createSVG` called.")}}},250:(g,d,x)=>{x.d(d,{CanvasGraphics:()=>te});var b=x(266),S=x(473);const w={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function C(re,W){if(!W)return;const $=W[2]-W[0],Z=W[3]-W[1],K=new Path2D;K.rect(W[0],W[1],$,Z),re.clip(K)}class F{constructor(){this.constructor===F&&(0,b.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,b.unreachable)("Abstract method `getPattern` called.")}}class E extends F{constructor(W){super(),this._type=W[1],this._bbox=W[2],this._colorStops=W[3],this._p0=W[4],this._p1=W[5],this._r0=W[6],this._r1=W[7],this.matrix=null}_createGradient(W){let $;this._type==="axial"?$=W.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&($=W.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Z of this._colorStops)$.addColorStop(Z[0],Z[1]);return $}getPattern(W,$,Z,K){let Q;if(K===w.STROKE||K===w.FILL){const ae=$.current.getClippedPathBoundingBox(K,(0,S.getCurrentTransform)(W))||[0,0,0,0],ce=Math.ceil(ae[2]-ae[0])||1,le=Math.ceil(ae[3]-ae[1])||1,ge=$.cachedCanvases.getCanvas("pattern",ce,le,!0),pe=ge.context;pe.clearRect(0,0,pe.canvas.width,pe.canvas.height),pe.beginPath(),pe.rect(0,0,pe.canvas.width,pe.canvas.height),pe.translate(-ae[0],-ae[1]),Z=b.Util.transform(Z,[1,0,0,1,ae[0],ae[1]]),pe.transform(...$.baseTransform),this.matrix&&pe.transform(...this.matrix),C(pe,this._bbox),pe.fillStyle=this._createGradient(pe),pe.fill(),Q=W.createPattern(ge.canvas,"no-repeat");const ye=new DOMMatrix(Z);Q.setTransform(ye)}else C(W,this._bbox),Q=this._createGradient(W);return Q}}function k(re,W,$,Z,K,Q,ae,ce){const le=W.coords,ge=W.colors,pe=re.data,ye=re.width*4;let ve;le[$+1]>le[Z+1]&&(ve=$,$=Z,Z=ve,ve=Q,Q=ae,ae=ve),le[Z+1]>le[K+1]&&(ve=Z,Z=K,K=ve,ve=ae,ae=ce,ce=ve),le[$+1]>le[Z+1]&&(ve=$,$=Z,Z=ve,ve=Q,Q=ae,ae=ve);const be=(le[$]+W.offsetX)*W.scaleX,me=(le[$+1]+W.offsetY)*W.scaleY,Fe=(le[Z]+W.offsetX)*W.scaleX,Re=(le[Z+1]+W.offsetY)*W.scaleY,ke=(le[K]+W.offsetX)*W.scaleX,je=(le[K+1]+W.offsetY)*W.scaleY;if(me>=je)return;const ue=ge[Q],ne=ge[Q+1],se=ge[Q+2],Ae=ge[ae],_e=ge[ae+1],Be=ge[ae+2],He=ge[ce],Ue=ge[ce+1],ze=ge[ce+2],Ge=Math.round(me),Xe=Math.round(je);let $e,qe,Ke,Ye,We,et,tt,ot;for(let Qe=Ge;Qe<=Xe;Qe++){if(Qe<Re){const Ze=Qe<me?0:(me-Qe)/(me-Re);$e=be-(be-Fe)*Ze,qe=ue-(ue-Ae)*Ze,Ke=ne-(ne-_e)*Ze,Ye=se-(se-Be)*Ze}else{let Ze;Qe>je?Ze=1:Re===je?Ze=0:Ze=(Re-Qe)/(Re-je),$e=Fe-(Fe-ke)*Ze,qe=Ae-(Ae-He)*Ze,Ke=_e-(_e-Ue)*Ze,Ye=Be-(Be-ze)*Ze}let Je;Qe<me?Je=0:Qe>je?Je=1:Je=(me-Qe)/(me-je),We=be-(be-ke)*Je,et=ue-(ue-He)*Je,tt=ne-(ne-Ue)*Je,ot=se-(se-ze)*Je;const ct=Math.round(Math.min($e,We)),nt=Math.round(Math.max($e,We));let rt=ye*Qe+ct*4;for(let Ze=ct;Ze<=nt;Ze++)Je=($e-Ze)/($e-We),Je<0?Je=0:Je>1&&(Je=1),pe[rt++]=qe-(qe-et)*Je|0,pe[rt++]=Ke-(Ke-tt)*Je|0,pe[rt++]=Ye-(Ye-ot)*Je|0,pe[rt++]=255}}function D(re,W,$){const Z=W.coords,K=W.colors;let Q,ae;switch(W.type){case"lattice":const ce=W.verticesPerRow,le=Math.floor(Z.length/ce)-1,ge=ce-1;for(Q=0;Q<le;Q++){let pe=Q*ce;for(let ye=0;ye<ge;ye++,pe++)k(re,$,Z[pe],Z[pe+1],Z[pe+ce],K[pe],K[pe+1],K[pe+ce]),k(re,$,Z[pe+ce+1],Z[pe+1],Z[pe+ce],K[pe+ce+1],K[pe+1],K[pe+ce])}break;case"triangles":for(Q=0,ae=Z.length;Q<ae;Q+=3)k(re,$,Z[Q],Z[Q+1],Z[Q+2],K[Q],K[Q+1],K[Q+2]);break;default:throw new Error("illegal figure")}}class M extends F{constructor(W){super(),this._coords=W[2],this._colors=W[3],this._figures=W[4],this._bounds=W[5],this._bbox=W[7],this._background=W[8],this.matrix=null}_createMeshCanvas(W,$,Z){const ce=Math.floor(this._bounds[0]),le=Math.floor(this._bounds[1]),ge=Math.ceil(this._bounds[2])-ce,pe=Math.ceil(this._bounds[3])-le,ye=Math.min(Math.ceil(Math.abs(ge*W[0]*1.1)),3e3),ve=Math.min(Math.ceil(Math.abs(pe*W[1]*1.1)),3e3),be=ge/ye,me=pe/ve,Fe={coords:this._coords,colors:this._colors,offsetX:-ce,offsetY:-le,scaleX:1/be,scaleY:1/me},Re=ye+2*2,ke=ve+2*2,je=Z.getCanvas("mesh",Re,ke,!1),ue=je.context,ne=ue.createImageData(ye,ve);if($){const Ae=ne.data;for(let _e=0,Be=Ae.length;_e<Be;_e+=4)Ae[_e]=$[0],Ae[_e+1]=$[1],Ae[_e+2]=$[2],Ae[_e+3]=255}for(const Ae of this._figures)D(ne,Ae,Fe);return ue.putImageData(ne,2,2),{canvas:je.canvas,offsetX:ce-2*be,offsetY:le-2*me,scaleX:be,scaleY:me}}getPattern(W,$,Z,K){C(W,this._bbox);let Q;if(K===w.SHADING)Q=b.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(W));else if(Q=b.Util.singularValueDecompose2dScale($.baseTransform),this.matrix){const ce=b.Util.singularValueDecompose2dScale(this.matrix);Q=[Q[0]*ce[0],Q[1]*ce[1]]}const ae=this._createMeshCanvas(Q,K===w.SHADING?null:this._background,$.cachedCanvases);return K!==w.SHADING&&(W.setTransform(...$.baseTransform),this.matrix&&W.transform(...this.matrix)),W.translate(ae.offsetX,ae.offsetY),W.scale(ae.scaleX,ae.scaleY),W.createPattern(ae.canvas,"no-repeat")}}class L extends F{getPattern(){return"hotpink"}}function R(re){switch(re[0]){case"RadialAxial":return new E(re);case"Mesh":return new M(re);case"Dummy":return new L}throw new Error(`Unknown IR type: ${re[0]}`)}const U={COLORED:1,UNCOLORED:2};class j{static MAX_PATTERN_SIZE=3e3;constructor(W,$,Z,K,Q){this.operatorList=W[2],this.matrix=W[3]||[1,0,0,1,0,0],this.bbox=W[4],this.xstep=W[5],this.ystep=W[6],this.paintType=W[7],this.tilingType=W[8],this.color=$,this.ctx=Z,this.canvasGraphicsFactory=K,this.baseTransform=Q}createPatternCanvas(W){const $=this.operatorList,Z=this.bbox,K=this.xstep,Q=this.ystep,ae=this.paintType,ce=this.tilingType,le=this.color,ge=this.canvasGraphicsFactory;(0,b.info)("TilingType: "+ce);const pe=Z[0],ye=Z[1],ve=Z[2],be=Z[3],me=b.Util.singularValueDecompose2dScale(this.matrix),Fe=b.Util.singularValueDecompose2dScale(this.baseTransform),Re=[me[0]*Fe[0],me[1]*Fe[1]],ke=this.getSizeAndScale(K,this.ctx.canvas.width,Re[0]),je=this.getSizeAndScale(Q,this.ctx.canvas.height,Re[1]),ue=W.cachedCanvases.getCanvas("pattern",ke.size,je.size,!0),ne=ue.context,se=ge.createCanvasGraphics(ne);se.groupLevel=W.groupLevel,this.setFillAndStrokeStyleToContext(se,ae,le);let Ae=pe,_e=ye,Be=ve,He=be;return pe<0&&(Ae=0,Be+=Math.abs(pe)),ye<0&&(_e=0,He+=Math.abs(ye)),ne.translate(-(ke.scale*Ae),-(je.scale*_e)),se.transform(ke.scale,0,0,je.scale,0,0),ne.save(),this.clipBbox(se,Ae,_e,Be,He),se.baseTransform=(0,S.getCurrentTransform)(se.ctx),se.executeOperatorList($),se.endDrawing(),{canvas:ue.canvas,scaleX:ke.scale,scaleY:je.scale,offsetX:Ae,offsetY:_e}}getSizeAndScale(W,$,Z){W=Math.abs(W);const K=Math.max(j.MAX_PATTERN_SIZE,$);let Q=Math.ceil(W*Z);return Q>=K?Q=K:Z=Q/W,{scale:Z,size:Q}}clipBbox(W,$,Z,K,Q){const ae=K-$,ce=Q-Z;W.ctx.rect($,Z,ae,ce),W.current.updateRectMinMax((0,S.getCurrentTransform)(W.ctx),[$,Z,K,Q]),W.clip(),W.endPath()}setFillAndStrokeStyleToContext(W,$,Z){const K=W.ctx,Q=W.current;switch($){case U.COLORED:const ae=this.ctx;K.fillStyle=ae.fillStyle,K.strokeStyle=ae.strokeStyle,Q.fillColor=ae.fillStyle,Q.strokeColor=ae.strokeStyle;break;case U.UNCOLORED:const ce=b.Util.makeHexColor(Z[0],Z[1],Z[2]);K.fillStyle=ce,K.strokeStyle=ce,Q.fillColor=ce,Q.strokeColor=ce;break;default:throw new b.FormatError(`Unsupported paint type: ${$}`)}}getPattern(W,$,Z,K){let Q=Z;K!==w.SHADING&&(Q=b.Util.transform(Q,$.baseTransform),this.matrix&&(Q=b.Util.transform(Q,this.matrix)));const ae=this.createPatternCanvas($);let ce=new DOMMatrix(Q);ce=ce.translate(ae.offsetX,ae.offsetY),ce=ce.scale(1/ae.scaleX,1/ae.scaleY);const le=W.createPattern(ae.canvas,"repeat");return le.setTransform(ce),le}}function H({src:re,srcPos:W=0,dest:$,width:Z,height:K,nonBlackColor:Q=4294967295,inverseDecode:ae=!1}){const ce=b.FeatureTest.isLittleEndian?4278190080:255,[le,ge]=ae?[Q,ce]:[ce,Q],pe=Z>>3,ye=Z&7,ve=re.length;$=new Uint32Array($.buffer);let be=0;for(let me=0;me<K;me++){for(const Re=W+pe;W<Re;W++){const ke=W<ve?re[W]:255;$[be++]=ke&128?ge:le,$[be++]=ke&64?ge:le,$[be++]=ke&32?ge:le,$[be++]=ke&16?ge:le,$[be++]=ke&8?ge:le,$[be++]=ke&4?ge:le,$[be++]=ke&2?ge:le,$[be++]=ke&1?ge:le}if(ye===0)continue;const Fe=W<ve?re[W++]:255;for(let Re=0;Re<ye;Re++)$[be++]=Fe&1<<7-Re?ge:le}return{srcPos:W,destPos:be}}const V=16,z=100,G=4096,X=15,Y=10,J=1e3,ee=16;function ie(re,W){if(re._removeMirroring)throw new Error("Context is already forwarding operations.");re.__originalSave=re.save,re.__originalRestore=re.restore,re.__originalRotate=re.rotate,re.__originalScale=re.scale,re.__originalTranslate=re.translate,re.__originalTransform=re.transform,re.__originalSetTransform=re.setTransform,re.__originalResetTransform=re.resetTransform,re.__originalClip=re.clip,re.__originalMoveTo=re.moveTo,re.__originalLineTo=re.lineTo,re.__originalBezierCurveTo=re.bezierCurveTo,re.__originalRect=re.rect,re.__originalClosePath=re.closePath,re.__originalBeginPath=re.beginPath,re._removeMirroring=()=>{re.save=re.__originalSave,re.restore=re.__originalRestore,re.rotate=re.__originalRotate,re.scale=re.__originalScale,re.translate=re.__originalTranslate,re.transform=re.__originalTransform,re.setTransform=re.__originalSetTransform,re.resetTransform=re.__originalResetTransform,re.clip=re.__originalClip,re.moveTo=re.__originalMoveTo,re.lineTo=re.__originalLineTo,re.bezierCurveTo=re.__originalBezierCurveTo,re.rect=re.__originalRect,re.closePath=re.__originalClosePath,re.beginPath=re.__originalBeginPath,delete re._removeMirroring},re.save=function(){W.save(),this.__originalSave()},re.restore=function(){W.restore(),this.__originalRestore()},re.translate=function(Z,K){W.translate(Z,K),this.__originalTranslate(Z,K)},re.scale=function(Z,K){W.scale(Z,K),this.__originalScale(Z,K)},re.transform=function(Z,K,Q,ae,ce,le){W.transform(Z,K,Q,ae,ce,le),this.__originalTransform(Z,K,Q,ae,ce,le)},re.setTransform=function(Z,K,Q,ae,ce,le){W.setTransform(Z,K,Q,ae,ce,le),this.__originalSetTransform(Z,K,Q,ae,ce,le)},re.resetTransform=function(){W.resetTransform(),this.__originalResetTransform()},re.rotate=function(Z){W.rotate(Z),this.__originalRotate(Z)},re.clip=function(Z){W.clip(Z),this.__originalClip(Z)},re.moveTo=function($,Z){W.moveTo($,Z),this.__originalMoveTo($,Z)},re.lineTo=function($,Z){W.lineTo($,Z),this.__originalLineTo($,Z)},re.bezierCurveTo=function($,Z,K,Q,ae,ce){W.bezierCurveTo($,Z,K,Q,ae,ce),this.__originalBezierCurveTo($,Z,K,Q,ae,ce)},re.rect=function($,Z,K,Q){W.rect($,Z,K,Q),this.__originalRect($,Z,K,Q)},re.closePath=function(){W.closePath(),this.__originalClosePath()},re.beginPath=function(){W.beginPath(),this.__originalBeginPath()}}class oe{constructor(W){this.canvasFactory=W,this.cache=Object.create(null)}getCanvas(W,$,Z){let K;return this.cache[W]!==void 0?(K=this.cache[W],this.canvasFactory.reset(K,$,Z)):(K=this.canvasFactory.create($,Z),this.cache[W]=K),K}delete(W){delete this.cache[W]}clear(){for(const W in this.cache){const $=this.cache[W];this.canvasFactory.destroy($),delete this.cache[W]}}}function he(re,W,$,Z,K,Q,ae,ce,le,ge){const[pe,ye,ve,be,me,Fe]=(0,S.getCurrentTransform)(re);if(ye===0&&ve===0){const je=ae*pe+me,ue=Math.round(je),ne=ce*be+Fe,se=Math.round(ne),Ae=(ae+le)*pe+me,_e=Math.abs(Math.round(Ae)-ue)||1,Be=(ce+ge)*be+Fe,He=Math.abs(Math.round(Be)-se)||1;return re.setTransform(Math.sign(pe),0,0,Math.sign(be),ue,se),re.drawImage(W,$,Z,K,Q,0,0,_e,He),re.setTransform(pe,ye,ve,be,me,Fe),[_e,He]}if(pe===0&&be===0){const je=ce*ve+me,ue=Math.round(je),ne=ae*ye+Fe,se=Math.round(ne),Ae=(ce+ge)*ve+me,_e=Math.abs(Math.round(Ae)-ue)||1,Be=(ae+le)*ye+Fe,He=Math.abs(Math.round(Be)-se)||1;return re.setTransform(0,Math.sign(ye),Math.sign(ve),0,ue,se),re.drawImage(W,$,Z,K,Q,0,0,He,_e),re.setTransform(pe,ye,ve,be,me,Fe),[He,_e]}re.drawImage(W,$,Z,K,Q,ae,ce,le,ge);const Re=Math.hypot(pe,ye),ke=Math.hypot(ve,be);return[Re*le,ke*ge]}function fe(re){const{width:W,height:$}=re;if(W>J||$>J)return null;const Z=1e3,K=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Q=W+1;let ae=new Uint8Array(Q*($+1)),ce,le,ge;const pe=W+7&-8;let ye=new Uint8Array(pe*$),ve=0;for(const ke of re.data){let je=128;for(;je>0;)ye[ve++]=ke&je?0:255,je>>=1}let be=0;for(ve=0,ye[ve]!==0&&(ae[0]=1,++be),le=1;le<W;le++)ye[ve]!==ye[ve+1]&&(ae[le]=ye[ve]?2:1,++be),ve++;for(ye[ve]!==0&&(ae[le]=2,++be),ce=1;ce<$;ce++){ve=ce*pe,ge=ce*Q,ye[ve-pe]!==ye[ve]&&(ae[ge]=ye[ve]?1:8,++be);let ke=(ye[ve]?4:0)+(ye[ve-pe]?8:0);for(le=1;le<W;le++)ke=(ke>>2)+(ye[ve+1]?4:0)+(ye[ve-pe+1]?8:0),K[ke]&&(ae[ge+le]=K[ke],++be),ve++;if(ye[ve-pe]!==ye[ve]&&(ae[ge+le]=ye[ve]?2:4,++be),be>Z)return null}for(ve=pe*($-1),ge=ce*Q,ye[ve]!==0&&(ae[ge]=8,++be),le=1;le<W;le++)ye[ve]!==ye[ve+1]&&(ae[ge+le]=ye[ve]?4:8,++be),ve++;if(ye[ve]!==0&&(ae[ge+le]=4,++be),be>Z)return null;const me=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]),Fe=new Path2D;for(ce=0;be&&ce<=$;ce++){let ke=ce*Q;const je=ke+W;for(;ke<je&&!ae[ke];)ke++;if(ke===je)continue;Fe.moveTo(ke%Q,ce);const ue=ke;let ne=ae[ke];do{const se=me[ne];do ke+=se;while(!ae[ke]);const Ae=ae[ke];Ae!==5&&Ae!==10?(ne=Ae,ae[ke]=0):(ne=Ae&51*ne>>4,ae[ke]&=ne>>2|ne<<2),Fe.lineTo(ke%Q,ke/Q|0),ae[ke]||--be}while(ue!==ke);--ce}return ye=null,ae=null,function(ke){ke.save(),ke.scale(1/W,-1/$),ke.translate(0,-$),ke.fill(Fe),ke.beginPath(),ke.restore()}}class Se{constructor(W,$){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=b.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=b.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,W,$])}clone(){const W=Object.create(this);return W.clipBox=this.clipBox.slice(),W}setCurrentPoint(W,$){this.x=W,this.y=$}updatePathMinMax(W,$,Z){[$,Z]=b.Util.applyTransform([$,Z],W),this.minX=Math.min(this.minX,$),this.minY=Math.min(this.minY,Z),this.maxX=Math.max(this.maxX,$),this.maxY=Math.max(this.maxY,Z)}updateRectMinMax(W,$){const Z=b.Util.applyTransform($,W),K=b.Util.applyTransform($.slice(2),W),Q=b.Util.applyTransform([$[0],$[3]],W),ae=b.Util.applyTransform([$[2],$[1]],W);this.minX=Math.min(this.minX,Z[0],K[0],Q[0],ae[0]),this.minY=Math.min(this.minY,Z[1],K[1],Q[1],ae[1]),this.maxX=Math.max(this.maxX,Z[0],K[0],Q[0],ae[0]),this.maxY=Math.max(this.maxY,Z[1],K[1],Q[1],ae[1])}updateScalingPathMinMax(W,$){b.Util.scaleMinMax(W,$),this.minX=Math.min(this.minX,$[0]),this.maxX=Math.max(this.maxX,$[1]),this.minY=Math.min(this.minY,$[2]),this.maxY=Math.max(this.maxY,$[3])}updateCurvePathMinMax(W,$,Z,K,Q,ae,ce,le,ge,pe){const ye=b.Util.bezierBoundingBox($,Z,K,Q,ae,ce,le,ge);if(pe){pe[0]=Math.min(pe[0],ye[0],ye[2]),pe[1]=Math.max(pe[1],ye[0],ye[2]),pe[2]=Math.min(pe[2],ye[1],ye[3]),pe[3]=Math.max(pe[3],ye[1],ye[3]);return}this.updateRectMinMax(W,ye)}getPathBoundingBox(W=w.FILL,$=null){const Z=[this.minX,this.minY,this.maxX,this.maxY];if(W===w.STROKE){$||(0,b.unreachable)("Stroke bounding box must include transform.");const K=b.Util.singularValueDecompose2dScale($),Q=K[0]*this.lineWidth/2,ae=K[1]*this.lineWidth/2;Z[0]-=Q,Z[1]-=ae,Z[2]+=Q,Z[3]+=ae}return Z}updateClipFromPath(){const W=b.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(W||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(W){this.clipBox=W,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(W=w.FILL,$=null){return b.Util.intersect(this.clipBox,this.getPathBoundingBox(W,$))}}function we(re,W){if(typeof ImageData<"u"&&W instanceof ImageData){re.putImageData(W,0,0);return}const $=W.height,Z=W.width,K=$%ee,Q=($-K)/ee,ae=K===0?Q:Q+1,ce=re.createImageData(Z,ee);let le=0,ge;const pe=W.data,ye=ce.data;let ve,be,me,Fe;if(W.kind===b.ImageKind.GRAYSCALE_1BPP){const Re=pe.byteLength,ke=new Uint32Array(ye.buffer,0,ye.byteLength>>2),je=ke.length,ue=Z+7>>3,ne=4294967295,se=b.FeatureTest.isLittleEndian?4278190080:255;for(ve=0;ve<ae;ve++){for(me=ve<Q?ee:K,ge=0,be=0;be<me;be++){const Ae=Re-le;let _e=0;const Be=Ae>ue?Z:Ae*8-7,He=Be&-8;let Ue=0,ze=0;for(;_e<He;_e+=8)ze=pe[le++],ke[ge++]=ze&128?ne:se,ke[ge++]=ze&64?ne:se,ke[ge++]=ze&32?ne:se,ke[ge++]=ze&16?ne:se,ke[ge++]=ze&8?ne:se,ke[ge++]=ze&4?ne:se,ke[ge++]=ze&2?ne:se,ke[ge++]=ze&1?ne:se;for(;_e<Be;_e++)Ue===0&&(ze=pe[le++],Ue=128),ke[ge++]=ze&Ue?ne:se,Ue>>=1}for(;ge<je;)ke[ge++]=0;re.putImageData(ce,0,ve*ee)}}else if(W.kind===b.ImageKind.RGBA_32BPP){for(be=0,Fe=Z*ee*4,ve=0;ve<Q;ve++)ye.set(pe.subarray(le,le+Fe)),le+=Fe,re.putImageData(ce,0,be),be+=ee;ve<ae&&(Fe=Z*K*4,ye.set(pe.subarray(le,le+Fe)),re.putImageData(ce,0,be))}else if(W.kind===b.ImageKind.RGB_24BPP)for(me=ee,Fe=Z*me,ve=0;ve<ae;ve++){for(ve>=Q&&(me=K,Fe=Z*me),ge=0,be=Fe;be--;)ye[ge++]=pe[le++],ye[ge++]=pe[le++],ye[ge++]=pe[le++],ye[ge++]=255;re.putImageData(ce,0,ve*ee)}else throw new Error(`bad image kind: ${W.kind}`)}function Ee(re,W){if(W.bitmap){re.drawImage(W.bitmap,0,0);return}const $=W.height,Z=W.width,K=$%ee,Q=($-K)/ee,ae=K===0?Q:Q+1,ce=re.createImageData(Z,ee);let le=0;const ge=W.data,pe=ce.data;for(let ye=0;ye<ae;ye++){const ve=ye<Q?ee:K;({srcPos:le}=H({src:ge,srcPos:le,dest:pe,width:Z,height:ve,nonBlackColor:0})),re.putImageData(ce,0,ye*ee)}}function de(re,W){const $=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Z of $)re[Z]!==void 0&&(W[Z]=re[Z]);re.setLineDash!==void 0&&(W.setLineDash(re.getLineDash()),W.lineDashOffset=re.lineDashOffset)}function xe(re){if(re.strokeStyle=re.fillStyle="#000000",re.fillRule="nonzero",re.globalAlpha=1,re.lineWidth=1,re.lineCap="butt",re.lineJoin="miter",re.miterLimit=10,re.globalCompositeOperation="source-over",re.font="10px sans-serif",re.setLineDash!==void 0&&(re.setLineDash([]),re.lineDashOffset=0),!b.isNodeJS){const{filter:W}=re;W!=="none"&&W!==""&&(re.filter="none")}}function Te(re,W,$,Z){const K=re.length;for(let Q=3;Q<K;Q+=4){const ae=re[Q];if(ae===0)re[Q-3]=W,re[Q-2]=$,re[Q-1]=Z;else if(ae<255){const ce=255-ae;re[Q-3]=re[Q-3]*ae+W*ce>>8,re[Q-2]=re[Q-2]*ae+$*ce>>8,re[Q-1]=re[Q-1]*ae+Z*ce>>8}}}function Oe(re,W,$){const Z=re.length,K=1/255;for(let Q=3;Q<Z;Q+=4){const ae=$?$[re[Q]]:re[Q];W[Q]=W[Q]*ae*K|0}}function Ne(re,W,$){const Z=re.length;for(let K=3;K<Z;K+=4){const Q=re[K-3]*77+re[K-2]*152+re[K-1]*28;W[K]=$?W[K]*$[Q>>8]>>8:W[K]*Q>>16}}function Le(re,W,$,Z,K,Q,ae,ce,le,ge,pe){const ye=!!Q,ve=ye?Q[0]:0,be=ye?Q[1]:0,me=ye?Q[2]:0,Fe=K==="Luminosity"?Ne:Oe,ke=Math.min(Z,Math.ceil(1048576/$));for(let je=0;je<Z;je+=ke){const ue=Math.min(ke,Z-je),ne=re.getImageData(ce-ge,je+(le-pe),$,ue),se=W.getImageData(ce,je+le,$,ue);ye&&Te(ne.data,ve,be,me),Fe(ne.data,se.data,ae),W.putImageData(se,ce,je+le)}}function Me(re,W,$,Z){const K=Z[0],Q=Z[1],ae=Z[2]-K,ce=Z[3]-Q;ae===0||ce===0||(Le(W.context,$,ae,ce,W.subtype,W.backdrop,W.transferMap,K,Q,W.offsetX,W.offsetY),re.save(),re.globalAlpha=1,re.globalCompositeOperation="source-over",re.setTransform(1,0,0,1,0,0),re.drawImage($.canvas,0,0),re.restore())}function Ie(re,W){const $=b.Util.singularValueDecompose2dScale(re);$[0]=Math.fround($[0]),$[1]=Math.fround($[1]);const Z=Math.fround((globalThis.devicePixelRatio||1)*S.PixelsPerInch.PDF_TO_CSS_UNITS);return W!==void 0?W:$[0]<=Z||$[1]<=Z}const Ve=["butt","round","square"],De=["miter","round","bevel"],Pe={},Ce={};class te{constructor(W,$,Z,K,Q,{optionalContentConfig:ae,markedContentStack:ce=null},le,ge){this.ctx=W,this.current=new Se(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=$,this.objs=Z,this.canvasFactory=K,this.filterFactory=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ce||[],this.optionalContentConfig=ae,this.cachedCanvases=new oe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=le,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ge,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(W,$=null){return typeof W=="string"?W.startsWith("g_")?this.commonObjs.get(W):this.objs.get(W):$}beginDrawing({transform:W,viewport:$,transparency:Z=!1,background:K=null}){const Q=this.ctx.canvas.width,ae=this.ctx.canvas.height,ce=this.ctx.fillStyle;if(this.ctx.fillStyle=K||"#ffffff",this.ctx.fillRect(0,0,Q,ae),this.ctx.fillStyle=ce,Z){const le=this.cachedCanvases.getCanvas("transparent",Q,ae);this.compositeCtx=this.ctx,this.transparentCanvas=le.canvas,this.ctx=le.context,this.ctx.save(),this.ctx.transform(...(0,S.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),xe(this.ctx),W&&(this.ctx.transform(...W),this.outputScaleX=W[0],this.outputScaleY=W[0]),this.ctx.transform(...$.transform),this.viewportScale=$.scale,this.baseTransform=(0,S.getCurrentTransform)(this.ctx)}executeOperatorList(W,$,Z,K){const Q=W.argsArray,ae=W.fnArray;let ce=$||0;const le=Q.length;if(le===ce)return ce;const ge=le-ce>Y&&typeof Z=="function",pe=ge?Date.now()+X:0;let ye=0;const ve=this.commonObjs,be=this.objs;let me;for(;;){if(K!==void 0&&ce===K.nextBreakPoint)return K.breakIt(ce,Z),ce;if(me=ae[ce],me!==b.OPS.dependency)this[me].apply(this,Q[ce]);else for(const Fe of Q[ce]){const Re=Fe.startsWith("g_")?ve:be;if(!Re.has(Fe))return Re.get(Fe,Z),ce}if(ce++,ce===le)return ce;if(ge&&++ye>Y){if(Date.now()>pe)return Z(),ce;ye=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const W of this._cachedBitmapsMap.values()){for(const $ of W.values())typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement&&($.width=$.height=0);W.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const W=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(W!=="none"){const $=this.ctx.filter;this.ctx.filter=W,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=$}}}_scaleImage(W,$){const Z=W.width,K=W.height;let Q=Math.max(Math.hypot($[0],$[1]),1),ae=Math.max(Math.hypot($[2],$[3]),1),ce=Z,le=K,ge="prescale1",pe,ye;for(;Q>2&&ce>1||ae>2&&le>1;){let ve=ce,be=le;Q>2&&ce>1&&(ve=ce>=16384?Math.floor(ce/2)-1||1:Math.ceil(ce/2),Q/=ce/ve),ae>2&&le>1&&(be=le>=16384?Math.floor(le/2)-1||1:Math.ceil(le)/2,ae/=le/be),pe=this.cachedCanvases.getCanvas(ge,ve,be),ye=pe.context,ye.clearRect(0,0,ve,be),ye.drawImage(W,0,0,ce,le,0,0,ve,be),W=pe.canvas,ce=ve,le=be,ge=ge==="prescale1"?"prescale2":"prescale1"}return{img:W,paintWidth:ce,paintHeight:le}}_createMaskCanvas(W){const $=this.ctx,{width:Z,height:K}=W,Q=this.current.fillColor,ae=this.current.patternFill,ce=(0,S.getCurrentTransform)($);let le,ge,pe,ye;if((W.bitmap||W.data)&&W.count>1){const Be=W.bitmap||W.data.buffer;ge=JSON.stringify(ae?ce:[ce.slice(0,4),Q]),le=this._cachedBitmapsMap.get(Be),le||(le=new Map,this._cachedBitmapsMap.set(Be,le));const He=le.get(ge);if(He&&!ae){const Ue=Math.round(Math.min(ce[0],ce[2])+ce[4]),ze=Math.round(Math.min(ce[1],ce[3])+ce[5]);return{canvas:He,offsetX:Ue,offsetY:ze}}pe=He}pe||(ye=this.cachedCanvases.getCanvas("maskCanvas",Z,K),Ee(ye.context,W));let ve=b.Util.transform(ce,[1/Z,0,0,-1/K,0,0]);ve=b.Util.transform(ve,[1,0,0,1,0,-K]);const[be,me,Fe,Re]=b.Util.getAxialAlignedBoundingBox([0,0,Z,K],ve),ke=Math.round(Fe-be)||1,je=Math.round(Re-me)||1,ue=this.cachedCanvases.getCanvas("fillCanvas",ke,je),ne=ue.context,se=be,Ae=me;ne.translate(-se,-Ae),ne.transform(...ve),pe||(pe=this._scaleImage(ye.canvas,(0,S.getCurrentTransformInverse)(ne)),pe=pe.img,le&&ae&&le.set(ge,pe)),ne.imageSmoothingEnabled=Ie((0,S.getCurrentTransform)(ne),W.interpolate),he(ne,pe,0,0,pe.width,pe.height,0,0,Z,K),ne.globalCompositeOperation="source-in";const _e=b.Util.transform((0,S.getCurrentTransformInverse)(ne),[1,0,0,1,-se,-Ae]);return ne.fillStyle=ae?Q.getPattern($,this,_e,w.FILL):Q,ne.fillRect(0,0,Z,K),le&&!ae&&(this.cachedCanvases.delete("fillCanvas"),le.set(ge,ue.canvas)),{canvas:ue.canvas,offsetX:Math.round(se),offsetY:Math.round(Ae)}}setLineWidth(W){W!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=W,this.ctx.lineWidth=W}setLineCap(W){this.ctx.lineCap=Ve[W]}setLineJoin(W){this.ctx.lineJoin=De[W]}setMiterLimit(W){this.ctx.miterLimit=W}setDash(W,$){const Z=this.ctx;Z.setLineDash!==void 0&&(Z.setLineDash(W),Z.lineDashOffset=$)}setRenderingIntent(W){}setFlatness(W){}setGState(W){for(const[$,Z]of W)switch($){case"LW":this.setLineWidth(Z);break;case"LC":this.setLineCap(Z);break;case"LJ":this.setLineJoin(Z);break;case"ML":this.setMiterLimit(Z);break;case"D":this.setDash(Z[0],Z[1]);break;case"RI":this.setRenderingIntent(Z);break;case"FL":this.setFlatness(Z);break;case"Font":this.setFont(Z[0],Z[1]);break;case"CA":this.current.strokeAlpha=Z;break;case"ca":this.current.fillAlpha=Z,this.ctx.globalAlpha=Z;break;case"BM":this.ctx.globalCompositeOperation=Z;break;case"SMask":this.current.activeSMask=Z?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Z);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const W=this.inSMaskMode;this.current.activeSMask&&!W?this.beginSMaskMode():!this.current.activeSMask&&W&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const W=this.ctx.canvas.width,$=this.ctx.canvas.height,Z="smaskGroupAt"+this.groupLevel,K=this.cachedCanvases.getCanvas(Z,W,$);this.suspendedCtx=this.ctx,this.ctx=K.context;const Q=this.ctx;Q.setTransform(...(0,S.getCurrentTransform)(this.suspendedCtx)),de(this.suspendedCtx,Q),ie(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),de(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(W){if(!this.current.activeSMask)return;W?(W[0]=Math.floor(W[0]),W[1]=Math.floor(W[1]),W[2]=Math.ceil(W[2]),W[3]=Math.ceil(W[3])):W=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const $=this.current.activeSMask,Z=this.suspendedCtx;Me(Z,$,this.ctx,W),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(de(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const W=this.current;this.stateStack.push(W),this.current=W.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),de(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(W,$,Z,K,Q,ae){this.ctx.transform(W,$,Z,K,Q,ae),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(W,$,Z){const K=this.ctx,Q=this.current;let ae=Q.x,ce=Q.y,le,ge;const pe=(0,S.getCurrentTransform)(K),ye=pe[0]===0&&pe[3]===0||pe[1]===0&&pe[2]===0,ve=ye?Z.slice(0):null;for(let be=0,me=0,Fe=W.length;be<Fe;be++)switch(W[be]|0){case b.OPS.rectangle:ae=$[me++],ce=$[me++];const Re=$[me++],ke=$[me++],je=ae+Re,ue=ce+ke;K.moveTo(ae,ce),Re===0||ke===0?K.lineTo(je,ue):(K.lineTo(je,ce),K.lineTo(je,ue),K.lineTo(ae,ue)),ye||Q.updateRectMinMax(pe,[ae,ce,je,ue]),K.closePath();break;case b.OPS.moveTo:ae=$[me++],ce=$[me++],K.moveTo(ae,ce),ye||Q.updatePathMinMax(pe,ae,ce);break;case b.OPS.lineTo:ae=$[me++],ce=$[me++],K.lineTo(ae,ce),ye||Q.updatePathMinMax(pe,ae,ce);break;case b.OPS.curveTo:le=ae,ge=ce,ae=$[me+4],ce=$[me+5],K.bezierCurveTo($[me],$[me+1],$[me+2],$[me+3],ae,ce),Q.updateCurvePathMinMax(pe,le,ge,$[me],$[me+1],$[me+2],$[me+3],ae,ce,ve),me+=6;break;case b.OPS.curveTo2:le=ae,ge=ce,K.bezierCurveTo(ae,ce,$[me],$[me+1],$[me+2],$[me+3]),Q.updateCurvePathMinMax(pe,le,ge,ae,ce,$[me],$[me+1],$[me+2],$[me+3],ve),ae=$[me+2],ce=$[me+3],me+=4;break;case b.OPS.curveTo3:le=ae,ge=ce,ae=$[me+2],ce=$[me+3],K.bezierCurveTo($[me],$[me+1],ae,ce,ae,ce),Q.updateCurvePathMinMax(pe,le,ge,$[me],$[me+1],ae,ce,ae,ce,ve),me+=4;break;case b.OPS.closePath:K.closePath();break}ye&&Q.updateScalingPathMinMax(pe,ve),Q.setCurrentPoint(ae,ce)}closePath(){this.ctx.closePath()}stroke(W=!0){const $=this.ctx,Z=this.current.strokeColor;$.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Z=="object"&&Z?.getPattern?($.save(),$.strokeStyle=Z.getPattern($,this,(0,S.getCurrentTransformInverse)($),w.STROKE),this.rescaleAndStroke(!1),$.restore()):this.rescaleAndStroke(!0)),W&&this.consumePath(this.current.getClippedPathBoundingBox()),$.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(W=!0){const $=this.ctx,Z=this.current.fillColor,K=this.current.patternFill;let Q=!1;K&&($.save(),$.fillStyle=Z.getPattern($,this,(0,S.getCurrentTransformInverse)($),w.FILL),Q=!0);const ae=this.current.getClippedPathBoundingBox();this.contentVisible&&ae!==null&&(this.pendingEOFill?($.fill("evenodd"),this.pendingEOFill=!1):$.fill()),Q&&$.restore(),W&&this.consumePath(ae)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pe}eoClip(){this.pendingClip=Ce}beginText(){this.current.textMatrix=b.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const W=this.pendingTextPaths,$=this.ctx;if(W===void 0){$.beginPath();return}$.save(),$.beginPath();for(const Z of W)$.setTransform(...Z.transform),$.translate(Z.x,Z.y),Z.addToPath($,Z.fontSize);$.restore(),$.clip(),$.beginPath(),delete this.pendingTextPaths}setCharSpacing(W){this.current.charSpacing=W}setWordSpacing(W){this.current.wordSpacing=W}setHScale(W){this.current.textHScale=W/100}setLeading(W){this.current.leading=-W}setFont(W,$){const Z=this.commonObjs.get(W),K=this.current;if(!Z)throw new Error(`Can't find font for ${W}`);if(K.fontMatrix=Z.fontMatrix||b.FONT_IDENTITY_MATRIX,(K.fontMatrix[0]===0||K.fontMatrix[3]===0)&&(0,b.warn)("Invalid font matrix for font "+W),$<0?($=-$,K.fontDirection=-1):K.fontDirection=1,this.current.font=Z,this.current.fontSize=$,Z.isType3Font)return;const Q=Z.loadedName||"sans-serif",ae=Z.systemFontInfo?.css||`"${Q}", ${Z.fallbackName}`;let ce="normal";Z.black?ce="900":Z.bold&&(ce="bold");const le=Z.italic?"italic":"normal";let ge=$;$<V?ge=V:$>z&&(ge=z),this.current.fontSizeScale=$/ge,this.ctx.font=`${le} ${ce} ${ge}px ${ae}`}setTextRenderingMode(W){this.current.textRenderingMode=W}setTextRise(W){this.current.textRise=W}moveText(W,$){this.current.x=this.current.lineX+=W,this.current.y=this.current.lineY+=$}setLeadingMoveText(W,$){this.setLeading(-$),this.moveText(W,$)}setTextMatrix(W,$,Z,K,Q,ae){this.current.textMatrix=[W,$,Z,K,Q,ae],this.current.textMatrixScale=Math.hypot(W,$),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(W,$,Z,K){const Q=this.ctx,ae=this.current,ce=ae.font,le=ae.textRenderingMode,ge=ae.fontSize/ae.fontSizeScale,pe=le&b.TextRenderingMode.FILL_STROKE_MASK,ye=!!(le&b.TextRenderingMode.ADD_TO_PATH_FLAG),ve=ae.patternFill&&!ce.missingFile;let be;(ce.disableFontFace||ye||ve)&&(be=ce.getPathGenerator(this.commonObjs,W)),ce.disableFontFace||ve?(Q.save(),Q.translate($,Z),Q.beginPath(),be(Q,ge),K&&Q.setTransform(...K),(pe===b.TextRenderingMode.FILL||pe===b.TextRenderingMode.FILL_STROKE)&&Q.fill(),(pe===b.TextRenderingMode.STROKE||pe===b.TextRenderingMode.FILL_STROKE)&&Q.stroke(),Q.restore()):((pe===b.TextRenderingMode.FILL||pe===b.TextRenderingMode.FILL_STROKE)&&Q.fillText(W,$,Z),(pe===b.TextRenderingMode.STROKE||pe===b.TextRenderingMode.FILL_STROKE)&&Q.strokeText(W,$,Z)),ye&&(this.pendingTextPaths||=[]).push({transform:(0,S.getCurrentTransform)(Q),x:$,y:Z,fontSize:ge,addToPath:be})}get isFontSubpixelAAEnabled(){const{context:W}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);W.scale(1.5,1),W.fillText("I",0,10);const $=W.getImageData(0,0,10,10).data;let Z=!1;for(let K=3;K<$.length;K+=4)if($[K]>0&&$[K]<255){Z=!0;break}return(0,b.shadow)(this,"isFontSubpixelAAEnabled",Z)}showText(W){const $=this.current,Z=$.font;if(Z.isType3Font)return this.showType3Text(W);const K=$.fontSize;if(K===0)return;const Q=this.ctx,ae=$.fontSizeScale,ce=$.charSpacing,le=$.wordSpacing,ge=$.fontDirection,pe=$.textHScale*ge,ye=W.length,ve=Z.vertical,be=ve?1:-1,me=Z.defaultVMetrics,Fe=K*$.fontMatrix[0],Re=$.textRenderingMode===b.TextRenderingMode.FILL&&!Z.disableFontFace&&!$.patternFill;Q.save(),Q.transform(...$.textMatrix),Q.translate($.x,$.y+$.textRise),ge>0?Q.scale(pe,-1):Q.scale(pe,1);let ke;if($.patternFill){Q.save();const Ae=$.fillColor.getPattern(Q,this,(0,S.getCurrentTransformInverse)(Q),w.FILL);ke=(0,S.getCurrentTransform)(Q),Q.restore(),Q.fillStyle=Ae}let je=$.lineWidth;const ue=$.textMatrixScale;if(ue===0||je===0){const Ae=$.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;(Ae===b.TextRenderingMode.STROKE||Ae===b.TextRenderingMode.FILL_STROKE)&&(je=this.getSinglePixelWidth())}else je/=ue;if(ae!==1&&(Q.scale(ae,ae),je/=ae),Q.lineWidth=je,Z.isInvalidPDFjsFont){const Ae=[];let _e=0;for(const Be of W)Ae.push(Be.unicode),_e+=Be.width;Q.fillText(Ae.join(""),0,0),$.x+=_e*Fe*pe,Q.restore(),this.compose();return}let ne=0,se;for(se=0;se<ye;++se){const Ae=W[se];if(typeof Ae=="number"){ne+=be*Ae*K/1e3;continue}let _e=!1;const Be=(Ae.isSpace?le:0)+ce,He=Ae.fontChar,Ue=Ae.accent;let ze,Ge,Xe=Ae.width;if(ve){const qe=Ae.vmetric||me,Ke=-(Ae.vmetric?qe[1]:Xe*.5)*Fe,Ye=qe[2]*Fe;Xe=qe?-qe[0]:Xe,ze=Ke/ae,Ge=(ne+Ye)/ae}else ze=ne/ae,Ge=0;if(Z.remeasure&&Xe>0){const qe=Q.measureText(He).width*1e3/K*ae;if(Xe<qe&&this.isFontSubpixelAAEnabled){const Ke=Xe/qe;_e=!0,Q.save(),Q.scale(Ke,1),ze/=Ke}else Xe!==qe&&(ze+=(Xe-qe)/2e3*K/ae)}if(this.contentVisible&&(Ae.isInFont||Z.missingFile)){if(Re&&!Ue)Q.fillText(He,ze,Ge);else if(this.paintChar(He,ze,Ge,ke),Ue){const qe=ze+K*Ue.offset.x/ae,Ke=Ge-K*Ue.offset.y/ae;this.paintChar(Ue.fontChar,qe,Ke,ke)}}const $e=ve?Xe*Fe-Be*ge:Xe*Fe+Be*ge;ne+=$e,_e&&Q.restore()}ve?$.y-=ne:$.x+=ne*pe,Q.restore(),this.compose()}showType3Text(W){const $=this.ctx,Z=this.current,K=Z.font,Q=Z.fontSize,ae=Z.fontDirection,ce=K.vertical?1:-1,le=Z.charSpacing,ge=Z.wordSpacing,pe=Z.textHScale*ae,ye=Z.fontMatrix||b.FONT_IDENTITY_MATRIX,ve=W.length,be=Z.textRenderingMode===b.TextRenderingMode.INVISIBLE;let me,Fe,Re,ke;if(!(be||Q===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,$.save(),$.transform(...Z.textMatrix),$.translate(Z.x,Z.y),$.scale(pe,ae),me=0;me<ve;++me){if(Fe=W[me],typeof Fe=="number"){ke=ce*Fe*Q/1e3,this.ctx.translate(ke,0),Z.x+=ke*pe;continue}const je=(Fe.isSpace?ge:0)+le,ue=K.charProcOperatorList[Fe.operatorListId];if(!ue){(0,b.warn)(`Type3 character "${Fe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Fe,this.save(),$.scale(Q,Q),$.transform(...ye),this.executeOperatorList(ue),this.restore()),Re=b.Util.applyTransform([Fe.width,0],ye)[0]*Q+je,$.translate(Re,0),Z.x+=Re*pe}$.restore(),this.processingType3=null}}setCharWidth(W,$){}setCharWidthAndBounds(W,$,Z,K,Q,ae){this.ctx.rect(Z,K,Q-Z,ae-K),this.ctx.clip(),this.endPath()}getColorN_Pattern(W){let $;if(W[0]==="TilingPattern"){const Z=W[1],K=this.baseTransform||(0,S.getCurrentTransform)(this.ctx),Q={createCanvasGraphics:ae=>new te(ae,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};$=new j(W,Z,this.ctx,Q,K)}else $=this._getPattern(W[1],W[2]);return $}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(W,$,Z){const K=b.Util.makeHexColor(W,$,Z);this.ctx.strokeStyle=K,this.current.strokeColor=K}setFillRGBColor(W,$,Z){const K=b.Util.makeHexColor(W,$,Z);this.ctx.fillStyle=K,this.current.fillColor=K,this.current.patternFill=!1}_getPattern(W,$=null){let Z;return this.cachedPatterns.has(W)?Z=this.cachedPatterns.get(W):(Z=R(this.getObject(W)),this.cachedPatterns.set(W,Z)),$&&(Z.matrix=$),Z}shadingFill(W){if(!this.contentVisible)return;const $=this.ctx;this.save();const Z=this._getPattern(W);$.fillStyle=Z.getPattern($,this,(0,S.getCurrentTransformInverse)($),w.SHADING);const K=(0,S.getCurrentTransformInverse)($);if(K){const{width:Q,height:ae}=$.canvas,[ce,le,ge,pe]=b.Util.getAxialAlignedBoundingBox([0,0,Q,ae],K);this.ctx.fillRect(ce,le,ge-ce,pe-le)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,b.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,b.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(W,$){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(W)&&W.length===6&&this.transform(...W),this.baseTransform=(0,S.getCurrentTransform)(this.ctx),$)){const Z=$[2]-$[0],K=$[3]-$[1];this.ctx.rect($[0],$[1],Z,K),this.current.updateRectMinMax((0,S.getCurrentTransform)(this.ctx),$),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(W){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const $=this.ctx;W.isolated||(0,b.info)("TODO: Support non-isolated groups."),W.knockout&&(0,b.warn)("Knockout groups not supported.");const Z=(0,S.getCurrentTransform)($);if(W.matrix&&$.transform(...W.matrix),!W.bbox)throw new Error("Bounding box is required.");let K=b.Util.getAxialAlignedBoundingBox(W.bbox,(0,S.getCurrentTransform)($));const Q=[0,0,$.canvas.width,$.canvas.height];K=b.Util.intersect(K,Q)||[0,0,0,0];const ae=Math.floor(K[0]),ce=Math.floor(K[1]);let le=Math.max(Math.ceil(K[2])-ae,1),ge=Math.max(Math.ceil(K[3])-ce,1),pe=1,ye=1;le>G&&(pe=le/G,le=G),ge>G&&(ye=ge/G,ge=G),this.current.startNewPathAndClipBox([0,0,le,ge]);let ve="groupAt"+this.groupLevel;W.smask&&(ve+="_smask_"+this.smaskCounter++%2);const be=this.cachedCanvases.getCanvas(ve,le,ge),me=be.context;me.scale(1/pe,1/ye),me.translate(-ae,-ce),me.transform(...Z),W.smask?this.smaskStack.push({canvas:be.canvas,context:me,offsetX:ae,offsetY:ce,scaleX:pe,scaleY:ye,subtype:W.smask.subtype,backdrop:W.smask.backdrop,transferMap:W.smask.transferMap||null,startTransformInverse:null}):($.setTransform(1,0,0,1,0,0),$.translate(ae,ce),$.scale(pe,ye),$.save()),de($,me),this.ctx=me,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push($),this.groupLevel++}endGroup(W){if(!this.contentVisible)return;this.groupLevel--;const $=this.ctx,Z=this.groupStack.pop();if(this.ctx=Z,this.ctx.imageSmoothingEnabled=!1,W.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const K=(0,S.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...K);const Q=b.Util.getAxialAlignedBoundingBox([0,0,$.canvas.width,$.canvas.height],K);this.ctx.drawImage($.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotation(W,$,Z,K,Q){if(this.#e(),xe(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray($)&&$.length===4){const ae=$[2]-$[0],ce=$[3]-$[1];if(Q&&this.annotationCanvasMap){Z=Z.slice(),Z[4]-=$[0],Z[5]-=$[1],$=$.slice(),$[0]=$[1]=0,$[2]=ae,$[3]=ce;const[le,ge]=b.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(this.ctx)),{viewportScale:pe}=this,ye=Math.ceil(ae*this.outputScaleX*pe),ve=Math.ceil(ce*this.outputScaleY*pe);this.annotationCanvas=this.canvasFactory.create(ye,ve);const{canvas:be,context:me}=this.annotationCanvas;this.annotationCanvasMap.set(W,be),this.annotationCanvas.savedCtx=this.ctx,this.ctx=me,this.ctx.save(),this.ctx.setTransform(le,0,0,-ge,0,ce*ge),xe(this.ctx)}else xe(this.ctx),this.ctx.rect($[0],$[1],ae,ce),this.ctx.clip(),this.endPath()}this.current=new Se(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Z),this.transform(...K)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(W){if(!this.contentVisible)return;const $=W.count;W=this.getObject(W.data,W),W.count=$;const Z=this.ctx,K=this.processingType3;if(K&&(K.compiled===void 0&&(K.compiled=fe(W)),K.compiled)){K.compiled(Z);return}const Q=this._createMaskCanvas(W),ae=Q.canvas;Z.save(),Z.setTransform(1,0,0,1,0,0),Z.drawImage(ae,Q.offsetX,Q.offsetY),Z.restore(),this.compose()}paintImageMaskXObjectRepeat(W,$,Z=0,K=0,Q,ae){if(!this.contentVisible)return;W=this.getObject(W.data,W);const ce=this.ctx;ce.save();const le=(0,S.getCurrentTransform)(ce);ce.transform($,Z,K,Q,0,0);const ge=this._createMaskCanvas(W);ce.setTransform(1,0,0,1,ge.offsetX-le[4],ge.offsetY-le[5]);for(let pe=0,ye=ae.length;pe<ye;pe+=2){const ve=b.Util.transform(le,[$,Z,K,Q,ae[pe],ae[pe+1]]),[be,me]=b.Util.applyTransform([0,0],ve);ce.drawImage(ge.canvas,be,me)}ce.restore(),this.compose()}paintImageMaskXObjectGroup(W){if(!this.contentVisible)return;const $=this.ctx,Z=this.current.fillColor,K=this.current.patternFill;for(const Q of W){const{data:ae,width:ce,height:le,transform:ge}=Q,pe=this.cachedCanvases.getCanvas("maskCanvas",ce,le),ye=pe.context;ye.save();const ve=this.getObject(ae,Q);Ee(ye,ve),ye.globalCompositeOperation="source-in",ye.fillStyle=K?Z.getPattern(ye,this,(0,S.getCurrentTransformInverse)($),w.FILL):Z,ye.fillRect(0,0,ce,le),ye.restore(),$.save(),$.transform(...ge),$.scale(1,-1),he($,pe.canvas,0,0,ce,le,0,-1,1,1),$.restore()}this.compose()}paintImageXObject(W){if(!this.contentVisible)return;const $=this.getObject(W);if(!$){(0,b.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject($)}paintImageXObjectRepeat(W,$,Z,K){if(!this.contentVisible)return;const Q=this.getObject(W);if(!Q){(0,b.warn)("Dependent image isn't ready yet");return}const ae=Q.width,ce=Q.height,le=[];for(let ge=0,pe=K.length;ge<pe;ge+=2)le.push({transform:[$,0,0,Z,K[ge],K[ge+1]],x:0,y:0,w:ae,h:ce});this.paintInlineImageXObjectGroup(Q,le)}applyTransferMapsToCanvas(W){return this.current.transferMaps!=="none"&&(W.filter=this.current.transferMaps,W.drawImage(W.canvas,0,0),W.filter="none"),W.canvas}applyTransferMapsToBitmap(W){if(this.current.transferMaps==="none")return W.bitmap;const{bitmap:$,width:Z,height:K}=W,Q=this.cachedCanvases.getCanvas("inlineImage",Z,K),ae=Q.context;return ae.filter=this.current.transferMaps,ae.drawImage($,0,0),ae.filter="none",Q.canvas}paintInlineImageXObject(W){if(!this.contentVisible)return;const $=W.width,Z=W.height,K=this.ctx;if(this.save(),!b.isNodeJS){const{filter:ce}=K;ce!=="none"&&ce!==""&&(K.filter="none")}K.scale(1/$,-1/Z);let Q;if(W.bitmap)Q=this.applyTransferMapsToBitmap(W);else if(typeof HTMLElement=="function"&&W instanceof HTMLElement||!W.data)Q=W;else{const le=this.cachedCanvases.getCanvas("inlineImage",$,Z).context;we(le,W),Q=this.applyTransferMapsToCanvas(le)}const ae=this._scaleImage(Q,(0,S.getCurrentTransformInverse)(K));K.imageSmoothingEnabled=Ie((0,S.getCurrentTransform)(K),W.interpolate),he(K,ae.img,0,0,ae.paintWidth,ae.paintHeight,0,-Z,$,Z),this.compose(),this.restore()}paintInlineImageXObjectGroup(W,$){if(!this.contentVisible)return;const Z=this.ctx;let K;if(W.bitmap)K=W.bitmap;else{const Q=W.width,ae=W.height,le=this.cachedCanvases.getCanvas("inlineImage",Q,ae).context;we(le,W),K=this.applyTransferMapsToCanvas(le)}for(const Q of $)Z.save(),Z.transform(...Q.transform),Z.scale(1,-1),he(Z,K,Q.x,Q.y,Q.w,Q.h,0,-1,1,1),Z.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(W){}markPointProps(W,$){}beginMarkedContent(W){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(W,$){W==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible($)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(W){const $=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(W);const Z=this.ctx;this.pendingClip&&($||(this.pendingClip===Ce?Z.clip("evenodd"):Z.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Z.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const W=(0,S.getCurrentTransform)(this.ctx);if(W[1]===0&&W[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(W[0]),Math.abs(W[3]));else{const $=Math.abs(W[0]*W[3]-W[2]*W[1]),Z=Math.hypot(W[0],W[2]),K=Math.hypot(W[1],W[3]);this._cachedGetSinglePixelWidth=Math.max(Z,K)/$}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:W}=this.current,{a:$,b:Z,c:K,d:Q}=this.ctx.getTransform();let ae,ce;if(Z===0&&K===0){const le=Math.abs($),ge=Math.abs(Q);if(le===ge)if(W===0)ae=ce=1/le;else{const pe=le*W;ae=ce=pe<1?1/pe:1}else if(W===0)ae=1/le,ce=1/ge;else{const pe=le*W,ye=ge*W;ae=pe<1?1/pe:1,ce=ye<1?1/ye:1}}else{const le=Math.abs($*Q-Z*K),ge=Math.hypot($,Z),pe=Math.hypot(K,Q);if(W===0)ae=pe/le,ce=ge/le;else{const ye=W*le;ae=pe>ye?pe/ye:1,ce=ge>ye?ge/ye:1}}this._cachedScaleForStroking[0]=ae,this._cachedScaleForStroking[1]=ce}return this._cachedScaleForStroking}rescaleAndStroke(W){const{ctx:$}=this,{lineWidth:Z}=this.current,[K,Q]=this.getScaleForStroking();if($.lineWidth=Z||1,K===1&&Q===1){$.stroke();return}const ae=$.getLineDash();if(W&&$.save(),$.scale(K,Q),ae.length>0){const ce=Math.max(K,Q);$.setLineDash(ae.map(le=>le/ce)),$.lineDashOffset/=ce}$.stroke(),W&&$.restore()}isContentVisible(){for(let W=this.markedContentStack.length-1;W>=0;W--)if(!this.markedContentStack[W].visible)return!1;return!0}}for(const re in b.OPS)te.prototype[re]!==void 0&&(te.prototype[b.OPS[re]]=te.prototype[re])},473:(g,d,x)=>{x.d(d,{DOMCMapReaderFactory:()=>D,DOMCanvasFactory:()=>E,DOMFilterFactory:()=>F,DOMSVGFactory:()=>L,DOMStandardFontDataFactory:()=>M,PDFDateString:()=>ee,PageViewport:()=>R,PixelsPerInch:()=>C,RenderingCancelledException:()=>U,StatTimer:()=>G,fetchData:()=>k,getColorValues:()=>he,getCurrentTransform:()=>fe,getCurrentTransformInverse:()=>Se,getFilenameFromUrl:()=>V,getPdfFilenameFromUrl:()=>z,getRGB:()=>oe,getXfaPageViewport:()=>ie,isDataScheme:()=>j,isPdfFile:()=>H,isValidFetchUrl:()=>X,noContextMenu:()=>Y,setLayerDimensions:()=>we});var b=x(822),S=x(266);const w="http://www.w3.org/2000/svg";class C{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class F extends b.BaseFilterFactory{#e;#t;#n;#r;#s;#i;#c;#l;#o;#u;#a=0;constructor({docId:de,ownerDocument:xe=globalThis.document}={}){super(),this.#n=de,this.#r=xe}get#f(){return this.#e||=new Map}get#h(){if(!this.#t){const de=this.#r.createElement("div"),{style:xe}=de;xe.visibility="hidden",xe.contain="strict",xe.width=xe.height=0,xe.position="absolute",xe.top=xe.left=0,xe.zIndex=-1;const Te=this.#r.createElementNS(w,"svg");Te.setAttribute("width",0),Te.setAttribute("height",0),this.#t=this.#r.createElementNS(w,"defs"),de.append(Te),Te.append(this.#t),this.#r.body.append(de)}return this.#t}addFilter(de){if(!de)return"none";let xe=this.#f.get(de);if(xe)return xe;let Te,Oe,Ne,Le;if(de.length===1){const De=de[0],Pe=new Array(256);for(let Ce=0;Ce<256;Ce++)Pe[Ce]=De[Ce]/255;Le=Te=Oe=Ne=Pe.join(",")}else{const[De,Pe,Ce]=de,te=new Array(256),re=new Array(256),W=new Array(256);for(let $=0;$<256;$++)te[$]=De[$]/255,re[$]=Pe[$]/255,W[$]=Ce[$]/255;Te=te.join(","),Oe=re.join(","),Ne=W.join(","),Le=`${Te}${Oe}${Ne}`}if(xe=this.#f.get(Le),xe)return this.#f.set(de,xe),xe;const Me=`g_${this.#n}_transfer_map_${this.#a++}`,Ie=`url(#${Me})`;this.#f.set(de,Ie),this.#f.set(Le,Ie);const Ve=this.#g(Me);return this.#x(Te,Oe,Ne,Ve),Ie}addHCMFilter(de,xe){const Te=`${de}-${xe}`;if(this.#i===Te)return this.#c;if(this.#i=Te,this.#c="none",this.#s?.remove(),!de||!xe)return this.#c;const Oe=this.#m(de);de=S.Util.makeHexColor(...Oe);const Ne=this.#m(xe);if(xe=S.Util.makeHexColor(...Ne),this.#h.style.color="",de==="#000000"&&xe==="#ffffff"||de===xe)return this.#c;const Le=new Array(256);for(let Pe=0;Pe<=255;Pe++){const Ce=Pe/255;Le[Pe]=Ce<=.03928?Ce/12.92:((Ce+.055)/1.055)**2.4}const Me=Le.join(","),Ie=`g_${this.#n}_hcm_filter`,Ve=this.#l=this.#g(Ie);this.#x(Me,Me,Me,Ve),this.#p(Ve);const De=(Pe,Ce)=>{const te=Oe[Pe]/255,re=Ne[Pe]/255,W=new Array(Ce+1);for(let $=0;$<=Ce;$++)W[$]=te+$/Ce*(re-te);return W.join(",")};return this.#x(De(0,5),De(1,5),De(2,5),Ve),this.#c=`url(#${Ie})`,this.#c}addHighlightHCMFilter(de,xe,Te,Oe){const Ne=`${de}-${xe}-${Te}-${Oe}`;if(this.#o===Ne)return this.#u;if(this.#o=Ne,this.#u="none",this.#l?.remove(),!de||!xe)return this.#u;const[Le,Me]=[de,xe].map(this.#m.bind(this));let Ie=Math.round(.2126*Le[0]+.7152*Le[1]+.0722*Le[2]),Ve=Math.round(.2126*Me[0]+.7152*Me[1]+.0722*Me[2]),[De,Pe]=[Te,Oe].map(this.#m.bind(this));Ve<Ie&&([Ie,Ve,De,Pe]=[Ve,Ie,Pe,De]),this.#h.style.color="";const Ce=(W,$,Z)=>{const K=new Array(256),Q=(Ve-Ie)/Z,ae=W/255,ce=($-W)/(255*Z);let le=0;for(let ge=0;ge<=Z;ge++){const pe=Math.round(Ie+ge*Q),ye=ae+ge*ce;for(let ve=le;ve<=pe;ve++)K[ve]=ye;le=pe+1}for(let ge=le;ge<256;ge++)K[ge]=K[le-1];return K.join(",")},te=`g_${this.#n}_hcm_highlight_filter`,re=this.#l=this.#g(te);return this.#p(re),this.#x(Ce(De[0],Pe[0],5),Ce(De[1],Pe[1],5),Ce(De[2],Pe[2],5),re),this.#u=`url(#${te})`,this.#u}destroy(de=!1){de&&(this.#c||this.#u)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#a=0)}#p(de){const xe=this.#r.createElementNS(w,"feColorMatrix");xe.setAttribute("type","matrix"),xe.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),de.append(xe)}#g(de){const xe=this.#r.createElementNS(w,"filter");return xe.setAttribute("color-interpolation-filters","sRGB"),xe.setAttribute("id",de),this.#h.append(xe),xe}#b(de,xe,Te){const Oe=this.#r.createElementNS(w,xe);Oe.setAttribute("type","discrete"),Oe.setAttribute("tableValues",Te),de.append(Oe)}#x(de,xe,Te,Oe){const Ne=this.#r.createElementNS(w,"feComponentTransfer");Oe.append(Ne),this.#b(Ne,"feFuncR",de),this.#b(Ne,"feFuncG",xe),this.#b(Ne,"feFuncB",Te)}#m(de){return this.#h.style.color=de,oe(getComputedStyle(this.#h).getPropertyValue("color"))}}class E extends b.BaseCanvasFactory{constructor({ownerDocument:de=globalThis.document}={}){super(),this._document=de}_createCanvas(de,xe){const Te=this._document.createElement("canvas");return Te.width=de,Te.height=xe,Te}}async function k(Ee,de="text"){if(X(Ee,document.baseURI)){const xe=await fetch(Ee);if(!xe.ok)throw new Error(xe.statusText);switch(de){case"arraybuffer":return xe.arrayBuffer();case"blob":return xe.blob();case"json":return xe.json()}return xe.text()}return new Promise((xe,Te)=>{const Oe=new XMLHttpRequest;Oe.open("GET",Ee,!0),Oe.responseType=de,Oe.onreadystatechange=()=>{if(Oe.readyState===XMLHttpRequest.DONE){if(Oe.status===200||Oe.status===0){let Ne;switch(de){case"arraybuffer":case"blob":case"json":Ne=Oe.response;break;default:Ne=Oe.responseText;break}if(Ne){xe(Ne);return}}Te(new Error(Oe.statusText))}},Oe.send(null)})}class D extends b.BaseCMapReaderFactory{_fetchData(de,xe){return k(de,this.isCompressed?"arraybuffer":"text").then(Te=>({cMapData:Te instanceof ArrayBuffer?new Uint8Array(Te):(0,S.stringToBytes)(Te),compressionType:xe}))}}class M extends b.BaseStandardFontDataFactory{_fetchData(de){return k(de,"arraybuffer").then(xe=>new Uint8Array(xe))}}class L extends b.BaseSVGFactory{_createSVG(de){return document.createElementNS(w,de)}}class R{constructor({viewBox:de,scale:xe,rotation:Te,offsetX:Oe=0,offsetY:Ne=0,dontFlip:Le=!1}){this.viewBox=de,this.scale=xe,this.rotation=Te,this.offsetX=Oe,this.offsetY=Ne;const Me=(de[2]+de[0])/2,Ie=(de[3]+de[1])/2;let Ve,De,Pe,Ce;switch(Te%=360,Te<0&&(Te+=360),Te){case 180:Ve=-1,De=0,Pe=0,Ce=1;break;case 90:Ve=0,De=1,Pe=1,Ce=0;break;case 270:Ve=0,De=-1,Pe=-1,Ce=0;break;case 0:Ve=1,De=0,Pe=0,Ce=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Le&&(Pe=-Pe,Ce=-Ce);let te,re,W,$;Ve===0?(te=Math.abs(Ie-de[1])*xe+Oe,re=Math.abs(Me-de[0])*xe+Ne,W=(de[3]-de[1])*xe,$=(de[2]-de[0])*xe):(te=Math.abs(Me-de[0])*xe+Oe,re=Math.abs(Ie-de[1])*xe+Ne,W=(de[2]-de[0])*xe,$=(de[3]-de[1])*xe),this.transform=[Ve*xe,De*xe,Pe*xe,Ce*xe,te-Ve*xe*Me-Pe*xe*Ie,re-De*xe*Me-Ce*xe*Ie],this.width=W,this.height=$}get rawDims(){const{viewBox:de}=this;return(0,S.shadow)(this,"rawDims",{pageWidth:de[2]-de[0],pageHeight:de[3]-de[1],pageX:de[0],pageY:de[1]})}clone({scale:de=this.scale,rotation:xe=this.rotation,offsetX:Te=this.offsetX,offsetY:Oe=this.offsetY,dontFlip:Ne=!1}={}){return new R({viewBox:this.viewBox.slice(),scale:de,rotation:xe,offsetX:Te,offsetY:Oe,dontFlip:Ne})}convertToViewportPoint(de,xe){return S.Util.applyTransform([de,xe],this.transform)}convertToViewportRectangle(de){const xe=S.Util.applyTransform([de[0],de[1]],this.transform),Te=S.Util.applyTransform([de[2],de[3]],this.transform);return[xe[0],xe[1],Te[0],Te[1]]}convertToPdfPoint(de,xe){return S.Util.applyInverseTransform([de,xe],this.transform)}}class U extends S.BaseException{constructor(de,xe=0){super(de,"RenderingCancelledException"),this.extraDelay=xe}}function j(Ee){const de=Ee.length;let xe=0;for(;xe<de&&Ee[xe].trim()==="";)xe++;return Ee.substring(xe,xe+5).toLowerCase()==="data:"}function H(Ee){return typeof Ee=="string"&&/\.pdf$/i.test(Ee)}function V(Ee,de=!1){return de||([Ee]=Ee.split(/[#?]/,1)),Ee.substring(Ee.lastIndexOf("/")+1)}function z(Ee,de="document.pdf"){if(typeof Ee!="string")return de;if(j(Ee))return(0,S.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),de;const xe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Te=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Oe=xe.exec(Ee);let Ne=Te.exec(Oe[1])||Te.exec(Oe[2])||Te.exec(Oe[3]);if(Ne&&(Ne=Ne[0],Ne.includes("%")))try{Ne=Te.exec(decodeURIComponent(Ne))[0]}catch{}return Ne||de}class G{started=Object.create(null);times=[];time(de){de in this.started&&(0,S.warn)(`Timer is already running for ${de}`),this.started[de]=Date.now()}timeEnd(de){de in this.started||(0,S.warn)(`Timer has not been started for ${de}`),this.times.push({name:de,start:this.started[de],end:Date.now()}),delete this.started[de]}toString(){const de=[];let xe=0;for(const{name:Te}of this.times)xe=Math.max(Te.length,xe);for(const{name:Te,start:Oe,end:Ne}of this.times)de.push(`${Te.padEnd(xe)} ${Ne-Oe}ms
`);return de.join("")}}function X(Ee,de){try{const{protocol:xe}=de?new URL(Ee,de):new URL(Ee);return xe==="http:"||xe==="https:"}catch{return!1}}function Y(Ee){Ee.preventDefault()}let J;class ee{static toDateObject(de){if(!de||typeof de!="string")return null;J||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const xe=J.exec(de);if(!xe)return null;const Te=parseInt(xe[1],10);let Oe=parseInt(xe[2],10);Oe=Oe>=1&&Oe<=12?Oe-1:0;let Ne=parseInt(xe[3],10);Ne=Ne>=1&&Ne<=31?Ne:1;let Le=parseInt(xe[4],10);Le=Le>=0&&Le<=23?Le:0;let Me=parseInt(xe[5],10);Me=Me>=0&&Me<=59?Me:0;let Ie=parseInt(xe[6],10);Ie=Ie>=0&&Ie<=59?Ie:0;const Ve=xe[7]||"Z";let De=parseInt(xe[8],10);De=De>=0&&De<=23?De:0;let Pe=parseInt(xe[9],10)||0;return Pe=Pe>=0&&Pe<=59?Pe:0,Ve==="-"?(Le+=De,Me+=Pe):Ve==="+"&&(Le-=De,Me-=Pe),new Date(Date.UTC(Te,Oe,Ne,Le,Me,Ie))}}function ie(Ee,{scale:de=1,rotation:xe=0}){const{width:Te,height:Oe}=Ee.attributes.style,Ne=[0,0,parseInt(Te),parseInt(Oe)];return new R({viewBox:Ne,scale:de,rotation:xe})}function oe(Ee){if(Ee.startsWith("#")){const de=parseInt(Ee.slice(1),16);return[(de&16711680)>>16,(de&65280)>>8,de&255]}return Ee.startsWith("rgb(")?Ee.slice(4,-1).split(",").map(de=>parseInt(de)):Ee.startsWith("rgba(")?Ee.slice(5,-1).split(",").map(de=>parseInt(de)).slice(0,3):((0,S.warn)(`Not a valid color format: "${Ee}"`),[0,0,0])}function he(Ee){const de=document.createElement("span");de.style.visibility="hidden",document.body.append(de);for(const xe of Ee.keys()){de.style.color=xe;const Te=window.getComputedStyle(de).color;Ee.set(xe,oe(Te))}de.remove()}function fe(Ee){const{a:de,b:xe,c:Te,d:Oe,e:Ne,f:Le}=Ee.getTransform();return[de,xe,Te,Oe,Ne,Le]}function Se(Ee){const{a:de,b:xe,c:Te,d:Oe,e:Ne,f:Le}=Ee.getTransform().invertSelf();return[de,xe,Te,Oe,Ne,Le]}function we(Ee,de,xe=!1,Te=!0){if(de instanceof R){const{pageWidth:Oe,pageHeight:Ne}=de.rawDims,{style:Le}=Ee,Me=S.FeatureTest.isCSSRoundSupported,Ie=`var(--scale-factor) * ${Oe}px`,Ve=`var(--scale-factor) * ${Ne}px`,De=Me?`round(${Ie}, 1px)`:`calc(${Ie})`,Pe=Me?`round(${Ve}, 1px)`:`calc(${Ve})`;!xe||de.rotation%180===0?(Le.width=De,Le.height=Pe):(Le.width=Pe,Le.height=De)}Te&&Ee.setAttribute("data-main-rotation",de.rotation)}},423:(g,d,x)=>{x.d(d,{DrawLayer:()=>w});var b=x(473),S=x(266);class w{#e=null;#t=0;#n=new Map;constructor({pageIndex:F}){this.pageIndex=F}setParent(F){if(!this.#e){this.#e=F;return}if(this.#e!==F){if(this.#n.size>0)for(const E of this.#n.values())E.remove(),F.append(E);this.#e=F}}static get _svgFactory(){return(0,S.shadow)(this,"_svgFactory",new b.DOMSVGFactory)}static#r(F,{x:E,y:k,width:D,height:M}){const{style:L}=F;L.top=`${100*k}%`,L.left=`${100*E}%`,L.width=`${100*D}%`,L.height=`${100*M}%`}#s(F){const E=w._svgFactory.create(1,1,!0);return this.#e.append(E),w.#r(E,F),E}highlight({outlines:F,box:E},k,D){const M=this.#t++,L=this.#s(E);L.classList.add("highlight");const R=w._svgFactory.createElement("defs");L.append(R);const U=w._svgFactory.createElement("path");R.append(U);const j=`path_p${this.pageIndex}_${M}`;U.setAttribute("id",j),U.setAttribute("d",w.#i(F));const H=w._svgFactory.createElement("clipPath");R.append(H);const V=`clip_${j}`;H.setAttribute("id",V),H.setAttribute("clipPathUnits","objectBoundingBox");const z=w._svgFactory.createElement("use");H.append(z),z.setAttribute("href",`#${j}`),z.classList.add("clip");const G=w._svgFactory.createElement("use");return L.append(G),L.setAttribute("fill",k),L.setAttribute("fill-opacity",D),G.setAttribute("href",`#${j}`),this.#n.set(M,L),{id:M,clipPathId:`url(#${V})`}}highlightOutline({outlines:F,box:E}){const k=this.#t++,D=this.#s(E);D.classList.add("highlightOutline");const M=w._svgFactory.createElement("defs");D.append(M);const L=w._svgFactory.createElement("path");M.append(L);const R=`path_p${this.pageIndex}_${k}`;L.setAttribute("id",R),L.setAttribute("d",w.#i(F)),L.setAttribute("vector-effect","non-scaling-stroke");const U=w._svgFactory.createElement("use");D.append(U),U.setAttribute("href",`#${R}`);const j=U.cloneNode();return D.append(j),U.classList.add("mainOutline"),j.classList.add("secondaryOutline"),this.#n.set(k,D),k}static#i(F){const E=[];for(const k of F){let[D,M]=k;E.push(`M${D} ${M}`);for(let L=2;L<k.length;L+=2){const R=k[L],U=k[L+1];R===D?(E.push(`V${U}`),M=U):U===M&&(E.push(`H${R}`),D=R)}E.push("Z")}return E.join(" ")}updateBox(F,E){w.#r(this.#n.get(F),E)}rotate(F,E){this.#n.get(F).setAttribute("data-main-rotation",E)}changeColor(F,E){this.#n.get(F).setAttribute("fill",E)}changeOpacity(F,E){this.#n.get(F).setAttribute("fill-opacity",E)}addClass(F,E){this.#n.get(F).classList.add(E)}removeClass(F,E){this.#n.get(F).classList.remove(E)}remove(F){this.#n.get(F).remove(),this.#n.delete(F)}destroy(){this.#e=null;for(const F of this.#n.values())F.remove();this.#n.clear()}}},331:(g,d,x)=>{x.d(d,{AnnotationEditorLayer:()=>M});var b=x(266),S=x(796),w=x(812),C=x(640);class F extends S.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#s;#i="";#c=`${this.id}-editor`;#l;#o=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const R=F.prototype,U=V=>V.isEmpty(),j=w.AnnotationEditorUIManager.TRANSLATE_SMALL,H=w.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,b.shadow)(this,"_keyboardManager",new w.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],R.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],R.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],R._translateEmpty,{args:[-j,0],checker:U}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],R._translateEmpty,{args:[-H,0],checker:U}],[["ArrowRight","mac+ArrowRight"],R._translateEmpty,{args:[j,0],checker:U}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],R._translateEmpty,{args:[H,0],checker:U}],[["ArrowUp","mac+ArrowUp"],R._translateEmpty,{args:[0,-j],checker:U}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],R._translateEmpty,{args:[0,-H],checker:U}],[["ArrowDown","mac+ArrowDown"],R._translateEmpty,{args:[0,j],checker:U}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],R._translateEmpty,{args:[0,H],checker:U}]]))}static _type="freetext";static _editorType=b.AnnotationEditorType.FREETEXT;constructor(R){super({...R,name:"freeTextEditor"}),this.#s=R.color||F._defaultColor||S.AnnotationEditor._defaultLineColor,this.#l=R.fontSize||F._defaultFontSize}static initialize(R){S.AnnotationEditor.initialize(R,{strings:["pdfjs-free-text-default-content"]});const U=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(U.getPropertyValue("--freetext-padding"))}static updateDefaultParams(R,U){switch(R){case b.AnnotationEditorParamsType.FREETEXT_SIZE:F._defaultFontSize=U;break;case b.AnnotationEditorParamsType.FREETEXT_COLOR:F._defaultColor=U;break}}updateParams(R,U){switch(R){case b.AnnotationEditorParamsType.FREETEXT_SIZE:this.#u(U);break;case b.AnnotationEditorParamsType.FREETEXT_COLOR:this.#a(U);break}}static get defaultPropertiesToUpdate(){return[[b.AnnotationEditorParamsType.FREETEXT_SIZE,F._defaultFontSize],[b.AnnotationEditorParamsType.FREETEXT_COLOR,F._defaultColor||S.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[b.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[b.AnnotationEditorParamsType.FREETEXT_COLOR,this.#s]]}#u(R){const U=H=>{this.editorDiv.style.fontSize=`calc(${H}px * var(--scale-factor))`,this.translate(0,-(H-this.#l)*this.parentScale),this.#l=H,this.#h()},j=this.#l;this.addCommands({cmd:()=>{U(R)},undo:()=>{U(j)},mustExec:!0,type:b.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(R){const U=this.#s;this.addCommands({cmd:()=>{this.#s=this.editorDiv.style.color=R},undo:()=>{this.#s=this.editorDiv.style.color=U},mustExec:!0,type:b.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(R,U){this._uiManager.translateSelectedEditors(R,U,!0)}getInitialTranslation(){const R=this.parentScale;return[-F._internalPadding*R,-(F._internalPadding+this.#l)*R]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(b.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#c),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(R){this._focusEventsAllowed&&(super.focusin(R),R.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#b();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#f(){const R=this.editorDiv.getElementsByTagName("div");if(R.length===0)return this.editorDiv.innerText;const U=[];for(const j of R)U.push(j.innerText.replace(/\r\n?|\n/,""));return U.join(`
`)}#h(){const[R,U]=this.parentDimensions;let j;if(this.isAttachedToDOM)j=this.div.getBoundingClientRect();else{const{currentLayer:H,div:V}=this,z=V.style.display;V.style.display="hidden",H.div.append(this.div),j=V.getBoundingClientRect(),V.remove(),V.style.display=z}this.rotation%180===this.parentRotation%180?(this.width=j.width/R,this.height=j.height/U):(this.width=j.height/R,this.height=j.width/U),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const R=this.#i,U=this.#i=this.#f().trimEnd();if(R===U)return;const j=H=>{if(this.#i=H,!H){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{j(U)},undo:()=>{j(R)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(R){this.enterInEditMode()}keydown(R){R.target===this.div&&R.key==="Enter"&&(this.enterInEditMode(),R.preventDefault())}editorDivKeydown(R){F._keyboardManager.exec(this,R)}editorDivFocus(R){this.isEditing=!0}editorDivBlur(R){this.isEditing=!1}editorDivInput(R){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let R,U;this.width&&(R=this.x,U=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#c),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),S.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(H=>this.editorDiv?.setAttribute("default-content",H)),this.editorDiv.contentEditable=!0;const{style:j}=this.editorDiv;if(j.fontSize=`calc(${this.#l}px * var(--scale-factor))`,j.color=this.#s,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,w.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[H,V]=this.parentDimensions;if(this.annotationElementId){const{position:z}=this.#o;let[G,X]=this.getInitialTranslation();[G,X]=this.pageTranslationToScreen(G,X);const[Y,J]=this.pageDimensions,[ee,ie]=this.pageTranslation;let oe,he;switch(this.rotation){case 0:oe=R+(z[0]-ee)/Y,he=U+this.height-(z[1]-ie)/J;break;case 90:oe=R+(z[0]-ee)/Y,he=U-(z[1]-ie)/J,[G,X]=[X,-G];break;case 180:oe=R-this.width+(z[0]-ee)/Y,he=U-(z[1]-ie)/J,[G,X]=[-G,-X];break;case 270:oe=R+(z[0]-ee-this.height*J)/Y,he=U+(z[1]-ie-this.width*Y)/J,[G,X]=[-X,G];break}this.setAt(oe*H,he*V,G,X)}else this.setAt(R*H,U*V,this.width*H,this.height*V);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#i)for(const R of this.#i.split(`
`)){const U=document.createElement("div");U.append(R?document.createTextNode(R):document.createElement("br")),this.editorDiv.append(U)}}get contentDiv(){return this.editorDiv}static deserialize(R,U,j){let H=null;if(R instanceof C.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:z,fontColor:G},rect:X,rotation:Y,id:J},textContent:ee,textPosition:ie,parent:{page:{pageNumber:oe}}}=R;if(!ee||ee.length===0)return null;H=R={annotationType:b.AnnotationEditorType.FREETEXT,color:Array.from(G),fontSize:z,value:ee.join(`
`),position:ie,pageIndex:oe-1,rect:X,rotation:Y,id:J,deleted:!1}}const V=super.deserialize(R,U,j);return V.#l=R.fontSize,V.#s=b.Util.makeHexColor(...R.color),V.#i=R.value,V.annotationElementId=R.id||null,V.#o=H,V}serialize(R=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const U=F._internalPadding*this.parentScale,j=this.getRect(U,U),H=S.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#s),V={annotationType:b.AnnotationEditorType.FREETEXT,color:H,fontSize:this.#l,value:this.#i,pageIndex:this.pageIndex,rect:j,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return R?V:this.annotationElementId&&!this.#g(V)?null:(V.id=this.annotationElementId,V)}#g(R){const{value:U,fontSize:j,color:H,rect:V,pageIndex:z}=this.#o;return R.value!==U||R.fontSize!==j||R.rect.some((G,X)=>Math.abs(G-V[X])>=1)||R.color.some((G,X)=>G!==H[X])||R.pageIndex!==z}#b(R=!1){if(!this.annotationElementId)return;if(this.#h(),!R&&(this.width===0||this.height===0)){setTimeout(()=>this.#b(!0),0);return}const U=F._internalPadding*this.parentScale;this.#o.rect=this.getRect(U,U)}}var E=x(473);class k extends S.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#i=this.canvasPointerdown.bind(this);#c=null;#l=new Path2D;#o=!1;#u=!1;#a=!1;#f=null;#h=0;#p=0;#g=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=b.AnnotationEditorType.INK;constructor(R){super({...R,name:"inkEditor"}),this.color=R.color||null,this.thickness=R.thickness||null,this.opacity=R.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(R){S.AnnotationEditor.initialize(R)}static updateDefaultParams(R,U){switch(R){case b.AnnotationEditorParamsType.INK_THICKNESS:k._defaultThickness=U;break;case b.AnnotationEditorParamsType.INK_COLOR:k._defaultColor=U;break;case b.AnnotationEditorParamsType.INK_OPACITY:k._defaultOpacity=U/100;break}}updateParams(R,U){switch(R){case b.AnnotationEditorParamsType.INK_THICKNESS:this.#b(U);break;case b.AnnotationEditorParamsType.INK_COLOR:this.#x(U);break;case b.AnnotationEditorParamsType.INK_OPACITY:this.#m(U);break}}static get defaultPropertiesToUpdate(){return[[b.AnnotationEditorParamsType.INK_THICKNESS,k._defaultThickness],[b.AnnotationEditorParamsType.INK_COLOR,k._defaultColor||S.AnnotationEditor._defaultLineColor],[b.AnnotationEditorParamsType.INK_OPACITY,Math.round(k._defaultOpacity*100)]]}get propertiesToUpdate(){return[[b.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||k._defaultThickness],[b.AnnotationEditorParamsType.INK_COLOR,this.color||k._defaultColor||S.AnnotationEditor._defaultLineColor],[b.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??k._defaultOpacity))]]}#b(R){const U=this.thickness;this.addCommands({cmd:()=>{this.thickness=R,this.#D()},undo:()=>{this.thickness=U,this.#D()},mustExec:!0,type:b.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#x(R){const U=this.color;this.addCommands({cmd:()=>{this.color=R,this.#v()},undo:()=>{this.color=U,this.#v()},mustExec:!0,type:b.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(R){R/=100;const U=this.opacity;this.addCommands({cmd:()=>{this.opacity=R,this.#v()},undo:()=>{this.opacity=U,this.#v()},mustExec:!0,type:b.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#T(),this.#E()),this.isAttachedToDOM||(this.parent.add(this),this.#S()),this.#D()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#c&&(clearTimeout(this.#c),this.#c=null),this.#f.disconnect(),this.#f=null,super.remove())}setParent(R){!this.parent&&R?this._uiManager.removeShouldRescale(this):this.parent&&R===null&&this._uiManager.addShouldRescale(this),super.setParent(R)}onScaleChanging(){const[R,U]=this.parentDimensions,j=this.width*R,H=this.height*U;this.setDimensions(j,H)}enableEditMode(){this.#o||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#i))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#i))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#d(){const{parentRotation:R,parentDimensions:[U,j]}=this;switch(R){case 90:return[0,j,j,U];case 180:return[U,j,U,j];case 270:return[U,0,j,U];default:return[0,0,U,j]}}#y(){const{ctx:R,color:U,opacity:j,thickness:H,parentScale:V,scaleFactor:z}=this;R.lineWidth=H*V/z,R.lineCap="round",R.lineJoin="round",R.miterLimit=10,R.strokeStyle=`${U}${(0,w.opacityToHex)(j)}`}#F(R,U){this.canvas.addEventListener("contextmenu",E.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#s),this.canvas.removeEventListener("pointerdown",this.#i),this.isEditing=!0,this.#a||(this.#a=!0,this.#S(),this.thickness||=k._defaultThickness,this.color||=k._defaultColor||S.AnnotationEditor._defaultLineColor,this.opacity??=k._defaultOpacity),this.currentPath.push([R,U]),this.#u=!1,this.#y(),this.#g=()=>{this.#R(),this.#g&&window.requestAnimationFrame(this.#g)},window.requestAnimationFrame(this.#g)}#k(R,U){const[j,H]=this.currentPath.at(-1);if(this.currentPath.length>1&&R===j&&U===H)return;const V=this.currentPath;let z=this.#l;if(V.push([R,U]),this.#u=!0,V.length<=2){z.moveTo(...V[0]),z.lineTo(R,U);return}V.length===3&&(this.#l=z=new Path2D,z.moveTo(...V[0])),this.#M(z,...V.at(-3),...V.at(-2),R,U)}#O(){if(this.currentPath.length===0)return;const R=this.currentPath.at(-1);this.#l.lineTo(...R)}#_(R,U){this.#g=null,R=Math.min(Math.max(R,0),this.canvas.width),U=Math.min(Math.max(U,0),this.canvas.height),this.#k(R,U),this.#O();let j;if(this.currentPath.length!==1)j=this.#L();else{const X=[R,U];j=[[X,X.slice(),X.slice(),X]]}const H=this.#l,V=this.currentPath;this.currentPath=[],this.#l=new Path2D;const z=()=>{this.allRawPaths.push(V),this.paths.push(j),this.bezierPath2D.push(H),this.rebuild()},G=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#T(),this.#E()),this.#D())};this.addCommands({cmd:z,undo:G,mustExec:!0})}#R(){if(!this.#u)return;this.#u=!1;const R=Math.ceil(this.thickness*this.parentScale),U=this.currentPath.slice(-3),j=U.map(z=>z[0]),H=U.map(z=>z[1]);Math.min(...j)-R,Math.max(...j)+R,Math.min(...H)-R,Math.max(...H)+R;const{ctx:V}=this;V.save(),V.clearRect(0,0,this.canvas.width,this.canvas.height);for(const z of this.bezierPath2D)V.stroke(z);V.stroke(this.#l),V.restore()}#M(R,U,j,H,V,z,G){const X=(U+H)/2,Y=(j+V)/2,J=(H+z)/2,ee=(V+G)/2;R.bezierCurveTo(X+2*(H-X)/3,Y+2*(V-Y)/3,J+2*(H-J)/3,ee+2*(V-ee)/3,J,ee)}#L(){const R=this.currentPath;if(R.length<=2)return[[R[0],R[0],R.at(-1),R.at(-1)]];const U=[];let j,[H,V]=R[0];for(j=1;j<R.length-2;j++){const[ie,oe]=R[j],[he,fe]=R[j+1],Se=(ie+he)/2,we=(oe+fe)/2,Ee=[H+2*(ie-H)/3,V+2*(oe-V)/3],de=[Se+2*(ie-Se)/3,we+2*(oe-we)/3];U.push([[H,V],Ee,de,[Se,we]]),[H,V]=[Se,we]}const[z,G]=R[j],[X,Y]=R[j+1],J=[H+2*(z-H)/3,V+2*(G-V)/3],ee=[X+2*(z-X)/3,Y+2*(G-Y)/3];return U.push([[H,V],J,ee,[X,Y]]),U}#v(){if(this.isEmpty()){this.#A();return}this.#y();const{canvas:R,ctx:U}=this;U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,R.width,R.height),this.#A();for(const j of this.bezierPath2D)U.stroke(j)}commit(){this.#o||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#o=!0,this.div.classList.add("disabled"),this.#D(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(R){this._focusEventsAllowed&&(super.focusin(R),this.enableEditMode())}canvasPointerdown(R){R.button!==0||!this.isInEditMode()||this.#o||(this.setInForeground(),R.preventDefault(),R.pointerType!=="mouse"&&!this.div.contains(document.activeElement)&&this.div.focus({preventScroll:!0}),this.#F(R.offsetX,R.offsetY))}canvasPointermove(R){R.preventDefault(),this.#k(R.offsetX,R.offsetY)}canvasPointerup(R){R.preventDefault(),this.#I(R)}canvasPointerleave(R){this.#I(R)}#I(R){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#i),this.#c&&clearTimeout(this.#c),this.#c=setTimeout(()=>{this.#c=null,this.canvas.removeEventListener("contextmenu",E.noContextMenu)},10),this.#_(R.offsetX,R.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#T(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#E(){this.#f=new ResizeObserver(R=>{const U=R[0].contentRect;U.width&&U.height&&this.setDimensions(U.width,U.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#o}render(){if(this.div)return this.div;let R,U;this.width&&(R=this.x,U=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[j,H,V,z]=this.#d();if(this.setAt(j,H,0,0),this.setDims(V,z),this.#T(),this.width){const[G,X]=this.parentDimensions;this.setAspectRatio(this.width*G,this.height*X),this.setAt(R*G,U*X,this.width*G,this.height*X),this.#a=!0,this.#S(),this.setDims(this.width*G,this.height*X),this.#v(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#E(),this.div}#S(){if(!this.#a)return;const[R,U]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*R),this.canvas.height=Math.ceil(this.height*U),this.#A()}setDimensions(R,U){const j=Math.round(R),H=Math.round(U);if(this.#h===j&&this.#p===H)return;this.#h=j,this.#p=H,this.canvas.style.visibility="hidden";const[V,z]=this.parentDimensions;this.width=R/V,this.height=U/z,this.fixAndSetPosition(),this.#o&&this.#w(R,U),this.#S(),this.#v(),this.canvas.style.visibility="visible",this.fixDims()}#w(R,U){const j=this.#j(),H=(R-j)/this.#t,V=(U-j)/this.#e;this.scaleFactor=Math.min(H,V)}#A(){const R=this.#j()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+R,this.translationY*this.scaleFactor+R)}static#B(R){const U=new Path2D;for(let j=0,H=R.length;j<H;j++){const[V,z,G,X]=R[j];j===0&&U.moveTo(...V),U.bezierCurveTo(z[0],z[1],G[0],G[1],X[0],X[1])}return U}static#N(R,U,j){const[H,V,z,G]=U;switch(j){case 0:for(let X=0,Y=R.length;X<Y;X+=2)R[X]+=H,R[X+1]=G-R[X+1];break;case 90:for(let X=0,Y=R.length;X<Y;X+=2){const J=R[X];R[X]=R[X+1]+H,R[X+1]=J+V}break;case 180:for(let X=0,Y=R.length;X<Y;X+=2)R[X]=z-R[X],R[X+1]+=V;break;case 270:for(let X=0,Y=R.length;X<Y;X+=2){const J=R[X];R[X]=z-R[X+1],R[X+1]=G-J}break;default:throw new Error("Invalid rotation")}return R}static#P(R,U,j){const[H,V,z,G]=U;switch(j){case 0:for(let X=0,Y=R.length;X<Y;X+=2)R[X]-=H,R[X+1]=G-R[X+1];break;case 90:for(let X=0,Y=R.length;X<Y;X+=2){const J=R[X];R[X]=R[X+1]-V,R[X+1]=J-H}break;case 180:for(let X=0,Y=R.length;X<Y;X+=2)R[X]=z-R[X],R[X+1]-=V;break;case 270:for(let X=0,Y=R.length;X<Y;X+=2){const J=R[X];R[X]=G-R[X+1],R[X+1]=z-J}break;default:throw new Error("Invalid rotation")}return R}#H(R,U,j,H){const V=[],z=this.thickness/2,G=R*U+z,X=R*j+z;for(const Y of this.paths){const J=[],ee=[];for(let ie=0,oe=Y.length;ie<oe;ie++){const[he,fe,Se,we]=Y[ie],Ee=R*he[0]+G,de=R*he[1]+X,xe=R*fe[0]+G,Te=R*fe[1]+X,Oe=R*Se[0]+G,Ne=R*Se[1]+X,Le=R*we[0]+G,Me=R*we[1]+X;ie===0&&(J.push(Ee,de),ee.push(Ee,de)),J.push(xe,Te,Oe,Ne,Le,Me),ee.push(xe,Te),ie===oe-1&&ee.push(Le,Me)}V.push({bezier:k.#N(J,H,this.rotation),points:k.#N(ee,H,this.rotation)})}return V}#U(){let R=1/0,U=-1/0,j=1/0,H=-1/0;for(const V of this.paths)for(const[z,G,X,Y]of V){const J=b.Util.bezierBoundingBox(...z,...G,...X,...Y);R=Math.min(R,J[0]),j=Math.min(j,J[1]),U=Math.max(U,J[2]),H=Math.max(H,J[3])}return[R,j,U,H]}#j(){return this.#o?Math.ceil(this.thickness*this.parentScale):0}#D(R=!1){if(this.isEmpty())return;if(!this.#o){this.#v();return}const U=this.#U(),j=this.#j();this.#t=Math.max(S.AnnotationEditor.MIN_SIZE,U[2]-U[0]),this.#e=Math.max(S.AnnotationEditor.MIN_SIZE,U[3]-U[1]);const H=Math.ceil(j+this.#t*this.scaleFactor),V=Math.ceil(j+this.#e*this.scaleFactor),[z,G]=this.parentDimensions;this.width=H/z,this.height=V/G,this.setAspectRatio(H,V);const X=this.translationX,Y=this.translationY;this.translationX=-U[0],this.translationY=-U[1],this.#S(),this.#v(),this.#h=H,this.#p=V,this.setDims(H,V);const J=R?j/this.scaleFactor/2:0;this.translate(X-this.translationX-J,Y-this.translationY-J)}static deserialize(R,U,j){if(R instanceof C.InkAnnotationElement)return null;const H=super.deserialize(R,U,j);H.thickness=R.thickness,H.color=b.Util.makeHexColor(...R.color),H.opacity=R.opacity;const[V,z]=H.pageDimensions,G=H.width*V,X=H.height*z,Y=H.parentScale,J=R.thickness/2;H.#o=!0,H.#h=Math.round(G),H.#p=Math.round(X);const{paths:ee,rect:ie,rotation:oe}=R;for(let{bezier:fe}of ee){fe=k.#P(fe,ie,oe);const Se=[];H.paths.push(Se);let we=Y*(fe[0]-J),Ee=Y*(fe[1]-J);for(let xe=2,Te=fe.length;xe<Te;xe+=6){const Oe=Y*(fe[xe]-J),Ne=Y*(fe[xe+1]-J),Le=Y*(fe[xe+2]-J),Me=Y*(fe[xe+3]-J),Ie=Y*(fe[xe+4]-J),Ve=Y*(fe[xe+5]-J);Se.push([[we,Ee],[Oe,Ne],[Le,Me],[Ie,Ve]]),we=Ie,Ee=Ve}const de=this.#B(Se);H.bezierPath2D.push(de)}const he=H.#U();return H.#t=Math.max(S.AnnotationEditor.MIN_SIZE,he[2]-he[0]),H.#e=Math.max(S.AnnotationEditor.MIN_SIZE,he[3]-he[1]),H.#w(G,X),H}serialize(){if(this.isEmpty())return null;const R=this.getRect(0,0),U=S.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:b.AnnotationEditorType.INK,color:U,thickness:this.thickness,opacity:this.opacity,paths:this.#H(this.scaleFactor/this.parentScale,this.translationX,this.translationY,R),pageIndex:this.pageIndex,rect:R,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class D extends S.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#s=null;#i="";#c=null;#l=null;#o=null;#u=!1;#a=!1;static _type="stamp";static _editorType=b.AnnotationEditorType.STAMP;constructor(R){super({...R,name:"stampEditor"}),this.#r=R.bitmapUrl,this.#s=R.bitmapFile}static initialize(R){S.AnnotationEditor.initialize(R)}static get supportedTypes(){const R=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,b.shadow)(this,"supportedTypes",R.map(U=>`image/${U}`))}static get supportedTypesStr(){return(0,b.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(R){return this.supportedTypes.includes(R)}static paste(R,U){U.pasteEditor(b.AnnotationEditorType.STAMP,{bitmapFile:R.getAsFile()})}#f(R,U=!1){if(!R){this.remove();return}this.#e=R.bitmap,U||(this.#t=R.id,this.#u=R.isSvg),R.file&&(this.#i=R.file.name),this.#g()}#h(){this.#n=null,this._uiManager.enableWaiting(!1),this.#c&&this.div.focus()}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(U=>this.#f(U,!0)).finally(()=>this.#h());return}if(this.#r){const U=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(U).then(j=>this.#f(j)).finally(()=>this.#h());return}if(this.#s){const U=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(U).then(j=>this.#f(j)).finally(()=>this.#h());return}const R=document.createElement("input");R.type="file",R.accept=D.supportedTypesStr,this.#n=new Promise(U=>{R.addEventListener("change",async()=>{if(!R.files||R.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const j=await this._uiManager.imageManager.getFromFile(R.files[0]);this.#f(j)}U()}),R.addEventListener("cancel",()=>{this.remove(),U()})}).finally(()=>this.#h()),R.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#c?.remove(),this.#c=null,this.#l?.disconnect(),this.#l=null,this.#o&&(clearTimeout(this.#o),this.#o=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s)}get isResizable(){return!0}render(){if(this.div)return this.div;let R,U;if(this.width&&(R=this.x,U=this.y),super.render(),this.div.hidden=!0,this.#e?this.#g():this.#p(),this.width){const[j,H]=this.parentDimensions;this.setAt(R*j,U*H,this.width*j,this.height*H)}return this.div}#g(){const{div:R}=this;let{width:U,height:j}=this.#e;const[H,V]=this.pageDimensions,z=.75;if(this.width)U=this.width*H,j=this.height*V;else if(U>z*H||j>z*V){const J=Math.min(z*H/U,z*V/j);U*=J,j*=J}const[G,X]=this.parentDimensions;this.setDims(U*G/H,j*X/V),this._uiManager.enableWaiting(!1);const Y=this.#c=document.createElement("canvas");R.append(Y),R.hidden=!1,this.#m(U,j),this.#y(),this.#a||(this.parent.addUndoableEditor(this),this.#a=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),this.#i&&Y.setAttribute("aria-label",this.#i)}#b(R,U){const[j,H]=this.parentDimensions;this.width=R/j,this.height=U/H,this.setDims(R,U),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#o!==null&&clearTimeout(this.#o);const V=200;this.#o=setTimeout(()=>{this.#o=null,this.#m(R,U)},V)}#x(R,U){const{width:j,height:H}=this.#e;let V=j,z=H,G=this.#e;for(;V>2*R||z>2*U;){const X=V,Y=z;V>2*R&&(V=V>=16384?Math.floor(V/2)-1:Math.ceil(V/2)),z>2*U&&(z=z>=16384?Math.floor(z/2)-1:Math.ceil(z/2));const J=new OffscreenCanvas(V,z);J.getContext("2d").drawImage(G,0,0,X,Y,0,0,V,z),G=J.transferToImageBitmap()}return G}#m(R,U){R=Math.ceil(R),U=Math.ceil(U);const j=this.#c;if(!j||j.width===R&&j.height===U)return;j.width=R,j.height=U;const H=this.#u?this.#e:this.#x(R,U),V=j.getContext("2d");V.filter=this._uiManager.hcmFilter,V.drawImage(H,0,0,H.width,H.height,0,0,R,U)}getImageForAltText(){return this.#c}#d(R){if(R){if(this.#u){const H=this._uiManager.imageManager.getSvgUrl(this.#t);if(H)return H}const U=document.createElement("canvas");return{width:U.width,height:U.height}=this.#e,U.getContext("2d").drawImage(this.#e,0,0),U.toDataURL()}if(this.#u){const[U,j]=this.pageDimensions,H=Math.round(this.width*U*E.PixelsPerInch.PDF_TO_CSS_UNITS),V=Math.round(this.height*j*E.PixelsPerInch.PDF_TO_CSS_UNITS),z=new OffscreenCanvas(H,V);return z.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,H,V),z.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#l=new ResizeObserver(R=>{const U=R[0].contentRect;U.width&&U.height&&this.#b(U.width,U.height)}),this.#l.observe(this.div)}static deserialize(R,U,j){if(R instanceof C.StampAnnotationElement)return null;const H=super.deserialize(R,U,j),{rect:V,bitmapUrl:z,bitmapId:G,isSvg:X,accessibilityData:Y}=R;G&&j.imageManager.isValidId(G)?H.#t=G:H.#r=z,H.#u=X;const[J,ee]=H.pageDimensions;return H.width=(V[2]-V[0])/J,H.height=(V[3]-V[1])/ee,Y&&(H.altTextData=Y),H}serialize(R=!1,U=null){if(this.isEmpty())return null;const j={annotationType:b.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(R)return j.bitmapUrl=this.#d(!0),j.accessibilityData=this.altTextData,j;const{decorative:H,altText:V}=this.altTextData;if(!H&&V&&(j.accessibilityData={type:"Figure",alt:V}),U===null)return j;U.stamps||=new Map;const z=this.#u?(j.rect[2]-j.rect[0])*(j.rect[3]-j.rect[1]):null;if(!U.stamps.has(this.#t))U.stamps.set(this.#t,{area:z,serialized:j}),j.bitmap=this.#d(!1);else if(this.#u){const G=U.stamps.get(this.#t);z>G.area&&(G.area=z,G.serialized.bitmap.close(),G.serialized.bitmap=this.#d(!1))}return j}}class M{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#s=this.pointerdown.bind(this);#i=null;#c=new Map;#l=!1;#o=!1;#u=!1;#a;static _initialized=!1;static#f=new Map([F,k,D].map(R=>[R._editorType,R]));constructor({uiManager:R,pageIndex:U,div:j,accessibilityManager:H,annotationLayer:V,viewport:z,l10n:G}){const X=[...M.#f.values()];if(!M._initialized){M._initialized=!0;for(const Y of X)Y.initialize(G)}R.registerEditorTypes(X),this.#a=R,this.pageIndex=U,this.div=j,this.#e=H,this.#n=V,this.viewport=z,this.#a.addLayer(this)}get isEmpty(){return this.#c.size===0}updateToolbar(R){this.#a.updateToolbar(R)}updateMode(R=this.#a.getMode()){if(this.#b(),R===b.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),R!==b.AnnotationEditorType.NONE){const{classList:U}=this.div;for(const j of M.#f.values())U.toggle(`${j._type}Editing`,R===j._editorType);this.div.hidden=!1}}addInkEditorIfNeeded(R){if(!R&&this.#a.getMode()!==b.AnnotationEditorType.INK)return;if(!R){for(const j of this.#c.values())if(j.isEmpty()){j.setInBackground();return}}this.#p({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(R){this.#a.setEditingState(R)}addCommands(R){this.#a.addCommands(R)}togglePointerEvents(R=!1){this.div.classList.toggle("disabled",!R)}enable(){this.togglePointerEvents(!0);const R=new Set;for(const j of this.#c.values())j.enableEditing(),j.annotationElementId&&R.add(j.annotationElementId);if(!this.#n)return;const U=this.#n.getEditableAnnotations();for(const j of U){if(j.hide(),this.#a.isDeletedAnnotationElement(j.data.id)||R.has(j.data.id))continue;const H=this.deserialize(j);H&&(this.addOrRebuild(H),H.enableEditing())}}disable(){this.#u=!0,this.togglePointerEvents(!1);const R=new Set;for(const j of this.#c.values()){if(j.disableEditing(),!j.annotationElementId||j.serialize()!==null){R.add(j.annotationElementId);continue}this.getEditableAnnotation(j.annotationElementId)?.show(),j.remove()}if(this.#n){const j=this.#n.getEditableAnnotations();for(const H of j){const{id:V}=H.data;R.has(V)||this.#a.isDeletedAnnotationElement(V)||H.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:U}=this.div;for(const j of M.#f.values())U.remove(`${j._type}Editing`);this.#u=!1}getEditableAnnotation(R){return this.#n?.getEditableAnnotation(R)||null}setActiveEditor(R){this.#a.getActive()!==R&&this.#a.setActiveEditor(R)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#r)}attach(R){this.#c.set(R.id,R);const{annotationElementId:U}=R;U&&this.#a.isDeletedAnnotationElement(U)&&this.#a.removeDeletedAnnotationElement(R)}detach(R){this.#c.delete(R.id),this.#e?.removePointerInTextLayer(R.contentDiv),!this.#u&&R.annotationElementId&&this.#a.addDeletedAnnotationElement(R)}remove(R){this.detach(R),this.#a.removeEditor(R),R.div.remove(),R.isAttachedToDOM=!1,this.#o||this.addInkEditorIfNeeded(!1)}changeParent(R){R.parent!==this&&(R.annotationElementId&&(this.#a.addDeletedAnnotationElement(R.annotationElementId),S.AnnotationEditor.deleteAnnotationElement(R),R.annotationElementId=null),this.attach(R),R.parent?.detach(R),R.setParent(this),R.div&&R.isAttachedToDOM&&(R.div.remove(),this.div.append(R.div)))}add(R){if(this.changeParent(R),this.#a.addEditor(R),this.attach(R),!R.isAttachedToDOM){const U=R.render();this.div.append(U),R.isAttachedToDOM=!0}R.fixAndSetPosition(),R.onceAdded(),this.#a.addToAnnotationStorage(R)}moveEditorInDOM(R){if(!R.isAttachedToDOM)return;const{activeElement:U}=document;R.div.contains(U)&&!this.#i&&(R._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,R.div.contains(document.activeElement)?R._focusEventsAllowed=!0:(R.div.addEventListener("focusin",()=>{R._focusEventsAllowed=!0},{once:!0}),U.focus())},0)),R._structTreeParentId=this.#e?.moveElementInDOM(this.div,R.div,R.contentDiv,!0)}addOrRebuild(R){R.needsToBeRebuilt()?(R.parent||=this,R.rebuild()):this.add(R)}addUndoableEditor(R){const U=()=>R._uiManager.rebuild(R),j=()=>{R.remove()};this.addCommands({cmd:U,undo:j,mustExec:!1})}getNextId(){return this.#a.getId()}#h(R){const U=M.#f.get(this.#a.getMode());return U?new U.prototype.constructor(R):null}pasteEditor(R,U){this.#a.updateToolbar(R),this.#a.updateMode(R);const{offsetX:j,offsetY:H}=this.#g(),V=this.getNextId(),z=this.#h({parent:this,id:V,x:j,y:H,uiManager:this.#a,isCentered:!0,...U});z&&this.add(z)}deserialize(R){return M.#f.get(R.annotationType??R.annotationEditorType)?.deserialize(R,this,this.#a)||null}#p(R,U){const j=this.getNextId(),H=this.#h({parent:this,id:j,x:R.offsetX,y:R.offsetY,uiManager:this.#a,isCentered:U});return H&&this.add(H),H}#g(){const{x:R,y:U,width:j,height:H}=this.div.getBoundingClientRect(),V=Math.max(0,R),z=Math.max(0,U),G=Math.min(window.innerWidth,R+j),X=Math.min(window.innerHeight,U+H),Y=(V+G)/2-R,J=(z+X)/2-U,[ee,ie]=this.viewport.rotation%180===0?[Y,J]:[J,Y];return{offsetX:ee,offsetY:ie}}addNewEditor(){this.#p(this.#g(),!0)}setSelected(R){this.#a.setSelected(R)}toggleSelected(R){this.#a.toggleSelected(R)}isSelected(R){return this.#a.isSelected(R)}unselect(R){this.#a.unselect(R)}pointerup(R){const{isMac:U}=b.FeatureTest.platform;if(!(R.button!==0||R.ctrlKey&&U)&&R.target===this.div&&this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}if(this.#a.getMode()===b.AnnotationEditorType.STAMP){this.#a.unselectAll();return}this.#p(R,!1)}}pointerdown(R){if(this.#l){this.#l=!1;return}const{isMac:U}=b.FeatureTest.platform;if(R.button!==0||R.ctrlKey&&U||R.target!==this.div)return;this.#l=!0;const j=this.#a.getActive();this.#t=!j||j.isEmpty()}findNewParent(R,U,j){const H=this.#a.findParent(U,j);return H===null||H===this?!1:(H.changeParent(R),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const R of this.#c.values())this.#e?.removePointerInTextLayer(R.contentDiv),R.setParent(null),R.isAttachedToDOM=!1,R.div.remove();this.div=null,this.#c.clear(),this.#a.removeLayer(this)}#b(){this.#o=!0;for(const R of this.#c.values())R.isEmpty()&&R.remove();this.#o=!1}render({viewport:R}){this.viewport=R,(0,E.setLayerDimensions)(this.div,R);for(const U of this.#a.getEditors(this.pageIndex))this.add(U);this.updateMode()}update({viewport:R}){this.#a.commitOrRemove(),this.viewport=R,(0,E.setLayerDimensions)(this.div,{rotation:R.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:R,pageHeight:U}=this.viewport.rawDims;return[R,U]}}},796:(g,d,x)=>{x.d(d,{AnnotationEditor:()=>F});var b=x(812),S=x(266),w=x(473);class C{#e=null;#t;#n=null;constructor(D){this.#t=D}render(){const D=this.#e=document.createElement("div");D.className="editToolbar",D.addEventListener("contextmenu",w.noContextMenu),D.addEventListener("pointerdown",C.#r);const M=this.#n=document.createElement("div");return M.className="buttons",D.append(M),this.#l(),D}static#r(D){D.stopPropagation()}#s(D){this.#t._focusEventsAllowed=!1,D.preventDefault(),D.stopPropagation()}#i(D){this.#t._focusEventsAllowed=!0,D.preventDefault(),D.stopPropagation()}#c(D){D.addEventListener("focusin",this.#s.bind(this),{capture:!0}),D.addEventListener("focusout",this.#i.bind(this),{capture:!0}),D.addEventListener("contextmenu",w.noContextMenu)}hide(){this.#e.classList.add("hidden")}show(){this.#e.classList.remove("hidden")}#l(){const D=document.createElement("button");D.className="delete",D.tabIndex=0,D.setAttribute("data-l10n-id","pdfjs-editor-remove-button"),this.#c(D),D.addEventListener("click",M=>{this.#t._uiManager.delete()}),this.#n.append(D)}remove(){this.#e.remove()}}class F{#e=null;#t="";#n=!1;#r=null;#s=null;#i=null;#c=!1;#l=!1;#o=null;#u=null;#a=this.focusin.bind(this);#f=this.focusout.bind(this);#h=null;#p="";#g=!1;#b=!1;#x=!1;#m=!1;#d=null;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#y=!1;#F=F._zIndex++;static _borderLineWidth=-1;static _colorManager=new b.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;static get _resizerKeyboardManager(){const D=F.prototype._resizeWithKeyboard,M=b.AnnotationEditorUIManager.TRANSLATE_SMALL,L=b.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,S.shadow)(this,"_resizerKeyboardManager",new b.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],D,{args:[-M,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],D,{args:[-L,0]}],[["ArrowRight","mac+ArrowRight"],D,{args:[M,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],D,{args:[L,0]}],[["ArrowUp","mac+ArrowUp"],D,{args:[0,-M]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],D,{args:[0,-L]}],[["ArrowDown","mac+ArrowDown"],D,{args:[0,M]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],D,{args:[0,L]}],[["Escape","mac+Escape"],F.prototype._stopResizingWithKeyboard]]))}constructor(D){this.constructor===F&&(0,S.unreachable)("Cannot initialize AnnotationEditor."),this.parent=D.parent,this.id=D.id,this.width=this.height=null,this.pageIndex=D.parent.pageIndex,this.name=D.name,this.div=null,this._uiManager=D.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=D.isCentered,this._structTreeParentId=null;const{rotation:M,rawDims:{pageWidth:L,pageHeight:R,pageX:U,pageY:j}}=this.parent.viewport;this.rotation=M,this.pageRotation=(360+M-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[L,R],this.pageTranslation=[U,j];const[H,V]=this.parentDimensions;this.x=D.x/H,this.y=D.y/V,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,S.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(D){const M=new E({id:D.parent.getNextId(),parent:D.parent,uiManager:D._uiManager});M.annotationElementId=D.annotationElementId,M.deleted=!0,M._uiManager.addToAnnotationStorage(M)}static initialize(D,M=null){if(F._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(R=>[R,D.get(R.replaceAll(/([A-Z])/g,U=>`-${U.toLowerCase()}`))])),M?.strings)for(const R of M.strings)F._l10nPromise.set(R,D.get(R));if(F._borderLineWidth!==-1)return;const L=getComputedStyle(document.documentElement);F._borderLineWidth=parseFloat(L.getPropertyValue("--outline-width"))||0}static updateDefaultParams(D,M){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(D){return!1}static paste(D,M){(0,S.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#y}set _isDraggable(D){this.#y=D,this.div?.classList.toggle("draggable",D)}get isEnterHandled(){return!0}center(){const[D,M]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*M/(D*2),this.y+=this.width*D/(M*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*M/(D*2),this.y-=this.width*D/(M*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(D){this._uiManager.addCommands(D)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#F}setParent(D){D!==null?(this.pageIndex=D.pageIndex,this.pageDimensions=D.pageDimensions):this.#P(),this.parent=D}focusin(D){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(D){!this._focusEventsAllowed||!this.isAttachedToDOM||D.relatedTarget?.closest(`#${this.id}`)||(D.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(D,M,L,R){const[U,j]=this.parentDimensions;[L,R]=this.screenToPageTranslation(L,R),this.x=(D+L)/U,this.y=(M+R)/j,this.fixAndSetPosition()}#k([D,M],L,R){[L,R]=this.screenToPageTranslation(L,R),this.x+=L/D,this.y+=R/M,this.fixAndSetPosition()}translate(D,M){this.#k(this.parentDimensions,D,M)}translateInPage(D,M){this.#k(this.pageDimensions,D,M),this.div.scrollIntoView({block:"nearest"})}drag(D,M){const[L,R]=this.parentDimensions;if(this.x+=D/L,this.y+=M/R,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:z,y:G}=this.div.getBoundingClientRect();this.parent.findNewParent(this,z,G)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:U,y:j}=this;const[H,V]=this.#O();U+=H,j+=V,this.div.style.left=`${(100*U).toFixed(2)}%`,this.div.style.top=`${(100*j).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#O(){const[D,M]=this.parentDimensions,{_borderLineWidth:L}=F,R=L/D,U=L/M;switch(this.rotation){case 90:return[-R,U];case 180:return[R,U];case 270:return[R,-U];default:return[-R,-U]}}fixAndSetPosition(){const[D,M]=this.pageDimensions;let{x:L,y:R,width:U,height:j}=this;switch(U*=D,j*=M,L*=D,R*=M,this.rotation){case 0:L=Math.max(0,Math.min(D-U,L)),R=Math.max(0,Math.min(M-j,R));break;case 90:L=Math.max(0,Math.min(D-j,L)),R=Math.min(M,Math.max(U,R));break;case 180:L=Math.min(D,Math.max(U,L)),R=Math.min(M,Math.max(j,R));break;case 270:L=Math.min(D,Math.max(j,L)),R=Math.max(0,Math.min(M-U,R));break}this.x=L/=D,this.y=R/=M;const[H,V]=this.#O();L+=H,R+=V;const{style:z}=this.div;z.left=`${(100*L).toFixed(2)}%`,z.top=`${(100*R).toFixed(2)}%`,this.moveInDOM()}static#_(D,M,L){switch(L){case 90:return[M,-D];case 180:return[-D,-M];case 270:return[-M,D];default:return[D,M]}}screenToPageTranslation(D,M){return F.#_(D,M,this.parentRotation)}pageTranslationToScreen(D,M){return F.#_(D,M,360-this.parentRotation)}#R(D){switch(D){case 90:{const[M,L]=this.pageDimensions;return[0,-M/L,L/M,0]}case 180:return[-1,0,0,-1];case 270:{const[M,L]=this.pageDimensions;return[0,M/L,-L/M,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:D,pageDimensions:[M,L]}=this,R=M*D,U=L*D;return S.FeatureTest.isCSSRoundSupported?[Math.round(R),Math.round(U)]:[R,U]}setDims(D,M){const[L,R]=this.parentDimensions;this.div.style.width=`${(100*D/L).toFixed(2)}%`,this.#l||(this.div.style.height=`${(100*M/R).toFixed(2)}%`),this.#r?.classList.toggle("small",D<F.SMALL_EDITOR_SIZE||M<F.SMALL_EDITOR_SIZE)}fixDims(){const{style:D}=this.div,{height:M,width:L}=D,R=L.endsWith("%"),U=!this.#l&&M.endsWith("%");if(R&&U)return;const[j,H]=this.parentDimensions;R||(D.width=`${(100*parseFloat(L)/j).toFixed(2)}%`),!this.#l&&!U&&(D.height=`${(100*parseFloat(M)/H).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#M(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const D=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const M of D){const L=document.createElement("div");this.#o.append(L),L.classList.add("resizer",M),L.setAttribute("data-resizer-name",M),L.addEventListener("pointerdown",this.#L.bind(this,M)),L.addEventListener("contextmenu",w.noContextMenu),L.tabIndex=-1}this.div.prepend(this.#o)}#L(D,M){M.preventDefault();const{isMac:L}=S.FeatureTest.platform;if(M.button!==0||M.ctrlKey&&L)return;this.#E(!1);const R=this.#I.bind(this,D),U=this._isDraggable;this._isDraggable=!1;const j={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",R,j);const H=this.x,V=this.y,z=this.width,G=this.height,X=this.parent.div.style.cursor,Y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(M.target).cursor;const J=()=>{this.parent.togglePointerEvents(!0),this.#E(!0),this._isDraggable=U,window.removeEventListener("pointerup",J),window.removeEventListener("blur",J),window.removeEventListener("pointermove",R,j),this.parent.div.style.cursor=X,this.div.style.cursor=Y,this.#v(H,V,z,G)};window.addEventListener("pointerup",J),window.addEventListener("blur",J)}#v(D,M,L,R){const U=this.x,j=this.y,H=this.width,V=this.height;U===D&&j===M&&H===L&&V===R||this.addCommands({cmd:()=>{this.width=H,this.height=V,this.x=U,this.y=j;const[z,G]=this.parentDimensions;this.setDims(z*H,G*V),this.fixAndSetPosition()},undo:()=>{this.width=L,this.height=R,this.x=D,this.y=M;const[z,G]=this.parentDimensions;this.setDims(z*L,G*R),this.fixAndSetPosition()},mustExec:!0})}#I(D,M){const[L,R]=this.parentDimensions,U=this.x,j=this.y,H=this.width,V=this.height,z=F.MIN_SIZE/L,G=F.MIN_SIZE/R,X=Ce=>Math.round(Ce*1e4)/1e4,Y=this.#R(this.rotation),J=(Ce,te)=>[Y[0]*Ce+Y[2]*te,Y[1]*Ce+Y[3]*te],ee=this.#R(360-this.rotation),ie=(Ce,te)=>[ee[0]*Ce+ee[2]*te,ee[1]*Ce+ee[3]*te];let oe,he,fe=!1,Se=!1;switch(D){case"topLeft":fe=!0,oe=(Ce,te)=>[0,0],he=(Ce,te)=>[Ce,te];break;case"topMiddle":oe=(Ce,te)=>[Ce/2,0],he=(Ce,te)=>[Ce/2,te];break;case"topRight":fe=!0,oe=(Ce,te)=>[Ce,0],he=(Ce,te)=>[0,te];break;case"middleRight":Se=!0,oe=(Ce,te)=>[Ce,te/2],he=(Ce,te)=>[0,te/2];break;case"bottomRight":fe=!0,oe=(Ce,te)=>[Ce,te],he=(Ce,te)=>[0,0];break;case"bottomMiddle":oe=(Ce,te)=>[Ce/2,te],he=(Ce,te)=>[Ce/2,0];break;case"bottomLeft":fe=!0,oe=(Ce,te)=>[0,te],he=(Ce,te)=>[Ce,0];break;case"middleLeft":Se=!0,oe=(Ce,te)=>[0,te/2],he=(Ce,te)=>[Ce,te/2];break}const we=oe(H,V),Ee=he(H,V);let de=J(...Ee);const xe=X(U+de[0]),Te=X(j+de[1]);let Oe=1,Ne=1,[Le,Me]=this.screenToPageTranslation(M.movementX,M.movementY);if([Le,Me]=ie(Le/L,Me/R),fe){const Ce=Math.hypot(H,V);Oe=Ne=Math.max(Math.min(Math.hypot(Ee[0]-we[0]-Le,Ee[1]-we[1]-Me)/Ce,1/H,1/V),z/H,G/V)}else Se?Oe=Math.max(z,Math.min(1,Math.abs(Ee[0]-we[0]-Le)))/H:Ne=Math.max(G,Math.min(1,Math.abs(Ee[1]-we[1]-Me)))/V;const Ie=X(H*Oe),Ve=X(V*Ne);de=J(...he(Ie,Ve));const De=xe-de[0],Pe=Te-de[1];this.width=Ie,this.height=Ve,this.x=De,this.y=Pe,this.setDims(L*Ie,R*Ve),this.fixAndSetPosition()}async addAltTextButton(){if(this.#r)return;const D=this.#r=document.createElement("button");D.className="altText";const M=await F._l10nPromise.get("pdfjs-editor-alt-text-button-label");D.textContent=M,D.setAttribute("aria-label",M),D.tabIndex="0",D.addEventListener("contextmenu",w.noContextMenu),D.addEventListener("pointerdown",R=>R.stopPropagation());const L=R=>{this.#r.hidden=!0,R.preventDefault(),this._uiManager.editAltText(this)};D.addEventListener("click",L,{capture:!0}),D.addEventListener("keydown",R=>{R.target===D&&R.key==="Enter"&&(this.#c=!0,L(R))}),this.#T(),this.div.append(D),F.SMALL_EDITOR_SIZE||(F.SMALL_EDITOR_SIZE=Math.min(128,Math.round(D.getBoundingClientRect().width*(1+40/100))))}async#T(){const D=this.#r;if(!D)return;if(!this.#t&&!this.#n){D.classList.remove("done"),this.#s?.remove();return}D.classList.add("done"),F._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(R=>{D.setAttribute("aria-label",R)});let M=this.#s;if(!M){this.#s=M=document.createElement("span"),M.className="tooltip",M.setAttribute("role","tooltip");const R=M.id=`alt-text-tooltip-${this.id}`;D.setAttribute("aria-describedby",R);const U=100;D.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#s.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},U)}),D.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s?.classList.remove("show")})}M.innerText=this.#n?await F._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#t,M.parentNode||D.append(M),this.getImageForAltText()?.setAttribute("aria-describedby",M.id)}#E(D=!1){this.#r&&(!D&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#r.disabled=!D)}altTextFinish(){this.#r&&(this.#r.hidden=!1,this.#r.focus({focusVisible:this.#c}),this.#c=!1)}addEditToolbar(){this.#h||this.#x||(this.#h=new C(this),this.div.append(this.#h.render()))}removeEditToolbar(){this.#h&&(this.#h.remove(),this.#h=null)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#t,decorative:this.#n}}set altTextData({altText:D,decorative:M}){this.#t===D&&this.#n===M||(this.#t=D,this.#n=M,this.#T())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#a),this.div.addEventListener("focusout",this.#f);const[D,M]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*M/D).toFixed(2)}%`,this.div.style.maxHeight=`${(100*D/M).toFixed(2)}%`);const[L,R]=this.getInitialTranslation();return this.translate(L,R),(0,b.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(D){const{isMac:M}=S.FeatureTest.platform;if(D.button!==0||D.ctrlKey&&M){D.preventDefault();return}this.#g=!0,this.#S(D)}#S(D){if(!this._isDraggable)return;const M=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let L,R;M&&(L={passive:!0,capture:!0},R=j=>{const[H,V]=this.screenToPageTranslation(j.movementX,j.movementY);this._uiManager.dragSelectedEditors(H,V)},window.addEventListener("pointermove",R,L));const U=()=>{if(window.removeEventListener("pointerup",U),window.removeEventListener("blur",U),M&&window.removeEventListener("pointermove",R,L),this.#g=!1,!this._uiManager.endDragSession()){const{isMac:j}=S.FeatureTest.platform;D.ctrlKey&&!j||D.shiftKey||D.metaKey&&j?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",U),window.addEventListener("blur",U)}moveInDOM(){this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.#d=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(D,M,L){D.changeParent(this),this.x=M,this.y=L,this.fixAndSetPosition()}getRect(D,M){const L=this.parentScale,[R,U]=this.pageDimensions,[j,H]=this.pageTranslation,V=D/L,z=M/L,G=this.x*R,X=this.y*U,Y=this.width*R,J=this.height*U;switch(this.rotation){case 0:return[G+V+j,U-X-z-J+H,G+V+Y+j,U-X-z+H];case 90:return[G+z+j,U-X+V+H,G+z+J+j,U-X+V+Y+H];case 180:return[G-V-Y+j,U-X+z+H,G-V+j,U-X+z+J+H];case 270:return[G-z-J+j,U-X-V-Y+H,G-z+j,U-X-V+H];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(D,M){const[L,R,U,j]=D,H=U-L,V=j-R;switch(this.rotation){case 0:return[L,M-j,H,V];case 90:return[L,M-R,V,H];case 180:return[U,M-R,H,V];case 270:return[U,M-j,V,H];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#x=!0}disableEditMode(){this.#x=!1}isInEditMode(){return this.#x}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#a),this.div?.addEventListener("focusout",this.#f)}serialize(D=!1,M=null){(0,S.unreachable)("An editor must be serializable")}static deserialize(D,M,L){const R=new this.prototype.constructor({parent:M,id:M.getNextId(),uiManager:L});R.rotation=D.rotation;const[U,j]=R.pageDimensions,[H,V,z,G]=R.getRectInCurrentCoords(D.rect,j);return R.x=H/U,R.y=V/j,R.width=z/U,R.height=G/j,R}remove(){this.div.removeEventListener("focusin",this.#a),this.div.removeEventListener("focusout",this.#f),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#r?.remove(),this.#r=null,this.#s=null,this.#d&&(clearTimeout(this.#d),this.#d=null),this.#P(),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#M(),this.#o.classList.remove("hidden"),(0,b.bindEvents)(this,this.div,["keydown"]))}keydown(D){if(!this.isResizable||D.target!==this.div||D.key!=="Enter")return;this._uiManager.setSelected(this),this.#u={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const M=this.#o.children;if(!this.#e){this.#e=Array.from(M);const j=this.#w.bind(this),H=this.#A.bind(this);for(const V of this.#e){const z=V.getAttribute("data-resizer-name");V.setAttribute("role","spinbutton"),V.addEventListener("keydown",j),V.addEventListener("blur",H),V.addEventListener("focus",this.#B.bind(this,z)),F._l10nPromise.get(`pdfjs-editor-resizer-label-${z}`).then(G=>V.setAttribute("aria-label",G))}}const L=this.#e[0];let R=0;for(const j of M){if(j===L)break;R++}const U=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(U!==R){if(U<R)for(let H=0;H<R-U;H++)this.#o.append(this.#o.firstChild);else if(U>R)for(let H=0;H<U-R;H++)this.#o.firstChild.before(this.#o.lastChild);let j=0;for(const H of M){const z=this.#e[j++].getAttribute("data-resizer-name");F._l10nPromise.get(`pdfjs-editor-resizer-label-${z}`).then(G=>H.setAttribute("aria-label",G))}}this.#N(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),D.preventDefault(),D.stopImmediatePropagation()}#w(D){F._resizerKeyboardManager.exec(this,D)}#A(D){this.#m&&D.relatedTarget?.parentNode!==this.#o&&this.#P()}#B(D){this.#p=this.#m?D:""}#N(D){if(this.#e)for(const M of this.#e)M.tabIndex=D}_resizeWithKeyboard(D,M){this.#m&&this.#I(this.#p,{movementX:D,movementY:M})}#P(){if(this.#m=!1,this.#N(-1),this.#u){const{savedX:D,savedY:M,savedWidth:L,savedHeight:R}=this.#u;this.#v(D,M,L,R),this.#u=null}}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.addEditToolbar(),this.#h?.show()}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),this.#h?.hide()}updateParams(D,M){}disableEditing(){this.#r&&(this.#r.hidden=!0)}enableEditing(){this.#r&&(this.#r.hidden=!1)}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#b}set isEditing(D){this.#b=D,this.parent&&(D?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(D,M){this.#l=!0;const L=D/M,{style:R}=this.div;R.aspectRatio=L,R.height="auto"}static get MIN_SIZE(){return 16}}class E extends F{constructor(D){super(D),this.annotationElementId=D.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},405:(g,d,x)=>{x.d(d,{Outliner:()=>b});class b{#e;#t=[];#n=[];constructor(w,C=0,F=0,E=!0){let k=1/0,D=-1/0,M=1/0,L=-1/0;const U=10**-4;for(const{x:Y,y:J,width:ee,height:ie}of w){const oe=Math.floor((Y-C)/U)*U,he=Math.ceil((Y+ee+C)/U)*U,fe=Math.floor((J-C)/U)*U,Se=Math.ceil((J+ie+C)/U)*U,we=[oe,fe,Se,!0],Ee=[he,fe,Se,!1];this.#t.push(we,Ee),k=Math.min(k,oe),D=Math.max(D,he),M=Math.min(M,fe),L=Math.max(L,Se)}const j=D-k+2*F,H=L-M+2*F,V=k-F,z=M-F,G=this.#t.at(E?-1:-2),X=[G[0],G[2]];for(const Y of this.#t){const[J,ee,ie]=Y;Y[0]=(J-V)/j,Y[1]=(ee-z)/H,Y[2]=(ie-z)/H}this.#e={x:V,y:z,width:j,height:H,lastPoint:X}}getOutlines(){this.#t.sort((C,F)=>C[0]-F[0]||C[1]-F[1]||C[2]-F[2]);const w=[];for(const C of this.#t)C[3]?(w.push(...this.#l(C)),this.#i(C)):(this.#c(C),w.push(...this.#l(C)));return this.#r(w)}#r(w){const C=[],F=new Set;for(const D of w){const[M,L,R]=D;C.push([M,L,D],[M,R,D])}C.sort((D,M)=>D[1]-M[1]||D[0]-M[0]);for(let D=0,M=C.length;D<M;D+=2){const L=C[D][2],R=C[D+1][2];L.push(R),R.push(L),F.add(L),F.add(R)}const E=[];let k;for(;F.size>0;){const D=F.values().next().value;let[M,L,R,U,j]=D;F.delete(D);let H=M,V=L;for(k=[M,R],E.push(k);;){let z;if(F.has(U))z=U;else if(F.has(j))z=j;else break;F.delete(z),[M,L,R,U,j]=z,H!==M&&(k.push(H,V,M,V===L?L:R),H=M),V=V===L?R:L}k.push(H,V)}return{outlines:E,box:this.#e}}#s(w){const C=this.#n;let F=0,E=C.length-1;for(;F<=E;){const k=F+E>>1,D=C[k][0];if(D===w)return k;D<w?F=k+1:E=k-1}return E+1}#i([,w,C]){const F=this.#s(w);this.#n.splice(F,0,[w,C])}#c([,w,C]){const F=this.#s(w);for(let E=F;E<this.#n.length;E++){const[k,D]=this.#n[E];if(k!==w)break;if(k===w&&D===C){this.#n.splice(E,1);return}}for(let E=F-1;E>=0;E--){const[k,D]=this.#n[E];if(k!==w)break;if(k===w&&D===C){this.#n.splice(E,1);return}}}#l(w){const[C,F,E]=w,k=[[C,F,E]],D=this.#s(E);for(let M=0;M<D;M++){const[L,R]=this.#n[M];for(let U=0,j=k.length;U<j;U++){const[,H,V]=k[U];if(!(R<=H||V<=L)){if(H>=L){if(V>R)k[U][1]=R;else{if(j===1)return[];k.splice(U,1),U--,j--}continue}k[U][2]=L,V>R&&k.push([C,R,V])}}}return k}}},812:(g,d,x)=>{x.d(d,{AnnotationEditorUIManager:()=>L,ColorManager:()=>M,KeyboardManager:()=>D,bindEvents:()=>w,opacityToHex:()=>C});var b=x(266),S=x(473);function w(R,U,j){for(const H of j)U.addEventListener(H,R[H].bind(R))}function C(R){return Math.round(Math.min(255,Math.max(1,255*R))).toString(16).padStart(2,"0")}class F{#e=0;getId(){return`${b.AnnotationEditorPrefix}${this.#e++}`}}class E{#e=(0,b.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const U='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',H=new OffscreenCanvas(1,3).getContext("2d"),V=new Image;V.src=U;const z=V.decode().then(()=>(H.drawImage(V,0,0,1,1,0,0,1,3),new Uint32Array(H.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,b.shadow)(this,"_isSVGFittingCanvas",z)}async#r(U,j){this.#n||=new Map;let H=this.#n.get(U);if(H===null)return null;if(H?.bitmap)return H.refCounter+=1,H;try{H||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let V;if(typeof j=="string"?(H.url=j,V=await(0,S.fetchData)(j,"blob")):V=H.file=j,V.type==="image/svg+xml"){const z=E._isSVGFittingCanvas,G=new FileReader,X=new Image,Y=new Promise((J,ee)=>{X.onload=()=>{H.bitmap=X,H.isSvg=!0,J()},G.onload=async()=>{const ie=H.svgUrl=G.result;X.src=await z?`${ie}#svgView(preserveAspectRatio(none))`:ie},X.onerror=G.onerror=ee});G.readAsDataURL(V),await Y}else H.bitmap=await createImageBitmap(V);H.refCounter=1}catch(V){console.error(V),H=null}return this.#n.set(U,H),H&&this.#n.set(H.id,H),H}async getFromFile(U){const{lastModified:j,name:H,size:V,type:z}=U;return this.#r(`${j}_${H}_${V}_${z}`,U)}async getFromUrl(U){return this.#r(U,U)}async getFromId(U){this.#n||=new Map;const j=this.#n.get(U);return j?j.bitmap?(j.refCounter+=1,j):j.file?this.getFromFile(j.file):this.getFromUrl(j.url):null}getSvgUrl(U){const j=this.#n.get(U);return j?.isSvg?j.svgUrl:null}deleteId(U){this.#n||=new Map;const j=this.#n.get(U);j&&(j.refCounter-=1,j.refCounter===0&&(j.bitmap=null))}isValidId(U){return U.startsWith(`image_${this.#e}_`)}}class k{#e=[];#t=!1;#n;#r=-1;constructor(U=128){this.#n=U}add({cmd:U,undo:j,mustExec:H,type:V=NaN,overwriteIfSameType:z=!1,keepUndo:G=!1}){if(H&&U(),this.#t)return;const X={cmd:U,undo:j,type:V};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(X);return}if(z&&this.#e[this.#r].type===V){G&&(X.undo=this.#e[this.#r].undo),this.#e[this.#r]=X;return}const Y=this.#r+1;Y===this.#n?this.#e.splice(0,1):(this.#r=Y,Y<this.#e.length&&this.#e.splice(Y)),this.#e.push(X)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}class D{constructor(U){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:j}=b.FeatureTest.platform;for(const[H,V,z={}]of U)for(const G of H){const X=G.startsWith("mac+");j&&X?(this.callbacks.set(G.slice(4),{callback:V,options:z}),this.allKeys.add(G.split("+").at(-1))):!j&&!X&&(this.callbacks.set(G,{callback:V,options:z}),this.allKeys.add(G.split("+").at(-1)))}}#e(U){U.altKey&&this.buffer.push("alt"),U.ctrlKey&&this.buffer.push("ctrl"),U.metaKey&&this.buffer.push("meta"),U.shiftKey&&this.buffer.push("shift"),this.buffer.push(U.key);const j=this.buffer.join("+");return this.buffer.length=0,j}exec(U,j){if(!this.allKeys.has(j.key))return;const H=this.callbacks.get(this.#e(j));if(!H)return;const{callback:V,options:{bubbles:z=!1,args:G=[],checker:X=null}}=H;X&&!X(U,j)||(V.bind(U,...G)(),z||(j.stopPropagation(),j.preventDefault()))}}class M{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const U=new Map([["CanvasText",null],["Canvas",null]]);return(0,S.getColorValues)(U),(0,b.shadow)(this,"_colors",U)}convert(U){const j=(0,S.getRGB)(U);if(!window.matchMedia("(forced-colors: active)").matches)return j;for(const[H,V]of this._colors)if(V.every((z,G)=>z===j[G]))return M._colorsMapping.get(H);return j}getHexCode(U){const j=this._colors.get(U);return j?b.Util.makeHexColor(...j):U}}class L{#e=null;#t=new Map;#n=new Map;#r=null;#s=null;#i=new k;#c=0;#l=new Set;#o=null;#u=null;#a=new Set;#f=null;#h=null;#p=new F;#g=!1;#b=!1;#x=null;#m=b.AnnotationEditorType.NONE;#d=new Set;#y=null;#F=this.blur.bind(this);#k=this.focus.bind(this);#O=this.copy.bind(this);#_=this.cut.bind(this);#R=this.paste.bind(this);#M=this.keydown.bind(this);#L=this.onEditingAction.bind(this);#v=this.onPageChanging.bind(this);#I=this.onScaleChanging.bind(this);#T=this.onRotationChanging.bind(this);#E={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#S=[0,0];#w=null;#A=null;#B=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const U=L.prototype,j=G=>G.#A.contains(document.activeElement)&&G.hasSomethingToControl(),H=(G,{target:X})=>{if(X instanceof HTMLInputElement){const{type:Y}=X;return Y!=="text"&&Y!=="number"}return!0},V=this.TRANSLATE_SMALL,z=this.TRANSLATE_BIG;return(0,b.shadow)(this,"_keyboardManager",new D([[["ctrl+a","mac+meta+a"],U.selectAll,{checker:H}],[["ctrl+z","mac+meta+z"],U.undo,{checker:H}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],U.redo,{checker:H}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],U.delete,{checker:H}],[["Enter","mac+Enter"],U.addNewEditorFromKeyboard,{checker:(G,{target:X})=>!(X instanceof HTMLButtonElement)&&G.#A.contains(X)&&!G.isEnterHandled}],[[" ","mac+ "],U.addNewEditorFromKeyboard,{checker:G=>G.#A.contains(document.activeElement)}],[["Escape","mac+Escape"],U.unselectAll],[["ArrowLeft","mac+ArrowLeft"],U.translateSelectedEditors,{args:[-V,0],checker:j}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],U.translateSelectedEditors,{args:[-z,0],checker:j}],[["ArrowRight","mac+ArrowRight"],U.translateSelectedEditors,{args:[V,0],checker:j}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],U.translateSelectedEditors,{args:[z,0],checker:j}],[["ArrowUp","mac+ArrowUp"],U.translateSelectedEditors,{args:[0,-V],checker:j}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],U.translateSelectedEditors,{args:[0,-z],checker:j}],[["ArrowDown","mac+ArrowDown"],U.translateSelectedEditors,{args:[0,V],checker:j}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],U.translateSelectedEditors,{args:[0,z],checker:j}]]))}constructor(U,j,H,V,z,G){this.#A=U,this.#B=j,this.#r=H,this._eventBus=V,this._eventBus._on("editingaction",this.#L),this._eventBus._on("pagechanging",this.#v),this._eventBus._on("scalechanging",this.#I),this._eventBus._on("rotationchanging",this.#T),this.#s=z.annotationStorage,this.#f=z.filterFactory,this.#y=G,this.viewParameters={realScale:S.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#U(),this.#P(),this._eventBus._off("editingaction",this.#L),this._eventBus._off("pagechanging",this.#v),this._eventBus._off("scalechanging",this.#I),this._eventBus._off("rotationchanging",this.#T);for(const U of this.#n.values())U.destroy();this.#n.clear(),this.#t.clear(),this.#a.clear(),this.#e=null,this.#d.clear(),this.#i.destroy(),this.#r.destroy(),this.#h&&(clearTimeout(this.#h),this.#h=null),this.#w&&(clearTimeout(this.#w),this.#w=null)}get hcmFilter(){return(0,b.shadow)(this,"hcmFilter",this.#y?this.#f.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,b.shadow)(this,"direction",getComputedStyle(this.#A).direction)}editAltText(U){this.#r?.editAltText(this,U)}onPageChanging({pageNumber:U}){this.#c=U-1}focusMainContainer(){this.#A.focus()}findParent(U,j){for(const H of this.#n.values()){const{x:V,y:z,width:G,height:X}=H.div.getBoundingClientRect();if(U>=V&&U<=V+G&&j>=z&&j<=z+X)return H}return null}disableUserSelect(U=!1){this.#B.classList.toggle("noUserSelect",U)}addShouldRescale(U){this.#a.add(U)}removeShouldRescale(U){this.#a.delete(U)}onScaleChanging({scale:U}){this.commitOrRemove(),this.viewParameters.realScale=U*S.PixelsPerInch.PDF_TO_CSS_UNITS;for(const j of this.#a)j.onScaleChanging()}onRotationChanging({pagesRotation:U}){this.commitOrRemove(),this.viewParameters.rotation=U}addToAnnotationStorage(U){!U.isEmpty()&&this.#s&&!this.#s.has(U.id)&&this.#s.setValue(U.id,U)}#N(){window.addEventListener("focus",this.#k),window.addEventListener("blur",this.#F)}#P(){window.removeEventListener("focus",this.#k),window.removeEventListener("blur",this.#F)}blur(){if(!this.hasSelection)return;const{activeElement:U}=document;for(const j of this.#d)if(j.div.contains(U)){this.#x=[j,U],j._focusEventsAllowed=!1;break}}focus(){if(!this.#x)return;const[U,j]=this.#x;this.#x=null,j.addEventListener("focusin",()=>{U._focusEventsAllowed=!0},{once:!0}),j.focus()}#H(){window.addEventListener("keydown",this.#M)}#U(){window.removeEventListener("keydown",this.#M)}#j(){document.addEventListener("copy",this.#O),document.addEventListener("cut",this.#_),document.addEventListener("paste",this.#R)}#D(){document.removeEventListener("copy",this.#O),document.removeEventListener("cut",this.#_),document.removeEventListener("paste",this.#R)}addEditListeners(){this.#H(),this.#j()}removeEditListeners(){this.#U(),this.#D()}copy(U){if(U.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const j=[];for(const H of this.#d){const V=H.serialize(!0);V&&j.push(V)}j.length!==0&&U.clipboardData.setData("application/pdfjs",JSON.stringify(j))}cut(U){this.copy(U),this.delete()}paste(U){U.preventDefault();const{clipboardData:j}=U;for(const z of j.items)for(const G of this.#u)if(G.isHandlingMimeForPasting(z.type)){G.paste(z,this.currentLayer);return}let H=j.getData("application/pdfjs");if(!H)return;try{H=JSON.parse(H)}catch(z){(0,b.warn)(`paste: "${z.message}".`);return}if(!Array.isArray(H))return;this.unselectAll();const V=this.currentLayer;try{const z=[];for(const Y of H){const J=V.deserialize(Y);if(!J)return;z.push(J)}const G=()=>{for(const Y of z)this.#G(Y);this.#X(z)},X=()=>{for(const Y of z)Y.remove()};this.addCommands({cmd:G,undo:X,mustExec:!0})}catch(z){(0,b.warn)(`paste: "${z.message}".`)}}keydown(U){this.isEditorHandlingKeyboard||L._keyboardManager.exec(this,U)}onEditingAction(U){["undo","redo","delete","selectAll"].includes(U.name)&&this[U.name]()}#C(U){Object.entries(U).some(([H,V])=>this.#E[H]!==V)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#E,U)})}#V(U){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:U})}setEditingState(U){U?(this.#N(),this.#H(),this.#j(),this.#C({isEditing:this.#m!==b.AnnotationEditorType.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:this.#i.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#P(),this.#U(),this.#D(),this.#C({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(U){if(!this.#u){this.#u=U;for(const j of this.#u)this.#V(j.defaultPropertiesToUpdate)}}getId(){return this.#p.getId()}get currentLayer(){return this.#n.get(this.#c)}getLayer(U){return this.#n.get(U)}get currentPageIndex(){return this.#c}addLayer(U){this.#n.set(U.pageIndex,U),this.#g?U.enable():U.disable()}removeLayer(U){this.#n.delete(U.pageIndex)}updateMode(U,j=null,H=!1){if(this.#m!==U){if(this.#m=U,U===b.AnnotationEditorType.NONE){this.setEditingState(!1),this.#q();return}this.setEditingState(!0),this.#$(),this.unselectAll();for(const V of this.#n.values())V.updateMode(U);if(!j&&H){this.addNewEditorFromKeyboard();return}if(j){for(const V of this.#t.values())if(V.annotationElementId===j){this.setSelected(V),V.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.addNewEditor()}updateToolbar(U){U!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:U})}updateParams(U,j){if(this.#u){if(U===b.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor();return}for(const H of this.#d)H.updateParams(U,j);for(const H of this.#u)H.updateDefaultParams(U,j)}}enableWaiting(U=!1){if(this.#b!==U){this.#b=U;for(const j of this.#n.values())U?j.disableClick():j.enableClick(),j.div.classList.toggle("waiting",U)}}#$(){if(!this.#g){this.#g=!0;for(const U of this.#n.values())U.enable()}}#q(){if(this.unselectAll(),this.#g){this.#g=!1;for(const U of this.#n.values())U.disable()}}getEditors(U){const j=[];for(const H of this.#t.values())H.pageIndex===U&&j.push(H);return j}getEditor(U){return this.#t.get(U)}addEditor(U){this.#t.set(U.id,U)}removeEditor(U){U.div.contains(document.activeElement)&&(this.#h&&clearTimeout(this.#h),this.#h=setTimeout(()=>{this.focusMainContainer(),this.#h=null},0)),this.#t.delete(U.id),this.unselect(U),(!U.annotationElementId||!this.#l.has(U.annotationElementId))&&this.#s?.remove(U.id)}addDeletedAnnotationElement(U){this.#l.add(U.annotationElementId),U.deleted=!0}isDeletedAnnotationElement(U){return this.#l.has(U)}removeDeletedAnnotationElement(U){this.#l.delete(U.annotationElementId),U.deleted=!1}#G(U){const j=this.#n.get(U.pageIndex);j?j.addOrRebuild(U):this.addEditor(U)}setActiveEditor(U){this.#e!==U&&(this.#e=U,U&&this.#V(U.propertiesToUpdate))}toggleSelected(U){if(this.#d.has(U)){this.#d.delete(U),U.unselect(),this.#C({hasSelectedEditor:this.hasSelection});return}this.#d.add(U),U.select(),this.#V(U.propertiesToUpdate),this.#C({hasSelectedEditor:!0})}setSelected(U){for(const j of this.#d)j!==U&&j.unselect();this.#d.clear(),this.#d.add(U),U.select(),this.#V(U.propertiesToUpdate),this.#C({hasSelectedEditor:!0})}isSelected(U){return this.#d.has(U)}get firstSelectedEditor(){return this.#d.values().next().value}unselect(U){U.unselect(),this.#d.delete(U),this.#C({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#d.size!==0}get isEnterHandled(){return this.#d.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#i.undo(),this.#C({hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#i.redo(),this.#C({hasSomethingToUndo:!0,hasSomethingToRedo:this.#i.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(U){this.#i.add(U),this.#C({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const U of this.#t.values())return U.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const U=[...this.#d],j=()=>{for(const V of U)V.remove()},H=()=>{for(const V of U)this.#G(V)};this.addCommands({cmd:j,undo:H,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#X(U){this.#d.clear();for(const j of U)j.isEmpty()||(this.#d.add(j),j.select());this.#C({hasSelectedEditor:!0})}selectAll(){for(const U of this.#d)U.commit();this.#X(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const U of this.#d)U.unselect();this.#d.clear(),this.#C({hasSelectedEditor:!1})}}translateSelectedEditors(U,j,H=!1){if(H||this.commitOrRemove(),!this.hasSelection)return;this.#S[0]+=U,this.#S[1]+=j;const[V,z]=this.#S,G=[...this.#d],X=1e3;this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.#w=null,this.#S[0]=this.#S[1]=0,this.addCommands({cmd:()=>{for(const Y of G)this.#t.has(Y.id)&&Y.translateInPage(V,z)},undo:()=>{for(const Y of G)this.#t.has(Y.id)&&Y.translateInPage(-V,-z)},mustExec:!1})},X);for(const Y of G)Y.translateInPage(U,j)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#o=new Map;for(const U of this.#d)this.#o.set(U,{savedX:U.x,savedY:U.y,savedPageIndex:U.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#o)return!1;this.disableUserSelect(!1);const U=this.#o;this.#o=null;let j=!1;for(const[{x:V,y:z,pageIndex:G},X]of U)X.newX=V,X.newY=z,X.newPageIndex=G,j||=V!==X.savedX||z!==X.savedY||G!==X.savedPageIndex;if(!j)return!1;const H=(V,z,G,X)=>{if(this.#t.has(V.id)){const Y=this.#n.get(X);Y?V._setParentAndPosition(Y,z,G):(V.pageIndex=X,V.x=z,V.y=G)}};return this.addCommands({cmd:()=>{for(const[V,{newX:z,newY:G,newPageIndex:X}]of U)H(V,z,G,X)},undo:()=>{for(const[V,{savedX:z,savedY:G,savedPageIndex:X}]of U)H(V,z,G,X)},mustExec:!0}),!0}dragSelectedEditors(U,j){if(this.#o)for(const H of this.#o.keys())H.drag(U,j)}rebuild(U){if(U.parent===null){const j=this.getLayer(U.pageIndex);j?(j.changeParent(U),j.addOrRebuild(U)):(this.addEditor(U),this.addToAnnotationStorage(U),U.rebuild())}else U.parent.addOrRebuild(U)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#d.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(U){return this.#e===U}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,b.shadow)(this,"imageManager",new E)}}},171:(g,d,x)=>{x.d(d,{PDFFetchStream:()=>E});var b=x(266),S=x(253);function w(M,L,R){return{method:"GET",headers:M,signal:R.signal,mode:"cors",credentials:L?"include":"same-origin",redirect:"follow"}}function C(M){const L=new Headers;for(const R in M){const U=M[R];U!==void 0&&L.append(R,U)}return L}function F(M){return M instanceof Uint8Array?M.buffer:M instanceof ArrayBuffer?M:((0,b.warn)(`getArrayBuffer - unexpected data format: ${M}`),new Uint8Array(M).buffer)}class E{constructor(L){this.source=L,this.isHttp=/^https?:/i.test(L.url),this.httpHeaders=this.isHttp&&L.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new k(this),this._fullRequestReader}getRangeReader(L,R){if(R<=this._progressiveDataLength)return null;const U=new D(this,L,R);return this._rangeRequestReaders.push(U),U}cancelAllRequests(L){this._fullRequestReader?.cancel(L);for(const R of this._rangeRequestReaders.slice(0))R.cancel(L)}}class k{constructor(L){this._stream=L,this._reader=null,this._loaded=0,this._filename=null;const R=L.source;this._withCredentials=R.withCredentials||!1,this._contentLength=R.length,this._headersCapability=new b.PromiseCapability,this._disableRange=R.disableRange||!1,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!R.disableStream,this._isRangeSupported=!R.disableRange,this._headers=C(this._stream.httpHeaders);const U=R.url;fetch(U,w(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,S.validateResponseStatus)(j.status))throw(0,S.createResponseStatusError)(j.status,U);this._reader=j.body.getReader(),this._headersCapability.resolve();const H=G=>j.headers.get(G),{allowRangeRequests:V,suggestedLength:z}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:H,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=V,this._contentLength=z||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(H),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new b.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:L,done:R}=await this._reader.read();return R?{value:L,done:R}:(this._loaded+=L.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:F(L),done:!1})}cancel(L){this._reader?.cancel(L),this._abortController.abort()}}class D{constructor(L,R,U){this._stream=L,this._reader=null,this._loaded=0;const j=L.source;this._withCredentials=j.withCredentials||!1,this._readCapability=new b.PromiseCapability,this._isStreamingSupported=!j.disableStream,this._abortController=new AbortController,this._headers=C(this._stream.httpHeaders),this._headers.append("Range",`bytes=${R}-${U-1}`);const H=j.url;fetch(H,w(this._headers,this._withCredentials,this._abortController)).then(V=>{if(!(0,S.validateResponseStatus)(V.status))throw(0,S.createResponseStatusError)(V.status,H);this._readCapability.resolve(),this._reader=V.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:L,done:R}=await this._reader.read();return R?{value:L,done:R}:(this._loaded+=L.byteLength,this.onProgress?.({loaded:this._loaded}),{value:F(L),done:!1})}cancel(L){this._reader?.cancel(L),this._abortController.abort()}}},742:(g,d,x)=>{x.d(d,{FontFaceObject:()=>w,FontLoader:()=>S});var b=x(266);class S{#e=new Set;constructor({ownerDocument:F=globalThis.document,styleElement:E=null}){this._document=F,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(F){this.nativeFontFaces.add(F),this._document.fonts.add(F)}removeNativeFontFace(F){this.nativeFontFaces.delete(F),this._document.fonts.delete(F)}insertRule(F){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const E=this.styleElement.sheet;E.insertRule(F,E.cssRules.length)}clear(){for(const F of this.nativeFontFaces)this._document.fonts.delete(F);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:F,_inspectFont:E}){if(!(!F||this.#e.has(F.loadedName))){if((0,b.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:k,src:D,style:M}=F,L=new FontFace(k,D,M);this.addNativeFontFace(L);try{await L.load(),this.#e.add(k),E?.(F)}catch{(0,b.warn)(`Cannot load system font: ${F.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(L)}return}(0,b.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(F){if(F.attached||F.missingFile&&!F.systemFontInfo)return;if(F.attached=!0,F.systemFontInfo){await this.loadSystemFont(F);return}if(this.isFontLoadingAPISupported){const k=F.createNativeFontFace();if(k){this.addNativeFontFace(k);try{await k.loaded}catch(D){throw(0,b.warn)(`Failed to load font '${k.family}': '${D}'.`),F.disableFontFace=!0,D}}return}const E=F.createFontFaceRule();if(E){if(this.insertRule(E),this.isSyncFontLoadingSupported)return;await new Promise(k=>{const D=this._queueLoadingCallback(k);this._prepareFontLoadEvent(F,D)})}}get isFontLoadingAPISupported(){const F=!!this._document?.fonts;return(0,b.shadow)(this,"isFontLoadingAPISupported",F)}get isSyncFontLoadingSupported(){let F=!1;return(b.isNodeJS||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(F=!0),(0,b.shadow)(this,"isSyncFontLoadingSupported",F)}_queueLoadingCallback(F){function E(){for((0,b.assert)(!D.done,"completeRequest() cannot be called twice."),D.done=!0;k.length>0&&k[0].done;){const M=k.shift();setTimeout(M.callback,0)}}const{loadingRequests:k}=this,D={done:!1,complete:E,callback:F};return k.push(D),D}get _loadTestFont(){const F=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,b.shadow)(this,"_loadTestFont",F)}_prepareFontLoadEvent(F,E){function k(he,fe){return he.charCodeAt(fe)<<24|he.charCodeAt(fe+1)<<16|he.charCodeAt(fe+2)<<8|he.charCodeAt(fe+3)&255}function D(he,fe,Se,we){const Ee=he.substring(0,fe),de=he.substring(fe+Se);return Ee+we+de}let M,L;const R=this._document.createElement("canvas");R.width=1,R.height=1;const U=R.getContext("2d");let j=0;function H(he,fe){if(++j>30){(0,b.warn)("Load test font never loaded."),fe();return}if(U.font="30px "+he,U.fillText(".",0,20),U.getImageData(0,0,1,1).data[3]>0){fe();return}setTimeout(H.bind(null,he,fe))}const V=`lt${Date.now()}${this.loadTestFontId++}`;let z=this._loadTestFont;z=D(z,976,V.length,V);const X=16,Y=1482184792;let J=k(z,X);for(M=0,L=V.length-3;M<L;M+=4)J=J-Y+k(V,M)|0;M<V.length&&(J=J-Y+k(V+"XXX",M)|0),z=D(z,X,4,(0,b.string32)(J));const ee=`url(data:font/opentype;base64,${btoa(z)});`,ie=`@font-face {font-family:"${V}";src:${ee}}`;this.insertRule(ie);const oe=this._document.createElement("div");oe.style.visibility="hidden",oe.style.width=oe.style.height="10px",oe.style.position="absolute",oe.style.top=oe.style.left="0px";for(const he of[F.loadedName,V]){const fe=this._document.createElement("span");fe.textContent="Hi",fe.style.fontFamily=he,oe.append(fe)}this._document.body.append(oe),H(V,()=>{oe.remove(),E.complete()})}}class w{constructor(F,{isEvalSupported:E=!0,disableFontFace:k=!1,ignoreErrors:D=!1,inspectFont:M=null}){this.compiledGlyphs=Object.create(null);for(const L in F)this[L]=F[L];this.isEvalSupported=E!==!1,this.disableFontFace=k===!0,this.ignoreErrors=D===!0,this._inspectFont=M}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let F;if(!this.cssFontInfo)F=new FontFace(this.loadedName,this.data,{});else{const E={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(E.style=`oblique ${this.cssFontInfo.italicAngle}deg`),F=new FontFace(this.cssFontInfo.fontFamily,this.data,E)}return this._inspectFont?.(this),F}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const F=(0,b.bytesToString)(this.data),E=`url(data:${this.mimetype};base64,${btoa(F)});`;let k;if(!this.cssFontInfo)k=`@font-face {font-family:"${this.loadedName}";src:${E}}`;else{let D=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(D+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),k=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${D}src:${E}}`}return this._inspectFont?.(this,E),k}getPathGenerator(F,E){if(this.compiledGlyphs[E]!==void 0)return this.compiledGlyphs[E];let k;try{k=F.get(this.loadedName+"_path_"+E)}catch(D){if(!this.ignoreErrors)throw D;return(0,b.warn)(`getPathGenerator - ignoring character: "${D}".`),this.compiledGlyphs[E]=function(M,L){}}if(this.isEvalSupported&&b.FeatureTest.isEvalSupported){const D=[];for(const M of k){const L=M.args!==void 0?M.args.join(","):"";D.push("c.",M.cmd,"(",L,`);
`)}return this.compiledGlyphs[E]=new Function("c","size",D.join(""))}return this.compiledGlyphs[E]=function(D,M){for(const L of k)L.cmd==="scale"&&(L.args=[M,-M]),D[L.cmd].apply(D,L.args)}}}},472:(g,d,x)=>{x.d(d,{Metadata:()=>S});var b=x(266);class S{#e;#t;constructor({parsedData:C,rawData:F}){this.#e=C,this.#t=F}getRaw(){return this.#t}get(C){return this.#e.get(C)??null}getAll(){return(0,b.objectFromMap)(this.#e)}has(C){return this.#e.has(C)}}},474:(g,d,x)=>{x.d(d,{PDFNetworkStream:()=>k});var b=x(266),S=x(253);const w=200,C=206;function F(L){const R=L.response;return typeof R!="string"?R:(0,b.stringToBytes)(R).buffer}class E{constructor(R,U={}){this.url=R,this.isHttp=/^https?:/i.test(R),this.httpHeaders=this.isHttp&&U.httpHeaders||Object.create(null),this.withCredentials=U.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(R,U,j){const H={begin:R,end:U};for(const V in j)H[V]=j[V];return this.request(H)}requestFull(R){return this.request(R)}request(R){const U=new XMLHttpRequest,j=this.currXhrId++,H=this.pendingRequests[j]={xhr:U};U.open("GET",this.url),U.withCredentials=this.withCredentials;for(const V in this.httpHeaders){const z=this.httpHeaders[V];z!==void 0&&U.setRequestHeader(V,z)}return this.isHttp&&"begin"in R&&"end"in R?(U.setRequestHeader("Range",`bytes=${R.begin}-${R.end-1}`),H.expectedStatus=C):H.expectedStatus=w,U.responseType="arraybuffer",R.onError&&(U.onerror=function(V){R.onError(U.status)}),U.onreadystatechange=this.onStateChange.bind(this,j),U.onprogress=this.onProgress.bind(this,j),H.onHeadersReceived=R.onHeadersReceived,H.onDone=R.onDone,H.onError=R.onError,H.onProgress=R.onProgress,U.send(null),j}onProgress(R,U){const j=this.pendingRequests[R];j&&j.onProgress?.(U)}onStateChange(R,U){const j=this.pendingRequests[R];if(!j)return;const H=j.xhr;if(H.readyState>=2&&j.onHeadersReceived&&(j.onHeadersReceived(),delete j.onHeadersReceived),H.readyState!==4||!(R in this.pendingRequests))return;if(delete this.pendingRequests[R],H.status===0&&this.isHttp){j.onError?.(H.status);return}const V=H.status||w;if(!(V===w&&j.expectedStatus===C)&&V!==j.expectedStatus){j.onError?.(H.status);return}const G=F(H);if(V===C){const X=H.getResponseHeader("Content-Range"),Y=/bytes (\d+)-(\d+)\/(\d+)/.exec(X);j.onDone({begin:parseInt(Y[1],10),chunk:G})}else G?j.onDone({begin:0,chunk:G}):j.onError?.(H.status)}getRequestXhr(R){return this.pendingRequests[R].xhr}isPendingRequest(R){return R in this.pendingRequests}abortRequest(R){const U=this.pendingRequests[R].xhr;delete this.pendingRequests[R],U.abort()}}class k{constructor(R){this._source=R,this._manager=new E(R.url,{httpHeaders:R.httpHeaders,withCredentials:R.withCredentials}),this._rangeChunkSize=R.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(R){const U=this._rangeRequestReaders.indexOf(R);U>=0&&this._rangeRequestReaders.splice(U,1)}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new D(this._manager,this._source),this._fullRequestReader}getRangeReader(R,U){const j=new M(this._manager,R,U);return j.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(j),j}cancelAllRequests(R){this._fullRequestReader?.cancel(R);for(const U of this._rangeRequestReaders.slice(0))U.cancel(R)}}class D{constructor(R,U){this._manager=R;const j={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=U.url,this._fullRequestId=R.requestFull(j),this._headersReceivedCapability=new b.PromiseCapability,this._disableRange=U.disableRange||!1,this._contentLength=U.length,this._rangeChunkSize=U.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const R=this._fullRequestId,U=this._manager.getRequestXhr(R),j=z=>U.getResponseHeader(z),{allowRangeRequests:H,suggestedLength:V}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:j,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});H&&(this._isRangeSupported=!0),this._contentLength=V||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(j),this._isRangeSupported&&this._manager.abortRequest(R),this._headersReceivedCapability.resolve()}_onDone(R){if(R&&(this._requests.length>0?this._requests.shift().resolve({value:R.chunk,done:!1}):this._cachedChunks.push(R.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(R){this._storedError=(0,S.createResponseStatusError)(R,this._url),this._headersReceivedCapability.reject(this._storedError);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(R){this.onProgress?.({loaded:R.loaded,total:R.lengthComputable?R.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const R=new b.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0,this._headersReceivedCapability.reject(R);for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class M{constructor(R,U,j){this._manager=R;const H={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._requestId=R.requestRange(U,j,H),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(R){const U=R.chunk;this._requests.length>0?this._requests.shift().resolve({value:U,done:!1}):this._queuedChunk=U,this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(R){this._storedError=(0,S.createResponseStatusError)(R,this._url);for(const U of this._requests)U.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(R){this.isStreamingSupported||this.onProgress?.({loaded:R.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const U=this._queuedChunk;return this._queuedChunk=null,{value:U,done:!1}}if(this._done)return{value:void 0,done:!0};const R=new b.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},253:(g,d,x)=>{x.d(d,{createResponseStatusError:()=>E,extractFilenameFromHeader:()=>F,validateRangeRequestCapabilities:()=>C,validateResponseStatus:()=>k});var b=x(266);function S(D){let M=!0,L=R("filename\\*","i").exec(D);if(L){L=L[1];let X=V(L);return X=unescape(X),X=z(X),X=G(X),j(X)}if(L=H(D),L){const X=G(L);return j(X)}if(L=R("filename","i").exec(D),L){L=L[1];let X=V(L);return X=G(X),j(X)}function R(X,Y){return new RegExp("(?:^|;)\\s*"+X+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Y)}function U(X,Y){if(X){if(!/^[\x00-\xFF]+$/.test(Y))return Y;try{const J=new TextDecoder(X,{fatal:!0}),ee=(0,b.stringToBytes)(Y);Y=J.decode(ee),M=!1}catch{}}return Y}function j(X){return M&&/[\x80-\xff]/.test(X)&&(X=U("utf-8",X),M&&(X=U("iso-8859-1",X))),X}function H(X){const Y=[];let J;const ee=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(J=ee.exec(X))!==null;){let[,oe,he,fe]=J;if(oe=parseInt(oe,10),oe in Y){if(oe===0)break;continue}Y[oe]=[he,fe]}const ie=[];for(let oe=0;oe<Y.length&&oe in Y;++oe){let[he,fe]=Y[oe];fe=V(fe),he&&(fe=unescape(fe),oe===0&&(fe=z(fe))),ie.push(fe)}return ie.join("")}function V(X){if(X.startsWith('"')){const Y=X.slice(1).split('\\"');for(let J=0;J<Y.length;++J){const ee=Y[J].indexOf('"');ee!==-1&&(Y[J]=Y[J].slice(0,ee),Y.length=J+1),Y[J]=Y[J].replaceAll(/\\(.)/g,"$1")}X=Y.join('"')}return X}function z(X){const Y=X.indexOf("'");if(Y===-1)return X;const J=X.slice(0,Y),ie=X.slice(Y+1).replace(/^[^']*'/,"");return U(J,ie)}function G(X){return!X.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(X)?X:X.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Y,J,ee,ie){if(ee==="q"||ee==="Q")return ie=ie.replaceAll("_"," "),ie=ie.replaceAll(/=([0-9a-fA-F]{2})/g,function(oe,he){return String.fromCharCode(parseInt(he,16))}),U(J,ie);try{ie=atob(ie)}catch{}return U(J,ie)})}return""}var w=x(473);function C({getResponseHeader:D,isHttp:M,rangeChunkSize:L,disableRange:R}){const U={allowRangeRequests:!1,suggestedLength:void 0},j=parseInt(D("Content-Length"),10);return!Number.isInteger(j)||(U.suggestedLength=j,j<=2*L)||R||!M||D("Accept-Ranges")!=="bytes"||(D("Content-Encoding")||"identity")!=="identity"||(U.allowRangeRequests=!0),U}function F(D){const M=D("Content-Disposition");if(M){let L=S(M);if(L.includes("%"))try{L=decodeURIComponent(L)}catch{}if((0,w.isPdfFile)(L))return L}return null}function E(D,M){return D===404||D===0&&M.startsWith("file:")?new b.MissingPDFException('Missing PDF "'+M+'".'):new b.UnexpectedResponseException(`Unexpected server response (${D}) while retrieving PDF "${M}".`,D)}function k(D){return D===200||D===206}},498:(g,d,x)=>{x.a(g,async(b,S)=>{try{let L=function(Y){const J=D.parse(Y);return J.protocol==="file:"||J.host?J:/^[a-z]:[/\\]/i.test(Y)?D.parse(`file:///${Y}`):(J.host||(J.protocol="file:"),J)},H=function(Y,J){return{protocol:Y.protocol,auth:Y.auth,host:Y.hostname,port:Y.port,path:Y.path,method:"GET",headers:J}};x.d(d,{PDFNodeStream:()=>R});var w=x(266),C=x(253);let F,E,k,D;w.isNodeJS&&(F=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),E=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),k=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])),D=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([])));const M=/^file:\/\/\/[a-zA-Z]:\//;class R{constructor(J){this.source=J,this.url=L(J.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&J.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,w.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new G(this):new V(this),this._fullRequestReader}getRangeReader(J,ee){if(ee<=this._progressiveDataLength)return null;const ie=this.isFsUrl?new X(this,J,ee):new z(this,J,ee);return this._rangeRequestReaders.push(ie),ie}cancelAllRequests(J){this._fullRequestReader?.cancel(J);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(J)}}class U{constructor(J){this._url=J.url,this._done=!1,this._storedError=null,this.onProgress=null;const ee=J.source;this._contentLength=ee.length,this._loaded=0,this._filename=null,this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._readableStream=null,this._readCapability=new w.PromiseCapability,this._headersCapability=new w.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const J=this._readableStream.read();return J===null?(this._readCapability=new w.PromiseCapability,this.read()):(this._loaded+=J.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(J).buffer,done:!1})}cancel(J){if(!this._readableStream){this._error(J);return}this._readableStream.destroy(J)}_error(J){this._storedError=J,this._readCapability.resolve()}_setReadableStream(J){this._readableStream=J,J.on("readable",()=>{this._readCapability.resolve()}),J.on("end",()=>{J.destroy(),this._done=!0,this._readCapability.resolve()}),J.on("error",ee=>{this._error(ee)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new w.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class j{constructor(J){this._url=J.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new w.PromiseCapability;const ee=J.source;this._isStreamingSupported=!ee.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const J=this._readableStream.read();return J===null?(this._readCapability=new w.PromiseCapability,this.read()):(this._loaded+=J.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(J).buffer,done:!1})}cancel(J){if(!this._readableStream){this._error(J);return}this._readableStream.destroy(J)}_error(J){this._storedError=J,this._readCapability.resolve()}_setReadableStream(J){this._readableStream=J,J.on("readable",()=>{this._readCapability.resolve()}),J.on("end",()=>{J.destroy(),this._done=!0,this._readCapability.resolve()}),J.on("error",ee=>{this._error(ee)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class V extends U{constructor(J){super(J);const ee=ie=>{if(ie.statusCode===404){const Se=new w.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Se,this._headersCapability.reject(Se);return}this._headersCapability.resolve(),this._setReadableStream(ie);const oe=Se=>this._readableStream.headers[Se.toLowerCase()],{allowRangeRequests:he,suggestedLength:fe}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:oe,isHttp:J.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=he,this._contentLength=fe||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(oe)};this._request=null,this._url.protocol==="http:"?this._request=E.request(H(this._url,J.httpHeaders),ee):this._request=k.request(H(this._url,J.httpHeaders),ee),this._request.on("error",ie=>{this._storedError=ie,this._headersCapability.reject(ie)}),this._request.end()}}class z extends j{constructor(J,ee,ie){super(J),this._httpHeaders={};for(const he in J.httpHeaders){const fe=J.httpHeaders[he];fe!==void 0&&(this._httpHeaders[he]=fe)}this._httpHeaders.Range=`bytes=${ee}-${ie-1}`;const oe=he=>{if(he.statusCode===404){const fe=new w.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=fe;return}this._setReadableStream(he)};this._request=null,this._url.protocol==="http:"?this._request=E.request(H(this._url,this._httpHeaders),oe):this._request=k.request(H(this._url,this._httpHeaders),oe),this._request.on("error",he=>{this._storedError=he}),this._request.end()}}class G extends U{constructor(J){super(J);let ee=decodeURIComponent(this._url.path);M.test(this._url.href)&&(ee=ee.replace(/^\//,"")),F.lstat(ee,(ie,oe)=>{if(ie){ie.code==="ENOENT"&&(ie=new w.MissingPDFException(`Missing PDF "${ee}".`)),this._storedError=ie,this._headersCapability.reject(ie);return}this._contentLength=oe.size,this._setReadableStream(F.createReadStream(ee)),this._headersCapability.resolve()})}}class X extends j{constructor(J,ee,ie){super(J);let oe=decodeURIComponent(this._url.path);M.test(this._url.href)&&(oe=oe.replace(/^\//,"")),this._setReadableStream(F.createReadStream(oe,{start:ee,end:ie-1}))}}S()}catch(F){S(F)}},1)},738:(g,d,x)=>{x.a(g,async(b,S)=>{try{x.d(d,{NodeCMapReaderFactory:()=>R,NodeCanvasFactory:()=>L,NodeFilterFactory:()=>M,NodeStandardFontDataFactory:()=>U});var w=x(822),C=x(266);let F,E,k;if(C.isNodeJS){F=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([]));try{E=await __vitePreload(()=>import("./__vite-browser-external-XPXQPciS.js"),__vite__mapDeps([]))}catch{}try{k=await __vitePreload(()=>import("./path2d-polyfill.esm-kxgC9fkc.js"),__vite__mapDeps([]))}catch{}}const D=function(j){return new Promise((H,V)=>{F.readFile(j,(z,G)=>{if(z||!G){V(new Error(z));return}H(new Uint8Array(G))})})};class M extends w.BaseFilterFactory{}class L extends w.BaseCanvasFactory{_createCanvas(H,V){return E.createCanvas(H,V)}}class R extends w.BaseCMapReaderFactory{_fetchData(H,V){return D(H).then(z=>({cMapData:z,compressionType:V}))}}class U extends w.BaseStandardFontDataFactory{_fetchData(H){return D(H)}}S()}catch(F){S(F)}},1)},890:(g,d,x)=>{x.d(d,{OptionalContentConfig:()=>F});var b=x(266),S=x(825);const w=Symbol("INTERNAL");class C{#e=!0;constructor(k,D){this.name=k,this.intent=D}get visible(){return this.#e}_setVisible(k,D){k!==w&&(0,b.unreachable)("Internal method `_setVisible` called."),this.#e=D}}class F{#e=null;#t=new Map;#n=null;#r=null;constructor(k){if(this.name=null,this.creator=null,k!==null){this.name=k.name,this.creator=k.creator,this.#r=k.order;for(const D of k.groups)this.#t.set(D.id,new C(D.name,D.intent));if(k.baseState==="OFF")for(const D of this.#t.values())D._setVisible(w,!1);for(const D of k.on)this.#t.get(D)._setVisible(w,!0);for(const D of k.off)this.#t.get(D)._setVisible(w,!1);this.#n=this.getHash()}}#s(k){const D=k.length;if(D<2)return!0;const M=k[0];for(let L=1;L<D;L++){const R=k[L];let U;if(Array.isArray(R))U=this.#s(R);else if(this.#t.has(R))U=this.#t.get(R).visible;else return(0,b.warn)(`Optional content group not found: ${R}`),!0;switch(M){case"And":if(!U)return!1;break;case"Or":if(U)return!0;break;case"Not":return!U;default:return!0}}return M==="And"}isVisible(k){if(this.#t.size===0)return!0;if(!k)return(0,b.warn)("Optional content group not defined."),!0;if(k.type==="OCG")return this.#t.has(k.id)?this.#t.get(k.id).visible:((0,b.warn)(`Optional content group not found: ${k.id}`),!0);if(k.type==="OCMD"){if(k.expression)return this.#s(k.expression);if(!k.policy||k.policy==="AnyOn"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(this.#t.get(D).visible)return!0}return!1}else if(k.policy==="AllOn"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(!this.#t.get(D).visible)return!1}return!0}else if(k.policy==="AnyOff"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(!this.#t.get(D).visible)return!0}return!1}else if(k.policy==="AllOff"){for(const D of k.ids){if(!this.#t.has(D))return(0,b.warn)(`Optional content group not found: ${D}`),!0;if(this.#t.get(D).visible)return!1}return!0}return(0,b.warn)(`Unknown optional content policy ${k.policy}.`),!0}return(0,b.warn)(`Unknown group type ${k.type}.`),!0}setVisibility(k,D=!0){if(!this.#t.has(k)){(0,b.warn)(`Optional content group not found: ${k}`);return}this.#t.get(k)._setVisible(w,!!D),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,b.objectFromMap)(this.#t):null}getGroup(k){return this.#t.get(k)||null}getHash(){if(this.#e!==null)return this.#e;const k=new S.MurmurHash3_64;for(const[D,M]of this.#t)k.update(`${D}:${M.visible}`);return this.#e=k.hexdigest()}}},739:(g,d,x)=>{x.d(d,{renderTextLayer:()=>j,updateTextLayer:()=>H});var b=x(266),S=x(473);const w=1e5,C=30,F=.8,E=new Map;function k(V,z){let G;if(z&&b.FeatureTest.isOffscreenCanvasSupported)G=new OffscreenCanvas(V,V).getContext("2d",{alpha:!1});else{const X=document.createElement("canvas");X.width=X.height=V,G=X.getContext("2d",{alpha:!1})}return G}function D(V,z){const G=E.get(V);if(G)return G;const X=k(C,z);X.font=`${C}px ${V}`;const Y=X.measureText("");let J=Y.fontBoundingBoxAscent,ee=Math.abs(Y.fontBoundingBoxDescent);if(J){const oe=J/(J+ee);return E.set(V,oe),X.canvas.width=X.canvas.height=0,oe}X.strokeStyle="red",X.clearRect(0,0,C,C),X.strokeText("g",0,0);let ie=X.getImageData(0,0,C,C).data;ee=0;for(let oe=ie.length-1-3;oe>=0;oe-=4)if(ie[oe]>0){ee=Math.ceil(oe/4/C);break}X.clearRect(0,0,C,C),X.strokeText("A",0,C),ie=X.getImageData(0,0,C,C).data,J=0;for(let oe=0,he=ie.length;oe<he;oe+=4)if(ie[oe]>0){J=C-Math.floor(oe/4/C);break}if(X.canvas.width=X.canvas.height=0,J){const oe=J/(J+ee);return E.set(V,oe),oe}return E.set(V,F),F}function M(V,z,G){const X=document.createElement("span"),Y={angle:0,canvasWidth:0,hasText:z.str!=="",hasEOL:z.hasEOL,fontSize:0};V._textDivs.push(X);const J=b.Util.transform(V._transform,z.transform);let ee=Math.atan2(J[1],J[0]);const ie=G[z.fontName];ie.vertical&&(ee+=Math.PI/2);const oe=V._fontInspectorEnabled&&ie.fontSubstitution||ie.fontFamily,he=Math.hypot(J[2],J[3]),fe=he*D(oe,V._isOffscreenCanvasSupported);let Se,we;ee===0?(Se=J[4],we=J[5]-fe):(Se=J[4]+fe*Math.sin(ee),we=J[5]-fe*Math.cos(ee));const Ee="calc(var(--scale-factor)*",de=X.style;V._container===V._rootContainer?(de.left=`${(100*Se/V._pageWidth).toFixed(2)}%`,de.top=`${(100*we/V._pageHeight).toFixed(2)}%`):(de.left=`${Ee}${Se.toFixed(2)}px)`,de.top=`${Ee}${we.toFixed(2)}px)`),de.fontSize=`${Ee}${he.toFixed(2)}px)`,de.fontFamily=oe,Y.fontSize=he,X.setAttribute("role","presentation"),X.textContent=z.str,X.dir=z.dir,V._fontInspectorEnabled&&(X.dataset.fontName=ie.fontSubstitutionLoadedName||z.fontName),ee!==0&&(Y.angle=ee*(180/Math.PI));let xe=!1;if(z.str.length>1)xe=!0;else if(z.str!==" "&&z.transform[0]!==z.transform[3]){const Te=Math.abs(z.transform[0]),Oe=Math.abs(z.transform[3]);Te!==Oe&&Math.max(Te,Oe)/Math.min(Te,Oe)>1.5&&(xe=!0)}xe&&(Y.canvasWidth=ie.vertical?z.height:z.width),V._textDivProperties.set(X,Y),V._isReadableStream&&V._layoutText(X)}function L(V){const{div:z,scale:G,properties:X,ctx:Y,prevFontSize:J,prevFontFamily:ee}=V,{style:ie}=z;let oe="";if(X.canvasWidth!==0&&X.hasText){const{fontFamily:he}=ie,{canvasWidth:fe,fontSize:Se}=X;(J!==Se||ee!==he)&&(Y.font=`${Se*G}px ${he}`,V.prevFontSize=Se,V.prevFontFamily=he);const{width:we}=Y.measureText(z.textContent);we>0&&(oe=`scaleX(${fe*G/we})`)}X.angle!==0&&(oe=`rotate(${X.angle}deg) ${oe}`),oe.length>0&&(ie.transform=oe)}function R(V){if(V._canceled)return;const z=V._textDivs,G=V._capability;if(z.length>w){G.resolve();return}if(!V._isReadableStream)for(const Y of z)V._layoutText(Y);G.resolve()}class U{constructor({textContentSource:z,container:G,viewport:X,textDivs:Y,textDivProperties:J,textContentItemsStr:ee,isOffscreenCanvasSupported:ie}){this._textContentSource=z,this._isReadableStream=z instanceof ReadableStream,this._container=this._rootContainer=G,this._textDivs=Y||[],this._textContentItemsStr=ee||[],this._isOffscreenCanvasSupported=ie,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=J||new WeakMap,this._canceled=!1,this._capability=new b.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:X.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:k(0,ie)};const{pageWidth:oe,pageHeight:he,pageX:fe,pageY:Se}=X.rawDims;this._transform=[1,0,0,-1,-fe,Se+he],this._pageWidth=oe,this._pageHeight=he,(0,S.setLayerDimensions)(G,X),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new b.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new b.AbortException("TextLayer task cancelled."))}_processItems(z,G){for(const X of z){if(X.str===void 0){if(X.type==="beginMarkedContentProps"||X.type==="beginMarkedContent"){const Y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),X.id!==null&&this._container.setAttribute("id",`${X.id}`),Y.append(this._container)}else X.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(X.str),M(this,X,G)}}_layoutText(z){const G=this._layoutTextParams.properties=this._textDivProperties.get(z);if(this._layoutTextParams.div=z,L(this._layoutTextParams),G.hasText&&this._container.append(z),G.hasEOL){const X=document.createElement("br");X.setAttribute("role","presentation"),this._container.append(X)}}_render(){const z=new b.PromiseCapability;let G=Object.create(null);if(this._isReadableStream){const X=()=>{this._reader.read().then(({value:Y,done:J})=>{if(J){z.resolve();return}Object.assign(G,Y.styles),this._processItems(Y.items,G),X()},z.reject)};this._reader=this._textContentSource.getReader(),X()}else if(this._textContentSource){const{items:X,styles:Y}=this._textContentSource;this._processItems(X,Y),z.resolve()}else throw new Error('No "textContentSource" parameter specified.');z.promise.then(()=>{G=null,R(this)},this._capability.reject)}}function j(V){const z=new U(V);return z._render(),z}function H({container:V,viewport:z,textDivs:G,textDivProperties:X,isOffscreenCanvasSupported:Y,mustRotate:J=!0,mustRescale:ee=!0}){if(J&&(0,S.setLayerDimensions)(V,{rotation:z.rotation}),ee){const ie=k(0,Y),he={prevFontSize:null,prevFontFamily:null,div:null,scale:z.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ie};for(const fe of G)he.properties=X.get(fe),he.div=fe,L(he)}}},92:(g,d,x)=>{x.d(d,{PDFDataTransportStream:()=>w});var b=x(266),S=x(473);class w{constructor({length:k,initialData:D,progressiveDone:M=!1,contentDispositionFilename:L=null,disableRange:R=!1,disableStream:U=!1},j){if((0,b.assert)(j,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=M,this._contentDispositionFilename=L,D?.length>0){const H=D instanceof Uint8Array&&D.byteLength===D.buffer.byteLength?D.buffer:new Uint8Array(D).buffer;this._queuedChunks.push(H)}this._pdfDataRangeTransport=j,this._isStreamingSupported=!U,this._isRangeSupported=!R,this._contentLength=k,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((H,V)=>{this._onReceiveData({begin:H,chunk:V})}),this._pdfDataRangeTransport.addProgressListener((H,V)=>{this._onProgress({loaded:H,total:V})}),this._pdfDataRangeTransport.addProgressiveReadListener(H=>{this._onReceiveData({chunk:H})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:k,chunk:D}){const M=D instanceof Uint8Array&&D.byteLength===D.buffer.byteLength?D.buffer:new Uint8Array(D).buffer;if(k===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(M):this._queuedChunks.push(M);else{const L=this._rangeReaders.some(function(R){return R._begin!==k?!1:(R._enqueue(M),!0)});(0,b.assert)(L,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(k){k.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:k.loaded}):this._fullRequestReader?.onProgress?.({loaded:k.loaded,total:k.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(k){const D=this._rangeReaders.indexOf(k);D>=0&&this._rangeReaders.splice(D,1)}getFullReader(){(0,b.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const k=this._queuedChunks;return this._queuedChunks=null,new C(this,k,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(k,D){if(D<=this._progressiveDataLength)return null;const M=new F(this,k,D);return this._pdfDataRangeTransport.requestDataRange(k,D),this._rangeReaders.push(M),M}cancelAllRequests(k){this._fullRequestReader?.cancel(k);for(const D of this._rangeReaders.slice(0))D.cancel(k);this._pdfDataRangeTransport.abort()}}class C{constructor(k,D,M=!1,L=null){this._stream=k,this._done=M||!1,this._filename=(0,S.isPdfFile)(L)?L:null,this._queuedChunks=D||[],this._loaded=0;for(const R of this._queuedChunks)this._loaded+=R.byteLength;this._requests=[],this._headersReady=Promise.resolve(),k._fullRequestReader=this,this.onProgress=null}_enqueue(k){this._done||(this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunks.push(k),this._loaded+=k.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const k=new b.PromiseCapability;return this._requests.push(k),k.promise}cancel(k){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class F{constructor(k,D,M){this._stream=k,this._begin=D,this._end=M,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(k){if(!this._done){if(this._requests.length===0)this._queuedChunk=k;else{this._requests.shift().resolve({value:k,done:!1});for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const D=this._queuedChunk;return this._queuedChunk=null,{value:D,done:!1}}if(this._done)return{value:void 0,done:!0};const k=new b.PromiseCapability;return this._requests.push(k),k.promise}cancel(k){this._done=!0;for(const D of this._requests)D.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},368:(g,d,x)=>{x.d(d,{GlobalWorkerOptions:()=>b});const b=Object.create(null);b.workerPort=null,b.workerSrc=""},160:(g,d,x)=>{x.d(d,{XfaLayer:()=>S});var b=x(521);class S{static setupStorage(C,F,E,k,D){const M=k.getValue(F,{value:null});switch(E.name){case"textarea":if(M.value!==null&&(C.textContent=M.value),D==="print")break;C.addEventListener("input",L=>{k.setValue(F,{value:L.target.value})});break;case"input":if(E.attributes.type==="radio"||E.attributes.type==="checkbox"){if(M.value===E.attributes.xfaOn?C.setAttribute("checked",!0):M.value===E.attributes.xfaOff&&C.removeAttribute("checked"),D==="print")break;C.addEventListener("change",L=>{k.setValue(F,{value:L.target.checked?L.target.getAttribute("xfaOn"):L.target.getAttribute("xfaOff")})})}else{if(M.value!==null&&C.setAttribute("value",M.value),D==="print")break;C.addEventListener("input",L=>{k.setValue(F,{value:L.target.value})})}break;case"select":if(M.value!==null){C.setAttribute("value",M.value);for(const L of E.children)L.attributes.value===M.value?L.attributes.selected=!0:L.attributes.hasOwnProperty("selected")&&delete L.attributes.selected}C.addEventListener("input",L=>{const R=L.target.options,U=R.selectedIndex===-1?"":R[R.selectedIndex].value;k.setValue(F,{value:U})});break}}static setAttributes({html:C,element:F,storage:E=null,intent:k,linkService:D}){const{attributes:M}=F,L=C instanceof HTMLAnchorElement;M.type==="radio"&&(M.name=`${M.name}-${k}`);for(const[R,U]of Object.entries(M))if(U!=null)switch(R){case"class":U.length&&C.setAttribute(R,U.join(" "));break;case"dataId":break;case"id":C.setAttribute("data-element-id",U);break;case"style":Object.assign(C.style,U);break;case"textContent":C.textContent=U;break;default:(!L||R!=="href"&&R!=="newWindow")&&C.setAttribute(R,U)}L&&D.addLinkAttributes(C,M.href,M.newWindow),E&&M.dataId&&this.setupStorage(C,M.dataId,F,E)}static render(C){const F=C.annotationStorage,E=C.linkService,k=C.xfaHtml,D=C.intent||"display",M=document.createElement(k.name);k.attributes&&this.setAttributes({html:M,element:k,intent:D,linkService:E});const L=D!=="richText",R=C.div;if(R.append(M),C.viewport){const H=`matrix(${C.viewport.transform.join(",")})`;R.style.transform=H}L&&R.setAttribute("class","xfaLayer xfaFont");const U=[];if(k.children.length===0){if(k.value){const H=document.createTextNode(k.value);M.append(H),L&&b.XfaText.shouldBuildText(k.name)&&U.push(H)}return{textDivs:U}}const j=[[k,-1,M]];for(;j.length>0;){const[H,V,z]=j.at(-1);if(V+1===H.children.length){j.pop();continue}const G=H.children[++j.at(-1)[1]];if(G===null)continue;const{name:X}=G;if(X==="#text"){const J=document.createTextNode(G.value);U.push(J),z.append(J);continue}const Y=G?.attributes?.xmlns?document.createElementNS(G.attributes.xmlns,X):document.createElement(X);if(z.append(Y),G.attributes&&this.setAttributes({html:Y,element:G,storage:F,intent:D,linkService:E}),G.children?.length>0)j.push([G,-1,Y]);else if(G.value){const J=document.createTextNode(G.value);L&&b.XfaText.shouldBuildText(X)&&U.push(J),Y.append(J)}}for(const H of R.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))H.setAttribute("readOnly",!0);return{textDivs:U}}static update(C){const F=`matrix(${C.viewport.transform.join(",")})`;C.div.style.transform=F,C.div.hidden=!1}}},521:(g,d,x)=>{x.d(d,{XfaText:()=>b});class b{static textContent(w){const C=[],F={items:C,styles:Object.create(null)};function E(k){if(!k)return;let D=null;const M=k.name;if(M==="#text")D=k.value;else if(b.shouldBuildText(M))k?.attributes?.textContent?D=k.attributes.textContent:k.value&&(D=k.value);else return;if(D!==null&&C.push({str:D}),!!k.children)for(const L of k.children)E(L)}return E(w),F}static shouldBuildText(w){return!(w==="textarea"||w==="input"||w==="option"||w==="select")}}},907:(g,d,x)=>{x.a(g,async(b,S)=>{try{x.d(d,{AbortException:()=>w.AbortException,AnnotationEditorLayer:()=>k.AnnotationEditorLayer,AnnotationEditorParamsType:()=>w.AnnotationEditorParamsType,AnnotationEditorType:()=>w.AnnotationEditorType,AnnotationEditorUIManager:()=>D.AnnotationEditorUIManager,AnnotationLayer:()=>M.AnnotationLayer,AnnotationMode:()=>w.AnnotationMode,CMapCompressionType:()=>w.CMapCompressionType,DOMSVGFactory:()=>F.DOMSVGFactory,DrawLayer:()=>L.DrawLayer,FeatureTest:()=>w.FeatureTest,GlobalWorkerOptions:()=>R.GlobalWorkerOptions,ImageKind:()=>w.ImageKind,InvalidPDFException:()=>w.InvalidPDFException,MissingPDFException:()=>w.MissingPDFException,OPS:()=>w.OPS,Outliner:()=>U.Outliner,PDFDataRangeTransport:()=>C.PDFDataRangeTransport,PDFDateString:()=>F.PDFDateString,PDFWorker:()=>C.PDFWorker,PasswordResponses:()=>w.PasswordResponses,PermissionFlag:()=>w.PermissionFlag,PixelsPerInch:()=>F.PixelsPerInch,PromiseCapability:()=>w.PromiseCapability,RenderingCancelledException:()=>F.RenderingCancelledException,UnexpectedResponseException:()=>w.UnexpectedResponseException,Util:()=>w.Util,VerbosityLevel:()=>w.VerbosityLevel,XfaLayer:()=>j.XfaLayer,build:()=>C.build,createValidAbsoluteUrl:()=>w.createValidAbsoluteUrl,fetchData:()=>F.fetchData,getDocument:()=>C.getDocument,getFilenameFromUrl:()=>F.getFilenameFromUrl,getPdfFilenameFromUrl:()=>F.getPdfFilenameFromUrl,getXfaPageViewport:()=>F.getXfaPageViewport,isDataScheme:()=>F.isDataScheme,isPdfFile:()=>F.isPdfFile,noContextMenu:()=>F.noContextMenu,normalizeUnicode:()=>w.normalizeUnicode,renderTextLayer:()=>E.renderTextLayer,setLayerDimensions:()=>F.setLayerDimensions,shadow:()=>w.shadow,updateTextLayer:()=>E.updateTextLayer,version:()=>C.version});var w=x(266),C=x(406),F=x(473),E=x(739),k=x(331),D=x(812),M=x(640),L=x(423),R=x(368),U=x(405),j=x(160),H=b([C]);C=(H.then?(await H)():H)[0];const V="4.0.269",z="f4b396f6c";S()}catch(V){S(V)}})},694:(g,d,x)=>{x.d(d,{MessageHandler:()=>F});var b=x(266);const S={UNKNOWN:0,DATA:1,ERROR:2},w={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function C(E){switch(E instanceof Error||typeof E=="object"&&E!==null||(0,b.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),E.name){case"AbortException":return new b.AbortException(E.message);case"MissingPDFException":return new b.MissingPDFException(E.message);case"PasswordException":return new b.PasswordException(E.message,E.code);case"UnexpectedResponseException":return new b.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new b.UnknownErrorException(E.message,E.details);default:return new b.UnknownErrorException(E.message,E.toString())}}class F{constructor(k,D,M){this.sourceName=k,this.targetName=D,this.comObj=M,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=L=>{const R=L.data;if(R.targetName!==this.sourceName)return;if(R.stream){this.#t(R);return}if(R.callback){const j=R.callbackId,H=this.callbackCapabilities[j];if(!H)throw new Error(`Cannot resolve callback ${j}`);if(delete this.callbackCapabilities[j],R.callback===S.DATA)H.resolve(R.data);else if(R.callback===S.ERROR)H.reject(C(R.reason));else throw new Error("Unexpected callback case");return}const U=this.actionHandler[R.action];if(!U)throw new Error(`Unknown action from worker: ${R.action}`);if(R.callbackId){const j=this.sourceName,H=R.sourceName;new Promise(function(V){V(U(R.data))}).then(function(V){M.postMessage({sourceName:j,targetName:H,callback:S.DATA,callbackId:R.callbackId,data:V})},function(V){M.postMessage({sourceName:j,targetName:H,callback:S.ERROR,callbackId:R.callbackId,reason:C(V)})});return}if(R.streamId){this.#e(R);return}U(R.data)},M.addEventListener("message",this._onComObjOnMessage)}on(k,D){const M=this.actionHandler;if(M[k])throw new Error(`There is already an actionName called "${k}"`);M[k]=D}send(k,D,M){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,data:D},M)}sendWithPromise(k,D,M){const L=this.callbackId++,R=new b.PromiseCapability;this.callbackCapabilities[L]=R;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,callbackId:L,data:D},M)}catch(U){R.reject(U)}return R.promise}sendWithStream(k,D,M,L){const R=this.streamId++,U=this.sourceName,j=this.targetName,H=this.comObj;return new ReadableStream({start:V=>{const z=new b.PromiseCapability;return this.streamControllers[R]={controller:V,startCall:z,pullCall:null,cancelCall:null,isClosed:!1},H.postMessage({sourceName:U,targetName:j,action:k,streamId:R,data:D,desiredSize:V.desiredSize},L),z.promise},pull:V=>{const z=new b.PromiseCapability;return this.streamControllers[R].pullCall=z,H.postMessage({sourceName:U,targetName:j,stream:w.PULL,streamId:R,desiredSize:V.desiredSize}),z.promise},cancel:V=>{(0,b.assert)(V instanceof Error,"cancel must have a valid reason");const z=new b.PromiseCapability;return this.streamControllers[R].cancelCall=z,this.streamControllers[R].isClosed=!0,H.postMessage({sourceName:U,targetName:j,stream:w.CANCEL,streamId:R,reason:C(V)}),z.promise}},M)}#e(k){const D=k.streamId,M=this.sourceName,L=k.sourceName,R=this.comObj,U=this,j=this.actionHandler[k.action],H={enqueue(V,z=1,G){if(this.isCancelled)return;const X=this.desiredSize;this.desiredSize-=z,X>0&&this.desiredSize<=0&&(this.sinkCapability=new b.PromiseCapability,this.ready=this.sinkCapability.promise),R.postMessage({sourceName:M,targetName:L,stream:w.ENQUEUE,streamId:D,chunk:V},G)},close(){this.isCancelled||(this.isCancelled=!0,R.postMessage({sourceName:M,targetName:L,stream:w.CLOSE,streamId:D}),delete U.streamSinks[D])},error(V){(0,b.assert)(V instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,R.postMessage({sourceName:M,targetName:L,stream:w.ERROR,streamId:D,reason:C(V)}))},sinkCapability:new b.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:k.desiredSize,ready:null};H.sinkCapability.resolve(),H.ready=H.sinkCapability.promise,this.streamSinks[D]=H,new Promise(function(V){V(j(k.data,H))}).then(function(){R.postMessage({sourceName:M,targetName:L,stream:w.START_COMPLETE,streamId:D,success:!0})},function(V){R.postMessage({sourceName:M,targetName:L,stream:w.START_COMPLETE,streamId:D,reason:C(V)})})}#t(k){const D=k.streamId,M=this.sourceName,L=k.sourceName,R=this.comObj,U=this.streamControllers[D],j=this.streamSinks[D];switch(k.stream){case w.START_COMPLETE:k.success?U.startCall.resolve():U.startCall.reject(C(k.reason));break;case w.PULL_COMPLETE:k.success?U.pullCall.resolve():U.pullCall.reject(C(k.reason));break;case w.PULL:if(!j){R.postMessage({sourceName:M,targetName:L,stream:w.PULL_COMPLETE,streamId:D,success:!0});break}j.desiredSize<=0&&k.desiredSize>0&&j.sinkCapability.resolve(),j.desiredSize=k.desiredSize,new Promise(function(H){H(j.onPull?.())}).then(function(){R.postMessage({sourceName:M,targetName:L,stream:w.PULL_COMPLETE,streamId:D,success:!0})},function(H){R.postMessage({sourceName:M,targetName:L,stream:w.PULL_COMPLETE,streamId:D,reason:C(H)})});break;case w.ENQUEUE:if((0,b.assert)(U,"enqueue should have stream controller"),U.isClosed)break;U.controller.enqueue(k.chunk);break;case w.CLOSE:if((0,b.assert)(U,"close should have stream controller"),U.isClosed)break;U.isClosed=!0,U.controller.close(),this.#n(U,D);break;case w.ERROR:(0,b.assert)(U,"error should have stream controller"),U.controller.error(C(k.reason)),this.#n(U,D);break;case w.CANCEL_COMPLETE:k.success?U.cancelCall.resolve():U.cancelCall.reject(C(k.reason)),this.#n(U,D);break;case w.CANCEL:if(!j)break;new Promise(function(H){H(j.onCancel?.(C(k.reason)))}).then(function(){R.postMessage({sourceName:M,targetName:L,stream:w.CANCEL_COMPLETE,streamId:D,success:!0})},function(H){R.postMessage({sourceName:M,targetName:L,stream:w.CANCEL_COMPLETE,streamId:D,reason:C(H)})}),j.sinkCapability.reject(C(k.reason)),j.isCancelled=!0,delete this.streamSinks[D];break;default:throw new Error("Unexpected stream case")}}async#n(k,D){await Promise.allSettled([k.startCall?.promise,k.pullCall?.promise,k.cancelCall?.promise]),delete this.streamControllers[D]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},825:(g,d,x)=>{x.d(d,{MurmurHash3_64:()=>F});var b=x(266);const S=3285377520,w=4294901760,C=65535;class F{constructor(k){this.h1=k?k&4294967295:S,this.h2=k?k&4294967295:S}update(k){let D,M;if(typeof k=="string"){D=new Uint8Array(k.length*2),M=0;for(let ee=0,ie=k.length;ee<ie;ee++){const oe=k.charCodeAt(ee);oe<=255?D[M++]=oe:(D[M++]=oe>>>8,D[M++]=oe&255)}}else if((0,b.isArrayBuffer)(k))D=k.slice(),M=D.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const L=M>>2,R=M-L*4,U=new Uint32Array(D.buffer,0,L);let j=0,H=0,V=this.h1,z=this.h2;const G=3432918353,X=461845907,Y=G&C,J=X&C;for(let ee=0;ee<L;ee++)ee&1?(j=U[ee],j=j*G&w|j*Y&C,j=j<<15|j>>>17,j=j*X&w|j*J&C,V^=j,V=V<<13|V>>>19,V=V*5+3864292196):(H=U[ee],H=H*G&w|H*Y&C,H=H<<15|H>>>17,H=H*X&w|H*J&C,z^=H,z=z<<13|z>>>19,z=z*5+3864292196);switch(j=0,R){case 3:j^=D[L*4+2]<<16;case 2:j^=D[L*4+1]<<8;case 1:j^=D[L*4],j=j*G&w|j*Y&C,j=j<<15|j>>>17,j=j*X&w|j*J&C,L&1?V^=j:z^=j}this.h1=V,this.h2=z}hexdigest(){let k=this.h1,D=this.h2;return k^=D>>>1,k=k*3981806797&w|k*36045&C,D=D*4283543511&w|((D<<16|k>>>16)*2950163797&w)>>>16,k^=D>>>1,k=k*444984403&w|k*60499&C,D=D*3301882366&w|((D<<16|k>>>16)*3120437893&w)>>>16,k^=D>>>1,(k>>>0).toString(16).padStart(8,"0")+(D>>>0).toString(16).padStart(8,"0")}}},266:(g,d,x)=>{x.d(d,{AbortException:()=>Ve,AnnotationBorderStyleType:()=>V,AnnotationEditorParamsType:()=>L,AnnotationEditorPrefix:()=>D,AnnotationEditorType:()=>M,AnnotationMode:()=>k,AnnotationPrefix:()=>ve,AnnotationType:()=>H,BaseException:()=>xe,CMapCompressionType:()=>G,FONT_IDENTITY_MATRIX:()=>w,FeatureTest:()=>$,FormatError:()=>Ie,IDENTITY_MATRIX:()=>S,ImageKind:()=>j,InvalidPDFException:()=>Ne,LINE_FACTOR:()=>F,MAX_IMAGE_SIZE_TO_CACHE:()=>C,MissingPDFException:()=>Le,OPS:()=>X,PasswordException:()=>Te,PasswordResponses:()=>Y,PermissionFlag:()=>R,PromiseCapability:()=>ce,RenderingIntentFlag:()=>E,TextRenderingMode:()=>U,UnexpectedResponseException:()=>Me,UnknownErrorException:()=>Oe,Util:()=>K,VerbosityLevel:()=>z,assert:()=>Se,bytesToString:()=>De,createValidAbsoluteUrl:()=>Ee,getUuid:()=>ye,getVerbosityLevel:()=>ie,info:()=>oe,isArrayBuffer:()=>ae,isNodeJS:()=>b,normalizeUnicode:()=>pe,objectFromMap:()=>te,setVerbosityLevel:()=>ee,shadow:()=>de,string32:()=>Ce,stringToBytes:()=>Pe,unreachable:()=>fe,warn:()=>he});const b=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),S=[1,0,0,1,0,0],w=[.001,0,0,.001,0,0],C=1e7,F=1.35,E={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},D="pdfjs_internal_editor_",M={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},L={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},R={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},U={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},j={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},H={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},V={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},z={ERRORS:0,WARNINGS:1,INFOS:5},G={NONE:0,BINARY:1},X={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Y={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let J=z.WARNINGS;function ee(be){Number.isInteger(be)&&(J=be)}function ie(){return J}function oe(be){J>=z.INFOS&&console.log(`Info: ${be}`)}function he(be){J>=z.WARNINGS&&console.log(`Warning: ${be}`)}function fe(be){throw new Error(be)}function Se(be,me){be||fe(me)}function we(be){switch(be?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ee(be,me=null,Fe=null){if(!be)return null;try{if(Fe&&typeof be=="string"&&(Fe.addDefaultProtocol&&be.startsWith("www.")&&be.match(/\./g)?.length>=2&&(be=`http://${be}`),Fe.tryConvertEncoding))try{be=Q(be)}catch{}const Re=me?new URL(be,me):new URL(be);if(we(Re))return Re}catch{}return null}function de(be,me,Fe,Re=!1){return Object.defineProperty(be,me,{value:Fe,enumerable:!Re,configurable:!0,writable:!1}),Fe}const xe=function(){function me(Fe,Re){this.constructor===me&&fe("Cannot initialize BaseException."),this.message=Fe,this.name=Re}return me.prototype=new Error,me.constructor=me,me}();class Te extends xe{constructor(me,Fe){super(me,"PasswordException"),this.code=Fe}}class Oe extends xe{constructor(me,Fe){super(me,"UnknownErrorException"),this.details=Fe}}class Ne extends xe{constructor(me){super(me,"InvalidPDFException")}}class Le extends xe{constructor(me){super(me,"MissingPDFException")}}class Me extends xe{constructor(me,Fe){super(me,"UnexpectedResponseException"),this.status=Fe}}class Ie extends xe{constructor(me){super(me,"FormatError")}}class Ve extends xe{constructor(me){super(me,"AbortException")}}function De(be){(typeof be!="object"||be?.length===void 0)&&fe("Invalid argument for bytesToString");const me=be.length,Fe=8192;if(me<Fe)return String.fromCharCode.apply(null,be);const Re=[];for(let ke=0;ke<me;ke+=Fe){const je=Math.min(ke+Fe,me),ue=be.subarray(ke,je);Re.push(String.fromCharCode.apply(null,ue))}return Re.join("")}function Pe(be){typeof be!="string"&&fe("Invalid argument for stringToBytes");const me=be.length,Fe=new Uint8Array(me);for(let Re=0;Re<me;++Re)Fe[Re]=be.charCodeAt(Re)&255;return Fe}function Ce(be){return String.fromCharCode(be>>24&255,be>>16&255,be>>8&255,be&255)}function te(be){const me=Object.create(null);for(const[Fe,Re]of be)me[Fe]=Re;return me}function re(){const be=new Uint8Array(4);return be[0]=1,new Uint32Array(be.buffer,0,1)[0]===1}function W(){try{return new Function(""),!0}catch{return!1}}class ${static get isLittleEndian(){return de(this,"isLittleEndian",re())}static get isEvalSupported(){return de(this,"isEvalSupported",W())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?de(this,"platform",{isMac:navigator.platform.includes("Mac")}):de(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return de(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Z=[...Array(256).keys()].map(be=>be.toString(16).padStart(2,"0"));class K{static makeHexColor(me,Fe,Re){return`#${Z[me]}${Z[Fe]}${Z[Re]}`}static scaleMinMax(me,Fe){let Re;me[0]?(me[0]<0&&(Re=Fe[0],Fe[0]=Fe[1],Fe[1]=Re),Fe[0]*=me[0],Fe[1]*=me[0],me[3]<0&&(Re=Fe[2],Fe[2]=Fe[3],Fe[3]=Re),Fe[2]*=me[3],Fe[3]*=me[3]):(Re=Fe[0],Fe[0]=Fe[2],Fe[2]=Re,Re=Fe[1],Fe[1]=Fe[3],Fe[3]=Re,me[1]<0&&(Re=Fe[2],Fe[2]=Fe[3],Fe[3]=Re),Fe[2]*=me[1],Fe[3]*=me[1],me[2]<0&&(Re=Fe[0],Fe[0]=Fe[1],Fe[1]=Re),Fe[0]*=me[2],Fe[1]*=me[2]),Fe[0]+=me[4],Fe[1]+=me[4],Fe[2]+=me[5],Fe[3]+=me[5]}static transform(me,Fe){return[me[0]*Fe[0]+me[2]*Fe[1],me[1]*Fe[0]+me[3]*Fe[1],me[0]*Fe[2]+me[2]*Fe[3],me[1]*Fe[2]+me[3]*Fe[3],me[0]*Fe[4]+me[2]*Fe[5]+me[4],me[1]*Fe[4]+me[3]*Fe[5]+me[5]]}static applyTransform(me,Fe){const Re=me[0]*Fe[0]+me[1]*Fe[2]+Fe[4],ke=me[0]*Fe[1]+me[1]*Fe[3]+Fe[5];return[Re,ke]}static applyInverseTransform(me,Fe){const Re=Fe[0]*Fe[3]-Fe[1]*Fe[2],ke=(me[0]*Fe[3]-me[1]*Fe[2]+Fe[2]*Fe[5]-Fe[4]*Fe[3])/Re,je=(-me[0]*Fe[1]+me[1]*Fe[0]+Fe[4]*Fe[1]-Fe[5]*Fe[0])/Re;return[ke,je]}static getAxialAlignedBoundingBox(me,Fe){const Re=this.applyTransform(me,Fe),ke=this.applyTransform(me.slice(2,4),Fe),je=this.applyTransform([me[0],me[3]],Fe),ue=this.applyTransform([me[2],me[1]],Fe);return[Math.min(Re[0],ke[0],je[0],ue[0]),Math.min(Re[1],ke[1],je[1],ue[1]),Math.max(Re[0],ke[0],je[0],ue[0]),Math.max(Re[1],ke[1],je[1],ue[1])]}static inverseTransform(me){const Fe=me[0]*me[3]-me[1]*me[2];return[me[3]/Fe,-me[1]/Fe,-me[2]/Fe,me[0]/Fe,(me[2]*me[5]-me[4]*me[3])/Fe,(me[4]*me[1]-me[5]*me[0])/Fe]}static singularValueDecompose2dScale(me){const Fe=[me[0],me[2],me[1],me[3]],Re=me[0]*Fe[0]+me[1]*Fe[2],ke=me[0]*Fe[1]+me[1]*Fe[3],je=me[2]*Fe[0]+me[3]*Fe[2],ue=me[2]*Fe[1]+me[3]*Fe[3],ne=(Re+ue)/2,se=Math.sqrt((Re+ue)**2-4*(Re*ue-je*ke))/2,Ae=ne+se||1,_e=ne-se||1;return[Math.sqrt(Ae),Math.sqrt(_e)]}static normalizeRect(me){const Fe=me.slice(0);return me[0]>me[2]&&(Fe[0]=me[2],Fe[2]=me[0]),me[1]>me[3]&&(Fe[1]=me[3],Fe[3]=me[1]),Fe}static intersect(me,Fe){const Re=Math.max(Math.min(me[0],me[2]),Math.min(Fe[0],Fe[2])),ke=Math.min(Math.max(me[0],me[2]),Math.max(Fe[0],Fe[2]));if(Re>ke)return null;const je=Math.max(Math.min(me[1],me[3]),Math.min(Fe[1],Fe[3])),ue=Math.min(Math.max(me[1],me[3]),Math.max(Fe[1],Fe[3]));return je>ue?null:[Re,je,ke,ue]}static bezierBoundingBox(me,Fe,Re,ke,je,ue,ne,se){const Ae=[],_e=[[],[]];let Be,He,Ue,ze,Ge,Xe,$e,qe;for(let et=0;et<2;++et){if(et===0?(He=6*me-12*Re+6*je,Be=-3*me+9*Re-9*je+3*ne,Ue=3*Re-3*me):(He=6*Fe-12*ke+6*ue,Be=-3*Fe+9*ke-9*ue+3*se,Ue=3*ke-3*Fe),Math.abs(Be)<1e-12){if(Math.abs(He)<1e-12)continue;ze=-Ue/He,0<ze&&ze<1&&Ae.push(ze);continue}$e=He*He-4*Ue*Be,qe=Math.sqrt($e),!($e<0)&&(Ge=(-He+qe)/(2*Be),0<Ge&&Ge<1&&Ae.push(Ge),Xe=(-He-qe)/(2*Be),0<Xe&&Xe<1&&Ae.push(Xe))}let Ke=Ae.length,Ye;const We=Ke;for(;Ke--;)ze=Ae[Ke],Ye=1-ze,_e[0][Ke]=Ye*Ye*Ye*me+3*Ye*Ye*ze*Re+3*Ye*ze*ze*je+ze*ze*ze*ne,_e[1][Ke]=Ye*Ye*Ye*Fe+3*Ye*Ye*ze*ke+3*Ye*ze*ze*ue+ze*ze*ze*se;return _e[0][We]=me,_e[1][We]=Fe,_e[0][We+1]=ne,_e[1][We+1]=se,_e[0].length=_e[1].length=We+2,[Math.min(..._e[0]),Math.min(..._e[1]),Math.max(..._e[0]),Math.max(..._e[1])]}}function Q(be){return decodeURIComponent(escape(be))}function ae(be){return typeof be=="object"&&be?.byteLength!==void 0}class ce{#e=!1;constructor(){this.promise=new Promise((me,Fe)=>{this.resolve=Re=>{this.#e=!0,me(Re)},this.reject=Re=>{this.#e=!0,Fe(Re)}})}get settled(){return this.#e}}let le=null,ge=null;function pe(be){return le||(le=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ge=new Map([["","t"]])),be.replaceAll(le,(me,Fe,Re)=>Fe?Fe.normalize("NFKC"):ge.get(Re))}function ye(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const be=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(be);else for(let me=0;me<32;me++)be[me]=Math.floor(Math.random()*255);return De(be)}const ve="pdfjs_internal_id_"}},__webpack_module_cache__={};function __webpack_require__$1(g){var d=__webpack_module_cache__[g];if(d!==void 0)return d.exports;var x=__webpack_module_cache__[g]={exports:{}};return __webpack_modules__[g](x,x.exports,__webpack_require__$1),x.exports}(()=>{var g=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",d=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",x=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",b=w=>{w&&w.d<1&&(w.d=1,w.forEach(C=>C.r--),w.forEach(C=>C.r--?C.r++:C()))},S=w=>w.map(C=>{if(C!==null&&typeof C=="object"){if(C[g])return C;if(C.then){var F=[];F.d=0,C.then(D=>{E[d]=D,b(F)},D=>{E[x]=D,b(F)});var E={};return E[g]=D=>D(F),E}}var k={};return k[g]=D=>{},k[d]=C,k});__webpack_require__$1.a=(w,C,F)=>{var E;F&&((E=[]).d=-1);var k=new Set,D=w.exports,M,L,R,U=new Promise((j,H)=>{R=H,L=j});U[d]=D,U[g]=j=>(E&&j(E),k.forEach(j),U.catch(H=>{})),w.exports=U,C(j=>{M=S(j);var H,V=()=>M.map(G=>{if(G[x])throw G[x];return G[d]}),z=new Promise(G=>{H=()=>G(V),H.r=0;var X=Y=>Y!==E&&!k.has(Y)&&(k.add(Y),Y&&!Y.d&&(H.r++,Y.push(H)));M.map(Y=>Y[g](X))});return H.r?z:V()},j=>(j?R(U[x]=j):L(D),b(E))),E&&E.d<0&&(E.d=0)}})();__webpack_require__$1.d=(g,d)=>{for(var x in d)__webpack_require__$1.o(d,x)&&!__webpack_require__$1.o(g,x)&&Object.defineProperty(g,x,{enumerable:!0,get:d[x]})};__webpack_require__$1.o=(g,d)=>Object.prototype.hasOwnProperty.call(g,d);var __webpack_exports__$1=__webpack_require__$1(907);__webpack_exports__$1=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=__webpack_exports__$1);__webpack_exports__$1.AbortException;__webpack_exports__$1.AnnotationEditorLayer;__webpack_exports__$1.AnnotationEditorParamsType;__webpack_exports__$1.AnnotationEditorType;__webpack_exports__$1.AnnotationEditorUIManager;__webpack_exports__$1.AnnotationLayer;__webpack_exports__$1.AnnotationMode;__webpack_exports__$1.CMapCompressionType;__webpack_exports__$1.DOMSVGFactory;__webpack_exports__$1.DrawLayer;__webpack_exports__$1.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__$1.GlobalWorkerOptions;__webpack_exports__$1.ImageKind;__webpack_exports__$1.InvalidPDFException;__webpack_exports__$1.MissingPDFException;__webpack_exports__$1.OPS;__webpack_exports__$1.Outliner;__webpack_exports__$1.PDFDataRangeTransport;__webpack_exports__$1.PDFDateString;__webpack_exports__$1.PDFWorker;__webpack_exports__$1.PasswordResponses;__webpack_exports__$1.PermissionFlag;__webpack_exports__$1.PixelsPerInch;__webpack_exports__$1.PromiseCapability;__webpack_exports__$1.RenderingCancelledException;__webpack_exports__$1.UnexpectedResponseException;__webpack_exports__$1.Util;__webpack_exports__$1.VerbosityLevel;__webpack_exports__$1.XfaLayer;__webpack_exports__$1.build;__webpack_exports__$1.createValidAbsoluteUrl;__webpack_exports__$1.fetchData;var __webpack_exports__getDocument=__webpack_exports__$1.getDocument;__webpack_exports__$1.getFilenameFromUrl;__webpack_exports__$1.getPdfFilenameFromUrl;__webpack_exports__$1.getXfaPageViewport;__webpack_exports__$1.isDataScheme;__webpack_exports__$1.isPdfFile;__webpack_exports__$1.noContextMenu;__webpack_exports__$1.normalizeUnicode;__webpack_exports__$1.renderTextLayer;__webpack_exports__$1.setLayerDimensions;__webpack_exports__$1.shadow;__webpack_exports__$1.updateTextLayer;__webpack_exports__$1.version;var __webpack_require__={};__webpack_require__.d=(g,d)=>{for(var x in d)__webpack_require__.o(d,x)&&!__webpack_require__.o(g,x)&&Object.defineProperty(g,x,{enumerable:!0,get:d[x]})};__webpack_require__.o=(g,d)=>Object.prototype.hasOwnProperty.call(g,d);var __webpack_exports__=globalThis.pdfjsWorker={};__webpack_require__.d(__webpack_exports__,{WorkerMessageHandler:()=>WorkerMessageHandler});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,LINE_DESCENT_FACTOR=.35,BASELINE_FACTOR=LINE_DESCENT_FACTOR/LINE_FACTOR,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode$1={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationReplyType={GROUP:"Group",REPLY:"R"},AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},PageActionEventType={O:"PageOpen",C:"PageClose"},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(g){Number.isInteger(g)&&(verbosity=g)}function getVerbosityLevel(){return verbosity}function info(g){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${g}`)}function warn(g){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${g}`)}function unreachable(g){throw new Error(g)}function assert(g,d){g||unreachable(d)}function _isValidProtocol(g){switch(g?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(g,d=null,x=null){if(!g)return null;try{if(x&&typeof g=="string"&&(x.addDefaultProtocol&&g.startsWith("www.")&&g.match(/\./g)?.length>=2&&(g=`http://${g}`),x.tryConvertEncoding))try{g=stringToUTF8String(g)}catch{}const b=d?new URL(g,d):new URL(g);if(_isValidProtocol(b))return b}catch{}return null}function shadow(g,d,x,b=!1){return Object.defineProperty(g,d,{value:x,enumerable:!b,configurable:!0,writable:!1}),x}const BaseException=function(){function d(x,b){this.constructor===d&&unreachable("Cannot initialize BaseException."),this.message=x,this.name=b}return d.prototype=new Error,d.constructor=d,d}();class PasswordException extends BaseException{constructor(d,x){super(d,"PasswordException"),this.code=x}}class UnknownErrorException extends BaseException{constructor(d,x){super(d,"UnknownErrorException"),this.details=x}}class InvalidPDFException extends BaseException{constructor(d){super(d,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(d){super(d,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(d,x){super(d,"UnexpectedResponseException"),this.status=x}}class FormatError extends BaseException{constructor(d){super(d,"FormatError")}}class AbortException extends BaseException{constructor(d){super(d,"AbortException")}}function bytesToString(g){(typeof g!="object"||g?.length===void 0)&&unreachable("Invalid argument for bytesToString");const d=g.length,x=8192;if(d<x)return String.fromCharCode.apply(null,g);const b=[];for(let S=0;S<d;S+=x){const w=Math.min(S+x,d),C=g.subarray(S,w);b.push(String.fromCharCode.apply(null,C))}return b.join("")}function stringToBytes(g){typeof g!="string"&&unreachable("Invalid argument for stringToBytes");const d=g.length,x=new Uint8Array(d);for(let b=0;b<d;++b)x[b]=g.charCodeAt(b)&255;return x}function string32(g){return String.fromCharCode(g>>24&255,g>>16&255,g>>8&255,g&255)}function objectSize(g){return Object.keys(g).length}function isLittleEndian(){const g=new Uint8Array(4);return g[0]=1,new Uint32Array(g.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return shadow(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hexNumbers=[...Array(256).keys()].map(g=>g.toString(16).padStart(2,"0"));class Util{static makeHexColor(d,x,b){return`#${hexNumbers[d]}${hexNumbers[x]}${hexNumbers[b]}`}static scaleMinMax(d,x){let b;d[0]?(d[0]<0&&(b=x[0],x[0]=x[1],x[1]=b),x[0]*=d[0],x[1]*=d[0],d[3]<0&&(b=x[2],x[2]=x[3],x[3]=b),x[2]*=d[3],x[3]*=d[3]):(b=x[0],x[0]=x[2],x[2]=b,b=x[1],x[1]=x[3],x[3]=b,d[1]<0&&(b=x[2],x[2]=x[3],x[3]=b),x[2]*=d[1],x[3]*=d[1],d[2]<0&&(b=x[0],x[0]=x[1],x[1]=b),x[0]*=d[2],x[1]*=d[2]),x[0]+=d[4],x[1]+=d[4],x[2]+=d[5],x[3]+=d[5]}static transform(d,x){return[d[0]*x[0]+d[2]*x[1],d[1]*x[0]+d[3]*x[1],d[0]*x[2]+d[2]*x[3],d[1]*x[2]+d[3]*x[3],d[0]*x[4]+d[2]*x[5]+d[4],d[1]*x[4]+d[3]*x[5]+d[5]]}static applyTransform(d,x){const b=d[0]*x[0]+d[1]*x[2]+x[4],S=d[0]*x[1]+d[1]*x[3]+x[5];return[b,S]}static applyInverseTransform(d,x){const b=x[0]*x[3]-x[1]*x[2],S=(d[0]*x[3]-d[1]*x[2]+x[2]*x[5]-x[4]*x[3])/b,w=(-d[0]*x[1]+d[1]*x[0]+x[4]*x[1]-x[5]*x[0])/b;return[S,w]}static getAxialAlignedBoundingBox(d,x){const b=this.applyTransform(d,x),S=this.applyTransform(d.slice(2,4),x),w=this.applyTransform([d[0],d[3]],x),C=this.applyTransform([d[2],d[1]],x);return[Math.min(b[0],S[0],w[0],C[0]),Math.min(b[1],S[1],w[1],C[1]),Math.max(b[0],S[0],w[0],C[0]),Math.max(b[1],S[1],w[1],C[1])]}static inverseTransform(d){const x=d[0]*d[3]-d[1]*d[2];return[d[3]/x,-d[1]/x,-d[2]/x,d[0]/x,(d[2]*d[5]-d[4]*d[3])/x,(d[4]*d[1]-d[5]*d[0])/x]}static singularValueDecompose2dScale(d){const x=[d[0],d[2],d[1],d[3]],b=d[0]*x[0]+d[1]*x[2],S=d[0]*x[1]+d[1]*x[3],w=d[2]*x[0]+d[3]*x[2],C=d[2]*x[1]+d[3]*x[3],F=(b+C)/2,E=Math.sqrt((b+C)**2-4*(b*C-w*S))/2,k=F+E||1,D=F-E||1;return[Math.sqrt(k),Math.sqrt(D)]}static normalizeRect(d){const x=d.slice(0);return d[0]>d[2]&&(x[0]=d[2],x[2]=d[0]),d[1]>d[3]&&(x[1]=d[3],x[3]=d[1]),x}static intersect(d,x){const b=Math.max(Math.min(d[0],d[2]),Math.min(x[0],x[2])),S=Math.min(Math.max(d[0],d[2]),Math.max(x[0],x[2]));if(b>S)return null;const w=Math.max(Math.min(d[1],d[3]),Math.min(x[1],x[3])),C=Math.min(Math.max(d[1],d[3]),Math.max(x[1],x[3]));return w>C?null:[b,w,S,C]}static bezierBoundingBox(d,x,b,S,w,C,F,E){const k=[],D=[[],[]];let M,L,R,U,j,H,V,z;for(let J=0;J<2;++J){if(J===0?(L=6*d-12*b+6*w,M=-3*d+9*b-9*w+3*F,R=3*b-3*d):(L=6*x-12*S+6*C,M=-3*x+9*S-9*C+3*E,R=3*S-3*x),Math.abs(M)<1e-12){if(Math.abs(L)<1e-12)continue;U=-R/L,0<U&&U<1&&k.push(U);continue}V=L*L-4*R*M,z=Math.sqrt(V),!(V<0)&&(j=(-L+z)/(2*M),0<j&&j<1&&k.push(j),H=(-L-z)/(2*M),0<H&&H<1&&k.push(H))}let G=k.length,X;const Y=G;for(;G--;)U=k[G],X=1-U,D[0][G]=X*X*X*d+3*X*X*U*b+3*X*U*U*w+U*U*U*F,D[1][G]=X*X*X*x+3*X*X*U*S+3*X*U*U*C+U*U*U*E;return D[0][Y]=d,D[1][Y]=x,D[0][Y+1]=F,D[1][Y+1]=E,D[0].length=D[1].length=Y+2,[Math.min(...D[0]),Math.min(...D[1]),Math.max(...D[0]),Math.max(...D[1])]}}const PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToPDFString(g){if(g[0]>=""){let x;if(g[0]===""&&g[1]===""?(x="utf-16be",g.length%2===1&&(g=g.slice(0,-1))):g[0]===""&&g[1]===""?(x="utf-16le",g.length%2===1&&(g=g.slice(0,-1))):g[0]===""&&g[1]===""&&g[2]===""&&(x="utf-8"),x)try{const b=new TextDecoder(x,{fatal:!0}),S=stringToBytes(g),w=b.decode(S);return w.includes("\x1B")?w.replaceAll(/\x1b[^\x1b]*(?:\x1b|$)/g,""):w}catch(b){warn(`stringToPDFString: "${b}".`)}}const d=[];for(let x=0,b=g.length;x<b;x++){const S=g.charCodeAt(x);if(S===27){for(;++x<b&&g.charCodeAt(x)!==27;);continue}const w=PDFStringTranslateTable[S];d.push(w?String.fromCharCode(w):g.charAt(x))}return d.join("")}function stringToUTF8String(g){return decodeURIComponent(escape(g))}function utf8StringToString(g){return unescape(encodeURIComponent(g))}function isArrayBuffer(g){return typeof g=="object"&&g?.byteLength!==void 0}function isArrayEqual(g,d){if(g.length!==d.length)return!1;for(let x=0,b=g.length;x<b;x++)if(g[x]!==d[x])return!1;return!0}function getModificationDate(g=new Date){return[g.getUTCFullYear().toString(),(g.getUTCMonth()+1).toString().padStart(2,"0"),g.getUTCDate().toString().padStart(2,"0"),g.getUTCHours().toString().padStart(2,"0"),g.getUTCMinutes().toString().padStart(2,"0"),g.getUTCSeconds().toString().padStart(2,"0")].join("")}class PromiseCapability{#e=!1;constructor(){this.promise=new Promise((d,x)=>{this.resolve=b=>{this.#e=!0,d(b)},this.reject=b=>{this.#e=!0,x(b)}})}get settled(){return this.#e}}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(g){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),g.replaceAll(NormalizeRegex,(d,x,b)=>x?x.normalize("NFKC"):NormalizationMap.get(b))}const AnnotationPrefix="pdfjs_internal_id_",CIRCULAR_REF=Symbol("CIRCULAR_REF"),EOF=Symbol("EOF");let CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null);function clearPrimitiveCaches(){CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null)}class Name{constructor(d){this.name=d}static get(d){return NameCache[d]||=new Name(d)}}class Cmd{constructor(d){this.cmd=d}static get(d){return CmdCache[d]||=new Cmd(d)}}const nonSerializable=function(){return nonSerializable};class Dict{constructor(d=null){this._map=Object.create(null),this.xref=d,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=nonSerializable}assignXref(d){this.xref=d}get size(){return Object.keys(this._map).length}get(d,x,b){let S=this._map[d];return S===void 0&&x!==void 0&&(S=this._map[x],S===void 0&&b!==void 0&&(S=this._map[b])),S instanceof Ref&&this.xref?this.xref.fetch(S,this.suppressEncryption):S}async getAsync(d,x,b){let S=this._map[d];return S===void 0&&x!==void 0&&(S=this._map[x],S===void 0&&b!==void 0&&(S=this._map[b])),S instanceof Ref&&this.xref?this.xref.fetchAsync(S,this.suppressEncryption):S}getArray(d,x,b){let S=this._map[d];if(S===void 0&&x!==void 0&&(S=this._map[x],S===void 0&&b!==void 0&&(S=this._map[b])),S instanceof Ref&&this.xref&&(S=this.xref.fetch(S,this.suppressEncryption)),Array.isArray(S)){S=S.slice();for(let w=0,C=S.length;w<C;w++)S[w]instanceof Ref&&this.xref&&(S[w]=this.xref.fetch(S[w],this.suppressEncryption))}return S}getRaw(d){return this._map[d]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(d,x){this._map[d]=x}has(d){return this._map[d]!==void 0}forEach(d){for(const x in this._map)d(x,this.get(x))}static get empty(){const d=new Dict(null);return d.set=(x,b)=>{unreachable("Should not call `set` on the empty dictionary.")},shadow(this,"empty",d)}static merge({xref:d,dictArray:x,mergeSubDicts:b=!1}){const S=new Dict(d),w=new Map;for(const C of x)if(C instanceof Dict)for(const[F,E]of Object.entries(C._map)){let k=w.get(F);if(k===void 0)k=[],w.set(F,k);else if(!b||!(E instanceof Dict))continue;k.push(E)}for(const[C,F]of w){if(F.length===1||!(F[0]instanceof Dict)){S._map[C]=F[0];continue}const E=new Dict(d);for(const k of F)for(const[D,M]of Object.entries(k._map))E._map[D]===void 0&&(E._map[D]=M);E.size>0&&(S._map[C]=E)}return w.clear(),S.size>0?S:Dict.empty}clone(){const d=new Dict(this.xref);for(const x of this.getKeys())d.set(x,this.getRaw(x));return d}}class Ref{constructor(d,x){this.num=d,this.gen=x}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(d){const x=RefCache[d];if(x)return x;const b=/^(\d+)R(\d*)$/.exec(d);return!b||b[1]==="0"?null:RefCache[d]=new Ref(parseInt(b[1]),b[2]?parseInt(b[2]):0)}static get(d,x){const b=x===0?`${d}R`:`${d}R${x}`;return RefCache[b]||=new Ref(d,x)}}class RefSet{constructor(d=null){this._set=new Set(d?._set)}has(d){return this._set.has(d.toString())}put(d){this._set.add(d.toString())}remove(d){this._set.delete(d.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}class RefSetCache{constructor(){this._map=new Map}get size(){return this._map.size}get(d){return this._map.get(d.toString())}has(d){return this._map.has(d.toString())}put(d,x){this._map.set(d.toString(),x)}putAlias(d,x){this._map.set(d.toString(),this.get(x))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function isName(g,d){return g instanceof Name&&(d===void 0||g.name===d)}function isCmd(g,d){return g instanceof Cmd&&(d===void 0||g.cmd===d)}function isDict(g,d){return g instanceof Dict&&(d===void 0||isName(g.get("Type"),d))}function isRefsEqual(g,d){return g.num===d.num&&g.gen===d.gen}class BaseStream{constructor(){this.constructor===BaseStream&&unreachable("Cannot initialize BaseStream.")}get length(){unreachable("Abstract getter `length` accessed")}get isEmpty(){unreachable("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return shadow(this,"isDataLoaded",!0)}getByte(){unreachable("Abstract method `getByte` called")}getBytes(d){unreachable("Abstract method `getBytes` called")}peekByte(){const d=this.getByte();return d!==-1&&this.pos--,d}peekBytes(d){const x=this.getBytes(d);return this.pos-=x.length,x}getUint16(){const d=this.getByte(),x=this.getByte();return d===-1||x===-1?-1:(d<<8)+x}getInt32(){const d=this.getByte(),x=this.getByte(),b=this.getByte(),S=this.getByte();return(d<<24)+(x<<16)+(b<<8)+S}getByteRange(d,x){unreachable("Abstract method `getByteRange` called")}getString(d){return bytesToString(this.getBytes(d))}skip(d){this.pos+=d||1}reset(){unreachable("Abstract method `reset` called")}moveStart(){unreachable("Abstract method `moveStart` called")}makeSubStream(d,x,b=null){unreachable("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}const PDF_VERSION_REGEXP=/^[1-9]\.\d$/;function getLookupTableFactory(g){let d;return function(){return g&&(d=Object.create(null),g(d),g=null),d}}class MissingDataException extends BaseException{constructor(d,x){super(`Missing data [${d}, ${x})`,"MissingDataException"),this.begin=d,this.end=x}}class ParserEOFException extends BaseException{constructor(d){super(d,"ParserEOFException")}}class XRefEntryException extends BaseException{constructor(d){super(d,"XRefEntryException")}}class XRefParseException extends BaseException{constructor(d){super(d,"XRefParseException")}}function arrayBuffersToBytes(g){const d=g.length;if(d===0)return new Uint8Array(0);if(d===1)return new Uint8Array(g[0]);let x=0;for(let w=0;w<d;w++)x+=g[w].byteLength;const b=new Uint8Array(x);let S=0;for(let w=0;w<d;w++){const C=new Uint8Array(g[w]);b.set(C,S),S+=C.byteLength}return b}function getInheritableProperty({dict:g,key:d,getArray:x=!1,stopWhenFound:b=!0}){let S;const w=new RefSet;for(;g instanceof Dict&&!(g.objId&&w.has(g.objId));){g.objId&&w.put(g.objId);const C=x?g.getArray(d):g.get(d);if(C!==void 0){if(b)return C;(S||=[]).push(C)}g=g.get("Parent")}return S}const ROMAN_NUMBER_MAP=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function toRomanNumerals(g,d=!1){assert(Number.isInteger(g)&&g>0,"The number should be a positive integer.");const x=[];let b;for(;g>=1e3;)g-=1e3,x.push("M");b=g/100|0,g%=100,x.push(ROMAN_NUMBER_MAP[b]),b=g/10|0,g%=10,x.push(ROMAN_NUMBER_MAP[10+b]),x.push(ROMAN_NUMBER_MAP[20+g]);const S=x.join("");return d?S.toLowerCase():S}function log2(g){return g<=0?0:Math.ceil(Math.log2(g))}function readInt8(g,d){return g[d]<<24>>24}function readUint16(g,d){return g[d]<<8|g[d+1]}function readUint32(g,d){return(g[d]<<24|g[d+1]<<16|g[d+2]<<8|g[d+3])>>>0}function isWhiteSpace(g){return g===32||g===9||g===13||g===10}function parseXFAPath(g){const d=/(.+)\[(\d+)\]$/;return g.split(".").map(x=>{const b=x.match(d);return b?{name:b[1],pos:parseInt(b[2],10)}:{name:x,pos:0}})}function escapePDFName(g){const d=[];let x=0;for(let b=0,S=g.length;b<S;b++){const w=g.charCodeAt(b);(w<33||w>126||w===35||w===40||w===41||w===60||w===62||w===91||w===93||w===123||w===125||w===47||w===37)&&(x<b&&d.push(g.substring(x,b)),d.push(`#${w.toString(16)}`),x=b+1)}return d.length===0?g:(x<g.length&&d.push(g.substring(x,g.length)),d.join(""))}function escapeString(g){return g.replaceAll(/([()\\\n\r])/g,d=>d===`
`?"\\n":d==="\r"?"\\r":`\\${d}`)}function _collectJS(g,d,x,b){if(!g)return;let S=null;if(g instanceof Ref){if(b.has(g))return;S=g,b.put(S),g=d.fetch(g)}if(Array.isArray(g))for(const w of g)_collectJS(w,d,x,b);else if(g instanceof Dict){if(isName(g.get("S"),"JavaScript")){const w=g.get("JS");let C;w instanceof BaseStream?C=w.getString():typeof w=="string"&&(C=w),C&&=stringToPDFString(C).replaceAll("\0",""),C&&x.push(C)}_collectJS(g.getRaw("Next"),d,x,b)}S&&b.remove(S)}function collectActions(g,d,x){const b=Object.create(null),S=getInheritableProperty({dict:d,key:"AA",stopWhenFound:!1});if(S)for(let w=S.length-1;w>=0;w--){const C=S[w];if(C instanceof Dict)for(const F of C.getKeys()){const E=x[F];if(!E)continue;const k=C.getRaw(F),D=new RefSet,M=[];_collectJS(k,g,M,D),M.length>0&&(b[E]=M)}}if(d.has("A")){const w=d.get("A"),C=new RefSet,F=[];_collectJS(w,g,F,C),F.length>0&&(b.Action=F)}return objectSize(b)>0?b:null}const XMLEntities={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function encodeToXmlString(g){const d=[];let x=0;for(let b=0,S=g.length;b<S;b++){const w=g.codePointAt(b);if(32<=w&&w<=126){const C=XMLEntities[w];C&&(x<b&&d.push(g.substring(x,b)),d.push(C),x=b+1)}else x<b&&d.push(g.substring(x,b)),d.push(`&#x${w.toString(16).toUpperCase()};`),w>55295&&(w<57344||w>65533)&&b++,x=b+1}return d.length===0?g:(x<g.length&&d.push(g.substring(x,g.length)),d.join(""))}function validateFontName(g,d=!1){const x=/^("|').*("|')$/.exec(g);if(x&&x[1]===x[2]){if(new RegExp(`[^\\\\]${x[1]}`).test(g.slice(1,-1)))return d&&warn(`FontFamily contains unescaped ${x[1]}: ${g}.`),!1}else for(const b of g.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(b)||!/^[\w-\\]+$/.test(b))return d&&warn(`FontFamily contains invalid <custom-ident>: ${g}.`),!1;return!0}function validateCSSFont(g){const d="14",x="400",b=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:S,fontWeight:w,italicAngle:C}=g;if(!validateFontName(S,!0))return!1;const F=w?w.toString():"";g.fontWeight=b.has(F)?F:x;const E=parseFloat(C);return g.italicAngle=isNaN(E)||E<-90||E>90?d:C.toString(),!0}function recoverJsURL(g){const d=["app.launchURL","window.open","xfa.host.gotoURL"],b=new RegExp("^\\s*("+d.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(g);if(b?.[2]){const S=b[2];let w=!1;return b[3]==="true"&&b[1]==="app.launchURL"&&(w=!0),{url:S,newWindow:w}}return null}function numberToString$1(g){if(Number.isInteger(g))return g.toString();const d=Math.round(g*100);return d%100===0?(d/100).toString():d%10===0?g.toFixed(1):g.toFixed(2)}function getNewAnnotationsMap(g){if(!g)return null;const d=new Map;for(const[x,b]of g){if(!x.startsWith(AnnotationEditorPrefix))continue;let S=d.get(b.pageIndex);S||(S=[],d.set(b.pageIndex,S)),S.push(b)}return d.size>0?d:null}function isAscii(g){return/^[\x00-\x7F]*$/.test(g)}function stringToUTF16HexString(g){const d=[];for(let x=0,b=g.length;x<b;x++){const S=g.charCodeAt(x);d.push((S>>8&255).toString(16).padStart(2,"0"),(S&255).toString(16).padStart(2,"0"))}return d.join("")}function stringToUTF16String(g,d=!1){const x=[];d&&x.push("");for(let b=0,S=g.length;b<S;b++){const w=g.charCodeAt(b);x.push(String.fromCharCode(w>>8&255),String.fromCharCode(w&255))}return x.join("")}function getRotationMatrix(g,d,x){switch(g){case 90:return[0,1,-1,0,d,0];case 180:return[-1,0,0,-1,d,x];case 270:return[0,-1,1,0,0,x];default:throw new Error("Invalid rotation")}}let Stream$1=class dt extends BaseStream{constructor(d,x,b,S){super(),this.bytes=d instanceof Uint8Array?d:new Uint8Array(d),this.start=x||0,this.pos=this.start,this.end=x+b||this.bytes.length,this.dict=S}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(d){const x=this.bytes,b=this.pos,S=this.end;if(!d)return x.subarray(b,S);let w=b+d;return w>S&&(w=S),this.pos=w,x.subarray(b,w)}getByteRange(d,x){return d<0&&(d=0),x>this.end&&(x=this.end),this.bytes.subarray(d,x)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(d,x,b=null){return new dt(this.bytes.buffer,d,x,b)}};class StringStream extends Stream$1{constructor(d){super(stringToBytes(d))}}class NullStream extends Stream$1{constructor(){super(new Uint8Array(0))}}class ChunkedStream extends Stream$1{constructor(d,x,b){super(new Uint8Array(d),0,d,null),this.chunkSize=x,this._loadedChunks=new Set,this.numChunks=Math.ceil(d/x),this.manager=b,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const d=[];for(let x=0,b=this.numChunks;x<b;++x)this._loadedChunks.has(x)||d.push(x);return d}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(d,x){const b=this.chunkSize;if(d%b!==0)throw new Error(`Bad begin offset: ${d}`);const S=d+x.byteLength;if(S%b!==0&&S!==this.bytes.length)throw new Error(`Bad end offset: ${S}`);this.bytes.set(new Uint8Array(x),d);const w=Math.floor(d/b),C=Math.floor((S-1)/b)+1;for(let F=w;F<C;++F)this._loadedChunks.add(F)}onReceiveProgressiveData(d){let x=this.progressiveDataLength;const b=Math.floor(x/this.chunkSize);this.bytes.set(new Uint8Array(d),x),x+=d.byteLength,this.progressiveDataLength=x;const S=x>=this.end?this.numChunks:Math.floor(x/this.chunkSize);for(let w=b;w<S;++w)this._loadedChunks.add(w)}ensureByte(d){if(d<this.progressiveDataLength)return;const x=Math.floor(d/this.chunkSize);if(!(x>this.numChunks)&&x!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(x))throw new MissingDataException(d,d+1);this.lastSuccessfulEnsureByteChunk=x}}ensureRange(d,x){if(d>=x||x<=this.progressiveDataLength)return;const b=Math.floor(d/this.chunkSize);if(b>this.numChunks)return;const S=Math.min(Math.floor((x-1)/this.chunkSize)+1,this.numChunks);for(let w=b;w<S;++w)if(!this._loadedChunks.has(w))throw new MissingDataException(d,x)}nextEmptyChunk(d){const x=this.numChunks;for(let b=0;b<x;++b){const S=(d+b)%x;if(!this._loadedChunks.has(S))return S}return null}hasChunk(d){return this._loadedChunks.has(d)}getByte(){const d=this.pos;return d>=this.end?-1:(d>=this.progressiveDataLength&&this.ensureByte(d),this.bytes[this.pos++])}getBytes(d){const x=this.bytes,b=this.pos,S=this.end;if(!d)return S>this.progressiveDataLength&&this.ensureRange(b,S),x.subarray(b,S);let w=b+d;return w>S&&(w=S),w>this.progressiveDataLength&&this.ensureRange(b,w),this.pos=w,x.subarray(b,w)}getByteRange(d,x){return d<0&&(d=0),x>this.end&&(x=this.end),x>this.progressiveDataLength&&this.ensureRange(d,x),this.bytes.subarray(d,x)}makeSubStream(d,x,b=null){x?d+x>this.progressiveDataLength&&this.ensureRange(d,d+x):d>=this.progressiveDataLength&&this.ensureByte(d);function S(){}S.prototype=Object.create(this),S.prototype.getMissingChunks=function(){const C=this.chunkSize,F=Math.floor(this.start/C),E=Math.floor((this.end-1)/C)+1,k=[];for(let D=F;D<E;++D)this._loadedChunks.has(D)||k.push(D);return k},Object.defineProperty(S.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const w=new S;return w.pos=w.start=d,w.end=d+x||this.end,w.dict=b,w}getBaseStreams(){return[this]}}class ChunkedStreamManager{constructor(d,x){this.length=x.length,this.chunkSize=x.rangeChunkSize,this.stream=new ChunkedStream(this.length,this.chunkSize,this),this.pdfNetworkStream=d,this.disableAutoFetch=x.disableAutoFetch,this.msgHandler=x.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new PromiseCapability}sendRequest(d,x){const b=this.pdfNetworkStream.getRangeReader(d,x);b.isStreamingSupported||(b.onProgress=this.onProgress.bind(this));let S=[],w=0;return new Promise((C,F)=>{const E=({value:k,done:D})=>{try{if(D){const M=arrayBuffersToBytes(S);S=null,C(M);return}w+=k.byteLength,b.isStreamingSupported&&this.onProgress({loaded:w}),S.push(k),b.read().then(E,F)}catch(M){F(M)}};b.read().then(E,F)}).then(C=>{this.aborted||this.onReceiveData({chunk:C,begin:d})})}requestAllChunks(d=!1){if(!d){const x=this.stream.getMissingChunks();this._requestChunks(x)}return this._loadedStreamCapability.promise}_requestChunks(d){const x=this.currRequestId++,b=new Set;this._chunksNeededByRequest.set(x,b);for(const C of d)this.stream.hasChunk(C)||b.add(C);if(b.size===0)return Promise.resolve();const S=new PromiseCapability;this._promisesByRequest.set(x,S);const w=[];for(const C of b){let F=this._requestsByChunk.get(C);F||(F=[],this._requestsByChunk.set(C,F),w.push(C)),F.push(x)}if(w.length>0){const C=this.groupChunks(w);for(const F of C){const E=F.beginChunk*this.chunkSize,k=Math.min(F.endChunk*this.chunkSize,this.length);this.sendRequest(E,k).catch(S.reject)}}return S.promise.catch(C=>{if(!this.aborted)throw C})}getStream(){return this.stream}requestRange(d,x){x=Math.min(x,this.length);const b=this.getBeginChunk(d),S=this.getEndChunk(x),w=[];for(let C=b;C<S;++C)w.push(C);return this._requestChunks(w)}requestRanges(d=[]){const x=[];for(const b of d){const S=this.getBeginChunk(b.begin),w=this.getEndChunk(b.end);for(let C=S;C<w;++C)x.includes(C)||x.push(C)}return x.sort(function(b,S){return b-S}),this._requestChunks(x)}groupChunks(d){const x=[];let b=-1,S=-1;for(let w=0,C=d.length;w<C;++w){const F=d[w];b<0&&(b=F),S>=0&&S+1!==F&&(x.push({beginChunk:b,endChunk:S+1}),b=F),w+1===d.length&&x.push({beginChunk:b,endChunk:F+1}),S=F}return x}onProgress(d){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+d.loaded,total:this.length})}onReceiveData(d){const x=d.chunk,b=d.begin===void 0,S=b?this.progressiveDataLength:d.begin,w=S+x.byteLength,C=Math.floor(S/this.chunkSize),F=w<this.length?Math.floor(w/this.chunkSize):Math.ceil(w/this.chunkSize);b?(this.stream.onReceiveProgressiveData(x),this.progressiveDataLength=w):this.stream.onReceiveData(S,x),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const E=[];for(let k=C;k<F;++k){const D=this._requestsByChunk.get(k);if(D){this._requestsByChunk.delete(k);for(const M of D){const L=this._chunksNeededByRequest.get(M);L.has(k)&&L.delete(k),!(L.size>0)&&E.push(M)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let k;if(this.stream.numChunksLoaded===1){const D=this.stream.numChunks-1;this.stream.hasChunk(D)||(k=D)}else k=this.stream.nextEmptyChunk(F);Number.isInteger(k)&&this._requestChunks([k])}for(const k of E){const D=this._promisesByRequest.get(k);this._promisesByRequest.delete(k),D.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(d){this._loadedStreamCapability.reject(d)}getBeginChunk(d){return Math.floor(d/this.chunkSize)}getEndChunk(d){return Math.floor((d-1)/this.chunkSize)+1}abort(d){this.aborted=!0,this.pdfNetworkStream?.cancelAllRequests(d);for(const x of this._promisesByRequest.values())x.reject(d)}}function resizeRgbImage(g,d,x,b,S,w,C){C=C!==1?0:C;const E=x/S,k=b/w;let D=0,M;const L=new Uint16Array(S),R=x*3;for(let U=0;U<S;U++)L[U]=Math.floor(U*E)*3;for(let U=0;U<w;U++){const j=Math.floor(U*k)*R;for(let H=0;H<S;H++)M=j+L[H],d[D++]=g[M++],d[D++]=g[M++],d[D++]=g[M++],D+=C}}let ColorSpace$1=class ht{constructor(d,x){this.constructor===ht&&unreachable("Cannot initialize ColorSpace."),this.name=d,this.numComps=x}getRgb(d,x){const b=new Uint8ClampedArray(3);return this.getRgbItem(d,x,b,0),b}getRgbItem(d,x,b,S){unreachable("Should not call ColorSpace.getRgbItem")}getRgbBuffer(d,x,b,S,w,C,F){unreachable("Should not call ColorSpace.getRgbBuffer")}getOutputLength(d,x){unreachable("Should not call ColorSpace.getOutputLength")}isPassthrough(d){return!1}isDefaultDecode(d,x){return ht.isDefaultDecode(d,this.numComps)}fillRgb(d,x,b,S,w,C,F,E,k){const D=x*b;let M=null;const L=1<<F,R=b!==w||x!==S;if(this.isPassthrough(F))M=E;else if(this.numComps===1&&D>L&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const U=F<=8?new Uint8Array(L):new Uint16Array(L);for(let H=0;H<L;H++)U[H]=H;const j=new Uint8ClampedArray(L*3);if(this.getRgbBuffer(U,0,L,j,0,F,0),R){M=new Uint8Array(D*3);let H=0;for(let V=0;V<D;++V){const z=E[V]*3;M[H++]=j[z],M[H++]=j[z+1],M[H++]=j[z+2]}}else{let H=0;for(let V=0;V<D;++V){const z=E[V]*3;d[H++]=j[z],d[H++]=j[z+1],d[H++]=j[z+2],H+=k}}}else R?(M=new Uint8ClampedArray(D*3),this.getRgbBuffer(E,0,D,M,0,F,0)):this.getRgbBuffer(E,0,S*C,d,0,F,k);if(M)if(R)resizeRgbImage(M,d,x,b,S,w,k);else{let U=0,j=0;for(let H=0,V=S*C;H<V;H++)d[U++]=M[j++],d[U++]=M[j++],d[U++]=M[j++],U+=k}}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!0)}static _cache(d,x,b,S){if(!b)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!S)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let w,C;d instanceof Ref&&(C=d,d=x.fetch(d)),d instanceof Name&&(w=d.name),(w||C)&&b.set(w,C,S)}static getCached(d,x,b){if(!b)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(d instanceof Ref){const S=b.getByRef(d);if(S)return S;try{d=x.fetch(d)}catch(w){if(w instanceof MissingDataException)throw w}}if(d instanceof Name){const S=b.getByName(d.name);if(S)return S}return null}static async parseAsync({cs:d,xref:x,resources:b=null,pdfFunctionFactory:S,localColorSpaceCache:w}){const C=this._parse(d,x,b,S);return this._cache(d,x,w,C),C}static parse({cs:d,xref:x,resources:b=null,pdfFunctionFactory:S,localColorSpaceCache:w}){const C=this.getCached(d,x,w);if(C)return C;const F=this._parse(d,x,b,S);return this._cache(d,x,w,F),F}static _parse(d,x,b=null,S){if(d=x.fetchIfRef(d),d instanceof Name)switch(d.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new PatternCS(null);default:if(b instanceof Dict){const w=b.get("ColorSpace");if(w instanceof Dict){const C=w.get(d.name);if(C){if(C instanceof Name)return this._parse(C,x,b,S);d=C;break}}}throw new FormatError(`Unrecognized ColorSpace: ${d.name}`)}if(Array.isArray(d)){const w=x.fetchIfRef(d[0]).name;let C,F,E,k,D,M;switch(w){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return C=x.fetchIfRef(d[1]),k=C.getArray("WhitePoint"),D=C.getArray("BlackPoint"),M=C.get("Gamma"),new CalGrayCS(k,D,M);case"CalRGB":C=x.fetchIfRef(d[1]),k=C.getArray("WhitePoint"),D=C.getArray("BlackPoint"),M=C.getArray("Gamma");const L=C.getArray("Matrix");return new CalRGBCS(k,D,M,L);case"ICCBased":const U=x.fetchIfRef(d[1]).dict;F=U.get("N");const j=U.get("Alternate");if(j){const Y=this._parse(j,x,b,S);if(Y.numComps===F)return Y;warn("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(F===1)return this.singletons.gray;if(F===3)return this.singletons.rgb;if(F===4)return this.singletons.cmyk;break;case"Pattern":return E=d[1]||null,E&&(E=this._parse(E,x,b,S)),new PatternCS(E);case"I":case"Indexed":E=this._parse(d[1],x,b,S);const H=x.fetchIfRef(d[2])+1,V=x.fetchIfRef(d[3]);return new IndexedCS(E,H,V);case"Separation":case"DeviceN":const z=x.fetchIfRef(d[1]);F=Array.isArray(z)?z.length:1,E=this._parse(d[2],x,b,S);const G=S.create(d[3]);return new AlternateCS(F,E,G);case"Lab":C=x.fetchIfRef(d[1]),k=C.getArray("WhitePoint"),D=C.getArray("BlackPoint");const X=C.getArray("Range");return new LabCS(k,D,X);default:throw new FormatError(`Unimplemented ColorSpace object: ${w}`)}}throw new FormatError(`Unrecognized ColorSpace object: ${d}`)}static isDefaultDecode(d,x){if(!Array.isArray(d))return!0;if(x*2!==d.length)return warn("The decode map is not the correct length"),!0;for(let b=0,S=d.length;b<S;b+=2)if(d[b]!==0||d[b+1]!==1)return!1;return!0}static get singletons(){return shadow(this,"singletons",{get gray(){return shadow(this,"gray",new DeviceGrayCS)},get rgb(){return shadow(this,"rgb",new DeviceRgbCS)},get cmyk(){return shadow(this,"cmyk",new DeviceCmykCS)}})}};class AlternateCS extends ColorSpace$1{constructor(d,x,b){super("Alternate",d),this.base=x,this.tintFn=b,this.tmpBuf=new Float32Array(x.numComps)}getRgbItem(d,x,b,S){const w=this.tmpBuf;this.tintFn(d,x,w,0),this.base.getRgbItem(w,0,b,S)}getRgbBuffer(d,x,b,S,w,C,F){const E=this.tintFn,k=this.base,D=1/((1<<C)-1),M=k.numComps,L=k.usesZeroToOneRange,R=(k.isPassthrough(8)||!L)&&F===0;let U=R?w:0;const j=R?S:new Uint8ClampedArray(M*b),H=this.numComps,V=new Float32Array(H),z=new Float32Array(M);let G,X;for(G=0;G<b;G++){for(X=0;X<H;X++)V[X]=d[x++]*D;if(E(V,0,z,0),L)for(X=0;X<M;X++)j[U++]=z[X]*255;else k.getRgbItem(z,0,j,U),U+=M}R||k.getRgbBuffer(j,0,b,S,w,8,F)}getOutputLength(d,x){return this.base.getOutputLength(d*this.base.numComps/this.numComps,x)}}class PatternCS extends ColorSpace$1{constructor(d){super("Pattern",null),this.base=d}isDefaultDecode(d,x){unreachable("Should not call PatternCS.isDefaultDecode")}}class IndexedCS extends ColorSpace$1{constructor(d,x,b){super("Indexed",1),this.base=d,this.highVal=x;const S=d.numComps*x;if(this.lookup=new Uint8Array(S),b instanceof BaseStream){const w=b.getBytes(S);this.lookup.set(w)}else if(typeof b=="string")for(let w=0;w<S;++w)this.lookup[w]=b.charCodeAt(w)&255;else throw new FormatError(`IndexedCS - unrecognized lookup table: ${b}`)}getRgbItem(d,x,b,S){const w=this.base.numComps,C=d[x]*w;this.base.getRgbBuffer(this.lookup,C,1,b,S,8,0)}getRgbBuffer(d,x,b,S,w,C,F){const E=this.base,k=E.numComps,D=E.getOutputLength(k,F),M=this.lookup;for(let L=0;L<b;++L){const R=d[x++]*k;E.getRgbBuffer(M,R,1,S,w,8,F),w+=D}}getOutputLength(d,x){return this.base.getOutputLength(d*this.base.numComps,x)}isDefaultDecode(d,x){return Array.isArray(d)?d.length!==2?(warn("Decode map length is not correct"),!0):!Number.isInteger(x)||x<1?(warn("Bits per component is not correct"),!0):d[0]===0&&d[1]===(1<<x)-1:!0}}class DeviceGrayCS extends ColorSpace$1{constructor(){super("DeviceGray",1)}getRgbItem(d,x,b,S){const w=d[x]*255;b[S]=b[S+1]=b[S+2]=w}getRgbBuffer(d,x,b,S,w,C,F){const E=255/((1<<C)-1);let k=x,D=w;for(let M=0;M<b;++M){const L=E*d[k++];S[D++]=L,S[D++]=L,S[D++]=L,D+=F}}getOutputLength(d,x){return d*(3+x)}}class DeviceRgbCS extends ColorSpace$1{constructor(){super("DeviceRGB",3)}getRgbItem(d,x,b,S){b[S]=d[x]*255,b[S+1]=d[x+1]*255,b[S+2]=d[x+2]*255}getRgbBuffer(d,x,b,S,w,C,F){if(C===8&&F===0){S.set(d.subarray(x,x+b*3),w);return}const E=255/((1<<C)-1);let k=x,D=w;for(let M=0;M<b;++M)S[D++]=E*d[k++],S[D++]=E*d[k++],S[D++]=E*d[k++],D+=F}getOutputLength(d,x){return d*(3+x)/3|0}isPassthrough(d){return d===8}}class DeviceCmykCS extends ColorSpace$1{constructor(){super("DeviceCMYK",4)}#e(d,x,b,S,w){const C=d[x]*b,F=d[x+1]*b,E=d[x+2]*b,k=d[x+3]*b;S[w]=255+C*(-4.387332384609988*C+54.48615194189176*F+18.82290502165302*E+212.25662451639585*k+-285.2331026137004)+F*(1.7149763477362134*F-5.6096736904047315*E+-17.873870861415444*k-5.497006427196366)+E*(-2.5217340131683033*E-21.248923337353073*k+17.5119270841813)+k*(-21.86122147463605*k-189.48180835922747),S[w+1]=255+C*(8.841041422036149*C+60.118027045597366*F+6.871425592049007*E+31.159100130055922*k+-79.2970844816548)+F*(-15.310361306967817*F+17.575251261109482*E+131.35250912493976*k-190.9453302588951)+E*(4.444339102852739*E+9.8632861493405*k-24.86741582555878)+k*(-20.737325471181034*k-187.80453709719578),S[w+2]=255+C*(.8842522430003296*C+8.078677503112928*F+30.89978309703729*E-.23883238689178934*k+-14.183576799673286)+F*(10.49593273432072*F+63.02378494754052*E+50.606957656360734*k-112.23884253719248)+E*(.03296041114873217*E+115.60384449646641*k+-193.58209356861505)+k*(-22.33816807309886*k-180.12613974708367)}getRgbItem(d,x,b,S){this.#e(d,x,1,b,S)}getRgbBuffer(d,x,b,S,w,C,F){const E=1/((1<<C)-1);for(let k=0;k<b;k++)this.#e(d,x,E,S,w),x+=4,w+=3+F}getOutputLength(d,x){return d/4*(3+x)|0}}class CalGrayCS extends ColorSpace$1{constructor(d,x,b){if(super("CalGray",1),!d)throw new FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=d,[this.XB,this.YB,this.ZB]=x||[0,0,0],this.G=b||1,this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&(info(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&warn(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&(info(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}#e(d,x,b,S,w){const F=(d[x]*w)**this.G,E=this.YW*F,k=Math.max(295.8*E**.3333333333333333-40.8,0);b[S]=k,b[S+1]=k,b[S+2]=k}getRgbItem(d,x,b,S){this.#e(d,x,b,S,1)}getRgbBuffer(d,x,b,S,w,C,F){const E=1/((1<<C)-1);for(let k=0;k<b;++k)this.#e(d,x,S,w,E),x+=1,w+=3+F}getOutputLength(d,x){return d*(3+x)}}class CalRGBCS extends ColorSpace$1{static#e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]);static#t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]);static#n=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]);static#r=new Float32Array([1,1,1]);static#s=new Float32Array(3);static#i=new Float32Array(3);static#c=new Float32Array(3);static#l=(24/116)**3/8;constructor(d,x,b,S){if(super("CalRGB",3),!d)throw new FormatError("WhitePoint missing - required for color space CalRGB");const[w,C,F]=this.whitePoint=d,[E,k,D]=this.blackPoint=x||new Float32Array(3);if([this.GR,this.GG,this.GB]=b||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=S||new Float32Array([1,0,0,0,1,0,0,0,1]),w<0||F<0||C!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(E<0||k<0||D<0)&&(info(`Invalid BlackPoint for ${this.name} [${E}, ${k}, ${D}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&(info(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}#o(d,x,b){b[0]=d[0]*x[0]+d[1]*x[1]+d[2]*x[2],b[1]=d[3]*x[0]+d[4]*x[1]+d[5]*x[2],b[2]=d[6]*x[0]+d[7]*x[1]+d[8]*x[2]}#u(d,x,b){b[0]=x[0]*1/d[0],b[1]=x[1]*1/d[1],b[2]=x[2]*1/d[2]}#a(d,x,b){b[0]=x[0]*.95047/d[0],b[1]=x[1]*1/d[1],b[2]=x[2]*1.08883/d[2]}#f(d){return d<=.0031308?this.#h(0,1,12.92*d):d>=.99554525?1:this.#h(0,1,(1+.055)*d**(1/2.4)-.055)}#h(d,x,b){return Math.max(d,Math.min(x,b))}#p(d){return d<0?-this.#p(-d):d>8?((d+16)/116)**3:d*CalRGBCS.#l}#g(d,x,b){if(d[0]===0&&d[1]===0&&d[2]===0){b[0]=x[0],b[1]=x[1],b[2]=x[2];return}const S=this.#p(0),w=S,C=this.#p(d[0]),F=S,E=this.#p(d[1]),k=S,D=this.#p(d[2]),M=(1-w)/(1-C),L=1-M,R=(1-F)/(1-E),U=1-R,j=(1-k)/(1-D),H=1-j;b[0]=x[0]*M+L,b[1]=x[1]*R+U,b[2]=x[2]*j+H}#b(d,x,b){if(d[0]===1&&d[2]===1){b[0]=x[0],b[1]=x[1],b[2]=x[2];return}const S=b;this.#o(CalRGBCS.#e,x,S);const w=CalRGBCS.#s;this.#u(d,S,w),this.#o(CalRGBCS.#t,w,b)}#x(d,x,b){const S=b;this.#o(CalRGBCS.#e,x,S);const w=CalRGBCS.#s;this.#a(d,S,w),this.#o(CalRGBCS.#t,w,b)}#m(d,x,b,S,w){const C=this.#h(0,1,d[x]*w),F=this.#h(0,1,d[x+1]*w),E=this.#h(0,1,d[x+2]*w),k=C===1?1:C**this.GR,D=F===1?1:F**this.GG,M=E===1?1:E**this.GB,L=this.MXA*k+this.MXB*D+this.MXC*M,R=this.MYA*k+this.MYB*D+this.MYC*M,U=this.MZA*k+this.MZB*D+this.MZC*M,j=CalRGBCS.#i;j[0]=L,j[1]=R,j[2]=U;const H=CalRGBCS.#c;this.#b(this.whitePoint,j,H);const V=CalRGBCS.#i;this.#g(this.blackPoint,H,V);const z=CalRGBCS.#c;this.#x(CalRGBCS.#r,V,z);const G=CalRGBCS.#i;this.#o(CalRGBCS.#n,z,G),b[S]=this.#f(G[0])*255,b[S+1]=this.#f(G[1])*255,b[S+2]=this.#f(G[2])*255}getRgbItem(d,x,b,S){this.#m(d,x,b,S,1)}getRgbBuffer(d,x,b,S,w,C,F){const E=1/((1<<C)-1);for(let k=0;k<b;++k)this.#m(d,x,S,w,E),x+=3,w+=3+F}getOutputLength(d,x){return d*(3+x)/3|0}}class LabCS extends ColorSpace$1{constructor(d,x,b){if(super("Lab",3),!d)throw new FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=d,[this.amin,this.amax,this.bmin,this.bmax]=b||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=x||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&(info("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(info("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}#e(d){return d>=6/29?d**3:108/841*(d-4/29)}#t(d,x,b,S){return b+d*(S-b)/x}#n(d,x,b,S,w){let C=d[x],F=d[x+1],E=d[x+2];b!==!1&&(C=this.#t(C,b,0,100),F=this.#t(F,b,this.amin,this.amax),E=this.#t(E,b,this.bmin,this.bmax)),F>this.amax?F=this.amax:F<this.amin&&(F=this.amin),E>this.bmax?E=this.bmax:E<this.bmin&&(E=this.bmin);const k=(C+16)/116,D=k+F/500,M=k-E/200,L=this.XW*this.#e(D),R=this.YW*this.#e(k),U=this.ZW*this.#e(M);let j,H,V;this.ZW<1?(j=L*3.1339+R*-1.617+U*-.4906,H=L*-.9785+R*1.916+U*.0333,V=L*.072+R*-.229+U*1.4057):(j=L*3.2406+R*-1.5372+U*-.4986,H=L*-.9689+R*1.8758+U*.0415,V=L*.0557+R*-.204+U*1.057),S[w]=Math.sqrt(j)*255,S[w+1]=Math.sqrt(H)*255,S[w+2]=Math.sqrt(V)*255}getRgbItem(d,x,b,S){this.#n(d,x,!1,b,S)}getRgbBuffer(d,x,b,S,w,C,F){const E=(1<<C)-1;for(let k=0;k<b;k++)this.#n(d,x,E,S,w),x+=3,w+=3+F}getOutputLength(d,x){return d*(3+x)/3|0}isDefaultDecode(d,x){return!0}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!1)}}function hexToInt(g,d){let x=0;for(let b=0;b<=d;b++)x=x<<8|g[b];return x>>>0}function hexToStr(g,d){return d===1?String.fromCharCode(g[0],g[1]):d===3?String.fromCharCode(g[0],g[1],g[2],g[3]):String.fromCharCode(...g.subarray(0,d+1))}function addHex(g,d,x){let b=0;for(let S=x;S>=0;S--)b+=g[S]+d[S],g[S]=b&255,b>>=8}function incHex(g,d){let x=1;for(let b=d;b>=0&&x>0;b--)x+=g[b],g[b]=x&255,x>>=8}const MAX_NUM_SIZE=16,MAX_ENCODED_NUM_SIZE=19;class BinaryCMapStream{constructor(d){this.buffer=d,this.pos=0,this.end=d.length,this.tmpBuf=new Uint8Array(MAX_ENCODED_NUM_SIZE)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let d=0,x;do{const b=this.readByte();if(b<0)throw new FormatError("unexpected EOF in bcmap");x=!(b&128),d=d<<7|b&127}while(!x);return d}readSigned(){const d=this.readNumber();return d&1?~(d>>>1):d>>>1}readHex(d,x){d.set(this.buffer.subarray(this.pos,this.pos+x+1)),this.pos+=x+1}readHexNumber(d,x){let b;const S=this.tmpBuf;let w=0;do{const k=this.readByte();if(k<0)throw new FormatError("unexpected EOF in bcmap");b=!(k&128),S[w++]=k&127}while(!b);let C=x,F=0,E=0;for(;C>=0;){for(;E<8&&S.length>0;)F|=S[--w]<<E,E+=7;d[C]=F&255,C--,F>>=8,E-=8}}readHexSigned(d,x){this.readHexNumber(d,x);const b=d[x]&1?255:0;let S=0;for(let w=0;w<=x;w++)S=(S&1)<<8|d[w],d[w]=S>>1^b}readString(){const d=this.readNumber(),x=new Array(d);for(let b=0;b<d;b++)x[b]=this.readNumber();return String.fromCharCode(...x)}}class BinaryCMapReader{async process(d,x,b){const S=new BinaryCMapStream(d),w=S.readByte();x.vertical=!!(w&1);let C=null;const F=new Uint8Array(MAX_NUM_SIZE),E=new Uint8Array(MAX_NUM_SIZE),k=new Uint8Array(MAX_NUM_SIZE),D=new Uint8Array(MAX_NUM_SIZE),M=new Uint8Array(MAX_NUM_SIZE);let L,R;for(;(R=S.readByte())>=0;){const U=R>>5;if(U===7){switch(R&31){case 0:S.readString();break;case 1:C=S.readString();break}continue}const j=!!(R&16),H=R&15;if(H+1>MAX_NUM_SIZE)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const V=1,z=S.readNumber();switch(U){case 0:S.readHex(F,H),S.readHexNumber(E,H),addHex(E,F,H),x.addCodespaceRange(H+1,hexToInt(F,H),hexToInt(E,H));for(let G=1;G<z;G++)incHex(E,H),S.readHexNumber(F,H),addHex(F,E,H),S.readHexNumber(E,H),addHex(E,F,H),x.addCodespaceRange(H+1,hexToInt(F,H),hexToInt(E,H));break;case 1:S.readHex(F,H),S.readHexNumber(E,H),addHex(E,F,H),S.readNumber();for(let G=1;G<z;G++)incHex(E,H),S.readHexNumber(F,H),addHex(F,E,H),S.readHexNumber(E,H),addHex(E,F,H),S.readNumber();break;case 2:S.readHex(k,H),L=S.readNumber(),x.mapOne(hexToInt(k,H),L);for(let G=1;G<z;G++)incHex(k,H),j||(S.readHexNumber(M,H),addHex(k,M,H)),L=S.readSigned()+(L+1),x.mapOne(hexToInt(k,H),L);break;case 3:S.readHex(F,H),S.readHexNumber(E,H),addHex(E,F,H),L=S.readNumber(),x.mapCidRange(hexToInt(F,H),hexToInt(E,H),L);for(let G=1;G<z;G++)incHex(E,H),j?F.set(E):(S.readHexNumber(F,H),addHex(F,E,H)),S.readHexNumber(E,H),addHex(E,F,H),L=S.readNumber(),x.mapCidRange(hexToInt(F,H),hexToInt(E,H),L);break;case 4:S.readHex(k,V),S.readHex(D,H),x.mapOne(hexToInt(k,V),hexToStr(D,H));for(let G=1;G<z;G++)incHex(k,V),j||(S.readHexNumber(M,V),addHex(k,M,V)),incHex(D,H),S.readHexSigned(M,H),addHex(D,M,H),x.mapOne(hexToInt(k,V),hexToStr(D,H));break;case 5:S.readHex(F,V),S.readHexNumber(E,V),addHex(E,F,V),S.readHex(D,H),x.mapBfRange(hexToInt(F,V),hexToInt(E,V),hexToStr(D,H));for(let G=1;G<z;G++)incHex(E,V),j?F.set(E):(S.readHexNumber(F,V),addHex(F,E,V)),S.readHexNumber(E,V),addHex(E,F,V),S.readHex(D,H),x.mapBfRange(hexToInt(F,V),hexToInt(E,V),hexToStr(D,H));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${U}`)}}return C?b(C):x}}const emptyBuffer$1=new Uint8Array(0);let DecodeStream$1=class extends BaseStream{constructor(d){if(super(),this._rawMinBufferLength=d||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer$1,this.minBufferLength=512,d)for(;this.minBufferLength<d;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(d){const x=this.buffer;if(d<=x.byteLength)return x;let b=this.minBufferLength;for(;b<d;)b*=2;const S=new Uint8Array(b);return S.set(x),this.buffer=S}getByte(){const d=this.pos;for(;this.bufferLength<=d;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(d){const x=this.pos;let b;if(d){for(this.ensureBuffer(x+d),b=x+d;!this.eof&&this.bufferLength<b;)this.readBlock();const S=this.bufferLength;b>S&&(b=S)}else{for(;!this.eof;)this.readBlock();b=this.bufferLength}return this.pos=b,this.buffer.subarray(x,b)}reset(){this.pos=0}makeSubStream(d,x,b=null){if(x===void 0)for(;!this.eof;)this.readBlock();else{const S=d+x;for(;this.bufferLength<=S&&!this.eof;)this.readBlock()}return new Stream$1(this.buffer,d,x,b)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}};class StreamsSequenceStream extends DecodeStream$1{constructor(d,x=null){let b=0;for(const S of d)b+=S instanceof DecodeStream$1?S._rawMinBufferLength:S.length;super(b),this.streams=d,this._onError=x}readBlock(){const d=this.streams;if(d.length===0){this.eof=!0;return}const x=d.shift();let b;try{b=x.getBytes()}catch(F){if(this._onError){this._onError(F,x.dict?.objId);return}throw F}const S=this.bufferLength,w=S+b.length;this.ensureBuffer(w).set(b,S),this.bufferLength=w}getBaseStreams(){const d=[];for(const x of this.streams){const b=x.getBaseStreams();b&&d.push(...b)}return d.length>0?d:null}}let Ascii85Stream$1=class extends DecodeStream$1{constructor(d,x){x&&(x*=.8),super(x),this.str=d,this.dict=d.dict,this.input=new Uint8Array(5)}readBlock(){const S=this.str;let w=S.getByte();for(;isWhiteSpace(w);)w=S.getByte();if(w===-1||w===126){this.eof=!0;return}const C=this.bufferLength;let F,E;if(w===122){for(F=this.ensureBuffer(C+4),E=0;E<4;++E)F[C+E]=0;this.bufferLength+=4}else{const k=this.input;for(k[0]=w,E=1;E<5;++E){for(w=S.getByte();isWhiteSpace(w);)w=S.getByte();if(k[E]=w,w===-1||w===126)break}if(F=this.ensureBuffer(C+E-1),this.bufferLength+=E-1,E<5){for(;E<5;++E)k[E]=117;this.eof=!0}let D=0;for(E=0;E<5;++E)D=D*85+(k[E]-33);for(E=3;E>=0;--E)F[C+E]=D&255,D>>=8}}},AsciiHexStream$1=class extends DecodeStream$1{constructor(d,x){x&&(x*=.5),super(x),this.str=d,this.dict=d.dict,this.firstDigit=-1}readBlock(){const x=this.str.getBytes(8e3);if(!x.length){this.eof=!0;return}const b=x.length+1>>1,S=this.ensureBuffer(this.bufferLength+b);let w=this.bufferLength,C=this.firstDigit;for(const F of x){let E;if(F>=48&&F<=57)E=F&15;else if(F>=65&&F<=70||F>=97&&F<=102)E=(F&15)+9;else if(F===62){this.eof=!0;break}else continue;C<0?C=E:(S[w++]=C<<4|E,C=-1)}C>=0&&this.eof&&(S[w++]=C<<4,C=-1),this.firstDigit=C,this.bufferLength=w}};const ccittEOL=-2,ccittEOF=-1,twoDimPass=0,twoDimHoriz=1,twoDimVert0=2,twoDimVertR1=3,twoDimVertL1=4,twoDimVertR2=5,twoDimVertL2=6,twoDimVertR3=7,twoDimVertL3=8,twoDimTable=[[-1,-1],[-1,-1],[7,twoDimVertL3],[7,twoDimVertR3],[6,twoDimVertL2],[6,twoDimVertL2],[6,twoDimVertR2],[6,twoDimVertR2],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0]],whiteTable1=[[-1,-1],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],whiteTable2=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],blackTable1=[[-1,-1],[-1,-1],[12,ccittEOL],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],blackTable2=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],blackTable3=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class CCITTFaxDecoder{constructor(d,x={}){if(!d||typeof d.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=d,this.eof=!1,this.encoding=x.K||0,this.eoline=x.EndOfLine||!1,this.byteAlign=x.EncodedByteAlign||!1,this.columns=x.Columns||1728,this.rows=x.Rows||0,this.eoblock=x.EndOfBlock??!0,this.black=x.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let b;for(;(b=this._lookBits(12))===0;)this._eatBits(1);b===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const d=this.refLine,x=this.codingLine,b=this.columns;let S,w,C,F;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let k,D,M;if(this.nextLine2D){for(F=0;x[F]<b;++F)d[F]=x[F];for(d[F++]=b,d[F]=b,x[0]=0,this.codingPos=0,S=0,w=0;x[this.codingPos]<b;)switch(k=this._getTwoDimCode(),k){case twoDimPass:this._addPixels(d[S+1],w),d[S+1]<b&&(S+=2);break;case twoDimHoriz:if(k=D=0,w){do k+=M=this._getBlackCode();while(M>=64);do D+=M=this._getWhiteCode();while(M>=64)}else{do k+=M=this._getWhiteCode();while(M>=64);do D+=M=this._getBlackCode();while(M>=64)}for(this._addPixels(x[this.codingPos]+k,w),x[this.codingPos]<b&&this._addPixels(x[this.codingPos]+D,w^1);d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case twoDimVertR3:if(this._addPixels(d[S]+3,w),w^=1,x[this.codingPos]<b)for(++S;d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case twoDimVertR2:if(this._addPixels(d[S]+2,w),w^=1,x[this.codingPos]<b)for(++S;d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case twoDimVertR1:if(this._addPixels(d[S]+1,w),w^=1,x[this.codingPos]<b)for(++S;d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case twoDimVert0:if(this._addPixels(d[S],w),w^=1,x[this.codingPos]<b)for(++S;d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case twoDimVertL3:if(this._addPixelsNeg(d[S]-3,w),w^=1,x[this.codingPos]<b)for(S>0?--S:++S;d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case twoDimVertL2:if(this._addPixelsNeg(d[S]-2,w),w^=1,x[this.codingPos]<b)for(S>0?--S:++S;d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case twoDimVertL1:if(this._addPixelsNeg(d[S]-1,w),w^=1,x[this.codingPos]<b)for(S>0?--S:++S;d[S]<=x[this.codingPos]&&d[S]<b;)S+=2;break;case ccittEOF:this._addPixels(b,0),this.eof=!0;break;default:info("bad 2d code"),this._addPixels(b,0),this.err=!0}}else for(x[0]=0,this.codingPos=0,w=0;x[this.codingPos]<b;){if(k=0,w)do k+=M=this._getBlackCode();while(M>=64);else do k+=M=this._getWhiteCode();while(M>=64);this._addPixels(x[this.codingPos]+k,w),w^=1}let L=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(k=this._lookBits(12),this.eoline)for(;k!==ccittEOF&&k!==1;)this._eatBits(1),k=this._lookBits(12);else for(;k===0;)this._eatBits(1),k=this._lookBits(12);k===1?(this._eatBits(12),L=!0):k===ccittEOF&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&L&&this.byteAlign){if(k=this._lookBits(12),k===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(F=0;F<4;++F)k=this._lookBits(12),k!==1&&info("bad rtc code: "+k),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(k=this._lookBits(13),k===ccittEOF)return this.eof=!0,-1;if(k>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(k&1))}this.outputBits=x[0]>0?x[this.codingPos=0]:x[this.codingPos=1],this.row++}let E;if(this.outputBits>=8)E=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&x[this.codingPos]<b&&(this.codingPos++,this.outputBits=x[this.codingPos]-x[this.codingPos-1]);else{C=8,E=0;do{if(typeof this.outputBits!="number")throw new FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>C?(E<<=C,this.codingPos&1||(E|=255>>8-C),this.outputBits-=C,C=0):(E<<=this.outputBits,this.codingPos&1||(E|=255>>8-this.outputBits),C-=this.outputBits,this.outputBits=0,x[this.codingPos]<b?(this.codingPos++,this.outputBits=x[this.codingPos]-x[this.codingPos-1]):C>0&&(E<<=C,C=0))}while(C)}return this.black&&(E^=255),E}_addPixels(d,x){const b=this.codingLine;let S=this.codingPos;d>b[S]&&(d>this.columns&&(info("row is wrong length"),this.err=!0,d=this.columns),S&1^x&&++S,b[S]=d),this.codingPos=S}_addPixelsNeg(d,x){const b=this.codingLine;let S=this.codingPos;if(d>b[S])d>this.columns&&(info("row is wrong length"),this.err=!0,d=this.columns),S&1^x&&++S,b[S]=d;else if(d<b[S]){for(d<0&&(info("invalid code"),this.err=!0,d=0);S>0&&d<b[S-1];)--S;b[S]=d}this.codingPos=S}_findTableCode(d,x,b,S){const w=S||0;for(let C=d;C<=x;++C){let F=this._lookBits(C);if(F===ccittEOF)return[!0,1,!1];if(C<x&&(F<<=x-C),!w||F>=w){const E=b[F-w];if(E[0]===C)return this._eatBits(C),[!0,E[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let d=0,x;if(this.eoblock){if(d=this._lookBits(7),x=twoDimTable[d],x?.[0]>0)return this._eatBits(x[0]),x[1]}else{const b=this._findTableCode(1,7,twoDimTable);if(b[0]&&b[2])return b[1]}return info("Bad two dim code"),ccittEOF}_getWhiteCode(){let d=0,x;if(this.eoblock){if(d=this._lookBits(12),d===ccittEOF)return 1;if(x=d>>5?whiteTable2[d>>3]:whiteTable1[d],x[0]>0)return this._eatBits(x[0]),x[1]}else{let b=this._findTableCode(1,9,whiteTable2);if(b[0]||(b=this._findTableCode(11,12,whiteTable1),b[0]))return b[1]}return info("bad white code"),this._eatBits(1),1}_getBlackCode(){let d,x;if(this.eoblock){if(d=this._lookBits(13),d===ccittEOF)return 1;if(d>>7?!(d>>9)&&d>>7?x=blackTable2[(d>>1)-64]:x=blackTable3[d>>7]:x=blackTable1[d],x[0]>0)return this._eatBits(x[0]),x[1]}else{let b=this._findTableCode(2,6,blackTable3);if(b[0]||(b=this._findTableCode(7,12,blackTable2,64),b[0])||(b=this._findTableCode(10,13,blackTable1),b[0]))return b[1]}return info("bad black code"),this._eatBits(1),1}_lookBits(d){let x;for(;this.inputBits<d;){if((x=this.source.next())===-1)return this.inputBits===0?ccittEOF:this.inputBuf<<d-this.inputBits&65535>>16-d;this.inputBuf=this.inputBuf<<8|x,this.inputBits+=8}return this.inputBuf>>this.inputBits-d&65535>>16-d}_eatBits(d){(this.inputBits-=d)<0&&(this.inputBits=0)}}class CCITTFaxStream extends DecodeStream$1{constructor(d,x,b){super(x),this.str=d,this.dict=d.dict,b instanceof Dict||(b=Dict.empty);const S={next(){return d.getByte()}};this.ccittFaxDecoder=new CCITTFaxDecoder(S,{K:b.get("K"),EndOfLine:b.get("EndOfLine"),EncodedByteAlign:b.get("EncodedByteAlign"),Columns:b.get("Columns"),Rows:b.get("Rows"),EndOfBlock:b.get("EndOfBlock"),BlackIs1:b.get("BlackIs1")})}readBlock(){for(;!this.eof;){const d=this.ccittFaxDecoder.readNextChar();if(d===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=d}}}const codeLenCodeMap$1=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode$1=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode$1=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab$1=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab$1=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];let FlateStream$1=class extends DecodeStream$1{constructor(d,x){super(x),this.str=d,this.dict=d.dict;const b=d.getByte(),S=d.getByte();if(b===-1||S===-1)throw new FormatError(`Invalid header in flate stream: ${b}, ${S}`);if((b&15)!==8)throw new FormatError(`Unknown compression method in flate stream: ${b}, ${S}`);if(((b<<8)+S)%31!==0)throw new FormatError(`Bad FCHECK in flate stream: ${b}, ${S}`);if(S&32)throw new FormatError(`FDICT bit set in flate stream: ${b}, ${S}`);this.codeSize=0,this.codeBuf=0}getBits(d){const x=this.str;let b=this.codeSize,S=this.codeBuf,w;for(;b<d;){if((w=x.getByte())===-1)throw new FormatError("Bad encoding in flate stream");S|=w<<b,b+=8}return w=S&(1<<d)-1,this.codeBuf=S>>d,this.codeSize=b-=d,w}getCode(d){const x=this.str,b=d[0],S=d[1];let w=this.codeSize,C=this.codeBuf,F;for(;w<S&&(F=x.getByte())!==-1;)C|=F<<w,w+=8;const E=b[C&(1<<S)-1],k=E>>16,D=E&65535;if(k<1||w<k)throw new FormatError("Bad encoding in flate stream");return this.codeBuf=C>>k,this.codeSize=w-k,D}generateHuffmanTable(d){const x=d.length;let b=0,S;for(S=0;S<x;++S)d[S]>b&&(b=d[S]);const w=1<<b,C=new Int32Array(w);for(let F=1,E=0,k=2;F<=b;++F,E<<=1,k<<=1)for(let D=0;D<x;++D)if(d[D]===F){let M=0,L=E;for(S=0;S<F;++S)M=M<<1|L&1,L>>=1;for(S=M;S<w;S+=k)C[S]=F<<16|D;++E}return[C,b]}readBlock(){let d,x;const b=this.str;let S=this.getBits(3);if(S&1&&(this.eof=!0),S>>=1,S===0){let k;if((k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");let D=k;if((k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");if(D|=k<<8,(k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");let M=k;if((k=b.getByte())===-1)throw new FormatError("Bad block header in flate stream");if(M|=k<<8,M!==(~D&65535)&&(D!==0||M!==0))throw new FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const L=this.bufferLength,R=L+D;if(d=this.ensureBuffer(R),this.bufferLength=R,D===0)b.peekByte()===-1&&(this.eof=!0);else{const U=b.getBytes(D);d.set(U,L),U.length<D&&(this.eof=!0)}return}let w,C;if(S===1)w=fixedLitCodeTab$1,C=fixedDistCodeTab$1;else if(S===2){const k=this.getBits(5)+257,D=this.getBits(5)+1,M=this.getBits(4)+4,L=new Uint8Array(codeLenCodeMap$1.length);let R;for(R=0;R<M;++R)L[codeLenCodeMap$1[R]]=this.getBits(3);const U=this.generateHuffmanTable(L);x=0,R=0;const j=k+D,H=new Uint8Array(j);let V,z,G;for(;R<j;){const X=this.getCode(U);if(X===16)V=2,z=3,G=x;else if(X===17)V=3,z=3,G=x=0;else if(X===18)V=7,z=11,G=x=0;else{H[R++]=x=X;continue}let Y=this.getBits(V)+z;for(;Y-- >0;)H[R++]=G}w=this.generateHuffmanTable(H.subarray(0,k)),C=this.generateHuffmanTable(H.subarray(k,j))}else throw new FormatError("Unknown block type in flate stream");d=this.buffer;let F=d?d.length:0,E=this.bufferLength;for(;;){let k=this.getCode(w);if(k<256){E+1>=F&&(d=this.ensureBuffer(E+1),F=d.length),d[E++]=k;continue}if(k===256){this.bufferLength=E;return}k-=257,k=lengthDecode$1[k];let D=k>>16;D>0&&(D=this.getBits(D)),x=(k&65535)+D,k=this.getCode(C),k=distDecode$1[k],D=k>>16,D>0&&(D=this.getBits(D));const M=(k&65535)+D;E+x>=F&&(d=this.ensureBuffer(E+x),F=d.length);for(let L=0;L<x;++L,++E)d[E]=d[E-M]}}};const QeTable=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class ArithmeticDecoder{constructor(d,x,b){this.data=d,this.bp=x,this.dataEnd=b,this.chigh=d[x],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const d=this.data;let x=this.bp;d[x]===255?d[x+1]>143?(this.clow+=65280,this.ct=8):(x++,this.clow+=d[x]<<9,this.ct=7,this.bp=x):(x++,this.clow+=x<this.dataEnd?d[x]<<8:65280,this.ct=8,this.bp=x),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(d,x){let b=d[x]>>1,S=d[x]&1;const w=QeTable[b],C=w.qe;let F,E=this.a-C;if(this.chigh<C)E<C?(E=C,F=S,b=w.nmps):(E=C,F=1^S,w.switchFlag===1&&(S=F),b=w.nlps);else{if(this.chigh-=C,E&32768)return this.a=E,S;E<C?(F=1^S,w.switchFlag===1&&(S=F),b=w.nlps):(F=S,b=w.nmps)}do this.ct===0&&this.byteIn(),E<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(E&32768));return this.a=E,d[x]=b<<1|S,F}}class Jbig2Error extends BaseException{constructor(d){super(`JBIG2 error: ${d}`,"Jbig2Error")}}class ContextCache{getContexts(d){return d in this?this[d]:this[d]=new Int8Array(65536)}}class DecodingContext{constructor(d,x,b){this.data=d,this.start=x,this.end=b}get decoder(){const d=new ArithmeticDecoder(this.data,this.start,this.end);return shadow(this,"decoder",d)}get contextCache(){const d=new ContextCache;return shadow(this,"contextCache",d)}}const MAX_INT_32=2**31-1,MIN_INT_32=-(2**31);function decodeInteger(g,d,x){const b=g.getContexts(d);let S=1;function w(k){let D=0;for(let M=0;M<k;M++){const L=x.readBit(b,S);S=S<256?S<<1|L:(S<<1|L)&511|256,D=D<<1|L}return D>>>0}const C=w(1),F=w(1)?w(1)?w(1)?w(1)?w(1)?w(32)+4436:w(12)+340:w(8)+84:w(6)+20:w(4)+4:w(2);let E;return C===0?E=F:F>0&&(E=-F),E>=MIN_INT_32&&E<=MAX_INT_32?E:null}function decodeIAID(g,d,x){const b=g.getContexts("IAID");let S=1;for(let w=0;w<x;w++){const C=d.readBit(b,S);S=S<<1|C}return x<31?S&(1<<x)-1:S&2147483647}const SegmentTypes=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],CodingTemplates=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],RefinementTemplates=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],ReusedContexts=[39717,1941,229,405],RefinementReusedContexts=[32,8];function decodeBitmapTemplate0(g,d,x){const b=x.decoder,S=x.contextCache.getContexts("GB"),w=[];let C,F,E,k,D,M,L;const R=31735;for(F=0;F<d;F++)for(D=w[F]=new Uint8Array(g),M=F<1?D:w[F-1],L=F<2?D:w[F-2],C=L[0]<<13|L[1]<<12|L[2]<<11|M[0]<<7|M[1]<<6|M[2]<<5|M[3]<<4,E=0;E<g;E++)D[E]=k=b.readBit(S,C),C=(C&R)<<1|(E+3<g?L[E+3]<<11:0)|(E+4<g?M[E+4]<<4:0)|k;return w}function decodeBitmap(g,d,x,b,S,w,C,F){if(g){const Ve=new Reader(F.data,F.start,F.end);return decodeMMRBitmap(Ve,d,x,!1)}if(b===0&&!w&&!S&&C.length===4&&C[0].x===3&&C[0].y===-1&&C[1].x===-3&&C[1].y===-1&&C[2].x===2&&C[2].y===-2&&C[3].x===-2&&C[3].y===-2)return decodeBitmapTemplate0(d,x,F);const E=!!w,k=CodingTemplates[b].concat(C);k.sort(function(Ve,De){return Ve.y-De.y||Ve.x-De.x});const D=k.length,M=new Int8Array(D),L=new Int8Array(D),R=[];let U=0,j=0,H=0,V=0,z,G;for(G=0;G<D;G++)M[G]=k[G].x,L[G]=k[G].y,j=Math.min(j,k[G].x),H=Math.max(H,k[G].x),V=Math.min(V,k[G].y),G<D-1&&k[G].y===k[G+1].y&&k[G].x===k[G+1].x-1?U|=1<<D-1-G:R.push(G);const X=R.length,Y=new Int8Array(X),J=new Int8Array(X),ee=new Uint16Array(X);for(z=0;z<X;z++)G=R[z],Y[z]=k[G].x,J[z]=k[G].y,ee[z]=1<<D-1-G;const ie=-j,oe=-V,he=d-H,fe=ReusedContexts[b];let Se=new Uint8Array(d);const we=[],Ee=F.decoder,de=F.contextCache.getContexts("GB");let xe=0,Te,Oe,Ne,Le=0,Me,Ie;for(let Ve=0;Ve<x;Ve++){if(S){const De=Ee.readBit(de,fe);if(xe^=De,xe){we.push(Se);continue}}for(Se=new Uint8Array(Se),we.push(Se),Te=0;Te<d;Te++){if(E&&w[Ve][Te]){Se[Te]=0;continue}if(Te>=ie&&Te<he&&Ve>=oe)for(Le=Le<<1&U,G=0;G<X;G++)Oe=Ve+J[G],Ne=Te+Y[G],Me=we[Oe][Ne],Me&&(Me=ee[G],Le|=Me);else for(Le=0,Ie=D-1,G=0;G<D;G++,Ie--)Ne=Te+M[G],Ne>=0&&Ne<d&&(Oe=Ve+L[G],Oe>=0&&(Me=we[Oe][Ne],Me&&(Le|=Me<<Ie)));const De=Ee.readBit(de,Le);Se[Te]=De}}return we}function decodeRefinement(g,d,x,b,S,w,C,F,E){let k=RefinementTemplates[x].coding;x===0&&(k=k.concat([F[0]]));const D=k.length,M=new Int32Array(D),L=new Int32Array(D);let R;for(R=0;R<D;R++)M[R]=k[R].x,L[R]=k[R].y;let U=RefinementTemplates[x].reference;x===0&&(U=U.concat([F[1]]));const j=U.length,H=new Int32Array(j),V=new Int32Array(j);for(R=0;R<j;R++)H[R]=U[R].x,V[R]=U[R].y;const z=b[0].length,G=b.length,X=RefinementReusedContexts[x],Y=[],J=E.decoder,ee=E.contextCache.getContexts("GR");let ie=0;for(let oe=0;oe<d;oe++){if(C){const fe=J.readBit(ee,X);if(ie^=fe,ie)throw new Jbig2Error("prediction is not supported")}const he=new Uint8Array(g);Y.push(he);for(let fe=0;fe<g;fe++){let Se,we,Ee=0;for(R=0;R<D;R++)Se=oe+L[R],we=fe+M[R],Se<0||we<0||we>=g?Ee<<=1:Ee=Ee<<1|Y[Se][we];for(R=0;R<j;R++)Se=oe+V[R]-w,we=fe+H[R]-S,Se<0||Se>=G||we<0||we>=z?Ee<<=1:Ee=Ee<<1|b[Se][we];const de=J.readBit(ee,Ee);he[fe]=de}}return Y}function decodeSymbolDictionary(g,d,x,b,S,w,C,F,E,k,D,M){if(g&&d)throw new Jbig2Error("symbol refinement with Huffman is not supported");const L=[];let R=0,U=log2(x.length+b);const j=D.decoder,H=D.contextCache;let V,z;for(g&&(V=getStandardTable(1),z=[],U=Math.max(U,1));L.length<b;){const oe=g?w.tableDeltaHeight.decode(M):decodeInteger(H,"IADH",j);R+=oe;let he=0,fe=0;const Se=g?z.length:0;for(;;){const we=g?w.tableDeltaWidth.decode(M):decodeInteger(H,"IADW",j);if(we===null)break;he+=we,fe+=he;let Ee;if(d){const de=decodeInteger(H,"IAAI",j);if(de>1)Ee=decodeTextRegion(g,d,he,R,0,de,1,x.concat(L),U,0,0,1,0,w,E,k,D,0,M);else{const xe=decodeIAID(H,j,U),Te=decodeInteger(H,"IARDX",j),Oe=decodeInteger(H,"IARDY",j),Ne=xe<x.length?x[xe]:L[xe-x.length];Ee=decodeRefinement(he,R,E,Ne,Te,Oe,!1,k,D)}L.push(Ee)}else g?z.push(he):(Ee=decodeBitmap(!1,he,R,C,!1,null,F,D),L.push(Ee))}if(g&&!d){const we=w.tableBitmapSize.decode(M);M.byteAlign();let Ee;if(we===0)Ee=readUncompressedBitmap(M,fe,R);else{const xe=M.end,Te=M.position+we;M.end=Te,Ee=decodeMMRBitmap(M,fe,R,!1),M.end=xe,M.position=Te}const de=z.length;if(Se===de-1)L.push(Ee);else{let xe,Te,Oe=0,Ne,Le,Me;for(xe=Se;xe<de;xe++){for(Le=z[xe],Ne=Oe+Le,Me=[],Te=0;Te<R;Te++)Me.push(Ee[Te].subarray(Oe,Ne));L.push(Me),Oe=Ne}}}}const G=[],X=[];let Y=!1,J,ee;const ie=x.length+b;for(;X.length<ie;){let oe=g?V.decode(M):decodeInteger(H,"IAEX",j);for(;oe--;)X.push(Y);Y=!Y}for(J=0,ee=x.length;J<ee;J++)X[J]&&G.push(x[J]);for(let oe=0;oe<b;J++,oe++)X[J]&&G.push(L[oe]);return G}function decodeTextRegion(g,d,x,b,S,w,C,F,E,k,D,M,L,R,U,j,H,V,z){if(g&&d)throw new Jbig2Error("refinement with Huffman is not supported");const G=[];let X,Y;for(X=0;X<b;X++){if(Y=new Uint8Array(x),S)for(let he=0;he<x;he++)Y[he]=S;G.push(Y)}const J=H.decoder,ee=H.contextCache;let ie=g?-R.tableDeltaT.decode(z):-decodeInteger(ee,"IADT",J),oe=0;for(X=0;X<w;){const he=g?R.tableDeltaT.decode(z):decodeInteger(ee,"IADT",J);ie+=he;const fe=g?R.tableFirstS.decode(z):decodeInteger(ee,"IAFS",J);oe+=fe;let Se=oe;do{let we=0;C>1&&(we=g?z.readBits(V):decodeInteger(ee,"IAIT",J));const Ee=C*ie+we,de=g?R.symbolIDTable.decode(z):decodeIAID(ee,J,E),xe=d&&(g?z.readBit():decodeInteger(ee,"IARI",J));let Te=F[de],Oe=Te[0].length,Ne=Te.length;if(xe){const Ce=decodeInteger(ee,"IARDW",J),te=decodeInteger(ee,"IARDH",J),re=decodeInteger(ee,"IARDX",J),W=decodeInteger(ee,"IARDY",J);Oe+=Ce,Ne+=te,Te=decodeRefinement(Oe,Ne,U,Te,(Ce>>1)+re,(te>>1)+W,!1,j,H)}const Le=Ee-(M&1?0:Ne-1),Me=Se-(M&2?Oe-1:0);let Ie,Ve,De;if(k){for(Ie=0;Ie<Ne;Ie++){if(Y=G[Me+Ie],!Y)continue;De=Te[Ie];const Ce=Math.min(x-Le,Oe);switch(L){case 0:for(Ve=0;Ve<Ce;Ve++)Y[Le+Ve]|=De[Ve];break;case 2:for(Ve=0;Ve<Ce;Ve++)Y[Le+Ve]^=De[Ve];break;default:throw new Jbig2Error(`operator ${L} is not supported`)}}Se+=Ne-1}else{for(Ve=0;Ve<Ne;Ve++)if(Y=G[Le+Ve],!!Y)switch(De=Te[Ve],L){case 0:for(Ie=0;Ie<Oe;Ie++)Y[Me+Ie]|=De[Ie];break;case 2:for(Ie=0;Ie<Oe;Ie++)Y[Me+Ie]^=De[Ie];break;default:throw new Jbig2Error(`operator ${L} is not supported`)}Se+=Oe-1}X++;const Pe=g?R.tableDeltaS.decode(z):decodeInteger(ee,"IADS",J);if(Pe===null)break;Se+=Pe+D}while(!0)}return G}function decodePatternDictionary(g,d,x,b,S,w){const C=[];g||(C.push({x:-d,y:0}),S===0&&C.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const F=(b+1)*d,E=decodeBitmap(g,F,x,S,!1,null,C,w),k=[];for(let D=0;D<=b;D++){const M=[],L=d*D,R=L+d;for(let U=0;U<x;U++)M.push(E[U].subarray(L,R));k.push(M)}return k}function decodeHalftoneRegion(g,d,x,b,S,w,C,F,E,k,D,M,L,R,U){if(C)throw new Jbig2Error("skip is not supported");if(F!==0)throw new Jbig2Error(`operator "${F}" is not supported in halftone region`);const H=[];let V,z,G;for(V=0;V<S;V++){if(G=new Uint8Array(b),w)for(z=0;z<b;z++)G[z]=w;H.push(G)}const X=d.length,Y=d[0],J=Y[0].length,ee=Y.length,ie=log2(X),oe=[];g||(oe.push({x:x<=1?3:2,y:-1}),x===0&&oe.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const he=[];let fe,Se;for(g&&(fe=new Reader(U.data,U.start,U.end)),V=ie-1;V>=0;V--)g?Se=decodeMMRBitmap(fe,E,k,!0):Se=decodeBitmap(!1,E,k,x,!1,null,oe,U),he[V]=Se;let we,Ee,de,xe,Te,Oe,Ne,Le,Me;for(we=0;we<k;we++)for(Ee=0;Ee<E;Ee++){for(de=0,xe=0,z=ie-1;z>=0;z--)de^=he[z][we][Ee],xe|=de<<z;if(Te=d[xe],Oe=D+we*R+Ee*L>>8,Ne=M+we*L-Ee*R>>8,Oe>=0&&Oe+J<=b&&Ne>=0&&Ne+ee<=S)for(V=0;V<ee;V++)for(Me=H[Ne+V],Le=Te[V],z=0;z<J;z++)Me[Oe+z]|=Le[z];else{let Ie,Ve;for(V=0;V<ee;V++)if(Ve=Ne+V,!(Ve<0||Ve>=S))for(Me=H[Ve],Le=Te[V],z=0;z<J;z++)Ie=Oe+z,Ie>=0&&Ie<b&&(Me[Ie]|=Le[z])}}return H}function readSegmentHeader(g,d){const x={};x.number=readUint32(g,d);const b=g[d+4],S=b&63;if(!SegmentTypes[S])throw new Jbig2Error("invalid segment type: "+S);x.type=S,x.typeName=SegmentTypes[S],x.deferredNonRetain=!!(b&128);const w=!!(b&64),C=g[d+5];let F=C>>5&7;const E=[C&31];let k=d+6;if(C===7){F=readUint32(g,k-1)&536870911,k+=3;let U=F+7>>3;for(E[0]=g[k++];--U>0;)E.push(g[k++])}else if(C===5||C===6)throw new Jbig2Error("invalid referred-to flags");x.retainBits=E;let D=4;x.number<=256?D=1:x.number<=65536&&(D=2);const M=[];let L,R;for(L=0;L<F;L++){let U;D===1?U=g[k]:D===2?U=readUint16(g,k):U=readUint32(g,k),M.push(U),k+=D}if(x.referredTo=M,w?(x.pageAssociation=readUint32(g,k),k+=4):x.pageAssociation=g[k++],x.length=readUint32(g,k),k+=4,x.length===4294967295)if(S===38){const U=readRegionSegmentInformation(g,k),H=!!(g[k+RegionSegmentInformationFieldLength]&1),V=6,z=new Uint8Array(V);for(H||(z[0]=255,z[1]=172),z[2]=U.height>>>24&255,z[3]=U.height>>16&255,z[4]=U.height>>8&255,z[5]=U.height&255,L=k,R=g.length;L<R;L++){let G=0;for(;G<V&&z[G]===g[L+G];)G++;if(G===V){x.length=L+V;break}}if(x.length===4294967295)throw new Jbig2Error("segment end was not found")}else throw new Jbig2Error("invalid unknown segment length");return x.headerEnd=k,x}function readSegments(g,d,x,b){const S=[];let w=x;for(;w<b;){const C=readSegmentHeader(d,w);w=C.headerEnd;const F={header:C,data:d};if(g.randomAccess||(F.start=w,w+=C.length,F.end=w),S.push(F),C.type===51)break}if(g.randomAccess)for(let C=0,F=S.length;C<F;C++)S[C].start=w,w+=S[C].header.length,S[C].end=w;return S}function readRegionSegmentInformation(g,d){return{width:readUint32(g,d),height:readUint32(g,d+4),x:readUint32(g,d+8),y:readUint32(g,d+12),combinationOperator:g[d+16]&7}}const RegionSegmentInformationFieldLength=17;function processSegment(g,d){const x=g.header,b=g.data,S=g.end;let w=g.start,C,F,E,k;switch(x.type){case 0:const M={},L=readUint16(b,w);if(M.huffman=!!(L&1),M.refinement=!!(L&2),M.huffmanDHSelector=L>>2&3,M.huffmanDWSelector=L>>4&3,M.bitmapSizeSelector=L>>6&1,M.aggregationInstancesSelector=L>>7&1,M.bitmapCodingContextUsed=!!(L&256),M.bitmapCodingContextRetained=!!(L&512),M.template=L>>10&3,M.refinementTemplate=L>>12&1,w+=2,!M.huffman){for(k=M.template===0?4:1,F=[],E=0;E<k;E++)F.push({x:readInt8(b,w),y:readInt8(b,w+1)}),w+=2;M.at=F}if(M.refinement&&!M.refinementTemplate){for(F=[],E=0;E<2;E++)F.push({x:readInt8(b,w),y:readInt8(b,w+1)}),w+=2;M.refinementAt=F}M.numberOfExportedSymbols=readUint32(b,w),w+=4,M.numberOfNewSymbols=readUint32(b,w),w+=4,C=[M,x.number,x.referredTo,b,w,S];break;case 6:case 7:const R={};R.info=readRegionSegmentInformation(b,w),w+=RegionSegmentInformationFieldLength;const U=readUint16(b,w);if(w+=2,R.huffman=!!(U&1),R.refinement=!!(U&2),R.logStripSize=U>>2&3,R.stripSize=1<<R.logStripSize,R.referenceCorner=U>>4&3,R.transposed=!!(U&64),R.combinationOperator=U>>7&3,R.defaultPixelValue=U>>9&1,R.dsOffset=U<<17>>27,R.refinementTemplate=U>>15&1,R.huffman){const ee=readUint16(b,w);w+=2,R.huffmanFS=ee&3,R.huffmanDS=ee>>2&3,R.huffmanDT=ee>>4&3,R.huffmanRefinementDW=ee>>6&3,R.huffmanRefinementDH=ee>>8&3,R.huffmanRefinementDX=ee>>10&3,R.huffmanRefinementDY=ee>>12&3,R.huffmanRefinementSizeSelector=!!(ee&16384)}if(R.refinement&&!R.refinementTemplate){for(F=[],E=0;E<2;E++)F.push({x:readInt8(b,w),y:readInt8(b,w+1)}),w+=2;R.refinementAt=F}R.numberOfSymbolInstances=readUint32(b,w),w+=4,C=[R,x.referredTo,b,w,S];break;case 16:const j={},H=b[w++];j.mmr=!!(H&1),j.template=H>>1&3,j.patternWidth=b[w++],j.patternHeight=b[w++],j.maxPatternIndex=readUint32(b,w),w+=4,C=[j,x.number,b,w,S];break;case 22:case 23:const V={};V.info=readRegionSegmentInformation(b,w),w+=RegionSegmentInformationFieldLength;const z=b[w++];V.mmr=!!(z&1),V.template=z>>1&3,V.enableSkip=!!(z&8),V.combinationOperator=z>>4&7,V.defaultPixelValue=z>>7&1,V.gridWidth=readUint32(b,w),w+=4,V.gridHeight=readUint32(b,w),w+=4,V.gridOffsetX=readUint32(b,w)&4294967295,w+=4,V.gridOffsetY=readUint32(b,w)&4294967295,w+=4,V.gridVectorX=readUint16(b,w),w+=2,V.gridVectorY=readUint16(b,w),w+=2,C=[V,x.referredTo,b,w,S];break;case 38:case 39:const G={};G.info=readRegionSegmentInformation(b,w),w+=RegionSegmentInformationFieldLength;const X=b[w++];if(G.mmr=!!(X&1),G.template=X>>1&3,G.prediction=!!(X&8),!G.mmr){for(k=G.template===0?4:1,F=[],E=0;E<k;E++)F.push({x:readInt8(b,w),y:readInt8(b,w+1)}),w+=2;G.at=F}C=[G,b,w,S];break;case 48:const Y={width:readUint32(b,w),height:readUint32(b,w+4),resolutionX:readUint32(b,w+8),resolutionY:readUint32(b,w+12)};Y.height===4294967295&&delete Y.height;const J=b[w+16];readUint16(b,w+17),Y.lossless=!!(J&1),Y.refinement=!!(J&2),Y.defaultPixelValue=J>>2&1,Y.combinationOperator=J>>3&3,Y.requiresBuffer=!!(J&32),Y.combinationOperatorOverride=!!(J&64),C=[Y];break;case 49:break;case 50:break;case 51:break;case 53:C=[x.number,b,w,S];break;case 62:break;default:throw new Jbig2Error(`segment type ${x.typeName}(${x.type}) is not implemented`)}const D="on"+x.typeName;D in d&&d[D].apply(d,C)}function processSegments(g,d){for(let x=0,b=g.length;x<b;x++)processSegment(g[x],d)}function parseJbig2Chunks(g){const d=new SimpleSegmentVisitor;for(let x=0,b=g.length;x<b;x++){const S=g[x],w=readSegments({},S.data,S.start,S.end);processSegments(w,d)}return d.buffer}class SimpleSegmentVisitor{onPageInformation(d){this.currentPageInfo=d;const x=d.width+7>>3,b=new Uint8ClampedArray(x*d.height);d.defaultPixelValue&&b.fill(255),this.buffer=b}drawBitmap(d,x){const b=this.currentPageInfo,S=d.width,w=d.height,C=b.width+7>>3,F=b.combinationOperatorOverride?d.combinationOperator:b.combinationOperator,E=this.buffer,k=128>>(d.x&7);let D=d.y*C+(d.x>>3),M,L,R,U;switch(F){case 0:for(M=0;M<w;M++){for(R=k,U=D,L=0;L<S;L++)x[M][L]&&(E[U]|=R),R>>=1,R||(R=128,U++);D+=C}break;case 2:for(M=0;M<w;M++){for(R=k,U=D,L=0;L<S;L++)x[M][L]&&(E[U]^=R),R>>=1,R||(R=128,U++);D+=C}break;default:throw new Jbig2Error(`operator ${F} is not supported`)}}onImmediateGenericRegion(d,x,b,S){const w=d.info,C=new DecodingContext(x,b,S),F=decodeBitmap(d.mmr,w.width,w.height,d.template,d.prediction,null,d.at,C);this.drawBitmap(w,F)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(d,x,b,S,w,C){let F,E;d.huffman&&(F=getSymbolDictionaryHuffmanTables(d,b,this.customTables),E=new Reader(S,w,C));let k=this.symbols;k||(this.symbols=k={});const D=[];for(const L of b){const R=k[L];R&&D.push(...R)}const M=new DecodingContext(S,w,C);k[x]=decodeSymbolDictionary(d.huffman,d.refinement,D,d.numberOfNewSymbols,d.numberOfExportedSymbols,F,d.template,d.at,d.refinementTemplate,d.refinementAt,M,E)}onImmediateTextRegion(d,x,b,S,w){const C=d.info;let F,E;const k=this.symbols,D=[];for(const U of x){const j=k[U];j&&D.push(...j)}const M=log2(D.length);d.huffman&&(E=new Reader(b,S,w),F=getTextRegionHuffmanTables(d,x,this.customTables,D.length,E));const L=new DecodingContext(b,S,w),R=decodeTextRegion(d.huffman,d.refinement,C.width,C.height,d.defaultPixelValue,d.numberOfSymbolInstances,d.stripSize,D,M,d.transposed,d.dsOffset,d.referenceCorner,d.combinationOperator,F,d.refinementTemplate,d.refinementAt,L,d.logStripSize,E);this.drawBitmap(C,R)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(d,x,b,S,w){let C=this.patterns;C||(this.patterns=C={});const F=new DecodingContext(b,S,w);C[x]=decodePatternDictionary(d.mmr,d.patternWidth,d.patternHeight,d.maxPatternIndex,d.template,F)}onImmediateHalftoneRegion(d,x,b,S,w){const C=this.patterns[x[0]],F=d.info,E=new DecodingContext(b,S,w),k=decodeHalftoneRegion(d.mmr,C,d.template,F.width,F.height,d.defaultPixelValue,d.enableSkip,d.combinationOperator,d.gridWidth,d.gridHeight,d.gridOffsetX,d.gridOffsetY,d.gridVectorX,d.gridVectorY,E);this.drawBitmap(F,k)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(d,x,b,S){let w=this.customTables;w||(this.customTables=w={}),w[d]=decodeTablesSegment(x,b,S)}}class HuffmanLine{constructor(d){d.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=d[0],this.rangeLength=0,this.prefixCode=d[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=d[0],this.prefixLength=d[1],this.rangeLength=d[2],this.prefixCode=d[3],this.isLowerRange=d[4]==="lower")}}class HuffmanTreeNode{constructor(d){this.children=[],d?(this.isLeaf=!0,this.rangeLength=d.rangeLength,this.rangeLow=d.rangeLow,this.isLowerRange=d.isLowerRange,this.isOOB=d.isOOB):this.isLeaf=!1}buildTree(d,x){const b=d.prefixCode>>x&1;if(x<=0)this.children[b]=new HuffmanTreeNode(d);else{let S=this.children[b];S||(this.children[b]=S=new HuffmanTreeNode(null)),S.buildTree(d,x-1)}}decodeNode(d){if(this.isLeaf){if(this.isOOB)return null;const b=d.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-b:b)}const x=this.children[d.readBit()];if(!x)throw new Jbig2Error("invalid Huffman data");return x.decodeNode(d)}}class HuffmanTable{constructor(d,x){x||this.assignPrefixCodes(d),this.rootNode=new HuffmanTreeNode(null);for(let b=0,S=d.length;b<S;b++){const w=d[b];w.prefixLength>0&&this.rootNode.buildTree(w,w.prefixLength-1)}}decode(d){return this.rootNode.decodeNode(d)}assignPrefixCodes(d){const x=d.length;let b=0;for(let D=0;D<x;D++)b=Math.max(b,d[D].prefixLength);const S=new Uint32Array(b+1);for(let D=0;D<x;D++)S[d[D].prefixLength]++;let w=1,C=0,F,E,k;for(S[0]=0;w<=b;){for(C=C+S[w-1]<<1,F=C,E=0;E<x;)k=d[E],k.prefixLength===w&&(k.prefixCode=F,F++),E++;w++}}}function decodeTablesSegment(g,d,x){const b=g[d],S=readUint32(g,d+1)&4294967295,w=readUint32(g,d+5)&4294967295,C=new Reader(g,d+9,x),F=(b>>1&7)+1,E=(b>>4&7)+1,k=[];let D,M,L=S;do D=C.readBits(F),M=C.readBits(E),k.push(new HuffmanLine([L,D,M,0])),L+=1<<M;while(L<w);return D=C.readBits(F),k.push(new HuffmanLine([S-1,D,32,0,"lower"])),D=C.readBits(F),k.push(new HuffmanLine([w,D,32,0])),b&1&&(D=C.readBits(F),k.push(new HuffmanLine([D,0]))),new HuffmanTable(k,!1)}const standardTablesCache={};function getStandardTable(g){let d=standardTablesCache[g];if(d)return d;let x;switch(g){case 1:x=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:x=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:x=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:x=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:x=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:x=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:x=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:x=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:x=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:x=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:x=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:x=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:x=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:x=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:x=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new Jbig2Error(`standard table B.${g} does not exist`)}for(let b=0,S=x.length;b<S;b++)x[b]=new HuffmanLine(x[b]);return d=new HuffmanTable(x,!0),standardTablesCache[g]=d,d}class Reader{constructor(d,x,b){this.data=d,this.start=x,this.end=b,this.position=x,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new Jbig2Error("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const d=this.currentByte>>this.shift&1;return this.shift--,d}readBits(d){let x=0,b;for(b=d-1;b>=0;b--)x|=this.readBit()<<b;return x}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function getCustomHuffmanTable(g,d,x){let b=0;for(let S=0,w=d.length;S<w;S++){const C=x[d[S]];if(C){if(g===b)return C;b++}}throw new Jbig2Error("can't find custom Huffman table")}function getTextRegionHuffmanTables(g,d,x,b,S){const w=[];for(let L=0;L<=34;L++){const R=S.readBits(4);w.push(new HuffmanLine([L,R,0,0]))}const C=new HuffmanTable(w,!1);w.length=0;for(let L=0;L<b;){const R=C.decode(S);if(R>=32){let U,j,H;switch(R){case 32:if(L===0)throw new Jbig2Error("no previous value in symbol ID table");j=S.readBits(2)+3,U=w[L-1].prefixLength;break;case 33:j=S.readBits(3)+3,U=0;break;case 34:j=S.readBits(7)+11,U=0;break;default:throw new Jbig2Error("invalid code length in symbol ID table")}for(H=0;H<j;H++)w.push(new HuffmanLine([L,U,0,0])),L++}else w.push(new HuffmanLine([L,R,0,0])),L++}S.byteAlign();const F=new HuffmanTable(w,!1);let E=0,k,D,M;switch(g.huffmanFS){case 0:case 1:k=getStandardTable(g.huffmanFS+6);break;case 3:k=getCustomHuffmanTable(E,d,x),E++;break;default:throw new Jbig2Error("invalid Huffman FS selector")}switch(g.huffmanDS){case 0:case 1:case 2:D=getStandardTable(g.huffmanDS+8);break;case 3:D=getCustomHuffmanTable(E,d,x),E++;break;default:throw new Jbig2Error("invalid Huffman DS selector")}switch(g.huffmanDT){case 0:case 1:case 2:M=getStandardTable(g.huffmanDT+11);break;case 3:M=getCustomHuffmanTable(E,d,x),E++;break;default:throw new Jbig2Error("invalid Huffman DT selector")}if(g.refinement)throw new Jbig2Error("refinement with Huffman is not supported");return{symbolIDTable:F,tableFirstS:k,tableDeltaS:D,tableDeltaT:M}}function getSymbolDictionaryHuffmanTables(g,d,x){let b=0,S,w;switch(g.huffmanDHSelector){case 0:case 1:S=getStandardTable(g.huffmanDHSelector+4);break;case 3:S=getCustomHuffmanTable(b,d,x),b++;break;default:throw new Jbig2Error("invalid Huffman DH selector")}switch(g.huffmanDWSelector){case 0:case 1:w=getStandardTable(g.huffmanDWSelector+2);break;case 3:w=getCustomHuffmanTable(b,d,x),b++;break;default:throw new Jbig2Error("invalid Huffman DW selector")}let C,F;return g.bitmapSizeSelector?(C=getCustomHuffmanTable(b,d,x),b++):C=getStandardTable(1),g.aggregationInstancesSelector?F=getCustomHuffmanTable(b,d,x):F=getStandardTable(1),{tableDeltaHeight:S,tableDeltaWidth:w,tableBitmapSize:C,tableAggregateInstances:F}}function readUncompressedBitmap(g,d,x){const b=[];for(let S=0;S<x;S++){const w=new Uint8Array(d);b.push(w);for(let C=0;C<d;C++)w[C]=g.readBit();g.byteAlign()}return b}function decodeMMRBitmap(g,d,x,b){const S={K:-1,Columns:d,Rows:x,BlackIs1:!0,EndOfBlock:b},w=new CCITTFaxDecoder(g,S),C=[];let F,E=!1;for(let k=0;k<x;k++){const D=new Uint8Array(d);C.push(D);let M=-1;for(let L=0;L<d;L++)M<0&&(F=w.readNextChar(),F===-1&&(F=0,E=!0),M=7),D[L]=F>>M&1,M--}if(b&&!E)for(let D=0;D<5&&w.readNextChar()!==-1;D++);return C}class Jbig2Image{parseChunks(d){return parseJbig2Chunks(d)}parse(d){throw new Error("Not implemented: Jbig2Image.parse")}}class Jbig2Stream extends DecodeStream$1{constructor(d,x,b){super(x),this.stream=d,this.dict=d.dict,this.maybeLength=x,this.params=b}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(d){}readBlock(){if(this.eof)return;const d=new Jbig2Image,x=[];if(this.params instanceof Dict){const w=this.params.get("JBIG2Globals");if(w instanceof BaseStream){const C=w.getBytes();x.push({data:C,start:0,end:C.length})}}x.push({data:this.bytes,start:0,end:this.bytes.length});const b=d.parseChunks(x),S=b.length;for(let w=0;w<S;w++)b[w]^=255;this.buffer=b,this.bufferLength=S,this.eof=!0}}function convertToRGBA(g){switch(g.kind){case ImageKind.GRAYSCALE_1BPP:return convertBlackAndWhiteToRGBA(g);case ImageKind.RGB_24BPP:return convertRGBToRGBA(g)}return null}function convertBlackAndWhiteToRGBA({src:g,srcPos:d=0,dest:x,width:b,height:S,nonBlackColor:w=4294967295,inverseDecode:C=!1}){const F=FeatureTest.isLittleEndian?4278190080:255,[E,k]=C?[w,F]:[F,w],D=b>>3,M=b&7,L=g.length;x=new Uint32Array(x.buffer);let R=0;for(let U=0;U<S;U++){for(const H=d+D;d<H;d++){const V=d<L?g[d]:255;x[R++]=V&128?k:E,x[R++]=V&64?k:E,x[R++]=V&32?k:E,x[R++]=V&16?k:E,x[R++]=V&8?k:E,x[R++]=V&4?k:E,x[R++]=V&2?k:E,x[R++]=V&1?k:E}if(M===0)continue;const j=d<L?g[d++]:255;for(let H=0;H<M;H++)x[R++]=j&1<<7-H?k:E}return{srcPos:d,destPos:R}}function convertRGBToRGBA({src:g,srcPos:d=0,dest:x,destPos:b=0,width:S,height:w}){let C=0;const F=g.length>>2,E=new Uint32Array(g.buffer,d,F);if(FeatureTest.isLittleEndian){for(;C<F-2;C+=3,b+=4){const k=E[C],D=E[C+1],M=E[C+2];x[b]=k|4278190080,x[b+1]=k>>>24|D<<8|4278190080,x[b+2]=D>>>16|M<<16|4278190080,x[b+3]=M>>>8|4278190080}for(let k=C*4,D=g.length;k<D;k+=3)x[b++]=g[k]|g[k+1]<<8|g[k+2]<<16|4278190080}else{for(;C<F-2;C+=3,b+=4){const k=E[C],D=E[C+1],M=E[C+2];x[b]=k|255,x[b+1]=k<<24|D>>>8|255,x[b+2]=D<<16|M>>>16|255,x[b+3]=M<<8|255}for(let k=C*4,D=g.length;k<D;k+=3)x[b++]=g[k]<<24|g[k+1]<<16|g[k+2]<<8|255}return{srcPos:d,destPos:b}}function grayToRGBA(g,d){if(FeatureTest.isLittleEndian)for(let x=0,b=g.length;x<b;x++)d[x]=g[x]*65793|4278190080;else for(let x=0,b=g.length;x<b;x++)d[x]=g[x]*16843008|255}class JpegError extends BaseException{constructor(d){super(`JPEG error: ${d}`,"JpegError")}}class DNLMarkerError extends BaseException{constructor(d,x){super(d,"DNLMarkerError"),this.scanLines=x}}class EOIMarkerError extends BaseException{constructor(d){super(d,"EOIMarkerError")}}const dctZigZag=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dctCos1=4017,dctSin1=799,dctCos3=3406,dctSin3=2276,dctCos6=1567,dctSin6=3784,dctSqrt2=5793,dctSqrt1d2=2896;function buildHuffmanTable(g,d){let x=0,b,S,w=16;for(;w>0&&!g[w-1];)w--;const C=[{children:[],index:0}];let F=C[0],E;for(b=0;b<w;b++){for(S=0;S<g[b];S++){for(F=C.pop(),F.children[F.index]=d[x];F.index>0;)F=C.pop();for(F.index++,C.push(F);C.length<=b;)C.push(E={children:[],index:0}),F.children[F.index]=E.children,F=E;x++}b+1<w&&(C.push(E={children:[],index:0}),F.children[F.index]=E.children,F=E)}return C[0].children}function getBlockBufferOffset(g,d,x){return 64*((g.blocksPerLine+1)*d+x)}function decodeScan(g,d,x,b,S,w,C,F,E,k=!1){const D=x.mcusPerLine,M=x.progressive,L=d;let R=0,U=0;function j(){if(U>0)return U--,R>>U&1;if(R=g[d++],R===255){const Ce=g[d++];if(Ce){if(Ce===220&&k){d+=2;const te=readUint16(g,d);if(d+=2,te>0&&te!==x.scanLines)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",te)}else if(Ce===217){if(k){const te=fe*(x.precision===8?8:0);if(te>0&&Math.round(x.scanLines/te)>=5)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",te)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new JpegError(`unexpected marker ${(R<<8|Ce).toString(16)}`)}}return U=7,R>>>7}function H(Ce){let te=Ce;for(;;){switch(te=te[j()],typeof te){case"number":return te;case"object":continue}throw new JpegError("invalid huffman sequence")}}function V(Ce){let te=0;for(;Ce>0;)te=te<<1|j(),Ce--;return te}function z(Ce){if(Ce===1)return j()===1?1:-1;const te=V(Ce);return te>=1<<Ce-1?te:te+(-1<<Ce)+1}function G(Ce,te){const re=H(Ce.huffmanTableDC),W=re===0?0:z(re);Ce.blockData[te]=Ce.pred+=W;let $=1;for(;$<64;){const Z=H(Ce.huffmanTableAC),K=Z&15,Q=Z>>4;if(K===0){if(Q<15)break;$+=16;continue}$+=Q;const ae=dctZigZag[$];Ce.blockData[te+ae]=z(K),$++}}function X(Ce,te){const re=H(Ce.huffmanTableDC),W=re===0?0:z(re)<<E;Ce.blockData[te]=Ce.pred+=W}function Y(Ce,te){Ce.blockData[te]|=j()<<E}let J=0;function ee(Ce,te){if(J>0){J--;return}let re=w;const W=C;for(;re<=W;){const $=H(Ce.huffmanTableAC),Z=$&15,K=$>>4;if(Z===0){if(K<15){J=V(K)+(1<<K)-1;break}re+=16;continue}re+=K;const Q=dctZigZag[re];Ce.blockData[te+Q]=z(Z)*(1<<E),re++}}let ie=0,oe;function he(Ce,te){let re=w;const W=C;let $=0,Z,K;for(;re<=W;){const Q=te+dctZigZag[re],ae=Ce.blockData[Q]<0?-1:1;switch(ie){case 0:if(K=H(Ce.huffmanTableAC),Z=K&15,$=K>>4,Z===0)$<15?(J=V($)+(1<<$),ie=4):($=16,ie=1);else{if(Z!==1)throw new JpegError("invalid ACn encoding");oe=z(Z),ie=$?2:3}continue;case 1:case 2:Ce.blockData[Q]?Ce.blockData[Q]+=ae*(j()<<E):($--,$===0&&(ie=ie===2?3:0));break;case 3:Ce.blockData[Q]?Ce.blockData[Q]+=ae*(j()<<E):(Ce.blockData[Q]=oe<<E,ie=0);break;case 4:Ce.blockData[Q]&&(Ce.blockData[Q]+=ae*(j()<<E));break}re++}ie===4&&(J--,J===0&&(ie=0))}let fe=0;function Se(Ce,te,re,W,$){const Z=re/D|0,K=re%D;fe=Z*Ce.v+W;const Q=K*Ce.h+$,ae=getBlockBufferOffset(Ce,fe,Q);te(Ce,ae)}function we(Ce,te,re){fe=re/Ce.blocksPerLine|0;const W=re%Ce.blocksPerLine,$=getBlockBufferOffset(Ce,fe,W);te(Ce,$)}const Ee=b.length;let de,xe,Te,Oe,Ne,Le;M?w===0?Le=F===0?X:Y:Le=F===0?ee:he:Le=G;let Me=0,Ie;const Ve=Ee===1?b[0].blocksPerLine*b[0].blocksPerColumn:D*x.mcusPerColumn;let De,Pe;for(;Me<=Ve;){const Ce=S?Math.min(Ve-Me,S):Ve;if(Ce>0){for(xe=0;xe<Ee;xe++)b[xe].pred=0;if(J=0,Ee===1)for(de=b[0],Ne=0;Ne<Ce;Ne++)we(de,Le,Me),Me++;else for(Ne=0;Ne<Ce;Ne++){for(xe=0;xe<Ee;xe++)for(de=b[xe],De=de.h,Pe=de.v,Te=0;Te<Pe;Te++)for(Oe=0;Oe<De;Oe++)Se(de,Le,Me,Te,Oe);Me++}}if(U=0,Ie=findNextFileMarker(g,d),!Ie)break;if(Ie.invalid){const te=Ce>0?"unexpected":"excessive";warn(`decodeScan - ${te} MCU data, current marker is: ${Ie.invalid}`),d=Ie.offset}if(Ie.marker>=65488&&Ie.marker<=65495)d+=2;else break}return d-L}function quantizeAndInverse(g,d,x){const b=g.quantizationTable,S=g.blockData;let w,C,F,E,k,D,M,L,R,U,j,H,V,z,G,X,Y;if(!b)throw new JpegError("missing required Quantization Table.");for(let J=0;J<64;J+=8){if(R=S[d+J],U=S[d+J+1],j=S[d+J+2],H=S[d+J+3],V=S[d+J+4],z=S[d+J+5],G=S[d+J+6],X=S[d+J+7],R*=b[J],!(U|j|H|V|z|G|X)){Y=dctSqrt2*R+512>>10,x[J]=Y,x[J+1]=Y,x[J+2]=Y,x[J+3]=Y,x[J+4]=Y,x[J+5]=Y,x[J+6]=Y,x[J+7]=Y;continue}U*=b[J+1],j*=b[J+2],H*=b[J+3],V*=b[J+4],z*=b[J+5],G*=b[J+6],X*=b[J+7],w=dctSqrt2*R+128>>8,C=dctSqrt2*V+128>>8,F=j,E=G,k=dctSqrt1d2*(U-X)+128>>8,L=dctSqrt1d2*(U+X)+128>>8,D=H<<4,M=z<<4,w=w+C+1>>1,C=w-C,Y=F*dctSin6+E*dctCos6+128>>8,F=F*dctCos6-E*dctSin6+128>>8,E=Y,k=k+M+1>>1,M=k-M,L=L+D+1>>1,D=L-D,w=w+E+1>>1,E=w-E,C=C+F+1>>1,F=C-F,Y=k*dctSin3+L*dctCos3+2048>>12,k=k*dctCos3-L*dctSin3+2048>>12,L=Y,Y=D*dctSin1+M*dctCos1+2048>>12,D=D*dctCos1-M*dctSin1+2048>>12,M=Y,x[J]=w+L,x[J+7]=w-L,x[J+1]=C+M,x[J+6]=C-M,x[J+2]=F+D,x[J+5]=F-D,x[J+3]=E+k,x[J+4]=E-k}for(let J=0;J<8;++J){if(R=x[J],U=x[J+8],j=x[J+16],H=x[J+24],V=x[J+32],z=x[J+40],G=x[J+48],X=x[J+56],!(U|j|H|V|z|G|X)){Y=dctSqrt2*R+8192>>14,Y<-2040?Y=0:Y>=2024?Y=255:Y=Y+2056>>4,S[d+J]=Y,S[d+J+8]=Y,S[d+J+16]=Y,S[d+J+24]=Y,S[d+J+32]=Y,S[d+J+40]=Y,S[d+J+48]=Y,S[d+J+56]=Y;continue}w=dctSqrt2*R+2048>>12,C=dctSqrt2*V+2048>>12,F=j,E=G,k=dctSqrt1d2*(U-X)+2048>>12,L=dctSqrt1d2*(U+X)+2048>>12,D=H,M=z,w=(w+C+1>>1)+4112,C=w-C,Y=F*dctSin6+E*dctCos6+2048>>12,F=F*dctCos6-E*dctSin6+2048>>12,E=Y,k=k+M+1>>1,M=k-M,L=L+D+1>>1,D=L-D,w=w+E+1>>1,E=w-E,C=C+F+1>>1,F=C-F,Y=k*dctSin3+L*dctCos3+2048>>12,k=k*dctCos3-L*dctSin3+2048>>12,L=Y,Y=D*dctSin1+M*dctCos1+2048>>12,D=D*dctCos1-M*dctSin1+2048>>12,M=Y,R=w+L,X=w-L,U=C+M,G=C-M,j=F+D,z=F-D,H=E+k,V=E-k,R<16?R=0:R>=4080?R=255:R>>=4,U<16?U=0:U>=4080?U=255:U>>=4,j<16?j=0:j>=4080?j=255:j>>=4,H<16?H=0:H>=4080?H=255:H>>=4,V<16?V=0:V>=4080?V=255:V>>=4,z<16?z=0:z>=4080?z=255:z>>=4,G<16?G=0:G>=4080?G=255:G>>=4,X<16?X=0:X>=4080?X=255:X>>=4,S[d+J]=R,S[d+J+8]=U,S[d+J+16]=j,S[d+J+24]=H,S[d+J+32]=V,S[d+J+40]=z,S[d+J+48]=G,S[d+J+56]=X}}function buildComponentData(g,d){const x=d.blocksPerLine,b=d.blocksPerColumn,S=new Int16Array(64);for(let w=0;w<b;w++)for(let C=0;C<x;C++){const F=getBlockBufferOffset(d,w,C);quantizeAndInverse(d,F,S)}return d.blockData}function findNextFileMarker(g,d,x=d){const b=g.length-1;let S=x<d?x:d;if(d>=b)return null;const w=readUint16(g,d);if(w>=65472&&w<=65534)return{invalid:null,marker:w,offset:d};let C=readUint16(g,S);for(;!(C>=65472&&C<=65534);){if(++S>=b)return null;C=readUint16(g,S)}return{invalid:w.toString(16),marker:C,offset:S}}class JpegImage{constructor({decodeTransform:d=null,colorTransform:x=-1}={}){this._decodeTransform=d,this._colorTransform=x}parse(d,{dnlScanLines:x=null}={}){function b(){const j=readUint16(d,w);w+=2;let H=w+j-2;const V=findNextFileMarker(d,H,w);V?.invalid&&(warn("readDataBlock - incorrect length, current marker is: "+V.invalid),H=V.offset);const z=d.subarray(w,H);return w+=z.length,z}function S(j){const H=Math.ceil(j.samplesPerLine/8/j.maxH),V=Math.ceil(j.scanLines/8/j.maxV);for(const z of j.components){const G=Math.ceil(Math.ceil(j.samplesPerLine/8)*z.h/j.maxH),X=Math.ceil(Math.ceil(j.scanLines/8)*z.v/j.maxV),Y=H*z.h,ee=64*(V*z.v)*(Y+1);z.blockData=new Int16Array(ee),z.blocksPerLine=G,z.blocksPerColumn=X}j.mcusPerLine=H,j.mcusPerColumn=V}let w=0,C=null,F=null,E,k,D=0;const M=[],L=[],R=[];let U=readUint16(d,w);if(w+=2,U!==65496)throw new JpegError("SOI not found");U=readUint16(d,w),w+=2;e:for(;U!==65497;){let j,H,V;switch(U){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const z=b();U===65504&&z[0]===74&&z[1]===70&&z[2]===73&&z[3]===70&&z[4]===0&&(C={version:{major:z[5],minor:z[6]},densityUnits:z[7],xDensity:z[8]<<8|z[9],yDensity:z[10]<<8|z[11],thumbWidth:z[12],thumbHeight:z[13],thumbData:z.subarray(14,14+3*z[12]*z[13])}),U===65518&&z[0]===65&&z[1]===100&&z[2]===111&&z[3]===98&&z[4]===101&&(F={version:z[5]<<8|z[6],flags0:z[7]<<8|z[8],flags1:z[9]<<8|z[10],transformCode:z[11]});break;case 65499:const G=readUint16(d,w);w+=2;const X=G+w-2;let Y;for(;w<X;){const Oe=d[w++],Ne=new Uint16Array(64);if(Oe>>4)if(Oe>>4===1)for(H=0;H<64;H++)Y=dctZigZag[H],Ne[Y]=readUint16(d,w),w+=2;else throw new JpegError("DQT - invalid table spec");else for(H=0;H<64;H++)Y=dctZigZag[H],Ne[Y]=d[w++];M[Oe&15]=Ne}break;case 65472:case 65473:case 65474:if(E)throw new JpegError("Only single frame JPEGs supported");w+=2,E={},E.extended=U===65473,E.progressive=U===65474,E.precision=d[w++];const J=readUint16(d,w);w+=2,E.scanLines=x||J,E.samplesPerLine=readUint16(d,w),w+=2,E.components=[],E.componentIds={};const ee=d[w++];let ie=0,oe=0;for(j=0;j<ee;j++){const Oe=d[w],Ne=d[w+1]>>4,Le=d[w+1]&15;ie<Ne&&(ie=Ne),oe<Le&&(oe=Le);const Me=d[w+2];V=E.components.push({h:Ne,v:Le,quantizationId:Me,quantizationTable:null}),E.componentIds[Oe]=V-1,w+=3}E.maxH=ie,E.maxV=oe,S(E);break;case 65476:const he=readUint16(d,w);for(w+=2,j=2;j<he;){const Oe=d[w++],Ne=new Uint8Array(16);let Le=0;for(H=0;H<16;H++,w++)Le+=Ne[H]=d[w];const Me=new Uint8Array(Le);for(H=0;H<Le;H++,w++)Me[H]=d[w];j+=17+Le,(Oe>>4?L:R)[Oe&15]=buildHuffmanTable(Ne,Me)}break;case 65501:w+=2,k=readUint16(d,w),w+=2;break;case 65498:const fe=++D===1&&!x;w+=2;const Se=d[w++],we=[];for(j=0;j<Se;j++){const Oe=d[w++],Ne=E.componentIds[Oe],Le=E.components[Ne];Le.index=Oe;const Me=d[w++];Le.huffmanTableDC=R[Me>>4],Le.huffmanTableAC=L[Me&15],we.push(Le)}const Ee=d[w++],de=d[w++],xe=d[w++];try{const Oe=decodeScan(d,w,E,we,k,Ee,de,xe>>4,xe&15,fe);w+=Oe}catch(Oe){if(Oe instanceof DNLMarkerError)return warn(`${Oe.message} -- attempting to re-parse the JPEG image.`),this.parse(d,{dnlScanLines:Oe.scanLines});if(Oe instanceof EOIMarkerError){warn(`${Oe.message} -- ignoring the rest of the image data.`);break e}throw Oe}break;case 65500:w+=4;break;case 65535:d[w]!==255&&w--;break;default:const Te=findNextFileMarker(d,w-2,w-3);if(Te?.invalid){warn("JpegImage.parse - unexpected data, current marker is: "+Te.invalid),w=Te.offset;break}if(!Te||w>=d.length-1){warn("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new JpegError("JpegImage.parse - unknown marker: "+U.toString(16))}U=readUint16(d,w),w+=2}if(!E)throw new JpegError("JpegImage.parse - no frame data found.");this.width=E.samplesPerLine,this.height=E.scanLines,this.jfif=C,this.adobe=F,this.components=[];for(const j of E.components){const H=M[j.quantizationId];H&&(j.quantizationTable=H),this.components.push({index:j.index,output:buildComponentData(E,j),scaleX:j.h/E.maxH,scaleY:j.v/E.maxV,blocksPerLine:j.blocksPerLine,blocksPerColumn:j.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(d,x,b=!1){const S=this.width/d,w=this.height/x;let C,F,E,k,D,M,L,R,U,j,H=0,V;const z=this.components.length,G=d*x*z,X=new Uint8ClampedArray(G),Y=new Uint32Array(d),J=4294967288;let ee;for(L=0;L<z;L++){if(C=this.components[L],F=C.scaleX*S,E=C.scaleY*w,H=L,V=C.output,k=C.blocksPerLine+1<<3,F!==ee){for(D=0;D<d;D++)R=0|D*F,Y[D]=(R&J)<<3|R&7;ee=F}for(M=0;M<x;M++)for(R=0|M*E,j=k*(R&J)|(R&7)<<3,D=0;D<d;D++)X[H]=V[j+Y[D]],H+=z}let ie=this._decodeTransform;if(!b&&z===4&&!ie&&(ie=new Int32Array([-256,255,-256,255,-256,255,-256,255])),ie)for(L=0;L<G;)for(R=0,U=0;R<z;R++,L++,U+=2)X[L]=(X[L]*ie[U]>>8)+ie[U+1];return X}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(d){let x,b,S;for(let w=0,C=d.length;w<C;w+=3)x=d[w],b=d[w+1],S=d[w+2],d[w]=x-179.456+1.402*S,d[w+1]=x+135.459-.344*b-.714*S,d[w+2]=x-226.816+1.772*b;return d}_convertYccToRgba(d,x){for(let b=0,S=0,w=d.length;b<w;b+=3,S+=4){const C=d[b],F=d[b+1],E=d[b+2];x[S]=C-179.456+1.402*E,x[S+1]=C+135.459-.344*F-.714*E,x[S+2]=C-226.816+1.772*F,x[S+3]=255}return x}_convertYcckToRgb(d){let x,b,S,w,C=0;for(let F=0,E=d.length;F<E;F+=4)x=d[F],b=d[F+1],S=d[F+2],w=d[F+3],d[C++]=-122.67195406894+b*(-660635669420364e-19*b+.000437130475926232*S-54080610064599e-18*x+.00048449797120281*w-.154362151871126)+S*(-.000957964378445773*S+.000817076911346625*x-.00477271405408747*w+1.53380253221734)+x*(.000961250184130688*x-.00266257332283933*w+.48357088451265)+w*(-.000336197177618394*w+.484791561490776),d[C++]=107.268039397724+b*(219927104525741e-19*b-.000640992018297945*S+.000659397001245577*x+.000426105652938837*w-.176491792462875)+S*(-.000778269941513683*S+.00130872261408275*x+.000770482631801132*w-.151051492775562)+x*(.00126935368114843*x-.00265090189010898*w+.25802910206845)+w*(-.000318913117588328*w-.213742400323665),d[C++]=-20.810012546947+b*(-.000570115196973677*b-263409051004589e-19*S+.0020741088115012*x-.00288260236853442*w+.814272968359295)+S*(-153496057440975e-19*S-.000132689043961446*x+.000560833691242812*w-.195152027534049)+x*(.00174418132927582*x-.00255243321439347*w+.116935020465145)+w*(-.000343531996510555*w+.24165260232407);return d.subarray(0,C)}_convertYcckToRgba(d){for(let x=0,b=d.length;x<b;x+=4){const S=d[x],w=d[x+1],C=d[x+2],F=d[x+3];d[x]=-122.67195406894+w*(-660635669420364e-19*w+.000437130475926232*C-54080610064599e-18*S+.00048449797120281*F-.154362151871126)+C*(-.000957964378445773*C+.000817076911346625*S-.00477271405408747*F+1.53380253221734)+S*(.000961250184130688*S-.00266257332283933*F+.48357088451265)+F*(-.000336197177618394*F+.484791561490776),d[x+1]=107.268039397724+w*(219927104525741e-19*w-.000640992018297945*C+.000659397001245577*S+.000426105652938837*F-.176491792462875)+C*(-.000778269941513683*C+.00130872261408275*S+.000770482631801132*F-.151051492775562)+S*(.00126935368114843*S-.00265090189010898*F+.25802910206845)+F*(-.000318913117588328*F-.213742400323665),d[x+2]=-20.810012546947+w*(-.000570115196973677*w-263409051004589e-19*C+.0020741088115012*S-.00288260236853442*F+.814272968359295)+C*(-153496057440975e-19*C-.000132689043961446*S+.000560833691242812*F-.195152027534049)+S*(.00174418132927582*S-.00255243321439347*F+.116935020465145)+F*(-.000343531996510555*F+.24165260232407),d[x+3]=255}return d}_convertYcckToCmyk(d){let x,b,S;for(let w=0,C=d.length;w<C;w+=4)x=d[w],b=d[w+1],S=d[w+2],d[w]=434.456-x-1.402*S,d[w+1]=119.541-x+.344*b+.714*S,d[w+2]=481.816-x-1.772*b;return d}_convertCmykToRgb(d){let x,b,S,w,C=0;for(let F=0,E=d.length;F<E;F+=4)x=d[F],b=d[F+1],S=d[F+2],w=d[F+3],d[C++]=255+x*(-6747147073602441e-20*x+.0008379262121013727*b+.0002894718188643294*S+.003264231057537806*w-1.1185611867203937)+b*(26374107616089405e-21*b-8626949158638572e-20*S-.0002748769067499491*w-.02155688794978967)+S*(-3878099212869363e-20*S-.0003267808279485286*w+.0686742238595345)-w*(.0003361971776183937*w+.7430659151342254),d[C++]=255+x*(.00013596372813588848*x+.000924537132573585*b+.00010567359618683593*S+.0004791864687436512*w-.3109689587515875)+b*(-.00023545346108370344*b+.0002702845253534714*S+.0020200308977307156*w-.7488052167015494)+S*(6834815998235662e-20*S+.00015168452363460973*w-.09751927774728933)-w*(.0003189131175883281*w+.7364883807733168),d[C++]=255+x*(13598650411385307e-21*x+.00012423956175490851*b+.0004751985097583589*S-36729317476630422e-22*w-.05562186980264034)+b*(.00016141380598724676*b+.0009692239130725186*S+.0007782692450036253*w-.44015232367526463)+S*(5068882914068769e-22*S+.0017778369011375071*w-.7591454649749609)-w*(.0003435319965105553*w+.7063770186160144);return d.subarray(0,C)}_convertCmykToRgba(d){for(let x=0,b=d.length;x<b;x+=4){const S=d[x],w=d[x+1],C=d[x+2],F=d[x+3];d[x]=255+S*(-6747147073602441e-20*S+.0008379262121013727*w+.0002894718188643294*C+.003264231057537806*F-1.1185611867203937)+w*(26374107616089405e-21*w-8626949158638572e-20*C-.0002748769067499491*F-.02155688794978967)+C*(-3878099212869363e-20*C-.0003267808279485286*F+.0686742238595345)-F*(.0003361971776183937*F+.7430659151342254),d[x+1]=255+S*(.00013596372813588848*S+.000924537132573585*w+.00010567359618683593*C+.0004791864687436512*F-.3109689587515875)+w*(-.00023545346108370344*w+.0002702845253534714*C+.0020200308977307156*F-.7488052167015494)+C*(6834815998235662e-20*C+.00015168452363460973*F-.09751927774728933)-F*(.0003189131175883281*F+.7364883807733168),d[x+2]=255+S*(13598650411385307e-21*S+.00012423956175490851*w+.0004751985097583589*C-36729317476630422e-22*F-.05562186980264034)+w*(.00016141380598724676*w+.0009692239130725186*C+.0007782692450036253*F-.44015232367526463)+C*(5068882914068769e-22*C+.0017778369011375071*F-.7591454649749609)-F*(.0003435319965105553*F+.7063770186160144),d[x+3]=255}return d}getData({width:d,height:x,forceRGBA:b=!1,forceRGB:S=!1,isSourcePDF:w=!1}){if(this.numComponents>4)throw new JpegError("Unsupported color mode");const C=this._getLinearizedBlockData(d,x,w);if(this.numComponents===1&&(b||S)){const F=C.length*(b?4:3),E=new Uint8ClampedArray(F);let k=0;if(b)grayToRGBA(C,new Uint32Array(E.buffer));else for(const D of C)E[k++]=D,E[k++]=D,E[k++]=D;return E}else if(this.numComponents===3&&this._isColorConversionNeeded){if(b){const F=new Uint8ClampedArray(C.length/3*4);return this._convertYccToRgba(C,F)}return this._convertYccToRgb(C)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return b?this._convertYcckToRgba(C):S?this._convertYcckToRgb(C):this._convertYcckToCmyk(C);if(b)return this._convertCmykToRgba(C);if(S)return this._convertCmykToRgb(C)}return C}}class JpegStream extends DecodeStream$1{constructor(d,x,b){let S;for(;(S=d.getByte())!==-1;)if(S===255){d.skip(-1);break}super(x),this.stream=d,this.dict=d.dict,this.maybeLength=x,this.params=b}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(d){}readBlock(){if(this.eof)return;const d={decodeTransform:void 0,colorTransform:void 0},x=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(x)){const w=this.dict.get("BPC","BitsPerComponent")||8,C=x.length,F=new Int32Array(C);let E=!1;const k=(1<<w)-1;for(let D=0;D<C;D+=2)F[D]=(x[D+1]-x[D])*256|0,F[D+1]=x[D]*k|0,(F[D]!==256||F[D+1]!==0)&&(E=!0);E&&(d.decodeTransform=F)}if(this.params instanceof Dict){const w=this.params.get("ColorTransform");Number.isInteger(w)&&(d.colorTransform=w)}const b=new JpegImage(d);b.parse(this.bytes);const S=b.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=S,this.bufferLength=S.length,this.eof=!0}}class JpxError extends BaseException{constructor(d){super(`JPX error: ${d}`,"JpxError")}}const SubbandsGainLog2={LL:0,LH:1,HL:1,HH:2};class JpxImage{constructor(){this.failOnCorruptedImage=!1}parse(d){if(readUint16(d,0)===65359){this.parseCodestream(d,0,d.length);return}const b=d.length;let S=0;for(;S<b;){let w=8,C=readUint32(d,S);const F=readUint32(d,S+4);if(S+=w,C===1&&(C=readUint32(d,S)*4294967296+readUint32(d,S+4),S+=8,w+=8),C===0&&(C=b-S+w),C<w)throw new JpxError("Invalid box field size");const E=C-w;let k=!0;switch(F){case 1785737832:k=!1;break;case 1668246642:const D=d[S];if(D===1){const L=readUint32(d,S+3);switch(L){case 16:case 17:case 18:break;default:warn("Unknown colorspace "+L);break}}else D===2&&info("ICC profile not supported");break;case 1785737827:this.parseCodestream(d,S,S+E);break;case 1783636e3:readUint32(d,S)!==218793738&&warn("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const M=String.fromCharCode(F>>24&255,F>>16&255,F>>8&255,F&255);warn(`Unsupported header type ${F} (${M}).`);break}k&&(S+=E)}}parseImageProperties(d){let x=d.getByte();for(;x>=0;){const b=x;if(x=d.getByte(),(b<<8|x)===65361){d.skip(4);const w=d.getInt32()>>>0,C=d.getInt32()>>>0,F=d.getInt32()>>>0,E=d.getInt32()>>>0;d.skip(16);const k=d.getUint16();this.width=w-F,this.height=C-E,this.componentsCount=k,this.bitsPerComponent=8;return}}throw new JpxError("No size marker found in JPX stream")}parseCodestream(d,x,b){const S={};let w=!1;try{let C=x;for(;C+1<b;){const F=readUint16(d,C);C+=2;let E=0,k,D,M,L,R,U;switch(F){case 65359:S.mainHeader=!0;break;case 65497:break;case 65361:E=readUint16(d,C);const j={};j.Xsiz=readUint32(d,C+4),j.Ysiz=readUint32(d,C+8),j.XOsiz=readUint32(d,C+12),j.YOsiz=readUint32(d,C+16),j.XTsiz=readUint32(d,C+20),j.YTsiz=readUint32(d,C+24),j.XTOsiz=readUint32(d,C+28),j.YTOsiz=readUint32(d,C+32);const H=readUint16(d,C+36);j.Csiz=H;const V=[];k=C+38;for(let oe=0;oe<H;oe++){const he={precision:(d[k]&127)+1,isSigned:!!(d[k]&128),XRsiz:d[k+1],YRsiz:d[k+2]};k+=3,calculateComponentDimensions(he,j),V.push(he)}S.SIZ=j,S.components=V,calculateTileGrids(S,V),S.QCC=[],S.COC=[];break;case 65372:E=readUint16(d,C);const z={};switch(k=C+2,D=d[k++],D&31){case 0:L=8,R=!0;break;case 1:L=16,R=!1;break;case 2:L=16,R=!0;break;default:throw new Error("Invalid SQcd value "+D)}for(z.noQuantization=L===8,z.scalarExpounded=R,z.guardBits=D>>5,M=[];k<E+C;){const oe={};L===8?(oe.epsilon=d[k++]>>3,oe.mu=0):(oe.epsilon=d[k]>>3,oe.mu=(d[k]&7)<<8|d[k+1],k+=2),M.push(oe)}z.SPqcds=M,S.mainHeader?S.QCD=z:(S.currentTile.QCD=z,S.currentTile.QCC=[]);break;case 65373:E=readUint16(d,C);const G={};k=C+2;let X;switch(S.SIZ.Csiz<257?X=d[k++]:(X=readUint16(d,k),k+=2),D=d[k++],D&31){case 0:L=8,R=!0;break;case 1:L=16,R=!1;break;case 2:L=16,R=!0;break;default:throw new Error("Invalid SQcd value "+D)}for(G.noQuantization=L===8,G.scalarExpounded=R,G.guardBits=D>>5,M=[];k<E+C;){const oe={};L===8?(oe.epsilon=d[k++]>>3,oe.mu=0):(oe.epsilon=d[k]>>3,oe.mu=(d[k]&7)<<8|d[k+1],k+=2),M.push(oe)}G.SPqcds=M,S.mainHeader?S.QCC[X]=G:S.currentTile.QCC[X]=G;break;case 65362:E=readUint16(d,C);const Y={};k=C+2;const J=d[k++];Y.entropyCoderWithCustomPrecincts=!!(J&1),Y.sopMarkerUsed=!!(J&2),Y.ephMarkerUsed=!!(J&4),Y.progressionOrder=d[k++],Y.layersCount=readUint16(d,k),k+=2,Y.multipleComponentTransform=d[k++],Y.decompositionLevelsCount=d[k++],Y.xcb=(d[k++]&15)+2,Y.ycb=(d[k++]&15)+2;const ee=d[k++];if(Y.selectiveArithmeticCodingBypass=!!(ee&1),Y.resetContextProbabilities=!!(ee&2),Y.terminationOnEachCodingPass=!!(ee&4),Y.verticallyStripe=!!(ee&8),Y.predictableTermination=!!(ee&16),Y.segmentationSymbolUsed=!!(ee&32),Y.reversibleTransformation=d[k++],Y.entropyCoderWithCustomPrecincts){const oe=[];for(;k<E+C;){const he=d[k++];oe.push({PPx:he&15,PPy:he>>4})}Y.precinctsSizes=oe}const ie=[];Y.selectiveArithmeticCodingBypass&&ie.push("selectiveArithmeticCodingBypass"),Y.terminationOnEachCodingPass&&ie.push("terminationOnEachCodingPass"),Y.verticallyStripe&&ie.push("verticallyStripe"),Y.predictableTermination&&ie.push("predictableTermination"),ie.length>0&&(w=!0,warn(`JPX: Unsupported COD options (${ie.join(", ")}).`)),S.mainHeader?S.COD=Y:(S.currentTile.COD=Y,S.currentTile.COC=[]);break;case 65424:E=readUint16(d,C),U={},U.index=readUint16(d,C+2),U.length=readUint32(d,C+4),U.dataEnd=U.length+C-2,U.partIndex=d[C+8],U.partsCount=d[C+9],S.mainHeader=!1,U.partIndex===0&&(U.COD=S.COD,U.COC=S.COC.slice(0),U.QCD=S.QCD,U.QCC=S.QCC.slice(0)),S.currentTile=U;break;case 65427:U=S.currentTile,U.partIndex===0&&(initializeTile(S,U.index),buildPackets(S)),E=U.dataEnd-C,parseTilePackets(S,d,C,E);break;case 65363:warn("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:E=readUint16(d,C);break;default:throw new Error("Unknown codestream code: "+F.toString(16))}C+=E}}catch(C){if(w||this.failOnCorruptedImage)throw new JpxError(C.message);warn(`JPX: Trying to recover from: "${C.message}".`)}this.tiles=transformComponents(S),this.width=S.SIZ.Xsiz-S.SIZ.XOsiz,this.height=S.SIZ.Ysiz-S.SIZ.YOsiz,this.componentsCount=S.SIZ.Csiz}}function calculateComponentDimensions(g,d){g.x0=Math.ceil(d.XOsiz/g.XRsiz),g.x1=Math.ceil(d.Xsiz/g.XRsiz),g.y0=Math.ceil(d.YOsiz/g.YRsiz),g.y1=Math.ceil(d.Ysiz/g.YRsiz),g.width=g.x1-g.x0,g.height=g.y1-g.y0}function calculateTileGrids(g,d){const x=g.SIZ,b=[];let S;const w=Math.ceil((x.Xsiz-x.XTOsiz)/x.XTsiz),C=Math.ceil((x.Ysiz-x.YTOsiz)/x.YTsiz);for(let E=0;E<C;E++)for(let k=0;k<w;k++)S={},S.tx0=Math.max(x.XTOsiz+k*x.XTsiz,x.XOsiz),S.ty0=Math.max(x.YTOsiz+E*x.YTsiz,x.YOsiz),S.tx1=Math.min(x.XTOsiz+(k+1)*x.XTsiz,x.Xsiz),S.ty1=Math.min(x.YTOsiz+(E+1)*x.YTsiz,x.Ysiz),S.width=S.tx1-S.tx0,S.height=S.ty1-S.ty0,S.components=[],b.push(S);g.tiles=b;const F=x.Csiz;for(let E=0,k=F;E<k;E++){const D=d[E];for(let M=0,L=b.length;M<L;M++){const R={};S=b[M],R.tcx0=Math.ceil(S.tx0/D.XRsiz),R.tcy0=Math.ceil(S.ty0/D.YRsiz),R.tcx1=Math.ceil(S.tx1/D.XRsiz),R.tcy1=Math.ceil(S.ty1/D.YRsiz),R.width=R.tcx1-R.tcx0,R.height=R.tcy1-R.tcy0,S.components[E]=R}}}function getBlocksDimensions(g,d,x){const b=d.codingStyleParameters,S={};return b.entropyCoderWithCustomPrecincts?(S.PPx=b.precinctsSizes[x].PPx,S.PPy=b.precinctsSizes[x].PPy):(S.PPx=15,S.PPy=15),S.xcb_=x>0?Math.min(b.xcb,S.PPx-1):Math.min(b.xcb,S.PPx),S.ycb_=x>0?Math.min(b.ycb,S.PPy-1):Math.min(b.ycb,S.PPy),S}function buildPrecincts(g,d,x){const b=1<<x.PPx,S=1<<x.PPy,w=d.resLevel===0,C=1<<x.PPx+(w?0:-1),F=1<<x.PPy+(w?0:-1),E=d.trx1>d.trx0?Math.ceil(d.trx1/b)-Math.floor(d.trx0/b):0,k=d.try1>d.try0?Math.ceil(d.try1/S)-Math.floor(d.try0/S):0,D=E*k;d.precinctParameters={precinctWidth:b,precinctHeight:S,numprecinctswide:E,numprecinctshigh:k,numprecincts:D,precinctWidthInSubband:C,precinctHeightInSubband:F}}function buildCodeblocks(g,d,x){const b=x.xcb_,S=x.ycb_,w=1<<b,C=1<<S,F=d.tbx0>>b,E=d.tby0>>S,k=d.tbx1+w-1>>b,D=d.tby1+C-1>>S,M=d.resolution.precinctParameters,L=[],R=[];let U,j,H,V;for(j=E;j<D;j++)for(U=F;U<k;U++){H={cbx:U,cby:j,tbx0:w*U,tby0:C*j,tbx1:w*(U+1),tby1:C*(j+1)},H.tbx0_=Math.max(d.tbx0,H.tbx0),H.tby0_=Math.max(d.tby0,H.tby0),H.tbx1_=Math.min(d.tbx1,H.tbx1),H.tby1_=Math.min(d.tby1,H.tby1);const z=Math.floor((H.tbx0_-d.tbx0)/M.precinctWidthInSubband),G=Math.floor((H.tby0_-d.tby0)/M.precinctHeightInSubband);if(V=z+G*M.numprecinctswide,H.precinctNumber=V,H.subbandType=d.type,H.Lblock=3,H.tbx1_<=H.tbx0_||H.tby1_<=H.tby0_)continue;L.push(H);let X=R[V];X!==void 0?(U<X.cbxMin?X.cbxMin=U:U>X.cbxMax&&(X.cbxMax=U),j<X.cbyMin?X.cbxMin=j:j>X.cbyMax&&(X.cbyMax=j)):R[V]=X={cbxMin:U,cbyMin:j,cbxMax:U,cbyMax:j},H.precinct=X}d.codeblockParameters={codeblockWidth:b,codeblockHeight:S,numcodeblockwide:k-F+1,numcodeblockhigh:D-E+1},d.codeblocks=L,d.precincts=R}function createPacket(g,d,x){const b=[],S=g.subbands;for(let w=0,C=S.length;w<C;w++){const E=S[w].codeblocks;for(let k=0,D=E.length;k<D;k++){const M=E[k];M.precinctNumber===d&&b.push(M)}}return{layerNumber:x,codeblocks:b}}function LayerResolutionComponentPositionIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],S=b.codingStyleDefaultParameters.layersCount,w=d.Csiz;let C=0;for(let M=0;M<w;M++)C=Math.max(C,b.components[M].codingStyleParameters.decompositionLevelsCount);let F=0,E=0,k=0,D=0;this.nextPacket=function(){for(;F<S;F++){for(;E<=C;E++){for(;k<w;k++){const L=b.components[k];if(E>L.codingStyleParameters.decompositionLevelsCount)continue;const R=L.resolutions[E],U=R.precinctParameters.numprecincts;for(;D<U;){const j=createPacket(R,D,F);return D++,j}D=0}k=0}E=0}throw new JpxError("Out of packets")}}function ResolutionLayerComponentPositionIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],S=b.codingStyleDefaultParameters.layersCount,w=d.Csiz;let C=0;for(let M=0;M<w;M++)C=Math.max(C,b.components[M].codingStyleParameters.decompositionLevelsCount);let F=0,E=0,k=0,D=0;this.nextPacket=function(){for(;F<=C;F++){for(;E<S;E++){for(;k<w;k++){const L=b.components[k];if(F>L.codingStyleParameters.decompositionLevelsCount)continue;const R=L.resolutions[F],U=R.precinctParameters.numprecincts;for(;D<U;){const j=createPacket(R,D,E);return D++,j}D=0}k=0}E=0}throw new JpxError("Out of packets")}}function ResolutionPositionComponentLayerIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],S=b.codingStyleDefaultParameters.layersCount,w=d.Csiz;let C,F,E,k,D=0;for(E=0;E<w;E++){const L=b.components[E];D=Math.max(D,L.codingStyleParameters.decompositionLevelsCount)}const M=new Int32Array(D+1);for(F=0;F<=D;++F){let L=0;for(E=0;E<w;++E){const R=b.components[E].resolutions;F<R.length&&(L=Math.max(L,R[F].precinctParameters.numprecincts))}M[F]=L}C=0,F=0,E=0,k=0,this.nextPacket=function(){for(;F<=D;F++){for(;k<M[F];k++){for(;E<w;E++){const R=b.components[E];if(F>R.codingStyleParameters.decompositionLevelsCount)continue;const U=R.resolutions[F],j=U.precinctParameters.numprecincts;if(!(k>=j)){for(;C<S;){const H=createPacket(U,k,C);return C++,H}C=0}}E=0}k=0}throw new JpxError("Out of packets")}}function PositionComponentResolutionLayerIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],S=b.codingStyleDefaultParameters.layersCount,w=d.Csiz,C=getPrecinctSizesInImageScale(b),F=C;let E=0,k=0,D=0,M=0,L=0;this.nextPacket=function(){for(;L<F.maxNumHigh;L++){for(;M<F.maxNumWide;M++){for(;D<w;D++){const U=b.components[D],j=U.codingStyleParameters.decompositionLevelsCount;for(;k<=j;k++){const H=U.resolutions[k],V=C.components[D].resolutions[k],z=getPrecinctIndexIfExist(M,L,V,F,H);if(z!==null){for(;E<S;){const G=createPacket(H,z,E);return E++,G}E=0}}k=0}D=0}M=0}throw new JpxError("Out of packets")}}function ComponentPositionResolutionLayerIterator(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],S=b.codingStyleDefaultParameters.layersCount,w=d.Csiz,C=getPrecinctSizesInImageScale(b);let F=0,E=0,k=0,D=0,M=0;this.nextPacket=function(){for(;k<w;++k){const R=b.components[k],U=C.components[k],j=R.codingStyleParameters.decompositionLevelsCount;for(;M<U.maxNumHigh;M++){for(;D<U.maxNumWide;D++){for(;E<=j;E++){const H=R.resolutions[E],V=U.resolutions[E],z=getPrecinctIndexIfExist(D,M,V,U,H);if(z!==null){for(;F<S;){const G=createPacket(H,z,F);return F++,G}F=0}}E=0}D=0}M=0}throw new JpxError("Out of packets")}}function getPrecinctIndexIfExist(g,d,x,b,S){const w=g*b.minWidth,C=d*b.minHeight;if(w%x.width!==0||C%x.height!==0)return null;const F=C/x.width*S.precinctParameters.numprecinctswide;return w/x.height+F}function getPrecinctSizesInImageScale(g){const d=g.components.length;let x=Number.MAX_VALUE,b=Number.MAX_VALUE,S=0,w=0;const C=new Array(d);for(let F=0;F<d;F++){const E=g.components[F],k=E.codingStyleParameters.decompositionLevelsCount,D=new Array(k+1);let M=Number.MAX_VALUE,L=Number.MAX_VALUE,R=0,U=0,j=1;for(let H=k;H>=0;--H){const V=E.resolutions[H],z=j*V.precinctParameters.precinctWidth,G=j*V.precinctParameters.precinctHeight;M=Math.min(M,z),L=Math.min(L,G),R=Math.max(R,V.precinctParameters.numprecinctswide),U=Math.max(U,V.precinctParameters.numprecinctshigh),D[H]={width:z,height:G},j<<=1}x=Math.min(x,M),b=Math.min(b,L),S=Math.max(S,R),w=Math.max(w,U),C[F]={resolutions:D,minWidth:M,minHeight:L,maxNumWide:R,maxNumHigh:U}}return{components:C,minWidth:x,minHeight:b,maxNumWide:S,maxNumHigh:w}}function buildPackets(g){const d=g.SIZ,x=g.currentTile.index,b=g.tiles[x],S=d.Csiz;for(let C=0;C<S;C++){const F=b.components[C],E=F.codingStyleParameters.decompositionLevelsCount,k=[],D=[];for(let M=0;M<=E;M++){const L=getBlocksDimensions(g,F,M),R={},U=1<<E-M;R.trx0=Math.ceil(F.tcx0/U),R.try0=Math.ceil(F.tcy0/U),R.trx1=Math.ceil(F.tcx1/U),R.try1=Math.ceil(F.tcy1/U),R.resLevel=M,buildPrecincts(g,R,L),k.push(R);let j;if(M===0)j={},j.type="LL",j.tbx0=Math.ceil(F.tcx0/U),j.tby0=Math.ceil(F.tcy0/U),j.tbx1=Math.ceil(F.tcx1/U),j.tby1=Math.ceil(F.tcy1/U),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),R.subbands=[j];else{const H=1<<E-M+1,V=[];j={},j.type="HL",j.tbx0=Math.ceil(F.tcx0/H-.5),j.tby0=Math.ceil(F.tcy0/H),j.tbx1=Math.ceil(F.tcx1/H-.5),j.tby1=Math.ceil(F.tcy1/H),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),V.push(j),j={},j.type="LH",j.tbx0=Math.ceil(F.tcx0/H),j.tby0=Math.ceil(F.tcy0/H-.5),j.tbx1=Math.ceil(F.tcx1/H),j.tby1=Math.ceil(F.tcy1/H-.5),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),V.push(j),j={},j.type="HH",j.tbx0=Math.ceil(F.tcx0/H-.5),j.tby0=Math.ceil(F.tcy0/H-.5),j.tbx1=Math.ceil(F.tcx1/H-.5),j.tby1=Math.ceil(F.tcy1/H-.5),j.resolution=R,buildCodeblocks(g,j,L),D.push(j),V.push(j),R.subbands=V}}F.resolutions=k,F.subbands=D}const w=b.codingStyleDefaultParameters.progressionOrder;switch(w){case 0:b.packetsIterator=new LayerResolutionComponentPositionIterator(g);break;case 1:b.packetsIterator=new ResolutionLayerComponentPositionIterator(g);break;case 2:b.packetsIterator=new ResolutionPositionComponentLayerIterator(g);break;case 3:b.packetsIterator=new PositionComponentResolutionLayerIterator(g);break;case 4:b.packetsIterator=new ComponentPositionResolutionLayerIterator(g);break;default:throw new JpxError(`Unsupported progression order ${w}`)}}function parseTilePackets(g,d,x,b){let S=0,w,C=0,F=!1;function E(z){for(;C<z;){const G=d[x+S];S++,F?(w=w<<7|G,C+=7,F=!1):(w=w<<8|G,C+=8),G===255&&(F=!0)}return C-=z,w>>>C&(1<<z)-1}function k(z){return d[x+S-1]===255&&d[x+S]===z?(D(1),!0):d[x+S]===255&&d[x+S+1]===z?(D(2),!0):!1}function D(z){S+=z}function M(){C=0,F&&(S++,F=!1)}function L(){if(E(1)===0)return 1;if(E(1)===0)return 2;let z=E(2);return z<3?z+3:(z=E(5),z<31?z+6:(z=E(7),z+37))}const R=g.currentTile.index,U=g.tiles[R],j=g.COD.sopMarkerUsed,H=g.COD.ephMarkerUsed,V=U.packetsIterator;for(;S<b;){M(),j&&k(145)&&D(4);const z=V.nextPacket();if(!E(1))continue;const G=z.layerNumber,X=[];let Y;for(let J=0,ee=z.codeblocks.length;J<ee;J++){Y=z.codeblocks[J];let ie=Y.precinct;const oe=Y.cbx-ie.cbxMin,he=Y.cby-ie.cbyMin;let fe=!1,Se=!1,we,Ee;if(Y.included!==void 0)fe=!!E(1);else{ie=Y.precinct;let Ne;if(ie.inclusionTree!==void 0)Ne=ie.inclusionTree;else{const Le=ie.cbxMax-ie.cbxMin+1,Me=ie.cbyMax-ie.cbyMin+1;Ne=new InclusionTree(Le,Me,G),Ee=new TagTree(Le,Me),ie.inclusionTree=Ne,ie.zeroBitPlanesTree=Ee;for(let Ie=0;Ie<G;Ie++)if(E(1)!==0)throw new JpxError("Invalid tag tree")}if(Ne.reset(oe,he,G))for(;;)if(E(1)){if(we=!Ne.nextLevel(),we){Y.included=!0,fe=Se=!0;break}}else{Ne.incrementValue(G);break}}if(!fe)continue;if(Se){for(Ee=ie.zeroBitPlanesTree,Ee.reset(oe,he);;)if(E(1)){if(we=!Ee.nextLevel(),we)break}else Ee.incrementValue();Y.zeroBitPlanes=Ee.value}const de=L();for(;E(1);)Y.Lblock++;const xe=log2(de),Te=(de<1<<xe?xe-1:xe)+Y.Lblock,Oe=E(Te);X.push({codeblock:Y,codingpasses:de,dataLength:Oe})}for(M(),H&&k(146);X.length>0;){const J=X.shift();Y=J.codeblock,Y.data===void 0&&(Y.data=[]),Y.data.push({data:d,start:x+S,end:x+S+J.dataLength,codingpasses:J.codingpasses}),S+=J.dataLength}}return S}function copyCoefficients(g,d,x,b,S,w,C,F,E){const k=b.tbx0,D=b.tby0,M=b.tbx1-b.tbx0,L=b.codeblocks,R=b.type.charAt(0)==="H"?1:0,U=b.type.charAt(1)==="H"?d:0;for(let j=0,H=L.length;j<H;++j){const V=L[j],z=V.tbx1_-V.tbx0_,G=V.tby1_-V.tby0_;if(z===0||G===0||V.data===void 0)continue;const X=new BitModel(z,G,V.subbandType,V.zeroBitPlanes,w);let Y=2;const J=V.data;let ee=0,ie=0,oe,he,fe;for(oe=0,he=J.length;oe<he;oe++)fe=J[oe],ee+=fe.end-fe.start,ie+=fe.codingpasses;const Se=new Uint8Array(ee);let we=0;for(oe=0,he=J.length;oe<he;oe++){fe=J[oe];const De=fe.data.subarray(fe.start,fe.end);Se.set(De,we),we+=De.length}const Ee=new ArithmeticDecoder(Se,0,ee);for(X.setDecoder(Ee),oe=0;oe<ie;oe++){switch(Y){case 0:X.runSignificancePropagationPass();break;case 1:X.runMagnitudeRefinementPass();break;case 2:X.runCleanupPass(),F&&X.checkSegmentationSymbol();break}E&&X.reset(),Y=(Y+1)%3}let de=V.tbx0_-k+(V.tby0_-D)*M;const xe=X.coefficentsSign,Te=X.coefficentsMagnitude,Oe=X.bitsDecoded,Ne=C?0:.5;let Le,Me,Ie;we=0;const Ve=b.type!=="LL";for(oe=0;oe<G;oe++){const Pe=2*(de/M|0)*(d-M)+R+U;for(Le=0;Le<z;Le++){if(Me=Te[we],Me!==0){Me=(Me+Ne)*S,xe[we]!==0&&(Me=-Me),Ie=Oe[we];const Ce=Ve?Pe+(de<<1):de;g[Ce]=C&&Ie>=w?Me:Me*(1<<w-Ie)}de++,we++}de+=M-z}}}function transformTile(g,d,x){const b=d.components[x],S=b.codingStyleParameters,w=b.quantizationParameters,C=S.decompositionLevelsCount,F=w.SPqcds,E=w.scalarExpounded,k=w.guardBits,D=S.segmentationSymbolUsed,M=S.resetContextProbabilities,L=g.components[x].precision,R=S.reversibleTransformation,U=R?new ReversibleTransform:new IrreversibleTransform,j=[];let H=0;for(let z=0;z<=C;z++){const G=b.resolutions[z],X=G.trx1-G.trx0,Y=G.try1-G.try0,J=new Float32Array(X*Y);for(let ee=0,ie=G.subbands.length;ee<ie;ee++){let oe,he;E?(oe=F[H].mu,he=F[H].epsilon,H++):(oe=F[0].mu,he=F[0].epsilon+(z>0?1-z:0));const fe=G.subbands[ee],Se=SubbandsGainLog2[fe.type],we=R?1:2**(L+Se-he)*(1+oe/2048),Ee=k+he-1;copyCoefficients(J,X,Y,fe,we,Ee,R,D,M)}j.push({width:X,height:Y,items:J})}const V=U.calculate(j,b.tcx0,b.tcy0);return{left:b.tcx0,top:b.tcy0,width:V.width,height:V.height,items:V.items}}function transformComponents(g){const d=g.SIZ,x=g.components,b=d.Csiz,S=[];for(let w=0,C=g.tiles.length;w<C;w++){const F=g.tiles[w],E=[];for(let X=0;X<b;X++)E[X]=transformTile(g,F,X);const k=E[0],D=new Uint8ClampedArray(k.items.length*b),M={left:k.left,top:k.top,width:k.width,height:k.height,items:D};let L,R,U=0,j,H,V,z,G;if(F.codingStyleDefaultParameters.multipleComponentTransform){const X=b===4,Y=E[0].items,J=E[1].items,ee=E[2].items,ie=X?E[3].items:null;L=x[0].precision-8,R=(128<<L)+.5;const oe=F.components[0],he=b-3;if(H=Y.length,oe.codingStyleParameters.reversibleTransformation)for(j=0;j<H;j++,U+=he){V=Y[j]+R,z=J[j],G=ee[j];const fe=V-(G+z>>2);D[U++]=fe+G>>L,D[U++]=fe>>L,D[U++]=fe+z>>L}else for(j=0;j<H;j++,U+=he)V=Y[j]+R,z=J[j],G=ee[j],D[U++]=V+1.402*G>>L,D[U++]=V-.34413*z-.71414*G>>L,D[U++]=V+1.772*z>>L;if(X)for(j=0,U=3;j<H;j++,U+=4)D[U]=ie[j]+R>>L}else for(let X=0;X<b;X++){const Y=E[X].items;for(L=x[X].precision-8,R=(128<<L)+.5,U=X,j=0,H=Y.length;j<H;j++)D[U]=Y[j]+R>>L,U+=b}S.push(M)}return S}function initializeTile(g,d){const b=g.SIZ.Csiz,S=g.tiles[d];for(let w=0;w<b;w++){const C=S.components[w],F=g.currentTile.QCC[w]!==void 0?g.currentTile.QCC[w]:g.currentTile.QCD;C.quantizationParameters=F;const E=g.currentTile.COC[w]!==void 0?g.currentTile.COC[w]:g.currentTile.COD;C.codingStyleParameters=E}S.codingStyleDefaultParameters=g.currentTile.COD}class TagTree{constructor(d,x){const b=log2(Math.max(d,x))+1;this.levels=[];for(let S=0;S<b;S++){const w={width:d,height:x,items:[]};this.levels.push(w),d=Math.ceil(d/2),x=Math.ceil(x/2)}}reset(d,x){let b=0,S=0,w;for(;b<this.levels.length;){w=this.levels[b];const C=d+x*w.width;if(w.items[C]!==void 0){S=w.items[C];break}w.index=C,d>>=1,x>>=1,b++}b--,w=this.levels[b],w.items[w.index]=S,this.currentLevel=b,delete this.value}incrementValue(){const d=this.levels[this.currentLevel];d.items[d.index]++}nextLevel(){let d=this.currentLevel,x=this.levels[d];const b=x.items[x.index];return d--,d<0?(this.value=b,!1):(this.currentLevel=d,x=this.levels[d],x.items[x.index]=b,!0)}}class InclusionTree{constructor(d,x,b){const S=log2(Math.max(d,x))+1;this.levels=[];for(let w=0;w<S;w++){const C=new Uint8Array(d*x);for(let E=0,k=C.length;E<k;E++)C[E]=b;const F={width:d,height:x,items:C};this.levels.push(F),d=Math.ceil(d/2),x=Math.ceil(x/2)}}reset(d,x,b){let S=0;for(;S<this.levels.length;){const w=this.levels[S],C=d+x*w.width;w.index=C;const F=w.items[C];if(F===255)break;if(F>b)return this.currentLevel=S,this.propagateValues(),!1;d>>=1,x>>=1,S++}return this.currentLevel=S-1,!0}incrementValue(d){const x=this.levels[this.currentLevel];x.items[x.index]=d+1,this.propagateValues()}propagateValues(){let d=this.currentLevel,x=this.levels[d];const b=x.items[x.index];for(;--d>=0;)x=this.levels[d],x.items[x.index]=b}nextLevel(){let d=this.currentLevel,x=this.levels[d];const b=x.items[x.index];return x.items[x.index]=255,d--,d<0?!1:(this.currentLevel=d,x=this.levels[d],x.items[x.index]=b,!0)}}class BitModel{static UNIFORM_CONTEXT=17;static RUNLENGTH_CONTEXT=18;static LLAndLHContextsLabel=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]);static HLContextLabel=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]);static HHContextLabel=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);constructor(d,x,b,S,w){this.width=d,this.height=x;let C;b==="HH"?C=BitModel.HHContextLabel:b==="HL"?C=BitModel.HLContextLabel:C=BitModel.LLAndLHContextsLabel,this.contextLabelTable=C;const F=d*x;this.neighborsSignificance=new Uint8Array(F),this.coefficentsSign=new Uint8Array(F);let E;w>14?E=new Uint32Array(F):w>6?E=new Uint16Array(F):E=new Uint8Array(F),this.coefficentsMagnitude=E,this.processingFlags=new Uint8Array(F);const k=new Uint8Array(F);if(S!==0)for(let D=0;D<F;D++)k[D]=S;this.bitsDecoded=k,this.reset()}setDecoder(d){this.decoder=d}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[BitModel.UNIFORM_CONTEXT]=92,this.contexts[BitModel.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(d,x,b){const S=this.neighborsSignificance,w=this.width,C=this.height,F=x>0,E=x+1<w;let k;d>0&&(k=b-w,F&&(S[k-1]+=16),E&&(S[k+1]+=16),S[k]+=4),d+1<C&&(k=b+w,F&&(S[k-1]+=16),E&&(S[k+1]+=16),S[k]+=4),F&&(S[b-1]+=1),E&&(S[b+1]+=1),S[b]|=128}runSignificancePropagationPass(){const d=this.decoder,x=this.width,b=this.height,S=this.coefficentsMagnitude,w=this.coefficentsSign,C=this.neighborsSignificance,F=this.processingFlags,E=this.contexts,k=this.contextLabelTable,D=this.bitsDecoded,M=-2,L=1,R=2;for(let U=0;U<b;U+=4)for(let j=0;j<x;j++){let H=U*x+j;for(let V=0;V<4;V++,H+=x){const z=U+V;if(z>=b)break;if(F[H]&=M,S[H]||!C[H])continue;const G=k[C[H]];if(d.readBit(E,G)){const Y=this.decodeSignBit(z,j,H);w[H]=Y,S[H]=1,this.setNeighborsSignificance(z,j,H),F[H]|=R}D[H]++,F[H]|=L}}}decodeSignBit(d,x,b){const S=this.width,w=this.height,C=this.coefficentsMagnitude,F=this.coefficentsSign;let E,k,D,M,L,R;M=x>0&&C[b-1]!==0,x+1<S&&C[b+1]!==0?(D=F[b+1],M?(k=F[b-1],E=1-D-k):E=1-D-D):M?(k=F[b-1],E=1-k-k):E=0;const U=3*E;return M=d>0&&C[b-S]!==0,d+1<w&&C[b+S]!==0?(D=F[b+S],M?(k=F[b-S],E=1-D-k+U):E=1-D-D+U):M?(k=F[b-S],E=1-k-k+U):E=U,E>=0?(L=9+E,R=this.decoder.readBit(this.contexts,L)):(L=9-E,R=this.decoder.readBit(this.contexts,L)^1),R}runMagnitudeRefinementPass(){const d=this.decoder,x=this.width,b=this.height,S=this.coefficentsMagnitude,w=this.neighborsSignificance,C=this.contexts,F=this.bitsDecoded,E=this.processingFlags,k=1,D=2,M=x*b,L=x*4;for(let R=0,U;R<M;R=U){U=Math.min(M,R+L);for(let j=0;j<x;j++)for(let H=R+j;H<U;H+=x){if(!S[H]||E[H]&k)continue;let V=16;E[H]&D&&(E[H]^=D,V=(w[H]&127)===0?15:14);const z=d.readBit(C,V);S[H]=S[H]<<1|z,F[H]++,E[H]|=k}}}runCleanupPass(){const d=this.decoder,x=this.width,b=this.height,S=this.neighborsSignificance,w=this.coefficentsMagnitude,C=this.coefficentsSign,F=this.contexts,E=this.contextLabelTable,k=this.bitsDecoded,D=this.processingFlags,M=1,L=2,R=x,U=x*2,j=x*3;let H;for(let V=0;V<b;V=H){H=Math.min(V+4,b);const z=V*x,G=V+3<b;for(let X=0;X<x;X++){const Y=z+X,J=G&&D[Y]===0&&D[Y+R]===0&&D[Y+U]===0&&D[Y+j]===0&&S[Y]===0&&S[Y+R]===0&&S[Y+U]===0&&S[Y+j]===0;let ee=0,ie=Y,oe=V,he;if(J){if(!d.readBit(F,BitModel.RUNLENGTH_CONTEXT)){k[Y]++,k[Y+R]++,k[Y+U]++,k[Y+j]++;continue}ee=d.readBit(F,BitModel.UNIFORM_CONTEXT)<<1|d.readBit(F,BitModel.UNIFORM_CONTEXT),ee!==0&&(oe=V+ee,ie+=ee*x),he=this.decodeSignBit(oe,X,ie),C[ie]=he,w[ie]=1,this.setNeighborsSignificance(oe,X,ie),D[ie]|=L,ie=Y;for(let Se=V;Se<=oe;Se++,ie+=x)k[ie]++;ee++}for(oe=V+ee;oe<H;oe++,ie+=x){if(w[ie]||D[ie]&M)continue;const fe=E[S[ie]];d.readBit(F,fe)===1&&(he=this.decodeSignBit(oe,X,ie),C[ie]=he,w[ie]=1,this.setNeighborsSignificance(oe,X,ie),D[ie]|=L),k[ie]++}}}}checkSegmentationSymbol(){const d=this.decoder,x=this.contexts;if((d.readBit(x,BitModel.UNIFORM_CONTEXT)<<3|d.readBit(x,BitModel.UNIFORM_CONTEXT)<<2|d.readBit(x,BitModel.UNIFORM_CONTEXT)<<1|d.readBit(x,BitModel.UNIFORM_CONTEXT))!==10)throw new JpxError("Invalid segmentation symbol")}}let Transform$1=class ft{constructor(){this.constructor===ft&&unreachable("Cannot initialize Transform.")}calculate(d,x,b){let S=d[0];for(let w=1,C=d.length;w<C;w++)S=this.iterate(S,d[w],x,b);return S}extend(d,x,b){let S=x-1,w=x+1,C=x+b-2,F=x+b;d[S--]=d[w++],d[F++]=d[C--],d[S--]=d[w++],d[F++]=d[C--],d[S--]=d[w++],d[F++]=d[C--],d[S]=d[w],d[F]=d[C]}filter(d,x,b){unreachable("Abstract method `filter` called")}iterate(d,x,b,S){const w=d.width,C=d.height;let F=d.items;const E=x.width,k=x.height,D=x.items;let M,L,R,U,j,H;for(R=0,M=0;M<C;M++)for(U=M*2*E,L=0;L<w;L++,R++,U+=2)D[U]=F[R];F=d.items=null;const V=4,z=new Float32Array(E+2*V);if(E===1){if(b&1)for(H=0,R=0;H<k;H++,R+=E)D[R]*=.5}else for(H=0,R=0;H<k;H++,R+=E)z.set(D.subarray(R,R+E),V),this.extend(z,V,E),this.filter(z,V,E),D.set(z.subarray(V,V+E),R);let G=16;const X=[];for(M=0;M<G;M++)X.push(new Float32Array(k+2*V));let Y,J=0;if(d=V+k,k===1){if(S&1)for(j=0;j<E;j++)D[j]*=.5}else for(j=0;j<E;j++){if(J===0){for(G=Math.min(E-j,G),R=j,U=V;U<d;R+=E,U++)for(Y=0;Y<G;Y++)X[Y][U]=D[R+Y];J=G}J--;const ee=X[J];if(this.extend(ee,V,k),this.filter(ee,V,k),J===0)for(R=j-G+1,U=V;U<d;R+=E,U++)for(Y=0;Y<G;Y++)D[R+Y]=X[Y][U]}return{width:E,height:k,items:D}}};class IrreversibleTransform extends Transform$1{filter(d,x,b){const S=b>>1;x|=0;let w,C,F,E;const k=-1.586134342059924,D=-.052980118572961,M=.882911075530934,L=.443506852043971,R=1.230174104914001,U=1/R;for(w=x-3,C=S+4;C--;w+=2)d[w]*=U;for(w=x-2,F=L*d[w-1],C=S+3;C--&&(E=L*d[w+1],d[w]=R*d[w]-F-E,C--);w+=2)w+=2,F=L*d[w+1],d[w]=R*d[w]-F-E;for(w=x-1,F=M*d[w-1],C=S+2;C--&&(E=M*d[w+1],d[w]-=F+E,C--);w+=2)w+=2,F=M*d[w+1],d[w]-=F+E;for(w=x,F=D*d[w-1],C=S+1;C--&&(E=D*d[w+1],d[w]-=F+E,C--);w+=2)w+=2,F=D*d[w+1],d[w]-=F+E;if(S!==0)for(w=x+1,F=k*d[w-1],C=S;C--&&(E=k*d[w+1],d[w]-=F+E,C--);w+=2)w+=2,F=k*d[w+1],d[w]-=F+E}}class ReversibleTransform extends Transform$1{filter(d,x,b){const S=b>>1;x|=0;let w,C;for(w=x,C=S+1;C--;w+=2)d[w]-=d[w-1]+d[w+1]+2>>2;for(w=x+1,C=S;C--;w+=2)d[w]+=d[w-1]+d[w+1]>>1}}class JpxStream extends DecodeStream$1{constructor(d,x,b){super(x),this.stream=d,this.dict=d.dict,this.maybeLength=x,this.params=b}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(d){}readBlock(){if(this.eof)return;const d=new JpxImage;d.parse(this.bytes);const x=d.width,b=d.height,S=d.componentsCount,w=d.tiles.length;if(w===1)this.buffer=d.tiles[0].items;else{const C=new Uint8ClampedArray(x*b*S);for(let F=0;F<w;F++){const E=d.tiles[F],k=E.width,D=E.height,M=E.left,L=E.top,R=E.items;let U=0,j=(x*L+M)*S;const H=x*S,V=k*S;for(let z=0;z<D;z++){const G=R.subarray(U,U+V);C.set(G,j),U+=V,j+=H}}this.buffer=C}this.bufferLength=this.buffer.length,this.eof=!0}}let LZWStream$1=class extends DecodeStream$1{constructor(d,x,b){super(x),this.str=d,this.dict=d.dict,this.cachedData=0,this.bitsCached=0;const S=4096,w={earlyChange:b,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(S),dictionaryLengths:new Uint16Array(S),dictionaryPrevCodes:new Uint16Array(S),currentSequence:new Uint8Array(S),currentSequenceLength:0};for(let C=0;C<256;++C)w.dictionaryValues[C]=C,w.dictionaryLengths[C]=1;this.lzwState=w}readBits(d){let x=this.bitsCached,b=this.cachedData;for(;x<d;){const S=this.str.getByte();if(S===-1)return this.eof=!0,null;b=b<<8|S,x+=8}return this.bitsCached=x-=d,this.cachedData=b,this.lastCode=null,b>>>x&(1<<d)-1}readBlock(){let b=1024,S,w,C;const F=this.lzwState;if(!F)return;const E=F.earlyChange;let k=F.nextCode;const D=F.dictionaryValues,M=F.dictionaryLengths,L=F.dictionaryPrevCodes;let R=F.codeLength,U=F.prevCode;const j=F.currentSequence;let H=F.currentSequenceLength,V=0,z=this.bufferLength,G=this.ensureBuffer(this.bufferLength+b);for(S=0;S<512;S++){const X=this.readBits(R),Y=H>0;if(X<256)j[0]=X,H=1;else if(X>=258)if(X<k)for(H=M[X],w=H-1,C=X;w>=0;w--)j[w]=D[C],C=L[C];else j[H++]=j[0];else if(X===256){R=9,k=258,H=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Y&&(L[k]=U,M[k]=M[U]+1,D[k]=j[0],k++,R=k+E&k+E-1?R:Math.min(Math.log(k+E)/.6931471805599453+1,12)|0),U=X,V+=H,b<V){do b+=512;while(b<V);G=this.ensureBuffer(this.bufferLength+b)}for(w=0;w<H;w++)G[z++]=j[w]}F.nextCode=k,F.codeLength=R,F.prevCode=U,F.currentSequenceLength=H,this.bufferLength=z}};class PredictorStream extends DecodeStream$1{constructor(d,x,b){if(super(x),!(b instanceof Dict))return d;const S=this.predictor=b.get("Predictor")||1;if(S<=1)return d;if(S!==2&&(S<10||S>15))throw new FormatError(`Unsupported predictor: ${S}`);this.readBlock=S===2?this.readBlockTiff:this.readBlockPng,this.str=d,this.dict=d.dict;const w=this.colors=b.get("Colors")||1,C=this.bits=b.get("BPC","BitsPerComponent")||8,F=this.columns=b.get("Columns")||1;return this.pixBytes=w*C+7>>3,this.rowBytes=F*w*C+7>>3,this}readBlockTiff(){const d=this.rowBytes,x=this.bufferLength,b=this.ensureBuffer(x+d),S=this.bits,w=this.colors,C=this.str.getBytes(d);if(this.eof=!C.length,this.eof)return;let F=0,E=0,k=0,D=0,M=x,L;if(S===1&&w===1)for(L=0;L<d;++L){let R=C[L]^F;R^=R>>1,R^=R>>2,R^=R>>4,F=(R&1)<<7,b[M++]=R}else if(S===8){for(L=0;L<w;++L)b[M++]=C[L];for(;L<d;++L)b[M]=b[M-w]+C[L],M++}else if(S===16){const R=w*2;for(L=0;L<R;++L)b[M++]=C[L];for(;L<d;L+=2){const U=((C[L]&255)<<8)+(C[L+1]&255)+((b[M-R]&255)<<8)+(b[M-R+1]&255);b[M++]=U>>8&255,b[M++]=U&255}}else{const R=new Uint8Array(w+1),U=(1<<S)-1;let j=0,H=x;const V=this.columns;for(L=0;L<V;++L)for(let z=0;z<w;++z)k<S&&(F=F<<8|C[j++]&255,k+=8),R[z]=R[z]+(F>>k-S)&U,k-=S,E=E<<S|R[z],D+=S,D>=8&&(b[H++]=E>>D-8&255,D-=8);D>0&&(b[H++]=(E<<8-D)+(F&(1<<8-D)-1))}this.bufferLength+=d}readBlockPng(){const d=this.rowBytes,x=this.pixBytes,b=this.str.getByte(),S=this.str.getBytes(d);if(this.eof=!S.length,this.eof)return;const w=this.bufferLength,C=this.ensureBuffer(w+d);let F=C.subarray(w-d,w);F.length===0&&(F=new Uint8Array(d));let E,k=w,D,M;switch(b){case 0:for(E=0;E<d;++E)C[k++]=S[E];break;case 1:for(E=0;E<x;++E)C[k++]=S[E];for(;E<d;++E)C[k]=C[k-x]+S[E]&255,k++;break;case 2:for(E=0;E<d;++E)C[k++]=F[E]+S[E]&255;break;case 3:for(E=0;E<x;++E)C[k++]=(F[E]>>1)+S[E];for(;E<d;++E)C[k]=(F[E]+C[k-x]>>1)+S[E]&255,k++;break;case 4:for(E=0;E<x;++E)D=F[E],M=S[E],C[k++]=D+M;for(;E<d;++E){D=F[E];const L=F[E-x],R=C[k-x],U=R+D-L;let j=U-R;j<0&&(j=-j);let H=U-D;H<0&&(H=-H);let V=U-L;V<0&&(V=-V),M=S[E],j<=H&&j<=V?C[k++]=R+M:H<=V?C[k++]=D+M:C[k++]=L+M}break;default:throw new FormatError(`Unsupported predictor: ${b}`)}this.bufferLength+=d}}let RunLengthStream$1=class extends DecodeStream$1{constructor(d,x){super(x),this.str=d,this.dict=d.dict}readBlock(){const d=this.str.getBytes(2);if(!d||d.length<2||d[0]===128){this.eof=!0;return}let x,b=this.bufferLength,S=d[0];if(S<128){if(x=this.ensureBuffer(b+S+1),x[b++]=d[1],S>0){const w=this.str.getBytes(S);x.set(w,b),b+=S}}else{S=257-S;const w=d[1];x=this.ensureBuffer(b+S+1);for(let C=0;C<S;C++)x[b++]=w}this.bufferLength=b}};const MAX_LENGTH_TO_CACHE=1e3;function getInlineImageCacheKey(g){const d=[],x=g.length;let b=0;for(;b<x-1;)d.push(g[b++]<<8|g[b++]);return b<x&&d.push(g[b]),x+"_"+String.fromCharCode.apply(null,d)}let Parser$1=class{constructor({lexer:d,xref:x,allowStreams:b=!1,recoveryMode:S=!1}){this.lexer=d,this.xref=x,this.allowStreams=b,this.recoveryMode=S,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(d){if(d instanceof MissingDataException)throw d;return!1}}getObj(d=null){const x=this.buf1;if(this.shift(),x instanceof Cmd)switch(x.cmd){case"BI":return this.makeInlineImage(d);case"[":const b=[];for(;!isCmd(this.buf1,"]")&&this.buf1!==EOF;)b.push(this.getObj(d));if(this.buf1===EOF){if(this.recoveryMode)return b;throw new ParserEOFException("End of file inside array.")}return this.shift(),b;case"<<":const S=new Dict(this.xref);for(;!isCmd(this.buf1,">>")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name)){info("Malformed dictionary: key must be a name object"),this.shift();continue}const w=this.buf1.name;if(this.shift(),this.buf1===EOF)break;S.set(w,this.getObj(d))}if(this.buf1===EOF){if(this.recoveryMode)return S;throw new ParserEOFException("End of file inside dictionary.")}return isCmd(this.buf2,"stream")?this.allowStreams?this.makeStream(S,d):S:(this.shift(),S);default:return x}if(Number.isInteger(x)){if(Number.isInteger(this.buf1)&&isCmd(this.buf2,"R")){const b=Ref.get(x,this.buf1);return this.shift(),this.shift(),b}return x}return typeof x=="string"&&d?d.decryptString(x):x}findDefaultInlineStreamEnd(d){const{knownCommands:E}=this.lexer,k=d.pos,D=15;let M=0,L,R;for(;(L=d.getByte())!==-1;)if(M===0)M=L===69?1:0;else if(M===1)M=L===73?2:0;else if(L===32||L===10||L===13){R=d.pos;const j=d.peekBytes(D),H=j.length;if(H===0)break;for(let G=0;G<H;G++)if(L=j[G],!(L===0&&j[G+1]!==0)&&L!==10&&L!==13&&(L<32||L>127)){M=0;break}if(M!==2)continue;if(!E){warn("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const V=new Lexer(new Stream$1(j.slice()),E);V._hexStringWarn=()=>{};let z=0;for(;;){const G=V.getObj();if(G===EOF){M=0;break}if(G instanceof Cmd){const X=E[G.cmd];if(X){if(X.variableArgs?z<=X.numArgs:z===X.numArgs)break}else{M=0;break}z=0;continue}z++}if(M===2)break}else M=0;L===-1&&(warn("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),R&&(warn('... trying to recover by using the last "EI" occurrence.'),d.skip(-(d.pos-R))));let U=4;return d.skip(-U),L=d.peekByte(),d.skip(U),isWhiteSpace(L)||U--,d.pos-U-k}findDCTDecodeInlineStreamEnd(d){const x=d.pos;let b=!1,S,w;for(;(S=d.getByte())!==-1;)if(S===255){switch(d.getByte()){case 0:break;case 255:d.skip(-1);break;case 217:b=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:w=d.getUint16(),w>2?d.skip(w-2):d.skip(-2);break}if(b)break}const C=d.pos-x;return S===-1?(warn("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),d.skip(-C),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),C)}findASCII85DecodeInlineStreamEnd(d){const S=d.pos;let w;for(;(w=d.getByte())!==-1;)if(w===126){const F=d.pos;for(w=d.peekByte();isWhiteSpace(w);)d.skip(),w=d.peekByte();if(w===62){d.skip();break}if(d.pos>F){const E=d.peekBytes(2);if(E[0]===69&&E[1]===73)break}}const C=d.pos-S;return w===-1?(warn("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-C),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),C)}findASCIIHexDecodeInlineStreamEnd(d){const b=d.pos;let S;for(;(S=d.getByte())!==-1&&S!==62;);const w=d.pos-b;return S===-1?(warn("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),d.skip(-w),this.findDefaultInlineStreamEnd(d)):(this.inlineStreamSkipEI(d),w)}inlineStreamSkipEI(d){let S=0,w;for(;(w=d.getByte())!==-1;)if(S===0)S=w===69?1:0;else if(S===1)S=w===73?2:0;else if(S===2)break}makeInlineImage(d){const x=this.lexer,b=x.stream,S=Object.create(null);let w;for(;!isCmd(this.buf1,"ID")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name))throw new FormatError("Dictionary key must be a name object");const R=this.buf1.name;if(this.shift(),this.buf1===EOF)break;S[R]=this.getObj(d)}x.beginInlineImagePos!==-1&&(w=b.pos-x.beginInlineImagePos);const C=this.xref.fetchIfRef(S.F||S.Filter);let F;if(C instanceof Name)F=C.name;else if(Array.isArray(C)){const R=this.xref.fetchIfRef(C[0]);R instanceof Name&&(F=R.name)}const E=b.pos;let k;switch(F){case"DCT":case"DCTDecode":k=this.findDCTDecodeInlineStreamEnd(b);break;case"A85":case"ASCII85Decode":k=this.findASCII85DecodeInlineStreamEnd(b);break;case"AHx":case"ASCIIHexDecode":k=this.findASCIIHexDecodeInlineStreamEnd(b);break;default:k=this.findDefaultInlineStreamEnd(b)}let D;if(k<MAX_LENGTH_TO_CACHE&&w>0){const R=b.pos;b.pos=x.beginInlineImagePos,D=getInlineImageCacheKey(b.getBytes(w+k)),b.pos=R;const U=this.imageCache[D];if(U!==void 0)return this.buf2=Cmd.get("EI"),this.shift(),U.reset(),U}const M=new Dict(this.xref);for(const R in S)M.set(R,S[R]);let L=b.makeSubStream(E,k,M);return d&&(L=d.createStream(L,k)),L=this.filter(L,M,k),L.dict=M,D!==void 0&&(L.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[D]=L),this.buf2=Cmd.get("EI"),this.shift(),L}_findStreamLength(d,x){const{stream:b}=this.lexer;b.pos=d;const S=2048,w=x.length;for(;b.pos<b.end;){const C=b.peekBytes(S),F=C.length-w;if(F<=0)break;let E=0;for(;E<F;){let k=0;for(;k<w&&C[E+k]===x[k];)k++;if(k>=w)return b.pos+=E,b.pos-d;E++}b.pos+=F}return-1}makeStream(d,x){const b=this.lexer;let S=b.stream;b.skipToNextLine();const w=S.pos-1;let C=d.get("Length");if(Number.isInteger(C)||(info(`Bad length "${C&&C.toString()}" in stream.`),C=0),S.pos=w+C,b.nextChar(),this.tryShift()&&isCmd(this.buf2,"endstream"))this.shift();else{const F=new Uint8Array([101,110,100,115,116,114,101,97,109]);let E=this._findStreamLength(w,F);if(E<0){for(let D=1;D<=1;D++){const M=F.length-D,L=F.slice(0,M),R=this._findStreamLength(w,L);if(R>=0){const U=S.peekBytes(M+1)[M];if(!isWhiteSpace(U))break;info(`Found "${bytesToString(L)}" when searching for endstream command.`),E=R;break}}if(E<0)throw new FormatError("Missing endstream command.")}C=E,b.nextChar(),this.shift(),this.shift()}return this.shift(),S=S.makeSubStream(w,C,d),x&&(S=x.createStream(S,C)),S=this.filter(S,d,C),S.dict=d,S}filter(d,x,b){let S=x.get("F","Filter"),w=x.get("DP","DecodeParms");if(S instanceof Name)return Array.isArray(w)&&warn("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(d,S.name,b,w);let C=b;if(Array.isArray(S)){const F=S,E=w;for(let k=0,D=F.length;k<D;++k){if(S=this.xref.fetchIfRef(F[k]),!(S instanceof Name))throw new FormatError(`Bad filter name "${S}"`);w=null,Array.isArray(E)&&k in E&&(w=this.xref.fetchIfRef(E[k])),d=this.makeFilter(d,S.name,C,w),C=null}}return d}makeFilter(d,x,b,S){if(b===0)return warn(`Empty "${x}" stream.`),new NullStream;try{switch(x){case"Fl":case"FlateDecode":return S?new PredictorStream(new FlateStream$1(d,b),b,S):new FlateStream$1(d,b);case"LZW":case"LZWDecode":let w=1;return S?(S.has("EarlyChange")&&(w=S.get("EarlyChange")),new PredictorStream(new LZWStream$1(d,b,w),b,S)):new LZWStream$1(d,b,w);case"DCT":case"DCTDecode":return new JpegStream(d,b,S);case"JPX":case"JPXDecode":return new JpxStream(d,b,S);case"A85":case"ASCII85Decode":return new Ascii85Stream$1(d,b);case"AHx":case"ASCIIHexDecode":return new AsciiHexStream$1(d,b);case"CCF":case"CCITTFaxDecode":return new CCITTFaxStream(d,b,S);case"RL":case"RunLengthDecode":return new RunLengthStream$1(d,b);case"JBIG2Decode":return new Jbig2Stream(d,b,S)}return warn(`Filter "${x}" is not supported.`),d}catch(w){if(w instanceof MissingDataException)throw w;return warn(`Invalid stream: "${w}"`),new NullStream}}};const specialChars=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function toHexDigit(g){return g>=48&&g<=57?g&15:g>=65&&g<=70||g>=97&&g<=102?(g&15)+9:-1}class Lexer{constructor(d,x=null){this.stream=d,this.nextChar(),this.strBuf=[],this.knownCommands=x,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let d=this.currentChar,x=!1,b=0,S=1;if(d===45?(S=-1,d=this.nextChar(),d===45&&(d=this.nextChar())):d===43&&(d=this.nextChar()),d===10||d===13)do d=this.nextChar();while(d===10||d===13);if(d===46&&(b=10,d=this.nextChar()),d<48||d>57){const E=`Invalid number: ${String.fromCharCode(d)} (charCode ${d})`;if(isWhiteSpace(d)||d===-1)return info(`Lexer.getNumber - "${E}".`),0;throw new FormatError(E)}let w=d-48,C=0,F=1;for(;(d=this.nextChar())>=0;)if(d>=48&&d<=57){const E=d-48;x?C=C*10+E:(b!==0&&(b*=10),w=w*10+E)}else if(d===46)if(b===0)b=1;else break;else if(d===45)warn("Badly formatted number: minus sign in the middle");else if(d===69||d===101){if(d=this.peekChar(),d===43||d===45)F=d===45?-1:1,this.nextChar();else if(d<48||d>57)break;x=!0}else break;return b!==0&&(w/=b),x&&(w*=10**(F*C)),S*w}getString(){let d=1,x=!1;const b=this.strBuf;b.length=0;let S=this.nextChar();for(;;){let w=!1;switch(S|0){case-1:warn("Unterminated string"),x=!0;break;case 40:++d,b.push("(");break;case 41:--d===0?(this.nextChar(),x=!0):b.push(")");break;case 92:switch(S=this.nextChar(),S){case-1:warn("Unterminated string"),x=!0;break;case 110:b.push(`
`);break;case 114:b.push("\r");break;case 116:b.push("	");break;case 98:b.push("\b");break;case 102:b.push("\f");break;case 92:case 40:case 41:b.push(String.fromCharCode(S));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let C=S&15;S=this.nextChar(),w=!0,S>=48&&S<=55&&(C=(C<<3)+(S&15),S=this.nextChar(),S>=48&&S<=55&&(w=!1,C=(C<<3)+(S&15))),b.push(String.fromCharCode(C));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:b.push(String.fromCharCode(S));break}break;default:b.push(String.fromCharCode(S));break}if(x)break;w||(S=this.nextChar())}return b.join("")}getName(){let d,x;const b=this.strBuf;for(b.length=0;(d=this.nextChar())>=0&&!specialChars[d];)if(d===35){if(d=this.nextChar(),specialChars[d]){warn("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),b.push("#");break}const S=toHexDigit(d);if(S!==-1){x=d,d=this.nextChar();const w=toHexDigit(d);if(w===-1){if(warn(`Lexer_getName: Illegal digit (${String.fromCharCode(d)}) in hexadecimal number.`),b.push("#",String.fromCharCode(x)),specialChars[d])break;b.push(String.fromCharCode(d));continue}b.push(String.fromCharCode(S<<4|w))}else b.push("#",String.fromCharCode(d))}else b.push(String.fromCharCode(d));return b.length>127&&warn(`Name token is longer than allowed by the spec: ${b.length}`),Name.get(b.join(""))}_hexStringWarn(d){if(this._hexStringNumWarn++===5){warn("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||warn(`getHexString - ignoring invalid character: ${d}`)}getHexString(){const d=this.strBuf;d.length=0;let x=this.currentChar,b=!0,S,w;for(this._hexStringNumWarn=0;;)if(x<0){warn("Unterminated hex string");break}else if(x===62){this.nextChar();break}else if(specialChars[x]===1){x=this.nextChar();continue}else{if(b){if(S=toHexDigit(x),S===-1){this._hexStringWarn(x),x=this.nextChar();continue}}else{if(w=toHexDigit(x),w===-1){this._hexStringWarn(x),x=this.nextChar();continue}d.push(String.fromCharCode(S<<4|w))}b=!b,x=this.nextChar()}return d.join("")}getObj(){let d=!1,x=this.currentChar;for(;;){if(x<0)return EOF;if(d)(x===10||x===13)&&(d=!1);else if(x===37)d=!0;else if(specialChars[x]!==1)break;x=this.nextChar()}switch(x|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Cmd.get("[");case 93:return this.nextChar(),Cmd.get("]");case 60:return x=this.nextChar(),x===60?(this.nextChar(),Cmd.get("<<")):this.getHexString();case 62:return x=this.nextChar(),x===62?(this.nextChar(),Cmd.get(">>")):Cmd.get(">");case 123:return this.nextChar(),Cmd.get("{");case 125:return this.nextChar(),Cmd.get("}");case 41:throw this.nextChar(),new FormatError(`Illegal character: ${x}`)}let b=String.fromCharCode(x);if(x<32||x>127){const C=this.peekChar();if(C>=32&&C<=127)return this.nextChar(),Cmd.get(b)}const S=this.knownCommands;let w=S?.[b]!==void 0;for(;(x=this.nextChar())>=0&&!specialChars[x];){const C=b+String.fromCharCode(x);if(w&&S[C]===void 0)break;if(b.length===128)throw new FormatError(`Command token too long: ${b.length}`);b=C,w=S?.[b]!==void 0}return b==="true"?!0:b==="false"?!1:b==="null"?null:(b==="BI"&&(this.beginInlineImagePos=this.stream.pos),Cmd.get(b))}skipToNextLine(){let d=this.currentChar;for(;d>=0;){if(d===13){d=this.nextChar(),d===10&&this.nextChar();break}else if(d===10){this.nextChar();break}d=this.nextChar()}}}class Linearization{static create(d){function x(M,L,R=!1){const U=M.get(L);if(Number.isInteger(U)&&(R?U>=0:U>0))return U;throw new Error(`The "${L}" parameter in the linearization dictionary is invalid.`)}function b(M){const L=M.get("H");let R;if(Array.isArray(L)&&((R=L.length)===2||R===4)){for(let U=0;U<R;U++){const j=L[U];if(!(Number.isInteger(j)&&j>0))throw new Error(`Hint (${U}) in the linearization dictionary is invalid.`)}return L}throw new Error("Hint array in the linearization dictionary is invalid.")}const S=new Parser$1({lexer:new Lexer(d),xref:null}),w=S.getObj(),C=S.getObj(),F=S.getObj(),E=S.getObj();let k,D;if(Number.isInteger(w)&&Number.isInteger(C)&&isCmd(F,"obj")&&E instanceof Dict&&typeof(k=E.get("Linearized"))=="number"&&k>0){if((D=x(E,"L"))!==d.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:D,hints:b(E),objectNumberFirst:x(E,"O"),endFirst:x(E,"E"),numPages:x(E,"N"),mainXRefEntriesOffset:x(E,"T"),pageFirst:E.has("P")?x(E,"P",!0):0}}}const BUILT_IN_CMAPS=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],MAX_MAP_RANGE=2**24-1;class CMap{constructor(d=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=d}addCodespaceRange(d,x,b){this.codespaceRanges[d-1].push(x,b),this.numCodespaceRanges++}mapCidRange(d,x,b){if(x-d>MAX_MAP_RANGE)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;d<=x;)this._map[d++]=b++}mapBfRange(d,x,b){if(x-d>MAX_MAP_RANGE)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const S=b.length-1;for(;d<=x;){this._map[d++]=b;const w=b.charCodeAt(S)+1;if(w>255){b=b.substring(0,S-1)+String.fromCharCode(b.charCodeAt(S-1)+1)+"\0";continue}b=b.substring(0,S)+String.fromCharCode(w)}}mapBfRangeToArray(d,x,b){if(x-d>MAX_MAP_RANGE)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const S=b.length;let w=0;for(;d<=x&&w<S;)this._map[d]=b[w++],++d}mapOne(d,x){this._map[d]=x}lookup(d){return this._map[d]}contains(d){return this._map[d]!==void 0}forEach(d){const x=this._map,b=x.length;if(b<=65536)for(let S=0;S<b;S++)x[S]!==void 0&&d(S,x[S]);else for(const S in x)d(S,x[S])}charCodeOf(d){const x=this._map;if(x.length<=65536)return x.indexOf(d);for(const b in x)if(x[b]===d)return b|0;return-1}getMap(){return this._map}readCharCode(d,x,b){let S=0;const w=this.codespaceRanges;for(let C=0,F=w.length;C<F;C++){S=(S<<8|d.charCodeAt(x+C))>>>0;const E=w[C];for(let k=0,D=E.length;k<D;){const M=E[k++],L=E[k++];if(S>=M&&S<=L){b.charcode=S,b.length=C+1;return}}}b.charcode=0,b.length=1}getCharCodeLength(d){const x=this.codespaceRanges;for(let b=0,S=x.length;b<S;b++){const w=x[b];for(let C=0,F=w.length;C<F;){const E=w[C++],k=w[C++];if(d>=E&&d<=k)return b+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let d=0;d<65536;d++)if(this._map[d]!==d)return!1;return!0}}class IdentityCMap extends CMap{constructor(d,x){super(),this.vertical=d,this.addCodespaceRange(x,0,65535)}mapCidRange(d,x,b){unreachable("should not call mapCidRange")}mapBfRange(d,x,b){unreachable("should not call mapBfRange")}mapBfRangeToArray(d,x,b){unreachable("should not call mapBfRangeToArray")}mapOne(d,x){unreachable("should not call mapCidOne")}lookup(d){return Number.isInteger(d)&&d<=65535?d:void 0}contains(d){return Number.isInteger(d)&&d<=65535}forEach(d){for(let x=0;x<=65535;x++)d(x,x)}charCodeOf(d){return Number.isInteger(d)&&d<=65535?d:-1}getMap(){const d=new Array(65536);for(let x=0;x<=65535;x++)d[x]=x;return d}get length(){return 65536}get isIdentityCMap(){unreachable("should not access .isIdentityCMap")}}function strToInt(g){let d=0;for(let x=0;x<g.length;x++)d=d<<8|g.charCodeAt(x);return d>>>0}function expectString(g){if(typeof g!="string")throw new FormatError("Malformed CMap: expected string.")}function expectInt(g){if(!Number.isInteger(g))throw new FormatError("Malformed CMap: expected int.")}function parseBfChar(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endbfchar"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectString(x);const S=x;g.mapOne(b,S)}}function parseBfRange(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endbfrange"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectString(x);const S=strToInt(x);if(x=d.getObj(),Number.isInteger(x)||typeof x=="string"){const w=Number.isInteger(x)?String.fromCharCode(x):x;g.mapBfRange(b,S,w)}else if(isCmd(x,"[")){x=d.getObj();const w=[];for(;!isCmd(x,"]")&&x!==EOF;)w.push(x),x=d.getObj();g.mapBfRangeToArray(b,S,w)}else break}throw new FormatError("Invalid bf range.")}function parseCidChar(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endcidchar"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectInt(x);const S=x;g.mapOne(b,S)}}function parseCidRange(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endcidrange"))return;expectString(x);const b=strToInt(x);x=d.getObj(),expectString(x);const S=strToInt(x);x=d.getObj(),expectInt(x);const w=x;g.mapCidRange(b,S,w)}}function parseCodespaceRange(g,d){for(;;){let x=d.getObj();if(x===EOF)break;if(isCmd(x,"endcodespacerange"))return;if(typeof x!="string")break;const b=strToInt(x);if(x=d.getObj(),typeof x!="string")break;const S=strToInt(x);g.addCodespaceRange(x.length,b,S)}throw new FormatError("Invalid codespace range.")}function parseWMode(g,d){const x=d.getObj();Number.isInteger(x)&&(g.vertical=!!x)}function parseCMapName(g,d){const x=d.getObj();x instanceof Name&&(g.name=x.name)}async function parseCMap(g,d,x,b){let S,w;e:for(;;)try{const C=d.getObj();if(C===EOF)break;if(C instanceof Name)C.name==="WMode"?parseWMode(g,d):C.name==="CMapName"&&parseCMapName(g,d),S=C;else if(C instanceof Cmd)switch(C.cmd){case"endcmap":break e;case"usecmap":S instanceof Name&&(w=S.name);break;case"begincodespacerange":parseCodespaceRange(g,d);break;case"beginbfchar":parseBfChar(g,d);break;case"begincidchar":parseCidChar(g,d);break;case"beginbfrange":parseBfRange(g,d);break;case"begincidrange":parseCidRange(g,d);break}}catch(C){if(C instanceof MissingDataException)throw C;warn("Invalid cMap data: "+C);continue}return!b&&w&&(b=w),b?extendCMap(g,x,b):g}async function extendCMap(g,d,x){if(g.useCMap=await createBuiltInCMap(x,d),g.numCodespaceRanges===0){const b=g.useCMap.codespaceRanges;for(let S=0;S<b.length;S++)g.codespaceRanges[S]=b[S].slice();g.numCodespaceRanges=g.useCMap.numCodespaceRanges}return g.useCMap.forEach(function(b,S){g.contains(b)||g.mapOne(b,g.useCMap.lookup(b))}),g}async function createBuiltInCMap(g,d){if(g==="Identity-H")return new IdentityCMap(!1,2);if(g==="Identity-V")return new IdentityCMap(!0,2);if(!BUILT_IN_CMAPS.includes(g))throw new Error("Unknown CMap name: "+g);if(!d)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:x,compressionType:b}=await d(g),S=new CMap(!0);if(b===CMapCompressionType.BINARY)return new BinaryCMapReader().process(x,S,w=>extendCMap(S,d,w));if(b===CMapCompressionType.NONE){const w=new Lexer(new Stream$1(x));return parseCMap(S,w,d,null)}throw new Error(`Invalid CMap "compressionType" value: ${b}`)}class CMapFactory{static async create({encoding:d,fetchBuiltInCMap:x,useCMap:b}){if(d instanceof Name)return createBuiltInCMap(d.name,x);if(d instanceof BaseStream){const S=await parseCMap(new CMap,new Lexer(d),x,b);return S.isIdentityCMap?createBuiltInCMap(S.name,x):S}throw new Error("Encoding required.")}}const ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"],ExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],MacExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],MacRomanEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"],StandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""],WinAnsiEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"],SymbolSetEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""],ZapfDingbatsEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];function getEncoding(g){switch(g){case"WinAnsiEncoding":return WinAnsiEncoding;case"StandardEncoding":return StandardEncoding;case"MacRomanEncoding":return MacRomanEncoding;case"SymbolSetEncoding":return SymbolSetEncoding;case"ZapfDingbatsEncoding":return ZapfDingbatsEncoding;case"ExpertEncoding":return ExpertEncoding;case"MacExpertEncoding":return MacExpertEncoding;default:return null}}const MAX_SUBR_NESTING=10,CFFStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],NUM_STANDARD_CFF_STRINGS=391,CharstringValidationData=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],CharstringValidationData12=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]+g[d-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]-g[d-1]}},{id:"div",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]/g[d-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(g,d){g[d-1]=-g[d-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(g,d){g[d-2]=g[d-2]*g[d-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class CFFParser{constructor(d,x,b){this.bytes=d.getBytes(),this.properties=x,this.seacAnalysisEnabled=!!b}parse(){const d=this.properties,x=new CFF;this.cff=x;const b=this.parseHeader(),S=this.parseIndex(b.endPos),w=this.parseIndex(S.endPos),C=this.parseIndex(w.endPos),F=this.parseIndex(C.endPos),E=this.parseDict(w.obj.get(0)),k=this.createDict(CFFTopDict,E,x.strings);x.header=b.obj,x.names=this.parseNameIndex(S.obj),x.strings=this.parseStringIndex(C.obj),x.topDict=k,x.globalSubrIndex=F.obj,this.parsePrivateDict(x.topDict),x.isCIDFont=k.hasName("ROS");const D=k.getByName("CharStrings"),M=this.parseIndex(D).obj,L=k.getByName("FontMatrix");L&&(d.fontMatrix=L);const R=k.getByName("FontBBox");R&&(d.ascent=Math.max(R[3],R[1]),d.descent=Math.min(R[1],R[3]),d.ascentScaled=!0);let U,j;if(x.isCIDFont){const V=this.parseIndex(k.getByName("FDArray")).obj;for(let z=0,G=V.count;z<G;++z){const X=V.get(z),Y=this.createDict(CFFTopDict,this.parseDict(X),x.strings);this.parsePrivateDict(Y),x.fdArray.push(Y)}j=null,U=this.parseCharsets(k.getByName("charset"),M.count,x.strings,!0),x.fdSelect=this.parseFDSelect(k.getByName("FDSelect"),M.count)}else U=this.parseCharsets(k.getByName("charset"),M.count,x.strings,!1),j=this.parseEncoding(k.getByName("Encoding"),d,x.strings,U.charset);x.charset=U,x.encoding=j;const H=this.parseCharStrings({charStrings:M,localSubrIndex:k.privateDict.subrsIndex,globalSubrIndex:F.obj,fdSelect:x.fdSelect,fdArray:x.fdArray,privateDict:k.privateDict});return x.charStrings=H.charStrings,x.seacs=H.seacs,x.widths=H.widths,x}parseHeader(){let d=this.bytes;const x=d.length;let b=0;for(;b<x&&d[b]!==1;)++b;if(b>=x)throw new FormatError("Invalid CFF header");b!==0&&(info("cff data is shifted"),d=d.subarray(b),this.bytes=d);const S=d[0],w=d[1],C=d[2],F=d[3];return{obj:new CFFHeader(S,w,C,F),endPos:C}}parseDict(d){let x=0;function b(){let E=d[x++];return E===30?S():E===28?(E=d[x++],E=(E<<24|d[x++]<<16)>>16,E):E===29?(E=d[x++],E=E<<8|d[x++],E=E<<8|d[x++],E=E<<8|d[x++],E):E>=32&&E<=246?E-139:E>=247&&E<=250?(E-247)*256+d[x++]+108:E>=251&&E<=254?-((E-251)*256)-d[x++]-108:(warn('CFFParser_parseDict: "'+E+'" is a reserved command.'),NaN)}function S(){let E="";const D=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],M=d.length;for(;x<M;){const L=d[x++],R=L>>4,U=L&15;if(R===15||(E+=D[R],U===15))break;E+=D[U]}return parseFloat(E)}let w=[];const C=[];x=0;const F=d.length;for(;x<F;){let E=d[x];E<=21?(E===12&&(E=E<<8|d[++x]),C.push([E,w]),w=[],++x):w.push(b())}return C}parseIndex(d){const x=new CFFIndex,b=this.bytes,S=b[d++]<<8|b[d++],w=[];let C=d,F,E;if(S!==0){const k=b[d++],D=d+(S+1)*k-1;for(F=0,E=S+1;F<E;++F){let M=0;for(let L=0;L<k;++L)M<<=8,M+=b[d++];w.push(D+M)}C=w[S]}for(F=0,E=w.length-1;F<E;++F){const k=w[F],D=w[F+1];x.add(b.subarray(k,D))}return{obj:x,endPos:C}}parseNameIndex(d){const x=[];for(let b=0,S=d.count;b<S;++b){const w=d.get(b);x.push(bytesToString(w))}return x}parseStringIndex(d){const x=new CFFStrings;for(let b=0,S=d.count;b<S;++b){const w=d.get(b);x.add(bytesToString(w))}return x}createDict(d,x,b){const S=new d(b);for(const[w,C]of x)S.setByKey(w,C);return S}parseCharString(d,x,b,S){if(!x||d.callDepth>MAX_SUBR_NESTING)return!1;let w=d.stackSize;const C=d.stack;let F=x.length;for(let E=0;E<F;){const k=x[E++];let D=null;if(k===12){const M=x[E++];M===0?(x[E-2]=139,x[E-1]=22,w=0):D=CharstringValidationData12[M]}else if(k===28)C[w]=(x[E]<<24|x[E+1]<<16)>>16,E+=2,w++;else if(k===14){if(w>=4&&(w-=4,this.seacAnalysisEnabled))return d.seac=C.slice(w,w+4),!1;D=CharstringValidationData[k]}else if(k>=32&&k<=246)C[w]=k-139,w++;else if(k>=247&&k<=254)C[w]=k<251?(k-247<<8)+x[E]+108:-(k-251<<8)-x[E]-108,E++,w++;else if(k===255)C[w]=(x[E]<<24|x[E+1]<<16|x[E+2]<<8|x[E+3])/65536,E+=4,w++;else if(k===19||k===20){if(d.hints+=w>>1,d.hints===0){x.copyWithin(E-1,E,-1),E-=1,F-=1;continue}E+=d.hints+7>>3,w%=2,D=CharstringValidationData[k]}else if(k===10||k===29){const M=k===10?b:S;if(!M)return D=CharstringValidationData[k],warn("Missing subrsIndex for "+D.id),!1;let L=32768;M.count<1240?L=107:M.count<33900&&(L=1131);const R=C[--w]+L;if(R<0||R>=M.count||isNaN(R))return D=CharstringValidationData[k],warn("Out of bounds subrIndex for "+D.id),!1;if(d.stackSize=w,d.callDepth++,!this.parseCharString(d,M.get(R),b,S))return!1;d.callDepth--,w=d.stackSize;continue}else{if(k===11)return d.stackSize=w,!0;if(k===0&&E===x.length)x[E-1]=14,D=CharstringValidationData[14];else if(k===9){x.copyWithin(E-1,E,-1),E-=1,F-=1;continue}else D=CharstringValidationData[k]}if(D){if(D.stem&&(d.hints+=w>>1,k===3||k===23?d.hasVStems=!0:d.hasVStems&&(k===1||k===18)&&(warn("CFF stem hints are in wrong order"),x[E-1]=k===1?3:23)),"min"in D&&!d.undefStack&&w<D.min)return warn("Not enough parameters for "+D.id+"; actual: "+w+", expected: "+D.min),w===0?(x[E-1]=14,!0):!1;d.firstStackClearing&&D.stackClearing&&(d.firstStackClearing=!1,w-=D.min,w>=2&&D.stem?w%=2:w>1&&warn("Found too many parameters for stack-clearing command"),w>0&&(d.width=C[w-1])),"stackDelta"in D?("stackFn"in D&&D.stackFn(C,w),w+=D.stackDelta):D.stackClearing?w=0:D.resetStack?(w=0,d.undefStack=!1):D.undefStack&&(w=0,d.undefStack=!0,d.firstStackClearing=!1)}}return F<x.length&&x.fill(14,F),d.stackSize=w,!0}parseCharStrings({charStrings:d,localSubrIndex:x,globalSubrIndex:b,fdSelect:S,fdArray:w,privateDict:C}){const F=[],E=[],k=d.count;for(let D=0;D<k;D++){const M=d.get(D),L={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let R=!0,U=null,j=C;if(S&&w.length){const H=S.getFDIndex(D);H===-1&&(warn("Glyph index is not in fd select."),R=!1),H>=w.length&&(warn("Invalid fd index for glyph index."),R=!1),R&&(j=w[H].privateDict,U=j.subrsIndex)}else x&&(U=x);if(R&&(R=this.parseCharString(L,M,U,b)),L.width!==null){const H=j.getByName("nominalWidthX");E[D]=H+L.width}else{const H=j.getByName("defaultWidthX");E[D]=H}L.seac!==null&&(F[D]=L.seac),R||d.set(D,new Uint8Array([14]))}return{charStrings:d,seacs:F,widths:E}}emptyPrivateDictionary(d){const x=this.createDict(CFFPrivateDict,[],d.strings);d.setByKey(18,[0,0]),d.privateDict=x}parsePrivateDict(d){if(!d.hasName("Private")){this.emptyPrivateDictionary(d);return}const x=d.getByName("Private");if(!Array.isArray(x)||x.length!==2){d.removeByName("Private");return}const b=x[0],S=x[1];if(b===0||S>=this.bytes.length){this.emptyPrivateDictionary(d);return}const w=S+b,C=this.bytes.subarray(S,w),F=this.parseDict(C),E=this.createDict(CFFPrivateDict,F,d.strings);if(d.privateDict=E,E.getByName("ExpansionFactor")===0&&E.setByName("ExpansionFactor",.06),!E.getByName("Subrs"))return;const k=E.getByName("Subrs"),D=S+k;if(k===0||D>=this.bytes.length){this.emptyPrivateDictionary(d);return}const M=this.parseIndex(D);E.subrsIndex=M.obj}parseCharsets(d,x,b,S){if(d===0)return new CFFCharset(!0,CFFCharsetPredefinedTypes.ISO_ADOBE,ISOAdobeCharset);if(d===1)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT,ExpertCharset);if(d===2)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT_SUBSET,ExpertSubsetCharset);const w=this.bytes,C=d,F=w[d++],E=[S?0:".notdef"];let k,D,M;switch(x-=1,F){case 0:for(M=0;M<x;M++)k=w[d++]<<8|w[d++],E.push(S?k:b.get(k));break;case 1:for(;E.length<=x;)for(k=w[d++]<<8|w[d++],D=w[d++],M=0;M<=D;M++)E.push(S?k++:b.get(k++));break;case 2:for(;E.length<=x;)for(k=w[d++]<<8|w[d++],D=w[d++]<<8|w[d++],M=0;M<=D;M++)E.push(S?k++:b.get(k++));break;default:throw new FormatError("Unknown charset format")}const L=d,R=w.subarray(C,L);return new CFFCharset(!1,F,E,R)}parseEncoding(d,x,b,S){const w=Object.create(null),C=this.bytes;let F=!1,E,k,D,M=null;function L(){const R=C[d++];for(k=0;k<R;k++){const U=C[d++],j=(C[d++]<<8)+(C[d++]&255);w[U]=S.indexOf(b.get(j))}}if(d===0||d===1){F=!0,E=d;const R=d?ExpertEncoding:StandardEncoding;for(k=0,D=S.length;k<D;k++){const U=R.indexOf(S[k]);U!==-1&&(w[U]=k)}}else{const R=d;switch(E=C[d++],E&127){case 0:const j=C[d++];for(k=1;k<=j;k++)w[C[d++]]=k;break;case 1:const H=C[d++];let V=1;for(k=0;k<H;k++){const z=C[d++],G=C[d++];for(let X=z;X<=z+G;X++)w[X]=V++}break;default:throw new FormatError(`Unknown encoding format: ${E} in CFF`)}const U=d;E&128&&(C[R]&=127,L()),M=C.subarray(R,U)}return E&=127,new CFFEncoding(F,E,w,M)}parseFDSelect(d,x){const b=this.bytes,S=b[d++],w=[];let C;switch(S){case 0:for(C=0;C<x;++C){const E=b[d++];w.push(E)}break;case 3:const F=b[d++]<<8|b[d++];for(C=0;C<F;++C){let E=b[d++]<<8|b[d++];C===0&&E!==0&&(warn("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),E=0);const k=b[d++],D=b[d]<<8|b[d+1];for(let M=E;M<D;++M)w.push(k)}d+=2;break;default:throw new FormatError(`parseFDSelect: Unknown format "${S}".`)}if(w.length!==x)throw new FormatError("parseFDSelect: Invalid font data.");return new CFFFDSelect(S,w)}}class CFF{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new CFFStrings,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){warn("Not enough space in charstrings to duplicate first glyph.");return}const d=this.charStrings.get(0);this.charStrings.add(d),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(d){return d<0||d>=this.charStrings.count?!1:this.charStrings.get(d).length>0}}class CFFHeader{constructor(d,x,b,S){this.major=d,this.minor=x,this.hdrSize=b,this.offSize=S}}class CFFStrings{constructor(){this.strings=[]}get(d){return d>=0&&d<=NUM_STANDARD_CFF_STRINGS-1?CFFStandardStrings[d]:d-NUM_STANDARD_CFF_STRINGS<=this.strings.length?this.strings[d-NUM_STANDARD_CFF_STRINGS]:CFFStandardStrings[0]}getSID(d){let x=CFFStandardStrings.indexOf(d);return x!==-1?x:(x=this.strings.indexOf(d),x!==-1?x+NUM_STANDARD_CFF_STRINGS:-1)}add(d){this.strings.push(d)}get count(){return this.strings.length}}class CFFIndex{constructor(){this.objects=[],this.length=0}add(d){this.length+=d.length,this.objects.push(d)}set(d,x){this.length+=x.length-this.objects[d].length,this.objects[d]=x}get(d){return this.objects[d]}get count(){return this.objects.length}}class CFFDict{constructor(d,x){this.keyToNameMap=d.keyToNameMap,this.nameToKeyMap=d.nameToKeyMap,this.defaults=d.defaults,this.types=d.types,this.opcodes=d.opcodes,this.order=d.order,this.strings=x,this.values=Object.create(null)}setByKey(d,x){if(!(d in this.keyToNameMap))return!1;if(x.length===0)return!0;for(const S of x)if(isNaN(S))return warn(`Invalid CFFDict value: "${x}" for key "${d}".`),!0;const b=this.types[d];return(b==="num"||b==="sid"||b==="offset")&&(x=x[0]),this.values[d]=x,!0}setByName(d,x){if(!(d in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name "${d}"`);this.values[this.nameToKeyMap[d]]=x}hasName(d){return this.nameToKeyMap[d]in this.values}getByName(d){if(!(d in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name ${d}"`);const x=this.nameToKeyMap[d];return x in this.values?this.values[x]:this.defaults[x]}removeByName(d){delete this.values[this.nameToKeyMap[d]]}static createTables(d){const x={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const b of d){const S=Array.isArray(b[0])?(b[0][0]<<8)+b[0][1]:b[0];x.keyToNameMap[S]=b[1],x.nameToKeyMap[b[1]]=S,x.types[S]=b[2],x.defaults[S]=b[3],x.opcodes[S]=Array.isArray(b[0])?b[0]:[b[0]],x.order.push(S)}return x}}const CFFTopDictLayout=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class CFFTopDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFTopDictLayout))}constructor(d){super(CFFTopDict.tables,d),this.privateDict=null}}const CFFPrivateDictLayout=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class CFFPrivateDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFPrivateDictLayout))}constructor(d){super(CFFPrivateDict.tables,d),this.subrsIndex=null}}const CFFCharsetPredefinedTypes={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class CFFCharset{constructor(d,x,b,S){this.predefined=d,this.format=x,this.charset=b,this.raw=S}}class CFFEncoding{constructor(d,x,b,S){this.predefined=d,this.format=x,this.encoding=b,this.raw=S}}class CFFFDSelect{constructor(d,x){this.format=d,this.fdSelect=x}getFDIndex(d){return d<0||d>=this.fdSelect.length?-1:this.fdSelect[d]}}class CFFOffsetTracker{constructor(){this.offsets=Object.create(null)}isTracking(d){return d in this.offsets}track(d,x){if(d in this.offsets)throw new FormatError(`Already tracking location of ${d}`);this.offsets[d]=x}offset(d){for(const x in this.offsets)this.offsets[x]+=d}setEntryLocation(d,x,b){if(!(d in this.offsets))throw new FormatError(`Not tracking location of ${d}`);const S=b.data,w=this.offsets[d],C=5;for(let F=0,E=x.length;F<E;++F){const k=F*C+w,D=k+1,M=k+2,L=k+3,R=k+4;if(S[k]!==29||S[D]!==0||S[M]!==0||S[L]!==0||S[R]!==0)throw new FormatError("writing to an offset that is not empty");const U=x[F];S[k]=29,S[D]=U>>24&255,S[M]=U>>16&255,S[L]=U>>8&255,S[R]=U&255}}}class CFFCompiler{constructor(d){this.cff=d}compile(){const d=this.cff,x={data:[],length:0,add(L){try{this.data.push(...L)}catch{this.data=this.data.concat(L)}this.length=this.data.length}},b=this.compileHeader(d.header);x.add(b);const S=this.compileNameIndex(d.names);if(x.add(S),d.isCIDFont&&d.topDict.hasName("FontMatrix")){const L=d.topDict.getByName("FontMatrix");d.topDict.removeByName("FontMatrix");for(const R of d.fdArray){let U=L.slice(0);R.hasName("FontMatrix")&&(U=Util.transform(U,R.getByName("FontMatrix"))),R.setByName("FontMatrix",U)}}d.topDict.getByName("XUID")?.length>16&&d.topDict.removeByName("XUID"),d.topDict.setByName("charset",0);let C=this.compileTopDicts([d.topDict],x.length,d.isCIDFont);x.add(C.output);const F=C.trackers[0],E=this.compileStringIndex(d.strings.strings);x.add(E);const k=this.compileIndex(d.globalSubrIndex);if(x.add(k),d.encoding&&d.topDict.hasName("Encoding"))if(d.encoding.predefined)F.setEntryLocation("Encoding",[d.encoding.format],x);else{const L=this.compileEncoding(d.encoding);F.setEntryLocation("Encoding",[x.length],x),x.add(L)}const D=this.compileCharset(d.charset,d.charStrings.count,d.strings,d.isCIDFont);F.setEntryLocation("charset",[x.length],x),x.add(D);const M=this.compileCharStrings(d.charStrings);if(F.setEntryLocation("CharStrings",[x.length],x),x.add(M),d.isCIDFont){F.setEntryLocation("FDSelect",[x.length],x);const L=this.compileFDSelect(d.fdSelect);x.add(L),C=this.compileTopDicts(d.fdArray,x.length,!0),F.setEntryLocation("FDArray",[x.length],x),x.add(C.output);const R=C.trackers;this.compilePrivateDicts(d.fdArray,R,x)}return this.compilePrivateDicts([d.topDict],[F],x),x.add([0]),x.data}encodeNumber(d){return Number.isInteger(d)?this.encodeInteger(d):this.encodeFloat(d)}static get EncodeFloatRegExp(){return shadow(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(d){let x=d.toString();const b=CFFCompiler.EncodeFloatRegExp.exec(x);if(b){const E=parseFloat("1e"+((b[2]?+b[2]:0)+b[1].length));x=(Math.round(d*E)/E).toString()}let S="",w,C;for(w=0,C=x.length;w<C;++w){const E=x[w];E==="e"?S+=x[++w]==="-"?"c":"b":E==="."?S+="a":E==="-"?S+="e":S+=E}S+=S.length&1?"f":"ff";const F=[30];for(w=0,C=S.length;w<C;w+=2)F.push(parseInt(S.substring(w,w+2),16));return F}encodeInteger(d){let x;return d>=-107&&d<=107?x=[d+139]:d>=108&&d<=1131?(d-=108,x=[(d>>8)+247,d&255]):d>=-1131&&d<=-108?(d=-d-108,x=[(d>>8)+251,d&255]):d>=-32768&&d<=32767?x=[28,d>>8&255,d&255]:x=[29,d>>24&255,d>>16&255,d>>8&255,d&255],x}compileHeader(d){return[d.major,d.minor,4,d.offSize]}compileNameIndex(d){const x=new CFFIndex;for(const b of d){const S=Math.min(b.length,127);let w=new Array(S);for(let C=0;C<S;C++){let F=b[C];(F<"!"||F>"~"||F==="["||F==="]"||F==="("||F===")"||F==="{"||F==="}"||F==="<"||F===">"||F==="/"||F==="%")&&(F="_"),w[C]=F}w=w.join(""),w===""&&(w="Bad_Font_Name"),x.add(stringToBytes(w))}return this.compileIndex(x)}compileTopDicts(d,x,b){const S=[];let w=new CFFIndex;for(const C of d){b&&(C.removeByName("CIDFontVersion"),C.removeByName("CIDFontRevision"),C.removeByName("CIDFontType"),C.removeByName("CIDCount"),C.removeByName("UIDBase"));const F=new CFFOffsetTracker,E=this.compileDict(C,F);S.push(F),w.add(E),F.offset(x)}return w=this.compileIndex(w,S),{trackers:S,output:w}}compilePrivateDicts(d,x,b){for(let S=0,w=d.length;S<w;++S){const C=d[S],F=C.privateDict;if(!F||!C.hasName("Private"))throw new FormatError("There must be a private dictionary.");const E=new CFFOffsetTracker,k=this.compileDict(F,E);let D=b.length;if(E.offset(D),k.length||(D=0),x[S].setEntryLocation("Private",[k.length,D],b),b.add(k),F.subrsIndex&&F.hasName("Subrs")){const M=this.compileIndex(F.subrsIndex);E.setEntryLocation("Subrs",[k.length],b),b.add(M)}}}compileDict(d,x){const b=[];for(const S of d.order){if(!(S in d.values))continue;let w=d.values[S],C=d.types[S];if(Array.isArray(C)||(C=[C]),Array.isArray(w)||(w=[w]),w.length!==0){for(let F=0,E=C.length;F<E;++F){const k=C[F],D=w[F];switch(k){case"num":case"sid":b.push(...this.encodeNumber(D));break;case"offset":const M=d.keyToNameMap[S];x.isTracking(M)||x.track(M,b.length),b.push(29,0,0,0,0);break;case"array":case"delta":b.push(...this.encodeNumber(D));for(let L=1,R=w.length;L<R;++L)b.push(...this.encodeNumber(w[L]));break;default:throw new FormatError(`Unknown data type of ${k}`)}}b.push(...d.opcodes[S])}}return b}compileStringIndex(d){const x=new CFFIndex;for(const b of d)x.add(stringToBytes(b));return this.compileIndex(x)}compileCharStrings(d){const x=new CFFIndex;for(let b=0;b<d.count;b++){const S=d.get(b);if(S.length===0){x.add(new Uint8Array([139,14]));continue}x.add(S)}return this.compileIndex(x)}compileCharset(d,x,b,S){let w;const C=x-1;if(S)w=new Uint8Array([2,0,0,C>>8&255,C&255]);else{const F=1+C*2;w=new Uint8Array(F),w[0]=0;let E=0;const k=d.charset.length;let D=!1;for(let M=1;M<w.length;M+=2){let L=0;if(E<k){const R=d.charset[E++];L=b.getSID(R),L===-1&&(L=0,D||(D=!0,warn(`Couldn't find ${R} in CFF strings`)))}w[M]=L>>8&255,w[M+1]=L&255}}return this.compileTypedArray(w)}compileEncoding(d){return this.compileTypedArray(d.raw)}compileFDSelect(d){const x=d.format;let b,S;switch(x){case 0:for(b=new Uint8Array(1+d.fdSelect.length),b[0]=x,S=0;S<d.fdSelect.length;S++)b[S+1]=d.fdSelect[S];break;case 3:const w=0;let C=d.fdSelect[0];const F=[x,0,0,w>>8&255,w&255,C];for(S=1;S<d.fdSelect.length;S++){const k=d.fdSelect[S];k!==C&&(F.push(S>>8&255,S&255,k),C=k)}const E=(F.length-3)/3;F[1]=E>>8&255,F[2]=E&255,F.push(S>>8&255,S&255),b=new Uint8Array(F);break}return this.compileTypedArray(b)}compileTypedArray(d){return Array.from(d)}compileIndex(d,x=[]){const b=d.objects,S=b.length;if(S===0)return[0,0];const w=[S>>8&255,S&255];let C=1,F;for(F=0;F<S;++F)C+=b[F].length;let E;C<256?E=1:C<65536?E=2:C<16777216?E=3:E=4,w.push(E);let k=1;for(F=0;F<S+1;F++)E===1?w.push(k&255):E===2?w.push(k>>8&255,k&255):E===3?w.push(k>>16&255,k>>8&255,k&255):w.push(k>>>24&255,k>>16&255,k>>8&255,k&255),b[F]&&(k+=b[F].length);for(F=0;F<S;F++)x[F]&&x[F].offset(w.length),w.push(...b[F]);return w}}const getGlyphsUnicode=getLookupTableFactory(function(g){g.A=65,g.AE=198,g.AEacute=508,g.AEmacron=482,g.AEsmall=63462,g.Aacute=193,g.Aacutesmall=63457,g.Abreve=258,g.Abreveacute=7854,g.Abrevecyrillic=1232,g.Abrevedotbelow=7862,g.Abrevegrave=7856,g.Abrevehookabove=7858,g.Abrevetilde=7860,g.Acaron=461,g.Acircle=9398,g.Acircumflex=194,g.Acircumflexacute=7844,g.Acircumflexdotbelow=7852,g.Acircumflexgrave=7846,g.Acircumflexhookabove=7848,g.Acircumflexsmall=63458,g.Acircumflextilde=7850,g.Acute=63177,g.Acutesmall=63412,g.Acyrillic=1040,g.Adblgrave=512,g.Adieresis=196,g.Adieresiscyrillic=1234,g.Adieresismacron=478,g.Adieresissmall=63460,g.Adotbelow=7840,g.Adotmacron=480,g.Agrave=192,g.Agravesmall=63456,g.Ahookabove=7842,g.Aiecyrillic=1236,g.Ainvertedbreve=514,g.Alpha=913,g.Alphatonos=902,g.Amacron=256,g.Amonospace=65313,g.Aogonek=260,g.Aring=197,g.Aringacute=506,g.Aringbelow=7680,g.Aringsmall=63461,g.Asmall=63329,g.Atilde=195,g.Atildesmall=63459,g.Aybarmenian=1329,g.B=66,g.Bcircle=9399,g.Bdotaccent=7682,g.Bdotbelow=7684,g.Becyrillic=1041,g.Benarmenian=1330,g.Beta=914,g.Bhook=385,g.Blinebelow=7686,g.Bmonospace=65314,g.Brevesmall=63220,g.Bsmall=63330,g.Btopbar=386,g.C=67,g.Caarmenian=1342,g.Cacute=262,g.Caron=63178,g.Caronsmall=63221,g.Ccaron=268,g.Ccedilla=199,g.Ccedillaacute=7688,g.Ccedillasmall=63463,g.Ccircle=9400,g.Ccircumflex=264,g.Cdot=266,g.Cdotaccent=266,g.Cedillasmall=63416,g.Chaarmenian=1353,g.Cheabkhasiancyrillic=1212,g.Checyrillic=1063,g.Chedescenderabkhasiancyrillic=1214,g.Chedescendercyrillic=1206,g.Chedieresiscyrillic=1268,g.Cheharmenian=1347,g.Chekhakassiancyrillic=1227,g.Cheverticalstrokecyrillic=1208,g.Chi=935,g.Chook=391,g.Circumflexsmall=63222,g.Cmonospace=65315,g.Coarmenian=1361,g.Csmall=63331,g.D=68,g.DZ=497,g.DZcaron=452,g.Daarmenian=1332,g.Dafrican=393,g.Dcaron=270,g.Dcedilla=7696,g.Dcircle=9401,g.Dcircumflexbelow=7698,g.Dcroat=272,g.Ddotaccent=7690,g.Ddotbelow=7692,g.Decyrillic=1044,g.Deicoptic=1006,g.Delta=8710,g.Deltagreek=916,g.Dhook=394,g.Dieresis=63179,g.DieresisAcute=63180,g.DieresisGrave=63181,g.Dieresissmall=63400,g.Digammagreek=988,g.Djecyrillic=1026,g.Dlinebelow=7694,g.Dmonospace=65316,g.Dotaccentsmall=63223,g.Dslash=272,g.Dsmall=63332,g.Dtopbar=395,g.Dz=498,g.Dzcaron=453,g.Dzeabkhasiancyrillic=1248,g.Dzecyrillic=1029,g.Dzhecyrillic=1039,g.E=69,g.Eacute=201,g.Eacutesmall=63465,g.Ebreve=276,g.Ecaron=282,g.Ecedillabreve=7708,g.Echarmenian=1333,g.Ecircle=9402,g.Ecircumflex=202,g.Ecircumflexacute=7870,g.Ecircumflexbelow=7704,g.Ecircumflexdotbelow=7878,g.Ecircumflexgrave=7872,g.Ecircumflexhookabove=7874,g.Ecircumflexsmall=63466,g.Ecircumflextilde=7876,g.Ecyrillic=1028,g.Edblgrave=516,g.Edieresis=203,g.Edieresissmall=63467,g.Edot=278,g.Edotaccent=278,g.Edotbelow=7864,g.Efcyrillic=1060,g.Egrave=200,g.Egravesmall=63464,g.Eharmenian=1335,g.Ehookabove=7866,g.Eightroman=8551,g.Einvertedbreve=518,g.Eiotifiedcyrillic=1124,g.Elcyrillic=1051,g.Elevenroman=8554,g.Emacron=274,g.Emacronacute=7702,g.Emacrongrave=7700,g.Emcyrillic=1052,g.Emonospace=65317,g.Encyrillic=1053,g.Endescendercyrillic=1186,g.Eng=330,g.Enghecyrillic=1188,g.Enhookcyrillic=1223,g.Eogonek=280,g.Eopen=400,g.Epsilon=917,g.Epsilontonos=904,g.Ercyrillic=1056,g.Ereversed=398,g.Ereversedcyrillic=1069,g.Escyrillic=1057,g.Esdescendercyrillic=1194,g.Esh=425,g.Esmall=63333,g.Eta=919,g.Etarmenian=1336,g.Etatonos=905,g.Eth=208,g.Ethsmall=63472,g.Etilde=7868,g.Etildebelow=7706,g.Euro=8364,g.Ezh=439,g.Ezhcaron=494,g.Ezhreversed=440,g.F=70,g.Fcircle=9403,g.Fdotaccent=7710,g.Feharmenian=1366,g.Feicoptic=996,g.Fhook=401,g.Fitacyrillic=1138,g.Fiveroman=8548,g.Fmonospace=65318,g.Fourroman=8547,g.Fsmall=63334,g.G=71,g.GBsquare=13191,g.Gacute=500,g.Gamma=915,g.Gammaafrican=404,g.Gangiacoptic=1002,g.Gbreve=286,g.Gcaron=486,g.Gcedilla=290,g.Gcircle=9404,g.Gcircumflex=284,g.Gcommaaccent=290,g.Gdot=288,g.Gdotaccent=288,g.Gecyrillic=1043,g.Ghadarmenian=1346,g.Ghemiddlehookcyrillic=1172,g.Ghestrokecyrillic=1170,g.Gheupturncyrillic=1168,g.Ghook=403,g.Gimarmenian=1331,g.Gjecyrillic=1027,g.Gmacron=7712,g.Gmonospace=65319,g.Grave=63182,g.Gravesmall=63328,g.Gsmall=63335,g.Gsmallhook=667,g.Gstroke=484,g.H=72,g.H18533=9679,g.H18543=9642,g.H18551=9643,g.H22073=9633,g.HPsquare=13259,g.Haabkhasiancyrillic=1192,g.Hadescendercyrillic=1202,g.Hardsigncyrillic=1066,g.Hbar=294,g.Hbrevebelow=7722,g.Hcedilla=7720,g.Hcircle=9405,g.Hcircumflex=292,g.Hdieresis=7718,g.Hdotaccent=7714,g.Hdotbelow=7716,g.Hmonospace=65320,g.Hoarmenian=1344,g.Horicoptic=1e3,g.Hsmall=63336,g.Hungarumlaut=63183,g.Hungarumlautsmall=63224,g.Hzsquare=13200,g.I=73,g.IAcyrillic=1071,g.IJ=306,g.IUcyrillic=1070,g.Iacute=205,g.Iacutesmall=63469,g.Ibreve=300,g.Icaron=463,g.Icircle=9406,g.Icircumflex=206,g.Icircumflexsmall=63470,g.Icyrillic=1030,g.Idblgrave=520,g.Idieresis=207,g.Idieresisacute=7726,g.Idieresiscyrillic=1252,g.Idieresissmall=63471,g.Idot=304,g.Idotaccent=304,g.Idotbelow=7882,g.Iebrevecyrillic=1238,g.Iecyrillic=1045,g.Ifraktur=8465,g.Igrave=204,g.Igravesmall=63468,g.Ihookabove=7880,g.Iicyrillic=1048,g.Iinvertedbreve=522,g.Iishortcyrillic=1049,g.Imacron=298,g.Imacroncyrillic=1250,g.Imonospace=65321,g.Iniarmenian=1339,g.Iocyrillic=1025,g.Iogonek=302,g.Iota=921,g.Iotaafrican=406,g.Iotadieresis=938,g.Iotatonos=906,g.Ismall=63337,g.Istroke=407,g.Itilde=296,g.Itildebelow=7724,g.Izhitsacyrillic=1140,g.Izhitsadblgravecyrillic=1142,g.J=74,g.Jaarmenian=1345,g.Jcircle=9407,g.Jcircumflex=308,g.Jecyrillic=1032,g.Jheharmenian=1355,g.Jmonospace=65322,g.Jsmall=63338,g.K=75,g.KBsquare=13189,g.KKsquare=13261,g.Kabashkircyrillic=1184,g.Kacute=7728,g.Kacyrillic=1050,g.Kadescendercyrillic=1178,g.Kahookcyrillic=1219,g.Kappa=922,g.Kastrokecyrillic=1182,g.Kaverticalstrokecyrillic=1180,g.Kcaron=488,g.Kcedilla=310,g.Kcircle=9408,g.Kcommaaccent=310,g.Kdotbelow=7730,g.Keharmenian=1364,g.Kenarmenian=1343,g.Khacyrillic=1061,g.Kheicoptic=998,g.Khook=408,g.Kjecyrillic=1036,g.Klinebelow=7732,g.Kmonospace=65323,g.Koppacyrillic=1152,g.Koppagreek=990,g.Ksicyrillic=1134,g.Ksmall=63339,g.L=76,g.LJ=455,g.LL=63167,g.Lacute=313,g.Lambda=923,g.Lcaron=317,g.Lcedilla=315,g.Lcircle=9409,g.Lcircumflexbelow=7740,g.Lcommaaccent=315,g.Ldot=319,g.Ldotaccent=319,g.Ldotbelow=7734,g.Ldotbelowmacron=7736,g.Liwnarmenian=1340,g.Lj=456,g.Ljecyrillic=1033,g.Llinebelow=7738,g.Lmonospace=65324,g.Lslash=321,g.Lslashsmall=63225,g.Lsmall=63340,g.M=77,g.MBsquare=13190,g.Macron=63184,g.Macronsmall=63407,g.Macute=7742,g.Mcircle=9410,g.Mdotaccent=7744,g.Mdotbelow=7746,g.Menarmenian=1348,g.Mmonospace=65325,g.Msmall=63341,g.Mturned=412,g.Mu=924,g.N=78,g.NJ=458,g.Nacute=323,g.Ncaron=327,g.Ncedilla=325,g.Ncircle=9411,g.Ncircumflexbelow=7754,g.Ncommaaccent=325,g.Ndotaccent=7748,g.Ndotbelow=7750,g.Nhookleft=413,g.Nineroman=8552,g.Nj=459,g.Njecyrillic=1034,g.Nlinebelow=7752,g.Nmonospace=65326,g.Nowarmenian=1350,g.Nsmall=63342,g.Ntilde=209,g.Ntildesmall=63473,g.Nu=925,g.O=79,g.OE=338,g.OEsmall=63226,g.Oacute=211,g.Oacutesmall=63475,g.Obarredcyrillic=1256,g.Obarreddieresiscyrillic=1258,g.Obreve=334,g.Ocaron=465,g.Ocenteredtilde=415,g.Ocircle=9412,g.Ocircumflex=212,g.Ocircumflexacute=7888,g.Ocircumflexdotbelow=7896,g.Ocircumflexgrave=7890,g.Ocircumflexhookabove=7892,g.Ocircumflexsmall=63476,g.Ocircumflextilde=7894,g.Ocyrillic=1054,g.Odblacute=336,g.Odblgrave=524,g.Odieresis=214,g.Odieresiscyrillic=1254,g.Odieresissmall=63478,g.Odotbelow=7884,g.Ogoneksmall=63227,g.Ograve=210,g.Ogravesmall=63474,g.Oharmenian=1365,g.Ohm=8486,g.Ohookabove=7886,g.Ohorn=416,g.Ohornacute=7898,g.Ohorndotbelow=7906,g.Ohorngrave=7900,g.Ohornhookabove=7902,g.Ohorntilde=7904,g.Ohungarumlaut=336,g.Oi=418,g.Oinvertedbreve=526,g.Omacron=332,g.Omacronacute=7762,g.Omacrongrave=7760,g.Omega=8486,g.Omegacyrillic=1120,g.Omegagreek=937,g.Omegaroundcyrillic=1146,g.Omegatitlocyrillic=1148,g.Omegatonos=911,g.Omicron=927,g.Omicrontonos=908,g.Omonospace=65327,g.Oneroman=8544,g.Oogonek=490,g.Oogonekmacron=492,g.Oopen=390,g.Oslash=216,g.Oslashacute=510,g.Oslashsmall=63480,g.Osmall=63343,g.Ostrokeacute=510,g.Otcyrillic=1150,g.Otilde=213,g.Otildeacute=7756,g.Otildedieresis=7758,g.Otildesmall=63477,g.P=80,g.Pacute=7764,g.Pcircle=9413,g.Pdotaccent=7766,g.Pecyrillic=1055,g.Peharmenian=1354,g.Pemiddlehookcyrillic=1190,g.Phi=934,g.Phook=420,g.Pi=928,g.Piwrarmenian=1363,g.Pmonospace=65328,g.Psi=936,g.Psicyrillic=1136,g.Psmall=63344,g.Q=81,g.Qcircle=9414,g.Qmonospace=65329,g.Qsmall=63345,g.R=82,g.Raarmenian=1356,g.Racute=340,g.Rcaron=344,g.Rcedilla=342,g.Rcircle=9415,g.Rcommaaccent=342,g.Rdblgrave=528,g.Rdotaccent=7768,g.Rdotbelow=7770,g.Rdotbelowmacron=7772,g.Reharmenian=1360,g.Rfraktur=8476,g.Rho=929,g.Ringsmall=63228,g.Rinvertedbreve=530,g.Rlinebelow=7774,g.Rmonospace=65330,g.Rsmall=63346,g.Rsmallinverted=641,g.Rsmallinvertedsuperior=694,g.S=83,g.SF010000=9484,g.SF020000=9492,g.SF030000=9488,g.SF040000=9496,g.SF050000=9532,g.SF060000=9516,g.SF070000=9524,g.SF080000=9500,g.SF090000=9508,g.SF100000=9472,g.SF110000=9474,g.SF190000=9569,g.SF200000=9570,g.SF210000=9558,g.SF220000=9557,g.SF230000=9571,g.SF240000=9553,g.SF250000=9559,g.SF260000=9565,g.SF270000=9564,g.SF280000=9563,g.SF360000=9566,g.SF370000=9567,g.SF380000=9562,g.SF390000=9556,g.SF400000=9577,g.SF410000=9574,g.SF420000=9568,g.SF430000=9552,g.SF440000=9580,g.SF450000=9575,g.SF460000=9576,g.SF470000=9572,g.SF480000=9573,g.SF490000=9561,g.SF500000=9560,g.SF510000=9554,g.SF520000=9555,g.SF530000=9579,g.SF540000=9578,g.Sacute=346,g.Sacutedotaccent=7780,g.Sampigreek=992,g.Scaron=352,g.Scarondotaccent=7782,g.Scaronsmall=63229,g.Scedilla=350,g.Schwa=399,g.Schwacyrillic=1240,g.Schwadieresiscyrillic=1242,g.Scircle=9416,g.Scircumflex=348,g.Scommaaccent=536,g.Sdotaccent=7776,g.Sdotbelow=7778,g.Sdotbelowdotaccent=7784,g.Seharmenian=1357,g.Sevenroman=8550,g.Shaarmenian=1351,g.Shacyrillic=1064,g.Shchacyrillic=1065,g.Sheicoptic=994,g.Shhacyrillic=1210,g.Shimacoptic=1004,g.Sigma=931,g.Sixroman=8549,g.Smonospace=65331,g.Softsigncyrillic=1068,g.Ssmall=63347,g.Stigmagreek=986,g.T=84,g.Tau=932,g.Tbar=358,g.Tcaron=356,g.Tcedilla=354,g.Tcircle=9417,g.Tcircumflexbelow=7792,g.Tcommaaccent=354,g.Tdotaccent=7786,g.Tdotbelow=7788,g.Tecyrillic=1058,g.Tedescendercyrillic=1196,g.Tenroman=8553,g.Tetsecyrillic=1204,g.Theta=920,g.Thook=428,g.Thorn=222,g.Thornsmall=63486,g.Threeroman=8546,g.Tildesmall=63230,g.Tiwnarmenian=1359,g.Tlinebelow=7790,g.Tmonospace=65332,g.Toarmenian=1337,g.Tonefive=444,g.Tonesix=388,g.Tonetwo=423,g.Tretroflexhook=430,g.Tsecyrillic=1062,g.Tshecyrillic=1035,g.Tsmall=63348,g.Twelveroman=8555,g.Tworoman=8545,g.U=85,g.Uacute=218,g.Uacutesmall=63482,g.Ubreve=364,g.Ucaron=467,g.Ucircle=9418,g.Ucircumflex=219,g.Ucircumflexbelow=7798,g.Ucircumflexsmall=63483,g.Ucyrillic=1059,g.Udblacute=368,g.Udblgrave=532,g.Udieresis=220,g.Udieresisacute=471,g.Udieresisbelow=7794,g.Udieresiscaron=473,g.Udieresiscyrillic=1264,g.Udieresisgrave=475,g.Udieresismacron=469,g.Udieresissmall=63484,g.Udotbelow=7908,g.Ugrave=217,g.Ugravesmall=63481,g.Uhookabove=7910,g.Uhorn=431,g.Uhornacute=7912,g.Uhorndotbelow=7920,g.Uhorngrave=7914,g.Uhornhookabove=7916,g.Uhorntilde=7918,g.Uhungarumlaut=368,g.Uhungarumlautcyrillic=1266,g.Uinvertedbreve=534,g.Ukcyrillic=1144,g.Umacron=362,g.Umacroncyrillic=1262,g.Umacrondieresis=7802,g.Umonospace=65333,g.Uogonek=370,g.Upsilon=933,g.Upsilon1=978,g.Upsilonacutehooksymbolgreek=979,g.Upsilonafrican=433,g.Upsilondieresis=939,g.Upsilondieresishooksymbolgreek=980,g.Upsilonhooksymbol=978,g.Upsilontonos=910,g.Uring=366,g.Ushortcyrillic=1038,g.Usmall=63349,g.Ustraightcyrillic=1198,g.Ustraightstrokecyrillic=1200,g.Utilde=360,g.Utildeacute=7800,g.Utildebelow=7796,g.V=86,g.Vcircle=9419,g.Vdotbelow=7806,g.Vecyrillic=1042,g.Vewarmenian=1358,g.Vhook=434,g.Vmonospace=65334,g.Voarmenian=1352,g.Vsmall=63350,g.Vtilde=7804,g.W=87,g.Wacute=7810,g.Wcircle=9420,g.Wcircumflex=372,g.Wdieresis=7812,g.Wdotaccent=7814,g.Wdotbelow=7816,g.Wgrave=7808,g.Wmonospace=65335,g.Wsmall=63351,g.X=88,g.Xcircle=9421,g.Xdieresis=7820,g.Xdotaccent=7818,g.Xeharmenian=1341,g.Xi=926,g.Xmonospace=65336,g.Xsmall=63352,g.Y=89,g.Yacute=221,g.Yacutesmall=63485,g.Yatcyrillic=1122,g.Ycircle=9422,g.Ycircumflex=374,g.Ydieresis=376,g.Ydieresissmall=63487,g.Ydotaccent=7822,g.Ydotbelow=7924,g.Yericyrillic=1067,g.Yerudieresiscyrillic=1272,g.Ygrave=7922,g.Yhook=435,g.Yhookabove=7926,g.Yiarmenian=1349,g.Yicyrillic=1031,g.Yiwnarmenian=1362,g.Ymonospace=65337,g.Ysmall=63353,g.Ytilde=7928,g.Yusbigcyrillic=1130,g.Yusbigiotifiedcyrillic=1132,g.Yuslittlecyrillic=1126,g.Yuslittleiotifiedcyrillic=1128,g.Z=90,g.Zaarmenian=1334,g.Zacute=377,g.Zcaron=381,g.Zcaronsmall=63231,g.Zcircle=9423,g.Zcircumflex=7824,g.Zdot=379,g.Zdotaccent=379,g.Zdotbelow=7826,g.Zecyrillic=1047,g.Zedescendercyrillic=1176,g.Zedieresiscyrillic=1246,g.Zeta=918,g.Zhearmenian=1338,g.Zhebrevecyrillic=1217,g.Zhecyrillic=1046,g.Zhedescendercyrillic=1174,g.Zhedieresiscyrillic=1244,g.Zlinebelow=7828,g.Zmonospace=65338,g.Zsmall=63354,g.Zstroke=437,g.a=97,g.aabengali=2438,g.aacute=225,g.aadeva=2310,g.aagujarati=2694,g.aagurmukhi=2566,g.aamatragurmukhi=2622,g.aarusquare=13059,g.aavowelsignbengali=2494,g.aavowelsigndeva=2366,g.aavowelsigngujarati=2750,g.abbreviationmarkarmenian=1375,g.abbreviationsigndeva=2416,g.abengali=2437,g.abopomofo=12570,g.abreve=259,g.abreveacute=7855,g.abrevecyrillic=1233,g.abrevedotbelow=7863,g.abrevegrave=7857,g.abrevehookabove=7859,g.abrevetilde=7861,g.acaron=462,g.acircle=9424,g.acircumflex=226,g.acircumflexacute=7845,g.acircumflexdotbelow=7853,g.acircumflexgrave=7847,g.acircumflexhookabove=7849,g.acircumflextilde=7851,g.acute=180,g.acutebelowcmb=791,g.acutecmb=769,g.acutecomb=769,g.acutedeva=2388,g.acutelowmod=719,g.acutetonecmb=833,g.acyrillic=1072,g.adblgrave=513,g.addakgurmukhi=2673,g.adeva=2309,g.adieresis=228,g.adieresiscyrillic=1235,g.adieresismacron=479,g.adotbelow=7841,g.adotmacron=481,g.ae=230,g.aeacute=509,g.aekorean=12624,g.aemacron=483,g.afii00208=8213,g.afii08941=8356,g.afii10017=1040,g.afii10018=1041,g.afii10019=1042,g.afii10020=1043,g.afii10021=1044,g.afii10022=1045,g.afii10023=1025,g.afii10024=1046,g.afii10025=1047,g.afii10026=1048,g.afii10027=1049,g.afii10028=1050,g.afii10029=1051,g.afii10030=1052,g.afii10031=1053,g.afii10032=1054,g.afii10033=1055,g.afii10034=1056,g.afii10035=1057,g.afii10036=1058,g.afii10037=1059,g.afii10038=1060,g.afii10039=1061,g.afii10040=1062,g.afii10041=1063,g.afii10042=1064,g.afii10043=1065,g.afii10044=1066,g.afii10045=1067,g.afii10046=1068,g.afii10047=1069,g.afii10048=1070,g.afii10049=1071,g.afii10050=1168,g.afii10051=1026,g.afii10052=1027,g.afii10053=1028,g.afii10054=1029,g.afii10055=1030,g.afii10056=1031,g.afii10057=1032,g.afii10058=1033,g.afii10059=1034,g.afii10060=1035,g.afii10061=1036,g.afii10062=1038,g.afii10063=63172,g.afii10064=63173,g.afii10065=1072,g.afii10066=1073,g.afii10067=1074,g.afii10068=1075,g.afii10069=1076,g.afii10070=1077,g.afii10071=1105,g.afii10072=1078,g.afii10073=1079,g.afii10074=1080,g.afii10075=1081,g.afii10076=1082,g.afii10077=1083,g.afii10078=1084,g.afii10079=1085,g.afii10080=1086,g.afii10081=1087,g.afii10082=1088,g.afii10083=1089,g.afii10084=1090,g.afii10085=1091,g.afii10086=1092,g.afii10087=1093,g.afii10088=1094,g.afii10089=1095,g.afii10090=1096,g.afii10091=1097,g.afii10092=1098,g.afii10093=1099,g.afii10094=1100,g.afii10095=1101,g.afii10096=1102,g.afii10097=1103,g.afii10098=1169,g.afii10099=1106,g.afii10100=1107,g.afii10101=1108,g.afii10102=1109,g.afii10103=1110,g.afii10104=1111,g.afii10105=1112,g.afii10106=1113,g.afii10107=1114,g.afii10108=1115,g.afii10109=1116,g.afii10110=1118,g.afii10145=1039,g.afii10146=1122,g.afii10147=1138,g.afii10148=1140,g.afii10192=63174,g.afii10193=1119,g.afii10194=1123,g.afii10195=1139,g.afii10196=1141,g.afii10831=63175,g.afii10832=63176,g.afii10846=1241,g.afii299=8206,g.afii300=8207,g.afii301=8205,g.afii57381=1642,g.afii57388=1548,g.afii57392=1632,g.afii57393=1633,g.afii57394=1634,g.afii57395=1635,g.afii57396=1636,g.afii57397=1637,g.afii57398=1638,g.afii57399=1639,g.afii57400=1640,g.afii57401=1641,g.afii57403=1563,g.afii57407=1567,g.afii57409=1569,g.afii57410=1570,g.afii57411=1571,g.afii57412=1572,g.afii57413=1573,g.afii57414=1574,g.afii57415=1575,g.afii57416=1576,g.afii57417=1577,g.afii57418=1578,g.afii57419=1579,g.afii57420=1580,g.afii57421=1581,g.afii57422=1582,g.afii57423=1583,g.afii57424=1584,g.afii57425=1585,g.afii57426=1586,g.afii57427=1587,g.afii57428=1588,g.afii57429=1589,g.afii57430=1590,g.afii57431=1591,g.afii57432=1592,g.afii57433=1593,g.afii57434=1594,g.afii57440=1600,g.afii57441=1601,g.afii57442=1602,g.afii57443=1603,g.afii57444=1604,g.afii57445=1605,g.afii57446=1606,g.afii57448=1608,g.afii57449=1609,g.afii57450=1610,g.afii57451=1611,g.afii57452=1612,g.afii57453=1613,g.afii57454=1614,g.afii57455=1615,g.afii57456=1616,g.afii57457=1617,g.afii57458=1618,g.afii57470=1607,g.afii57505=1700,g.afii57506=1662,g.afii57507=1670,g.afii57508=1688,g.afii57509=1711,g.afii57511=1657,g.afii57512=1672,g.afii57513=1681,g.afii57514=1722,g.afii57519=1746,g.afii57534=1749,g.afii57636=8362,g.afii57645=1470,g.afii57658=1475,g.afii57664=1488,g.afii57665=1489,g.afii57666=1490,g.afii57667=1491,g.afii57668=1492,g.afii57669=1493,g.afii57670=1494,g.afii57671=1495,g.afii57672=1496,g.afii57673=1497,g.afii57674=1498,g.afii57675=1499,g.afii57676=1500,g.afii57677=1501,g.afii57678=1502,g.afii57679=1503,g.afii57680=1504,g.afii57681=1505,g.afii57682=1506,g.afii57683=1507,g.afii57684=1508,g.afii57685=1509,g.afii57686=1510,g.afii57687=1511,g.afii57688=1512,g.afii57689=1513,g.afii57690=1514,g.afii57694=64298,g.afii57695=64299,g.afii57700=64331,g.afii57705=64287,g.afii57716=1520,g.afii57717=1521,g.afii57718=1522,g.afii57723=64309,g.afii57793=1460,g.afii57794=1461,g.afii57795=1462,g.afii57796=1467,g.afii57797=1464,g.afii57798=1463,g.afii57799=1456,g.afii57800=1458,g.afii57801=1457,g.afii57802=1459,g.afii57803=1474,g.afii57804=1473,g.afii57806=1465,g.afii57807=1468,g.afii57839=1469,g.afii57841=1471,g.afii57842=1472,g.afii57929=700,g.afii61248=8453,g.afii61289=8467,g.afii61352=8470,g.afii61573=8236,g.afii61574=8237,g.afii61575=8238,g.afii61664=8204,g.afii63167=1645,g.afii64937=701,g.agrave=224,g.agujarati=2693,g.agurmukhi=2565,g.ahiragana=12354,g.ahookabove=7843,g.aibengali=2448,g.aibopomofo=12574,g.aideva=2320,g.aiecyrillic=1237,g.aigujarati=2704,g.aigurmukhi=2576,g.aimatragurmukhi=2632,g.ainarabic=1593,g.ainfinalarabic=65226,g.aininitialarabic=65227,g.ainmedialarabic=65228,g.ainvertedbreve=515,g.aivowelsignbengali=2504,g.aivowelsigndeva=2376,g.aivowelsigngujarati=2760,g.akatakana=12450,g.akatakanahalfwidth=65393,g.akorean=12623,g.alef=1488,g.alefarabic=1575,g.alefdageshhebrew=64304,g.aleffinalarabic=65166,g.alefhamzaabovearabic=1571,g.alefhamzaabovefinalarabic=65156,g.alefhamzabelowarabic=1573,g.alefhamzabelowfinalarabic=65160,g.alefhebrew=1488,g.aleflamedhebrew=64335,g.alefmaddaabovearabic=1570,g.alefmaddaabovefinalarabic=65154,g.alefmaksuraarabic=1609,g.alefmaksurafinalarabic=65264,g.alefmaksurainitialarabic=65267,g.alefmaksuramedialarabic=65268,g.alefpatahhebrew=64302,g.alefqamatshebrew=64303,g.aleph=8501,g.allequal=8780,g.alpha=945,g.alphatonos=940,g.amacron=257,g.amonospace=65345,g.ampersand=38,g.ampersandmonospace=65286,g.ampersandsmall=63270,g.amsquare=13250,g.anbopomofo=12578,g.angbopomofo=12580,g.angbracketleft=12296,g.angbracketright=12297,g.angkhankhuthai=3674,g.angle=8736,g.anglebracketleft=12296,g.anglebracketleftvertical=65087,g.anglebracketright=12297,g.anglebracketrightvertical=65088,g.angleleft=9001,g.angleright=9002,g.angstrom=8491,g.anoteleia=903,g.anudattadeva=2386,g.anusvarabengali=2434,g.anusvaradeva=2306,g.anusvaragujarati=2690,g.aogonek=261,g.apaatosquare=13056,g.aparen=9372,g.apostrophearmenian=1370,g.apostrophemod=700,g.apple=63743,g.approaches=8784,g.approxequal=8776,g.approxequalorimage=8786,g.approximatelyequal=8773,g.araeaekorean=12686,g.araeakorean=12685,g.arc=8978,g.arighthalfring=7834,g.aring=229,g.aringacute=507,g.aringbelow=7681,g.arrowboth=8596,g.arrowdashdown=8675,g.arrowdashleft=8672,g.arrowdashright=8674,g.arrowdashup=8673,g.arrowdblboth=8660,g.arrowdbldown=8659,g.arrowdblleft=8656,g.arrowdblright=8658,g.arrowdblup=8657,g.arrowdown=8595,g.arrowdownleft=8601,g.arrowdownright=8600,g.arrowdownwhite=8681,g.arrowheaddownmod=709,g.arrowheadleftmod=706,g.arrowheadrightmod=707,g.arrowheadupmod=708,g.arrowhorizex=63719,g.arrowleft=8592,g.arrowleftdbl=8656,g.arrowleftdblstroke=8653,g.arrowleftoverright=8646,g.arrowleftwhite=8678,g.arrowright=8594,g.arrowrightdblstroke=8655,g.arrowrightheavy=10142,g.arrowrightoverleft=8644,g.arrowrightwhite=8680,g.arrowtableft=8676,g.arrowtabright=8677,g.arrowup=8593,g.arrowupdn=8597,g.arrowupdnbse=8616,g.arrowupdownbase=8616,g.arrowupleft=8598,g.arrowupleftofdown=8645,g.arrowupright=8599,g.arrowupwhite=8679,g.arrowvertex=63718,g.asciicircum=94,g.asciicircummonospace=65342,g.asciitilde=126,g.asciitildemonospace=65374,g.ascript=593,g.ascriptturned=594,g.asmallhiragana=12353,g.asmallkatakana=12449,g.asmallkatakanahalfwidth=65383,g.asterisk=42,g.asteriskaltonearabic=1645,g.asteriskarabic=1645,g.asteriskmath=8727,g.asteriskmonospace=65290,g.asterisksmall=65121,g.asterism=8258,g.asuperior=63209,g.asymptoticallyequal=8771,g.at=64,g.atilde=227,g.atmonospace=65312,g.atsmall=65131,g.aturned=592,g.aubengali=2452,g.aubopomofo=12576,g.audeva=2324,g.augujarati=2708,g.augurmukhi=2580,g.aulengthmarkbengali=2519,g.aumatragurmukhi=2636,g.auvowelsignbengali=2508,g.auvowelsigndeva=2380,g.auvowelsigngujarati=2764,g.avagrahadeva=2365,g.aybarmenian=1377,g.ayin=1506,g.ayinaltonehebrew=64288,g.ayinhebrew=1506,g.b=98,g.babengali=2476,g.backslash=92,g.backslashmonospace=65340,g.badeva=2348,g.bagujarati=2732,g.bagurmukhi=2604,g.bahiragana=12400,g.bahtthai=3647,g.bakatakana=12496,g.bar=124,g.barmonospace=65372,g.bbopomofo=12549,g.bcircle=9425,g.bdotaccent=7683,g.bdotbelow=7685,g.beamedsixteenthnotes=9836,g.because=8757,g.becyrillic=1073,g.beharabic=1576,g.behfinalarabic=65168,g.behinitialarabic=65169,g.behiragana=12409,g.behmedialarabic=65170,g.behmeeminitialarabic=64671,g.behmeemisolatedarabic=64520,g.behnoonfinalarabic=64621,g.bekatakana=12505,g.benarmenian=1378,g.bet=1489,g.beta=946,g.betasymbolgreek=976,g.betdagesh=64305,g.betdageshhebrew=64305,g.bethebrew=1489,g.betrafehebrew=64332,g.bhabengali=2477,g.bhadeva=2349,g.bhagujarati=2733,g.bhagurmukhi=2605,g.bhook=595,g.bihiragana=12403,g.bikatakana=12499,g.bilabialclick=664,g.bindigurmukhi=2562,g.birusquare=13105,g.blackcircle=9679,g.blackdiamond=9670,g.blackdownpointingtriangle=9660,g.blackleftpointingpointer=9668,g.blackleftpointingtriangle=9664,g.blacklenticularbracketleft=12304,g.blacklenticularbracketleftvertical=65083,g.blacklenticularbracketright=12305,g.blacklenticularbracketrightvertical=65084,g.blacklowerlefttriangle=9699,g.blacklowerrighttriangle=9698,g.blackrectangle=9644,g.blackrightpointingpointer=9658,g.blackrightpointingtriangle=9654,g.blacksmallsquare=9642,g.blacksmilingface=9787,g.blacksquare=9632,g.blackstar=9733,g.blackupperlefttriangle=9700,g.blackupperrighttriangle=9701,g.blackuppointingsmalltriangle=9652,g.blackuppointingtriangle=9650,g.blank=9251,g.blinebelow=7687,g.block=9608,g.bmonospace=65346,g.bobaimaithai=3610,g.bohiragana=12412,g.bokatakana=12508,g.bparen=9373,g.bqsquare=13251,g.braceex=63732,g.braceleft=123,g.braceleftbt=63731,g.braceleftmid=63730,g.braceleftmonospace=65371,g.braceleftsmall=65115,g.bracelefttp=63729,g.braceleftvertical=65079,g.braceright=125,g.bracerightbt=63742,g.bracerightmid=63741,g.bracerightmonospace=65373,g.bracerightsmall=65116,g.bracerighttp=63740,g.bracerightvertical=65080,g.bracketleft=91,g.bracketleftbt=63728,g.bracketleftex=63727,g.bracketleftmonospace=65339,g.bracketlefttp=63726,g.bracketright=93,g.bracketrightbt=63739,g.bracketrightex=63738,g.bracketrightmonospace=65341,g.bracketrighttp=63737,g.breve=728,g.brevebelowcmb=814,g.brevecmb=774,g.breveinvertedbelowcmb=815,g.breveinvertedcmb=785,g.breveinverteddoublecmb=865,g.bridgebelowcmb=810,g.bridgeinvertedbelowcmb=826,g.brokenbar=166,g.bstroke=384,g.bsuperior=63210,g.btopbar=387,g.buhiragana=12406,g.bukatakana=12502,g.bullet=8226,g.bulletinverse=9688,g.bulletoperator=8729,g.bullseye=9678,g.c=99,g.caarmenian=1390,g.cabengali=2458,g.cacute=263,g.cadeva=2330,g.cagujarati=2714,g.cagurmukhi=2586,g.calsquare=13192,g.candrabindubengali=2433,g.candrabinducmb=784,g.candrabindudeva=2305,g.candrabindugujarati=2689,g.capslock=8682,g.careof=8453,g.caron=711,g.caronbelowcmb=812,g.caroncmb=780,g.carriagereturn=8629,g.cbopomofo=12568,g.ccaron=269,g.ccedilla=231,g.ccedillaacute=7689,g.ccircle=9426,g.ccircumflex=265,g.ccurl=597,g.cdot=267,g.cdotaccent=267,g.cdsquare=13253,g.cedilla=184,g.cedillacmb=807,g.cent=162,g.centigrade=8451,g.centinferior=63199,g.centmonospace=65504,g.centoldstyle=63394,g.centsuperior=63200,g.chaarmenian=1401,g.chabengali=2459,g.chadeva=2331,g.chagujarati=2715,g.chagurmukhi=2587,g.chbopomofo=12564,g.cheabkhasiancyrillic=1213,g.checkmark=10003,g.checyrillic=1095,g.chedescenderabkhasiancyrillic=1215,g.chedescendercyrillic=1207,g.chedieresiscyrillic=1269,g.cheharmenian=1395,g.chekhakassiancyrillic=1228,g.cheverticalstrokecyrillic=1209,g.chi=967,g.chieuchacirclekorean=12919,g.chieuchaparenkorean=12823,g.chieuchcirclekorean=12905,g.chieuchkorean=12618,g.chieuchparenkorean=12809,g.chochangthai=3594,g.chochanthai=3592,g.chochingthai=3593,g.chochoethai=3596,g.chook=392,g.cieucacirclekorean=12918,g.cieucaparenkorean=12822,g.cieuccirclekorean=12904,g.cieuckorean=12616,g.cieucparenkorean=12808,g.cieucuparenkorean=12828,g.circle=9675,g.circlecopyrt=169,g.circlemultiply=8855,g.circleot=8857,g.circleplus=8853,g.circlepostalmark=12342,g.circlewithlefthalfblack=9680,g.circlewithrighthalfblack=9681,g.circumflex=710,g.circumflexbelowcmb=813,g.circumflexcmb=770,g.clear=8999,g.clickalveolar=450,g.clickdental=448,g.clicklateral=449,g.clickretroflex=451,g.club=9827,g.clubsuitblack=9827,g.clubsuitwhite=9831,g.cmcubedsquare=13220,g.cmonospace=65347,g.cmsquaredsquare=13216,g.coarmenian=1409,g.colon=58,g.colonmonetary=8353,g.colonmonospace=65306,g.colonsign=8353,g.colonsmall=65109,g.colontriangularhalfmod=721,g.colontriangularmod=720,g.comma=44,g.commaabovecmb=787,g.commaaboverightcmb=789,g.commaaccent=63171,g.commaarabic=1548,g.commaarmenian=1373,g.commainferior=63201,g.commamonospace=65292,g.commareversedabovecmb=788,g.commareversedmod=701,g.commasmall=65104,g.commasuperior=63202,g.commaturnedabovecmb=786,g.commaturnedmod=699,g.compass=9788,g.congruent=8773,g.contourintegral=8750,g.control=8963,g.controlACK=6,g.controlBEL=7,g.controlBS=8,g.controlCAN=24,g.controlCR=13,g.controlDC1=17,g.controlDC2=18,g.controlDC3=19,g.controlDC4=20,g.controlDEL=127,g.controlDLE=16,g.controlEM=25,g.controlENQ=5,g.controlEOT=4,g.controlESC=27,g.controlETB=23,g.controlETX=3,g.controlFF=12,g.controlFS=28,g.controlGS=29,g.controlHT=9,g.controlLF=10,g.controlNAK=21,g.controlNULL=0,g.controlRS=30,g.controlSI=15,g.controlSO=14,g.controlSOT=2,g.controlSTX=1,g.controlSUB=26,g.controlSYN=22,g.controlUS=31,g.controlVT=11,g.copyright=169,g.copyrightsans=63721,g.copyrightserif=63193,g.cornerbracketleft=12300,g.cornerbracketlefthalfwidth=65378,g.cornerbracketleftvertical=65089,g.cornerbracketright=12301,g.cornerbracketrighthalfwidth=65379,g.cornerbracketrightvertical=65090,g.corporationsquare=13183,g.cosquare=13255,g.coverkgsquare=13254,g.cparen=9374,g.cruzeiro=8354,g.cstretched=663,g.curlyand=8911,g.curlyor=8910,g.currency=164,g.cyrBreve=63185,g.cyrFlex=63186,g.cyrbreve=63188,g.cyrflex=63189,g.d=100,g.daarmenian=1380,g.dabengali=2470,g.dadarabic=1590,g.dadeva=2342,g.dadfinalarabic=65214,g.dadinitialarabic=65215,g.dadmedialarabic=65216,g.dagesh=1468,g.dageshhebrew=1468,g.dagger=8224,g.daggerdbl=8225,g.dagujarati=2726,g.dagurmukhi=2598,g.dahiragana=12384,g.dakatakana=12480,g.dalarabic=1583,g.dalet=1491,g.daletdagesh=64307,g.daletdageshhebrew=64307,g.dalethebrew=1491,g.dalfinalarabic=65194,g.dammaarabic=1615,g.dammalowarabic=1615,g.dammatanaltonearabic=1612,g.dammatanarabic=1612,g.danda=2404,g.dargahebrew=1447,g.dargalefthebrew=1447,g.dasiapneumatacyrilliccmb=1157,g.dblGrave=63187,g.dblanglebracketleft=12298,g.dblanglebracketleftvertical=65085,g.dblanglebracketright=12299,g.dblanglebracketrightvertical=65086,g.dblarchinvertedbelowcmb=811,g.dblarrowleft=8660,g.dblarrowright=8658,g.dbldanda=2405,g.dblgrave=63190,g.dblgravecmb=783,g.dblintegral=8748,g.dbllowline=8215,g.dbllowlinecmb=819,g.dbloverlinecmb=831,g.dblprimemod=698,g.dblverticalbar=8214,g.dblverticallineabovecmb=782,g.dbopomofo=12553,g.dbsquare=13256,g.dcaron=271,g.dcedilla=7697,g.dcircle=9427,g.dcircumflexbelow=7699,g.dcroat=273,g.ddabengali=2465,g.ddadeva=2337,g.ddagujarati=2721,g.ddagurmukhi=2593,g.ddalarabic=1672,g.ddalfinalarabic=64393,g.dddhadeva=2396,g.ddhabengali=2466,g.ddhadeva=2338,g.ddhagujarati=2722,g.ddhagurmukhi=2594,g.ddotaccent=7691,g.ddotbelow=7693,g.decimalseparatorarabic=1643,g.decimalseparatorpersian=1643,g.decyrillic=1076,g.degree=176,g.dehihebrew=1453,g.dehiragana=12391,g.deicoptic=1007,g.dekatakana=12487,g.deleteleft=9003,g.deleteright=8998,g.delta=948,g.deltaturned=397,g.denominatorminusonenumeratorbengali=2552,g.dezh=676,g.dhabengali=2471,g.dhadeva=2343,g.dhagujarati=2727,g.dhagurmukhi=2599,g.dhook=599,g.dialytikatonos=901,g.dialytikatonoscmb=836,g.diamond=9830,g.diamondsuitwhite=9826,g.dieresis=168,g.dieresisacute=63191,g.dieresisbelowcmb=804,g.dieresiscmb=776,g.dieresisgrave=63192,g.dieresistonos=901,g.dihiragana=12386,g.dikatakana=12482,g.dittomark=12291,g.divide=247,g.divides=8739,g.divisionslash=8725,g.djecyrillic=1106,g.dkshade=9619,g.dlinebelow=7695,g.dlsquare=13207,g.dmacron=273,g.dmonospace=65348,g.dnblock=9604,g.dochadathai=3598,g.dodekthai=3604,g.dohiragana=12393,g.dokatakana=12489,g.dollar=36,g.dollarinferior=63203,g.dollarmonospace=65284,g.dollaroldstyle=63268,g.dollarsmall=65129,g.dollarsuperior=63204,g.dong=8363,g.dorusquare=13094,g.dotaccent=729,g.dotaccentcmb=775,g.dotbelowcmb=803,g.dotbelowcomb=803,g.dotkatakana=12539,g.dotlessi=305,g.dotlessj=63166,g.dotlessjstrokehook=644,g.dotmath=8901,g.dottedcircle=9676,g.doubleyodpatah=64287,g.doubleyodpatahhebrew=64287,g.downtackbelowcmb=798,g.downtackmod=725,g.dparen=9375,g.dsuperior=63211,g.dtail=598,g.dtopbar=396,g.duhiragana=12389,g.dukatakana=12485,g.dz=499,g.dzaltone=675,g.dzcaron=454,g.dzcurl=677,g.dzeabkhasiancyrillic=1249,g.dzecyrillic=1109,g.dzhecyrillic=1119,g.e=101,g.eacute=233,g.earth=9793,g.ebengali=2447,g.ebopomofo=12572,g.ebreve=277,g.ecandradeva=2317,g.ecandragujarati=2701,g.ecandravowelsigndeva=2373,g.ecandravowelsigngujarati=2757,g.ecaron=283,g.ecedillabreve=7709,g.echarmenian=1381,g.echyiwnarmenian=1415,g.ecircle=9428,g.ecircumflex=234,g.ecircumflexacute=7871,g.ecircumflexbelow=7705,g.ecircumflexdotbelow=7879,g.ecircumflexgrave=7873,g.ecircumflexhookabove=7875,g.ecircumflextilde=7877,g.ecyrillic=1108,g.edblgrave=517,g.edeva=2319,g.edieresis=235,g.edot=279,g.edotaccent=279,g.edotbelow=7865,g.eegurmukhi=2575,g.eematragurmukhi=2631,g.efcyrillic=1092,g.egrave=232,g.egujarati=2703,g.eharmenian=1383,g.ehbopomofo=12573,g.ehiragana=12360,g.ehookabove=7867,g.eibopomofo=12575,g.eight=56,g.eightarabic=1640,g.eightbengali=2542,g.eightcircle=9319,g.eightcircleinversesansserif=10129,g.eightdeva=2414,g.eighteencircle=9329,g.eighteenparen=9349,g.eighteenperiod=9369,g.eightgujarati=2798,g.eightgurmukhi=2670,g.eighthackarabic=1640,g.eighthangzhou=12328,g.eighthnotebeamed=9835,g.eightideographicparen=12839,g.eightinferior=8328,g.eightmonospace=65304,g.eightoldstyle=63288,g.eightparen=9339,g.eightperiod=9359,g.eightpersian=1784,g.eightroman=8567,g.eightsuperior=8312,g.eightthai=3672,g.einvertedbreve=519,g.eiotifiedcyrillic=1125,g.ekatakana=12456,g.ekatakanahalfwidth=65396,g.ekonkargurmukhi=2676,g.ekorean=12628,g.elcyrillic=1083,g.element=8712,g.elevencircle=9322,g.elevenparen=9342,g.elevenperiod=9362,g.elevenroman=8570,g.ellipsis=8230,g.ellipsisvertical=8942,g.emacron=275,g.emacronacute=7703,g.emacrongrave=7701,g.emcyrillic=1084,g.emdash=8212,g.emdashvertical=65073,g.emonospace=65349,g.emphasismarkarmenian=1371,g.emptyset=8709,g.enbopomofo=12579,g.encyrillic=1085,g.endash=8211,g.endashvertical=65074,g.endescendercyrillic=1187,g.eng=331,g.engbopomofo=12581,g.enghecyrillic=1189,g.enhookcyrillic=1224,g.enspace=8194,g.eogonek=281,g.eokorean=12627,g.eopen=603,g.eopenclosed=666,g.eopenreversed=604,g.eopenreversedclosed=606,g.eopenreversedhook=605,g.eparen=9376,g.epsilon=949,g.epsilontonos=941,g.equal=61,g.equalmonospace=65309,g.equalsmall=65126,g.equalsuperior=8316,g.equivalence=8801,g.erbopomofo=12582,g.ercyrillic=1088,g.ereversed=600,g.ereversedcyrillic=1101,g.escyrillic=1089,g.esdescendercyrillic=1195,g.esh=643,g.eshcurl=646,g.eshortdeva=2318,g.eshortvowelsigndeva=2374,g.eshreversedloop=426,g.eshsquatreversed=645,g.esmallhiragana=12359,g.esmallkatakana=12455,g.esmallkatakanahalfwidth=65386,g.estimated=8494,g.esuperior=63212,g.eta=951,g.etarmenian=1384,g.etatonos=942,g.eth=240,g.etilde=7869,g.etildebelow=7707,g.etnahtafoukhhebrew=1425,g.etnahtafoukhlefthebrew=1425,g.etnahtahebrew=1425,g.etnahtalefthebrew=1425,g.eturned=477,g.eukorean=12641,g.euro=8364,g.evowelsignbengali=2503,g.evowelsigndeva=2375,g.evowelsigngujarati=2759,g.exclam=33,g.exclamarmenian=1372,g.exclamdbl=8252,g.exclamdown=161,g.exclamdownsmall=63393,g.exclammonospace=65281,g.exclamsmall=63265,g.existential=8707,g.ezh=658,g.ezhcaron=495,g.ezhcurl=659,g.ezhreversed=441,g.ezhtail=442,g.f=102,g.fadeva=2398,g.fagurmukhi=2654,g.fahrenheit=8457,g.fathaarabic=1614,g.fathalowarabic=1614,g.fathatanarabic=1611,g.fbopomofo=12552,g.fcircle=9429,g.fdotaccent=7711,g.feharabic=1601,g.feharmenian=1414,g.fehfinalarabic=65234,g.fehinitialarabic=65235,g.fehmedialarabic=65236,g.feicoptic=997,g.female=9792,g.ff=64256,g.f_f=64256,g.ffi=64259,g.f_f_i=64259,g.ffl=64260,g.f_f_l=64260,g.fi=64257,g.f_i=64257,g.fifteencircle=9326,g.fifteenparen=9346,g.fifteenperiod=9366,g.figuredash=8210,g.filledbox=9632,g.filledrect=9644,g.finalkaf=1498,g.finalkafdagesh=64314,g.finalkafdageshhebrew=64314,g.finalkafhebrew=1498,g.finalmem=1501,g.finalmemhebrew=1501,g.finalnun=1503,g.finalnunhebrew=1503,g.finalpe=1507,g.finalpehebrew=1507,g.finaltsadi=1509,g.finaltsadihebrew=1509,g.firsttonechinese=713,g.fisheye=9673,g.fitacyrillic=1139,g.five=53,g.fivearabic=1637,g.fivebengali=2539,g.fivecircle=9316,g.fivecircleinversesansserif=10126,g.fivedeva=2411,g.fiveeighths=8541,g.fivegujarati=2795,g.fivegurmukhi=2667,g.fivehackarabic=1637,g.fivehangzhou=12325,g.fiveideographicparen=12836,g.fiveinferior=8325,g.fivemonospace=65301,g.fiveoldstyle=63285,g.fiveparen=9336,g.fiveperiod=9356,g.fivepersian=1781,g.fiveroman=8564,g.fivesuperior=8309,g.fivethai=3669,g.fl=64258,g.f_l=64258,g.florin=402,g.fmonospace=65350,g.fmsquare=13209,g.fofanthai=3615,g.fofathai=3613,g.fongmanthai=3663,g.forall=8704,g.four=52,g.fourarabic=1636,g.fourbengali=2538,g.fourcircle=9315,g.fourcircleinversesansserif=10125,g.fourdeva=2410,g.fourgujarati=2794,g.fourgurmukhi=2666,g.fourhackarabic=1636,g.fourhangzhou=12324,g.fourideographicparen=12835,g.fourinferior=8324,g.fourmonospace=65300,g.fournumeratorbengali=2551,g.fouroldstyle=63284,g.fourparen=9335,g.fourperiod=9355,g.fourpersian=1780,g.fourroman=8563,g.foursuperior=8308,g.fourteencircle=9325,g.fourteenparen=9345,g.fourteenperiod=9365,g.fourthai=3668,g.fourthtonechinese=715,g.fparen=9377,g.fraction=8260,g.franc=8355,g.g=103,g.gabengali=2455,g.gacute=501,g.gadeva=2327,g.gafarabic=1711,g.gaffinalarabic=64403,g.gafinitialarabic=64404,g.gafmedialarabic=64405,g.gagujarati=2711,g.gagurmukhi=2583,g.gahiragana=12364,g.gakatakana=12460,g.gamma=947,g.gammalatinsmall=611,g.gammasuperior=736,g.gangiacoptic=1003,g.gbopomofo=12557,g.gbreve=287,g.gcaron=487,g.gcedilla=291,g.gcircle=9430,g.gcircumflex=285,g.gcommaaccent=291,g.gdot=289,g.gdotaccent=289,g.gecyrillic=1075,g.gehiragana=12370,g.gekatakana=12466,g.geometricallyequal=8785,g.gereshaccenthebrew=1436,g.gereshhebrew=1523,g.gereshmuqdamhebrew=1437,g.germandbls=223,g.gershayimaccenthebrew=1438,g.gershayimhebrew=1524,g.getamark=12307,g.ghabengali=2456,g.ghadarmenian=1394,g.ghadeva=2328,g.ghagujarati=2712,g.ghagurmukhi=2584,g.ghainarabic=1594,g.ghainfinalarabic=65230,g.ghaininitialarabic=65231,g.ghainmedialarabic=65232,g.ghemiddlehookcyrillic=1173,g.ghestrokecyrillic=1171,g.gheupturncyrillic=1169,g.ghhadeva=2394,g.ghhagurmukhi=2650,g.ghook=608,g.ghzsquare=13203,g.gihiragana=12366,g.gikatakana=12462,g.gimarmenian=1379,g.gimel=1490,g.gimeldagesh=64306,g.gimeldageshhebrew=64306,g.gimelhebrew=1490,g.gjecyrillic=1107,g.glottalinvertedstroke=446,g.glottalstop=660,g.glottalstopinverted=662,g.glottalstopmod=704,g.glottalstopreversed=661,g.glottalstopreversedmod=705,g.glottalstopreversedsuperior=740,g.glottalstopstroke=673,g.glottalstopstrokereversed=674,g.gmacron=7713,g.gmonospace=65351,g.gohiragana=12372,g.gokatakana=12468,g.gparen=9378,g.gpasquare=13228,g.gradient=8711,g.grave=96,g.gravebelowcmb=790,g.gravecmb=768,g.gravecomb=768,g.gravedeva=2387,g.gravelowmod=718,g.gravemonospace=65344,g.gravetonecmb=832,g.greater=62,g.greaterequal=8805,g.greaterequalorless=8923,g.greatermonospace=65310,g.greaterorequivalent=8819,g.greaterorless=8823,g.greateroverequal=8807,g.greatersmall=65125,g.gscript=609,g.gstroke=485,g.guhiragana=12368,g.guillemotleft=171,g.guillemotright=187,g.guilsinglleft=8249,g.guilsinglright=8250,g.gukatakana=12464,g.guramusquare=13080,g.gysquare=13257,g.h=104,g.haabkhasiancyrillic=1193,g.haaltonearabic=1729,g.habengali=2489,g.hadescendercyrillic=1203,g.hadeva=2361,g.hagujarati=2745,g.hagurmukhi=2617,g.haharabic=1581,g.hahfinalarabic=65186,g.hahinitialarabic=65187,g.hahiragana=12399,g.hahmedialarabic=65188,g.haitusquare=13098,g.hakatakana=12495,g.hakatakanahalfwidth=65418,g.halantgurmukhi=2637,g.hamzaarabic=1569,g.hamzalowarabic=1569,g.hangulfiller=12644,g.hardsigncyrillic=1098,g.harpoonleftbarbup=8636,g.harpoonrightbarbup=8640,g.hasquare=13258,g.hatafpatah=1458,g.hatafpatah16=1458,g.hatafpatah23=1458,g.hatafpatah2f=1458,g.hatafpatahhebrew=1458,g.hatafpatahnarrowhebrew=1458,g.hatafpatahquarterhebrew=1458,g.hatafpatahwidehebrew=1458,g.hatafqamats=1459,g.hatafqamats1b=1459,g.hatafqamats28=1459,g.hatafqamats34=1459,g.hatafqamatshebrew=1459,g.hatafqamatsnarrowhebrew=1459,g.hatafqamatsquarterhebrew=1459,g.hatafqamatswidehebrew=1459,g.hatafsegol=1457,g.hatafsegol17=1457,g.hatafsegol24=1457,g.hatafsegol30=1457,g.hatafsegolhebrew=1457,g.hatafsegolnarrowhebrew=1457,g.hatafsegolquarterhebrew=1457,g.hatafsegolwidehebrew=1457,g.hbar=295,g.hbopomofo=12559,g.hbrevebelow=7723,g.hcedilla=7721,g.hcircle=9431,g.hcircumflex=293,g.hdieresis=7719,g.hdotaccent=7715,g.hdotbelow=7717,g.he=1492,g.heart=9829,g.heartsuitblack=9829,g.heartsuitwhite=9825,g.hedagesh=64308,g.hedageshhebrew=64308,g.hehaltonearabic=1729,g.heharabic=1607,g.hehebrew=1492,g.hehfinalaltonearabic=64423,g.hehfinalalttwoarabic=65258,g.hehfinalarabic=65258,g.hehhamzaabovefinalarabic=64421,g.hehhamzaaboveisolatedarabic=64420,g.hehinitialaltonearabic=64424,g.hehinitialarabic=65259,g.hehiragana=12408,g.hehmedialaltonearabic=64425,g.hehmedialarabic=65260,g.heiseierasquare=13179,g.hekatakana=12504,g.hekatakanahalfwidth=65421,g.hekutaarusquare=13110,g.henghook=615,g.herutusquare=13113,g.het=1495,g.hethebrew=1495,g.hhook=614,g.hhooksuperior=689,g.hieuhacirclekorean=12923,g.hieuhaparenkorean=12827,g.hieuhcirclekorean=12909,g.hieuhkorean=12622,g.hieuhparenkorean=12813,g.hihiragana=12402,g.hikatakana=12498,g.hikatakanahalfwidth=65419,g.hiriq=1460,g.hiriq14=1460,g.hiriq21=1460,g.hiriq2d=1460,g.hiriqhebrew=1460,g.hiriqnarrowhebrew=1460,g.hiriqquarterhebrew=1460,g.hiriqwidehebrew=1460,g.hlinebelow=7830,g.hmonospace=65352,g.hoarmenian=1392,g.hohipthai=3627,g.hohiragana=12411,g.hokatakana=12507,g.hokatakanahalfwidth=65422,g.holam=1465,g.holam19=1465,g.holam26=1465,g.holam32=1465,g.holamhebrew=1465,g.holamnarrowhebrew=1465,g.holamquarterhebrew=1465,g.holamwidehebrew=1465,g.honokhukthai=3630,g.hookabovecomb=777,g.hookcmb=777,g.hookpalatalizedbelowcmb=801,g.hookretroflexbelowcmb=802,g.hoonsquare=13122,g.horicoptic=1001,g.horizontalbar=8213,g.horncmb=795,g.hotsprings=9832,g.house=8962,g.hparen=9379,g.hsuperior=688,g.hturned=613,g.huhiragana=12405,g.huiitosquare=13107,g.hukatakana=12501,g.hukatakanahalfwidth=65420,g.hungarumlaut=733,g.hungarumlautcmb=779,g.hv=405,g.hyphen=45,g.hypheninferior=63205,g.hyphenmonospace=65293,g.hyphensmall=65123,g.hyphensuperior=63206,g.hyphentwo=8208,g.i=105,g.iacute=237,g.iacyrillic=1103,g.ibengali=2439,g.ibopomofo=12583,g.ibreve=301,g.icaron=464,g.icircle=9432,g.icircumflex=238,g.icyrillic=1110,g.idblgrave=521,g.ideographearthcircle=12943,g.ideographfirecircle=12939,g.ideographicallianceparen=12863,g.ideographiccallparen=12858,g.ideographiccentrecircle=12965,g.ideographicclose=12294,g.ideographiccomma=12289,g.ideographiccommaleft=65380,g.ideographiccongratulationparen=12855,g.ideographiccorrectcircle=12963,g.ideographicearthparen=12847,g.ideographicenterpriseparen=12861,g.ideographicexcellentcircle=12957,g.ideographicfestivalparen=12864,g.ideographicfinancialcircle=12950,g.ideographicfinancialparen=12854,g.ideographicfireparen=12843,g.ideographichaveparen=12850,g.ideographichighcircle=12964,g.ideographiciterationmark=12293,g.ideographiclaborcircle=12952,g.ideographiclaborparen=12856,g.ideographicleftcircle=12967,g.ideographiclowcircle=12966,g.ideographicmedicinecircle=12969,g.ideographicmetalparen=12846,g.ideographicmoonparen=12842,g.ideographicnameparen=12852,g.ideographicperiod=12290,g.ideographicprintcircle=12958,g.ideographicreachparen=12867,g.ideographicrepresentparen=12857,g.ideographicresourceparen=12862,g.ideographicrightcircle=12968,g.ideographicsecretcircle=12953,g.ideographicselfparen=12866,g.ideographicsocietyparen=12851,g.ideographicspace=12288,g.ideographicspecialparen=12853,g.ideographicstockparen=12849,g.ideographicstudyparen=12859,g.ideographicsunparen=12848,g.ideographicsuperviseparen=12860,g.ideographicwaterparen=12844,g.ideographicwoodparen=12845,g.ideographiczero=12295,g.ideographmetalcircle=12942,g.ideographmooncircle=12938,g.ideographnamecircle=12948,g.ideographsuncircle=12944,g.ideographwatercircle=12940,g.ideographwoodcircle=12941,g.ideva=2311,g.idieresis=239,g.idieresisacute=7727,g.idieresiscyrillic=1253,g.idotbelow=7883,g.iebrevecyrillic=1239,g.iecyrillic=1077,g.ieungacirclekorean=12917,g.ieungaparenkorean=12821,g.ieungcirclekorean=12903,g.ieungkorean=12615,g.ieungparenkorean=12807,g.igrave=236,g.igujarati=2695,g.igurmukhi=2567,g.ihiragana=12356,g.ihookabove=7881,g.iibengali=2440,g.iicyrillic=1080,g.iideva=2312,g.iigujarati=2696,g.iigurmukhi=2568,g.iimatragurmukhi=2624,g.iinvertedbreve=523,g.iishortcyrillic=1081,g.iivowelsignbengali=2496,g.iivowelsigndeva=2368,g.iivowelsigngujarati=2752,g.ij=307,g.ikatakana=12452,g.ikatakanahalfwidth=65394,g.ikorean=12643,g.ilde=732,g.iluyhebrew=1452,g.imacron=299,g.imacroncyrillic=1251,g.imageorapproximatelyequal=8787,g.imatragurmukhi=2623,g.imonospace=65353,g.increment=8710,g.infinity=8734,g.iniarmenian=1387,g.integral=8747,g.integralbottom=8993,g.integralbt=8993,g.integralex=63733,g.integraltop=8992,g.integraltp=8992,g.intersection=8745,g.intisquare=13061,g.invbullet=9688,g.invcircle=9689,g.invsmileface=9787,g.iocyrillic=1105,g.iogonek=303,g.iota=953,g.iotadieresis=970,g.iotadieresistonos=912,g.iotalatin=617,g.iotatonos=943,g.iparen=9380,g.irigurmukhi=2674,g.ismallhiragana=12355,g.ismallkatakana=12451,g.ismallkatakanahalfwidth=65384,g.issharbengali=2554,g.istroke=616,g.isuperior=63213,g.iterationhiragana=12445,g.iterationkatakana=12541,g.itilde=297,g.itildebelow=7725,g.iubopomofo=12585,g.iucyrillic=1102,g.ivowelsignbengali=2495,g.ivowelsigndeva=2367,g.ivowelsigngujarati=2751,g.izhitsacyrillic=1141,g.izhitsadblgravecyrillic=1143,g.j=106,g.jaarmenian=1393,g.jabengali=2460,g.jadeva=2332,g.jagujarati=2716,g.jagurmukhi=2588,g.jbopomofo=12560,g.jcaron=496,g.jcircle=9433,g.jcircumflex=309,g.jcrossedtail=669,g.jdotlessstroke=607,g.jecyrillic=1112,g.jeemarabic=1580,g.jeemfinalarabic=65182,g.jeeminitialarabic=65183,g.jeemmedialarabic=65184,g.jeharabic=1688,g.jehfinalarabic=64395,g.jhabengali=2461,g.jhadeva=2333,g.jhagujarati=2717,g.jhagurmukhi=2589,g.jheharmenian=1403,g.jis=12292,g.jmonospace=65354,g.jparen=9381,g.jsuperior=690,g.k=107,g.kabashkircyrillic=1185,g.kabengali=2453,g.kacute=7729,g.kacyrillic=1082,g.kadescendercyrillic=1179,g.kadeva=2325,g.kaf=1499,g.kafarabic=1603,g.kafdagesh=64315,g.kafdageshhebrew=64315,g.kaffinalarabic=65242,g.kafhebrew=1499,g.kafinitialarabic=65243,g.kafmedialarabic=65244,g.kafrafehebrew=64333,g.kagujarati=2709,g.kagurmukhi=2581,g.kahiragana=12363,g.kahookcyrillic=1220,g.kakatakana=12459,g.kakatakanahalfwidth=65398,g.kappa=954,g.kappasymbolgreek=1008,g.kapyeounmieumkorean=12657,g.kapyeounphieuphkorean=12676,g.kapyeounpieupkorean=12664,g.kapyeounssangpieupkorean=12665,g.karoriisquare=13069,g.kashidaautoarabic=1600,g.kashidaautonosidebearingarabic=1600,g.kasmallkatakana=12533,g.kasquare=13188,g.kasraarabic=1616,g.kasratanarabic=1613,g.kastrokecyrillic=1183,g.katahiraprolongmarkhalfwidth=65392,g.kaverticalstrokecyrillic=1181,g.kbopomofo=12558,g.kcalsquare=13193,g.kcaron=489,g.kcedilla=311,g.kcircle=9434,g.kcommaaccent=311,g.kdotbelow=7731,g.keharmenian=1412,g.kehiragana=12369,g.kekatakana=12465,g.kekatakanahalfwidth=65401,g.kenarmenian=1391,g.kesmallkatakana=12534,g.kgreenlandic=312,g.khabengali=2454,g.khacyrillic=1093,g.khadeva=2326,g.khagujarati=2710,g.khagurmukhi=2582,g.khaharabic=1582,g.khahfinalarabic=65190,g.khahinitialarabic=65191,g.khahmedialarabic=65192,g.kheicoptic=999,g.khhadeva=2393,g.khhagurmukhi=2649,g.khieukhacirclekorean=12920,g.khieukhaparenkorean=12824,g.khieukhcirclekorean=12906,g.khieukhkorean=12619,g.khieukhparenkorean=12810,g.khokhaithai=3586,g.khokhonthai=3589,g.khokhuatthai=3587,g.khokhwaithai=3588,g.khomutthai=3675,g.khook=409,g.khorakhangthai=3590,g.khzsquare=13201,g.kihiragana=12365,g.kikatakana=12461,g.kikatakanahalfwidth=65399,g.kiroguramusquare=13077,g.kiromeetorusquare=13078,g.kirosquare=13076,g.kiyeokacirclekorean=12910,g.kiyeokaparenkorean=12814,g.kiyeokcirclekorean=12896,g.kiyeokkorean=12593,g.kiyeokparenkorean=12800,g.kiyeoksioskorean=12595,g.kjecyrillic=1116,g.klinebelow=7733,g.klsquare=13208,g.kmcubedsquare=13222,g.kmonospace=65355,g.kmsquaredsquare=13218,g.kohiragana=12371,g.kohmsquare=13248,g.kokaithai=3585,g.kokatakana=12467,g.kokatakanahalfwidth=65402,g.kooposquare=13086,g.koppacyrillic=1153,g.koreanstandardsymbol=12927,g.koroniscmb=835,g.kparen=9382,g.kpasquare=13226,g.ksicyrillic=1135,g.ktsquare=13263,g.kturned=670,g.kuhiragana=12367,g.kukatakana=12463,g.kukatakanahalfwidth=65400,g.kvsquare=13240,g.kwsquare=13246,g.l=108,g.labengali=2482,g.lacute=314,g.ladeva=2354,g.lagujarati=2738,g.lagurmukhi=2610,g.lakkhangyaothai=3653,g.lamaleffinalarabic=65276,g.lamalefhamzaabovefinalarabic=65272,g.lamalefhamzaaboveisolatedarabic=65271,g.lamalefhamzabelowfinalarabic=65274,g.lamalefhamzabelowisolatedarabic=65273,g.lamalefisolatedarabic=65275,g.lamalefmaddaabovefinalarabic=65270,g.lamalefmaddaaboveisolatedarabic=65269,g.lamarabic=1604,g.lambda=955,g.lambdastroke=411,g.lamed=1500,g.lameddagesh=64316,g.lameddageshhebrew=64316,g.lamedhebrew=1500,g.lamfinalarabic=65246,g.lamhahinitialarabic=64714,g.laminitialarabic=65247,g.lamjeeminitialarabic=64713,g.lamkhahinitialarabic=64715,g.lamlamhehisolatedarabic=65010,g.lammedialarabic=65248,g.lammeemhahinitialarabic=64904,g.lammeeminitialarabic=64716,g.largecircle=9711,g.lbar=410,g.lbelt=620,g.lbopomofo=12556,g.lcaron=318,g.lcedilla=316,g.lcircle=9435,g.lcircumflexbelow=7741,g.lcommaaccent=316,g.ldot=320,g.ldotaccent=320,g.ldotbelow=7735,g.ldotbelowmacron=7737,g.leftangleabovecmb=794,g.lefttackbelowcmb=792,g.less=60,g.lessequal=8804,g.lessequalorgreater=8922,g.lessmonospace=65308,g.lessorequivalent=8818,g.lessorgreater=8822,g.lessoverequal=8806,g.lesssmall=65124,g.lezh=622,g.lfblock=9612,g.lhookretroflex=621,g.lira=8356,g.liwnarmenian=1388,g.lj=457,g.ljecyrillic=1113,g.ll=63168,g.lladeva=2355,g.llagujarati=2739,g.llinebelow=7739,g.llladeva=2356,g.llvocalicbengali=2529,g.llvocalicdeva=2401,g.llvocalicvowelsignbengali=2531,g.llvocalicvowelsigndeva=2403,g.lmiddletilde=619,g.lmonospace=65356,g.lmsquare=13264,g.lochulathai=3628,g.logicaland=8743,g.logicalnot=172,g.logicalnotreversed=8976,g.logicalor=8744,g.lolingthai=3621,g.longs=383,g.lowlinecenterline=65102,g.lowlinecmb=818,g.lowlinedashed=65101,g.lozenge=9674,g.lparen=9383,g.lslash=322,g.lsquare=8467,g.lsuperior=63214,g.ltshade=9617,g.luthai=3622,g.lvocalicbengali=2444,g.lvocalicdeva=2316,g.lvocalicvowelsignbengali=2530,g.lvocalicvowelsigndeva=2402,g.lxsquare=13267,g.m=109,g.mabengali=2478,g.macron=175,g.macronbelowcmb=817,g.macroncmb=772,g.macronlowmod=717,g.macronmonospace=65507,g.macute=7743,g.madeva=2350,g.magujarati=2734,g.magurmukhi=2606,g.mahapakhhebrew=1444,g.mahapakhlefthebrew=1444,g.mahiragana=12414,g.maichattawalowleftthai=63637,g.maichattawalowrightthai=63636,g.maichattawathai=3659,g.maichattawaupperleftthai=63635,g.maieklowleftthai=63628,g.maieklowrightthai=63627,g.maiekthai=3656,g.maiekupperleftthai=63626,g.maihanakatleftthai=63620,g.maihanakatthai=3633,g.maitaikhuleftthai=63625,g.maitaikhuthai=3655,g.maitholowleftthai=63631,g.maitholowrightthai=63630,g.maithothai=3657,g.maithoupperleftthai=63629,g.maitrilowleftthai=63634,g.maitrilowrightthai=63633,g.maitrithai=3658,g.maitriupperleftthai=63632,g.maiyamokthai=3654,g.makatakana=12510,g.makatakanahalfwidth=65423,g.male=9794,g.mansyonsquare=13127,g.maqafhebrew=1470,g.mars=9794,g.masoracirclehebrew=1455,g.masquare=13187,g.mbopomofo=12551,g.mbsquare=13268,g.mcircle=9436,g.mcubedsquare=13221,g.mdotaccent=7745,g.mdotbelow=7747,g.meemarabic=1605,g.meemfinalarabic=65250,g.meeminitialarabic=65251,g.meemmedialarabic=65252,g.meemmeeminitialarabic=64721,g.meemmeemisolatedarabic=64584,g.meetorusquare=13133,g.mehiragana=12417,g.meizierasquare=13182,g.mekatakana=12513,g.mekatakanahalfwidth=65426,g.mem=1502,g.memdagesh=64318,g.memdageshhebrew=64318,g.memhebrew=1502,g.menarmenian=1396,g.merkhahebrew=1445,g.merkhakefulahebrew=1446,g.merkhakefulalefthebrew=1446,g.merkhalefthebrew=1445,g.mhook=625,g.mhzsquare=13202,g.middledotkatakanahalfwidth=65381,g.middot=183,g.mieumacirclekorean=12914,g.mieumaparenkorean=12818,g.mieumcirclekorean=12900,g.mieumkorean=12609,g.mieumpansioskorean=12656,g.mieumparenkorean=12804,g.mieumpieupkorean=12654,g.mieumsioskorean=12655,g.mihiragana=12415,g.mikatakana=12511,g.mikatakanahalfwidth=65424,g.minus=8722,g.minusbelowcmb=800,g.minuscircle=8854,g.minusmod=727,g.minusplus=8723,g.minute=8242,g.miribaarusquare=13130,g.mirisquare=13129,g.mlonglegturned=624,g.mlsquare=13206,g.mmcubedsquare=13219,g.mmonospace=65357,g.mmsquaredsquare=13215,g.mohiragana=12418,g.mohmsquare=13249,g.mokatakana=12514,g.mokatakanahalfwidth=65427,g.molsquare=13270,g.momathai=3617,g.moverssquare=13223,g.moverssquaredsquare=13224,g.mparen=9384,g.mpasquare=13227,g.mssquare=13235,g.msuperior=63215,g.mturned=623,g.mu=181,g.mu1=181,g.muasquare=13186,g.muchgreater=8811,g.muchless=8810,g.mufsquare=13196,g.mugreek=956,g.mugsquare=13197,g.muhiragana=12416,g.mukatakana=12512,g.mukatakanahalfwidth=65425,g.mulsquare=13205,g.multiply=215,g.mumsquare=13211,g.munahhebrew=1443,g.munahlefthebrew=1443,g.musicalnote=9834,g.musicalnotedbl=9835,g.musicflatsign=9837,g.musicsharpsign=9839,g.mussquare=13234,g.muvsquare=13238,g.muwsquare=13244,g.mvmegasquare=13241,g.mvsquare=13239,g.mwmegasquare=13247,g.mwsquare=13245,g.n=110,g.nabengali=2472,g.nabla=8711,g.nacute=324,g.nadeva=2344,g.nagujarati=2728,g.nagurmukhi=2600,g.nahiragana=12394,g.nakatakana=12490,g.nakatakanahalfwidth=65413,g.napostrophe=329,g.nasquare=13185,g.nbopomofo=12555,g.nbspace=160,g.ncaron=328,g.ncedilla=326,g.ncircle=9437,g.ncircumflexbelow=7755,g.ncommaaccent=326,g.ndotaccent=7749,g.ndotbelow=7751,g.nehiragana=12397,g.nekatakana=12493,g.nekatakanahalfwidth=65416,g.newsheqelsign=8362,g.nfsquare=13195,g.ngabengali=2457,g.ngadeva=2329,g.ngagujarati=2713,g.ngagurmukhi=2585,g.ngonguthai=3591,g.nhiragana=12435,g.nhookleft=626,g.nhookretroflex=627,g.nieunacirclekorean=12911,g.nieunaparenkorean=12815,g.nieuncieuckorean=12597,g.nieuncirclekorean=12897,g.nieunhieuhkorean=12598,g.nieunkorean=12596,g.nieunpansioskorean=12648,g.nieunparenkorean=12801,g.nieunsioskorean=12647,g.nieuntikeutkorean=12646,g.nihiragana=12395,g.nikatakana=12491,g.nikatakanahalfwidth=65414,g.nikhahitleftthai=63641,g.nikhahitthai=3661,g.nine=57,g.ninearabic=1641,g.ninebengali=2543,g.ninecircle=9320,g.ninecircleinversesansserif=10130,g.ninedeva=2415,g.ninegujarati=2799,g.ninegurmukhi=2671,g.ninehackarabic=1641,g.ninehangzhou=12329,g.nineideographicparen=12840,g.nineinferior=8329,g.ninemonospace=65305,g.nineoldstyle=63289,g.nineparen=9340,g.nineperiod=9360,g.ninepersian=1785,g.nineroman=8568,g.ninesuperior=8313,g.nineteencircle=9330,g.nineteenparen=9350,g.nineteenperiod=9370,g.ninethai=3673,g.nj=460,g.njecyrillic=1114,g.nkatakana=12531,g.nkatakanahalfwidth=65437,g.nlegrightlong=414,g.nlinebelow=7753,g.nmonospace=65358,g.nmsquare=13210,g.nnabengali=2467,g.nnadeva=2339,g.nnagujarati=2723,g.nnagurmukhi=2595,g.nnnadeva=2345,g.nohiragana=12398,g.nokatakana=12494,g.nokatakanahalfwidth=65417,g.nonbreakingspace=160,g.nonenthai=3603,g.nonuthai=3609,g.noonarabic=1606,g.noonfinalarabic=65254,g.noonghunnaarabic=1722,g.noonghunnafinalarabic=64415,g.nooninitialarabic=65255,g.noonjeeminitialarabic=64722,g.noonjeemisolatedarabic=64587,g.noonmedialarabic=65256,g.noonmeeminitialarabic=64725,g.noonmeemisolatedarabic=64590,g.noonnoonfinalarabic=64653,g.notcontains=8716,g.notelement=8713,g.notelementof=8713,g.notequal=8800,g.notgreater=8815,g.notgreaternorequal=8817,g.notgreaternorless=8825,g.notidentical=8802,g.notless=8814,g.notlessnorequal=8816,g.notparallel=8742,g.notprecedes=8832,g.notsubset=8836,g.notsucceeds=8833,g.notsuperset=8837,g.nowarmenian=1398,g.nparen=9385,g.nssquare=13233,g.nsuperior=8319,g.ntilde=241,g.nu=957,g.nuhiragana=12396,g.nukatakana=12492,g.nukatakanahalfwidth=65415,g.nuktabengali=2492,g.nuktadeva=2364,g.nuktagujarati=2748,g.nuktagurmukhi=2620,g.numbersign=35,g.numbersignmonospace=65283,g.numbersignsmall=65119,g.numeralsigngreek=884,g.numeralsignlowergreek=885,g.numero=8470,g.nun=1504,g.nundagesh=64320,g.nundageshhebrew=64320,g.nunhebrew=1504,g.nvsquare=13237,g.nwsquare=13243,g.nyabengali=2462,g.nyadeva=2334,g.nyagujarati=2718,g.nyagurmukhi=2590,g.o=111,g.oacute=243,g.oangthai=3629,g.obarred=629,g.obarredcyrillic=1257,g.obarreddieresiscyrillic=1259,g.obengali=2451,g.obopomofo=12571,g.obreve=335,g.ocandradeva=2321,g.ocandragujarati=2705,g.ocandravowelsigndeva=2377,g.ocandravowelsigngujarati=2761,g.ocaron=466,g.ocircle=9438,g.ocircumflex=244,g.ocircumflexacute=7889,g.ocircumflexdotbelow=7897,g.ocircumflexgrave=7891,g.ocircumflexhookabove=7893,g.ocircumflextilde=7895,g.ocyrillic=1086,g.odblacute=337,g.odblgrave=525,g.odeva=2323,g.odieresis=246,g.odieresiscyrillic=1255,g.odotbelow=7885,g.oe=339,g.oekorean=12634,g.ogonek=731,g.ogonekcmb=808,g.ograve=242,g.ogujarati=2707,g.oharmenian=1413,g.ohiragana=12362,g.ohookabove=7887,g.ohorn=417,g.ohornacute=7899,g.ohorndotbelow=7907,g.ohorngrave=7901,g.ohornhookabove=7903,g.ohorntilde=7905,g.ohungarumlaut=337,g.oi=419,g.oinvertedbreve=527,g.okatakana=12458,g.okatakanahalfwidth=65397,g.okorean=12631,g.olehebrew=1451,g.omacron=333,g.omacronacute=7763,g.omacrongrave=7761,g.omdeva=2384,g.omega=969,g.omega1=982,g.omegacyrillic=1121,g.omegalatinclosed=631,g.omegaroundcyrillic=1147,g.omegatitlocyrillic=1149,g.omegatonos=974,g.omgujarati=2768,g.omicron=959,g.omicrontonos=972,g.omonospace=65359,g.one=49,g.onearabic=1633,g.onebengali=2535,g.onecircle=9312,g.onecircleinversesansserif=10122,g.onedeva=2407,g.onedotenleader=8228,g.oneeighth=8539,g.onefitted=63196,g.onegujarati=2791,g.onegurmukhi=2663,g.onehackarabic=1633,g.onehalf=189,g.onehangzhou=12321,g.oneideographicparen=12832,g.oneinferior=8321,g.onemonospace=65297,g.onenumeratorbengali=2548,g.oneoldstyle=63281,g.oneparen=9332,g.oneperiod=9352,g.onepersian=1777,g.onequarter=188,g.oneroman=8560,g.onesuperior=185,g.onethai=3665,g.onethird=8531,g.oogonek=491,g.oogonekmacron=493,g.oogurmukhi=2579,g.oomatragurmukhi=2635,g.oopen=596,g.oparen=9386,g.openbullet=9702,g.option=8997,g.ordfeminine=170,g.ordmasculine=186,g.orthogonal=8735,g.oshortdeva=2322,g.oshortvowelsigndeva=2378,g.oslash=248,g.oslashacute=511,g.osmallhiragana=12361,g.osmallkatakana=12457,g.osmallkatakanahalfwidth=65387,g.ostrokeacute=511,g.osuperior=63216,g.otcyrillic=1151,g.otilde=245,g.otildeacute=7757,g.otildedieresis=7759,g.oubopomofo=12577,g.overline=8254,g.overlinecenterline=65098,g.overlinecmb=773,g.overlinedashed=65097,g.overlinedblwavy=65100,g.overlinewavy=65099,g.overscore=175,g.ovowelsignbengali=2507,g.ovowelsigndeva=2379,g.ovowelsigngujarati=2763,g.p=112,g.paampssquare=13184,g.paasentosquare=13099,g.pabengali=2474,g.pacute=7765,g.padeva=2346,g.pagedown=8671,g.pageup=8670,g.pagujarati=2730,g.pagurmukhi=2602,g.pahiragana=12401,g.paiyannoithai=3631,g.pakatakana=12497,g.palatalizationcyrilliccmb=1156,g.palochkacyrillic=1216,g.pansioskorean=12671,g.paragraph=182,g.parallel=8741,g.parenleft=40,g.parenleftaltonearabic=64830,g.parenleftbt=63725,g.parenleftex=63724,g.parenleftinferior=8333,g.parenleftmonospace=65288,g.parenleftsmall=65113,g.parenleftsuperior=8317,g.parenlefttp=63723,g.parenleftvertical=65077,g.parenright=41,g.parenrightaltonearabic=64831,g.parenrightbt=63736,g.parenrightex=63735,g.parenrightinferior=8334,g.parenrightmonospace=65289,g.parenrightsmall=65114,g.parenrightsuperior=8318,g.parenrighttp=63734,g.parenrightvertical=65078,g.partialdiff=8706,g.paseqhebrew=1472,g.pashtahebrew=1433,g.pasquare=13225,g.patah=1463,g.patah11=1463,g.patah1d=1463,g.patah2a=1463,g.patahhebrew=1463,g.patahnarrowhebrew=1463,g.patahquarterhebrew=1463,g.patahwidehebrew=1463,g.pazerhebrew=1441,g.pbopomofo=12550,g.pcircle=9439,g.pdotaccent=7767,g.pe=1508,g.pecyrillic=1087,g.pedagesh=64324,g.pedageshhebrew=64324,g.peezisquare=13115,g.pefinaldageshhebrew=64323,g.peharabic=1662,g.peharmenian=1402,g.pehebrew=1508,g.pehfinalarabic=64343,g.pehinitialarabic=64344,g.pehiragana=12410,g.pehmedialarabic=64345,g.pekatakana=12506,g.pemiddlehookcyrillic=1191,g.perafehebrew=64334,g.percent=37,g.percentarabic=1642,g.percentmonospace=65285,g.percentsmall=65130,g.period=46,g.periodarmenian=1417,g.periodcentered=183,g.periodhalfwidth=65377,g.periodinferior=63207,g.periodmonospace=65294,g.periodsmall=65106,g.periodsuperior=63208,g.perispomenigreekcmb=834,g.perpendicular=8869,g.perthousand=8240,g.peseta=8359,g.pfsquare=13194,g.phabengali=2475,g.phadeva=2347,g.phagujarati=2731,g.phagurmukhi=2603,g.phi=966,g.phi1=981,g.phieuphacirclekorean=12922,g.phieuphaparenkorean=12826,g.phieuphcirclekorean=12908,g.phieuphkorean=12621,g.phieuphparenkorean=12812,g.philatin=632,g.phinthuthai=3642,g.phisymbolgreek=981,g.phook=421,g.phophanthai=3614,g.phophungthai=3612,g.phosamphaothai=3616,g.pi=960,g.pieupacirclekorean=12915,g.pieupaparenkorean=12819,g.pieupcieuckorean=12662,g.pieupcirclekorean=12901,g.pieupkiyeokkorean=12658,g.pieupkorean=12610,g.pieupparenkorean=12805,g.pieupsioskiyeokkorean=12660,g.pieupsioskorean=12612,g.pieupsiostikeutkorean=12661,g.pieupthieuthkorean=12663,g.pieuptikeutkorean=12659,g.pihiragana=12404,g.pikatakana=12500,g.pisymbolgreek=982,g.piwrarmenian=1411,g.planckover2pi=8463,g.planckover2pi1=8463,g.plus=43,g.plusbelowcmb=799,g.pluscircle=8853,g.plusminus=177,g.plusmod=726,g.plusmonospace=65291,g.plussmall=65122,g.plussuperior=8314,g.pmonospace=65360,g.pmsquare=13272,g.pohiragana=12413,g.pointingindexdownwhite=9759,g.pointingindexleftwhite=9756,g.pointingindexrightwhite=9758,g.pointingindexupwhite=9757,g.pokatakana=12509,g.poplathai=3611,g.postalmark=12306,g.postalmarkface=12320,g.pparen=9387,g.precedes=8826,g.prescription=8478,g.primemod=697,g.primereversed=8245,g.product=8719,g.projective=8965,g.prolongedkana=12540,g.propellor=8984,g.propersubset=8834,g.propersuperset=8835,g.proportion=8759,g.proportional=8733,g.psi=968,g.psicyrillic=1137,g.psilipneumatacyrilliccmb=1158,g.pssquare=13232,g.puhiragana=12407,g.pukatakana=12503,g.pvsquare=13236,g.pwsquare=13242,g.q=113,g.qadeva=2392,g.qadmahebrew=1448,g.qafarabic=1602,g.qaffinalarabic=65238,g.qafinitialarabic=65239,g.qafmedialarabic=65240,g.qamats=1464,g.qamats10=1464,g.qamats1a=1464,g.qamats1c=1464,g.qamats27=1464,g.qamats29=1464,g.qamats33=1464,g.qamatsde=1464,g.qamatshebrew=1464,g.qamatsnarrowhebrew=1464,g.qamatsqatanhebrew=1464,g.qamatsqatannarrowhebrew=1464,g.qamatsqatanquarterhebrew=1464,g.qamatsqatanwidehebrew=1464,g.qamatsquarterhebrew=1464,g.qamatswidehebrew=1464,g.qarneyparahebrew=1439,g.qbopomofo=12561,g.qcircle=9440,g.qhook=672,g.qmonospace=65361,g.qof=1511,g.qofdagesh=64327,g.qofdageshhebrew=64327,g.qofhebrew=1511,g.qparen=9388,g.quarternote=9833,g.qubuts=1467,g.qubuts18=1467,g.qubuts25=1467,g.qubuts31=1467,g.qubutshebrew=1467,g.qubutsnarrowhebrew=1467,g.qubutsquarterhebrew=1467,g.qubutswidehebrew=1467,g.question=63,g.questionarabic=1567,g.questionarmenian=1374,g.questiondown=191,g.questiondownsmall=63423,g.questiongreek=894,g.questionmonospace=65311,g.questionsmall=63295,g.quotedbl=34,g.quotedblbase=8222,g.quotedblleft=8220,g.quotedblmonospace=65282,g.quotedblprime=12318,g.quotedblprimereversed=12317,g.quotedblright=8221,g.quoteleft=8216,g.quoteleftreversed=8219,g.quotereversed=8219,g.quoteright=8217,g.quoterightn=329,g.quotesinglbase=8218,g.quotesingle=39,g.quotesinglemonospace=65287,g.r=114,g.raarmenian=1404,g.rabengali=2480,g.racute=341,g.radeva=2352,g.radical=8730,g.radicalex=63717,g.radoverssquare=13230,g.radoverssquaredsquare=13231,g.radsquare=13229,g.rafe=1471,g.rafehebrew=1471,g.ragujarati=2736,g.ragurmukhi=2608,g.rahiragana=12425,g.rakatakana=12521,g.rakatakanahalfwidth=65431,g.ralowerdiagonalbengali=2545,g.ramiddlediagonalbengali=2544,g.ramshorn=612,g.ratio=8758,g.rbopomofo=12566,g.rcaron=345,g.rcedilla=343,g.rcircle=9441,g.rcommaaccent=343,g.rdblgrave=529,g.rdotaccent=7769,g.rdotbelow=7771,g.rdotbelowmacron=7773,g.referencemark=8251,g.reflexsubset=8838,g.reflexsuperset=8839,g.registered=174,g.registersans=63720,g.registerserif=63194,g.reharabic=1585,g.reharmenian=1408,g.rehfinalarabic=65198,g.rehiragana=12428,g.rekatakana=12524,g.rekatakanahalfwidth=65434,g.resh=1512,g.reshdageshhebrew=64328,g.reshhebrew=1512,g.reversedtilde=8765,g.reviahebrew=1431,g.reviamugrashhebrew=1431,g.revlogicalnot=8976,g.rfishhook=638,g.rfishhookreversed=639,g.rhabengali=2525,g.rhadeva=2397,g.rho=961,g.rhook=637,g.rhookturned=635,g.rhookturnedsuperior=693,g.rhosymbolgreek=1009,g.rhotichookmod=734,g.rieulacirclekorean=12913,g.rieulaparenkorean=12817,g.rieulcirclekorean=12899,g.rieulhieuhkorean=12608,g.rieulkiyeokkorean=12602,g.rieulkiyeoksioskorean=12649,g.rieulkorean=12601,g.rieulmieumkorean=12603,g.rieulpansioskorean=12652,g.rieulparenkorean=12803,g.rieulphieuphkorean=12607,g.rieulpieupkorean=12604,g.rieulpieupsioskorean=12651,g.rieulsioskorean=12605,g.rieulthieuthkorean=12606,g.rieultikeutkorean=12650,g.rieulyeorinhieuhkorean=12653,g.rightangle=8735,g.righttackbelowcmb=793,g.righttriangle=8895,g.rihiragana=12426,g.rikatakana=12522,g.rikatakanahalfwidth=65432,g.ring=730,g.ringbelowcmb=805,g.ringcmb=778,g.ringhalfleft=703,g.ringhalfleftarmenian=1369,g.ringhalfleftbelowcmb=796,g.ringhalfleftcentered=723,g.ringhalfright=702,g.ringhalfrightbelowcmb=825,g.ringhalfrightcentered=722,g.rinvertedbreve=531,g.rittorusquare=13137,g.rlinebelow=7775,g.rlongleg=636,g.rlonglegturned=634,g.rmonospace=65362,g.rohiragana=12429,g.rokatakana=12525,g.rokatakanahalfwidth=65435,g.roruathai=3619,g.rparen=9389,g.rrabengali=2524,g.rradeva=2353,g.rragurmukhi=2652,g.rreharabic=1681,g.rrehfinalarabic=64397,g.rrvocalicbengali=2528,g.rrvocalicdeva=2400,g.rrvocalicgujarati=2784,g.rrvocalicvowelsignbengali=2500,g.rrvocalicvowelsigndeva=2372,g.rrvocalicvowelsigngujarati=2756,g.rsuperior=63217,g.rtblock=9616,g.rturned=633,g.rturnedsuperior=692,g.ruhiragana=12427,g.rukatakana=12523,g.rukatakanahalfwidth=65433,g.rupeemarkbengali=2546,g.rupeesignbengali=2547,g.rupiah=63197,g.ruthai=3620,g.rvocalicbengali=2443,g.rvocalicdeva=2315,g.rvocalicgujarati=2699,g.rvocalicvowelsignbengali=2499,g.rvocalicvowelsigndeva=2371,g.rvocalicvowelsigngujarati=2755,g.s=115,g.sabengali=2488,g.sacute=347,g.sacutedotaccent=7781,g.sadarabic=1589,g.sadeva=2360,g.sadfinalarabic=65210,g.sadinitialarabic=65211,g.sadmedialarabic=65212,g.sagujarati=2744,g.sagurmukhi=2616,g.sahiragana=12373,g.sakatakana=12469,g.sakatakanahalfwidth=65403,g.sallallahoualayhewasallamarabic=65018,g.samekh=1505,g.samekhdagesh=64321,g.samekhdageshhebrew=64321,g.samekhhebrew=1505,g.saraaathai=3634,g.saraaethai=3649,g.saraaimaimalaithai=3652,g.saraaimaimuanthai=3651,g.saraamthai=3635,g.saraathai=3632,g.saraethai=3648,g.saraiileftthai=63622,g.saraiithai=3637,g.saraileftthai=63621,g.saraithai=3636,g.saraothai=3650,g.saraueeleftthai=63624,g.saraueethai=3639,g.saraueleftthai=63623,g.sarauethai=3638,g.sarauthai=3640,g.sarauuthai=3641,g.sbopomofo=12569,g.scaron=353,g.scarondotaccent=7783,g.scedilla=351,g.schwa=601,g.schwacyrillic=1241,g.schwadieresiscyrillic=1243,g.schwahook=602,g.scircle=9442,g.scircumflex=349,g.scommaaccent=537,g.sdotaccent=7777,g.sdotbelow=7779,g.sdotbelowdotaccent=7785,g.seagullbelowcmb=828,g.second=8243,g.secondtonechinese=714,g.section=167,g.seenarabic=1587,g.seenfinalarabic=65202,g.seeninitialarabic=65203,g.seenmedialarabic=65204,g.segol=1462,g.segol13=1462,g.segol1f=1462,g.segol2c=1462,g.segolhebrew=1462,g.segolnarrowhebrew=1462,g.segolquarterhebrew=1462,g.segoltahebrew=1426,g.segolwidehebrew=1462,g.seharmenian=1405,g.sehiragana=12379,g.sekatakana=12475,g.sekatakanahalfwidth=65406,g.semicolon=59,g.semicolonarabic=1563,g.semicolonmonospace=65307,g.semicolonsmall=65108,g.semivoicedmarkkana=12444,g.semivoicedmarkkanahalfwidth=65439,g.sentisquare=13090,g.sentosquare=13091,g.seven=55,g.sevenarabic=1639,g.sevenbengali=2541,g.sevencircle=9318,g.sevencircleinversesansserif=10128,g.sevendeva=2413,g.seveneighths=8542,g.sevengujarati=2797,g.sevengurmukhi=2669,g.sevenhackarabic=1639,g.sevenhangzhou=12327,g.sevenideographicparen=12838,g.seveninferior=8327,g.sevenmonospace=65303,g.sevenoldstyle=63287,g.sevenparen=9338,g.sevenperiod=9358,g.sevenpersian=1783,g.sevenroman=8566,g.sevensuperior=8311,g.seventeencircle=9328,g.seventeenparen=9348,g.seventeenperiod=9368,g.seventhai=3671,g.sfthyphen=173,g.shaarmenian=1399,g.shabengali=2486,g.shacyrillic=1096,g.shaddaarabic=1617,g.shaddadammaarabic=64609,g.shaddadammatanarabic=64606,g.shaddafathaarabic=64608,g.shaddakasraarabic=64610,g.shaddakasratanarabic=64607,g.shade=9618,g.shadedark=9619,g.shadelight=9617,g.shademedium=9618,g.shadeva=2358,g.shagujarati=2742,g.shagurmukhi=2614,g.shalshelethebrew=1427,g.shbopomofo=12565,g.shchacyrillic=1097,g.sheenarabic=1588,g.sheenfinalarabic=65206,g.sheeninitialarabic=65207,g.sheenmedialarabic=65208,g.sheicoptic=995,g.sheqel=8362,g.sheqelhebrew=8362,g.sheva=1456,g.sheva115=1456,g.sheva15=1456,g.sheva22=1456,g.sheva2e=1456,g.shevahebrew=1456,g.shevanarrowhebrew=1456,g.shevaquarterhebrew=1456,g.shevawidehebrew=1456,g.shhacyrillic=1211,g.shimacoptic=1005,g.shin=1513,g.shindagesh=64329,g.shindageshhebrew=64329,g.shindageshshindot=64300,g.shindageshshindothebrew=64300,g.shindageshsindot=64301,g.shindageshsindothebrew=64301,g.shindothebrew=1473,g.shinhebrew=1513,g.shinshindot=64298,g.shinshindothebrew=64298,g.shinsindot=64299,g.shinsindothebrew=64299,g.shook=642,g.sigma=963,g.sigma1=962,g.sigmafinal=962,g.sigmalunatesymbolgreek=1010,g.sihiragana=12375,g.sikatakana=12471,g.sikatakanahalfwidth=65404,g.siluqhebrew=1469,g.siluqlefthebrew=1469,g.similar=8764,g.sindothebrew=1474,g.siosacirclekorean=12916,g.siosaparenkorean=12820,g.sioscieuckorean=12670,g.sioscirclekorean=12902,g.sioskiyeokkorean=12666,g.sioskorean=12613,g.siosnieunkorean=12667,g.siosparenkorean=12806,g.siospieupkorean=12669,g.siostikeutkorean=12668,g.six=54,g.sixarabic=1638,g.sixbengali=2540,g.sixcircle=9317,g.sixcircleinversesansserif=10127,g.sixdeva=2412,g.sixgujarati=2796,g.sixgurmukhi=2668,g.sixhackarabic=1638,g.sixhangzhou=12326,g.sixideographicparen=12837,g.sixinferior=8326,g.sixmonospace=65302,g.sixoldstyle=63286,g.sixparen=9337,g.sixperiod=9357,g.sixpersian=1782,g.sixroman=8565,g.sixsuperior=8310,g.sixteencircle=9327,g.sixteencurrencydenominatorbengali=2553,g.sixteenparen=9347,g.sixteenperiod=9367,g.sixthai=3670,g.slash=47,g.slashmonospace=65295,g.slong=383,g.slongdotaccent=7835,g.smileface=9786,g.smonospace=65363,g.sofpasuqhebrew=1475,g.softhyphen=173,g.softsigncyrillic=1100,g.sohiragana=12381,g.sokatakana=12477,g.sokatakanahalfwidth=65407,g.soliduslongoverlaycmb=824,g.solidusshortoverlaycmb=823,g.sorusithai=3625,g.sosalathai=3624,g.sosothai=3595,g.sosuathai=3626,g.space=32,g.spacehackarabic=32,g.spade=9824,g.spadesuitblack=9824,g.spadesuitwhite=9828,g.sparen=9390,g.squarebelowcmb=827,g.squarecc=13252,g.squarecm=13213,g.squarediagonalcrosshatchfill=9641,g.squarehorizontalfill=9636,g.squarekg=13199,g.squarekm=13214,g.squarekmcapital=13262,g.squareln=13265,g.squarelog=13266,g.squaremg=13198,g.squaremil=13269,g.squaremm=13212,g.squaremsquared=13217,g.squareorthogonalcrosshatchfill=9638,g.squareupperlefttolowerrightfill=9639,g.squareupperrighttolowerleftfill=9640,g.squareverticalfill=9637,g.squarewhitewithsmallblack=9635,g.srsquare=13275,g.ssabengali=2487,g.ssadeva=2359,g.ssagujarati=2743,g.ssangcieuckorean=12617,g.ssanghieuhkorean=12677,g.ssangieungkorean=12672,g.ssangkiyeokkorean=12594,g.ssangnieunkorean=12645,g.ssangpieupkorean=12611,g.ssangsioskorean=12614,g.ssangtikeutkorean=12600,g.ssuperior=63218,g.sterling=163,g.sterlingmonospace=65505,g.strokelongoverlaycmb=822,g.strokeshortoverlaycmb=821,g.subset=8834,g.subsetnotequal=8842,g.subsetorequal=8838,g.succeeds=8827,g.suchthat=8715,g.suhiragana=12377,g.sukatakana=12473,g.sukatakanahalfwidth=65405,g.sukunarabic=1618,g.summation=8721,g.sun=9788,g.superset=8835,g.supersetnotequal=8843,g.supersetorequal=8839,g.svsquare=13276,g.syouwaerasquare=13180,g.t=116,g.tabengali=2468,g.tackdown=8868,g.tackleft=8867,g.tadeva=2340,g.tagujarati=2724,g.tagurmukhi=2596,g.taharabic=1591,g.tahfinalarabic=65218,g.tahinitialarabic=65219,g.tahiragana=12383,g.tahmedialarabic=65220,g.taisyouerasquare=13181,g.takatakana=12479,g.takatakanahalfwidth=65408,g.tatweelarabic=1600,g.tau=964,g.tav=1514,g.tavdages=64330,g.tavdagesh=64330,g.tavdageshhebrew=64330,g.tavhebrew=1514,g.tbar=359,g.tbopomofo=12554,g.tcaron=357,g.tccurl=680,g.tcedilla=355,g.tcheharabic=1670,g.tchehfinalarabic=64379,g.tchehinitialarabic=64380,g.tchehmedialarabic=64381,g.tcircle=9443,g.tcircumflexbelow=7793,g.tcommaaccent=355,g.tdieresis=7831,g.tdotaccent=7787,g.tdotbelow=7789,g.tecyrillic=1090,g.tedescendercyrillic=1197,g.teharabic=1578,g.tehfinalarabic=65174,g.tehhahinitialarabic=64674,g.tehhahisolatedarabic=64524,g.tehinitialarabic=65175,g.tehiragana=12390,g.tehjeeminitialarabic=64673,g.tehjeemisolatedarabic=64523,g.tehmarbutaarabic=1577,g.tehmarbutafinalarabic=65172,g.tehmedialarabic=65176,g.tehmeeminitialarabic=64676,g.tehmeemisolatedarabic=64526,g.tehnoonfinalarabic=64627,g.tekatakana=12486,g.tekatakanahalfwidth=65411,g.telephone=8481,g.telephoneblack=9742,g.telishagedolahebrew=1440,g.telishaqetanahebrew=1449,g.tencircle=9321,g.tenideographicparen=12841,g.tenparen=9341,g.tenperiod=9361,g.tenroman=8569,g.tesh=679,g.tet=1496,g.tetdagesh=64312,g.tetdageshhebrew=64312,g.tethebrew=1496,g.tetsecyrillic=1205,g.tevirhebrew=1435,g.tevirlefthebrew=1435,g.thabengali=2469,g.thadeva=2341,g.thagujarati=2725,g.thagurmukhi=2597,g.thalarabic=1584,g.thalfinalarabic=65196,g.thanthakhatlowleftthai=63640,g.thanthakhatlowrightthai=63639,g.thanthakhatthai=3660,g.thanthakhatupperleftthai=63638,g.theharabic=1579,g.thehfinalarabic=65178,g.thehinitialarabic=65179,g.thehmedialarabic=65180,g.thereexists=8707,g.therefore=8756,g.theta=952,g.theta1=977,g.thetasymbolgreek=977,g.thieuthacirclekorean=12921,g.thieuthaparenkorean=12825,g.thieuthcirclekorean=12907,g.thieuthkorean=12620,g.thieuthparenkorean=12811,g.thirteencircle=9324,g.thirteenparen=9344,g.thirteenperiod=9364,g.thonangmonthothai=3601,g.thook=429,g.thophuthaothai=3602,g.thorn=254,g.thothahanthai=3607,g.thothanthai=3600,g.thothongthai=3608,g.thothungthai=3606,g.thousandcyrillic=1154,g.thousandsseparatorarabic=1644,g.thousandsseparatorpersian=1644,g.three=51,g.threearabic=1635,g.threebengali=2537,g.threecircle=9314,g.threecircleinversesansserif=10124,g.threedeva=2409,g.threeeighths=8540,g.threegujarati=2793,g.threegurmukhi=2665,g.threehackarabic=1635,g.threehangzhou=12323,g.threeideographicparen=12834,g.threeinferior=8323,g.threemonospace=65299,g.threenumeratorbengali=2550,g.threeoldstyle=63283,g.threeparen=9334,g.threeperiod=9354,g.threepersian=1779,g.threequarters=190,g.threequartersemdash=63198,g.threeroman=8562,g.threesuperior=179,g.threethai=3667,g.thzsquare=13204,g.tihiragana=12385,g.tikatakana=12481,g.tikatakanahalfwidth=65409,g.tikeutacirclekorean=12912,g.tikeutaparenkorean=12816,g.tikeutcirclekorean=12898,g.tikeutkorean=12599,g.tikeutparenkorean=12802,g.tilde=732,g.tildebelowcmb=816,g.tildecmb=771,g.tildecomb=771,g.tildedoublecmb=864,g.tildeoperator=8764,g.tildeoverlaycmb=820,g.tildeverticalcmb=830,g.timescircle=8855,g.tipehahebrew=1430,g.tipehalefthebrew=1430,g.tippigurmukhi=2672,g.titlocyrilliccmb=1155,g.tiwnarmenian=1407,g.tlinebelow=7791,g.tmonospace=65364,g.toarmenian=1385,g.tohiragana=12392,g.tokatakana=12488,g.tokatakanahalfwidth=65412,g.tonebarextrahighmod=741,g.tonebarextralowmod=745,g.tonebarhighmod=742,g.tonebarlowmod=744,g.tonebarmidmod=743,g.tonefive=445,g.tonesix=389,g.tonetwo=424,g.tonos=900,g.tonsquare=13095,g.topatakthai=3599,g.tortoiseshellbracketleft=12308,g.tortoiseshellbracketleftsmall=65117,g.tortoiseshellbracketleftvertical=65081,g.tortoiseshellbracketright=12309,g.tortoiseshellbracketrightsmall=65118,g.tortoiseshellbracketrightvertical=65082,g.totaothai=3605,g.tpalatalhook=427,g.tparen=9391,g.trademark=8482,g.trademarksans=63722,g.trademarkserif=63195,g.tretroflexhook=648,g.triagdn=9660,g.triaglf=9668,g.triagrt=9658,g.triagup=9650,g.ts=678,g.tsadi=1510,g.tsadidagesh=64326,g.tsadidageshhebrew=64326,g.tsadihebrew=1510,g.tsecyrillic=1094,g.tsere=1461,g.tsere12=1461,g.tsere1e=1461,g.tsere2b=1461,g.tserehebrew=1461,g.tserenarrowhebrew=1461,g.tserequarterhebrew=1461,g.tserewidehebrew=1461,g.tshecyrillic=1115,g.tsuperior=63219,g.ttabengali=2463,g.ttadeva=2335,g.ttagujarati=2719,g.ttagurmukhi=2591,g.tteharabic=1657,g.ttehfinalarabic=64359,g.ttehinitialarabic=64360,g.ttehmedialarabic=64361,g.tthabengali=2464,g.tthadeva=2336,g.tthagujarati=2720,g.tthagurmukhi=2592,g.tturned=647,g.tuhiragana=12388,g.tukatakana=12484,g.tukatakanahalfwidth=65410,g.tusmallhiragana=12387,g.tusmallkatakana=12483,g.tusmallkatakanahalfwidth=65391,g.twelvecircle=9323,g.twelveparen=9343,g.twelveperiod=9363,g.twelveroman=8571,g.twentycircle=9331,g.twentyhangzhou=21316,g.twentyparen=9351,g.twentyperiod=9371,g.two=50,g.twoarabic=1634,g.twobengali=2536,g.twocircle=9313,g.twocircleinversesansserif=10123,g.twodeva=2408,g.twodotenleader=8229,g.twodotleader=8229,g.twodotleadervertical=65072,g.twogujarati=2792,g.twogurmukhi=2664,g.twohackarabic=1634,g.twohangzhou=12322,g.twoideographicparen=12833,g.twoinferior=8322,g.twomonospace=65298,g.twonumeratorbengali=2549,g.twooldstyle=63282,g.twoparen=9333,g.twoperiod=9353,g.twopersian=1778,g.tworoman=8561,g.twostroke=443,g.twosuperior=178,g.twothai=3666,g.twothirds=8532,g.u=117,g.uacute=250,g.ubar=649,g.ubengali=2441,g.ubopomofo=12584,g.ubreve=365,g.ucaron=468,g.ucircle=9444,g.ucircumflex=251,g.ucircumflexbelow=7799,g.ucyrillic=1091,g.udattadeva=2385,g.udblacute=369,g.udblgrave=533,g.udeva=2313,g.udieresis=252,g.udieresisacute=472,g.udieresisbelow=7795,g.udieresiscaron=474,g.udieresiscyrillic=1265,g.udieresisgrave=476,g.udieresismacron=470,g.udotbelow=7909,g.ugrave=249,g.ugujarati=2697,g.ugurmukhi=2569,g.uhiragana=12358,g.uhookabove=7911,g.uhorn=432,g.uhornacute=7913,g.uhorndotbelow=7921,g.uhorngrave=7915,g.uhornhookabove=7917,g.uhorntilde=7919,g.uhungarumlaut=369,g.uhungarumlautcyrillic=1267,g.uinvertedbreve=535,g.ukatakana=12454,g.ukatakanahalfwidth=65395,g.ukcyrillic=1145,g.ukorean=12636,g.umacron=363,g.umacroncyrillic=1263,g.umacrondieresis=7803,g.umatragurmukhi=2625,g.umonospace=65365,g.underscore=95,g.underscoredbl=8215,g.underscoremonospace=65343,g.underscorevertical=65075,g.underscorewavy=65103,g.union=8746,g.universal=8704,g.uogonek=371,g.uparen=9392,g.upblock=9600,g.upperdothebrew=1476,g.upsilon=965,g.upsilondieresis=971,g.upsilondieresistonos=944,g.upsilonlatin=650,g.upsilontonos=973,g.uptackbelowcmb=797,g.uptackmod=724,g.uragurmukhi=2675,g.uring=367,g.ushortcyrillic=1118,g.usmallhiragana=12357,g.usmallkatakana=12453,g.usmallkatakanahalfwidth=65385,g.ustraightcyrillic=1199,g.ustraightstrokecyrillic=1201,g.utilde=361,g.utildeacute=7801,g.utildebelow=7797,g.uubengali=2442,g.uudeva=2314,g.uugujarati=2698,g.uugurmukhi=2570,g.uumatragurmukhi=2626,g.uuvowelsignbengali=2498,g.uuvowelsigndeva=2370,g.uuvowelsigngujarati=2754,g.uvowelsignbengali=2497,g.uvowelsigndeva=2369,g.uvowelsigngujarati=2753,g.v=118,g.vadeva=2357,g.vagujarati=2741,g.vagurmukhi=2613,g.vakatakana=12535,g.vav=1493,g.vavdagesh=64309,g.vavdagesh65=64309,g.vavdageshhebrew=64309,g.vavhebrew=1493,g.vavholam=64331,g.vavholamhebrew=64331,g.vavvavhebrew=1520,g.vavyodhebrew=1521,g.vcircle=9445,g.vdotbelow=7807,g.vecyrillic=1074,g.veharabic=1700,g.vehfinalarabic=64363,g.vehinitialarabic=64364,g.vehmedialarabic=64365,g.vekatakana=12537,g.venus=9792,g.verticalbar=124,g.verticallineabovecmb=781,g.verticallinebelowcmb=809,g.verticallinelowmod=716,g.verticallinemod=712,g.vewarmenian=1406,g.vhook=651,g.vikatakana=12536,g.viramabengali=2509,g.viramadeva=2381,g.viramagujarati=2765,g.visargabengali=2435,g.visargadeva=2307,g.visargagujarati=2691,g.vmonospace=65366,g.voarmenian=1400,g.voicediterationhiragana=12446,g.voicediterationkatakana=12542,g.voicedmarkkana=12443,g.voicedmarkkanahalfwidth=65438,g.vokatakana=12538,g.vparen=9393,g.vtilde=7805,g.vturned=652,g.vuhiragana=12436,g.vukatakana=12532,g.w=119,g.wacute=7811,g.waekorean=12633,g.wahiragana=12431,g.wakatakana=12527,g.wakatakanahalfwidth=65436,g.wakorean=12632,g.wasmallhiragana=12430,g.wasmallkatakana=12526,g.wattosquare=13143,g.wavedash=12316,g.wavyunderscorevertical=65076,g.wawarabic=1608,g.wawfinalarabic=65262,g.wawhamzaabovearabic=1572,g.wawhamzaabovefinalarabic=65158,g.wbsquare=13277,g.wcircle=9446,g.wcircumflex=373,g.wdieresis=7813,g.wdotaccent=7815,g.wdotbelow=7817,g.wehiragana=12433,g.weierstrass=8472,g.wekatakana=12529,g.wekorean=12638,g.weokorean=12637,g.wgrave=7809,g.whitebullet=9702,g.whitecircle=9675,g.whitecircleinverse=9689,g.whitecornerbracketleft=12302,g.whitecornerbracketleftvertical=65091,g.whitecornerbracketright=12303,g.whitecornerbracketrightvertical=65092,g.whitediamond=9671,g.whitediamondcontainingblacksmalldiamond=9672,g.whitedownpointingsmalltriangle=9663,g.whitedownpointingtriangle=9661,g.whiteleftpointingsmalltriangle=9667,g.whiteleftpointingtriangle=9665,g.whitelenticularbracketleft=12310,g.whitelenticularbracketright=12311,g.whiterightpointingsmalltriangle=9657,g.whiterightpointingtriangle=9655,g.whitesmallsquare=9643,g.whitesmilingface=9786,g.whitesquare=9633,g.whitestar=9734,g.whitetelephone=9743,g.whitetortoiseshellbracketleft=12312,g.whitetortoiseshellbracketright=12313,g.whiteuppointingsmalltriangle=9653,g.whiteuppointingtriangle=9651,g.wihiragana=12432,g.wikatakana=12528,g.wikorean=12639,g.wmonospace=65367,g.wohiragana=12434,g.wokatakana=12530,g.wokatakanahalfwidth=65382,g.won=8361,g.wonmonospace=65510,g.wowaenthai=3623,g.wparen=9394,g.wring=7832,g.wsuperior=695,g.wturned=653,g.wynn=447,g.x=120,g.xabovecmb=829,g.xbopomofo=12562,g.xcircle=9447,g.xdieresis=7821,g.xdotaccent=7819,g.xeharmenian=1389,g.xi=958,g.xmonospace=65368,g.xparen=9395,g.xsuperior=739,g.y=121,g.yaadosquare=13134,g.yabengali=2479,g.yacute=253,g.yadeva=2351,g.yaekorean=12626,g.yagujarati=2735,g.yagurmukhi=2607,g.yahiragana=12420,g.yakatakana=12516,g.yakatakanahalfwidth=65428,g.yakorean=12625,g.yamakkanthai=3662,g.yasmallhiragana=12419,g.yasmallkatakana=12515,g.yasmallkatakanahalfwidth=65388,g.yatcyrillic=1123,g.ycircle=9448,g.ycircumflex=375,g.ydieresis=255,g.ydotaccent=7823,g.ydotbelow=7925,g.yeharabic=1610,g.yehbarreearabic=1746,g.yehbarreefinalarabic=64431,g.yehfinalarabic=65266,g.yehhamzaabovearabic=1574,g.yehhamzaabovefinalarabic=65162,g.yehhamzaaboveinitialarabic=65163,g.yehhamzaabovemedialarabic=65164,g.yehinitialarabic=65267,g.yehmedialarabic=65268,g.yehmeeminitialarabic=64733,g.yehmeemisolatedarabic=64600,g.yehnoonfinalarabic=64660,g.yehthreedotsbelowarabic=1745,g.yekorean=12630,g.yen=165,g.yenmonospace=65509,g.yeokorean=12629,g.yeorinhieuhkorean=12678,g.yerahbenyomohebrew=1450,g.yerahbenyomolefthebrew=1450,g.yericyrillic=1099,g.yerudieresiscyrillic=1273,g.yesieungkorean=12673,g.yesieungpansioskorean=12675,g.yesieungsioskorean=12674,g.yetivhebrew=1434,g.ygrave=7923,g.yhook=436,g.yhookabove=7927,g.yiarmenian=1397,g.yicyrillic=1111,g.yikorean=12642,g.yinyang=9775,g.yiwnarmenian=1410,g.ymonospace=65369,g.yod=1497,g.yoddagesh=64313,g.yoddageshhebrew=64313,g.yodhebrew=1497,g.yodyodhebrew=1522,g.yodyodpatahhebrew=64287,g.yohiragana=12424,g.yoikorean=12681,g.yokatakana=12520,g.yokatakanahalfwidth=65430,g.yokorean=12635,g.yosmallhiragana=12423,g.yosmallkatakana=12519,g.yosmallkatakanahalfwidth=65390,g.yotgreek=1011,g.yoyaekorean=12680,g.yoyakorean=12679,g.yoyakthai=3618,g.yoyingthai=3597,g.yparen=9396,g.ypogegrammeni=890,g.ypogegrammenigreekcmb=837,g.yr=422,g.yring=7833,g.ysuperior=696,g.ytilde=7929,g.yturned=654,g.yuhiragana=12422,g.yuikorean=12684,g.yukatakana=12518,g.yukatakanahalfwidth=65429,g.yukorean=12640,g.yusbigcyrillic=1131,g.yusbigiotifiedcyrillic=1133,g.yuslittlecyrillic=1127,g.yuslittleiotifiedcyrillic=1129,g.yusmallhiragana=12421,g.yusmallkatakana=12517,g.yusmallkatakanahalfwidth=65389,g.yuyekorean=12683,g.yuyeokorean=12682,g.yyabengali=2527,g.yyadeva=2399,g.z=122,g.zaarmenian=1382,g.zacute=378,g.zadeva=2395,g.zagurmukhi=2651,g.zaharabic=1592,g.zahfinalarabic=65222,g.zahinitialarabic=65223,g.zahiragana=12374,g.zahmedialarabic=65224,g.zainarabic=1586,g.zainfinalarabic=65200,g.zakatakana=12470,g.zaqefgadolhebrew=1429,g.zaqefqatanhebrew=1428,g.zarqahebrew=1432,g.zayin=1494,g.zayindagesh=64310,g.zayindageshhebrew=64310,g.zayinhebrew=1494,g.zbopomofo=12567,g.zcaron=382,g.zcircle=9449,g.zcircumflex=7825,g.zcurl=657,g.zdot=380,g.zdotaccent=380,g.zdotbelow=7827,g.zecyrillic=1079,g.zedescendercyrillic=1177,g.zedieresiscyrillic=1247,g.zehiragana=12380,g.zekatakana=12476,g.zero=48,g.zeroarabic=1632,g.zerobengali=2534,g.zerodeva=2406,g.zerogujarati=2790,g.zerogurmukhi=2662,g.zerohackarabic=1632,g.zeroinferior=8320,g.zeromonospace=65296,g.zerooldstyle=63280,g.zeropersian=1776,g.zerosuperior=8304,g.zerothai=3664,g.zerowidthjoiner=65279,g.zerowidthnonjoiner=8204,g.zerowidthspace=8203,g.zeta=950,g.zhbopomofo=12563,g.zhearmenian=1386,g.zhebrevecyrillic=1218,g.zhecyrillic=1078,g.zhedescendercyrillic=1175,g.zhedieresiscyrillic=1245,g.zihiragana=12376,g.zikatakana=12472,g.zinorhebrew=1454,g.zlinebelow=7829,g.zmonospace=65370,g.zohiragana=12382,g.zokatakana=12478,g.zparen=9397,g.zretroflexhook=656,g.zstroke=438,g.zuhiragana=12378,g.zukatakana=12474,g[".notdef"]=0,g.angbracketleftbig=9001,g.angbracketleftBig=9001,g.angbracketleftbigg=9001,g.angbracketleftBigg=9001,g.angbracketrightBig=9002,g.angbracketrightbig=9002,g.angbracketrightBigg=9002,g.angbracketrightbigg=9002,g.arrowhookleft=8618,g.arrowhookright=8617,g.arrowlefttophalf=8636,g.arrowleftbothalf=8637,g.arrownortheast=8599,g.arrownorthwest=8598,g.arrowrighttophalf=8640,g.arrowrightbothalf=8641,g.arrowsoutheast=8600,g.arrowsouthwest=8601,g.backslashbig=8726,g.backslashBig=8726,g.backslashBigg=8726,g.backslashbigg=8726,g.bardbl=8214,g.bracehtipdownleft=65079,g.bracehtipdownright=65079,g.bracehtipupleft=65080,g.bracehtipupright=65080,g.braceleftBig=123,g.braceleftbig=123,g.braceleftbigg=123,g.braceleftBigg=123,g.bracerightBig=125,g.bracerightbig=125,g.bracerightbigg=125,g.bracerightBigg=125,g.bracketleftbig=91,g.bracketleftBig=91,g.bracketleftbigg=91,g.bracketleftBigg=91,g.bracketrightBig=93,g.bracketrightbig=93,g.bracketrightbigg=93,g.bracketrightBigg=93,g.ceilingleftbig=8968,g.ceilingleftBig=8968,g.ceilingleftBigg=8968,g.ceilingleftbigg=8968,g.ceilingrightbig=8969,g.ceilingrightBig=8969,g.ceilingrightbigg=8969,g.ceilingrightBigg=8969,g.circledotdisplay=8857,g.circledottext=8857,g.circlemultiplydisplay=8855,g.circlemultiplytext=8855,g.circleplusdisplay=8853,g.circleplustext=8853,g.contintegraldisplay=8750,g.contintegraltext=8750,g.coproductdisplay=8720,g.coproducttext=8720,g.floorleftBig=8970,g.floorleftbig=8970,g.floorleftbigg=8970,g.floorleftBigg=8970,g.floorrightbig=8971,g.floorrightBig=8971,g.floorrightBigg=8971,g.floorrightbigg=8971,g.hatwide=770,g.hatwider=770,g.hatwidest=770,g.intercal=7488,g.integraldisplay=8747,g.integraltext=8747,g.intersectiondisplay=8898,g.intersectiontext=8898,g.logicalanddisplay=8743,g.logicalandtext=8743,g.logicalordisplay=8744,g.logicalortext=8744,g.parenleftBig=40,g.parenleftbig=40,g.parenleftBigg=40,g.parenleftbigg=40,g.parenrightBig=41,g.parenrightbig=41,g.parenrightBigg=41,g.parenrightbigg=41,g.prime=8242,g.productdisplay=8719,g.producttext=8719,g.radicalbig=8730,g.radicalBig=8730,g.radicalBigg=8730,g.radicalbigg=8730,g.radicalbt=8730,g.radicaltp=8730,g.radicalvertex=8730,g.slashbig=47,g.slashBig=47,g.slashBigg=47,g.slashbigg=47,g.summationdisplay=8721,g.summationtext=8721,g.tildewide=732,g.tildewider=732,g.tildewidest=732,g.uniondisplay=8899,g.unionmultidisplay=8846,g.unionmultitext=8846,g.unionsqdisplay=8852,g.unionsqtext=8852,g.uniontext=8899,g.vextenddouble=8741,g.vextendsingle=8739}),getDingbatsGlyphsUnicode=getLookupTableFactory(function(g){g.space=32,g.a1=9985,g.a2=9986,g.a202=9987,g.a3=9988,g.a4=9742,g.a5=9990,g.a119=9991,g.a118=9992,g.a117=9993,g.a11=9755,g.a12=9758,g.a13=9996,g.a14=9997,g.a15=9998,g.a16=9999,g.a105=1e4,g.a17=10001,g.a18=10002,g.a19=10003,g.a20=10004,g.a21=10005,g.a22=10006,g.a23=10007,g.a24=10008,g.a25=10009,g.a26=10010,g.a27=10011,g.a28=10012,g.a6=10013,g.a7=10014,g.a8=10015,g.a9=10016,g.a10=10017,g.a29=10018,g.a30=10019,g.a31=10020,g.a32=10021,g.a33=10022,g.a34=10023,g.a35=9733,g.a36=10025,g.a37=10026,g.a38=10027,g.a39=10028,g.a40=10029,g.a41=10030,g.a42=10031,g.a43=10032,g.a44=10033,g.a45=10034,g.a46=10035,g.a47=10036,g.a48=10037,g.a49=10038,g.a50=10039,g.a51=10040,g.a52=10041,g.a53=10042,g.a54=10043,g.a55=10044,g.a56=10045,g.a57=10046,g.a58=10047,g.a59=10048,g.a60=10049,g.a61=10050,g.a62=10051,g.a63=10052,g.a64=10053,g.a65=10054,g.a66=10055,g.a67=10056,g.a68=10057,g.a69=10058,g.a70=10059,g.a71=9679,g.a72=10061,g.a73=9632,g.a74=10063,g.a203=10064,g.a75=10065,g.a204=10066,g.a76=9650,g.a77=9660,g.a78=9670,g.a79=10070,g.a81=9687,g.a82=10072,g.a83=10073,g.a84=10074,g.a97=10075,g.a98=10076,g.a99=10077,g.a100=10078,g.a101=10081,g.a102=10082,g.a103=10083,g.a104=10084,g.a106=10085,g.a107=10086,g.a108=10087,g.a112=9827,g.a111=9830,g.a110=9829,g.a109=9824,g.a120=9312,g.a121=9313,g.a122=9314,g.a123=9315,g.a124=9316,g.a125=9317,g.a126=9318,g.a127=9319,g.a128=9320,g.a129=9321,g.a130=10102,g.a131=10103,g.a132=10104,g.a133=10105,g.a134=10106,g.a135=10107,g.a136=10108,g.a137=10109,g.a138=10110,g.a139=10111,g.a140=10112,g.a141=10113,g.a142=10114,g.a143=10115,g.a144=10116,g.a145=10117,g.a146=10118,g.a147=10119,g.a148=10120,g.a149=10121,g.a150=10122,g.a151=10123,g.a152=10124,g.a153=10125,g.a154=10126,g.a155=10127,g.a156=10128,g.a157=10129,g.a158=10130,g.a159=10131,g.a160=10132,g.a161=8594,g.a163=8596,g.a164=8597,g.a196=10136,g.a165=10137,g.a192=10138,g.a166=10139,g.a167=10140,g.a168=10141,g.a169=10142,g.a170=10143,g.a171=10144,g.a172=10145,g.a173=10146,g.a162=10147,g.a174=10148,g.a175=10149,g.a176=10150,g.a177=10151,g.a178=10152,g.a179=10153,g.a193=10154,g.a180=10155,g.a199=10156,g.a181=10157,g.a200=10158,g.a182=10159,g.a201=10161,g.a183=10162,g.a184=10163,g.a197=10164,g.a185=10165,g.a194=10166,g.a198=10167,g.a186=10168,g.a195=10169,g.a187=10170,g.a188=10171,g.a189=10172,g.a190=10173,g.a191=10174,g.a89=10088,g.a90=10089,g.a93=10090,g.a94=10091,g.a91=10092,g.a92=10093,g.a205=10094,g.a85=10095,g.a206=10096,g.a86=10097,g.a87=10098,g.a88=10099,g.a95=10100,g.a96=10101,g[".notdef"]=0}),getSpecialPUASymbols=getLookupTableFactory(function(g){g[63721]=169,g[63193]=169,g[63720]=174,g[63194]=174,g[63722]=8482,g[63195]=8482,g[63729]=9127,g[63730]=9128,g[63731]=9129,g[63740]=9131,g[63741]=9132,g[63742]=9133,g[63726]=9121,g[63727]=9122,g[63728]=9123,g[63737]=9124,g[63738]=9125,g[63739]=9126,g[63723]=9115,g[63724]=9116,g[63725]=9117,g[63734]=9118,g[63735]=9119,g[63736]=9120});function mapSpecialUnicodeValues(g){return g>=65520&&g<=65535?0:g>=62976&&g<=63743?getSpecialPUASymbols()[g]||g:g===173?45:g}function getUnicodeForGlyph(g,d){let x=d[g];if(x!==void 0)return x;if(!g)return-1;if(g[0]==="u"){const b=g.length;let S;if(b===7&&g[1]==="n"&&g[2]==="i")S=g.substring(3);else if(b>=5&&b<=7)S=g.substring(1);else return-1;if(S===S.toUpperCase()&&(x=parseInt(S,16),x>=0))return x}return-1}const UnicodeRanges=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function getUnicodeRangeFor(g,d=-1){if(d!==-1){const x=UnicodeRanges[d];for(let b=0,S=x.length;b<S;b+=2)if(g>=x[b]&&g<=x[b+1])return d}for(let x=0,b=UnicodeRanges.length;x<b;x++){const S=UnicodeRanges[x];for(let w=0,C=S.length;w<C;w+=2)if(g>=S[w]&&g<=S[w+1])return x}return-1}const SpecialCharRegExp=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),CategoryCache=new Map;function getCharUnicodeCategory(g){const d=CategoryCache.get(g);if(d)return d;const x=g.match(SpecialCharRegExp),b={isWhitespace:!!x?.[1],isZeroWidthDiacritic:!!x?.[2],isInvisibleFormatMark:!!x?.[3]};return CategoryCache.set(g,b),b}function clearUnicodeCaches(){CategoryCache.clear()}const SEAC_ANALYSIS_ENABLED=!0,FontFlags={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function recoverGlyphName(g,d){if(d[g]!==void 0)return g;const x=getUnicodeForGlyph(g,d);if(x!==-1){for(const b in d)if(d[b]===x)return b}return info("Unable to recover a standard glyph name for: "+g),g}function type1FontGlyphMapping(g,d,x){const b=Object.create(null);let S,w,C;const F=!!(g.flags&FontFlags.Symbolic);if(g.isInternalFont)for(C=d,w=0;w<C.length;w++)S=x.indexOf(C[w]),b[w]=S>=0?S:0;else if(g.baseEncodingName)for(C=getEncoding(g.baseEncodingName),w=0;w<C.length;w++)S=x.indexOf(C[w]),b[w]=S>=0?S:0;else if(F)for(w in d)b[w]=d[w];else for(C=StandardEncoding,w=0;w<C.length;w++)S=x.indexOf(C[w]),b[w]=S>=0?S:0;const E=g.differences;let k;if(E)for(w in E){const D=E[w];if(S=x.indexOf(D),S===-1){k||(k=getGlyphsUnicode());const M=recoverGlyphName(D,k);M!==D&&(S=x.indexOf(M))}b[w]=S>=0?S:0}return b}function normalizeFontName(g){return g.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}const getStdFontMap=getLookupTableFactory(function(g){g["Times-Roman"]="Times-Roman",g.Helvetica="Helvetica",g.Courier="Courier",g.Symbol="Symbol",g["Times-Bold"]="Times-Bold",g["Helvetica-Bold"]="Helvetica-Bold",g["Courier-Bold"]="Courier-Bold",g.ZapfDingbats="ZapfDingbats",g["Times-Italic"]="Times-Italic",g["Helvetica-Oblique"]="Helvetica-Oblique",g["Courier-Oblique"]="Courier-Oblique",g["Times-BoldItalic"]="Times-BoldItalic",g["Helvetica-BoldOblique"]="Helvetica-BoldOblique",g["Courier-BoldOblique"]="Courier-BoldOblique",g.ArialNarrow="Helvetica",g["ArialNarrow-Bold"]="Helvetica-Bold",g["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",g["ArialNarrow-Italic"]="Helvetica-Oblique",g.ArialBlack="Helvetica",g["ArialBlack-Bold"]="Helvetica-Bold",g["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",g["ArialBlack-Italic"]="Helvetica-Oblique",g["Arial-Black"]="Helvetica",g["Arial-Black-Bold"]="Helvetica-Bold",g["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",g["Arial-Black-Italic"]="Helvetica-Oblique",g.Arial="Helvetica",g["Arial-Bold"]="Helvetica-Bold",g["Arial-BoldItalic"]="Helvetica-BoldOblique",g["Arial-Italic"]="Helvetica-Oblique",g.ArialMT="Helvetica",g["Arial-BoldItalicMT"]="Helvetica-BoldOblique",g["Arial-BoldMT"]="Helvetica-Bold",g["Arial-ItalicMT"]="Helvetica-Oblique",g["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",g["Arial-BoldMT-Bold"]="Helvetica-Bold",g["Arial-ItalicMT-Italic"]="Helvetica-Oblique",g.ArialUnicodeMS="Helvetica",g["ArialUnicodeMS-Bold"]="Helvetica-Bold",g["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",g["ArialUnicodeMS-Italic"]="Helvetica-Oblique",g["Courier-BoldItalic"]="Courier-BoldOblique",g["Courier-Italic"]="Courier-Oblique",g.CourierNew="Courier",g["CourierNew-Bold"]="Courier-Bold",g["CourierNew-BoldItalic"]="Courier-BoldOblique",g["CourierNew-Italic"]="Courier-Oblique",g["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",g["CourierNewPS-BoldMT"]="Courier-Bold",g["CourierNewPS-ItalicMT"]="Courier-Oblique",g.CourierNewPSMT="Courier",g["Helvetica-BoldItalic"]="Helvetica-BoldOblique",g["Helvetica-Italic"]="Helvetica-Oblique",g["Symbol-Bold"]="Symbol",g["Symbol-BoldItalic"]="Symbol",g["Symbol-Italic"]="Symbol",g.TimesNewRoman="Times-Roman",g["TimesNewRoman-Bold"]="Times-Bold",g["TimesNewRoman-BoldItalic"]="Times-BoldItalic",g["TimesNewRoman-Italic"]="Times-Italic",g.TimesNewRomanPS="Times-Roman",g["TimesNewRomanPS-Bold"]="Times-Bold",g["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",g["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",g["TimesNewRomanPS-BoldMT"]="Times-Bold",g["TimesNewRomanPS-Italic"]="Times-Italic",g["TimesNewRomanPS-ItalicMT"]="Times-Italic",g.TimesNewRomanPSMT="Times-Roman",g["TimesNewRomanPSMT-Bold"]="Times-Bold",g["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",g["TimesNewRomanPSMT-Italic"]="Times-Italic"}),getFontNameToFileMap=getLookupTableFactory(function(g){g.Courier="FoxitFixed.pfb",g["Courier-Bold"]="FoxitFixedBold.pfb",g["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",g["Courier-Oblique"]="FoxitFixedItalic.pfb",g.Helvetica="LiberationSans-Regular.ttf",g["Helvetica-Bold"]="LiberationSans-Bold.ttf",g["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",g["Helvetica-Oblique"]="LiberationSans-Italic.ttf",g["Times-Roman"]="FoxitSerif.pfb",g["Times-Bold"]="FoxitSerifBold.pfb",g["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",g["Times-Italic"]="FoxitSerifItalic.pfb",g.Symbol="FoxitSymbol.pfb",g.ZapfDingbats="FoxitDingbats.pfb",g["LiberationSans-Regular"]="LiberationSans-Regular.ttf",g["LiberationSans-Bold"]="LiberationSans-Bold.ttf",g["LiberationSans-Italic"]="LiberationSans-Italic.ttf",g["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"}),getNonStdFontMap=getLookupTableFactory(function(g){g.Calibri="Helvetica",g["Calibri-Bold"]="Helvetica-Bold",g["Calibri-BoldItalic"]="Helvetica-BoldOblique",g["Calibri-Italic"]="Helvetica-Oblique",g.CenturyGothic="Helvetica",g["CenturyGothic-Bold"]="Helvetica-Bold",g["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",g["CenturyGothic-Italic"]="Helvetica-Oblique",g.ComicSansMS="Comic Sans MS",g["ComicSansMS-Bold"]="Comic Sans MS-Bold",g["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",g["ComicSansMS-Italic"]="Comic Sans MS-Italic",g.Impact="Helvetica",g["ItcSymbol-Bold"]="Helvetica-Bold",g["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",g["ItcSymbol-Book"]="Helvetica",g["ItcSymbol-BookItalic"]="Helvetica-Oblique",g["ItcSymbol-Medium"]="Helvetica",g["ItcSymbol-MediumItalic"]="Helvetica-Oblique",g.LucidaConsole="Courier",g["LucidaConsole-Bold"]="Courier-Bold",g["LucidaConsole-BoldItalic"]="Courier-BoldOblique",g["LucidaConsole-Italic"]="Courier-Oblique",g["LucidaSans-Demi"]="Helvetica-Bold",g["MS-Gothic"]="MS Gothic",g["MS-Gothic-Bold"]="MS Gothic-Bold",g["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",g["MS-Gothic-Italic"]="MS Gothic-Italic",g["MS-Mincho"]="MS Mincho",g["MS-Mincho-Bold"]="MS Mincho-Bold",g["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",g["MS-Mincho-Italic"]="MS Mincho-Italic",g["MS-PGothic"]="MS PGothic",g["MS-PGothic-Bold"]="MS PGothic-Bold",g["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",g["MS-PGothic-Italic"]="MS PGothic-Italic",g["MS-PMincho"]="MS PMincho",g["MS-PMincho-Bold"]="MS PMincho-Bold",g["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",g["MS-PMincho-Italic"]="MS PMincho-Italic",g.NuptialScript="Times-Italic",g.SegoeUISymbol="Helvetica"}),getSerifFonts=getLookupTableFactory(function(g){g["Adobe Jenson"]=!0,g["Adobe Text"]=!0,g.Albertus=!0,g.Aldus=!0,g.Alexandria=!0,g.Algerian=!0,g["American Typewriter"]=!0,g.Antiqua=!0,g.Apex=!0,g.Arno=!0,g.Aster=!0,g.Aurora=!0,g.Baskerville=!0,g.Bell=!0,g.Bembo=!0,g["Bembo Schoolbook"]=!0,g.Benguiat=!0,g["Berkeley Old Style"]=!0,g["Bernhard Modern"]=!0,g["Berthold City"]=!0,g.Bodoni=!0,g["Bauer Bodoni"]=!0,g["Book Antiqua"]=!0,g.Bookman=!0,g["Bordeaux Roman"]=!0,g["Californian FB"]=!0,g.Calisto=!0,g.Calvert=!0,g.Capitals=!0,g.Cambria=!0,g.Cartier=!0,g.Caslon=!0,g.Catull=!0,g.Centaur=!0,g["Century Old Style"]=!0,g["Century Schoolbook"]=!0,g.Chaparral=!0,g["Charis SIL"]=!0,g.Cheltenham=!0,g["Cholla Slab"]=!0,g.Clarendon=!0,g.Clearface=!0,g.Cochin=!0,g.Colonna=!0,g["Computer Modern"]=!0,g["Concrete Roman"]=!0,g.Constantia=!0,g["Cooper Black"]=!0,g.Corona=!0,g.Ecotype=!0,g.Egyptienne=!0,g.Elephant=!0,g.Excelsior=!0,g.Fairfield=!0,g["FF Scala"]=!0,g.Folkard=!0,g.Footlight=!0,g.FreeSerif=!0,g["Friz Quadrata"]=!0,g.Garamond=!0,g.Gentium=!0,g.Georgia=!0,g.Gloucester=!0,g["Goudy Old Style"]=!0,g["Goudy Schoolbook"]=!0,g["Goudy Pro Font"]=!0,g.Granjon=!0,g["Guardian Egyptian"]=!0,g.Heather=!0,g.Hercules=!0,g["High Tower Text"]=!0,g.Hiroshige=!0,g["Hoefler Text"]=!0,g["Humana Serif"]=!0,g.Imprint=!0,g["Ionic No. 5"]=!0,g.Janson=!0,g.Joanna=!0,g.Korinna=!0,g.Lexicon=!0,g.LiberationSerif=!0,g["Liberation Serif"]=!0,g["Linux Libertine"]=!0,g.Literaturnaya=!0,g.Lucida=!0,g["Lucida Bright"]=!0,g.Melior=!0,g.Memphis=!0,g.Miller=!0,g.Minion=!0,g.Modern=!0,g["Mona Lisa"]=!0,g["Mrs Eaves"]=!0,g["MS Serif"]=!0,g["Museo Slab"]=!0,g["New York"]=!0,g["Nimbus Roman"]=!0,g["NPS Rawlinson Roadway"]=!0,g.NuptialScript=!0,g.Palatino=!0,g.Perpetua=!0,g.Plantin=!0,g["Plantin Schoolbook"]=!0,g.Playbill=!0,g["Poor Richard"]=!0,g["Rawlinson Roadway"]=!0,g.Renault=!0,g.Requiem=!0,g.Rockwell=!0,g.Roman=!0,g["Rotis Serif"]=!0,g.Sabon=!0,g.Scala=!0,g.Seagull=!0,g.Sistina=!0,g.Souvenir=!0,g.STIX=!0,g["Stone Informal"]=!0,g["Stone Serif"]=!0,g.Sylfaen=!0,g.Times=!0,g.Trajan=!0,g.Trinit=!0,g["Trump Mediaeval"]=!0,g.Utopia=!0,g["Vale Type"]=!0,g["Bitstream Vera"]=!0,g["Vera Serif"]=!0,g.Versailles=!0,g.Wanted=!0,g.Weiss=!0,g["Wide Latin"]=!0,g.Windsor=!0,g.XITS=!0}),getSymbolsFonts=getLookupTableFactory(function(g){g.Dingbats=!0,g.Symbol=!0,g.ZapfDingbats=!0,g.Wingdings=!0,g["Wingdings-Bold"]=!0,g["Wingdings-Regular"]=!0}),getGlyphMapForStandardFonts=getLookupTableFactory(function(g){g[2]=10,g[3]=32,g[4]=33,g[5]=34,g[6]=35,g[7]=36,g[8]=37,g[9]=38,g[10]=39,g[11]=40,g[12]=41,g[13]=42,g[14]=43,g[15]=44,g[16]=45,g[17]=46,g[18]=47,g[19]=48,g[20]=49,g[21]=50,g[22]=51,g[23]=52,g[24]=53,g[25]=54,g[26]=55,g[27]=56,g[28]=57,g[29]=58,g[30]=894,g[31]=60,g[32]=61,g[33]=62,g[34]=63,g[35]=64,g[36]=65,g[37]=66,g[38]=67,g[39]=68,g[40]=69,g[41]=70,g[42]=71,g[43]=72,g[44]=73,g[45]=74,g[46]=75,g[47]=76,g[48]=77,g[49]=78,g[50]=79,g[51]=80,g[52]=81,g[53]=82,g[54]=83,g[55]=84,g[56]=85,g[57]=86,g[58]=87,g[59]=88,g[60]=89,g[61]=90,g[62]=91,g[63]=92,g[64]=93,g[65]=94,g[66]=95,g[67]=96,g[68]=97,g[69]=98,g[70]=99,g[71]=100,g[72]=101,g[73]=102,g[74]=103,g[75]=104,g[76]=105,g[77]=106,g[78]=107,g[79]=108,g[80]=109,g[81]=110,g[82]=111,g[83]=112,g[84]=113,g[85]=114,g[86]=115,g[87]=116,g[88]=117,g[89]=118,g[90]=119,g[91]=120,g[92]=121,g[93]=122,g[94]=123,g[95]=124,g[96]=125,g[97]=126,g[98]=196,g[99]=197,g[100]=199,g[101]=201,g[102]=209,g[103]=214,g[104]=220,g[105]=225,g[106]=224,g[107]=226,g[108]=228,g[109]=227,g[110]=229,g[111]=231,g[112]=233,g[113]=232,g[114]=234,g[115]=235,g[116]=237,g[117]=236,g[118]=238,g[119]=239,g[120]=241,g[121]=243,g[122]=242,g[123]=244,g[124]=246,g[125]=245,g[126]=250,g[127]=249,g[128]=251,g[129]=252,g[130]=8224,g[131]=176,g[132]=162,g[133]=163,g[134]=167,g[135]=8226,g[136]=182,g[137]=223,g[138]=174,g[139]=169,g[140]=8482,g[141]=180,g[142]=168,g[143]=8800,g[144]=198,g[145]=216,g[146]=8734,g[147]=177,g[148]=8804,g[149]=8805,g[150]=165,g[151]=181,g[152]=8706,g[153]=8721,g[154]=8719,g[156]=8747,g[157]=170,g[158]=186,g[159]=8486,g[160]=230,g[161]=248,g[162]=191,g[163]=161,g[164]=172,g[165]=8730,g[166]=402,g[167]=8776,g[168]=8710,g[169]=171,g[170]=187,g[171]=8230,g[179]=8220,g[180]=8221,g[181]=8216,g[182]=8217,g[200]=193,g[203]=205,g[207]=211,g[210]=218,g[223]=711,g[224]=321,g[225]=322,g[226]=352,g[227]=353,g[228]=381,g[229]=382,g[233]=221,g[234]=253,g[252]=263,g[253]=268,g[254]=269,g[258]=258,g[260]=260,g[261]=261,g[265]=280,g[266]=281,g[267]=282,g[268]=283,g[269]=313,g[275]=323,g[276]=324,g[278]=328,g[283]=344,g[284]=345,g[285]=346,g[286]=347,g[292]=367,g[295]=377,g[296]=378,g[298]=380,g[305]=963,g[306]=964,g[307]=966,g[308]=8215,g[309]=8252,g[310]=8319,g[311]=8359,g[312]=8592,g[313]=8593,g[337]=9552,g[493]=1039,g[494]=1040,g[672]=1488,g[673]=1489,g[674]=1490,g[675]=1491,g[676]=1492,g[677]=1493,g[678]=1494,g[679]=1495,g[680]=1496,g[681]=1497,g[682]=1498,g[683]=1499,g[684]=1500,g[685]=1501,g[686]=1502,g[687]=1503,g[688]=1504,g[689]=1505,g[690]=1506,g[691]=1507,g[692]=1508,g[693]=1509,g[694]=1510,g[695]=1511,g[696]=1512,g[697]=1513,g[698]=1514,g[705]=1524,g[706]=8362,g[710]=64288,g[711]=64298,g[759]=1617,g[761]=1776,g[763]=1778,g[775]=1652,g[777]=1764,g[778]=1780,g[779]=1781,g[780]=1782,g[782]=771,g[783]=64726,g[786]=8363,g[788]=8532,g[790]=768,g[791]=769,g[792]=768,g[795]=803,g[797]=64336,g[798]=64337,g[799]=64342,g[800]=64343,g[801]=64344,g[802]=64345,g[803]=64362,g[804]=64363,g[805]=64364,g[2424]=7821,g[2425]=7822,g[2426]=7823,g[2427]=7824,g[2428]=7825,g[2429]=7826,g[2430]=7827,g[2433]=7682,g[2678]=8045,g[2679]=8046,g[2830]=1552,g[2838]=686,g[2840]=751,g[2842]=753,g[2843]=754,g[2844]=755,g[2846]=757,g[2856]=767,g[2857]=848,g[2858]=849,g[2862]=853,g[2863]=854,g[2864]=855,g[2865]=861,g[2866]=862,g[2906]=7460,g[2908]=7462,g[2909]=7463,g[2910]=7464,g[2912]=7466,g[2913]=7467,g[2914]=7468,g[2916]=7470,g[2917]=7471,g[2918]=7472,g[2920]=7474,g[2921]=7475,g[2922]=7476,g[2924]=7478,g[2925]=7479,g[2926]=7480,g[2928]=7482,g[2929]=7483,g[2930]=7484,g[2932]=7486,g[2933]=7487,g[2934]=7488,g[2936]=7490,g[2937]=7491,g[2938]=7492,g[2940]=7494,g[2941]=7495,g[2942]=7496,g[2944]=7498,g[2946]=7500,g[2948]=7502,g[2950]=7504,g[2951]=7505,g[2952]=7506,g[2954]=7508,g[2955]=7509,g[2956]=7510,g[2958]=7512,g[2959]=7513,g[2960]=7514,g[2962]=7516,g[2963]=7517,g[2964]=7518,g[2966]=7520,g[2967]=7521,g[2968]=7522,g[2970]=7524,g[2971]=7525,g[2972]=7526,g[2974]=7528,g[2975]=7529,g[2976]=7530,g[2978]=1537,g[2979]=1538,g[2980]=1539,g[2982]=1549,g[2983]=1551,g[2984]=1552,g[2986]=1554,g[2987]=1555,g[2988]=1556,g[2990]=1623,g[2991]=1624,g[2995]=1775,g[2999]=1791,g[3002]=64290,g[3003]=64291,g[3004]=64292,g[3006]=64294,g[3007]=64295,g[3008]=64296,g[3011]=1900,g[3014]=8223,g[3015]=8244,g[3017]=7532,g[3018]=7533,g[3019]=7534,g[3075]=7590,g[3076]=7591,g[3079]=7594,g[3080]=7595,g[3083]=7598,g[3084]=7599,g[3087]=7602,g[3088]=7603,g[3091]=7606,g[3092]=7607,g[3095]=7610,g[3096]=7611,g[3099]=7614,g[3100]=7615,g[3103]=7618,g[3104]=7619,g[3107]=8337,g[3108]=8338,g[3116]=1884,g[3119]=1885,g[3120]=1885,g[3123]=1886,g[3124]=1886,g[3127]=1887,g[3128]=1887,g[3131]=1888,g[3132]=1888,g[3135]=1889,g[3136]=1889,g[3139]=1890,g[3140]=1890,g[3143]=1891,g[3144]=1891,g[3147]=1892,g[3148]=1892,g[3153]=580,g[3154]=581,g[3157]=584,g[3158]=585,g[3161]=588,g[3162]=589,g[3165]=891,g[3166]=892,g[3169]=1274,g[3170]=1275,g[3173]=1278,g[3174]=1279,g[3181]=7622,g[3182]=7623,g[3282]=11799,g[3316]=578,g[3379]=42785,g[3393]=1159,g[3416]=8377}),getSupplementalGlyphMapForArialBlack=getLookupTableFactory(function(g){g[227]=322,g[264]=261,g[291]=346}),getSupplementalGlyphMapForCalibri=getLookupTableFactory(function(g){g[1]=32,g[4]=65,g[5]=192,g[6]=193,g[9]=196,g[17]=66,g[18]=67,g[21]=268,g[24]=68,g[28]=69,g[29]=200,g[30]=201,g[32]=282,g[38]=70,g[39]=71,g[44]=72,g[47]=73,g[48]=204,g[49]=205,g[58]=74,g[60]=75,g[62]=76,g[68]=77,g[69]=78,g[75]=79,g[76]=210,g[80]=214,g[87]=80,g[89]=81,g[90]=82,g[92]=344,g[94]=83,g[97]=352,g[100]=84,g[104]=85,g[109]=220,g[115]=86,g[116]=87,g[121]=88,g[122]=89,g[124]=221,g[127]=90,g[129]=381,g[258]=97,g[259]=224,g[260]=225,g[263]=228,g[268]=261,g[271]=98,g[272]=99,g[273]=263,g[275]=269,g[282]=100,g[286]=101,g[287]=232,g[288]=233,g[290]=283,g[295]=281,g[296]=102,g[336]=103,g[346]=104,g[349]=105,g[350]=236,g[351]=237,g[361]=106,g[364]=107,g[367]=108,g[371]=322,g[373]=109,g[374]=110,g[381]=111,g[382]=242,g[383]=243,g[386]=246,g[393]=112,g[395]=113,g[396]=114,g[398]=345,g[400]=115,g[401]=347,g[403]=353,g[410]=116,g[437]=117,g[442]=252,g[448]=118,g[449]=119,g[454]=120,g[455]=121,g[457]=253,g[460]=122,g[462]=382,g[463]=380,g[853]=44,g[855]=58,g[856]=46,g[876]=47,g[878]=45,g[882]=45,g[894]=40,g[895]=41,g[896]=91,g[897]=93,g[923]=64,g[1004]=48,g[1005]=49,g[1006]=50,g[1007]=51,g[1008]=52,g[1009]=53,g[1010]=54,g[1011]=55,g[1012]=56,g[1013]=57,g[1081]=37,g[1085]=43,g[1086]=45});function getStandardFontName(g){const d=normalizeFontName(g);return getStdFontMap()[d]}function isKnownFontName(g){const d=normalizeFontName(g);return!!(getStdFontMap()[d]||getNonStdFontMap()[d]||getSerifFonts()[d]||getSymbolsFonts()[d])}class ToUnicodeMap{constructor(d=[]){this._map=d}get length(){return this._map.length}forEach(d){for(const x in this._map)d(x,this._map[x].charCodeAt(0))}has(d){return this._map[d]!==void 0}get(d){return this._map[d]}charCodeOf(d){const x=this._map;if(x.length<=65536)return x.indexOf(d);for(const b in x)if(x[b]===d)return b|0;return-1}amend(d){for(const x in d)this._map[x]=d[x]}}class IdentityToUnicodeMap{constructor(d,x){this.firstChar=d,this.lastChar=x}get length(){return this.lastChar+1-this.firstChar}forEach(d){for(let x=this.firstChar,b=this.lastChar;x<=b;x++)d(x,x)}has(d){return this.firstChar<=d&&d<=this.lastChar}get(d){if(this.firstChar<=d&&d<=this.lastChar)return String.fromCharCode(d)}charCodeOf(d){return Number.isInteger(d)&&d>=this.firstChar&&d<=this.lastChar?d:-1}amend(d){unreachable("Should not call amend()")}}class CFFFont{constructor(d,x){this.properties=x;const b=new CFFParser(d,x,SEAC_ANALYSIS_ENABLED);this.cff=b.parse(),this.cff.duplicateFirstGlyph();const S=new CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=S.compile()}catch{warn("Failed to compile font "+x.loadedName),this.data=d}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const d=this.cff,x=this.properties,{cidToGidMap:b,cMap:S}=x,w=d.charset.charset;let C,F;if(x.composite){let k;if(b?.length>0){k=Object.create(null);for(let M=0,L=b.length;M<L;M++){const R=b[M];R!==void 0&&(k[R]=M)}}C=Object.create(null);let D;if(d.isCIDFont)for(F=0;F<w.length;F++){const M=w[F];D=S.charCodeOf(M),k?.[D]!==void 0&&(D=k[D]),C[D]=F}else for(F=0;F<d.charStrings.count;F++)D=S.charCodeOf(F),C[D]=F;return C}let E=d.encoding?d.encoding.encoding:null;return x.isInternalFont&&(E=x.defaultEncoding),C=type1FontGlyphMapping(x,E,w),C}hasGlyphId(d){return this.cff.hasGlyphId(d)}_createBuiltInEncoding(){const{charset:d,encoding:x}=this.cff;if(!d||!x)return;const b=d.charset,S=x.encoding,w=[];for(const C in S){const F=S[C];if(F>=0){const E=b[F];E&&(w[C]=E)}}w.length>0&&(this.properties.builtInEncoding=w)}}function getUint32(g,d){return(g[d]<<24|g[d+1]<<16|g[d+2]<<8|g[d+3])>>>0}function getUint16(g,d){return g[d]<<8|g[d+1]}function getInt16(g,d){return(g[d]<<24|g[d+1]<<16)>>16}function getInt8(g,d){return g[d]<<24>>24}function getFloat214(g,d){return getInt16(g,d)/16384}function getSubroutineBias(g){const d=g.length;let x=32768;return d<1240?x=107:d<33900&&(x=1131),x}function parseCmap(g,d,x){const b=getUint16(g,d+2)===1?getUint32(g,d+8):getUint32(g,d+16),S=getUint16(g,d+b);let w,C,F;if(S===4){getUint16(g,d+b+2);const E=getUint16(g,d+b+6)>>1;for(C=d+b+14,w=[],F=0;F<E;F++,C+=2)w[F]={end:getUint16(g,C)};for(C+=2,F=0;F<E;F++,C+=2)w[F].start=getUint16(g,C);for(F=0;F<E;F++,C+=2)w[F].idDelta=getUint16(g,C);for(F=0;F<E;F++,C+=2){let k=getUint16(g,C);if(k!==0){w[F].ids=[];for(let D=0,M=w[F].end-w[F].start+1;D<M;D++)w[F].ids[D]=getUint16(g,C+k),k+=2}}return w}else if(S===12){const E=getUint32(g,d+b+12);for(C=d+b+16,w=[],F=0;F<E;F++)d=getUint32(g,C),w.push({start:d,end:getUint32(g,C+4),idDelta:getUint32(g,C+8)-d}),C+=12;return w}throw new FormatError(`unsupported cmap: ${S}`)}function parseCff(g,d,x,b){const S={},C=new CFFParser(new Stream$1(g,d,x-d),S,b).parse();return{glyphs:C.charStrings.objects,subrs:C.topDict.privateDict?.subrsIndex?.objects,gsubrs:C.globalSubrIndex?.objects,isCFFCIDFont:C.isCIDFont,fdSelect:C.fdSelect,fdArray:C.fdArray}}function parseGlyfTable(g,d,x){let b,S;x?(b=4,S=getUint32):(b=2,S=(F,E)=>2*getUint16(F,E));const w=[];let C=S(d,0);for(let F=b;F<d.length;F+=b){const E=S(d,F);w.push(g.subarray(C,E)),C=E}return w}function lookupCmap(g,d){const x=d.codePointAt(0);let b=0,S=0,w=g.length-1;for(;S<w;){const C=S+w+1>>1;x<g[C].start?w=C-1:S=C}return g[S].start<=x&&x<=g[S].end&&(b=g[S].idDelta+(g[S].ids?g[S].ids[x-g[S].start]:x)&65535),{charCode:x,glyphId:b}}function compileGlyf(g,d,x){function b(M,L){d.push({cmd:"moveTo",args:[M,L]})}function S(M,L){d.push({cmd:"lineTo",args:[M,L]})}function w(M,L,R,U){d.push({cmd:"quadraticCurveTo",args:[M,L,R,U]})}let C=0;const F=getInt16(g,C);let E,k=0,D=0;if(C+=10,F<0)do{E=getUint16(g,C);const M=getUint16(g,C+2);C+=4;let L,R;E&1?(E&2?(L=getInt16(g,C),R=getInt16(g,C+2)):(L=getUint16(g,C),R=getUint16(g,C+2)),C+=4):E&2?(L=getInt8(g,C++),R=getInt8(g,C++)):(L=g[C++],R=g[C++]),E&2?(k=L,D=R):(k=0,D=0);let U=1,j=1,H=0,V=0;E&8?(U=j=getFloat214(g,C),C+=2):E&64?(U=getFloat214(g,C),j=getFloat214(g,C+2),C+=4):E&128&&(U=getFloat214(g,C),H=getFloat214(g,C+2),V=getFloat214(g,C+4),j=getFloat214(g,C+6),C+=8);const z=x.glyphs[M];z&&(d.push({cmd:"save"},{cmd:"transform",args:[U,H,V,j,k,D]}),compileGlyf(z,d,x),d.push({cmd:"restore"}))}while(E&32);else{const M=[];let L,R;for(L=0;L<F;L++)M.push(getUint16(g,C)),C+=2;const U=getUint16(g,C);C+=2+U;const j=M.at(-1)+1,H=[];for(;H.length<j;){E=g[C++];let z=1;for(E&8&&(z+=g[C++]);z-- >0;)H.push({flags:E})}for(L=0;L<j;L++){switch(H[L].flags&18){case 0:k+=getInt16(g,C),C+=2;break;case 2:k-=g[C++];break;case 18:k+=g[C++];break}H[L].x=k}for(L=0;L<j;L++){switch(H[L].flags&36){case 0:D+=getInt16(g,C),C+=2;break;case 4:D-=g[C++];break;case 36:D+=g[C++];break}H[L].y=D}let V=0;for(C=0;C<F;C++){const z=M[C],G=H.slice(V,z+1);if(G[0].flags&1)G.push(G[0]);else if(G.at(-1).flags&1)G.unshift(G.at(-1));else{const X={flags:1,x:(G[0].x+G.at(-1).x)/2,y:(G[0].y+G.at(-1).y)/2};G.unshift(X),G.push(X)}for(b(G[0].x,G[0].y),L=1,R=G.length;L<R;L++)G[L].flags&1?S(G[L].x,G[L].y):G[L+1].flags&1?(w(G[L].x,G[L].y,G[L+1].x,G[L+1].y),L++):w(G[L].x,G[L].y,(G[L].x+G[L+1].x)/2,(G[L].y+G[L+1].y)/2);V=z+1}}}function compileCharString(g,d,x,b){function S(L,R){d.push({cmd:"moveTo",args:[L,R]})}function w(L,R){d.push({cmd:"lineTo",args:[L,R]})}function C(L,R,U,j,H,V){d.push({cmd:"bezierCurveTo",args:[L,R,U,j,H,V]})}const F=[];let E=0,k=0,D=0;function M(L){let R=0;for(;R<L.length;){let U=!1,j=L[R++],H,V,z,G,X,Y,J,ee,ie;switch(j){case 1:D+=F.length>>1,U=!0;break;case 3:D+=F.length>>1,U=!0;break;case 4:k+=F.pop(),S(E,k),U=!0;break;case 5:for(;F.length>0;)E+=F.shift(),k+=F.shift(),w(E,k);break;case 6:for(;F.length>0&&(E+=F.shift(),w(E,k),F.length!==0);)k+=F.shift(),w(E,k);break;case 7:for(;F.length>0&&(k+=F.shift(),w(E,k),F.length!==0);)E+=F.shift(),w(E,k);break;case 8:for(;F.length>0;)H=E+F.shift(),z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+F.shift(),C(H,z,V,G,E,k);break;case 10:if(ee=F.pop(),ie=null,x.isCFFCIDFont){const oe=x.fdSelect.getFDIndex(b);if(oe>=0&&oe<x.fdArray.length){const he=x.fdArray[oe];let fe;he.privateDict?.subrsIndex&&(fe=he.privateDict.subrsIndex.objects),fe&&(ee+=getSubroutineBias(fe),ie=fe[ee])}else warn("Invalid fd index for glyph index.")}else ie=x.subrs[ee+x.subrsBias];ie&&M(ie);break;case 11:return;case 12:switch(j=L[R++],j){case 34:H=E+F.shift(),V=H+F.shift(),X=k+F.shift(),E=V+F.shift(),C(H,k,V,X,E,X),H=E+F.shift(),V=H+F.shift(),E=V+F.shift(),C(H,X,V,k,E,k);break;case 35:H=E+F.shift(),z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+F.shift(),C(H,z,V,G,E,k),H=E+F.shift(),z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+F.shift(),C(H,z,V,G,E,k),F.pop();break;case 36:H=E+F.shift(),X=k+F.shift(),V=H+F.shift(),Y=X+F.shift(),E=V+F.shift(),C(H,X,V,Y,E,Y),H=E+F.shift(),V=H+F.shift(),J=Y+F.shift(),E=V+F.shift(),C(H,Y,V,J,E,k);break;case 37:const oe=E,he=k;H=E+F.shift(),z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+F.shift(),C(H,z,V,G,E,k),H=E+F.shift(),z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V,k=G,Math.abs(E-oe)>Math.abs(k-he)?E+=F.shift():k+=F.shift(),C(H,z,V,G,E,k);break;default:throw new FormatError(`unknown operator: 12 ${j}`)}break;case 14:if(F.length>=4){const oe=F.pop(),he=F.pop();k=F.pop(),E=F.pop(),d.push({cmd:"save"},{cmd:"translate",args:[E,k]});let fe=lookupCmap(x.cmap,String.fromCharCode(x.glyphNameMap[StandardEncoding[oe]]));compileCharString(x.glyphs[fe.glyphId],d,x,fe.glyphId),d.push({cmd:"restore"}),fe=lookupCmap(x.cmap,String.fromCharCode(x.glyphNameMap[StandardEncoding[he]])),compileCharString(x.glyphs[fe.glyphId],d,x,fe.glyphId)}return;case 18:D+=F.length>>1,U=!0;break;case 19:D+=F.length>>1,R+=D+7>>3,U=!0;break;case 20:D+=F.length>>1,R+=D+7>>3,U=!0;break;case 21:k+=F.pop(),E+=F.pop(),S(E,k),U=!0;break;case 22:E+=F.pop(),S(E,k),U=!0;break;case 23:D+=F.length>>1,U=!0;break;case 24:for(;F.length>2;)H=E+F.shift(),z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+F.shift(),C(H,z,V,G,E,k);E+=F.shift(),k+=F.shift(),w(E,k);break;case 25:for(;F.length>6;)E+=F.shift(),k+=F.shift(),w(E,k);H=E+F.shift(),z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+F.shift(),C(H,z,V,G,E,k);break;case 26:for(F.length%2&&(E+=F.shift());F.length>0;)H=E,z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V,k=G+F.shift(),C(H,z,V,G,E,k);break;case 27:for(F.length%2&&(k+=F.shift());F.length>0;)H=E+F.shift(),z=k,V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G,C(H,z,V,G,E,k);break;case 28:F.push((L[R]<<24|L[R+1]<<16)>>16),R+=2;break;case 29:ee=F.pop()+x.gsubrsBias,ie=x.gsubrs[ee],ie&&M(ie);break;case 30:for(;F.length>0&&(H=E,z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+(F.length===1?F.shift():0),C(H,z,V,G,E,k),F.length!==0);)H=E+F.shift(),z=k,V=H+F.shift(),G=z+F.shift(),k=G+F.shift(),E=V+(F.length===1?F.shift():0),C(H,z,V,G,E,k);break;case 31:for(;F.length>0&&(H=E+F.shift(),z=k,V=H+F.shift(),G=z+F.shift(),k=G+F.shift(),E=V+(F.length===1?F.shift():0),C(H,z,V,G,E,k),F.length!==0);)H=E,z=k+F.shift(),V=H+F.shift(),G=z+F.shift(),E=V+F.shift(),k=G+(F.length===1?F.shift():0),C(H,z,V,G,E,k);break;default:if(j<32)throw new FormatError(`unknown operator: ${j}`);j<247?F.push(j-139):j<251?F.push((j-247)*256+L[R++]+108):j<255?F.push(-(j-251)*256-L[R++]-108):(F.push((L[R]<<24|L[R+1]<<16|L[R+2]<<8|L[R+3])/65536),R+=4);break}U&&(F.length=0)}}M(g)}const NOOP=[];class CompiledFont{constructor(d){this.constructor===CompiledFont&&unreachable("Cannot initialize CompiledFont."),this.fontMatrix=d,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(d){const{charCode:x,glyphId:b}=lookupCmap(this.cmap,d);let S=this.compiledGlyphs[b];if(!S)try{S=this.compileGlyph(this.glyphs[b],b),this.compiledGlyphs[b]=S}catch(w){throw this.compiledGlyphs[b]=NOOP,this.compiledCharCodeToGlyphId[x]===void 0&&(this.compiledCharCodeToGlyphId[x]=b),w}return this.compiledCharCodeToGlyphId[x]===void 0&&(this.compiledCharCodeToGlyphId[x]=b),S}compileGlyph(d,x){if(!d||d.length===0||d[0]===14)return NOOP;let b=this.fontMatrix;if(this.isCFFCIDFont){const w=this.fdSelect.getFDIndex(x);w>=0&&w<this.fdArray.length?b=this.fdArray[w].getByName("FontMatrix")||FONT_IDENTITY_MATRIX:warn("Invalid fd index for glyph index.")}const S=[{cmd:"save"},{cmd:"transform",args:b.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(d,S,x),S.push({cmd:"restore"}),S}compileGlyphImpl(){unreachable("Children classes should implement this.")}hasBuiltPath(d){const{charCode:x,glyphId:b}=lookupCmap(this.cmap,d);return this.compiledGlyphs[b]!==void 0&&this.compiledCharCodeToGlyphId[x]!==void 0}}class TrueTypeCompiled extends CompiledFont{constructor(d,x,b){super(b||[488e-6,0,0,488e-6,0,0]),this.glyphs=d,this.cmap=x}compileGlyphImpl(d,x){compileGlyf(d,x,this)}}class Type2Compiled extends CompiledFont{constructor(d,x,b,S){super(b||[.001,0,0,.001,0,0]),this.glyphs=d.glyphs,this.gsubrs=d.gsubrs||[],this.subrs=d.subrs||[],this.cmap=x,this.glyphNameMap=S||getGlyphsUnicode(),this.gsubrsBias=getSubroutineBias(this.gsubrs),this.subrsBias=getSubroutineBias(this.subrs),this.isCFFCIDFont=d.isCFFCIDFont,this.fdSelect=d.fdSelect,this.fdArray=d.fdArray}compileGlyphImpl(d,x,b){compileCharString(d,x,this,b)}}class FontRendererFactory{static create(d,x){const b=new Uint8Array(d.data);let S,w,C,F,E,k;const D=getUint16(b,4);for(let M=0,L=12;M<D;M++,L+=16){const R=bytesToString(b.subarray(L,L+4)),U=getUint32(b,L+8),j=getUint32(b,L+12);switch(R){case"cmap":S=parseCmap(b,U);break;case"glyf":w=b.subarray(U,U+j);break;case"loca":C=b.subarray(U,U+j);break;case"head":k=getUint16(b,U+18),E=getUint16(b,U+50);break;case"CFF ":F=parseCff(b,U,U+j,x);break}}if(w){const M=k?[1/k,0,0,1/k,0,0]:d.fontMatrix;return new TrueTypeCompiled(parseGlyfTable(w,C,E),S,M)}return new Type2Compiled(F,S,d.fontMatrix,d.glyphNameMap)}}const getMetrics=getLookupTableFactory(function(g){g.Courier=600,g["Courier-Bold"]=600,g["Courier-BoldOblique"]=600,g["Courier-Oblique"]=600,g.Helvetica=getLookupTableFactory(function(d){d.space=278,d.exclam=278,d.quotedbl=355,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=667,d.quoteright=222,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=278,d.semicolon=278,d.less=584,d.equal=584,d.greater=584,d.question=556,d.at=1015,d.A=667,d.B=667,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=500,d.K=667,d.L=556,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=278,d.backslash=278,d.bracketright=278,d.asciicircum=469,d.underscore=556,d.quoteleft=222,d.a=556,d.b=556,d.c=500,d.d=556,d.e=556,d.f=278,d.g=556,d.h=556,d.i=222,d.j=222,d.k=500,d.l=222,d.m=833,d.n=556,d.o=556,d.p=556,d.q=556,d.r=333,d.s=500,d.t=278,d.u=556,d.v=500,d.w=722,d.x=500,d.y=500,d.z=500,d.braceleft=334,d.bar=260,d.braceright=334,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=191,d.quotedblleft=333,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=500,d.fl=500,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=537,d.bullet=350,d.quotesinglbase=222,d.quotedblbase=333,d.quotedblright=333,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=556,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=222,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=556,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=667,d.aacute=556,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=500,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=500,d.aring=556,d.Ncommaaccent=722,d.lacute=222,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=500,d.scedilla=500,d.iacute=278,d.lozenge=471,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=556,d.acircumflex=556,d.Amacron=667,d.rcaron=333,d.ccedilla=500,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=643,d.Umacron=722,d.uring=556,d.threesuperior=333,d.Ograve=778,d.Agrave=667,d.Abreve=667,d.multiply=584,d.uacute=556,d.Tcaron=611,d.partialdiff=476,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=500,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=260,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=333,d.omacron=556,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=222,d.tcaron=317,d.eogonek=556,d.Uogonek=722,d.Aacute=667,d.Adieresis=667,d.egrave=556,d.zacute=500,d.iogonek=222,d.Oacute=778,d.oacute=556,d.amacron=556,d.sacute=500,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=556,d.twosuperior=333,d.Odieresis=778,d.mu=556,d.igrave=278,d.ohungarumlaut=556,d.Eogonek=667,d.dcroat=556,d.threequarters=834,d.Scedilla=667,d.lcaron=299,d.Kcommaaccent=667,d.Lacute=556,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=556,d.onehalf=834,d.lessequal=549,d.ocircumflex=556,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=556,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=556,d.Ccaron=722,d.ugrave=556,d.radical=453,d.Dcaron=722,d.rcommaaccent=333,d.Ntilde=722,d.otilde=556,d.Rcommaaccent=722,d.Lcommaaccent=556,d.Atilde=667,d.Aogonek=667,d.Aring=667,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=500,d.minus=584,d.Icircumflex=278,d.ncaron=556,d.tcommaaccent=278,d.logicalnot=584,d.odieresis=556,d.udieresis=556,d.notequal=549,d.gcommaaccent=556,d.eth=556,d.zcaron=500,d.ncommaaccent=556,d.onesuperior=333,d.imacron=278,d.Euro=556}),g["Helvetica-Bold"]=getLookupTableFactory(function(d){d.space=278,d.exclam=333,d.quotedbl=474,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=722,d.quoteright=278,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=333,d.semicolon=333,d.less=584,d.equal=584,d.greater=584,d.question=611,d.at=975,d.A=722,d.B=722,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=556,d.K=722,d.L=611,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=584,d.underscore=556,d.quoteleft=278,d.a=556,d.b=611,d.c=556,d.d=611,d.e=556,d.f=333,d.g=611,d.h=611,d.i=278,d.j=278,d.k=556,d.l=278,d.m=889,d.n=611,d.o=611,d.p=611,d.q=611,d.r=389,d.s=556,d.t=333,d.u=611,d.v=556,d.w=778,d.x=556,d.y=556,d.z=500,d.braceleft=389,d.bar=280,d.braceright=389,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=238,d.quotedblleft=500,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=611,d.fl=611,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=556,d.bullet=350,d.quotesinglbase=278,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=611,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=278,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=611,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=722,d.aacute=556,d.Ucircumflex=722,d.yacute=556,d.scommaaccent=556,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=611,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=556,d.aring=556,d.Ncommaaccent=722,d.lacute=278,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=556,d.scedilla=556,d.iacute=278,d.lozenge=494,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=611,d.acircumflex=556,d.Amacron=722,d.rcaron=389,d.ccedilla=556,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=743,d.Umacron=722,d.uring=611,d.threesuperior=333,d.Ograve=778,d.Agrave=722,d.Abreve=722,d.multiply=584,d.uacute=611,d.Tcaron=611,d.partialdiff=494,d.ydieresis=556,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=556,d.nacute=611,d.umacron=611,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=280,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=389,d.omacron=611,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=278,d.tcaron=389,d.eogonek=556,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=556,d.zacute=500,d.iogonek=278,d.Oacute=778,d.oacute=611,d.amacron=556,d.sacute=556,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=611,d.twosuperior=333,d.Odieresis=778,d.mu=611,d.igrave=278,d.ohungarumlaut=611,d.Eogonek=667,d.dcroat=611,d.threequarters=834,d.Scedilla=667,d.lcaron=400,d.Kcommaaccent=722,d.Lacute=611,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=611,d.onehalf=834,d.lessequal=549,d.ocircumflex=611,d.ntilde=611,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=611,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=611,d.Ccaron=722,d.ugrave=611,d.radical=549,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=722,d.otilde=611,d.Rcommaaccent=722,d.Lcommaaccent=611,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=556,d.minus=584,d.Icircumflex=278,d.ncaron=611,d.tcommaaccent=333,d.logicalnot=584,d.odieresis=611,d.udieresis=611,d.notequal=549,d.gcommaaccent=611,d.eth=611,d.zcaron=500,d.ncommaaccent=611,d.onesuperior=333,d.imacron=278,d.Euro=556}),g["Helvetica-BoldOblique"]=getLookupTableFactory(function(d){d.space=278,d.exclam=333,d.quotedbl=474,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=722,d.quoteright=278,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=333,d.semicolon=333,d.less=584,d.equal=584,d.greater=584,d.question=611,d.at=975,d.A=722,d.B=722,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=556,d.K=722,d.L=611,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=584,d.underscore=556,d.quoteleft=278,d.a=556,d.b=611,d.c=556,d.d=611,d.e=556,d.f=333,d.g=611,d.h=611,d.i=278,d.j=278,d.k=556,d.l=278,d.m=889,d.n=611,d.o=611,d.p=611,d.q=611,d.r=389,d.s=556,d.t=333,d.u=611,d.v=556,d.w=778,d.x=556,d.y=556,d.z=500,d.braceleft=389,d.bar=280,d.braceright=389,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=238,d.quotedblleft=500,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=611,d.fl=611,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=556,d.bullet=350,d.quotesinglbase=278,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=611,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=278,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=611,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=722,d.aacute=556,d.Ucircumflex=722,d.yacute=556,d.scommaaccent=556,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=611,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=556,d.aring=556,d.Ncommaaccent=722,d.lacute=278,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=556,d.scedilla=556,d.iacute=278,d.lozenge=494,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=611,d.acircumflex=556,d.Amacron=722,d.rcaron=389,d.ccedilla=556,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=743,d.Umacron=722,d.uring=611,d.threesuperior=333,d.Ograve=778,d.Agrave=722,d.Abreve=722,d.multiply=584,d.uacute=611,d.Tcaron=611,d.partialdiff=494,d.ydieresis=556,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=556,d.nacute=611,d.umacron=611,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=280,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=389,d.omacron=611,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=278,d.tcaron=389,d.eogonek=556,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=556,d.zacute=500,d.iogonek=278,d.Oacute=778,d.oacute=611,d.amacron=556,d.sacute=556,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=611,d.twosuperior=333,d.Odieresis=778,d.mu=611,d.igrave=278,d.ohungarumlaut=611,d.Eogonek=667,d.dcroat=611,d.threequarters=834,d.Scedilla=667,d.lcaron=400,d.Kcommaaccent=722,d.Lacute=611,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=611,d.onehalf=834,d.lessequal=549,d.ocircumflex=611,d.ntilde=611,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=611,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=611,d.Ccaron=722,d.ugrave=611,d.radical=549,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=722,d.otilde=611,d.Rcommaaccent=722,d.Lcommaaccent=611,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=556,d.minus=584,d.Icircumflex=278,d.ncaron=611,d.tcommaaccent=333,d.logicalnot=584,d.odieresis=611,d.udieresis=611,d.notequal=549,d.gcommaaccent=611,d.eth=611,d.zcaron=500,d.ncommaaccent=611,d.onesuperior=333,d.imacron=278,d.Euro=556}),g["Helvetica-Oblique"]=getLookupTableFactory(function(d){d.space=278,d.exclam=278,d.quotedbl=355,d.numbersign=556,d.dollar=556,d.percent=889,d.ampersand=667,d.quoteright=222,d.parenleft=333,d.parenright=333,d.asterisk=389,d.plus=584,d.comma=278,d.hyphen=333,d.period=278,d.slash=278,d.zero=556,d.one=556,d.two=556,d.three=556,d.four=556,d.five=556,d.six=556,d.seven=556,d.eight=556,d.nine=556,d.colon=278,d.semicolon=278,d.less=584,d.equal=584,d.greater=584,d.question=556,d.at=1015,d.A=667,d.B=667,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=722,d.I=278,d.J=500,d.K=667,d.L=556,d.M=833,d.N=722,d.O=778,d.P=667,d.Q=778,d.R=722,d.S=667,d.T=611,d.U=722,d.V=667,d.W=944,d.X=667,d.Y=667,d.Z=611,d.bracketleft=278,d.backslash=278,d.bracketright=278,d.asciicircum=469,d.underscore=556,d.quoteleft=222,d.a=556,d.b=556,d.c=500,d.d=556,d.e=556,d.f=278,d.g=556,d.h=556,d.i=222,d.j=222,d.k=500,d.l=222,d.m=833,d.n=556,d.o=556,d.p=556,d.q=556,d.r=333,d.s=500,d.t=278,d.u=556,d.v=500,d.w=722,d.x=500,d.y=500,d.z=500,d.braceleft=334,d.bar=260,d.braceright=334,d.asciitilde=584,d.exclamdown=333,d.cent=556,d.sterling=556,d.fraction=167,d.yen=556,d.florin=556,d.section=556,d.currency=556,d.quotesingle=191,d.quotedblleft=333,d.guillemotleft=556,d.guilsinglleft=333,d.guilsinglright=333,d.fi=500,d.fl=500,d.endash=556,d.dagger=556,d.daggerdbl=556,d.periodcentered=278,d.paragraph=537,d.bullet=350,d.quotesinglbase=222,d.quotedblbase=333,d.quotedblright=333,d.guillemotright=556,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=611,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=370,d.Lslash=556,d.Oslash=778,d.OE=1e3,d.ordmasculine=365,d.ae=889,d.dotlessi=278,d.lslash=222,d.oslash=611,d.oe=944,d.germandbls=611,d.Idieresis=278,d.eacute=556,d.abreve=556,d.uhungarumlaut=556,d.ecaron=556,d.Ydieresis=667,d.divide=584,d.Yacute=667,d.Acircumflex=667,d.aacute=556,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=500,d.ecircumflex=556,d.Uring=722,d.Udieresis=722,d.aogonek=556,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=737,d.Emacron=667,d.ccaron=500,d.aring=556,d.Ncommaaccent=722,d.lacute=222,d.agrave=556,d.Tcommaaccent=611,d.Cacute=722,d.atilde=556,d.Edotaccent=667,d.scaron=500,d.scedilla=500,d.iacute=278,d.lozenge=471,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=556,d.acircumflex=556,d.Amacron=667,d.rcaron=333,d.ccedilla=500,d.Zdotaccent=611,d.Thorn=667,d.Omacron=778,d.Racute=722,d.Sacute=667,d.dcaron=643,d.Umacron=722,d.uring=556,d.threesuperior=333,d.Ograve=778,d.Agrave=667,d.Abreve=667,d.multiply=584,d.uacute=556,d.Tcaron=611,d.partialdiff=476,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=556,d.edieresis=556,d.cacute=500,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=278,d.plusminus=584,d.brokenbar=260,d.registered=737,d.Gbreve=778,d.Idotaccent=278,d.summation=600,d.Egrave=667,d.racute=333,d.omacron=556,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=222,d.tcaron=317,d.eogonek=556,d.Uogonek=722,d.Aacute=667,d.Adieresis=667,d.egrave=556,d.zacute=500,d.iogonek=222,d.Oacute=778,d.oacute=556,d.amacron=556,d.sacute=500,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=556,d.twosuperior=333,d.Odieresis=778,d.mu=556,d.igrave=278,d.ohungarumlaut=556,d.Eogonek=667,d.dcroat=556,d.threequarters=834,d.Scedilla=667,d.lcaron=299,d.Kcommaaccent=667,d.Lacute=556,d.trademark=1e3,d.edotaccent=556,d.Igrave=278,d.Imacron=278,d.Lcaron=556,d.onehalf=834,d.lessequal=549,d.ocircumflex=556,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=556,d.gbreve=556,d.onequarter=834,d.Scaron=667,d.Scommaaccent=667,d.Ohungarumlaut=778,d.degree=400,d.ograve=556,d.Ccaron=722,d.ugrave=556,d.radical=453,d.Dcaron=722,d.rcommaaccent=333,d.Ntilde=722,d.otilde=556,d.Rcommaaccent=722,d.Lcommaaccent=556,d.Atilde=667,d.Aogonek=667,d.Aring=667,d.Otilde=778,d.zdotaccent=500,d.Ecaron=667,d.Iogonek=278,d.kcommaaccent=500,d.minus=584,d.Icircumflex=278,d.ncaron=556,d.tcommaaccent=278,d.logicalnot=584,d.odieresis=556,d.udieresis=556,d.notequal=549,d.gcommaaccent=556,d.eth=556,d.zcaron=500,d.ncommaaccent=556,d.onesuperior=333,d.imacron=278,d.Euro=556}),g.Symbol=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.universal=713,d.numbersign=500,d.existential=549,d.percent=833,d.ampersand=778,d.suchthat=439,d.parenleft=333,d.parenright=333,d.asteriskmath=500,d.plus=549,d.comma=250,d.minus=549,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=278,d.semicolon=278,d.less=549,d.equal=549,d.greater=549,d.question=444,d.congruent=549,d.Alpha=722,d.Beta=667,d.Chi=722,d.Delta=612,d.Epsilon=611,d.Phi=763,d.Gamma=603,d.Eta=722,d.Iota=333,d.theta1=631,d.Kappa=722,d.Lambda=686,d.Mu=889,d.Nu=722,d.Omicron=722,d.Pi=768,d.Theta=741,d.Rho=556,d.Sigma=592,d.Tau=611,d.Upsilon=690,d.sigma1=439,d.Omega=768,d.Xi=645,d.Psi=795,d.Zeta=611,d.bracketleft=333,d.therefore=863,d.bracketright=333,d.perpendicular=658,d.underscore=500,d.radicalex=500,d.alpha=631,d.beta=549,d.chi=549,d.delta=494,d.epsilon=439,d.phi=521,d.gamma=411,d.eta=603,d.iota=329,d.phi1=603,d.kappa=549,d.lambda=549,d.mu=576,d.nu=521,d.omicron=549,d.pi=549,d.theta=521,d.rho=549,d.sigma=603,d.tau=439,d.upsilon=576,d.omega1=713,d.omega=686,d.xi=493,d.psi=686,d.zeta=494,d.braceleft=480,d.bar=200,d.braceright=480,d.similar=549,d.Euro=750,d.Upsilon1=620,d.minute=247,d.lessequal=549,d.fraction=167,d.infinity=713,d.florin=500,d.club=753,d.diamond=753,d.heart=753,d.spade=753,d.arrowboth=1042,d.arrowleft=987,d.arrowup=603,d.arrowright=987,d.arrowdown=603,d.degree=400,d.plusminus=549,d.second=411,d.greaterequal=549,d.multiply=549,d.proportional=713,d.partialdiff=494,d.bullet=460,d.divide=549,d.notequal=549,d.equivalence=549,d.approxequal=549,d.ellipsis=1e3,d.arrowvertex=603,d.arrowhorizex=1e3,d.carriagereturn=658,d.aleph=823,d.Ifraktur=686,d.Rfraktur=795,d.weierstrass=987,d.circlemultiply=768,d.circleplus=768,d.emptyset=823,d.intersection=768,d.union=768,d.propersuperset=713,d.reflexsuperset=713,d.notsubset=713,d.propersubset=713,d.reflexsubset=713,d.element=713,d.notelement=713,d.angle=768,d.gradient=713,d.registerserif=790,d.copyrightserif=790,d.trademarkserif=890,d.product=823,d.radical=549,d.dotmath=250,d.logicalnot=713,d.logicaland=603,d.logicalor=603,d.arrowdblboth=1042,d.arrowdblleft=987,d.arrowdblup=603,d.arrowdblright=987,d.arrowdbldown=603,d.lozenge=494,d.angleleft=329,d.registersans=790,d.copyrightsans=790,d.trademarksans=786,d.summation=713,d.parenlefttp=384,d.parenleftex=384,d.parenleftbt=384,d.bracketlefttp=384,d.bracketleftex=384,d.bracketleftbt=384,d.bracelefttp=494,d.braceleftmid=494,d.braceleftbt=494,d.braceex=494,d.angleright=329,d.integral=274,d.integraltp=686,d.integralex=686,d.integralbt=686,d.parenrighttp=384,d.parenrightex=384,d.parenrightbt=384,d.bracketrighttp=384,d.bracketrightex=384,d.bracketrightbt=384,d.bracerighttp=494,d.bracerightmid=494,d.bracerightbt=494,d.apple=790}),g["Times-Roman"]=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.quotedbl=408,d.numbersign=500,d.dollar=500,d.percent=833,d.ampersand=778,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=564,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=278,d.semicolon=278,d.less=564,d.equal=564,d.greater=564,d.question=444,d.at=921,d.A=722,d.B=667,d.C=667,d.D=722,d.E=611,d.F=556,d.G=722,d.H=722,d.I=333,d.J=389,d.K=722,d.L=611,d.M=889,d.N=722,d.O=722,d.P=556,d.Q=722,d.R=667,d.S=556,d.T=611,d.U=722,d.V=722,d.W=944,d.X=722,d.Y=722,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=469,d.underscore=500,d.quoteleft=333,d.a=444,d.b=500,d.c=444,d.d=500,d.e=444,d.f=333,d.g=500,d.h=500,d.i=278,d.j=278,d.k=500,d.l=278,d.m=778,d.n=500,d.o=500,d.p=500,d.q=500,d.r=333,d.s=389,d.t=278,d.u=500,d.v=500,d.w=722,d.x=500,d.y=500,d.z=444,d.braceleft=480,d.bar=200,d.braceright=480,d.asciitilde=541,d.exclamdown=333,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=180,d.quotedblleft=444,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=556,d.fl=556,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=453,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=444,d.quotedblright=444,d.guillemotright=500,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=444,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=889,d.ordfeminine=276,d.Lslash=611,d.Oslash=722,d.OE=889,d.ordmasculine=310,d.ae=667,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=722,d.germandbls=500,d.Idieresis=333,d.eacute=444,d.abreve=444,d.uhungarumlaut=500,d.ecaron=444,d.Ydieresis=722,d.divide=564,d.Yacute=722,d.Acircumflex=722,d.aacute=444,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=444,d.Uacute=722,d.uogonek=500,d.Edieresis=611,d.Dcroat=722,d.commaaccent=250,d.copyright=760,d.Emacron=611,d.ccaron=444,d.aring=444,d.Ncommaaccent=722,d.lacute=278,d.agrave=444,d.Tcommaaccent=611,d.Cacute=667,d.atilde=444,d.Edotaccent=611,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=471,d.Rcaron=667,d.Gcommaaccent=722,d.ucircumflex=500,d.acircumflex=444,d.Amacron=722,d.rcaron=333,d.ccedilla=444,d.Zdotaccent=611,d.Thorn=556,d.Omacron=722,d.Racute=667,d.Sacute=556,d.dcaron=588,d.Umacron=722,d.uring=500,d.threesuperior=300,d.Ograve=722,d.Agrave=722,d.Abreve=722,d.multiply=564,d.uacute=500,d.Tcaron=611,d.partialdiff=476,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=611,d.adieresis=444,d.edieresis=444,d.cacute=444,d.nacute=500,d.umacron=500,d.Ncaron=722,d.Iacute=333,d.plusminus=564,d.brokenbar=200,d.registered=760,d.Gbreve=722,d.Idotaccent=333,d.summation=600,d.Egrave=611,d.racute=333,d.omacron=500,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=667,d.lcommaaccent=278,d.tcaron=326,d.eogonek=444,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=444,d.zacute=444,d.iogonek=278,d.Oacute=722,d.oacute=500,d.amacron=444,d.sacute=389,d.idieresis=278,d.Ocircumflex=722,d.Ugrave=722,d.Delta=612,d.thorn=500,d.twosuperior=300,d.Odieresis=722,d.mu=500,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=611,d.dcroat=500,d.threequarters=750,d.Scedilla=556,d.lcaron=344,d.Kcommaaccent=722,d.Lacute=611,d.trademark=980,d.edotaccent=444,d.Igrave=333,d.Imacron=333,d.Lcaron=611,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=500,d.Uhungarumlaut=722,d.Eacute=611,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=556,d.Scommaaccent=556,d.Ohungarumlaut=722,d.degree=400,d.ograve=500,d.Ccaron=667,d.ugrave=500,d.radical=453,d.Dcaron=722,d.rcommaaccent=333,d.Ntilde=722,d.otilde=500,d.Rcommaaccent=667,d.Lcommaaccent=611,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=722,d.zdotaccent=444,d.Ecaron=611,d.Iogonek=333,d.kcommaaccent=500,d.minus=564,d.Icircumflex=333,d.ncaron=500,d.tcommaaccent=278,d.logicalnot=564,d.odieresis=500,d.udieresis=500,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=444,d.ncommaaccent=500,d.onesuperior=300,d.imacron=278,d.Euro=500}),g["Times-Bold"]=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.quotedbl=555,d.numbersign=500,d.dollar=500,d.percent=1e3,d.ampersand=833,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=570,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=333,d.semicolon=333,d.less=570,d.equal=570,d.greater=570,d.question=500,d.at=930,d.A=722,d.B=667,d.C=722,d.D=722,d.E=667,d.F=611,d.G=778,d.H=778,d.I=389,d.J=500,d.K=778,d.L=667,d.M=944,d.N=722,d.O=778,d.P=611,d.Q=778,d.R=722,d.S=556,d.T=667,d.U=722,d.V=722,d.W=1e3,d.X=722,d.Y=722,d.Z=667,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=581,d.underscore=500,d.quoteleft=333,d.a=500,d.b=556,d.c=444,d.d=556,d.e=444,d.f=333,d.g=500,d.h=556,d.i=278,d.j=333,d.k=556,d.l=278,d.m=833,d.n=556,d.o=500,d.p=556,d.q=556,d.r=444,d.s=389,d.t=333,d.u=556,d.v=500,d.w=722,d.x=500,d.y=500,d.z=444,d.braceleft=394,d.bar=220,d.braceright=394,d.asciitilde=520,d.exclamdown=333,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=278,d.quotedblleft=500,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=556,d.fl=556,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=540,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=500,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=500,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=1e3,d.ordfeminine=300,d.Lslash=667,d.Oslash=778,d.OE=1e3,d.ordmasculine=330,d.ae=722,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=722,d.germandbls=556,d.Idieresis=389,d.eacute=444,d.abreve=500,d.uhungarumlaut=556,d.ecaron=444,d.Ydieresis=722,d.divide=570,d.Yacute=722,d.Acircumflex=722,d.aacute=500,d.Ucircumflex=722,d.yacute=500,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=500,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=747,d.Emacron=667,d.ccaron=444,d.aring=500,d.Ncommaaccent=722,d.lacute=278,d.agrave=500,d.Tcommaaccent=667,d.Cacute=722,d.atilde=500,d.Edotaccent=667,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=494,d.Rcaron=722,d.Gcommaaccent=778,d.ucircumflex=556,d.acircumflex=500,d.Amacron=722,d.rcaron=444,d.ccedilla=444,d.Zdotaccent=667,d.Thorn=611,d.Omacron=778,d.Racute=722,d.Sacute=556,d.dcaron=672,d.Umacron=722,d.uring=556,d.threesuperior=300,d.Ograve=778,d.Agrave=722,d.Abreve=722,d.multiply=570,d.uacute=556,d.Tcaron=667,d.partialdiff=494,d.ydieresis=500,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=500,d.edieresis=444,d.cacute=444,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=389,d.plusminus=570,d.brokenbar=220,d.registered=747,d.Gbreve=778,d.Idotaccent=389,d.summation=600,d.Egrave=667,d.racute=444,d.omacron=500,d.Zacute=667,d.Zcaron=667,d.greaterequal=549,d.Eth=722,d.Ccedilla=722,d.lcommaaccent=278,d.tcaron=416,d.eogonek=444,d.Uogonek=722,d.Aacute=722,d.Adieresis=722,d.egrave=444,d.zacute=444,d.iogonek=278,d.Oacute=778,d.oacute=500,d.amacron=500,d.sacute=389,d.idieresis=278,d.Ocircumflex=778,d.Ugrave=722,d.Delta=612,d.thorn=556,d.twosuperior=300,d.Odieresis=778,d.mu=556,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=667,d.dcroat=556,d.threequarters=750,d.Scedilla=556,d.lcaron=394,d.Kcommaaccent=778,d.Lacute=667,d.trademark=1e3,d.edotaccent=444,d.Igrave=389,d.Imacron=389,d.Lcaron=667,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=556,d.Scommaaccent=556,d.Ohungarumlaut=778,d.degree=400,d.ograve=500,d.Ccaron=722,d.ugrave=556,d.radical=549,d.Dcaron=722,d.rcommaaccent=444,d.Ntilde=722,d.otilde=500,d.Rcommaaccent=722,d.Lcommaaccent=667,d.Atilde=722,d.Aogonek=722,d.Aring=722,d.Otilde=778,d.zdotaccent=444,d.Ecaron=667,d.Iogonek=389,d.kcommaaccent=556,d.minus=570,d.Icircumflex=389,d.ncaron=556,d.tcommaaccent=333,d.logicalnot=570,d.odieresis=500,d.udieresis=556,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=444,d.ncommaaccent=556,d.onesuperior=300,d.imacron=278,d.Euro=500}),g["Times-BoldItalic"]=getLookupTableFactory(function(d){d.space=250,d.exclam=389,d.quotedbl=555,d.numbersign=500,d.dollar=500,d.percent=833,d.ampersand=778,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=570,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=333,d.semicolon=333,d.less=570,d.equal=570,d.greater=570,d.question=500,d.at=832,d.A=667,d.B=667,d.C=667,d.D=722,d.E=667,d.F=667,d.G=722,d.H=778,d.I=389,d.J=500,d.K=667,d.L=611,d.M=889,d.N=722,d.O=722,d.P=611,d.Q=722,d.R=667,d.S=556,d.T=611,d.U=722,d.V=667,d.W=889,d.X=667,d.Y=611,d.Z=611,d.bracketleft=333,d.backslash=278,d.bracketright=333,d.asciicircum=570,d.underscore=500,d.quoteleft=333,d.a=500,d.b=500,d.c=444,d.d=500,d.e=444,d.f=333,d.g=500,d.h=556,d.i=278,d.j=278,d.k=500,d.l=278,d.m=778,d.n=556,d.o=500,d.p=500,d.q=500,d.r=389,d.s=389,d.t=278,d.u=556,d.v=444,d.w=667,d.x=500,d.y=444,d.z=389,d.braceleft=348,d.bar=220,d.braceright=348,d.asciitilde=570,d.exclamdown=389,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=278,d.quotedblleft=500,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=556,d.fl=556,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=500,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=500,d.quotedblright=500,d.guillemotright=500,d.ellipsis=1e3,d.perthousand=1e3,d.questiondown=500,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=1e3,d.AE=944,d.ordfeminine=266,d.Lslash=611,d.Oslash=722,d.OE=944,d.ordmasculine=300,d.ae=722,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=722,d.germandbls=500,d.Idieresis=389,d.eacute=444,d.abreve=500,d.uhungarumlaut=556,d.ecaron=444,d.Ydieresis=611,d.divide=570,d.Yacute=611,d.Acircumflex=667,d.aacute=500,d.Ucircumflex=722,d.yacute=444,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=500,d.Uacute=722,d.uogonek=556,d.Edieresis=667,d.Dcroat=722,d.commaaccent=250,d.copyright=747,d.Emacron=667,d.ccaron=444,d.aring=500,d.Ncommaaccent=722,d.lacute=278,d.agrave=500,d.Tcommaaccent=611,d.Cacute=667,d.atilde=500,d.Edotaccent=667,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=494,d.Rcaron=667,d.Gcommaaccent=722,d.ucircumflex=556,d.acircumflex=500,d.Amacron=667,d.rcaron=389,d.ccedilla=444,d.Zdotaccent=611,d.Thorn=611,d.Omacron=722,d.Racute=667,d.Sacute=556,d.dcaron=608,d.Umacron=722,d.uring=556,d.threesuperior=300,d.Ograve=722,d.Agrave=667,d.Abreve=667,d.multiply=570,d.uacute=556,d.Tcaron=611,d.partialdiff=494,d.ydieresis=444,d.Nacute=722,d.icircumflex=278,d.Ecircumflex=667,d.adieresis=500,d.edieresis=444,d.cacute=444,d.nacute=556,d.umacron=556,d.Ncaron=722,d.Iacute=389,d.plusminus=570,d.brokenbar=220,d.registered=747,d.Gbreve=722,d.Idotaccent=389,d.summation=600,d.Egrave=667,d.racute=389,d.omacron=500,d.Zacute=611,d.Zcaron=611,d.greaterequal=549,d.Eth=722,d.Ccedilla=667,d.lcommaaccent=278,d.tcaron=366,d.eogonek=444,d.Uogonek=722,d.Aacute=667,d.Adieresis=667,d.egrave=444,d.zacute=389,d.iogonek=278,d.Oacute=722,d.oacute=500,d.amacron=500,d.sacute=389,d.idieresis=278,d.Ocircumflex=722,d.Ugrave=722,d.Delta=612,d.thorn=500,d.twosuperior=300,d.Odieresis=722,d.mu=576,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=667,d.dcroat=500,d.threequarters=750,d.Scedilla=556,d.lcaron=382,d.Kcommaaccent=667,d.Lacute=611,d.trademark=1e3,d.edotaccent=444,d.Igrave=389,d.Imacron=389,d.Lcaron=611,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=556,d.Uhungarumlaut=722,d.Eacute=667,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=556,d.Scommaaccent=556,d.Ohungarumlaut=722,d.degree=400,d.ograve=500,d.Ccaron=667,d.ugrave=556,d.radical=549,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=722,d.otilde=500,d.Rcommaaccent=667,d.Lcommaaccent=611,d.Atilde=667,d.Aogonek=667,d.Aring=667,d.Otilde=722,d.zdotaccent=389,d.Ecaron=667,d.Iogonek=389,d.kcommaaccent=500,d.minus=606,d.Icircumflex=389,d.ncaron=556,d.tcommaaccent=278,d.logicalnot=606,d.odieresis=500,d.udieresis=556,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=389,d.ncommaaccent=556,d.onesuperior=300,d.imacron=278,d.Euro=500}),g["Times-Italic"]=getLookupTableFactory(function(d){d.space=250,d.exclam=333,d.quotedbl=420,d.numbersign=500,d.dollar=500,d.percent=833,d.ampersand=778,d.quoteright=333,d.parenleft=333,d.parenright=333,d.asterisk=500,d.plus=675,d.comma=250,d.hyphen=333,d.period=250,d.slash=278,d.zero=500,d.one=500,d.two=500,d.three=500,d.four=500,d.five=500,d.six=500,d.seven=500,d.eight=500,d.nine=500,d.colon=333,d.semicolon=333,d.less=675,d.equal=675,d.greater=675,d.question=500,d.at=920,d.A=611,d.B=611,d.C=667,d.D=722,d.E=611,d.F=611,d.G=722,d.H=722,d.I=333,d.J=444,d.K=667,d.L=556,d.M=833,d.N=667,d.O=722,d.P=611,d.Q=722,d.R=611,d.S=500,d.T=556,d.U=722,d.V=611,d.W=833,d.X=611,d.Y=556,d.Z=556,d.bracketleft=389,d.backslash=278,d.bracketright=389,d.asciicircum=422,d.underscore=500,d.quoteleft=333,d.a=500,d.b=500,d.c=444,d.d=500,d.e=444,d.f=278,d.g=500,d.h=500,d.i=278,d.j=278,d.k=444,d.l=278,d.m=722,d.n=500,d.o=500,d.p=500,d.q=500,d.r=389,d.s=389,d.t=278,d.u=500,d.v=444,d.w=667,d.x=444,d.y=444,d.z=389,d.braceleft=400,d.bar=275,d.braceright=400,d.asciitilde=541,d.exclamdown=389,d.cent=500,d.sterling=500,d.fraction=167,d.yen=500,d.florin=500,d.section=500,d.currency=500,d.quotesingle=214,d.quotedblleft=556,d.guillemotleft=500,d.guilsinglleft=333,d.guilsinglright=333,d.fi=500,d.fl=500,d.endash=500,d.dagger=500,d.daggerdbl=500,d.periodcentered=250,d.paragraph=523,d.bullet=350,d.quotesinglbase=333,d.quotedblbase=556,d.quotedblright=556,d.guillemotright=500,d.ellipsis=889,d.perthousand=1e3,d.questiondown=500,d.grave=333,d.acute=333,d.circumflex=333,d.tilde=333,d.macron=333,d.breve=333,d.dotaccent=333,d.dieresis=333,d.ring=333,d.cedilla=333,d.hungarumlaut=333,d.ogonek=333,d.caron=333,d.emdash=889,d.AE=889,d.ordfeminine=276,d.Lslash=556,d.Oslash=722,d.OE=944,d.ordmasculine=310,d.ae=667,d.dotlessi=278,d.lslash=278,d.oslash=500,d.oe=667,d.germandbls=500,d.Idieresis=333,d.eacute=444,d.abreve=500,d.uhungarumlaut=500,d.ecaron=444,d.Ydieresis=556,d.divide=675,d.Yacute=556,d.Acircumflex=611,d.aacute=500,d.Ucircumflex=722,d.yacute=444,d.scommaaccent=389,d.ecircumflex=444,d.Uring=722,d.Udieresis=722,d.aogonek=500,d.Uacute=722,d.uogonek=500,d.Edieresis=611,d.Dcroat=722,d.commaaccent=250,d.copyright=760,d.Emacron=611,d.ccaron=444,d.aring=500,d.Ncommaaccent=667,d.lacute=278,d.agrave=500,d.Tcommaaccent=556,d.Cacute=667,d.atilde=500,d.Edotaccent=611,d.scaron=389,d.scedilla=389,d.iacute=278,d.lozenge=471,d.Rcaron=611,d.Gcommaaccent=722,d.ucircumflex=500,d.acircumflex=500,d.Amacron=611,d.rcaron=389,d.ccedilla=444,d.Zdotaccent=556,d.Thorn=611,d.Omacron=722,d.Racute=611,d.Sacute=500,d.dcaron=544,d.Umacron=722,d.uring=500,d.threesuperior=300,d.Ograve=722,d.Agrave=611,d.Abreve=611,d.multiply=675,d.uacute=500,d.Tcaron=556,d.partialdiff=476,d.ydieresis=444,d.Nacute=667,d.icircumflex=278,d.Ecircumflex=611,d.adieresis=500,d.edieresis=444,d.cacute=444,d.nacute=500,d.umacron=500,d.Ncaron=667,d.Iacute=333,d.plusminus=675,d.brokenbar=275,d.registered=760,d.Gbreve=722,d.Idotaccent=333,d.summation=600,d.Egrave=611,d.racute=389,d.omacron=500,d.Zacute=556,d.Zcaron=556,d.greaterequal=549,d.Eth=722,d.Ccedilla=667,d.lcommaaccent=278,d.tcaron=300,d.eogonek=444,d.Uogonek=722,d.Aacute=611,d.Adieresis=611,d.egrave=444,d.zacute=389,d.iogonek=278,d.Oacute=722,d.oacute=500,d.amacron=500,d.sacute=389,d.idieresis=278,d.Ocircumflex=722,d.Ugrave=722,d.Delta=612,d.thorn=500,d.twosuperior=300,d.Odieresis=722,d.mu=500,d.igrave=278,d.ohungarumlaut=500,d.Eogonek=611,d.dcroat=500,d.threequarters=750,d.Scedilla=500,d.lcaron=300,d.Kcommaaccent=667,d.Lacute=556,d.trademark=980,d.edotaccent=444,d.Igrave=333,d.Imacron=333,d.Lcaron=611,d.onehalf=750,d.lessequal=549,d.ocircumflex=500,d.ntilde=500,d.Uhungarumlaut=722,d.Eacute=611,d.emacron=444,d.gbreve=500,d.onequarter=750,d.Scaron=500,d.Scommaaccent=500,d.Ohungarumlaut=722,d.degree=400,d.ograve=500,d.Ccaron=667,d.ugrave=500,d.radical=453,d.Dcaron=722,d.rcommaaccent=389,d.Ntilde=667,d.otilde=500,d.Rcommaaccent=611,d.Lcommaaccent=556,d.Atilde=611,d.Aogonek=611,d.Aring=611,d.Otilde=722,d.zdotaccent=389,d.Ecaron=611,d.Iogonek=333,d.kcommaaccent=444,d.minus=675,d.Icircumflex=333,d.ncaron=500,d.tcommaaccent=278,d.logicalnot=675,d.odieresis=500,d.udieresis=500,d.notequal=549,d.gcommaaccent=500,d.eth=500,d.zcaron=389,d.ncommaaccent=500,d.onesuperior=300,d.imacron=278,d.Euro=500}),g.ZapfDingbats=getLookupTableFactory(function(d){d.space=278,d.a1=974,d.a2=961,d.a202=974,d.a3=980,d.a4=719,d.a5=789,d.a119=790,d.a118=791,d.a117=690,d.a11=960,d.a12=939,d.a13=549,d.a14=855,d.a15=911,d.a16=933,d.a105=911,d.a17=945,d.a18=974,d.a19=755,d.a20=846,d.a21=762,d.a22=761,d.a23=571,d.a24=677,d.a25=763,d.a26=760,d.a27=759,d.a28=754,d.a6=494,d.a7=552,d.a8=537,d.a9=577,d.a10=692,d.a29=786,d.a30=788,d.a31=788,d.a32=790,d.a33=793,d.a34=794,d.a35=816,d.a36=823,d.a37=789,d.a38=841,d.a39=823,d.a40=833,d.a41=816,d.a42=831,d.a43=923,d.a44=744,d.a45=723,d.a46=749,d.a47=790,d.a48=792,d.a49=695,d.a50=776,d.a51=768,d.a52=792,d.a53=759,d.a54=707,d.a55=708,d.a56=682,d.a57=701,d.a58=826,d.a59=815,d.a60=789,d.a61=789,d.a62=707,d.a63=687,d.a64=696,d.a65=689,d.a66=786,d.a67=787,d.a68=713,d.a69=791,d.a70=785,d.a71=791,d.a72=873,d.a73=761,d.a74=762,d.a203=762,d.a75=759,d.a204=759,d.a76=892,d.a77=892,d.a78=788,d.a79=784,d.a81=438,d.a82=138,d.a83=277,d.a84=415,d.a97=392,d.a98=392,d.a99=668,d.a100=668,d.a89=390,d.a90=390,d.a93=317,d.a94=317,d.a91=276,d.a92=276,d.a205=509,d.a85=509,d.a206=410,d.a86=410,d.a87=234,d.a88=234,d.a95=334,d.a96=334,d.a101=732,d.a102=544,d.a103=544,d.a104=910,d.a106=667,d.a107=760,d.a108=760,d.a112=776,d.a111=595,d.a110=694,d.a109=626,d.a120=788,d.a121=788,d.a122=788,d.a123=788,d.a124=788,d.a125=788,d.a126=788,d.a127=788,d.a128=788,d.a129=788,d.a130=788,d.a131=788,d.a132=788,d.a133=788,d.a134=788,d.a135=788,d.a136=788,d.a137=788,d.a138=788,d.a139=788,d.a140=788,d.a141=788,d.a142=788,d.a143=788,d.a144=788,d.a145=788,d.a146=788,d.a147=788,d.a148=788,d.a149=788,d.a150=788,d.a151=788,d.a152=788,d.a153=788,d.a154=788,d.a155=788,d.a156=788,d.a157=788,d.a158=788,d.a159=788,d.a160=894,d.a161=838,d.a163=1016,d.a164=458,d.a196=748,d.a165=924,d.a192=748,d.a166=918,d.a167=927,d.a168=928,d.a169=928,d.a170=834,d.a171=873,d.a172=828,d.a173=924,d.a162=924,d.a174=917,d.a175=930,d.a176=931,d.a177=463,d.a178=883,d.a179=836,d.a193=836,d.a180=867,d.a199=867,d.a181=696,d.a200=696,d.a182=874,d.a201=874,d.a183=760,d.a184=946,d.a197=771,d.a185=865,d.a194=771,d.a198=888,d.a186=967,d.a195=888,d.a187=831,d.a188=873,d.a189=927,d.a190=970,d.a191=918})}),getFontBasicMetrics=getLookupTableFactory(function(g){g.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},g["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},g["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},g["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},g.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},g["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},g["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},g["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},g["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},g["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},g["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},g["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},g.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},g.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}}),ON_CURVE_POINT=1,X_SHORT_VECTOR=2,Y_SHORT_VECTOR=4,REPEAT_FLAG=8,X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR=16,Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR=32,OVERLAP_SIMPLE=64,ARG_1_AND_2_ARE_WORDS=1,ARGS_ARE_XY_VALUES=2,WE_HAVE_A_SCALE=8,MORE_COMPONENTS=32,WE_HAVE_AN_X_AND_Y_SCALE=64,WE_HAVE_A_TWO_BY_TWO=128,WE_HAVE_INSTRUCTIONS=256;class GlyfTable{constructor({glyfTable:d,isGlyphLocationsLong:x,locaTable:b,numGlyphs:S}){this.glyphs=[];const w=new DataView(b.buffer,b.byteOffset,b.byteLength),C=new DataView(d.buffer,d.byteOffset,d.byteLength),F=x?4:2;let E=x?w.getUint32(0):2*w.getUint16(0),k=0;for(let D=0;D<S;D++){k+=F;const M=x?w.getUint32(k):2*w.getUint16(k);if(M===E){this.glyphs.push(new Glyph({}));continue}const L=Glyph.parse(E,C);this.glyphs.push(L),E=M}}getSize(){return this.glyphs.reduce((d,x)=>{const b=x.getSize();return d+(b+3&-4)},0)}write(){const d=this.getSize(),x=new DataView(new ArrayBuffer(d)),b=d>131070,S=b?4:2,w=new DataView(new ArrayBuffer((this.glyphs.length+1)*S));b?w.setUint32(0,0):w.setUint16(0,0);let C=0,F=0;for(const E of this.glyphs)C+=E.write(C,x),C=C+3&-4,F+=S,b?w.setUint32(F,C):w.setUint16(F,C>>1);return{isLocationLong:b,loca:new Uint8Array(w.buffer),glyf:new Uint8Array(x.buffer)}}scale(d){for(let x=0,b=this.glyphs.length;x<b;x++)this.glyphs[x].scale(d[x])}}class Glyph{constructor({header:d=null,simple:x=null,composites:b=null}){this.header=d,this.simple=x,this.composites=b}static parse(d,x){const[b,S]=GlyphHeader.parse(d,x);if(d+=b,S.numberOfContours<0){const C=[];for(;;){const[F,E]=CompositeGlyph.parse(d,x);if(d+=F,C.push(E),!(E.flags&MORE_COMPONENTS))break}return new Glyph({header:S,composites:C})}const w=SimpleGlyph.parse(d,x,S.numberOfContours);return new Glyph({header:S,simple:w})}getSize(){if(!this.header)return 0;const d=this.simple?this.simple.getSize():this.composites.reduce((x,b)=>x+b.getSize(),0);return this.header.getSize()+d}write(d,x){if(!this.header)return 0;const b=d;if(d+=this.header.write(d,x),this.simple)d+=this.simple.write(d,x);else for(const S of this.composites)d+=S.write(d,x);return d-b}scale(d){if(!this.header)return;const x=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(x,d),this.simple)this.simple.scale(x,d);else for(const b of this.composites)b.scale(x,d)}}class GlyphHeader{constructor({numberOfContours:d,xMin:x,yMin:b,xMax:S,yMax:w}){this.numberOfContours=d,this.xMin=x,this.yMin=b,this.xMax=S,this.yMax=w}static parse(d,x){return[10,new GlyphHeader({numberOfContours:x.getInt16(d),xMin:x.getInt16(d+2),yMin:x.getInt16(d+4),xMax:x.getInt16(d+6),yMax:x.getInt16(d+8)})]}getSize(){return 10}write(d,x){return x.setInt16(d,this.numberOfContours),x.setInt16(d+2,this.xMin),x.setInt16(d+4,this.yMin),x.setInt16(d+6,this.xMax),x.setInt16(d+8,this.yMax),10}scale(d,x){this.xMin=Math.round(d+(this.xMin-d)*x),this.xMax=Math.round(d+(this.xMax-d)*x)}}class Contour{constructor({flags:d,xCoordinates:x,yCoordinates:b}){this.xCoordinates=x,this.yCoordinates=b,this.flags=d}}class SimpleGlyph{constructor({contours:d,instructions:x}){this.contours=d,this.instructions=x}static parse(d,x,b){const S=[];for(let H=0;H<b;H++){const V=x.getUint16(d);d+=2,S.push(V)}const w=S[b-1]+1,C=x.getUint16(d);d+=2;const F=new Uint8Array(x).slice(d,d+C);d+=C;const E=[];for(let H=0;H<w;d++,H++){let V=x.getUint8(d);if(E.push(V),V&REPEAT_FLAG){const z=x.getUint8(++d);V^=REPEAT_FLAG;for(let G=0;G<z;G++)E.push(V);H+=z}}const k=[];let D=[],M=[],L=[];const R=[];let U=0,j=0;for(let H=0;H<w;H++){const V=E[H];if(V&X_SHORT_VECTOR){const z=x.getUint8(d++);j+=V&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR?z:-z,D.push(j)}else V&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(j+=x.getInt16(d),d+=2),D.push(j);S[U]===H&&(U++,k.push(D),D=[])}j=0,U=0;for(let H=0;H<w;H++){const V=E[H];if(V&Y_SHORT_VECTOR){const z=x.getUint8(d++);j+=V&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR?z:-z,M.push(j)}else V&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(j+=x.getInt16(d),d+=2),M.push(j);L.push(V&ON_CURVE_POINT|V&OVERLAP_SIMPLE),S[U]===H&&(D=k[U],U++,R.push(new Contour({flags:L,xCoordinates:D,yCoordinates:M})),M=[],L=[])}return new SimpleGlyph({contours:R,instructions:F})}getSize(){let d=this.contours.length*2+2+this.instructions.length,x=0,b=0;for(const S of this.contours){d+=S.flags.length;for(let w=0,C=S.xCoordinates.length;w<C;w++){const F=S.xCoordinates[w],E=S.yCoordinates[w];let k=Math.abs(F-x);k>255?d+=2:k>0&&(d+=1),x=F,k=Math.abs(E-b),k>255?d+=2:k>0&&(d+=1),b=E}}return d}write(d,x){const b=d,S=[],w=[],C=[];let F=0,E=0;for(const k of this.contours){for(let D=0,M=k.xCoordinates.length;D<M;D++){let L=k.flags[D];const R=k.xCoordinates[D];let U=R-F;if(U===0)L|=X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR,S.push(0);else{const H=Math.abs(U);H<=255?(L|=U>=0?X_SHORT_VECTOR|X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR:X_SHORT_VECTOR,S.push(H)):S.push(U)}F=R;const j=k.yCoordinates[D];if(U=j-E,U===0)L|=Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR,w.push(0);else{const H=Math.abs(U);H<=255?(L|=U>=0?Y_SHORT_VECTOR|Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR:Y_SHORT_VECTOR,w.push(H)):w.push(U)}E=j,C.push(L)}x.setUint16(d,S.length-1),d+=2}x.setUint16(d,this.instructions.length),d+=2,this.instructions.length&&(new Uint8Array(x.buffer,0,x.buffer.byteLength).set(this.instructions,d),d+=this.instructions.length);for(const k of C)x.setUint8(d++,k);for(let k=0,D=S.length;k<D;k++){const M=S[k],L=C[k];L&X_SHORT_VECTOR?x.setUint8(d++,M):L&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(x.setInt16(d,M),d+=2)}for(let k=0,D=w.length;k<D;k++){const M=w[k],L=C[k];L&Y_SHORT_VECTOR?x.setUint8(d++,M):L&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(x.setInt16(d,M),d+=2)}return d-b}scale(d,x){for(const b of this.contours)if(b.xCoordinates.length!==0)for(let S=0,w=b.xCoordinates.length;S<w;S++)b.xCoordinates[S]=Math.round(d+(b.xCoordinates[S]-d)*x)}}class CompositeGlyph{constructor({flags:d,glyphIndex:x,argument1:b,argument2:S,transf:w,instructions:C}){this.flags=d,this.glyphIndex=x,this.argument1=b,this.argument2=S,this.transf=w,this.instructions=C}static parse(d,x){const b=d,S=[];let w=x.getUint16(d);const C=x.getUint16(d+2);d+=4;let F,E;w&ARG_1_AND_2_ARE_WORDS?(w&ARGS_ARE_XY_VALUES?(F=x.getInt16(d),E=x.getInt16(d+2)):(F=x.getUint16(d),E=x.getUint16(d+2)),d+=4,w^=ARG_1_AND_2_ARE_WORDS):(w&ARGS_ARE_XY_VALUES?(F=x.getInt8(d),E=x.getInt8(d+1)):(F=x.getUint8(d),E=x.getUint8(d+1)),d+=2),w&WE_HAVE_A_SCALE?(S.push(x.getUint16(d)),d+=2):w&WE_HAVE_AN_X_AND_Y_SCALE?(S.push(x.getUint16(d),x.getUint16(d+2)),d+=4):w&WE_HAVE_A_TWO_BY_TWO&&(S.push(x.getUint16(d),x.getUint16(d+2),x.getUint16(d+4),x.getUint16(d+6)),d+=8);let k=null;if(w&WE_HAVE_INSTRUCTIONS){const D=x.getUint16(d);d+=2,k=new Uint8Array(x).slice(d,d+D),d+=D}return[d-b,new CompositeGlyph({flags:w,glyphIndex:C,argument1:F,argument2:E,transf:S,instructions:k})]}getSize(){let d=4+this.transf.length*2;return this.flags&WE_HAVE_INSTRUCTIONS&&(d+=2+this.instructions.length),d+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(d+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(d+=2),d}write(d,x){const b=d;return this.flags&ARGS_ARE_XY_VALUES?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=ARG_1_AND_2_ARE_WORDS):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=ARG_1_AND_2_ARE_WORDS),x.setUint16(d,this.flags),x.setUint16(d+2,this.glyphIndex),d+=4,this.flags&ARG_1_AND_2_ARE_WORDS?(this.flags&ARGS_ARE_XY_VALUES?(x.setInt16(d,this.argument1),x.setInt16(d+2,this.argument2)):(x.setUint16(d,this.argument1),x.setUint16(d+2,this.argument2)),d+=4):(x.setUint8(d,this.argument1),x.setUint8(d+1,this.argument2),d+=2),this.flags&WE_HAVE_INSTRUCTIONS&&(x.setUint16(d,this.instructions.length),d+=2,this.instructions.length&&(new Uint8Array(x.buffer,0,x.buffer.byteLength).set(this.instructions,d),d+=this.instructions.length)),d-b}scale(d,x){}}function writeInt16(g,d,x){g[d]=x>>8&255,g[d+1]=x&255}function writeInt32(g,d,x){g[d]=x>>24&255,g[d+1]=x>>16&255,g[d+2]=x>>8&255,g[d+3]=x&255}function writeData(g,d,x){if(x instanceof Uint8Array)g.set(x,d);else if(typeof x=="string")for(let b=0,S=x.length;b<S;b++)g[d++]=x.charCodeAt(b)&255;else for(const b of x)g[d++]=b&255}const OTF_HEADER_SIZE=12,OTF_TABLE_ENTRY_SIZE=16;class OpenTypeFileBuilder{constructor(d){this.sfnt=d,this.tables=Object.create(null)}static getSearchParams(d,x){let b=1,S=0;for(;(b^d)>b;)b<<=1,S++;const w=b*x;return{range:w,entry:S,rangeShift:x*d-w}}toArray(){let d=this.sfnt;const x=this.tables,b=Object.keys(x);b.sort();const S=b.length;let w,C,F,E,k,D=OTF_HEADER_SIZE+S*OTF_TABLE_ENTRY_SIZE;const M=[D];for(w=0;w<S;w++){E=x[b[w]];const U=(E.length+3&-4)>>>0;D+=U,M.push(D)}const L=new Uint8Array(D);for(w=0;w<S;w++)E=x[b[w]],writeData(L,M[w],E);d==="true"&&(d=string32(65536)),L[0]=d.charCodeAt(0)&255,L[1]=d.charCodeAt(1)&255,L[2]=d.charCodeAt(2)&255,L[3]=d.charCodeAt(3)&255,writeInt16(L,4,S);const R=OpenTypeFileBuilder.getSearchParams(S,16);for(writeInt16(L,6,R.range),writeInt16(L,8,R.entry),writeInt16(L,10,R.rangeShift),D=OTF_HEADER_SIZE,w=0;w<S;w++){k=b[w],L[D]=k.charCodeAt(0)&255,L[D+1]=k.charCodeAt(1)&255,L[D+2]=k.charCodeAt(2)&255,L[D+3]=k.charCodeAt(3)&255;let U=0;for(C=M[w],F=M[w+1];C<F;C+=4){const j=readUint32(L,C);U=U+j>>>0}writeInt32(L,D+4,U),writeInt32(L,D+8,M[w]),writeInt32(L,D+12,x[k].length),D+=OTF_TABLE_ENTRY_SIZE}return L}addTable(d,x){if(d in this.tables)throw new Error("Table "+d+" already exists");this.tables[d]=x}}const HINTING_ENABLED=!1,COMMAND_MAP={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Type1CharString{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(d,x,b){const S=d.length;let w=!1,C,F,E;for(let k=0;k<S;k++){let D=d[k];if(D<32){switch(D===12&&(D=(D<<8)+d[++k]),D){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){w=!0;break}const j=this.stack.pop();this.stack.push(0,j);break}w=this.executeCommand(1,COMMAND_MAP.vmoveto);break;case 5:w=this.executeCommand(2,COMMAND_MAP.rlineto);break;case 6:w=this.executeCommand(1,COMMAND_MAP.hlineto);break;case 7:w=this.executeCommand(1,COMMAND_MAP.vlineto);break;case 8:w=this.executeCommand(6,COMMAND_MAP.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){w=!0;break}if(E=this.stack.pop(),!x[E]){w=!0;break}w=this.convert(x[E],x,b);break;case 11:return w;case 13:if(this.stack.length<2){w=!0;break}C=this.stack.pop(),F=this.stack.pop(),this.lsb=F,this.width=C,this.stack.push(C,F),w=this.executeCommand(2,COMMAND_MAP.hmoveto);break;case 14:this.output.push(COMMAND_MAP.endchar[0]);break;case 21:if(this.flexing)break;w=this.executeCommand(2,COMMAND_MAP.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}w=this.executeCommand(1,COMMAND_MAP.hmoveto);break;case 30:w=this.executeCommand(4,COMMAND_MAP.vhcurveto);break;case 31:w=this.executeCommand(4,COMMAND_MAP.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(b){const j=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-j,w=this.executeCommand(0,COMMAND_MAP.endchar)}else w=this.executeCommand(4,COMMAND_MAP.endchar);break;case 3079:if(this.stack.length<4){w=!0;break}this.stack.pop(),C=this.stack.pop();const M=this.stack.pop();F=this.stack.pop(),this.lsb=F,this.width=C,this.stack.push(C,F,M),w=this.executeCommand(3,COMMAND_MAP.rmoveto);break;case 3084:if(this.stack.length<2){w=!0;break}const L=this.stack.pop(),R=this.stack.pop();this.stack.push(R/L);break;case 3088:if(this.stack.length<2){w=!0;break}E=this.stack.pop();const U=this.stack.pop();if(E===0&&U===3){const j=this.stack.splice(-17,17);this.stack.push(j[2]+j[0],j[3]+j[1],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14]),w=this.executeCommand(13,COMMAND_MAP.flex,!0),this.flexing=!1,this.stack.push(j[15],j[16])}else E===1&&U===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:warn('Unknown type 1 charstring command of "'+D+'"');break}if(w)break;continue}else D<=246?D-=139:D<=250?D=(D-247)*256+d[++k]+108:D<=254?D=-((D-251)*256)-d[++k]-108:D=(d[++k]&255)<<24|(d[++k]&255)<<16|(d[++k]&255)<<8|(d[++k]&255)<<0;this.stack.push(D)}return w}executeCommand(d,x,b){const S=this.stack.length;if(d>S)return!0;const w=S-d;for(let C=w;C<S;C++){let F=this.stack[C];Number.isInteger(F)?this.output.push(28,F>>8&255,F&255):(F=65536*F|0,this.output.push(255,F>>24&255,F>>16&255,F>>8&255,F&255))}return this.output.push(...x),b?this.stack.splice(w,d):this.stack.length=0,!1}}const EEXEC_ENCRYPT_KEY=55665,CHAR_STRS_ENCRYPT_KEY=4330;function isHexDigit(g){return g>=48&&g<=57||g>=65&&g<=70||g>=97&&g<=102}function decrypt(g,d,x){if(x>=g.length)return new Uint8Array(0);const b=52845,S=22719;let w=d|0,C,F;for(C=0;C<x;C++)w=(g[C]+w)*b+S&65535;const E=g.length-x,k=new Uint8Array(E);for(C=x,F=0;F<E;C++,F++){const D=g[C];k[F]=D^w>>8,w=(D+w)*b+S&65535}return k}function decryptAscii(g,d,x){let w=d|0;const C=g.length,F=C>>>1,E=new Uint8Array(F);let k,D;for(k=0,D=0;k<C;k++){const M=g[k];if(!isHexDigit(M))continue;k++;let L;for(;k<C&&!isHexDigit(L=g[k]);)k++;if(k<C){const R=parseInt(String.fromCharCode(M,L),16);E[D++]=R^w>>8,w=(R+w)*52845+22719&65535}}return E.slice(x,D)}function isSpecial(g){return g===47||g===91||g===93||g===123||g===125||g===40||g===41}class Type1Parser{constructor(d,x,b){if(x){const S=d.getBytes(),w=!((isHexDigit(S[0])||isWhiteSpace(S[0]))&&isHexDigit(S[1])&&isHexDigit(S[2])&&isHexDigit(S[3])&&isHexDigit(S[4])&&isHexDigit(S[5])&&isHexDigit(S[6])&&isHexDigit(S[7]));d=new Stream$1(w?decrypt(S,EEXEC_ENCRYPT_KEY,4):decryptAscii(S,EEXEC_ENCRYPT_KEY,4))}this.seacAnalysisEnabled=!!b,this.stream=d,this.nextChar()}readNumberArray(){this.getToken();const d=[];for(;;){const x=this.getToken();if(x===null||x==="]"||x==="}")break;d.push(parseFloat(x||0))}return d}readNumber(){const d=this.getToken();return parseFloat(d||0)}readInt(){const d=this.getToken();return parseInt(d||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let d=!1,x=this.currentChar;for(;;){if(x===-1)return null;if(d)(x===10||x===13)&&(d=!1);else if(x===37)d=!0;else if(!isWhiteSpace(x))break;x=this.nextChar()}if(isSpecial(x))return this.nextChar(),String.fromCharCode(x);let b="";do b+=String.fromCharCode(x),x=this.nextChar();while(x>=0&&!isWhiteSpace(x)&&!isSpecial(x));return b}readCharStrings(d,x){return x===-1?d:decrypt(d,CHAR_STRS_ENCRYPT_KEY,x)}extractFontProgram(d){const x=this.stream,b=[],S=[],w=Object.create(null);w.lenIV=4;const C={subrs:[],charstrings:[],properties:{privateData:w}};let F,E,k,D;for(;(F=this.getToken())!==null;)if(F==="/")switch(F=this.getToken(),F){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();F=this.getToken(),!(F===null||F==="end");){if(F!=="/")continue;const L=this.getToken();E=this.readInt(),this.getToken(),k=E>0?x.getBytes(E):new Uint8Array(0),D=C.properties.privateData.lenIV;const R=this.readCharStrings(k,D);this.nextChar(),F=this.getToken(),F==="noaccess"?this.getToken():F==="/"&&this.prevChar(),S.push({glyph:L,encoded:R})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const L=this.readInt();E=this.readInt(),this.getToken(),k=E>0?x.getBytes(E):new Uint8Array(0),D=C.properties.privateData.lenIV;const R=this.readCharStrings(k,D);this.nextChar(),F=this.getToken(),F==="noaccess"&&this.getToken(),b[L]=R}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const M=this.readNumberArray();M.length>0&&M.length%2===0&&HINTING_ENABLED&&(C.properties.privateData[F]=M);break;case"StemSnapH":case"StemSnapV":C.properties.privateData[F]=this.readNumberArray();break;case"StdHW":case"StdVW":C.properties.privateData[F]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":C.properties.privateData[F]=this.readNumber();break;case"ExpansionFactor":C.properties.privateData[F]=this.readNumber()||.06;break;case"ForceBold":C.properties.privateData[F]=this.readBoolean();break}for(const{encoded:M,glyph:L}of S){const R=new Type1CharString,U=R.convert(M,b,this.seacAnalysisEnabled);let j=R.output;U&&(j=[14]);const H={glyphName:L,charstring:j,width:R.width,lsb:R.lsb,seac:R.seac};if(L===".notdef"?C.charstrings.unshift(H):C.charstrings.push(H),d.builtInEncoding){const V=d.builtInEncoding.indexOf(L);V>-1&&d.widths[V]===void 0&&V>=d.firstChar&&V<=d.lastChar&&(d.widths[V]=R.width)}}return C}extractFontHeader(d){let x;for(;(x=this.getToken())!==null;)if(x==="/")switch(x=this.getToken(),x){case"FontMatrix":const b=this.readNumberArray();d.fontMatrix=b;break;case"Encoding":const S=this.getToken();let w;if(!/^\d+$/.test(S))w=getEncoding(S);else{w=[];const F=parseInt(S,10)|0;this.getToken();for(let E=0;E<F;E++){for(x=this.getToken();x!=="dup"&&x!=="def";)if(x=this.getToken(),x===null)return;if(x==="def")break;const k=this.readInt();this.getToken();const D=this.getToken();w[k]=D,this.getToken()}}d.builtInEncoding=w;break;case"FontBBox":const C=this.readNumberArray();d.ascent=Math.max(C[3],C[1]),d.descent=Math.min(C[1],C[3]),d.ascentScaled=!0;break}}}function findBlock(g,d,x){const b=g.length,S=d.length,w=b-S;let C=x,F=!1;for(;C<w;){let E=0;for(;E<S&&g[C+E]===d[E];)E++;if(E>=S){for(C+=E;C<b&&isWhiteSpace(g[C]);)C++;F=!0;break}C++}return{found:F,length:C}}function getHeaderBlock(g,d){const x=[101,101,120,101,99],b=g.pos;let S,w,C;try{S=g.getBytes(d),w=S.length}catch{}if(w===d&&(C=findBlock(S,x,d-2*x.length),C.found&&C.length===d))return{stream:new Stream$1(S),length:d};warn('Invalid "Length1" property in Type1 font -- trying to recover.'),g.pos=b;const F=2048;let E;for(;;){const k=g.peekBytes(F);if(C=findBlock(k,x,0),C.length===0)break;if(g.pos+=C.length,C.found){E=g.pos-b;break}}return g.pos=b,E?{stream:new Stream$1(g.getBytes(E)),length:E}:(warn('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new Stream$1(g.getBytes(d)),length:d})}function getEexecBlock(g,d){const x=g.getBytes();if(x.length===0)throw new FormatError("getEexecBlock - no font program found.");return{stream:new Stream$1(x),length:x.length}}class Type1Font{constructor(d,x,b){let w=b.length1;b.length2;let C=x.peekBytes(6);const F=C[0]===128&&C[1]===1;F&&(x.skip(6),w=C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const E=getHeaderBlock(x,w);new Type1Parser(E.stream,!1,SEAC_ANALYSIS_ENABLED).extractFontHeader(b),F&&(C=x.getBytes(6),C[5]<<24|C[4]<<16|C[3]<<8|C[2]);const D=getEexecBlock(x),L=new Type1Parser(D.stream,!0,SEAC_ANALYSIS_ENABLED).extractFontProgram(b);for(const H in L.properties)b[H]=L.properties[H];const R=L.charstrings,U=this.getType2Charstrings(R),j=this.getType2Subrs(L.subrs);this.charstrings=R,this.data=this.wrap(d,U,this.charstrings,j,b),this.seacs=this.getSeacs(L.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const d=[".notdef"];for(const{glyphName:x}of this.charstrings)d.push(x);return d}getGlyphMapping(d){const x=this.charstrings;if(d.composite){const F=Object.create(null);for(let E=0,k=x.length;E<k;E++){const D=d.cMap.charCodeOf(E);F[D]=E+1}return F}const b=[".notdef"];let S,w;for(w=0;w<x.length;w++)b.push(x[w].glyphName);const C=d.builtInEncoding;if(C){S=Object.create(null);for(const F in C)w=b.indexOf(C[F]),w>=0&&(S[F]=w)}return type1FontGlyphMapping(d,S,b)}hasGlyphId(d){return d<0||d>=this.numGlyphs?!1:d===0?!0:this.charstrings[d-1].charstring.length>0}getSeacs(d){const x=[];for(let b=0,S=d.length;b<S;b++){const w=d[b];w.seac&&(x[b+1]=w.seac)}return x}getType2Charstrings(d){const x=[];for(const b of d)x.push(b.charstring);return x}getType2Subrs(d){let x=0;const b=d.length;b<1133?x=107:b<33769?x=1131:x=32768;const S=[];let w;for(w=0;w<x;w++)S.push([11]);for(w=0;w<b;w++)S.push(d[w]);return S}wrap(d,x,b,S,w){const C=new CFF;C.header=new CFFHeader(1,0,4,4),C.names=[d];const F=new CFFTopDict;F.setByName("version",391),F.setByName("Notice",392),F.setByName("FullName",393),F.setByName("FamilyName",394),F.setByName("Weight",395),F.setByName("Encoding",null),F.setByName("FontMatrix",w.fontMatrix),F.setByName("FontBBox",w.bbox),F.setByName("charset",null),F.setByName("CharStrings",null),F.setByName("Private",null),C.topDict=F;const E=new CFFStrings;E.add("Version 0.11"),E.add("See original notice"),E.add(d),E.add(d),E.add("Medium"),C.strings=E,C.globalSubrIndex=new CFFIndex;const k=x.length,D=[".notdef"];let M,L;for(M=0;M<k;M++){const z=b[M].glyphName;CFFStandardStrings.indexOf(z)===-1&&E.add(z),D.push(z)}C.charset=new CFFCharset(!1,0,D);const R=new CFFIndex;for(R.add([139,14]),M=0;M<k;M++)R.add(x[M]);C.charStrings=R;const U=new CFFPrivateDict;U.setByName("Subrs",null);const j=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(M=0,L=j.length;M<L;M++){const z=j[M];if(!(z in w.privateData))continue;const G=w.privateData[z];if(Array.isArray(G))for(let X=G.length-1;X>0;X--)G[X]-=G[X-1];U.setByName(z,G)}C.topDict.privateDict=U;const H=new CFFIndex;for(M=0,L=S.length;M<L;M++)H.add(S[M]);return U.subrsIndex=H,new CFFCompiler(C).compile()}}const PRIVATE_USE_AREAS=[[57344,63743],[1048576,1114109]],PDF_GLYPH_SPACE_UNITS=1e3,EXPORT_DATA_PROPERTIES=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],EXPORT_DATA_EXTRA_PROPERTIES=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function adjustWidths(g){if(!g.fontMatrix||g.fontMatrix[0]===FONT_IDENTITY_MATRIX[0])return;const d=.001/g.fontMatrix[0],x=g.widths;for(const b in x)x[b]*=d;g.defaultWidth*=d}function adjustTrueTypeToUnicode(g,d,x){if(g.isInternalFont||g.hasIncludedToUnicodeMap||g.hasEncoding||g.toUnicode instanceof IdentityToUnicodeMap||!d||x.length===0||g.defaultEncoding===WinAnsiEncoding)return;for(const C of x)if(!isWinNameRecord(C))return;const b=WinAnsiEncoding,S=[],w=getGlyphsUnicode();for(const C in b){const F=b[C];if(F==="")continue;const E=w[F];E!==void 0&&(S[C]=String.fromCharCode(E))}S.length>0&&g.toUnicode.amend(S)}function adjustType1ToUnicode(g,d){if(g.isInternalFont||g.hasIncludedToUnicodeMap||d===g.defaultEncoding||g.toUnicode instanceof IdentityToUnicodeMap)return;const x=[],b=getGlyphsUnicode();for(const S in d){if(g.hasEncoding&&(g.baseEncodingName||g.differences[S]!==void 0))continue;const w=d[S],C=getUnicodeForGlyph(w,b);C!==-1&&(x[S]=String.fromCharCode(C))}x.length>0&&g.toUnicode.amend(x)}function amendFallbackToUnicode(g){if(!g.fallbackToUnicode||g.toUnicode instanceof IdentityToUnicodeMap)return;const d=[];for(const x in g.fallbackToUnicode)g.toUnicode.has(x)||(d[x]=g.fallbackToUnicode[x]);d.length>0&&g.toUnicode.amend(d)}class fonts_Glyph{constructor(d,x,b,S,w,C,F,E,k){this.originalCharCode=d,this.fontChar=x,this.unicode=b,this.accent=S,this.width=w,this.vmetric=C,this.operatorListId=F,this.isSpace=E,this.isInFont=k}get category(){return shadow(this,"category",getCharUnicodeCategory(this.unicode),!0)}}function int16(g,d){return(g<<8)+d}function writeSignedInt16(g,d,x){g[d+1]=x,g[d]=x>>>8}function signedInt16(g,d){const x=(g<<8)+d;return x&32768?x-65536:x}function writeUint32(g,d,x){g[d+3]=x&255,g[d+2]=x>>>8,g[d+1]=x>>>16,g[d]=x>>>24}function int32(g,d,x,b){return(g<<24)+(d<<16)+(x<<8)+b}function string16(g){return String.fromCharCode(g>>8&255,g&255)}function safeString16(g){return g>32767?g=32767:g<-32768&&(g=-32768),String.fromCharCode(g>>8&255,g&255)}function isTrueTypeFile(g){const d=g.peekBytes(4);return readUint32(d,0)===65536||bytesToString(d)==="true"}function isTrueTypeCollectionFile(g){const d=g.peekBytes(4);return bytesToString(d)==="ttcf"}function isOpenTypeFile(g){const d=g.peekBytes(4);return bytesToString(d)==="OTTO"}function isType1File(g){const d=g.peekBytes(2);return d[0]===37&&d[1]===33||d[0]===128&&d[1]===1}function isCFFFile(g){const d=g.peekBytes(4);return d[0]>=1&&d[3]>=1&&d[3]<=4}function getFontFileType(g,{type:d,subtype:x,composite:b}){let S,w;return isTrueTypeFile(g)||isTrueTypeCollectionFile(g)?S=b?"CIDFontType2":"TrueType":isOpenTypeFile(g)?S=b?"CIDFontType2":"OpenType":isType1File(g)?b?S="CIDFontType0":S=d==="MMType1"?"MMType1":"Type1":isCFFFile(g)?b?(S="CIDFontType0",w="CIDFontType0C"):(S=d==="MMType1"?"MMType1":"Type1",w="Type1C"):(warn("getFontFileType: Unable to detect correct font file Type/Subtype."),S=d,w=x),[S,w]}function applyStandardFontGlyphMap(g,d){for(const x in d)g[+x]=d[x]}function buildToFontChar(g,d,x){const b=[];let S;for(let w=0,C=g.length;w<C;w++)S=getUnicodeForGlyph(g[w],d),S!==-1&&(b[w]=S);for(const w in x)S=getUnicodeForGlyph(x[w],d),S!==-1&&(b[+w]=S);return b}function isMacNameRecord(g){return g.platform===1&&g.encoding===0&&g.language===0}function isWinNameRecord(g){return g.platform===3&&g.encoding===1&&g.language===1033}function convertCidString(g,d,x=!1){switch(d.length){case 1:return d.charCodeAt(0);case 2:return d.charCodeAt(0)<<8|d.charCodeAt(1)}const b=`Unsupported CID string (charCode ${g}): "${d}".`;if(x)throw new FormatError(b);return warn(b),d}function adjustMapping(g,d,x,b){const S=Object.create(null),w=new Map,C=[],F=new Set;let E=0,D=PRIVATE_USE_AREAS[E][0],M=PRIVATE_USE_AREAS[E][1];const L=R=>PRIVATE_USE_AREAS[0][0]<=R&&R<=PRIVATE_USE_AREAS[0][1]||PRIVATE_USE_AREAS[1][0]<=R&&R<=PRIVATE_USE_AREAS[1][1];for(let R in g){R|=0;let U=g[R];if(!d(U))continue;if(D>M){if(E++,E>=PRIVATE_USE_AREAS.length){warn("Ran out of space in font private use area.");break}D=PRIVATE_USE_AREAS[E][0],M=PRIVATE_USE_AREAS[E][1]}const j=D++;U===0&&(U=x);let H=b.get(R);typeof H=="string"&&(H=H.codePointAt(0)),H&&!L(H)&&!F.has(U)&&(w.set(H,U),F.add(U)),S[j]=U,C[R]=j}return{toFontChar:C,charCodeToGlyphId:S,toUnicodeExtraMap:w,nextAvailableFontCharCode:D}}function getRanges(g,d,x){const b=[];for(const C in g)g[C]>=x||b.push({fontCharCode:C|0,glyphId:g[C]});if(d)for(const[C,F]of d)F>=x||b.push({fontCharCode:C,glyphId:F});b.length===0&&b.push({fontCharCode:0,glyphId:0}),b.sort(function(F,E){return F.fontCharCode-E.fontCharCode});const S=[],w=b.length;for(let C=0;C<w;){const F=b[C].fontCharCode,E=[b[C].glyphId];++C;let k=F;for(;C<w&&k+1===b[C].fontCharCode&&(E.push(b[C].glyphId),++k,++C,k!==65535););S.push([F,k,E])}return S}function createCmapTable(g,d,x){const b=getRanges(g,d,x),S=b.at(-1)[1]>65535?2:1;let w="\0\0"+string16(S)+"\0\0"+string32(4+S*8),C,F,E,k;for(C=b.length-1;C>=0&&!(b[C][0]<=65535);--C);const D=C+1;b[C][0]<65535&&b[C][1]===65535&&(b[C][1]=65534);const M=b[C][1]<65535?1:0,L=D+M,R=OpenTypeFileBuilder.getSearchParams(L,2);let U="",j="",H="",V="",z="",G=0,X,Y,J,ee;for(C=0,F=D;C<F;C++){X=b[C],Y=X[0],J=X[1],U+=string16(Y),j+=string16(J),ee=X[2];let fe=!0;for(E=1,k=ee.length;E<k;++E)if(ee[E]!==ee[E-1]+1){fe=!1;break}if(fe){const Se=ee[0];H+=string16(Se-Y&65535),V+=string16(0)}else{const Se=(L-C)*2+G*2;for(G+=J-Y+1,H+=string16(0),V+=string16(Se),E=0,k=ee.length;E<k;++E)z+=string16(ee[E])}}M>0&&(j+="",U+="",H+="\0",V+="\0\0");const ie="\0\0"+string16(2*L)+string16(R.range)+string16(R.entry)+string16(R.rangeShift)+j+"\0\0"+U+H+V+z;let oe="",he="";if(S>1){for(w+=`\0\0
`+string32(4+S*8+4+ie.length),oe="",C=0,F=b.length;C<F;C++){X=b[C],Y=X[0],ee=X[2];let fe=ee[0];for(E=1,k=ee.length;E<k;++E)ee[E]!==ee[E-1]+1&&(J=X[0]+E-1,oe+=string32(Y)+string32(J)+string32(fe),Y=J+1,fe=ee[E]);oe+=string32(Y)+string32(X[1])+string32(fe)}he="\0\f\0\0"+string32(oe.length+16)+"\0\0\0\0"+string32(oe.length/12)}return w+"\0"+string16(ie.length+4)+ie+he+oe}function validateOS2Table(g,d){d.pos=(d.start||0)+g.offset;const x=d.getUint16();d.skip(60);const b=d.getUint16();if(x<4&&b&768)return!1;const S=d.getUint16(),w=d.getUint16();return S>w||(d.skip(6),d.getUint16()===0)?!1:(g.data[8]=g.data[9]=0,!0)}function createOS2Table(g,d,x){x||={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let b=0,S=0,w=0,C=0,F=null,E=0,k=-1;if(d){for(let V in d)if(V|=0,(F>V||!F)&&(F=V),E<V&&(E=V),k=getUnicodeRangeFor(V,k),k<32)b|=1<<k;else if(k<64)S|=1<<k-32;else if(k<96)w|=1<<k-64;else if(k<123)C|=1<<k-96;else throw new FormatError("Unicode ranges Bits > 123 are reserved for internal usage");E>65535&&(E=65535)}else F=0,E=255;const D=g.bbox||[0,0,0,0],M=x.unitsPerEm||1/(g.fontMatrix||FONT_IDENTITY_MATRIX)[0],L=g.ascentScaled?1:M/PDF_GLYPH_SPACE_UNITS,R=x.ascent||Math.round(L*(g.ascent||D[3]));let U=x.descent||Math.round(L*(g.descent||D[1]));U>0&&g.descent>0&&D[1]<0&&(U=-U);const j=x.yMax||R,H=-x.yMin||-U;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(g.fixedPitch?9:0)+"\0\0\0\0\0\0"+string32(b)+string32(S)+string32(w)+string32(C)+"*21*"+string16(g.italicAngle?1:0)+string16(F||g.firstChar)+string16(E||g.lastChar)+string16(R)+string16(U)+"\0d"+string16(j)+string16(H)+"\0\0\0\0\0\0\0\0"+string16(g.xHeight)+string16(g.capHeight)+string16(0)+string16(F||g.firstChar)+"\0"}function createPostTable(g){const d=Math.floor(g.italicAngle*65536);return"\0\0\0"+string32(d)+"\0\0\0\0"+string32(g.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function createPostscriptName(g){return g.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function createNameTable(g,d){d||(d=[[],[]]);const x=[d[0][0]||"Original licence",d[0][1]||g,d[0][2]||"Unknown",d[0][3]||"uniqueID",d[0][4]||g,d[0][5]||"Version 0.11",d[0][6]||createPostscriptName(g),d[0][7]||"Unknown",d[0][8]||"Unknown",d[0][9]||"Unknown"],b=[];let S,w,C,F,E;for(S=0,w=x.length;S<w;S++){E=d[1][S]||x[S];const H=[];for(C=0,F=E.length;C<F;C++)H.push(string16(E.charCodeAt(C)));b.push(H.join(""))}const k=[x,b],D=["\0","\0"],M=["\0\0","\0"],L=["\0\0","	"],R=x.length*D.length;let U="\0\0"+string16(R)+string16(R*12+6),j=0;for(S=0,w=D.length;S<w;S++){const H=k[S];for(C=0,F=H.length;C<F;C++){E=H[C];const V=D[S]+M[S]+L[S]+string16(C)+string16(E.length)+string16(j);U+=V,j+=E.length}}return U+=x.join("")+b.join(""),U}let Font$2=class{constructor(d,x,b){this.name=d,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=b.loadedName,this.isType3Font=b.isType3Font,this.missingFile=!1,this.cssFontInfo=b.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let S=!!(b.flags&FontFlags.Serif);if(!S&&!b.isSimulatedFlags){const k=d.replaceAll(/[,_]/g,"-").split("-")[0],D=getSerifFonts();for(const M of k.split("+"))if(D[M]){S=!0;break}}this.isSerifFont=S,this.isSymbolicFont=!!(b.flags&FontFlags.Symbolic),this.isMonospace=!!(b.flags&FontFlags.FixedPitch);let{type:w,subtype:C}=b;this.type=w,this.subtype=C,this.systemFontInfo=b.systemFontInfo;const F=d.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!F,this.isInvalidPDFjsFont?this.fallbackName=F[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",this.systemFontInfo?.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=b.differences,this.widths=b.widths,this.defaultWidth=b.defaultWidth,this.composite=b.composite,this.cMap=b.cMap,this.capHeight=b.capHeight/PDF_GLYPH_SPACE_UNITS,this.ascent=b.ascent/PDF_GLYPH_SPACE_UNITS,this.descent=b.descent/PDF_GLYPH_SPACE_UNITS,this.lineHeight=this.ascent-this.descent,this.fontMatrix=b.fontMatrix,this.bbox=b.bbox,this.defaultEncoding=b.defaultEncoding,this.toUnicode=b.toUnicode,this.toFontChar=[],b.type==="Type3"){for(let k=0;k<256;k++)this.toFontChar[k]=this.differences[k]||b.defaultEncoding[k];return}if(this.cidEncoding=b.cidEncoding||"",this.vertical=!!b.vertical,this.vertical&&(this.vmetrics=b.vmetrics,this.defaultVMetrics=b.defaultVMetrics),!x||x.isEmpty){x&&warn('Font file is empty in "'+d+'" ('+this.loadedName+")"),this.fallbackToSystemFont(b);return}[w,C]=getFontFileType(x,b),(w!==this.type||C!==this.subtype)&&info(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${w}/${C}.`);let E;try{switch(w){case"MMType1":info("MMType1 font ("+d+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const k=C==="Type1C"||C==="CIDFontType0C"?new CFFFont(x,b):new Type1Font(d,x,b);adjustWidths(b),E=this.convert(d,k,b);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",E=this.checkAndRepair(d,x,b),this.isOpenType&&(adjustWidths(b),w="OpenType");break;default:throw new FormatError(`Font ${w} is not supported`)}}catch(k){warn(k),this.fallbackToSystemFont(b);return}amendFallbackToUnicode(b),this.data=E,this.type=w,this.subtype=C,this.fontMatrix=b.fontMatrix,this.widths=b.widths,this.defaultWidth=b.defaultWidth,this.toUnicode=b.toUnicode,this.seacMap=b.seacMap}get renderer(){const d=FontRendererFactory.create(this,SEAC_ANALYSIS_ENABLED);return shadow(this,"renderer",d)}exportData(d=!1){const x=d?[...EXPORT_DATA_PROPERTIES,...EXPORT_DATA_EXTRA_PROPERTIES]:EXPORT_DATA_PROPERTIES,b=Object.create(null);let S,w;for(S of x)w=this[S],w!==void 0&&(b[S]=w);return b}fallbackToSystemFont(d){this.missingFile=!0;const{name:x,type:b}=this;let S=normalizeFontName(x);const w=getStdFontMap(),C=getNonStdFontMap(),F=!!w[S],E=!!(C[S]&&w[C[S]]);S=w[S]||C[S]||S;const D=getFontBasicMetrics()[S];D&&(isNaN(this.ascent)&&(this.ascent=D.ascent/PDF_GLYPH_SPACE_UNITS),isNaN(this.descent)&&(this.descent=D.descent/PDF_GLYPH_SPACE_UNITS),isNaN(this.capHeight)&&(this.capHeight=D.capHeight/PDF_GLYPH_SPACE_UNITS)),this.bold=/bold/gi.test(S),this.italic=/oblique|italic/gi.test(S),this.black=/Black/g.test(x);const M=/Narrow/g.test(x);if(this.remeasure=(!F||M)&&Object.keys(this.widths).length>0,(F||E)&&b==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const L=d.cidToGidMap,R=[];if(applyStandardFontGlyphMap(R,getGlyphMapForStandardFonts()),/Arial-?Black/i.test(x)?applyStandardFontGlyphMap(R,getSupplementalGlyphMapForArialBlack()):/Calibri/i.test(x)&&applyStandardFontGlyphMap(R,getSupplementalGlyphMapForCalibri()),L){for(const U in R){const j=R[U];L[j]!==void 0&&(R[+U]=L[j])}L.length!==this.toUnicode.length&&d.hasIncludedToUnicodeMap&&this.toUnicode instanceof IdentityToUnicodeMap&&this.toUnicode.forEach(function(U,j){const H=R[U];L[H]===void 0&&(R[+U]=j)})}this.toUnicode instanceof IdentityToUnicodeMap||this.toUnicode.forEach(function(U,j){R[+U]=j}),this.toFontChar=R,this.toUnicode=new ToUnicodeMap(R)}else if(/Symbol/i.test(S))this.toFontChar=buildToFontChar(SymbolSetEncoding,getGlyphsUnicode(),this.differences);else if(/Dingbats/i.test(S))this.toFontChar=buildToFontChar(ZapfDingbatsEncoding,getDingbatsGlyphsUnicode(),this.differences);else if(F){const L=buildToFontChar(this.defaultEncoding,getGlyphsUnicode(),this.differences);b==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof IdentityToUnicodeMap)&&this.toUnicode.forEach(function(R,U){L[+R]=U}),this.toFontChar=L}else{const L=getGlyphsUnicode(),R=[];this.toUnicode.forEach((U,j)=>{if(!this.composite){const H=this.differences[U]||this.defaultEncoding[U],V=getUnicodeForGlyph(H,L);V!==-1&&(j=V)}R[+U]=j}),this.composite&&this.toUnicode instanceof IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(x)&&applyStandardFontGlyphMap(R,getGlyphMapForStandardFonts()),this.toFontChar=R}amendFallbackToUnicode(d),this.loadedName=S.split("-")[0]}checkAndRepair(d,x,b){const S=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function w(De,Pe){const Ce=Object.create(null);Ce["OS/2"]=null,Ce.cmap=null,Ce.head=null,Ce.hhea=null,Ce.hmtx=null,Ce.maxp=null,Ce.name=null,Ce.post=null;for(let te=0;te<Pe;te++){const re=C(De);S.includes(re.tag)&&re.length!==0&&(Ce[re.tag]=re)}return Ce}function C(De){const Pe=De.getString(4),Ce=De.getInt32()>>>0,te=De.getInt32()>>>0,re=De.getInt32()>>>0,W=De.pos;De.pos=De.start||0,De.skip(te);const $=De.getBytes(re);return De.pos=W,Pe==="head"&&($[8]=$[9]=$[10]=$[11]=0,$[17]|=32),{tag:Pe,checksum:Ce,length:re,offset:te,data:$}}function F(De){return{version:De.getString(4),numTables:De.getUint16(),searchRange:De.getUint16(),entrySelector:De.getUint16(),rangeShift:De.getUint16()}}function E(De){const Pe=De.getString(4);assert(Pe==="ttcf","Must be a TrueType Collection font.");const Ce=De.getUint16(),te=De.getUint16(),re=De.getInt32()>>>0,W=[];for(let Z=0;Z<re;Z++)W.push(De.getInt32()>>>0);const $={ttcTag:Pe,majorVersion:Ce,minorVersion:te,numFonts:re,offsetTable:W};switch(Ce){case 1:return $;case 2:return $.dsigTag=De.getInt32()>>>0,$.dsigLength=De.getInt32()>>>0,$.dsigOffset=De.getInt32()>>>0,$}throw new FormatError(`Invalid TrueType Collection majorVersion: ${Ce}.`)}function k(De,Pe){const{numFonts:Ce,offsetTable:te}=E(De),re=Pe.split("+");let W;for(let $=0;$<Ce;$++){De.pos=(De.start||0)+te[$];const Z=F(De),K=w(De,Z.numTables);if(!K.name)throw new FormatError('TrueType Collection font must contain a "name" table.');const[Q]=H(K.name);for(let ae=0,ce=Q.length;ae<ce;ae++)for(let le=0,ge=Q[ae].length;le<ge;le++){const pe=Q[ae][le]?.replaceAll(/\s/g,"");if(pe){if(pe===Pe)return{header:Z,tables:K};if(!(re.length<2))for(const ye of re)pe===ye&&(W={name:ye,header:Z,tables:K})}}}if(W)return warn(`TrueType Collection does not contain "${Pe}" font, falling back to "${W.name}" font instead.`),{header:W.header,tables:W.tables};throw new FormatError(`TrueType Collection does not contain "${Pe}" font.`)}function D(De,Pe,Ce,te){if(!De)return warn("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let re,W=(Pe.start||0)+De.offset;Pe.pos=W,Pe.skip(2);const $=Pe.getUint16();let Z,K=!1;for(let pe=0;pe<$;pe++){const ye=Pe.getUint16(),ve=Pe.getUint16(),be=Pe.getInt32()>>>0;let me=!1;if(!(Z?.platformId===ye&&Z?.encodingId===ve)){if(ye===0&&(ve===0||ve===1||ve===3))me=!0;else if(ye===1&&ve===0)me=!0;else if(ye===3&&ve===1&&(te||!Z))me=!0,Ce||(K=!0);else if(Ce&&ye===3&&ve===0){me=!0;let Fe=!0;if(pe<$-1){const Re=Pe.peekBytes(2);int16(Re[0],Re[1])<ye&&(Fe=!1)}Fe&&(K=!0)}if(me&&(Z={platformId:ye,encodingId:ve,offset:be}),K)break}}if(Z&&(Pe.pos=W+Z.offset),!Z||Pe.peekByte()===-1)return warn("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Q=Pe.getUint16();let ae=!1;const ce=[];let le,ge;if(Q===0){for(Pe.skip(4),le=0;le<256;le++){const pe=Pe.getByte();pe&&ce.push({charCode:le,glyphId:pe})}ae=!0}else if(Q===2){Pe.skip(4);const pe=[];let ye=0;for(let be=0;be<256;be++){const me=Pe.getUint16()>>3;pe.push(me),ye=Math.max(me,ye)}const ve=[];for(let be=0;be<=ye;be++)ve.push({firstCode:Pe.getUint16(),entryCount:Pe.getUint16(),idDelta:signedInt16(Pe.getByte(),Pe.getByte()),idRangePos:Pe.pos+Pe.getUint16()});for(let be=0;be<256;be++)if(pe[be]===0)Pe.pos=ve[0].idRangePos+2*be,ge=Pe.getUint16(),ce.push({charCode:be,glyphId:ge});else{const me=ve[pe[be]];for(le=0;le<me.entryCount;le++){const Fe=(be<<8)+le+me.firstCode;Pe.pos=me.idRangePos+2*le,ge=Pe.getUint16(),ge!==0&&(ge=(ge+me.idDelta)%65536),ce.push({charCode:Fe,glyphId:ge})}}}else if(Q===4){Pe.skip(4);const pe=Pe.getUint16()>>1;Pe.skip(6);const ye=[];let ve;for(ve=0;ve<pe;ve++)ye.push({end:Pe.getUint16()});for(Pe.skip(2),ve=0;ve<pe;ve++)ye[ve].start=Pe.getUint16();for(ve=0;ve<pe;ve++)ye[ve].delta=Pe.getUint16();let be=0,me;for(ve=0;ve<pe;ve++){re=ye[ve];const Re=Pe.getUint16();if(!Re){re.offsetIndex=-1;continue}me=(Re>>1)-(pe-ve),re.offsetIndex=me,be=Math.max(be,me+re.end-re.start+1)}const Fe=[];for(le=0;le<be;le++)Fe.push(Pe.getUint16());for(ve=0;ve<pe;ve++){re=ye[ve],W=re.start;const Re=re.end,ke=re.delta;for(me=re.offsetIndex,le=W;le<=Re;le++)le!==65535&&(ge=me<0?le:Fe[me+le-W],ge=ge+ke&65535,ce.push({charCode:le,glyphId:ge}))}}else if(Q===6){Pe.skip(4);const pe=Pe.getUint16(),ye=Pe.getUint16();for(le=0;le<ye;le++){ge=Pe.getUint16();const ve=pe+le;ce.push({charCode:ve,glyphId:ge})}}else if(Q===12){Pe.skip(10);const pe=Pe.getInt32()>>>0;for(le=0;le<pe;le++){const ye=Pe.getInt32()>>>0,ve=Pe.getInt32()>>>0;let be=Pe.getInt32()>>>0;for(let me=ye;me<=ve;me++)ce.push({charCode:me,glyphId:be++})}}else return warn("cmap table has unsupported format: "+Q),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};ce.sort(function(pe,ye){return pe.charCode-ye.charCode});for(let pe=1;pe<ce.length;pe++)ce[pe-1].charCode===ce[pe].charCode&&(ce.splice(pe,1),pe--);return{platformId:Z.platformId,encodingId:Z.encodingId,mappings:ce,hasShortCmap:ae}}function M(De,Pe,Ce,te,re,W){if(!Pe){Ce&&(Ce.data=null);return}De.pos=(De.start||0)+Pe.offset,De.pos+=4,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2,De.pos+=2;const $=De.getUint16();De.pos+=8,De.pos+=2;let Z=De.getUint16();$!==0&&(int16(te.data[44],te.data[45])&2||(Pe.data[22]=0,Pe.data[23]=0)),Z>re&&(info(`The numOfMetrics (${Z}) should not be greater than the numGlyphs (${re}).`),Z=re,Pe.data[34]=(Z&65280)>>8,Pe.data[35]=Z&255);const Q=re-Z-(Ce.length-Z*4>>1);if(Q>0){const ae=new Uint8Array(Ce.length+Q*2);ae.set(Ce.data),W&&(ae[Ce.length]=Ce.data[2],ae[Ce.length+1]=Ce.data[3]),Ce.data=ae}}function L(De,Pe,Ce,te,re,W){const $={length:0,sizeOfInstructions:0};if(Pe<0||Pe>=De.length||Ce>De.length||Ce-Pe<=12)return $;const Z=De.subarray(Pe,Ce),K=signedInt16(Z[2],Z[3]),Q=signedInt16(Z[4],Z[5]),ae=signedInt16(Z[6],Z[7]),ce=signedInt16(Z[8],Z[9]);K>ae&&(writeSignedInt16(Z,2,ae),writeSignedInt16(Z,6,K)),Q>ce&&(writeSignedInt16(Z,4,ce),writeSignedInt16(Z,8,Q));const le=signedInt16(Z[0],Z[1]);if(le<0)return le<-1||(te.set(Z,re),$.length=Z.length),$;let ge,pe=10,ye=0;for(ge=0;ge<le;ge++)ye=(Z[pe]<<8|Z[pe+1])+1,pe+=2;const ve=pe,be=Z[pe]<<8|Z[pe+1];$.sizeOfInstructions=be,pe+=2+be;const me=pe;let Fe=0;for(ge=0;ge<ye;ge++){const ke=Z[pe++];ke&192&&(Z[pe-1]=ke&63);let je=2;ke&2?je=1:ke&16&&(je=0);let ue=2;ke&4?ue=1:ke&32&&(ue=0);const ne=je+ue;if(Fe+=ne,ke&8){const se=Z[pe++];se===0&&(Z[pe-1]^=8),ge+=se,Fe+=se*ne}}if(Fe===0)return $;let Re=pe+Fe;return Re>Z.length?$:!W&&be>0?(te.set(Z.subarray(0,ve),re),te.set([0,0],re+ve),te.set(Z.subarray(me,Re),re+ve+2),Re-=be,Z.length-Re>3&&(Re=Re+3&-4),$.length=Re,$):Z.length-Re>3?(Re=Re+3&-4,te.set(Z.subarray(0,Re),re),$.length=Re,$):(te.set(Z,re),$.length=Z.length,$)}function R(De,Pe,Ce){const te=De.data,re=int32(te[0],te[1],te[2],te[3]);re>>16!==1&&(info("Attempting to fix invalid version in head table: "+re),te[0]=0,te[1]=1,te[2]=0,te[3]=0);const W=int16(te[50],te[51]);if(W<0||W>1){info("Attempting to fix invalid indexToLocFormat in head table: "+W);const $=Pe+1;if(Ce===$<<1)te[50]=0,te[51]=0;else if(Ce===$<<2)te[50]=0,te[51]=1;else throw new FormatError("Could not fix indexToLocFormat: "+W)}}function U(De,Pe,Ce,te,re,W,$){let Z,K,Q;te?(Z=4,K=function(je,ue){return je[ue]<<24|je[ue+1]<<16|je[ue+2]<<8|je[ue+3]},Q=function(je,ue,ne){je[ue]=ne>>>24&255,je[ue+1]=ne>>16&255,je[ue+2]=ne>>8&255,je[ue+3]=ne&255}):(Z=2,K=function(je,ue){return je[ue]<<9|je[ue+1]<<1},Q=function(je,ue,ne){je[ue]=ne>>9&255,je[ue+1]=ne>>1&255});const ae=W?Ce+1:Ce,ce=Z*(1+ae),le=new Uint8Array(ce);le.set(De.data.subarray(0,ce)),De.data=le;const ge=Pe.data,pe=ge.length,ye=new Uint8Array(pe);let ve,be;const me=[];for(ve=0,be=0;ve<Ce+1;ve++,be+=Z){let ke=K(le,be);ke>pe&&(ke=pe),me.push({index:ve,offset:ke,endOffset:0})}for(me.sort((ke,je)=>ke.offset-je.offset),ve=0;ve<Ce;ve++)me[ve].endOffset=me[ve+1].offset;for(me.sort((ke,je)=>ke.index-je.index),ve=0;ve<Ce;ve++){const{offset:ke,endOffset:je}=me[ve];if(ke!==0||je!==0)break;const ue=me[ve+1].offset;if(ue!==0){me[ve].endOffset=ue;break}}const Fe=Object.create(null);let Re=0;for(Q(le,0,Re),ve=0,be=Z;ve<Ce;ve++,be+=Z){const ke=L(ge,me[ve].offset,me[ve].endOffset,ye,Re,re),je=ke.length;je===0&&(Fe[ve]=!0),ke.sizeOfInstructions>$&&($=ke.sizeOfInstructions),Re+=je,Q(le,be,Re)}if(Re===0){const ke=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(ve=0,be=Z;ve<ae;ve++,be+=Z)Q(le,be,ke.length);Pe.data=ke}else if(W){const ke=K(le,Z);ye.length>ke+Re?Pe.data=ye.subarray(0,ke+Re):(Pe.data=new Uint8Array(ke+Re),Pe.data.set(ye.subarray(0,Re))),Pe.data.set(ye.subarray(0,ke),Re),Q(De.data,le.length-Z,Re+ke)}else Pe.data=ye.subarray(0,Re);return{missingGlyphs:Fe,maxSizeOfInstructions:$}}function j(De,Pe,Ce){const te=(x.start||0)+De.offset;x.pos=te;const re=De.length,W=te+re,$=x.getInt32();x.skip(28);let Z,K=!0,Q;switch($){case 65536:Z=MacStandardGlyphOrdering;break;case 131072:const ae=x.getUint16();if(ae!==Ce){K=!1;break}const ce=[];for(Q=0;Q<ae;++Q){const pe=x.getUint16();if(pe>=32768){K=!1;break}ce.push(pe)}if(!K)break;const le=[],ge=[];for(;x.pos<W;){const pe=x.getByte();for(ge.length=pe,Q=0;Q<pe;++Q)ge[Q]=String.fromCharCode(x.getByte());le.push(ge.join(""))}for(Z=[],Q=0;Q<ae;++Q){const pe=ce[Q];if(pe<258){Z.push(MacStandardGlyphOrdering[pe]);continue}Z.push(le[pe-258])}break;case 196608:break;default:warn("Unknown/unsupported post table version "+$),K=!1,Pe.defaultEncoding&&(Z=Pe.defaultEncoding);break}return Pe.glyphNames=Z,K}function H(De){const Pe=(x.start||0)+De.offset;x.pos=Pe;const Ce=[[],[]],te=[],re=De.length,W=Pe+re;if(x.getUint16()!==0||re<6)return[Ce,te];const K=x.getUint16(),Q=x.getUint16(),ae=12;let ce,le;for(ce=0;ce<K&&x.pos+ae<=W;ce++){const ge={platform:x.getUint16(),encoding:x.getUint16(),language:x.getUint16(),name:x.getUint16(),length:x.getUint16(),offset:x.getUint16()};(isMacNameRecord(ge)||isWinNameRecord(ge))&&te.push(ge)}for(ce=0,le=te.length;ce<le;ce++){const ge=te[ce];if(ge.length<=0)continue;const pe=Pe+Q+ge.offset;if(pe+ge.length>W)continue;x.pos=pe;const ye=ge.name;if(ge.encoding){let ve="";for(let be=0,me=ge.length;be<me;be+=2)ve+=String.fromCharCode(x.getUint16());Ce[1][ye]=ve}else Ce[0][ye]=x.getString(ge.length)}return[Ce,te]}const V=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function z(De,Pe){let Ce=De.data,te=0,re,W,$,Z,K,Q=0,ae=0;const ce=[],le=[],ge=[];let pe=Pe.tooComplexToFollowFunctions,ye=!1,ve=0,be=0;for(let Fe=Ce.length;te<Fe;){const Re=Ce[te++];if(Re===64)if(W=Ce[te++],ye||be)te+=W;else for(re=0;re<W;re++)ce.push(Ce[te++]);else if(Re===65)if(W=Ce[te++],ye||be)te+=W*2;else for(re=0;re<W;re++)$=Ce[te++],ce.push($<<8|Ce[te++]);else if((Re&248)===176)if(W=Re-176+1,ye||be)te+=W;else for(re=0;re<W;re++)ce.push(Ce[te++]);else if((Re&248)===184)if(W=Re-184+1,ye||be)te+=W*2;else for(re=0;re<W;re++)$=Ce[te++],ce.push($<<8|Ce[te++]);else if(Re===43&&!pe){if(!ye&&!be){if(Z=ce.at(-1),isNaN(Z))info("TT: CALL empty stack (or invalid entry).");else if(Pe.functionsUsed[Z]=!0,Z in Pe.functionsStackDeltas){const ke=ce.length+Pe.functionsStackDeltas[Z];if(ke<0){warn("TT: CALL invalid functions stack delta."),Pe.hintsValid=!1;return}ce.length=ke}else if(Z in Pe.functionsDefined&&!ge.includes(Z)){if(le.push({data:Ce,i:te,stackTop:ce.length-1}),ge.push(Z),K=Pe.functionsDefined[Z],!K){warn("TT: CALL non-existent function"),Pe.hintsValid=!1;return}Ce=K.data,te=K.i}}}else if(Re===44&&!pe)(ye||be)&&(warn("TT: nested FDEFs not allowed"),pe=!0),ye=!0,ae=te,Z=ce.pop(),Pe.functionsDefined[Z]={data:Ce,i:te};else if(Re===45)if(ye)ye=!1,Q=te;else{if(K=le.pop(),!K){warn("TT: ENDF bad stack"),Pe.hintsValid=!1;return}Z=ge.pop(),Ce=K.data,te=K.i,Pe.functionsStackDeltas[Z]=ce.length-K.stackTop}else if(Re===137)(ye||be)&&(warn("TT: nested IDEFs not allowed"),pe=!0),ye=!0,ae=te;else if(Re===88)++ve;else if(Re===27)be=ve;else if(Re===89)be===ve&&(be=0),--ve;else if(Re===28&&!ye&&!be){const ke=ce.at(-1);ke>0&&(te+=ke-1)}if(!ye&&!be){let ke=0;for(Re<=142?ke=V[Re]:Re>=192&&Re<=223?ke=-1:Re>=224&&(ke=-2),Re>=113&&Re<=117&&(W=ce.pop(),isNaN(W)||(ke=-W*2));ke<0&&ce.length>0;)ce.pop(),ke++;for(;ke>0;)ce.push(NaN),ke--}}Pe.tooComplexToFollowFunctions=pe;const me=[Ce];te>Ce.length&&me.push(new Uint8Array(te-Ce.length)),ae>Q&&(warn("TT: complementing a missing function tail"),me.push(new Uint8Array([34,45]))),X(De,me)}function G(De,Pe){if(!De.tooComplexToFollowFunctions){if(De.functionsDefined.length>Pe){warn("TT: more functions defined than expected"),De.hintsValid=!1;return}for(let Ce=0,te=De.functionsUsed.length;Ce<te;Ce++){if(Ce>Pe){warn("TT: invalid function id: "+Ce),De.hintsValid=!1;return}if(De.functionsUsed[Ce]&&!De.functionsDefined[Ce]){warn("TT: undefined function: "+Ce),De.hintsValid=!1;return}}}}function X(De,Pe){if(Pe.length>1){let Ce=0,te,re;for(te=0,re=Pe.length;te<re;te++)Ce+=Pe[te].length;Ce=Ce+3&-4;const W=new Uint8Array(Ce);let $=0;for(te=0,re=Pe.length;te<re;te++)W.set(Pe[te],$),$+=Pe[te].length;De.data=W,De.length=Ce}}function Y(De,Pe,Ce,te){const re={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(De&&z(De,re),Pe&&z(Pe,re),De&&G(re,te),Ce&&Ce.length&1){const W=new Uint8Array(Ce.length+1);W.set(Ce.data),Ce.data=W}return re.hintsValid}x=new Stream$1(new Uint8Array(x.getBytes()));let J,ee;if(isTrueTypeCollectionFile(x)){const De=k(x,this.name);J=De.header,ee=De.tables}else J=F(x),ee=w(x,J.numTables);let ie,oe;const he=!ee["CFF "];if(he){if(!ee.loca)throw new FormatError('Required "loca" table is not found');ee.glyf||(warn('Required "glyf" table is not found -- trying to recover.'),ee.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const De=b.composite&&(b.cidToGidMap?.length>0||!(b.cMap instanceof IdentityCMap));if(J.version==="OTTO"&&!De||!ee.head||!ee.hhea||!ee.maxp||!ee.post)return oe=new Stream$1(ee["CFF "].data),ie=new CFFFont(oe,b),adjustWidths(b),this.convert(d,ie,b);delete ee.glyf,delete ee.loca,delete ee.fpgm,delete ee.prep,delete ee["cvt "],this.isOpenType=!0}if(!ee.maxp)throw new FormatError('Required "maxp" table is not found');x.pos=(x.start||0)+ee.maxp.offset;let fe=x.getInt32();const Se=x.getUint16();if(fe!==65536&&fe!==20480){if(ee.maxp.length===6)fe=20480;else if(ee.maxp.length>=32)fe=65536;else throw new FormatError('"maxp" table has a wrong version number');writeUint32(ee.maxp.data,0,fe)}if(b.scaleFactors?.length===Se&&he){const{scaleFactors:De}=b,Pe=int16(ee.head.data[50],ee.head.data[51]),Ce=new GlyfTable({glyfTable:ee.glyf.data,isGlyphLocationsLong:Pe,locaTable:ee.loca.data,numGlyphs:Se});Ce.scale(De);const{glyf:te,loca:re,isLocationLong:W}=Ce.write();ee.glyf.data=te,ee.loca.data=re,W!==!!Pe&&(ee.head.data[50]=0,ee.head.data[51]=W?1:0);const $=ee.hmtx.data;for(let Z=0;Z<Se;Z++){const K=4*Z,Q=Math.round(De[Z]*int16($[K],$[K+1]));$[K]=Q>>8&255,$[K+1]=Q&255;const ae=Math.round(De[Z]*signedInt16($[K+2],$[K+3]));writeSignedInt16($,K+2,ae)}}let we=Se+1,Ee=!0;we>65535&&(Ee=!1,we=Se,warn("Not enough space in glyfs to duplicate first glyph."));let de=0,xe=0;fe>=65536&&ee.maxp.length>=32&&(x.pos+=8,x.getUint16()>2&&(ee.maxp.data[14]=0,ee.maxp.data[15]=2),x.pos+=4,de=x.getUint16(),x.pos+=4,xe=x.getUint16()),ee.maxp.data[4]=we>>8,ee.maxp.data[5]=we&255;const Te=Y(ee.fpgm,ee.prep,ee["cvt "],de);if(Te||(delete ee.fpgm,delete ee.prep,delete ee["cvt "]),M(x,ee.hhea,ee.hmtx,ee.head,we,Ee),!ee.head)throw new FormatError('Required "head" table is not found');R(ee.head,Se,he?ee.loca.length:0);let Oe=Object.create(null);if(he){const De=int16(ee.head.data[50],ee.head.data[51]),Pe=U(ee.loca,ee.glyf,Se,De,Te,Ee,xe);Oe=Pe.missingGlyphs,fe>=65536&&ee.maxp.length>=32&&(ee.maxp.data[26]=Pe.maxSizeOfInstructions>>8,ee.maxp.data[27]=Pe.maxSizeOfInstructions&255)}if(!ee.hhea)throw new FormatError('Required "hhea" table is not found');ee.hhea.data[10]===0&&ee.hhea.data[11]===0&&(ee.hhea.data[10]=255,ee.hhea.data[11]=255);const Ne={unitsPerEm:int16(ee.head.data[18],ee.head.data[19]),yMax:signedInt16(ee.head.data[42],ee.head.data[43]),yMin:signedInt16(ee.head.data[38],ee.head.data[39]),ascent:signedInt16(ee.hhea.data[4],ee.hhea.data[5]),descent:signedInt16(ee.hhea.data[6],ee.hhea.data[7]),lineGap:signedInt16(ee.hhea.data[8],ee.hhea.data[9])};this.ascent=Ne.ascent/Ne.unitsPerEm,this.descent=Ne.descent/Ne.unitsPerEm,this.lineGap=Ne.lineGap/Ne.unitsPerEm,this.cssFontInfo?.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,ee.post&&j(ee.post,b,Se),ee.post={tag:"post",data:createPostTable(b)};const Le=[];function Me(De){return!Oe[De]}if(b.composite){const De=b.cidToGidMap||[],Pe=De.length===0;b.cMap.forEach(function(Ce,te){if(typeof te=="string"&&(te=convertCidString(Ce,te,!0)),te>65535)throw new FormatError("Max size of CID is 65,535");let re=-1;Pe?re=te:De[te]!==void 0&&(re=De[te]),re>=0&&re<Se&&Me(re)&&(Le[Ce]=re)})}else{const De=D(ee.cmap,x,this.isSymbolicFont,b.hasEncoding),Pe=De.platformId,Ce=De.encodingId,te=De.mappings;let re=[],W=!1;if(b.hasEncoding&&(b.baseEncodingName==="MacRomanEncoding"||b.baseEncodingName==="WinAnsiEncoding")&&(re=getEncoding(b.baseEncodingName)),b.hasEncoding&&!this.isSymbolicFont&&(Pe===3&&Ce===1||Pe===1&&Ce===0)){const $=getGlyphsUnicode();for(let Z=0;Z<256;Z++){let K;if(this.differences[Z]!==void 0?K=this.differences[Z]:re.length&&re[Z]!==""?K=re[Z]:K=StandardEncoding[Z],!K)continue;const Q=recoverGlyphName(K,$);let ae;if(Pe===3&&Ce===1?ae=$[Q]:Pe===1&&Ce===0&&(ae=MacRomanEncoding.indexOf(Q)),ae===void 0){if(!b.glyphNames&&b.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof IdentityToUnicodeMap)){const ce=this.toUnicode.get(Z);ce&&(ae=ce.codePointAt(0))}if(ae===void 0)continue}for(const ce of te)if(ce.charCode===ae){Le[Z]=ce.glyphId;break}}}else if(Pe===0){for(const $ of te)Le[$.charCode]=$.glyphId;W=!0}else for(const $ of te){let Z=$.charCode;Pe===3&&Z>=61440&&Z<=61695&&(Z&=255),Le[Z]=$.glyphId}if(b.glyphNames&&(re.length||this.differences.length))for(let $=0;$<256;++$){if(!W&&Le[$]!==void 0)continue;const Z=this.differences[$]||re[$];if(!Z)continue;const K=b.glyphNames.indexOf(Z);K>0&&Me(K)&&(Le[$]=K)}}Le.length===0&&(Le[0]=0);let Ie=we-1;if(Ee||(Ie=0),!b.cssFontInfo){const De=adjustMapping(Le,Me,Ie,this.toUnicode);this.toFontChar=De.toFontChar,ee.cmap={tag:"cmap",data:createCmapTable(De.charCodeToGlyphId,De.toUnicodeExtraMap,we)},(!ee["OS/2"]||!validateOS2Table(ee["OS/2"],x))&&(ee["OS/2"]={tag:"OS/2",data:createOS2Table(b,De.charCodeToGlyphId,Ne)})}if(!he)try{oe=new Stream$1(ee["CFF "].data),ie=new CFFParser(oe,b,SEAC_ANALYSIS_ENABLED).parse(),ie.duplicateFirstGlyph();const Pe=new CFFCompiler(ie);ee["CFF "].data=Pe.compile()}catch{warn("Failed to compile font "+b.loadedName)}if(!ee.name)ee.name={tag:"name",data:createNameTable(this.name)};else{const[De,Pe]=H(ee.name);ee.name.data=createNameTable(d,De),this.psName=De[0][6]||null,b.composite||adjustTrueTypeToUnicode(b,this.isSymbolicFont,Pe)}const Ve=new OpenTypeFileBuilder(J.version);for(const De in ee)Ve.addTable(De,ee[De].data);return Ve.toArray()}convert(d,x,b){b.fixedPitch=!1,b.builtInEncoding&&adjustType1ToUnicode(b,b.builtInEncoding);let S=1;x instanceof CFFFont&&(S=x.numGlyphs-1);const w=x.getGlyphMapping(b);let C=null,F=w,E=null;b.cssFontInfo||(C=adjustMapping(w,x.hasGlyphId.bind(x),S,this.toUnicode),this.toFontChar=C.toFontChar,F=C.charCodeToGlyphId,E=C.toUnicodeExtraMap);const k=x.numGlyphs;function D(j,H){let V=null;for(const z in j)H===j[z]&&(V||=[]).push(z|0);return V}function M(j,H){for(const V in j)if(H===j[V])return V|0;return C.charCodeToGlyphId[C.nextAvailableFontCharCode]=H,C.nextAvailableFontCharCode++}const L=x.seacs;if(C&&SEAC_ANALYSIS_ENABLED&&L?.length){const j=b.fontMatrix||FONT_IDENTITY_MATRIX,H=x.getCharset(),V=Object.create(null);for(let z in L){z|=0;const G=L[z],X=StandardEncoding[G[2]],Y=StandardEncoding[G[3]],J=H.indexOf(X),ee=H.indexOf(Y);if(J<0||ee<0)continue;const ie={x:G[0]*j[0]+G[1]*j[2]+j[4],y:G[0]*j[1]+G[1]*j[3]+j[5]},oe=D(w,z);if(oe)for(const he of oe){const fe=C.charCodeToGlyphId,Se=M(fe,J),we=M(fe,ee);V[he]={baseFontCharCode:Se,accentFontCharCode:we,accentOffset:ie}}}b.seacMap=V}const R=1/(b.fontMatrix||FONT_IDENTITY_MATRIX)[0],U=new OpenTypeFileBuilder("OTTO");return U.addTable("CFF ",x.data),U.addTable("OS/2",createOS2Table(b,F)),U.addTable("cmap",createCmapTable(F,E,k)),U.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+safeString16(R)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+safeString16(b.descent)+""+safeString16(b.ascent)+string16(b.italicAngle?2:0)+"\0\0\0\0\0\0\0"),U.addTable("hhea","\0\0\0"+safeString16(b.ascent)+safeString16(b.descent)+"\0\0\0\0\0\0\0\0"+safeString16(b.capHeight)+safeString16(Math.tan(b.italicAngle)*b.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+string16(k)),U.addTable("hmtx",function(){const H=x.charstrings,V=x.cff?x.cff.widths:null;let z="\0\0\0\0";for(let G=1,X=k;G<X;G++){let Y=0;if(H){const J=H[G-1];Y="width"in J?J.width:0}else V&&(Y=Math.ceil(V[G]||0));z+=string16(Y)+string16(0)}return z}()),U.addTable("maxp","\0\0P\0"+string16(k)),U.addTable("name",createNameTable(d)),U.addTable("post",createPostTable(b)),U.toArray()}get spaceWidth(){const d=["space","minus","one","i","I"];let x;for(const b of d){if(b in this.widths){x=this.widths[b];break}const w=getGlyphsUnicode()[b];let C=0;if(this.composite&&this.cMap.contains(w)&&(C=this.cMap.lookup(w),typeof C=="string"&&(C=convertCidString(w,C))),!C&&this.toUnicode&&(C=this.toUnicode.charCodeOf(w)),C<=0&&(C=w),x=this.widths[C],x)break}return shadow(this,"spaceWidth",x||this.defaultWidth)}_charToGlyph(d,x=!1){let b=this._glyphCache[d];if(b?.isSpace===x)return b;let S,w,C,F=d;this.cMap?.contains(d)&&(F=this.cMap.lookup(d),typeof F=="string"&&(F=convertCidString(d,F))),w=this.widths[F],typeof w!="number"&&(w=this.defaultWidth);const E=this.vmetrics?.[F];let k=this.toUnicode.get(d)||d;typeof k=="number"&&(k=String.fromCharCode(k));let D=this.toFontChar[d]!==void 0;if(S=this.toFontChar[d]||d,this.missingFile){const R=this.differences[d]||this.defaultEncoding[d];(R===".notdef"||R==="")&&this.type==="Type1"&&(S=32),S=mapSpecialUnicodeValues(S)}this.isType3Font&&(C=S);let M=null;if(this.seacMap?.[d]){D=!0;const R=this.seacMap[d];S=R.baseFontCharCode,M={fontChar:String.fromCodePoint(R.accentFontCharCode),offset:R.accentOffset}}let L="";return typeof S=="number"&&(S<=1114111?L=String.fromCodePoint(S):warn(`charToGlyph - invalid fontCharCode: ${S}`)),b=new fonts_Glyph(d,L,k,M,w,E,C,x,D),this._glyphCache[d]=b}charsToGlyphs(d){let x=this._charsCache[d];if(x)return x;if(x=[],this.cMap){const b=Object.create(null),S=d.length;let w=0;for(;w<S;){this.cMap.readCharCode(d,w,b);const{charcode:C,length:F}=b;w+=F;const E=this._charToGlyph(C,F===1&&d.charCodeAt(w-1)===32);x.push(E)}}else for(let b=0,S=d.length;b<S;++b){const w=d.charCodeAt(b),C=this._charToGlyph(w,w===32);x.push(C)}return this._charsCache[d]=x}getCharPositions(d){const x=[];if(this.cMap){const b=Object.create(null);let S=0;for(;S<d.length;){this.cMap.readCharCode(d,S,b);const w=b.length;x.push([S,S+w]),S+=w}}else for(let b=0,S=d.length;b<S;++b)x.push([b,b+1]);return x}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(d){const x=[],b=[],S=()=>x.length%2===1,w=this.toUnicode instanceof IdentityToUnicodeMap?C=>this.toUnicode.charCodeOf(C):C=>this.toUnicode.charCodeOf(String.fromCodePoint(C));for(let C=0,F=d.length;C<F;C++){const E=d.codePointAt(C);if(E>55295&&(E<57344||E>65533)&&C++,this.toUnicode){const k=w(E);if(k!==-1){S()&&(x.push(b.join("")),b.length=0);const D=this.cMap?this.cMap.getCharCodeLength(k):1;for(let M=D-1;M>=0;M--)b.push(String.fromCharCode(k>>8*M&255));continue}}S()||(x.push(b.join("")),b.length=0),b.push(String.fromCodePoint(E))}return x.push(b.join("")),x}};class ErrorFont{constructor(d){this.error=d,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(d){return[d]}exportData(d=!1){return{error:this.error}}}const ShadingType={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Pattern{constructor(){unreachable("Cannot initialize Pattern.")}static parseShading(d,x,b,S,w){const C=d instanceof BaseStream?d.dict:d,F=C.get("ShadingType");try{switch(F){case ShadingType.AXIAL:case ShadingType.RADIAL:return new RadialAxialShading(C,x,b,S,w);case ShadingType.FREE_FORM_MESH:case ShadingType.LATTICE_FORM_MESH:case ShadingType.COONS_PATCH_MESH:case ShadingType.TENSOR_PATCH_MESH:return new MeshShading(d,x,b,S,w);default:throw new FormatError("Unsupported ShadingType: "+F)}}catch(E){if(E instanceof MissingDataException)throw E;return warn(E),new DummyShading}}}class BaseShading{static SMALL_NUMBER=1e-6;constructor(){this.constructor===BaseShading&&unreachable("Cannot initialize BaseShading.")}getIR(){unreachable("Abstract method `getIR` called.")}}class RadialAxialShading extends BaseShading{constructor(d,x,b,S,w){super(),this.coordsArr=d.getArray("Coords"),this.shadingType=d.get("ShadingType");const C=ColorSpace$1.parse({cs:d.getRaw("CS")||d.getRaw("ColorSpace"),xref:x,resources:b,pdfFunctionFactory:S,localColorSpaceCache:w}),F=d.getArray("BBox");this.bbox=Array.isArray(F)&&F.length===4?Util.normalizeRect(F):null;let E=0,k=1;if(d.has("Domain")){const Te=d.getArray("Domain");E=Te[0],k=Te[1]}let D=!1,M=!1;if(d.has("Extend")){const Te=d.getArray("Extend");D=Te[0],M=Te[1]}if(this.shadingType===ShadingType.RADIAL&&(!D||!M)){const[Te,Oe,Ne,Le,Me,Ie]=this.coordsArr,Ve=Math.hypot(Te-Le,Oe-Me);Ne<=Ie+Ve&&Ie<=Ne+Ve&&warn("Unsupported radial gradient.")}this.extendStart=D,this.extendEnd=M;const L=d.getRaw("Function"),R=S.createFromArray(L),U=840,j=(k-E)/U,H=this.colorStops=[];if(E>=k||j<=0){info("Bad shading domain.");return}const V=new Float32Array(C.numComps),z=new Float32Array(1);let G,X=0;z[0]=E,R(z,0,V,0);let Y=C.getRgb(V,0);const J=Util.makeHexColor(Y[0],Y[1],Y[2]);H.push([0,J]);let ee=1;z[0]=E+j,R(z,0,V,0);let ie=C.getRgb(V,0),oe=ie[0]-Y[0]+1,he=ie[1]-Y[1]+1,fe=ie[2]-Y[2]+1,Se=ie[0]-Y[0]-1,we=ie[1]-Y[1]-1,Ee=ie[2]-Y[2]-1;for(let Te=2;Te<U;Te++){z[0]=E+Te*j,R(z,0,V,0),G=C.getRgb(V,0);const Oe=Te-X;if(oe=Math.min(oe,(G[0]-Y[0]+1)/Oe),he=Math.min(he,(G[1]-Y[1]+1)/Oe),fe=Math.min(fe,(G[2]-Y[2]+1)/Oe),Se=Math.max(Se,(G[0]-Y[0]-1)/Oe),we=Math.max(we,(G[1]-Y[1]-1)/Oe),Ee=Math.max(Ee,(G[2]-Y[2]-1)/Oe),!(Se<=oe&&we<=he&&Ee<=fe)){const Le=Util.makeHexColor(ie[0],ie[1],ie[2]);H.push([ee/U,Le]),oe=G[0]-ie[0]+1,he=G[1]-ie[1]+1,fe=G[2]-ie[2]+1,Se=G[0]-ie[0]-1,we=G[1]-ie[1]-1,Ee=G[2]-ie[2]-1,X=ee,Y=ie}ee=Te,ie=G}const de=Util.makeHexColor(ie[0],ie[1],ie[2]);H.push([1,de]);let xe="transparent";d.has("Background")&&(G=C.getRgb(d.get("Background"),0),xe=Util.makeHexColor(G[0],G[1],G[2])),D||(H.unshift([0,xe]),H[1][0]+=BaseShading.SMALL_NUMBER),M||(H.at(-1)[0]-=BaseShading.SMALL_NUMBER,H.push([1,xe])),this.colorStops=H}getIR(){const d=this.coordsArr,x=this.shadingType;let b,S,w,C,F;return x===ShadingType.AXIAL?(S=[d[0],d[1]],w=[d[2],d[3]],C=null,F=null,b="axial"):x===ShadingType.RADIAL?(S=[d[0],d[1]],w=[d[3],d[4]],C=d[2],F=d[5],b="radial"):unreachable(`getPattern type unknown: ${x}`),["RadialAxial",b,this.bbox,this.colorStops,S,w,C,F]}}class MeshStreamReader{constructor(d,x){this.stream=d,this.context=x,this.buffer=0,this.bufferLength=0;const b=x.numComps;this.tmpCompsBuf=new Float32Array(b);const S=x.colorSpace.numComps;this.tmpCsCompsBuf=x.colorFn?new Float32Array(S):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const d=this.stream.getByte();return d<0?!1:(this.buffer=d,this.bufferLength=8,!0)}readBits(d){let x=this.buffer,b=this.bufferLength;if(d===32){if(b===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;x=x<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const S=this.stream.getByte();return this.buffer=S&(1<<b)-1,(x<<8-b|(S&255)>>b)>>>0}if(d===8&&b===0)return this.stream.getByte();for(;b<d;)x=x<<8|this.stream.getByte(),b+=8;return b-=d,this.bufferLength=b,this.buffer=x&(1<<b)-1,x>>b}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const d=this.context.bitsPerCoordinate,x=this.readBits(d),b=this.readBits(d),S=this.context.decode,w=d<32?1/((1<<d)-1):23283064365386963e-26;return[x*w*(S[1]-S[0])+S[0],b*w*(S[3]-S[2])+S[2]]}readComponents(){const d=this.context.numComps,x=this.context.bitsPerComponent,b=x<32?1/((1<<x)-1):23283064365386963e-26,S=this.context.decode,w=this.tmpCompsBuf;for(let F=0,E=4;F<d;F++,E+=2){const k=this.readBits(x);w[F]=k*b*(S[E+1]-S[E])+S[E]}const C=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(w,0,C,0),this.context.colorSpace.getRgb(C,0)}}let bCache=Object.create(null);function buildB(g){const d=[];for(let x=0;x<=g;x++){const b=x/g,S=1-b;d.push(new Float32Array([S**3,3*b*S**2,3*b**2*S,b**3]))}return d}function getB(g){return bCache[g]||=buildB(g)}function clearPatternCaches(){bCache=Object.create(null)}class MeshShading extends BaseShading{static MIN_SPLIT_PATCH_CHUNKS_AMOUNT=3;static MAX_SPLIT_PATCH_CHUNKS_AMOUNT=20;static TRIANGLE_DENSITY=20;constructor(d,x,b,S,w){if(super(),!(d instanceof BaseStream))throw new FormatError("Mesh data is not a stream");const C=d.dict;this.shadingType=C.get("ShadingType");const F=C.getArray("BBox");this.bbox=Array.isArray(F)&&F.length===4?Util.normalizeRect(F):null;const E=ColorSpace$1.parse({cs:C.getRaw("CS")||C.getRaw("ColorSpace"),xref:x,resources:b,pdfFunctionFactory:S,localColorSpaceCache:w});this.background=C.has("Background")?E.getRgb(C.get("Background"),0):null;const k=C.getRaw("Function"),D=k?S.createFromArray(k):null;this.coords=[],this.colors=[],this.figures=[];const M={bitsPerCoordinate:C.get("BitsPerCoordinate"),bitsPerComponent:C.get("BitsPerComponent"),bitsPerFlag:C.get("BitsPerFlag"),decode:C.getArray("Decode"),colorFn:D,colorSpace:E,numComps:D?1:E.numComps},L=new MeshStreamReader(d,M);let R=!1;switch(this.shadingType){case ShadingType.FREE_FORM_MESH:this._decodeType4Shading(L);break;case ShadingType.LATTICE_FORM_MESH:const U=C.get("VerticesPerRow")|0;if(U<2)throw new FormatError("Invalid VerticesPerRow");this._decodeType5Shading(L,U);break;case ShadingType.COONS_PATCH_MESH:this._decodeType6Shading(L),R=!0;break;case ShadingType.TENSOR_PATCH_MESH:this._decodeType7Shading(L),R=!0;break;default:unreachable("Unsupported mesh type.");break}if(R){this._updateBounds();for(let U=0,j=this.figures.length;U<j;U++)this._buildFigureFromPatch(U)}this._updateBounds(),this._packData()}_decodeType4Shading(d){const x=this.coords,b=this.colors,S=[];let w=0;for(;d.hasData;){const C=d.readFlag(),F=d.readCoordinate(),E=d.readComponents();if(w===0){if(!(0<=C&&C<=2))throw new FormatError("Unknown type4 flag");switch(C){case 0:w=3;break;case 1:S.push(S.at(-2),S.at(-1)),w=1;break;case 2:S.push(S.at(-3),S.at(-1)),w=1;break}}S.push(x.length),x.push(F),b.push(E),w--,d.align()}this.figures.push({type:"triangles",coords:new Int32Array(S),colors:new Int32Array(S)})}_decodeType5Shading(d,x){const b=this.coords,S=this.colors,w=[];for(;d.hasData;){const C=d.readCoordinate(),F=d.readComponents();w.push(b.length),b.push(C),S.push(F)}this.figures.push({type:"lattice",coords:new Int32Array(w),colors:new Int32Array(w),verticesPerRow:x})}_decodeType6Shading(d){const x=this.coords,b=this.colors,S=new Int32Array(16),w=new Int32Array(4);for(;d.hasData;){const C=d.readFlag();if(!(0<=C&&C<=3))throw new FormatError("Unknown type6 flag");const F=x.length;for(let R=0,U=C!==0?8:12;R<U;R++)x.push(d.readCoordinate());const E=b.length;for(let R=0,U=C!==0?2:4;R<U;R++)b.push(d.readComponents());let k,D,M,L;switch(C){case 0:S[12]=F+3,S[13]=F+4,S[14]=F+5,S[15]=F+6,S[8]=F+2,S[11]=F+7,S[4]=F+1,S[7]=F+8,S[0]=F,S[1]=F+11,S[2]=F+10,S[3]=F+9,w[2]=E+1,w[3]=E+2,w[0]=E,w[1]=E+3;break;case 1:k=S[12],D=S[13],M=S[14],L=S[15],S[12]=L,S[13]=F+0,S[14]=F+1,S[15]=F+2,S[8]=M,S[11]=F+3,S[4]=D,S[7]=F+4,S[0]=k,S[1]=F+7,S[2]=F+6,S[3]=F+5,k=w[2],D=w[3],w[2]=D,w[3]=E,w[0]=k,w[1]=E+1;break;case 2:k=S[15],D=S[11],S[12]=S[3],S[13]=F+0,S[14]=F+1,S[15]=F+2,S[8]=S[7],S[11]=F+3,S[4]=D,S[7]=F+4,S[0]=k,S[1]=F+7,S[2]=F+6,S[3]=F+5,k=w[3],w[2]=w[1],w[3]=E,w[0]=k,w[1]=E+1;break;case 3:S[12]=S[0],S[13]=F+0,S[14]=F+1,S[15]=F+2,S[8]=S[1],S[11]=F+3,S[4]=S[2],S[7]=F+4,S[0]=S[3],S[1]=F+7,S[2]=F+6,S[3]=F+5,w[2]=w[0],w[3]=E,w[0]=w[1],w[1]=E+1;break}S[5]=x.length,x.push([(-4*x[S[0]][0]-x[S[15]][0]+6*(x[S[4]][0]+x[S[1]][0])-2*(x[S[12]][0]+x[S[3]][0])+3*(x[S[13]][0]+x[S[7]][0]))/9,(-4*x[S[0]][1]-x[S[15]][1]+6*(x[S[4]][1]+x[S[1]][1])-2*(x[S[12]][1]+x[S[3]][1])+3*(x[S[13]][1]+x[S[7]][1]))/9]),S[6]=x.length,x.push([(-4*x[S[3]][0]-x[S[12]][0]+6*(x[S[2]][0]+x[S[7]][0])-2*(x[S[0]][0]+x[S[15]][0])+3*(x[S[4]][0]+x[S[14]][0]))/9,(-4*x[S[3]][1]-x[S[12]][1]+6*(x[S[2]][1]+x[S[7]][1])-2*(x[S[0]][1]+x[S[15]][1])+3*(x[S[4]][1]+x[S[14]][1]))/9]),S[9]=x.length,x.push([(-4*x[S[12]][0]-x[S[3]][0]+6*(x[S[8]][0]+x[S[13]][0])-2*(x[S[0]][0]+x[S[15]][0])+3*(x[S[11]][0]+x[S[1]][0]))/9,(-4*x[S[12]][1]-x[S[3]][1]+6*(x[S[8]][1]+x[S[13]][1])-2*(x[S[0]][1]+x[S[15]][1])+3*(x[S[11]][1]+x[S[1]][1]))/9]),S[10]=x.length,x.push([(-4*x[S[15]][0]-x[S[0]][0]+6*(x[S[11]][0]+x[S[14]][0])-2*(x[S[12]][0]+x[S[3]][0])+3*(x[S[2]][0]+x[S[8]][0]))/9,(-4*x[S[15]][1]-x[S[0]][1]+6*(x[S[11]][1]+x[S[14]][1])-2*(x[S[12]][1]+x[S[3]][1])+3*(x[S[2]][1]+x[S[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(S),colors:new Int32Array(w)})}}_decodeType7Shading(d){const x=this.coords,b=this.colors,S=new Int32Array(16),w=new Int32Array(4);for(;d.hasData;){const C=d.readFlag();if(!(0<=C&&C<=3))throw new FormatError("Unknown type7 flag");const F=x.length;for(let R=0,U=C!==0?12:16;R<U;R++)x.push(d.readCoordinate());const E=b.length;for(let R=0,U=C!==0?2:4;R<U;R++)b.push(d.readComponents());let k,D,M,L;switch(C){case 0:S[12]=F+3,S[13]=F+4,S[14]=F+5,S[15]=F+6,S[8]=F+2,S[9]=F+13,S[10]=F+14,S[11]=F+7,S[4]=F+1,S[5]=F+12,S[6]=F+15,S[7]=F+8,S[0]=F,S[1]=F+11,S[2]=F+10,S[3]=F+9,w[2]=E+1,w[3]=E+2,w[0]=E,w[1]=E+3;break;case 1:k=S[12],D=S[13],M=S[14],L=S[15],S[12]=L,S[13]=F+0,S[14]=F+1,S[15]=F+2,S[8]=M,S[9]=F+9,S[10]=F+10,S[11]=F+3,S[4]=D,S[5]=F+8,S[6]=F+11,S[7]=F+4,S[0]=k,S[1]=F+7,S[2]=F+6,S[3]=F+5,k=w[2],D=w[3],w[2]=D,w[3]=E,w[0]=k,w[1]=E+1;break;case 2:k=S[15],D=S[11],S[12]=S[3],S[13]=F+0,S[14]=F+1,S[15]=F+2,S[8]=S[7],S[9]=F+9,S[10]=F+10,S[11]=F+3,S[4]=D,S[5]=F+8,S[6]=F+11,S[7]=F+4,S[0]=k,S[1]=F+7,S[2]=F+6,S[3]=F+5,k=w[3],w[2]=w[1],w[3]=E,w[0]=k,w[1]=E+1;break;case 3:S[12]=S[0],S[13]=F+0,S[14]=F+1,S[15]=F+2,S[8]=S[1],S[9]=F+9,S[10]=F+10,S[11]=F+3,S[4]=S[2],S[5]=F+8,S[6]=F+11,S[7]=F+4,S[0]=S[3],S[1]=F+7,S[2]=F+6,S[3]=F+5,w[2]=w[0],w[3]=E,w[0]=w[1],w[1]=E+1;break}this.figures.push({type:"patch",coords:new Int32Array(S),colors:new Int32Array(w)})}}_buildFigureFromPatch(d){const x=this.figures[d];assert(x.type==="patch","Unexpected patch mesh figure");const b=this.coords,S=this.colors,w=x.coords,C=x.colors,F=Math.min(b[w[0]][0],b[w[3]][0],b[w[12]][0],b[w[15]][0]),E=Math.min(b[w[0]][1],b[w[3]][1],b[w[12]][1],b[w[15]][1]),k=Math.max(b[w[0]][0],b[w[3]][0],b[w[12]][0],b[w[15]][0]),D=Math.max(b[w[0]][1],b[w[3]][1],b[w[12]][1],b[w[15]][1]);let M=Math.ceil((k-F)*MeshShading.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));M=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,M));let L=Math.ceil((D-E)*MeshShading.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));L=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,L));const R=M+1,U=new Int32Array((L+1)*R),j=new Int32Array((L+1)*R);let H=0;const V=new Uint8Array(3),z=new Uint8Array(3),G=S[C[0]],X=S[C[1]],Y=S[C[2]],J=S[C[3]],ee=getB(L),ie=getB(M);for(let oe=0;oe<=L;oe++){V[0]=(G[0]*(L-oe)+Y[0]*oe)/L|0,V[1]=(G[1]*(L-oe)+Y[1]*oe)/L|0,V[2]=(G[2]*(L-oe)+Y[2]*oe)/L|0,z[0]=(X[0]*(L-oe)+J[0]*oe)/L|0,z[1]=(X[1]*(L-oe)+J[1]*oe)/L|0,z[2]=(X[2]*(L-oe)+J[2]*oe)/L|0;for(let he=0;he<=M;he++,H++){if((oe===0||oe===L)&&(he===0||he===M))continue;let fe=0,Se=0,we=0;for(let de=0;de<=3;de++)for(let xe=0;xe<=3;xe++,we++){const Te=ee[oe][de]*ie[he][xe];fe+=b[w[we]][0]*Te,Se+=b[w[we]][1]*Te}U[H]=b.length,b.push([fe,Se]),j[H]=S.length;const Ee=new Uint8Array(3);Ee[0]=(V[0]*(M-he)+z[0]*he)/M|0,Ee[1]=(V[1]*(M-he)+z[1]*he)/M|0,Ee[2]=(V[2]*(M-he)+z[2]*he)/M|0,S.push(Ee)}}U[0]=w[0],j[0]=C[0],U[M]=w[3],j[M]=C[1],U[R*L]=w[12],j[R*L]=C[2],U[R*L+M]=w[15],j[R*L+M]=C[3],this.figures[d]={type:"lattice",coords:U,colors:j,verticesPerRow:R}}_updateBounds(){let d=this.coords[0][0],x=this.coords[0][1],b=d,S=x;for(let w=1,C=this.coords.length;w<C;w++){const F=this.coords[w][0],E=this.coords[w][1];d=d>F?F:d,x=x>E?E:x,b=b<F?F:b,S=S<E?E:S}this.bounds=[d,x,b,S]}_packData(){let d,x,b,S;const w=this.coords,C=new Float32Array(w.length*2);for(d=0,b=0,x=w.length;d<x;d++){const D=w[d];C[b++]=D[0],C[b++]=D[1]}this.coords=C;const F=this.colors,E=new Uint8Array(F.length*3);for(d=0,b=0,x=F.length;d<x;d++){const D=F[d];E[b++]=D[0],E[b++]=D[1],E[b++]=D[2]}this.colors=E;const k=this.figures;for(d=0,x=k.length;d<x;d++){const D=k[d],M=D.coords,L=D.colors;for(b=0,S=M.length;b<S;b++)M[b]*=2,L[b]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class DummyShading extends BaseShading{getIR(){return["Dummy"]}}function getTilingPatternIR(g,d,x){const b=d.getArray("Matrix"),S=Util.normalizeRect(d.getArray("BBox")),w=d.get("XStep"),C=d.get("YStep"),F=d.get("PaintType"),E=d.get("TilingType");if(S[2]-S[0]===0||S[3]-S[1]===0)throw new FormatError(`Invalid getTilingPatternIR /BBox array: [${S}].`);return["TilingPattern",x,g,b,S,w,C,F,E]}const CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207},HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2},LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2},SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0},getXFAFontMap=getLookupTableFactory(function(g){g["MyriadPro-Regular"]=g["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:MyriadProRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:MyriadProRegularMetrics},g["MyriadPro-Bold"]=g["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:MyriadProBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:MyriadProBoldMetrics},g["MyriadPro-It"]=g["MyriadPro-Italic"]=g["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:MyriadProItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:MyriadProItalicMetrics},g["MyriadPro-BoldIt"]=g["MyriadPro-BoldItalic"]=g["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:MyriadProBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:MyriadProBoldItalicMetrics},g.ArialMT=g.Arial=g["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping},g["Arial-BoldMT"]=g["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping},g["Arial-ItalicMT"]=g["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping},g["Arial-BoldItalicMT"]=g["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping},g["Calibri-Regular"]={name:"LiberationSans-Regular",factors:CalibriRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:CalibriRegularMetrics},g["Calibri-Bold"]={name:"LiberationSans-Bold",factors:CalibriBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:CalibriBoldMetrics},g["Calibri-Italic"]={name:"LiberationSans-Italic",factors:CalibriItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:CalibriItalicMetrics},g["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:CalibriBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:CalibriBoldItalicMetrics},g["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:SegoeuiRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:SegoeuiRegularMetrics},g["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:SegoeuiBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:SegoeuiBoldMetrics},g["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:SegoeuiItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:SegoeuiItalicMetrics},g["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:SegoeuiBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:SegoeuiBoldItalicMetrics},g["Helvetica-Regular"]=g.Helvetica={name:"LiberationSans-Regular",factors:HelveticaRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:HelveticaRegularMetrics},g["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:HelveticaBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:HelveticaBoldMetrics},g["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:HelveticaItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:HelveticaItalicMetrics},g["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:HelveticaBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:HelveticaBoldItalicMetrics}});function getXfaFontName(g){const d=normalizeFontName(g);return getXFAFontMap()[d]}function getXfaFontWidths(g){const d=getXfaFontName(g);if(!d)return null;const{baseWidths:x,baseMapping:b,factors:S}=d,w=S?x.map((k,D)=>k*S[D]):x;let C=-2,F;const E=[];for(const[k,D]of b.map((M,L)=>[M,L]).sort(([M],[L])=>M-L))k!==-1&&(k===C+1?(F.push(w[D]),C+=1):(C=k,F=[w[D]],E.push(k,F)));return E}function getXfaFontDict(g){const d=getXfaFontWidths(g),x=new Dict(null);x.set("BaseFont",Name.get(g)),x.set("Type",Name.get("Font")),x.set("Subtype",Name.get("CIDFontType2")),x.set("Encoding",Name.get("Identity-H")),x.set("CIDToGIDMap",Name.get("Identity")),x.set("W",d),x.set("FirstChar",d[0]),x.set("LastChar",d.at(-2)+d.at(-1).length-1);const b=new Dict(null);x.set("FontDescriptor",b);const S=new Dict(null);return S.set("Ordering","Identity"),S.set("Registry","Adobe"),S.set("Supplement",0),x.set("CIDSystemInfo",S),x}class PostScriptParser{constructor(d){this.lexer=d,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(d){return this.token.type===d?(this.nextToken(),!0):!1}expect(d){if(this.accept(d))return!0;throw new FormatError(`Unexpected symbol: found ${this.token.type} expected ${d}.`)}parse(){return this.nextToken(),this.expect(PostScriptTokenTypes.LBRACE),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(PostScriptTokenTypes.NUMBER))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.LBRACE))this.parseCondition();else return}parseCondition(){const d=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.accept(PostScriptTokenTypes.IF))this.operators[d]=this.operators.length,this.operators[d+1]="jz";else if(this.accept(PostScriptTokenTypes.LBRACE)){const x=this.operators.length;this.operators.push(null,null);const b=this.operators.length;this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.expect(PostScriptTokenTypes.IFELSE),this.operators[x]=this.operators.length,this.operators[x+1]="j",this.operators[d]=b,this.operators[d+1]="jz"}else throw new FormatError("PS Function: error parsing conditional.")}}const PostScriptTokenTypes={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class PostScriptToken{static get opCache(){return shadow(this,"opCache",Object.create(null))}constructor(d,x){this.type=d,this.value=x}static getOperator(d){return PostScriptToken.opCache[d]||=new PostScriptToken(PostScriptTokenTypes.OPERATOR,d)}static get LBRACE(){return shadow(this,"LBRACE",new PostScriptToken(PostScriptTokenTypes.LBRACE,"{"))}static get RBRACE(){return shadow(this,"RBRACE",new PostScriptToken(PostScriptTokenTypes.RBRACE,"}"))}static get IF(){return shadow(this,"IF",new PostScriptToken(PostScriptTokenTypes.IF,"IF"))}static get IFELSE(){return shadow(this,"IFELSE",new PostScriptToken(PostScriptTokenTypes.IFELSE,"IFELSE"))}}class PostScriptLexer{constructor(d){this.stream=d,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let d=!1,x=this.currentChar;for(;;){if(x<0)return EOF;if(d)(x===10||x===13)&&(d=!1);else if(x===37)d=!0;else if(!isWhiteSpace(x))break;x=this.nextChar()}switch(x|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new PostScriptToken(PostScriptTokenTypes.NUMBER,this.getNumber());case 123:return this.nextChar(),PostScriptToken.LBRACE;case 125:return this.nextChar(),PostScriptToken.RBRACE}const b=this.strBuf;for(b.length=0,b[0]=String.fromCharCode(x);(x=this.nextChar())>=0&&(x>=65&&x<=90||x>=97&&x<=122);)b.push(String.fromCharCode(x));const S=b.join("");switch(S.toLowerCase()){case"if":return PostScriptToken.IF;case"ifelse":return PostScriptToken.IFELSE;default:return PostScriptToken.getOperator(S)}}getNumber(){let d=this.currentChar;const x=this.strBuf;for(x.length=0,x[0]=String.fromCharCode(d);(d=this.nextChar())>=0&&(d>=48&&d<=57||d===45||d===46);)x.push(String.fromCharCode(d));const b=parseFloat(x.join(""));if(isNaN(b))throw new FormatError(`Invalid floating point number: ${b}`);return b}}class BaseLocalCache{constructor(d){this.constructor===BaseLocalCache&&unreachable("Cannot initialize BaseLocalCache."),this._onlyRefs=d?.onlyRefs===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new RefSetCache}getByName(d){this._onlyRefs&&unreachable("Should not call `getByName` method.");const x=this._nameRefMap.get(d);return x?this.getByRef(x):this._imageMap.get(d)||null}getByRef(d){return this._imageCache.get(d)||null}set(d,x,b){unreachable("Abstract method `set` called.")}}class LocalImageCache extends BaseLocalCache{set(d,x=null,b){if(typeof d!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(x){if(this._imageCache.has(x))return;this._nameRefMap.set(d,x),this._imageCache.put(x,b);return}this._imageMap.has(d)||this._imageMap.set(d,b)}}class LocalColorSpaceCache extends BaseLocalCache{set(d=null,x=null,b){if(typeof d!="string"&&!x)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(x){if(this._imageCache.has(x))return;d!==null&&this._nameRefMap.set(d,x),this._imageCache.put(x,b);return}this._imageMap.has(d)||this._imageMap.set(d,b)}}class LocalFunctionCache extends BaseLocalCache{constructor(d){super({onlyRefs:!0})}set(d=null,x,b){if(!x)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,b)}}class LocalGStateCache extends BaseLocalCache{set(d,x=null,b){if(typeof d!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(x){if(this._imageCache.has(x))return;this._nameRefMap.set(d,x),this._imageCache.put(x,b);return}this._imageMap.has(d)||this._imageMap.set(d,b)}}class LocalTilingPatternCache extends BaseLocalCache{constructor(d){super({onlyRefs:!0})}set(d=null,x,b){if(!x)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,b)}}class RegionalImageCache extends BaseLocalCache{constructor(d){super({onlyRefs:!0})}set(d=null,x,b){if(!x)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,b)}}class GlobalImageCache{static NUM_PAGES_THRESHOLD=2;static MIN_IMAGES_TO_CACHE=10;static MAX_BYTE_SIZE=5*MAX_IMAGE_SIZE_TO_CACHE;constructor(){this._refCache=new RefSetCache,this._imageCache=new RefSetCache}get _byteSize(){let d=0;for(const x of this._imageCache)d+=x.byteSize;return d}get _cacheLimitReached(){return!(this._imageCache.size<GlobalImageCache.MIN_IMAGES_TO_CACHE||this._byteSize<GlobalImageCache.MAX_BYTE_SIZE)}shouldCache(d,x){let b=this._refCache.get(d);return b||(b=new Set,this._refCache.put(d,b)),b.add(x),!(b.size<GlobalImageCache.NUM_PAGES_THRESHOLD||!this._imageCache.has(d)&&this._cacheLimitReached)}addByteSize(d,x){const b=this._imageCache.get(d);b&&(b.byteSize||(b.byteSize=x))}getData(d,x){const b=this._refCache.get(d);if(!b||b.size<GlobalImageCache.NUM_PAGES_THRESHOLD)return null;const S=this._imageCache.get(d);return S?(b.add(x),S):null}setData(d,x){if(!this._refCache.has(d))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(d)){if(this._cacheLimitReached){warn("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(d,x)}}clear(d=!1){d||this._refCache.clear(),this._imageCache.clear()}}class PDFFunctionFactory{constructor({xref:d,isEvalSupported:x=!0}){this.xref=d,this.isEvalSupported=x!==!1}create(d){const x=this.getCached(d);if(x)return x;const b=PDFFunction.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:d instanceof Ref?this.xref.fetch(d):d});return this._cache(d,b),b}createFromArray(d){const x=this.getCached(d);if(x)return x;const b=PDFFunction.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:d instanceof Ref?this.xref.fetch(d):d});return this._cache(d,b),b}getCached(d){let x;if(d instanceof Ref?x=d:d instanceof Dict?x=d.objId:d instanceof BaseStream&&(x=d.dict?.objId),x){const b=this._localFunctionCache.getByRef(x);if(b)return b}return null}_cache(d,x){if(!x)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let b;d instanceof Ref?b=d:d instanceof Dict?b=d.objId:d instanceof BaseStream&&(b=d.dict?.objId),b&&this._localFunctionCache.set(null,b,x)}get _localFunctionCache(){return shadow(this,"_localFunctionCache",new LocalFunctionCache)}}function toNumberArray(g){if(!Array.isArray(g))return null;const d=g.length;for(let x=0;x<d;x++)if(typeof g[x]!="number"){const b=new Array(d);for(let S=0;S<d;S++)b[S]=+g[S];return b}return g}class PDFFunction{static getSampleArray(d,x,b,S){let w,C,F=1;for(w=0,C=d.length;w<C;w++)F*=d[w];F*=x;const E=new Array(F);let k=0,D=0;const M=1/(2**b-1),L=S.getBytes((F*b+7)/8);let R=0;for(w=0;w<F;w++){for(;k<b;)D<<=8,D|=L[R++],k+=8;k-=b,E[w]=(D>>k)*M,D&=(1<<k)-1}return E}static parse({xref:d,isEvalSupported:x,fn:b}){const S=b.dict||b;switch(S.get("FunctionType")){case 0:return this.constructSampled({xref:d,isEvalSupported:x,fn:b,dict:S});case 1:break;case 2:return this.constructInterpolated({xref:d,isEvalSupported:x,dict:S});case 3:return this.constructStiched({xref:d,isEvalSupported:x,dict:S});case 4:return this.constructPostScript({xref:d,isEvalSupported:x,fn:b,dict:S})}throw new FormatError("Unknown type of function")}static parseArray({xref:d,isEvalSupported:x,fnObj:b}){if(!Array.isArray(b))return this.parse({xref:d,isEvalSupported:x,fn:b});const S=[];for(const w of b)S.push(this.parse({xref:d,isEvalSupported:x,fn:d.fetchIfRef(w)}));return function(w,C,F,E){for(let k=0,D=S.length;k<D;k++)S[k](w,C,F,E+k)}}static constructSampled({xref:d,isEvalSupported:x,fn:b,dict:S}){function w(V){const z=V.length,G=[];let X=0;for(let Y=0;Y<z;Y+=2)G[X++]=[V[Y],V[Y+1]];return G}function C(V,z,G,X,Y){return X+(V-z)*((Y-X)/(G-z))}let F=toNumberArray(S.getArray("Domain")),E=toNumberArray(S.getArray("Range"));if(!F||!E)throw new FormatError("No domain or range");const k=F.length/2,D=E.length/2;F=w(F),E=w(E);const M=toNumberArray(S.getArray("Size")),L=S.get("BitsPerSample"),R=S.get("Order")||1;R!==1&&info("No support for cubic spline interpolation: "+R);let U=toNumberArray(S.getArray("Encode"));if(U)U=w(U);else{U=[];for(let V=0;V<k;++V)U.push([0,M[V]-1])}let j=toNumberArray(S.getArray("Decode"));j=j?w(j):E;const H=this.getSampleArray(M,D,L,b);return function(z,G,X,Y){const J=1<<k,ee=new Float64Array(J),ie=new Uint32Array(J);let oe,he;for(he=0;he<J;he++)ee[he]=1;let fe=D,Se=1;for(oe=0;oe<k;++oe){const we=F[oe][0],Ee=F[oe][1],de=Math.min(Math.max(z[G+oe],we),Ee);let xe=C(de,we,Ee,U[oe][0],U[oe][1]);const Te=M[oe];xe=Math.min(Math.max(xe,0),Te-1);const Oe=xe<Te-1?Math.floor(xe):xe-1,Ne=Oe+1-xe,Le=xe-Oe,Me=Oe*fe,Ie=Me+fe;for(he=0;he<J;he++)he&Se?(ee[he]*=Le,ie[he]+=Ie):(ee[he]*=Ne,ie[he]+=Me);fe*=Te,Se<<=1}for(he=0;he<D;++he){let we=0;for(oe=0;oe<J;oe++)we+=H[ie[oe]+he]*ee[oe];we=C(we,0,1,j[he][0],j[he][1]),X[Y+he]=Math.min(Math.max(we,E[he][0]),E[he][1])}}}static constructInterpolated({xref:d,isEvalSupported:x,dict:b}){const S=toNumberArray(b.getArray("C0"))||[0],w=toNumberArray(b.getArray("C1"))||[1],C=b.get("N"),F=[];for(let k=0,D=S.length;k<D;++k)F.push(w[k]-S[k]);const E=F.length;return function(D,M,L,R){const U=C===1?D[M]:D[M]**C;for(let j=0;j<E;++j)L[R+j]=S[j]+U*F[j]}}static constructStiched({xref:d,isEvalSupported:x,dict:b}){const S=toNumberArray(b.getArray("Domain"));if(!S)throw new FormatError("No domain");if(S.length/2!==1)throw new FormatError("Bad domain for stiched function");const C=[];for(const D of b.get("Functions"))C.push(this.parse({xref:d,isEvalSupported:x,fn:d.fetchIfRef(D)}));const F=toNumberArray(b.getArray("Bounds")),E=toNumberArray(b.getArray("Encode")),k=new Float32Array(1);return function(M,L,R,U){const H=function(ie,oe,he){return ie>he?ie=he:ie<oe&&(ie=oe),ie}(M[L],S[0],S[1]),V=F.length;let z;for(z=0;z<V&&!(H<F[z]);++z);let G=S[0];z>0&&(G=F[z-1]);let X=S[1];z<F.length&&(X=F[z]);const Y=E[2*z],J=E[2*z+1];k[0]=G===X?Y:Y+(H-G)*(J-Y)/(X-G),C[z](k,0,R,U)}}static constructPostScript({xref:d,isEvalSupported:x,fn:b,dict:S}){const w=toNumberArray(S.getArray("Domain")),C=toNumberArray(S.getArray("Range"));if(!w)throw new FormatError("No domain.");if(!C)throw new FormatError("No range.");const F=new PostScriptLexer(b),k=new PostScriptParser(F).parse();if(x&&FeatureTest.isEvalSupported){const V=new PostScriptCompiler().compile(k,w,C);if(V)return new Function("src","srcOffset","dest","destOffset",V)}info("Unable to compile PS function");const D=C.length>>1,M=w.length>>1,L=new PostScriptEvaluator(k),R=Object.create(null);let j=2048*4;const H=new Float32Array(M);return function(z,G,X,Y){let J,ee,ie="";const oe=H;for(J=0;J<M;J++)ee=z[G+J],oe[J]=ee,ie+=ee+"_";const he=R[ie];if(he!==void 0){X.set(he,Y);return}const fe=new Float32Array(D),Se=L.execute(oe),we=Se.length-D;for(J=0;J<D;J++){ee=Se[we+J];let Ee=C[J*2];ee<Ee?ee=Ee:(Ee=C[J*2+1],ee>Ee&&(ee=Ee)),fe[J]=ee}j>0&&(j--,R[ie]=fe),X.set(fe,Y)}}}function isPDFFunction(g){let d;if(g instanceof Dict)d=g;else if(g instanceof BaseStream)d=g.dict;else return!1;return d.has("FunctionType")}class PostScriptStack{static MAX_STACK_SIZE=100;constructor(d){this.stack=d?Array.from(d):[]}push(d){if(this.stack.length>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(d)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(d){if(this.stack.length+d>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const x=this.stack;for(let b=x.length-d,S=d-1;S>=0;S--,b++)x.push(x[b])}index(d){this.push(this.stack[this.stack.length-d-1])}roll(d,x){const b=this.stack,S=b.length-d,w=b.length-1,C=S+(x-Math.floor(x/d)*d);for(let F=S,E=w;F<E;F++,E--){const k=b[F];b[F]=b[E],b[E]=k}for(let F=S,E=C-1;F<E;F++,E--){const k=b[F];b[F]=b[E],b[E]=k}for(let F=C,E=w;F<E;F++,E--){const k=b[F];b[F]=b[E],b[E]=k}}}class PostScriptEvaluator{constructor(d){this.operators=d}execute(d){const x=new PostScriptStack(d);let b=0;const S=this.operators,w=S.length;let C,F,E;for(;b<w;){if(C=S[b++],typeof C=="number"){x.push(C);continue}switch(C){case"jz":E=x.pop(),F=x.pop(),F||(b=E);break;case"j":F=x.pop(),b=F;break;case"abs":F=x.pop(),x.push(Math.abs(F));break;case"add":E=x.pop(),F=x.pop(),x.push(F+E);break;case"and":E=x.pop(),F=x.pop(),typeof F=="boolean"&&typeof E=="boolean"?x.push(F&&E):x.push(F&E);break;case"atan":E=x.pop(),F=x.pop(),F=Math.atan2(F,E)/Math.PI*180,F<0&&(F+=360),x.push(F);break;case"bitshift":E=x.pop(),F=x.pop(),F>0?x.push(F<<E):x.push(F>>E);break;case"ceiling":F=x.pop(),x.push(Math.ceil(F));break;case"copy":F=x.pop(),x.copy(F);break;case"cos":F=x.pop(),x.push(Math.cos(F%360/180*Math.PI));break;case"cvi":F=x.pop()|0,x.push(F);break;case"cvr":break;case"div":E=x.pop(),F=x.pop(),x.push(F/E);break;case"dup":x.copy(1);break;case"eq":E=x.pop(),F=x.pop(),x.push(F===E);break;case"exch":x.roll(2,1);break;case"exp":E=x.pop(),F=x.pop(),x.push(F**E);break;case"false":x.push(!1);break;case"floor":F=x.pop(),x.push(Math.floor(F));break;case"ge":E=x.pop(),F=x.pop(),x.push(F>=E);break;case"gt":E=x.pop(),F=x.pop(),x.push(F>E);break;case"idiv":E=x.pop(),F=x.pop(),x.push(F/E|0);break;case"index":F=x.pop(),x.index(F);break;case"le":E=x.pop(),F=x.pop(),x.push(F<=E);break;case"ln":F=x.pop(),x.push(Math.log(F));break;case"log":F=x.pop(),x.push(Math.log10(F));break;case"lt":E=x.pop(),F=x.pop(),x.push(F<E);break;case"mod":E=x.pop(),F=x.pop(),x.push(F%E);break;case"mul":E=x.pop(),F=x.pop(),x.push(F*E);break;case"ne":E=x.pop(),F=x.pop(),x.push(F!==E);break;case"neg":F=x.pop(),x.push(-F);break;case"not":F=x.pop(),typeof F=="boolean"?x.push(!F):x.push(~F);break;case"or":E=x.pop(),F=x.pop(),typeof F=="boolean"&&typeof E=="boolean"?x.push(F||E):x.push(F|E);break;case"pop":x.pop();break;case"roll":E=x.pop(),F=x.pop(),x.roll(F,E);break;case"round":F=x.pop(),x.push(Math.round(F));break;case"sin":F=x.pop(),x.push(Math.sin(F%360/180*Math.PI));break;case"sqrt":F=x.pop(),x.push(Math.sqrt(F));break;case"sub":E=x.pop(),F=x.pop(),x.push(F-E);break;case"true":x.push(!0);break;case"truncate":F=x.pop(),F=F<0?Math.ceil(F):Math.floor(F),x.push(F);break;case"xor":E=x.pop(),F=x.pop(),typeof F=="boolean"&&typeof E=="boolean"?x.push(F!==E):x.push(F^E);break;default:throw new FormatError(`Unknown operator ${C}`)}}return x.stack}}class AstNode{constructor(d){this.type=d}visit(d){unreachable("abstract method")}}class AstArgument extends AstNode{constructor(d,x,b){super("args"),this.index=d,this.min=x,this.max=b}visit(d){d.visitArgument(this)}}class AstLiteral extends AstNode{constructor(d){super("literal"),this.number=d,this.min=d,this.max=d}visit(d){d.visitLiteral(this)}}class AstBinaryOperation extends AstNode{constructor(d,x,b,S,w){super("binary"),this.op=d,this.arg1=x,this.arg2=b,this.min=S,this.max=w}visit(d){d.visitBinaryOperation(this)}}class AstMin extends AstNode{constructor(d,x){super("max"),this.arg=d,this.min=d.min,this.max=x}visit(d){d.visitMin(this)}}class AstVariable extends AstNode{constructor(d,x,b){super("var"),this.index=d,this.min=x,this.max=b}visit(d){d.visitVariable(this)}}class AstVariableDefinition extends AstNode{constructor(d,x){super("definition"),this.variable=d,this.arg=x}visit(d){d.visitVariableDefinition(this)}}class ExpressionBuilderVisitor{constructor(){this.parts=[]}visitArgument(d){this.parts.push("Math.max(",d.min,", Math.min(",d.max,", src[srcOffset + ",d.index,"]))")}visitVariable(d){this.parts.push("v",d.index)}visitLiteral(d){this.parts.push(d.number)}visitBinaryOperation(d){this.parts.push("("),d.arg1.visit(this),this.parts.push(" ",d.op," "),d.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(d){this.parts.push("var "),d.variable.visit(this),this.parts.push(" = "),d.arg.visit(this),this.parts.push(";")}visitMin(d){this.parts.push("Math.min("),d.arg.visit(this),this.parts.push(", ",d.max,")")}toString(){return this.parts.join("")}}function buildAddOperation(g,d){return d.type==="literal"&&d.number===0?g:g.type==="literal"&&g.number===0?d:d.type==="literal"&&g.type==="literal"?new AstLiteral(g.number+d.number):new AstBinaryOperation("+",g,d,g.min+d.min,g.max+d.max)}function buildMulOperation(g,d){if(d.type==="literal"){if(d.number===0)return new AstLiteral(0);if(d.number===1)return g;if(g.type==="literal")return new AstLiteral(g.number*d.number)}if(g.type==="literal"){if(g.number===0)return new AstLiteral(0);if(g.number===1)return d}const x=Math.min(g.min*d.min,g.min*d.max,g.max*d.min,g.max*d.max),b=Math.max(g.min*d.min,g.min*d.max,g.max*d.min,g.max*d.max);return new AstBinaryOperation("*",g,d,x,b)}function buildSubOperation(g,d){if(d.type==="literal"){if(d.number===0)return g;if(g.type==="literal")return new AstLiteral(g.number-d.number)}return d.type==="binary"&&d.op==="-"&&g.type==="literal"&&g.number===1&&d.arg1.type==="literal"&&d.arg1.number===1?d.arg2:new AstBinaryOperation("-",g,d,g.min-d.max,g.max-d.min)}function buildMinOperation(g,d){return g.min>=d?new AstLiteral(d):g.max<=d?g:new AstMin(g,d)}class PostScriptCompiler{compile(d,x,b){const S=[],w=[],C=x.length>>1,F=b.length>>1;let E=0,k,D,M,L,R,U,j,H;for(let z=0;z<C;z++)S.push(new AstArgument(z,x[z*2],x[z*2+1]));for(let z=0,G=d.length;z<G;z++){if(H=d[z],typeof H=="number"){S.push(new AstLiteral(H));continue}switch(H){case"add":if(S.length<2)return null;L=S.pop(),M=S.pop(),S.push(buildAddOperation(M,L));break;case"cvr":if(S.length<1)return null;break;case"mul":if(S.length<2)return null;L=S.pop(),M=S.pop(),S.push(buildMulOperation(M,L));break;case"sub":if(S.length<2)return null;L=S.pop(),M=S.pop(),S.push(buildSubOperation(M,L));break;case"exch":if(S.length<2)return null;R=S.pop(),U=S.pop(),S.push(R,U);break;case"pop":if(S.length<1)return null;S.pop();break;case"index":if(S.length<1||(M=S.pop(),M.type!=="literal")||(k=M.number,k<0||!Number.isInteger(k)||S.length<k))return null;if(R=S[S.length-k-1],R.type==="literal"||R.type==="var"){S.push(R);break}j=new AstVariable(E++,R.min,R.max),S[S.length-k-1]=j,S.push(j),w.push(new AstVariableDefinition(j,R));break;case"dup":if(S.length<1)return null;if(typeof d[z+1]=="number"&&d[z+2]==="gt"&&d[z+3]===z+7&&d[z+4]==="jz"&&d[z+5]==="pop"&&d[z+6]===d[z+1]){M=S.pop(),S.push(buildMinOperation(M,d[z+1])),z+=6;break}if(R=S.at(-1),R.type==="literal"||R.type==="var"){S.push(R);break}j=new AstVariable(E++,R.min,R.max),S[S.length-1]=j,S.push(j),w.push(new AstVariableDefinition(j,R));break;case"roll":if(S.length<2||(L=S.pop(),M=S.pop(),L.type!=="literal"||M.type!=="literal")||(D=L.number,k=M.number,k<=0||!Number.isInteger(k)||!Number.isInteger(D)||S.length<k))return null;if(D=(D%k+k)%k,D===0)break;S.push(...S.splice(S.length-k,k-D));break;default:return null}}if(S.length!==F)return null;const V=[];for(const z of w){const G=new ExpressionBuilderVisitor;z.visit(G),V.push(G.toString())}for(let z=0,G=S.length;z<G;z++){const X=S[z],Y=new ExpressionBuilderVisitor;X.visit(Y);const J=b[z*2],ee=b[z*2+1],ie=[Y.toString()];J>X.min&&(ie.unshift("Math.max(",J,", "),ie.push(")")),ee<X.max&&(ie.unshift("Math.min(",ee,", "),ie.push(")")),ie.unshift("dest[destOffset + ",z,"] = "),ie.push(";"),V.push(ie.join(""))}return V.join(`
`)}}const baseTypes=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],arabicTypes=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function isOdd(g){return(g&1)!==0}function isEven(g){return(g&1)===0}function findUnequal(g,d,x){let b,S;for(b=d,S=g.length;b<S;++b)if(g[b]!==x)return b;return b}function setValues(g,d,x,b){for(let S=d;S<x;++S)g[S]=b}function reverseValues(g,d,x){for(let b=d,S=x-1;b<S;++b,--S){const w=g[b];g[b]=g[S],g[S]=w}}function createBidiText(g,d,x=!1){let b="ltr";return x?b="ttb":d||(b="rtl"),{str:g,dir:b}}const chars$2=[],types=[];function bidi(g,d=-1,x=!1){let b=!0;const S=g.length;if(S===0||x)return createBidiText(g,b,x);chars$2.length=S,types.length=S;let w=0,C,F;for(C=0;C<S;++C){chars$2[C]=g.charAt(C);const V=g.charCodeAt(C);let z="L";V<=255?z=baseTypes[V]:1424<=V&&V<=1524?z="R":1536<=V&&V<=1791?(z=arabicTypes[V&255],z||warn("Bidi: invalid Unicode character "+V.toString(16))):(1792<=V&&V<=2220||64336<=V&&V<=65023||65136<=V&&V<=65279)&&(z="AL"),(z==="R"||z==="AL"||z==="AN")&&w++,types[C]=z}if(w===0)return b=!0,createBidiText(g,b);d===-1&&(w/S<.3&&S>4?(b=!0,d=0):(b=!1,d=1));const E=[];for(C=0;C<S;++C)E[C]=d;const k=isOdd(d)?"R":"L",D=k,M=D;let L=D;for(C=0;C<S;++C)types[C]==="NSM"?types[C]=L:L=types[C];L=D;let R;for(C=0;C<S;++C)R=types[C],R==="EN"?types[C]=L==="AL"?"AN":"EN":(R==="R"||R==="L"||R==="AL")&&(L=R);for(C=0;C<S;++C)R=types[C],R==="AL"&&(types[C]="R");for(C=1;C<S-1;++C)types[C]==="ES"&&types[C-1]==="EN"&&types[C+1]==="EN"&&(types[C]="EN"),types[C]==="CS"&&(types[C-1]==="EN"||types[C-1]==="AN")&&types[C+1]===types[C-1]&&(types[C]=types[C-1]);for(C=0;C<S;++C)if(types[C]==="EN"){for(let V=C-1;V>=0&&types[V]==="ET";--V)types[V]="EN";for(let V=C+1;V<S&&types[V]==="ET";++V)types[V]="EN"}for(C=0;C<S;++C)R=types[C],(R==="WS"||R==="ES"||R==="ET"||R==="CS")&&(types[C]="ON");for(L=D,C=0;C<S;++C)R=types[C],R==="EN"?types[C]=L==="L"?"L":"EN":(R==="R"||R==="L")&&(L=R);for(C=0;C<S;++C)if(types[C]==="ON"){const V=findUnequal(types,C+1,"ON");let z=D;C>0&&(z=types[C-1]);let G=M;V+1<S&&(G=types[V+1]),z!=="L"&&(z="R"),G!=="L"&&(G="R"),z===G&&setValues(types,C,V,z),C=V-1}for(C=0;C<S;++C)types[C]==="ON"&&(types[C]=k);for(C=0;C<S;++C)R=types[C],isEven(E[C])?R==="R"?E[C]+=1:(R==="AN"||R==="EN")&&(E[C]+=2):(R==="L"||R==="AN"||R==="EN")&&(E[C]+=1);let U=-1,j=99,H;for(C=0,F=E.length;C<F;++C)H=E[C],U<H&&(U=H),j>H&&isOdd(H)&&(j=H);for(H=U;H>=j;--H){let V=-1;for(C=0,F=E.length;C<F;++C)E[C]<H?V>=0&&(reverseValues(chars$2,V,C),V=-1):V<0&&(V=C);V>=0&&reverseValues(chars$2,V,E.length)}for(C=0,F=chars$2.length;C<F;++C){const V=chars$2[C];(V==="<"||V===">")&&(chars$2[C]="")}return createBidiText(chars$2.join(""),b)}const NORMAL={style:"normal",weight:"normal"},BOLD={style:"normal",weight:"bold"},ITALIC={style:"italic",weight:"normal"},BOLDITALIC={style:"italic",weight:"bold"},substitutionMap=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:NORMAL,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:BOLD,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:ITALIC,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:BOLDITALIC,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:NORMAL,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:BOLD,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:ITALIC,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:BOLDITALIC,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:NORMAL,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:BOLD,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:ITALIC,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:BOLDITALIC,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:NORMAL,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:BOLD,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:ITALIC,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:NORMAL,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:BOLD,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:ITALIC,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:NORMAL}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),fontAliases=new Map([["Arial-Black","ArialBlack"]]);function getStyleToAppend(g){switch(g){case BOLD:return"Bold";case ITALIC:return"Italic";case BOLDITALIC:return"Bold Italic";default:if(g?.weight==="bold")return"Bold";if(g?.style==="italic")return"Italic"}return""}function generateFont({alias:g,local:d,path:x,fallback:b,style:S,ultimate:w},C,F,E=!0,k=!0,D=""){const M={style:null,ultimate:null};if(d){const L=D?` ${D}`:"";for(const R of d)C.push(`local(${R}${L})`)}if(g){const L=substitutionMap.get(g),R=D||getStyleToAppend(S);Object.assign(M,generateFont(L,C,F,E&&!b,k&&!x,R))}if(S&&(M.style=S),w&&(M.ultimate=w),E&&b){const L=substitutionMap.get(b),{ultimate:R}=generateFont(L,C,F,E,k&&!x,D);M.ultimate||=R}return k&&x&&F&&C.push(`url(${F}${x})`),M}function getFontSubstitution(g,d,x,b,S){b=normalizeFontName(b);const w=b;let C=g.get(w);if(C)return C;let F=substitutionMap.get(b);if(!F){for(const[j,H]of fontAliases)if(b.startsWith(j)){b=`${H}${b.substring(j.length)}`,F=substitutionMap.get(b);break}}let E=!1;F||(F=substitutionMap.get(S),E=!0);const k=`${d.getDocId()}_s${d.createFontId()}`;if(!F){if(!validateFontName(b))return g.set(w,null),null;const j=/bold/gi.test(b),H=/oblique|italic/gi.test(b),V=j&&H&&BOLDITALIC||j&&BOLD||H&&ITALIC||NORMAL;return C={css:k,guessFallback:!0,loadedName:k,baseFontName:b,src:`local(${b})`,style:V},g.set(w,C),C}const D=[];E&&validateFontName(b)&&D.push(`local(${b})`);const{style:M,ultimate:L}=generateFont(F,D,x),R=L===null,U=R?"":`,${L}`;return C={css:`${k}${U}`,guessFallback:R,loadedName:k,baseFontName:b,src:D.join(","),style:M},g.set(w,C),C}const MIN_IMAGE_DIM=2048,MAX_IMAGE_DIM=65537,MAX_ERROR=128;class ImageResizer{constructor(d,x){this._imgData=d,this._isMask=x}static needsToBeResized(d,x){if(d<=this._goodSquareLength&&x<=this._goodSquareLength)return!1;const{MAX_DIM:b}=this;if(d>b||x>b)return!0;const S=d*x;if(this._hasMaxArea)return S>this.MAX_AREA;if(S<this._goodSquareLength**2)return!1;if(this._areGoodDims(d,x))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(d*x))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,b,MAX_ERROR,0);const w=this.MAX_AREA=this._goodSquareLength**2;return S>w}static get MAX_DIM(){return shadow(this,"MAX_DIM",this._guessMax(MIN_IMAGE_DIM,MAX_IMAGE_DIM,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,shadow(this,"MAX_AREA",this._guessMax(ImageResizer._goodSquareLength,this.MAX_DIM,MAX_ERROR,0)**2)}static set MAX_AREA(d){d>=0&&(this._hasMaxArea=!0,shadow(this,"MAX_AREA",d))}static setMaxArea(d){this._hasMaxArea||(this.MAX_AREA=d>>2)}static _areGoodDims(d,x){try{const b=new OffscreenCanvas(d,x),S=b.getContext("2d");S.fillRect(0,0,1,1);const w=S.getImageData(0,0,1,1).data[3];return b.width=b.height=1,w!==0}catch{return!1}}static _guessMax(d,x,b,S){for(;d+b+1<x;){const w=Math.floor((d+x)/2),C=S||w;this._areGoodDims(w,C)?d=w:x=w}return d}static async createImage(d,x=!1){return new ImageResizer(d,x)._createImage()}async _createImage(){const d=this._encodeBMP(),x=new Blob([d.buffer],{type:"image/bmp"}),b=createImageBitmap(x),{MAX_AREA:S,MAX_DIM:w}=ImageResizer,{_imgData:C}=this,{width:F,height:E}=C,k=Math.max(F/w,E/w,Math.sqrt(F*E/S)),D=Math.max(k,2),M=Math.round(10*(k+1.25))/10/D,L=Math.floor(Math.log2(M)),R=new Array(L+2).fill(2);R[0]=D,R.splice(-1,1,M/(1<<L));let U=F,j=E,H=await b;for(const V of R){const z=U,G=j;U=Math.floor(U/V)-1,j=Math.floor(j/V)-1;const X=new OffscreenCanvas(U,j);X.getContext("2d").drawImage(H,0,0,z,G,0,0,U,j),H=X.transferToImageBitmap()}return C.data=null,C.bitmap=H,C.width=U,C.height=j,C}_encodeBMP(){const{width:d,height:x,kind:b}=this._imgData;let S=this._imgData.data,w,C=new Uint8Array(0),F=C,E=0;switch(b){case ImageKind.GRAYSCALE_1BPP:{w=1,C=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const j=d+7>>3,H=j+3&-4;if(j!==H){const V=new Uint8Array(H*x);let z=0;for(let G=0,X=x*j;G<X;G+=j,z+=H)V.set(S.subarray(G,G+j),z);S=V}break}case ImageKind.RGB_24BPP:{if(w=24,d&3){const j=3*d,H=j+3&-4,V=H-j,z=new Uint8Array(H*x);let G=0;for(let X=0,Y=x*j;X<Y;X+=j){const J=S.subarray(X,X+j);for(let ee=0;ee<j;ee+=3)z[G++]=J[ee+2],z[G++]=J[ee+1],z[G++]=J[ee];G+=V}S=z}else for(let j=0,H=S.length;j<H;j+=3){const V=S[j];S[j]=S[j+2],S[j+2]=V}break}case ImageKind.RGBA_32BPP:w=32,E=3,F=new Uint8Array(68);const U=new DataView(F.buffer);FeatureTest.isLittleEndian?(U.setUint32(0,255,!0),U.setUint32(4,65280,!0),U.setUint32(8,16711680,!0),U.setUint32(12,4278190080,!0)):(U.setUint32(0,4278190080,!0),U.setUint32(4,16711680,!0),U.setUint32(8,65280,!0),U.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let k=0;const D=40+F.length,M=14+D+C.length+S.length,L=new Uint8Array(M),R=new DataView(L.buffer);return R.setUint16(k,19778,!0),k+=2,R.setUint32(k,M,!0),k+=4,R.setUint32(k,0,!0),k+=4,R.setUint32(k,14+D+C.length,!0),k+=4,R.setUint32(k,D,!0),k+=4,R.setInt32(k,d,!0),k+=4,R.setInt32(k,-x,!0),k+=4,R.setUint16(k,1,!0),k+=2,R.setUint16(k,w,!0),k+=2,R.setUint32(k,E,!0),k+=4,R.setUint32(k,0,!0),k+=4,R.setInt32(k,0,!0),k+=4,R.setInt32(k,0,!0),k+=4,R.setUint32(k,C.length/4,!0),k+=4,R.setUint32(k,0,!0),k+=4,L.set(F,k),k+=F.length,L.set(C,k),k+=C.length,L.set(S,k),L}}ImageResizer._goodSquareLength=MIN_IMAGE_DIM;const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(d){this.h1=d?d&4294967295:SEED,this.h2=d?d&4294967295:SEED}update(d){let x,b;if(typeof d=="string"){x=new Uint8Array(d.length*2),b=0;for(let j=0,H=d.length;j<H;j++){const V=d.charCodeAt(j);V<=255?x[b++]=V:(x[b++]=V>>>8,x[b++]=V&255)}}else if(isArrayBuffer(d))x=d.slice(),b=x.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const S=b>>2,w=b-S*4,C=new Uint32Array(x.buffer,0,S);let F=0,E=0,k=this.h1,D=this.h2;const M=3432918353,L=461845907,R=M&MASK_LOW,U=L&MASK_LOW;for(let j=0;j<S;j++)j&1?(F=C[j],F=F*M&MASK_HIGH|F*R&MASK_LOW,F=F<<15|F>>>17,F=F*L&MASK_HIGH|F*U&MASK_LOW,k^=F,k=k<<13|k>>>19,k=k*5+3864292196):(E=C[j],E=E*M&MASK_HIGH|E*R&MASK_LOW,E=E<<15|E>>>17,E=E*L&MASK_HIGH|E*U&MASK_LOW,D^=E,D=D<<13|D>>>19,D=D*5+3864292196);switch(F=0,w){case 3:F^=x[S*4+2]<<16;case 2:F^=x[S*4+1]<<8;case 1:F^=x[S*4],F=F*M&MASK_HIGH|F*R&MASK_LOW,F=F<<15|F>>>17,F=F*L&MASK_HIGH|F*U&MASK_LOW,S&1?k^=F:D^=F}this.h1=k,this.h2=D}hexdigest(){let d=this.h1,x=this.h2;return d^=x>>>1,d=d*3981806797&MASK_HIGH|d*36045&MASK_LOW,x=x*4283543511&MASK_HIGH|((x<<16|d>>>16)*2950163797&MASK_HIGH)>>>16,d^=x>>>1,d=d*444984403&MASK_HIGH|d*60499&MASK_LOW,x=x*3301882366&MASK_HIGH|((x<<16|d>>>16)*3120437893&MASK_HIGH)>>>16,d^=x>>>1,(d>>>0).toString(16).padStart(8,"0")+(x>>>0).toString(16).padStart(8,"0")}}function addState(g,d,x,b,S){let w=g;for(let C=0,F=d.length-1;C<F;C++){const E=d[C];w=w[E]||=[]}w[d.at(-1)]={checkFn:x,iterateFn:b,processFn:S}}const InitialState=[];addState(InitialState,[OPS.save,OPS.transform,OPS.paintInlineImageXObject,OPS.restore],null,function(d,x){const b=d.fnArray,S=d.iCurr-3,w=(x-S)%4;switch(w){case 0:return b[x]===OPS.save;case 1:return b[x]===OPS.transform;case 2:return b[x]===OPS.paintInlineImageXObject;case 3:return b[x]===OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${w}`)},function(d,x){const F=d.fnArray,E=d.argsArray,k=d.iCurr,D=k-3,M=k-2,L=k-1,R=Math.min(Math.floor((x-D)/4),200);if(R<10)return x-(x-D)%4;let U=0;const j=[];let H=0,V=1,z=1;for(let ie=0;ie<R;ie++){const oe=E[M+(ie<<2)],he=E[L+(ie<<2)][0];V+he.width>1e3&&(U=Math.max(U,V),z+=H+2*1,V=0,H=0),j.push({transform:oe,x:V,y:z,w:he.width,h:he.height}),V+=he.width+2*1,H=Math.max(H,he.height)}const G=Math.max(U,V)+1,X=z+H+1,Y=new Uint8Array(G*X*4),J=G<<2;for(let ie=0;ie<R;ie++){const oe=E[L+(ie<<2)][0].data,he=j[ie].w<<2;let fe=0,Se=j[ie].x+j[ie].y*G<<2;Y.set(oe.subarray(0,he),Se-J);for(let we=0,Ee=j[ie].h;we<Ee;we++)Y.set(oe.subarray(fe,fe+he),Se),fe+=he,Se+=J;for(Y.set(oe.subarray(fe-he,fe),Se);Se>=0;)oe[Se-4]=oe[Se],oe[Se-3]=oe[Se+1],oe[Se-2]=oe[Se+2],oe[Se-1]=oe[Se+3],oe[Se+he]=oe[Se+he-4],oe[Se+he+1]=oe[Se+he-3],oe[Se+he+2]=oe[Se+he-2],oe[Se+he+3]=oe[Se+he-1],Se-=J}const ee={width:G,height:X};if(d.isOffscreenCanvasSupported){const ie=new OffscreenCanvas(G,X);ie.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(Y.buffer),G,X),0,0),ee.bitmap=ie.transferToImageBitmap(),ee.data=null}else ee.kind=ImageKind.RGBA_32BPP,ee.data=Y;return F.splice(D,R*4,OPS.paintInlineImageXObjectGroup),E.splice(D,R*4,[ee,j]),D+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageMaskXObject,OPS.restore],null,function(d,x){const b=d.fnArray,S=d.iCurr-3,w=(x-S)%4;switch(w){case 0:return b[x]===OPS.save;case 1:return b[x]===OPS.transform;case 2:return b[x]===OPS.paintImageMaskXObject;case 3:return b[x]===OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${w}`)},function(d,x){const C=d.fnArray,F=d.argsArray,E=d.iCurr,k=E-3,D=E-2,M=E-1;let L=Math.floor((x-k)/4);if(L<10)return x-(x-k)%4;let R=!1,U,j;const H=F[M][0],V=F[D][0],z=F[D][1],G=F[D][2],X=F[D][3];if(z===G){R=!0,U=D+4;let Y=M+4;for(let J=1;J<L;J++,U+=4,Y+=4)if(j=F[U],F[Y][0]!==H||j[0]!==V||j[1]!==z||j[2]!==G||j[3]!==X){J<10?R=!1:L=J;break}}if(R){L=Math.min(L,1e3);const Y=new Float32Array(L*2);U=D;for(let J=0;J<L;J++,U+=4)j=F[U],Y[J<<1]=j[4],Y[(J<<1)+1]=j[5];C.splice(k,L*4,OPS.paintImageMaskXObjectRepeat),F.splice(k,L*4,[H,V,z,G,X,Y])}else{L=Math.min(L,100);const Y=[];for(let J=0;J<L;J++){j=F[D+(J<<2)];const ee=F[M+(J<<2)][0];Y.push({data:ee.data,width:ee.width,height:ee.height,interpolate:ee.interpolate,count:ee.count,transform:j})}C.splice(k,L*4,OPS.paintImageMaskXObjectGroup),F.splice(k,L*4,[Y])}return k+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageXObject,OPS.restore],function(g){const d=g.argsArray,x=g.iCurr-2;return d[x][1]===0&&d[x][2]===0},function(d,x){const b=d.fnArray,S=d.argsArray,w=d.iCurr-3,C=(x-w)%4;switch(C){case 0:return b[x]===OPS.save;case 1:if(b[x]!==OPS.transform)return!1;const F=d.iCurr-2,E=S[F][0],k=S[F][3];return!(S[x][0]!==E||S[x][1]!==0||S[x][2]!==0||S[x][3]!==k);case 2:if(b[x]!==OPS.paintImageXObject)return!1;const D=d.iCurr-1,M=S[D][0];return S[x][0]===M;case 3:return b[x]===OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${C}`)},function(g,d){const S=g.fnArray,w=g.argsArray,C=g.iCurr,F=C-3,E=C-2,k=C-1,D=w[k][0],M=w[E][0],L=w[E][3],R=Math.min(Math.floor((d-F)/4),1e3);if(R<3)return d-(d-F)%4;const U=new Float32Array(R*2);let j=E;for(let V=0;V<R;V++,j+=4){const z=w[j];U[V<<1]=z[4],U[(V<<1)+1]=z[5]}const H=[D,M,L,U];return S.splice(F,R*4,OPS.paintImageXObjectRepeat),w.splice(F,R*4,H),F+1});addState(InitialState,[OPS.beginText,OPS.setFont,OPS.setTextMatrix,OPS.showText,OPS.endText],null,function(d,x){const b=d.fnArray,S=d.argsArray,w=d.iCurr-4,C=(x-w)%5;switch(C){case 0:return b[x]===OPS.beginText;case 1:return b[x]===OPS.setFont;case 2:return b[x]===OPS.setTextMatrix;case 3:if(b[x]!==OPS.showText)return!1;const F=d.iCurr-3,E=S[F][0],k=S[F][1];return!(S[x][0]!==E||S[x][1]!==k);case 4:return b[x]===OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${C}`)},function(g,d){const S=g.fnArray,w=g.argsArray,C=g.iCurr,F=C-4,E=C-3,k=C-2,D=C-1,M=C,L=w[E][0],R=w[E][1];let U=Math.min(Math.floor((d-F)/5),1e3);if(U<3)return d-(d-F)%5;let j=F;F>=4&&S[F-4]===S[E]&&S[F-3]===S[k]&&S[F-2]===S[D]&&S[F-1]===S[M]&&w[F-4][0]===L&&w[F-4][1]===R&&(U++,j-=5);let H=j+4;for(let V=1;V<U;V++)S.splice(H,3),w.splice(H,3),H+=2;return H+1});class NullOptimizer{constructor(d){this.queue=d}_optimize(){}push(d,x){this.queue.fnArray.push(d),this.queue.argsArray.push(x),this._optimize()}flush(){}reset(){}}class QueueOptimizer extends NullOptimizer{constructor(d){super(d),this.state=null,this.context={iCurr:0,fnArray:d.fnArray,argsArray:d.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(d){this.context.isOffscreenCanvasSupported=d}_optimize(){const d=this.queue.fnArray;let x=this.lastProcessed,b=d.length,S=this.state,w=this.match;if(!S&&!w&&x+1===b&&!InitialState[d[x]]){this.lastProcessed=b;return}const C=this.context;for(;x<b;){if(w){if((0,w.iterateFn)(C,x)){x++;continue}if(x=(0,w.processFn)(C,x+1),b=d.length,w=null,S=null,x>=b)break}if(S=(S||InitialState)[d[x]],!S||Array.isArray(S)){x++;continue}if(C.iCurr=x,x++,S.checkFn&&!(0,S.checkFn)(C)){S=null;continue}w=S,S=null}this.state=S,this.match=w,this.lastProcessed=x}flush(){for(;this.match;){const d=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,d),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class OperatorList{static CHUNK_SIZE=1e3;static CHUNK_SIZE_ABOUT=this.CHUNK_SIZE-5;constructor(d=0,x){this._streamSink=x,this.fnArray=[],this.argsArray=[],this.optimizer=x&&!(d&RenderingIntentFlag.OPLIST)?new QueueOptimizer(this):new NullOptimizer(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=x?null:Promise.resolve()}set isOffscreenCanvasSupported(d){this.optimizer.isOffscreenCanvasSupported=d}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(d,x){this.optimizer.push(d,x),this.weight++,this._streamSink&&(this.weight>=OperatorList.CHUNK_SIZE?this.flush():this.weight>=OperatorList.CHUNK_SIZE_ABOUT&&(d===OPS.restore||d===OPS.endText)&&this.flush())}addImageOps(d,x,b){b!==void 0&&this.addOp(OPS.beginMarkedContentProps,["OC",b]),this.addOp(d,x),b!==void 0&&this.addOp(OPS.endMarkedContent,[])}addDependency(d){this.dependencies.has(d)||(this.dependencies.add(d),this.addOp(OPS.dependency,[d]))}addDependencies(d){for(const x of d)this.addDependency(x)}addOpList(d){if(!(d instanceof OperatorList)){warn('addOpList - ignoring invalid "opList" parameter.');return}for(const x of d.dependencies)this.dependencies.add(x);for(let x=0,b=d.length;x<b;x++)this.addOp(d.fnArray[x],d.argsArray[x])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const d=[],{fnArray:x,argsArray:b,length:S}=this;for(let w=0;w<S;w++)switch(x[w]){case OPS.paintInlineImageXObject:case OPS.paintInlineImageXObjectGroup:case OPS.paintImageMaskXObject:const C=b[w][0];!C.cached&&C.data?.buffer instanceof ArrayBuffer&&d.push(C.data.buffer);break}return d}flush(d=!1,x=null){this.optimizer.flush();const b=this.length;this._totalLength+=b,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:d,separateAnnots:x,length:b},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}function decodeAndClamp(g,d,x,b){return g=d+g*x,g<0?g=0:g>b&&(g=b),g}function resizeImageMask(g,d,x,b,S,w){const C=S*w;let F;d<=8?F=new Uint8Array(C):d<=16?F=new Uint16Array(C):F=new Uint32Array(C);const E=x/S,k=b/w;let D,M,L,R=0,U;const j=new Uint16Array(S),H=x;for(D=0;D<S;D++)j[D]=Math.floor(D*E);for(D=0;D<w;D++)for(L=Math.floor(D*k)*H,M=0;M<S;M++)U=L+j[M],F[R++]=g[U];return F}let PDFImage$1=class st{constructor({xref:d,res:x,image:b,isInline:S=!1,smask:w=null,mask:C=null,isMask:F=!1,pdfFunctionFactory:E,localColorSpaceCache:k}){this.image=b;const D=b.dict,M=D.get("F","Filter");let L;if(M instanceof Name)L=M.name;else if(Array.isArray(M)){const H=d.fetchIfRef(M[0]);H instanceof Name&&(L=H.name)}switch(L){case"JPXDecode":const H=new JpxImage;H.parseImageProperties(b.stream),b.stream.reset(),b.width=H.width,b.height=H.height,b.bitsPerComponent=H.bitsPerComponent,b.numComps=H.componentsCount;break;case"JBIG2Decode":b.bitsPerComponent=1,b.numComps=1;break}let R=D.get("W","Width"),U=D.get("H","Height");if(Number.isInteger(b.width)&&b.width>0&&Number.isInteger(b.height)&&b.height>0&&(b.width!==R||b.height!==U)&&(warn("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),R=b.width,U=b.height),R<1||U<1)throw new FormatError(`Invalid image width: ${R} or height: ${U}`);this.width=R,this.height=U,this.interpolate=D.get("I","Interpolate"),this.imageMask=D.get("IM","ImageMask")||!1,this.matte=D.get("Matte")||!1;let j=b.bitsPerComponent;if(!j&&(j=D.get("BPC","BitsPerComponent"),!j))if(this.imageMask)j=1;else throw new FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=j,!this.imageMask){let H=D.getRaw("CS")||D.getRaw("ColorSpace");if(!H)switch(info("JPX images (which do not require color spaces)"),b.numComps){case 1:H=Name.get("DeviceGray");break;case 3:H=Name.get("DeviceRGB");break;case 4:H=Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${b.numComps} color components not supported.`)}this.colorSpace=ColorSpace$1.parse({cs:H,xref:d,resources:S?x:null,pdfFunctionFactory:E,localColorSpaceCache:k}),this.numComps=this.colorSpace.numComps}if(this.decode=D.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,j)||F&&!ColorSpace$1.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const H=(1<<j)-1;this.decodeCoefficients=[],this.decodeAddends=[];const V=this.colorSpace?.name==="Indexed";for(let z=0,G=0;z<this.decode.length;z+=2,++G){const X=this.decode[z],Y=this.decode[z+1];this.decodeCoefficients[G]=V?(Y-X)/H:Y-X,this.decodeAddends[G]=V?X:H*X}}w?this.smask=new st({xref:d,res:x,image:w,isInline:S,pdfFunctionFactory:E,localColorSpaceCache:k}):C&&(C instanceof BaseStream?C.dict.get("IM","ImageMask")?this.mask=new st({xref:d,res:x,image:C,isInline:S,isMask:!0,pdfFunctionFactory:E,localColorSpaceCache:k}):warn("Ignoring /Mask in image without /ImageMask."):this.mask=C)}static async buildImage({xref:d,res:x,image:b,isInline:S=!1,pdfFunctionFactory:w,localColorSpaceCache:C}){const F=b;let E=null,k=null;const D=b.dict.get("SMask"),M=b.dict.get("Mask");return D?D instanceof BaseStream?E=D:warn("Unsupported /SMask format."):M&&(M instanceof BaseStream||Array.isArray(M)?k=M:warn("Unsupported /Mask format.")),new st({xref:d,res:x,image:F,isInline:S,smask:E,mask:k,pdfFunctionFactory:w,localColorSpaceCache:C})}static createRawMask({imgArray:d,width:x,height:b,imageIsFromDecodeStream:S,inverseDecode:w,interpolate:C}){const F=(x+7>>3)*b,E=d.byteLength,k=F===E;let D,M;if(S&&(!w||k)?D=d:w?(D=new Uint8Array(F),D.set(d),D.fill(255,E)):D=new Uint8Array(d),w)for(M=0;M<E;M++)D[M]^=255;return{data:D,width:x,height:b,interpolate:C}}static async createMask({imgArray:d,width:x,height:b,imageIsFromDecodeStream:S,inverseDecode:w,interpolate:C,isOffscreenCanvasSupported:F=!1}){const E=x===1&&b===1&&w===(d.length===0||!!(d[0]&128));if(E)return{isSingleOpaquePixel:E};if(F){if(ImageResizer.needsToBeResized(x,b)){const R=new Uint8ClampedArray(x*b*4);return convertBlackAndWhiteToRGBA({src:d,dest:R,width:x,height:b,nonBlackColor:0,inverseDecode:w}),ImageResizer.createImage({kind:ImageKind.RGBA_32BPP,data:R,width:x,height:b,interpolate:C})}const k=new OffscreenCanvas(x,b),D=k.getContext("2d"),M=D.createImageData(x,b);convertBlackAndWhiteToRGBA({src:d,dest:M.data,width:x,height:b,nonBlackColor:0,inverseDecode:w}),D.putImageData(M,0,0);const L=k.transferToImageBitmap();return{data:null,width:x,height:b,interpolate:C,bitmap:L}}return this.createRawMask({imgArray:d,width:x,height:b,inverseDecode:w,imageIsFromDecodeStream:S,interpolate:C})}get drawWidth(){return Math.max(this.width,this.smask?.width||0,this.mask?.width||0)}get drawHeight(){return Math.max(this.height,this.smask?.height||0,this.mask?.height||0)}decodeBuffer(d){const x=this.bpc,b=this.numComps,S=this.decodeAddends,w=this.decodeCoefficients,C=(1<<x)-1;let F,E;if(x===1){for(F=0,E=d.length;F<E;F++)d[F]=+!d[F];return}let k=0;for(F=0,E=this.width*this.height;F<E;F++)for(let D=0;D<b;D++)d[k]=decodeAndClamp(d[k],S[D],w[D],C),k++}getComponents(d){const x=this.bpc;if(x===8)return d;const b=this.width,S=this.height,w=this.numComps,C=b*S*w;let F=0,E;x<=8?E=new Uint8Array(C):x<=16?E=new Uint16Array(C):E=new Uint32Array(C);const k=b*w,D=(1<<x)-1;let M=0,L,R;if(x===1){let U,j,H;for(let V=0;V<S;V++){for(j=M+(k&-8),H=M+k;M<j;)R=d[F++],E[M]=R>>7&1,E[M+1]=R>>6&1,E[M+2]=R>>5&1,E[M+3]=R>>4&1,E[M+4]=R>>3&1,E[M+5]=R>>2&1,E[M+6]=R>>1&1,E[M+7]=R&1,M+=8;if(M<H)for(R=d[F++],U=128;M<H;)E[M++]=+!!(R&U),U>>=1}}else{let U=0;for(R=0,M=0,L=C;M<L;++M){for(M%k===0&&(R=0,U=0);U<x;)R=R<<8|d[F++],U+=8;const j=U-x;let H=R>>j;H<0?H=0:H>D&&(H=D),E[M]=H,R&=(1<<j)-1,U=j}}return E}fillOpacity(d,x,b,S,w){const C=this.smask,F=this.mask;let E,k,D,M,L,R;if(C)k=C.width,D=C.height,E=new Uint8ClampedArray(k*D),C.fillGrayBuffer(E),(k!==x||D!==b)&&(E=resizeImageMask(E,C.bpc,k,D,x,b));else if(F)if(F instanceof st){for(k=F.width,D=F.height,E=new Uint8ClampedArray(k*D),F.numComps=1,F.fillGrayBuffer(E),M=0,L=k*D;M<L;++M)E[M]=255-E[M];(k!==x||D!==b)&&(E=resizeImageMask(E,F.bpc,k,D,x,b))}else if(Array.isArray(F)){E=new Uint8ClampedArray(x*b);const U=this.numComps;for(M=0,L=x*b;M<L;++M){let j=0;const H=M*U;for(R=0;R<U;++R){const V=w[H+R],z=R*2;if(V<F[z]||V>F[z+1]){j=255;break}}E[M]=j}}else throw new FormatError("Unknown mask format.");if(E)for(M=0,R=3,L=x*S;M<L;++M,R+=4)d[R]=E[M];else for(M=0,R=3,L=x*S;M<L;++M,R+=4)d[R]=255}undoPreblend(d,x,b){const S=this.smask?.matte;if(!S)return;const w=this.colorSpace.getRgb(S,0),C=w[0],F=w[1],E=w[2],k=x*b*4;for(let D=0;D<k;D+=4){const M=d[D+3];if(M===0){d[D]=255,d[D+1]=255,d[D+2]=255;continue}const L=255/M;d[D]=(d[D]-C)*L+C,d[D+1]=(d[D+1]-F)*L+F,d[D+2]=(d[D+2]-E)*L+E}}async createImageData(d=!1,x=!1){const b=this.drawWidth,S=this.drawHeight,w={width:b,height:S,interpolate:this.interpolate,kind:0,data:null},C=this.numComps,F=this.width,E=this.height,k=this.bpc,D=F*C*k+7>>3,M=x&&ImageResizer.needsToBeResized(b,S);if(!d){let Y;if(this.colorSpace.name==="DeviceGray"&&k===1?Y=ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&k===8&&!this.needsDecode&&(Y=ImageKind.RGB_24BPP),Y&&!this.smask&&!this.mask&&b===F&&S===E){const J=this.getImageBytes(E*D,{});if(x)return M?ImageResizer.createImage({data:J,kind:Y,width:b,height:S,interpolate:this.interpolate},this.needsDecode):this.createBitmap(Y,F,E,J);if(w.kind=Y,w.data=J,this.needsDecode){assert(Y===ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const ee=w.data;for(let ie=0,oe=ee.length;ie<oe;ie++)ee[ie]^=255}return w}if(this.image instanceof JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let J=E*D;if(x&&!M){let ee=!1;switch(this.colorSpace.name){case"DeviceGray":J*=4,ee=!0;break;case"DeviceRGB":J=J/3*4,ee=!0;break;case"DeviceCMYK":ee=!0;break}if(ee){const ie=this.getImageBytes(J,{drawWidth:b,drawHeight:S,forceRGBA:!0});return this.createBitmap(ImageKind.RGBA_32BPP,b,S,ie)}}else switch(this.colorSpace.name){case"DeviceGray":J*=3;case"DeviceRGB":case"DeviceCMYK":return w.kind=ImageKind.RGB_24BPP,w.data=this.getImageBytes(J,{drawWidth:b,drawHeight:S,forceRGB:!0}),M?ImageResizer.createImage(w):w}}}const L=this.getImageBytes(E*D,{internal:!0}),R=0|L.length/D*S/E,U=this.getComponents(L);let j,H,V,z,G,X;if(x&&!M&&(V=new OffscreenCanvas(b,S),z=V.getContext("2d"),G=z.createImageData(b,S),X=G.data),w.kind=ImageKind.RGBA_32BPP,!d&&!this.smask&&!this.mask?(!x||M?(w.kind=ImageKind.RGB_24BPP,X=new Uint8ClampedArray(b*S*3),j=0):(new Uint32Array(X.buffer).fill(FeatureTest.isLittleEndian?4278190080:255),j=1),H=!1):((!x||M)&&(X=new Uint8ClampedArray(b*S*4)),j=1,H=!0,this.fillOpacity(X,b,S,R,U)),this.needsDecode&&this.decodeBuffer(U),this.colorSpace.fillRgb(X,F,E,b,S,R,k,U,j),H&&this.undoPreblend(X,b,R),x&&!M){z.putImageData(G,0,0);const Y=V.transferToImageBitmap();return{data:null,width:b,height:S,bitmap:Y,interpolate:this.interpolate}}return w.data=X,M?ImageResizer.createImage(w):w}fillGrayBuffer(d){const x=this.numComps;if(x!==1)throw new FormatError(`Reading gray scale from a color image: ${x}`);const b=this.width,S=this.height,w=this.bpc,C=b*x*w+7>>3,F=this.getImageBytes(S*C,{internal:!0}),E=this.getComponents(F);let k,D;if(w===1){if(D=b*S,this.needsDecode)for(k=0;k<D;++k)d[k]=E[k]-1&255;else for(k=0;k<D;++k)d[k]=-E[k]&255;return}this.needsDecode&&this.decodeBuffer(E),D=b*S;const M=255/((1<<w)-1);for(k=0;k<D;++k)d[k]=M*E[k]}createBitmap(d,x,b,S){const w=new OffscreenCanvas(x,b),C=w.getContext("2d");let F;d===ImageKind.RGBA_32BPP?F=new ImageData(S,x,b):(F=C.createImageData(x,b),convertToRGBA({kind:d,src:S,dest:new Uint32Array(F.data.buffer),width:x,height:b,inverseDecode:this.needsDecode})),C.putImageData(F,0,0);const E=w.transferToImageBitmap();return{data:null,width:x,height:b,bitmap:E,interpolate:this.interpolate}}getImageBytes(d,{drawWidth:x,drawHeight:b,forceRGBA:S=!1,forceRGB:w=!1,internal:C=!1}){this.image.reset(),this.image.drawWidth=x||this.width,this.image.drawHeight=b||this.height,this.image.forceRGBA=!!S,this.image.forceRGB=!!w;const F=this.image.getBytes(d);return C||this.image instanceof DecodeStream$1?F:(assert(F instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(F))}};const DefaultPartialEvaluatorOptions=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),PatternType={TILING:1,SHADING:2},TEXT_CHUNK_BATCH_SIZE=10,deferred=Promise.resolve();function normalizeBlendMode(g,d=!1){if(Array.isArray(g)){for(const x of g){const b=normalizeBlendMode(x,!0);if(b)return b}return warn(`Unsupported blend mode Array: ${g}`),"source-over"}if(!(g instanceof Name))return d?null:"source-over";switch(g.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return d?null:(warn(`Unsupported blend mode: ${g.name}`),"source-over")}function incrementCachedImageMaskCount(g){g.fn===OPS.paintImageMaskXObject&&g.args[0]?.count>0&&g.args[0].count++}class TimeSlotManager{static TIME_SLOT_DURATION_MS=20;static CHECK_TIME_EVERY=100;constructor(){this.reset()}check(){return++this.checked<TimeSlotManager.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+TimeSlotManager.TIME_SLOT_DURATION_MS,this.checked=0}}class PartialEvaluator{constructor({xref:d,handler:x,pageIndex:b,idFactory:S,fontCache:w,builtInCMapCache:C,standardFontDataCache:F,globalImageCache:E,systemFontCache:k,options:D=null}){this.xref=d,this.handler=x,this.pageIndex=b,this.idFactory=S,this.fontCache=w,this.builtInCMapCache=C,this.standardFontDataCache=F,this.globalImageCache=E,this.systemFontCache=k,this.options=D||DefaultPartialEvaluatorOptions,this.parsingType3Font=!1,this._regionalImageCache=new RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const d=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return shadow(this,"_pdfFunctionFactory",d)}clone(d=null){const x=Object.create(this);return x.options=Object.assign(Object.create(null),this.options,d),x}hasBlendModes(d,x){if(!(d instanceof Dict)||d.objId&&x.has(d.objId))return!1;const b=new RefSet(x);d.objId&&b.put(d.objId);const S=[d],w=this.xref;for(;S.length;){const C=S.shift(),F=C.get("ExtGState");if(F instanceof Dict)for(let k of F.getRawValues()){if(k instanceof Ref){if(b.has(k))continue;try{k=w.fetch(k)}catch(M){b.put(k),info(`hasBlendModes - ignoring ExtGState: "${M}".`);continue}}if(!(k instanceof Dict))continue;k.objId&&b.put(k.objId);const D=k.get("BM");if(D instanceof Name){if(D.name!=="Normal")return!0;continue}if(D!==void 0&&Array.isArray(D)){for(const M of D)if(M instanceof Name&&M.name!=="Normal")return!0}}const E=C.get("XObject");if(E instanceof Dict)for(let k of E.getRawValues()){if(k instanceof Ref){if(b.has(k))continue;try{k=w.fetch(k)}catch(M){b.put(k),info(`hasBlendModes - ignoring XObject: "${M}".`);continue}}if(!(k instanceof BaseStream))continue;k.dict.objId&&b.put(k.dict.objId);const D=k.dict.get("Resources");D instanceof Dict&&(D.objId&&b.has(D.objId)||(S.push(D),D.objId&&b.put(D.objId)))}}for(const C of b)x.put(C);return!1}async fetchBuiltInCMap(d){const x=this.builtInCMapCache.get(d);if(x)return x;let b;if(this.options.cMapUrl!==null){const S=`${this.options.cMapUrl}${d}.bcmap`,w=await fetch(S);if(!w.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${S}" with "${w.statusText}".`);b={cMapData:new Uint8Array(await w.arrayBuffer()),compressionType:CMapCompressionType.BINARY}}else b=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:d});return b.compressionType!==CMapCompressionType.NONE&&this.builtInCMapCache.set(d,b),b}async fetchStandardFontData(d){const x=this.standardFontDataCache.get(d);if(x)return new Stream$1(x);if(this.options.useSystemFonts&&d!=="Symbol"&&d!=="ZapfDingbats")return null;const b=getFontNameToFileMap(),S=b[d];let w;if(this.options.standardFontDataUrl!==null){const C=`${this.options.standardFontDataUrl}${S}`,F=await fetch(C);F.ok?w=new Uint8Array(await F.arrayBuffer()):warn(`fetchStandardFontData: failed to fetch file "${C}" with "${F.statusText}".`)}else try{w=await this.handler.sendWithPromise("FetchStandardFontData",{filename:S})}catch(C){warn(`fetchStandardFontData: failed to fetch file "${S}" with "${C}".`)}return w?(this.standardFontDataCache.set(d,w),new Stream$1(w)):null}async buildFormXObject(d,x,b,S,w,C,F){const E=x.dict,k=E.getArray("Matrix");let D=E.getArray("BBox");D=Array.isArray(D)&&D.length===4?Util.normalizeRect(D):null;let M,L;E.has("OC")&&(M=await this.parseMarkedContentProps(E.get("OC"),d)),M!==void 0&&S.addOp(OPS.beginMarkedContentProps,["OC",M]);const R=E.get("Group");if(R){L={matrix:k,bbox:D,smask:b,isolated:!1,knockout:!1};const j=R.get("S");let H=null;if(isName(j,"Transparency")&&(L.isolated=R.get("I")||!1,L.knockout=R.get("K")||!1,R.has("CS"))){const V=R.getRaw("CS"),z=ColorSpace$1.getCached(V,this.xref,F);z?H=z:H=await this.parseColorSpace({cs:V,resources:d,localColorSpaceCache:F})}b?.backdrop&&(H||=ColorSpace$1.singletons.rgb,b.backdrop=H.getRgb(b.backdrop,0)),S.addOp(OPS.beginGroup,[L])}const U=R?[k,null]:[k,D];return S.addOp(OPS.paintFormXObjectBegin,U),this.getOperatorList({stream:x,task:w,resources:E.get("Resources")||d,operatorList:S,initialState:C}).then(function(){S.addOp(OPS.paintFormXObjectEnd,[]),R&&S.addOp(OPS.endGroup,[L]),M!==void 0&&S.addOp(OPS.endMarkedContent,[])})}_sendImgData(d,x,b=!1){const S=x?[x.bitmap||x.data.buffer]:null;return this.parsingType3Font||b?this.handler.send("commonobj",[d,"Image",x],S):this.handler.send("obj",[d,this.pageIndex,"Image",x],S)}async buildPaintImageXObject({resources:d,image:x,isInline:b=!1,operatorList:S,cacheKey:w,localImageCache:C,localColorSpaceCache:F}){const E=x.dict,k=E.objId,D=E.get("W","Width"),M=E.get("H","Height");if(!(D&&typeof D=="number")||!(M&&typeof M=="number")){warn("Image dimensions are missing, or not numbers.");return}const L=this.options.maxImageSize;if(L!==-1&&D*M>L){const X="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){warn(X);return}throw new Error(X)}let R;E.has("OC")&&(R=await this.parseMarkedContentProps(E.get("OC"),d));const U=E.get("IM","ImageMask")||!1;let j,H;if(U){const X=E.get("I","Interpolate"),Y=D+7>>3,J=x.getBytes(Y*M),ee=E.getArray("D","Decode");if(this.parsingType3Font){if(j=PDFImage$1.createRawMask({imgArray:J,width:D,height:M,imageIsFromDecodeStream:x instanceof DecodeStream$1,inverseDecode:ee?.[0]>0,interpolate:X}),j.cached=!!w,H=[j],S.addImageOps(OPS.paintImageMaskXObject,H,R),w){const oe={fn:OPS.paintImageMaskXObject,args:H,optionalContent:R};C.set(w,k,oe),k&&this._regionalImageCache.set(null,k,oe)}return}if(j=await PDFImage$1.createMask({imgArray:J,width:D,height:M,imageIsFromDecodeStream:x instanceof DecodeStream$1,inverseDecode:ee?.[0]>0,interpolate:X,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),j.isSingleOpaquePixel){if(S.addImageOps(OPS.paintSolidColorImageMask,[],R),w){const oe={fn:OPS.paintSolidColorImageMask,args:[],optionalContent:R};C.set(w,k,oe),k&&this._regionalImageCache.set(null,k,oe)}return}const ie=`mask_${this.idFactory.createObjId()}`;if(S.addDependency(ie),this._sendImgData(ie,j),H=[{data:ie,width:j.width,height:j.height,interpolate:j.interpolate,count:1}],S.addImageOps(OPS.paintImageMaskXObject,H,R),w){const oe={fn:OPS.paintImageMaskXObject,args:H,optionalContent:R};C.set(w,k,oe),k&&this._regionalImageCache.set(null,k,oe)}return}const V=200;if(b&&!E.has("SMask")&&!E.has("Mask")&&D+M<V){j=await new PDFImage$1({xref:this.xref,res:d,image:x,isInline:b,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:F}).createImageData(!0,!1),S.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,S.addImageOps(OPS.paintInlineImageXObject,[j],R);return}let z=`img_${this.idFactory.createObjId()}`,G=!1;if(this.parsingType3Font?z=`${this.idFactory.getDocId()}_type3_${z}`:k&&(G=this.globalImageCache.shouldCache(k,this.pageIndex),G&&(z=`${this.idFactory.getDocId()}_${z}`)),S.addDependency(z),H=[z,D,M],PDFImage$1.buildImage({xref:this.xref,res:d,image:x,isInline:b,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:F}).then(async X=>{if(j=await X.createImageData(!1,this.options.isOffscreenCanvasSupported),w&&k&&G){const Y=j.bitmap?j.width*j.height*4:j.data.length;this.globalImageCache.addByteSize(k,Y)}return this._sendImgData(z,j,G)}).catch(X=>(warn(`Unable to decode image "${z}": "${X}".`),this._sendImgData(z,null,G))),S.addImageOps(OPS.paintImageXObject,H,R),w){const X={fn:OPS.paintImageXObject,args:H,optionalContent:R};C.set(w,k,X),k&&(this._regionalImageCache.set(null,k,X),G&&(assert(!b,"Cannot cache an inline image globally."),this.globalImageCache.setData(k,{objId:z,fn:OPS.paintImageXObject,args:H,optionalContent:R,byteSize:0})))}}handleSMask(d,x,b,S,w,C){const F=d.get("G"),E={subtype:d.get("S").name,backdrop:d.get("BC")},k=d.get("TR");if(isPDFFunction(k)){const D=this._pdfFunctionFactory.create(k),M=new Uint8Array(256),L=new Float32Array(1);for(let R=0;R<256;R++)L[0]=R/255,D(L,0,L,0),M[R]=L[0]*255|0;E.transferMap=M}return this.buildFormXObject(x,F,E,b,S,w.state.clone(),C)}handleTransferFunction(d){let x;if(Array.isArray(d))x=d;else if(isPDFFunction(d))x=[d];else return null;const b=[];let S=0,w=0;for(const C of x){const F=this.xref.fetchIfRef(C);if(S++,isName(F,"Identity")){b.push(null);continue}else if(!isPDFFunction(F))return null;const E=this._pdfFunctionFactory.create(F),k=new Uint8Array(256),D=new Float32Array(1);for(let M=0;M<256;M++)D[0]=M/255,E(D,0,D,0),k[M]=D[0]*255|0;b.push(k),w++}return!(S===1||S===4)||w===0?null:b}handleTilingType(d,x,b,S,w,C,F,E){const k=new OperatorList,D=Dict.merge({xref:this.xref,dictArray:[w.get("Resources"),b]});return this.getOperatorList({stream:S,task:F,resources:D,operatorList:k}).then(function(){const M=k.getIR(),L=getTilingPatternIR(M,w,x);C.addDependencies(k.dependencies),C.addOp(d,L),w.objId&&E.set(null,w.objId,{operatorListIR:M,dict:w})}).catch(M=>{if(!(M instanceof AbortException)){if(this.options.ignoreErrors){warn(`handleTilingType - ignoring pattern: "${M}".`);return}throw M}})}handleSetFont(d,x,b,S,w,C,F=null,E=null){const k=x?.[0]instanceof Name?x[0].name:null;return this.loadFont(k,b,d,F,E).then(D=>D.font.isType3Font?D.loadType3Data(this,d,w).then(function(){return S.addDependencies(D.type3Dependencies),D}).catch(M=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Type3 font load error: ${M}`),dict:D.font,evaluatorOptions:this.options})):D).then(D=>(C.font=D.font,D.send(this.handler),D.loadedName))}handleText(d,x){const b=x.font,S=b.charsToGlyphs(d);return b.data&&(x.textRenderingMode&TextRenderingMode$1.ADD_TO_PATH_FLAG||x.fillColorSpace.name==="Pattern"||b.disableFontFace||this.options.disableFontFace)&&PartialEvaluator.buildFontPaths(b,S,this.handler,this.options),S}ensureStateFont(d){if(d.font)return;const x=new FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){warn(`ensureStateFont: "${x}".`);return}throw x}async setGState({resources:d,gState:x,operatorList:b,cacheKey:S,task:w,stateManager:C,localGStateCache:F,localColorSpaceCache:E}){const k=x.objId;let D=!0;const M=[];let L=Promise.resolve();for(const R of x.getKeys()){const U=x.get(R);switch(R){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":M.push([R,U]);break;case"Font":D=!1,L=L.then(()=>this.handleSetFont(d,null,U[0],b,w,C.state).then(function(H){b.addDependency(H),M.push([R,[H,U[1]]])}));break;case"BM":M.push([R,normalizeBlendMode(U)]);break;case"SMask":if(isName(U,"None")){M.push([R,!1]);break}U instanceof Dict?(D=!1,L=L.then(()=>this.handleSMask(U,d,b,w,C,E)),M.push([R,!0])):warn("Unsupported SMask type");break;case"TR":const j=this.handleTransferFunction(U);M.push([R,j]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":info("graphic state operator "+R);break;default:info("Unknown graphic state operator "+R);break}}return L.then(function(){M.length>0&&b.addOp(OPS.setGState,[M]),D&&F.set(S,k,M)})}loadFont(d,x,b,S=null,w=null){const C=async()=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Font "${d}" is not available.`),dict:x,evaluatorOptions:this.options});let F;if(x)x instanceof Ref&&(F=x);else{const U=b.get("Font");U&&(F=U.getRaw(d))}if(F){if(this.parsingType3Font&&this.type3FontRefs.has(F))return C();if(this.fontCache.has(F))return this.fontCache.get(F);x=this.xref.fetchIfRef(F)}if(!(x instanceof Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return warn(`Font "${d}" is not available.`),C();warn(`Font "${d}" is not available -- attempting to fallback to a default font.`),x=S||PartialEvaluator.fallbackFontDict}if(x.cacheKey&&this.fontCache.has(x.cacheKey))return this.fontCache.get(x.cacheKey);const E=new PromiseCapability;let k;try{k=this.preEvaluateFont(x),k.cssFontInfo=w}catch(U){return warn(`loadFont - preEvaluateFont failed: "${U}".`),C()}const{descriptor:D,hash:M}=k,L=F instanceof Ref;let R;if(M&&D instanceof Dict){const U=D.fontAliases||=Object.create(null);if(U[M]){const j=U[M].aliasRef;if(L&&j&&this.fontCache.has(j))return this.fontCache.putAlias(F,j),this.fontCache.get(F)}else U[M]={fontID:this.idFactory.createFontId()};L&&(U[M].aliasRef=F),R=U[M].fontID}else R=this.idFactory.createFontId();return assert(R?.startsWith("f"),'The "fontID" must be (correctly) defined.'),L?this.fontCache.put(F,E.promise):(x.cacheKey=`cacheKey_${R}`,this.fontCache.put(x.cacheKey,E.promise)),x.loadedName=`${this.idFactory.getDocId()}_${R}`,this.translateFont(k).then(U=>{E.resolve(new TranslatedFont({loadedName:x.loadedName,font:U,dict:x,evaluatorOptions:this.options}))}).catch(U=>{warn(`loadFont - translateFont failed: "${U}".`),E.resolve(new TranslatedFont({loadedName:x.loadedName,font:new ErrorFont(U instanceof Error?U.message:U),dict:x,evaluatorOptions:this.options}))}),E.promise}buildPath(d,x,b,S=!1){const w=d.length-1;if(b||(b=[]),w<0||d.fnArray[w]!==OPS.constructPath){S&&(warn(`Encountered path operator "${x}" inside of a text object.`),d.addOp(OPS.save,null));let C;switch(x){case OPS.rectangle:const F=b[0]+b[2],E=b[1]+b[3];C=[Math.min(b[0],F),Math.max(b[0],F),Math.min(b[1],E),Math.max(b[1],E)];break;case OPS.moveTo:case OPS.lineTo:C=[b[0],b[0],b[1],b[1]];break;default:C=[1/0,-1/0,1/0,-1/0];break}d.addOp(OPS.constructPath,[[x],b,C]),S&&d.addOp(OPS.restore,null)}else{const C=d.argsArray[w];C[0].push(x),C[1].push(...b);const F=C[2];switch(x){case OPS.rectangle:const E=b[0]+b[2],k=b[1]+b[3];F[0]=Math.min(F[0],b[0],E),F[1]=Math.max(F[1],b[0],E),F[2]=Math.min(F[2],b[1],k),F[3]=Math.max(F[3],b[1],k);break;case OPS.moveTo:case OPS.lineTo:F[0]=Math.min(F[0],b[0]),F[1]=Math.max(F[1],b[0]),F[2]=Math.min(F[2],b[1]),F[3]=Math.max(F[3],b[1]);break}}}parseColorSpace({cs:d,resources:x,localColorSpaceCache:b}){return ColorSpace$1.parseAsync({cs:d,xref:this.xref,resources:x,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:b}).catch(S=>{if(S instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`parseColorSpace - ignoring ColorSpace: "${S}".`),null;throw S})}parseShading({shading:d,resources:x,localColorSpaceCache:b,localShadingPatternCache:S}){let w=S.get(d);if(!w){var C=Pattern.parseShading(d,this.xref,x,this._pdfFunctionFactory,b);const F=C.getIR();w=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(w=`${this.idFactory.getDocId()}_type3_${w}`),S.set(d,w),this.parsingType3Font?this.handler.send("commonobj",[w,"Pattern",F]):this.handler.send("obj",[w,this.pageIndex,"Pattern",F])}return w}handleColorN(d,x,b,S,w,C,F,E,k,D){const M=b.pop();if(M instanceof Name){const L=w.getRaw(M.name),R=L instanceof Ref&&k.getByRef(L);if(R)try{const j=S.base?S.base.getRgb(b,0):null,H=getTilingPatternIR(R.operatorListIR,R.dict,j);d.addOp(x,H);return}catch{}const U=this.xref.fetchIfRef(L);if(U){const j=U instanceof BaseStream?U.dict:U,H=j.get("PatternType");if(H===PatternType.TILING){const V=S.base?S.base.getRgb(b,0):null;return this.handleTilingType(x,V,C,U,j,d,F,k)}else if(H===PatternType.SHADING){const V=j.get("Shading"),z=j.getArray("Matrix"),G=this.parseShading({shading:V,resources:C,localColorSpaceCache:E,localShadingPatternCache:D});d.addOp(x,["Shading",G,z]);return}throw new FormatError(`Unknown PatternType: ${H}`)}}throw new FormatError(`Unknown PatternName: ${M}`)}_parseVisibilityExpression(d,x,b){if(++x>10){warn("Visibility expression is too deeply nested");return}const w=d.length,C=this.xref.fetchIfRef(d[0]);if(w<2||!(C instanceof Name)){warn("Invalid visibility expression");return}switch(C.name){case"And":case"Or":case"Not":b.push(C.name);break;default:warn(`Invalid operator ${C.name} in visibility expression`);return}for(let F=1;F<w;F++){const E=d[F],k=this.xref.fetchIfRef(E);if(Array.isArray(k)){const D=[];b.push(D),this._parseVisibilityExpression(k,x,D)}else E instanceof Ref&&b.push(E.toString())}}async parseMarkedContentProps(d,x){let b;if(d instanceof Name)b=x.get("Properties").get(d.name);else if(d instanceof Dict)b=d;else throw new FormatError("Optional content properties malformed.");const S=b.get("Type")?.name;if(S==="OCG")return{type:S,id:b.objId};if(S==="OCMD"){const w=b.get("VE");if(Array.isArray(w)){const F=[];if(this._parseVisibilityExpression(w,0,F),F.length>0)return{type:"OCMD",expression:F}}const C=b.get("OCGs");if(Array.isArray(C)||C instanceof Dict){const F=[];if(Array.isArray(C))for(const E of C)F.push(E.toString());else F.push(C.objId);return{type:S,ids:F,policy:b.get("P")instanceof Name?b.get("P").name:null,expression:null}}else if(C instanceof Ref)return{type:S,id:C.toString()}}return null}getOperatorList({stream:d,task:x,resources:b,operatorList:S,initialState:w=null,fallbackFontDict:C=null}){if(b||=Dict.empty,w||=new EvalState,!S)throw new Error('getOperatorList: missing "operatorList" parameter');const F=this,E=this.xref;let k=!1;const D=new LocalImageCache,M=new LocalColorSpaceCache,L=new LocalGStateCache,R=new LocalTilingPatternCache,U=new Map,j=b.get("XObject")||Dict.empty,H=b.get("Pattern")||Dict.empty,V=new StateManager(w),z=new EvaluatorPreprocessor(d,E,V),G=new TimeSlotManager;function X(Y){for(let J=0,ee=z.savedStatesDepth;J<ee;J++)S.addOp(OPS.restore,[])}return new Promise(function Y(J,ee){const ie=function(Ie){Promise.all([Ie,S.ready]).then(function(){try{Y(J,ee)}catch(Ve){ee(Ve)}},ee)};x.ensureNotTerminated(),G.reset();const oe={};let he,fe,Se,we,Ee,de;for(;!(he=G.check())&&(oe.args=null,!!z.read(oe));){let Ie=oe.args,Ve=oe.fn;switch(Ve|0){case OPS.paintXObject:if(de=Ie[0]instanceof Name,Ee=Ie[0].name,de){const Pe=D.getByName(Ee);if(Pe){S.addImageOps(Pe.fn,Pe.args,Pe.optionalContent),incrementCachedImageMaskCount(Pe),Ie=null;continue}}ie(new Promise(function(Pe,Ce){if(!de)throw new FormatError("XObject must be referred to by name.");let te=j.getRaw(Ee);if(te instanceof Ref){const W=D.getByRef(te)||F._regionalImageCache.getByRef(te);if(W){S.addImageOps(W.fn,W.args,W.optionalContent),incrementCachedImageMaskCount(W),Pe();return}const $=F.globalImageCache.getData(te,F.pageIndex);if($){S.addDependency($.objId),S.addImageOps($.fn,$.args,$.optionalContent),Pe();return}te=E.fetch(te)}if(!(te instanceof BaseStream))throw new FormatError("XObject should be a stream");const re=te.dict.get("Subtype");if(!(re instanceof Name))throw new FormatError("XObject should have a Name subtype");if(re.name==="Form"){V.save(),F.buildFormXObject(b,te,null,S,x,V.state.clone(),M).then(function(){V.restore(),Pe()},Ce);return}else if(re.name==="Image"){F.buildPaintImageXObject({resources:b,image:te,operatorList:S,cacheKey:Ee,localImageCache:D,localColorSpaceCache:M}).then(Pe,Ce);return}else if(re.name==="PS")info("Ignored XObject subtype PS");else throw new FormatError(`Unhandled XObject subtype ${re.name}`);Pe()}).catch(function(Pe){if(!(Pe instanceof AbortException)){if(F.options.ignoreErrors){warn(`getOperatorList - ignoring XObject: "${Pe}".`);return}throw Pe}}));return;case OPS.setFont:var xe=Ie[1];ie(F.handleSetFont(b,Ie,null,S,x,V.state,C).then(function(Pe){S.addDependency(Pe),S.addOp(OPS.setFont,[Pe,xe])}));return;case OPS.beginText:k=!0;break;case OPS.endText:k=!1;break;case OPS.endInlineImage:var Te=Ie[0].cacheKey;if(Te){const Pe=D.getByName(Te);if(Pe){S.addImageOps(Pe.fn,Pe.args,Pe.optionalContent),incrementCachedImageMaskCount(Pe),Ie=null;continue}}ie(F.buildPaintImageXObject({resources:b,image:Ie[0],isInline:!0,operatorList:S,cacheKey:Te,localImageCache:D,localColorSpaceCache:M}));return;case OPS.showText:if(!V.state.font){F.ensureStateFont(V.state);continue}Ie[0]=F.handleText(Ie[0],V.state);break;case OPS.showSpacedText:if(!V.state.font){F.ensureStateFont(V.state);continue}var Oe=[],Ne=V.state;for(const Pe of Ie[0])typeof Pe=="string"?Oe.push(...F.handleText(Pe,Ne)):typeof Pe=="number"&&Oe.push(Pe);Ie[0]=Oe,Ve=OPS.showText;break;case OPS.nextLineShowText:if(!V.state.font){F.ensureStateFont(V.state);continue}S.addOp(OPS.nextLine),Ie[0]=F.handleText(Ie[0],V.state),Ve=OPS.showText;break;case OPS.nextLineSetSpacingShowText:if(!V.state.font){F.ensureStateFont(V.state);continue}S.addOp(OPS.nextLine),S.addOp(OPS.setWordSpacing,[Ie.shift()]),S.addOp(OPS.setCharSpacing,[Ie.shift()]),Ie[0]=F.handleText(Ie[0],V.state),Ve=OPS.showText;break;case OPS.setTextRenderingMode:V.state.textRenderingMode=Ie[0];break;case OPS.setFillColorSpace:{const Pe=ColorSpace$1.getCached(Ie[0],E,M);if(Pe){V.state.fillColorSpace=Pe;continue}ie(F.parseColorSpace({cs:Ie[0],resources:b,localColorSpaceCache:M}).then(function(Ce){Ce&&(V.state.fillColorSpace=Ce)}));return}case OPS.setStrokeColorSpace:{const Pe=ColorSpace$1.getCached(Ie[0],E,M);if(Pe){V.state.strokeColorSpace=Pe;continue}ie(F.parseColorSpace({cs:Ie[0],resources:b,localColorSpaceCache:M}).then(function(Ce){Ce&&(V.state.strokeColorSpace=Ce)}));return}case OPS.setFillColor:we=V.state.fillColorSpace,Ie=we.getRgb(Ie,0),Ve=OPS.setFillRGBColor;break;case OPS.setStrokeColor:we=V.state.strokeColorSpace,Ie=we.getRgb(Ie,0),Ve=OPS.setStrokeRGBColor;break;case OPS.setFillGray:V.state.fillColorSpace=ColorSpace$1.singletons.gray,Ie=ColorSpace$1.singletons.gray.getRgb(Ie,0),Ve=OPS.setFillRGBColor;break;case OPS.setStrokeGray:V.state.strokeColorSpace=ColorSpace$1.singletons.gray,Ie=ColorSpace$1.singletons.gray.getRgb(Ie,0),Ve=OPS.setStrokeRGBColor;break;case OPS.setFillCMYKColor:V.state.fillColorSpace=ColorSpace$1.singletons.cmyk,Ie=ColorSpace$1.singletons.cmyk.getRgb(Ie,0),Ve=OPS.setFillRGBColor;break;case OPS.setStrokeCMYKColor:V.state.strokeColorSpace=ColorSpace$1.singletons.cmyk,Ie=ColorSpace$1.singletons.cmyk.getRgb(Ie,0),Ve=OPS.setStrokeRGBColor;break;case OPS.setFillRGBColor:V.state.fillColorSpace=ColorSpace$1.singletons.rgb,Ie=ColorSpace$1.singletons.rgb.getRgb(Ie,0);break;case OPS.setStrokeRGBColor:V.state.strokeColorSpace=ColorSpace$1.singletons.rgb,Ie=ColorSpace$1.singletons.rgb.getRgb(Ie,0);break;case OPS.setFillColorN:if(we=V.state.fillColorSpace,we.name==="Pattern"){ie(F.handleColorN(S,OPS.setFillColorN,Ie,we,H,b,x,M,R,U));return}Ie=we.getRgb(Ie,0),Ve=OPS.setFillRGBColor;break;case OPS.setStrokeColorN:if(we=V.state.strokeColorSpace,we.name==="Pattern"){ie(F.handleColorN(S,OPS.setStrokeColorN,Ie,we,H,b,x,M,R,U));return}Ie=we.getRgb(Ie,0),Ve=OPS.setStrokeRGBColor;break;case OPS.shadingFill:var Le=b.get("Shading");if(!Le)throw new FormatError("No shading resource found");var Me=Le.get(Ie[0].name);if(!Me)throw new FormatError("No shading object found");Ie=[F.parseShading({shading:Me,resources:b,localColorSpaceCache:M,localShadingPatternCache:U})],Ve=OPS.shadingFill;break;case OPS.setGState:if(de=Ie[0]instanceof Name,Ee=Ie[0].name,de){const Pe=L.getByName(Ee);if(Pe){Pe.length>0&&S.addOp(OPS.setGState,[Pe]),Ie=null;continue}}ie(new Promise(function(Pe,Ce){if(!de)throw new FormatError("GState must be referred to by name.");const te=b.get("ExtGState");if(!(te instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const re=te.get(Ee);if(!(re instanceof Dict))throw new FormatError("GState should be a dictionary.");F.setGState({resources:b,gState:re,operatorList:S,cacheKey:Ee,task:x,stateManager:V,localGStateCache:L,localColorSpaceCache:M}).then(Pe,Ce)}).catch(function(Pe){if(!(Pe instanceof AbortException)){if(F.options.ignoreErrors){warn(`getOperatorList - ignoring ExtGState: "${Pe}".`);return}throw Pe}}));return;case OPS.moveTo:case OPS.lineTo:case OPS.curveTo:case OPS.curveTo2:case OPS.curveTo3:case OPS.closePath:case OPS.rectangle:F.buildPath(S,Ve,Ie,k);continue;case OPS.markPoint:case OPS.markPointProps:case OPS.beginCompat:case OPS.endCompat:continue;case OPS.beginMarkedContentProps:if(!(Ie[0]instanceof Name)){warn(`Expected name for beginMarkedContentProps arg0=${Ie[0]}`);continue}if(Ie[0].name==="OC"){ie(F.parseMarkedContentProps(Ie[1],b).then(Pe=>{S.addOp(OPS.beginMarkedContentProps,["OC",Pe])}).catch(Pe=>{if(!(Pe instanceof AbortException)){if(F.options.ignoreErrors){warn(`getOperatorList - ignoring beginMarkedContentProps: "${Pe}".`);return}throw Pe}}));return}Ie=[Ie[0].name,Ie[1]instanceof Dict?Ie[1].get("MCID"):null];break;case OPS.beginMarkedContent:case OPS.endMarkedContent:default:if(Ie!==null){for(fe=0,Se=Ie.length;fe<Se&&!(Ie[fe]instanceof Dict);fe++);if(fe<Se){warn("getOperatorList - ignoring operator: "+Ve);continue}}}S.addOp(Ve,Ie)}if(he){ie(deferred);return}X(),J()}).catch(Y=>{if(!(Y instanceof AbortException)){if(this.options.ignoreErrors){warn(`getOperatorList - ignoring errors during "${x.name}" task: "${Y}".`),X();return}throw Y}})}getTextContent({stream:d,task:x,resources:b,stateManager:S=null,includeMarkedContent:w=!1,sink:C,seenStyles:F=new Set,viewBox:E,markedContentData:k=null,disableNormalization:D=!1}){b||=Dict.empty,S||=new StateManager(new TextState),w&&(k||={level:0});const M={items:[],styles:Object.create(null)},L={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},R=[" "," "];let U=0;function j($){const Z=(U+1)%2,K=R[U]!==" "&&R[Z]===" ";return R[U]=$,U=Z,K}function H(){return R[U]!==" "&&R[(U+1)%2]===" "}function V(){R[0]=R[1]=" ",U=0}const z=.102,G=.03,X=-.2,Y=.102,J=.6,ee=.25,ie=this,oe=this.xref,he=[];let fe=null;const Se=new LocalImageCache,we=new LocalGStateCache,Ee=new EvaluatorPreprocessor(d,oe,S);let de;function xe({width:$=0,height:Z=0,transform:K=L.prevTransform,fontName:Q=L.fontName}){M.items.push({str:" ",dir:"ltr",width:$,height:Z,transform:K,fontName:Q,hasEOL:!1})}function Te(){const $=de.font,Z=[de.fontSize*de.textHScale,0,0,de.fontSize,0,de.textRise];if($.isType3Font&&(de.fontSize<=1||$.isCharBBox)&&!isArrayEqual(de.fontMatrix,FONT_IDENTITY_MATRIX)){const K=$.bbox[3]-$.bbox[1];K>0&&(Z[3]*=K*de.fontMatrix[3])}return Util.transform(de.ctm,Util.transform(de.textMatrix,Z))}function Oe(){if(L.initialized)return L;const{font:$,loadedName:Z}=de;if(!F.has(Z)&&(F.add(Z),M.styles[Z]={fontFamily:$.fallbackName,ascent:$.ascent,descent:$.descent,vertical:$.vertical},ie.options.fontExtraProperties&&$.systemFontInfo)){const le=M.styles[Z];le.fontSubstitution=$.systemFontInfo.css,le.fontSubstitutionLoadedName=$.systemFontInfo.loadedName}L.fontName=Z;const K=L.transform=Te();$.vertical?(L.width=L.totalWidth=Math.hypot(K[0],K[1]),L.height=L.totalHeight=0,L.vertical=!0):(L.width=L.totalWidth=0,L.height=L.totalHeight=Math.hypot(K[2],K[3]),L.vertical=!1);const Q=Math.hypot(de.textLineMatrix[0],de.textLineMatrix[1]),ae=Math.hypot(de.ctm[0],de.ctm[1]);L.textAdvanceScale=ae*Q;const{fontSize:ce}=de;return L.trackingSpaceMin=ce*z,L.notASpace=ce*G,L.negativeSpaceMax=ce*X,L.spaceInFlowMin=ce*Y,L.spaceInFlowMax=ce*J,L.hasEOL=!1,L.initialized=!0,L}function Ne(){if(!L.initialized)return;const $=Math.hypot(de.textLineMatrix[0],de.textLineMatrix[1]),K=Math.hypot(de.ctm[0],de.ctm[1])*$;K!==L.textAdvanceScale&&(L.vertical?(L.totalHeight+=L.height*L.textAdvanceScale,L.height=0):(L.totalWidth+=L.width*L.textAdvanceScale,L.width=0),L.textAdvanceScale=K)}function Le($){let Z=$.str.join("");D||(Z=normalizeUnicode(Z));const K=bidi(Z,-1,$.vertical);return{str:K.str,dir:K.dir,width:Math.abs($.totalWidth),height:Math.abs($.totalHeight),transform:$.transform,fontName:$.fontName,hasEOL:$.hasEOL}}function Me($,Z){return ie.loadFont($,Z,b).then(function(K){return K.font.isType3Font?K.loadType3Data(ie,b,x).catch(function(){}).then(function(){return K}):K}).then(function(K){de.loadedName=K.loadedName,de.font=K.font,de.fontMatrix=K.font.fontMatrix||FONT_IDENTITY_MATRIX})}function Ie($,Z,K){const Q=Math.hypot(K[0],K[1]);return[(K[0]*$+K[1]*Z)/Q,(K[2]*$+K[3]*Z)/Q]}function Ve($){const Z=Te();let K=Z[4],Q=Z[5];if(de.font?.vertical){if(K<E[0]||K>E[2]||Q+$<E[1]||Q>E[3])return!1}else if(K+$<E[0]||K>E[2]||Q<E[1]||Q>E[3])return!1;if(!de.font||!L.prevTransform)return!0;let ae=L.prevTransform[4],ce=L.prevTransform[5];if(ae===K&&ce===Q)return!0;let le=-1;switch(Z[0]&&Z[1]===0&&Z[2]===0?le=Z[0]>0?0:180:Z[1]&&Z[0]===0&&Z[3]===0&&(le=Z[1]>0?90:270),le){case 0:break;case 90:[K,Q]=[Q,K],[ae,ce]=[ce,ae];break;case 180:[K,Q,ae,ce]=[-K,-Q,-ae,-ce];break;case 270:[K,Q]=[-Q,-K],[ae,ce]=[-ce,-ae];break;default:[K,Q]=Ie(K,Q,Z),[ae,ce]=Ie(ae,ce,L.prevTransform)}if(de.font.vertical){const ve=(ce-Q)/L.textAdvanceScale,be=K-ae,me=Math.sign(L.height);return ve<me*L.negativeSpaceMax?Math.abs(be)>.5*L.width?(Pe(),!0):(V(),te(),!0):Math.abs(be)>L.width?(Pe(),!0):(ve<=me*L.notASpace&&V(),ve<=me*L.trackingSpaceMin?H()?(V(),te(),xe({height:Math.abs(ve)})):L.height+=ve:Ce(ve,L.prevTransform,me)||(L.str.length===0?(V(),xe({height:Math.abs(ve)})):L.height+=ve),Math.abs(be)>L.width*ee&&te(),!0)}const ge=(K-ae)/L.textAdvanceScale,pe=Q-ce,ye=Math.sign(L.width);return ge<ye*L.negativeSpaceMax?Math.abs(pe)>.5*L.height?(Pe(),!0):(V(),te(),!0):Math.abs(pe)>L.height?(Pe(),!0):(ge<=ye*L.notASpace&&V(),ge<=ye*L.trackingSpaceMin?H()?(V(),te(),xe({width:Math.abs(ge)})):L.width+=ge:Ce(ge,L.prevTransform,ye)||(L.str.length===0?(V(),xe({width:Math.abs(ge)})):L.width+=ge),Math.abs(pe)>L.height*ee&&te(),!0)}function De({chars:$,extraSpacing:Z}){const K=de.font;if(!$){const ce=de.charSpacing+Z;ce&&(K.vertical?de.translateTextMatrix(0,-ce):de.translateTextMatrix(ce*de.textHScale,0));return}const Q=K.charsToGlyphs($),ae=de.fontMatrix[0]*de.fontSize;for(let ce=0,le=Q.length;ce<le;ce++){const ge=Q[ce],{category:pe}=ge;if(pe.isInvisibleFormatMark)continue;let ye=de.charSpacing+(ce+1===le?Z:0),ve=ge.width;K.vertical&&(ve=ge.vmetric?ge.vmetric[0]:-ve);let be=ve*ae;if(pe.isWhitespace){K.vertical?(ye+=-be+de.wordSpacing,de.translateTextMatrix(0,-ye)):(ye+=be+de.wordSpacing,de.translateTextMatrix(ye*de.textHScale,0)),j(" ");continue}if(!pe.isZeroWidthDiacritic&&!Ve(be)){K.vertical?de.translateTextMatrix(0,be):de.translateTextMatrix(be*de.textHScale,0);continue}const me=Oe();pe.isZeroWidthDiacritic&&(be=0),K.vertical?(de.translateTextMatrix(0,be),be=Math.abs(be),me.height+=be):(be*=de.textHScale,de.translateTextMatrix(be,0),me.width+=be),be&&(me.prevTransform=Te());const Fe=ge.unicode;j(Fe)&&me.str.push(" "),me.str.push(Fe),ye&&(K.vertical?de.translateTextMatrix(0,-ye):de.translateTextMatrix(ye*de.textHScale,0))}}function Pe(){V(),L.initialized?(L.hasEOL=!0,te()):M.items.push({str:"",dir:"ltr",width:0,height:0,transform:Te(),fontName:de.loadedName,hasEOL:!0})}function Ce($,Z,K){if(K*L.spaceInFlowMin<=$&&$<=K*L.spaceInFlowMax)return L.initialized&&(V(),L.str.push(" ")),!1;const Q=L.fontName;let ae=0;return L.vertical&&(ae=$,$=0),te(),V(),xe({width:Math.abs($),height:Math.abs(ae),transform:Z||Te(),fontName:Q}),!0}function te(){!L.initialized||!L.str||(L.vertical?L.totalHeight+=L.height*L.textAdvanceScale:L.totalWidth+=L.width*L.textAdvanceScale,M.items.push(Le(L)),L.initialized=!1,L.str.length=0)}function re($=!1){const Z=M.items.length;Z!==0&&($&&Z<TEXT_CHUNK_BATCH_SIZE||(C.enqueue(M,Z),M.items=[],M.styles=Object.create(null)))}const W=new TimeSlotManager;return new Promise(function $(Z,K){const Q=function(be){re(!0),Promise.all([be,C.ready]).then(function(){try{$(Z,K)}catch(me){K(me)}},K)};x.ensureNotTerminated(),W.reset();const ae={};let ce,le=[];for(;!(ce=W.check())&&(le.length=0,ae.args=le,!!Ee.read(ae));){const be=de;de=S.state;const me=ae.fn;switch(le=ae.args,me|0){case OPS.setFont:var ge=le[0].name,pe=le[1];if(de.font&&ge===de.fontName&&pe===de.fontSize)break;te(),de.fontName=ge,de.fontSize=pe,Q(Me(ge,null));return;case OPS.setTextRise:de.textRise=le[0];break;case OPS.setHScale:de.textHScale=le[0]/100;break;case OPS.setLeading:de.leading=le[0];break;case OPS.moveText:de.translateTextLineMatrix(le[0],le[1]),de.textMatrix=de.textLineMatrix.slice();break;case OPS.setLeadingMoveText:de.leading=-le[1],de.translateTextLineMatrix(le[0],le[1]),de.textMatrix=de.textLineMatrix.slice();break;case OPS.nextLine:de.carriageReturn();break;case OPS.setTextMatrix:de.setTextMatrix(le[0],le[1],le[2],le[3],le[4],le[5]),de.setTextLineMatrix(le[0],le[1],le[2],le[3],le[4],le[5]),Ne();break;case OPS.setCharSpacing:de.charSpacing=le[0];break;case OPS.setWordSpacing:de.wordSpacing=le[0];break;case OPS.beginText:de.textMatrix=IDENTITY_MATRIX.slice(),de.textLineMatrix=IDENTITY_MATRIX.slice();break;case OPS.showSpacedText:if(!S.state.font){ie.ensureStateFont(S.state);continue}const Fe=(de.font.vertical?1:-1)*de.fontSize/1e3,Re=le[0];for(let ke=0,je=Re.length;ke<je;ke++){const ue=Re[ke];if(typeof ue=="string")he.push(ue);else if(typeof ue=="number"&&ue!==0){const ne=he.join("");he.length=0,De({chars:ne,extraSpacing:ue*Fe})}}if(he.length>0){const ke=he.join("");he.length=0,De({chars:ke,extraSpacing:0})}break;case OPS.showText:if(!S.state.font){ie.ensureStateFont(S.state);continue}De({chars:le[0],extraSpacing:0});break;case OPS.nextLineShowText:if(!S.state.font){ie.ensureStateFont(S.state);continue}de.carriageReturn(),De({chars:le[0],extraSpacing:0});break;case OPS.nextLineSetSpacingShowText:if(!S.state.font){ie.ensureStateFont(S.state);continue}de.wordSpacing=le[0],de.charSpacing=le[1],de.carriageReturn(),De({chars:le[2],extraSpacing:0});break;case OPS.paintXObject:te(),fe||(fe=b.get("XObject")||Dict.empty);var ye=le[0]instanceof Name,ve=le[0].name;if(ye&&Se.getByName(ve))break;Q(new Promise(function(ke,je){if(!ye)throw new FormatError("XObject must be referred to by name.");let ue=fe.getRaw(ve);if(ue instanceof Ref){if(Se.getByRef(ue)){ke();return}if(ie.globalImageCache.getData(ue,ie.pageIndex)){ke();return}ue=oe.fetch(ue)}if(!(ue instanceof BaseStream))throw new FormatError("XObject should be a stream");const ne=ue.dict.get("Subtype");if(!(ne instanceof Name))throw new FormatError("XObject should have a Name subtype");if(ne.name!=="Form"){Se.set(ve,ue.dict.objId,!0),ke();return}const se=S.state.clone(),Ae=new StateManager(se),_e=ue.dict.getArray("Matrix");Array.isArray(_e)&&_e.length===6&&Ae.transform(_e),re();const Be={enqueueInvoked:!1,enqueue(He,Ue){this.enqueueInvoked=!0,C.enqueue(He,Ue)},get desiredSize(){return C.desiredSize},get ready(){return C.ready}};ie.getTextContent({stream:ue,task:x,resources:ue.dict.get("Resources")||b,stateManager:Ae,includeMarkedContent:w,sink:Be,seenStyles:F,viewBox:E,markedContentData:k,disableNormalization:D}).then(function(){Be.enqueueInvoked||Se.set(ve,ue.dict.objId,!0),ke()},je)}).catch(function(ke){if(!(ke instanceof AbortException)){if(ie.options.ignoreErrors){warn(`getTextContent - ignoring XObject: "${ke}".`);return}throw ke}}));return;case OPS.setGState:if(ye=le[0]instanceof Name,ve=le[0].name,ye&&we.getByName(ve))break;Q(new Promise(function(ke,je){if(!ye)throw new FormatError("GState must be referred to by name.");const ue=b.get("ExtGState");if(!(ue instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const ne=ue.get(ve);if(!(ne instanceof Dict))throw new FormatError("GState should be a dictionary.");const se=ne.get("Font");if(!se){we.set(ve,ne.objId,!0),ke();return}te(),de.fontName=null,de.fontSize=se[1],Me(null,se[0]).then(ke,je)}).catch(function(ke){if(!(ke instanceof AbortException)){if(ie.options.ignoreErrors){warn(`getTextContent - ignoring ExtGState: "${ke}".`);return}throw ke}}));return;case OPS.beginMarkedContent:te(),w&&(k.level++,M.items.push({type:"beginMarkedContent",tag:le[0]instanceof Name?le[0].name:null}));break;case OPS.beginMarkedContentProps:if(te(),w){k.level++;let ke=null;le[1]instanceof Dict&&(ke=le[1].get("MCID")),M.items.push({type:"beginMarkedContentProps",id:Number.isInteger(ke)?`${ie.idFactory.getPageObjId()}_mc${ke}`:null,tag:le[0]instanceof Name?le[0].name:null})}break;case OPS.endMarkedContent:if(te(),w){if(k.level===0)break;k.level--,M.items.push({type:"endMarkedContent"})}break;case OPS.restore:be&&(be.font!==de.font||be.fontSize!==de.fontSize||be.fontName!==de.fontName)&&te();break}if(M.items.length>=C.desiredSize){ce=!0;break}}if(ce){Q(deferred);return}te(),re(),Z()}).catch($=>{if(!($ instanceof AbortException)){if(this.options.ignoreErrors){warn(`getTextContent - ignoring errors during "${x.name}" task: "${$}".`),te(),re();return}throw $}})}extractDataStructures(d,x,b){const S=this.xref;let w;const C=this.readToUnicode(b.toUnicode||d.get("ToUnicode")||x.get("ToUnicode"));if(b.composite){const L=d.get("CIDSystemInfo");L instanceof Dict&&(b.cidSystemInfo={registry:stringToPDFString(L.get("Registry")),ordering:stringToPDFString(L.get("Ordering")),supplement:L.get("Supplement")});try{const R=d.get("CIDToGIDMap");R instanceof BaseStream&&(w=R.getBytes())}catch(R){if(!this.options.ignoreErrors)throw R;warn(`extractDataStructures - ignoring CIDToGIDMap data: "${R}".`)}}const F=[];let E=null,k;if(d.has("Encoding")){if(k=d.get("Encoding"),k instanceof Dict){if(E=k.get("BaseEncoding"),E=E instanceof Name?E.name:null,k.has("Differences")){const L=k.get("Differences");let R=0;for(const U of L){const j=S.fetchIfRef(U);if(typeof j=="number")R=j;else if(j instanceof Name)F[R++]=j.name;else throw new FormatError(`Invalid entry in 'Differences' array: ${j}`)}}}else if(k instanceof Name)E=k.name;else{const L="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new FormatError(L);warn(L)}E!=="MacRomanEncoding"&&E!=="MacExpertEncoding"&&E!=="WinAnsiEncoding"&&(E=null)}const D=!b.file||b.isInternalFont,M=getSymbolsFonts()[b.name];if(E&&D&&M&&(E=null),E)b.defaultEncoding=getEncoding(E);else{const L=!!(b.flags&FontFlags.Symbolic),R=!!(b.flags&FontFlags.Nonsymbolic);k=StandardEncoding,b.type==="TrueType"&&!R&&(k=WinAnsiEncoding),(L||M)&&(k=MacRomanEncoding,D&&(/Symbol/i.test(b.name)?k=SymbolSetEncoding:/Dingbats/i.test(b.name)?k=ZapfDingbatsEncoding:/Wingdings/i.test(b.name)&&(k=WinAnsiEncoding))),b.defaultEncoding=k}return b.differences=F,b.baseEncodingName=E,b.hasEncoding=!!E||F.length>0,b.dict=d,C.then(L=>(b.toUnicode=L,this.buildToUnicode(b))).then(L=>(b.toUnicode=L,w&&(b.cidToGidMap=this.readCidToGidMap(w,L)),b))}_simpleFontToUnicode(d,x=!1){assert(!d.composite,"Must be a simple font.");const b=[],S=d.defaultEncoding.slice(),w=d.baseEncodingName,C=d.differences;for(const E in C){const k=C[E];k!==".notdef"&&(S[E]=k)}const F=getGlyphsUnicode();for(const E in S){let k=S[E];if(k==="")continue;let D=F[k];if(D!==void 0){b[E]=String.fromCharCode(D);continue}let M=0;switch(k[0]){case"G":k.length===3&&(M=parseInt(k.substring(1),16));break;case"g":k.length===5&&(M=parseInt(k.substring(1),16));break;case"C":case"c":if(k.length>=3&&k.length<=4){const L=k.substring(1);if(x){M=parseInt(L,16);break}if(M=+L,Number.isNaN(M)&&Number.isInteger(parseInt(L,16)))return this._simpleFontToUnicode(d,!0)}break;case"u":D=getUnicodeForGlyph(k,F),D!==-1&&(M=D);break;default:switch(k){case"f_h":case"f_t":case"T_h":b[E]=k.replaceAll("_","");continue}break}if(M>0&&M<=1114111&&Number.isInteger(M)){if(w&&M===+E){const L=getEncoding(w);if(L&&(k=L[E])){b[E]=String.fromCharCode(F[k]);continue}}b[E]=String.fromCodePoint(M)}}return b}async buildToUnicode(d){if(d.hasIncludedToUnicodeMap=d.toUnicode?.length>0,d.hasIncludedToUnicodeMap)return!d.composite&&d.hasEncoding&&(d.fallbackToUnicode=this._simpleFontToUnicode(d)),d.toUnicode;if(!d.composite)return new ToUnicodeMap(this._simpleFontToUnicode(d));if(d.composite&&(d.cMap.builtInCMap&&!(d.cMap instanceof IdentityCMap)||d.cidSystemInfo.registry==="Adobe"&&(d.cidSystemInfo.ordering==="GB1"||d.cidSystemInfo.ordering==="CNS1"||d.cidSystemInfo.ordering==="Japan1"||d.cidSystemInfo.ordering==="Korea1"))){const{registry:x,ordering:b}=d.cidSystemInfo,S=Name.get(`${x}-${b}-UCS2`),w=await CMapFactory.create({encoding:S,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),C=[],F=[];return d.cMap.forEach(function(E,k){if(k>65535)throw new FormatError("Max size of CID is 65,535");const D=w.lookup(k);if(D){F.length=0;for(let M=0,L=D.length;M<L;M+=2)F.push((D.charCodeAt(M)<<8)+D.charCodeAt(M+1));C[E]=String.fromCharCode(...F)}}),new ToUnicodeMap(C)}return new IdentityToUnicodeMap(d.firstChar,d.lastChar)}readToUnicode(d){return d?d instanceof Name?CMapFactory.create({encoding:d,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(x){return x instanceof IdentityCMap?new IdentityToUnicodeMap(0,65535):new ToUnicodeMap(x.getMap())}):d instanceof BaseStream?CMapFactory.create({encoding:d,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(x){if(x instanceof IdentityCMap)return new IdentityToUnicodeMap(0,65535);const b=new Array(x.length);return x.forEach(function(S,w){if(typeof w=="number"){b[S]=String.fromCodePoint(w);return}const C=[];for(let F=0;F<w.length;F+=2){const E=w.charCodeAt(F)<<8|w.charCodeAt(F+1);if((E&63488)!==55296){C.push(E);continue}F+=2;const k=w.charCodeAt(F)<<8|w.charCodeAt(F+1);C.push(((E&1023)<<10)+(k&1023)+65536)}b[S]=String.fromCodePoint(...C)}),new ToUnicodeMap(b)},x=>{if(x instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`readToUnicode - ignoring ToUnicode data: "${x}".`),null;throw x}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(d,x){const b=[];for(let S=0,w=d.length;S<w;S++){const C=d[S++]<<8|d[S],F=S>>1;C===0&&!x.has(F)||(b[F]=C)}return b}extractWidths(d,x,b){const S=this.xref;let w=[],C=0;const F=[];let E,k,D,M,L,R,U,j;if(b.composite){if(C=d.has("DW")?d.get("DW"):1e3,j=d.get("W"),j)for(k=0,D=j.length;k<D;k++)if(R=S.fetchIfRef(j[k++]),U=S.fetchIfRef(j[k]),Array.isArray(U))for(M=0,L=U.length;M<L;M++)w[R++]=S.fetchIfRef(U[M]);else{const z=S.fetchIfRef(j[++k]);for(M=R;M<=U;M++)w[M]=z}if(b.vertical){let z=d.getArray("DW2")||[880,-1e3];if(E=[z[1],C*.5,z[0]],z=d.get("W2"),z)for(k=0,D=z.length;k<D;k++)if(R=S.fetchIfRef(z[k++]),U=S.fetchIfRef(z[k]),Array.isArray(U))for(M=0,L=U.length;M<L;M++)F[R++]=[S.fetchIfRef(U[M++]),S.fetchIfRef(U[M++]),S.fetchIfRef(U[M])];else{const G=[S.fetchIfRef(z[++k]),S.fetchIfRef(z[++k]),S.fetchIfRef(z[++k])];for(M=R;M<=U;M++)F[M]=G}}}else{const z=b.firstChar;if(j=d.get("Widths"),j){for(M=z,k=0,D=j.length;k<D;k++)w[M++]=S.fetchIfRef(j[k]);C=parseFloat(x.get("MissingWidth"))||0}else{const G=d.get("BaseFont");if(G instanceof Name){const X=this.getBaseFontMetrics(G.name);w=this.buildCharCodeToWidth(X.widths,b),C=X.defaultWidth}}}let H=!0,V=C;for(const z in w){const G=w[z];if(G){if(!V){V=G;continue}if(V!==G){H=!1;break}}}H?b.flags|=FontFlags.FixedPitch:b.flags&=~FontFlags.FixedPitch,b.defaultWidth=C,b.widths=w,b.defaultVMetrics=E,b.vmetrics=F}isSerifFont(d){const x=d.split("-")[0];return x in getSerifFonts()||/serif/gi.test(x)}getBaseFontMetrics(d){let x=0,b=Object.create(null),S=!1,C=getStdFontMap()[d]||d;const F=getMetrics();C in F||(C=this.isSerifFont(d)?"Times-Roman":"Helvetica");const E=F[C];return typeof E=="number"?(x=E,S=!0):b=E(),{defaultWidth:x,monospace:S,widths:b}}buildCharCodeToWidth(d,x){const b=Object.create(null),S=x.differences,w=x.defaultEncoding;for(let C=0;C<256;C++){if(C in S&&d[S[C]]){b[C]=d[S[C]];continue}if(C in w&&d[w[C]]){b[C]=d[w[C]];continue}}return b}preEvaluateFont(d){const x=d;let b=d.get("Subtype");if(!(b instanceof Name))throw new FormatError("invalid font Subtype");let S=!1,w,C;if(b.name==="Type0"){const D=d.get("DescendantFonts");if(!D)throw new FormatError("Descendant fonts are not specified");if(d=Array.isArray(D)?this.xref.fetchIfRef(D[0]):D,!(d instanceof Dict))throw new FormatError("Descendant font is not a dictionary.");if(b=d.get("Subtype"),!(b instanceof Name))throw new FormatError("invalid font Subtype");S=!0}const F=d.get("FirstChar")||0,E=d.get("LastChar")||(S?65535:255),k=d.get("FontDescriptor");if(k){w=new MurmurHash3_64;const D=x.getRaw("Encoding");if(D instanceof Name)w.update(D.name);else if(D instanceof Ref)w.update(D.toString());else if(D instanceof Dict){for(const L of D.getRawValues())if(L instanceof Name)w.update(L.name);else if(L instanceof Ref)w.update(L.toString());else if(Array.isArray(L)){const R=L.length,U=new Array(R);for(let j=0;j<R;j++){const H=L[j];H instanceof Name?U[j]=H.name:(typeof H=="number"||H instanceof Ref)&&(U[j]=H.toString())}w.update(U.join())}}if(w.update(`${F}-${E}`),C=d.get("ToUnicode")||x.get("ToUnicode"),C instanceof BaseStream){const L=C.str||C,R=L.buffer?new Uint8Array(L.buffer.buffer,0,L.bufferLength):new Uint8Array(L.bytes.buffer,L.start,L.end-L.start);w.update(R)}else C instanceof Name&&w.update(C.name);const M=d.get("Widths")||x.get("Widths");if(Array.isArray(M)){const L=[];for(const R of M)(typeof R=="number"||R instanceof Ref)&&L.push(R.toString());w.update(L.join())}if(S){w.update("compositeFont");const L=d.get("W")||x.get("W");if(Array.isArray(L)){const U=[];for(const j of L)if(typeof j=="number"||j instanceof Ref)U.push(j.toString());else if(Array.isArray(j)){const H=[];for(const V of j)(typeof V=="number"||V instanceof Ref)&&H.push(V.toString());U.push(`[${H.join()}]`)}w.update(U.join())}const R=d.getRaw("CIDToGIDMap")||x.getRaw("CIDToGIDMap");R instanceof Name?w.update(R.name):R instanceof Ref?w.update(R.toString()):R instanceof BaseStream&&w.update(R.peekBytes())}}return{descriptor:k,dict:d,baseDict:x,composite:S,type:b.name,firstChar:F,lastChar:E,toUnicode:C,hash:w?w.hexdigest():""}}async translateFont({descriptor:d,dict:x,baseDict:b,composite:S,type:w,firstChar:C,lastChar:F,toUnicode:E,cssFontInfo:k}){const D=w==="Type3";let M;if(!d)if(D)d=new Dict(null),d.set("FontName",Name.get(w)),d.set("FontBBox",x.getArray("FontBBox")||[0,0,0,0]);else{let ie=x.get("BaseFont");if(!(ie instanceof Name))throw new FormatError("Base font is not specified");ie=ie.name.replaceAll(/[,_]/g,"-");const oe=this.getBaseFontMetrics(ie),he=ie.split("-")[0],fe=(this.isSerifFont(he)?FontFlags.Serif:0)|(oe.monospace?FontFlags.FixedPitch:0)|(getSymbolsFonts()[he]?FontFlags.Symbolic:FontFlags.Nonsymbolic);M={type:w,name:ie,loadedName:b.loadedName,systemFontInfo:null,widths:oe.widths,defaultWidth:oe.defaultWidth,isSimulatedFlags:!0,flags:fe,firstChar:C,lastChar:F,toUnicode:E,xHeight:0,capHeight:0,italicAngle:0,isType3Font:D};const Se=x.get("Widths"),we=getStandardFontName(ie);let Ee=null;return we&&(Ee=await this.fetchStandardFontData(we),M.isInternalFont=!!Ee),!M.isInternalFont&&this.options.useSystemFonts&&(M.systemFontInfo=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,ie,we)),this.extractDataStructures(x,x,M).then(de=>{if(Se){const xe=[];let Te=C;for(const Oe of Se)xe[Te++]=this.xref.fetchIfRef(Oe);de.widths=xe}else de.widths=this.buildCharCodeToWidth(oe.widths,de);return new Font$2(ie,Ee,de)})}let L=d.get("FontName"),R=x.get("BaseFont");typeof L=="string"&&(L=Name.get(L)),typeof R=="string"&&(R=Name.get(R));const U=L?.name,j=R?.name;if(!D&&U!==j&&(info(`The FontDescriptor's FontName is "${U}" but should be the same as the Font's BaseFont "${j}".`),U&&j&&(j.startsWith(U)||!isKnownFontName(U)&&isKnownFontName(j))&&(L=null)),L||=R,!(L instanceof Name))throw new FormatError("invalid font name");let H,V,z,G,X;try{H=d.get("FontFile","FontFile2","FontFile3")}catch(ie){if(!this.options.ignoreErrors)throw ie;warn(`translateFont - fetching "${L.name}" font file: "${ie}".`),H=new NullStream}let Y=!1,J=null,ee=null;if(H){if(H.dict){const ie=H.dict.get("Subtype");ie instanceof Name&&(V=ie.name),z=H.dict.get("Length1"),G=H.dict.get("Length2"),X=H.dict.get("Length3")}}else if(k){const ie=getXfaFontName(L.name);ie&&(k.fontFamily=`${k.fontFamily}-PdfJS-XFA`,k.metrics=ie.metrics||null,J=ie.factors||null,H=await this.fetchStandardFontData(ie.name),Y=!!H,b=x=getXfaFontDict(L.name),S=!0)}else if(!D){const ie=getStandardFontName(L.name);ie&&(H=await this.fetchStandardFontData(ie),Y=!!H),!Y&&this.options.useSystemFonts&&(ee=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,L.name,ie))}if(M={type:w,name:L.name,subtype:V,file:H,length1:z,length2:G,length3:X,isInternalFont:Y,loadedName:b.loadedName,composite:S,fixedPitch:!1,fontMatrix:x.getArray("FontMatrix")||FONT_IDENTITY_MATRIX,firstChar:C,lastChar:F,toUnicode:E,bbox:d.getArray("FontBBox")||x.getArray("FontBBox"),ascent:d.get("Ascent"),descent:d.get("Descent"),xHeight:d.get("XHeight")||0,capHeight:d.get("CapHeight")||0,flags:d.get("Flags"),italicAngle:d.get("ItalicAngle")||0,isType3Font:D,cssFontInfo:k,scaleFactors:J,systemFontInfo:ee},S){const ie=b.get("Encoding");ie instanceof Name&&(M.cidEncoding=ie.name);const oe=await CMapFactory.create({encoding:ie,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});M.cMap=oe,M.vertical=M.cMap.vertical}return this.extractDataStructures(x,b,M).then(ie=>(this.extractWidths(x,d,ie),new Font$2(L.name,H,ie)))}static buildFontPaths(d,x,b,S){function w(C){const F=`${d.loadedName}_path_${C}`;try{if(d.renderer.hasBuiltPath(C))return;b.send("commonobj",[F,"FontPath",d.renderer.getPathJs(C)])}catch(E){if(S.ignoreErrors){warn(`buildFontPaths - ignoring ${F} glyph: "${E}".`);return}throw E}}for(const C of x){w(C.fontChar);const F=C.accent;F?.fontChar&&w(F.fontChar)}}static get fallbackFontDict(){const d=new Dict;return d.set("BaseFont",Name.get("Helvetica")),d.set("Type",Name.get("FallbackType")),d.set("Subtype",Name.get("FallbackType")),d.set("Encoding",Name.get("WinAnsiEncoding")),shadow(this,"fallbackFontDict",d)}}class TranslatedFont{constructor({loadedName:d,font:x,dict:b,evaluatorOptions:S}){this.loadedName=d,this.font=x,this.dict=b,this._evaluatorOptions=S||DefaultPartialEvaluatorOptions,this.type3Loaded=null,this.type3Dependencies=x.isType3Font?new Set:null,this.sent=!1}send(d){this.sent||(this.sent=!0,d.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(d){this.font.data&&(this.font.disableFontFace=!0,PartialEvaluator.buildFontPaths(this.font,this.font.glyphCacheValues,d,this._evaluatorOptions))}loadType3Data(d,x,b){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const S=d.clone({ignoreErrors:!1});S.parsingType3Font=!0;const w=new RefSet(d.type3FontRefs);this.dict.objId&&!w.has(this.dict.objId)&&w.put(this.dict.objId),S.type3FontRefs=w;const C=this.font,F=this.type3Dependencies;let E=Promise.resolve();const k=this.dict.get("CharProcs"),D=this.dict.get("Resources")||x,M=Object.create(null),L=Util.normalizeRect(C.bbox||[0,0,0,0]),R=L[2]-L[0],U=L[3]-L[1],j=Math.hypot(R,U);for(const H of k.getKeys())E=E.then(()=>{const V=k.get(H),z=new OperatorList;return S.getOperatorList({stream:V,task:b,resources:D,operatorList:z}).then(()=>{z.fnArray[0]===OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(z,j),M[H]=z.getIR();for(const G of z.dependencies)F.add(G)}).catch(function(G){warn(`Type3 font resource "${H}" is not available.`);const X=new OperatorList;M[H]=X.getIR()})});return this.type3Loaded=E.then(()=>{C.charProcOperatorList=M,this._bbox&&(C.isCharBBox=!0,C.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(d,x=NaN){const b=Util.normalizeRect(d.argsArray[0].slice(2)),S=b[2]-b[0],w=b[3]-b[1],C=Math.hypot(S,w);S===0||w===0?(d.fnArray.splice(0,1),d.argsArray.splice(0,1)):(x===0||Math.round(C/x)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],b[0]),this._bbox[1]=Math.min(this._bbox[1],b[1]),this._bbox[2]=Math.max(this._bbox[2],b[2]),this._bbox[3]=Math.max(this._bbox[3],b[3]));let F=0,E=d.length;for(;F<E;){switch(d.fnArray[F]){case OPS.setCharWidthAndBounds:break;case OPS.setStrokeColorSpace:case OPS.setFillColorSpace:case OPS.setStrokeColor:case OPS.setStrokeColorN:case OPS.setFillColor:case OPS.setFillColorN:case OPS.setStrokeGray:case OPS.setFillGray:case OPS.setStrokeRGBColor:case OPS.setFillRGBColor:case OPS.setStrokeCMYKColor:case OPS.setFillCMYKColor:case OPS.shadingFill:case OPS.setRenderingIntent:d.fnArray.splice(F,1),d.argsArray.splice(F,1),E--;continue;case OPS.setGState:const[k]=d.argsArray[F];let D=0,M=k.length;for(;D<M;){const[L]=k[D];switch(L){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":k.splice(D,1),M--;continue}D++}break}F++}}}class StateManager{constructor(d=new EvalState){this.state=d,this.stateStack=[]}save(){const d=this.state;this.stateStack.push(this.state),this.state=d.clone()}restore(){const d=this.stateStack.pop();d&&(this.state=d)}transform(d){this.state.ctm=Util.transform(this.state.ctm,d)}}class TextState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=FONT_IDENTITY_MATRIX,this.textMatrix=IDENTITY_MATRIX.slice(),this.textLineMatrix=IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(d,x,b,S,w,C){const F=this.textMatrix;F[0]=d,F[1]=x,F[2]=b,F[3]=S,F[4]=w,F[5]=C}setTextLineMatrix(d,x,b,S,w,C){const F=this.textLineMatrix;F[0]=d,F[1]=x,F[2]=b,F[3]=S,F[4]=w,F[5]=C}translateTextMatrix(d,x){const b=this.textMatrix;b[4]=b[0]*d+b[2]*x+b[4],b[5]=b[1]*d+b[3]*x+b[5]}translateTextLineMatrix(d,x){const b=this.textLineMatrix;b[4]=b[0]*d+b[2]*x+b[4],b[5]=b[1]*d+b[3]*x+b[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const d=Object.create(this);return d.textMatrix=this.textMatrix.slice(),d.textLineMatrix=this.textLineMatrix.slice(),d.fontMatrix=this.fontMatrix.slice(),d}}class EvalState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.font=null,this.textRenderingMode=TextRenderingMode$1.FILL,this.fillColorSpace=ColorSpace$1.singletons.gray,this.strokeColorSpace=ColorSpace$1.singletons.gray}clone(){return Object.create(this)}}class EvaluatorPreprocessor{static get opMap(){return shadow(this,"opMap",{w:{id:OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:OPS.setGState,numArgs:1,variableArgs:!1},q:{id:OPS.save,numArgs:0,variableArgs:!1},Q:{id:OPS.restore,numArgs:0,variableArgs:!1},cm:{id:OPS.transform,numArgs:6,variableArgs:!1},m:{id:OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:OPS.closePath,numArgs:0,variableArgs:!1},re:{id:OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:OPS.stroke,numArgs:0,variableArgs:!1},s:{id:OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:OPS.fill,numArgs:0,variableArgs:!1},F:{id:OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:OPS.endPath,numArgs:0,variableArgs:!1},W:{id:OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}static MAX_INVALID_PATH_OPS=10;constructor(d,x,b=new StateManager){this.parser=new Parser$1({lexer:new Lexer(d,EvaluatorPreprocessor.opMap),xref:x}),this.stateManager=b,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(d){let x=d.args;for(;;){const b=this.parser.getObj();if(b instanceof Cmd){const S=b.cmd,w=EvaluatorPreprocessor.opMap[S];if(!w){warn(`Unknown command "${S}".`);continue}const C=w.id,F=w.numArgs;let E=x!==null?x.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=C>=OPS.moveTo&&C<=OPS.endPath,w.variableArgs)E>F&&info(`Command ${S}: expected [0, ${F}] args, but received ${E} args.`);else{if(E!==F){const k=this.nonProcessedArgs;for(;E>F;)k.push(x.shift()),E--;for(;E<F&&k.length!==0;)x===null&&(x=[]),x.unshift(k.pop()),E++}if(E<F){const k=`command ${S}: expected ${F} args, but received ${E} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>EvaluatorPreprocessor.MAX_INVALID_PATH_OPS)throw new FormatError(`Invalid ${k}`);warn(`Skipping ${k}`),x!==null&&(x.length=0);continue}}return this.preprocessCommand(C,x),d.fn=C,d.args=x,!0}if(b===EOF)return!1;if(b!==null&&(x===null&&(x=[]),x.push(b),x.length>33))throw new FormatError("Too many arguments")}}preprocessCommand(d,x){switch(d|0){case OPS.save:this.stateManager.save();break;case OPS.restore:this.stateManager.restore();break;case OPS.transform:this.stateManager.transform(x);break}}}class DefaultAppearanceEvaluator extends EvaluatorPreprocessor{constructor(d){super(new StringStream(d))}parse(){const d={fn:0,args:[]},x={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;d.args.length=0,!!this.read(d);){if(this.savedStatesDepth!==0)continue;const{fn:b,args:S}=d;switch(b|0){case OPS.setFont:const[w,C]=S;w instanceof Name&&(x.fontName=w.name),typeof C=="number"&&C>0&&(x.fontSize=C);break;case OPS.setFillRGBColor:ColorSpace$1.singletons.rgb.getRgbItem(S,0,x.fontColor,0);break;case OPS.setFillGray:ColorSpace$1.singletons.gray.getRgbItem(S,0,x.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace$1.singletons.cmyk.getRgbItem(S,0,x.fontColor,0);break}}}catch(b){warn(`parseDefaultAppearance - ignoring errors: "${b}".`)}return x}}function parseDefaultAppearance(g){return new DefaultAppearanceEvaluator(g).parse()}class AppearanceStreamEvaluator extends EvaluatorPreprocessor{constructor(d,x,b){super(d),this.stream=d,this.evaluatorOptions=x,this.xref=b,this.resources=d.dict?.get("Resources")}parse(){const d={fn:0,args:[]};let x={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:ColorSpace$1.singletons.gray},b=!1;const S=[];try{for(;d.args.length=0,!(b||!this.read(d));){const{fn:w,args:C}=d;switch(w|0){case OPS.save:S.push({scaleFactor:x.scaleFactor,fontSize:x.fontSize,fontName:x.fontName,fontColor:x.fontColor.slice(),fillColorSpace:x.fillColorSpace});break;case OPS.restore:x=S.pop()||x;break;case OPS.setTextMatrix:x.scaleFactor*=Math.hypot(C[0],C[1]);break;case OPS.setFont:const[F,E]=C;F instanceof Name&&(x.fontName=F.name),typeof E=="number"&&E>0&&(x.fontSize=E*x.scaleFactor);break;case OPS.setFillColorSpace:x.fillColorSpace=ColorSpace$1.parse({cs:C[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case OPS.setFillColor:x.fillColorSpace.getRgbItem(C,0,x.fontColor,0);break;case OPS.setFillRGBColor:ColorSpace$1.singletons.rgb.getRgbItem(C,0,x.fontColor,0);break;case OPS.setFillGray:ColorSpace$1.singletons.gray.getRgbItem(C,0,x.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace$1.singletons.cmyk.getRgbItem(C,0,x.fontColor,0);break;case OPS.showText:case OPS.showSpacedText:case OPS.nextLineShowText:case OPS.nextLineSetSpacingShowText:b=!0;break}}}catch(w){warn(`parseAppearanceStream - ignoring errors: "${w}".`)}return this.stream.reset(),delete x.scaleFactor,delete x.fillColorSpace,x}get _localColorSpaceCache(){return shadow(this,"_localColorSpaceCache",new LocalColorSpaceCache)}get _pdfFunctionFactory(){const d=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return shadow(this,"_pdfFunctionFactory",d)}}function parseAppearanceStream(g,d,x){return new AppearanceStreamEvaluator(g,d,x).parse()}function getPdfColor(g,d){if(g[0]===g[1]&&g[1]===g[2]){const x=g[0]/255;return`${numberToString$1(x)} ${d?"g":"G"}`}return Array.from(g,x=>numberToString$1(x/255)).join(" ")+` ${d?"rg":"RG"}`}function createDefaultAppearance({fontSize:g,fontName:d,fontColor:x}){return`/${escapePDFName(d)} ${g} Tf ${getPdfColor(x,!0)}`}class FakeUnicodeFont{constructor(d,x){this.xref=d,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=x;const b=new OffscreenCanvas(1,1);this.ctxMeasure=b.getContext("2d"),FakeUnicodeFont._fontNameId||(FakeUnicodeFont._fontNameId=1),this.fontName=Name.get(`InvalidPDFjsFont_${x}_${FakeUnicodeFont._fontNameId++}`)}get toUnicodeRef(){if(!FakeUnicodeFont._toUnicodeRef){const d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,x=FakeUnicodeFont.toUnicodeStream=new StringStream(d),b=new Dict(this.xref);x.dict=b,b.set("Length",d.length),FakeUnicodeFont._toUnicodeRef=this.xref.getNewPersistentRef(x)}return FakeUnicodeFont._toUnicodeRef}get fontDescriptorRef(){if(!FakeUnicodeFont._fontDescriptorRef){const d=new Dict(this.xref);d.set("Type",Name.get("FontDescriptor")),d.set("FontName",this.fontName),d.set("FontFamily","MyriadPro Regular"),d.set("FontBBox",[0,0,0,0]),d.set("FontStretch",Name.get("Normal")),d.set("FontWeight",400),d.set("ItalicAngle",0),FakeUnicodeFont._fontDescriptorRef=this.xref.getNewPersistentRef(d)}return FakeUnicodeFont._fontDescriptorRef}get descendantFontRef(){const d=new Dict(this.xref);d.set("BaseFont",this.fontName),d.set("Type",Name.get("Font")),d.set("Subtype",Name.get("CIDFontType0")),d.set("CIDToGIDMap",Name.get("Identity")),d.set("FirstChar",this.firstChar),d.set("LastChar",this.lastChar),d.set("FontDescriptor",this.fontDescriptorRef),d.set("DW",1e3);const x=[],b=[...this.widths.entries()].sort();let S=null,w=null;for(const[F,E]of b){if(!S){S=F,w=[E];continue}F===S+w.length?w.push(E):(x.push(S,w),S=F,w=[E])}S&&x.push(S,w),d.set("W",x);const C=new Dict(this.xref);return C.set("Ordering","Identity"),C.set("Registry","Adobe"),C.set("Supplement",0),d.set("CIDSystemInfo",C),this.xref.getNewPersistentRef(d)}get baseFontRef(){const d=new Dict(this.xref);return d.set("BaseFont",this.fontName),d.set("Type",Name.get("Font")),d.set("Subtype",Name.get("Type0")),d.set("Encoding",Name.get("Identity-H")),d.set("DescendantFonts",[this.descendantFontRef]),d.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(d)}get resources(){const d=new Dict(this.xref),x=new Dict(this.xref);return x.set(this.fontName.name,this.baseFontRef),d.set("Font",x),d}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(d){const x=this._createContext();for(const b of d.split(/\r\n?|\n/))for(const S of b.split("")){const w=S.charCodeAt(0);if(this.widths.has(w))continue;const C=x.measureText(S),F=Math.ceil(C.width);this.widths.set(w,F),this.firstChar=Math.min(w,this.firstChar),this.lastChar=Math.max(w,this.lastChar)}return this.resources}createAppearance(d,x,b,S,w,C){const F=this._createContext(),E=[];let k=-1/0;for(const we of d.split(/\r\n?|\n/)){E.push(we);const Ee=F.measureText(we).width;k=Math.max(k,Ee);for(const de of we.split("")){const xe=de.charCodeAt(0);let Te=this.widths.get(xe);if(Te===void 0){const Oe=F.measureText(de);Te=Math.ceil(Oe.width),this.widths.set(xe,Te),this.firstChar=Math.min(xe,this.firstChar),this.lastChar=Math.max(xe,this.lastChar)}}}k*=S/1e3;const[D,M,L,R]=x;let U=L-D,j=R-M;b%180!==0&&([U,j]=[j,U]);let H=1;k>U&&(H=U/k);let V=1;const z=LINE_FACTOR*S,G=LINE_DESCENT_FACTOR*S,X=z*E.length;X>j&&(V=j/X);const Y=Math.min(H,V),J=S*Y,ee=["q",`0 0 ${numberToString$1(U)} ${numberToString$1(j)} re W n`,"BT",`1 0 0 1 0 ${numberToString$1(j+G)} Tm 0 Tc ${getPdfColor(w,!0)}`,`/${this.fontName.name} ${numberToString$1(J)} Tf`],{resources:ie}=this;if(C=typeof C=="number"&&C>=0&&C<=1?C:1,C!==1){ee.push("/R0 gs");const we=new Dict(this.xref),Ee=new Dict(this.xref);Ee.set("ca",C),Ee.set("CA",C),Ee.set("Type",Name.get("ExtGState")),we.set("R0",Ee),ie.set("ExtGState",we)}const oe=numberToString$1(z);for(const we of E)ee.push(`0 -${oe} Td <${stringToUTF16HexString(we)}> Tj`);ee.push("ET","Q");const he=ee.join(`
`),fe=new Dict(this.xref);if(fe.set("Subtype",Name.get("Form")),fe.set("Type",Name.get("XObject")),fe.set("BBox",[0,0,U,j]),fe.set("Length",he.length),fe.set("Resources",ie),b){const we=getRotationMatrix(b,U,j);fe.set("Matrix",we)}const Se=new StringStream(he);return Se.dict=fe,Se}}class NameOrNumberTree{constructor(d,x,b){this.constructor===NameOrNumberTree&&unreachable("Cannot initialize NameOrNumberTree."),this.root=d,this.xref=x,this._type=b}getAll(){const d=new Map;if(!this.root)return d;const x=this.xref,b=new RefSet;b.put(this.root);const S=[this.root];for(;S.length>0;){const w=x.fetchIfRef(S.shift());if(!(w instanceof Dict))continue;if(w.has("Kids")){const F=w.get("Kids");if(!Array.isArray(F))continue;for(const E of F){if(b.has(E))throw new FormatError(`Duplicate entry in "${this._type}" tree.`);S.push(E),b.put(E)}continue}const C=w.get(this._type);if(Array.isArray(C))for(let F=0,E=C.length;F<E;F+=2)d.set(x.fetchIfRef(C[F]),x.fetchIfRef(C[F+1]))}return d}get(d){if(!this.root)return null;const x=this.xref;let b=x.fetchIfRef(this.root),S=0;const w=10;for(;b.has("Kids");){if(++S>w)return warn(`Search depth limit reached for "${this._type}" tree.`),null;const F=b.get("Kids");if(!Array.isArray(F))return null;let E=0,k=F.length-1;for(;E<=k;){const D=E+k>>1,M=x.fetchIfRef(F[D]),L=M.get("Limits");if(d<x.fetchIfRef(L[0]))k=D-1;else if(d>x.fetchIfRef(L[1]))E=D+1;else{b=M;break}}if(E>k)return null}const C=b.get(this._type);if(Array.isArray(C)){let F=0,E=C.length-2;for(;F<=E;){const k=F+E>>1,D=k+(k&1),M=x.fetchIfRef(C[D]);if(d<M)E=D-2;else if(d>M)F=D+2;else return x.fetchIfRef(C[D+1])}}return null}}class NameTree extends NameOrNumberTree{constructor(d,x){super(d,x,"Names")}}class NumberTree extends NameOrNumberTree{constructor(d,x){super(d,x,"Nums")}}function clearGlobalCaches(){clearPatternCaches(),clearPrimitiveCaches(),clearUnicodeCaches()}function pickPlatformItem(g){return g.has("UF")?g.get("UF"):g.has("F")?g.get("F"):g.has("Unix")?g.get("Unix"):g.has("Mac")?g.get("Mac"):g.has("DOS")?g.get("DOS"):null}class FileSpec{constructor(d,x){d instanceof Dict&&(this.xref=x,this.root=d,d.has("FS")&&(this.fs=d.get("FS")),this.description=d.has("Desc")?stringToPDFString(d.get("Desc")):"",d.has("RF")&&warn("Related file specifications are not supported"),this.contentAvailable=!0,d.has("EF")||(this.contentAvailable=!1,warn("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const d=pickPlatformItem(this.root)||"unnamed";this._filename=stringToPDFString(d).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=pickPlatformItem(this.root.get("EF")));let d=null;if(this.contentRef){const x=this.xref.fetchIfRef(this.contentRef);x instanceof BaseStream?d=x.getBytes():warn("Embedded file specification points to non-existing/invalid content")}else warn("Embedded file specification does not have a content");return d}get serializable(){return{filename:this.filename,content:this.content}}}const XMLParserErrorCode={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function isWhitespace(g,d){const x=g[d];return x===" "||x===`
`||x==="\r"||x==="	"}function isWhitespaceString(g){for(let d=0,x=g.length;d<x;d++)if(!isWhitespace(g,d))return!1;return!0}class XMLParserBase{_resolveEntities(d){return d.replaceAll(/&([^;]+);/g,(x,b)=>{if(b.substring(0,2)==="#x")return String.fromCodePoint(parseInt(b.substring(2),16));if(b.substring(0,1)==="#")return String.fromCodePoint(parseInt(b.substring(1),10));switch(b){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(b)})}_parseContent(d,x){const b=[];let S=x;function w(){for(;S<d.length&&isWhitespace(d,S);)++S}for(;S<d.length&&!isWhitespace(d,S)&&d[S]!==">"&&d[S]!=="/";)++S;const C=d.substring(x,S);for(w();S<d.length&&d[S]!==">"&&d[S]!=="/"&&d[S]!=="?";){w();let F="",E="";for(;S<d.length&&!isWhitespace(d,S)&&d[S]!=="=";)F+=d[S],++S;if(w(),d[S]!=="=")return null;++S,w();const k=d[S];if(k!=='"'&&k!=="'")return null;const D=d.indexOf(k,++S);if(D<0)return null;E=d.substring(S,D),b.push({name:F,value:this._resolveEntities(E)}),S=D+1,w()}return{name:C,attributes:b,parsed:S-x}}_parseProcessingInstruction(d,x){let b=x;function S(){for(;b<d.length&&isWhitespace(d,b);)++b}for(;b<d.length&&!isWhitespace(d,b)&&d[b]!==">"&&d[b]!=="?"&&d[b]!=="/";)++b;const w=d.substring(x,b);S();const C=b;for(;b<d.length&&(d[b]!=="?"||d[b+1]!==">");)++b;const F=d.substring(C,b);return{name:w,value:F,parsed:b-x}}parseXml(d){let x=0;for(;x<d.length;){const b=d[x];let S=x;if(b==="<"){++S;const w=d[S];let C;switch(w){case"/":if(++S,C=d.indexOf(">",S),C<0){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onEndElement(d.substring(S,C)),S=C+1;break;case"?":++S;const F=this._parseProcessingInstruction(d,S);if(d.substring(S+F.parsed,S+F.parsed+2)!=="?>"){this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);return}this.onPi(F.name,F.value),S+=F.parsed+2;break;case"!":if(d.substring(S+1,S+3)==="--"){if(C=d.indexOf("-->",S+3),C<0){this.onError(XMLParserErrorCode.UnterminatedComment);return}this.onComment(d.substring(S+3,C)),S=C+3}else if(d.substring(S+1,S+8)==="[CDATA["){if(C=d.indexOf("]]>",S+8),C<0){this.onError(XMLParserErrorCode.UnterminatedCdat);return}this.onCdata(d.substring(S+8,C)),S=C+3}else if(d.substring(S+1,S+8)==="DOCTYPE"){const D=d.indexOf("[",S+8);let M=!1;if(C=d.indexOf(">",S+8),C<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}if(D>0&&C>D){if(C=d.indexOf("]>",S+8),C<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}M=!0}const L=d.substring(S+8,C+(M?1:0));this.onDoctype(L),S=C+(M?2:1)}else{this.onError(XMLParserErrorCode.MalformedElement);return}break;default:const E=this._parseContent(d,S);if(E===null){this.onError(XMLParserErrorCode.MalformedElement);return}let k=!1;if(d.substring(S+E.parsed,S+E.parsed+2)==="/>")k=!0;else if(d.substring(S+E.parsed,S+E.parsed+1)!==">"){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onBeginElement(E.name,E.attributes,k),S+=E.parsed+(k?2:1);break}}else{for(;S<d.length&&d[S]!=="<";)S++;const w=d.substring(x,S);this.onText(this._resolveEntities(w))}x=S}}onResolveEntity(d){return`&${d};`}onPi(d,x){}onComment(d){}onCdata(d){}onDoctype(d){}onText(d){}onBeginElement(d,x,b){}onEndElement(d){}onError(d){}}class SimpleDOMNode{constructor(d,x){this.nodeName=d,this.nodeValue=x,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes?.[0]}get nextSibling(){const d=this.parentNode.childNodes;if(!d)return;const x=d.indexOf(this);if(x!==-1)return d[x+1]}get textContent(){return this.childNodes?this.childNodes.map(function(d){return d.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes?.length>0}searchNode(d,x){if(x>=d.length)return this;const b=d[x];if(b.name.startsWith("#")&&x<d.length-1)return this.searchNode(d,x+1);const S=[];let w=this;for(;;){if(b.name===w.nodeName)if(b.pos===0){const C=w.searchNode(d,x+1);if(C!==null)return C}else{if(S.length===0)return null;{const[C]=S.pop();let F=0;for(const E of C.childNodes)if(b.name===E.nodeName){if(F===b.pos)return E.searchNode(d,x+1);F++}return w.searchNode(d,x+1)}}if(w.childNodes?.length>0)S.push([w,0]),w=w.childNodes[0];else{if(S.length===0)return null;for(;S.length!==0;){const[C,F]=S.pop(),E=F+1;if(E<C.childNodes.length){S.push([C,E]),w=C.childNodes[E];break}}if(S.length===0)return null}}}dump(d){if(this.nodeName==="#text"){d.push(encodeToXmlString(this.nodeValue));return}if(d.push(`<${this.nodeName}`),this.attributes)for(const x of this.attributes)d.push(` ${x.name}="${encodeToXmlString(x.value)}"`);if(this.hasChildNodes()){d.push(">");for(const x of this.childNodes)x.dump(d);d.push(`</${this.nodeName}>`)}else this.nodeValue?d.push(`>${encodeToXmlString(this.nodeValue)}</${this.nodeName}>`):d.push("/>")}}class SimpleXMLParser extends XMLParserBase{constructor({hasAttributes:d=!1,lowerCaseName:x=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=XMLParserErrorCode.NoError,this._hasAttributes=d,this._lowerCaseName=x}parseFromString(d){if(this._currentFragment=[],this._stack=[],this._errorCode=XMLParserErrorCode.NoError,this.parseXml(d),this._errorCode!==XMLParserErrorCode.NoError)return;const[x]=this._currentFragment;if(x)return{documentElement:x}}onText(d){if(isWhitespaceString(d))return;const x=new SimpleDOMNode("#text",d);this._currentFragment.push(x)}onCdata(d){const x=new SimpleDOMNode("#text",d);this._currentFragment.push(x)}onBeginElement(d,x,b){this._lowerCaseName&&(d=d.toLowerCase());const S=new SimpleDOMNode(d);S.childNodes=[],this._hasAttributes&&(S.attributes=x),this._currentFragment.push(S),!b&&(this._stack.push(this._currentFragment),this._currentFragment=S.childNodes)}onEndElement(d){this._currentFragment=this._stack.pop()||[];const x=this._currentFragment.at(-1);if(!x)return null;for(const b of x.childNodes)b.parentNode=x;return x}onError(d){this._errorCode=d}}class MetadataParser{constructor(d){d=this._repair(d);const b=new SimpleXMLParser({lowerCaseName:!0}).parseFromString(d);this._metadataMap=new Map,this._data=d,b&&this._parse(b)}_repair(d){return d.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(x,b){const S=b.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(C,F,E,k){return String.fromCharCode(F*64+E*8+k*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(C,F){switch(F){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${F} isn't defined.`)}),w=[">"];for(let C=0,F=S.length;C<F;C+=2){const E=S.charCodeAt(C)*256+S.charCodeAt(C+1);E>=32&&E<127&&E!==60&&E!==62&&E!==38?w.push(String.fromCharCode(E)):w.push("&#x"+(65536+E).toString(16).substring(1)+";")}return w.join("")})}_getSequence(d){const x=d.nodeName;return x!=="rdf:bag"&&x!=="rdf:seq"&&x!=="rdf:alt"?null:d.childNodes.filter(b=>b.nodeName==="rdf:li")}_parseArray(d){if(!d.hasChildNodes())return;const[x]=d.childNodes,b=this._getSequence(x)||[];this._metadataMap.set(d.nodeName,b.map(S=>S.textContent.trim()))}_parse(d){let x=d.documentElement;if(x.nodeName!=="rdf:rdf")for(x=x.firstChild;x&&x.nodeName!=="rdf:rdf";)x=x.nextSibling;if(!(!x||x.nodeName!=="rdf:rdf"||!x.hasChildNodes())){for(const b of x.childNodes)if(b.nodeName==="rdf:description")for(const S of b.childNodes){const w=S.nodeName;switch(w){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(S);continue}this._metadataMap.set(w,S.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}const chunkSize=512;class DecryptStream extends DecodeStream$1{constructor(d,x,b){super(x),this.str=d,this.dict=d.dict,this.decrypt=b,this.nextChunk=null,this.initialized=!1}readBlock(){let d;if(this.initialized?d=this.nextChunk:(d=this.str.getBytes(chunkSize),this.initialized=!0),!d||d.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(chunkSize);const x=this.nextChunk?.length>0,b=this.decrypt;d=b(d,!x);const S=this.bufferLength,w=S+d.length;this.ensureBuffer(w).set(d,S),this.bufferLength=w}}class ARCFourCipher{constructor(d){this.a=0,this.b=0;const x=new Uint8Array(256),b=d.length;for(let S=0;S<256;++S)x[S]=S;for(let S=0,w=0;S<256;++S){const C=x[S];w=w+C+d[S%b]&255,x[S]=x[w],x[w]=C}this.s=x}encryptBlock(d){let x=this.a,b=this.b;const S=this.s,w=d.length,C=new Uint8Array(w);for(let F=0;F<w;++F){x=x+1&255;const E=S[x];b=b+E&255;const k=S[b];S[x]=k,S[b]=E,C[F]=d[F]^S[E+k&255]}return this.a=x,this.b=b,C}decryptBlock(d){return this.encryptBlock(d)}encrypt(d){return this.encryptBlock(d)}}const calculateMD5=function(){const d=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),x=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function b(S,w,C){let F=1732584193,E=-271733879,k=-1732584194,D=271733878;const M=C+72&-64,L=new Uint8Array(M);let R,U;for(R=0;R<C;++R)L[R]=S[w++];L[R++]=128;const j=M-8;for(;R<j;)L[R++]=0;L[R++]=C<<3&255,L[R++]=C>>5&255,L[R++]=C>>13&255,L[R++]=C>>21&255,L[R++]=C>>>29&255,L[R++]=0,L[R++]=0,L[R++]=0;const H=new Int32Array(16);for(R=0;R<M;){for(U=0;U<16;++U,R+=4)H[U]=L[R]|L[R+1]<<8|L[R+2]<<16|L[R+3]<<24;let V=F,z=E,G=k,X=D,Y,J;for(U=0;U<64;++U){U<16?(Y=z&G|~z&X,J=U):U<32?(Y=X&z|~X&G,J=5*U+1&15):U<48?(Y=z^G^X,J=3*U+5&15):(Y=G^(z|~X),J=7*U&15);const ee=X,ie=V+Y+x[U]+H[J]|0,oe=d[U];X=G,G=z,z=z+(ie<<oe|ie>>>32-oe)|0,V=ee}F=F+V|0,E=E+z|0,k=k+G|0,D=D+X|0}return new Uint8Array([F&255,F>>8&255,F>>16&255,F>>>24&255,E&255,E>>8&255,E>>16&255,E>>>24&255,k&255,k>>8&255,k>>16&255,k>>>24&255,D&255,D>>8&255,D>>16&255,D>>>24&255])}return b}();class Word64{constructor(d,x){this.high=d|0,this.low=x|0}and(d){this.high&=d.high,this.low&=d.low}xor(d){this.high^=d.high,this.low^=d.low}or(d){this.high|=d.high,this.low|=d.low}shiftRight(d){d>=32?(this.low=this.high>>>d-32|0,this.high=0):(this.low=this.low>>>d|this.high<<32-d,this.high=this.high>>>d|0)}shiftLeft(d){d>=32?(this.high=this.low<<d-32,this.low=0):(this.high=this.high<<d|this.low>>>32-d,this.low<<=d)}rotateRight(d){let x,b;d&32?(b=this.low,x=this.high):(x=this.low,b=this.high),d&=31,this.low=x>>>d|b<<32-d,this.high=b>>>d|x<<32-d}not(){this.high=~this.high,this.low=~this.low}add(d){const x=(this.low>>>0)+(d.low>>>0);let b=(this.high>>>0)+(d.high>>>0);x>4294967295&&(b+=1),this.low=x|0,this.high=b|0}copyTo(d,x){d[x]=this.high>>>24&255,d[x+1]=this.high>>16&255,d[x+2]=this.high>>8&255,d[x+3]=this.high&255,d[x+4]=this.low>>>24&255,d[x+5]=this.low>>16&255,d[x+6]=this.low>>8&255,d[x+7]=this.low&255}assign(d){this.high=d.high,this.low=d.low}}const calculateSHA256=function(){function d(D,M){return D>>>M|D<<32-M}function x(D,M,L){return D&M^~D&L}function b(D,M,L){return D&M^D&L^M&L}function S(D){return d(D,2)^d(D,13)^d(D,22)}function w(D){return d(D,6)^d(D,11)^d(D,25)}function C(D){return d(D,7)^d(D,18)^D>>>3}function F(D){return d(D,17)^d(D,19)^D>>>10}const E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(D,M,L){let R=1779033703,U=3144134277,j=1013904242,H=2773480762,V=1359893119,z=2600822924,G=528734635,X=1541459225;const Y=Math.ceil((L+9)/64)*64,J=new Uint8Array(Y);let ee,ie;for(ee=0;ee<L;++ee)J[ee]=D[M++];J[ee++]=128;const oe=Y-8;for(;ee<oe;)J[ee++]=0;J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=L>>>29&255,J[ee++]=L>>21&255,J[ee++]=L>>13&255,J[ee++]=L>>5&255,J[ee++]=L<<3&255;const he=new Uint32Array(64);for(ee=0;ee<Y;){for(ie=0;ie<16;++ie)he[ie]=J[ee]<<24|J[ee+1]<<16|J[ee+2]<<8|J[ee+3],ee+=4;for(ie=16;ie<64;++ie)he[ie]=F(he[ie-2])+he[ie-7]+C(he[ie-15])+he[ie-16]|0;let fe=R,Se=U,we=j,Ee=H,de=V,xe=z,Te=G,Oe=X,Ne,Le;for(ie=0;ie<64;++ie)Ne=Oe+w(de)+x(de,xe,Te)+E[ie]+he[ie],Le=S(fe)+b(fe,Se,we),Oe=Te,Te=xe,xe=de,de=Ee+Ne|0,Ee=we,we=Se,Se=fe,fe=Ne+Le|0;R=R+fe|0,U=U+Se|0,j=j+we|0,H=H+Ee|0,V=V+de|0,z=z+xe|0,G=G+Te|0,X=X+Oe|0}return new Uint8Array([R>>24&255,R>>16&255,R>>8&255,R&255,U>>24&255,U>>16&255,U>>8&255,U&255,j>>24&255,j>>16&255,j>>8&255,j&255,H>>24&255,H>>16&255,H>>8&255,H&255,V>>24&255,V>>16&255,V>>8&255,V&255,z>>24&255,z>>16&255,z>>8&255,z&255,G>>24&255,G>>16&255,G>>8&255,G&255,X>>24&255,X>>16&255,X>>8&255,X&255])}return k}(),calculateSHA512=function(){function d(k,D,M,L,R){k.assign(D),k.and(M),R.assign(D),R.not(),R.and(L),k.xor(R)}function x(k,D,M,L,R){k.assign(D),k.and(M),R.assign(D),R.and(L),k.xor(R),R.assign(M),R.and(L),k.xor(R)}function b(k,D,M){k.assign(D),k.rotateRight(28),M.assign(D),M.rotateRight(34),k.xor(M),M.assign(D),M.rotateRight(39),k.xor(M)}function S(k,D,M){k.assign(D),k.rotateRight(14),M.assign(D),M.rotateRight(18),k.xor(M),M.assign(D),M.rotateRight(41),k.xor(M)}function w(k,D,M){k.assign(D),k.rotateRight(1),M.assign(D),M.rotateRight(8),k.xor(M),M.assign(D),M.shiftRight(7),k.xor(M)}function C(k,D,M){k.assign(D),k.rotateRight(19),M.assign(D),M.rotateRight(61),k.xor(M),M.assign(D),M.shiftRight(6),k.xor(M)}const F=[new Word64(1116352408,3609767458),new Word64(1899447441,602891725),new Word64(3049323471,3964484399),new Word64(3921009573,2173295548),new Word64(961987163,4081628472),new Word64(1508970993,3053834265),new Word64(2453635748,2937671579),new Word64(2870763221,3664609560),new Word64(3624381080,2734883394),new Word64(310598401,1164996542),new Word64(607225278,1323610764),new Word64(1426881987,3590304994),new Word64(1925078388,4068182383),new Word64(2162078206,991336113),new Word64(2614888103,633803317),new Word64(3248222580,3479774868),new Word64(3835390401,2666613458),new Word64(4022224774,944711139),new Word64(264347078,2341262773),new Word64(604807628,2007800933),new Word64(770255983,1495990901),new Word64(1249150122,1856431235),new Word64(1555081692,3175218132),new Word64(1996064986,2198950837),new Word64(2554220882,3999719339),new Word64(2821834349,766784016),new Word64(2952996808,2566594879),new Word64(3210313671,3203337956),new Word64(3336571891,1034457026),new Word64(3584528711,2466948901),new Word64(113926993,3758326383),new Word64(338241895,168717936),new Word64(666307205,1188179964),new Word64(773529912,1546045734),new Word64(1294757372,1522805485),new Word64(1396182291,2643833823),new Word64(1695183700,2343527390),new Word64(1986661051,1014477480),new Word64(2177026350,1206759142),new Word64(2456956037,344077627),new Word64(2730485921,1290863460),new Word64(2820302411,3158454273),new Word64(3259730800,3505952657),new Word64(3345764771,106217008),new Word64(3516065817,3606008344),new Word64(3600352804,1432725776),new Word64(4094571909,1467031594),new Word64(275423344,851169720),new Word64(430227734,3100823752),new Word64(506948616,1363258195),new Word64(659060556,3750685593),new Word64(883997877,3785050280),new Word64(958139571,3318307427),new Word64(1322822218,3812723403),new Word64(1537002063,2003034995),new Word64(1747873779,3602036899),new Word64(1955562222,1575990012),new Word64(2024104815,1125592928),new Word64(2227730452,2716904306),new Word64(2361852424,442776044),new Word64(2428436474,593698344),new Word64(2756734187,3733110249),new Word64(3204031479,2999351573),new Word64(3329325298,3815920427),new Word64(3391569614,3928383900),new Word64(3515267271,566280711),new Word64(3940187606,3454069534),new Word64(4118630271,4000239992),new Word64(116418474,1914138554),new Word64(174292421,2731055270),new Word64(289380356,3203993006),new Word64(460393269,320620315),new Word64(685471733,587496836),new Word64(852142971,1086792851),new Word64(1017036298,365543100),new Word64(1126000580,2618297676),new Word64(1288033470,3409855158),new Word64(1501505948,4234509866),new Word64(1607167915,987167468),new Word64(1816402316,1246189591)];function E(k,D,M,L=!1){let R,U,j,H,V,z,G,X;L?(R=new Word64(3418070365,3238371032),U=new Word64(1654270250,914150663),j=new Word64(2438529370,812702999),H=new Word64(355462360,4144912697),V=new Word64(1731405415,4290775857),z=new Word64(2394180231,1750603025),G=new Word64(3675008525,1694076839),X=new Word64(1203062813,3204075428)):(R=new Word64(1779033703,4089235720),U=new Word64(3144134277,2227873595),j=new Word64(1013904242,4271175723),H=new Word64(2773480762,1595750129),V=new Word64(1359893119,2917565137),z=new Word64(2600822924,725511199),G=new Word64(528734635,4215389547),X=new Word64(1541459225,327033209));const Y=Math.ceil((M+17)/128)*128,J=new Uint8Array(Y);let ee,ie;for(ee=0;ee<M;++ee)J[ee]=k[D++];J[ee++]=128;const oe=Y-16;for(;ee<oe;)J[ee++]=0;J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=0,J[ee++]=M>>>29&255,J[ee++]=M>>21&255,J[ee++]=M>>13&255,J[ee++]=M>>5&255,J[ee++]=M<<3&255;const he=new Array(80);for(ee=0;ee<80;ee++)he[ee]=new Word64(0,0);let fe=new Word64(0,0),Se=new Word64(0,0),we=new Word64(0,0),Ee=new Word64(0,0),de=new Word64(0,0),xe=new Word64(0,0),Te=new Word64(0,0),Oe=new Word64(0,0);const Ne=new Word64(0,0),Le=new Word64(0,0),Me=new Word64(0,0),Ie=new Word64(0,0);let Ve;for(ee=0;ee<Y;){for(ie=0;ie<16;++ie)he[ie].high=J[ee]<<24|J[ee+1]<<16|J[ee+2]<<8|J[ee+3],he[ie].low=J[ee+4]<<24|J[ee+5]<<16|J[ee+6]<<8|J[ee+7],ee+=8;for(ie=16;ie<80;++ie)Ve=he[ie],C(Ve,he[ie-2],Ie),Ve.add(he[ie-7]),w(Me,he[ie-15],Ie),Ve.add(Me),Ve.add(he[ie-16]);for(fe.assign(R),Se.assign(U),we.assign(j),Ee.assign(H),de.assign(V),xe.assign(z),Te.assign(G),Oe.assign(X),ie=0;ie<80;++ie)Ne.assign(Oe),S(Me,de,Ie),Ne.add(Me),d(Me,de,xe,Te,Ie),Ne.add(Me),Ne.add(F[ie]),Ne.add(he[ie]),b(Le,fe,Ie),x(Me,fe,Se,we,Ie),Le.add(Me),Ve=Oe,Oe=Te,Te=xe,xe=de,Ee.add(Ne),de=Ee,Ee=we,we=Se,Se=fe,Ve.assign(Ne),Ve.add(Le),fe=Ve;R.add(fe),U.add(Se),j.add(we),H.add(Ee),V.add(de),z.add(xe),G.add(Te),X.add(Oe)}let De;return L?(De=new Uint8Array(48),R.copyTo(De,0),U.copyTo(De,8),j.copyTo(De,16),H.copyTo(De,24),V.copyTo(De,32),z.copyTo(De,40)):(De=new Uint8Array(64),R.copyTo(De,0),U.copyTo(De,8),j.copyTo(De,16),H.copyTo(De,24),V.copyTo(De,32),z.copyTo(De,40),G.copyTo(De,48),X.copyTo(De,56)),De}return E}();function calculateSHA384(g,d,x){return calculateSHA512(g,d,x,!0)}class NullCipher{decryptBlock(d){return d}encrypt(d){return d}}class AESBaseCipher{constructor(){this.constructor===AESBaseCipher&&unreachable("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let d=0;d<256;d++)this._mixCol[d]=d<128?d<<1:d<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(d){unreachable("Cannot call `_expandKey` on the base class")}_decrypt(d,x){let b,S,w;const C=new Uint8Array(16);C.set(d);for(let F=0,E=this._keySize;F<16;++F,++E)C[F]^=x[E];for(let F=this._cyclesOfRepetition-1;F>=1;--F){b=C[13],C[13]=C[9],C[9]=C[5],C[5]=C[1],C[1]=b,b=C[14],S=C[10],C[14]=C[6],C[10]=C[2],C[6]=b,C[2]=S,b=C[15],S=C[11],w=C[7],C[15]=C[3],C[11]=b,C[7]=S,C[3]=w;for(let E=0;E<16;++E)C[E]=this._inv_s[C[E]];for(let E=0,k=F*16;E<16;++E,++k)C[E]^=x[k];for(let E=0;E<16;E+=4){const k=this._mix[C[E]],D=this._mix[C[E+1]],M=this._mix[C[E+2]],L=this._mix[C[E+3]];b=k^D>>>8^D<<24^M>>>16^M<<16^L>>>24^L<<8,C[E]=b>>>24&255,C[E+1]=b>>16&255,C[E+2]=b>>8&255,C[E+3]=b&255}}b=C[13],C[13]=C[9],C[9]=C[5],C[5]=C[1],C[1]=b,b=C[14],S=C[10],C[14]=C[6],C[10]=C[2],C[6]=b,C[2]=S,b=C[15],S=C[11],w=C[7],C[15]=C[3],C[11]=b,C[7]=S,C[3]=w;for(let F=0;F<16;++F)C[F]=this._inv_s[C[F]],C[F]^=x[F];return C}_encrypt(d,x){const b=this._s;let S,w,C;const F=new Uint8Array(16);F.set(d);for(let E=0;E<16;++E)F[E]^=x[E];for(let E=1;E<this._cyclesOfRepetition;E++){for(let k=0;k<16;++k)F[k]=b[F[k]];C=F[1],F[1]=F[5],F[5]=F[9],F[9]=F[13],F[13]=C,C=F[2],w=F[6],F[2]=F[10],F[6]=F[14],F[10]=C,F[14]=w,C=F[3],w=F[7],S=F[11],F[3]=F[15],F[7]=C,F[11]=w,F[15]=S;for(let k=0;k<16;k+=4){const D=F[k+0],M=F[k+1],L=F[k+2],R=F[k+3];S=D^M^L^R,F[k+0]^=S^this._mixCol[D^M],F[k+1]^=S^this._mixCol[M^L],F[k+2]^=S^this._mixCol[L^R],F[k+3]^=S^this._mixCol[R^D]}for(let k=0,D=E*16;k<16;++k,++D)F[k]^=x[D]}for(let E=0;E<16;++E)F[E]=b[F[E]];C=F[1],F[1]=F[5],F[5]=F[9],F[9]=F[13],F[13]=C,C=F[2],w=F[6],F[2]=F[10],F[6]=F[14],F[10]=C,F[14]=w,C=F[3],w=F[7],S=F[11],F[3]=F[15],F[7]=C,F[11]=w,F[15]=S;for(let E=0,k=this._keySize;E<16;++E,++k)F[E]^=x[k];return F}_decryptBlock2(d,x){const b=d.length;let S=this.buffer,w=this.bufferPosition;const C=[];let F=this.iv;for(let D=0;D<b;++D){if(S[w]=d[D],++w,w<16)continue;const M=this._decrypt(S,this._key);for(let L=0;L<16;++L)M[L]^=F[L];F=S,C.push(M),S=new Uint8Array(16),w=0}if(this.buffer=S,this.bufferLength=w,this.iv=F,C.length===0)return new Uint8Array(0);let E=16*C.length;if(x){const D=C.at(-1);let M=D[15];if(M<=16){for(let L=15,R=16-M;L>=R;--L)if(D[L]!==M){M=0;break}E-=M,C[C.length-1]=D.subarray(0,16-M)}}const k=new Uint8Array(E);for(let D=0,M=0,L=C.length;D<L;++D,M+=16)k.set(C[D],M);return k}decryptBlock(d,x,b=null){const S=d.length,w=this.buffer;let C=this.bufferPosition;if(b)this.iv=b;else{for(let F=0;C<16&&F<S;++F,++C)w[C]=d[F];if(C<16)return this.bufferLength=C,new Uint8Array(0);this.iv=w,d=d.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(d,x)}encrypt(d,x){const b=d.length;let S=this.buffer,w=this.bufferPosition;const C=[];x||(x=new Uint8Array(16));for(let k=0;k<b;++k){if(S[w]=d[k],++w,w<16)continue;for(let M=0;M<16;++M)S[M]^=x[M];const D=this._encrypt(S,this._key);x=D,C.push(D),S=new Uint8Array(16),w=0}if(this.buffer=S,this.bufferLength=w,this.iv=x,C.length===0)return new Uint8Array(0);const F=16*C.length,E=new Uint8Array(F);for(let k=0,D=0,M=C.length;k<M;++k,D+=16)E.set(C[k],D);return E}}class AES128Cipher extends AESBaseCipher{constructor(d){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(d)}_expandKey(d){const b=this._s,S=this._rcon,w=new Uint8Array(176);w.set(d);for(let C=16,F=1;C<176;++F){let E=w[C-3],k=w[C-2],D=w[C-1],M=w[C-4];E=b[E],k=b[k],D=b[D],M=b[M],E^=S[F];for(let L=0;L<4;++L)w[C]=E^=w[C-16],C++,w[C]=k^=w[C-16],C++,w[C]=D^=w[C-16],C++,w[C]=M^=w[C-16],C++}return w}}class AES256Cipher extends AESBaseCipher{constructor(d){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(d)}_expandKey(d){const b=this._s,S=new Uint8Array(240);S.set(d);let w=1,C,F,E,k;for(let D=32,M=1;D<240;++M){D%32===16?(C=b[C],F=b[F],E=b[E],k=b[k]):D%32===0&&(C=S[D-3],F=S[D-2],E=S[D-1],k=S[D-4],C=b[C],F=b[F],E=b[E],k=b[k],C^=w,(w<<=1)>=256&&(w=(w^27)&255));for(let L=0;L<4;++L)S[D]=C^=S[D-32],D++,S[D]=F^=S[D-32],D++,S[D]=E^=S[D-32],D++,S[D]=k^=S[D-32],D++}return S}}class PDF17{checkOwnerPassword(d,x,b,S){const w=new Uint8Array(d.length+56);w.set(d,0),w.set(x,d.length),w.set(b,d.length+x.length);const C=calculateSHA256(w,0,w.length);return isArrayEqual(C,S)}checkUserPassword(d,x,b){const S=new Uint8Array(d.length+8);S.set(d,0),S.set(x,d.length);const w=calculateSHA256(S,0,S.length);return isArrayEqual(w,b)}getOwnerKey(d,x,b,S){const w=new Uint8Array(d.length+56);w.set(d,0),w.set(x,d.length),w.set(b,d.length+x.length);const C=calculateSHA256(w,0,w.length);return new AES256Cipher(C).decryptBlock(S,!1,new Uint8Array(16))}getUserKey(d,x,b){const S=new Uint8Array(d.length+8);S.set(d,0),S.set(x,d.length);const w=calculateSHA256(S,0,S.length);return new AES256Cipher(w).decryptBlock(b,!1,new Uint8Array(16))}}class PDF20{_hash(d,x,b){let S=calculateSHA256(x,0,x.length).subarray(0,32),w=[0],C=0;for(;C<64||w.at(-1)>C-32;){const F=d.length+S.length+b.length,E=new Uint8Array(F);let k=0;E.set(d,k),k+=d.length,E.set(S,k),k+=S.length,E.set(b,k);const D=new Uint8Array(F*64);for(let R=0,U=0;R<64;R++,U+=F)D.set(E,U);w=new AES128Cipher(S.subarray(0,16)).encrypt(D,S.subarray(16,32));const L=w.slice(0,16).reduce((R,U)=>R+U,0)%3;L===0?S=calculateSHA256(w,0,w.length):L===1?S=calculateSHA384(w,0,w.length):L===2&&(S=calculateSHA512(w,0,w.length)),C++}return S.subarray(0,32)}checkOwnerPassword(d,x,b,S){const w=new Uint8Array(d.length+56);w.set(d,0),w.set(x,d.length),w.set(b,d.length+x.length);const C=this._hash(d,w,b);return isArrayEqual(C,S)}checkUserPassword(d,x,b){const S=new Uint8Array(d.length+8);S.set(d,0),S.set(x,d.length);const w=this._hash(d,S,[]);return isArrayEqual(w,b)}getOwnerKey(d,x,b,S){const w=new Uint8Array(d.length+56);w.set(d,0),w.set(x,d.length),w.set(b,d.length+x.length);const C=this._hash(d,w,b);return new AES256Cipher(C).decryptBlock(S,!1,new Uint8Array(16))}getUserKey(d,x,b){const S=new Uint8Array(d.length+8);S.set(d,0),S.set(x,d.length);const w=this._hash(d,S,[]);return new AES256Cipher(w).decryptBlock(b,!1,new Uint8Array(16))}}class CipherTransform{constructor(d,x){this.StringCipherConstructor=d,this.StreamCipherConstructor=x}createStream(d,x){const b=new this.StreamCipherConstructor;return new DecryptStream(d,x,function(w,C){return b.decryptBlock(w,C)})}decryptString(d){const x=new this.StringCipherConstructor;let b=stringToBytes(d);return b=x.decryptBlock(b,!0),bytesToString(b)}encryptString(d){const x=new this.StringCipherConstructor;if(x instanceof AESBaseCipher){const w=16-d.length%16;d+=String.fromCharCode(w).repeat(w);const C=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(C);else for(let k=0;k<16;k++)C[k]=Math.floor(256*Math.random());let F=stringToBytes(d);F=x.encrypt(F,C);const E=new Uint8Array(16+F.length);return E.set(C),E.set(F,16),bytesToString(E)}let b=stringToBytes(d);return b=x.encrypt(b),bytesToString(b)}}class CipherTransformFactory{static#e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);#t(d,x,b,S,w,C,F,E,k,D,M,L){if(x){const U=Math.min(127,x.length);x=x.subarray(0,U)}else x=[];const R=d===6?new PDF20:new PDF17;return R.checkUserPassword(x,E,F)?R.getUserKey(x,k,M):x.length&&R.checkOwnerPassword(x,S,C,b)?R.getOwnerKey(x,w,C,D):null}#n(d,x,b,S,w,C,F,E){const k=40+b.length+d.length,D=new Uint8Array(k);let M=0,L,R;if(x)for(R=Math.min(32,x.length);M<R;++M)D[M]=x[M];for(L=0;M<32;)D[M++]=CipherTransformFactory.#e[L++];for(L=0,R=b.length;L<R;++L)D[M++]=b[L];for(D[M++]=w&255,D[M++]=w>>8&255,D[M++]=w>>16&255,D[M++]=w>>>24&255,L=0,R=d.length;L<R;++L)D[M++]=d[L];C>=4&&!E&&(D[M++]=255,D[M++]=255,D[M++]=255,D[M++]=255);let U=calculateMD5(D,0,M);const j=F>>3;if(C>=3)for(L=0;L<50;++L)U=calculateMD5(U,0,j);const H=U.subarray(0,j);let V,z;if(C>=3){for(M=0;M<32;++M)D[M]=CipherTransformFactory.#e[M];for(L=0,R=d.length;L<R;++L)D[M++]=d[L];V=new ARCFourCipher(H),z=V.encryptBlock(calculateMD5(D,0,M)),R=H.length;const G=new Uint8Array(R);for(L=1;L<=19;++L){for(let X=0;X<R;++X)G[X]=H[X]^L;V=new ARCFourCipher(G),z=V.encryptBlock(z)}for(L=0,R=z.length;L<R;++L)if(S[L]!==z[L])return null}else for(V=new ARCFourCipher(H),z=V.encryptBlock(CipherTransformFactory.#e),L=0,R=z.length;L<R;++L)if(S[L]!==z[L])return null;return H}#r(d,x,b,S){const w=new Uint8Array(32);let C=0;const F=Math.min(32,d.length);for(;C<F;++C)w[C]=d[C];let E=0;for(;C<32;)w[C++]=CipherTransformFactory.#e[E++];let k=calculateMD5(w,0,C);const D=S>>3;if(b>=3)for(E=0;E<50;++E)k=calculateMD5(k,0,k.length);let M,L;if(b>=3){L=x;const R=new Uint8Array(D);for(E=19;E>=0;E--){for(let U=0;U<D;++U)R[U]=k[U]^E;M=new ARCFourCipher(R),L=M.encryptBlock(L)}}else M=new ARCFourCipher(k.subarray(0,D)),L=M.encryptBlock(x);return L}#s(d,x,b,S=!1){const w=new Uint8Array(b.length+9),C=b.length;let F;for(F=0;F<C;++F)w[F]=b[F];return w[F++]=d&255,w[F++]=d>>8&255,w[F++]=d>>16&255,w[F++]=x&255,w[F++]=x>>8&255,S&&(w[F++]=115,w[F++]=65,w[F++]=108,w[F++]=84),calculateMD5(w,0,F).subarray(0,Math.min(b.length+5,16))}#i(d,x,b,S,w){if(!(x instanceof Name))throw new FormatError("Invalid crypt filter name.");const C=this,E=d.get(x.name)?.get("CFM");if(!E||E.name==="None")return function(){return new NullCipher};if(E.name==="V2")return function(){return new ARCFourCipher(C.#s(b,S,w,!1))};if(E.name==="AESV2")return function(){return new AES128Cipher(C.#s(b,S,w,!0))};if(E.name==="AESV3")return function(){return new AES256Cipher(w)};throw new FormatError("Unknown crypto method")}constructor(d,x,b){const S=d.get("Filter");if(!isName(S,"Standard"))throw new FormatError("unknown encryption method");this.filterName=S.name,this.dict=d;const w=d.get("V");if(!Number.isInteger(w)||w!==1&&w!==2&&w!==4&&w!==5)throw new FormatError("unsupported encryption algorithm");this.algorithm=w;let C=d.get("Length");if(!C)if(w<=3)C=40;else{const V=d.get("CF"),z=d.get("StmF");V instanceof Dict&&z instanceof Name&&(V.suppressEncryption=!0,C=V.get(z.name)?.get("Length")||128,C<40&&(C<<=3))}if(!Number.isInteger(C)||C<40||C%8!==0)throw new FormatError("invalid key length");const F=stringToBytes(d.get("O")),E=stringToBytes(d.get("U")),k=F.subarray(0,32),D=E.subarray(0,32),M=d.get("P"),L=d.get("R"),R=(w===4||w===5)&&d.get("EncryptMetadata")!==!1;this.encryptMetadata=R;const U=stringToBytes(x);let j;if(b){if(L===6)try{b=utf8StringToString(b)}catch{warn("CipherTransformFactory: Unable to convert UTF8 encoded password.")}j=stringToBytes(b)}let H;if(w!==5)H=this.#n(U,j,k,D,M,L,C,R);else{const V=F.subarray(32,40),z=F.subarray(40,48),G=E.subarray(0,48),X=E.subarray(32,40),Y=E.subarray(40,48),J=stringToBytes(d.get("OE")),ee=stringToBytes(d.get("UE")),ie=stringToBytes(d.get("Perms"));H=this.#t(L,j,k,V,z,G,D,X,Y,J,ee,ie)}if(!H&&!b)throw new PasswordException("No password given",PasswordResponses.NEED_PASSWORD);if(!H&&b){const V=this.#r(j,k,L,C);H=this.#n(U,V,k,D,M,L,C,R)}if(!H)throw new PasswordException("Incorrect Password",PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=H,w>=4){const V=d.get("CF");V instanceof Dict&&(V.suppressEncryption=!0),this.cf=V,this.stmf=d.get("StmF")||Name.get("Identity"),this.strf=d.get("StrF")||Name.get("Identity"),this.eff=d.get("EFF")||this.stmf}}createCipherTransform(d,x){if(this.algorithm===4||this.algorithm===5)return new CipherTransform(this.#i(this.cf,this.strf,d,x,this.encryptionKey),this.#i(this.cf,this.stmf,d,x,this.encryptionKey));const b=this.#s(d,x,this.encryptionKey,!1),S=function(){return new ARCFourCipher(b)};return new CipherTransform(S,S)}}async function writeObject(g,d,x,{encrypt:b=null}){const S=b?.createCipherTransform(g.num,g.gen);x.push(`${g.num} ${g.gen} obj
`),d instanceof Dict?await writeDict(d,x,S):d instanceof BaseStream?await writeStream(d,x,S):Array.isArray(d)&&await writeArray(d,x,S),x.push(`
endobj
`)}async function writeDict(g,d,x){d.push("<<");for(const b of g.getKeys())d.push(` /${escapePDFName(b)} `),await writeValue(g.getRaw(b),d,x);d.push(">>")}async function writeStream(g,d,x){let b=g.getBytes();const{dict:S}=g,[w,C]=await Promise.all([S.getAsync("Filter"),S.getAsync("DecodeParms")]),F=Array.isArray(w)?await S.xref.fetchIfRefAsync(w[0]):w,E=isName(F,"FlateDecode"),k=256;if(typeof CompressionStream<"u"&&(b.length>=k||E))try{const M=new CompressionStream("deflate"),L=M.writable.getWriter();L.write(b),L.close();const R=await new Response(M.readable).arrayBuffer();b=new Uint8Array(R);let U,j;w?E||(U=Array.isArray(w)?[Name.get("FlateDecode"),...w]:[Name.get("FlateDecode"),w],C&&(j=Array.isArray(C)?[null,...C]:[null,C])):U=Name.get("FlateDecode"),U&&S.set("Filter",U),j&&S.set("DecodeParms",j)}catch(M){info(`writeStream - cannot compress data: "${M}".`)}let D=bytesToString(b);x&&(D=x.encryptString(D)),S.set("Length",D.length),await writeDict(S,d,x),d.push(` stream
`,D,`
endstream`)}async function writeArray(g,d,x){d.push("[");let b=!0;for(const S of g)b?b=!1:d.push(" "),await writeValue(S,d,x);d.push("]")}async function writeValue(g,d,x){g instanceof Name?d.push(`/${escapePDFName(g.name)}`):g instanceof Ref?d.push(`${g.num} ${g.gen} R`):Array.isArray(g)?await writeArray(g,d,x):typeof g=="string"?(x&&(g=x.encryptString(g)),d.push(`(${escapeString(g)})`)):typeof g=="number"?d.push(numberToString$1(g)):typeof g=="boolean"?d.push(g.toString()):g instanceof Dict?await writeDict(g,d,x):g instanceof BaseStream?await writeStream(g,d,x):g===null?d.push("null"):warn(`Unhandled value in writer: ${typeof g}, please file a bug.`)}function writeInt(g,d,x,b){for(let S=d+x-1;S>x-1;S--)b[S]=g&255,g>>=8;return x+d}function writeString(g,d,x){for(let b=0,S=g.length;b<S;b++)x[d+b]=g.charCodeAt(b)&255}function computeMD5(g,d){const x=Math.floor(Date.now()/1e3),b=d.filename||"",S=[x.toString(),b,g.toString()];let w=S.reduce((E,k)=>E+k.length,0);for(const E of Object.values(d.info))S.push(E),w+=E.length;const C=new Uint8Array(w);let F=0;for(const E of S)writeString(E,F,C),F+=E.length;return bytesToString(calculateMD5(C))}function writeXFADataForAcroform(g,d){const x=new SimpleXMLParser({hasAttributes:!0}).parseFromString(g);for(const{xfa:S}of d){if(!S)continue;const{path:w,value:C}=S;if(!w)continue;const F=parseXFAPath(w);let E=x.documentElement.searchNode(F,0);!E&&F.length>1&&(E=x.documentElement.searchNode([F.at(-1)],0)),E?E.childNodes=Array.isArray(C)?C.map(k=>new SimpleDOMNode("value",k)):[new SimpleDOMNode("#text",C)]:warn(`Node not found for path: ${w}`)}const b=[];return x.documentElement.dump(b),b.join("")}async function updateAcroform({xref:g,acroForm:d,acroFormRef:x,hasXfa:b,hasXfaDatasetsEntry:S,xfaDatasetsRef:w,needAppearances:C,newRefs:F}){if(b&&!S&&!w&&warn("XFA - Cannot save it"),!C&&(!b||!w||S))return;const E=d.clone();if(b&&!S){const D=d.get("XFA").slice();D.splice(2,0,"datasets"),D.splice(3,0,w),E.set("XFA",D)}C&&E.set("NeedAppearances",!0);const k=[];await writeObject(x,E,k,g),F.push({ref:x,data:k.join("")})}function updateXFA({xfaData:g,xfaDatasetsRef:d,newRefs:x,xref:b}){if(g===null){const C=b.fetchIfRef(d);g=writeXFADataForAcroform(C.getString(),x)}const S=b.encrypt;S&&(g=S.createCipherTransform(d.num,d.gen).encryptString(g));const w=`${d.num} ${d.gen} obj
<< /Type /EmbeddedFile /Length ${g.length}>>
stream
`+g+`
endstream
endobj
`;x.push({ref:d,data:w})}async function incrementalUpdate({originalData:g,xrefInfo:d,newRefs:x,xref:b=null,hasXfa:S=!1,xfaDatasetsRef:w=null,hasXfaDatasetsEntry:C=!1,needAppearances:F,acroFormRef:E=null,acroForm:k=null,xfaData:D=null}){await updateAcroform({xref:b,acroForm:k,acroFormRef:E,hasXfa:S,hasXfaDatasetsEntry:C,xfaDatasetsRef:w,needAppearances:F,newRefs:x}),S&&updateXFA({xfaData:D,xfaDatasetsRef:w,newRefs:x,xref:b});const M=new Dict(null),L=d.newRef;let R,U;const j=g.at(-1);j===10||j===13?(R=[],U=g.length):(R=[`
`],U=g.length+1),M.set("Size",L.num+1),M.set("Prev",d.startXRef),M.set("Type",Name.get("XRef")),d.rootRef!==null&&M.set("Root",d.rootRef),d.infoRef!==null&&M.set("Info",d.infoRef),d.encryptRef!==null&&M.set("Encrypt",d.encryptRef),x.push({ref:L,data:""}),x=x.sort((fe,Se)=>fe.ref.num-Se.ref.num);const H=[[0,1,65535]],V=[0,1];let z=0;for(const{ref:fe,data:Se}of x)z=Math.max(z,U),H.push([1,U,Math.min(fe.gen,65535)]),U+=Se.length,V.push(fe.num,1),R.push(Se);if(M.set("Index",V),Array.isArray(d.fileIds)&&d.fileIds.length>0){const fe=computeMD5(U,d);M.set("ID",[d.fileIds[0],fe])}const X=[1,Math.ceil(Math.log2(z)/8),2],J=(X[0]+X[1]+X[2])*H.length;M.set("W",X),M.set("Length",J),R.push(`${L.num} ${L.gen} obj
`),await writeDict(M,R,null),R.push(` stream
`);const ee=R.reduce((fe,Se)=>fe+Se.length,0),ie=`
endstream
endobj
startxref
${U}
%%EOF
`,oe=new Uint8Array(g.length+ee+J+ie.length);oe.set(g);let he=g.length;for(const fe of R)writeString(fe,he,oe),he+=fe.length;for(const[fe,Se,we]of H)he=writeInt(fe,X[0],he,oe),he=writeInt(Se,X[1],he,oe),he=writeInt(we,X[2],he,oe);return writeString(ie,he,oe),oe}const MAX_DEPTH=40,StructElementType={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5};class StructTreeRoot{constructor(d,x){this.dict=d,this.ref=x instanceof Ref?x:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}#e(d,x,b){if(!(d instanceof Ref)||x<0)return;this.structParentIds||=new RefSetCache;let S=this.structParentIds.get(d);S||(S=[],this.structParentIds.put(d,S)),S.push([x,b])}addAnnotationIdToPage(d,x){this.#e(d,x,StructElementType.ANNOTATION)}readRoleMap(){const d=this.dict.get("RoleMap");d instanceof Dict&&d.forEach((x,b)=>{b instanceof Name&&this.roleMap.set(x,b.name)})}static async canCreateStructureTree({catalogRef:d,pdfManager:x,newAnnotationsByPage:b}){if(!(d instanceof Ref))return warn("Cannot save the struct tree: no catalog reference."),!1;let S=0,w=!0;for(const[C,F]of b){const{ref:E}=await x.getPage(C);if(!(E instanceof Ref)){warn(`Cannot save the struct tree: page ${C} has no ref.`),w=!0;break}for(const k of F)k.accessibilityData?.type&&(k.parentTreeId=S++,w=!1)}if(w){for(const C of b.values())for(const F of C)delete F.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:d,xref:x,catalogRef:b,pdfManager:S,newRefs:w}){const C=S.catalog.cloneDict(),F=x.getNewTemporaryRef();C.set("StructTreeRoot",F);const E=[];await writeObject(b,C,E,x),w.push({ref:b,data:E.join("")});const k=new Dict(x);k.set("Type",Name.get("StructTreeRoot"));const D=x.getNewTemporaryRef();k.set("ParentTree",D);const M=[];k.set("K",M);const L=new Dict(x),R=[];L.set("Nums",R);const U=await this.#t({newAnnotationsByPage:d,structTreeRootRef:F,kids:M,nums:R,xref:x,pdfManager:S,newRefs:w,buffer:E});k.set("ParentTreeNextKey",U),E.length=0,await writeObject(D,L,E,x),w.push({ref:D,data:E.join("")}),E.length=0,await writeObject(F,k,E,x),w.push({ref:F,data:E.join("")})}async canUpdateStructTree({pdfManager:d,xref:x,newAnnotationsByPage:b}){if(!this.ref)return warn("Cannot update the struct tree: no root reference."),!1;let S=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(S)||S<0)return warn("Cannot update the struct tree: invalid next key."),!1;const w=this.dict.get("ParentTree");if(!(w instanceof Dict))return warn("Cannot update the struct tree: ParentTree isn't a dict."),!1;const C=w.get("Nums");if(!Array.isArray(C))return warn("Cannot update the struct tree: nums isn't an array."),!1;const F=new NumberTree(w,x);for(const k of b.keys()){const{pageDict:D}=await d.getPage(k);if(!D.has("StructParents"))continue;const M=D.get("StructParents");if(!Number.isInteger(M)||!Array.isArray(F.get(M)))return warn(`Cannot save the struct tree: page ${k} has a wrong id.`),!1}let E=!0;for(const[k,D]of b){const{pageDict:M}=await d.getPage(k);StructTreeRoot.#n({elements:D,xref:this.dict.xref,pageDict:M,numberTree:F});for(const L of D)L.accessibilityData?.type&&(L.parentTreeId=S++,E=!1)}if(E){for(const k of b.values())for(const D of k)delete D.parentTreeId,delete D.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:d,pdfManager:x,newRefs:b}){const S=this.dict.xref,w=this.dict.clone(),C=this.ref;let F=w.getRaw("ParentTree"),E;F instanceof Ref?E=S.fetch(F):(E=F,F=S.getNewTemporaryRef(),w.set("ParentTree",F)),E=E.clone();let k=E.getRaw("Nums"),D=null;k instanceof Ref&&(D=k,k=S.fetch(D)),k=k.slice(),D||E.set("Nums",k);let M=w.getRaw("K"),L=null;M instanceof Ref?(L=M,M=S.fetch(L)):(L=S.getNewTemporaryRef(),w.set("K",L)),M=Array.isArray(M)?M.slice():[M];const R=[],U=await StructTreeRoot.#t({newAnnotationsByPage:d,structTreeRootRef:C,kids:M,nums:k,xref:S,pdfManager:x,newRefs:b,buffer:R});w.set("ParentTreeNextKey",U),R.length=0,await writeObject(L,M,R,S),b.push({ref:L,data:R.join("")}),D&&(R.length=0,await writeObject(D,k,R,S),b.push({ref:D,data:R.join("")})),R.length=0,await writeObject(F,E,R,S),b.push({ref:F,data:R.join("")}),R.length=0,await writeObject(C,w,R,S),b.push({ref:C,data:R.join("")})}static async#t({newAnnotationsByPage:d,structTreeRootRef:x,kids:b,nums:S,xref:w,pdfManager:C,newRefs:F,buffer:E}){const k=Name.get("OBJR");let D=-1/0;for(const[M,L]of d){const{ref:R}=await C.getPage(M),U=R instanceof Ref;for(const{accessibilityData:j,ref:H,parentTreeId:V,structTreeParent:z}of L){if(!j?.type)continue;const{type:G,title:X,lang:Y,alt:J,expanded:ee,actualText:ie}=j;D=Math.max(D,V);const oe=w.getNewTemporaryRef(),he=new Dict(w);he.set("S",Name.get(G)),X&&he.set("T",X),Y&&he.set("Lang",Y),J&&he.set("Alt",J),ee&&he.set("E",ee),ie&&he.set("ActualText",ie),z?await this.#r({structTreeParent:z,tagDict:he,newTagRef:oe,fallbackRef:x,xref:w,newRefs:F,buffer:E}):he.set("P",x);const fe=new Dict(w);he.set("K",fe),fe.set("Type",k),U&&fe.set("Pg",R),fe.set("Obj",H),E.length=0,await writeObject(oe,he,E,w),F.push({ref:oe,data:E.join("")}),S.push(V,oe),b.push(oe)}}return D+1}static#n({elements:d,xref:x,pageDict:b,numberTree:S}){const w=new Map;for(const k of d)if(k.structTreeParentId){const D=parseInt(k.structTreeParentId.split("_mc")[1],10);w.set(D,k)}const C=b.get("StructParents");if(!Number.isInteger(C))return;const F=S.get(C),E=(k,D,M)=>{const L=w.get(k);if(L){const R=D.getRaw("P"),U=x.fetchIfRef(R);return R instanceof Ref&&U instanceof Dict&&(L.structTreeParent={ref:M,dict:D}),!0}return!1};for(const k of F){if(!(k instanceof Ref))continue;const D=x.fetch(k),M=D.get("K");if(Number.isInteger(M)){E(M,D,k);continue}if(Array.isArray(M)){for(let L of M)if(L=x.fetchIfRef(L),Number.isInteger(L)&&E(L,D,k))break}}}static async#r({structTreeParent:{ref:d,dict:x},tagDict:b,newTagRef:S,fallbackRef:w,xref:C,newRefs:F,buffer:E}){const k=x.getRaw("P");let D=C.fetchIfRef(k);b.set("P",k);let M=!1,L,R=D.getRaw("K");if(R instanceof Ref?L=C.fetch(R):(L=R,R=C.getNewTemporaryRef(),D=D.clone(),D.set("K",R),M=!0),Array.isArray(L)){const U=L.indexOf(d);if(U>=0)L=L.slice(),L.splice(U+1,0,S);else{warn("Cannot update the struct tree: parent kid not found."),b.set("P",w);return}}else L instanceof Dict&&(L=[R,S],R=C.getNewTemporaryRef(),D.set("K",R),M=!0);E.length=0,await writeObject(R,L,E,C),F.push({ref:R,data:E.join("")}),M&&(E.length=0,await writeObject(k,D,E,C),F.push({ref:k,data:E.join("")}))}}class StructElementNode{constructor(d,x){this.tree=d,this.dict=x,this.kids=[],this.parseKids()}get role(){const d=this.dict.get("S"),x=d instanceof Name?d.name:"",{root:b}=this.tree;return b.roleMap.has(x)?b.roleMap.get(x):x}parseKids(){let d=null;const x=this.dict.getRaw("Pg");x instanceof Ref&&(d=x.toString());const b=this.dict.get("K");if(Array.isArray(b))for(const S of b){const w=this.parseKid(d,S);w&&this.kids.push(w)}else{const S=this.parseKid(d,b);S&&this.kids.push(S)}}parseKid(d,x){if(Number.isInteger(x))return this.tree.pageDict.objId!==d?null:new StructElement({type:StructElementType.PAGE_CONTENT,mcid:x,pageObjId:d});let b=null;if(x instanceof Ref?b=this.dict.xref.fetch(x):x instanceof Dict&&(b=x),!b)return null;const S=b.getRaw("Pg");S instanceof Ref&&(d=S.toString());const w=b.get("Type")instanceof Name?b.get("Type").name:null;if(w==="MCR"){if(this.tree.pageDict.objId!==d)return null;const C=b.getRaw("Stm");return new StructElement({type:StructElementType.STREAM_CONTENT,refObjId:C instanceof Ref?C.toString():null,pageObjId:d,mcid:b.get("MCID")})}if(w==="OBJR"){if(this.tree.pageDict.objId!==d)return null;const C=b.getRaw("Obj");return new StructElement({type:StructElementType.OBJECT,refObjId:C instanceof Ref?C.toString():null,pageObjId:d})}return new StructElement({type:StructElementType.ELEMENT,dict:b})}}class StructElement{constructor({type:d,dict:x=null,mcid:b=null,pageObjId:S=null,refObjId:w=null}){this.type=d,this.dict=x,this.mcid=b,this.pageObjId=S,this.refObjId=w,this.parentNode=null}}class StructTreePage{constructor(d,x){this.root=d,this.rootDict=d?d.dict:null,this.pageDict=x,this.nodes=[]}parse(d){if(!this.root||!this.rootDict)return;const x=this.rootDict.get("ParentTree");if(!x)return;const b=this.pageDict.get("StructParents"),S=d instanceof Ref&&this.root.structParentIds?.get(d);if(!Number.isInteger(b)&&!S)return;const w=new Map,C=new NumberTree(x,this.rootDict.xref);if(Number.isInteger(b)){const F=C.get(b);if(Array.isArray(F))for(const E of F)E instanceof Ref&&this.addNode(this.rootDict.xref.fetch(E),w)}if(S)for(const[F,E]of S){const k=C.get(F);if(k){const D=this.addNode(this.rootDict.xref.fetchIfRef(k),w);D?.kids?.length===1&&D.kids[0].type===StructElementType.OBJECT&&(D.kids[0].type=E)}}}addNode(d,x,b=0){if(b>MAX_DEPTH)return warn("StructTree MAX_DEPTH reached."),null;if(x.has(d))return x.get(d);const S=new StructElementNode(this,d);x.set(d,S);const w=d.get("P");if(!w||isName(w.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(d,S)||x.delete(d),S;const C=this.addNode(w,x,b+1);if(!C)return S;let F=!1;for(const E of C.kids)E.type===StructElementType.ELEMENT&&E.dict===d&&(E.parentNode=S,F=!0);return F||x.delete(d),S}addTopLevelNode(d,x){const b=this.rootDict.get("K");if(!b)return!1;if(b instanceof Dict)return b.objId!==d.objId?!1:(this.nodes[0]=x,!0);if(!Array.isArray(b))return!0;let S=!1;for(let w=0;w<b.length;w++)b[w]?.toString()===d.objId&&(this.nodes[w]=x,S=!0);return S}get serializable(){function d(b,S,w=0){if(w>MAX_DEPTH){warn("StructTree too deep to be fully serialized.");return}const C=Object.create(null);C.role=b.role,C.children=[],S.children.push(C);const F=b.dict.get("Alt");typeof F=="string"&&(C.alt=stringToPDFString(F));const E=b.dict.get("Lang");typeof E=="string"&&(C.lang=stringToPDFString(E));for(const k of b.kids){const D=k.type===StructElementType.ELEMENT?k.parentNode:null;if(D){d(D,C,w+1);continue}else k.type===StructElementType.PAGE_CONTENT||k.type===StructElementType.STREAM_CONTENT?C.children.push({type:"content",id:`p${k.pageObjId}_mc${k.mcid}`}):k.type===StructElementType.OBJECT?C.children.push({type:"object",id:k.refObjId}):k.type===StructElementType.ANNOTATION&&C.children.push({type:"annotation",id:`${AnnotationPrefix}${k.refObjId}`})}}const x=Object.create(null);x.children=[],x.role="Root";for(const b of this.nodes)b&&d(b,x);return x}}function fetchDestination(g){return g instanceof Dict&&(g=g.get("D")),Array.isArray(g)?g:null}function fetchRemoteDest(g){let d=g.get("D");if(d){if(d instanceof Name&&(d=d.name),typeof d=="string")return stringToPDFString(d);if(Array.isArray(d))return JSON.stringify(d)}return null}class Catalog{constructor(d,x){if(this.pdfManager=d,this.xref=x,this._catDict=x.getCatalogObj(),!(this._catDict instanceof Dict))throw new FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new GlobalImageCache,this.pageKidsCountCache=new RefSetCache,this.pageIndexCache=new RefSetCache,this.nonBlendModesSet=new RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const d=this._catDict.get("Version");if(d instanceof Name){if(PDF_VERSION_REGEXP.test(d.name))return shadow(this,"version",d.name);warn(`Invalid PDF catalog version: ${d.name}`)}return shadow(this,"version",null)}get lang(){const d=this._catDict.get("Lang");return shadow(this,"lang",typeof d=="string"?stringToPDFString(d):null)}get needsRendering(){const d=this._catDict.get("NeedsRendering");return shadow(this,"needsRendering",typeof d=="boolean"?d:!1)}get collection(){let d=null;try{const x=this._catDict.get("Collection");x instanceof Dict&&x.size>0&&(d=x)}catch(x){if(x instanceof MissingDataException)throw x;info("Cannot fetch Collection entry; assuming no collection is present.")}return shadow(this,"collection",d)}get acroForm(){let d=null;try{const x=this._catDict.get("AcroForm");x instanceof Dict&&x.size>0&&(d=x)}catch(x){if(x instanceof MissingDataException)throw x;info("Cannot fetch AcroForm entry; assuming no forms are present.")}return shadow(this,"acroForm",d)}get acroFormRef(){const d=this._catDict.getRaw("AcroForm");return shadow(this,"acroFormRef",d instanceof Ref?d:null)}get metadata(){const d=this._catDict.getRaw("Metadata");if(!(d instanceof Ref))return shadow(this,"metadata",null);let x=null;try{const b=this.xref.fetch(d,!this.xref.encrypt?.encryptMetadata);if(b instanceof BaseStream&&b.dict instanceof Dict){const S=b.dict.get("Type"),w=b.dict.get("Subtype");if(isName(S,"Metadata")&&isName(w,"XML")){const C=stringToUTF8String(b.getString());C&&(x=new MetadataParser(C).serializable)}}}catch(b){if(b instanceof MissingDataException)throw b;info(`Skipping invalid Metadata: "${b}".`)}return shadow(this,"metadata",x)}get markInfo(){let d=null;try{d=this._readMarkInfo()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read mark info.")}return shadow(this,"markInfo",d)}_readMarkInfo(){const d=this._catDict.get("MarkInfo");if(!(d instanceof Dict))return null;const x={Marked:!1,UserProperties:!1,Suspects:!1};for(const b in x){const S=d.get(b);typeof S=="boolean"&&(x[b]=S)}return x}get structTreeRoot(){let d=null;try{d=this._readStructTreeRoot()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable read to structTreeRoot info.")}return shadow(this,"structTreeRoot",d)}_readStructTreeRoot(){const d=this._catDict.getRaw("StructTreeRoot"),x=this.xref.fetchIfRef(d);if(!(x instanceof Dict))return null;const b=new StructTreeRoot(x,d);return b.init(),b}get toplevelPagesDict(){const d=this._catDict.get("Pages");if(!(d instanceof Dict))throw new FormatError("Invalid top-level pages dictionary.");return shadow(this,"toplevelPagesDict",d)}get documentOutline(){let d=null;try{d=this._readDocumentOutline()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read document outline.")}return shadow(this,"documentOutline",d)}_readDocumentOutline(){let d=this._catDict.get("Outlines");if(!(d instanceof Dict)||(d=d.getRaw("First"),!(d instanceof Ref)))return null;const x={items:[]},b=[{obj:d,parent:x}],S=new RefSet;S.put(d);const w=this.xref,C=new Uint8ClampedArray(3);for(;b.length>0;){const F=b.shift(),E=w.fetchIfRef(F.obj);if(E===null)continue;if(!E.has("Title"))throw new FormatError("Invalid outline item encountered.");const k={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:E,resultObj:k,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const D=E.get("Title"),M=E.get("F")||0,L=E.getArray("C"),R=E.get("Count");let U=C;Array.isArray(L)&&L.length===3&&(L[0]!==0||L[1]!==0||L[2]!==0)&&(U=ColorSpace$1.singletons.rgb.getRgb(L,0));const j={action:k.action,attachment:k.attachment,dest:k.dest,url:k.url,unsafeUrl:k.unsafeUrl,newWindow:k.newWindow,setOCGState:k.setOCGState,title:stringToPDFString(D),color:U,count:Number.isInteger(R)?R:void 0,bold:!!(M&2),italic:!!(M&1),items:[]};F.parent.items.push(j),d=E.getRaw("First"),d instanceof Ref&&!S.has(d)&&(b.push({obj:d,parent:j}),S.put(d)),d=E.getRaw("Next"),d instanceof Ref&&!S.has(d)&&(b.push({obj:d,parent:F.parent}),S.put(d))}return x.items.length>0?x.items:null}get permissions(){let d=null;try{d=this._readPermissions()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read permissions.")}return shadow(this,"permissions",d)}_readPermissions(){const d=this.xref.trailer.get("Encrypt");if(!(d instanceof Dict))return null;let x=d.get("P");if(typeof x!="number")return null;x+=2**32;const b=[];for(const S in PermissionFlag){const w=PermissionFlag[S];x&w&&b.push(w)}return b}get optionalContentConfig(){let d=null;try{const x=this._catDict.get("OCProperties");if(!x)return shadow(this,"optionalContentConfig",null);const b=x.get("D");if(!b)return shadow(this,"optionalContentConfig",null);const S=x.get("OCGs");if(!Array.isArray(S))return shadow(this,"optionalContentConfig",null);const w=[],C=new RefSet;for(const F of S){if(!(F instanceof Ref)||C.has(F))continue;C.put(F);const E=this.xref.fetch(F);w.push({id:F.toString(),name:typeof E.get("Name")=="string"?stringToPDFString(E.get("Name")):null,intent:typeof E.get("Intent")=="string"?stringToPDFString(E.get("Intent")):null})}d=this._readOptionalContentConfig(b,C),d.groups=w}catch(x){if(x instanceof MissingDataException)throw x;warn(`Unable to read optional content config: ${x}`)}return shadow(this,"optionalContentConfig",d)}_readOptionalContentConfig(d,x){function b(k){const D=[];if(Array.isArray(k))for(const M of k)M instanceof Ref&&x.has(M)&&D.push(M.toString());return D}function S(k,D=0){if(!Array.isArray(k))return null;const M=[];for(const R of k){if(R instanceof Ref&&x.has(R)){F.put(R),M.push(R.toString());continue}const U=w(R,D);U&&M.push(U)}if(D>0)return M;const L=[];for(const R of x)F.has(R)||L.push(R.toString());return L.length&&M.push({name:null,order:L}),M}function w(k,D){if(++D>E)return warn("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const M=C.fetchIfRef(k);if(!Array.isArray(M))return null;const L=C.fetchIfRef(M[0]);if(typeof L!="string")return null;const R=S(M.slice(1),D);return!R||!R.length?null:{name:stringToPDFString(L),order:R}}const C=this.xref,F=new RefSet,E=10;return{name:typeof d.get("Name")=="string"?stringToPDFString(d.get("Name")):null,creator:typeof d.get("Creator")=="string"?stringToPDFString(d.get("Creator")):null,baseState:d.get("BaseState")instanceof Name?d.get("BaseState").name:null,on:b(d.get("ON")),off:b(d.get("OFF")),order:S(d.get("Order")),groups:null}}setActualNumPages(d=null){this._actualNumPages=d}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const d=this.toplevelPagesDict.get("Count");if(!Number.isInteger(d))throw new FormatError("Page count in top-level pages dictionary is not an integer.");return shadow(this,"_pagesCount",d)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const d=this._readDests(),x=Object.create(null);if(d instanceof NameTree)for(const[b,S]of d.getAll()){const w=fetchDestination(S);w&&(x[stringToPDFString(b)]=w)}else d instanceof Dict&&d.forEach(function(b,S){const w=fetchDestination(S);w&&(x[b]=w)});return shadow(this,"destinations",x)}getDestination(d){const x=this._readDests();if(x instanceof NameTree){const b=fetchDestination(x.get(d));if(b)return b;const S=this.destinations[d];if(S)return warn(`Found "${d}" at an incorrect position in the NameTree.`),S}else if(x instanceof Dict){const b=fetchDestination(x.get(d));if(b)return b}return null}_readDests(){const d=this._catDict.get("Names");if(d?.has("Dests"))return new NameTree(d.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let d=null;try{d=this._readPageLabels()}catch(x){if(x instanceof MissingDataException)throw x;warn("Unable to read page labels.")}return shadow(this,"pageLabels",d)}_readPageLabels(){const d=this._catDict.getRaw("PageLabels");if(!d)return null;const x=new Array(this.numPages);let b=null,S="";const C=new NumberTree(d,this.xref).getAll();let F="",E=1;for(let k=0,D=this.numPages;k<D;k++){const M=C.get(k);if(M!==void 0){if(!(M instanceof Dict))throw new FormatError("PageLabel is not a dictionary.");if(M.has("Type")&&!isName(M.get("Type"),"PageLabel"))throw new FormatError("Invalid type in PageLabel dictionary.");if(M.has("S")){const L=M.get("S");if(!(L instanceof Name))throw new FormatError("Invalid style in PageLabel dictionary.");b=L.name}else b=null;if(M.has("P")){const L=M.get("P");if(typeof L!="string")throw new FormatError("Invalid prefix in PageLabel dictionary.");S=stringToPDFString(L)}else S="";if(M.has("St")){const L=M.get("St");if(!(Number.isInteger(L)&&L>=1))throw new FormatError("Invalid start in PageLabel dictionary.");E=L}else E=1}switch(b){case"D":F=E;break;case"R":case"r":F=toRomanNumerals(E,b==="r");break;case"A":case"a":const L=26,j=b==="a"?97:65,H=E-1;F=String.fromCharCode(j+H%L).repeat(Math.floor(H/L)+1);break;default:if(b)throw new FormatError(`Invalid style "${b}" in PageLabel dictionary.`);F=""}x[k]=S+F,E++}return x}get pageLayout(){const d=this._catDict.get("PageLayout");let x="";if(d instanceof Name)switch(d.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":x=d.name}return shadow(this,"pageLayout",x)}get pageMode(){const d=this._catDict.get("PageMode");let x="UseNone";if(d instanceof Name)switch(d.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":x=d.name}return shadow(this,"pageMode",x)}get viewerPreferences(){const d=this._catDict.get("ViewerPreferences");if(!(d instanceof Dict))return shadow(this,"viewerPreferences",null);let x=null;for(const b of d.getKeys()){const S=d.get(b);let w;switch(b){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof S=="boolean"&&(w=S);break;case"NonFullScreenPageMode":if(S instanceof Name)switch(S.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":w=S.name;break;default:w="UseNone"}break;case"Direction":if(S instanceof Name)switch(S.name){case"L2R":case"R2L":w=S.name;break;default:w="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(S instanceof Name)switch(S.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":w=S.name;break;default:w="CropBox"}break;case"PrintScaling":if(S instanceof Name)switch(S.name){case"None":case"AppDefault":w=S.name;break;default:w="AppDefault"}break;case"Duplex":if(S instanceof Name)switch(S.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":w=S.name;break;default:w="None"}break;case"PrintPageRange":Array.isArray(S)&&S.length%2===0&&S.every((F,E,k)=>Number.isInteger(F)&&F>0&&(E===0||F>=k[E-1])&&F<=this.numPages)&&(w=S);break;case"NumCopies":Number.isInteger(S)&&S>0&&(w=S);break;default:warn(`Ignoring non-standard key in ViewerPreferences: ${b}.`);continue}if(w===void 0){warn(`Bad value, for key "${b}", in ViewerPreferences: ${S}.`);continue}x||(x=Object.create(null)),x[b]=w}return shadow(this,"viewerPreferences",x)}get openAction(){const d=this._catDict.get("OpenAction"),x=Object.create(null);if(d instanceof Dict){const b=new Dict(this.xref);b.set("A",d);const S={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:b,resultObj:S}),Array.isArray(S.dest)?x.dest=S.dest:S.action&&(x.action=S.action)}else Array.isArray(d)&&(x.dest=d);return shadow(this,"openAction",objectSize(x)>0?x:null)}get attachments(){const d=this._catDict.get("Names");let x=null;if(d instanceof Dict&&d.has("EmbeddedFiles")){const b=new NameTree(d.getRaw("EmbeddedFiles"),this.xref);for(const[S,w]of b.getAll()){const C=new FileSpec(w,this.xref);x||(x=Object.create(null)),x[stringToPDFString(S)]=C.serializable}}return shadow(this,"attachments",x)}get xfaImages(){const d=this._catDict.get("Names");let x=null;if(d instanceof Dict&&d.has("XFAImages")){const b=new NameTree(d.getRaw("XFAImages"),this.xref);for(const[S,w]of b.getAll())x||(x=new Dict(this.xref)),x.set(stringToPDFString(S),w)}return shadow(this,"xfaImages",x)}_collectJavaScript(){const d=this._catDict.get("Names");let x=null;function b(w,C){if(!(C instanceof Dict)||!isName(C.get("S"),"JavaScript"))return;let F=C.get("JS");if(F instanceof BaseStream)F=F.getString();else if(typeof F!="string")return;F=stringToPDFString(F).replaceAll("\0",""),F&&(x||=new Map).set(w,F)}if(d instanceof Dict&&d.has("JavaScript")){const w=new NameTree(d.getRaw("JavaScript"),this.xref);for(const[C,F]of w.getAll())b(stringToPDFString(C),F)}const S=this._catDict.get("OpenAction");return S&&b("OpenAction",S),x}get jsActions(){const d=this._collectJavaScript();let x=collectActions(this.xref,this._catDict,DocumentActionEventType);if(d){x||=Object.create(null);for(const[b,S]of d)b in x?x[b].push(S):x[b]=[S]}return shadow(this,"jsActions",x)}async fontFallback(d,x){const b=await Promise.all(this.fontCache);for(const S of b)if(S.loadedName===d){S.fallback(x);return}}async cleanup(d=!1){clearGlobalCaches(),this.globalImageCache.clear(d),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const x=await Promise.all(this.fontCache);for(const{dict:b}of x)delete b.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(d){const x=[this.toplevelPagesDict],b=new RefSet,S=this._catDict.getRaw("Pages");S instanceof Ref&&b.put(S);const w=this.xref,C=this.pageKidsCountCache,F=this.pageIndexCache;let E=0;for(;x.length;){const k=x.pop();if(k instanceof Ref){const R=C.get(k);if(R>=0&&E+R<=d){E+=R;continue}if(b.has(k))throw new FormatError("Pages tree contains circular reference.");b.put(k);const U=await w.fetchAsync(k);if(U instanceof Dict){let j=U.getRaw("Type");if(j instanceof Ref&&(j=await w.fetchAsync(j)),isName(j,"Page")||!U.has("Kids")){if(C.has(k)||C.put(k,1),F.has(k)||F.put(k,E),E===d)return[U,k];E++;continue}}x.push(U);continue}if(!(k instanceof Dict))throw new FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:D}=k;let M=k.getRaw("Count");if(M instanceof Ref&&(M=await w.fetchAsync(M)),Number.isInteger(M)&&M>=0&&(D&&!C.has(D)&&C.put(D,M),E+M<=d)){E+=M;continue}let L=k.getRaw("Kids");if(L instanceof Ref&&(L=await w.fetchAsync(L)),!Array.isArray(L)){let R=k.getRaw("Type");if(R instanceof Ref&&(R=await w.fetchAsync(R)),isName(R,"Page")||!k.has("Kids")){if(E===d)return[k,null];E++;continue}throw new FormatError("Page dictionary kids object is not an array.")}for(let R=L.length-1;R>=0;R--)x.push(L[R])}throw new Error(`Page index ${d} not found.`)}async getAllPageDicts(d=!1){const{ignoreErrors:x}=this.pdfManager.evaluatorOptions,b=[{currentNode:this.toplevelPagesDict,posInKids:0}],S=new RefSet,w=this._catDict.getRaw("Pages");w instanceof Ref&&S.put(w);const C=new Map,F=this.xref,E=this.pageIndexCache;let k=0;function D(L,R){R&&!E.has(R)&&E.put(R,k),C.set(k++,[L,R])}function M(L){if(L instanceof XRefEntryException&&!d)throw L;d&&x&&k===0&&(warn(`getAllPageDicts - Skipping invalid first page: "${L}".`),L=Dict.empty),C.set(k++,[L,null])}for(;b.length>0;){const L=b.at(-1),{currentNode:R,posInKids:U}=L;let j=R.getRaw("Kids");if(j instanceof Ref)try{j=await F.fetchAsync(j)}catch(G){M(G);break}if(!Array.isArray(j)){M(new FormatError("Page dictionary kids object is not an array."));break}if(U>=j.length){b.pop();continue}const H=j[U];let V;if(H instanceof Ref){if(S.has(H)){M(new FormatError("Pages tree contains circular reference."));break}S.put(H);try{V=await F.fetchAsync(H)}catch(G){M(G);break}}else V=H;if(!(V instanceof Dict)){M(new FormatError("Page dictionary kid reference points to wrong type of object."));break}let z=V.getRaw("Type");if(z instanceof Ref)try{z=await F.fetchAsync(z)}catch(G){M(G);break}isName(z,"Page")||!V.has("Kids")?D(V,H instanceof Ref?H:null):b.push({currentNode:V,posInKids:0}),L.posInKids++}return C}getPageIndex(d){const x=this.pageIndexCache.get(d);if(x!==void 0)return Promise.resolve(x);const b=this.xref;function S(F){let E=0,k;return b.fetchAsync(F).then(function(D){if(isRefsEqual(F,d)&&!isDict(D,"Page")&&!(D instanceof Dict&&!D.has("Type")&&D.has("Contents")))throw new FormatError("The reference does not point to a /Page dictionary.");if(!D)return null;if(!(D instanceof Dict))throw new FormatError("Node must be a dictionary.");return k=D.getRaw("Parent"),D.getAsync("Parent")}).then(function(D){if(!D)return null;if(!(D instanceof Dict))throw new FormatError("Parent must be a dictionary.");return D.getAsync("Kids")}).then(function(D){if(!D)return null;const M=[];let L=!1;for(const R of D){if(!(R instanceof Ref))throw new FormatError("Kid must be a reference.");if(isRefsEqual(R,F)){L=!0;break}M.push(b.fetchAsync(R).then(function(U){if(!(U instanceof Dict))throw new FormatError("Kid node must be a dictionary.");U.has("Count")?E+=U.get("Count"):E++}))}if(!L)throw new FormatError("Kid reference not found in parent's kids.");return Promise.all(M).then(function(){return[E,k]})})}let w=0;const C=F=>S(F).then(E=>{if(!E)return this.pageIndexCache.put(d,w),w;const[k,D]=E;return w+=k,C(D)});return C(d)}get baseUrl(){const d=this._catDict.get("URI");if(d instanceof Dict){const x=d.get("Base");if(typeof x=="string"){const b=createValidAbsoluteUrl(x,null,{tryConvertEncoding:!0});if(b)return shadow(this,"baseUrl",b.href)}}return shadow(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:d,resultObj:x,docBaseUrl:b=null,docAttachments:S=null}){if(!(d instanceof Dict)){warn("parseDestDictionary: `destDict` must be a dictionary.");return}let w=d.get("A"),C,F;if(w instanceof Dict||(d.has("Dest")?w=d.get("Dest"):(w=d.get("AA"),w instanceof Dict&&(w.has("D")?w=w.get("D"):w.has("U")&&(w=w.get("U"))))),w instanceof Dict){const E=w.get("S");if(!(E instanceof Name)){warn("parseDestDictionary: Invalid type in Action dictionary.");return}const k=E.name;switch(k){case"ResetForm":const D=w.get("Flags"),M=((typeof D=="number"?D:0)&1)===0,L=[],R=[];for(const he of w.get("Fields")||[])he instanceof Ref?R.push(he.toString()):typeof he=="string"&&L.push(stringToPDFString(he));x.resetForm={fields:L,refs:R,include:M};break;case"URI":C=w.get("URI"),C instanceof Name&&(C="/"+C.name);break;case"GoTo":F=w.get("D");break;case"Launch":case"GoToR":const U=w.get("F");U instanceof Dict?C=U.get("F")||null:typeof U=="string"&&(C=U);const j=fetchRemoteDest(w);j&&typeof C=="string"&&(C=C.split("#",1)[0]+"#"+j);const H=w.get("NewWindow");typeof H=="boolean"&&(x.newWindow=H);break;case"GoToE":const V=w.get("T");let z;if(S&&V instanceof Dict){const he=V.get("R"),fe=V.get("N");isName(he,"C")&&typeof fe=="string"&&(z=S[stringToPDFString(fe)])}if(z){x.attachment=z;const he=fetchRemoteDest(w);he&&(x.attachmentDest=he)}else warn('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const G=w.get("N");G instanceof Name&&(x.action=G.name);break;case"SetOCGState":const X=w.get("State"),Y=w.get("PreserveRB");if(!Array.isArray(X)||X.length===0)break;const J=[];for(const he of X)if(he instanceof Name)switch(he.name){case"ON":case"OFF":case"Toggle":J.push(he.name);break}else he instanceof Ref&&J.push(he.toString());if(J.length!==X.length)break;x.setOCGState={state:J,preserveRB:typeof Y=="boolean"?Y:!0};break;case"JavaScript":const ee=w.get("JS");let ie;ee instanceof BaseStream?ie=ee.getString():typeof ee=="string"&&(ie=ee);const oe=ie&&recoverJsURL(stringToPDFString(ie));if(oe){C=oe.url,x.newWindow=oe.newWindow;break}default:if(k==="JavaScript"||k==="SubmitForm")break;warn(`parseDestDictionary - unsupported action: "${k}".`);break}}else d.has("Dest")&&(F=d.get("Dest"));if(typeof C=="string"){const E=createValidAbsoluteUrl(C,b,{addDefaultProtocol:!0,tryConvertEncoding:!0});E&&(x.url=E.href),x.unsafeUrl=C}F&&(F instanceof Name&&(F=F.name),typeof F=="string"?x.dest=stringToPDFString(F):Array.isArray(F)&&(x.dest=F))}}function mayHaveChildren(g){return g instanceof Ref||g instanceof Dict||g instanceof BaseStream||Array.isArray(g)}function addChildren(g,d){if(g instanceof Dict)g=g.getRawValues();else if(g instanceof BaseStream)g=g.dict.getRawValues();else if(!Array.isArray(g))return;for(const x of g)mayHaveChildren(x)&&d.push(x)}class ObjectLoader{constructor(d,x,b){this.dict=d,this.keys=x,this.xref=b,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:d,dict:x}=this;this.refSet=new RefSet;const b=[];for(const S of d){const w=x.getRaw(S);w!==void 0&&b.push(w)}return this._walk(b)}async _walk(d){const x=[],b=[];for(;d.length;){let S=d.pop();if(S instanceof Ref){if(this.refSet.has(S))continue;try{this.refSet.put(S),S=this.xref.fetch(S)}catch(w){if(!(w instanceof MissingDataException)){warn(`ObjectLoader._walk - requesting all data: "${w}".`),this.refSet=null;const{manager:C}=this.xref.stream;return C.requestAllChunks()}x.push(S),b.push({begin:w.begin,end:w.end})}}if(S instanceof BaseStream){const w=S.getBaseStreams();if(w){let C=!1;for(const F of w)F.isDataLoaded||(C=!0,b.push({begin:F.start,end:F.end}));C&&x.push(S)}}addChildren(S,d)}if(b.length){await this.xref.stream.manager.requestRanges(b);for(const S of x)S instanceof Ref&&this.refSet.remove(S);return this._walk(x)}this.refSet=null}}const $acceptWhitespace=Symbol(),$addHTML=Symbol(),$appendChild=Symbol(),$childrenToHTML=Symbol(),$clean=Symbol(),$cleanPage=Symbol(),$cleanup=Symbol(),$clone=Symbol(),$consumed=Symbol(),$content=Symbol("content"),$data=Symbol("data"),$dump=Symbol(),$extra=Symbol("extra"),$finalize=Symbol(),$flushHTML=Symbol(),$getAttributeIt=Symbol(),$getAttributes=Symbol(),$getAvailableSpace=Symbol(),$getChildrenByClass=Symbol(),$getChildrenByName=Symbol(),$getChildrenByNameIt=Symbol(),$getDataValue=Symbol(),$getExtra=Symbol(),$getRealChildrenByNameIt=Symbol(),$getChildren=Symbol(),$getContainedChildren=Symbol(),$getNextPage=Symbol(),$getSubformParent=Symbol(),$getParent=Symbol(),$getTemplateRoot=Symbol(),$globalData=Symbol(),$hasSettableValue=Symbol(),$ids=Symbol(),$indexOf=Symbol(),$insertAt=Symbol(),$isCDATAXml=Symbol(),$isBindable=Symbol(),$isDataValue=Symbol(),$isDescendent=Symbol(),$isNsAgnostic=Symbol(),$isSplittable=Symbol(),$isThereMoreWidth=Symbol(),$isTransparent=Symbol(),$isUsable=Symbol(),$lastAttribute=Symbol(),$namespaceId=Symbol("namespaceId"),$nodeName=Symbol("nodeName"),$nsAttributes=Symbol(),$onChild=Symbol(),$onChildCheck=Symbol(),$onText=Symbol(),$pushGlyphs=Symbol(),$popPara=Symbol(),$pushPara=Symbol(),$removeChild=Symbol(),$root=Symbol("root"),$resolvePrototypes=Symbol(),$searchNode=Symbol(),$setId=Symbol(),$setSetAttributes=Symbol(),$setValue=Symbol(),$tabIndex=Symbol(),$text=Symbol(),$toPages=Symbol(),$toHTML=Symbol(),$toString=Symbol(),$toStyle=Symbol(),$uid=Symbol("uid"),$buildXFAObject=Symbol(),NamespaceIds={config:{id:0,check:g=>g.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:g=>g==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:g=>g==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:g=>g==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:g=>g.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:g=>g.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:g=>g==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:g=>g==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:g=>g==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:g=>g==="http://ns.adobe.com/xmpmeta/"}},dimConverters={pt:g=>g,cm:g=>g/2.54*72,mm:g=>g/(10*2.54)*72,in:g=>g*72,px:g=>g},measurementPattern=/([+-]?\d+\.?\d*)(.*)/;function stripQuotes(g){return g.startsWith("'")||g.startsWith('"')?g.slice(1,-1):g}function getInteger({data:g,defaultValue:d,validate:x}){if(!g)return d;g=g.trim();const b=parseInt(g,10);return!isNaN(b)&&x(b)?b:d}function getFloat({data:g,defaultValue:d,validate:x}){if(!g)return d;g=g.trim();const b=parseFloat(g);return!isNaN(b)&&x(b)?b:d}function getKeyword({data:g,defaultValue:d,validate:x}){return g?(g=g.trim(),x(g)?g:d):d}function getStringOption(g,d){return getKeyword({data:g,defaultValue:d[0],validate:x=>d.includes(x)})}function getMeasurement(g,d="0"){if(d||="0",!g)return getMeasurement(d);const x=g.trim().match(measurementPattern);if(!x)return getMeasurement(d);const[,b,S]=x,w=parseFloat(b);if(isNaN(w))return getMeasurement(d);if(w===0)return 0;const C=dimConverters[S];return C?C(w):w}function getRatio(g){if(!g)return{num:1,den:1};const d=g.trim().split(/\s*:\s*/).map(S=>parseFloat(S)).filter(S=>!isNaN(S));if(d.length===1&&d.push(1),d.length===0)return{num:1,den:1};const[x,b]=d;return{num:x,den:b}}function getRelevant(g){return g?g.trim().split(/\s+/).map(d=>({excluded:d[0]==="-",viewname:d.substring(1)})):[]}function getColor(g,d=[0,0,0]){let[x,b,S]=d;if(!g)return{r:x,g:b,b:S};const w=g.trim().split(/\s*,\s*/).map(C=>Math.min(Math.max(0,parseInt(C.trim(),10)),255)).map(C=>isNaN(C)?0:C);return w.length<3?{r:x,g:b,b:S}:([x,b,S]=w,{r:x,g:b,b:S})}function getBBox(g){if(!g)return{x:-1,y:-1,width:-1,height:-1};const x=g.trim().split(/\s*,\s*/).map(F=>getMeasurement(F,"-1"));if(x.length<4||x[2]<0||x[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[b,S,w,C]=x;return{x:b,y:S,width:w,height:C}}class HTMLResult{static get FAILURE(){return shadow(this,"FAILURE",new HTMLResult(!1,null,null,null))}static get EMPTY(){return shadow(this,"EMPTY",new HTMLResult(!0,null,null,null))}constructor(d,x,b,S){this.success=d,this.html=x,this.bbox=b,this.breakNode=S}isBreak(){return!!this.breakNode}static breakNode(d){return new HTMLResult(!1,null,null,d)}static success(d,x=null){return new HTMLResult(!0,d,x,null)}}class FontFinder{constructor(d){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(d)}add(d,x=null){for(const S of d)this.addPdfFont(S);for(const S of this.fonts.values())S.regular||(S.regular=S.italic||S.bold||S.bolditalic);if(!x||x.size===0)return;const b=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const S of x)this.fonts.set(S,b)}addPdfFont(d){const x=d.cssFontInfo,b=x.fontFamily;let S=this.fonts.get(b);S||(S=Object.create(null),this.fonts.set(b,S),this.defaultFont||(this.defaultFont=S));let w="";const C=parseFloat(x.fontWeight);parseFloat(x.italicAngle)!==0?w=C>=700?"bolditalic":"italic":C>=700&&(w="bold"),w||((d.name.includes("Bold")||d.psName?.includes("Bold"))&&(w="bold"),(d.name.includes("Italic")||d.name.endsWith("It")||d.psName?.includes("Italic")||d.psName?.endsWith("It"))&&(w+="italic")),w||(w="regular"),S[w]=d}getDefault(){return this.defaultFont}find(d,x=!0){let b=this.fonts.get(d)||this.cache.get(d);if(b)return b;const S=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let w=d.replaceAll(S,"");if(b=this.fonts.get(w),b)return this.cache.set(d,b),b;w=w.toLowerCase();const C=[];for(const[F,E]of this.fonts.entries())F.replaceAll(S,"").toLowerCase().startsWith(w)&&C.push(E);if(C.length===0)for(const[,F]of this.fonts.entries())F.regular.name?.replaceAll(S,"").toLowerCase().startsWith(w)&&C.push(F);if(C.length===0){w=w.replaceAll(/psmt|mt/gi,"");for(const[F,E]of this.fonts.entries())F.replaceAll(S,"").toLowerCase().startsWith(w)&&C.push(E)}if(C.length===0)for(const F of this.fonts.values())F.regular.name?.replaceAll(S,"").toLowerCase().startsWith(w)&&C.push(F);return C.length>=1?(C.length!==1&&x&&warn(`XFA - Too many choices to guess the correct font: ${d}`),this.cache.set(d,C[0]),C[0]):(x&&!this.warned.has(d)&&(this.warned.add(d),warn(`XFA - Cannot find the font: ${d}`)),null)}}function selectFont(g,d){return g.posture==="italic"?g.weight==="bold"?d.bolditalic:d.italic:g.weight==="bold"?d.bold:d.regular}function fonts_getMetrics(g,d=!1){let x=null;if(g){const C=stripQuotes(g.typeface),F=g[$globalData].fontFinder.find(C);x=selectFont(g,F)}if(!x)return{lineHeight:12,lineGap:2,lineNoGap:10};const b=g.size||10,S=x.lineHeight?Math.max(d?0:1.2,x.lineHeight):1.2,w=x.lineGap===void 0?.2:x.lineGap;return{lineHeight:S*b,lineGap:w*b,lineNoGap:Math.max(1,S-w)*b}}const WIDTH_FACTOR=1.02;class FontInfo{constructor(d,x,b,S){if(this.lineHeight=b,this.paraMargin=x||{top:0,bottom:0,left:0,right:0},!d){[this.pdfFont,this.xfaFont]=this.defaultFont(S);return}this.xfaFont={typeface:d.typeface,posture:d.posture,weight:d.weight,size:d.size,letterSpacing:d.letterSpacing};const w=S.find(d.typeface);if(!w){[this.pdfFont,this.xfaFont]=this.defaultFont(S);return}this.pdfFont=selectFont(d,w),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(S))}defaultFont(d){const x=d.find("Helvetica",!1)||d.find("Myriad Pro",!1)||d.find("Arial",!1)||d.getDefault();if(x?.regular){const S=x.regular,C={typeface:S.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[S,C]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class FontSelector{constructor(d,x,b,S){this.fontFinder=S,this.stack=[new FontInfo(d,x,b,S)]}pushData(d,x,b){const S=this.stack.at(-1);for(const C of["typeface","posture","weight","size","letterSpacing"])d[C]||(d[C]=S.xfaFont[C]);for(const C of["top","bottom","left","right"])isNaN(x[C])&&(x[C]=S.paraMargin[C]);const w=new FontInfo(d,x,b||S.lineHeight,this.fontFinder);w.pdfFont||(w.pdfFont=S.pdfFont),this.stack.push(w)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class TextMeasure{constructor(d,x,b,S){this.glyphs=[],this.fontSelector=new FontSelector(d,x,b,S),this.extraHeight=0}pushData(d,x,b){this.fontSelector.pushData(d,x,b)}popFont(d){return this.fontSelector.popFont()}addPara(){const d=this.fontSelector.topFont();this.extraHeight+=d.paraMargin.top+d.paraMargin.bottom}addString(d){if(!d)return;const x=this.fontSelector.topFont(),b=x.xfaFont.size;if(x.pdfFont){const S=x.xfaFont.letterSpacing,w=x.pdfFont,C=w.lineHeight||1.2,F=x.lineHeight||Math.max(1.2,C)*b,E=w.lineGap===void 0?.2:w.lineGap,k=C-E,D=Math.max(1,k)*b,M=b/1e3,L=w.defaultWidth||w.charsToGlyphs(" ")[0].width;for(const R of d.split(/[\u2029\n]/)){const U=w.encodeString(R).join(""),j=w.charsToGlyphs(U);for(const H of j){const V=H.width||L;this.glyphs.push([V*M+S,F,D,H.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const S of d.split(/[\u2029\n]/)){for(const w of S.split(""))this.glyphs.push([b,1.2*b,b,w,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(d){let x=-1,b=0,S=0,w=0,C=0,F=0,E=!1,k=!0;for(let D=0,M=this.glyphs.length;D<M;D++){const[L,R,U,j,H]=this.glyphs[D],V=j===" ",z=k?U:R;if(H){S=Math.max(S,C),C=0,w+=F,F=z,x=-1,b=0,k=!1;continue}if(V){C+L>d?(S=Math.max(S,C),C=0,w+=F,F=z,x=-1,b=0,E=!0,k=!1):(F=Math.max(z,F),b=C,C+=L,x=D);continue}if(C+L>d){w+=F,F=z,x!==-1?(D=x,S=Math.max(S,b),C=0,x=-1,b=0):(S=Math.max(S,C),C=L),E=!0,k=!1;continue}C+=L,F=Math.max(z,F)}return S=Math.max(S,C),w+=F+this.extraHeight,{width:WIDTH_FACTOR*S,height:w,isBroken:E}}}const namePattern=/^[^.[]+/,indexPattern=/^[^\]]+/,operators={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},shortcuts=new Map([["$data",(g,d)=>g.datasets?g.datasets.data:g],["$record",(g,d)=>(g.datasets?g.datasets.data:g)[$getChildren]()[0]],["$template",(g,d)=>g.template],["$connectionSet",(g,d)=>g.connectionSet],["$form",(g,d)=>g.form],["$layout",(g,d)=>g.layout],["$host",(g,d)=>g.host],["$dataWindow",(g,d)=>g.dataWindow],["$event",(g,d)=>g.event],["!",(g,d)=>g.datasets],["$xfa",(g,d)=>g],["xfa",(g,d)=>g],["$",(g,d)=>d]]),somCache=new WeakMap;function parseIndex(g){return g=g.trim(),g==="*"?1/0:parseInt(g,10)||0}function parseExpression(g,d,x=!0){let b=g.match(namePattern);if(!b)return null;let[S]=b;const w=[{name:S,cacheName:"."+S,index:0,js:null,formCalc:null,operator:operators.dot}];let C=S.length;for(;C<g.length;){const F=C;if(g.charAt(C++)==="["){if(b=g.slice(C).match(indexPattern),!b)return warn("XFA - Invalid index in SOM expression"),null;w.at(-1).index=parseIndex(b[0]),C+=b[0].length+1;continue}let k;switch(g.charAt(C)){case".":if(!d)return null;C++,k=operators.dotDot;break;case"#":C++,k=operators.dotHash;break;case"[":if(x)return warn("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;k=operators.dotBracket;break;case"(":if(x)return warn("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;k=operators.dotParen;break;default:k=operators.dot;break}if(b=g.slice(C).match(namePattern),!b)break;[S]=b,C+=S.length,w.push({name:S,cacheName:g.slice(F,C),operator:k,index:0,js:null,formCalc:null})}return w}function searchNode(g,d,x,b=!0,S=!0){const w=parseExpression(x,b);if(!w)return null;const C=shortcuts.get(w[0].name);let F=0,E;C?(E=!0,g=[C(g,d)],F=1):(E=d===null,g=[d||g]);for(let k=w.length;F<k;F++){const{name:D,cacheName:M,operator:L,index:R}=w[F],U=[];for(const j of g){if(!j.isXFAObject)continue;let H,V;if(S&&(V=somCache.get(j),V||(V=new Map,somCache.set(j,V)),H=V.get(M)),!H){switch(L){case operators.dot:H=j[$getChildrenByName](D,!1);break;case operators.dotDot:H=j[$getChildrenByName](D,!0);break;case operators.dotHash:H=j[$getChildrenByClass](D),H=H.isXFAObjectArray?H.children:[H];break}S&&V.set(M,H)}H.length>0&&U.push(H)}if(U.length===0&&!E&&F===0){if(d=d[$getParent](),!d)return null;F=-1,g=[d];continue}g=isFinite(R)?U.filter(j=>R<j.length).map(j=>j[R]):U.flat()}return g.length===0?null:g}function createDataNode(g,d,x){const b=parseExpression(x);if(!b||b.some(C=>C.operator===operators.dotDot))return null;const S=shortcuts.get(b[0].name);let w=0;S?(g=S(g,d),w=1):g=d||g;for(let C=b.length;w<C;w++){const{name:F,operator:E,index:k}=b[w];if(!isFinite(k))return b[w].index=0,g.createNodes(b.slice(w));let D;switch(E){case operators.dot:D=g[$getChildrenByName](F,!1);break;case operators.dotDot:D=g[$getChildrenByName](F,!0);break;case operators.dotHash:D=g[$getChildrenByClass](F),D=D.isXFAObjectArray?D.children:[D];break}if(D.length===0)return g.createNodes(b.slice(w));if(k<D.length){const M=D[k];if(!M.isXFAObject)return warn("XFA - Cannot create a node."),null;g=M}else return b[w].index=k-D.length,g.createNodes(b.slice(w))}return null}const _applyPrototype=Symbol(),_attributes=Symbol(),_attributeNames=Symbol(),_children=Symbol("_children"),_cloneAttribute=Symbol(),_dataValue=Symbol(),_defaultValue=Symbol(),_filteredChildrenGenerator=Symbol(),_getPrototype=Symbol(),_getUnsetAttributes=Symbol(),_hasChildren=Symbol(),_max=Symbol(),_options=Symbol(),_parent=Symbol("parent"),_resolvePrototypesHelper=Symbol(),_setAttributes=Symbol(),_validator=Symbol();let uid=0;const NS_DATASETS=NamespaceIds.datasets.id;class XFAObject{constructor(d,x,b=!1){this[$namespaceId]=d,this[$nodeName]=x,this[_hasChildren]=b,this[_parent]=null,this[_children]=[],this[$uid]=`${x}${uid++}`,this[$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(d){let x=this,b=null;for(const{name:S,index:w}of d){for(let C=0,F=isFinite(w)?w:0;C<=F;C++){const E=x[$namespaceId]===NS_DATASETS?-1:x[$namespaceId];b=new XmlObject(E,S),x[$appendChild](b)}x=b}return b}[$onChild](d){if(!this[_hasChildren]||!this[$onChildCheck](d))return!1;const x=d[$nodeName],b=this[x];if(b instanceof XFAObjectArray){if(b.push(d))return this[$appendChild](d),!0}else return b!==null&&this[$removeChild](b),this[x]=d,this[$appendChild](d),!0;let S="";return this.id?S=` (id: ${this.id})`:this.name&&(S=` (name: ${this.name} ${this.h.value})`),warn(`XFA - node "${this[$nodeName]}"${S} has already enough "${x}"!`),!1}[$onChildCheck](d){return this.hasOwnProperty(d[$nodeName])&&d[$namespaceId]===this[$namespaceId]}[$isNsAgnostic](){return!1}[$acceptWhitespace](){return!1}[$isCDATAXml](){return!1}[$isBindable](){return!1}[$popPara](){this.para&&this[$getTemplateRoot]()[$extra].paraStack.pop()}[$pushPara](){this[$getTemplateRoot]()[$extra].paraStack.push(this.para)}[$setId](d){this.id&&this[$namespaceId]===NamespaceIds.template.id&&d.set(this.id,this)}[$getTemplateRoot](){return this[$globalData].template}[$isSplittable](){return!1}[$isThereMoreWidth](){return!1}[$appendChild](d){d[_parent]=this,this[_children].push(d),!d[$globalData]&&this[$globalData]&&(d[$globalData]=this[$globalData])}[$removeChild](d){const x=this[_children].indexOf(d);this[_children].splice(x,1)}[$hasSettableValue](){return this.hasOwnProperty("value")}[$setValue](d){}[$onText](d){}[$finalize](){}[$clean](d){delete this[_hasChildren],this[$cleanup]&&(d.clean(this[$cleanup]),delete this[$cleanup])}[$indexOf](d){return this[_children].indexOf(d)}[$insertAt](d,x){x[_parent]=this,this[_children].splice(d,0,x),!x[$globalData]&&this[$globalData]&&(x[$globalData]=this[$globalData])}[$isTransparent](){return!this.name}[$lastAttribute](){return""}[$text](){return this[_children].length===0?this[$content]:this[_children].map(d=>d[$text]()).join("")}get[_attributeNames](){const d=Object.getPrototypeOf(this);if(!d._attributes){const x=d._attributes=new Set;for(const b of Object.getOwnPropertyNames(this)){if(this[b]===null||this[b]instanceof XFAObject||this[b]instanceof XFAObjectArray)break;x.add(b)}}return shadow(this,_attributeNames,d._attributes)}[$isDescendent](d){let x=this;for(;x;){if(x===d)return!0;x=x[$getParent]()}return!1}[$getParent](){return this[_parent]}[$getSubformParent](){return this[$getParent]()}[$getChildren](d=null){return d?this[d]:this[_children]}[$dump](){const d=Object.create(null);this[$content]&&(d.$content=this[$content]);for(const x of Object.getOwnPropertyNames(this)){const b=this[x];b!==null&&(b instanceof XFAObject?d[x]=b[$dump]():b instanceof XFAObjectArray?b.isEmpty()||(d[x]=b.dump()):d[x]=b)}return d}[$toStyle](){return null}[$toHTML](){return HTMLResult.EMPTY}*[$getContainedChildren](){for(const d of this[$getChildren]())yield d}*[_filteredChildrenGenerator](d,x){for(const b of this[$getContainedChildren]())if(!d||x===d.has(b[$nodeName])){const S=this[$getAvailableSpace](),w=b[$toHTML](S);w.success||(this[$extra].failingNode=b),yield w}}[$flushHTML](){return null}[$addHTML](d,x){this[$extra].children.push(d)}[$getAvailableSpace](){}[$childrenToHTML]({filter:d=null,include:x=!0}){if(!this[$extra].generator)this[$extra].generator=this[_filteredChildrenGenerator](d,x);else{const b=this[$getAvailableSpace](),S=this[$extra].failingNode[$toHTML](b);if(!S.success)return S;S.html&&this[$addHTML](S.html,S.bbox),delete this[$extra].failingNode}for(;;){const b=this[$extra].generator.next();if(b.done)break;const S=b.value;if(!S.success)return S;S.html&&this[$addHTML](S.html,S.bbox)}return this[$extra].generator=null,HTMLResult.EMPTY}[$setSetAttributes](d){this[_setAttributes]=new Set(Object.keys(d))}[_getUnsetAttributes](d){const x=this[_attributeNames],b=this[_setAttributes];return[...d].filter(S=>x.has(S)&&!b.has(S))}[$resolvePrototypes](d,x=new Set){for(const b of this[_children])b[_resolvePrototypesHelper](d,x)}[_resolvePrototypesHelper](d,x){const b=this[_getPrototype](d,x);b?this[_applyPrototype](b,d,x):this[$resolvePrototypes](d,x)}[_getPrototype](d,x){const{use:b,usehref:S}=this;if(!b&&!S)return null;let w=null,C=null,F=null,E=b;if(S?(E=S,S.startsWith("#som(")&&S.endsWith(")")?C=S.slice(5,-1):S.startsWith(".#som(")&&S.endsWith(")")?C=S.slice(6,-1):S.startsWith("#")?F=S.slice(1):S.startsWith(".#")&&(F=S.slice(2))):b.startsWith("#")?F=b.slice(1):C=b,this.use=this.usehref="",F?w=d.get(F):(w=searchNode(d.get($root),this,C,!0,!1),w&&(w=w[0])),!w)return warn(`XFA - Invalid prototype reference: ${E}.`),null;if(w[$nodeName]!==this[$nodeName])return warn(`XFA - Incompatible prototype: ${w[$nodeName]} !== ${this[$nodeName]}.`),null;if(x.has(w))return warn("XFA - Cycle detected in prototypes use."),null;x.add(w);const k=w[_getPrototype](d,x);return k&&w[_applyPrototype](k,d,x),w[$resolvePrototypes](d,x),x.delete(w),w}[_applyPrototype](d,x,b){if(b.has(d)){warn("XFA - Cycle detected in prototypes use.");return}!this[$content]&&d[$content]&&(this[$content]=d[$content]),new Set(b).add(d);for(const w of this[_getUnsetAttributes](d[_setAttributes]))this[w]=d[w],this[_setAttributes]&&this[_setAttributes].add(w);for(const w of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(w))continue;const C=this[w],F=d[w];if(C instanceof XFAObjectArray){for(const E of C[_children])E[_resolvePrototypesHelper](x,b);for(let E=C[_children].length,k=F[_children].length;E<k;E++){const D=d[_children][E][$clone]();if(C.push(D))D[_parent]=this,this[_children].push(D),D[_resolvePrototypesHelper](x,b);else break}continue}if(C!==null){C[$resolvePrototypes](x,b),F&&C[_applyPrototype](F,x,b);continue}if(F!==null){const E=F[$clone]();E[_parent]=this,this[w]=E,this[_children].push(E),E[_resolvePrototypesHelper](x,b)}}}static[_cloneAttribute](d){return Array.isArray(d)?d.map(x=>XFAObject[_cloneAttribute](x)):typeof d=="object"&&d!==null?Object.assign({},d):d}[$clone](){const d=Object.create(Object.getPrototypeOf(this));for(const x of Object.getOwnPropertySymbols(this))try{d[x]=this[x]}catch{shadow(d,x,this[x])}d[$uid]=`${d[$nodeName]}${uid++}`,d[_children]=[];for(const x of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(x)){d[x]=XFAObject[_cloneAttribute](this[x]);continue}const b=this[x];d[x]=b instanceof XFAObjectArray?new XFAObjectArray(b[_max]):null}for(const x of this[_children]){const b=x[$nodeName],S=x[$clone]();d[_children].push(S),S[_parent]=d,d[b]===null?d[b]=S:d[b][_children].push(S)}return d}[$getChildren](d=null){return d?this[_children].filter(x=>x[$nodeName]===d):this[_children]}[$getChildrenByClass](d){return this[d]}[$getChildrenByName](d,x,b=!0){return Array.from(this[$getChildrenByNameIt](d,x,b))}*[$getChildrenByNameIt](d,x,b=!0){if(d==="parent"){yield this[_parent];return}for(const S of this[_children])S[$nodeName]===d&&(yield S),S.name===d&&(yield S),(x||S[$isTransparent]())&&(yield*S[$getChildrenByNameIt](d,x,!1));b&&this[_attributeNames].has(d)&&(yield new XFAAttribute(this,d,this[d]))}}class XFAObjectArray{constructor(d=1/0){this[_max]=d,this[_children]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(d){return this[_children].length<=this[_max]?(this[_children].push(d),!0):(warn(`XFA - node "${d[$nodeName]}" accepts no more than ${this[_max]} children`),!1)}isEmpty(){return this[_children].length===0}dump(){return this[_children].length===1?this[_children][0][$dump]():this[_children].map(d=>d[$dump]())}[$clone](){const d=new XFAObjectArray(this[_max]);return d[_children]=this[_children].map(x=>x[$clone]()),d}get children(){return this[_children]}clear(){this[_children].length=0}}class XFAAttribute{constructor(d,x,b){this[_parent]=d,this[$nodeName]=x,this[$content]=b,this[$consumed]=!1,this[$uid]=`attribute${uid++}`}[$getParent](){return this[_parent]}[$isDataValue](){return!0}[$getDataValue](){return this[$content].trim()}[$setValue](d){d=d.value||"",this[$content]=d.toString()}[$text](){return this[$content]}[$isDescendent](d){return this[_parent]===d||this[_parent][$isDescendent](d)}}class XmlObject extends XFAObject{constructor(d,x,b={}){if(super(d,x),this[$content]="",this[_dataValue]=null,x!=="#text"){const S=new Map;this[_attributes]=S;for(const[w,C]of Object.entries(b))S.set(w,new XFAAttribute(this,w,C));if(b.hasOwnProperty($nsAttributes)){const w=b[$nsAttributes].xfa.dataNode;w!==void 0&&(w==="dataGroup"?this[_dataValue]=!1:w==="dataValue"&&(this[_dataValue]=!0))}}this[$consumed]=!1}[$toString](d){const x=this[$nodeName];if(x==="#text"){d.push(encodeToXmlString(this[$content]));return}const b=utf8StringToString(x),S=this[$namespaceId]===NS_DATASETS?"xfa:":"";d.push(`<${S}${b}`);for(const[w,C]of this[_attributes].entries()){const F=utf8StringToString(w);d.push(` ${F}="${encodeToXmlString(C[$content])}"`)}if(this[_dataValue]!==null&&(this[_dataValue]?d.push(' xfa:dataNode="dataValue"'):d.push(' xfa:dataNode="dataGroup"')),!this[$content]&&this[_children].length===0){d.push("/>");return}if(d.push(">"),this[$content])typeof this[$content]=="string"?d.push(encodeToXmlString(this[$content])):this[$content][$toString](d);else for(const w of this[_children])w[$toString](d);d.push(`</${S}${b}>`)}[$onChild](d){if(this[$content]){const x=new XmlObject(this[$namespaceId],"#text");this[$appendChild](x),x[$content]=this[$content],this[$content]=""}return this[$appendChild](d),!0}[$onText](d){this[$content]+=d}[$finalize](){if(this[$content]&&this[_children].length>0){const d=new XmlObject(this[$namespaceId],"#text");this[$appendChild](d),d[$content]=this[$content],delete this[$content]}}[$toHTML](){return this[$nodeName]==="#text"?HTMLResult.success({name:"#text",value:this[$content]}):HTMLResult.EMPTY}[$getChildren](d=null){return d?this[_children].filter(x=>x[$nodeName]===d):this[_children]}[$getAttributes](){return this[_attributes]}[$getChildrenByClass](d){const x=this[_attributes].get(d);return x!==void 0?x:this[$getChildren](d)}*[$getChildrenByNameIt](d,x){const b=this[_attributes].get(d);b&&(yield b);for(const S of this[_children])S[$nodeName]===d&&(yield S),x&&(yield*S[$getChildrenByNameIt](d,x))}*[$getAttributeIt](d,x){const b=this[_attributes].get(d);b&&(!x||!b[$consumed])&&(yield b);for(const S of this[_children])yield*S[$getAttributeIt](d,x)}*[$getRealChildrenByNameIt](d,x,b){for(const S of this[_children])S[$nodeName]===d&&(!b||!S[$consumed])&&(yield S),x&&(yield*S[$getRealChildrenByNameIt](d,x,b))}[$isDataValue](){return this[_dataValue]===null?this[_children].length===0||this[_children][0][$namespaceId]===NamespaceIds.xhtml.id:this[_dataValue]}[$getDataValue](){return this[_dataValue]===null?this[_children].length===0?this[$content].trim():this[_children][0][$namespaceId]===NamespaceIds.xhtml.id?this[_children][0][$text]().trim():null:this[$content].trim()}[$setValue](d){d=d.value||"",this[$content]=d.toString()}[$dump](d=!1){const x=Object.create(null);d&&(x.$ns=this[$namespaceId]),this[$content]&&(x.$content=this[$content]),x.$name=this[$nodeName],x.children=[];for(const b of this[_children])x.children.push(b[$dump](d));x.attributes=Object.create(null);for(const[b,S]of this[_attributes])x.attributes[b]=S[$content];return x}}class ContentObject extends XFAObject{constructor(d,x){super(d,x),this[$content]=""}[$onText](d){this[$content]+=d}[$finalize](){}}class OptionObject extends ContentObject{constructor(d,x,b){super(d,x),this[_options]=b}[$finalize](){this[$content]=getKeyword({data:this[$content],defaultValue:this[_options][0],validate:d=>this[_options].includes(d)})}[$clean](d){super[$clean](d),delete this[_options]}}class StringObject extends ContentObject{[$finalize](){this[$content]=this[$content].trim()}}class IntegerObject extends ContentObject{constructor(d,x,b,S){super(d,x),this[_defaultValue]=b,this[_validator]=S}[$finalize](){this[$content]=getInteger({data:this[$content],defaultValue:this[_defaultValue],validate:this[_validator]})}[$clean](d){super[$clean](d),delete this[_defaultValue],delete this[_validator]}}class Option01 extends IntegerObject{constructor(d,x){super(d,x,0,b=>b===1)}}class Option10 extends IntegerObject{constructor(d,x){super(d,x,1,b=>b===0)}}function measureToString(g){return typeof g=="string"?"0px":Number.isInteger(g)?`${g}px`:`${g.toFixed(2)}px`}const converters={anchorType(g,d){const x=g[$getSubformParent]();if(!(!x||x.layout&&x.layout!=="position"))switch("transform"in d||(d.transform=""),g.anchorType){case"bottomCenter":d.transform+="translate(-50%, -100%)";break;case"bottomLeft":d.transform+="translate(0,-100%)";break;case"bottomRight":d.transform+="translate(-100%,-100%)";break;case"middleCenter":d.transform+="translate(-50%,-50%)";break;case"middleLeft":d.transform+="translate(0,-50%)";break;case"middleRight":d.transform+="translate(-100%,-50%)";break;case"topCenter":d.transform+="translate(-50%,0)";break;case"topRight":d.transform+="translate(-100%,0)";break}},dimensions(g,d){const x=g[$getSubformParent]();let b=g.w;const S=g.h;if(x.layout?.includes("row")){const w=x[$extra],C=g.colSpan;let F;C===-1?(F=w.columnWidths.slice(w.currentColumn).reduce((E,k)=>E+k,0),w.currentColumn=0):(F=w.columnWidths.slice(w.currentColumn,w.currentColumn+C).reduce((E,k)=>E+k,0),w.currentColumn=(w.currentColumn+g.colSpan)%w.columnWidths.length),isNaN(F)||(b=g.w=F)}d.width=b!==""?measureToString(b):"auto",d.height=S!==""?measureToString(S):"auto"},position(g,d){const x=g[$getSubformParent]();x?.layout&&x.layout!=="position"||(d.position="absolute",d.left=measureToString(g.x),d.top=measureToString(g.y))},rotate(g,d){g.rotate&&("transform"in d||(d.transform=""),d.transform+=`rotate(-${g.rotate}deg)`,d.transformOrigin="top left")},presence(g,d){switch(g.presence){case"invisible":d.visibility="hidden";break;case"hidden":case"inactive":d.display="none";break}},hAlign(g,d){if(g[$nodeName]==="para")switch(g.hAlign){case"justifyAll":d.textAlign="justify-all";break;case"radix":d.textAlign="left";break;default:d.textAlign=g.hAlign}else switch(g.hAlign){case"left":d.alignSelf="start";break;case"center":d.alignSelf="center";break;case"right":d.alignSelf="end";break}},margin(g,d){g.margin&&(d.margin=g.margin[$toStyle]().margin)}};function setMinMaxDimensions(g,d){g[$getSubformParent]().layout==="position"&&(g.minW>0&&(d.minWidth=measureToString(g.minW)),g.maxW>0&&(d.maxWidth=measureToString(g.maxW)),g.minH>0&&(d.minHeight=measureToString(g.minH)),g.maxH>0&&(d.maxHeight=measureToString(g.maxH)))}function layoutText(g,d,x,b,S,w){const C=new TextMeasure(d,x,b,S);return typeof g=="string"?C.addString(g):g[$pushGlyphs](C),C.compute(w)}function layoutNode(g,d){let x=null,b=null,S=!1;if((!g.w||!g.h)&&g.value){let w=0,C=0;g.margin&&(w=g.margin.leftInset+g.margin.rightInset,C=g.margin.topInset+g.margin.bottomInset);let F=null,E=null;g.para&&(E=Object.create(null),F=g.para.lineHeight===""?null:g.para.lineHeight,E.top=g.para.spaceAbove===""?0:g.para.spaceAbove,E.bottom=g.para.spaceBelow===""?0:g.para.spaceBelow,E.left=g.para.marginLeft===""?0:g.para.marginLeft,E.right=g.para.marginRight===""?0:g.para.marginRight);let k=g.font;if(!k){const L=g[$getTemplateRoot]();let R=g[$getParent]();for(;R&&R!==L;){if(R.font){k=R.font;break}R=R[$getParent]()}}const D=(g.w||d.width)-w,M=g[$globalData].fontFinder;if(g.value.exData&&g.value.exData[$content]&&g.value.exData.contentType==="text/html"){const L=layoutText(g.value.exData[$content],k,E,F,M,D);b=L.width,x=L.height,S=L.isBroken}else{const L=g.value[$text]();if(L){const R=layoutText(L,k,E,F,M,D);b=R.width,x=R.height,S=R.isBroken}}b!==null&&!g.w&&(b+=w),x!==null&&!g.h&&(x+=C)}return{w:b,h:x,isBroken:S}}function computeBbox(g,d,x){let b;if(g.w!==""&&g.h!=="")b=[g.x,g.y,g.w,g.h];else{if(!x)return null;let S=g.w;if(S===""){if(g.maxW===0){const C=g[$getSubformParent]();S=C.layout==="position"&&C.w!==""?0:g.minW}else S=Math.min(g.maxW,x.width);d.attributes.style.width=measureToString(S)}let w=g.h;if(w===""){if(g.maxH===0){const C=g[$getSubformParent]();w=C.layout==="position"&&C.h!==""?0:g.minH}else w=Math.min(g.maxH,x.height);d.attributes.style.height=measureToString(w)}b=[g.x,g.y,S,w]}return b}function fixDimensions(g){const d=g[$getSubformParent]();if(d.layout?.includes("row")){const x=d[$extra],b=g.colSpan;let S;b===-1?S=x.columnWidths.slice(x.currentColumn).reduce((w,C)=>w+C,0):S=x.columnWidths.slice(x.currentColumn,x.currentColumn+b).reduce((w,C)=>w+C,0),isNaN(S)||(g.w=S)}d.layout&&d.layout!=="position"&&(g.x=g.y=0),g.layout==="table"&&g.w===""&&Array.isArray(g.columnWidths)&&(g.w=g.columnWidths.reduce((x,b)=>x+b,0))}function layoutClass(g){switch(g.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function toStyle(g,...d){const x=Object.create(null);for(const b of d){const S=g[b];if(S!==null){if(converters.hasOwnProperty(b)){converters[b](g,x);continue}if(S instanceof XFAObject){const w=S[$toStyle]();w?Object.assign(x,w):warn(`(DEBUG) - XFA - style for ${b} not implemented yet`)}}}return x}function createWrapper(g,d){const{attributes:x}=d,{style:b}=x,S={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(x.class.push("xfaWrapped"),g.border){const{widths:w,insets:C}=g.border[$extra];let F,E,k=C[0],D=C[3];const M=C[0]+C[2],L=C[1]+C[3];switch(g.border.hand){case"even":k-=w[0]/2,D-=w[3]/2,F=`calc(100% + ${(w[1]+w[3])/2-L}px)`,E=`calc(100% + ${(w[0]+w[2])/2-M}px)`;break;case"left":k-=w[0],D-=w[3],F=`calc(100% + ${w[1]+w[3]-L}px)`,E=`calc(100% + ${w[0]+w[2]-M}px)`;break;case"right":F=L?`calc(100% - ${L}px)`:"100%",E=M?`calc(100% - ${M}px)`:"100%";break}const R=["xfaBorder"];isPrintOnly(g.border)&&R.push("xfaPrintOnly");const U={name:"div",attributes:{class:R,style:{top:`${k}px`,left:`${D}px`,width:F,height:E}},children:[]};for(const j of["border","borderWidth","borderColor","borderRadius","borderStyle"])b[j]!==void 0&&(U.attributes.style[j]=b[j],delete b[j]);S.children.push(U,d)}else S.children.push(d);for(const w of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])b[w]!==void 0&&(S.attributes.style[w]=b[w],delete b[w]);return S.attributes.style.position=b.position==="absolute"?"absolute":"relative",delete b.position,b.alignSelf&&(S.attributes.style.alignSelf=b.alignSelf,delete b.alignSelf),S}function fixTextIndent(g){const d=getMeasurement(g.textIndent,"0px");if(d>=0)return;const b="padding"+((g.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),S=getMeasurement(g[b],"0px");g[b]=`${S-d}px`}function setAccess(g,d){switch(g.access){case"nonInteractive":d.push("xfaNonInteractive");break;case"readOnly":d.push("xfaReadOnly");break;case"protected":d.push("xfaDisabled");break}}function isPrintOnly(g){return g.relevant.length>0&&!g.relevant[0].excluded&&g.relevant[0].viewname==="print"}function getCurrentPara(g){const d=g[$getTemplateRoot]()[$extra].paraStack;return d.length?d.at(-1):null}function setPara(g,d,x){if(x.attributes.class?.includes("xfaRich")){d&&(g.h===""&&(d.height="auto"),g.w===""&&(d.width="auto"));const b=getCurrentPara(g);if(b){const S=x.attributes.style;switch(S.display="flex",S.flexDirection="column",b.vAlign){case"top":S.justifyContent="start";break;case"bottom":S.justifyContent="end";break;case"middle":S.justifyContent="center";break}const w=b[$toStyle]();for(const[C,F]of Object.entries(w))C in S||(S[C]=F)}}}function setFontFamily(g,d,x,b){if(!x){delete b.fontFamily;return}const S=stripQuotes(g.typeface);b.fontFamily=`"${S}"`;const w=x.find(S);if(w){const{fontFamily:C}=w.regular.cssFontInfo;C!==S&&(b.fontFamily=`"${C}"`);const F=getCurrentPara(d);if(F&&F.lineHeight!==""||b.lineHeight)return;const E=selectFont(g,w);E&&(b.lineHeight=Math.max(1.2,E.lineHeight))}}function fixURL(g){const d=createValidAbsoluteUrl(g,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return d?d.href:null}function createLine(g,d){return{name:"div",attributes:{class:[g.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:d}}function flushHTML(g){if(!g[$extra])return null;const x={name:"div",attributes:g[$extra].attributes,children:g[$extra].children};if(g[$extra].failingNode){const b=g[$extra].failingNode[$flushHTML]();b&&(g.layout.endsWith("-tb")?x.children.push(createLine(g,[b])):x.children.push(b))}return x.children.length===0?null:x}function addHTML(g,d,x){const b=g[$extra],S=b.availableSpace,[w,C,F,E]=x;switch(g.layout){case"position":{b.width=Math.max(b.width,w+F),b.height=Math.max(b.height,C+E),b.children.push(d);break}case"lr-tb":case"rl-tb":(!b.line||b.attempt===1)&&(b.line=createLine(g,[]),b.children.push(b.line),b.numberInLine=0),b.numberInLine+=1,b.line.children.push(d),b.attempt===0?(b.currentWidth+=F,b.height=Math.max(b.height,b.prevHeight+E)):(b.currentWidth=F,b.prevHeight=b.height,b.height+=E,b.attempt=0),b.width=Math.max(b.width,b.currentWidth);break;case"rl-row":case"row":{b.children.push(d),b.width+=F,b.height=Math.max(b.height,E);const k=measureToString(b.height);for(const D of b.children)D.attributes.style.height=k;break}case"table":{b.width=Math.min(S.width,Math.max(b.width,F)),b.height+=E,b.children.push(d);break}case"tb":{b.width=Math.min(S.width,Math.max(b.width,F)),b.height+=E,b.children.push(d);break}}}function getAvailableSpace(g){const d=g[$extra].availableSpace,x=g.margin?g.margin.topInset+g.margin.bottomInset:0,b=g.margin?g.margin.leftInset+g.margin.rightInset:0;switch(g.layout){case"lr-tb":case"rl-tb":return g[$extra].attempt===0?{width:d.width-b-g[$extra].currentWidth,height:d.height-x-g[$extra].prevHeight}:{width:d.width-b,height:d.height-x-g[$extra].height};case"rl-row":case"row":return{width:g[$extra].columnWidths.slice(g[$extra].currentColumn).reduce((w,C)=>w+C),height:d.height-b};case"table":case"tb":return{width:d.width-b,height:d.height-x-g[$extra].height};case"position":default:return d}}function getTransformedBBox(g){let d=g.w===""?NaN:g.w,x=g.h===""?NaN:g.h,[b,S]=[0,0];switch(g.anchorType||""){case"bottomCenter":[b,S]=[d/2,x];break;case"bottomLeft":[b,S]=[0,x];break;case"bottomRight":[b,S]=[d,x];break;case"middleCenter":[b,S]=[d/2,x/2];break;case"middleLeft":[b,S]=[0,x/2];break;case"middleRight":[b,S]=[d,x/2];break;case"topCenter":[b,S]=[d/2,0];break;case"topRight":[b,S]=[d,0];break}let w,C;switch(g.rotate||0){case 0:[w,C]=[-b,-S];break;case 90:[w,C]=[-S,b],[d,x]=[x,-d];break;case 180:[w,C]=[b,S],[d,x]=[-d,-x];break;case 270:[w,C]=[S,-b],[d,x]=[-x,d];break}return[g.x+w+Math.min(0,d),g.y+C+Math.min(0,x),Math.abs(d),Math.abs(x)]}function checkDimensions(g,d){if(g[$getTemplateRoot]()[$extra].firstUnsplittable===null||g.w===0||g.h===0)return!0;const x=2,b=g[$getSubformParent](),S=b[$extra]?.attempt||0,[,w,C,F]=getTransformedBBox(g);switch(b.layout){case"lr-tb":case"rl-tb":return S===0?g[$getTemplateRoot]()[$extra].noLayoutFailure?g.w!==""?Math.round(C-d.width)<=x:d.width>x:g.h!==""&&Math.round(F-d.height)>x?!1:g.w!==""?Math.round(C-d.width)<=x?!0:b[$extra].numberInLine===0?d.height>x:!1:d.width>x:g[$getTemplateRoot]()[$extra].noLayoutFailure?!0:g.h!==""&&Math.round(F-d.height)>x?!1:g.w===""||Math.round(C-d.width)<=x?d.height>x:b[$isThereMoreWidth]()?!1:d.height>x;case"table":case"tb":return g[$getTemplateRoot]()[$extra].noLayoutFailure?!0:g.h!==""&&!g[$isSplittable]()?Math.round(F-d.height)<=x:g.w===""||Math.round(C-d.width)<=x?d.height>x:b[$isThereMoreWidth]()?!1:d.height>x;case"position":if(g[$getTemplateRoot]()[$extra].noLayoutFailure||g.h===""||Math.round(F+w-d.height)<=x)return!0;const E=g[$getTemplateRoot]()[$extra].currentContentArea;return F+w>E.h;case"rl-row":case"row":return g[$getTemplateRoot]()[$extra].noLayoutFailure?!0:g.h!==""?Math.round(F-d.height)<=x:!0;default:return!0}}const TEMPLATE_NS_ID=NamespaceIds.template.id,SVG_NS="http://www.w3.org/2000/svg",MAX_ATTEMPTS_FOR_LRTB_LAYOUT=2,MAX_EMPTY_PAGES=3,DEFAULT_TAB_INDEX=5e3,HEADING_PATTERN=/^H(\d+)$/,MIMES=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),IMAGES_HEADERS=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function getBorderDims(g){if(!g||!g.border)return{w:0,h:0};const d=g.border[$getExtra]();return d?{w:d.widths[0]+d.widths[2]+d.insets[0]+d.insets[2],h:d.widths[1]+d.widths[3]+d.insets[1]+d.insets[3]}:{w:0,h:0}}function hasMargin(g){return g.margin&&(g.margin.topInset||g.margin.rightInset||g.margin.bottomInset||g.margin.leftInset)}function _setValue(g,d){if(!g.value){const x=new Value({});g[$appendChild](x),g.value=x}g.value[$setValue](d)}function*getContainedChildren(g){for(const d of g[$getChildren]()){if(d instanceof SubformSet){yield*d[$getContainedChildren]();continue}yield d}}function isRequired(g){return g.validate?.nullTest==="error"}function setTabIndex(g){for(;g;){if(!g.traversal){g[$tabIndex]=g[$getParent]()[$tabIndex];return}if(g[$tabIndex])return;let d=null;for(const S of g.traversal[$getChildren]())if(S.operation==="next"){d=S;break}if(!d||!d.ref){g[$tabIndex]=g[$getParent]()[$tabIndex];return}const x=g[$getTemplateRoot]();g[$tabIndex]=++x[$tabIndex];const b=x[$searchNode](d.ref,g);if(!b)return;g=b[0]}}function applyAssist(g,d){const x=g.assist;if(x){const b=x[$toHTML]();b&&(d.title=b);const w=x.role.match(HEADING_PATTERN);if(w){const C="heading",F=w[1];d.role=C,d["aria-level"]=F}}if(g.layout==="table")d.role="table";else if(g.layout==="row")d.role="row";else{const b=g[$getParent]();b.layout==="row"&&(d.role=b.assist?.role==="TH"?"columnheader":"cell")}}function ariaLabel(g){if(!g.assist)return null;const d=g.assist;return d.speak&&d.speak[$content]!==""?d.speak[$content]:d.toolTip?d.toolTip[$content]:null}function valueToHtml(g){return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:g}]})}function setFirstUnsplittable(g){const d=g[$getTemplateRoot]();d[$extra].firstUnsplittable===null&&(d[$extra].firstUnsplittable=g,d[$extra].noLayoutFailure=!0)}function unsetFirstUnsplittable(g){const d=g[$getTemplateRoot]();d[$extra].firstUnsplittable===g&&(d[$extra].noLayoutFailure=!1)}function handleBreak(g){if(g[$extra]||(g[$extra]=Object.create(null),g.targetType==="auto"))return!1;const d=g[$getTemplateRoot]();let x=null;if(g.target){if(x=d[$searchNode](g.target,g[$getParent]()),!x)return!1;x=x[0]}const{currentPageArea:b,currentContentArea:S}=d[$extra];if(g.targetType==="pageArea")return x instanceof PageArea||(x=null),g.startNew?(g[$extra].target=x||b,!0):x&&x!==b?(g[$extra].target=x,!0):!1;x instanceof ContentArea||(x=null);const w=x&&x[$getParent]();let C,F=w;if(g.startNew)if(x){const E=w.contentArea.children,k=E.indexOf(S),D=E.indexOf(x);k!==-1&&k<D&&(F=null),C=D-1}else C=b.contentArea.children.indexOf(S);else if(x&&x!==S)C=w.contentArea.children.indexOf(x)-1,F=w===b?null:w;else return!1;return g[$extra].target=F,g[$extra].index=C,!0}function handleOverflow(g,d,x){const b=g[$getTemplateRoot](),S=b[$extra].noLayoutFailure,w=d[$getSubformParent];d[$getSubformParent]=()=>g,b[$extra].noLayoutFailure=!0;const C=d[$toHTML](x);g[$addHTML](C.html,C.bbox),b[$extra].noLayoutFailure=S,d[$getSubformParent]=w}class AppearanceFilter extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"appearanceFilter"),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Arc extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"arc",!0),this.circular=getInteger({data:d.circular,defaultValue:0,validate:x=>x===1}),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.startAngle=getFloat({data:d.startAngle,defaultValue:0,validate:x=>!0}),this.sweepAngle=getFloat({data:d.sweepAngle,defaultValue:360,validate:x=>!0}),this.use=d.use||"",this.usehref=d.usehref||"",this.edge=null,this.fill=null}[$toHTML](){const d=this.edge||new Edge({}),x=d[$toStyle](),b=Object.create(null);this.fill?.presence==="visible"?Object.assign(b,this.fill[$toStyle]()):b.fill="transparent",b.strokeWidth=measureToString(d.presence==="visible"?d.thickness:0),b.stroke=x.color;let S;const w={xmlns:SVG_NS,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)S={name:"ellipse",attributes:{xmlns:SVG_NS,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:b}};else{const E=this.startAngle*Math.PI/180,k=this.sweepAngle*Math.PI/180,D=this.sweepAngle>180?1:0,[M,L,R,U]=[50*(1+Math.cos(E)),50*(1-Math.sin(E)),50*(1+Math.cos(E+k)),50*(1-Math.sin(E+k))];S={name:"path",attributes:{xmlns:SVG_NS,d:`M ${M} ${L} A 50 50 0 ${D} 0 ${R} ${U}`,vectorEffect:"non-scaling-stroke",style:b}},Object.assign(w,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const C={name:"svg",children:[S],attributes:w},F=this[$getParent]()[$getParent]();return hasMargin(F)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[C]}):(C.attributes.style.position="absolute",HTMLResult.success(C))}}class Area extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"area",!0),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.id=d.id||"",this.name=d.name||"",this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.desc=null,this.extras=null,this.area=new XFAObjectArray,this.draw=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$isTransparent](){return!0}[$isBindable](){return!0}[$addHTML](d,x){const[b,S,w,C]=x;this[$extra].width=Math.max(this[$extra].width,b+w),this[$extra].height=Math.max(this[$extra].height,S+C),this[$extra].children.push(d)}[$getAvailableSpace](){return this[$extra].availableSpace}[$toHTML](d){const x=toStyle(this,"position"),b={style:x,id:this[$uid],class:["xfaArea"]};isPrintOnly(this)&&b.class.push("xfaPrintOnly"),this.name&&(b.xfaName=this.name);const S=[];this[$extra]={children:S,width:0,height:0,availableSpace:d};const w=this[$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!w.success)return w.isBreak()?w:(delete this[$extra],HTMLResult.FAILURE);x.width=measureToString(this[$extra].width),x.height=measureToString(this[$extra].height);const C={name:"div",attributes:b,children:S},F=[this.x,this.y,this[$extra].width,this[$extra].height];return delete this[$extra],HTMLResult.success(C,F)}}class Assist extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"assist",!0),this.id=d.id||"",this.role=d.role||"",this.use=d.use||"",this.usehref=d.usehref||"",this.speak=null,this.toolTip=null}[$toHTML](){return this.toolTip?.[$content]||null}}class Barcode extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"barcode",!0),this.charEncoding=getKeyword({data:d.charEncoding?d.charEncoding.toLowerCase():"",defaultValue:"",validate:x=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(x)||x.match(/iso-8859-\d{2}/)}),this.checksum=getStringOption(d.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=getInteger({data:d.dataColumnCount,defaultValue:-1,validate:x=>x>=0}),this.dataLength=getInteger({data:d.dataLength,defaultValue:-1,validate:x=>x>=0}),this.dataPrep=getStringOption(d.dataPrep,["none","flateCompress"]),this.dataRowCount=getInteger({data:d.dataRowCount,defaultValue:-1,validate:x=>x>=0}),this.endChar=d.endChar||"",this.errorCorrectionLevel=getInteger({data:d.errorCorrectionLevel,defaultValue:-1,validate:x=>x>=0&&x<=8}),this.id=d.id||"",this.moduleHeight=getMeasurement(d.moduleHeight,"5mm"),this.moduleWidth=getMeasurement(d.moduleWidth,"0.25mm"),this.printCheckDigit=getInteger({data:d.printCheckDigit,defaultValue:0,validate:x=>x===1}),this.rowColumnRatio=getRatio(d.rowColumnRatio),this.startChar=d.startChar||"",this.textLocation=getStringOption(d.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=getInteger({data:d.truncate,defaultValue:0,validate:x=>x===1}),this.type=getStringOption(d.type?d.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=getStringOption(d.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=d.use||"",this.usehref=d.usehref||"",this.wideNarrowRatio=getRatio(d.wideNarrowRatio),this.encrypt=null,this.extras=null}}class Bind extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"bind",!0),this.match=getStringOption(d.match,["once","dataRef","global","none"]),this.ref=d.ref||"",this.picture=null}}class BindItems extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"bindItems"),this.connection=d.connection||"",this.labelRef=d.labelRef||"",this.ref=d.ref||"",this.valueRef=d.valueRef||""}}class Bookend extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"bookend"),this.id=d.id||"",this.leader=d.leader||"",this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||""}}class BooleanElement extends Option01{constructor(d){super(TEMPLATE_NS_ID,"boolean"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$toHTML](d){return valueToHtml(this[$content]===1?"1":"0")}}class Border extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"border",!0),this.break=getStringOption(d.break,["close","open"]),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[$getExtra](){if(!this[$extra]){const d=this.edge.children.slice();if(d.length<4){const S=d.at(-1)||new Edge({});for(let w=d.length;w<4;w++)d.push(S)}const x=d.map(S=>S.thickness),b=[0,0,0,0];this.margin&&(b[0]=this.margin.topInset,b[1]=this.margin.rightInset,b[2]=this.margin.bottomInset,b[3]=this.margin.leftInset),this[$extra]={widths:x,insets:b,edges:d}}return this[$extra]}[$toStyle](){const{edges:d}=this[$getExtra](),x=d.map(S=>{const w=S[$toStyle]();return w.color||="#000000",w}),b=Object.create(null);if(this.margin&&Object.assign(b,this.margin[$toStyle]()),this.fill?.presence==="visible"&&Object.assign(b,this.fill[$toStyle]()),this.corner.children.some(S=>S.radius!==0)){const S=this.corner.children.map(w=>w[$toStyle]());if(S.length===2||S.length===3){const w=S.at(-1);for(let C=S.length;C<4;C++)S.push(w)}b.borderRadius=S.map(w=>w.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":b.borderStyle="";break;case"inactive":b.borderStyle="none";break;default:b.borderStyle=x.map(S=>S.style).join(" ");break}return b.borderWidth=x.map(S=>S.width).join(" "),b.borderColor=x.map(S=>S.color).join(" "),b}}class Break extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"break",!0),this.after=getStringOption(d.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=d.afterTarget||"",this.before=getStringOption(d.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=d.beforeTarget||"",this.bookendLeader=d.bookendLeader||"",this.bookendTrailer=d.bookendTrailer||"",this.id=d.id||"",this.overflowLeader=d.overflowLeader||"",this.overflowTarget=d.overflowTarget||"",this.overflowTrailer=d.overflowTrailer||"",this.startNew=getInteger({data:d.startNew,defaultValue:0,validate:x=>x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}}class BreakAfter extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"breakAfter",!0),this.id=d.id||"",this.leader=d.leader||"",this.startNew=getInteger({data:d.startNew,defaultValue:0,validate:x=>x===1}),this.target=d.target||"",this.targetType=getStringOption(d.targetType,["auto","contentArea","pageArea"]),this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||"",this.script=null}}class BreakBefore extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"breakBefore",!0),this.id=d.id||"",this.leader=d.leader||"",this.startNew=getInteger({data:d.startNew,defaultValue:0,validate:x=>x===1}),this.target=d.target||"",this.targetType=getStringOption(d.targetType,["auto","contentArea","pageArea"]),this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||"",this.script=null}[$toHTML](d){return this[$extra]={},HTMLResult.FAILURE}}class Button extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"button",!0),this.highlight=getStringOption(d.highlight,["inverted","none","outline","push"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$toHTML](d){const b=this[$getParent]()[$getParent](),S={name:"button",attributes:{id:this[$uid],class:["xfaButton"],style:{}},children:[]};for(const w of b.event.children){if(w.activity!=="click"||!w.script)continue;const C=recoverJsURL(w.script[$content]);if(!C)continue;const F=fixURL(C.url);F&&S.children.push({name:"a",attributes:{id:"link"+this[$uid],href:F,newWindow:C.newWindow,class:["xfaLink"],style:{}},children:[]})}return HTMLResult.success(S)}}class Calculate extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"calculate",!0),this.id=d.id||"",this.override=getStringOption(d.override,["disabled","error","ignore","warning"]),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.message=null,this.script=null}}class Caption extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"caption",!0),this.id=d.id||"",this.placement=getStringOption(d.placement,["left","bottom","inline","right","top"]),this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil(getMeasurement(d.reserve)),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[$setValue](d){_setValue(this,d)}[$getExtra](d){if(!this[$extra]){let{width:x,height:b}=d;switch(this.placement){case"left":case"right":case"inline":x=this.reserve<=0?x:this.reserve;break;case"top":case"bottom":b=this.reserve<=0?b:this.reserve;break}this[$extra]=layoutNode(this,{width:x,height:b})}return this[$extra]}[$toHTML](d){if(!this.value)return HTMLResult.EMPTY;this[$pushPara]();const x=this.value[$toHTML](d).html;if(!x)return this[$popPara](),HTMLResult.EMPTY;const b=this.reserve;if(this.reserve<=0){const{w:C,h:F}=this[$getExtra](d);switch(this.placement){case"left":case"right":case"inline":this.reserve=C;break;case"top":case"bottom":this.reserve=F;break}}const S=[];typeof x=="string"?S.push({name:"#text",value:x}):S.push(x);const w=toStyle(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(w.width=measureToString(this.reserve));break;case"top":case"bottom":this.reserve>0&&(w.height=measureToString(this.reserve));break}return setPara(this,null,x),this[$popPara](),this.reserve=b,HTMLResult.success({name:"div",attributes:{style:w,class:["xfaCaption"]},children:S})}}class Certificate extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"certificate"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Certificates extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"certificates",!0),this.credentialServerPolicy=getStringOption(d.credentialServerPolicy,["optional","required"]),this.id=d.id||"",this.url=d.url||"",this.urlPolicy=d.urlPolicy||"",this.use=d.use||"",this.usehref=d.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class CheckButton extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"checkButton",!0),this.id=d.id||"",this.mark=getStringOption(d.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=getStringOption(d.shape,["square","round"]),this.size=getMeasurement(d.size,"10pt"),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle("margin"),b=measureToString(this.size);x.width=x.height=b;let S,w,C;const F=this[$getParent]()[$getParent](),E=F.items.children.length&&F.items.children[0][$toHTML]().html||[],k={on:(E[0]!==void 0?E[0]:"on").toString(),off:(E[1]!==void 0?E[1]:"off").toString()},M=(F.value?.[$text]()||"off")===k.on||void 0,L=F[$getSubformParent](),R=F[$uid];let U;L instanceof ExclGroup?(C=L[$uid],S="radio",w="xfaRadio",U=L[$data]?.[$uid]||L[$uid]):(S="checkbox",w="xfaCheckbox",U=F[$data]?.[$uid]||F[$uid]);const j={name:"input",attributes:{class:[w],style:x,fieldId:R,dataId:U,type:S,checked:M,xfaOn:k.on,xfaOff:k.off,"aria-label":ariaLabel(F),"aria-required":!1}};return C&&(j.attributes.name=C),isRequired(F)&&(j.attributes["aria-required"]=!0,j.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[j]})}}class ChoiceList extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"choiceList",!0),this.commitOn=getStringOption(d.commitOn,["select","exit"]),this.id=d.id||"",this.open=getStringOption(d.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=getInteger({data:d.textEntry,defaultValue:0,validate:x=>x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","margin"),S=this[$getParent]()[$getParent](),C={fontSize:`calc(${S.font?.size||10}px * var(--scale-factor))`},F=[];if(S.items.children.length>0){const k=S.items;let D=0,M=0;k.children.length===2&&(D=k.children[0].save,M=1-D);const L=k.children[D][$toHTML]().html,R=k.children[M][$toHTML]().html;let U=!1;const j=S.value?.[$text]()||"";for(let H=0,V=L.length;H<V;H++){const z={name:"option",attributes:{value:R[H]||L[H],style:C},value:L[H]};R[H]===j&&(z.attributes.selected=U=!0),F.push(z)}U||F.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const E={class:["xfaSelect"],fieldId:S[$uid],dataId:S[$data]?.[$uid]||S[$uid],style:x,"aria-label":ariaLabel(S),"aria-required":!1};return isRequired(S)&&(E["aria-required"]=!0,E.required=!0),this.open==="multiSelect"&&(E.multiple=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:F,attributes:E}]})}}class Color extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"color",!0),this.cSpace=getStringOption(d.cSpace,["SRGB"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.value=d.value?getColor(d.value):"",this.extras=null}[$hasSettableValue](){return!1}[$toStyle](){return this.value?Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Comb extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"comb"),this.id=d.id||"",this.numberOfCells=getInteger({data:d.numberOfCells,defaultValue:0,validate:x=>x>=0}),this.use=d.use||"",this.usehref=d.usehref||""}}class Connect extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"connect",!0),this.connection=d.connection||"",this.id=d.id||"",this.ref=d.ref||"",this.usage=getStringOption(d.usage,["exportAndImport","exportOnly","importOnly"]),this.use=d.use||"",this.usehref=d.usehref||"",this.picture=null}}class ContentArea extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"contentArea",!0),this.h=getMeasurement(d.h),this.id=d.id||"",this.name=d.name||"",this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.w=getMeasurement(d.w),this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.desc=null,this.extras=null}[$toHTML](d){const x=measureToString(this.x),b=measureToString(this.y),S={left:x,top:b,width:measureToString(this.w),height:measureToString(this.h)},w=["xfaContentarea"];return isPrintOnly(this)&&w.push("xfaPrintOnly"),HTMLResult.success({name:"div",children:[],attributes:{style:S,class:w,id:this[$uid]}})}}class Corner extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"corner",!0),this.id=d.id||"",this.inverted=getInteger({data:d.inverted,defaultValue:0,validate:x=>x===1}),this.join=getStringOption(d.join,["square","round"]),this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.radius=getMeasurement(d.radius),this.stroke=getStringOption(d.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(d.thickness,"0.5pt"),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](){const d=toStyle(this,"visibility");return d.radius=measureToString(this.join==="square"?0:this.radius),d}}class DateElement extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"date"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=this[$content].trim();this[$content]=d?new Date(d):null}[$toHTML](d){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTime extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"dateTime"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=this[$content].trim();this[$content]=d?new Date(d):null}[$toHTML](d){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTimeEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"dateTimeEdit",!0),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.picker=getStringOption(d.picker,["host","none"]),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","font","margin"),b=this[$getParent]()[$getParent](),S={name:"input",attributes:{type:"text",fieldId:b[$uid],dataId:b[$data]?.[$uid]||b[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(b),"aria-required":!1}};return isRequired(b)&&(S.attributes["aria-required"]=!0,S.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[S]})}}class Decimal extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"decimal"),this.fracDigits=getInteger({data:d.fracDigits,defaultValue:2,validate:x=>!0}),this.id=d.id||"",this.leadDigits=getInteger({data:d.leadDigits,defaultValue:-1,validate:x=>!0}),this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=parseFloat(this[$content].trim());this[$content]=isNaN(d)?null:d}[$toHTML](d){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class DefaultUi extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"defaultUi",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}}class Desc extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"desc",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class DigestMethod extends OptionObject{constructor(d){super(TEMPLATE_NS_ID,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class DigestMethods extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"digestMethods",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.digestMethod=new XFAObjectArray}}class Draw extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"draw",!0),this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.locale=d.locale||"",this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.rotate=getInteger({data:d.rotate,defaultValue:0,validate:x=>x%90===0}),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new XFAObjectArray}[$setValue](d){_setValue(this,d)}[$toHTML](d){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;fixDimensions(this),this[$pushPara]();const x=this.w,b=this.h,{w:S,h:w,isBroken:C}=layoutNode(this,d);if(S&&this.w===""){if(C&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;this.w=S}if(w&&this.h===""&&(this.h=w),setFirstUnsplittable(this),!checkDimensions(this,d))return this.w=x,this.h=b,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const F=toStyle(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");setMinMaxDimensions(this,F),F.margin&&(F.padding=F.margin,delete F.margin);const E=["xfaDraw"];this.font&&E.push("xfaFont"),isPrintOnly(this)&&E.push("xfaPrintOnly");const k={style:F,id:this[$uid],class:E};this.name&&(k.xfaName=this.name);const D={name:"div",attributes:k,children:[]};applyAssist(this,k);const M=computeBbox(this,D,d),L=this.value?this.value[$toHTML](d).html:null;return L===null?(this.w=x,this.h=b,this[$popPara](),HTMLResult.success(createWrapper(this,D),M)):(D.children.push(L),setPara(this,F,L),this.w=x,this.h=b,this[$popPara](),HTMLResult.success(createWrapper(this,D),M))}}class Edge extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"edge",!0),this.cap=getStringOption(d.cap,["square","butt","round"]),this.id=d.id||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.stroke=getStringOption(d.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(d.thickness,"0.5pt"),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](){const d=toStyle(this,"visibility");if(Object.assign(d,{linecap:this.cap,width:measureToString(this.thickness),color:this.color?this.color[$toStyle]():"#000000",style:""}),this.presence!=="visible")d.style="none";else switch(this.stroke){case"solid":d.style="solid";break;case"dashDot":d.style="dashed";break;case"dashDotDot":d.style="dashed";break;case"dashed":d.style="dashed";break;case"dotted":d.style="dotted";break;case"embossed":d.style="ridge";break;case"etched":d.style="groove";break;case"lowered":d.style="inset";break;case"raised":d.style="outset";break}return d}}let Encoding$1=class extends OptionObject{constructor(d){super(TEMPLATE_NS_ID,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}},Encodings$1=class extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encodings",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.encoding=new XFAObjectArray}};class Encrypt extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encrypt",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=null}}class EncryptData extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encryptData",!0),this.id=d.id||"",this.operation=getStringOption(d.operation,["encrypt","decrypt"]),this.target=d.target||"",this.use=d.use||"",this.usehref=d.usehref||"",this.filter=null,this.manifest=null}}class Encryption extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encryption",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=new XFAObjectArray}}class EncryptionMethod extends OptionObject{constructor(d){super(TEMPLATE_NS_ID,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class EncryptionMethods extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"encryptionMethods",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.encryptionMethod=new XFAObjectArray}}let Event$1=class extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"event",!0),this.activity=getStringOption(d.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=d.id||"",this.listen=getStringOption(d.listen,["refOnly","refAndDescendents"]),this.name=d.name||"",this.ref=d.ref||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}};class ExData extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"exData"),this.contentType=d.contentType||"",this.href=d.href||"",this.id=d.id||"",this.maxLength=getInteger({data:d.maxLength,defaultValue:-1,validate:x=>x>=-1}),this.name=d.name||"",this.rid=d.rid||"",this.transferEncoding=getStringOption(d.transferEncoding,["none","base64","package"]),this.use=d.use||"",this.usehref=d.usehref||""}[$isCDATAXml](){return this.contentType==="text/html"}[$onChild](d){return this.contentType==="text/html"&&d[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=d,!0):this.contentType==="text/xml"?(this[$content]=d,!0):!1}[$toHTML](d){return this.contentType!=="text/html"||!this[$content]?HTMLResult.EMPTY:this[$content][$toHTML](d)}}class ExObject extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"exObject",!0),this.archive=d.archive||"",this.classId=d.classId||"",this.codeBase=d.codeBase||"",this.codeType=d.codeType||"",this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class ExclGroup extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"exclGroup",!0),this.access=getStringOption(d.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=d.accessKey||"",this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.layout=getStringOption(d.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.field=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$hasSettableValue](){return!0}[$setValue](d){for(const x of this.field.children){if(!x.value){const b=new Value({});x[$appendChild](b),x.value=b}x.value[$setValue](d)}}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}[$isSplittable](){const d=this[$getSubformParent]();return d[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):d.layout?.endsWith("-tb")&&d[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$flushHTML](){return flushHTML(this)}[$addHTML](d,x){addHTML(this,d,x)}[$getAvailableSpace](){return getAvailableSpace(this)}[$toHTML](d){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;fixDimensions(this);const x=[],b={id:this[$uid],class:[]};setAccess(this,b.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:x,attributes:b,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,d.width),height:Math.min(this.h||1/0,d.height)},width:0,height:0,prevHeight:0,currentWidth:0});const S=this[$isSplittable]();if(S||setFirstUnsplittable(this),!checkDimensions(this,d))return HTMLResult.FAILURE;const w=new Set(["field"]);if(this.layout.includes("row")){const V=this[$getSubformParent]().columnWidths;Array.isArray(V)&&V.length>0&&(this[$extra].columnWidths=V,this[$extra].currentColumn=0)}const C=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),F=["xfaExclgroup"],E=layoutClass(this);E&&F.push(E),isPrintOnly(this)&&F.push("xfaPrintOnly"),b.style=C,b.class=F,this.name&&(b.xfaName=this.name),this[$pushPara]();const k=this.layout==="lr-tb"||this.layout==="rl-tb",D=k?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<D;this[$extra].attempt++){k&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const V=this[$childrenToHTML]({filter:w,include:!0});if(V.success)break;if(V.isBreak())return this[$popPara](),V;if(k&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!this[$getTemplateRoot]()[$extra].noLayoutFailure){this[$extra].attempt=D;break}}if(this[$popPara](),S||unsetFirstUnsplittable(this),this[$extra].attempt===D)return S||delete this[$extra],HTMLResult.FAILURE;let M=0,L=0;this.margin&&(M=this.margin.leftInset+this.margin.rightInset,L=this.margin.topInset+this.margin.bottomInset);const R=Math.max(this[$extra].width+M,this.w||0),U=Math.max(this[$extra].height+L,this.h||0),j=[this.x,this.y,R,U];this.w===""&&(C.width=measureToString(R)),this.h===""&&(C.height=measureToString(U));const H={name:"div",attributes:b,children:x};return applyAssist(this,b),delete this[$extra],HTMLResult.success(createWrapper(this,H),j)}}class Execute extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"execute"),this.connection=d.connection||"",this.executeType=getStringOption(d.executeType,["import","remerge"]),this.id=d.id||"",this.runAt=getStringOption(d.runAt,["client","both","server"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Extras extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"extras",!0),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.extras=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class Field extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"field",!0),this.access=getStringOption(d.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=d.accessKey||"",this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.locale=d.locale||"",this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.rotate=getInteger({data:d.rotate,defaultValue:0,validate:x=>x%90===0}),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new XFAObjectArray,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$setValue](d){_setValue(this,d)}[$toHTML](d){if(setTabIndex(this),!this.ui){this.ui=new Ui({}),this.ui[$globalData]=this[$globalData],this[$appendChild](this.ui);let V;switch(this.items.children.length){case 0:V=new TextEdit({}),this.ui.textEdit=V;break;case 1:V=new CheckButton({}),this.ui.checkButton=V;break;case 2:V=new ChoiceList({}),this.ui.choiceList=V;break}this.ui[$appendChild](V)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;this.caption&&delete this.caption[$extra],this[$pushPara]();const x=this.caption?this.caption[$toHTML](d).html:null,b=this.w,S=this.h;let w=0,C=0;this.margin&&(w=this.margin.leftInset+this.margin.rightInset,C=this.margin.topInset+this.margin.bottomInset);let F=null;if(this.w===""||this.h===""){let V=null,z=null,G=0,X=0;if(this.ui.checkButton)G=X=this.ui.checkButton.size;else{const{w:Y,h:J}=layoutNode(this,d);Y!==null?(G=Y,X=J):X=fonts_getMetrics(this.font,!0).lineNoGap}if(F=getBorderDims(this.ui[$getExtra]()),G+=F.w,X+=F.h,this.caption){const{w:Y,h:J,isBroken:ee}=this.caption[$getExtra](d);if(ee&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;switch(V=Y,z=J,this.caption.placement){case"left":case"right":case"inline":V+=G;break;case"top":case"bottom":z+=X;break}}else V=G,z=X;V&&this.w===""&&(V+=w,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<V?V:this.minW)),z&&this.h===""&&(z+=C,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<z?z:this.minH))}if(this[$popPara](),fixDimensions(this),setFirstUnsplittable(this),!checkDimensions(this,d))return this.w=b,this.h=S,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const E=toStyle(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");setMinMaxDimensions(this,E);const k=["xfaField"];this.font&&k.push("xfaFont"),isPrintOnly(this)&&k.push("xfaPrintOnly");const D={style:E,id:this[$uid],class:k};E.margin&&(E.padding=E.margin,delete E.margin),setAccess(this,k),this.name&&(D.xfaName=this.name);const M=[],L={name:"div",attributes:D,children:M};applyAssist(this,D);const R=this.border?this.border[$toStyle]():null,U=computeBbox(this,L,d),j=this.ui[$toHTML]().html;if(!j)return Object.assign(E,R),HTMLResult.success(createWrapper(this,L),U);this[$tabIndex]&&(j.children?.[0]?j.children[0].attributes.tabindex=this[$tabIndex]:j.attributes.tabindex=this[$tabIndex]),j.attributes.style||(j.attributes.style=Object.create(null));let H=null;if(this.ui.button?(j.children.length===1&&([H]=j.children.splice(0,1)),Object.assign(j.attributes.style,R)):Object.assign(E,R),M.push(j),this.value){if(this.ui.imageEdit)j.children.push(this.value[$toHTML]().html);else if(!this.ui.button){let V="";if(this.value.exData)V=this.value.exData[$text]();else if(this.value.text)V=this.value.text[$getExtra]();else{const z=this.value[$toHTML]().html;z!==null&&(V=z.children[0].value)}this.ui.textEdit&&this.value.text?.maxChars&&(j.children[0].attributes.maxLength=this.value.text.maxChars),V&&(this.ui.numericEdit&&(V=parseFloat(V),V=isNaN(V)?"":V.toString()),j.children[0].name==="textarea"?j.children[0].attributes.textContent=V:j.children[0].attributes.value=V)}}if(!this.ui.imageEdit&&j.children?.[0]&&this.h){F=F||getBorderDims(this.ui[$getExtra]());let V=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){V=this.caption.reserve,V<=0&&(V=this.caption[$getExtra](d).h);const z=this.h-V-C-F.h;j.children[0].attributes.style.height=measureToString(z)}else j.children[0].attributes.style.height="100%"}if(H&&j.children.push(H),!x)return j.attributes.class&&j.attributes.class.push("xfaLeft"),this.w=b,this.h=S,HTMLResult.success(createWrapper(this,L),U);if(this.ui.button)return E.padding&&delete E.padding,x.name==="div"&&(x.name="span"),j.children.push(x),HTMLResult.success(L,U);switch(this.ui.checkButton&&(x.attributes.class[0]="xfaCaptionForCheckButton"),j.attributes.class||(j.attributes.class=[]),j.children.splice(0,0,x),this.caption.placement){case"left":j.attributes.class.push("xfaLeft");break;case"right":j.attributes.class.push("xfaRight");break;case"top":j.attributes.class.push("xfaTop");break;case"bottom":j.attributes.class.push("xfaBottom");break;case"inline":j.attributes.class.push("xfaLeft");break}return this.w=b,this.h=S,HTMLResult.success(createWrapper(this,L),U)}}class Fill extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"fill",!0),this.id=d.id||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[$toStyle](){const d=this[$getParent](),b=d[$getParent]()[$getParent](),S=Object.create(null);let w="color",C=w;d instanceof Border&&(w="background-color",C="background",b instanceof Ui&&(S.backgroundColor="white")),(d instanceof Rectangle||d instanceof Arc)&&(w=C="fill",S.fill="white");for(const F of Object.getOwnPropertyNames(this)){if(F==="extras"||F==="color")continue;const E=this[F];if(!(E instanceof XFAObject))continue;const k=E[$toStyle](this.color);return k&&(S[k.startsWith("#")?w:C]=k),S}if(this.color?.value){const F=this.color[$toStyle]();S[F.startsWith("#")?w:C]=F}return S}}class Filter extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"filter",!0),this.addRevocationInfo=getStringOption(d.addRevocationInfo,["","required","optional","none"]),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.version=getInteger({data:this.version,defaultValue:5,validate:x=>x>=1&&x<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Float extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"float"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=parseFloat(this[$content].trim());this[$content]=isNaN(d)?null:d}[$toHTML](d){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class template_Font extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"font",!0),this.baselineShift=getMeasurement(d.baselineShift),this.fontHorizontalScale=getFloat({data:d.fontHorizontalScale,defaultValue:100,validate:x=>x>=0}),this.fontVerticalScale=getFloat({data:d.fontVerticalScale,defaultValue:100,validate:x=>x>=0}),this.id=d.id||"",this.kerningMode=getStringOption(d.kerningMode,["none","pair"]),this.letterSpacing=getMeasurement(d.letterSpacing,"0"),this.lineThrough=getInteger({data:d.lineThrough,defaultValue:0,validate:x=>x===1||x===2}),this.lineThroughPeriod=getStringOption(d.lineThroughPeriod,["all","word"]),this.overline=getInteger({data:d.overline,defaultValue:0,validate:x=>x===1||x===2}),this.overlinePeriod=getStringOption(d.overlinePeriod,["all","word"]),this.posture=getStringOption(d.posture,["normal","italic"]),this.size=getMeasurement(d.size,"10pt"),this.typeface=d.typeface||"Courier",this.underline=getInteger({data:d.underline,defaultValue:0,validate:x=>x===1||x===2}),this.underlinePeriod=getStringOption(d.underlinePeriod,["all","word"]),this.use=d.use||"",this.usehref=d.usehref||"",this.weight=getStringOption(d.weight,["normal","bold"]),this.extras=null,this.fill=null}[$clean](d){super[$clean](d),this[$globalData].usedTypefaces.add(this.typeface)}[$toStyle](){const d=toStyle(this,"fill"),x=d.color;return x&&(x==="#000000"?delete d.color:x.startsWith("#")||(d.background=x,d.backgroundClip="text",d.color="transparent")),this.baselineShift&&(d.verticalAlign=measureToString(this.baselineShift)),d.fontKerning=this.kerningMode==="none"?"none":"normal",d.letterSpacing=measureToString(this.letterSpacing),this.lineThrough!==0&&(d.textDecoration="line-through",this.lineThrough===2&&(d.textDecorationStyle="double")),this.overline!==0&&(d.textDecoration="overline",this.overline===2&&(d.textDecorationStyle="double")),d.fontStyle=this.posture,d.fontSize=measureToString(.99*this.size),setFontFamily(this,this,this[$globalData].fontFinder,d),this.underline!==0&&(d.textDecoration="underline",this.underline===2&&(d.textDecorationStyle="double")),d.fontWeight=this.weight,d}}class Format extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"format",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.picture=null}}class Handler extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"handler"),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Hyphenation extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"hyphenation"),this.excludeAllCaps=getInteger({data:d.excludeAllCaps,defaultValue:0,validate:x=>x===1}),this.excludeInitialCap=getInteger({data:d.excludeInitialCap,defaultValue:0,validate:x=>x===1}),this.hyphenate=getInteger({data:d.hyphenate,defaultValue:0,validate:x=>x===1}),this.id=d.id||"",this.pushCharacterCount=getInteger({data:d.pushCharacterCount,defaultValue:3,validate:x=>x>=0}),this.remainCharacterCount=getInteger({data:d.remainCharacterCount,defaultValue:3,validate:x=>x>=0}),this.use=d.use||"",this.usehref=d.usehref||"",this.wordCharacterCount=getInteger({data:d.wordCharacterCount,defaultValue:7,validate:x=>x>=0})}}let Image$1=class extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"image"),this.aspect=getStringOption(d.aspect,["fit","actual","height","none","width"]),this.contentType=d.contentType||"",this.href=d.href||"",this.id=d.id||"",this.name=d.name||"",this.transferEncoding=getStringOption(d.transferEncoding,["base64","none","package"]),this.use=d.use||"",this.usehref=d.usehref||""}[$toHTML](){if(this.contentType&&!MIMES.has(this.contentType.toLowerCase()))return HTMLResult.EMPTY;let d=this[$globalData].images&&this[$globalData].images.get(this.href);if(!d&&(this.href||!this[$content])||(!d&&this.transferEncoding==="base64"&&(d=stringToBytes(atob(this[$content]))),!d))return HTMLResult.EMPTY;if(!this.contentType){for(const[w,C]of IMAGES_HEADERS)if(d.length>w.length&&w.every((F,E)=>F===d[E])){this.contentType=C;break}if(!this.contentType)return HTMLResult.EMPTY}const x=new Blob([d],{type:this.contentType});let b;switch(this.aspect){case"fit":case"actual":break;case"height":b={height:"100%",objectFit:"fill"};break;case"none":b={width:"100%",height:"100%",objectFit:"fill"};break;case"width":b={width:"100%",objectFit:"fill"};break}const S=this[$getParent]();return HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:b,src:URL.createObjectURL(x),alt:S?ariaLabel(S[$getParent]()):null}})}};class ImageEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"imageEdit",!0),this.data=getStringOption(d.data,["link","embed"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](d){return this.data==="embed"?HTMLResult.success({name:"div",children:[],attributes:{}}):HTMLResult.EMPTY}}class Integer extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"integer"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=parseInt(this[$content].trim(),10);this[$content]=isNaN(d)?null:d}[$toHTML](d){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class Issuers extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"issuers",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=new XFAObjectArray}}class Items extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"items",!0),this.id=d.id||"",this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.ref=d.ref||"",this.save=getInteger({data:d.save,defaultValue:0,validate:x=>x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$toHTML](){const d=[];for(const x of this[$getChildren]())d.push(x[$text]());return HTMLResult.success(d)}}class Keep extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"keep",!0),this.id=d.id||"";const x=["none","contentArea","pageArea"];this.intact=getStringOption(d.intact,x),this.next=getStringOption(d.next,x),this.previous=getStringOption(d.previous,x),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}}class KeyUsage extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"keyUsage");const x=["","yes","no"];this.crlSign=getStringOption(d.crlSign,x),this.dataEncipherment=getStringOption(d.dataEncipherment,x),this.decipherOnly=getStringOption(d.decipherOnly,x),this.digitalSignature=getStringOption(d.digitalSignature,x),this.encipherOnly=getStringOption(d.encipherOnly,x),this.id=d.id||"",this.keyAgreement=getStringOption(d.keyAgreement,x),this.keyCertSign=getStringOption(d.keyCertSign,x),this.keyEncipherment=getStringOption(d.keyEncipherment,x),this.nonRepudiation=getStringOption(d.nonRepudiation,x),this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Line extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"line",!0),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.slope=getStringOption(d.slope,["\\","/"]),this.use=d.use||"",this.usehref=d.usehref||"",this.edge=null}[$toHTML](){const d=this[$getParent]()[$getParent](),x=this.edge||new Edge({}),b=x[$toStyle](),S=Object.create(null),w=x.presence==="visible"?x.thickness:0;S.strokeWidth=measureToString(w),S.stroke=b.color;let C,F,E,k,D="100%",M="100%";d.w<=w?([C,F,E,k]=["50%",0,"50%","100%"],D=S.strokeWidth):d.h<=w?([C,F,E,k]=[0,"50%","100%","50%"],M=S.strokeWidth):this.slope==="\\"?[C,F,E,k]=[0,0,"100%","100%"]:[C,F,E,k]=[0,"100%","100%",0];const R={name:"svg",children:[{name:"line",attributes:{xmlns:SVG_NS,x1:C,y1:F,x2:E,y2:k,style:S}}],attributes:{xmlns:SVG_NS,width:D,height:M,style:{overflow:"visible"}}};return hasMargin(d)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[R]}):(R.attributes.style.position="absolute",HTMLResult.success(R))}}class Linear extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"linear",!0),this.id=d.id||"",this.type=getStringOption(d.type,["toRight","toBottom","toLeft","toTop"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){d=d?d[$toStyle]():"#FFFFFF";const x=this.type.replace(/([RBLT])/," $1").toLowerCase(),b=this.color?this.color[$toStyle]():"#000000";return`linear-gradient(${x}, ${d}, ${b})`}}class LockDocument extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"lockDocument"),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){this[$content]=getStringOption(this[$content],["auto","0","1"])}}class Manifest extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"manifest",!0),this.action=getStringOption(d.action,["include","all","exclude"]),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.ref=new XFAObjectArray}}class Margin extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"margin",!0),this.bottomInset=getMeasurement(d.bottomInset,"0"),this.id=d.id||"",this.leftInset=getMeasurement(d.leftInset,"0"),this.rightInset=getMeasurement(d.rightInset,"0"),this.topInset=getMeasurement(d.topInset,"0"),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$toStyle](){return{margin:measureToString(this.topInset)+" "+measureToString(this.rightInset)+" "+measureToString(this.bottomInset)+" "+measureToString(this.leftInset)}}}class Mdp extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"mdp"),this.id=d.id||"",this.permissions=getInteger({data:d.permissions,defaultValue:2,validate:x=>x===1||x===3}),this.signatureType=getStringOption(d.signatureType,["filler","author"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Medium extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"medium"),this.id=d.id||"",this.imagingBBox=getBBox(d.imagingBBox),this.long=getMeasurement(d.long),this.orientation=getStringOption(d.orientation,["portrait","landscape"]),this.short=getMeasurement(d.short),this.stock=d.stock||"",this.trayIn=getStringOption(d.trayIn,["auto","delegate","pageFront"]),this.trayOut=getStringOption(d.trayOut,["auto","delegate"]),this.use=d.use||"",this.usehref=d.usehref||""}}class Message extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"message",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.text=new XFAObjectArray}}class NumericEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"numericEdit",!0),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","font","margin"),b=this[$getParent]()[$getParent](),S={name:"input",attributes:{type:"text",fieldId:b[$uid],dataId:b[$data]?.[$uid]||b[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(b),"aria-required":!1}};return isRequired(b)&&(S.attributes["aria-required"]=!0,S.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[S]})}}class Occur extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"occur",!0),this.id=d.id||"",this.initial=d.initial!==""?getInteger({data:d.initial,defaultValue:"",validate:x=>!0}):"",this.max=d.max!==""?getInteger({data:d.max,defaultValue:1,validate:x=>!0}):"",this.min=d.min!==""?getInteger({data:d.min,defaultValue:1,validate:x=>!0}):"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$clean](){const d=this[$getParent](),x=this.min;this.min===""&&(this.min=d instanceof PageArea||d instanceof PageSet?0:1),this.max===""&&(x===""?this.max=d instanceof PageArea||d instanceof PageSet?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=d instanceof Template?1:this.min)}}class Oid extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"oid"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Oids extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"oids",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.oid=new XFAObjectArray}}class Overflow extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"overflow"),this.id=d.id||"",this.leader=d.leader||"",this.target=d.target||"",this.trailer=d.trailer||"",this.use=d.use||"",this.usehref=d.usehref||""}[$getExtra](){if(!this[$extra]){const d=this[$getParent](),x=this[$getTemplateRoot](),b=x[$searchNode](this.target,d),S=x[$searchNode](this.leader,d),w=x[$searchNode](this.trailer,d);this[$extra]={target:b?.[0]||null,leader:S?.[0]||null,trailer:w?.[0]||null,addLeader:!1,addTrailer:!1}}return this[$extra]}}class PageArea extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"pageArea",!0),this.blankOrNotBlank=getStringOption(d.blankOrNotBlank,["any","blank","notBlank"]),this.id=d.id||"",this.initialNumber=getInteger({data:d.initialNumber,defaultValue:1,validate:x=>!0}),this.name=d.name||"",this.numbered=getInteger({data:d.numbered,defaultValue:1,validate:x=>!0}),this.oddOrEven=getStringOption(d.oddOrEven,["any","even","odd"]),this.pagePosition=getStringOption(d.pagePosition,["any","first","last","only","rest"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.draw=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray}[$isUsable](){return this[$extra]?!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max:(this[$extra]={numberOfUse:0},!0)}[$cleanPage](){delete this[$extra]}[$getNextPage](){this[$extra]||(this[$extra]={numberOfUse:0});const d=this[$getParent]();return d.relation==="orderedOccurrence"&&this[$isUsable]()?(this[$extra].numberOfUse+=1,this):d[$getNextPage]()}[$getAvailableSpace](){return this[$extra].space||{width:0,height:0}}[$toHTML](){this[$extra]||(this[$extra]={numberOfUse:1});const d=[];this[$extra].children=d;const x=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(x.width=measureToString(this.medium.short),x.height=measureToString(this.medium.long),this[$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const b=x.width;x.width=x.height,x.height=b,this[$extra].space={width:this.medium.long,height:this.medium.short}}}else warn("XFA - No medium specified in pageArea: please file a bug.");return this[$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),HTMLResult.success({name:"div",children:d,attributes:{class:["xfaPage"],id:this[$uid],style:x,xfaName:this.name}})}}class PageSet extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"pageSet",!0),this.duplexImposition=getStringOption(d.duplexImposition,["longEdge","shortEdge"]),this.id=d.id||"",this.name=d.name||"",this.relation=getStringOption(d.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.occur=null,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray}[$cleanPage](){for(const d of this.pageArea.children)d[$cleanPage]();for(const d of this.pageSet.children)d[$cleanPage]()}[$isUsable](){return!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max}[$getNextPage](){if(this[$extra]||(this[$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[$extra].pageIndex+1<this.pageArea.children.length)return this[$extra].pageIndex+=1,this.pageArea.children[this[$extra].pageIndex][$getNextPage]();if(this[$extra].pageSetIndex+1<this.pageSet.children.length)return this[$extra].pageSetIndex+=1,this.pageSet.children[this[$extra].pageSetIndex][$getNextPage]();if(this[$isUsable]())return this[$extra].numberOfUse+=1,this[$extra].pageIndex=-1,this[$extra].pageSetIndex=-1,this[$getNextPage]();const w=this[$getParent]();return w instanceof PageSet?w[$getNextPage]():(this[$cleanPage](),this[$getNextPage]())}const d=this[$getTemplateRoot]()[$extra].pageNumber,x=d%2===0?"even":"odd",b=d===0?"first":"rest";let S=this.pageArea.children.find(w=>w.oddOrEven===x&&w.pagePosition===b);return S||(S=this.pageArea.children.find(w=>w.oddOrEven==="any"&&w.pagePosition===b),S)||(S=this.pageArea.children.find(w=>w.oddOrEven==="any"&&w.pagePosition==="any"),S)?S:this.pageArea.children[0]}}class Para extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"para",!0),this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.lineHeight=d.lineHeight?getMeasurement(d.lineHeight,"0pt"):"",this.marginLeft=d.marginLeft?getMeasurement(d.marginLeft,"0pt"):"",this.marginRight=d.marginRight?getMeasurement(d.marginRight,"0pt"):"",this.orphans=getInteger({data:d.orphans,defaultValue:0,validate:x=>x>=0}),this.preserve=d.preserve||"",this.radixOffset=d.radixOffset?getMeasurement(d.radixOffset,"0pt"):"",this.spaceAbove=d.spaceAbove?getMeasurement(d.spaceAbove,"0pt"):"",this.spaceBelow=d.spaceBelow?getMeasurement(d.spaceBelow,"0pt"):"",this.tabDefault=d.tabDefault?getMeasurement(this.tabDefault):"",this.tabStops=(d.tabStops||"").trim().split(/\s+/).map((x,b)=>b%2===1?getMeasurement(x):x),this.textIndent=d.textIndent?getMeasurement(d.textIndent,"0pt"):"",this.use=d.use||"",this.usehref=d.usehref||"",this.vAlign=getStringOption(d.vAlign,["top","bottom","middle"]),this.widows=getInteger({data:d.widows,defaultValue:0,validate:x=>x>=0}),this.hyphenation=null}[$toStyle](){const d=toStyle(this,"hAlign");return this.marginLeft!==""&&(d.paddingLeft=measureToString(this.marginLeft)),this.marginRight!==""&&(d.paddingight=measureToString(this.marginRight)),this.spaceAbove!==""&&(d.paddingTop=measureToString(this.spaceAbove)),this.spaceBelow!==""&&(d.paddingBottom=measureToString(this.spaceBelow)),this.textIndent!==""&&(d.textIndent=measureToString(this.textIndent),fixTextIndent(d)),this.lineHeight>0&&(d.lineHeight=measureToString(this.lineHeight)),this.tabDefault!==""&&(d.tabSize=measureToString(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(d,this.hyphenatation[$toStyle]()),d}}class PasswordEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"passwordEdit",!0),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.passwordChar=d.passwordChar||"*",this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.margin=null}}class template_Pattern extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"pattern",!0),this.id=d.id||"",this.type=getStringOption(d.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){d=d?d[$toStyle]():"#FFFFFF";const x=this.color?this.color[$toStyle]():"#000000",b=5,S="repeating-linear-gradient",w=`${d},${d} ${b}px,${x} ${b}px,${x} ${2*b}px`;switch(this.type){case"crossHatch":return`${S}(to top,${w}) ${S}(to right,${w})`;case"crossDiagonal":return`${S}(45deg,${w}) ${S}(-45deg,${w})`;case"diagonalLeft":return`${S}(45deg,${w})`;case"diagonalRight":return`${S}(-45deg,${w})`;case"horizontal":return`${S}(to top,${w})`;case"vertical":return`${S}(to right,${w})`}return""}}class Picture extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"picture"),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Proto extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"proto",!0),this.appearanceFilter=new XFAObjectArray,this.arc=new XFAObjectArray,this.area=new XFAObjectArray,this.assist=new XFAObjectArray,this.barcode=new XFAObjectArray,this.bindItems=new XFAObjectArray,this.bookend=new XFAObjectArray,this.boolean=new XFAObjectArray,this.border=new XFAObjectArray,this.break=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.button=new XFAObjectArray,this.calculate=new XFAObjectArray,this.caption=new XFAObjectArray,this.certificate=new XFAObjectArray,this.certificates=new XFAObjectArray,this.checkButton=new XFAObjectArray,this.choiceList=new XFAObjectArray,this.color=new XFAObjectArray,this.comb=new XFAObjectArray,this.connect=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.corner=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.dateTimeEdit=new XFAObjectArray,this.decimal=new XFAObjectArray,this.defaultUi=new XFAObjectArray,this.desc=new XFAObjectArray,this.digestMethod=new XFAObjectArray,this.digestMethods=new XFAObjectArray,this.draw=new XFAObjectArray,this.edge=new XFAObjectArray,this.encoding=new XFAObjectArray,this.encodings=new XFAObjectArray,this.encrypt=new XFAObjectArray,this.encryptData=new XFAObjectArray,this.encryption=new XFAObjectArray,this.encryptionMethod=new XFAObjectArray,this.encryptionMethods=new XFAObjectArray,this.event=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.execute=new XFAObjectArray,this.extras=new XFAObjectArray,this.field=new XFAObjectArray,this.fill=new XFAObjectArray,this.filter=new XFAObjectArray,this.float=new XFAObjectArray,this.font=new XFAObjectArray,this.format=new XFAObjectArray,this.handler=new XFAObjectArray,this.hyphenation=new XFAObjectArray,this.image=new XFAObjectArray,this.imageEdit=new XFAObjectArray,this.integer=new XFAObjectArray,this.issuers=new XFAObjectArray,this.items=new XFAObjectArray,this.keep=new XFAObjectArray,this.keyUsage=new XFAObjectArray,this.line=new XFAObjectArray,this.linear=new XFAObjectArray,this.lockDocument=new XFAObjectArray,this.manifest=new XFAObjectArray,this.margin=new XFAObjectArray,this.mdp=new XFAObjectArray,this.medium=new XFAObjectArray,this.message=new XFAObjectArray,this.numericEdit=new XFAObjectArray,this.occur=new XFAObjectArray,this.oid=new XFAObjectArray,this.oids=new XFAObjectArray,this.overflow=new XFAObjectArray,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray,this.para=new XFAObjectArray,this.passwordEdit=new XFAObjectArray,this.pattern=new XFAObjectArray,this.picture=new XFAObjectArray,this.radial=new XFAObjectArray,this.reason=new XFAObjectArray,this.reasons=new XFAObjectArray,this.rectangle=new XFAObjectArray,this.ref=new XFAObjectArray,this.script=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.signData=new XFAObjectArray,this.signature=new XFAObjectArray,this.signing=new XFAObjectArray,this.solid=new XFAObjectArray,this.speak=new XFAObjectArray,this.stipple=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray,this.subjectDN=new XFAObjectArray,this.subjectDNs=new XFAObjectArray,this.submit=new XFAObjectArray,this.text=new XFAObjectArray,this.textEdit=new XFAObjectArray,this.time=new XFAObjectArray,this.timeStamp=new XFAObjectArray,this.toolTip=new XFAObjectArray,this.traversal=new XFAObjectArray,this.traverse=new XFAObjectArray,this.ui=new XFAObjectArray,this.validate=new XFAObjectArray,this.value=new XFAObjectArray,this.variables=new XFAObjectArray}}class Radial extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"radial",!0),this.id=d.id||"",this.type=getStringOption(d.type,["toEdge","toCenter"]),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){d=d?d[$toStyle]():"#FFFFFF";const x=this.color?this.color[$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${d},${x}`:`${x},${d}`})`}}class Reason extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"reason"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Reasons extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"reasons",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.reason=new XFAObjectArray}}class Rectangle extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"rectangle",!0),this.hand=getStringOption(d.hand,["even","left","right"]),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.fill=null}[$toHTML](){const d=this.edge.children.length?this.edge.children[0]:new Edge({}),x=d[$toStyle](),b=Object.create(null);this.fill?.presence==="visible"?Object.assign(b,this.fill[$toStyle]()):b.fill="transparent",b.strokeWidth=measureToString(d.presence==="visible"?d.thickness:0),b.stroke=x.color;const w=(this.corner.children.length?this.corner.children[0]:new Corner({}))[$toStyle](),F={name:"svg",children:[{name:"rect",attributes:{xmlns:SVG_NS,width:"100%",height:"100%",x:0,y:0,rx:w.radius,ry:w.radius,style:b}}],attributes:{xmlns:SVG_NS,style:{overflow:"visible"},width:"100%",height:"100%"}},E=this[$getParent]()[$getParent]();return hasMargin(E)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[F]}):(F.attributes.style.position="absolute",HTMLResult.success(F))}}class RefElement extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"ref"),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Script extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"script"),this.binding=d.binding||"",this.contentType=d.contentType||"",this.id=d.id||"",this.name=d.name||"",this.runAt=getStringOption(d.runAt,["client","both","server"]),this.use=d.use||"",this.usehref=d.usehref||""}}class SetProperty extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"setProperty"),this.connection=d.connection||"",this.ref=d.ref||"",this.target=d.target||""}}class SignData extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"signData",!0),this.id=d.id||"",this.operation=getStringOption(d.operation,["sign","clear","verify"]),this.ref=d.ref||"",this.target=d.target||"",this.use=d.use||"",this.usehref=d.usehref||"",this.filter=null,this.manifest=null}}class Signature extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"signature",!0),this.id=d.id||"",this.type=getStringOption(d.type,["PDF1.3","PDF1.6"]),this.use=d.use||"",this.usehref=d.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Signing extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"signing",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.certificate=new XFAObjectArray}}class Solid extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"solid",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null}[$toStyle](d){return d?d[$toStyle]():"#FFFFFF"}}class Speak extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"speak"),this.disable=getInteger({data:d.disable,defaultValue:0,validate:x=>x===1}),this.id=d.id||"",this.priority=getStringOption(d.priority,["custom","caption","name","toolTip"]),this.rid=d.rid||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Stipple extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"stipple",!0),this.id=d.id||"",this.rate=getInteger({data:d.rate,defaultValue:50,validate:x=>x>=0&&x<=100}),this.use=d.use||"",this.usehref=d.usehref||"",this.color=null,this.extras=null}[$toStyle](d){const x=this.rate/100;return Util.makeHexColor(Math.round(d.value.r*(1-x)+this.value.r*x),Math.round(d.value.g*(1-x)+this.value.g*x),Math.round(d.value.b*(1-x)+this.value.b*x))}}class Subform extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"subform",!0),this.access=getStringOption(d.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=getInteger({data:d.allowMacro,defaultValue:0,validate:x=>x===1}),this.anchorType=getStringOption(d.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:d.colSpan,defaultValue:1,validate:x=>x>=1||x===-1}),this.columnWidths=(d.columnWidths||"").trim().split(/\s+/).map(x=>x==="-1"?-1:getMeasurement(x)),this.h=d.h?getMeasurement(d.h):"",this.hAlign=getStringOption(d.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=d.id||"",this.layout=getStringOption(d.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=d.locale||"",this.maxH=getMeasurement(d.maxH,"0pt"),this.maxW=getMeasurement(d.maxW,"0pt"),this.mergeMode=getStringOption(d.mergeMode,["consumeData","matchTemplate"]),this.minH=getMeasurement(d.minH,"0pt"),this.minW=getMeasurement(d.minW,"0pt"),this.name=d.name||"",this.presence=getStringOption(d.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(d.relevant),this.restoreState=getStringOption(d.restoreState,["manual","auto"]),this.scope=getStringOption(d.scope,["name","none"]),this.use=d.use||"",this.usehref=d.usehref||"",this.w=d.w?getMeasurement(d.w):"",this.x=getMeasurement(d.x,"0pt"),this.y=getMeasurement(d.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.connect=new XFAObjectArray,this.draw=new XFAObjectArray,this.event=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.proto=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}[$getSubformParent](){const d=this[$getParent]();return d instanceof SubformSet?d[$getSubformParent]():d}[$isBindable](){return!0}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}*[$getContainedChildren](){yield*getContainedChildren(this)}[$flushHTML](){return flushHTML(this)}[$addHTML](d,x){addHTML(this,d,x)}[$getAvailableSpace](){return getAvailableSpace(this)}[$isSplittable](){const d=this[$getSubformParent]();return d[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[$extra]._isSplittable=!1,!1):d.layout?.endsWith("-tb")&&d[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$toHTML](d){if(setTabIndex(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const X=new BreakAfter({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});X[$globalData]=this[$globalData],this[$appendChild](X),this.breakAfter.push(X)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const X=new BreakBefore({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});X[$globalData]=this[$globalData],this[$appendChild](X),this.breakBefore.push(X)}if(this.break.overflowTarget!==""){const X=new Overflow({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});X[$globalData]=this[$globalData],this[$appendChild](X),this.overflow.push(X)}this[$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&warn("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const X=this.breakBefore.children[0];if(handleBreak(X))return HTMLResult.breakNode(X)}if(this[$extra]?.afterBreakAfter)return HTMLResult.EMPTY;fixDimensions(this);const x=[],b={id:this[$uid],class:[]};setAccess(this,b.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:x,line:null,attributes:b,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,d.width),height:Math.min(this.h||1/0,d.height)},width:0,height:0,prevHeight:0,currentWidth:0});const S=this[$getTemplateRoot](),w=S[$extra].noLayoutFailure,C=this[$isSplittable]();if(C||setFirstUnsplittable(this),!checkDimensions(this,d))return HTMLResult.FAILURE;const F=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const X=this[$getSubformParent]().columnWidths;Array.isArray(X)&&X.length>0&&(this[$extra].columnWidths=X,this[$extra].currentColumn=0)}const E=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),k=["xfaSubform"],D=layoutClass(this);if(D&&k.push(D),b.style=E,b.class=k,this.name&&(b.xfaName=this.name),this.overflow){const X=this.overflow[$getExtra]();X.addLeader&&(X.addLeader=!1,handleOverflow(this,X.leader,d))}this[$pushPara]();const M=this.layout==="lr-tb"||this.layout==="rl-tb",L=M?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<L;this[$extra].attempt++){M&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const X=this[$childrenToHTML]({filter:F,include:!0});if(X.success)break;if(X.isBreak())return this[$popPara](),X;if(M&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!S[$extra].noLayoutFailure){this[$extra].attempt=L;break}}if(this[$popPara](),C||unsetFirstUnsplittable(this),S[$extra].noLayoutFailure=w,this[$extra].attempt===L)return this.overflow&&(this[$getTemplateRoot]()[$extra].overflowNode=this.overflow),C||delete this[$extra],HTMLResult.FAILURE;if(this.overflow){const X=this.overflow[$getExtra]();X.addTrailer&&(X.addTrailer=!1,handleOverflow(this,X.trailer,d))}let R=0,U=0;this.margin&&(R=this.margin.leftInset+this.margin.rightInset,U=this.margin.topInset+this.margin.bottomInset);const j=Math.max(this[$extra].width+R,this.w||0),H=Math.max(this[$extra].height+U,this.h||0),V=[this.x,this.y,j,H];if(this.w===""&&(E.width=measureToString(j)),this.h===""&&(E.height=measureToString(H)),(E.width==="0px"||E.height==="0px")&&x.length===0)return HTMLResult.EMPTY;const z={name:"div",attributes:b,children:x};applyAssist(this,b);const G=HTMLResult.success(createWrapper(this,z),V);if(this.breakAfter.children.length>=1){const X=this.breakAfter.children[0];if(handleBreak(X))return this[$extra].afterBreakAfter=G,HTMLResult.breakNode(X)}return delete this[$extra],G}}class SubformSet extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"subformSet",!0),this.id=d.id||"",this.name=d.name||"",this.relation=getStringOption(d.relation,["ordered","choice","unordered"]),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$getSubformParent](){let d=this[$getParent]();for(;!(d instanceof Subform);)d=d[$getParent]();return d}[$isBindable](){return!0}}class SubjectDN extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"subjectDN"),this.delimiter=d.delimiter||",",this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){this[$content]=new Map(this[$content].split(this.delimiter).map(d=>(d=d.split("=",2),d[0]=d[0].trim(),d)))}}class SubjectDNs extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"subjectDNs",!0),this.id=d.id||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||"",this.subjectDN=new XFAObjectArray}}class Submit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"submit",!0),this.embedPDF=getInteger({data:d.embedPDF,defaultValue:0,validate:x=>x===1}),this.format=getStringOption(d.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=d.id||"",this.target=d.target||"",this.textEncoding=getKeyword({data:d.textEncoding?d.textEncoding.toLowerCase():"",defaultValue:"",validate:x=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(x)||x.match(/iso-8859-\d{2}/)}),this.use=d.use||"",this.usehref=d.usehref||"",this.xdpContent=d.xdpContent||"",this.encrypt=null,this.encryptData=new XFAObjectArray,this.signData=new XFAObjectArray}}class Template extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"template",!0),this.baseProfile=getStringOption(d.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new XFAObjectArray}[$finalize](){this.subform.children.length===0&&warn("XFA - No subforms in template node."),this.subform.children.length>=2&&warn("XFA - Several subforms in template node: please file a bug."),this[$tabIndex]=DEFAULT_TAB_INDEX}[$isSplittable](){return!0}[$searchNode](d,x){return d.startsWith("#")?[this[$ids].get(d.slice(1))]:searchNode(this,x,d,!0,!0)}*[$toPages](){if(!this.subform.children.length)return HTMLResult.success({name:"div",children:[]});this[$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const d=this.subform.children[0];d.pageSet[$cleanPage]();const x=d.pageSet.pageArea.children,b={name:"div",children:[]};let S=null,w=null,C=null;if(d.breakBefore.children.length>=1?(w=d.breakBefore.children[0],C=w.target):d.subform.children.length>=1&&d.subform.children[0].breakBefore.children.length>=1?(w=d.subform.children[0].breakBefore.children[0],C=w.target):d.break?.beforeTarget?(w=d.break,C=w.beforeTarget):d.subform.children.length>=1&&d.subform.children[0].break?.beforeTarget&&(w=d.subform.children[0].break,C=w.beforeTarget),w){const U=this[$searchNode](C,w[$getParent]());U instanceof PageArea&&(S=U,w[$extra]={})}S||(S=x[0]),S[$extra]={numberOfUse:1};const F=S[$getParent]();F[$extra]={numberOfUse:1,pageIndex:F.pageArea.children.indexOf(S),pageSetIndex:0};let E,k=null,D=null,M=!0,L=0,R=0;for(;;){if(M)L=0;else if(b.children.pop(),++L===MAX_EMPTY_PAGES)return warn("XFA - Something goes wrong: please file a bug."),b;E=null,this[$extra].currentPageArea=S;const U=S[$toHTML]().html;b.children.push(U),k&&(this[$extra].noLayoutFailure=!0,U.children.push(k[$toHTML](S[$extra].space).html),k=null),D&&(this[$extra].noLayoutFailure=!0,U.children.push(D[$toHTML](S[$extra].space).html),D=null);const j=S.contentArea.children,H=U.children.filter(z=>z.attributes.class.includes("xfaContentarea"));M=!1,this[$extra].firstUnsplittable=null,this[$extra].noLayoutFailure=!1;const V=z=>{const G=d[$flushHTML]();G&&(M||=G.children?.length>0,H[z].children.push(G))};for(let z=R,G=j.length;z<G;z++){const X=this[$extra].currentContentArea=j[z],Y={width:X.w,height:X.h};R=0,k&&(H[z].children.push(k[$toHTML](Y).html),k=null),D&&(H[z].children.push(D[$toHTML](Y).html),D=null);const J=d[$toHTML](Y);if(J.success)return J.html?(M||=J.html.children?.length>0,H[z].children.push(J.html)):!M&&b.children.length>1&&b.children.pop(),b;if(J.isBreak()){const ee=J.breakNode;if(V(z),ee.targetType==="auto")continue;ee.leader&&(k=this[$searchNode](ee.leader,ee[$getParent]()),k=k?k[0]:null),ee.trailer&&(D=this[$searchNode](ee.trailer,ee[$getParent]()),D=D?D[0]:null),ee.targetType==="pageArea"?(E=ee[$extra].target,z=1/0):ee[$extra].target?(E=ee[$extra].target,R=ee[$extra].index+1,z=1/0):z=ee[$extra].index;continue}if(this[$extra].overflowNode){const ee=this[$extra].overflowNode;this[$extra].overflowNode=null;const ie=ee[$getExtra](),oe=ie.target;ie.addLeader=ie.leader!==null,ie.addTrailer=ie.trailer!==null,V(z);const he=z;if(z=1/0,oe instanceof PageArea)E=oe;else if(oe instanceof ContentArea){const fe=j.indexOf(oe);fe!==-1?fe>he?z=fe-1:R=fe:(E=oe[$getParent](),R=E.contentArea.children.indexOf(oe))}continue}V(z)}this[$extra].pageNumber+=1,E&&(E[$isUsable]()?E[$extra].numberOfUse+=1:E=null),S=E||S[$getNextPage](),yield null}}}class Text extends ContentObject{constructor(d){super(TEMPLATE_NS_ID,"text"),this.id=d.id||"",this.maxChars=getInteger({data:d.maxChars,defaultValue:0,validate:x=>x>=0}),this.name=d.name||"",this.rid=d.rid||"",this.use=d.use||"",this.usehref=d.usehref||""}[$acceptWhitespace](){return!0}[$onChild](d){return d[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=d,!0):(warn(`XFA - Invalid content in Text: ${d[$nodeName]}.`),!1)}[$onText](d){this[$content]instanceof XFAObject||super[$onText](d)}[$finalize](){typeof this[$content]=="string"&&(this[$content]=this[$content].replaceAll(`\r
`,`
`))}[$getExtra](){return typeof this[$content]=="string"?this[$content].split(/[\u2029\u2028\n]/).reduce((d,x)=>(x&&d.push(x),d),[]).join(`
`):this[$content][$text]()}[$toHTML](d){if(typeof this[$content]=="string"){const x=valueToHtml(this[$content]).html;return this[$content].includes("\u2029")?(x.name="div",x.children=[],this[$content].split("\u2029").map(b=>b.split(/[\u2028\n]/).reduce((S,w)=>(S.push({name:"span",value:w},{name:"br"}),S),[])).forEach(b=>{x.children.push({name:"p",children:b})})):/[\u2028\n]/.test(this[$content])&&(x.name="div",x.children=[],this[$content].split(/[\u2028\n]/).forEach(b=>{x.children.push({name:"span",value:b},{name:"br"})})),HTMLResult.success(x)}return this[$content][$toHTML](d)}}class TextEdit extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"textEdit",!0),this.allowRichText=getInteger({data:d.allowRichText,defaultValue:0,validate:x=>x===1}),this.hScrollPolicy=getStringOption(d.hScrollPolicy,["auto","off","on"]),this.id=d.id||"",this.multiLine=getInteger({data:d.multiLine,defaultValue:"",validate:x=>x===0||x===1}),this.use=d.use||"",this.usehref=d.usehref||"",this.vScrollPolicy=getStringOption(d.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](d){const x=toStyle(this,"border","font","margin");let b;const S=this[$getParent]()[$getParent]();return this.multiLine===""&&(this.multiLine=S instanceof Draw?1:0),this.multiLine===1?b={name:"textarea",attributes:{dataId:S[$data]?.[$uid]||S[$uid],fieldId:S[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(S),"aria-required":!1}}:b={name:"input",attributes:{type:"text",dataId:S[$data]?.[$uid]||S[$uid],fieldId:S[$uid],class:["xfaTextfield"],style:x,"aria-label":ariaLabel(S),"aria-required":!1}},isRequired(S)&&(b.attributes["aria-required"]=!0,b.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[b]})}}class Time extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"time"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}[$finalize](){const d=this[$content].trim();this[$content]=d?new Date(d):null}[$toHTML](d){return valueToHtml(this[$content]?this[$content].toString():"")}}class TimeStamp extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"timeStamp"),this.id=d.id||"",this.server=d.server||"",this.type=getStringOption(d.type,["optional","required"]),this.use=d.use||"",this.usehref=d.usehref||""}}class ToolTip extends StringObject{constructor(d){super(TEMPLATE_NS_ID,"toolTip"),this.id=d.id||"",this.rid=d.rid||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Traversal extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"traversal",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.traverse=new XFAObjectArray}}class Traverse extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"traverse",!0),this.id=d.id||"",this.operation=getStringOption(d.operation,["next","back","down","first","left","right","up"]),this.ref=d.ref||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[$isTransparent](){return!1}}class Ui extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"ui",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[$getExtra](){if(this[$extra]===void 0){for(const d of Object.getOwnPropertyNames(this)){if(d==="extras"||d==="picture")continue;const x=this[d];if(x instanceof XFAObject)return this[$extra]=x,x}this[$extra]=null}return this[$extra]}[$toHTML](d){const x=this[$getExtra]();return x?x[$toHTML](d):HTMLResult.EMPTY}}class Validate extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"validate",!0),this.formatTest=getStringOption(d.formatTest,["warning","disabled","error"]),this.id=d.id||"",this.nullTest=getStringOption(d.nullTest,["disabled","error","warning"]),this.scriptTest=getStringOption(d.scriptTest,["error","disabled","warning"]),this.use=d.use||"",this.usehref=d.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Value extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"value",!0),this.id=d.id||"",this.override=getInteger({data:d.override,defaultValue:0,validate:x=>x===1}),this.relevant=getRelevant(d.relevant),this.use=d.use||"",this.usehref=d.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[$setValue](d){const x=this[$getParent]();if(x instanceof Field&&x.ui?.imageEdit){this.image||(this.image=new Image$1({}),this[$appendChild](this.image)),this.image[$content]=d[$content];return}const b=d[$nodeName];if(this[b]!==null){this[b][$content]=d[$content];return}for(const S of Object.getOwnPropertyNames(this)){const w=this[S];w instanceof XFAObject&&(this[S]=null,this[$removeChild](w))}this[d[$nodeName]]=d,this[$appendChild](d)}[$text](){if(this.exData)return typeof this.exData[$content]=="string"?this.exData[$content].trim():this.exData[$content][$text]().trim();for(const d of Object.getOwnPropertyNames(this)){if(d==="image")continue;const x=this[d];if(x instanceof XFAObject)return(x[$content]||"").toString().trim()}return null}[$toHTML](d){for(const x of Object.getOwnPropertyNames(this)){const b=this[x];if(b instanceof XFAObject)return b[$toHTML](d)}return HTMLResult.EMPTY}}class Variables extends XFAObject{constructor(d){super(TEMPLATE_NS_ID,"variables",!0),this.id=d.id||"",this.use=d.use||"",this.usehref=d.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.manifest=new XFAObjectArray,this.script=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$isTransparent](){return!0}}class TemplateNamespace{static[$buildXFAObject](d,x){if(TemplateNamespace.hasOwnProperty(d)){const b=TemplateNamespace[d](x);return b[$setSetAttributes](x),b}}static appearanceFilter(d){return new AppearanceFilter(d)}static arc(d){return new Arc(d)}static area(d){return new Area(d)}static assist(d){return new Assist(d)}static barcode(d){return new Barcode(d)}static bind(d){return new Bind(d)}static bindItems(d){return new BindItems(d)}static bookend(d){return new Bookend(d)}static boolean(d){return new BooleanElement(d)}static border(d){return new Border(d)}static break(d){return new Break(d)}static breakAfter(d){return new BreakAfter(d)}static breakBefore(d){return new BreakBefore(d)}static button(d){return new Button(d)}static calculate(d){return new Calculate(d)}static caption(d){return new Caption(d)}static certificate(d){return new Certificate(d)}static certificates(d){return new Certificates(d)}static checkButton(d){return new CheckButton(d)}static choiceList(d){return new ChoiceList(d)}static color(d){return new Color(d)}static comb(d){return new Comb(d)}static connect(d){return new Connect(d)}static contentArea(d){return new ContentArea(d)}static corner(d){return new Corner(d)}static date(d){return new DateElement(d)}static dateTime(d){return new DateTime(d)}static dateTimeEdit(d){return new DateTimeEdit(d)}static decimal(d){return new Decimal(d)}static defaultUi(d){return new DefaultUi(d)}static desc(d){return new Desc(d)}static digestMethod(d){return new DigestMethod(d)}static digestMethods(d){return new DigestMethods(d)}static draw(d){return new Draw(d)}static edge(d){return new Edge(d)}static encoding(d){return new Encoding$1(d)}static encodings(d){return new Encodings$1(d)}static encrypt(d){return new Encrypt(d)}static encryptData(d){return new EncryptData(d)}static encryption(d){return new Encryption(d)}static encryptionMethod(d){return new EncryptionMethod(d)}static encryptionMethods(d){return new EncryptionMethods(d)}static event(d){return new Event$1(d)}static exData(d){return new ExData(d)}static exObject(d){return new ExObject(d)}static exclGroup(d){return new ExclGroup(d)}static execute(d){return new Execute(d)}static extras(d){return new Extras(d)}static field(d){return new Field(d)}static fill(d){return new Fill(d)}static filter(d){return new Filter(d)}static float(d){return new Float(d)}static font(d){return new template_Font(d)}static format(d){return new Format(d)}static handler(d){return new Handler(d)}static hyphenation(d){return new Hyphenation(d)}static image(d){return new Image$1(d)}static imageEdit(d){return new ImageEdit(d)}static integer(d){return new Integer(d)}static issuers(d){return new Issuers(d)}static items(d){return new Items(d)}static keep(d){return new Keep(d)}static keyUsage(d){return new KeyUsage(d)}static line(d){return new Line(d)}static linear(d){return new Linear(d)}static lockDocument(d){return new LockDocument(d)}static manifest(d){return new Manifest(d)}static margin(d){return new Margin(d)}static mdp(d){return new Mdp(d)}static medium(d){return new Medium(d)}static message(d){return new Message(d)}static numericEdit(d){return new NumericEdit(d)}static occur(d){return new Occur(d)}static oid(d){return new Oid(d)}static oids(d){return new Oids(d)}static overflow(d){return new Overflow(d)}static pageArea(d){return new PageArea(d)}static pageSet(d){return new PageSet(d)}static para(d){return new Para(d)}static passwordEdit(d){return new PasswordEdit(d)}static pattern(d){return new template_Pattern(d)}static picture(d){return new Picture(d)}static proto(d){return new Proto(d)}static radial(d){return new Radial(d)}static reason(d){return new Reason(d)}static reasons(d){return new Reasons(d)}static rectangle(d){return new Rectangle(d)}static ref(d){return new RefElement(d)}static script(d){return new Script(d)}static setProperty(d){return new SetProperty(d)}static signData(d){return new SignData(d)}static signature(d){return new Signature(d)}static signing(d){return new Signing(d)}static solid(d){return new Solid(d)}static speak(d){return new Speak(d)}static stipple(d){return new Stipple(d)}static subform(d){return new Subform(d)}static subformSet(d){return new SubformSet(d)}static subjectDN(d){return new SubjectDN(d)}static subjectDNs(d){return new SubjectDNs(d)}static submit(d){return new Submit(d)}static template(d){return new Template(d)}static text(d){return new Text(d)}static textEdit(d){return new TextEdit(d)}static time(d){return new Time(d)}static timeStamp(d){return new TimeStamp(d)}static toolTip(d){return new ToolTip(d)}static traversal(d){return new Traversal(d)}static traverse(d){return new Traverse(d)}static ui(d){return new Ui(d)}static validate(d){return new Validate(d)}static value(d){return new Value(d)}static variables(d){return new Variables(d)}}const bind_NS_DATASETS=NamespaceIds.datasets.id;function createText(g){const d=new Text({});return d[$content]=g,d}class Binder{constructor(d){this.root=d,this.datasets=d.datasets,this.data=d.datasets?.data||new XmlObject(NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[$getChildren]().length===0,this.root.form=this.form=d.template[$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(d,x,b){if(d[$data]=x,d[$hasSettableValue]())if(x[$isDataValue]()){const S=x[$getDataValue]();d[$setValue](createText(S))}else if(d instanceof Field&&d.ui?.choiceList?.open==="multiSelect"){const S=x[$getChildren]().map(w=>w[$content].trim()).join(`
`);d[$setValue](createText(S))}else this._isConsumeData()&&warn("XFA - Nodes haven't the same type.");else!x[$isDataValue]()||this._isMatchTemplate()?this._bindElement(d,x):warn("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(d,x,b,S){if(!d)return null;let w,C;for(let F=0;F<3;F++){for(w=b[$getRealChildrenByNameIt](d,!1,!0);C=w.next().value,!!C;)if(x===C[$isDataValue]())return C;if(b[$namespaceId]===NamespaceIds.datasets.id&&b[$nodeName]==="data")break;b=b[$getParent]()}return S?(w=this.data[$getRealChildrenByNameIt](d,!0,!1),C=w.next().value,C||(w=this.data[$getAttributeIt](d,!0),C=w.next().value,C?.[$isDataValue]())?C:null):null}_setProperties(d,x){if(d.hasOwnProperty("setProperty"))for(const{ref:b,target:S,connection:w}of d.setProperty.children){if(w||!b)continue;const C=searchNode(this.root,x,b,!1,!1);if(!C){warn(`XFA - Invalid reference: ${b}.`);continue}const[F]=C;if(!F[$isDescendent](this.data)){warn("XFA - Invalid node: must be a data node.");continue}const E=searchNode(this.root,d,S,!1,!1);if(!E){warn(`XFA - Invalid target: ${S}.`);continue}const[k]=E;if(!k[$isDescendent](d)){warn("XFA - Invalid target: must be a property or subproperty.");continue}const D=k[$getParent]();if(k instanceof SetProperty||D instanceof SetProperty){warn("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(k instanceof BindItems||D instanceof BindItems){warn("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const M=F[$text](),L=k[$nodeName];if(k instanceof XFAAttribute){const R=Object.create(null);R[L]=M;const U=Reflect.construct(Object.getPrototypeOf(D).constructor,[R]);D[L]=U[L];continue}if(!k.hasOwnProperty($content)){warn("XFA - Invalid node to use in setProperty");continue}k[$data]=F,k[$content]=M,k[$finalize]()}}_bindItems(d,x){if(!d.hasOwnProperty("items")||!d.hasOwnProperty("bindItems")||d.bindItems.isEmpty())return;for(const w of d.items.children)d[$removeChild](w);d.items.clear();const b=new Items({}),S=new Items({});d[$appendChild](b),d.items.push(b),d[$appendChild](S),d.items.push(S);for(const{ref:w,labelRef:C,valueRef:F,connection:E}of d.bindItems.children){if(E||!w)continue;const k=searchNode(this.root,x,w,!1,!1);if(!k){warn(`XFA - Invalid reference: ${w}.`);continue}for(const D of k){if(!D[$isDescendent](this.datasets)){warn(`XFA - Invalid ref (${w}): must be a datasets child.`);continue}const M=searchNode(this.root,D,C,!0,!1);if(!M){warn(`XFA - Invalid label: ${C}.`);continue}const[L]=M;if(!L[$isDescendent](this.datasets)){warn("XFA - Invalid label: must be a datasets child.");continue}const R=searchNode(this.root,D,F,!0,!1);if(!R){warn(`XFA - Invalid value: ${F}.`);continue}const[U]=R;if(!U[$isDescendent](this.datasets)){warn("XFA - Invalid value: must be a datasets child.");continue}const j=createText(L[$text]()),H=createText(U[$text]());b[$appendChild](j),b.text.push(j),S[$appendChild](H),S.text.push(H)}}}_bindOccurrences(d,x,b){let S;if(x.length>1&&(S=d[$clone](),S[$removeChild](S.occur),S.occur=null),this._bindValue(d,x[0],b),this._setProperties(d,x[0]),this._bindItems(d,x[0]),x.length===1)return;const w=d[$getParent](),C=d[$nodeName],F=w[$indexOf](d);for(let E=1,k=x.length;E<k;E++){const D=x[E],M=S[$clone]();w[C].push(M),w[$insertAt](F+E,M),this._bindValue(M,D,b),this._setProperties(M,D),this._bindItems(M,D)}}_createOccurrences(d){if(!this.emptyMerge)return;const{occur:x}=d;if(!x||x.initial<=1)return;const b=d[$getParent](),S=d[$nodeName];if(!(b[S]instanceof XFAObjectArray))return;let w;d.name?w=b[S].children.filter(E=>E.name===d.name).length:w=b[S].children.length;const C=b[$indexOf](d)+1,F=x.initial-w;if(F){const E=d[$clone]();E[$removeChild](E.occur),E.occur=null,b[S].push(E),b[$insertAt](C,E);for(let k=1;k<F;k++){const D=E[$clone]();b[S].push(D),b[$insertAt](C+k,D)}}}_getOccurInfo(d){const{name:x,occur:b}=d;if(!b||!x)return[1,1];const S=b.max===-1?1/0:b.max;return[b.min,S]}_setAndBind(d,x){this._setProperties(d,x),this._bindItems(d,x),this._bindElement(d,x)}_bindElement(d,x){const b=[];this._createOccurrences(d);for(const S of d[$getChildren]()){if(S[$data])continue;if(this._mergeMode===void 0&&S[$nodeName]==="subform"){this._mergeMode=S.mergeMode==="consumeData";const M=x[$getChildren]();if(M.length>0)this._bindOccurrences(S,[M[0]],null);else if(this.emptyMerge){const L=x[$namespaceId]===bind_NS_DATASETS?-1:x[$namespaceId],R=S[$data]=new XmlObject(L,S.name||"root");x[$appendChild](R),this._bindElement(S,R)}continue}if(!S[$isBindable]())continue;let w=!1,C=null,F=null,E=null;if(S.bind){switch(S.bind.match){case"none":this._setAndBind(S,x);continue;case"global":w=!0;break;case"dataRef":if(!S.bind.ref){warn(`XFA - ref is empty in node ${S[$nodeName]}.`),this._setAndBind(S,x);continue}F=S.bind.ref;break}S.bind.picture&&(C=S.bind.picture[$content])}const[k,D]=this._getOccurInfo(S);if(F)if(E=searchNode(this.root,x,F,!0,!1),E===null){if(E=createDataNode(this.data,x,F),!E)continue;this._isConsumeData()&&(E[$consumed]=!0),this._setAndBind(S,E);continue}else this._isConsumeData()&&(E=E.filter(M=>!M[$consumed])),E.length>D?E=E.slice(0,D):E.length===0&&(E=null),E&&this._isConsumeData()&&E.forEach(M=>{M[$consumed]=!0});else{if(!S.name){this._setAndBind(S,x);continue}if(this._isConsumeData()){const M=[];for(;M.length<D;){const L=this._findDataByNameToConsume(S.name,S[$hasSettableValue](),x,w);if(!L)break;L[$consumed]=!0,M.push(L)}E=M.length>0?M:null}else{if(E=x[$getRealChildrenByNameIt](S.name,!1,this.emptyMerge).next().value,!E){if(k===0){b.push(S);continue}const M=x[$namespaceId]===bind_NS_DATASETS?-1:x[$namespaceId];E=S[$data]=new XmlObject(M,S.name),this.emptyMerge&&(E[$consumed]=!0),x[$appendChild](E),this._setAndBind(S,E);continue}this.emptyMerge&&(E[$consumed]=!0),E=[E]}}E?this._bindOccurrences(S,E,C):k>0?this._setAndBind(S,x):b.push(S)}b.forEach(S=>S[$getParent]()[$removeChild](S))}}class DataHandler{constructor(d,x){this.data=x,this.dataset=d.datasets||null}serialize(d){const x=[[-1,this.data[$getChildren]()]];for(;x.length>0;){const S=x.at(-1),[w,C]=S;if(w+1===C.length){x.pop();continue}const F=C[++S[0]],E=d.get(F[$uid]);if(E)F[$setValue](E);else{const D=F[$getAttributes]();for(const M of D.values()){const L=d.get(M[$uid]);if(L){M[$setValue](L);break}}}const k=F[$getChildren]();k.length>0&&x.push([-1,k])}const b=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const S of this.dataset[$getChildren]())S[$nodeName]!=="data"&&S[$toString](b);return this.data[$toString](b),b.push("</xfa:datasets>"),b.join("")}}const CONFIG_NS_ID=NamespaceIds.config.id;class Acrobat extends XFAObject{constructor(d){super(CONFIG_NS_ID,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new XFAObjectArray}}class Acrobat7 extends XFAObject{constructor(d){super(CONFIG_NS_ID,"acrobat7",!0),this.dynamicRender=null}}class ADBE_JSConsole extends OptionObject{constructor(d){super(CONFIG_NS_ID,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class ADBE_JSDebugger extends OptionObject{constructor(d){super(CONFIG_NS_ID,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class AddSilentPrint extends Option01{constructor(d){super(CONFIG_NS_ID,"addSilentPrint")}}class AddViewerPreferences extends Option01{constructor(d){super(CONFIG_NS_ID,"addViewerPreferences")}}class AdjustData extends Option10{constructor(d){super(CONFIG_NS_ID,"adjustData")}}class AdobeExtensionLevel extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"adobeExtensionLevel",0,x=>x>=1&&x<=8)}}class Agent extends XFAObject{constructor(d){super(CONFIG_NS_ID,"agent",!0),this.name=d.name?d.name.trim():"",this.common=new XFAObjectArray}}class AlwaysEmbed extends ContentObject{constructor(d){super(CONFIG_NS_ID,"alwaysEmbed")}}class Amd extends StringObject{constructor(d){super(CONFIG_NS_ID,"amd")}}class config_Area extends XFAObject{constructor(d){super(CONFIG_NS_ID,"area"),this.level=getInteger({data:d.level,defaultValue:0,validate:x=>x>=1&&x<=3}),this.name=getStringOption(d.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Attributes extends OptionObject{constructor(d){super(CONFIG_NS_ID,"attributes",["preserve","delegate","ignore"])}}class AutoSave extends OptionObject{constructor(d){super(CONFIG_NS_ID,"autoSave",["disabled","enabled"])}}class Base extends StringObject{constructor(d){super(CONFIG_NS_ID,"base")}}class BatchOutput extends XFAObject{constructor(d){super(CONFIG_NS_ID,"batchOutput"),this.format=getStringOption(d.format,["none","concat","zip","zipCompress"])}}class BehaviorOverride extends ContentObject{constructor(d){super(CONFIG_NS_ID,"behaviorOverride")}[$finalize](){this[$content]=new Map(this[$content].trim().split(/\s+/).filter(d=>d.includes(":")).map(d=>d.split(":",2)))}}let Cache$1=class extends XFAObject{constructor(d){super(CONFIG_NS_ID,"cache",!0),this.templateCache=null}};class Change extends Option01{constructor(d){super(CONFIG_NS_ID,"change")}}class Common extends XFAObject{constructor(d){super(CONFIG_NS_ID,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new XFAObjectArray}}class Compress extends XFAObject{constructor(d){super(CONFIG_NS_ID,"compress"),this.scope=getStringOption(d.scope,["imageOnly","document"])}}class CompressLogicalStructure extends Option01{constructor(d){super(CONFIG_NS_ID,"compressLogicalStructure")}}class CompressObjectStream extends Option10{constructor(d){super(CONFIG_NS_ID,"compressObjectStream")}}class Compression extends XFAObject{constructor(d){super(CONFIG_NS_ID,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}let Config$1=class extends XFAObject{constructor(d){super(CONFIG_NS_ID,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new XFAObjectArray}};class Conformance extends OptionObject{constructor(d){super(CONFIG_NS_ID,"conformance",["A","B"])}}class ContentCopy extends Option01{constructor(d){super(CONFIG_NS_ID,"contentCopy")}}class Copies extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"copies",1,x=>x>=1)}}class Creator extends StringObject{constructor(d){super(CONFIG_NS_ID,"creator")}}class CurrentPage extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"currentPage",0,x=>x>=0)}}class Data extends XFAObject{constructor(d){super(CONFIG_NS_ID,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new XFAObjectArray,this.transform=new XFAObjectArray}}class Debug extends XFAObject{constructor(d){super(CONFIG_NS_ID,"debug",!0),this.uri=null}}class DefaultTypeface extends ContentObject{constructor(d){super(CONFIG_NS_ID,"defaultTypeface"),this.writingScript=getStringOption(d.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Destination extends OptionObject{constructor(d){super(CONFIG_NS_ID,"destination",["pdf","pcl","ps","webClient","zpl"])}}class DocumentAssembly extends Option01{constructor(d){super(CONFIG_NS_ID,"documentAssembly")}}class Driver extends XFAObject{constructor(d){super(CONFIG_NS_ID,"driver",!0),this.name=d.name?d.name.trim():"",this.fontInfo=null,this.xdc=null}}class DuplexOption extends OptionObject{constructor(d){super(CONFIG_NS_ID,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class DynamicRender extends OptionObject{constructor(d){super(CONFIG_NS_ID,"dynamicRender",["forbidden","required"])}}class Embed extends Option01{constructor(d){super(CONFIG_NS_ID,"embed")}}class config_Encrypt extends Option01{constructor(d){super(CONFIG_NS_ID,"encrypt")}}class config_Encryption extends XFAObject{constructor(d){super(CONFIG_NS_ID,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class EncryptionLevel extends OptionObject{constructor(d){super(CONFIG_NS_ID,"encryptionLevel",["40bit","128bit"])}}class Enforce extends StringObject{constructor(d){super(CONFIG_NS_ID,"enforce")}}class Equate extends XFAObject{constructor(d){super(CONFIG_NS_ID,"equate"),this.force=getInteger({data:d.force,defaultValue:1,validate:x=>x===0}),this.from=d.from||"",this.to=d.to||""}}class EquateRange extends XFAObject{constructor(d){super(CONFIG_NS_ID,"equateRange"),this.from=d.from||"",this.to=d.to||"",this._unicodeRange=d.unicodeRange||""}get unicodeRange(){const d=[],x=/U\+([0-9a-fA-F]+)/,b=this._unicodeRange;for(let S of b.split(",").map(w=>w.trim()).filter(w=>!!w))S=S.split("-",2).map(w=>{const C=w.match(x);return C?parseInt(C[1],16):0}),S.length===1&&S.push(S[0]),d.push(S);return shadow(this,"unicodeRange",d)}}class Exclude extends ContentObject{constructor(d){super(CONFIG_NS_ID,"exclude")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(d=>d&&["calculate","close","enter","exit","initialize","ready","validate"].includes(d))}}class ExcludeNS extends StringObject{constructor(d){super(CONFIG_NS_ID,"excludeNS")}}class FlipLabel extends OptionObject{constructor(d){super(CONFIG_NS_ID,"flipLabel",["usePrinterSetting","on","off"])}}class config_FontInfo extends XFAObject{constructor(d){super(CONFIG_NS_ID,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new XFAObjectArray,this.defaultTypeface=new XFAObjectArray,this.neverEmbed=new XFAObjectArray}}class FormFieldFilling extends Option01{constructor(d){super(CONFIG_NS_ID,"formFieldFilling")}}class GroupParent extends StringObject{constructor(d){super(CONFIG_NS_ID,"groupParent")}}class IfEmpty extends OptionObject{constructor(d){super(CONFIG_NS_ID,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class IncludeXDPContent extends StringObject{constructor(d){super(CONFIG_NS_ID,"includeXDPContent")}}class IncrementalLoad extends OptionObject{constructor(d){super(CONFIG_NS_ID,"incrementalLoad",["none","forwardOnly"])}}class IncrementalMerge extends Option01{constructor(d){super(CONFIG_NS_ID,"incrementalMerge")}}class Interactive extends Option01{constructor(d){super(CONFIG_NS_ID,"interactive")}}class Jog extends OptionObject{constructor(d){super(CONFIG_NS_ID,"jog",["usePrinterSetting","none","pageSet"])}}class LabelPrinter extends XFAObject{constructor(d){super(CONFIG_NS_ID,"labelPrinter",!0),this.name=getStringOption(d.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Layout extends OptionObject{constructor(d){super(CONFIG_NS_ID,"layout",["paginate","panel"])}}class Level extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"level",0,x=>x>0)}}class Linearized extends Option01{constructor(d){super(CONFIG_NS_ID,"linearized")}}class Locale extends StringObject{constructor(d){super(CONFIG_NS_ID,"locale")}}class LocaleSet extends StringObject{constructor(d){super(CONFIG_NS_ID,"localeSet")}}class Log extends XFAObject{constructor(d){super(CONFIG_NS_ID,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class MapElement extends XFAObject{constructor(d){super(CONFIG_NS_ID,"map",!0),this.equate=new XFAObjectArray,this.equateRange=new XFAObjectArray}}class MediumInfo extends XFAObject{constructor(d){super(CONFIG_NS_ID,"mediumInfo",!0),this.map=null}}class config_Message extends XFAObject{constructor(d){super(CONFIG_NS_ID,"message",!0),this.msgId=null,this.severity=null}}class Messaging extends XFAObject{constructor(d){super(CONFIG_NS_ID,"messaging",!0),this.message=new XFAObjectArray}}class Mode extends OptionObject{constructor(d){super(CONFIG_NS_ID,"mode",["append","overwrite"])}}class ModifyAnnots extends Option01{constructor(d){super(CONFIG_NS_ID,"modifyAnnots")}}class MsgId extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"msgId",1,x=>x>=1)}}class NameAttr extends StringObject{constructor(d){super(CONFIG_NS_ID,"nameAttr")}}class NeverEmbed extends ContentObject{constructor(d){super(CONFIG_NS_ID,"neverEmbed")}}class NumberOfCopies extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"numberOfCopies",null,x=>x>=2&&x<=5)}}class OpenAction extends XFAObject{constructor(d){super(CONFIG_NS_ID,"openAction",!0),this.destination=null}}class Output extends XFAObject{constructor(d){super(CONFIG_NS_ID,"output",!0),this.to=null,this.type=null,this.uri=null}}class OutputBin extends StringObject{constructor(d){super(CONFIG_NS_ID,"outputBin")}}class OutputXSL extends XFAObject{constructor(d){super(CONFIG_NS_ID,"outputXSL",!0),this.uri=null}}class Overprint extends OptionObject{constructor(d){super(CONFIG_NS_ID,"overprint",["none","both","draw","field"])}}class Packets extends StringObject{constructor(d){super(CONFIG_NS_ID,"packets")}[$finalize](){this[$content]!=="*"&&(this[$content]=this[$content].trim().split(/\s+/).filter(d=>["config","datasets","template","xfdf","xslt"].includes(d)))}}class PageOffset extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pageOffset"),this.x=getInteger({data:d.x,defaultValue:"useXDCSetting",validate:x=>!0}),this.y=getInteger({data:d.y,defaultValue:"useXDCSetting",validate:x=>!0})}}class PageRange extends StringObject{constructor(d){super(CONFIG_NS_ID,"pageRange")}[$finalize](){const d=this[$content].trim().split(/\s+/).map(b=>parseInt(b,10)),x=[];for(let b=0,S=d.length;b<S;b+=2)x.push(d.slice(b,b+2));this[$content]=x}}class Pagination extends OptionObject{constructor(d){super(CONFIG_NS_ID,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class PaginationOverride extends OptionObject{constructor(d){super(CONFIG_NS_ID,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Part extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"part",1,x=>!1)}}class Pcl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pcl",!0),this.name=d.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Pdf extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pdf",!0),this.name=d.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Pdfa extends XFAObject{constructor(d){super(CONFIG_NS_ID,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Permissions extends XFAObject{constructor(d){super(CONFIG_NS_ID,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class PickTrayByPDFSize extends Option01{constructor(d){super(CONFIG_NS_ID,"pickTrayByPDFSize")}}class config_Picture extends StringObject{constructor(d){super(CONFIG_NS_ID,"picture")}}class PlaintextMetadata extends Option01{constructor(d){super(CONFIG_NS_ID,"plaintextMetadata")}}class Presence extends OptionObject{constructor(d){super(CONFIG_NS_ID,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Present extends XFAObject{constructor(d){super(CONFIG_NS_ID,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new XFAObjectArray,this.labelPrinter=new XFAObjectArray,this.pcl=new XFAObjectArray,this.pdf=new XFAObjectArray,this.ps=new XFAObjectArray,this.submitUrl=new XFAObjectArray,this.webClient=new XFAObjectArray,this.zpl=new XFAObjectArray}}class Print extends Option01{constructor(d){super(CONFIG_NS_ID,"print")}}class PrintHighQuality extends Option01{constructor(d){super(CONFIG_NS_ID,"printHighQuality")}}let PrintScaling$1=class extends OptionObject{constructor(d){super(CONFIG_NS_ID,"printScaling",["appdefault","noScaling"])}};class PrinterName extends StringObject{constructor(d){super(CONFIG_NS_ID,"printerName")}}class Producer extends StringObject{constructor(d){super(CONFIG_NS_ID,"producer")}}class Ps extends XFAObject{constructor(d){super(CONFIG_NS_ID,"ps",!0),this.name=d.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Range extends ContentObject{constructor(d){super(CONFIG_NS_ID,"range")}[$finalize](){this[$content]=this[$content].trim().split(/\s*,\s*/,2).map(d=>d.split("-").map(x=>parseInt(x.trim(),10))).filter(d=>d.every(x=>!isNaN(x))).map(d=>(d.length===1&&d.push(d[0]),d))}}class Record extends ContentObject{constructor(d){super(CONFIG_NS_ID,"record")}[$finalize](){this[$content]=this[$content].trim();const d=parseInt(this[$content],10);!isNaN(d)&&d>=0&&(this[$content]=d)}}class Relevant extends ContentObject{constructor(d){super(CONFIG_NS_ID,"relevant")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/)}}class Rename extends ContentObject{constructor(d){super(CONFIG_NS_ID,"rename")}[$finalize](){this[$content]=this[$content].trim(),(this[$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[$content]))&&warn("XFA - Rename: invalid XFA name")}}class RenderPolicy extends OptionObject{constructor(d){super(CONFIG_NS_ID,"renderPolicy",["server","client"])}}class RunScripts extends OptionObject{constructor(d){super(CONFIG_NS_ID,"runScripts",["both","client","none","server"])}}class config_Script extends XFAObject{constructor(d){super(CONFIG_NS_ID,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ScriptModel extends OptionObject{constructor(d){super(CONFIG_NS_ID,"scriptModel",["XFA","none"])}}class Severity extends OptionObject{constructor(d){super(CONFIG_NS_ID,"severity",["ignore","error","information","trace","warning"])}}class SilentPrint extends XFAObject{constructor(d){super(CONFIG_NS_ID,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Staple extends XFAObject{constructor(d){super(CONFIG_NS_ID,"staple"),this.mode=getStringOption(d.mode,["usePrinterSetting","on","off"])}}class StartNode extends StringObject{constructor(d){super(CONFIG_NS_ID,"startNode")}}class StartPage extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"startPage",0,x=>!0)}}class SubmitFormat extends OptionObject{constructor(d){super(CONFIG_NS_ID,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class SubmitUrl extends StringObject{constructor(d){super(CONFIG_NS_ID,"submitUrl")}}class SubsetBelow extends IntegerObject{constructor(d){super(CONFIG_NS_ID,"subsetBelow",100,x=>x>=0&&x<=100)}}class SuppressBanner extends Option01{constructor(d){super(CONFIG_NS_ID,"suppressBanner")}}class Tagged extends Option01{constructor(d){super(CONFIG_NS_ID,"tagged")}}class config_Template extends XFAObject{constructor(d){super(CONFIG_NS_ID,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Threshold extends OptionObject{constructor(d){super(CONFIG_NS_ID,"threshold",["trace","error","information","warning"])}}class To extends OptionObject{constructor(d){super(CONFIG_NS_ID,"to",["null","memory","stderr","stdout","system","uri"])}}class TemplateCache extends XFAObject{constructor(d){super(CONFIG_NS_ID,"templateCache"),this.maxEntries=getInteger({data:d.maxEntries,defaultValue:5,validate:x=>x>=0})}}class Trace extends XFAObject{constructor(d){super(CONFIG_NS_ID,"trace",!0),this.area=new XFAObjectArray}}class config_Transform extends XFAObject{constructor(d){super(CONFIG_NS_ID,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Type extends OptionObject{constructor(d){super(CONFIG_NS_ID,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Uri extends StringObject{constructor(d){super(CONFIG_NS_ID,"uri")}}class config_Validate extends OptionObject{constructor(d){super(CONFIG_NS_ID,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ValidateApprovalSignatures extends ContentObject{constructor(d){super(CONFIG_NS_ID,"validateApprovalSignatures")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(d=>["docReady","postSign"].includes(d))}}class ValidationMessaging extends OptionObject{constructor(d){super(CONFIG_NS_ID,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Version extends OptionObject{constructor(d){super(CONFIG_NS_ID,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class VersionControl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"VersionControl"),this.outputBelow=getStringOption(d.outputBelow,["warn","error","update"]),this.sourceAbove=getStringOption(d.sourceAbove,["warn","error"]),this.sourceBelow=getStringOption(d.sourceBelow,["update","maintain"])}}let ViewerPreferences$1=class extends XFAObject{constructor(d){super(CONFIG_NS_ID,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}};class WebClient extends XFAObject{constructor(d){super(CONFIG_NS_ID,"webClient",!0),this.name=d.name?d.name.trim():"",this.fontInfo=null,this.xdc=null}}class Whitespace extends OptionObject{constructor(d){super(CONFIG_NS_ID,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Window extends ContentObject{constructor(d){super(CONFIG_NS_ID,"window")}[$finalize](){const d=this[$content].trim().split(/\s*,\s*/,2).map(x=>parseInt(x,10));if(d.some(x=>isNaN(x))){this[$content]=[0,0];return}d.length===1&&d.push(d[0]),this[$content]=d}}class Xdc extends XFAObject{constructor(d){super(CONFIG_NS_ID,"xdc",!0),this.uri=new XFAObjectArray,this.xsl=new XFAObjectArray}}class Xdp extends XFAObject{constructor(d){super(CONFIG_NS_ID,"xdp",!0),this.packets=null}}class Xsl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"xsl",!0),this.debug=null,this.uri=null}}class Zpl extends XFAObject{constructor(d){super(CONFIG_NS_ID,"zpl",!0),this.name=d.name?d.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ConfigNamespace{static[$buildXFAObject](d,x){if(ConfigNamespace.hasOwnProperty(d))return ConfigNamespace[d](x)}static acrobat(d){return new Acrobat(d)}static acrobat7(d){return new Acrobat7(d)}static ADBE_JSConsole(d){return new ADBE_JSConsole(d)}static ADBE_JSDebugger(d){return new ADBE_JSDebugger(d)}static addSilentPrint(d){return new AddSilentPrint(d)}static addViewerPreferences(d){return new AddViewerPreferences(d)}static adjustData(d){return new AdjustData(d)}static adobeExtensionLevel(d){return new AdobeExtensionLevel(d)}static agent(d){return new Agent(d)}static alwaysEmbed(d){return new AlwaysEmbed(d)}static amd(d){return new Amd(d)}static area(d){return new config_Area(d)}static attributes(d){return new Attributes(d)}static autoSave(d){return new AutoSave(d)}static base(d){return new Base(d)}static batchOutput(d){return new BatchOutput(d)}static behaviorOverride(d){return new BehaviorOverride(d)}static cache(d){return new Cache$1(d)}static change(d){return new Change(d)}static common(d){return new Common(d)}static compress(d){return new Compress(d)}static compressLogicalStructure(d){return new CompressLogicalStructure(d)}static compressObjectStream(d){return new CompressObjectStream(d)}static compression(d){return new Compression(d)}static config(d){return new Config$1(d)}static conformance(d){return new Conformance(d)}static contentCopy(d){return new ContentCopy(d)}static copies(d){return new Copies(d)}static creator(d){return new Creator(d)}static currentPage(d){return new CurrentPage(d)}static data(d){return new Data(d)}static debug(d){return new Debug(d)}static defaultTypeface(d){return new DefaultTypeface(d)}static destination(d){return new Destination(d)}static documentAssembly(d){return new DocumentAssembly(d)}static driver(d){return new Driver(d)}static duplexOption(d){return new DuplexOption(d)}static dynamicRender(d){return new DynamicRender(d)}static embed(d){return new Embed(d)}static encrypt(d){return new config_Encrypt(d)}static encryption(d){return new config_Encryption(d)}static encryptionLevel(d){return new EncryptionLevel(d)}static enforce(d){return new Enforce(d)}static equate(d){return new Equate(d)}static equateRange(d){return new EquateRange(d)}static exclude(d){return new Exclude(d)}static excludeNS(d){return new ExcludeNS(d)}static flipLabel(d){return new FlipLabel(d)}static fontInfo(d){return new config_FontInfo(d)}static formFieldFilling(d){return new FormFieldFilling(d)}static groupParent(d){return new GroupParent(d)}static ifEmpty(d){return new IfEmpty(d)}static includeXDPContent(d){return new IncludeXDPContent(d)}static incrementalLoad(d){return new IncrementalLoad(d)}static incrementalMerge(d){return new IncrementalMerge(d)}static interactive(d){return new Interactive(d)}static jog(d){return new Jog(d)}static labelPrinter(d){return new LabelPrinter(d)}static layout(d){return new Layout(d)}static level(d){return new Level(d)}static linearized(d){return new Linearized(d)}static locale(d){return new Locale(d)}static localeSet(d){return new LocaleSet(d)}static log(d){return new Log(d)}static map(d){return new MapElement(d)}static mediumInfo(d){return new MediumInfo(d)}static message(d){return new config_Message(d)}static messaging(d){return new Messaging(d)}static mode(d){return new Mode(d)}static modifyAnnots(d){return new ModifyAnnots(d)}static msgId(d){return new MsgId(d)}static nameAttr(d){return new NameAttr(d)}static neverEmbed(d){return new NeverEmbed(d)}static numberOfCopies(d){return new NumberOfCopies(d)}static openAction(d){return new OpenAction(d)}static output(d){return new Output(d)}static outputBin(d){return new OutputBin(d)}static outputXSL(d){return new OutputXSL(d)}static overprint(d){return new Overprint(d)}static packets(d){return new Packets(d)}static pageOffset(d){return new PageOffset(d)}static pageRange(d){return new PageRange(d)}static pagination(d){return new Pagination(d)}static paginationOverride(d){return new PaginationOverride(d)}static part(d){return new Part(d)}static pcl(d){return new Pcl(d)}static pdf(d){return new Pdf(d)}static pdfa(d){return new Pdfa(d)}static permissions(d){return new Permissions(d)}static pickTrayByPDFSize(d){return new PickTrayByPDFSize(d)}static picture(d){return new config_Picture(d)}static plaintextMetadata(d){return new PlaintextMetadata(d)}static presence(d){return new Presence(d)}static present(d){return new Present(d)}static print(d){return new Print(d)}static printHighQuality(d){return new PrintHighQuality(d)}static printScaling(d){return new PrintScaling$1(d)}static printerName(d){return new PrinterName(d)}static producer(d){return new Producer(d)}static ps(d){return new Ps(d)}static range(d){return new Range(d)}static record(d){return new Record(d)}static relevant(d){return new Relevant(d)}static rename(d){return new Rename(d)}static renderPolicy(d){return new RenderPolicy(d)}static runScripts(d){return new RunScripts(d)}static script(d){return new config_Script(d)}static scriptModel(d){return new ScriptModel(d)}static severity(d){return new Severity(d)}static silentPrint(d){return new SilentPrint(d)}static staple(d){return new Staple(d)}static startNode(d){return new StartNode(d)}static startPage(d){return new StartPage(d)}static submitFormat(d){return new SubmitFormat(d)}static submitUrl(d){return new SubmitUrl(d)}static subsetBelow(d){return new SubsetBelow(d)}static suppressBanner(d){return new SuppressBanner(d)}static tagged(d){return new Tagged(d)}static template(d){return new config_Template(d)}static templateCache(d){return new TemplateCache(d)}static threshold(d){return new Threshold(d)}static to(d){return new To(d)}static trace(d){return new Trace(d)}static transform(d){return new config_Transform(d)}static type(d){return new Type(d)}static uri(d){return new Uri(d)}static validate(d){return new config_Validate(d)}static validateApprovalSignatures(d){return new ValidateApprovalSignatures(d)}static validationMessaging(d){return new ValidationMessaging(d)}static version(d){return new Version(d)}static versionControl(d){return new VersionControl(d)}static viewerPreferences(d){return new ViewerPreferences$1(d)}static webClient(d){return new WebClient(d)}static whitespace(d){return new Whitespace(d)}static window(d){return new Window(d)}static xdc(d){return new Xdc(d)}static xdp(d){return new Xdp(d)}static xsl(d){return new Xsl(d)}static zpl(d){return new Zpl(d)}}const CONNECTION_SET_NS_ID=NamespaceIds.connectionSet.id;class ConnectionSet extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"connectionSet",!0),this.wsdlConnection=new XFAObjectArray,this.xmlConnection=new XFAObjectArray,this.xsdConnection=new XFAObjectArray}}class EffectiveInputPolicy extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"effectiveInputPolicy"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class EffectiveOutputPolicy extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"effectiveOutputPolicy"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class Operation extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"operation"),this.id=d.id||"",this.input=d.input||"",this.name=d.name||"",this.output=d.output||"",this.use=d.use||"",this.usehref=d.usehref||""}}class RootElement extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"rootElement"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class SoapAction extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"soapAction"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class SoapAddress extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"soapAddress"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class connection_set_Uri extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"uri"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class WsdlAddress extends StringObject{constructor(d){super(CONNECTION_SET_NS_ID,"wsdlAddress"),this.id=d.id||"",this.name=d.name||"",this.use=d.use||"",this.usehref=d.usehref||""}}class WsdlConnection extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"wsdlConnection",!0),this.dataDescription=d.dataDescription||"",this.name=d.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class XmlConnection extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"xmlConnection",!0),this.dataDescription=d.dataDescription||"",this.name=d.name||"",this.uri=null}}class XsdConnection extends XFAObject{constructor(d){super(CONNECTION_SET_NS_ID,"xsdConnection",!0),this.dataDescription=d.dataDescription||"",this.name=d.name||"",this.rootElement=null,this.uri=null}}class ConnectionSetNamespace{static[$buildXFAObject](d,x){if(ConnectionSetNamespace.hasOwnProperty(d))return ConnectionSetNamespace[d](x)}static connectionSet(d){return new ConnectionSet(d)}static effectiveInputPolicy(d){return new EffectiveInputPolicy(d)}static effectiveOutputPolicy(d){return new EffectiveOutputPolicy(d)}static operation(d){return new Operation(d)}static rootElement(d){return new RootElement(d)}static soapAction(d){return new SoapAction(d)}static soapAddress(d){return new SoapAddress(d)}static uri(d){return new connection_set_Uri(d)}static wsdlAddress(d){return new WsdlAddress(d)}static wsdlConnection(d){return new WsdlConnection(d)}static xmlConnection(d){return new XmlConnection(d)}static xsdConnection(d){return new XsdConnection(d)}}const DATASETS_NS_ID=NamespaceIds.datasets.id;class datasets_Data extends XmlObject{constructor(d){super(DATASETS_NS_ID,"data",d)}[$isNsAgnostic](){return!0}}class Datasets extends XFAObject{constructor(d){super(DATASETS_NS_ID,"datasets",!0),this.data=null,this.Signature=null}[$onChild](d){const x=d[$nodeName];(x==="data"&&d[$namespaceId]===DATASETS_NS_ID||x==="Signature"&&d[$namespaceId]===NamespaceIds.signature.id)&&(this[x]=d),this[$appendChild](d)}}class DatasetsNamespace{static[$buildXFAObject](d,x){if(DatasetsNamespace.hasOwnProperty(d))return DatasetsNamespace[d](x)}static datasets(d){return new Datasets(d)}static data(d){return new datasets_Data(d)}}const LOCALE_SET_NS_ID=NamespaceIds.localeSet.id;class CalendarSymbols extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new XFAObjectArray(2)}}class CurrencySymbol extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"currencySymbol"),this.name=getStringOption(d.name,["symbol","isoname","decimal"])}}class CurrencySymbols extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"currencySymbols",!0),this.currencySymbol=new XFAObjectArray(3)}}class DatePattern extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"datePattern"),this.name=getStringOption(d.name,["full","long","med","short"])}}class DatePatterns extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"datePatterns",!0),this.datePattern=new XFAObjectArray(4)}}class DateTimeSymbols extends ContentObject{constructor(d){super(LOCALE_SET_NS_ID,"dateTimeSymbols")}}class Day extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"day")}}class DayNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"dayNames",!0),this.abbr=getInteger({data:d.abbr,defaultValue:0,validate:x=>x===1}),this.day=new XFAObjectArray(7)}}class Era extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"era")}}class EraNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"eraNames",!0),this.era=new XFAObjectArray(2)}}class locale_set_Locale extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"locale",!0),this.desc=d.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class locale_set_LocaleSet extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"localeSet",!0),this.locale=new XFAObjectArray}}class Meridiem extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"meridiem")}}class MeridiemNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"meridiemNames",!0),this.meridiem=new XFAObjectArray(2)}}class Month extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"month")}}class MonthNames extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"monthNames",!0),this.abbr=getInteger({data:d.abbr,defaultValue:0,validate:x=>x===1}),this.month=new XFAObjectArray(12)}}class NumberPattern extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"numberPattern"),this.name=getStringOption(d.name,["full","long","med","short"])}}class NumberPatterns extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"numberPatterns",!0),this.numberPattern=new XFAObjectArray(4)}}class NumberSymbol extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"numberSymbol"),this.name=getStringOption(d.name,["decimal","grouping","percent","minus","zero"])}}class NumberSymbols extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"numberSymbols",!0),this.numberSymbol=new XFAObjectArray(5)}}class TimePattern extends StringObject{constructor(d){super(LOCALE_SET_NS_ID,"timePattern"),this.name=getStringOption(d.name,["full","long","med","short"])}}class TimePatterns extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"timePatterns",!0),this.timePattern=new XFAObjectArray(4)}}class TypeFace extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"typeFace",!0),this.name=d.name|""}}class TypeFaces extends XFAObject{constructor(d){super(LOCALE_SET_NS_ID,"typeFaces",!0),this.typeFace=new XFAObjectArray}}class LocaleSetNamespace{static[$buildXFAObject](d,x){if(LocaleSetNamespace.hasOwnProperty(d))return LocaleSetNamespace[d](x)}static calendarSymbols(d){return new CalendarSymbols(d)}static currencySymbol(d){return new CurrencySymbol(d)}static currencySymbols(d){return new CurrencySymbols(d)}static datePattern(d){return new DatePattern(d)}static datePatterns(d){return new DatePatterns(d)}static dateTimeSymbols(d){return new DateTimeSymbols(d)}static day(d){return new Day(d)}static dayNames(d){return new DayNames(d)}static era(d){return new Era(d)}static eraNames(d){return new EraNames(d)}static locale(d){return new locale_set_Locale(d)}static localeSet(d){return new locale_set_LocaleSet(d)}static meridiem(d){return new Meridiem(d)}static meridiemNames(d){return new MeridiemNames(d)}static month(d){return new Month(d)}static monthNames(d){return new MonthNames(d)}static numberPattern(d){return new NumberPattern(d)}static numberPatterns(d){return new NumberPatterns(d)}static numberSymbol(d){return new NumberSymbol(d)}static numberSymbols(d){return new NumberSymbols(d)}static timePattern(d){return new TimePattern(d)}static timePatterns(d){return new TimePatterns(d)}static typeFace(d){return new TypeFace(d)}static typeFaces(d){return new TypeFaces(d)}}const SIGNATURE_NS_ID=NamespaceIds.signature.id;class signature_Signature extends XFAObject{constructor(d){super(SIGNATURE_NS_ID,"signature",!0)}}class SignatureNamespace{static[$buildXFAObject](d,x){if(SignatureNamespace.hasOwnProperty(d))return SignatureNamespace[d](x)}static signature(d){return new signature_Signature(d)}}const STYLESHEET_NS_ID=NamespaceIds.stylesheet.id;class Stylesheet extends XFAObject{constructor(d){super(STYLESHEET_NS_ID,"stylesheet",!0)}}class StylesheetNamespace{static[$buildXFAObject](d,x){if(StylesheetNamespace.hasOwnProperty(d))return StylesheetNamespace[d](x)}static stylesheet(d){return new Stylesheet(d)}}const XDP_NS_ID=NamespaceIds.xdp.id;class xdp_Xdp extends XFAObject{constructor(d){super(XDP_NS_ID,"xdp",!0),this.uuid=d.uuid||"",this.timeStamp=d.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new XFAObjectArray,this.template=null}[$onChildCheck](d){const x=NamespaceIds[d[$nodeName]];return x&&d[$namespaceId]===x.id}}class XdpNamespace{static[$buildXFAObject](d,x){if(XdpNamespace.hasOwnProperty(d))return XdpNamespace[d](x)}static xdp(d){return new xdp_Xdp(d)}}const XHTML_NS_ID=NamespaceIds.xhtml.id,$richText=Symbol(),VALID_STYLES=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),StyleMapping=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",g=>g==="none"?"none":"normal"],["xfa-font-horizontal-scale",g=>`scaleX(${Math.max(0,Math.min(parseInt(g)/100)).toFixed(2)})`],["xfa-font-vertical-scale",g=>`scaleY(${Math.max(0,Math.min(parseInt(g)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(g,d)=>(g=d.fontSize=getMeasurement(g),measureToString(.99*g))],["letter-spacing",g=>measureToString(getMeasurement(g))],["line-height",g=>measureToString(getMeasurement(g))],["margin",g=>measureToString(getMeasurement(g))],["margin-bottom",g=>measureToString(getMeasurement(g))],["margin-left",g=>measureToString(getMeasurement(g))],["margin-right",g=>measureToString(getMeasurement(g))],["margin-top",g=>measureToString(getMeasurement(g))],["text-indent",g=>measureToString(getMeasurement(g))],["font-family",g=>g],["vertical-align",g=>measureToString(getMeasurement(g))]]),spacesRegExp=/\s+/g,crlfRegExp=/[\r\n]+/g,crlfForRichTextRegExp=/\r\n?/g;function mapStyle(g,d,x){const b=Object.create(null);if(!g)return b;const S=Object.create(null);for(const[w,C]of g.split(";").map(F=>F.split(":",2))){const F=StyleMapping.get(w);if(F==="")continue;let E=C;F&&(E=typeof F=="string"?F:F(C,S)),w.endsWith("scale")?b.transform=b.transform?`${b[w]} ${E}`:E:b[w.replaceAll(/-([a-zA-Z])/g,(k,D)=>D.toUpperCase())]=E}if(b.fontFamily&&setFontFamily({typeface:b.fontFamily,weight:b.fontWeight||"normal",posture:b.fontStyle||"normal",size:S.fontSize||0},d,d[$globalData].fontFinder,b),x&&b.verticalAlign&&b.verticalAlign!=="0px"&&b.fontSize){const F=getMeasurement(b.fontSize);b.fontSize=measureToString(F*.583),b.verticalAlign=measureToString(Math.sign(getMeasurement(b.verticalAlign))*F*.333)}return x&&b.fontSize&&(b.fontSize=`calc(${b.fontSize} * var(--scale-factor))`),fixTextIndent(b),b}function checkStyle(g){return g.style?g.style.trim().split(/\s*;\s*/).filter(d=>!!d).map(d=>d.split(/\s*:\s*/,2)).filter(([d,x])=>(d==="font-family"&&g[$globalData].usedTypefaces.add(x),VALID_STYLES.has(d))).map(d=>d.join(":")).join(";"):""}const NoWhites=new Set(["body","html"]);class XhtmlObject extends XmlObject{constructor(d,x){super(XHTML_NS_ID,x),this[$richText]=!1,this.style=d.style||""}[$clean](d){super[$clean](d),this.style=checkStyle(this)}[$acceptWhitespace](){return!NoWhites.has(this[$nodeName])}[$onText](d,x=!1){x?this[$richText]=!0:(d=d.replaceAll(crlfRegExp,""),this.style.includes("xfa-spacerun:yes")||(d=d.replaceAll(spacesRegExp," "))),d&&(this[$content]+=d)}[$pushGlyphs](d,x=!0){const b=Object.create(null),S={top:NaN,bottom:NaN,left:NaN,right:NaN};let w=null;for(const[C,F]of this.style.split(";").map(E=>E.split(":",2)))switch(C){case"font-family":b.typeface=stripQuotes(F);break;case"font-size":b.size=getMeasurement(F);break;case"font-weight":b.weight=F;break;case"font-style":b.posture=F;break;case"letter-spacing":b.letterSpacing=getMeasurement(F);break;case"margin":const E=F.split(/ \t/).map(k=>getMeasurement(k));switch(E.length){case 1:S.top=S.bottom=S.left=S.right=E[0];break;case 2:S.top=S.bottom=E[0],S.left=S.right=E[1];break;case 3:S.top=E[0],S.bottom=E[2],S.left=S.right=E[1];break;case 4:S.top=E[0],S.left=E[1],S.bottom=E[2],S.right=E[3];break}break;case"margin-top":S.top=getMeasurement(F);break;case"margin-bottom":S.bottom=getMeasurement(F);break;case"margin-left":S.left=getMeasurement(F);break;case"margin-right":S.right=getMeasurement(F);break;case"line-height":w=getMeasurement(F);break}if(d.pushData(b,S,w),this[$content])d.addString(this[$content]);else for(const C of this[$getChildren]()){if(C[$nodeName]==="#text"){d.addString(C[$content]);continue}C[$pushGlyphs](d)}x&&d.popFont()}[$toHTML](d){const x=[];if(this[$extra]={children:x},this[$childrenToHTML]({}),x.length===0&&!this[$content])return HTMLResult.EMPTY;let b;return this[$richText]?b=this[$content]?this[$content].replaceAll(crlfForRichTextRegExp,`
`):void 0:b=this[$content]||void 0,HTMLResult.success({name:this[$nodeName],attributes:{href:this.href,style:mapStyle(this.style,this,this[$richText])},children:x,value:b})}}class A extends XhtmlObject{constructor(d){super(d,"a"),this.href=fixURL(d.href)||""}}class B extends XhtmlObject{constructor(d){super(d,"b")}[$pushGlyphs](d){d.pushFont({weight:"bold"}),super[$pushGlyphs](d),d.popFont()}}class Body extends XhtmlObject{constructor(d){super(d,"body")}[$toHTML](d){const x=super[$toHTML](d),{html:b}=x;return b?(b.name="div",b.attributes.class=["xfaRich"],x):HTMLResult.EMPTY}}class Br extends XhtmlObject{constructor(d){super(d,"br")}[$text](){return`
`}[$pushGlyphs](d){d.addString(`
`)}[$toHTML](d){return HTMLResult.success({name:"br"})}}class Html extends XhtmlObject{constructor(d){super(d,"html")}[$toHTML](d){const x=[];if(this[$extra]={children:x},this[$childrenToHTML]({}),x.length===0)return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[$content]||""});if(x.length===1){const b=x[0];if(b.attributes?.class.includes("xfaRich"))return HTMLResult.success(b)}return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:x})}}class I extends XhtmlObject{constructor(d){super(d,"i")}[$pushGlyphs](d){d.pushFont({posture:"italic"}),super[$pushGlyphs](d),d.popFont()}}class Li extends XhtmlObject{constructor(d){super(d,"li")}}class Ol extends XhtmlObject{constructor(d){super(d,"ol")}}class P extends XhtmlObject{constructor(d){super(d,"p")}[$pushGlyphs](d){super[$pushGlyphs](d,!1),d.addString(`
`),d.addPara(),d.popFont()}[$text](){return this[$getParent]()[$getChildren]().at(-1)===this?super[$text]():super[$text]()+`
`}}class Span extends XhtmlObject{constructor(d){super(d,"span")}}class Sub extends XhtmlObject{constructor(d){super(d,"sub")}}class Sup extends XhtmlObject{constructor(d){super(d,"sup")}}class Ul extends XhtmlObject{constructor(d){super(d,"ul")}}class XhtmlNamespace{static[$buildXFAObject](d,x){if(XhtmlNamespace.hasOwnProperty(d))return XhtmlNamespace[d](x)}static a(d){return new A(d)}static b(d){return new B(d)}static body(d){return new Body(d)}static br(d){return new Br(d)}static html(d){return new Html(d)}static i(d){return new I(d)}static li(d){return new Li(d)}static ol(d){return new Ol(d)}static p(d){return new P(d)}static span(d){return new Span(d)}static sub(d){return new Sub(d)}static sup(d){return new Sup(d)}static ul(d){return new Ul(d)}}const NamespaceSetUp={config:ConfigNamespace,connection:ConnectionSetNamespace,datasets:DatasetsNamespace,localeSet:LocaleSetNamespace,signature:SignatureNamespace,stylesheet:StylesheetNamespace,template:TemplateNamespace,xdp:XdpNamespace,xhtml:XhtmlNamespace};class UnknownNamespace{constructor(d){this.namespaceId=d}[$buildXFAObject](d,x){return new XmlObject(this.namespaceId,d,x)}}class Root extends XFAObject{constructor(d){super(-1,"root",Object.create(null)),this.element=null,this[$ids]=d}[$onChild](d){return this.element=d,!0}[$finalize](){super[$finalize](),this.element.template instanceof Template&&(this[$ids].set($root,this.element),this.element.template[$resolvePrototypes](this[$ids]),this.element.template[$ids]=this[$ids])}}class Empty extends XFAObject{constructor(){super(-1,"",Object.create(null))}[$onChild](d){return!1}}class Builder{constructor(d=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(NamespaceIds).map(({id:x})=>x)),this._currentNamespace=d||new UnknownNamespace(++this._nextNsId)}buildRoot(d){return new Root(d)}build({nsPrefix:d,name:x,attributes:b,namespace:S,prefixes:w}){const C=S!==null;if(C&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(S)),w&&this._addNamespacePrefix(w),b.hasOwnProperty($nsAttributes)){const k=NamespaceSetUp.datasets,D=b[$nsAttributes];let M=null;for(const[L,R]of Object.entries(D))if(this._getNamespaceToUse(L)===k){M={xfa:R};break}M?b[$nsAttributes]=M:delete b[$nsAttributes]}const E=this._getNamespaceToUse(d)?.[$buildXFAObject](x,b)||new Empty;return E[$isNsAgnostic]()&&this._nsAgnosticLevel++,(C||w||E[$isNsAgnostic]())&&(E[$cleanup]={hasNamespace:C,prefixes:w,nsAgnostic:E[$isNsAgnostic]()}),E}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(d){let x=this._namespaces.get(d);if(x)return x;for(const[b,{check:S}]of Object.entries(NamespaceIds))if(S(d)){if(x=NamespaceSetUp[b],x)return this._namespaces.set(d,x),x;break}return x=new UnknownNamespace(++this._nextNsId),this._namespaces.set(d,x),x}_addNamespacePrefix(d){for(const{prefix:x,value:b}of d){const S=this._searchNamespace(b);let w=this._namespacePrefixes.get(x);w||(w=[],this._namespacePrefixes.set(x,w)),w.push(S)}}_getNamespaceToUse(d){if(!d)return this._currentNamespace;const x=this._namespacePrefixes.get(d);return x?.length>0?x.at(-1):(warn(`Unknown namespace prefix: ${d}.`),null)}clean(d){const{hasNamespace:x,prefixes:b,nsAgnostic:S}=d;x&&(this._currentNamespace=this._namespaceStack.pop()),b&&b.forEach(({prefix:w})=>{this._namespacePrefixes.get(w).pop()}),S&&this._nsAgnosticLevel--}}class XFAParser extends XMLParserBase{constructor(d=null,x=!1){super(),this._builder=new Builder(d),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=x}parse(d){if(this.parseXml(d),this._errorCode===XMLParserErrorCode.NoError)return this._current[$finalize](),this._current.element}onText(d){if(d=d.replace(this._nbsps,x=>x.slice(1)+" "),this._richText||this._current[$acceptWhitespace]()){this._current[$onText](d,this._richText);return}this._whiteRegex.test(d)||this._current[$onText](d.trim())}onCdata(d){this._current[$onText](d)}_mkAttributes(d,x){let b=null,S=null;const w=Object.create({});for(const{name:C,value:F}of d)if(C==="xmlns")b?warn(`XFA - multiple namespace definition in <${x}>`):b=F;else if(C.startsWith("xmlns:")){const E=C.substring(6);S||(S=[]),S.push({prefix:E,value:F})}else{const E=C.indexOf(":");if(E===-1)w[C]=F;else{let k=w[$nsAttributes];k||(k=w[$nsAttributes]=Object.create(null));const[D,M]=[C.slice(0,E),C.slice(E+1)],L=k[D]||=Object.create(null);L[M]=F}}return[b,S,w]}_getNameAndPrefix(d,x){const b=d.indexOf(":");return b===-1?[d,null]:[d.substring(b+1),x?"":d.substring(0,b)]}onBeginElement(d,x,b){const[S,w,C]=this._mkAttributes(x,d),[F,E]=this._getNameAndPrefix(d,this._builder.isNsAgnostic()),k=this._builder.build({nsPrefix:E,name:F,attributes:C,namespace:S,prefixes:w});if(k[$globalData]=this._globalData,b){k[$finalize](),this._current[$onChild](k)&&k[$setId](this._ids),k[$clean](this._builder);return}this._stack.push(this._current),this._current=k}onEndElement(d){const x=this._current;if(x[$isCDATAXml]()&&typeof x[$content]=="string"){const b=new XFAParser;b._globalData=this._globalData;const S=b.parse(x[$content]);x[$content]=null,x[$onChild](S)}x[$finalize](),this._current=this._stack.pop(),this._current[$onChild](x)&&x[$setId](this._ids),x[$clean](this._builder)}onError(d){this._errorCode=d}}class XFAFactory{constructor(d){try{this.root=new XFAParser().parse(XFAFactory._createDocument(d));const x=new Binder(this.root);this.form=x.bind(),this.dataHandler=new DataHandler(this.root,x.getData()),this.form[$globalData].template=this.form}catch(x){warn(`XFA - an error occurred during parsing and binding: ${x}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const d=this.form[$toPages]();return new Promise((x,b)=>{const S=()=>{try{const w=d.next();w.done?x(w.value):setTimeout(S,0)}catch(w){b(w)}};setTimeout(S,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(d=>{const{width:x,height:b}=d.attributes.style;return[0,0,parseInt(x),parseInt(b)]})}catch(d){warn(`XFA - an error occurred during layout: ${d}`)}}getBoundingBox(d){return this.dims[d]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(d){this.form[$globalData].images=d}setFonts(d){this.form[$globalData].fontFinder=new FontFinder(d);const x=[];for(let b of this.form[$globalData].usedTypefaces)b=stripQuotes(b),this.form[$globalData].fontFinder.find(b)||x.push(b);return x.length>0?x:null}appendFonts(d,x){this.form[$globalData].fontFinder.add(d,x)}async getPages(){this.pages||await this._createPages();const d=this.pages;return this.pages=null,d}serializeData(d){return this.dataHandler.serialize(d)}static _createDocument(d){return d["/xdp:xdp"]?Object.values(d).join(""):d["xdp:xdp"]}static getRichTextAsHtml(d){if(!d||typeof d!="string")return null;try{let x=new XFAParser(XhtmlNamespace,!0).parse(d);if(!["body","xhtml"].includes(x[$nodeName])){const C=XhtmlNamespace.body({});C[$appendChild](x),x=C}const b=x[$toHTML]();if(!b.success)return null;const{html:S}=b,{attributes:w}=S;return w&&(w.class&&(w.class=w.class.filter(C=>!C.startsWith("xfa"))),w.dir="auto"),{html:S,str:x[$text]()}}catch(x){warn(`XFA - an error occurred during parsing of rich text: ${x}`)}return null}}class AnnotationFactory{static createGlobals(d){return Promise.all([d.ensureCatalog("acroForm"),d.ensureDoc("xfaDatasets"),d.ensureCatalog("structTreeRoot"),d.ensureCatalog("baseUrl"),d.ensureCatalog("attachments")]).then(([x,b,S,w,C])=>({pdfManager:d,acroForm:x instanceof Dict?x:Dict.empty,xfaDatasets:b,structTreeRoot:S,baseUrl:w,attachments:C}),x=>(warn(`createGlobals: "${x}".`),null))}static async create(d,x,b,S,w,C){const F=w?await this._getPageIndex(d,x,b.pdfManager):null;return b.pdfManager.ensure(this,"_create",[d,x,b,S,w,F,C])}static _create(d,x,b,S,w=!1,C=null,F=null){const E=d.fetchIfRef(x);if(!(E instanceof Dict))return;const{acroForm:k,pdfManager:D}=b,M=x instanceof Ref?x.toString():`annot_${S.createObjId()}`;let L=E.get("Subtype");L=L instanceof Name?L.name:null;const R={xref:d,ref:x,dict:E,subtype:L,id:M,annotationGlobals:b,collectFields:w,needAppearances:!w&&k.get("NeedAppearances")===!0,pageIndex:C,evaluatorOptions:D.evaluatorOptions,pageRef:F};switch(L){case"Link":return new LinkAnnotation(R);case"Text":return new TextAnnotation(R);case"Widget":let U=getInheritableProperty({dict:E,key:"FT"});switch(U=U instanceof Name?U.name:null,U){case"Tx":return new TextWidgetAnnotation(R);case"Btn":return new ButtonWidgetAnnotation(R);case"Ch":return new ChoiceWidgetAnnotation(R);case"Sig":return new SignatureWidgetAnnotation(R)}return warn(`Unimplemented widget field type "${U}", falling back to base field type.`),new WidgetAnnotation(R);case"Popup":return new PopupAnnotation(R);case"FreeText":return new FreeTextAnnotation(R);case"Line":return new LineAnnotation(R);case"Square":return new SquareAnnotation(R);case"Circle":return new CircleAnnotation(R);case"PolyLine":return new PolylineAnnotation(R);case"Polygon":return new PolygonAnnotation(R);case"Caret":return new CaretAnnotation(R);case"Ink":return new InkAnnotation(R);case"Highlight":return new HighlightAnnotation(R);case"Underline":return new UnderlineAnnotation(R);case"Squiggly":return new SquigglyAnnotation(R);case"StrikeOut":return new StrikeOutAnnotation(R);case"Stamp":return new StampAnnotation(R);case"FileAttachment":return new FileAttachmentAnnotation(R);default:return w||warn(L?`Unimplemented annotation type "${L}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new Annotation(R)}}static async _getPageIndex(d,x,b){try{const S=await d.fetchIfRefAsync(x);if(!(S instanceof Dict))return-1;const w=S.getRaw("P");if(w instanceof Ref)try{return await b.ensureCatalog("getPageIndex",[w])}catch(F){info(`_getPageIndex -- not a valid page reference: "${F}".`)}if(S.has("Kids"))return-1;const C=await b.ensureDoc("numPages");for(let F=0;F<C;F++){const E=await b.getPage(F),k=await b.ensure(E,"annotations");for(const D of k)if(D instanceof Ref&&isRefsEqual(D,x))return F}}catch(S){warn(`_getPageIndex: "${S}".`)}return-1}static generateImages(d,x,b){if(!b)return warn("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let S;for(const{bitmapId:w,bitmap:C}of d)C&&(S||=new Map,S.set(w,StampAnnotation.createImage(C,x)));return S}static async saveNewAnnotations(d,x,b,S){const w=d.xref;let C;const F=[],E=[],{isOffscreenCanvasSupported:k}=d.options;for(const D of b)if(!D.deleted)switch(D.annotationType){case AnnotationEditorType.FREETEXT:if(!C){const L=new Dict(w);L.set("BaseFont",Name.get("Helvetica")),L.set("Type",Name.get("Font")),L.set("Subtype",Name.get("Type1")),L.set("Encoding",Name.get("WinAnsiEncoding"));const R=[];C=w.getNewTemporaryRef(),await writeObject(C,L,R,w),F.push({ref:C,data:R.join("")})}E.push(FreeTextAnnotation.createNewAnnotation(w,D,F,{evaluator:d,task:x,baseFontRef:C}));break;case AnnotationEditorType.HIGHLIGHT:E.push(HighlightAnnotation.createNewAnnotation(w,D,F));break;case AnnotationEditorType.INK:E.push(InkAnnotation.createNewAnnotation(w,D,F));break;case AnnotationEditorType.STAMP:if(!k)break;const M=await S.get(D.bitmapId);if(M.imageStream){const{imageStream:L,smaskStream:R}=M,U=[];if(R){const H=w.getNewTemporaryRef();await writeObject(H,R,U,w),F.push({ref:H,data:U.join("")}),L.dict.set("SMask",H),U.length=0}const j=M.imageRef=w.getNewTemporaryRef();await writeObject(j,L,U,w),F.push({ref:j,data:U.join("")}),M.imageStream=M.smaskStream=null}E.push(StampAnnotation.createNewAnnotation(w,D,F,{image:M}));break}return{annotations:await Promise.all(E),dependencies:F}}static async printNewAnnotations(d,x,b,S,w){if(!S)return null;const{options:C,xref:F}=x,E=[];for(const k of S)if(!k.deleted)switch(k.annotationType){case AnnotationEditorType.FREETEXT:E.push(FreeTextAnnotation.createNewPrintAnnotation(d,F,k,{evaluator:x,task:b,evaluatorOptions:C}));break;case AnnotationEditorType.HIGHLIGHT:E.push(HighlightAnnotation.createNewPrintAnnotation(d,F,k,{evaluatorOptions:C}));break;case AnnotationEditorType.INK:E.push(InkAnnotation.createNewPrintAnnotation(d,F,k,{evaluatorOptions:C}));break;case AnnotationEditorType.STAMP:if(!C.isOffscreenCanvasSupported)break;const D=await w.get(k.bitmapId);if(D.imageStream){const{imageStream:M,smaskStream:L}=D;L&&M.dict.set("SMask",L),D.imageRef=new JpegStream(M,M.length),D.imageStream=D.smaskStream=null}E.push(StampAnnotation.createNewPrintAnnotation(d,F,k,{image:D,evaluatorOptions:C}));break}return Promise.all(E)}}function getRgbColor(g,d=new Uint8ClampedArray(3)){if(!Array.isArray(g))return d;const x=d||new Uint8ClampedArray(3);switch(g.length){case 0:return null;case 1:return ColorSpace$1.singletons.gray.getRgbItem(g,0,x,0),x;case 3:return ColorSpace$1.singletons.rgb.getRgbItem(g,0,x,0),x;case 4:return ColorSpace$1.singletons.cmyk.getRgbItem(g,0,x,0),x;default:return d}}function getPdfColorArray(g){return Array.from(g,d=>d/255)}function getQuadPoints(g,d){const x=g.getArray("QuadPoints");if(!Array.isArray(x)||x.length===0||x.length%8>0)return null;const b=[];for(let S=0,w=x.length/8;S<w;S++){let C=1/0,F=-1/0,E=1/0,k=-1/0;for(let D=S*8,M=S*8+8;D<M;D+=2){const L=x[D],R=x[D+1];C=Math.min(L,C),F=Math.max(L,F),E=Math.min(R,E),k=Math.max(R,k)}if(d!==null&&(C<d[0]||F>d[2]||E<d[1]||k>d[3]))return null;b.push([{x:C,y:k},{x:F,y:k},{x:C,y:E},{x:F,y:E}])}return b}function getTransformMatrix(g,d,x){const[b,S,w,C]=Util.getAxialAlignedBoundingBox(d,x);if(b===w||S===C)return[1,0,0,1,g[0],g[1]];const F=(g[2]-g[0])/(w-b),E=(g[3]-g[1])/(C-S);return[F,0,0,E,g[0]-b*F,g[1]-S*E]}class Annotation{constructor(d){const{dict:x,xref:b,annotationGlobals:S}=d;this.setTitle(x.get("T")),this.setContents(x.get("Contents")),this.setModificationDate(x.get("M")),this.setFlags(x.get("F")),this.setRectangle(x.getArray("Rect")),this.setColor(x.getArray("C")),this.setBorderStyle(x),this.setAppearance(x),this.setOptionalContent(x);const w=x.get("MK");this.setBorderAndBackgroundColors(w),this.setRotation(w,x),this.ref=d.ref instanceof Ref?d.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const C=!!(this.flags&AnnotationFlag.LOCKED),F=!!(this.flags&AnnotationFlag.LOCKEDCONTENTS);if(S.structTreeRoot){let E=x.get("StructParent");E=Number.isInteger(E)&&E>=0?E:-1,S.structTreeRoot.addAnnotationIdToPage(d.pageRef,E)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:d.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:d.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&AnnotationFlag.NOROTATE),noHTML:C&&F},d.collectFields){const E=x.get("Kids");if(Array.isArray(E)){const k=[];for(const D of E)D instanceof Ref&&k.push(D.toString());k.length!==0&&(this.data.kidIds=k)}this.data.actions=collectActions(b,x,AnnotationActionEventType),this.data.fieldName=this._constructFieldName(x),this.data.pageIndex=d.pageIndex}this._isOffscreenCanvasSupported=d.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(d,x){return!!(d&x)}_isViewable(d){return!this._hasFlag(d,AnnotationFlag.INVISIBLE)&&!this._hasFlag(d,AnnotationFlag.NOVIEW)}_isPrintable(d){return this._hasFlag(d,AnnotationFlag.PRINT)&&!this._hasFlag(d,AnnotationFlag.HIDDEN)&&!this._hasFlag(d,AnnotationFlag.INVISIBLE)}mustBeViewed(d,x){const b=d?.get(this.data.id)?.noView;return b!==void 0?!b:this.viewable&&!this._hasFlag(this.flags,AnnotationFlag.HIDDEN)}mustBePrinted(d){const x=d?.get(this.data.id)?.noPrint;return x!==void 0?!x:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(d){const x=typeof d=="string"?stringToPDFString(d):"",b=x&&bidi(x).dir==="rtl"?"rtl":"ltr";return{str:x,dir:b}}setDefaultAppearance(d){const{dict:x,annotationGlobals:b}=d,S=getInheritableProperty({dict:x,key:"DA"})||b.acroForm.get("DA");this._defaultAppearance=typeof S=="string"?S:"",this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance)}setTitle(d){this._title=this._parseStringHelper(d)}setContents(d){this._contents=this._parseStringHelper(d)}setModificationDate(d){this.modificationDate=typeof d=="string"?d:null}setFlags(d){this.flags=Number.isInteger(d)&&d>0?d:0,this.flags&AnnotationFlag.INVISIBLE&&this.constructor.name!=="Annotation"&&(this.flags^=AnnotationFlag.INVISIBLE)}hasFlag(d){return this._hasFlag(this.flags,d)}setRectangle(d){this.rectangle=Array.isArray(d)&&d.length===4?Util.normalizeRect(d):[0,0,0,0]}setColor(d){this.color=getRgbColor(d)}setLineEndings(d){if(this.lineEndings=["None","None"],Array.isArray(d)&&d.length===2)for(let x=0;x<2;x++){const b=d[x];if(b instanceof Name)switch(b.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[x]=b.name;continue}warn(`Ignoring invalid lineEnding: ${b}`)}}setRotation(d,x){this.rotation=0;let b=d instanceof Dict?d.get("R")||0:x.get("Rotate")||0;Number.isInteger(b)&&b!==0&&(b%=360,b<0&&(b+=360),b%90===0&&(this.rotation=b))}setBorderAndBackgroundColors(d){d instanceof Dict?(this.borderColor=getRgbColor(d.getArray("BC"),null),this.backgroundColor=getRgbColor(d.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(d){if(this.borderStyle=new AnnotationBorderStyle,d instanceof Dict)if(d.has("BS")){const x=d.get("BS"),b=x.get("Type");(!b||isName(b,"Border"))&&(this.borderStyle.setWidth(x.get("W"),this.rectangle),this.borderStyle.setStyle(x.get("S")),this.borderStyle.setDashArray(x.getArray("D")))}else if(d.has("Border")){const x=d.getArray("Border");Array.isArray(x)&&x.length>=3&&(this.borderStyle.setHorizontalCornerRadius(x[0]),this.borderStyle.setVerticalCornerRadius(x[1]),this.borderStyle.setWidth(x[2],this.rectangle),x.length===4&&this.borderStyle.setDashArray(x[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(d){this.appearance=null;const x=d.get("AP");if(!(x instanceof Dict))return;const b=x.get("N");if(b instanceof BaseStream){this.appearance=b;return}if(!(b instanceof Dict))return;const S=d.get("AS");if(!(S instanceof Name)||!b.has(S.name))return;const w=b.get(S.name);w instanceof BaseStream&&(this.appearance=w)}setOptionalContent(d){this.oc=null;const x=d.get("OC");x instanceof Name?warn("setOptionalContent: Support for /Name-entry is not implemented."):x instanceof Dict&&(this.oc=x)}loadResources(d,x){return x.dict.getAsync("Resources").then(b=>b?new ObjectLoader(b,d,b.xref).load().then(function(){return b}):void 0)}async getOperatorList(d,x,b,S,w){const C=this.data;let F=this.appearance;const E=!!(this.data.hasOwnCanvas&&b&RenderingIntentFlag.DISPLAY);if(!F){if(!E)return{opList:new OperatorList,separateForm:!1,separateCanvas:!1};F=new StringStream(""),F.dict=new Dict}const k=F.dict,D=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],F),M=k.getArray("BBox")||[0,0,1,1],L=k.getArray("Matrix")||[1,0,0,1,0,0],R=getTransformMatrix(C.rect,M,L),U=new OperatorList;let j;return this.oc&&(j=await d.parseMarkedContentProps(this.oc,null)),j!==void 0&&U.addOp(OPS.beginMarkedContentProps,["OC",j]),U.addOp(OPS.beginAnnotation,[C.id,C.rect,R,L,E]),await d.getOperatorList({stream:F,task:x,resources:D,operatorList:U,fallbackFontDict:this._fallbackFontDict}),U.addOp(OPS.endAnnotation,[]),j!==void 0&&U.addOp(OPS.endMarkedContent,[]),this.reset(),{opList:U,separateForm:!1,separateCanvas:E}}async save(d,x,b){return null}get hasTextContent(){return!1}async extractTextContent(d,x,b){if(!this.appearance)return;const S=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),w=[],C=[];let F=null;const E={desiredSize:Math.Infinity,ready:!0,enqueue(k,D){for(const M of k.items)M.str!==void 0&&(F||=M.transform.slice(-2),C.push(M.str),M.hasEOL&&(w.push(C.join("")),C.length=0))}};if(await d.getTextContent({stream:this.appearance,task:x,resources:S,includeMarkedContent:!0,sink:E,viewBox:b}),this.reset(),C.length&&w.push(C.join("")),w.length>1||w[0]){const k=this.appearance.dict,D=k.getArray("BBox")||[0,0,1,1],M=k.getArray("Matrix")||[1,0,0,1,0,0],L=this.data.rect,R=getTransformMatrix(L,D,M);R[4]-=L[0],R[5]-=L[1],F=Util.applyTransform(F,R),F=Util.applyTransform(F,M),this.data.textPosition=F,this.data.textContent=w}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const d of this._streams)d.reset()}_constructFieldName(d){if(!d.has("T")&&!d.has("Parent"))return warn("Unknown field name, falling back to empty field name."),"";if(!d.has("Parent"))return stringToPDFString(d.get("T"));const x=[];d.has("T")&&x.unshift(stringToPDFString(d.get("T")));let b=d;const S=new RefSet;for(d.objId&&S.put(d.objId);b.has("Parent")&&(b=b.get("Parent"),!(!(b instanceof Dict)||b.objId&&S.has(b.objId)));)b.objId&&S.put(b.objId),b.has("T")&&x.unshift(stringToPDFString(b.get("T")));return x.join(".")}}class AnnotationBorderStyle{constructor(){this.width=1,this.style=AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(d,x=[0,0,0,0]){if(d instanceof Name){this.width=0;return}if(typeof d=="number"){if(d>0){const b=(x[2]-x[0])/2,S=(x[3]-x[1])/2;b>0&&S>0&&(d>b||d>S)&&(warn(`AnnotationBorderStyle.setWidth - ignoring width: ${d}`),d=1)}this.width=d}}setStyle(d){if(d instanceof Name)switch(d.name){case"S":this.style=AnnotationBorderStyleType.SOLID;break;case"D":this.style=AnnotationBorderStyleType.DASHED;break;case"B":this.style=AnnotationBorderStyleType.BEVELED;break;case"I":this.style=AnnotationBorderStyleType.INSET;break;case"U":this.style=AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(d,x=!1){if(Array.isArray(d)&&d.length>0){let b=!0,S=!0;for(const w of d)if(+w>=0)w>0&&(S=!1);else{b=!1;break}b&&!S?(this.dashArray=d,x&&this.setStyle(Name.get("D"))):this.width=0}else d&&(this.width=0)}setHorizontalCornerRadius(d){Number.isInteger(d)&&(this.horizontalCornerRadius=d)}setVerticalCornerRadius(d){Number.isInteger(d)&&(this.verticalCornerRadius=d)}}class MarkupAnnotation extends Annotation{constructor(d){super(d);const{dict:x}=d;if(x.has("IRT")){const S=x.getRaw("IRT");this.data.inReplyTo=S instanceof Ref?S.toString():null;const w=x.get("RT");this.data.replyType=w instanceof Name?w.name:AnnotationReplyType.REPLY}let b=null;if(this.data.replyType===AnnotationReplyType.GROUP){const S=x.get("IRT");this.setTitle(S.get("T")),this.data.titleObj=this._title,this.setContents(S.get("Contents")),this.data.contentsObj=this._contents,S.has("CreationDate")?(this.setCreationDate(S.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,S.has("M")?(this.setModificationDate(S.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,b=S.getRaw("Popup"),S.has("C")?(this.setColor(S.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(x.get("CreationDate")),this.data.creationDate=this.creationDate,b=x.getRaw("Popup"),x.has("C")||(this.data.color=null);this.data.popupRef=b instanceof Ref?b.toString():null,x.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(x.get("RC")))}setCreationDate(d){this.creationDate=typeof d=="string"?d:null}_setDefaultAppearance({xref:d,extra:x,strokeColor:b,fillColor:S,blendMode:w,strokeAlpha:C,fillAlpha:F,pointsCallback:E}){let k=Number.MAX_VALUE,D=Number.MAX_VALUE,M=Number.MIN_VALUE,L=Number.MIN_VALUE;const R=["q"];x&&R.push(x),b&&R.push(`${b[0]} ${b[1]} ${b[2]} RG`),S&&R.push(`${S[0]} ${S[1]} ${S[2]} rg`);let U=this.data.quadPoints;U||(U=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const ee of U){const[ie,oe,he,fe]=E(R,ee);k=Math.min(k,ie),M=Math.max(M,oe),D=Math.min(D,he),L=Math.max(L,fe)}R.push("Q");const j=new Dict(d),H=new Dict(d);H.set("Subtype",Name.get("Form"));const V=new StringStream(R.join(" "));V.dict=H,j.set("Fm0",V);const z=new Dict(d);w&&z.set("BM",Name.get(w)),typeof C=="number"&&z.set("CA",C),typeof F=="number"&&z.set("ca",F);const G=new Dict(d);G.set("GS0",z);const X=new Dict(d);X.set("ExtGState",G),X.set("XObject",j);const Y=new Dict(d);Y.set("Resources",X);const J=this.data.rect=[k,D,M,L];Y.set("BBox",J),this.appearance=new StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Y,this._streams.push(this.appearance,V)}static async createNewAnnotation(d,x,b,S){const w=x.ref||=d.getNewTemporaryRef(),C=await this.createNewAppearanceStream(x,d,S),F=[];let E;if(C){const k=d.getNewTemporaryRef();E=this.createNewDict(x,d,{apRef:k}),await writeObject(k,C,F,d),b.push({ref:k,data:F.join("")})}else E=this.createNewDict(x,d,{});return Number.isInteger(x.parentTreeId)&&E.set("StructParent",x.parentTreeId),F.length=0,await writeObject(w,E,F,d),{ref:w,data:F.join("")}}static async createNewPrintAnnotation(d,x,b,S){const w=await this.createNewAppearanceStream(b,x,S),C=this.createNewDict(b,x,{ap:w}),F=new this.prototype.constructor({dict:C,xref:x,annotationGlobals:d,evaluatorOptions:S.evaluatorOptions});return b.ref&&(F.ref=F.refToReplace=b.ref),F}}class WidgetAnnotation extends Annotation{constructor(d){super(d);const{dict:x,xref:b,annotationGlobals:S}=d,w=this.data;this._needAppearances=d.needAppearances,w.annotationType=AnnotationType.WIDGET,w.fieldName===void 0&&(w.fieldName=this._constructFieldName(x)),w.actions===void 0&&(w.actions=collectActions(b,x,AnnotationActionEventType));let C=getInheritableProperty({dict:x,key:"V",getArray:!0});w.fieldValue=this._decodeFormValue(C);const F=getInheritableProperty({dict:x,key:"DV",getArray:!0});if(w.defaultFieldValue=this._decodeFormValue(F),C===void 0&&S.xfaDatasets){const L=this._title.str;L&&(this._hasValueFromXFA=!0,w.fieldValue=C=S.xfaDatasets.getValue(L))}C===void 0&&w.defaultFieldValue!==null&&(w.fieldValue=w.defaultFieldValue),w.alternativeText=stringToPDFString(x.get("TU")||""),this.setDefaultAppearance(d),w.hasAppearance||=this._needAppearances&&w.fieldValue!==void 0&&w.fieldValue!==null;const E=getInheritableProperty({dict:x,key:"FT"});w.fieldType=E instanceof Name?E.name:null;const k=getInheritableProperty({dict:x,key:"DR"}),D=S.acroForm.get("DR"),M=this.appearance?.dict.get("Resources");this._fieldResources={localResources:k,acroFormResources:D,appearanceResources:M,mergedResources:Dict.merge({xref:b,dictArray:[k,M,D],mergeSubDicts:!0})},w.fieldFlags=getInheritableProperty({dict:x,key:"Ff"}),(!Number.isInteger(w.fieldFlags)||w.fieldFlags<0)&&(w.fieldFlags=0),w.readOnly=this.hasFieldFlag(AnnotationFieldFlag.READONLY),w.required=this.hasFieldFlag(AnnotationFieldFlag.REQUIRED),w.hidden=this._hasFlag(w.annotationFlags,AnnotationFlag.HIDDEN)||this._hasFlag(w.annotationFlags,AnnotationFlag.NOVIEW)}_decodeFormValue(d){return Array.isArray(d)?d.filter(x=>typeof x=="string").map(x=>stringToPDFString(x)):d instanceof Name?stringToPDFString(d.name):typeof d=="string"?stringToPDFString(d):null}hasFieldFlag(d){return!!(this.data.fieldFlags&d)}_isViewable(d){return!0}mustBeViewed(d,x){return x?this.viewable:super.mustBeViewed(d,x)&&!this._hasFlag(this.flags,AnnotationFlag.NOVIEW)}getRotationMatrix(d){let x=d?.get(this.data.id)?.rotation;if(x===void 0&&(x=this.rotation),x===0)return IDENTITY_MATRIX;const b=this.data.rect[2]-this.data.rect[0],S=this.data.rect[3]-this.data.rect[1];return getRotationMatrix(x,b,S)}getBorderAndBackgroundAppearances(d){let x=d?.get(this.data.id)?.rotation;if(x===void 0&&(x=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const b=this.data.rect[2]-this.data.rect[0],S=this.data.rect[3]-this.data.rect[1],w=x===0||x===180?`0 0 ${b} ${S} re`:`0 0 ${S} ${b} re`;let C="";if(this.backgroundColor&&(C=`${getPdfColor(this.backgroundColor,!0)} ${w} f `),this.borderColor){const F=this.borderStyle.width||1;C+=`${F} w ${getPdfColor(this.borderColor,!1)} ${w} S `}return C}async getOperatorList(d,x,b,S,w){if(S&&!(this instanceof SignatureWidgetAnnotation)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(d,x,b,S,w);const C=await this._getAppearance(d,x,b,w);if(this.appearance&&C===null)return super.getOperatorList(d,x,b,S,w);const F=new OperatorList;if(!this._defaultAppearance||C===null)return{opList:F,separateForm:!1,separateCanvas:!1};const E=!!(this.data.hasOwnCanvas&&b&RenderingIntentFlag.DISPLAY),k=[1,0,0,1,0,0],D=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],M=getTransformMatrix(this.data.rect,D,k);let L;this.oc&&(L=await d.parseMarkedContentProps(this.oc,null)),L!==void 0&&F.addOp(OPS.beginMarkedContentProps,["OC",L]),F.addOp(OPS.beginAnnotation,[this.data.id,this.data.rect,M,this.getRotationMatrix(w),E]);const R=new StringStream(C);return await d.getOperatorList({stream:R,task:x,resources:this._fieldResources.mergedResources,operatorList:F}),F.addOp(OPS.endAnnotation,[]),L!==void 0&&F.addOp(OPS.endMarkedContent,[]),{opList:F,separateForm:!1,separateCanvas:E}}_getMKDict(d){const x=new Dict(null);return d&&x.set("R",d),this.borderColor&&x.set("BC",getPdfColorArray(this.borderColor)),this.backgroundColor&&x.set("BG",getPdfColorArray(this.backgroundColor)),x.size>0?x:null}amendSavedDict(d,x){}async save(d,x,b){const S=b?.get(this.data.id);let w=S?.value,C=S?.rotation;if(w===this.data.fieldValue||w===void 0){if(!this._hasValueFromXFA&&C===void 0)return null;w||=this.data.fieldValue}if(C===void 0&&!this._hasValueFromXFA&&Array.isArray(w)&&Array.isArray(this.data.fieldValue)&&w.length===this.data.fieldValue.length&&w.every((V,z)=>V===this.data.fieldValue[z]))return null;C===void 0&&(C=this.rotation);let F=null;if(!this._needAppearances&&(F=await this._getAppearance(d,x,RenderingIntentFlag.SAVE,b),F===null))return null;let E=!1;F?.needAppearances&&(E=!0,F=null);const{xref:k}=d,D=k.fetchIfRef(this.ref);if(!(D instanceof Dict))return null;const M=new Dict(k);for(const V of D.getKeys())V!=="AP"&&M.set(V,D.getRaw(V));const L={path:this.data.fieldName,value:w},R=V=>isAscii(V)?V:stringToUTF16String(V,!0);M.set("V",Array.isArray(w)?w.map(R):R(w)),this.amendSavedDict(b,M);const U=this._getMKDict(C);U&&M.set("MK",U);const j=[],H=[{ref:this.ref,data:"",xfa:L,needAppearances:E}];if(F!==null){const V=k.getNewTemporaryRef(),z=new Dict(k);M.set("AP",z),z.set("N",V);const G=this._getSaveFieldResources(k),X=new StringStream(F),Y=X.dict=new Dict(k);Y.set("Subtype",Name.get("Form")),Y.set("Resources",G),Y.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const J=this.getRotationMatrix(b);J!==IDENTITY_MATRIX&&Y.set("Matrix",J),await writeObject(V,X,j,k),H.push({ref:V,data:j.join(""),xfa:null,needAppearances:!1}),j.length=0}return M.set("M",`D:${getModificationDate()}`),await writeObject(this.ref,M,j,k),H[0].data=j.join(""),H}async _getAppearance(d,x,b,S){if(this.hasFieldFlag(AnnotationFieldFlag.PASSWORD))return null;const C=S?.get(this.data.id);let F,E;if(C&&(F=C.formattedValue||C.value,E=C.rotation),E===void 0&&F===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const k=this.getBorderAndBackgroundAppearances(S);if(F===void 0&&(F=this.data.fieldValue,!F))return`/Tx BMC q ${k}Q EMC`;if(Array.isArray(F)&&F.length===1&&(F=F[0]),assert(typeof F=="string","Expected `value` to be a string."),F=F.trim(),this.data.combo&&(F=this.data.options.find(({exportValue:we})=>F===we)?.displayValue||F),F==="")return`/Tx BMC q ${k}Q EMC`;E===void 0&&(E=this.rotation);let D=-1,M;this.data.multiLine?(M=F.split(/\r\n?|\n/).map(Se=>Se.normalize("NFC")),D=M.length):M=[F.replace(/\r\n?|\n/,"").normalize("NFC")];const L=1,R=2;let U=this.data.rect[3]-this.data.rect[1],j=this.data.rect[2]-this.data.rect[0];(E===90||E===270)&&([j,U]=[U,j]),this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let H=await WidgetAnnotation._getFontData(d,x,this.data.defaultAppearanceData,this._fieldResources.mergedResources),V,z,G;const X=[];let Y=!1;for(const Se of M){const we=H.encodeString(Se);we.length>1&&(Y=!0),X.push(we.join(""))}if(Y&&b&RenderingIntentFlag.SAVE)return{needAppearances:!0};if(Y&&this._isOffscreenCanvasSupported){const Se=this.data.comb?"monospace":"sans-serif",we=new FakeUnicodeFont(d.xref,Se),Ee=we.createFontResources(M.join("")),de=Ee.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Oe=this._fieldResources.mergedResources.get("Font");for(const Ne of de.getKeys())Oe.set(Ne,de.getRaw(Ne))}else this._fieldResources.mergedResources.set("Font",de);const xe=we.fontName.name;H=await WidgetAnnotation._getFontData(d,x,{fontName:xe,fontSize:0},Ee);for(let Oe=0,Ne=X.length;Oe<Ne;Oe++)X[Oe]=stringToUTF16String(M[Oe]);const Te=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=xe,[V,z,G]=this._computeFontSize(U-2*L,j-2*R,F,H,D),this.data.defaultAppearanceData=Te}else this._isOffscreenCanvasSupported||warn("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[V,z,G]=this._computeFontSize(U-2*L,j-2*R,F,H,D);let J=H.descent;isNaN(J)?J=BASELINE_FACTOR*G:J=Math.max(BASELINE_FACTOR*G,Math.abs(J)*z);const ee=Math.min(Math.floor((U-z)/2),L),ie=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(V,X,H,z,j,U,ie,R,ee,J,G,S);if(this.data.comb)return this._getCombAppearance(V,H,X[0],z,j,U,R,ee,J,G,S);const oe=ee+J;if(ie===0||ie>2)return`/Tx BMC q ${k}BT `+V+` 1 0 0 1 ${numberToString$1(R)} ${numberToString$1(oe)} Tm (${escapeString(X[0])}) Tj ET Q EMC`;const he={shift:0},fe=this._renderText(X[0],H,z,j,ie,he,R,oe);return`/Tx BMC q ${k}BT `+V+` 1 0 0 1 0 0 Tm ${fe} ET Q EMC`}static async _getFontData(d,x,b,S){const w=new OperatorList,C={font:null,clone(){return this}},{fontName:F,fontSize:E}=b;return await d.handleSetFont(S,[F&&Name.get(F),E],null,w,x,C,null),C.font}_getTextWidth(d,x){return x.charsToGlyphs(d).reduce((b,S)=>b+S.width,0)/1e3}_computeFontSize(d,x,b,S,w){let{fontSize:C}=this.data.defaultAppearanceData,F=(C||12)*LINE_FACTOR,E=Math.round(d/F);if(!C){const k=L=>Math.floor(L*100)/100;if(w===-1){const L=this._getTextWidth(b,S);C=k(Math.min(d/LINE_FACTOR,L>x?x/L:1/0)),E=1}else{const L=b.split(/\r\n?|\n/),R=[];for(const j of L){const H=S.encodeString(j).join(""),V=S.charsToGlyphs(H),z=S.getCharPositions(H);R.push({line:H,glyphs:V,positions:z})}const U=j=>{let H=0;for(const V of R){const z=this._splitLine(null,S,j,x,V);if(H+=z.length*j,H>d)return!0}return!1};for(E=Math.max(E,w);;){if(F=d/E,C=k(F/LINE_FACTOR),U(C)){E++;continue}break}}const{fontName:D,fontColor:M}=this.data.defaultAppearanceData;this._defaultAppearance=createDefaultAppearance({fontSize:C,fontName:D,fontColor:M})}return[this._defaultAppearance,C,d/E]}_renderText(d,x,b,S,w,C,F,E){let k;if(w===1){const M=this._getTextWidth(d,x)*b;k=(S-M)/2}else if(w===2){const M=this._getTextWidth(d,x)*b;k=S-M-F}else k=F;const D=numberToString$1(k-C.shift);return C.shift=k,E=numberToString$1(E),`${D} ${E} Td (${escapeString(d)}) Tj`}_getSaveFieldResources(d){const{localResources:x,appearanceResources:b,acroFormResources:S}=this._fieldResources,w=this.data.defaultAppearanceData?.fontName;if(!w)return x||Dict.empty;for(const C of[x,b])if(C instanceof Dict){const F=C.get("Font");if(F instanceof Dict&&F.has(w))return C}if(S instanceof Dict){const C=S.get("Font");if(C instanceof Dict&&C.has(w)){const F=new Dict(d);F.set(w,C.getRaw(w));const E=new Dict(d);return E.set("Font",F),Dict.merge({xref:d,dictArray:[E,x],mergeSubDicts:!0})}}return x||Dict.empty}getFieldObject(){return null}}class TextWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const x=d.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let b=getInheritableProperty({dict:x,key:"Q"});(!Number.isInteger(b)||b<0||b>2)&&(b=null),this.data.textAlignment=b;let S=getInheritableProperty({dict:x,key:"MaxLen"});(!Number.isInteger(S)||S<0)&&(S=0),this.data.maxLen=S,this.data.multiLine=this.hasFieldFlag(AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(d,x,b,S,w,C,F,E,k,D,M){const L=w/this.data.maxLen,R=this.getBorderAndBackgroundAppearances(M),U=[],j=x.getCharPositions(b);for(const[V,z]of j)U.push(`(${escapeString(b.substring(V,z))}) Tj`);const H=U.join(` ${numberToString$1(L)} 0 Td `);return`/Tx BMC q ${R}BT `+d+` 1 0 0 1 ${numberToString$1(F)} ${numberToString$1(E+k)} Tm ${H} ET Q EMC`}_getMultilineAppearance(d,x,b,S,w,C,F,E,k,D,M,L){const R=[],U=w-2*E,j={shift:0};for(let z=0,G=x.length;z<G;z++){const X=x[z],Y=this._splitLine(X,b,S,U);for(let J=0,ee=Y.length;J<ee;J++){const ie=Y[J],oe=z===0&&J===0?-k-(M-D):-M;R.push(this._renderText(ie,b,S,w,F,j,E,oe))}}const H=this.getBorderAndBackgroundAppearances(L),V=R.join(`
`);return`/Tx BMC q ${H}BT `+d+` 1 0 0 1 0 ${numberToString$1(C)} Tm ${V} ET Q EMC`}_splitLine(d,x,b,S,w={}){d=w.line||d;const C=w.glyphs||x.charsToGlyphs(d);if(C.length<=1)return[d];const F=w.positions||x.getCharPositions(d),E=b/1e3,k=[];let D=-1,M=-1,L=-1,R=0,U=0;for(let j=0,H=C.length;j<H;j++){const[V,z]=F[j],G=C[j],X=G.width*E;G.unicode===" "?U+X>S?(k.push(d.substring(R,V)),R=V,U=X,D=-1,L=-1):(U+=X,D=V,M=z,L=j):U+X>S?D!==-1?(k.push(d.substring(R,M)),R=M,j=L+1,D=-1,U=0):(k.push(d.substring(R,V)),R=V,U=X):U+=X}return R<d.length&&k.push(d.substring(R,d.length)),k}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class ButtonWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(d):this.data.radioButton?this._processRadioButton(d):this.data.pushButton?(this.data.hasOwnCanvas=!0,this.data.noHTML=!1,this._processPushButton(d)):warn("Invalid field flags for button widget annotation")}async getOperatorList(d,x,b,S,w){if(this.data.pushButton)return super.getOperatorList(d,x,b,!1,w);let C=null,F=null;if(w){const k=w.get(this.data.id);C=k?k.value:null,F=k?k.rotation:null}if(C===null&&this.appearance)return super.getOperatorList(d,x,b,S,w);C==null&&(C=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const E=C?this.checkedAppearance:this.uncheckedAppearance;if(E){const k=this.appearance,D=E.dict.getArray("Matrix")||IDENTITY_MATRIX;F&&E.dict.set("Matrix",this.getRotationMatrix(w)),this.appearance=E;const M=super.getOperatorList(d,x,b,S,w);return this.appearance=k,E.dict.set("Matrix",D),M}return{opList:new OperatorList,separateForm:!1,separateCanvas:!1}}async save(d,x,b){return this.data.checkBox?this._saveCheckbox(d,x,b):this.data.radioButton?this._saveRadioButton(d,x,b):null}async _saveCheckbox(d,x,b){if(!b)return null;const S=b.get(this.data.id);let w=S?.rotation,C=S?.value;if(w===void 0&&(C===void 0||this.data.fieldValue===this.data.exportValue===C))return null;const F=d.xref.fetchIfRef(this.ref);if(!(F instanceof Dict))return null;w===void 0&&(w=this.rotation),C===void 0&&(C=this.data.fieldValue===this.data.exportValue);const E={path:this.data.fieldName,value:C?this.data.exportValue:""},k=Name.get(C?this.data.exportValue:"Off");F.set("V",k),F.set("AS",k),F.set("M",`D:${getModificationDate()}`);const D=this._getMKDict(w);D&&F.set("MK",D);const M=[];return await writeObject(this.ref,F,M,d.xref),[{ref:this.ref,data:M.join(""),xfa:E}]}async _saveRadioButton(d,x,b){if(!b)return null;const S=b.get(this.data.id);let w=S?.rotation,C=S?.value;if(w===void 0&&(C===void 0||this.data.fieldValue===this.data.buttonValue===C))return null;const F=d.xref.fetchIfRef(this.ref);if(!(F instanceof Dict))return null;C===void 0&&(C=this.data.fieldValue===this.data.buttonValue),w===void 0&&(w=this.rotation);const E={path:this.data.fieldName,value:C?this.data.buttonValue:""},k=Name.get(C?this.data.buttonValue:"Off"),D=[];let M=null;if(C)if(this.parent instanceof Ref){const U=d.xref.fetch(this.parent);U.set("V",k),await writeObject(this.parent,U,D,d.xref),M=D.join(""),D.length=0}else this.parent instanceof Dict&&this.parent.set("V",k);F.set("AS",k),F.set("M",`D:${getModificationDate()}`);const L=this._getMKDict(w);L&&F.set("MK",L),await writeObject(this.ref,F,D,d.xref);const R=[{ref:this.ref,data:D.join(""),xfa:E}];return M&&R.push({ref:this.parent,data:M,xfa:null}),R}_getDefaultCheckedAppearance(d,x){const b=this.data.rect[2]-this.data.rect[0],S=this.data.rect[3]-this.data.rect[1],w=[0,0,b,S],C=.8,F=Math.min(b,S)*C;let E,k;x==="check"?(E={width:.755*F,height:.705*F},k="3"):x==="disc"?(E={width:.791*F,height:.705*F},k="l"):unreachable(`_getDefaultCheckedAppearance - unsupported type: ${x}`);const D=numberToString$1((b-E.width)/2),M=numberToString$1((S-E.height)/2),L=`q BT /PdfJsZaDb ${F} Tf 0 g ${D} ${M} Td (${k}) Tj ET Q`,R=new Dict(d.xref);R.set("FormType",1),R.set("Subtype",Name.get("Form")),R.set("Type",Name.get("XObject")),R.set("BBox",w),R.set("Matrix",[1,0,0,1,0,0]),R.set("Length",L.length);const U=new Dict(d.xref),j=new Dict(d.xref);j.set("PdfJsZaDb",this.fallbackFontDict),U.set("Font",j),R.set("Resources",U),this.checkedAppearance=new StringStream(L),this.checkedAppearance.dict=R,this._streams.push(this.checkedAppearance)}_processCheckBox(d){const x=d.dict.get("AP");if(!(x instanceof Dict))return;const b=x.get("N");if(!(b instanceof Dict))return;const S=this._decodeFormValue(d.dict.get("AS"));typeof S=="string"&&(this.data.fieldValue=S);const w=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",C=b.getKeys();if(C.length===0)C.push("Off",w);else if(C.length===1)C[0]==="Off"?C.push(w):C.unshift("Off");else if(C.includes(w))C.length=0,C.push("Off",w);else{const k=C.find(D=>D!=="Off");C.length=0,C.push("Off",k)}C.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=C[1];const F=b.get(this.data.exportValue);this.checkedAppearance=F instanceof BaseStream?F:null;const E=b.get("Off");this.uncheckedAppearance=E instanceof BaseStream?E:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(d,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(d){this.data.buttonValue=null;const x=d.dict.get("Parent");if(x instanceof Dict){this.parent=d.dict.getRaw("Parent");const F=x.get("V");F instanceof Name&&(this.data.fieldValue=this._decodeFormValue(F))}const b=d.dict.get("AP");if(!(b instanceof Dict))return;const S=b.get("N");if(!(S instanceof Dict))return;for(const F of S.getKeys())if(F!=="Off"){this.data.buttonValue=this._decodeFormValue(F);break}const w=S.get(this.data.buttonValue);this.checkedAppearance=w instanceof BaseStream?w:null;const C=S.get("Off");this.uncheckedAppearance=C instanceof BaseStream?C:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(d,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(d){const{dict:x,annotationGlobals:b}=d;if(!x.has("A")&&!x.has("AA")&&!this.data.alternativeText){warn("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!x.has("A")&&!x.has("AA"),Catalog.parseDestDictionary({destDict:x,resultObj:this.data,docBaseUrl:b.baseUrl,docAttachments:b.attachments})}getFieldObject(){let d="button",x;return this.data.checkBox?(d="checkbox",x=this.data.exportValue):this.data.radioButton&&(d="radiobutton",x=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:x,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:d}}get fallbackFontDict(){const d=new Dict;return d.set("BaseFont",Name.get("ZapfDingbats")),d.set("Type",Name.get("FallbackType")),d.set("Subtype",Name.get("FallbackType")),d.set("Encoding",Name.get("ZapfDingbatsEncoding")),shadow(this,"fallbackFontDict",d)}}class ChoiceWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;this.indices=x.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const S=getInheritableProperty({dict:x,key:"Opt"});if(Array.isArray(S))for(let w=0,C=S.length;w<C;w++){const F=b.fetchIfRef(S[w]),E=Array.isArray(F);this.data.options[w]={exportValue:this._decodeFormValue(E?b.fetchIfRef(F[0]):F),displayValue:this._decodeFormValue(E?b.fetchIfRef(F[1]):F)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const w=this.data.options.length;for(const C of this.indices)Number.isInteger(C)&&C>=0&&C<w&&this.data.fieldValue.push(this.data.options[C].exportValue)}this.data.combo=this.hasFieldFlag(AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const d=this.data.combo?"combobox":"listbox",x=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:x,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:d}}amendSavedDict(d,x){if(!this.hasIndices)return;let b=d?.get(this.data.id)?.value;Array.isArray(b)||(b=[b]);const S=[],{options:w}=this.data;for(let C=0,F=0,E=w.length;C<E;C++)w[C].exportValue===b[F]&&(S.push(C),F+=1);x.set("I",S)}async _getAppearance(d,x,b,S){if(this.data.combo)return super._getAppearance(d,x,b,S);let w,C;const F=S?.get(this.data.id);if(F&&(C=F.rotation,w=F.value),C===void 0&&w===void 0&&!this._needAppearances)return null;w===void 0?w=this.data.fieldValue:Array.isArray(w)||(w=[w]);const E=1,k=2;let D=this.data.rect[3]-this.data.rect[1],M=this.data.rect[2]-this.data.rect[0];(C===90||C===270)&&([M,D]=[D,M]);const L=this.data.options.length,R=[];for(let ie=0;ie<L;ie++){const{exportValue:oe}=this.data.options[ie];w.includes(oe)&&R.push(ie)}this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const U=await WidgetAnnotation._getFontData(d,x,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let j,{fontSize:H}=this.data.defaultAppearanceData;if(H)j=this._defaultAppearance;else{const ie=(D-E)/L;let oe=-1,he;for(const{displayValue:fe}of this.data.options){const Se=this._getTextWidth(fe,U);Se>oe&&(oe=Se,he=fe)}[j,H]=this._computeFontSize(ie,M-2*k,he,U,-1)}const V=H*LINE_FACTOR,z=(V-H)/2,G=Math.floor(D/V);let X=0;if(R.length>0){const ie=Math.min(...R),oe=Math.max(...R);X=Math.max(0,oe-G+1),X>ie&&(X=ie)}const Y=Math.min(X+G+1,L),J=["/Tx BMC q",`1 1 ${M} ${D} re W n`];if(R.length){J.push("0.600006 0.756866 0.854904 rg");for(const ie of R)X<=ie&&ie<Y&&J.push(`1 ${D-(ie-X+1)*V} ${M} ${V} re f`)}J.push("BT",j,`1 0 0 1 0 ${D} Tm`);const ee={shift:0};for(let ie=X;ie<Y;ie++){const{displayValue:oe}=this.data.options[ie],he=ie===X?z:0;J.push(this._renderText(oe,U,H,M,0,ee,k,-V+he))}return J.push("ET Q EMC"),J.join(`
`)}}class SignatureWidgetAnnotation extends WidgetAnnotation{constructor(d){super(d),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!this.data.hasOwnCanvas}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class TextAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:b}=d;this.data.annotationType=AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=b.has("Name")?b.get("Name").name:"Note"),b.has("State")?(this.data.state=b.get("State")||null,this.data.stateModel=b.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class LinkAnnotation extends Annotation{constructor(d){super(d);const{dict:x,annotationGlobals:b}=d;this.data.annotationType=AnnotationType.LINK;const S=getQuadPoints(x,this.rectangle);S&&(this.data.quadPoints=S),this.data.borderColor||=this.data.color,Catalog.parseDestDictionary({destDict:x,resultObj:this.data,docBaseUrl:b.baseUrl,docAttachments:b.attachments})}}class PopupAnnotation extends Annotation{constructor(d){super(d);const{dict:x}=d;this.data.annotationType=AnnotationType.POPUP,this.data.noHTML=!1,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let b=x.get("Parent");if(!b){warn("Popup annotation has a missing or invalid parent annotation.");return}const S=b.getArray("Rect");this.data.parentRect=Array.isArray(S)&&S.length===4?Util.normalizeRect(S):null;const w=b.get("RT");if(isName(w,AnnotationReplyType.GROUP)&&(b=b.get("IRT")),b.has("M")?(this.setModificationDate(b.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,b.has("C")?(this.setColor(b.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const C=b.get("F");this._isViewable(C)&&this.setFlags(C)}this.setTitle(b.get("T")),this.data.titleObj=this._title,this.setContents(b.get("Contents")),this.data.contentsObj=this._contents,b.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(b.get("RC"))),this.data.open=!!x.get("Open")}}class FreeTextAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.hasOwnCanvas=!this.data.noHTML,this.data.noHTML=!1;const{evaluatorOptions:x,xref:b}=d;if(this.data.annotationType=AnnotationType.FREETEXT,this.setDefaultAppearance(d),this.appearance){const{fontColor:S,fontSize:w}=parseAppearanceStream(this.appearance,x,b);this.data.defaultAppearanceData.fontColor=S,this.data.defaultAppearanceData.fontSize=w||10}else if(this._isOffscreenCanvasSupported){const S=d.dict.get("CA"),w=new FakeUnicodeFont(b,"sans-serif");this.data.defaultAppearanceData.fontSize||=10;const{fontColor:C,fontSize:F}=this.data.defaultAppearanceData;this.appearance=w.createAppearance(this._contents.str,this.rectangle,this.rotation,F,C,S),this._streams.push(this.appearance,FakeUnicodeFont.toUnicodeStream)}else warn("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(d,x,{apRef:b,ap:S}){const{color:w,fontSize:C,rect:F,rotation:E,user:k,value:D}=d,M=new Dict(x);M.set("Type",Name.get("Annot")),M.set("Subtype",Name.get("FreeText")),M.set("CreationDate",`D:${getModificationDate()}`),M.set("Rect",F);const L=`/Helv ${C} Tf ${getPdfColor(w,!0)}`;if(M.set("DA",L),M.set("Contents",isAscii(D)?D:stringToUTF16String(D,!0)),M.set("F",4),M.set("Border",[0,0,0]),M.set("Rotate",E),k&&M.set("T",isAscii(k)?k:stringToUTF16String(k,!0)),b||S){const R=new Dict(x);M.set("AP",R),b?R.set("N",b):R.set("N",S)}return M}static async createNewAppearanceStream(d,x,b){const{baseFontRef:S,evaluator:w,task:C}=b,{color:F,fontSize:E,rect:k,rotation:D,value:M}=d,L=new Dict(x),R=new Dict(x);if(S)R.set("Helv",S);else{const De=new Dict(x);De.set("BaseFont",Name.get("Helvetica")),De.set("Type",Name.get("Font")),De.set("Subtype",Name.get("Type1")),De.set("Encoding",Name.get("WinAnsiEncoding")),R.set("Helv",De)}L.set("Font",R);const U=await WidgetAnnotation._getFontData(w,C,{fontName:"Helv",fontSize:E},L),[j,H,V,z]=k;let G=V-j,X=z-H;D%180!==0&&([G,X]=[X,G]);const Y=M.split(`
`),J=E/1e3;let ee=-1/0;const ie=[];for(let De of Y){const Pe=U.encodeString(De);if(Pe.length>1)return null;De=Pe.join(""),ie.push(De);let Ce=0;const te=U.charsToGlyphs(De);for(const re of te)Ce+=re.width*J;ee=Math.max(ee,Ce)}let oe=1;ee>G&&(oe=G/ee);let he=1;const fe=LINE_FACTOR*E,Se=(LINE_FACTOR-LINE_DESCENT_FACTOR)*E,we=fe*Y.length;we>X&&(he=X/we);const Ee=Math.min(oe,he),de=E*Ee;let xe,Te,Oe;switch(D){case 0:Oe=[1,0,0,1],Te=[k[0],k[1],G,X],xe=[k[0],k[3]-Se];break;case 90:Oe=[0,1,-1,0],Te=[k[1],-k[2],G,X],xe=[k[1],-k[0]-Se];break;case 180:Oe=[-1,0,0,-1],Te=[-k[2],-k[3],G,X],xe=[-k[2],-k[1]-Se];break;case 270:Oe=[0,-1,1,0],Te=[-k[3],k[0],G,X],xe=[-k[3],k[2]-Se];break}const Ne=["q",`${Oe.join(" ")} 0 0 cm`,`${Te.join(" ")} re W n`,"BT",`${getPdfColor(F,!0)}`,`0 Tc /Helv ${numberToString$1(de)} Tf`];Ne.push(`${xe.join(" ")} Td (${escapeString(ie[0])}) Tj`);const Le=numberToString$1(fe);for(let De=1,Pe=ie.length;De<Pe;De++){const Ce=ie[De];Ne.push(`0 -${Le} Td (${escapeString(Ce)}) Tj`)}Ne.push("ET","Q");const Me=Ne.join(`
`),Ie=new Dict(x);Ie.set("FormType",1),Ie.set("Subtype",Name.get("Form")),Ie.set("Type",Name.get("XObject")),Ie.set("BBox",k),Ie.set("Resources",L),Ie.set("Matrix",[1,0,0,1,-k[0],-k[1]]);const Ve=new StringStream(Me);return Ve.dict=Ie,Ve}}class LineAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;this.data.annotationType=AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const S=x.getArray("L");if(this.data.lineCoordinates=Util.normalizeRect(S),this.setLineEndings(x.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA"),F=getRgbColor(x.getArray("IC"),null),E=F?getPdfColorArray(F):null,k=E?C:null,D=this.borderStyle.width||1,M=2*D,L=[this.data.lineCoordinates[0]-M,this.data.lineCoordinates[1]-M,this.data.lineCoordinates[2]+M,this.data.lineCoordinates[3]+M];Util.intersect(this.rectangle,L)||(this.rectangle=L),this._setDefaultAppearance({xref:b,extra:`${D} w`,strokeColor:w,fillColor:E,strokeAlpha:C,fillAlpha:k,pointsCallback:(R,U)=>(R.push(`${S[0]} ${S[1]} m`,`${S[2]} ${S[3]} l`,"S"),[U[0].x-D,U[1].x+D,U[3].y-D,U[1].y+D])})}}}class SquareAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],w=x.get("CA"),C=getRgbColor(x.getArray("IC"),null),F=C?getPdfColorArray(C):null,E=F?w:null;if(this.borderStyle.width===0&&!F)return;this._setDefaultAppearance({xref:b,extra:`${this.borderStyle.width} w`,strokeColor:S,fillColor:F,strokeAlpha:w,fillAlpha:E,pointsCallback:(k,D)=>{const M=D[2].x+this.borderStyle.width/2,L=D[2].y+this.borderStyle.width/2,R=D[3].x-D[2].x-this.borderStyle.width,U=D[1].y-D[3].y-this.borderStyle.width;return k.push(`${M} ${L} ${R} ${U} re`),F?k.push("B"):k.push("S"),[D[0].x,D[1].x,D[3].y,D[1].y]}})}}}class CircleAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.CIRCLE,!this.appearance){const S=this.color?getPdfColorArray(this.color):[0,0,0],w=x.get("CA"),C=getRgbColor(x.getArray("IC"),null),F=C?getPdfColorArray(C):null,E=F?w:null;if(this.borderStyle.width===0&&!F)return;const k=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:b,extra:`${this.borderStyle.width} w`,strokeColor:S,fillColor:F,strokeAlpha:w,fillAlpha:E,pointsCallback:(D,M)=>{const L=M[0].x+this.borderStyle.width/2,R=M[0].y-this.borderStyle.width/2,U=M[3].x-this.borderStyle.width/2,j=M[3].y+this.borderStyle.width/2,H=L+(U-L)/2,V=R+(j-R)/2,z=(U-L)/2*k,G=(j-R)/2*k;return D.push(`${H} ${j} m`,`${H+z} ${j} ${U} ${V+G} ${U} ${V} c`,`${U} ${V-G} ${H+z} ${R} ${H} ${R} c`,`${H-z} ${R} ${L} ${V-G} ${L} ${V} c`,`${L} ${V+G} ${H-z} ${j} ${H} ${j} c`,"h"),F?D.push("B"):D.push("S"),[M[0].x,M[1].x,M[3].y,M[1].y]}})}}}class PolylineAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;this.data.annotationType=AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.vertices=[],this instanceof PolygonAnnotation||(this.setLineEndings(x.getArray("LE")),this.data.lineEndings=this.lineEndings);const S=x.getArray("Vertices");if(Array.isArray(S)){for(let w=0,C=S.length;w<C;w+=2)this.data.vertices.push({x:S[w],y:S[w+1]});if(!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA"),F=this.borderStyle.width||1,E=2*F,k=[1/0,1/0,-1/0,-1/0];for(const D of this.data.vertices)k[0]=Math.min(k[0],D.x-E),k[1]=Math.min(k[1],D.y-E),k[2]=Math.max(k[2],D.x+E),k[3]=Math.max(k[3],D.y+E);Util.intersect(this.rectangle,k)||(this.rectangle=k),this._setDefaultAppearance({xref:b,extra:`${F} w`,strokeColor:w,strokeAlpha:C,pointsCallback:(D,M)=>{const L=this.data.vertices;for(let R=0,U=L.length;R<U;R++)D.push(`${L[R].x} ${L[R].y} ${R===0?"m":"l"}`);return D.push("S"),[M[0].x,M[1].x,M[3].y,M[1].y]}})}}}}class PolygonAnnotation extends PolylineAnnotation{constructor(d){super(d),this.data.annotationType=AnnotationType.POLYGON}}class CaretAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.annotationType=AnnotationType.CARET}}class InkAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:x,xref:b}=d;this.data.annotationType=AnnotationType.INK,this.data.inkLists=[];const S=x.getArray("InkList");if(Array.isArray(S)){for(let w=0,C=S.length;w<C;++w){this.data.inkLists.push([]);for(let F=0,E=S[w].length;F<E;F+=2)this.data.inkLists[w].push({x:b.fetchIfRef(S[w][F]),y:b.fetchIfRef(S[w][F+1])})}if(!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA"),F=this.borderStyle.width||1,E=2*F,k=[1/0,1/0,-1/0,-1/0];for(const D of this.data.inkLists)for(const M of D)k[0]=Math.min(k[0],M.x-E),k[1]=Math.min(k[1],M.y-E),k[2]=Math.max(k[2],M.x+E),k[3]=Math.max(k[3],M.y+E);Util.intersect(this.rectangle,k)||(this.rectangle=k),this._setDefaultAppearance({xref:b,extra:`${F} w`,strokeColor:w,strokeAlpha:C,pointsCallback:(D,M)=>{for(const L of this.data.inkLists){for(let R=0,U=L.length;R<U;R++)D.push(`${L[R].x} ${L[R].y} ${R===0?"m":"l"}`);D.push("S")}return[M[0].x,M[1].x,M[3].y,M[1].y]}})}}}static createNewDict(d,x,{apRef:b,ap:S}){const{color:w,opacity:C,paths:F,rect:E,rotation:k,thickness:D}=d,M=new Dict(x);M.set("Type",Name.get("Annot")),M.set("Subtype",Name.get("Ink")),M.set("CreationDate",`D:${getModificationDate()}`),M.set("Rect",E),M.set("InkList",F.map(U=>U.points)),M.set("F",4),M.set("Rotate",k);const L=new Dict(x);M.set("BS",L),L.set("W",D),M.set("C",Array.from(w,U=>U/255)),M.set("CA",C);const R=new Dict(x);return M.set("AP",R),b?R.set("N",b):R.set("N",S),M}static async createNewAppearanceStream(d,x,b){const{color:S,rect:w,paths:C,thickness:F,opacity:E}=d,k=[`${F} w 1 J 1 j`,`${getPdfColor(S,!1)}`];E!==1&&k.push("/R0 gs");const D=[];for(const{bezier:U}of C){D.length=0,D.push(`${numberToString$1(U[0])} ${numberToString$1(U[1])} m`);for(let j=2,H=U.length;j<H;j+=6){const V=U.slice(j,j+6).map(numberToString$1).join(" ");D.push(`${V} c`)}D.push("S"),k.push(D.join(`
`))}const M=k.join(`
`),L=new Dict(x);if(L.set("FormType",1),L.set("Subtype",Name.get("Form")),L.set("Type",Name.get("XObject")),L.set("BBox",w),L.set("Length",M.length),E!==1){const U=new Dict(x),j=new Dict(x),H=new Dict(x);H.set("CA",E),H.set("Type",Name.get("ExtGState")),j.set("R0",H),U.set("ExtGState",j),L.set("Resources",U)}const R=new StringStream(M);return R.dict=L,R}}class HighlightAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.HIGHLIGHT,this.data.quadPoints=getQuadPoints(x,null)){const w=this.appearance?.dict.get("Resources");if(!this.appearance||!w?.has("ExtGState")){this.appearance&&warn("HighlightAnnotation - ignoring built-in appearance stream.");const C=this.color?getPdfColorArray(this.color):[1,1,0],F=x.get("CA");this._setDefaultAppearance({xref:b,fillColor:C,blendMode:"Multiply",fillAlpha:F,pointsCallback:(E,k)=>(E.push(`${k[0].x} ${k[0].y} m`,`${k[1].x} ${k[1].y} l`,`${k[3].x} ${k[3].y} l`,`${k[2].x} ${k[2].y} l`,"f"),[k[0].x,k[1].x,k[3].y,k[1].y])})}}else this.data.popupRef=null}static createNewDict(d,x,{apRef:b,ap:S}){const{color:w,opacity:C,rect:F,rotation:E,user:k,quadPoints:D}=d,M=new Dict(x);if(M.set("Type",Name.get("Annot")),M.set("Subtype",Name.get("Highlight")),M.set("CreationDate",`D:${getModificationDate()}`),M.set("Rect",F),M.set("F",4),M.set("Border",[0,0,0]),M.set("Rotate",E),M.set("QuadPoints",D),M.set("C",Array.from(w,L=>L/255)),M.set("CA",C),k&&M.set("T",isAscii(k)?k:stringToUTF16String(k,!0)),b||S){const L=new Dict(x);M.set("AP",L),L.set("N",b||S)}return M}static async createNewAppearanceStream(d,x,b){const{color:S,rect:w,outlines:C,opacity:F}=d,E=[`${getPdfColor(S,!0)}`,"/R0 gs"],k=[];for(const H of C){k.length=0,k.push(`${numberToString$1(H[0])} ${numberToString$1(H[1])} m`);for(let V=2,z=H.length;V<z;V+=2)k.push(`${numberToString$1(H[V])} ${numberToString$1(H[V+1])} l`);k.push("h"),E.push(k.join(`
`))}E.push("f*");const D=E.join(`
`),M=new Dict(x);M.set("FormType",1),M.set("Subtype",Name.get("Form")),M.set("Type",Name.get("XObject")),M.set("BBox",w),M.set("Length",D.length);const L=new Dict(x),R=new Dict(x);L.set("ExtGState",R),M.set("Resources",L);const U=new Dict(x);R.set("R0",U),U.set("BM",Name.get("Multiply")),F!==1&&(U.set("ca",F),U.set("Type",Name.get("ExtGState")));const j=new StringStream(D);return j.dict=M,j}}class UnderlineAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.UNDERLINE,this.data.quadPoints=getQuadPoints(x,null)){if(!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA");this._setDefaultAppearance({xref:b,extra:"[] 0 d 0.571 w",strokeColor:w,strokeAlpha:C,pointsCallback:(F,E)=>(F.push(`${E[2].x} ${E[2].y+1.3} m`,`${E[3].x} ${E[3].y+1.3} l`,"S"),[E[0].x,E[1].x,E[3].y,E[1].y])})}}else this.data.popupRef=null}}class SquigglyAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.SQUIGGLY,this.data.quadPoints=getQuadPoints(x,null)){if(!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA");this._setDefaultAppearance({xref:b,extra:"[] 0 d 1 w",strokeColor:w,strokeAlpha:C,pointsCallback:(F,E)=>{const k=(E[0].y-E[2].y)/6;let D=k,M=E[2].x;const L=E[2].y,R=E[3].x;F.push(`${M} ${L+D} m`);do M+=2,D=D===0?k:0,F.push(`${M} ${L+D} l`);while(M<R);return F.push("S"),[E[2].x,R,L-2*k,L+2*k]}})}}else this.data.popupRef=null}}class StrikeOutAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d;if(this.data.annotationType=AnnotationType.STRIKEOUT,this.data.quadPoints=getQuadPoints(x,null)){if(!this.appearance){const w=this.color?getPdfColorArray(this.color):[0,0,0],C=x.get("CA");this._setDefaultAppearance({xref:b,extra:"[] 0 d 1 w",strokeColor:w,strokeAlpha:C,pointsCallback:(F,E)=>(F.push(`${(E[0].x+E[2].x)/2} ${(E[0].y+E[2].y)/2} m`,`${(E[1].x+E[3].x)/2} ${(E[1].y+E[3].y)/2} l`,"S"),[E[0].x,E[1].x,E[3].y,E[1].y])})}}else this.data.popupRef=null}}class StampAnnotation extends MarkupAnnotation{constructor(d){super(d),this.data.annotationType=AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1}static async createImage(d,x){const{width:b,height:S}=d,w=new OffscreenCanvas(b,S),C=w.getContext("2d",{alpha:!0});C.drawImage(d,0,0);const F=C.getImageData(0,0,b,S).data,E=new Uint32Array(F.buffer),k=E.some(FeatureTest.isLittleEndian?H=>H>>>24!==255:H=>(H&255)!==255);k&&(C.fillStyle="white",C.fillRect(0,0,b,S),C.drawImage(d,0,0));const D=w.convertToBlob({type:"image/jpeg",quality:1}).then(H=>H.arrayBuffer()),M=Name.get("XObject"),L=Name.get("Image"),R=new Dict(x);R.set("Type",M),R.set("Subtype",L),R.set("BitsPerComponent",8),R.set("ColorSpace",Name.get("DeviceRGB")),R.set("Filter",Name.get("DCTDecode")),R.set("BBox",[0,0,b,S]),R.set("Width",b),R.set("Height",S);let U=null;if(k){const H=new Uint8Array(E.length);if(FeatureTest.isLittleEndian)for(let z=0,G=E.length;z<G;z++)H[z]=E[z]>>>24;else for(let z=0,G=E.length;z<G;z++)H[z]=E[z]&255;const V=new Dict(x);V.set("Type",M),V.set("Subtype",L),V.set("BitsPerComponent",8),V.set("ColorSpace",Name.get("DeviceGray")),V.set("Width",b),V.set("Height",S),U=new Stream$1(H,0,0,V)}return{imageStream:new Stream$1(await D,0,0,R),smaskStream:U,width:b,height:S}}static createNewDict(d,x,{apRef:b,ap:S}){const{rect:w,rotation:C,user:F}=d,E=new Dict(x);if(E.set("Type",Name.get("Annot")),E.set("Subtype",Name.get("Stamp")),E.set("CreationDate",`D:${getModificationDate()}`),E.set("Rect",w),E.set("F",4),E.set("Border",[0,0,0]),E.set("Rotate",C),F&&E.set("T",isAscii(F)?F:stringToUTF16String(F,!0)),b||S){const k=new Dict(x);E.set("AP",k),b?k.set("N",b):k.set("N",S)}return E}static async createNewAppearanceStream(d,x,b){const{rotation:S}=d,{imageRef:w,width:C,height:F}=b.image,E=new Dict(x),k=new Dict(x);E.set("XObject",k),k.set("Im0",w);const D=`q ${C} 0 0 ${F} 0 0 cm /Im0 Do Q`,M=new Dict(x);if(M.set("FormType",1),M.set("Subtype",Name.get("Form")),M.set("Type",Name.get("XObject")),M.set("BBox",[0,0,C,F]),M.set("Resources",E),S){const R=getRotationMatrix(S,C,F);M.set("Matrix",R)}const L=new StringStream(D);return L.dict=M,L}}class FileAttachmentAnnotation extends MarkupAnnotation{constructor(d){super(d);const{dict:x,xref:b}=d,S=new FileSpec(x.get("FS"),b);this.data.annotationType=AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.file=S.serializable;const w=x.get("Name");this.data.name=w instanceof Name?stringToPDFString(w.name):"PushPin";const C=x.get("ca");this.data.fillAlpha=typeof C=="number"&&C>=0&&C<=1?C:null}}function decodeString(g){try{return stringToUTF8String(g)}catch(d){return warn(`UTF-8 decoding failed: "${d}".`),g}}class DatasetXMLParser extends SimpleXMLParser{constructor(d){super(d),this.node=null}onEndElement(d){const x=super.onEndElement(d);if(x&&d==="xfa:datasets")throw this.node=x,new Error("Aborting DatasetXMLParser.")}}class DatasetReader{constructor(d){if(d.datasets)this.node=new SimpleXMLParser({hasAttributes:!0}).parseFromString(d.datasets).documentElement;else{const x=new DatasetXMLParser({hasAttributes:!0});try{x.parseFromString(d["xdp:xdp"])}catch{}this.node=x.node}}getValue(d){if(!this.node||!d)return"";const x=this.node.searchNode(parseXFAPath(d),0);return x?x.firstChild?.nodeName==="value"?x.children.map(S=>decodeString(S.textContent)):decodeString(x.textContent):""}}class XRef{#e=null;constructor(d,x){this.stream=d,this.pdfManager=x,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(d){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const x=this._newPersistentRefNum++;return this._cacheMap.set(x,d),Ref.get(x,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(d){this.startXRefQueue=[d]}parse(d=!1){let x;d?(warn("Indexing all PDF objects"),x=this.indexObjects()):x=this.readXRef(),x.assignXref(this),this.trailer=x;let b;try{b=x.get("Encrypt")}catch(w){if(w instanceof MissingDataException)throw w;warn(`XRef.parse - Invalid "Encrypt" reference: "${w}".`)}if(b instanceof Dict){const w=x.get("ID"),C=w?.length?w[0]:"";b.suppressEncryption=!0,this.encrypt=new CipherTransformFactory(b,C,this.pdfManager.password)}let S;try{S=x.get("Root")}catch(w){if(w instanceof MissingDataException)throw w;warn(`XRef.parse - Invalid "Root" reference: "${w}".`)}if(S instanceof Dict)try{if(S.get("Pages")instanceof Dict){this.root=S;return}}catch(w){if(w instanceof MissingDataException)throw w;warn(`XRef.parse - Invalid "Pages" reference: "${w}".`)}throw d?new InvalidPDFException("Invalid Root reference."):new XRefParseException}processXRefTable(d){"tableState"in this||(this.tableState={entryNum:0,streamPos:d.lexer.stream.pos,parserBuf1:d.buf1,parserBuf2:d.buf2});const x=this.readXRefTable(d);if(!isCmd(x,"trailer"))throw new FormatError("Invalid XRef table: could not find trailer dictionary");let b=d.getObj();if(!(b instanceof Dict)&&b.dict&&(b=b.dict),!(b instanceof Dict))throw new FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,b}readXRefTable(d){const x=d.lexer.stream,b=this.tableState;x.pos=b.streamPos,d.buf1=b.parserBuf1,d.buf2=b.parserBuf2;let S;for(;;){if(!("firstEntryNum"in b)||!("entryCount"in b)){if(isCmd(S=d.getObj(),"trailer"))break;b.firstEntryNum=S,b.entryCount=d.getObj()}let w=b.firstEntryNum;const C=b.entryCount;if(!Number.isInteger(w)||!Number.isInteger(C))throw new FormatError("Invalid XRef table: wrong types in subsection header");for(let F=b.entryNum;F<C;F++){b.streamPos=x.pos,b.entryNum=F,b.parserBuf1=d.buf1,b.parserBuf2=d.buf2;const E={};E.offset=d.getObj(),E.gen=d.getObj();const k=d.getObj();if(k instanceof Cmd)switch(k.cmd){case"f":E.free=!0;break;case"n":E.uncompressed=!0;break}if(!Number.isInteger(E.offset)||!Number.isInteger(E.gen)||!(E.free||E.uncompressed))throw new FormatError(`Invalid entry in XRef subsection: ${w}, ${C}`);F===0&&E.free&&w===1&&(w=0),this.entries[F+w]||(this.entries[F+w]=E)}b.entryNum=0,b.streamPos=x.pos,b.parserBuf1=d.buf1,b.parserBuf2=d.buf2,delete b.firstEntryNum,delete b.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new FormatError("Invalid XRef table: unexpected first object");return S}processXRefStream(d){if(!("streamState"in this)){const x=d.dict,b=x.get("W");let S=x.get("Index");S||(S=[0,x.get("Size")]),this.streamState={entryRanges:S,byteWidths:b,entryNum:0,streamPos:d.pos}}return this.readXRefStream(d),delete this.streamState,d.dict}readXRefStream(d){const x=this.streamState;d.pos=x.streamPos;const[b,S,w]=x.byteWidths,C=x.entryRanges;for(;C.length>0;){const[F,E]=C;if(!Number.isInteger(F)||!Number.isInteger(E))throw new FormatError(`Invalid XRef range fields: ${F}, ${E}`);if(!Number.isInteger(b)||!Number.isInteger(S)||!Number.isInteger(w))throw new FormatError(`Invalid XRef entry fields length: ${F}, ${E}`);for(let k=x.entryNum;k<E;++k){x.entryNum=k,x.streamPos=d.pos;let D=0,M=0,L=0;for(let U=0;U<b;++U){const j=d.getByte();if(j===-1)throw new FormatError("Invalid XRef byteWidths 'type'.");D=D<<8|j}b===0&&(D=1);for(let U=0;U<S;++U){const j=d.getByte();if(j===-1)throw new FormatError("Invalid XRef byteWidths 'offset'.");M=M<<8|j}for(let U=0;U<w;++U){const j=d.getByte();if(j===-1)throw new FormatError("Invalid XRef byteWidths 'generation'.");L=L<<8|j}const R={};switch(R.offset=M,R.gen=L,D){case 0:R.free=!0;break;case 1:R.uncompressed=!0;break;case 2:break;default:throw new FormatError(`Invalid XRef entry type: ${D}`)}this.entries[F+k]||(this.entries[F+k]=R)}x.entryNum=0,x.streamPos=d.pos,C.splice(0,2)}}indexObjects(){function F(he,fe){let Se="",we=he[fe];for(;we!==10&&we!==13&&we!==60&&!(++fe>=he.length);)Se+=String.fromCharCode(we),we=he[fe];return Se}function E(he,fe,Se){const we=Se.length,Ee=he.length;let de=0;for(;fe<Ee;){let xe=0;for(;xe<we&&he[fe+xe]===Se[xe];)++xe;if(xe>=we)break;fe++,de++}return de}const k=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,D=/\b(startxref|\d+\s+\d+\s+obj)\b/g,M=/^(\d+)\s+(\d+)\s+obj\b/,L=new Uint8Array([116,114,97,105,108,101,114]),R=new Uint8Array([115,116,97,114,116,120,114,101,102]),U=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const j=this.stream;j.pos=0;const H=j.getBytes(),V=bytesToString(H),z=H.length;let G=j.start;const X=[],Y=[];for(;G<z;){let he=H[G];if(he===9||he===10||he===13||he===32){++G;continue}if(he===37){do{if(++G,G>=z)break;he=H[G]}while(he!==10&&he!==13);continue}const fe=F(H,G);let Se;if(fe.startsWith("xref")&&(fe.length===4||/\s/.test(fe[4])))G+=E(H,G,L),X.push(G),G+=E(H,G,R);else if(Se=M.exec(fe)){const we=Se[1]|0,Ee=Se[2]|0,de=G+fe.length;let xe,Te=!1;if(!this.entries[we])Te=!0;else if(this.entries[we].gen===Ee)try{new Parser$1({lexer:new Lexer(j.makeSubStream(de))}).getObj(),Te=!0}catch(Me){Me instanceof ParserEOFException?warn(`indexObjects -- checking object (${fe}): "${Me}".`):Te=!0}Te&&(this.entries[we]={offset:G-j.start,gen:Ee,uncompressed:!0}),k.lastIndex=de;const Oe=k.exec(V);Oe?(xe=k.lastIndex+1-G,Oe[1]!=="endobj"&&(warn(`indexObjects: Found "${Oe[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),xe-=Oe[1].length+1)):xe=z-G;const Ne=H.subarray(G,G+xe),Le=E(Ne,0,U);Le<xe&&Ne[Le+5]<64&&(Y.push(G-j.start),this._xrefStms.add(G-j.start)),G+=xe}else if(fe.startsWith("trailer")&&(fe.length===7||/\s/.test(fe[7]))){X.push(G);const we=G+fe.length;let Ee;D.lastIndex=we;const de=D.exec(V);de?(Ee=D.lastIndex+1-G,de[1]!=="startxref"&&(warn(`indexObjects: Found "${de[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),Ee-=de[1].length+1)):Ee=z-G,G+=Ee}else G+=fe.length+1}for(const he of Y)this.startXRefQueue.push(he),this.readXRef(!0);const J=[];let ee=!1;for(const he of X){j.pos=he;const fe=new Parser$1({lexer:new Lexer(j),xref:this,allowStreams:!0,recoveryMode:!0}),Se=fe.getObj();if(!isCmd(Se,"trailer"))continue;const we=fe.getObj();we instanceof Dict&&(J.push(we),we.has("Encrypt")&&(ee=!0))}let ie,oe;for(const he of[...J,"genFallback",...J]){if(he==="genFallback"){if(!oe)break;this._generationFallback=!0;continue}let fe=!1;try{const Se=he.get("Root");if(!(Se instanceof Dict))continue;const we=Se.get("Pages");if(!(we instanceof Dict))continue;const Ee=we.get("Count");Number.isInteger(Ee)&&(fe=!0)}catch(Se){oe=Se;continue}if(fe&&(!ee||he.has("Encrypt"))&&he.has("ID"))return he;ie=he}if(ie)return ie;if(this.topDict)return this.topDict;throw new InvalidPDFException("Invalid PDF structure.")}readXRef(d=!1){const x=this.stream,b=new Set;for(;this.startXRefQueue.length;){try{const S=this.startXRefQueue[0];if(b.has(S)){warn("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}b.add(S),x.pos=S+x.start;const w=new Parser$1({lexer:new Lexer(x),xref:this,allowStreams:!0});let C=w.getObj(),F;if(isCmd(C,"xref"))F=this.processXRefTable(w),this.topDict||(this.topDict=F),C=F.get("XRefStm"),Number.isInteger(C)&&!this._xrefStms.has(C)&&(this._xrefStms.add(C),this.startXRefQueue.push(C),this.#e??=C);else if(Number.isInteger(C)){if(!Number.isInteger(w.getObj())||!isCmd(w.getObj(),"obj")||!((C=w.getObj())instanceof BaseStream))throw new FormatError("Invalid XRef stream");if(F=this.processXRefStream(C),this.topDict||(this.topDict=F),!F)throw new FormatError("Failed to read XRef stream")}else throw new FormatError("Invalid XRef stream header");C=F.get("Prev"),Number.isInteger(C)?this.startXRefQueue.push(C):C instanceof Ref&&this.startXRefQueue.push(C.num)}catch(S){if(S instanceof MissingDataException)throw S;info("(while reading XRef): "+S)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!d)throw new XRefParseException}get lastXRefStreamPos(){return this.#e??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(d){const x=this.entries[d];return x&&!x.free&&x.offset?x:null}fetchIfRef(d,x=!1){return d instanceof Ref?this.fetch(d,x):d}fetch(d,x=!1){if(!(d instanceof Ref))throw new Error("ref object is not a reference");const b=d.num,S=this._cacheMap.get(b);if(S!==void 0)return S instanceof Dict&&!S.objId&&(S.objId=d.toString()),S;let w=this.getEntry(b);if(w===null)return this._cacheMap.set(b,w),w;if(this._pendingRefs.has(d))return this._pendingRefs.remove(d),warn(`Ignoring circular reference: ${d}.`),CIRCULAR_REF;this._pendingRefs.put(d);try{w=w.uncompressed?this.fetchUncompressed(d,w,x):this.fetchCompressed(d,w,x),this._pendingRefs.remove(d)}catch(C){throw this._pendingRefs.remove(d),C}return w instanceof Dict?w.objId=d.toString():w instanceof BaseStream&&(w.dict.objId=d.toString()),w}fetchUncompressed(d,x,b=!1){const S=d.gen;let w=d.num;if(x.gen!==S){const M=`Inconsistent generation in XRef: ${d}`;if(this._generationFallback&&x.gen<S)return warn(M),this.fetchUncompressed(Ref.get(w,x.gen),x,b);throw new XRefEntryException(M)}const C=this.stream.makeSubStream(x.offset+this.stream.start),F=new Parser$1({lexer:new Lexer(C),xref:this,allowStreams:!0}),E=F.getObj(),k=F.getObj(),D=F.getObj();if(E!==w||k!==S||!(D instanceof Cmd))throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${d}`);if(D.cmd!=="obj"){if(D.cmd.startsWith("obj")&&(w=parseInt(D.cmd.substring(3),10),!Number.isNaN(w)))return w;throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${d}`)}return x=this.encrypt&&!b?F.getObj(this.encrypt.createCipherTransform(w,S)):F.getObj(),x instanceof BaseStream||this._cacheMap.set(w,x),x}fetchCompressed(d,x,b=!1){const S=x.offset,w=this.fetch(Ref.get(S,0));if(!(w instanceof BaseStream))throw new FormatError("bad ObjStm stream");const C=w.dict.get("First"),F=w.dict.get("N");if(!Number.isInteger(C)||!Number.isInteger(F))throw new FormatError("invalid first and n parameters for ObjStm stream");let E=new Parser$1({lexer:new Lexer(w),xref:this,allowStreams:!0});const k=new Array(F),D=new Array(F);for(let R=0;R<F;++R){const U=E.getObj();if(!Number.isInteger(U))throw new FormatError(`invalid object number in the ObjStm stream: ${U}`);const j=E.getObj();if(!Number.isInteger(j))throw new FormatError(`invalid object offset in the ObjStm stream: ${j}`);k[R]=U,D[R]=j}const M=(w.start||0)+C,L=new Array(F);for(let R=0;R<F;++R){const U=R<F-1?D[R+1]-D[R]:void 0;if(U<0)throw new FormatError("Invalid offset in the ObjStm stream.");E=new Parser$1({lexer:new Lexer(w.makeSubStream(M+D[R],U,w.dict)),xref:this,allowStreams:!0});const j=E.getObj();if(L[R]=j,j instanceof BaseStream)continue;const H=k[R],V=this.entries[H];V&&V.offset===S&&V.gen===R&&this._cacheMap.set(H,j)}if(x=L[x.gen],x===void 0)throw new XRefEntryException(`Bad (compressed) XRef entry: ${d}`);return x}async fetchIfRefAsync(d,x){return d instanceof Ref?this.fetchAsync(d,x):d}async fetchAsync(d,x){try{return this.fetch(d,x)}catch(b){if(!(b instanceof MissingDataException))throw b;return await this.pdfManager.requestRange(b.begin,b.end),this.fetchAsync(d,x)}}getCatalogObj(){return this.root}}const DEFAULT_USER_UNIT=1,LETTER_SIZE_MEDIABOX=[0,0,612,792];class Page{constructor({pdfManager:d,xref:x,pageIndex:b,pageDict:S,ref:w,globalIdFactory:C,fontCache:F,builtInCMapCache:E,standardFontDataCache:k,globalImageCache:D,systemFontCache:M,nonBlendModesSet:L,xfaFactory:R}){this.pdfManager=d,this.pageIndex=b,this.pageDict=S,this.xref=x,this.ref=w,this.fontCache=F,this.builtInCMapCache=E,this.standardFontDataCache=k,this.globalImageCache=D,this.systemFontCache=M,this.nonBlendModesSet=L,this.evaluatorOptions=d.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=R;const U={obj:0};this._localIdFactory=class extends C{static createObjId(){return`p${b}_${++U.obj}`}static getPageObjId(){return`p${w.toString()}`}}}_getInheritableProperty(d,x=!1){const b=getInheritableProperty({dict:this.pageDict,key:d,getArray:x,stopWhenFound:!1});return Array.isArray(b)?b.length===1||!(b[0]instanceof Dict)?b[0]:Dict.merge({xref:this.xref,dictArray:b}):b}get content(){return this.pageDict.getArray("Contents")}get resources(){const d=this._getInheritableProperty("Resources");return shadow(this,"resources",d instanceof Dict?d:Dict.empty)}_getBoundingBox(d){if(this.xfaData)return this.xfaData.bbox;let x=this._getInheritableProperty(d,!0);if(Array.isArray(x)&&x.length===4){if(x=Util.normalizeRect(x),x[2]-x[0]>0&&x[3]-x[1]>0)return x;warn(`Empty, or invalid, /${d} entry.`)}return null}get mediaBox(){return shadow(this,"mediaBox",this._getBoundingBox("MediaBox")||LETTER_SIZE_MEDIABOX)}get cropBox(){return shadow(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let d=this.pageDict.get("UserUnit");return(typeof d!="number"||d<=0)&&(d=DEFAULT_USER_UNIT),shadow(this,"userUnit",d)}get view(){const{cropBox:d,mediaBox:x}=this;if(d!==x&&!isArrayEqual(d,x)){const b=Util.intersect(d,x);if(b&&b[2]-b[0]>0&&b[3]-b[1]>0)return shadow(this,"view",b);warn("Empty /CropBox and /MediaBox intersection.")}return shadow(this,"view",x)}get rotate(){let d=this._getInheritableProperty("Rotate")||0;return d%90!==0?d=0:d>=360?d%=360:d<0&&(d=(d%360+360)%360),shadow(this,"rotate",d)}_onSubStreamError(d,x){if(this.evaluatorOptions.ignoreErrors){warn(`getContentStream - ignoring sub-stream (${x}): "${d}".`);return}throw d}getContentStream(){return this.pdfManager.ensure(this,"content").then(d=>d instanceof BaseStream?d:Array.isArray(d)?new StreamsSequenceStream(d,this._onSubStreamError.bind(this)):new NullStream)}get xfaData(){return shadow(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}#e(d,x,b){for(const S of d)if(S.id){const w=Ref.fromString(S.id);if(!w){warn(`A non-linked annotation cannot be modified: ${S.id}`);continue}if(S.deleted){x.put(w);continue}b?.put(w),S.ref=w,delete S.id}}async saveNewAnnotations(d,x,b,S){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const w=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),C=new RefSet,F=new RefSet;this.#e(b,C,F);const E=this.pageDict,k=this.annotations.filter(U=>!(U instanceof Ref&&C.has(U))),D=await AnnotationFactory.saveNewAnnotations(w,x,b,S);for(const{ref:U}of D.annotations)U instanceof Ref&&!F.has(U)&&k.push(U);const M=E.get("Annots");E.set("Annots",k);const L=[];await writeObject(this.ref,E,L,this.xref),M&&E.set("Annots",M);const R=D.dependencies;return R.push({ref:this.ref,data:L.join("")},...D.annotations),R}save(d,x,b){const S=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(w){const C=[];for(const F of w)F.mustBePrinted(b)&&C.push(F.save(S,x,b).catch(function(E){return warn(`save - ignoring annotation data during "${x.name}" task: "${E}".`),null}));return Promise.all(C).then(function(F){return F.filter(E=>!!E)})})}loadResources(d){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new ObjectLoader(this.resources,d,this.xref).load())}getOperatorList({handler:d,sink:x,task:b,intent:S,cacheKey:w,annotationStorage:C=null}){const F=this.getContentStream(),E=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),k=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),D=this.xfaFactory?null:getNewAnnotationsMap(C);let M=null,L=Promise.resolve(null);if(D){const j=D.get(this.pageIndex);if(j){const H=this.pdfManager.ensureDoc("annotationGlobals");let V;const z=new Set;for(const{bitmapId:X,bitmap:Y}of j)X&&!Y&&!z.has(X)&&z.add(X);const{isOffscreenCanvasSupported:G}=this.evaluatorOptions;if(z.size>0){const X=j.slice();for(const[Y,J]of C)Y.startsWith(AnnotationEditorPrefix)&&J.bitmap&&z.has(J.bitmapId)&&X.push(J);V=AnnotationFactory.generateImages(X,this.xref,G)}else V=AnnotationFactory.generateImages(j,this.xref,G);M=new RefSet,this.#e(j,M,null),L=H.then(X=>X?AnnotationFactory.printNewAnnotations(X,k,b,j,V):null)}}const U=Promise.all([F,E]).then(([j])=>{const H=new OperatorList(S,x);return d.send("StartRenderPage",{transparency:k.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:w}),k.getOperatorList({stream:j,task:b,resources:this.resources,operatorList:H}).then(function(){return H})});return Promise.all([U,this._parsedAnnotations,L]).then(function([j,H,V]){if(V){H=H.filter(ee=>!(ee.ref&&M.has(ee.ref)));for(let ee=0,ie=V.length;ee<ie;ee++){const oe=V[ee];if(oe.refToReplace){const he=H.findIndex(fe=>fe.ref&&isRefsEqual(fe.ref,oe.refToReplace));he>=0&&(H.splice(he,1,oe),V.splice(ee--,1),ie--)}}H=H.concat(V)}if(H.length===0||S&RenderingIntentFlag.ANNOTATIONS_DISABLE)return j.flush(!0),{length:j.totalLength};const z=!!(S&RenderingIntentFlag.ANNOTATIONS_FORMS),G=!!(S&RenderingIntentFlag.ANY),X=!!(S&RenderingIntentFlag.DISPLAY),Y=!!(S&RenderingIntentFlag.PRINT),J=[];for(const ee of H)(G||X&&ee.mustBeViewed(C,z)||Y&&ee.mustBePrinted(C))&&J.push(ee.getOperatorList(k,b,S,z,C).catch(function(ie){return warn(`getOperatorList - ignoring annotation data during "${b.name}" task: "${ie}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(J).then(function(ee){let ie=!1,oe=!1;for(const{opList:he,separateForm:fe,separateCanvas:Se}of ee)j.addOpList(he),ie||=fe,oe||=Se;return j.flush(!0,{form:ie,canvas:oe}),{length:j.totalLength}})})}extractTextContent({handler:d,task:x,includeMarkedContent:b,disableNormalization:S,sink:w}){const C=this.getContentStream(),F=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([C,F]).then(([k])=>new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:k,task:x,resources:this.resources,includeMarkedContent:b,disableNormalization:S,sink:w,viewBox:this.view}))}async getStructTree(){const d=await this.pdfManager.ensureCatalog("structTreeRoot");return d?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[d])).serializable):null}_parseStructTree(d){const x=new StructTreePage(d,this.pageDict);return x.parse(this.ref),x}async getAnnotationsData(d,x,b){const S=await this._parsedAnnotations;if(S.length===0)return S;const w=[],C=[];let F;const E=!!(b&RenderingIntentFlag.ANY),k=!!(b&RenderingIntentFlag.DISPLAY),D=!!(b&RenderingIntentFlag.PRINT);for(const M of S){const L=E||k&&M.viewable;(L||D&&M.printable)&&w.push(M.data),M.hasTextContent&&L&&(F||=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),C.push(M.extractTextContent(F,x,[-1/0,-1/0,1/0,1/0]).catch(function(R){warn(`getAnnotationsData - ignoring textContent during "${x.name}" task: "${R}".`)})))}return await Promise.all(C),w}get annotations(){const d=this._getInheritableProperty("Annots");return shadow(this,"annotations",Array.isArray(d)?d:[])}get _parsedAnnotations(){const d=this.pdfManager.ensure(this,"annotations").then(async x=>{if(x.length===0)return x;const b=await this.pdfManager.ensureDoc("annotationGlobals");if(!b)return[];const S=[];for(const F of x)S.push(AnnotationFactory.create(this.xref,F,b,this._localIdFactory,!1,this.ref).catch(function(E){return warn(`_parsedAnnotations: "${E}".`),null}));const w=[];let C;for(const F of await Promise.all(S))if(F){if(F instanceof PopupAnnotation){(C||=[]).push(F);continue}w.push(F)}return C&&w.push(...C),w});return shadow(this,"_parsedAnnotations",d)}get jsActions(){const d=collectActions(this.xref,this.pageDict,PageActionEventType);return shadow(this,"jsActions",d)}}const PDF_HEADER_SIGNATURE=new Uint8Array([37,80,68,70,45]),STARTXREF_SIGNATURE=new Uint8Array([115,116,97,114,116,120,114,101,102]),ENDOBJ_SIGNATURE=new Uint8Array([101,110,100,111,98,106]),FINGERPRINT_FIRST_BYTES=1024,EMPTY_FINGERPRINT="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function find(g,d,x=1024,b=!1){const S=d.length,w=g.peekBytes(x),C=w.length-S;if(C<=0)return!1;if(b){const F=S-1;let E=w.length-1;for(;E>=F;){let k=0;for(;k<S&&w[E-k]===d[F-k];)k++;if(k>=S)return g.pos+=E-F,!0;E--}}else{let F=0;for(;F<=C;){let E=0;for(;E<S&&w[F+E]===d[E];)E++;if(E>=S)return g.pos+=F,!0;F++}}return!1}let PDFDocument$1=class{constructor(d,x){if(x.length<=0)throw new InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=d,this.stream=x,this.xref=new XRef(x,d),this._pagePromises=new Map,this._version=null;const b={font:0};this._globalIdFactory=class{static getDocId(){return`g_${d.docId}`}static createFontId(){return`f${++b.font}`}static createObjId(){unreachable("Abstract method `createObjId` called.")}static getPageObjId(){unreachable("Abstract method `getPageObjId` called.")}}}parse(d){this.xref.parse(d),this.catalog=new Catalog(this.pdfManager,this.xref)}get linearization(){let d=null;try{d=Linearization.create(this.stream)}catch(x){if(x instanceof MissingDataException)throw x;info(x)}return shadow(this,"linearization",d)}get startXRef(){const d=this.stream;let x=0;if(this.linearization)d.reset(),find(d,ENDOBJ_SIGNATURE)&&(x=d.pos+6-d.start);else{const S=STARTXREF_SIGNATURE.length;let w=!1,C=d.end;for(;!w&&C>0;)C-=1024-S,C<0&&(C=0),d.pos=C,w=find(d,STARTXREF_SIGNATURE,1024,!0);if(w){d.skip(9);let F;do F=d.getByte();while(isWhiteSpace(F));let E="";for(;F>=32&&F<=57;)E+=String.fromCharCode(F),F=d.getByte();x=parseInt(E,10),isNaN(x)&&(x=0)}}return shadow(this,"startXRef",x)}checkHeader(){const d=this.stream;if(d.reset(),!find(d,PDF_HEADER_SIGNATURE))return;d.moveStart(),d.skip(PDF_HEADER_SIGNATURE.length);let x="",b;for(;(b=d.getByte())>32&&x.length<7;)x+=String.fromCharCode(b);PDF_VERSION_REGEXP.test(x)?this._version=x:warn(`Invalid PDF header version: ${x}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let d=0;return this.catalog.hasActualNumPages?d=this.catalog.numPages:this.xfaFactory?d=this.xfaFactory.getNumPages():this.linearization?d=this.linearization.numPages:d=this.catalog.numPages,shadow(this,"numPages",d)}_hasOnlyDocumentSignatures(d,x=0){return Array.isArray(d)?d.every(S=>{if(S=this.xref.fetchIfRef(S),!(S instanceof Dict))return!1;if(S.has("Kids"))return++x>10?(warn("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(S.get("Kids"),x);const w=isName(S.get("FT"),"Sig"),C=S.get("Rect"),F=Array.isArray(C)&&C.every(E=>E===0);return w&&F}):!1}get _xfaStreams(){const d=this.catalog.acroForm;if(!d)return null;const x=d.get("XFA"),b={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(x instanceof BaseStream&&!x.isEmpty)return b["xdp:xdp"]=x,b;if(!Array.isArray(x)||x.length===0)return null;for(let S=0,w=x.length;S<w;S+=2){let C;if(S===0?C="xdp:xdp":S===w-2?C="/xdp:xdp":C=x[S],!b.hasOwnProperty(C))continue;const F=this.xref.fetchIfRef(x[S+1]);!(F instanceof BaseStream)||F.isEmpty||(b[C]=F)}return b}get xfaDatasets(){const d=this._xfaStreams;if(!d)return shadow(this,"xfaDatasets",null);for(const x of["datasets","xdp:xdp"]){const b=d[x];if(b)try{const S=stringToUTF8String(b.getString()),w={[x]:S};return shadow(this,"xfaDatasets",new DatasetReader(w))}catch{warn("XFA - Invalid utf-8 string.");break}}return shadow(this,"xfaDatasets",null)}get xfaData(){const d=this._xfaStreams;if(!d)return null;const x=Object.create(null);for(const[b,S]of Object.entries(d))if(S)try{x[b]=stringToUTF8String(S.getString())}catch{return warn("XFA - Invalid utf-8 string."),null}return x}get xfaFactory(){let d;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(d=this.xfaData),shadow(this,"xfaFactory",d?new XFAFactory(d):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const d=await this.pdfManager.ensureCatalog("xfaImages");if(!d)return;const x=d.getKeys();await new ObjectLoader(d,x,this.xref).load();const S=new Map;for(const w of x){const C=d.get(w);C instanceof BaseStream&&S.set(w,C.getBytes())}this.xfaFactory.setImages(S)}async loadXfaFonts(d,x){const b=await this.pdfManager.ensureCatalog("acroForm");if(!b)return;const S=await b.getAsync("DR");if(!(S instanceof Dict))return;await new ObjectLoader(S,["Font"],this.xref).load();const C=S.get("Font");if(!(C instanceof Dict))return;const F=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);F.useSystemFonts=!1;const E=new PartialEvaluator({xref:this.xref,handler:d,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:F}),k=new OperatorList,D=[],M={get font(){return D.at(-1)},set font(H){D.push(H)},clone(){return this}},L=new Map;C.forEach((H,V)=>{L.set(H,V)});const R=[];for(const[H,V]of L){const z=V.get("FontDescriptor");if(!(z instanceof Dict))continue;let G=z.get("FontFamily");G=G.replaceAll(/[ ]+(\d)/g,"$1");const X=z.get("FontWeight"),Y=-z.get("ItalicAngle"),J={fontFamily:G,fontWeight:X,italicAngle:Y};validateCSSFont(J)&&R.push(E.handleSetFont(S,[Name.get(H),1],null,k,x,M,null,J).catch(function(ee){return warn(`loadXfaFonts: "${ee}".`),null}))}await Promise.all(R);const U=this.xfaFactory.setFonts(D);if(!U)return;F.ignoreErrors=!0,R.length=0,D.length=0;const j=new Set;for(const H of U)getXfaFontName(`${H}-Regular`)||j.add(H);j.size&&U.push("PdfJS-Fallback");for(const H of U)if(!j.has(H))for(const V of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const z=`${H}-${V.name}`,G=getXfaFontDict(z);R.push(E.handleSetFont(S,[Name.get(z),1],null,k,x,M,G,{fontFamily:H,fontWeight:V.fontWeight,italicAngle:V.italicAngle}).catch(function(X){return warn(`loadXfaFonts: "${X}".`),null}))}await Promise.all(R),this.xfaFactory.appendFonts(D,j)}async serializeXfaData(d){return this.xfaFactory?this.xfaFactory.serializeData(d):null}get version(){return this.catalog.version||this._version}get formInfo(){const d={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},x=this.catalog.acroForm;if(!x)return shadow(this,"formInfo",d);try{const b=x.get("Fields"),S=Array.isArray(b)&&b.length>0;d.hasFields=S;const w=x.get("XFA");d.hasXfa=Array.isArray(w)&&w.length>0||w instanceof BaseStream&&!w.isEmpty;const F=!!(x.get("SigFlags")&1),E=F&&this._hasOnlyDocumentSignatures(b);d.hasAcroForm=S&&!E,d.hasSignatures=F}catch(b){if(b instanceof MissingDataException)throw b;warn(`Cannot fetch form information: "${b}".`)}return shadow(this,"formInfo",d)}get documentInfo(){const d={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let x;try{x=this.xref.trailer.get("Info")}catch(b){if(b instanceof MissingDataException)throw b;info("The document information dictionary is invalid.")}if(!(x instanceof Dict))return shadow(this,"documentInfo",d);for(const b of x.getKeys()){const S=x.get(b);switch(b){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof S=="string"){d[b]=stringToPDFString(S);continue}break;case"Trapped":if(S instanceof Name){d[b]=S;continue}break;default:let w;switch(typeof S){case"string":w=stringToPDFString(S);break;case"number":case"boolean":w=S;break;default:S instanceof Name&&(w=S);break}if(w===void 0){warn(`Bad value, for custom key "${b}", in Info: ${S}.`);continue}d.Custom||(d.Custom=Object.create(null)),d.Custom[b]=w;continue}warn(`Bad value, for key "${b}", in Info: ${S}.`)}return shadow(this,"documentInfo",d)}get fingerprints(){function d(C){return typeof C=="string"&&C.length>0&&C!==EMPTY_FINGERPRINT}function x(C){const F=[];for(const E of C){const k=E.toString(16);F.push(k.padStart(2,"0"))}return F.join("")}const b=this.xref.trailer.get("ID");let S,w;return Array.isArray(b)&&d(b[0])?(S=stringToBytes(b[0]),b[1]!==b[0]&&d(b[1])&&(w=stringToBytes(b[1]))):S=calculateMD5(this.stream.getByteRange(0,FINGERPRINT_FIRST_BYTES),0,FINGERPRINT_FIRST_BYTES),shadow(this,"fingerprints",[x(S),w?x(w):null])}async _getLinearizationPage(d){const{catalog:x,linearization:b,xref:S}=this,w=Ref.get(b.objectNumberFirst,0);try{const C=await S.fetchAsync(w);if(C instanceof Dict){let F=C.getRaw("Type");if(F instanceof Ref&&(F=await S.fetchAsync(F)),isName(F,"Page")||!C.has("Type")&&!C.has("Kids"))return x.pageKidsCountCache.has(w)||x.pageKidsCountCache.put(w,1),x.pageIndexCache.has(w)||x.pageIndexCache.put(w,0),[C,w]}throw new FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(C){return warn(`_getLinearizationPage: "${C.message}".`),x.getPageDict(d)}}getPage(d){const x=this._pagePromises.get(d);if(x)return x;const{catalog:b,linearization:S,xfaFactory:w}=this;let C;return w?C=Promise.resolve([Dict.empty,null]):S?.pageFirst===d?C=this._getLinearizationPage(d):C=b.getPageDict(d),C=C.then(([F,E])=>new Page({pdfManager:this.pdfManager,xref:this.xref,pageIndex:d,pageDict:F,ref:E,globalIdFactory:this._globalIdFactory,fontCache:b.fontCache,builtInCMapCache:b.builtInCMapCache,standardFontDataCache:b.standardFontDataCache,globalImageCache:b.globalImageCache,systemFontCache:b.systemFontCache,nonBlendModesSet:b.nonBlendModesSet,xfaFactory:w})),this._pagePromises.set(d,C),C}async checkFirstPage(d=!1){if(!d)try{await this.getPage(0)}catch(x){if(x instanceof XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new XRefParseException}}async checkLastPage(d=!1){const{catalog:x,pdfManager:b}=this;x.setActualNumPages();let S;try{if(await Promise.all([b.ensureDoc("xfaFactory"),b.ensureDoc("linearization"),b.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?S=this.linearization.numPages:S=x.numPages,Number.isInteger(S)){if(S<=1)return}else throw new FormatError("Page count is not an integer.");await this.getPage(S-1)}catch(w){if(this._pagePromises.delete(S-1),await this.cleanup(),w instanceof XRefEntryException&&!d)throw new XRefParseException;warn(`checkLastPage - invalid /Pages tree /Count: ${S}.`);let C;try{C=await x.getAllPageDicts(d)}catch(F){if(F instanceof XRefEntryException&&!d)throw new XRefParseException;x.setActualNumPages(1);return}for(const[F,[E,k]]of C){let D;E instanceof Error?(D=Promise.reject(E),D.catch(()=>{})):D=Promise.resolve(new Page({pdfManager:b,xref:this.xref,pageIndex:F,pageDict:E,ref:k,globalIdFactory:this._globalIdFactory,fontCache:x.fontCache,builtInCMapCache:x.builtInCMapCache,standardFontDataCache:x.standardFontDataCache,globalImageCache:x.globalImageCache,systemFontCache:x.systemFontCache,nonBlendModesSet:x.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(F,D)}x.setActualNumPages(C.size)}}fontFallback(d,x){return this.catalog.fontFallback(d,x)}async cleanup(d=!1){return this.catalog?this.catalog.cleanup(d):clearGlobalCaches()}async#e(d,x,b,S,w){const{xref:C}=this;if(!(x instanceof Ref)||w.has(x))return;w.put(x);const F=await C.fetchAsync(x);if(!(F instanceof Dict))return;if(F.has("T")){const k=stringToPDFString(await F.getAsync("T"));d=d===""?k:`${d}.${k}`}else{let k=F;for(;;){if(k=k.getRaw("Parent"),k instanceof Ref){if(w.has(k))break;k=await C.fetchAsync(k)}if(!(k instanceof Dict))break;if(k.has("T")){const D=stringToPDFString(await k.getAsync("T"));d=d===""?D:`${d}.${D}`;break}}}if(b.has(d)||b.set(d,[]),b.get(d).push(AnnotationFactory.create(C,x,S,null,!0,null).then(k=>k?.getFieldObject()).catch(function(k){return warn(`#collectFieldObjects: "${k}".`),null})),!F.has("Kids"))return;const E=await F.getAsync("Kids");if(Array.isArray(E))for(const k of E)await this.#e(d,k,b,S,w)}get fieldObjects(){if(!this.formInfo.hasFields)return shadow(this,"fieldObjects",Promise.resolve(null));const d=Promise.all([this.pdfManager.ensureDoc("annotationGlobals"),this.pdfManager.ensureCatalog("acroForm")]).then(async([x,b])=>{if(!x)return null;const S=new RefSet,w=Object.create(null),C=new Map;for(const E of await b.getAsync("Fields"))await this.#e("",E,C,x,S);const F=[];for(const[E,k]of C)F.push(Promise.all(k).then(D=>{D=D.filter(M=>!!M),D.length>0&&(w[E]=D)}));return await Promise.all(F),w});return shadow(this,"fieldObjects",d)}get hasJSActions(){const d=this.pdfManager.ensureDoc("_parseHasJSActions");return shadow(this,"hasJSActions",d)}async _parseHasJSActions(){const[d,x]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return d?!0:x?Object.values(x).some(b=>b.some(S=>S.actions!==null)):!1}get calculationOrderIds(){const d=this.catalog.acroForm;if(!d?.has("CO"))return shadow(this,"calculationOrderIds",null);const x=d.get("CO");if(!Array.isArray(x)||x.length===0)return shadow(this,"calculationOrderIds",null);const b=[];for(const S of x)S instanceof Ref&&b.push(S.toString());return b.length===0?shadow(this,"calculationOrderIds",null):shadow(this,"calculationOrderIds",b)}get annotationGlobals(){return shadow(this,"annotationGlobals",AnnotationFactory.createGlobals(this.pdfManager))}};function parseDocBaseUrl(g){if(g){const d=createValidAbsoluteUrl(g);if(d)return d.href;warn(`Invalid absolute docBaseUrl: "${g}".`)}return null}class BasePdfManager{constructor(d){this.constructor===BasePdfManager&&unreachable("Cannot initialize BasePdfManager."),this._docBaseUrl=parseDocBaseUrl(d.docBaseUrl),this._docId=d.docId,this._password=d.password,this.enableXfa=d.enableXfa,d.evaluatorOptions.isOffscreenCanvasSupported&&=FeatureTest.isOffscreenCanvasSupported,this.evaluatorOptions=d.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(d,x){return this.ensure(this.pdfDocument,d,x)}ensureXRef(d,x){return this.ensure(this.pdfDocument.xref,d,x)}ensureCatalog(d,x){return this.ensure(this.pdfDocument.catalog,d,x)}getPage(d){return this.pdfDocument.getPage(d)}fontFallback(d,x){return this.pdfDocument.fontFallback(d,x)}loadXfaFonts(d,x){return this.pdfDocument.loadXfaFonts(d,x)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(d){return this.pdfDocument.serializeXfaData(d)}cleanup(d=!1){return this.pdfDocument.cleanup(d)}async ensure(d,x,b){unreachable("Abstract method `ensure` called")}requestRange(d,x){unreachable("Abstract method `requestRange` called")}requestLoadedStream(d=!1){unreachable("Abstract method `requestLoadedStream` called")}sendProgressiveData(d){unreachable("Abstract method `sendProgressiveData` called")}updatePassword(d){this._password=d}terminate(d){unreachable("Abstract method `terminate` called")}}class LocalPdfManager extends BasePdfManager{constructor(d){super(d);const x=new Stream$1(d.source);this.pdfDocument=new PDFDocument$1(this,x),this._loadedStreamPromise=Promise.resolve(x)}async ensure(d,x,b){const S=d[x];return typeof S=="function"?S.apply(d,b):S}requestRange(d,x){return Promise.resolve()}requestLoadedStream(d=!1){return this._loadedStreamPromise}terminate(d){}}class NetworkPdfManager extends BasePdfManager{constructor(d){super(d),this.streamManager=new ChunkedStreamManager(d.source,{msgHandler:d.handler,length:d.length,disableAutoFetch:d.disableAutoFetch,rangeChunkSize:d.rangeChunkSize}),this.pdfDocument=new PDFDocument$1(this,this.streamManager.getStream())}async ensure(d,x,b){try{const S=d[x];return typeof S=="function"?S.apply(d,b):S}catch(S){if(!(S instanceof MissingDataException))throw S;return await this.requestRange(S.begin,S.end),this.ensure(d,x,b)}}requestRange(d,x){return this.streamManager.requestRange(d,x)}requestLoadedStream(d=!1){return this.streamManager.requestAllChunks(d)}sendProgressiveData(d){this.streamManager.onReceiveData({chunk:d})}terminate(d){this.streamManager.abort(d)}}const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(g){switch(g instanceof Error||typeof g=="object"&&g!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),g.name){case"AbortException":return new AbortException(g.message);case"MissingPDFException":return new MissingPDFException(g.message);case"PasswordException":return new PasswordException(g.message,g.code);case"UnexpectedResponseException":return new UnexpectedResponseException(g.message,g.status);case"UnknownErrorException":return new UnknownErrorException(g.message,g.details);default:return new UnknownErrorException(g.message,g.toString())}}class MessageHandler{constructor(d,x,b){this.sourceName=d,this.targetName=x,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=S=>{const w=S.data;if(w.targetName!==this.sourceName)return;if(w.stream){this.#t(w);return}if(w.callback){const F=w.callbackId,E=this.callbackCapabilities[F];if(!E)throw new Error(`Cannot resolve callback ${F}`);if(delete this.callbackCapabilities[F],w.callback===CallbackKind.DATA)E.resolve(w.data);else if(w.callback===CallbackKind.ERROR)E.reject(wrapReason(w.reason));else throw new Error("Unexpected callback case");return}const C=this.actionHandler[w.action];if(!C)throw new Error(`Unknown action from worker: ${w.action}`);if(w.callbackId){const F=this.sourceName,E=w.sourceName;new Promise(function(k){k(C(w.data))}).then(function(k){b.postMessage({sourceName:F,targetName:E,callback:CallbackKind.DATA,callbackId:w.callbackId,data:k})},function(k){b.postMessage({sourceName:F,targetName:E,callback:CallbackKind.ERROR,callbackId:w.callbackId,reason:wrapReason(k)})});return}if(w.streamId){this.#e(w);return}C(w.data)},b.addEventListener("message",this._onComObjOnMessage)}on(d,x){const b=this.actionHandler;if(b[d])throw new Error(`There is already an actionName called "${d}"`);b[d]=x}send(d,x,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:x},b)}sendWithPromise(d,x,b){const S=this.callbackId++,w=new PromiseCapability;this.callbackCapabilities[S]=w;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:S,data:x},b)}catch(C){w.reject(C)}return w.promise}sendWithStream(d,x,b,S){const w=this.streamId++,C=this.sourceName,F=this.targetName,E=this.comObj;return new ReadableStream({start:k=>{const D=new PromiseCapability;return this.streamControllers[w]={controller:k,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},E.postMessage({sourceName:C,targetName:F,action:d,streamId:w,data:x,desiredSize:k.desiredSize},S),D.promise},pull:k=>{const D=new PromiseCapability;return this.streamControllers[w].pullCall=D,E.postMessage({sourceName:C,targetName:F,stream:StreamKind.PULL,streamId:w,desiredSize:k.desiredSize}),D.promise},cancel:k=>{assert(k instanceof Error,"cancel must have a valid reason");const D=new PromiseCapability;return this.streamControllers[w].cancelCall=D,this.streamControllers[w].isClosed=!0,E.postMessage({sourceName:C,targetName:F,stream:StreamKind.CANCEL,streamId:w,reason:wrapReason(k)}),D.promise}},b)}#e(d){const x=d.streamId,b=this.sourceName,S=d.sourceName,w=this.comObj,C=this,F=this.actionHandler[d.action],E={enqueue(k,D=1,M){if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=D,L>0&&this.desiredSize<=0&&(this.sinkCapability=new PromiseCapability,this.ready=this.sinkCapability.promise),w.postMessage({sourceName:b,targetName:S,stream:StreamKind.ENQUEUE,streamId:x,chunk:k},M)},close(){this.isCancelled||(this.isCancelled=!0,w.postMessage({sourceName:b,targetName:S,stream:StreamKind.CLOSE,streamId:x}),delete C.streamSinks[x])},error(k){assert(k instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,w.postMessage({sourceName:b,targetName:S,stream:StreamKind.ERROR,streamId:x,reason:wrapReason(k)}))},sinkCapability:new PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};E.sinkCapability.resolve(),E.ready=E.sinkCapability.promise,this.streamSinks[x]=E,new Promise(function(k){k(F(d.data,E))}).then(function(){w.postMessage({sourceName:b,targetName:S,stream:StreamKind.START_COMPLETE,streamId:x,success:!0})},function(k){w.postMessage({sourceName:b,targetName:S,stream:StreamKind.START_COMPLETE,streamId:x,reason:wrapReason(k)})})}#t(d){const x=d.streamId,b=this.sourceName,S=d.sourceName,w=this.comObj,C=this.streamControllers[x],F=this.streamSinks[x];switch(d.stream){case StreamKind.START_COMPLETE:d.success?C.startCall.resolve():C.startCall.reject(wrapReason(d.reason));break;case StreamKind.PULL_COMPLETE:d.success?C.pullCall.resolve():C.pullCall.reject(wrapReason(d.reason));break;case StreamKind.PULL:if(!F){w.postMessage({sourceName:b,targetName:S,stream:StreamKind.PULL_COMPLETE,streamId:x,success:!0});break}F.desiredSize<=0&&d.desiredSize>0&&F.sinkCapability.resolve(),F.desiredSize=d.desiredSize,new Promise(function(E){E(F.onPull?.())}).then(function(){w.postMessage({sourceName:b,targetName:S,stream:StreamKind.PULL_COMPLETE,streamId:x,success:!0})},function(E){w.postMessage({sourceName:b,targetName:S,stream:StreamKind.PULL_COMPLETE,streamId:x,reason:wrapReason(E)})});break;case StreamKind.ENQUEUE:if(assert(C,"enqueue should have stream controller"),C.isClosed)break;C.controller.enqueue(d.chunk);break;case StreamKind.CLOSE:if(assert(C,"close should have stream controller"),C.isClosed)break;C.isClosed=!0,C.controller.close(),this.#n(C,x);break;case StreamKind.ERROR:assert(C,"error should have stream controller"),C.controller.error(wrapReason(d.reason)),this.#n(C,x);break;case StreamKind.CANCEL_COMPLETE:d.success?C.cancelCall.resolve():C.cancelCall.reject(wrapReason(d.reason)),this.#n(C,x);break;case StreamKind.CANCEL:if(!F)break;new Promise(function(E){E(F.onCancel?.(wrapReason(d.reason)))}).then(function(){w.postMessage({sourceName:b,targetName:S,stream:StreamKind.CANCEL_COMPLETE,streamId:x,success:!0})},function(E){w.postMessage({sourceName:b,targetName:S,stream:StreamKind.CANCEL_COMPLETE,streamId:x,reason:wrapReason(E)})}),F.sinkCapability.reject(wrapReason(d.reason)),F.isCancelled=!0,delete this.streamSinks[x];break;default:throw new Error("Unexpected stream case")}}async#n(d,x){await Promise.allSettled([d.startCall?.promise,d.pullCall?.promise,d.cancelCall?.promise]),delete this.streamControllers[x]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class PDFWorkerStream{constructor(d){this._msgHandler=d,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return assert(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new PDFWorkerStreamReader(this._msgHandler),this._fullRequestReader}getRangeReader(d,x){const b=new PDFWorkerStreamRangeReader(d,x,this._msgHandler);return this._rangeRequestReaders.push(b),b}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const x of this._rangeRequestReaders.slice(0))x.cancel(d)}}class PDFWorkerStreamReader{constructor(d){this._msgHandler=d,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const x=this._msgHandler.sendWithStream("GetReader");this._reader=x.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(b=>{this._isStreamingSupported=b.isStreamingSupported,this._isRangeSupported=b.isRangeSupported,this._contentLength=b.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:d,done:x}=await this._reader.read();return x?{value:void 0,done:!0}:{value:d.buffer,done:!1}}cancel(d){this._reader.cancel(d)}}class PDFWorkerStreamRangeReader{constructor(d,x,b){this._msgHandler=b,this.onProgress=null;const S=this._msgHandler.sendWithStream("GetRangeReader",{begin:d,end:x});this._reader=S.getReader()}get isStreamingSupported(){return!1}async read(){const{value:d,done:x}=await this._reader.read();return x?{value:void 0,done:!0}:{value:d.buffer,done:!1}}cancel(d){this._reader.cancel(d)}}class WorkerTask{constructor(d){this.name=d,this.terminated=!1,this._capability=new PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}class WorkerMessageHandler{static setup(d,x){let b=!1;d.on("test",function(S){b||(b=!0,d.send("test",S instanceof Uint8Array))}),d.on("configure",function(S){setVerbosityLevel(S.verbosity)}),d.on("GetDocRequest",function(S){return WorkerMessageHandler.createDocumentHandler(S,x)})}static createDocumentHandler(d,x){let b,S=!1,w=null;const C=new Set,F=getVerbosityLevel(),{docId:E,apiVersion:k}=d,D="4.0.269";if(k!==D)throw new Error(`The API version "${k}" does not match the Worker version "${D}".`);const M=[];for(const X in[])M.push(X);if(M.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+M.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const L=E+"_worker";let R=new MessageHandler(L,E,x);function U(){if(S)throw new Error("Worker was terminated")}function j(X){C.add(X)}function H(X){X.finish(),C.delete(X)}async function V(X){await b.ensureDoc("checkHeader"),await b.ensureDoc("parseStartXRef"),await b.ensureDoc("parse",[X]),await b.ensureDoc("checkFirstPage",[X]),await b.ensureDoc("checkLastPage",[X]);const Y=await b.ensureDoc("isPureXfa");if(Y){const oe=new WorkerTask("loadXfaFonts");j(oe),await Promise.all([b.loadXfaFonts(R,oe).catch(he=>{}).then(()=>H(oe)),b.loadXfaImages()])}const[J,ee]=await Promise.all([b.ensureDoc("numPages"),b.ensureDoc("fingerprints")]),ie=Y?await b.ensureDoc("htmlForXfa"):null;return{numPages:J,fingerprints:ee,htmlForXfa:ie}}function z({data:X,password:Y,disableAutoFetch:J,rangeChunkSize:ee,length:ie,docBaseUrl:oe,enableXfa:he,evaluatorOptions:fe}){const Se={source:null,disableAutoFetch:J,docBaseUrl:oe,docId:E,enableXfa:he,evaluatorOptions:fe,handler:R,length:ie,password:Y,rangeChunkSize:ee},we=new PromiseCapability;let Ee;if(X){try{Se.source=X,Ee=new LocalPdfManager(Se),we.resolve(Ee)}catch(Le){we.reject(Le)}return we.promise}let de,xe=[];try{de=new PDFWorkerStream(R)}catch(Le){return we.reject(Le),we.promise}const Te=de.getFullReader();Te.headersReady.then(function(){if(Te.isRangeSupported){Se.source=de,Se.length=Te.contentLength,Se.disableAutoFetch||=Te.isStreamingSupported,Ee=new NetworkPdfManager(Se);for(const Le of xe)Ee.sendProgressiveData(Le);xe=[],we.resolve(Ee),w=null}}).catch(function(Le){we.reject(Le),w=null});let Oe=0;const Ne=function(){const Le=arrayBuffersToBytes(xe);ie&&Le.length!==ie&&warn("reported HTTP length is different from actual");try{Se.source=Le,Ee=new LocalPdfManager(Se),we.resolve(Ee)}catch(Me){we.reject(Me)}xe=[]};return new Promise(function(Le,Me){const Ie=function({value:Ve,done:De}){try{if(U(),De){Ee||Ne(),w=null;return}Oe+=Ve.byteLength,Te.isStreamingSupported||R.send("DocProgress",{loaded:Oe,total:Math.max(Oe,Te.contentLength||0)}),Ee?Ee.sendProgressiveData(Ve):xe.push(Ve),Te.read().then(Ie,Me)}catch(Pe){Me(Pe)}};Te.read().then(Ie,Me)}).catch(function(Le){we.reject(Le),w=null}),w=function(Le){de.cancelAllRequests(Le)},we.promise}function G(X){function Y(ie){U(),R.send("GetDoc",{pdfInfo:ie})}function J(ie){if(U(),ie instanceof PasswordException){const oe=new WorkerTask(`PasswordException: response ${ie.code}`);j(oe),R.sendWithPromise("PasswordRequest",ie).then(function({password:he}){H(oe),b.updatePassword(he),ee()}).catch(function(){H(oe),R.send("DocException",ie)})}else ie instanceof InvalidPDFException||ie instanceof MissingPDFException||ie instanceof UnexpectedResponseException||ie instanceof UnknownErrorException?R.send("DocException",ie):R.send("DocException",new UnknownErrorException(ie.message,ie.toString()))}function ee(){U(),V(!1).then(Y,function(ie){if(U(),!(ie instanceof XRefParseException)){J(ie);return}b.requestLoadedStream().then(function(){U(),V(!0).then(Y,J)})})}U(),z(X).then(function(ie){if(S)throw ie.terminate(new AbortException("Worker was terminated.")),new Error("Worker was terminated");b=ie,b.requestLoadedStream(!0).then(oe=>{R.send("DataLoaded",{length:oe.bytes.byteLength})})}).then(ee,J)}return R.on("GetPage",function(X){return b.getPage(X.pageIndex).then(function(Y){return Promise.all([b.ensure(Y,"rotate"),b.ensure(Y,"ref"),b.ensure(Y,"userUnit"),b.ensure(Y,"view")]).then(function([J,ee,ie,oe]){return{rotate:J,ref:ee,userUnit:ie,view:oe}})})}),R.on("GetPageIndex",function(X){const Y=Ref.get(X.num,X.gen);return b.ensureCatalog("getPageIndex",[Y])}),R.on("GetDestinations",function(X){return b.ensureCatalog("destinations")}),R.on("GetDestination",function(X){return b.ensureCatalog("getDestination",[X.id])}),R.on("GetPageLabels",function(X){return b.ensureCatalog("pageLabels")}),R.on("GetPageLayout",function(X){return b.ensureCatalog("pageLayout")}),R.on("GetPageMode",function(X){return b.ensureCatalog("pageMode")}),R.on("GetViewerPreferences",function(X){return b.ensureCatalog("viewerPreferences")}),R.on("GetOpenAction",function(X){return b.ensureCatalog("openAction")}),R.on("GetAttachments",function(X){return b.ensureCatalog("attachments")}),R.on("GetDocJSActions",function(X){return b.ensureCatalog("jsActions")}),R.on("GetPageJSActions",function({pageIndex:X}){return b.getPage(X).then(function(Y){return b.ensure(Y,"jsActions")})}),R.on("GetOutline",function(X){return b.ensureCatalog("documentOutline")}),R.on("GetOptionalContentConfig",function(X){return b.ensureCatalog("optionalContentConfig")}),R.on("GetPermissions",function(X){return b.ensureCatalog("permissions")}),R.on("GetMetadata",function(X){return Promise.all([b.ensureDoc("documentInfo"),b.ensureCatalog("metadata")])}),R.on("GetMarkInfo",function(X){return b.ensureCatalog("markInfo")}),R.on("GetData",function(X){return b.requestLoadedStream().then(function(Y){return Y.bytes})}),R.on("GetAnnotations",function({pageIndex:X,intent:Y}){return b.getPage(X).then(function(J){const ee=new WorkerTask(`GetAnnotations: page ${X}`);return j(ee),J.getAnnotationsData(R,ee,Y).then(ie=>(H(ee),ie),ie=>{throw H(ee),ie})})}),R.on("GetFieldObjects",function(X){return b.ensureDoc("fieldObjects")}),R.on("HasJSActions",function(X){return b.ensureDoc("hasJSActions")}),R.on("GetCalculationOrderIds",function(X){return b.ensureDoc("calculationOrderIds")}),R.on("SaveDocument",async function({isPureXfa:X,numPages:Y,annotationStorage:J,filename:ee}){const ie=[b.requestLoadedStream(),b.ensureCatalog("acroForm"),b.ensureCatalog("acroFormRef"),b.ensureDoc("startXRef"),b.ensureDoc("xref"),b.ensureDoc("linearization"),b.ensureCatalog("structTreeRoot")],oe=[],he=X?null:getNewAnnotationsMap(J),[fe,Se,we,Ee,de,xe,Te]=await Promise.all(ie),Oe=de.trailer.getRaw("Root")||null;let Ne;if(he){Te?await Te.canUpdateStructTree({pdfManager:b,xref:de,newAnnotationsByPage:he})&&(Ne=Te):await StructTreeRoot.canCreateStructureTree({catalogRef:Oe,pdfManager:b,newAnnotationsByPage:he})&&(Ne=null);const re=AnnotationFactory.generateImages(J.values(),de,b.evaluatorOptions.isOffscreenCanvasSupported),W=Ne===void 0?oe:[];for(const[$,Z]of he)W.push(b.getPage($).then(K=>{const Q=new WorkerTask(`Save (editor): page ${$}`);return K.saveNewAnnotations(R,Q,Z,re).finally(function(){H(Q)})}));Ne===null?oe.push(Promise.all(W).then(async $=>(await StructTreeRoot.createStructureTree({newAnnotationsByPage:he,xref:de,catalogRef:Oe,pdfManager:b,newRefs:$}),$))):Ne&&oe.push(Promise.all(W).then(async $=>(await Ne.updateStructureTree({newAnnotationsByPage:he,pdfManager:b,newRefs:$}),$)))}if(X)oe.push(b.serializeXfaData(J));else for(let re=0;re<Y;re++)oe.push(b.getPage(re).then(function(W){const $=new WorkerTask(`Save: page ${re}`);return W.save(R,$,J).finally(function(){H($)})}));const Le=await Promise.all(oe);let Me=[],Ie=null;if(X){if(Ie=Le[0],!Ie)return fe.bytes}else if(Me=Le.flat(2),Me.length===0)return fe.bytes;const Ve=we&&Se instanceof Dict&&Me.some(re=>re.needAppearances),De=Se instanceof Dict&&Se.get("XFA")||null;let Pe=null,Ce=!1;if(Array.isArray(De)){for(let re=0,W=De.length;re<W;re+=2)De[re]==="datasets"&&(Pe=De[re+1],Ce=!0);Pe===null&&(Pe=de.getNewTemporaryRef())}else De&&warn("Unsupported XFA type.");let te=Object.create(null);if(de.trailer){const re=Object.create(null),W=de.trailer.get("Info")||null;W instanceof Dict&&W.forEach(($,Z)=>{typeof Z=="string"&&(re[$]=stringToPDFString(Z))}),te={rootRef:Oe,encryptRef:de.trailer.getRaw("Encrypt")||null,newRef:de.getNewTemporaryRef(),infoRef:de.trailer.getRaw("Info")||null,info:re,fileIds:de.trailer.get("ID")||null,startXRef:xe?Ee:de.lastXRefStreamPos??Ee,filename:ee}}return incrementalUpdate({originalData:fe.bytes,xrefInfo:te,newRefs:Me,xref:de,hasXfa:!!De,xfaDatasetsRef:Pe,hasXfaDatasetsEntry:Ce,needAppearances:Ve,acroFormRef:we,acroForm:Se,xfaData:Ie}).finally(()=>{de.resetNewTemporaryRef()})}),R.on("GetOperatorList",function(X,Y){const J=X.pageIndex;b.getPage(J).then(function(ee){const ie=new WorkerTask(`GetOperatorList: page ${J}`);j(ie);const oe=F>=VerbosityLevel.INFOS?Date.now():0;ee.getOperatorList({handler:R,sink:Y,task:ie,intent:X.intent,cacheKey:X.cacheKey,annotationStorage:X.annotationStorage}).then(function(he){H(ie),oe&&info(`page=${J+1} - getOperatorList: time=${Date.now()-oe}ms, len=${he.length}`),Y.close()},function(he){H(ie),!ie.terminated&&Y.error(he)})})}),R.on("GetTextContent",function(X,Y){const{pageIndex:J,includeMarkedContent:ee,disableNormalization:ie}=X;b.getPage(J).then(function(oe){const he=new WorkerTask("GetTextContent: page "+J);j(he);const fe=F>=VerbosityLevel.INFOS?Date.now():0;oe.extractTextContent({handler:R,task:he,sink:Y,includeMarkedContent:ee,disableNormalization:ie}).then(function(){H(he),fe&&info(`page=${J+1} - getTextContent: time=${Date.now()-fe}ms`),Y.close()},function(Se){H(he),!he.terminated&&Y.error(Se)})})}),R.on("GetStructTree",function(X){return b.getPage(X.pageIndex).then(function(Y){return b.ensure(Y,"getStructTree")})}),R.on("FontFallback",function(X){return b.fontFallback(X.id,R)}),R.on("Cleanup",function(X){return b.cleanup(!0)}),R.on("Terminate",function(X){S=!0;const Y=[];if(b){b.terminate(new AbortException("Worker was terminated."));const J=b.cleanup();Y.push(J),b=null}else clearGlobalCaches();w&&w(new AbortException("Worker was terminated."));for(const J of C)Y.push(J.finished),J.terminate();return Promise.all(Y).then(function(){R.destroy(),R=null})}),R.on("Ready",function(X){G(d),d=null}),L}static initializeFromPort(d){const x=new MessageHandler("worker","main",d);WorkerMessageHandler.setup(x,d),x.send("ready",null)}}function isMessagePort(g){return typeof g.postMessage=="function"&&"onmessage"in g}typeof window>"u"&&!isNodeJS&&typeof self<"u"&&isMessagePort(self)&&WorkerMessageHandler.initializeFromPort(self);var __webpack_exports__WorkerMessageHandler=__webpack_exports__.WorkerMessageHandler;const pdfWorker=Object.freeze(Object.defineProperty({__proto__:null,WorkerMessageHandler:__webpack_exports__WorkerMessageHandler},Symbol.toStringTag,{value:"Module"}));var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var fileToArrayBuffer=function(d){return new Promise(function(x,b){const S=new FileReader;S.onerror=function(C){b(C.target.error)},S.onload=function(C){x(C.target.result)},S.readAsArrayBuffer(d)})};const fileToArrayBuffer$1=getDefaultExportFromCjs(fileToArrayBuffer),bufferToFile=function(g,d,x){let b=new Blob([g],{type:x});return new File([b],d,{type:x})};function getSvgString(g){return`
    <svg viewBox="-2 -2 409 154" xmlns="http://www.w3.org/2000/svg">
    <rect width="405" height="150" fill="none" rx="15" ry="15" stroke="black" stroke-width="3px"/>
    <text x="130" y="30" style='font-family: "Arial Black", sans-serif; font-size: 14px;'> </text>
    <text x="115" y="50" style='font-family: "Arial Black", sans-serif; font-size: 14px;'> </text>
    <text x="10" y="80" style='font-family: Arial, sans-serif; font-size: 12px;'>: ${g.serialNumber}</text>
    <text x="10" y="100" style='font-family: Arial, sans-serif; font-size: 12px;'>: ${g.name}</text>
    <text x="10" y="120" style='font-family: Arial, sans-serif; font-size: 12px;'>: c ${g.validFromDate}  ${g.validToDate}</text>
    </svg>`}function createHtmlSign(g,d){let x=document.createElement("div");return x.innerHTML=getSvgString(g),x.style.cssText=`
         position: absolute;
         user-select: none;
         top: ${d.y}px;
         left: ${d.x}px;
         width: ${d.width}px;
         height: ${d.height}px;
      `,x.classList.add("token"),x}function createHtmlDeleteSignBth(){let g=document.createElement("button");return g.innerText="X",g.style.cssText=`
         position: absolute;
         width: 30px;
         height: 30px;
         top: -30px;
         right: -30px;
      `,g}function isNull(g){return g.every(d=>d===null)}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$2=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$4=0,len$2=code.length;i$4<len$2;++i$4)lookup$2[i$4]=code[i$4],revLookup[code.charCodeAt(i$4)]=i$4;revLookup[45]=62;revLookup[95]=63;function getLens(g){var d=g.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=g.indexOf("=");x===-1&&(x=d);var b=x===d?0:4-x%4;return[x,b]}function byteLength(g){var d=getLens(g),x=d[0],b=d[1];return(x+b)*3/4-b}function _byteLength(g,d,x){return(d+x)*3/4-x}function toByteArray(g){var d,x=getLens(g),b=x[0],S=x[1],w=new Arr(_byteLength(g,b,S)),C=0,F=S>0?b-4:b,E;for(E=0;E<F;E+=4)d=revLookup[g.charCodeAt(E)]<<18|revLookup[g.charCodeAt(E+1)]<<12|revLookup[g.charCodeAt(E+2)]<<6|revLookup[g.charCodeAt(E+3)],w[C++]=d>>16&255,w[C++]=d>>8&255,w[C++]=d&255;return S===2&&(d=revLookup[g.charCodeAt(E)]<<2|revLookup[g.charCodeAt(E+1)]>>4,w[C++]=d&255),S===1&&(d=revLookup[g.charCodeAt(E)]<<10|revLookup[g.charCodeAt(E+1)]<<4|revLookup[g.charCodeAt(E+2)]>>2,w[C++]=d>>8&255,w[C++]=d&255),w}function tripletToBase64(g){return lookup$2[g>>18&63]+lookup$2[g>>12&63]+lookup$2[g>>6&63]+lookup$2[g&63]}function encodeChunk(g,d,x){for(var b,S=[],w=d;w<x;w+=3)b=(g[w]<<16&16711680)+(g[w+1]<<8&65280)+(g[w+2]&255),S.push(tripletToBase64(b));return S.join("")}function fromByteArray(g){for(var d,x=g.length,b=x%3,S=[],w=16383,C=0,F=x-b;C<F;C+=w)S.push(encodeChunk(g,C,C+w>F?F:C+w));return b===1?(d=g[x-1],S.push(lookup$2[d>>2]+lookup$2[d<<4&63]+"==")):b===2&&(d=(g[x-2]<<8)+g[x-1],S.push(lookup$2[d>>10]+lookup$2[d>>4&63]+lookup$2[d<<2&63]+"=")),S.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(g,d,x,b,S){var w,C,F=S*8-b-1,E=(1<<F)-1,k=E>>1,D=-7,M=x?S-1:0,L=x?-1:1,R=g[d+M];for(M+=L,w=R&(1<<-D)-1,R>>=-D,D+=F;D>0;w=w*256+g[d+M],M+=L,D-=8);for(C=w&(1<<-D)-1,w>>=-D,D+=b;D>0;C=C*256+g[d+M],M+=L,D-=8);if(w===0)w=1-k;else{if(w===E)return C?NaN:(R?-1:1)*(1/0);C=C+Math.pow(2,b),w=w-k}return(R?-1:1)*C*Math.pow(2,w-b)};ieee754.write=function(g,d,x,b,S,w){var C,F,E,k=w*8-S-1,D=(1<<k)-1,M=D>>1,L=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=b?0:w-1,U=b?1:-1,j=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(F=isNaN(d)?1:0,C=D):(C=Math.floor(Math.log(d)/Math.LN2),d*(E=Math.pow(2,-C))<1&&(C--,E*=2),C+M>=1?d+=L/E:d+=L*Math.pow(2,1-M),d*E>=2&&(C++,E/=2),C+M>=D?(F=0,C=D):C+M>=1?(F=(d*E-1)*Math.pow(2,S),C=C+M):(F=d*Math.pow(2,M-1)*Math.pow(2,S),C=0));S>=8;g[x+R]=F&255,R+=U,F/=256,S-=8);for(C=C<<S|F,k+=S;k>0;g[x+R]=C&255,R+=U,C/=256,k-=8);g[x+R-U]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(g){const d=base64Js,x=ieee754,b=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.Buffer=F,g.SlowBuffer=z,g.INSPECT_MAX_BYTES=50;const S=2147483647;g.kMaxLength=S,F.TYPED_ARRAY_SUPPORT=w(),!F.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{const ue=new Uint8Array(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Uint8Array.prototype),Object.setPrototypeOf(ue,ne),ue.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.buffer}}),Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.byteOffset}});function C(ue){if(ue>S)throw new RangeError('The value "'+ue+'" is invalid for option "size"');const ne=new Uint8Array(ue);return Object.setPrototypeOf(ne,F.prototype),ne}function F(ue,ne,se){if(typeof ue=="number"){if(typeof ne=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(ue)}return E(ue,ne,se)}F.poolSize=8192;function E(ue,ne,se){if(typeof ue=="string")return L(ue,ne);if(ArrayBuffer.isView(ue))return U(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue);if(me(ue,ArrayBuffer)||ue&&me(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(ue,SharedArrayBuffer)||ue&&me(ue.buffer,SharedArrayBuffer)))return j(ue,ne,se);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ae=ue.valueOf&&ue.valueOf();if(Ae!=null&&Ae!==ue)return F.from(Ae,ne,se);const _e=H(ue);if(_e)return _e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return F.from(ue[Symbol.toPrimitive]("string"),ne,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ue)}F.from=function(ue,ne,se){return E(ue,ne,se)},Object.setPrototypeOf(F.prototype,Uint8Array.prototype),Object.setPrototypeOf(F,Uint8Array);function k(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function D(ue,ne,se){return k(ue),ue<=0?C(ue):ne!==void 0?typeof se=="string"?C(ue).fill(ne,se):C(ue).fill(ne):C(ue)}F.alloc=function(ue,ne,se){return D(ue,ne,se)};function M(ue){return k(ue),C(ue<0?0:V(ue)|0)}F.allocUnsafe=function(ue){return M(ue)},F.allocUnsafeSlow=function(ue){return M(ue)};function L(ue,ne){if((typeof ne!="string"||ne==="")&&(ne="utf8"),!F.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);const se=G(ue,ne)|0;let Ae=C(se);const _e=Ae.write(ue,ne);return _e!==se&&(Ae=Ae.slice(0,_e)),Ae}function R(ue){const ne=ue.length<0?0:V(ue.length)|0,se=C(ne);for(let Ae=0;Ae<ne;Ae+=1)se[Ae]=ue[Ae]&255;return se}function U(ue){if(me(ue,Uint8Array)){const ne=new Uint8Array(ue);return j(ne.buffer,ne.byteOffset,ne.byteLength)}return R(ue)}function j(ue,ne,se){if(ne<0||ue.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<ne+(se||0))throw new RangeError('"length" is outside of buffer bounds');let Ae;return ne===void 0&&se===void 0?Ae=new Uint8Array(ue):se===void 0?Ae=new Uint8Array(ue,ne):Ae=new Uint8Array(ue,ne,se),Object.setPrototypeOf(Ae,F.prototype),Ae}function H(ue){if(F.isBuffer(ue)){const ne=V(ue.length)|0,se=C(ne);return se.length===0||ue.copy(se,0,0,ne),se}if(ue.length!==void 0)return typeof ue.length!="number"||Fe(ue.length)?C(0):R(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return R(ue.data)}function V(ue){if(ue>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return ue|0}function z(ue){return+ue!=ue&&(ue=0),F.alloc(+ue)}F.isBuffer=function(ne){return ne!=null&&ne._isBuffer===!0&&ne!==F.prototype},F.compare=function(ne,se){if(me(ne,Uint8Array)&&(ne=F.from(ne,ne.offset,ne.byteLength)),me(se,Uint8Array)&&(se=F.from(se,se.offset,se.byteLength)),!F.isBuffer(ne)||!F.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===se)return 0;let Ae=ne.length,_e=se.length;for(let Be=0,He=Math.min(Ae,_e);Be<He;++Be)if(ne[Be]!==se[Be]){Ae=ne[Be],_e=se[Be];break}return Ae<_e?-1:_e<Ae?1:0},F.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},F.concat=function(ne,se){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(ne.length===0)return F.alloc(0);let Ae;if(se===void 0)for(se=0,Ae=0;Ae<ne.length;++Ae)se+=ne[Ae].length;const _e=F.allocUnsafe(se);let Be=0;for(Ae=0;Ae<ne.length;++Ae){let He=ne[Ae];if(me(He,Uint8Array))Be+He.length>_e.length?(F.isBuffer(He)||(He=F.from(He)),He.copy(_e,Be)):Uint8Array.prototype.set.call(_e,He,Be);else if(F.isBuffer(He))He.copy(_e,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=He.length}return _e};function G(ue,ne){if(F.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||me(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ue);const se=ue.length,Ae=arguments.length>2&&arguments[2]===!0;if(!Ae&&se===0)return 0;let _e=!1;for(;;)switch(ne){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return ge(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se*2;case"hex":return se>>>1;case"base64":return ve(ue).length;default:if(_e)return Ae?-1:ge(ue).length;ne=(""+ne).toLowerCase(),_e=!0}}F.byteLength=G;function X(ue,ne,se){let Ae=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((se===void 0||se>this.length)&&(se=this.length),se<=0)||(se>>>=0,ne>>>=0,se<=ne))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return Ne(this,ne,se);case"utf8":case"utf-8":return Ee(this,ne,se);case"ascii":return Te(this,ne,se);case"latin1":case"binary":return Oe(this,ne,se);case"base64":return we(this,ne,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Le(this,ne,se);default:if(Ae)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),Ae=!0}}F.prototype._isBuffer=!0;function Y(ue,ne,se){const Ae=ue[ne];ue[ne]=ue[se],ue[se]=Ae}F.prototype.swap16=function(){const ne=this.length;if(ne%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let se=0;se<ne;se+=2)Y(this,se,se+1);return this},F.prototype.swap32=function(){const ne=this.length;if(ne%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let se=0;se<ne;se+=4)Y(this,se,se+3),Y(this,se+1,se+2);return this},F.prototype.swap64=function(){const ne=this.length;if(ne%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let se=0;se<ne;se+=8)Y(this,se,se+7),Y(this,se+1,se+6),Y(this,se+2,se+5),Y(this,se+3,se+4);return this},F.prototype.toString=function(){const ne=this.length;return ne===0?"":arguments.length===0?Ee(this,0,ne):X.apply(this,arguments)},F.prototype.toLocaleString=F.prototype.toString,F.prototype.equals=function(ne){if(!F.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne?!0:F.compare(this,ne)===0},F.prototype.inspect=function(){let ne="";const se=g.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(ne+=" ... "),"<Buffer "+ne+">"},b&&(F.prototype[b]=F.prototype.inspect),F.prototype.compare=function(ne,se,Ae,_e,Be){if(me(ne,Uint8Array)&&(ne=F.from(ne,ne.offset,ne.byteLength)),!F.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(se===void 0&&(se=0),Ae===void 0&&(Ae=ne?ne.length:0),_e===void 0&&(_e=0),Be===void 0&&(Be=this.length),se<0||Ae>ne.length||_e<0||Be>this.length)throw new RangeError("out of range index");if(_e>=Be&&se>=Ae)return 0;if(_e>=Be)return-1;if(se>=Ae)return 1;if(se>>>=0,Ae>>>=0,_e>>>=0,Be>>>=0,this===ne)return 0;let He=Be-_e,Ue=Ae-se;const ze=Math.min(He,Ue),Ge=this.slice(_e,Be),Xe=ne.slice(se,Ae);for(let $e=0;$e<ze;++$e)if(Ge[$e]!==Xe[$e]){He=Ge[$e],Ue=Xe[$e];break}return He<Ue?-1:Ue<He?1:0};function J(ue,ne,se,Ae,_e){if(ue.length===0)return-1;if(typeof se=="string"?(Ae=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),se=+se,Fe(se)&&(se=_e?0:ue.length-1),se<0&&(se=ue.length+se),se>=ue.length){if(_e)return-1;se=ue.length-1}else if(se<0)if(_e)se=0;else return-1;if(typeof ne=="string"&&(ne=F.from(ne,Ae)),F.isBuffer(ne))return ne.length===0?-1:ee(ue,ne,se,Ae,_e);if(typeof ne=="number")return ne=ne&255,typeof Uint8Array.prototype.indexOf=="function"?_e?Uint8Array.prototype.indexOf.call(ue,ne,se):Uint8Array.prototype.lastIndexOf.call(ue,ne,se):ee(ue,[ne],se,Ae,_e);throw new TypeError("val must be string, number or Buffer")}function ee(ue,ne,se,Ae,_e){let Be=1,He=ue.length,Ue=ne.length;if(Ae!==void 0&&(Ae=String(Ae).toLowerCase(),Ae==="ucs2"||Ae==="ucs-2"||Ae==="utf16le"||Ae==="utf-16le")){if(ue.length<2||ne.length<2)return-1;Be=2,He/=2,Ue/=2,se/=2}function ze(Xe,$e){return Be===1?Xe[$e]:Xe.readUInt16BE($e*Be)}let Ge;if(_e){let Xe=-1;for(Ge=se;Ge<He;Ge++)if(ze(ue,Ge)===ze(ne,Xe===-1?0:Ge-Xe)){if(Xe===-1&&(Xe=Ge),Ge-Xe+1===Ue)return Xe*Be}else Xe!==-1&&(Ge-=Ge-Xe),Xe=-1}else for(se+Ue>He&&(se=He-Ue),Ge=se;Ge>=0;Ge--){let Xe=!0;for(let $e=0;$e<Ue;$e++)if(ze(ue,Ge+$e)!==ze(ne,$e)){Xe=!1;break}if(Xe)return Ge}return-1}F.prototype.includes=function(ne,se,Ae){return this.indexOf(ne,se,Ae)!==-1},F.prototype.indexOf=function(ne,se,Ae){return J(this,ne,se,Ae,!0)},F.prototype.lastIndexOf=function(ne,se,Ae){return J(this,ne,se,Ae,!1)};function ie(ue,ne,se,Ae){se=Number(se)||0;const _e=ue.length-se;Ae?(Ae=Number(Ae),Ae>_e&&(Ae=_e)):Ae=_e;const Be=ne.length;Ae>Be/2&&(Ae=Be/2);let He;for(He=0;He<Ae;++He){const Ue=parseInt(ne.substr(He*2,2),16);if(Fe(Ue))return He;ue[se+He]=Ue}return He}function oe(ue,ne,se,Ae){return be(ge(ne,ue.length-se),ue,se,Ae)}function he(ue,ne,se,Ae){return be(pe(ne),ue,se,Ae)}function fe(ue,ne,se,Ae){return be(ve(ne),ue,se,Ae)}function Se(ue,ne,se,Ae){return be(ye(ne,ue.length-se),ue,se,Ae)}F.prototype.write=function(ne,se,Ae,_e){if(se===void 0)_e="utf8",Ae=this.length,se=0;else if(Ae===void 0&&typeof se=="string")_e=se,Ae=this.length,se=0;else if(isFinite(se))se=se>>>0,isFinite(Ae)?(Ae=Ae>>>0,_e===void 0&&(_e="utf8")):(_e=Ae,Ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Be=this.length-se;if((Ae===void 0||Ae>Be)&&(Ae=Be),ne.length>0&&(Ae<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");let He=!1;for(;;)switch(_e){case"hex":return ie(this,ne,se,Ae);case"utf8":case"utf-8":return oe(this,ne,se,Ae);case"ascii":case"latin1":case"binary":return he(this,ne,se,Ae);case"base64":return fe(this,ne,se,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,ne,se,Ae);default:if(He)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),He=!0}},F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function we(ue,ne,se){return ne===0&&se===ue.length?d.fromByteArray(ue):d.fromByteArray(ue.slice(ne,se))}function Ee(ue,ne,se){se=Math.min(ue.length,se);const Ae=[];let _e=ne;for(;_e<se;){const Be=ue[_e];let He=null,Ue=Be>239?4:Be>223?3:Be>191?2:1;if(_e+Ue<=se){let ze,Ge,Xe,$e;switch(Ue){case 1:Be<128&&(He=Be);break;case 2:ze=ue[_e+1],(ze&192)===128&&($e=(Be&31)<<6|ze&63,$e>127&&(He=$e));break;case 3:ze=ue[_e+1],Ge=ue[_e+2],(ze&192)===128&&(Ge&192)===128&&($e=(Be&15)<<12|(ze&63)<<6|Ge&63,$e>2047&&($e<55296||$e>57343)&&(He=$e));break;case 4:ze=ue[_e+1],Ge=ue[_e+2],Xe=ue[_e+3],(ze&192)===128&&(Ge&192)===128&&(Xe&192)===128&&($e=(Be&15)<<18|(ze&63)<<12|(Ge&63)<<6|Xe&63,$e>65535&&$e<1114112&&(He=$e))}}He===null?(He=65533,Ue=1):He>65535&&(He-=65536,Ae.push(He>>>10&1023|55296),He=56320|He&1023),Ae.push(He),_e+=Ue}return xe(Ae)}const de=4096;function xe(ue){const ne=ue.length;if(ne<=de)return String.fromCharCode.apply(String,ue);let se="",Ae=0;for(;Ae<ne;)se+=String.fromCharCode.apply(String,ue.slice(Ae,Ae+=de));return se}function Te(ue,ne,se){let Ae="";se=Math.min(ue.length,se);for(let _e=ne;_e<se;++_e)Ae+=String.fromCharCode(ue[_e]&127);return Ae}function Oe(ue,ne,se){let Ae="";se=Math.min(ue.length,se);for(let _e=ne;_e<se;++_e)Ae+=String.fromCharCode(ue[_e]);return Ae}function Ne(ue,ne,se){const Ae=ue.length;(!ne||ne<0)&&(ne=0),(!se||se<0||se>Ae)&&(se=Ae);let _e="";for(let Be=ne;Be<se;++Be)_e+=Re[ue[Be]];return _e}function Le(ue,ne,se){const Ae=ue.slice(ne,se);let _e="";for(let Be=0;Be<Ae.length-1;Be+=2)_e+=String.fromCharCode(Ae[Be]+Ae[Be+1]*256);return _e}F.prototype.slice=function(ne,se){const Ae=this.length;ne=~~ne,se=se===void 0?Ae:~~se,ne<0?(ne+=Ae,ne<0&&(ne=0)):ne>Ae&&(ne=Ae),se<0?(se+=Ae,se<0&&(se=0)):se>Ae&&(se=Ae),se<ne&&(se=ne);const _e=this.subarray(ne,se);return Object.setPrototypeOf(_e,F.prototype),_e};function Me(ue,ne,se){if(ue%1!==0||ue<0)throw new RangeError("offset is not uint");if(ue+ne>se)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(ne,se,Ae){ne=ne>>>0,se=se>>>0,Ae||Me(ne,se,this.length);let _e=this[ne],Be=1,He=0;for(;++He<se&&(Be*=256);)_e+=this[ne+He]*Be;return _e},F.prototype.readUintBE=F.prototype.readUIntBE=function(ne,se,Ae){ne=ne>>>0,se=se>>>0,Ae||Me(ne,se,this.length);let _e=this[ne+--se],Be=1;for(;se>0&&(Be*=256);)_e+=this[ne+--se]*Be;return _e},F.prototype.readUint8=F.prototype.readUInt8=function(ne,se){return ne=ne>>>0,se||Me(ne,1,this.length),this[ne]},F.prototype.readUint16LE=F.prototype.readUInt16LE=function(ne,se){return ne=ne>>>0,se||Me(ne,2,this.length),this[ne]|this[ne+1]<<8},F.prototype.readUint16BE=F.prototype.readUInt16BE=function(ne,se){return ne=ne>>>0,se||Me(ne,2,this.length),this[ne]<<8|this[ne+1]},F.prototype.readUint32LE=F.prototype.readUInt32LE=function(ne,se){return ne=ne>>>0,se||Me(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+this[ne+3]*16777216},F.prototype.readUint32BE=F.prototype.readUInt32BE=function(ne,se){return ne=ne>>>0,se||Me(ne,4,this.length),this[ne]*16777216+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},F.prototype.readBigUInt64LE=ke(function(ne){ne=ne>>>0,Q(ne,"offset");const se=this[ne],Ae=this[ne+7];(se===void 0||Ae===void 0)&&ae(ne,this.length-8);const _e=se+this[++ne]*2**8+this[++ne]*2**16+this[++ne]*2**24,Be=this[++ne]+this[++ne]*2**8+this[++ne]*2**16+Ae*2**24;return BigInt(_e)+(BigInt(Be)<<BigInt(32))}),F.prototype.readBigUInt64BE=ke(function(ne){ne=ne>>>0,Q(ne,"offset");const se=this[ne],Ae=this[ne+7];(se===void 0||Ae===void 0)&&ae(ne,this.length-8);const _e=se*2**24+this[++ne]*2**16+this[++ne]*2**8+this[++ne],Be=this[++ne]*2**24+this[++ne]*2**16+this[++ne]*2**8+Ae;return(BigInt(_e)<<BigInt(32))+BigInt(Be)}),F.prototype.readIntLE=function(ne,se,Ae){ne=ne>>>0,se=se>>>0,Ae||Me(ne,se,this.length);let _e=this[ne],Be=1,He=0;for(;++He<se&&(Be*=256);)_e+=this[ne+He]*Be;return Be*=128,_e>=Be&&(_e-=Math.pow(2,8*se)),_e},F.prototype.readIntBE=function(ne,se,Ae){ne=ne>>>0,se=se>>>0,Ae||Me(ne,se,this.length);let _e=se,Be=1,He=this[ne+--_e];for(;_e>0&&(Be*=256);)He+=this[ne+--_e]*Be;return Be*=128,He>=Be&&(He-=Math.pow(2,8*se)),He},F.prototype.readInt8=function(ne,se){return ne=ne>>>0,se||Me(ne,1,this.length),this[ne]&128?(255-this[ne]+1)*-1:this[ne]},F.prototype.readInt16LE=function(ne,se){ne=ne>>>0,se||Me(ne,2,this.length);const Ae=this[ne]|this[ne+1]<<8;return Ae&32768?Ae|4294901760:Ae},F.prototype.readInt16BE=function(ne,se){ne=ne>>>0,se||Me(ne,2,this.length);const Ae=this[ne+1]|this[ne]<<8;return Ae&32768?Ae|4294901760:Ae},F.prototype.readInt32LE=function(ne,se){return ne=ne>>>0,se||Me(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},F.prototype.readInt32BE=function(ne,se){return ne=ne>>>0,se||Me(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},F.prototype.readBigInt64LE=ke(function(ne){ne=ne>>>0,Q(ne,"offset");const se=this[ne],Ae=this[ne+7];(se===void 0||Ae===void 0)&&ae(ne,this.length-8);const _e=this[ne+4]+this[ne+5]*2**8+this[ne+6]*2**16+(Ae<<24);return(BigInt(_e)<<BigInt(32))+BigInt(se+this[++ne]*2**8+this[++ne]*2**16+this[++ne]*2**24)}),F.prototype.readBigInt64BE=ke(function(ne){ne=ne>>>0,Q(ne,"offset");const se=this[ne],Ae=this[ne+7];(se===void 0||Ae===void 0)&&ae(ne,this.length-8);const _e=(se<<24)+this[++ne]*2**16+this[++ne]*2**8+this[++ne];return(BigInt(_e)<<BigInt(32))+BigInt(this[++ne]*2**24+this[++ne]*2**16+this[++ne]*2**8+Ae)}),F.prototype.readFloatLE=function(ne,se){return ne=ne>>>0,se||Me(ne,4,this.length),x.read(this,ne,!0,23,4)},F.prototype.readFloatBE=function(ne,se){return ne=ne>>>0,se||Me(ne,4,this.length),x.read(this,ne,!1,23,4)},F.prototype.readDoubleLE=function(ne,se){return ne=ne>>>0,se||Me(ne,8,this.length),x.read(this,ne,!0,52,8)},F.prototype.readDoubleBE=function(ne,se){return ne=ne>>>0,se||Me(ne,8,this.length),x.read(this,ne,!1,52,8)};function Ie(ue,ne,se,Ae,_e,Be){if(!F.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>_e||ne<Be)throw new RangeError('"value" argument is out of bounds');if(se+Ae>ue.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(ne,se,Ae,_e){if(ne=+ne,se=se>>>0,Ae=Ae>>>0,!_e){const Ue=Math.pow(2,8*Ae)-1;Ie(this,ne,se,Ae,Ue,0)}let Be=1,He=0;for(this[se]=ne&255;++He<Ae&&(Be*=256);)this[se+He]=ne/Be&255;return se+Ae},F.prototype.writeUintBE=F.prototype.writeUIntBE=function(ne,se,Ae,_e){if(ne=+ne,se=se>>>0,Ae=Ae>>>0,!_e){const Ue=Math.pow(2,8*Ae)-1;Ie(this,ne,se,Ae,Ue,0)}let Be=Ae-1,He=1;for(this[se+Be]=ne&255;--Be>=0&&(He*=256);)this[se+Be]=ne/He&255;return se+Ae},F.prototype.writeUint8=F.prototype.writeUInt8=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,1,255,0),this[se]=ne&255,se+1},F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,2,65535,0),this[se]=ne&255,this[se+1]=ne>>>8,se+2},F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,2,65535,0),this[se]=ne>>>8,this[se+1]=ne&255,se+2},F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,4,4294967295,0),this[se+3]=ne>>>24,this[se+2]=ne>>>16,this[se+1]=ne>>>8,this[se]=ne&255,se+4},F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,4,4294967295,0),this[se]=ne>>>24,this[se+1]=ne>>>16,this[se+2]=ne>>>8,this[se+3]=ne&255,se+4};function Ve(ue,ne,se,Ae,_e){K(ne,Ae,_e,ue,se,7);let Be=Number(ne&BigInt(4294967295));ue[se++]=Be,Be=Be>>8,ue[se++]=Be,Be=Be>>8,ue[se++]=Be,Be=Be>>8,ue[se++]=Be;let He=Number(ne>>BigInt(32)&BigInt(4294967295));return ue[se++]=He,He=He>>8,ue[se++]=He,He=He>>8,ue[se++]=He,He=He>>8,ue[se++]=He,se}function De(ue,ne,se,Ae,_e){K(ne,Ae,_e,ue,se,7);let Be=Number(ne&BigInt(4294967295));ue[se+7]=Be,Be=Be>>8,ue[se+6]=Be,Be=Be>>8,ue[se+5]=Be,Be=Be>>8,ue[se+4]=Be;let He=Number(ne>>BigInt(32)&BigInt(4294967295));return ue[se+3]=He,He=He>>8,ue[se+2]=He,He=He>>8,ue[se+1]=He,He=He>>8,ue[se]=He,se+8}F.prototype.writeBigUInt64LE=ke(function(ne,se=0){return Ve(this,ne,se,BigInt(0),BigInt("0xffffffffffffffff"))}),F.prototype.writeBigUInt64BE=ke(function(ne,se=0){return De(this,ne,se,BigInt(0),BigInt("0xffffffffffffffff"))}),F.prototype.writeIntLE=function(ne,se,Ae,_e){if(ne=+ne,se=se>>>0,!_e){const ze=Math.pow(2,8*Ae-1);Ie(this,ne,se,Ae,ze-1,-ze)}let Be=0,He=1,Ue=0;for(this[se]=ne&255;++Be<Ae&&(He*=256);)ne<0&&Ue===0&&this[se+Be-1]!==0&&(Ue=1),this[se+Be]=(ne/He>>0)-Ue&255;return se+Ae},F.prototype.writeIntBE=function(ne,se,Ae,_e){if(ne=+ne,se=se>>>0,!_e){const ze=Math.pow(2,8*Ae-1);Ie(this,ne,se,Ae,ze-1,-ze)}let Be=Ae-1,He=1,Ue=0;for(this[se+Be]=ne&255;--Be>=0&&(He*=256);)ne<0&&Ue===0&&this[se+Be+1]!==0&&(Ue=1),this[se+Be]=(ne/He>>0)-Ue&255;return se+Ae},F.prototype.writeInt8=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,1,127,-128),ne<0&&(ne=255+ne+1),this[se]=ne&255,se+1},F.prototype.writeInt16LE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,2,32767,-32768),this[se]=ne&255,this[se+1]=ne>>>8,se+2},F.prototype.writeInt16BE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,2,32767,-32768),this[se]=ne>>>8,this[se+1]=ne&255,se+2},F.prototype.writeInt32LE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,4,2147483647,-2147483648),this[se]=ne&255,this[se+1]=ne>>>8,this[se+2]=ne>>>16,this[se+3]=ne>>>24,se+4},F.prototype.writeInt32BE=function(ne,se,Ae){return ne=+ne,se=se>>>0,Ae||Ie(this,ne,se,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[se]=ne>>>24,this[se+1]=ne>>>16,this[se+2]=ne>>>8,this[se+3]=ne&255,se+4},F.prototype.writeBigInt64LE=ke(function(ne,se=0){return Ve(this,ne,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),F.prototype.writeBigInt64BE=ke(function(ne,se=0){return De(this,ne,se,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe(ue,ne,se,Ae,_e,Be){if(se+Ae>ue.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function Ce(ue,ne,se,Ae,_e){return ne=+ne,se=se>>>0,_e||Pe(ue,ne,se,4),x.write(ue,ne,se,Ae,23,4),se+4}F.prototype.writeFloatLE=function(ne,se,Ae){return Ce(this,ne,se,!0,Ae)},F.prototype.writeFloatBE=function(ne,se,Ae){return Ce(this,ne,se,!1,Ae)};function te(ue,ne,se,Ae,_e){return ne=+ne,se=se>>>0,_e||Pe(ue,ne,se,8),x.write(ue,ne,se,Ae,52,8),se+8}F.prototype.writeDoubleLE=function(ne,se,Ae){return te(this,ne,se,!0,Ae)},F.prototype.writeDoubleBE=function(ne,se,Ae){return te(this,ne,se,!1,Ae)},F.prototype.copy=function(ne,se,Ae,_e){if(!F.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(Ae||(Ae=0),!_e&&_e!==0&&(_e=this.length),se>=ne.length&&(se=ne.length),se||(se=0),_e>0&&_e<Ae&&(_e=Ae),_e===Ae||ne.length===0||this.length===0)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(Ae<0||Ae>=this.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),ne.length-se<_e-Ae&&(_e=ne.length-se+Ae);const Be=_e-Ae;return this===ne&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(se,Ae,_e):Uint8Array.prototype.set.call(ne,this.subarray(Ae,_e),se),Be},F.prototype.fill=function(ne,se,Ae,_e){if(typeof ne=="string"){if(typeof se=="string"?(_e=se,se=0,Ae=this.length):typeof Ae=="string"&&(_e=Ae,Ae=this.length),_e!==void 0&&typeof _e!="string")throw new TypeError("encoding must be a string");if(typeof _e=="string"&&!F.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);if(ne.length===1){const He=ne.charCodeAt(0);(_e==="utf8"&&He<128||_e==="latin1")&&(ne=He)}}else typeof ne=="number"?ne=ne&255:typeof ne=="boolean"&&(ne=Number(ne));if(se<0||this.length<se||this.length<Ae)throw new RangeError("Out of range index");if(Ae<=se)return this;se=se>>>0,Ae=Ae===void 0?this.length:Ae>>>0,ne||(ne=0);let Be;if(typeof ne=="number")for(Be=se;Be<Ae;++Be)this[Be]=ne;else{const He=F.isBuffer(ne)?ne:F.from(ne,_e),Ue=He.length;if(Ue===0)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for(Be=0;Be<Ae-se;++Be)this[Be+se]=He[Be%Ue]}return this};const re={};function W(ue,ne,se){re[ue]=class extends se{constructor(){super(),Object.defineProperty(this,"message",{value:ne.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ue}]`,this.stack,delete this.name}get code(){return ue}set code(_e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_e,writable:!0})}toString(){return`${this.name} [${ue}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?`${ue} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(ue,ne){return`The "${ue}" argument must be of type number. Received type ${typeof ne}`},TypeError),W("ERR_OUT_OF_RANGE",function(ue,ne,se){let Ae=`The value of "${ue}" is out of range.`,_e=se;return Number.isInteger(se)&&Math.abs(se)>2**32?_e=$(String(se)):typeof se=="bigint"&&(_e=String(se),(se>BigInt(2)**BigInt(32)||se<-(BigInt(2)**BigInt(32)))&&(_e=$(_e)),_e+="n"),Ae+=` It must be ${ne}. Received ${_e}`,Ae},RangeError);function $(ue){let ne="",se=ue.length;const Ae=ue[0]==="-"?1:0;for(;se>=Ae+4;se-=3)ne=`_${ue.slice(se-3,se)}${ne}`;return`${ue.slice(0,se)}${ne}`}function Z(ue,ne,se){Q(ne,"offset"),(ue[ne]===void 0||ue[ne+se]===void 0)&&ae(ne,ue.length-(se+1))}function K(ue,ne,se,Ae,_e,Be){if(ue>se||ue<ne){const He=typeof ne=="bigint"?"n":"";let Ue;throw Be>3?ne===0||ne===BigInt(0)?Ue=`>= 0${He} and < 2${He} ** ${(Be+1)*8}${He}`:Ue=`>= -(2${He} ** ${(Be+1)*8-1}${He}) and < 2 ** ${(Be+1)*8-1}${He}`:Ue=`>= ${ne}${He} and <= ${se}${He}`,new re.ERR_OUT_OF_RANGE("value",Ue,ue)}Z(Ae,_e,Be)}function Q(ue,ne){if(typeof ue!="number")throw new re.ERR_INVALID_ARG_TYPE(ne,"number",ue)}function ae(ue,ne,se){throw Math.floor(ue)!==ue?(Q(ue,se),new re.ERR_OUT_OF_RANGE(se||"offset","an integer",ue)):ne<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE(se||"offset",`>= ${se?1:0} and <= ${ne}`,ue)}const ce=/[^+/0-9A-Za-z-_]/g;function le(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(ce,""),ue.length<2)return"";for(;ue.length%4!==0;)ue=ue+"=";return ue}function ge(ue,ne){ne=ne||1/0;let se;const Ae=ue.length;let _e=null;const Be=[];for(let He=0;He<Ae;++He){if(se=ue.charCodeAt(He),se>55295&&se<57344){if(!_e){if(se>56319){(ne-=3)>-1&&Be.push(239,191,189);continue}else if(He+1===Ae){(ne-=3)>-1&&Be.push(239,191,189);continue}_e=se;continue}if(se<56320){(ne-=3)>-1&&Be.push(239,191,189),_e=se;continue}se=(_e-55296<<10|se-56320)+65536}else _e&&(ne-=3)>-1&&Be.push(239,191,189);if(_e=null,se<128){if((ne-=1)<0)break;Be.push(se)}else if(se<2048){if((ne-=2)<0)break;Be.push(se>>6|192,se&63|128)}else if(se<65536){if((ne-=3)<0)break;Be.push(se>>12|224,se>>6&63|128,se&63|128)}else if(se<1114112){if((ne-=4)<0)break;Be.push(se>>18|240,se>>12&63|128,se>>6&63|128,se&63|128)}else throw new Error("Invalid code point")}return Be}function pe(ue){const ne=[];for(let se=0;se<ue.length;++se)ne.push(ue.charCodeAt(se)&255);return ne}function ye(ue,ne){let se,Ae,_e;const Be=[];for(let He=0;He<ue.length&&!((ne-=2)<0);++He)se=ue.charCodeAt(He),Ae=se>>8,_e=se%256,Be.push(_e),Be.push(Ae);return Be}function ve(ue){return d.toByteArray(le(ue))}function be(ue,ne,se,Ae){let _e;for(_e=0;_e<Ae&&!(_e+se>=ne.length||_e>=ue.length);++_e)ne[_e+se]=ue[_e];return _e}function me(ue,ne){return ue instanceof ne||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===ne.name}function Fe(ue){return ue!==ue}const Re=function(){const ue="0123456789abcdef",ne=new Array(256);for(let se=0;se<16;++se){const Ae=se*16;for(let _e=0;_e<16;++_e)ne[Ae+_e]=ue[se]+ue[_e]}return ne}();function ke(ue){return typeof BigInt>"u"?je:ue}function je(){throw new Error("BigInt not supported")}})(buffer);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(g,d){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var S in b)b.hasOwnProperty(S)&&(x[S]=b[S])},extendStatics(g,d)};function __extends(g,d){extendStatics(g,d);function x(){this.constructor=g}g.prototype=d===null?Object.create(d):(x.prototype=d.prototype,new x)}var __assign=function(){return __assign=Object.assign||function(d){for(var x,b=1,S=arguments.length;b<S;b++){x=arguments[b];for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(d[w]=x[w])}return d},__assign.apply(this,arguments)};function __rest(g,d){var x={};for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&d.indexOf(b)<0&&(x[b]=g[b]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,b=Object.getOwnPropertySymbols(g);S<b.length;S++)d.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(g,b[S])&&(x[b[S]]=g[b[S]]);return x}function __awaiter(g,d,x,b){function S(w){return w instanceof x?w:new x(function(C){C(w)})}return new(x||(x=Promise))(function(w,C){function F(D){try{k(b.next(D))}catch(M){C(M)}}function E(D){try{k(b.throw(D))}catch(M){C(M)}}function k(D){D.done?w(D.value):S(D.value).then(F,E)}k((b=b.apply(g,d||[])).next())})}function __generator(g,d){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,S,w,C;return C={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function F(k){return function(D){return E([k,D])}}function E(k){if(b)throw new TypeError("Generator is already executing.");for(;x;)try{if(b=1,S&&(w=k[0]&2?S.return:k[0]?S.throw||((w=S.return)&&w.call(S),0):S.next)&&!(w=w.call(S,k[1])).done)return w;switch(S=0,w&&(k=[k[0]&2,w.value]),k[0]){case 0:case 1:w=k;break;case 4:return x.label++,{value:k[1],done:!1};case 5:x.label++,S=k[1],k=[0];continue;case 7:k=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(k[0]===6||k[0]===2)){x=0;continue}if(k[0]===3&&(!w||k[1]>w[0]&&k[1]<w[3])){x.label=k[1];break}if(k[0]===6&&x.label<w[1]){x.label=w[1],w=k;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(k);break}w[2]&&x.ops.pop(),x.trys.pop();continue}k=d.call(g,x)}catch(D){k=[6,D],S=0}finally{b=w=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}function __spreadArrays(){for(var g=0,d=0,x=arguments.length;d<x;d++)g+=arguments[d].length;for(var b=Array(g),S=0,d=0;d<x;d++)for(var w=arguments[d],C=0,F=w.length;C<F;C++,S++)b[S]=w[C];return b}var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=new Uint8Array(256);for(var i$3=0;i$3<chars$1.length;i$3++)lookup$1[chars$1.charCodeAt(i$3)]=i$3;var encodeToBase64=function(g){for(var d="",x=g.length,b=0;b<x;b+=3)d+=chars$1[g[b]>>2],d+=chars$1[(g[b]&3)<<4|g[b+1]>>4],d+=chars$1[(g[b+1]&15)<<2|g[b+2]>>6],d+=chars$1[g[b+2]&63];return x%3===2?d=d.substring(0,d.length-1)+"=":x%3===1&&(d=d.substring(0,d.length-2)+"=="),d},decodeFromBase64$1=function(g){var d=g.length*.75,x=g.length,b,S=0,w,C,F,E;g[g.length-1]==="="&&(d--,g[g.length-2]==="="&&d--);var k=new Uint8Array(d);for(b=0;b<x;b+=4)w=lookup$1[g.charCodeAt(b)],C=lookup$1[g.charCodeAt(b+1)],F=lookup$1[g.charCodeAt(b+2)],E=lookup$1[g.charCodeAt(b+3)],k[S++]=w<<2|C>>4,k[S++]=(C&15)<<4|F>>2,k[S++]=(F&3)<<6|E&63;return k},DATA_URI_PREFIX_REGEX=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,decodeFromBase64DataUri=function(g){var d=g.trim(),x=d.substring(0,100),b=x.match(DATA_URI_PREFIX_REGEX);if(!b)return decodeFromBase64$1(d);var S=b[0],w=d.substring(S.length);return decodeFromBase64$1(w)},toCharCode=function(g){return g.charCodeAt(0)},toCodePoint=function(g){return g.codePointAt(0)},toHexStringOfMinLength=function(g,d){return padStart$1(g.toString(16),d,"0").toUpperCase()},toHexString=function(g){return toHexStringOfMinLength(g,2)},charFromCode=function(g){return String.fromCharCode(g)},charFromHexCode=function(g){return charFromCode(parseInt(g,16))},padStart$1=function(g,d,x){for(var b="",S=0,w=d-g.length;S<w;S++)b+=x;return b+g},copyStringIntoBuffer=function(g,d,x){for(var b=g.length,S=0;S<b;S++)d[x++]=g.charCodeAt(S);return b},escapeRegExp=function(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cleanText=function(g){return g.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},escapedNewlineChars=["\\n","\\f","\\r","\\u000B"],isNewlineChar=function(g){return/^[\n\f\r\u000B]$/.test(g)},lineSplit=function(g){return g.split(/[\n\f\r\u000B]/)},mergeLines=function(g){return g.replace(/[\n\f\r\u000B]/g," ")},charAtIndex=function(g,d){var x=g.charCodeAt(d),b,S=d+1,w=1;return x>=55296&&x<=56319&&g.length>S&&(b=g.charCodeAt(S),b>=56320&&b<=57343&&(w=2)),[g.slice(d,d+w),w]},charSplit=function(g){for(var d=[],x=0,b=g.length;x<b;){var S=charAtIndex(g,x),w=S[0],C=S[1];d.push(w),x+=C}return d},buildWordBreakRegex=function(g){for(var d=escapedNewlineChars.join("|"),x=["$"],b=0,S=g.length;b<S;b++){var w=g[b];if(isNewlineChar(w))throw new TypeError("`wordBreak` must not include "+d);x.push(w===""?".":escapeRegExp(w))}var C=x.join("|");return new RegExp("("+d+")|((.*?)("+C+"))","gm")},breakTextIntoLines=function(g,d,x,b){for(var S=buildWordBreakRegex(d),w=cleanText(g).match(S),C="",F=0,E=[],k=function(){C!==""&&E.push(C),C="",F=0},D=0,M=w.length;D<M;D++){var L=w[D];if(isNewlineChar(L))k();else{var R=b(L);F+R>x&&k(),C+=L,F+=R}}return k(),E},dateRegex=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,parseDate=function(g){var d=g.match(dateRegex);if(d){var x=d[1],b=d[2],S=b===void 0?"01":b,w=d[3],C=w===void 0?"01":w,F=d[4],E=F===void 0?"00":F,k=d[5],D=k===void 0?"00":k,M=d[6],L=M===void 0?"00":M,R=d[7],U=R===void 0?"Z":R,j=d[8],H=j===void 0?"00":j,V=d[9],z=V===void 0?"00":V,G=U==="Z"?"Z":""+U+H+":"+z,X=new Date(x+"-"+S+"-"+C+"T"+E+":"+D+":"+L+G);return X}},findLastMatch=function(g,d){for(var x,b=0,S;b<g.length;){var w=g.substring(b).match(d);if(!w)return{match:S,pos:b};S=w,b+=((x=w.index)!==null&&x!==void 0?x:0)+w[0].length}return{match:S,pos:b}},last$1=function(g){return g[g.length-1]},typedArrayFor=function(g){if(g instanceof Uint8Array)return g;for(var d=g.length,x=new Uint8Array(d),b=0;b<d;b++)x[b]=g.charCodeAt(b);return x},mergeIntoTypedArray=function(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];for(var x=g.length,b=[],S=0;S<x;S++){var w=g[S];b[S]=w instanceof Uint8Array?w:typedArrayFor(w)}for(var C=0,S=0;S<x;S++)C+=g[S].length;for(var F=new Uint8Array(C),E=0,k=0;k<x;k++)for(var D=b[k],M=0,L=D.length;M<L;M++)F[E++]=D[M];return F},mergeUint8Arrays=function(g){for(var d=0,x=0,b=g.length;x<b;x++)d+=g[x].length;for(var S=new Uint8Array(d),w=0,x=0,b=g.length;x<b;x++){var C=g[x];S.set(C,w),w+=C.length}return S},arrayAsString=function(g){for(var d="",x=0,b=g.length;x<b;x++)d+=charFromCode(g[x]);return d},byAscendingId=function(g,d){return g.id-d.id},sortedUniq=function(g,d){for(var x=[],b=0,S=g.length;b<S;b++){var w=g[b],C=g[b-1];(b===0||d(w)!==d(C))&&x.push(w)}return x},reverseArray=function(g){for(var d=g.length,x=0,b=Math.floor(d/2);x<b;x++){var S=x,w=d-x-1,C=g[x];g[S]=g[w],g[w]=C}return g},sum=function(g){for(var d=0,x=0,b=g.length;x<b;x++)d+=g[x];return d},range=function(g,d){for(var x=new Array(d-g),b=0,S=x.length;b<S;b++)x[b]=g+b;return x},pluckIndices=function(g,d){for(var x=new Array(d.length),b=0,S=d.length;b<S;b++)x[b]=g[d[b]];return x},canBeConvertedToUint8Array=function(g){return g instanceof Uint8Array||g instanceof ArrayBuffer||typeof g=="string"},toUint8Array=function(g){if(typeof g=="string")return decodeFromBase64DataUri(g);if(g instanceof ArrayBuffer)return new Uint8Array(g);if(g instanceof Uint8Array)return g;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},waitForTick=function(){return new Promise(function(g){setTimeout(function(){return g()},0)})},utf16Encode=function(g,d){d===void 0&&(d=!0);var x=[];d&&x.push(65279);for(var b=0,S=g.length;b<S;){var w=g.codePointAt(b);if(w<65536)x.push(w),b+=1;else if(w<1114112)x.push(highSurrogate(w),lowSurrogate(w)),b+=2;else throw new Error("Invalid code point: 0x"+toHexString(w))}return new Uint16Array(x)},isWithinBMP=function(g){return g>=0&&g<=65535},hasSurrogates=function(g){return g>=65536&&g<=1114111},highSurrogate=function(g){return Math.floor((g-65536)/1024)+55296},lowSurrogate=function(g){return(g-65536)%1024+56320},ByteOrder;(function(g){g.BigEndian="BigEndian",g.LittleEndian="LittleEndian"})(ByteOrder||(ByteOrder={}));var REPLACEMENT="".codePointAt(0),utf16Decode=function(g,d){if(d===void 0&&(d=!0),g.length<=1)return String.fromCodePoint(REPLACEMENT);for(var x=d?readBOM(g):ByteOrder.BigEndian,b=d?2:0,S=[];g.length-b>=2;){var w=decodeValues(g[b++],g[b++],x);if(isHighSurrogate(w))if(g.length-b<2)S.push(REPLACEMENT);else{var C=decodeValues(g[b++],g[b++],x);isLowSurrogate(C)?S.push(w,C):S.push(REPLACEMENT)}else isLowSurrogate(w)?(b+=2,S.push(REPLACEMENT)):S.push(w)}return b<g.length&&S.push(REPLACEMENT),String.fromCodePoint.apply(String,S)},isHighSurrogate=function(g){return g>=55296&&g<=56319},isLowSurrogate=function(g){return g>=56320&&g<=57343},decodeValues=function(g,d,x){if(x===ByteOrder.LittleEndian)return d<<8|g;if(x===ByteOrder.BigEndian)return g<<8|d;throw new Error("Invalid byteOrder: "+x)},readBOM=function(g){return hasUtf16BigEndianBOM(g)?ByteOrder.BigEndian:hasUtf16LittleEndianBOM(g)?ByteOrder.LittleEndian:ByteOrder.BigEndian},hasUtf16BigEndianBOM=function(g){return g[0]===254&&g[1]===255},hasUtf16LittleEndianBOM=function(g){return g[0]===255&&g[1]===254},hasUtf16BOM=function(g){return hasUtf16BigEndianBOM(g)||hasUtf16LittleEndianBOM(g)},numberToString=function(g){var d=String(g);if(Math.abs(g)<1){var x=parseInt(g.toString().split("e-")[1]);if(x){var b=g<0;b&&(g*=-1),g*=Math.pow(10,x-1),d="0."+new Array(x).join("0")+g.toString().substring(2),b&&(d="-"+d)}}else{var x=parseInt(g.toString().split("+")[1]);x>20&&(x-=20,g/=Math.pow(10,x),d=g.toString()+new Array(x+1).join("0"))}return d},sizeInBytes=function(g){return Math.ceil(g.toString(2).length/8)},bytesFor=function(g){for(var d=new Uint8Array(sizeInBytes(g)),x=1;x<=d.length;x++)d[x-1]=g>>(d.length-x)*8;return d},error=function(g){throw new Error(g)},common={};(function(g){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function x(w,C){return Object.prototype.hasOwnProperty.call(w,C)}g.assign=function(w){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var F=C.shift();if(F){if(typeof F!="object")throw new TypeError(F+"must be non-object");for(var E in F)x(F,E)&&(w[E]=F[E])}}return w},g.shrinkBuf=function(w,C){return w.length===C?w:w.subarray?w.subarray(0,C):(w.length=C,w)};var b={arraySet:function(w,C,F,E,k){if(C.subarray&&w.subarray){w.set(C.subarray(F,F+E),k);return}for(var D=0;D<E;D++)w[k+D]=C[F+D]},flattenChunks:function(w){var C,F,E,k,D,M;for(E=0,C=0,F=w.length;C<F;C++)E+=w[C].length;for(M=new Uint8Array(E),k=0,C=0,F=w.length;C<F;C++)D=w[C],M.set(D,k),k+=D.length;return M}},S={arraySet:function(w,C,F,E,k){for(var D=0;D<E;D++)w[k+D]=C[F+D]},flattenChunks:function(w){return[].concat.apply([],w)}};g.setTyped=function(w){w?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,b)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,S))},g.setTyped(d)})(common);var deflate$4={},deflate$3={},trees$1={},utils$6=common,Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(g){for(var d=g.length;--d>=0;)g[d]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);var static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);var _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);var base_length=new Array(LENGTH_CODES$1);zero$1(base_length);var base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(g,d,x,b,S){this.static_tree=g,this.extra_bits=d,this.extra_base=x,this.elems=b,this.max_length=S,this.has_stree=g&&g.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(g,d){this.dyn_tree=g,this.max_code=0,this.stat_desc=d}function d_code(g){return g<256?_dist_code[g]:_dist_code[256+(g>>>7)]}function put_short(g,d){g.pending_buf[g.pending++]=d&255,g.pending_buf[g.pending++]=d>>>8&255}function send_bits(g,d,x){g.bi_valid>Buf_size-x?(g.bi_buf|=d<<g.bi_valid&65535,put_short(g,g.bi_buf),g.bi_buf=d>>Buf_size-g.bi_valid,g.bi_valid+=x-Buf_size):(g.bi_buf|=d<<g.bi_valid&65535,g.bi_valid+=x)}function send_code(g,d,x){send_bits(g,x[d*2],x[d*2+1])}function bi_reverse(g,d){var x=0;do x|=g&1,g>>>=1,x<<=1;while(--d>0);return x>>>1}function bi_flush(g){g.bi_valid===16?(put_short(g,g.bi_buf),g.bi_buf=0,g.bi_valid=0):g.bi_valid>=8&&(g.pending_buf[g.pending++]=g.bi_buf&255,g.bi_buf>>=8,g.bi_valid-=8)}function gen_bitlen(g,d){var x=d.dyn_tree,b=d.max_code,S=d.stat_desc.static_tree,w=d.stat_desc.has_stree,C=d.stat_desc.extra_bits,F=d.stat_desc.extra_base,E=d.stat_desc.max_length,k,D,M,L,R,U,j=0;for(L=0;L<=MAX_BITS$1;L++)g.bl_count[L]=0;for(x[g.heap[g.heap_max]*2+1]=0,k=g.heap_max+1;k<HEAP_SIZE$1;k++)D=g.heap[k],L=x[x[D*2+1]*2+1]+1,L>E&&(L=E,j++),x[D*2+1]=L,!(D>b)&&(g.bl_count[L]++,R=0,D>=F&&(R=C[D-F]),U=x[D*2],g.opt_len+=U*(L+R),w&&(g.static_len+=U*(S[D*2+1]+R)));if(j!==0){do{for(L=E-1;g.bl_count[L]===0;)L--;g.bl_count[L]--,g.bl_count[L+1]+=2,g.bl_count[E]--,j-=2}while(j>0);for(L=E;L!==0;L--)for(D=g.bl_count[L];D!==0;)M=g.heap[--k],!(M>b)&&(x[M*2+1]!==L&&(g.opt_len+=(L-x[M*2+1])*x[M*2],x[M*2+1]=L),D--)}}function gen_codes(g,d,x){var b=new Array(MAX_BITS$1+1),S=0,w,C;for(w=1;w<=MAX_BITS$1;w++)b[w]=S=S+x[w-1]<<1;for(C=0;C<=d;C++){var F=g[C*2+1];F!==0&&(g[C*2]=bi_reverse(b[F]++,F))}}function tr_static_init(){var g,d,x,b,S,w=new Array(MAX_BITS$1+1);for(x=0,b=0;b<LENGTH_CODES$1-1;b++)for(base_length[b]=x,g=0;g<1<<extra_lbits[b];g++)_length_code[x++]=b;for(_length_code[x-1]=b,S=0,b=0;b<16;b++)for(base_dist[b]=S,g=0;g<1<<extra_dbits[b];g++)_dist_code[S++]=b;for(S>>=7;b<D_CODES$1;b++)for(base_dist[b]=S<<7,g=0;g<1<<extra_dbits[b]-7;g++)_dist_code[256+S++]=b;for(d=0;d<=MAX_BITS$1;d++)w[d]=0;for(g=0;g<=143;)static_ltree[g*2+1]=8,g++,w[8]++;for(;g<=255;)static_ltree[g*2+1]=9,g++,w[9]++;for(;g<=279;)static_ltree[g*2+1]=7,g++,w[7]++;for(;g<=287;)static_ltree[g*2+1]=8,g++,w[8]++;for(gen_codes(static_ltree,L_CODES$1+1,w),g=0;g<D_CODES$1;g++)static_dtree[g*2+1]=5,static_dtree[g*2]=bi_reverse(g,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)}function init_block(g){var d;for(d=0;d<L_CODES$1;d++)g.dyn_ltree[d*2]=0;for(d=0;d<D_CODES$1;d++)g.dyn_dtree[d*2]=0;for(d=0;d<BL_CODES$1;d++)g.bl_tree[d*2]=0;g.dyn_ltree[END_BLOCK*2]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0}function bi_windup(g){g.bi_valid>8?put_short(g,g.bi_buf):g.bi_valid>0&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0}function copy_block(g,d,x,b){bi_windup(g),b&&(put_short(g,x),put_short(g,~x)),utils$6.arraySet(g.pending_buf,g.window,d,x,g.pending),g.pending+=x}function smaller(g,d,x,b){var S=d*2,w=x*2;return g[S]<g[w]||g[S]===g[w]&&b[d]<=b[x]}function pqdownheap(g,d,x){for(var b=g.heap[x],S=x<<1;S<=g.heap_len&&(S<g.heap_len&&smaller(d,g.heap[S+1],g.heap[S],g.depth)&&S++,!smaller(d,b,g.heap[S],g.depth));)g.heap[x]=g.heap[S],x=S,S<<=1;g.heap[x]=b}function compress_block(g,d,x){var b,S,w=0,C,F;if(g.last_lit!==0)do b=g.pending_buf[g.d_buf+w*2]<<8|g.pending_buf[g.d_buf+w*2+1],S=g.pending_buf[g.l_buf+w],w++,b===0?send_code(g,S,d):(C=_length_code[S],send_code(g,C+LITERALS$1+1,d),F=extra_lbits[C],F!==0&&(S-=base_length[C],send_bits(g,S,F)),b--,C=d_code(b),send_code(g,C,x),F=extra_dbits[C],F!==0&&(b-=base_dist[C],send_bits(g,b,F)));while(w<g.last_lit);send_code(g,END_BLOCK,d)}function build_tree(g,d){var x=d.dyn_tree,b=d.stat_desc.static_tree,S=d.stat_desc.has_stree,w=d.stat_desc.elems,C,F,E=-1,k;for(g.heap_len=0,g.heap_max=HEAP_SIZE$1,C=0;C<w;C++)x[C*2]!==0?(g.heap[++g.heap_len]=E=C,g.depth[C]=0):x[C*2+1]=0;for(;g.heap_len<2;)k=g.heap[++g.heap_len]=E<2?++E:0,x[k*2]=1,g.depth[k]=0,g.opt_len--,S&&(g.static_len-=b[k*2+1]);for(d.max_code=E,C=g.heap_len>>1;C>=1;C--)pqdownheap(g,x,C);k=w;do C=g.heap[1],g.heap[1]=g.heap[g.heap_len--],pqdownheap(g,x,1),F=g.heap[1],g.heap[--g.heap_max]=C,g.heap[--g.heap_max]=F,x[k*2]=x[C*2]+x[F*2],g.depth[k]=(g.depth[C]>=g.depth[F]?g.depth[C]:g.depth[F])+1,x[C*2+1]=x[F*2+1]=k,g.heap[1]=k++,pqdownheap(g,x,1);while(g.heap_len>=2);g.heap[--g.heap_max]=g.heap[1],gen_bitlen(g,d),gen_codes(x,E,g.bl_count)}function scan_tree(g,d,x){var b,S=-1,w,C=d[0*2+1],F=0,E=7,k=4;for(C===0&&(E=138,k=3),d[(x+1)*2+1]=65535,b=0;b<=x;b++)w=C,C=d[(b+1)*2+1],!(++F<E&&w===C)&&(F<k?g.bl_tree[w*2]+=F:w!==0?(w!==S&&g.bl_tree[w*2]++,g.bl_tree[REP_3_6*2]++):F<=10?g.bl_tree[REPZ_3_10*2]++:g.bl_tree[REPZ_11_138*2]++,F=0,S=w,C===0?(E=138,k=3):w===C?(E=6,k=3):(E=7,k=4))}function send_tree(g,d,x){var b,S=-1,w,C=d[0*2+1],F=0,E=7,k=4;for(C===0&&(E=138,k=3),b=0;b<=x;b++)if(w=C,C=d[(b+1)*2+1],!(++F<E&&w===C)){if(F<k)do send_code(g,w,g.bl_tree);while(--F!==0);else w!==0?(w!==S&&(send_code(g,w,g.bl_tree),F--),send_code(g,REP_3_6,g.bl_tree),send_bits(g,F-3,2)):F<=10?(send_code(g,REPZ_3_10,g.bl_tree),send_bits(g,F-3,3)):(send_code(g,REPZ_11_138,g.bl_tree),send_bits(g,F-11,7));F=0,S=w,C===0?(E=138,k=3):w===C?(E=6,k=3):(E=7,k=4)}}function build_bl_tree(g){var d;for(scan_tree(g,g.dyn_ltree,g.l_desc.max_code),scan_tree(g,g.dyn_dtree,g.d_desc.max_code),build_tree(g,g.bl_desc),d=BL_CODES$1-1;d>=3&&g.bl_tree[bl_order[d]*2+1]===0;d--);return g.opt_len+=3*(d+1)+5+5+4,d}function send_all_trees(g,d,x,b){var S;for(send_bits(g,d-257,5),send_bits(g,x-1,5),send_bits(g,b-4,4),S=0;S<b;S++)send_bits(g,g.bl_tree[bl_order[S]*2+1],3);send_tree(g,g.dyn_ltree,d-1),send_tree(g,g.dyn_dtree,x-1)}function detect_data_type(g){var d=4093624447,x;for(x=0;x<=31;x++,d>>>=1)if(d&1&&g.dyn_ltree[x*2]!==0)return Z_BINARY;if(g.dyn_ltree[9*2]!==0||g.dyn_ltree[10*2]!==0||g.dyn_ltree[13*2]!==0)return Z_TEXT;for(x=32;x<LITERALS$1;x++)if(g.dyn_ltree[x*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(g){static_init_done||(tr_static_init(),static_init_done=!0),g.l_desc=new TreeDesc(g.dyn_ltree,static_l_desc),g.d_desc=new TreeDesc(g.dyn_dtree,static_d_desc),g.bl_desc=new TreeDesc(g.bl_tree,static_bl_desc),g.bi_buf=0,g.bi_valid=0,init_block(g)}function _tr_stored_block(g,d,x,b){send_bits(g,(STORED_BLOCK<<1)+(b?1:0),3),copy_block(g,d,x,!0)}function _tr_align(g){send_bits(g,STATIC_TREES<<1,3),send_code(g,END_BLOCK,static_ltree),bi_flush(g)}function _tr_flush_block(g,d,x,b){var S,w,C=0;g.level>0?(g.strm.data_type===Z_UNKNOWN$1&&(g.strm.data_type=detect_data_type(g)),build_tree(g,g.l_desc),build_tree(g,g.d_desc),C=build_bl_tree(g),S=g.opt_len+3+7>>>3,w=g.static_len+3+7>>>3,w<=S&&(S=w)):S=w=x+5,x+4<=S&&d!==-1?_tr_stored_block(g,d,x,b):g.strategy===Z_FIXED$1||w===S?(send_bits(g,(STATIC_TREES<<1)+(b?1:0),3),compress_block(g,static_ltree,static_dtree)):(send_bits(g,(DYN_TREES<<1)+(b?1:0),3),send_all_trees(g,g.l_desc.max_code+1,g.d_desc.max_code+1,C+1),compress_block(g,g.dyn_ltree,g.dyn_dtree)),init_block(g),b&&bi_windup(g)}function _tr_tally(g,d,x){return g.pending_buf[g.d_buf+g.last_lit*2]=d>>>8&255,g.pending_buf[g.d_buf+g.last_lit*2+1]=d&255,g.pending_buf[g.l_buf+g.last_lit]=x&255,g.last_lit++,d===0?g.dyn_ltree[x*2]++:(g.matches++,d--,g.dyn_ltree[(_length_code[x]+LITERALS$1+1)*2]++,g.dyn_dtree[d_code(d)*2]++),g.last_lit===g.lit_bufsize-1}trees$1._tr_init=_tr_init;trees$1._tr_stored_block=_tr_stored_block;trees$1._tr_flush_block=_tr_flush_block;trees$1._tr_tally=_tr_tally;trees$1._tr_align=_tr_align;function adler32$2(g,d,x,b){for(var S=g&65535|0,w=g>>>16&65535|0,C=0;x!==0;){C=x>2e3?2e3:x,x-=C;do S=S+d[b++]|0,w=w+S|0;while(--C);S%=65521,w%=65521}return S|w<<16|0}var adler32_1=adler32$2;function makeTable(){for(var g,d=[],x=0;x<256;x++){g=x;for(var b=0;b<8;b++)g=g&1?3988292384^g>>>1:g>>>1;d[x]=g}return d}var crcTable=makeTable();function crc32$2(g,d,x,b){var S=crcTable,w=b+x;g^=-1;for(var C=b;C<w;C++)g=g>>>8^S[(g^d[C])&255];return g^-1}var crc32_1=crc32$2,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},utils$5=common,trees=trees$1,adler32$1=adler32_1,crc32$1=crc32_1,msg$2=messages,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$2=4,Z_BLOCK$1=5,Z_OK$2=0,Z_STREAM_END$2=1,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5,Z_DEFAULT_COMPRESSION$1=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY$1=0,Z_UNKNOWN=2,Z_DEFLATED$2=8,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(g,d){return g.msg=msg$2[d],d}function rank(g){return(g<<1)-(g>4?9:0)}function zero(g){for(var d=g.length;--d>=0;)g[d]=0}function flush_pending(g){var d=g.state,x=d.pending;x>g.avail_out&&(x=g.avail_out),x!==0&&(utils$5.arraySet(g.output,d.pending_buf,d.pending_out,x,g.next_out),g.next_out+=x,d.pending_out+=x,g.total_out+=x,g.avail_out-=x,d.pending-=x,d.pending===0&&(d.pending_out=0))}function flush_block_only(g,d){trees._tr_flush_block(g,g.block_start>=0?g.block_start:-1,g.strstart-g.block_start,d),g.block_start=g.strstart,flush_pending(g.strm)}function put_byte(g,d){g.pending_buf[g.pending++]=d}function putShortMSB(g,d){g.pending_buf[g.pending++]=d>>>8&255,g.pending_buf[g.pending++]=d&255}function read_buf(g,d,x,b){var S=g.avail_in;return S>b&&(S=b),S===0?0:(g.avail_in-=S,utils$5.arraySet(d,g.input,g.next_in,S,x),g.state.wrap===1?g.adler=adler32$1(g.adler,d,S,x):g.state.wrap===2&&(g.adler=crc32$1(g.adler,d,S,x)),g.next_in+=S,g.total_in+=S,S)}function longest_match(g,d){var x=g.max_chain_length,b=g.strstart,S,w,C=g.prev_length,F=g.nice_match,E=g.strstart>g.w_size-MIN_LOOKAHEAD?g.strstart-(g.w_size-MIN_LOOKAHEAD):0,k=g.window,D=g.w_mask,M=g.prev,L=g.strstart+MAX_MATCH,R=k[b+C-1],U=k[b+C];g.prev_length>=g.good_match&&(x>>=2),F>g.lookahead&&(F=g.lookahead);do if(S=d,!(k[S+C]!==U||k[S+C-1]!==R||k[S]!==k[b]||k[++S]!==k[b+1])){b+=2,S++;do;while(k[++b]===k[++S]&&k[++b]===k[++S]&&k[++b]===k[++S]&&k[++b]===k[++S]&&k[++b]===k[++S]&&k[++b]===k[++S]&&k[++b]===k[++S]&&k[++b]===k[++S]&&b<L);if(w=MAX_MATCH-(L-b),b=L-MAX_MATCH,w>C){if(g.match_start=d,C=w,w>=F)break;R=k[b+C-1],U=k[b+C]}}while((d=M[d&D])>E&&--x!==0);return C<=g.lookahead?C:g.lookahead}function fill_window(g){var d=g.w_size,x,b,S,w,C;do{if(w=g.window_size-g.lookahead-g.strstart,g.strstart>=d+(d-MIN_LOOKAHEAD)){utils$5.arraySet(g.window,g.window,d,d,0),g.match_start-=d,g.strstart-=d,g.block_start-=d,b=g.hash_size,x=b;do S=g.head[--x],g.head[x]=S>=d?S-d:0;while(--b);b=d,x=b;do S=g.prev[--x],g.prev[x]=S>=d?S-d:0;while(--b);w+=d}if(g.strm.avail_in===0)break;if(b=read_buf(g.strm,g.window,g.strstart+g.lookahead,w),g.lookahead+=b,g.lookahead+g.insert>=MIN_MATCH)for(C=g.strstart-g.insert,g.ins_h=g.window[C],g.ins_h=(g.ins_h<<g.hash_shift^g.window[C+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[C+MIN_MATCH-1])&g.hash_mask,g.prev[C&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=C,C++,g.insert--,!(g.lookahead+g.insert<MIN_MATCH)););}while(g.lookahead<MIN_LOOKAHEAD&&g.strm.avail_in!==0)}function deflate_stored(g,d){var x=65535;for(x>g.pending_buf_size-5&&(x=g.pending_buf_size-5);;){if(g.lookahead<=1){if(fill_window(g),g.lookahead===0&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var b=g.block_start+x;if((g.strstart===0||g.strstart>=b)&&(g.lookahead=g.strstart-b,g.strstart=b,flush_block_only(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-MIN_LOOKAHEAD&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=0,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(g.strstart>g.block_start&&(flush_block_only(g,!1),g.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(g,d){for(var x,b;;){if(g.lookahead<MIN_LOOKAHEAD){if(fill_window(g),g.lookahead<MIN_LOOKAHEAD&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}if(x=0,g.lookahead>=MIN_MATCH&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),x!==0&&g.strstart-x<=g.w_size-MIN_LOOKAHEAD&&(g.match_length=longest_match(g,x)),g.match_length>=MIN_MATCH)if(b=trees._tr_tally(g,g.strstart-g.match_start,g.match_length-MIN_MATCH),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=MIN_MATCH){g.match_length--;do g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart;while(--g.match_length!==0);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else b=trees._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(b&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=g.strstart<MIN_MATCH-1?g.strstart:MIN_MATCH-1,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(g,d){for(var x,b,S;;){if(g.lookahead<MIN_LOOKAHEAD){if(fill_window(g),g.lookahead<MIN_LOOKAHEAD&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}if(x=0,g.lookahead>=MIN_MATCH&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=MIN_MATCH-1,x!==0&&g.prev_length<g.max_lazy_match&&g.strstart-x<=g.w_size-MIN_LOOKAHEAD&&(g.match_length=longest_match(g,x),g.match_length<=5&&(g.strategy===Z_FILTERED||g.match_length===MIN_MATCH&&g.strstart-g.match_start>4096)&&(g.match_length=MIN_MATCH-1)),g.prev_length>=MIN_MATCH&&g.match_length<=g.prev_length){S=g.strstart+g.lookahead-MIN_MATCH,b=trees._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-MIN_MATCH),g.lookahead-=g.prev_length-1,g.prev_length-=2;do++g.strstart<=S&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+MIN_MATCH-1])&g.hash_mask,x=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart);while(--g.prev_length!==0);if(g.match_available=0,g.match_length=MIN_MATCH-1,g.strstart++,b&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}else if(g.match_available){if(b=trees._tr_tally(g,0,g.window[g.strstart-1]),b&&flush_block_only(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return BS_NEED_MORE}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(b=trees._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<MIN_MATCH-1?g.strstart:MIN_MATCH-1,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(g,d){for(var x,b,S,w,C=g.window;;){if(g.lookahead<=MAX_MATCH){if(fill_window(g),g.lookahead<=MAX_MATCH&&d===Z_NO_FLUSH$1)return BS_NEED_MORE;if(g.lookahead===0)break}if(g.match_length=0,g.lookahead>=MIN_MATCH&&g.strstart>0&&(S=g.strstart-1,b=C[S],b===C[++S]&&b===C[++S]&&b===C[++S])){w=g.strstart+MAX_MATCH;do;while(b===C[++S]&&b===C[++S]&&b===C[++S]&&b===C[++S]&&b===C[++S]&&b===C[++S]&&b===C[++S]&&b===C[++S]&&S<w);g.match_length=MAX_MATCH-(w-S),g.match_length>g.lookahead&&(g.match_length=g.lookahead)}if(g.match_length>=MIN_MATCH?(x=trees._tr_tally(g,1,g.match_length-MIN_MATCH),g.lookahead-=g.match_length,g.strstart+=g.match_length,g.match_length=0):(x=trees._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++),x&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=0,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(g,d){for(var x;;){if(g.lookahead===0&&(fill_window(g),g.lookahead===0)){if(d===Z_NO_FLUSH$1)return BS_NEED_MORE;break}if(g.match_length=0,x=trees._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++,x&&(flush_block_only(g,!1),g.strm.avail_out===0))return BS_NEED_MORE}return g.insert=0,d===Z_FINISH$2?(flush_block_only(g,!0),g.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):g.last_lit&&(flush_block_only(g,!1),g.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(g,d,x,b,S){this.good_length=g,this.max_lazy=d,this.nice_length=x,this.max_chain=b,this.func=S}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(g){g.window_size=2*g.w_size,zero(g.head),g.max_lazy_match=configuration_table[g.level].max_lazy,g.good_match=configuration_table[g.level].good_length,g.nice_match=configuration_table[g.level].nice_length,g.max_chain_length=configuration_table[g.level].max_chain,g.strstart=0,g.block_start=0,g.lookahead=0,g.insert=0,g.match_length=g.prev_length=MIN_MATCH-1,g.match_available=0,g.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils$5.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils$5.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils$5.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils$5.Buf16(MAX_BITS+1),this.heap=new utils$5.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils$5.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(g){var d;return!g||!g.state?err(g,Z_STREAM_ERROR$1):(g.total_in=g.total_out=0,g.data_type=Z_UNKNOWN,d=g.state,d.pending=0,d.pending_out=0,d.wrap<0&&(d.wrap=-d.wrap),d.status=d.wrap?INIT_STATE:BUSY_STATE,g.adler=d.wrap===2?0:1,d.last_flush=Z_NO_FLUSH$1,trees._tr_init(d),Z_OK$2)}function deflateReset(g){var d=deflateResetKeep(g);return d===Z_OK$2&&lm_init(g.state),d}function deflateSetHeader(g,d){return!g||!g.state||g.state.wrap!==2?Z_STREAM_ERROR$1:(g.state.gzhead=d,Z_OK$2)}function deflateInit2(g,d,x,b,S,w){if(!g)return Z_STREAM_ERROR$1;var C=1;if(d===Z_DEFAULT_COMPRESSION$1&&(d=6),b<0?(C=0,b=-b):b>15&&(C=2,b-=16),S<1||S>MAX_MEM_LEVEL||x!==Z_DEFLATED$2||b<8||b>15||d<0||d>9||w<0||w>Z_FIXED)return err(g,Z_STREAM_ERROR$1);b===8&&(b=9);var F=new DeflateState;return g.state=F,F.strm=g,F.wrap=C,F.gzhead=null,F.w_bits=b,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=S+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+MIN_MATCH-1)/MIN_MATCH),F.window=new utils$5.Buf8(F.w_size*2),F.head=new utils$5.Buf16(F.hash_size),F.prev=new utils$5.Buf16(F.w_size),F.lit_bufsize=1<<S+6,F.pending_buf_size=F.lit_bufsize*4,F.pending_buf=new utils$5.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=d,F.strategy=w,F.method=x,deflateReset(g)}function deflateInit(g,d){return deflateInit2(g,d,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1)}function deflate$2(g,d){var x,b,S,w;if(!g||!g.state||d>Z_BLOCK$1||d<0)return g?err(g,Z_STREAM_ERROR$1):Z_STREAM_ERROR$1;if(b=g.state,!g.output||!g.input&&g.avail_in!==0||b.status===FINISH_STATE&&d!==Z_FINISH$2)return err(g,g.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$1);if(b.strm=g,x=b.last_flush,b.last_flush=d,b.status===INIT_STATE)if(b.wrap===2)g.adler=0,put_byte(b,31),put_byte(b,139),put_byte(b,8),b.gzhead?(put_byte(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),put_byte(b,b.gzhead.time&255),put_byte(b,b.gzhead.time>>8&255),put_byte(b,b.gzhead.time>>16&255),put_byte(b,b.gzhead.time>>24&255),put_byte(b,b.level===9?2:b.strategy>=Z_HUFFMAN_ONLY||b.level<2?4:0),put_byte(b,b.gzhead.os&255),b.gzhead.extra&&b.gzhead.extra.length&&(put_byte(b,b.gzhead.extra.length&255),put_byte(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=EXTRA_STATE):(put_byte(b,0),put_byte(b,0),put_byte(b,0),put_byte(b,0),put_byte(b,0),put_byte(b,b.level===9?2:b.strategy>=Z_HUFFMAN_ONLY||b.level<2?4:0),put_byte(b,OS_CODE),b.status=BUSY_STATE);else{var C=Z_DEFLATED$2+(b.w_bits-8<<4)<<8,F=-1;b.strategy>=Z_HUFFMAN_ONLY||b.level<2?F=0:b.level<6?F=1:b.level===6?F=2:F=3,C|=F<<6,b.strstart!==0&&(C|=PRESET_DICT),C+=31-C%31,b.status=BUSY_STATE,putShortMSB(b,C),b.strstart!==0&&(putShortMSB(b,g.adler>>>16),putShortMSB(b,g.adler&65535)),g.adler=1}if(b.status===EXTRA_STATE)if(b.gzhead.extra){for(S=b.pending;b.gzindex<(b.gzhead.extra.length&65535)&&!(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>S&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-S,S)),flush_pending(g),S=b.pending,b.pending===b.pending_buf_size));)put_byte(b,b.gzhead.extra[b.gzindex]&255),b.gzindex++;b.gzhead.hcrc&&b.pending>S&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-S,S)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=NAME_STATE)}else b.status=NAME_STATE;if(b.status===NAME_STATE)if(b.gzhead.name){S=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>S&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-S,S)),flush_pending(g),S=b.pending,b.pending===b.pending_buf_size)){w=1;break}b.gzindex<b.gzhead.name.length?w=b.gzhead.name.charCodeAt(b.gzindex++)&255:w=0,put_byte(b,w)}while(w!==0);b.gzhead.hcrc&&b.pending>S&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-S,S)),w===0&&(b.gzindex=0,b.status=COMMENT_STATE)}else b.status=COMMENT_STATE;if(b.status===COMMENT_STATE)if(b.gzhead.comment){S=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>S&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-S,S)),flush_pending(g),S=b.pending,b.pending===b.pending_buf_size)){w=1;break}b.gzindex<b.gzhead.comment.length?w=b.gzhead.comment.charCodeAt(b.gzindex++)&255:w=0,put_byte(b,w)}while(w!==0);b.gzhead.hcrc&&b.pending>S&&(g.adler=crc32$1(g.adler,b.pending_buf,b.pending-S,S)),w===0&&(b.status=HCRC_STATE)}else b.status=HCRC_STATE;if(b.status===HCRC_STATE&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&flush_pending(g),b.pending+2<=b.pending_buf_size&&(put_byte(b,g.adler&255),put_byte(b,g.adler>>8&255),g.adler=0,b.status=BUSY_STATE)):b.status=BUSY_STATE),b.pending!==0){if(flush_pending(g),g.avail_out===0)return b.last_flush=-1,Z_OK$2}else if(g.avail_in===0&&rank(d)<=rank(x)&&d!==Z_FINISH$2)return err(g,Z_BUF_ERROR$1);if(b.status===FINISH_STATE&&g.avail_in!==0)return err(g,Z_BUF_ERROR$1);if(g.avail_in!==0||b.lookahead!==0||d!==Z_NO_FLUSH$1&&b.status!==FINISH_STATE){var E=b.strategy===Z_HUFFMAN_ONLY?deflate_huff(b,d):b.strategy===Z_RLE?deflate_rle(b,d):configuration_table[b.level].func(b,d);if((E===BS_FINISH_STARTED||E===BS_FINISH_DONE)&&(b.status=FINISH_STATE),E===BS_NEED_MORE||E===BS_FINISH_STARTED)return g.avail_out===0&&(b.last_flush=-1),Z_OK$2;if(E===BS_BLOCK_DONE&&(d===Z_PARTIAL_FLUSH?trees._tr_align(b):d!==Z_BLOCK$1&&(trees._tr_stored_block(b,0,0,!1),d===Z_FULL_FLUSH&&(zero(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),flush_pending(g),g.avail_out===0))return b.last_flush=-1,Z_OK$2}return d!==Z_FINISH$2?Z_OK$2:b.wrap<=0?Z_STREAM_END$2:(b.wrap===2?(put_byte(b,g.adler&255),put_byte(b,g.adler>>8&255),put_byte(b,g.adler>>16&255),put_byte(b,g.adler>>24&255),put_byte(b,g.total_in&255),put_byte(b,g.total_in>>8&255),put_byte(b,g.total_in>>16&255),put_byte(b,g.total_in>>24&255)):(putShortMSB(b,g.adler>>>16),putShortMSB(b,g.adler&65535)),flush_pending(g),b.wrap>0&&(b.wrap=-b.wrap),b.pending!==0?Z_OK$2:Z_STREAM_END$2)}function deflateEnd(g){var d;return!g||!g.state?Z_STREAM_ERROR$1:(d=g.state.status,d!==INIT_STATE&&d!==EXTRA_STATE&&d!==NAME_STATE&&d!==COMMENT_STATE&&d!==HCRC_STATE&&d!==BUSY_STATE&&d!==FINISH_STATE?err(g,Z_STREAM_ERROR$1):(g.state=null,d===BUSY_STATE?err(g,Z_DATA_ERROR$1):Z_OK$2))}function deflateSetDictionary(g,d){var x=d.length,b,S,w,C,F,E,k,D;if(!g||!g.state||(b=g.state,C=b.wrap,C===2||C===1&&b.status!==INIT_STATE||b.lookahead))return Z_STREAM_ERROR$1;for(C===1&&(g.adler=adler32$1(g.adler,d,x,0)),b.wrap=0,x>=b.w_size&&(C===0&&(zero(b.head),b.strstart=0,b.block_start=0,b.insert=0),D=new utils$5.Buf8(b.w_size),utils$5.arraySet(D,d,x-b.w_size,b.w_size,0),d=D,x=b.w_size),F=g.avail_in,E=g.next_in,k=g.input,g.avail_in=x,g.next_in=0,g.input=d,fill_window(b);b.lookahead>=MIN_MATCH;){S=b.strstart,w=b.lookahead-(MIN_MATCH-1);do b.ins_h=(b.ins_h<<b.hash_shift^b.window[S+MIN_MATCH-1])&b.hash_mask,b.prev[S&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=S,S++;while(--w);b.strstart=S,b.lookahead=MIN_MATCH-1,fill_window(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=MIN_MATCH-1,b.match_available=0,g.next_in=E,g.input=k,g.avail_in=F,b.wrap=C,Z_OK$2}deflate$3.deflateInit=deflateInit;deflate$3.deflateInit2=deflateInit2;deflate$3.deflateReset=deflateReset;deflate$3.deflateResetKeep=deflateResetKeep;deflate$3.deflateSetHeader=deflateSetHeader;deflate$3.deflate=deflate$2;deflate$3.deflateEnd=deflateEnd;deflate$3.deflateSetDictionary=deflateSetDictionary;deflate$3.deflateInfo="pako deflate (from Nodeca project)";var strings$2={},utils$4=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch{STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}var _utf8len=new utils$4.Buf8(256);for(var q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;_utf8len[254]=_utf8len[254]=1;strings$2.string2buf=function(g){var d,x,b,S,w,C=g.length,F=0;for(S=0;S<C;S++)x=g.charCodeAt(S),(x&64512)===55296&&S+1<C&&(b=g.charCodeAt(S+1),(b&64512)===56320&&(x=65536+(x-55296<<10)+(b-56320),S++)),F+=x<128?1:x<2048?2:x<65536?3:4;for(d=new utils$4.Buf8(F),w=0,S=0;w<F;S++)x=g.charCodeAt(S),(x&64512)===55296&&S+1<C&&(b=g.charCodeAt(S+1),(b&64512)===56320&&(x=65536+(x-55296<<10)+(b-56320),S++)),x<128?d[w++]=x:x<2048?(d[w++]=192|x>>>6,d[w++]=128|x&63):x<65536?(d[w++]=224|x>>>12,d[w++]=128|x>>>6&63,d[w++]=128|x&63):(d[w++]=240|x>>>18,d[w++]=128|x>>>12&63,d[w++]=128|x>>>6&63,d[w++]=128|x&63);return d};function buf2binstring(g,d){if(d<65534&&(g.subarray&&STR_APPLY_UIA_OK||!g.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$4.shrinkBuf(g,d));for(var x="",b=0;b<d;b++)x+=String.fromCharCode(g[b]);return x}strings$2.buf2binstring=function(g){return buf2binstring(g,g.length)};strings$2.binstring2buf=function(g){for(var d=new utils$4.Buf8(g.length),x=0,b=d.length;x<b;x++)d[x]=g.charCodeAt(x);return d};strings$2.buf2string=function(g,d){var x,b,S,w,C=d||g.length,F=new Array(C*2);for(b=0,x=0;x<C;){if(S=g[x++],S<128){F[b++]=S;continue}if(w=_utf8len[S],w>4){F[b++]=65533,x+=w-1;continue}for(S&=w===2?31:w===3?15:7;w>1&&x<C;)S=S<<6|g[x++]&63,w--;if(w>1){F[b++]=65533;continue}S<65536?F[b++]=S:(S-=65536,F[b++]=55296|S>>10&1023,F[b++]=56320|S&1023)}return buf2binstring(F,b)};strings$2.utf8border=function(g,d){var x;for(d=d||g.length,d>g.length&&(d=g.length),x=d-1;x>=0&&(g[x]&192)===128;)x--;return x<0||x===0?d:x+_utf8len[g[x]]>d?x:d};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2,zlib_deflate=deflate$3,utils$3=common,strings$1=strings$2,msg$1=messages,ZStream$1=zstream,toString$1=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED$1=8;function Deflate(g){if(!(this instanceof Deflate))return new Deflate(g);this.options=utils$3.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},g||{});var d=this.options;d.raw&&d.windowBits>0?d.windowBits=-d.windowBits:d.gzip&&d.windowBits>0&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream$1,this.strm.avail_out=0;var x=zlib_deflate.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(x!==Z_OK$1)throw new Error(msg$1[x]);if(d.header&&zlib_deflate.deflateSetHeader(this.strm,d.header),d.dictionary){var b;if(typeof d.dictionary=="string"?b=strings$1.string2buf(d.dictionary):toString$1.call(d.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(d.dictionary):b=d.dictionary,x=zlib_deflate.deflateSetDictionary(this.strm,b),x!==Z_OK$1)throw new Error(msg$1[x]);this._dict_set=!0}}Deflate.prototype.push=function(g,d){var x=this.strm,b=this.options.chunkSize,S,w;if(this.ended)return!1;w=d===~~d?d:d===!0?Z_FINISH$1:Z_NO_FLUSH,typeof g=="string"?x.input=strings$1.string2buf(g):toString$1.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new utils$3.Buf8(b),x.next_out=0,x.avail_out=b),S=zlib_deflate.deflate(x,w),S!==Z_STREAM_END$1&&S!==Z_OK$1)return this.onEnd(S),this.ended=!0,!1;(x.avail_out===0||x.avail_in===0&&(w===Z_FINISH$1||w===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings$1.buf2binstring(utils$3.shrinkBuf(x.output,x.next_out))):this.onData(utils$3.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&S!==Z_STREAM_END$1);return w===Z_FINISH$1?(S=zlib_deflate.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===Z_OK$1):(w===Z_SYNC_FLUSH&&(this.onEnd(Z_OK$1),x.avail_out=0),!0)};Deflate.prototype.onData=function(g){this.chunks.push(g)};Deflate.prototype.onEnd=function(g){g===Z_OK$1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils$3.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function deflate$1(g,d){var x=new Deflate(d);if(x.push(g,!0),x.err)throw x.msg||msg$1[x.err];return x.result}function deflateRaw(g,d){return d=d||{},d.raw=!0,deflate$1(g,d)}function gzip(g,d){return d=d||{},d.gzip=!0,deflate$1(g,d)}deflate$4.Deflate=Deflate;deflate$4.deflate=deflate$1;deflate$4.deflateRaw=deflateRaw;deflate$4.gzip=gzip;var inflate$4={},inflate$3={},BAD$1=30,TYPE$1=12,inffast=function(d,x){var b,S,w,C,F,E,k,D,M,L,R,U,j,H,V,z,G,X,Y,J,ee,ie,oe,he,fe;b=d.state,S=d.next_in,he=d.input,w=S+(d.avail_in-5),C=d.next_out,fe=d.output,F=C-(x-d.avail_out),E=C+(d.avail_out-257),k=b.dmax,D=b.wsize,M=b.whave,L=b.wnext,R=b.window,U=b.hold,j=b.bits,H=b.lencode,V=b.distcode,z=(1<<b.lenbits)-1,G=(1<<b.distbits)-1;e:do{j<15&&(U+=he[S++]<<j,j+=8,U+=he[S++]<<j,j+=8),X=H[U&z];t:for(;;){if(Y=X>>>24,U>>>=Y,j-=Y,Y=X>>>16&255,Y===0)fe[C++]=X&65535;else if(Y&16){J=X&65535,Y&=15,Y&&(j<Y&&(U+=he[S++]<<j,j+=8),J+=U&(1<<Y)-1,U>>>=Y,j-=Y),j<15&&(U+=he[S++]<<j,j+=8,U+=he[S++]<<j,j+=8),X=V[U&G];n:for(;;){if(Y=X>>>24,U>>>=Y,j-=Y,Y=X>>>16&255,Y&16){if(ee=X&65535,Y&=15,j<Y&&(U+=he[S++]<<j,j+=8,j<Y&&(U+=he[S++]<<j,j+=8)),ee+=U&(1<<Y)-1,ee>k){d.msg="invalid distance too far back",b.mode=BAD$1;break e}if(U>>>=Y,j-=Y,Y=C-F,ee>Y){if(Y=ee-Y,Y>M&&b.sane){d.msg="invalid distance too far back",b.mode=BAD$1;break e}if(ie=0,oe=R,L===0){if(ie+=D-Y,Y<J){J-=Y;do fe[C++]=R[ie++];while(--Y);ie=C-ee,oe=fe}}else if(L<Y){if(ie+=D+L-Y,Y-=L,Y<J){J-=Y;do fe[C++]=R[ie++];while(--Y);if(ie=0,L<J){Y=L,J-=Y;do fe[C++]=R[ie++];while(--Y);ie=C-ee,oe=fe}}}else if(ie+=L-Y,Y<J){J-=Y;do fe[C++]=R[ie++];while(--Y);ie=C-ee,oe=fe}for(;J>2;)fe[C++]=oe[ie++],fe[C++]=oe[ie++],fe[C++]=oe[ie++],J-=3;J&&(fe[C++]=oe[ie++],J>1&&(fe[C++]=oe[ie++]))}else{ie=C-ee;do fe[C++]=fe[ie++],fe[C++]=fe[ie++],fe[C++]=fe[ie++],J-=3;while(J>2);J&&(fe[C++]=fe[ie++],J>1&&(fe[C++]=fe[ie++]))}}else if(Y&64){d.msg="invalid distance code",b.mode=BAD$1;break e}else{X=V[(X&65535)+(U&(1<<Y)-1)];continue n}break}}else if(Y&64)if(Y&32){b.mode=TYPE$1;break e}else{d.msg="invalid literal/length code",b.mode=BAD$1;break e}else{X=H[(X&65535)+(U&(1<<Y)-1)];continue t}break}}while(S<w&&C<E);J=j>>3,S-=J,j-=J<<3,U&=(1<<j)-1,d.next_in=S,d.next_out=C,d.avail_in=S<w?5+(w-S):5-(S-w),d.avail_out=C<E?257+(E-C):257-(C-E),b.hold=U,b.bits=j},utils$2=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(d,x,b,S,w,C,F,E){var k=E.bits,D=0,M=0,L=0,R=0,U=0,j=0,H=0,V=0,z=0,G=0,X,Y,J,ee,ie,oe=null,he=0,fe,Se=new utils$2.Buf16(MAXBITS+1),we=new utils$2.Buf16(MAXBITS+1),Ee=null,de=0,xe,Te,Oe;for(D=0;D<=MAXBITS;D++)Se[D]=0;for(M=0;M<S;M++)Se[x[b+M]]++;for(U=k,R=MAXBITS;R>=1&&Se[R]===0;R--);if(U>R&&(U=R),R===0)return w[C++]=1<<24|64<<16|0,w[C++]=1<<24|64<<16|0,E.bits=1,0;for(L=1;L<R&&Se[L]===0;L++);for(U<L&&(U=L),V=1,D=1;D<=MAXBITS;D++)if(V<<=1,V-=Se[D],V<0)return-1;if(V>0&&(d===CODES$1||R!==1))return-1;for(we[1]=0,D=1;D<MAXBITS;D++)we[D+1]=we[D]+Se[D];for(M=0;M<S;M++)x[b+M]!==0&&(F[we[x[b+M]]++]=M);if(d===CODES$1?(oe=Ee=F,fe=19):d===LENS$1?(oe=lbase,he-=257,Ee=lext,de-=257,fe=256):(oe=dbase,Ee=dext,fe=-1),G=0,M=0,D=L,ie=C,j=U,H=0,J=-1,z=1<<U,ee=z-1,d===LENS$1&&z>ENOUGH_LENS$1||d===DISTS$1&&z>ENOUGH_DISTS$1)return 1;for(;;){xe=D-H,F[M]<fe?(Te=0,Oe=F[M]):F[M]>fe?(Te=Ee[de+F[M]],Oe=oe[he+F[M]]):(Te=96,Oe=0),X=1<<D-H,Y=1<<j,L=Y;do Y-=X,w[ie+(G>>H)+Y]=xe<<24|Te<<16|Oe|0;while(Y!==0);for(X=1<<D-1;G&X;)X>>=1;if(X!==0?(G&=X-1,G+=X):G=0,M++,--Se[D]===0){if(D===R)break;D=x[b+F[M]]}if(D>U&&(G&ee)!==J){for(H===0&&(H=U),ie+=L,j=D-H,V=1<<j;j+H<R&&(V-=Se[j+H],!(V<=0));)j++,V<<=1;if(z+=1<<j,d===LENS$1&&z>ENOUGH_LENS$1||d===DISTS$1&&z>ENOUGH_DISTS$1)return 1;J=G&ee,w[J]=U<<24|j<<16|ie-C|0}}return G!==0&&(w[ie+G]=D-H<<24|64<<16|0),E.bits=U,0},utils$1=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(g){return(g>>>24&255)+(g>>>8&65280)+((g&65280)<<8)+((g&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$1.Buf16(320),this.work=new utils$1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(g){var d;return!g||!g.state?Z_STREAM_ERROR:(d=g.state,g.total_in=g.total_out=d.total=0,g.msg="",d.wrap&&(g.adler=d.wrap&1),d.mode=HEAD,d.last=0,d.havedict=0,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,d.lencode=d.lendyn=new utils$1.Buf32(ENOUGH_LENS),d.distcode=d.distdyn=new utils$1.Buf32(ENOUGH_DISTS),d.sane=1,d.back=-1,Z_OK)}function inflateReset(g){var d;return!g||!g.state?Z_STREAM_ERROR:(d=g.state,d.wsize=0,d.whave=0,d.wnext=0,inflateResetKeep(g))}function inflateReset2(g,d){var x,b;return!g||!g.state||(b=g.state,d<0?(x=0,d=-d):(x=(d>>4)+1,d<48&&(d&=15)),d&&(d<8||d>15))?Z_STREAM_ERROR:(b.window!==null&&b.wbits!==d&&(b.window=null),b.wrap=x,b.wbits=d,inflateReset(g))}function inflateInit2(g,d){var x,b;return g?(b=new InflateState,g.state=b,b.window=null,x=inflateReset2(g,d),x!==Z_OK&&(g.state=null),x):Z_STREAM_ERROR}function inflateInit(g){return inflateInit2(g,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(g){if(virgin){var d;for(lenfix=new utils$1.Buf32(512),distfix=new utils$1.Buf32(32),d=0;d<144;)g.lens[d++]=8;for(;d<256;)g.lens[d++]=9;for(;d<280;)g.lens[d++]=7;for(;d<288;)g.lens[d++]=8;for(inflate_table(LENS,g.lens,0,288,lenfix,0,g.work,{bits:9}),d=0;d<32;)g.lens[d++]=5;inflate_table(DISTS,g.lens,0,32,distfix,0,g.work,{bits:5}),virgin=!1}g.lencode=lenfix,g.lenbits=9,g.distcode=distfix,g.distbits=5}function updatewindow(g,d,x,b){var S,w=g.state;return w.window===null&&(w.wsize=1<<w.wbits,w.wnext=0,w.whave=0,w.window=new utils$1.Buf8(w.wsize)),b>=w.wsize?(utils$1.arraySet(w.window,d,x-w.wsize,w.wsize,0),w.wnext=0,w.whave=w.wsize):(S=w.wsize-w.wnext,S>b&&(S=b),utils$1.arraySet(w.window,d,x-b,S,w.wnext),b-=S,b?(utils$1.arraySet(w.window,d,x-b,b,0),w.wnext=b,w.whave=w.wsize):(w.wnext+=S,w.wnext===w.wsize&&(w.wnext=0),w.whave<w.wsize&&(w.whave+=S))),0}function inflate$2(g,d){var x,b,S,w,C,F,E,k,D,M,L,R,U,j,H=0,V,z,G,X,Y,J,ee,ie,oe=new utils$1.Buf8(4),he,fe,Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return Z_STREAM_ERROR;x=g.state,x.mode===TYPE&&(x.mode=TYPEDO),C=g.next_out,S=g.output,E=g.avail_out,w=g.next_in,b=g.input,F=g.avail_in,k=x.hold,D=x.bits,M=F,L=E,ie=Z_OK;e:for(;;)switch(x.mode){case HEAD:if(x.wrap===0){x.mode=TYPEDO;break}for(;D<16;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(x.wrap&2&&k===35615){x.check=0,oe[0]=k&255,oe[1]=k>>>8&255,x.check=crc32(x.check,oe,2,0),k=0,D=0,x.mode=FLAGS;break}if(x.flags=0,x.head&&(x.head.done=!1),!(x.wrap&1)||(((k&255)<<8)+(k>>8))%31){g.msg="incorrect header check",x.mode=BAD;break}if((k&15)!==Z_DEFLATED){g.msg="unknown compression method",x.mode=BAD;break}if(k>>>=4,D-=4,ee=(k&15)+8,x.wbits===0)x.wbits=ee;else if(ee>x.wbits){g.msg="invalid window size",x.mode=BAD;break}x.dmax=1<<ee,g.adler=x.check=1,x.mode=k&512?DICTID:TYPE,k=0,D=0;break;case FLAGS:for(;D<16;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(x.flags=k,(x.flags&255)!==Z_DEFLATED){g.msg="unknown compression method",x.mode=BAD;break}if(x.flags&57344){g.msg="unknown header flags set",x.mode=BAD;break}x.head&&(x.head.text=k>>8&1),x.flags&512&&(oe[0]=k&255,oe[1]=k>>>8&255,x.check=crc32(x.check,oe,2,0)),k=0,D=0,x.mode=TIME;case TIME:for(;D<32;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}x.head&&(x.head.time=k),x.flags&512&&(oe[0]=k&255,oe[1]=k>>>8&255,oe[2]=k>>>16&255,oe[3]=k>>>24&255,x.check=crc32(x.check,oe,4,0)),k=0,D=0,x.mode=OS;case OS:for(;D<16;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}x.head&&(x.head.xflags=k&255,x.head.os=k>>8),x.flags&512&&(oe[0]=k&255,oe[1]=k>>>8&255,x.check=crc32(x.check,oe,2,0)),k=0,D=0,x.mode=EXLEN;case EXLEN:if(x.flags&1024){for(;D<16;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}x.length=k,x.head&&(x.head.extra_len=k),x.flags&512&&(oe[0]=k&255,oe[1]=k>>>8&255,x.check=crc32(x.check,oe,2,0)),k=0,D=0}else x.head&&(x.head.extra=null);x.mode=EXTRA;case EXTRA:if(x.flags&1024&&(R=x.length,R>F&&(R=F),R&&(x.head&&(ee=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),utils$1.arraySet(x.head.extra,b,w,R,ee)),x.flags&512&&(x.check=crc32(x.check,b,R,w)),F-=R,w+=R,x.length-=R),x.length))break e;x.length=0,x.mode=NAME;case NAME:if(x.flags&2048){if(F===0)break e;R=0;do ee=b[w+R++],x.head&&ee&&x.length<65536&&(x.head.name+=String.fromCharCode(ee));while(ee&&R<F);if(x.flags&512&&(x.check=crc32(x.check,b,R,w)),F-=R,w+=R,ee)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=COMMENT;case COMMENT:if(x.flags&4096){if(F===0)break e;R=0;do ee=b[w+R++],x.head&&ee&&x.length<65536&&(x.head.comment+=String.fromCharCode(ee));while(ee&&R<F);if(x.flags&512&&(x.check=crc32(x.check,b,R,w)),F-=R,w+=R,ee)break e}else x.head&&(x.head.comment=null);x.mode=HCRC;case HCRC:if(x.flags&512){for(;D<16;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(k!==(x.check&65535)){g.msg="header crc mismatch",x.mode=BAD;break}k=0,D=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),g.adler=x.check=0,x.mode=TYPE;break;case DICTID:for(;D<32;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}g.adler=x.check=zswap32(k),k=0,D=0,x.mode=DICT;case DICT:if(x.havedict===0)return g.next_out=C,g.avail_out=E,g.next_in=w,g.avail_in=F,x.hold=k,x.bits=D,Z_NEED_DICT;g.adler=x.check=1,x.mode=TYPE;case TYPE:if(d===Z_BLOCK||d===Z_TREES)break e;case TYPEDO:if(x.last){k>>>=D&7,D-=D&7,x.mode=CHECK;break}for(;D<3;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}switch(x.last=k&1,k>>>=1,D-=1,k&3){case 0:x.mode=STORED;break;case 1:if(fixedtables(x),x.mode=LEN_,d===Z_TREES){k>>>=2,D-=2;break e}break;case 2:x.mode=TABLE;break;case 3:g.msg="invalid block type",x.mode=BAD}k>>>=2,D-=2;break;case STORED:for(k>>>=D&7,D-=D&7;D<32;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if((k&65535)!==(k>>>16^65535)){g.msg="invalid stored block lengths",x.mode=BAD;break}if(x.length=k&65535,k=0,D=0,x.mode=COPY_,d===Z_TREES)break e;case COPY_:x.mode=COPY;case COPY:if(R=x.length,R){if(R>F&&(R=F),R>E&&(R=E),R===0)break e;utils$1.arraySet(S,b,w,R,C),F-=R,w+=R,E-=R,C+=R,x.length-=R;break}x.mode=TYPE;break;case TABLE:for(;D<14;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(x.nlen=(k&31)+257,k>>>=5,D-=5,x.ndist=(k&31)+1,k>>>=5,D-=5,x.ncode=(k&15)+4,k>>>=4,D-=4,x.nlen>286||x.ndist>30){g.msg="too many length or distance symbols",x.mode=BAD;break}x.have=0,x.mode=LENLENS;case LENLENS:for(;x.have<x.ncode;){for(;D<3;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}x.lens[Se[x.have++]]=k&7,k>>>=3,D-=3}for(;x.have<19;)x.lens[Se[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,he={bits:x.lenbits},ie=inflate_table(CODES,x.lens,0,19,x.lencode,0,x.work,he),x.lenbits=he.bits,ie){g.msg="invalid code lengths set",x.mode=BAD;break}x.have=0,x.mode=CODELENS;case CODELENS:for(;x.have<x.nlen+x.ndist;){for(;H=x.lencode[k&(1<<x.lenbits)-1],V=H>>>24,z=H>>>16&255,G=H&65535,!(V<=D);){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(G<16)k>>>=V,D-=V,x.lens[x.have++]=G;else{if(G===16){for(fe=V+2;D<fe;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(k>>>=V,D-=V,x.have===0){g.msg="invalid bit length repeat",x.mode=BAD;break}ee=x.lens[x.have-1],R=3+(k&3),k>>>=2,D-=2}else if(G===17){for(fe=V+3;D<fe;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}k>>>=V,D-=V,ee=0,R=3+(k&7),k>>>=3,D-=3}else{for(fe=V+7;D<fe;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}k>>>=V,D-=V,ee=0,R=11+(k&127),k>>>=7,D-=7}if(x.have+R>x.nlen+x.ndist){g.msg="invalid bit length repeat",x.mode=BAD;break}for(;R--;)x.lens[x.have++]=ee}}if(x.mode===BAD)break;if(x.lens[256]===0){g.msg="invalid code -- missing end-of-block",x.mode=BAD;break}if(x.lenbits=9,he={bits:x.lenbits},ie=inflate_table(LENS,x.lens,0,x.nlen,x.lencode,0,x.work,he),x.lenbits=he.bits,ie){g.msg="invalid literal/lengths set",x.mode=BAD;break}if(x.distbits=6,x.distcode=x.distdyn,he={bits:x.distbits},ie=inflate_table(DISTS,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,he),x.distbits=he.bits,ie){g.msg="invalid distances set",x.mode=BAD;break}if(x.mode=LEN_,d===Z_TREES)break e;case LEN_:x.mode=LEN;case LEN:if(F>=6&&E>=258){g.next_out=C,g.avail_out=E,g.next_in=w,g.avail_in=F,x.hold=k,x.bits=D,inflate_fast(g,L),C=g.next_out,S=g.output,E=g.avail_out,w=g.next_in,b=g.input,F=g.avail_in,k=x.hold,D=x.bits,x.mode===TYPE&&(x.back=-1);break}for(x.back=0;H=x.lencode[k&(1<<x.lenbits)-1],V=H>>>24,z=H>>>16&255,G=H&65535,!(V<=D);){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(z&&!(z&240)){for(X=V,Y=z,J=G;H=x.lencode[J+((k&(1<<X+Y)-1)>>X)],V=H>>>24,z=H>>>16&255,G=H&65535,!(X+V<=D);){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}k>>>=X,D-=X,x.back+=X}if(k>>>=V,D-=V,x.back+=V,x.length=G,z===0){x.mode=LIT;break}if(z&32){x.back=-1,x.mode=TYPE;break}if(z&64){g.msg="invalid literal/length code",x.mode=BAD;break}x.extra=z&15,x.mode=LENEXT;case LENEXT:if(x.extra){for(fe=x.extra;D<fe;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}x.length+=k&(1<<x.extra)-1,k>>>=x.extra,D-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=DIST;case DIST:for(;H=x.distcode[k&(1<<x.distbits)-1],V=H>>>24,z=H>>>16&255,G=H&65535,!(V<=D);){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(!(z&240)){for(X=V,Y=z,J=G;H=x.distcode[J+((k&(1<<X+Y)-1)>>X)],V=H>>>24,z=H>>>16&255,G=H&65535,!(X+V<=D);){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}k>>>=X,D-=X,x.back+=X}if(k>>>=V,D-=V,x.back+=V,z&64){g.msg="invalid distance code",x.mode=BAD;break}x.offset=G,x.extra=z&15,x.mode=DISTEXT;case DISTEXT:if(x.extra){for(fe=x.extra;D<fe;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}x.offset+=k&(1<<x.extra)-1,k>>>=x.extra,D-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){g.msg="invalid distance too far back",x.mode=BAD;break}x.mode=MATCH;case MATCH:if(E===0)break e;if(R=L-E,x.offset>R){if(R=x.offset-R,R>x.whave&&x.sane){g.msg="invalid distance too far back",x.mode=BAD;break}R>x.wnext?(R-=x.wnext,U=x.wsize-R):U=x.wnext-R,R>x.length&&(R=x.length),j=x.window}else j=S,U=C-x.offset,R=x.length;R>E&&(R=E),E-=R,x.length-=R;do S[C++]=j[U++];while(--R);x.length===0&&(x.mode=LEN);break;case LIT:if(E===0)break e;S[C++]=x.length,E--,x.mode=LEN;break;case CHECK:if(x.wrap){for(;D<32;){if(F===0)break e;F--,k|=b[w++]<<D,D+=8}if(L-=E,g.total_out+=L,x.total+=L,L&&(g.adler=x.check=x.flags?crc32(x.check,S,L,C-L):adler32(x.check,S,L,C-L)),L=E,(x.flags?k:zswap32(k))!==x.check){g.msg="incorrect data check",x.mode=BAD;break}k=0,D=0}x.mode=LENGTH;case LENGTH:if(x.wrap&&x.flags){for(;D<32;){if(F===0)break e;F--,k+=b[w++]<<D,D+=8}if(k!==(x.total&4294967295)){g.msg="incorrect length check",x.mode=BAD;break}k=0,D=0}x.mode=DONE;case DONE:ie=Z_STREAM_END;break e;case BAD:ie=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return g.next_out=C,g.avail_out=E,g.next_in=w,g.avail_in=F,x.hold=k,x.bits=D,(x.wsize||L!==g.avail_out&&x.mode<BAD&&(x.mode<CHECK||d!==Z_FINISH))&&updatewindow(g,g.output,g.next_out,L-g.avail_out),M-=g.avail_in,L-=g.avail_out,g.total_in+=M,g.total_out+=L,x.total+=L,x.wrap&&L&&(g.adler=x.check=x.flags?crc32(x.check,S,L,g.next_out-L):adler32(x.check,S,L,g.next_out-L)),g.data_type=x.bits+(x.last?64:0)+(x.mode===TYPE?128:0)+(x.mode===LEN_||x.mode===COPY_?256:0),(M===0&&L===0||d===Z_FINISH)&&ie===Z_OK&&(ie=Z_BUF_ERROR),ie}function inflateEnd(g){if(!g||!g.state)return Z_STREAM_ERROR;var d=g.state;return d.window&&(d.window=null),g.state=null,Z_OK}function inflateGetHeader(g,d){var x;return!g||!g.state||(x=g.state,!(x.wrap&2))?Z_STREAM_ERROR:(x.head=d,d.done=!1,Z_OK)}function inflateSetDictionary(g,d){var x=d.length,b,S,w;return!g||!g.state||(b=g.state,b.wrap!==0&&b.mode!==DICT)?Z_STREAM_ERROR:b.mode===DICT&&(S=1,S=adler32(S,d,x,0),S!==b.check)?Z_DATA_ERROR:(w=updatewindow(g,d,x,x),w?(b.mode=MEM,Z_MEM_ERROR):(b.havedict=1,Z_OK))}inflate$3.inflateReset=inflateReset;inflate$3.inflateReset2=inflateReset2;inflate$3.inflateResetKeep=inflateResetKeep;inflate$3.inflateInit=inflateInit;inflate$3.inflateInit2=inflateInit2;inflate$3.inflate=inflate$2;inflate$3.inflateEnd=inflateEnd;inflate$3.inflateGetHeader=inflateGetHeader;inflate$3.inflateSetDictionary=inflateSetDictionary;inflate$3.inflateInfo="pako inflate (from Nodeca project)";var constants$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$3,utils=common,strings=strings$2,c$2=constants$1,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(g){if(!(this instanceof Inflate))return new Inflate(g);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},g||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),d.windowBits>=0&&d.windowBits<16&&!(g&&g.windowBits)&&(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(d.windowBits&15||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var x=zlib_inflate.inflateInit2(this.strm,d.windowBits);if(x!==c$2.Z_OK)throw new Error(msg[x]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=strings.string2buf(d.dictionary):toString.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(x=zlib_inflate.inflateSetDictionary(this.strm,d.dictionary),x!==c$2.Z_OK)))throw new Error(msg[x])}Inflate.prototype.push=function(g,d){var x=this.strm,b=this.options.chunkSize,S=this.options.dictionary,w,C,F,E,k,D=!1;if(this.ended)return!1;C=d===~~d?d:d===!0?c$2.Z_FINISH:c$2.Z_NO_FLUSH,typeof g=="string"?x.input=strings.binstring2buf(g):toString.call(g)==="[object ArrayBuffer]"?x.input=new Uint8Array(g):x.input=g,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new utils.Buf8(b),x.next_out=0,x.avail_out=b),w=zlib_inflate.inflate(x,c$2.Z_NO_FLUSH),w===c$2.Z_NEED_DICT&&S&&(w=zlib_inflate.inflateSetDictionary(this.strm,S)),w===c$2.Z_BUF_ERROR&&D===!0&&(w=c$2.Z_OK,D=!1),w!==c$2.Z_STREAM_END&&w!==c$2.Z_OK)return this.onEnd(w),this.ended=!0,!1;x.next_out&&(x.avail_out===0||w===c$2.Z_STREAM_END||x.avail_in===0&&(C===c$2.Z_FINISH||C===c$2.Z_SYNC_FLUSH))&&(this.options.to==="string"?(F=strings.utf8border(x.output,x.next_out),E=x.next_out-F,k=strings.buf2string(x.output,F),x.next_out=E,x.avail_out=b-E,E&&utils.arraySet(x.output,x.output,F,E,0),this.onData(k)):this.onData(utils.shrinkBuf(x.output,x.next_out))),x.avail_in===0&&x.avail_out===0&&(D=!0)}while((x.avail_in>0||x.avail_out===0)&&w!==c$2.Z_STREAM_END);return w===c$2.Z_STREAM_END&&(C=c$2.Z_FINISH),C===c$2.Z_FINISH?(w=zlib_inflate.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c$2.Z_OK):(C===c$2.Z_SYNC_FLUSH&&(this.onEnd(c$2.Z_OK),x.avail_out=0),!0)};Inflate.prototype.onData=function(g){this.chunks.push(g)};Inflate.prototype.onEnd=function(g){g===c$2.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function inflate$1(g,d){var x=new Inflate(d);if(x.push(g,!0),x.err)throw x.msg||msg[x.err];return x.result}function inflateRaw(g,d){return d=d||{},d.raw=!0,inflate$1(g,d)}inflate$4.Inflate=Inflate;inflate$4.inflate=inflate$1;inflate$4.inflateRaw=inflateRaw;inflate$4.ungzip=inflate$1;var assign=common.assign,deflate=deflate$4,inflate=inflate$4,constants=constants$1,pako={};assign(pako,deflate,inflate,constants);var pako_1=pako;const pako$1=getDefaultExportFromCjs(pako_1);var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256);for(var i$2=0;i$2<chars.length;i$2++)lookup[chars.charCodeAt(i$2)]=i$2;var decodeFromBase64=function(g){var d=g.length*.75,x=g.length,b,S=0,w,C,F,E;g[g.length-1]==="="&&(d--,g[g.length-2]==="="&&d--);var k=new Uint8Array(d);for(b=0;b<x;b+=4)w=lookup[g.charCodeAt(b)],C=lookup[g.charCodeAt(b+1)],F=lookup[g.charCodeAt(b+2)],E=lookup[g.charCodeAt(b+3)],k[S++]=w<<2|C>>4,k[S++]=(C&15)<<4|F>>2,k[S++]=(F&3)<<6|E&63;return k},arrayToString=function(g){for(var d="",x=0;x<g.length;x++)d+=String.fromCharCode(g[x]);return d},decompressJson=function(g){return arrayToString(pako$1.inflate(decodeFromBase64(g)))},padStart=function(g,d,x){for(var b="",S=0,w=d-g.length;S<w;S++)b+=x;return b+g};const CourierBoldCompressed="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",CourierBoldObliqueCompressed="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",CourierObliqueCompressed="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",CourierCompressed="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",HelveticaBoldCompressed="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",HelveticaBoldObliqueCompressed="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",HelveticaObliqueCompressed="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",HelveticaCompressed="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",TimesBoldCompressed="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",TimesBoldItalicCompressed="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",TimesItalicCompressed="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",TimesRomanCompressed="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",SymbolCompressed="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",ZapfDingbatsCompressed="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var compressedJsonForFontName={Courier:CourierCompressed,"Courier-Bold":CourierBoldCompressed,"Courier-Oblique":CourierObliqueCompressed,"Courier-BoldOblique":CourierBoldObliqueCompressed,Helvetica:HelveticaCompressed,"Helvetica-Bold":HelveticaBoldCompressed,"Helvetica-Oblique":HelveticaObliqueCompressed,"Helvetica-BoldOblique":HelveticaBoldObliqueCompressed,"Times-Roman":TimesRomanCompressed,"Times-Bold":TimesBoldCompressed,"Times-Italic":TimesItalicCompressed,"Times-BoldItalic":TimesBoldItalicCompressed,Symbol:SymbolCompressed,ZapfDingbats:ZapfDingbatsCompressed},FontNames;(function(g){g.Courier="Courier",g.CourierBold="Courier-Bold",g.CourierOblique="Courier-Oblique",g.CourierBoldOblique="Courier-BoldOblique",g.Helvetica="Helvetica",g.HelveticaBold="Helvetica-Bold",g.HelveticaOblique="Helvetica-Oblique",g.HelveticaBoldOblique="Helvetica-BoldOblique",g.TimesRoman="Times-Roman",g.TimesRomanBold="Times-Bold",g.TimesRomanItalic="Times-Italic",g.TimesRomanBoldItalic="Times-BoldItalic",g.Symbol="Symbol",g.ZapfDingbats="ZapfDingbats"})(FontNames||(FontNames={}));var fontCache={},Font$1=function(){function g(){var d=this;this.getWidthOfGlyph=function(x){return d.CharWidths[x]},this.getXAxisKerningForPair=function(x,b){return(d.KernPairXAmounts[x]||{})[b]}}return g.load=function(d){var x=fontCache[d];if(x)return x;var b=decompressJson(compressedJsonForFontName[d]),S=Object.assign(new g,JSON.parse(b));return S.CharWidths=S.CharMetrics.reduce(function(w,C){return w[C.N]=C.WX,w},{}),S.KernPairXAmounts=S.KernPairs.reduce(function(w,C){var F=C[0],E=C[1],k=C[2];return w[F]||(w[F]={}),w[F][E]=k,w},{}),fontCache[d]=S,S},g}();const AllEncodingsCompressed="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";var decompressedEncodings=decompressJson(AllEncodingsCompressed),allUnicodeMappings=JSON.parse(decompressedEncodings),Encoding=function(){function g(d,x){var b=this;this.canEncodeUnicodeCodePoint=function(S){return S in b.unicodeMappings},this.encodeUnicodeCodePoint=function(S){var w=b.unicodeMappings[S];if(!w){var C=String.fromCharCode(S),F="0x"+padStart(S.toString(16),4,"0"),E=b.name+' cannot encode "'+C+'" ('+F+")";throw new Error(E)}return{code:w[0],name:w[1]}},this.name=d,this.supportedCodePoints=Object.keys(x).map(Number).sort(function(S,w){return S-w}),this.unicodeMappings=x}return g}(),Encodings={Symbol:new Encoding("Symbol",allUnicodeMappings.symbol),ZapfDingbats:new Encoding("ZapfDingbats",allUnicodeMappings.zapfdingbats),WinAnsi:new Encoding("WinAnsi",allUnicodeMappings.win1252)},values=function(g){return Object.keys(g).map(function(d){return g[d]})},StandardFontValues=values(FontNames),isStandardFont=function(g){return StandardFontValues.includes(g)},rectanglesAreEqual=function(g,d){return g.x===d.x&&g.y===d.y&&g.width===d.width&&g.height===d.height},backtick=function(g){return"`"+g+"`"},singleQuote=function(g){return"'"+g+"'"},formatValue=function(g){var d=typeof g;return d==="string"?singleQuote(g):d==="undefined"?backtick(g):g},createValueErrorMsg=function(g,d,x){for(var b=new Array(x.length),S=0,w=x.length;S<w;S++){var C=x[S];b[S]=formatValue(C)}var F=b.join(" or ");return backtick(d)+" must be one of "+F+", but was actually "+formatValue(g)},assertIsOneOf=function(g,d,x){Array.isArray(x)||(x=values(x));for(var b=0,S=x.length;b<S;b++)if(g===x[b])return;throw new TypeError(createValueErrorMsg(g,d,x))},assertIsOneOfOrUndefined=function(g,d,x){Array.isArray(x)||(x=values(x)),assertIsOneOf(g,d,x.concat(void 0))},assertIsSubset=function(g,d,x){Array.isArray(x)||(x=values(x));for(var b=0,S=g.length;b<S;b++)assertIsOneOf(g[b],d,x)},getType=function(g){return g===null?"null":g===void 0?"undefined":typeof g=="string"?"string":isNaN(g)?"NaN":typeof g=="number"?"number":typeof g=="boolean"?"boolean":typeof g=="symbol"?"symbol":typeof g=="bigint"?"bigint":g.constructor&&g.constructor.name?g.constructor.name:g.name?g.name:g.constructor?String(g.constructor):String(g)},isType=function(g,d){return d==="null"?g===null:d==="undefined"?g===void 0:d==="string"?typeof g=="string":d==="number"?typeof g=="number"&&!isNaN(g):d==="boolean"?typeof g=="boolean":d==="symbol"?typeof g=="symbol":d==="bigint"?typeof g=="bigint":d===Date?g instanceof Date:d===Array?g instanceof Array:d===Uint8Array?g instanceof Uint8Array:d===ArrayBuffer?g instanceof ArrayBuffer:d===Function?g instanceof Function:g instanceof d[0]},createTypeErrorMsg=function(g,d,x){for(var b=new Array(x.length),S=0,w=x.length;S<w;S++){var C=x[S];C==="null"&&(b[S]=backtick("null")),C==="undefined"&&(b[S]=backtick("undefined")),C==="string"?b[S]=backtick("string"):C==="number"?b[S]=backtick("number"):C==="boolean"?b[S]=backtick("boolean"):C==="symbol"?b[S]=backtick("symbol"):C==="bigint"?b[S]=backtick("bigint"):C===Array?b[S]=backtick("Array"):C===Uint8Array?b[S]=backtick("Uint8Array"):C===ArrayBuffer?b[S]=backtick("ArrayBuffer"):b[S]=backtick(C[1])}var F=b.join(" or ");return backtick(d)+" must be of type "+F+", but was actually of type "+backtick(getType(g))},assertIs=function(g,d,x){for(var b=0,S=x.length;b<S;b++)if(isType(g,x[b]))return;throw new TypeError(createTypeErrorMsg(g,d,x))},assertOrUndefined=function(g,d,x){assertIs(g,d,x.concat("undefined"))},assertEachIs=function(g,d,x){for(var b=0,S=g.length;b<S;b++)assertIs(g[b],d,x)},assertRange=function(g,d,x,b){if(assertIs(g,d,["number"]),assertIs(x,"min",["number"]),assertIs(b,"max",["number"]),b=Math.max(x,b),g<x||g>b)throw new Error(backtick(d)+" must be at least "+x+" and at most "+b+", but was actually "+g)},assertRangeOrUndefined=function(g,d,x,b){assertIs(g,d,["number","undefined"]),typeof g=="number"&&assertRange(g,d,x,b)},assertMultiple=function(g,d,x){if(assertIs(g,d,["number"]),g%x!==0)throw new Error(backtick(d)+" must be a multiple of "+x+", but was actually "+g)},assertInteger=function(g,d){if(!Number.isInteger(g))throw new Error(backtick(d)+" must be an integer, but was actually "+g)},assertPositive=function(g,d){if(![1,0].includes(Math.sign(g)))throw new Error(backtick(d)+" must be a positive number or 0, but was actually "+g)},pdfDocEncodingToUnicode=new Uint16Array(256);for(var idx$2=0;idx$2<256;idx$2++)pdfDocEncodingToUnicode[idx$2]=idx$2;pdfDocEncodingToUnicode[22]=toCharCode("");pdfDocEncodingToUnicode[24]=toCharCode("");pdfDocEncodingToUnicode[25]=toCharCode("");pdfDocEncodingToUnicode[26]=toCharCode("");pdfDocEncodingToUnicode[27]=toCharCode("");pdfDocEncodingToUnicode[28]=toCharCode("");pdfDocEncodingToUnicode[29]=toCharCode("");pdfDocEncodingToUnicode[30]=toCharCode("");pdfDocEncodingToUnicode[31]=toCharCode("");pdfDocEncodingToUnicode[127]=toCharCode("");pdfDocEncodingToUnicode[128]=toCharCode("");pdfDocEncodingToUnicode[129]=toCharCode("");pdfDocEncodingToUnicode[130]=toCharCode("");pdfDocEncodingToUnicode[131]=toCharCode("");pdfDocEncodingToUnicode[132]=toCharCode("");pdfDocEncodingToUnicode[133]=toCharCode("");pdfDocEncodingToUnicode[134]=toCharCode("");pdfDocEncodingToUnicode[135]=toCharCode("");pdfDocEncodingToUnicode[136]=toCharCode("");pdfDocEncodingToUnicode[137]=toCharCode("");pdfDocEncodingToUnicode[138]=toCharCode("");pdfDocEncodingToUnicode[139]=toCharCode("");pdfDocEncodingToUnicode[140]=toCharCode("");pdfDocEncodingToUnicode[141]=toCharCode("");pdfDocEncodingToUnicode[142]=toCharCode("");pdfDocEncodingToUnicode[143]=toCharCode("");pdfDocEncodingToUnicode[144]=toCharCode("");pdfDocEncodingToUnicode[145]=toCharCode("");pdfDocEncodingToUnicode[146]=toCharCode("");pdfDocEncodingToUnicode[147]=toCharCode("");pdfDocEncodingToUnicode[148]=toCharCode("");pdfDocEncodingToUnicode[149]=toCharCode("");pdfDocEncodingToUnicode[150]=toCharCode("");pdfDocEncodingToUnicode[151]=toCharCode("");pdfDocEncodingToUnicode[152]=toCharCode("");pdfDocEncodingToUnicode[153]=toCharCode("");pdfDocEncodingToUnicode[154]=toCharCode("");pdfDocEncodingToUnicode[155]=toCharCode("");pdfDocEncodingToUnicode[156]=toCharCode("");pdfDocEncodingToUnicode[157]=toCharCode("");pdfDocEncodingToUnicode[158]=toCharCode("");pdfDocEncodingToUnicode[159]=toCharCode("");pdfDocEncodingToUnicode[160]=toCharCode("");pdfDocEncodingToUnicode[173]=toCharCode("");var pdfDocEncodingDecode=function(g){for(var d=new Array(g.length),x=0,b=g.length;x<b;x++)d[x]=pdfDocEncodingToUnicode[g[x]];return String.fromCodePoint.apply(String,d)},Cache=function(){function g(d){this.populate=d,this.value=void 0}return g.prototype.getValue=function(){return this.value},g.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},g.prototype.invalidate=function(){this.value=void 0},g.populatedBy=function(d){return new g(d)},g}(),MethodNotImplementedError=function(g){__extends(d,g);function d(x,b){var S=this,w="Method "+x+"."+b+"() not implemented";return S=g.call(this,w)||this,S}return d}(Error),PrivateConstructorError=function(g){__extends(d,g);function d(x){var b=this,S="Cannot construct "+x+" - it has a private constructor";return b=g.call(this,S)||this,b}return d}(Error),UnexpectedObjectTypeError=function(g){__extends(d,g);function d(x,b){var S=this,w=function(E){var k,D;return(k=E?.name)!==null&&k!==void 0?k:(D=E?.constructor)===null||D===void 0?void 0:D.name},C=Array.isArray(x)?x.map(w):[w(x)],F="Expected instance of "+C.join(" or ")+", "+("but got instance of "+(b&&w(b)));return S=g.call(this,F)||this,S}return d}(Error),UnsupportedEncodingError=function(g){__extends(d,g);function d(x){var b=this,S=x+" stream encoding not supported";return b=g.call(this,S)||this,b}return d}(Error),ReparseError=function(g){__extends(d,g);function d(x,b){var S=this,w="Cannot call "+x+"."+b+"() more than once";return S=g.call(this,w)||this,S}return d}(Error);(function(g){__extends(d,g);function d(x){var b=this,S="Missing catalog (ref="+x+")";return b=g.call(this,S)||this,b}return d})(Error);var MissingPageContentsEmbeddingError=function(g){__extends(d,g);function d(){var x=this,b="Can't embed page with missing Contents";return x=g.call(this,b)||this,x}return d}(Error),UnrecognizedStreamTypeError=function(g){__extends(d,g);function d(x){var b,S,w,C=this,F=(w=(S=(b=x?.contructor)===null||b===void 0?void 0:b.name)!==null&&S!==void 0?S:x?.name)!==null&&w!==void 0?w:x,E="Unrecognized stream type: "+F;return C=g.call(this,E)||this,C}return d}(Error),PageEmbeddingMismatchedContextError=function(g){__extends(d,g);function d(){var x=this,b="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return x=g.call(this,b)||this,x}return d}(Error),PDFArrayIsNotRectangleError=function(g){__extends(d,g);function d(x){var b=this,S="Attempted to convert PDFArray with "+x+" elements to rectangle, but must have exactly 4 elements.";return b=g.call(this,S)||this,b}return d}(Error),InvalidPDFDateStringError=function(g){__extends(d,g);function d(x){var b=this,S='Attempted to convert "'+x+'" to a date, but it does not match the PDF date string format.';return b=g.call(this,S)||this,b}return d}(Error),InvalidTargetIndexError=function(g){__extends(d,g);function d(x,b){var S=this,w="Invalid targetIndex specified: targetIndex="+x+" must be less than Count="+b;return S=g.call(this,w)||this,S}return d}(Error),CorruptPageTreeError=function(g){__extends(d,g);function d(x,b){var S=this,w="Failed to "+b+" at targetIndex="+x+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return S=g.call(this,w)||this,S}return d}(Error),IndexOutOfBoundsError=function(g){__extends(d,g);function d(x,b,S){var w=this,C="index should be at least "+b+" and at most "+S+", but was actually "+x;return w=g.call(this,C)||this,w}return d}(Error),InvalidAcroFieldValueError=function(g){__extends(d,g);function d(){var x=this,b="Attempted to set invalid field value";return x=g.call(this,b)||this,x}return d}(Error),MultiSelectValueError=function(g){__extends(d,g);function d(){var x=this,b="Attempted to select multiple values for single-select field";return x=g.call(this,b)||this,x}return d}(Error),MissingDAEntryError=function(g){__extends(d,g);function d(x){var b=this,S="No /DA (default appearance) entry found for field: "+x;return b=g.call(this,S)||this,b}return d}(Error),MissingTfOperatorError=function(g){__extends(d,g);function d(x){var b=this,S="No Tf operator found for DA of field: "+x;return b=g.call(this,S)||this,b}return d}(Error),NumberParsingError=function(g){__extends(d,g);function d(x,b){var S=this,w="Failed to parse number "+("(line:"+x.line+" col:"+x.column+" offset="+x.offset+'): "'+b+'"');return S=g.call(this,w)||this,S}return d}(Error),PDFParsingError=function(g){__extends(d,g);function d(x,b){var S=this,w="Failed to parse PDF document "+("(line:"+x.line+" col:"+x.column+" offset="+x.offset+"): "+b);return S=g.call(this,w)||this,S}return d}(Error),NextByteAssertionError=function(g){__extends(d,g);function d(x,b,S){var w=this,C="Expected next byte to be "+b+" but it was actually "+S;return w=g.call(this,x,C)||this,w}return d}(PDFParsingError),PDFObjectParsingError=function(g){__extends(d,g);function d(x,b){var S=this,w="Failed to parse PDF object starting with the following byte: "+b;return S=g.call(this,x,w)||this,S}return d}(PDFParsingError),PDFInvalidObjectParsingError=function(g){__extends(d,g);function d(x){var b=this,S="Failed to parse invalid PDF object";return b=g.call(this,x,S)||this,b}return d}(PDFParsingError),PDFStreamParsingError=function(g){__extends(d,g);function d(x){var b=this,S="Failed to parse PDF stream";return b=g.call(this,x,S)||this,b}return d}(PDFParsingError),UnbalancedParenthesisError=function(g){__extends(d,g);function d(x){var b=this,S="Failed to parse PDF literal string due to unbalanced parenthesis";return b=g.call(this,x,S)||this,b}return d}(PDFParsingError),StalledParserError=function(g){__extends(d,g);function d(x){var b=this,S="Parser stalled";return b=g.call(this,x,S)||this,b}return d}(PDFParsingError),MissingPDFHeaderError=function(g){__extends(d,g);function d(x){var b=this,S="No PDF header found";return b=g.call(this,x,S)||this,b}return d}(PDFParsingError),MissingKeywordError=function(g){__extends(d,g);function d(x,b){var S=this,w="Did not find expected keyword '"+arrayAsString(b)+"'";return S=g.call(this,x,w)||this,S}return d}(PDFParsingError),CharCodes;(function(g){g[g.Null=0]="Null",g[g.Backspace=8]="Backspace",g[g.Tab=9]="Tab",g[g.Newline=10]="Newline",g[g.FormFeed=12]="FormFeed",g[g.CarriageReturn=13]="CarriageReturn",g[g.Space=32]="Space",g[g.ExclamationPoint=33]="ExclamationPoint",g[g.Hash=35]="Hash",g[g.Percent=37]="Percent",g[g.LeftParen=40]="LeftParen",g[g.RightParen=41]="RightParen",g[g.Plus=43]="Plus",g[g.Minus=45]="Minus",g[g.Dash=45]="Dash",g[g.Period=46]="Period",g[g.ForwardSlash=47]="ForwardSlash",g[g.Zero=48]="Zero",g[g.One=49]="One",g[g.Two=50]="Two",g[g.Three=51]="Three",g[g.Four=52]="Four",g[g.Five=53]="Five",g[g.Six=54]="Six",g[g.Seven=55]="Seven",g[g.Eight=56]="Eight",g[g.Nine=57]="Nine",g[g.LessThan=60]="LessThan",g[g.GreaterThan=62]="GreaterThan",g[g.A=65]="A",g[g.D=68]="D",g[g.E=69]="E",g[g.F=70]="F",g[g.O=79]="O",g[g.P=80]="P",g[g.R=82]="R",g[g.LeftSquareBracket=91]="LeftSquareBracket",g[g.BackSlash=92]="BackSlash",g[g.RightSquareBracket=93]="RightSquareBracket",g[g.a=97]="a",g[g.b=98]="b",g[g.d=100]="d",g[g.e=101]="e",g[g.f=102]="f",g[g.i=105]="i",g[g.j=106]="j",g[g.l=108]="l",g[g.m=109]="m",g[g.n=110]="n",g[g.o=111]="o",g[g.r=114]="r",g[g.s=115]="s",g[g.t=116]="t",g[g.u=117]="u",g[g.x=120]="x",g[g.LeftCurly=123]="LeftCurly",g[g.RightCurly=125]="RightCurly",g[g.Tilde=126]="Tilde"})(CharCodes||(CharCodes={}));const CharCodes$1=CharCodes;var PDFHeader=function(){function g(d,x){this.major=String(d),this.minor=String(x)}return g.prototype.toString=function(){var d=charFromCode(129);return"%PDF-"+this.major+"."+this.minor+`
%`+d+d+d+d},g.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.Percent,d[x++]=CharCodes$1.P,d[x++]=CharCodes$1.D,d[x++]=CharCodes$1.F,d[x++]=CharCodes$1.Dash,x+=copyStringIntoBuffer(this.major,d,x),d[x++]=CharCodes$1.Period,x+=copyStringIntoBuffer(this.minor,d,x),d[x++]=CharCodes$1.Newline,d[x++]=CharCodes$1.Percent,d[x++]=129,d[x++]=129,d[x++]=129,d[x++]=129,x-b},g.forVersion=function(d,x){return new g(d,x)},g}(),PDFObject=function(){function g(){}return g.prototype.clone=function(d){throw new MethodNotImplementedError(this.constructor.name,"clone")},g.prototype.toString=function(){throw new MethodNotImplementedError(this.constructor.name,"toString")},g.prototype.sizeInBytes=function(){throw new MethodNotImplementedError(this.constructor.name,"sizeInBytes")},g.prototype.copyBytesInto=function(d,x){throw new MethodNotImplementedError(this.constructor.name,"copyBytesInto")},g}(),PDFNumber=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.numberValue=x,b.stringValue=numberToString(x),b}return d.prototype.asNumber=function(){return this.numberValue},d.prototype.value=function(){return this.numberValue},d.prototype.clone=function(){return d.of(this.numberValue)},d.prototype.toString=function(){return this.stringValue},d.prototype.sizeInBytes=function(){return this.stringValue.length},d.prototype.copyBytesInto=function(x,b){return b+=copyStringIntoBuffer(this.stringValue,x,b),this.stringValue.length},d.of=function(x){return new d(x)},d}(PDFObject),PDFArray=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.array=[],b.context=x,b}return d.prototype.size=function(){return this.array.length},d.prototype.push=function(x){this.array.push(x)},d.prototype.insert=function(x,b){this.array.splice(x,0,b)},d.prototype.indexOf=function(x){var b=this.array.indexOf(x);return b===-1?void 0:b},d.prototype.remove=function(x){this.array.splice(x,1)},d.prototype.set=function(x,b){this.array[x]=b},d.prototype.get=function(x){return this.array[x]},d.prototype.lookupMaybe=function(x){for(var b,S=[],w=1;w<arguments.length;w++)S[w-1]=arguments[w];return(b=this.context).lookupMaybe.apply(b,__spreadArrays([this.get(x)],S))},d.prototype.lookup=function(x){for(var b,S=[],w=1;w<arguments.length;w++)S[w-1]=arguments[w];return(b=this.context).lookup.apply(b,__spreadArrays([this.get(x)],S))},d.prototype.asRectangle=function(){if(this.size()!==4)throw new PDFArrayIsNotRectangleError(this.size());var x=this.lookup(0,PDFNumber).asNumber(),b=this.lookup(1,PDFNumber).asNumber(),S=this.lookup(2,PDFNumber).asNumber(),w=this.lookup(3,PDFNumber).asNumber(),C=x,F=b,E=S-x,k=w-b;return{x:C,y:F,width:E,height:k}},d.prototype.asArray=function(){return this.array.slice()},d.prototype.clone=function(x){for(var b=d.withContext(x||this.context),S=0,w=this.size();S<w;S++)b.push(this.array[S]);return b},d.prototype.toString=function(){for(var x="[ ",b=0,S=this.size();b<S;b++)x+=this.get(b).toString(),x+=" ";return x+="]",x},d.prototype.sizeInBytes=function(){for(var x=3,b=0,S=this.size();b<S;b++)x+=this.get(b).sizeInBytes()+1;return x},d.prototype.copyBytesInto=function(x,b){var S=b;x[b++]=CharCodes$1.LeftSquareBracket,x[b++]=CharCodes$1.Space;for(var w=0,C=this.size();w<C;w++)b+=this.get(w).copyBytesInto(x,b),x[b++]=CharCodes$1.Space;return x[b++]=CharCodes$1.RightSquareBracket,b-S},d.prototype.scalePDFNumbers=function(x,b){for(var S=0,w=this.size();S<w;S++){var C=this.lookup(S);if(C instanceof PDFNumber){var F=S%2===0?x:b;this.set(S,PDFNumber.of(C.asNumber()*F))}}},d.withContext=function(x){return new d(x)},d}(PDFObject),ENFORCER$2={},PDFBool=function(g){__extends(d,g);function d(x,b){var S=this;if(x!==ENFORCER$2)throw new PrivateConstructorError("PDFBool");return S=g.call(this)||this,S.value=b,S}return d.prototype.asBoolean=function(){return this.value},d.prototype.clone=function(){return this},d.prototype.toString=function(){return String(this.value)},d.prototype.sizeInBytes=function(){return this.value?4:5},d.prototype.copyBytesInto=function(x,b){return this.value?(x[b++]=CharCodes$1.t,x[b++]=CharCodes$1.r,x[b++]=CharCodes$1.u,x[b++]=CharCodes$1.e,4):(x[b++]=CharCodes$1.f,x[b++]=CharCodes$1.a,x[b++]=CharCodes$1.l,x[b++]=CharCodes$1.s,x[b++]=CharCodes$1.e,5)},d.True=new d(ENFORCER$2,!0),d.False=new d(ENFORCER$2,!1),d}(PDFObject),IsDelimiter=new Uint8Array(256);IsDelimiter[CharCodes$1.LeftParen]=1;IsDelimiter[CharCodes$1.RightParen]=1;IsDelimiter[CharCodes$1.LessThan]=1;IsDelimiter[CharCodes$1.GreaterThan]=1;IsDelimiter[CharCodes$1.LeftSquareBracket]=1;IsDelimiter[CharCodes$1.RightSquareBracket]=1;IsDelimiter[CharCodes$1.LeftCurly]=1;IsDelimiter[CharCodes$1.RightCurly]=1;IsDelimiter[CharCodes$1.ForwardSlash]=1;IsDelimiter[CharCodes$1.Percent]=1;var IsWhitespace=new Uint8Array(256);IsWhitespace[CharCodes$1.Null]=1;IsWhitespace[CharCodes$1.Tab]=1;IsWhitespace[CharCodes$1.Newline]=1;IsWhitespace[CharCodes$1.FormFeed]=1;IsWhitespace[CharCodes$1.CarriageReturn]=1;IsWhitespace[CharCodes$1.Space]=1;var IsIrregular=new Uint8Array(256);for(var idx$1=0,len$1=256;idx$1<len$1;idx$1++)IsIrregular[idx$1]=IsWhitespace[idx$1]||IsDelimiter[idx$1]?1:0;IsIrregular[CharCodes$1.Hash]=1;var decodeName=function(g){return g.replace(/#([\dABCDEF]{2})/g,function(d,x){return charFromHexCode(x)})},isRegularChar=function(g){return g>=CharCodes$1.ExclamationPoint&&g<=CharCodes$1.Tilde&&!IsIrregular[g]},ENFORCER$1={},pool$1=new Map,PDFName=function(g){__extends(d,g);function d(x,b){var S=this;if(x!==ENFORCER$1)throw new PrivateConstructorError("PDFName");S=g.call(this)||this;for(var w="/",C=0,F=b.length;C<F;C++){var E=b[C],k=toCharCode(E);w+=isRegularChar(k)?E:"#"+toHexString(k)}return S.encodedName=w,S}return d.prototype.asBytes=function(){for(var x=[],b="",S=!1,w=function(M){M!==void 0&&x.push(M),S=!1},C=1,F=this.encodedName.length;C<F;C++){var E=this.encodedName[C],k=toCharCode(E),D=this.encodedName[C+1];S?k>=CharCodes$1.Zero&&k<=CharCodes$1.Nine||k>=CharCodes$1.a&&k<=CharCodes$1.f||k>=CharCodes$1.A&&k<=CharCodes$1.F?(b+=E,(b.length===2||!(D>="0"&&D<="9"||D>="a"&&D<="f"||D>="A"&&D<="F"))&&(w(parseInt(b,16)),b="")):w(k):k===CharCodes$1.Hash?S=!0:w(k)}return new Uint8Array(x)},d.prototype.decodeText=function(){var x=this.asBytes();return String.fromCharCode.apply(String,Array.from(x))},d.prototype.asString=function(){return this.encodedName},d.prototype.value=function(){return this.encodedName},d.prototype.clone=function(){return this},d.prototype.toString=function(){return this.encodedName},d.prototype.sizeInBytes=function(){return this.encodedName.length},d.prototype.copyBytesInto=function(x,b){return b+=copyStringIntoBuffer(this.encodedName,x,b),this.encodedName.length},d.of=function(x){var b=decodeName(x),S=pool$1.get(b);return S||(S=new d(ENFORCER$1,b),pool$1.set(b,S)),S},d.Length=d.of("Length"),d.FlateDecode=d.of("FlateDecode"),d.Resources=d.of("Resources"),d.Font=d.of("Font"),d.XObject=d.of("XObject"),d.ExtGState=d.of("ExtGState"),d.Contents=d.of("Contents"),d.Type=d.of("Type"),d.Parent=d.of("Parent"),d.MediaBox=d.of("MediaBox"),d.Page=d.of("Page"),d.Annots=d.of("Annots"),d.TrimBox=d.of("TrimBox"),d.ArtBox=d.of("ArtBox"),d.BleedBox=d.of("BleedBox"),d.CropBox=d.of("CropBox"),d.Rotate=d.of("Rotate"),d.Title=d.of("Title"),d.Author=d.of("Author"),d.Subject=d.of("Subject"),d.Creator=d.of("Creator"),d.Keywords=d.of("Keywords"),d.Producer=d.of("Producer"),d.CreationDate=d.of("CreationDate"),d.ModDate=d.of("ModDate"),d}(PDFObject),PDFNull=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.asNull=function(){return null},d.prototype.clone=function(){return this},d.prototype.toString=function(){return"null"},d.prototype.sizeInBytes=function(){return 4},d.prototype.copyBytesInto=function(x,b){return x[b++]=CharCodes$1.n,x[b++]=CharCodes$1.u,x[b++]=CharCodes$1.l,x[b++]=CharCodes$1.l,4},d}(PDFObject);const PDFNull$1=new PDFNull;var PDFDict=function(g){__extends(d,g);function d(x,b){var S=g.call(this)||this;return S.dict=x,S.context=b,S}return d.prototype.keys=function(){return Array.from(this.dict.keys())},d.prototype.values=function(){return Array.from(this.dict.values())},d.prototype.entries=function(){return Array.from(this.dict.entries())},d.prototype.set=function(x,b){this.dict.set(x,b)},d.prototype.get=function(x,b){b===void 0&&(b=!1);var S=this.dict.get(x);if(!(S===PDFNull$1&&!b))return S},d.prototype.has=function(x){var b=this.dict.get(x);return b!==void 0&&b!==PDFNull$1},d.prototype.lookupMaybe=function(x){for(var b,S=[],w=1;w<arguments.length;w++)S[w-1]=arguments[w];var C=S.includes(PDFNull$1),F=(b=this.context).lookupMaybe.apply(b,__spreadArrays([this.get(x,C)],S));if(!(F===PDFNull$1&&!C))return F},d.prototype.lookup=function(x){for(var b,S=[],w=1;w<arguments.length;w++)S[w-1]=arguments[w];var C=S.includes(PDFNull$1),F=(b=this.context).lookup.apply(b,__spreadArrays([this.get(x,C)],S));if(!(F===PDFNull$1&&!C))return F},d.prototype.delete=function(x){return this.dict.delete(x)},d.prototype.asMap=function(){return new Map(this.dict)},d.prototype.uniqueKey=function(x){x===void 0&&(x="");for(var b=this.keys(),S=PDFName.of(this.context.addRandomSuffix(x,10));b.includes(S);)S=PDFName.of(this.context.addRandomSuffix(x,10));return S},d.prototype.clone=function(x){for(var b=d.withContext(x||this.context),S=this.entries(),w=0,C=S.length;w<C;w++){var F=S[w],E=F[0],k=F[1];b.set(E,k)}return b},d.prototype.toString=function(){for(var x=`<<
`,b=this.entries(),S=0,w=b.length;S<w;S++){var C=b[S],F=C[0],E=C[1];x+=F.toString()+" "+E.toString()+`
`}return x+=">>",x},d.prototype.sizeInBytes=function(){for(var x=5,b=this.entries(),S=0,w=b.length;S<w;S++){var C=b[S],F=C[0],E=C[1];x+=F.sizeInBytes()+E.sizeInBytes()+2}return x},d.prototype.copyBytesInto=function(x,b){var S=b;x[b++]=CharCodes$1.LessThan,x[b++]=CharCodes$1.LessThan,x[b++]=CharCodes$1.Newline;for(var w=this.entries(),C=0,F=w.length;C<F;C++){var E=w[C],k=E[0],D=E[1];b+=k.copyBytesInto(x,b),x[b++]=CharCodes$1.Space,b+=D.copyBytesInto(x,b),x[b++]=CharCodes$1.Newline}return x[b++]=CharCodes$1.GreaterThan,x[b++]=CharCodes$1.GreaterThan,b-S},d.withContext=function(x){return new d(new Map,x)},d.fromMapWithContext=function(x,b){return new d(x,b)},d}(PDFObject),PDFStream=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.dict=x,b}return d.prototype.clone=function(x){throw new MethodNotImplementedError(this.constructor.name,"clone")},d.prototype.getContentsString=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsString")},d.prototype.getContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getContents")},d.prototype.getContentsSize=function(){throw new MethodNotImplementedError(this.constructor.name,"getContentsSize")},d.prototype.updateDict=function(){var x=this.getContentsSize();this.dict.set(PDFName.Length,PDFNumber.of(x))},d.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},d.prototype.toString=function(){this.updateDict();var x=this.dict.toString();return x+=`
stream
`,x+=this.getContentsString(),x+=`
endstream`,x},d.prototype.copyBytesInto=function(x,b){this.updateDict();var S=b;b+=this.dict.copyBytesInto(x,b),x[b++]=CharCodes$1.Newline,x[b++]=CharCodes$1.s,x[b++]=CharCodes$1.t,x[b++]=CharCodes$1.r,x[b++]=CharCodes$1.e,x[b++]=CharCodes$1.a,x[b++]=CharCodes$1.m,x[b++]=CharCodes$1.Newline;for(var w=this.getContents(),C=0,F=w.length;C<F;C++)x[b++]=w[C];return x[b++]=CharCodes$1.Newline,x[b++]=CharCodes$1.e,x[b++]=CharCodes$1.n,x[b++]=CharCodes$1.d,x[b++]=CharCodes$1.s,x[b++]=CharCodes$1.t,x[b++]=CharCodes$1.r,x[b++]=CharCodes$1.e,x[b++]=CharCodes$1.a,x[b++]=CharCodes$1.m,b-S},d}(PDFObject),PDFRawStream=function(g){__extends(d,g);function d(x,b){var S=g.call(this,x)||this;return S.contents=b,S}return d.prototype.asUint8Array=function(){return this.contents.slice()},d.prototype.clone=function(x){return d.of(this.dict.clone(x),this.contents.slice())},d.prototype.getContentsString=function(){return arrayAsString(this.contents)},d.prototype.getContents=function(){return this.contents},d.prototype.getContentsSize=function(){return this.contents.length},d.of=function(x,b){return new d(x,b)},d}(PDFStream),ENFORCER={},pool=new Map,PDFRef=function(g){__extends(d,g);function d(x,b,S){var w=this;if(x!==ENFORCER)throw new PrivateConstructorError("PDFRef");return w=g.call(this)||this,w.objectNumber=b,w.generationNumber=S,w.tag=b+" "+S+" R",w}return d.prototype.clone=function(){return this},d.prototype.toString=function(){return this.tag},d.prototype.sizeInBytes=function(){return this.tag.length},d.prototype.copyBytesInto=function(x,b){return b+=copyStringIntoBuffer(this.tag,x,b),this.tag.length},d.of=function(x,b){b===void 0&&(b=0);var S=x+" "+b+" R",w=pool.get(S);return w||(w=new d(ENFORCER,x,b),pool.set(S,w)),w},d}(PDFObject),PDFOperator=function(){function g(d,x){this.name=d,this.args=x||[]}return g.prototype.clone=function(d){for(var x=new Array(this.args.length),b=0,S=x.length;b<S;b++){var w=this.args[b];x[b]=w instanceof PDFObject?w.clone(d):w}return g.of(this.name,x)},g.prototype.toString=function(){for(var d="",x=0,b=this.args.length;x<b;x++)d+=String(this.args[x])+" ";return d+=this.name,d},g.prototype.sizeInBytes=function(){for(var d=0,x=0,b=this.args.length;x<b;x++){var S=this.args[x];d+=(S instanceof PDFObject?S.sizeInBytes():S.length)+1}return d+=this.name.length,d},g.prototype.copyBytesInto=function(d,x){for(var b=x,S=0,w=this.args.length;S<w;S++){var C=this.args[S];C instanceof PDFObject?x+=C.copyBytesInto(d,x):x+=copyStringIntoBuffer(C,d,x),d[x++]=CharCodes$1.Space}return x+=copyStringIntoBuffer(this.name,d,x),x-b},g.of=function(d,x){return new g(d,x)},g}(),PDFOperatorNames;(function(g){g.NonStrokingColor="sc",g.NonStrokingColorN="scn",g.NonStrokingColorRgb="rg",g.NonStrokingColorGray="g",g.NonStrokingColorCmyk="k",g.NonStrokingColorspace="cs",g.StrokingColor="SC",g.StrokingColorN="SCN",g.StrokingColorRgb="RG",g.StrokingColorGray="G",g.StrokingColorCmyk="K",g.StrokingColorspace="CS",g.BeginMarkedContentSequence="BDC",g.BeginMarkedContent="BMC",g.EndMarkedContent="EMC",g.MarkedContentPointWithProps="DP",g.MarkedContentPoint="MP",g.DrawObject="Do",g.ConcatTransformationMatrix="cm",g.PopGraphicsState="Q",g.PushGraphicsState="q",g.SetFlatness="i",g.SetGraphicsStateParams="gs",g.SetLineCapStyle="J",g.SetLineDashPattern="d",g.SetLineJoinStyle="j",g.SetLineMiterLimit="M",g.SetLineWidth="w",g.SetTextMatrix="Tm",g.SetRenderingIntent="ri",g.AppendRectangle="re",g.BeginInlineImage="BI",g.BeginInlineImageData="ID",g.EndInlineImage="EI",g.ClipEvenOdd="W*",g.ClipNonZero="W",g.CloseAndStroke="s",g.CloseFillEvenOddAndStroke="b*",g.CloseFillNonZeroAndStroke="b",g.ClosePath="h",g.AppendBezierCurve="c",g.CurveToReplicateFinalPoint="y",g.CurveToReplicateInitialPoint="v",g.EndPath="n",g.FillEvenOddAndStroke="B*",g.FillEvenOdd="f*",g.FillNonZeroAndStroke="B",g.FillNonZero="f",g.LegacyFillNonZero="F",g.LineTo="l",g.MoveTo="m",g.ShadingFill="sh",g.StrokePath="S",g.BeginText="BT",g.EndText="ET",g.MoveText="Td",g.MoveTextSetLeading="TD",g.NextLine="T*",g.SetCharacterSpacing="Tc",g.SetFontAndSize="Tf",g.SetTextHorizontalScaling="Tz",g.SetTextLineHeight="TL",g.SetTextRenderingMode="Tr",g.SetTextRise="Ts",g.SetWordSpacing="Tw",g.ShowText="Tj",g.ShowTextAdjusted="TJ",g.ShowTextLine="'",g.ShowTextLineAndSpace='"',g.Type3D0="d0",g.Type3D1="d1",g.BeginCompatibilitySection="BX",g.EndCompatibilitySection="EX"})(PDFOperatorNames||(PDFOperatorNames={}));const Ops=PDFOperatorNames;var PDFFlateStream=function(g){__extends(d,g);function d(x,b){var S=g.call(this,x)||this;return S.computeContents=function(){var w=S.getUnencodedContents();return S.encode?pako$1.deflate(w):w},S.encode=b,b&&x.set(PDFName.of("Filter"),PDFName.of("FlateDecode")),S.contentsCache=Cache.populatedBy(S.computeContents),S}return d.prototype.getContents=function(){return this.contentsCache.access()},d.prototype.getContentsSize=function(){return this.contentsCache.access().length},d.prototype.getUnencodedContents=function(){throw new MethodNotImplementedError(this.constructor.name,"getUnencodedContents")},d}(PDFStream),PDFContentStream=function(g){__extends(d,g);function d(x,b,S){S===void 0&&(S=!0);var w=g.call(this,x,S)||this;return w.operators=b,w}return d.prototype.push=function(){for(var x,b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];(x=this.operators).push.apply(x,b)},d.prototype.clone=function(x){for(var b=new Array(this.operators.length),S=0,w=this.operators.length;S<w;S++)b[S]=this.operators[S].clone(x);var C=this,F=C.dict,E=C.encode;return d.of(F.clone(x),b,E)},d.prototype.getContentsString=function(){for(var x="",b=0,S=this.operators.length;b<S;b++)x+=this.operators[b]+`
`;return x},d.prototype.getUnencodedContents=function(){for(var x=new Uint8Array(this.getUnencodedContentsSize()),b=0,S=0,w=this.operators.length;S<w;S++)b+=this.operators[S].copyBytesInto(x,b),x[b++]=CharCodes$1.Newline;return x},d.prototype.getUnencodedContentsSize=function(){for(var x=0,b=0,S=this.operators.length;b<S;b++)x+=this.operators[b].sizeInBytes()+1;return x},d.of=function(x,b,S){return S===void 0&&(S=!0),new d(x,b,S)},d}(PDFFlateStream),SimpleRNG=function(){function g(d){this.seed=d}return g.prototype.nextInt=function(){var d=Math.sin(this.seed++)*1e4;return d-Math.floor(d)},g.withSeed=function(d){return new g(d)},g}(),byAscendingObjectNumber=function(g,d){var x=g[0],b=d[0];return x.objectNumber-b.objectNumber},PDFContext=function(){function g(){this.largestObjectNumber=0,this.header=PDFHeader.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=SimpleRNG.withSeed(1),this.pdfFileDetails={pdfSize:0,prevStartXRef:0,useObjectStreams:!1}}return g.prototype.assign=function(d,x){this.indirectObjects.set(d,x),d.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=d.objectNumber)},g.prototype.nextRef=function(){return this.largestObjectNumber+=1,PDFRef.of(this.largestObjectNumber)},g.prototype.register=function(d){var x=this.nextRef();return this.assign(x,d),x},g.prototype.delete=function(d){return this.indirectObjects.delete(d)},g.prototype.lookupMaybe=function(d){for(var x=[],b=1;b<arguments.length;b++)x[b-1]=arguments[b];var S=x.includes(PDFNull$1),w=d instanceof PDFRef?this.indirectObjects.get(d):d;if(!(!w||w===PDFNull$1&&!S)){for(var C=0,F=x.length;C<F;C++){var E=x[C];if(E===PDFNull$1){if(w===PDFNull$1)return w}else if(w instanceof E)return w}throw new UnexpectedObjectTypeError(x,w)}},g.prototype.lookup=function(d){for(var x=[],b=1;b<arguments.length;b++)x[b-1]=arguments[b];var S=d instanceof PDFRef?this.indirectObjects.get(d):d;if(x.length===0)return S;for(var w=0,C=x.length;w<C;w++){var F=x[w];if(F===PDFNull$1){if(S===PDFNull$1)return S}else if(S instanceof F)return S}throw new UnexpectedObjectTypeError(x,S)},g.prototype.getObjectRef=function(d){for(var x=Array.from(this.indirectObjects.entries()),b=0,S=x.length;b<S;b++){var w=x[b],C=w[0],F=w[1];if(F===d)return C}},g.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(byAscendingObjectNumber)},g.prototype.obj=function(d){if(d instanceof PDFObject)return d;if(d==null)return PDFNull$1;if(typeof d=="string")return PDFName.of(d);if(typeof d=="number")return PDFNumber.of(d);if(typeof d=="boolean")return d?PDFBool.True:PDFBool.False;if(Array.isArray(d)){for(var x=PDFArray.withContext(this),b=0,S=d.length;b<S;b++)x.push(this.obj(d[b]));return x}else{for(var w=PDFDict.withContext(this),C=Object.keys(d),b=0,S=C.length;b<S;b++){var F=C[b],E=d[F];E!==void 0&&w.set(PDFName.of(F),this.obj(E))}return w}},g.prototype.stream=function(d,x){return x===void 0&&(x={}),PDFRawStream.of(this.obj(x),typedArrayFor(d))},g.prototype.flateStream=function(d,x){return x===void 0&&(x={}),this.stream(pako$1.deflate(typedArrayFor(d)),__assign(__assign({},x),{Filter:"FlateDecode"}))},g.prototype.contentStream=function(d,x){return x===void 0&&(x={}),PDFContentStream.of(this.obj(x),d)},g.prototype.formXObject=function(d,x){return x===void 0&&(x={}),this.contentStream(d,__assign(__assign({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},x),{Type:"XObject",Subtype:"Form"}))},g.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var d=this.obj({}),x=PDFOperator.of(Ops.PushGraphicsState),b=PDFContentStream.of(d,[x]);return this.pushGraphicsStateContentStreamRef=this.register(b),this.pushGraphicsStateContentStreamRef},g.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var d=this.obj({}),x=PDFOperator.of(Ops.PopGraphicsState),b=PDFContentStream.of(d,[x]);return this.popGraphicsStateContentStreamRef=this.register(b),this.popGraphicsStateContentStreamRef},g.prototype.addRandomSuffix=function(d,x){return x===void 0&&(x=4),d+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,x))},g.create=function(){return new g},g}(),PDFPageLeaf=function(g){__extends(d,g);function d(x,b,S){S===void 0&&(S=!0);var w=g.call(this,x,b)||this;return w.normalized=!1,w.autoNormalizeCTM=S,w}return d.prototype.clone=function(x){for(var b=d.fromMapWithContext(new Map,x||this.context,this.autoNormalizeCTM),S=this.entries(),w=0,C=S.length;w<C;w++){var F=S[w],E=F[0],k=F[1];b.set(E,k)}return b},d.prototype.Parent=function(){return this.lookupMaybe(PDFName.Parent,PDFDict)},d.prototype.Contents=function(){return this.lookup(PDFName.of("Contents"))},d.prototype.Annots=function(){return this.lookupMaybe(PDFName.Annots,PDFArray)},d.prototype.BleedBox=function(){return this.lookupMaybe(PDFName.BleedBox,PDFArray)},d.prototype.TrimBox=function(){return this.lookupMaybe(PDFName.TrimBox,PDFArray)},d.prototype.ArtBox=function(){return this.lookupMaybe(PDFName.ArtBox,PDFArray)},d.prototype.Resources=function(){var x=this.getInheritableAttribute(PDFName.Resources);return this.context.lookupMaybe(x,PDFDict)},d.prototype.MediaBox=function(){var x=this.getInheritableAttribute(PDFName.MediaBox);return this.context.lookup(x,PDFArray)},d.prototype.CropBox=function(){var x=this.getInheritableAttribute(PDFName.CropBox);return this.context.lookupMaybe(x,PDFArray)},d.prototype.Rotate=function(){var x=this.getInheritableAttribute(PDFName.Rotate);return this.context.lookupMaybe(x,PDFNumber)},d.prototype.getInheritableAttribute=function(x){var b;return this.ascend(function(S){b||(b=S.get(x))}),b},d.prototype.setParent=function(x){this.set(PDFName.Parent,x)},d.prototype.addContentStream=function(x){var b=this.normalizedEntries().Contents||this.context.obj([]);this.set(PDFName.Contents,b),b.push(x)},d.prototype.wrapContentStreams=function(x,b){var S=this.Contents();return S instanceof PDFArray?(S.insert(0,x),S.push(b),!0):!1},d.prototype.addAnnot=function(x){var b=this.normalizedEntries().Annots;b.push(x)},d.prototype.removeAnnot=function(x){var b=this.normalizedEntries().Annots,S=b.indexOf(x);S!==void 0&&b.remove(S)},d.prototype.setFontDictionary=function(x,b){var S=this.normalizedEntries().Font;S.set(x,b)},d.prototype.newFontDictionaryKey=function(x){var b=this.normalizedEntries().Font;return b.uniqueKey(x)},d.prototype.newFontDictionary=function(x,b){var S=this.newFontDictionaryKey(x);return this.setFontDictionary(S,b),S},d.prototype.setXObject=function(x,b){var S=this.normalizedEntries().XObject;S.set(x,b)},d.prototype.newXObjectKey=function(x){var b=this.normalizedEntries().XObject;return b.uniqueKey(x)},d.prototype.newXObject=function(x,b){var S=this.newXObjectKey(x);return this.setXObject(S,b),S},d.prototype.setExtGState=function(x,b){var S=this.normalizedEntries().ExtGState;S.set(x,b)},d.prototype.newExtGStateKey=function(x){var b=this.normalizedEntries().ExtGState;return b.uniqueKey(x)},d.prototype.newExtGState=function(x,b){var S=this.newExtGStateKey(x);return this.setExtGState(S,b),S},d.prototype.ascend=function(x){x(this);var b=this.Parent();b&&b.ascend(x)},d.prototype.normalize=function(){if(!this.normalized){var x=this.context,b=this.get(PDFName.Contents),S=this.context.lookup(b);S instanceof PDFStream&&this.set(PDFName.Contents,x.obj([b])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var w=this.getInheritableAttribute(PDFName.Resources),C=x.lookupMaybe(w,PDFDict)||x.obj({});this.set(PDFName.Resources,C);var F=C.lookupMaybe(PDFName.Font,PDFDict)||x.obj({});C.set(PDFName.Font,F);var E=C.lookupMaybe(PDFName.XObject,PDFDict)||x.obj({});C.set(PDFName.XObject,E);var k=C.lookupMaybe(PDFName.ExtGState,PDFDict)||x.obj({});C.set(PDFName.ExtGState,k);var D=this.Annots()||x.obj([]);this.set(PDFName.Annots,D),this.normalized=!0}},d.prototype.normalizedEntries=function(){this.normalize();var x=this.Annots(),b=this.Resources(),S=this.Contents();return{Annots:x,Resources:b,Contents:S,Font:b.lookup(PDFName.Font,PDFDict),XObject:b.lookup(PDFName.XObject,PDFDict),ExtGState:b.lookup(PDFName.ExtGState,PDFDict)}},d.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],d.withContextAndParent=function(x,b){var S=new Map;return S.set(PDFName.Type,PDFName.Page),S.set(PDFName.Parent,b),S.set(PDFName.Resources,x.obj({})),S.set(PDFName.MediaBox,x.obj([0,0,612,792])),new d(S,x,!1)},d.fromMapWithContext=function(x,b,S){return S===void 0&&(S=!0),new d(x,b,S)},d}(PDFDict),PDFObjectCopier=function(){function g(d,x){var b=this;this.traversedObjects=new Map,this.copy=function(S){return S instanceof PDFPageLeaf?b.copyPDFPage(S):S instanceof PDFDict?b.copyPDFDict(S):S instanceof PDFArray?b.copyPDFArray(S):S instanceof PDFStream?b.copyPDFStream(S):S instanceof PDFRef?b.copyPDFIndirectObject(S):S.clone()},this.copyPDFPage=function(S){for(var w=S.clone(),C=PDFPageLeaf.InheritableEntries,F=0,E=C.length;F<E;F++){var k=PDFName.of(C[F]),D=w.getInheritableAttribute(k);!w.get(k)&&D&&w.set(k,D)}return w.delete(PDFName.of("Parent")),b.copyPDFDict(w)},this.copyPDFDict=function(S){if(b.traversedObjects.has(S))return b.traversedObjects.get(S);var w=S.clone(b.dest);b.traversedObjects.set(S,w);for(var C=S.entries(),F=0,E=C.length;F<E;F++){var k=C[F],D=k[0],M=k[1];w.set(D,b.copy(M))}return w},this.copyPDFArray=function(S){if(b.traversedObjects.has(S))return b.traversedObjects.get(S);var w=S.clone(b.dest);b.traversedObjects.set(S,w);for(var C=0,F=S.size();C<F;C++){var E=S.get(C);w.set(C,b.copy(E))}return w},this.copyPDFStream=function(S){if(b.traversedObjects.has(S))return b.traversedObjects.get(S);var w=S.clone(b.dest);b.traversedObjects.set(S,w);for(var C=S.dict.entries(),F=0,E=C.length;F<E;F++){var k=C[F],D=k[0],M=k[1];w.dict.set(D,b.copy(M))}return w},this.copyPDFIndirectObject=function(S){var w=b.traversedObjects.has(S);if(!w){var C=b.dest.nextRef();b.traversedObjects.set(S,C);var F=b.src.lookup(S);if(F){var E=b.copy(F);b.dest.assign(C,E)}}return b.traversedObjects.get(S)},this.src=d,this.dest=x}return g.for=function(d,x){return new g(d,x)},g}(),PDFCrossRefSection=function(){function g(d){this.subsections=d?[[d]]:[],this.chunkIdx=0,this.chunkLength=d?1:0}return g.prototype.addEntry=function(d,x){this.append({ref:d,offset:x,deleted:!1})},g.prototype.addDeletedEntry=function(d,x){this.append({ref:d,offset:x,deleted:!0})},g.prototype.toString=function(){for(var d=`xref
`,x=0,b=this.subsections.length;x<b;x++){var S=this.subsections[x];d+=S[0].ref.objectNumber+" "+S.length+`
`;for(var w=0,C=S.length;w<C;w++){var F=S[w];d+=padStart$1(String(F.offset),10,"0"),d+=" ",d+=padStart$1(String(F.ref.generationNumber),5,"0"),d+=" ",d+=F.deleted?"f":"n",d+=` 
`}}return d},g.prototype.sizeInBytes=function(){for(var d=5,x=0,b=this.subsections.length;x<b;x++){var S=this.subsections[x],w=S.length,C=S[0];d+=2,d+=String(C.ref.objectNumber).length,d+=String(w).length,d+=20*w}return d},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.x,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.e,d[x++]=CharCodes$1.f,d[x++]=CharCodes$1.Newline,x+=this.copySubsectionsIntoBuffer(this.subsections,d,x),x-b},g.prototype.copySubsectionsIntoBuffer=function(d,x,b){for(var S=b,w=d.length,C=0;C<w;C++){var F=this.subsections[C],E=String(F[0].ref.objectNumber);b+=copyStringIntoBuffer(E,x,b),x[b++]=CharCodes$1.Space;var k=String(F.length);b+=copyStringIntoBuffer(k,x,b),x[b++]=CharCodes$1.Newline,b+=this.copyEntriesIntoBuffer(F,x,b)}return b-S},g.prototype.copyEntriesIntoBuffer=function(d,x,b){for(var S=d.length,w=0;w<S;w++){var C=d[w],F=padStart$1(String(C.offset),10,"0");b+=copyStringIntoBuffer(F,x,b),x[b++]=CharCodes$1.Space;var E=padStart$1(String(C.ref.generationNumber),5,"0");b+=copyStringIntoBuffer(E,x,b),x[b++]=CharCodes$1.Space,x[b++]=C.deleted?CharCodes$1.f:CharCodes$1.n,x[b++]=CharCodes$1.Space,x[b++]=CharCodes$1.Newline}return 20*S},g.prototype.append=function(d){if(this.chunkLength===0){this.subsections.push([d]),this.chunkIdx=0,this.chunkLength=1;return}var x=this.subsections[this.chunkIdx],b=x[this.chunkLength-1];d.ref.objectNumber-b.ref.objectNumber>1?(this.subsections.push([d]),this.chunkIdx+=1,this.chunkLength=1):(x.push(d),this.chunkLength+=1)},g.create=function(){return new g({ref:PDFRef.of(0,65535),offset:0,deleted:!0})},g.createEmpty=function(){return new g},g}(),PDFTrailer=function(){function g(d){this.lastXRefOffset=String(d)}return g.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},g.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.s,d[x++]=CharCodes$1.t,d[x++]=CharCodes$1.a,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.t,d[x++]=CharCodes$1.x,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.e,d[x++]=CharCodes$1.f,d[x++]=CharCodes$1.Newline,x+=copyStringIntoBuffer(this.lastXRefOffset,d,x),d[x++]=CharCodes$1.Newline,d[x++]=CharCodes$1.Percent,d[x++]=CharCodes$1.Percent,d[x++]=CharCodes$1.E,d[x++]=CharCodes$1.O,d[x++]=CharCodes$1.F,x-b},g.forLastCrossRefSectionOffset=function(d){return new g(d)},g}(),PDFTrailerDict=function(){function g(d){this.dict=d}return g.prototype.toString=function(){return`trailer
`+this.dict.toString()},g.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},g.prototype.copyBytesInto=function(d,x){var b=x;return d[x++]=CharCodes$1.t,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.a,d[x++]=CharCodes$1.i,d[x++]=CharCodes$1.l,d[x++]=CharCodes$1.e,d[x++]=CharCodes$1.r,d[x++]=CharCodes$1.Newline,x+=this.dict.copyBytesInto(d,x),x-b},g.of=function(d){return new g(d)},g}(),PDFObjectStream=function(g){__extends(d,g);function d(x,b,S){S===void 0&&(S=!0);var w=g.call(this,x.obj({}),S)||this;return w.objects=b,w.offsets=w.computeObjectOffsets(),w.offsetsString=w.computeOffsetsString(),w.dict.set(PDFName.of("Type"),PDFName.of("ObjStm")),w.dict.set(PDFName.of("N"),PDFNumber.of(w.objects.length)),w.dict.set(PDFName.of("First"),PDFNumber.of(w.offsetsString.length)),w}return d.prototype.getObjectsCount=function(){return this.objects.length},d.prototype.clone=function(x){return d.withContextAndObjects(x||this.dict.context,this.objects.slice(),this.encode)},d.prototype.getContentsString=function(){for(var x=this.offsetsString,b=0,S=this.objects.length;b<S;b++){var w=this.objects[b],C=w[1];x+=C+`
`}return x},d.prototype.getUnencodedContents=function(){for(var x=new Uint8Array(this.getUnencodedContentsSize()),b=copyStringIntoBuffer(this.offsetsString,x,0),S=0,w=this.objects.length;S<w;S++){var C=this.objects[S],F=C[1];b+=F.copyBytesInto(x,b),x[b++]=CharCodes$1.Newline}return x},d.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+last$1(this.offsets)[1]+last$1(this.objects)[1].sizeInBytes()+1},d.prototype.computeOffsetsString=function(){for(var x="",b=0,S=this.offsets.length;b<S;b++){var w=this.offsets[b],C=w[0],F=w[1];x+=C+" "+F+" "}return x},d.prototype.computeObjectOffsets=function(){for(var x=0,b=new Array(this.objects.length),S=0,w=this.objects.length;S<w;S++){var C=this.objects[S],F=C[0],E=C[1];b[S]=[F.objectNumber,x],x+=E.sizeInBytes()+1}return b},d.withContextAndObjects=function(x,b,S){return S===void 0&&(S=!0),new d(x,b,S)},d}(PDFFlateStream),PDFWriter=function(){function g(d,x,b){var S=this;this.parsedObjects=0,this.shouldWaitForTick=function(w){return S.parsedObjects+=w,S.parsedObjects%S.objectsPerTick===0},this.context=d,this.objectsPerTick=x,this.snapshot=b}return g.prototype.serializeToBuffer=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,S,w,C,F,E,k,D,M,L,R,U,j,H,V,z;return __generator(this,function(G){switch(G.label){case 0:return d=!(this.snapshot instanceof DefaultDocumentSnapshot),[4,this.computeBufferSize(d)];case 1:x=G.sent(),b=x.size,S=x.header,w=x.indirectObjects,C=x.xref,F=x.trailerDict,E=x.trailer,k=0,D=new Uint8Array(b),d||(k+=S.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline),D[k++]=CharCodes$1.Newline,M=0,L=w.length,G.label=2;case 2:return M<L?(R=w[M],U=R[0],j=R[1],this.snapshot.shouldSave(U.objectNumber)?(H=String(U.objectNumber),k+=copyStringIntoBuffer(H,D,k),D[k++]=CharCodes$1.Space,V=String(U.generationNumber),k+=copyStringIntoBuffer(V,D,k),D[k++]=CharCodes$1.Space,D[k++]=CharCodes$1.o,D[k++]=CharCodes$1.b,D[k++]=CharCodes$1.j,D[k++]=CharCodes$1.Newline,k+=j.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline,D[k++]=CharCodes$1.e,D[k++]=CharCodes$1.n,D[k++]=CharCodes$1.d,D[k++]=CharCodes$1.o,D[k++]=CharCodes$1.b,D[k++]=CharCodes$1.j,D[k++]=CharCodes$1.Newline,D[k++]=CharCodes$1.Newline,z=j instanceof PDFObjectStream?j.getObjectsCount():1,this.shouldWaitForTick(z)?[4,waitForTick()]:[3,4]):[3,4]):[3,5];case 3:G.sent(),G.label=4;case 4:return M++,[3,2];case 5:return C&&(k+=C.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline),F&&(k+=F.copyBytesInto(D,k),D[k++]=CharCodes$1.Newline,D[k++]=CharCodes$1.Newline),k+=E.copyBytesInto(D,k),[2,D]}})})},g.prototype.computeIndirectObjectSize=function(d){var x=d[0],b=d[1],S=x.sizeInBytes()+3,w=b.sizeInBytes()+9;return S+w},g.prototype.createTrailerDict=function(d){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID,Prev:d?PDFNumber.of(d):void 0})},g.prototype.computeBufferSize=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,S,w,C,F,E,k,D,M,L;return __generator(this,function(R){switch(R.label){case 0:x=PDFHeader.forVersion(1,7),b=this.snapshot.pdfSize,d||(b+=x.sizeInBytes()+1),b+=1,S=PDFCrossRefSection.create(),w=this.context.enumerateIndirectObjects(),C=0,F=w.length,R.label=1;case 1:return C<F?(E=w[C],k=E[0],this.snapshot.shouldSave(k.objectNumber)?(S.addEntry(k,b),b+=this.computeIndirectObjectSize(E),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,3]):[3,4];case 2:R.sent(),R.label=3;case 3:return C++,[3,1];case 4:return D=b,b+=S.sizeInBytes()+1,M=PDFTrailerDict.of(this.createTrailerDict(this.snapshot.prevStartXRef)),b+=M.sizeInBytes()+2,L=PDFTrailer.forLastCrossRefSectionOffset(D),b+=L.sizeInBytes(),b-=this.snapshot.pdfSize,[2,{size:b,header:x,indirectObjects:w,xref:S,trailerDict:M,trailer:L}]}})})},g.forContext=function(d,x){return new g(d,x,defaultDocumentSnapshot)},g.forContextWithSnapshot=function(d,x,b){return new g(d,x,b)},g}(),PDFInvalidObject=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.data=x,b}return d.prototype.clone=function(){return d.of(this.data.slice())},d.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},d.prototype.sizeInBytes=function(){return this.data.length},d.prototype.copyBytesInto=function(x,b){for(var S=this.data.length,w=0;w<S;w++)x[b++]=this.data[w];return S},d.of=function(x){return new d(x)},d}(PDFObject),EntryType;(function(g){g[g.Deleted=0]="Deleted",g[g.Uncompressed=1]="Uncompressed",g[g.Compressed=2]="Compressed"})(EntryType||(EntryType={}));var PDFCrossRefStream=function(g){__extends(d,g);function d(x,b,S){S===void 0&&(S=!0);var w=g.call(this,x,S)||this;return w.computeIndex=function(){for(var C=[],F=0,E=0,k=w.entries.length;E<k;E++){var D=w.entries[E],M=w.entries[E-1];E===0?C.push(D.ref.objectNumber):D.ref.objectNumber-M.ref.objectNumber>1&&(C.push(F),C.push(D.ref.objectNumber),F=0),F+=1}return C.push(F),C},w.computeEntryTuples=function(){for(var C=new Array(w.entries.length),F=0,E=w.entries.length;F<E;F++){var k=w.entries[F];if(k.type===EntryType.Deleted){var D=k.type,M=k.nextFreeObjectNumber,L=k.ref;C[F]=[D,M,L.generationNumber]}if(k.type===EntryType.Uncompressed){var D=k.type,R=k.offset,L=k.ref;C[F]=[D,R,L.generationNumber]}if(k.type===EntryType.Compressed){var D=k.type,U=k.objectStreamRef,j=k.index;C[F]=[D,U.objectNumber,j]}}return C},w.computeMaxEntryByteWidths=function(){for(var C=w.entryTuplesCache.access(),F=[0,0,0],E=0,k=C.length;E<k;E++){var D=C[E],M=D[0],L=D[1],R=D[2],U=sizeInBytes(M),j=sizeInBytes(L),H=sizeInBytes(R);U>F[0]&&(F[0]=U),j>F[1]&&(F[1]=j),H>F[2]&&(F[2]=H)}return F},w.entries=b||[],w.entryTuplesCache=Cache.populatedBy(w.computeEntryTuples),w.maxByteWidthsCache=Cache.populatedBy(w.computeMaxEntryByteWidths),w.indexCache=Cache.populatedBy(w.computeIndex),x.set(PDFName.of("Type"),PDFName.of("XRef")),w}return d.prototype.addDeletedEntry=function(x,b){var S=EntryType.Deleted;this.entries.push({type:S,ref:x,nextFreeObjectNumber:b}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},d.prototype.addUncompressedEntry=function(x,b){var S=EntryType.Uncompressed;this.entries.push({type:S,ref:x,offset:b}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},d.prototype.addCompressedEntry=function(x,b,S){var w=EntryType.Compressed;this.entries.push({type:w,ref:x,objectStreamRef:b,index:S}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},d.prototype.clone=function(x){var b=this,S=b.dict,w=b.entries,C=b.encode;return d.of(S.clone(x),w.slice(),C)},d.prototype.getContentsString=function(){for(var x=this.entryTuplesCache.access(),b=this.maxByteWidthsCache.access(),S="",w=0,C=x.length;w<C;w++){for(var F=x[w],E=F[0],k=F[1],D=F[2],M=reverseArray(bytesFor(E)),L=reverseArray(bytesFor(k)),R=reverseArray(bytesFor(D)),U=b[0]-1;U>=0;U--)S+=(M[U]||0).toString(2);for(var U=b[1]-1;U>=0;U--)S+=(L[U]||0).toString(2);for(var U=b[2]-1;U>=0;U--)S+=(R[U]||0).toString(2)}return S},d.prototype.getUnencodedContents=function(){for(var x=this.entryTuplesCache.access(),b=this.maxByteWidthsCache.access(),S=new Uint8Array(this.getUnencodedContentsSize()),w=0,C=0,F=x.length;C<F;C++){for(var E=x[C],k=E[0],D=E[1],M=E[2],L=reverseArray(bytesFor(k)),R=reverseArray(bytesFor(D)),U=reverseArray(bytesFor(M)),j=b[0]-1;j>=0;j--)S[w++]=L[j]||0;for(var j=b[1]-1;j>=0;j--)S[w++]=R[j]||0;for(var j=b[2]-1;j>=0;j--)S[w++]=U[j]||0}return S},d.prototype.getUnencodedContentsSize=function(){var x=this.maxByteWidthsCache.access(),b=sum(x);return b*this.entries.length},d.prototype.updateDict=function(){g.prototype.updateDict.call(this);var x=this.maxByteWidthsCache.access(),b=this.indexCache.access(),S=this.dict.context;this.dict.set(PDFName.of("W"),S.obj(x)),this.dict.set(PDFName.of("Index"),S.obj(b))},d.create=function(x,b){b===void 0&&(b=!0);var S=new d(x,[],b);return S.addDeletedEntry(PDFRef.of(0,65535),0),S},d.of=function(x,b,S){return S===void 0&&(S=!0),new d(x,b,S)},d}(PDFFlateStream),PDFStreamWriter=function(g){__extends(d,g);function d(x,b,S,w,C){var F=g.call(this,x,b,S)||this;return F.encodeStreams=w,F.objectsPerStream=C,F}return d.prototype.computeBufferSize=function(x){return __awaiter(this,void 0,void 0,function(){var b,S,w,C,F,E,k,D,j,H,M,z,L,R,V,U,j,H,V,z,G,X,Y,J;return __generator(this,function(ee){switch(ee.label){case 0:b=this.context.largestObjectNumber+1,S=PDFHeader.forVersion(1,7),w=this.snapshot.pdfSize,x||(w+=S.sizeInBytes()+1),w+=1,C=PDFCrossRefStream.create(this.createTrailerDict(),this.encodeStreams),F=[],E=[],k=[],D=this.context.enumerateIndirectObjects(),j=0,H=D.length,ee.label=1;case 1:return j<H?(M=D[j],z=M[0],L=M[1],this.snapshot.shouldSave(z.objectNumber)?(R=z===this.context.trailerInfo.Encrypt||L instanceof PDFStream||L instanceof PDFInvalidObject||z.generationNumber!==0||L instanceof PDFDict&&L.lookup(PDFName.of("Type"))===PDFName.of("Sig"),R?(F.push(M),C.addUncompressedEntry(z,w),w+=this.computeIndirectObjectSize(M),this.shouldWaitForTick(1)?[4,waitForTick()]:[3,3]):[3,4]):[3,5]):[3,6];case 2:ee.sent(),ee.label=3;case 3:return[3,5];case 4:V=last$1(E),U=last$1(k),(!V||V.length%this.objectsPerStream===0)&&(V=[],E.push(V),U=PDFRef.of(b++),k.push(U)),C.addCompressedEntry(z,U,V.length),V.push(M),ee.label=5;case 5:return j++,[3,1];case 6:j=0,H=E.length,ee.label=7;case 7:return j<H?(V=E[j],z=k[j],G=PDFObjectStream.withContextAndObjects(this.context,V,this.encodeStreams),C.addUncompressedEntry(z,w),w+=this.computeIndirectObjectSize([z,G]),F.push([z,G]),this.shouldWaitForTick(V.length)?[4,waitForTick()]:[3,9]):[3,10];case 8:ee.sent(),ee.label=9;case 9:return j++,[3,7];case 10:return X=PDFRef.of(b++),C.dict.set(PDFName.of("Size"),PDFNumber.of(b)),this.snapshot.prevStartXRef&&C.dict.set(PDFName.of("Prev"),PDFNumber.of(this.snapshot.prevStartXRef)),C.addUncompressedEntry(X,w),Y=w,w+=this.computeIndirectObjectSize([X,C]),F.push([X,C]),J=PDFTrailer.forLastCrossRefSectionOffset(Y),w+=J.sizeInBytes(),w-=this.snapshot.pdfSize,[2,{size:w,header:S,indirectObjects:F,trailer:J}]}})})},d.forContext=function(x,b,S,w){return S===void 0&&(S=!0),w===void 0&&(w=50),new d(x,b,defaultDocumentSnapshot,S,w)},d.forContextWithSnapshot=function(x,b,S,w,C){return w===void 0&&(w=!0),C===void 0&&(C=50),new d(x,b,S,w,C)},d}(PDFWriter),PDFHexString=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.value=x,b}return d.prototype.asBytes=function(){for(var x=this.value+(this.value.length%2===1?"0":""),b=x.length,S=new Uint8Array(x.length/2),w=0,C=0;w<b;){var F=parseInt(x.substring(w,w+2),16);S[C]=F,w+=2,C+=1}return S},d.prototype.decodeText=function(){var x=this.asBytes();return hasUtf16BOM(x)?utf16Decode(x):pdfDocEncodingDecode(x)},d.prototype.decodeDate=function(){var x=this.decodeText(),b=parseDate(x);if(!b)throw new InvalidPDFDateStringError(x);return b},d.prototype.asString=function(){return this.value},d.prototype.clone=function(){return d.of(this.value)},d.prototype.toString=function(){return"<"+this.value+">"},d.prototype.sizeInBytes=function(){return this.value.length+2},d.prototype.copyBytesInto=function(x,b){return x[b++]=CharCodes$1.LessThan,b+=copyStringIntoBuffer(this.value,x,b),x[b++]=CharCodes$1.GreaterThan,this.value.length+2},d.of=function(x){return new d(x)},d.fromText=function(x){for(var b=utf16Encode(x),S="",w=0,C=b.length;w<C;w++)S+=toHexStringOfMinLength(b[w],4);return new d(S)},d}(PDFObject),StandardFontEmbedder=function(){function g(d,x){this.encoding=d===FontNames.ZapfDingbats?Encodings.ZapfDingbats:d===FontNames.Symbol?Encodings.Symbol:Encodings.WinAnsi,this.font=Font$1.load(d),this.fontName=this.font.FontName,this.customName=x}return g.prototype.encodeText=function(d){for(var x=this.encodeTextAsGlyphs(d),b=new Array(x.length),S=0,w=x.length;S<w;S++)b[S]=toHexString(x[S].code);return PDFHexString.of(b.join(""))},g.prototype.widthOfTextAtSize=function(d,x){for(var b=this.encodeTextAsGlyphs(d),S=0,w=0,C=b.length;w<C;w++){var F=b[w].name,E=(b[w+1]||{}).name,k=this.font.getXAxisKerningForPair(F,E)||0;S+=this.widthOfGlyph(F)+k}var D=x/1e3;return S*D},g.prototype.heightOfFontAtSize=function(d,x){x===void 0&&(x={});var b=x.descender,S=b===void 0?!0:b,w=this.font,C=w.Ascender,F=w.Descender,E=w.FontBBox,k=C||E[3],D=F||E[1],M=k-D;return S||(M+=F||0),M/1e3*d},g.prototype.sizeOfFontAtHeight=function(d){var x=this.font,b=x.Ascender,S=x.Descender,w=x.FontBBox,C=b||w[3],F=S||w[1];return 1e3*d/(C-F)},g.prototype.embedIntoContext=function(d,x){var b=d.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Encodings.WinAnsi?"WinAnsiEncoding":void 0});return x?(d.assign(x,b),x):d.register(b)},g.prototype.widthOfGlyph=function(d){return this.font.getWidthOfGlyph(d)||250},g.prototype.encodeTextAsGlyphs=function(d){for(var x=Array.from(d),b=new Array(x.length),S=0,w=x.length;S<w;S++){var C=toCodePoint(x[S]);b[S]=this.encoding.encodeUnicodeCodePoint(C)}return b},g.for=function(d,x){return new g(d,x)},g}(),createCmap=function(g,d){for(var x=new Array(g.length),b=0,S=g.length;b<S;b++){var w=g[b],C=cmapHexFormat(cmapHexString(d(w))),F=cmapHexFormat.apply(void 0,w.codePoints.map(cmapCodePointFormat));x[b]=[C,F]}return fillCmapTemplate(x)},fillCmapTemplate=function(g){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+g.length+` beginbfchar
`+g.map(function(d){var x=d[0],b=d[1];return x+" "+b}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},cmapHexFormat=function(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];return"<"+g.join("")+">"},cmapHexString=function(g){return toHexStringOfMinLength(g,4)},cmapCodePointFormat=function(g){if(isWithinBMP(g))return cmapHexString(g);if(hasSurrogates(g)){var d=highSurrogate(g),x=lowSurrogate(g);return""+cmapHexString(d)+cmapHexString(x)}var b=toHexString(g),S="0x"+b+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(S)},makeFontFlags=function(g){var d=0,x=function(b){d|=1<<b-1};return g.fixedPitch&&x(1),g.serif&&x(2),g.symbolic&&x(3),g.script&&x(4),g.nonsymbolic&&x(6),g.italic&&x(7),g.allCap&&x(17),g.smallCap&&x(18),g.forceBold&&x(19),d},deriveFontFlags=function(g){var d=g["OS/2"]?g["OS/2"].sFamilyClass:0,x=makeFontFlags({fixedPitch:g.post.isFixedPitch,serif:1<=d&&d<=7,symbolic:!0,script:d===10,italic:g.head.macStyle.italic});return x},PDFString=function(g){__extends(d,g);function d(x){var b=g.call(this)||this;return b.value=x,b}return d.prototype.asBytes=function(){for(var x=[],b="",S=!1,w=function(M){M!==void 0&&x.push(M),S=!1},C=0,F=this.value.length;C<F;C++){var E=this.value[C],k=toCharCode(E),D=this.value[C+1];S?k===CharCodes$1.Newline||k===CharCodes$1.CarriageReturn?w():k===CharCodes$1.n?w(CharCodes$1.Newline):k===CharCodes$1.r?w(CharCodes$1.CarriageReturn):k===CharCodes$1.t?w(CharCodes$1.Tab):k===CharCodes$1.b?w(CharCodes$1.Backspace):k===CharCodes$1.f?w(CharCodes$1.FormFeed):k===CharCodes$1.LeftParen?w(CharCodes$1.LeftParen):k===CharCodes$1.RightParen?w(CharCodes$1.RightParen):k===CharCodes$1.Backspace?w(CharCodes$1.BackSlash):k>=CharCodes$1.Zero&&k<=CharCodes$1.Seven?(b+=E,(b.length===3||!(D>="0"&&D<="7"))&&(w(parseInt(b,8)),b="")):w(k):k===CharCodes$1.BackSlash?S=!0:w(k)}return new Uint8Array(x)},d.prototype.decodeText=function(){var x=this.asBytes();return hasUtf16BOM(x)?utf16Decode(x):pdfDocEncodingDecode(x)},d.prototype.decodeDate=function(){var x=this.decodeText(),b=parseDate(x);if(!b)throw new InvalidPDFDateStringError(x);return b},d.prototype.asString=function(){return this.value},d.prototype.clone=function(){return d.of(this.value)},d.prototype.toString=function(){return"("+this.value+")"},d.prototype.sizeInBytes=function(){return this.value.length+2},d.prototype.copyBytesInto=function(x,b){return x[b++]=CharCodes$1.LeftParen,b+=copyStringIntoBuffer(this.value,x,b),x[b++]=CharCodes$1.RightParen,this.value.length+2},d.of=function(x){return new d(x)},d.fromDate=function(x){var b=padStart$1(String(x.getUTCFullYear()),4,"0"),S=padStart$1(String(x.getUTCMonth()+1),2,"0"),w=padStart$1(String(x.getUTCDate()),2,"0"),C=padStart$1(String(x.getUTCHours()),2,"0"),F=padStart$1(String(x.getUTCMinutes()),2,"0"),E=padStart$1(String(x.getUTCSeconds()),2,"0");return new d("D:"+b+S+w+C+F+E+"Z")},d}(PDFObject),CustomFontEmbedder=function(){function g(d,x,b,S){var w=this;this.allGlyphsInFontSortedById=function(){for(var C=new Array(w.font.characterSet.length),F=0,E=C.length;F<E;F++){var k=w.font.characterSet[F];C[F]=w.font.glyphForCodePoint(k)}return sortedUniq(C.sort(byAscendingId),function(D){return D.id})},this.font=d,this.scale=1e3/this.font.unitsPerEm,this.fontData=x,this.fontName=this.font.postscriptName||"Font",this.customName=b,this.fontFeatures=S,this.baseFontName="",this.glyphCache=Cache.populatedBy(this.allGlyphsInFontSortedById)}return g.for=function(d,x,b,S){return __awaiter(this,void 0,void 0,function(){var w;return __generator(this,function(C){switch(C.label){case 0:return[4,d.create(x)];case 1:return w=C.sent(),[2,new g(w,x,b,S)]}})})},g.prototype.encodeText=function(d){for(var x=this.font.layout(d,this.fontFeatures).glyphs,b=new Array(x.length),S=0,w=x.length;S<w;S++)b[S]=toHexStringOfMinLength(x[S].id,4);return PDFHexString.of(b.join(""))},g.prototype.widthOfTextAtSize=function(d,x){for(var b=this.font.layout(d,this.fontFeatures).glyphs,S=0,w=0,C=b.length;w<C;w++)S+=b[w].advanceWidth*this.scale;var F=x/1e3;return S*F},g.prototype.heightOfFontAtSize=function(d,x){x===void 0&&(x={});var b=x.descender,S=b===void 0?!0:b,w=this.font,C=w.ascent,F=w.descent,E=w.bbox,k=(C||E.maxY)*this.scale,D=(F||E.minY)*this.scale,M=k-D;return S||(M-=Math.abs(F)||0),M/1e3*d},g.prototype.sizeOfFontAtHeight=function(d){var x=this.font,b=x.ascent,S=x.descent,w=x.bbox,C=(b||w.maxY)*this.scale,F=(S||w.minY)*this.scale;return 1e3*d/(C-F)},g.prototype.embedIntoContext=function(d,x){return this.baseFontName=this.customName||d.addRandomSuffix(this.fontName),this.embedFontDict(d,x)},g.prototype.embedFontDict=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,S,w;return __generator(this,function(C){switch(C.label){case 0:return[4,this.embedCIDFontDict(d)];case 1:return b=C.sent(),S=this.embedUnicodeCmap(d),w=d.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[b],ToUnicode:S}),x?(d.assign(x,w),[2,x]):[2,d.register(w)]}})})},g.prototype.isCFF=function(){return this.font.cff},g.prototype.embedCIDFontDict=function(d){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(S){switch(S.label){case 0:return[4,this.embedFontDescriptor(d)];case 1:return x=S.sent(),b=d.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:PDFString.of("Adobe"),Ordering:PDFString.of("Identity"),Supplement:0},FontDescriptor:x,W:this.computeWidths()}),[2,d.register(b)]}})})},g.prototype.embedFontDescriptor=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,S,w,C,F,E,k,D,M,L,R,U,j,H;return __generator(this,function(V){switch(V.label){case 0:return[4,this.embedFontStream(d)];case 1:return x=V.sent(),b=this.scale,S=this.font,w=S.italicAngle,C=S.ascent,F=S.descent,E=S.capHeight,k=S.xHeight,D=this.font.bbox,M=D.minX,L=D.minY,R=D.maxX,U=D.maxY,j=d.obj((H={Type:"FontDescriptor",FontName:this.baseFontName,Flags:deriveFontFlags(this.font),FontBBox:[M*b,L*b,R*b,U*b],ItalicAngle:w,Ascent:C*b,Descent:F*b,CapHeight:(E||C)*b,XHeight:(k||0)*b,StemV:0},H[this.isCFF()?"FontFile3":"FontFile2"]=x,H)),[2,d.register(j)]}})})},g.prototype.serializeFont=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){return[2,this.fontData]})})},g.prototype.embedFontStream=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,S;return __generator(this,function(w){switch(w.label){case 0:return S=(b=d).flateStream,[4,this.serializeFont()];case 1:return x=S.apply(b,[w.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,d.register(x)]}})})},g.prototype.embedUnicodeCmap=function(d){var x=createCmap(this.glyphCache.access(),this.glyphId.bind(this)),b=d.flateStream(x);return d.register(b)},g.prototype.glyphId=function(d){return d?d.id:-1},g.prototype.computeWidths=function(){for(var d=this.glyphCache.access(),x=[],b=[],S=0,w=d.length;S<w;S++){var C=d[S],F=d[S-1],E=this.glyphId(C),k=this.glyphId(F);S===0?x.push(E):E-k!==1&&(x.push(b),x.push(E),b=[]),b.push(C.advanceWidth*this.scale)}return x.push(b),x},g}(),CustomFontSubsetEmbedder=function(g){__extends(d,g);function d(x,b,S,w){var C=g.call(this,x,b,S,w)||this;return C.subset=C.font.createSubset(),C.glyphs=[],C.glyphCache=Cache.populatedBy(function(){return C.glyphs}),C.glyphIdMap=new Map,C}return d.for=function(x,b,S,w){return __awaiter(this,void 0,void 0,function(){var C;return __generator(this,function(F){switch(F.label){case 0:return[4,x.create(b)];case 1:return C=F.sent(),[2,new d(C,b,S,w)]}})})},d.prototype.encodeText=function(x){for(var b=this.font.layout(x,this.fontFeatures).glyphs,S=new Array(b.length),w=0,C=b.length;w<C;w++){var F=b[w],E=this.subset.includeGlyph(F);this.glyphs[E-1]=F,this.glyphIdMap.set(F.id,E),S[w]=toHexStringOfMinLength(E,4)}return this.glyphCache.invalidate(),PDFHexString.of(S.join(""))},d.prototype.isCFF=function(){return this.subset.cff},d.prototype.glyphId=function(x){return x?this.glyphIdMap.get(x.id):-1},d.prototype.serializeFont=function(){var x=this;return new Promise(function(b,S){var w=[];x.subset.encodeStream().on("data",function(C){return w.push(C)}).on("end",function(){return b(mergeUint8Arrays(w))}).on("error",function(C){return S(C)})})},d}(CustomFontEmbedder),AFRelationship;(function(g){g.Source="Source",g.Data="Data",g.Alternative="Alternative",g.Supplement="Supplement",g.EncryptedPayload="EncryptedPayload",g.FormData="EncryptedPayload",g.Schema="Schema",g.Unspecified="Unspecified"})(AFRelationship||(AFRelationship={}));var FileEmbedder=function(){function g(d,x,b){b===void 0&&(b={}),this.fileData=d,this.fileName=x,this.options=b}return g.for=function(d,x,b){return b===void 0&&(b={}),new g(d,x,b)},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,S,w,C,F,E,k,D,M;return __generator(this,function(L){return b=this.options,S=b.mimeType,w=b.description,C=b.creationDate,F=b.modificationDate,E=b.afRelationship,k=d.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:S??void 0,Params:{Size:this.fileData.length,CreationDate:C?PDFString.fromDate(C):void 0,ModDate:F?PDFString.fromDate(F):void 0}}),D=d.register(k),M=d.obj({Type:"Filespec",F:PDFString.of(this.fileName),UF:PDFHexString.fromText(this.fileName),EF:{F:D},Desc:w?PDFHexString.fromText(w):void 0,AFRelationship:E??void 0}),x?(d.assign(x,M),[2,x]):[2,d.register(M)]})})},g}(),MARKERS=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],ColorSpace;(function(g){g.DeviceGray="DeviceGray",g.DeviceRGB="DeviceRGB",g.DeviceCMYK="DeviceCMYK"})(ColorSpace||(ColorSpace={}));var ChannelToColorSpace={1:ColorSpace.DeviceGray,3:ColorSpace.DeviceRGB,4:ColorSpace.DeviceCMYK},JpegEmbedder=function(){function g(d,x,b,S,w){this.imageData=d,this.bitsPerComponent=x,this.width=b,this.height=S,this.colorSpace=w}return g.for=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,S,w,C,F,E,k,D,M;return __generator(this,function(L){if(x=new DataView(d.buffer),b=x.getUint16(0),b!==65496)throw new Error("SOI not found in JPEG");for(S=2;S<x.byteLength&&(w=x.getUint16(S),S+=2,!MARKERS.includes(w));)S+=x.getUint16(S);if(!MARKERS.includes(w))throw new Error("Invalid JPEG");if(S+=2,C=x.getUint8(S++),F=x.getUint16(S),S+=2,E=x.getUint16(S),S+=2,k=x.getUint8(S++),D=ChannelToColorSpace[k],!D)throw new Error("Unknown JPEG channel.");return M=D,[2,new g(d,C,E,F,M)]})})},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b;return __generator(this,function(S){return b=d.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===ColorSpace.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),x?(d.assign(x,b),[2,x]):[2,d.register(b)]})})},g}(),UPNG={};UPNG.toRGBA8=function(g){var d=g.width,x=g.height;if(g.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(g.data,d,x,g).buffer];var b=[];g.frames[0].data==null&&(g.frames[0].data=g.data);for(var S=d*x*4,w=new Uint8Array(S),C=new Uint8Array(S),F=new Uint8Array(S),E=0;E<g.frames.length;E++){var k=g.frames[E],D=k.rect.x,M=k.rect.y,L=k.rect.width,R=k.rect.height,U=UPNG.toRGBA8.decodeImage(k.data,L,R,g);if(E!=0)for(var j=0;j<S;j++)F[j]=w[j];if(k.blend==0?UPNG._copyTile(U,L,R,w,d,x,D,M,0):k.blend==1&&UPNG._copyTile(U,L,R,w,d,x,D,M,1),b.push(w.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)UPNG._copyTile(C,L,R,w,d,x,D,M,0);else if(k.dispose==2)for(var j=0;j<S;j++)w[j]=F[j]}}return b};UPNG.toRGBA8.decodeImage=function(g,d,x,b){var S=d*x,w=UPNG.decode._getBPP(b),C=Math.ceil(d*w/8),F=new Uint8Array(S*4),E=new Uint32Array(F.buffer),k=b.ctype,D=b.depth,M=UPNG._bin.readUshort;if(k==6){var L=S<<2;if(D==8)for(var R=0;R<L;R+=4)F[R]=g[R],F[R+1]=g[R+1],F[R+2]=g[R+2],F[R+3]=g[R+3];if(D==16)for(var R=0;R<L;R++)F[R]=g[R<<1]}else if(k==2){var U=b.tabs.tRNS;if(U==null){if(D==8)for(var R=0;R<S;R++){var j=R*3;E[R]=255<<24|g[j+2]<<16|g[j+1]<<8|g[j]}if(D==16)for(var R=0;R<S;R++){var j=R*6;E[R]=255<<24|g[j+4]<<16|g[j+2]<<8|g[j]}}else{var H=U[0],V=U[1],z=U[2];if(D==8)for(var R=0;R<S;R++){var G=R<<2,j=R*3;E[R]=255<<24|g[j+2]<<16|g[j+1]<<8|g[j],g[j]==H&&g[j+1]==V&&g[j+2]==z&&(F[G+3]=0)}if(D==16)for(var R=0;R<S;R++){var G=R<<2,j=R*6;E[R]=255<<24|g[j+4]<<16|g[j+2]<<8|g[j],M(g,j)==H&&M(g,j+2)==V&&M(g,j+4)==z&&(F[G+3]=0)}}}else if(k==3){var X=b.tabs.PLTE,Y=b.tabs.tRNS,J=Y?Y.length:0;if(D==1)for(var ee=0;ee<x;ee++)for(var ie=ee*C,oe=ee*d,R=0;R<d;R++){var G=oe+R<<2,he=g[ie+(R>>3)]>>7-((R&7)<<0)&1,fe=3*he;F[G]=X[fe],F[G+1]=X[fe+1],F[G+2]=X[fe+2],F[G+3]=he<J?Y[he]:255}if(D==2)for(var ee=0;ee<x;ee++)for(var ie=ee*C,oe=ee*d,R=0;R<d;R++){var G=oe+R<<2,he=g[ie+(R>>2)]>>6-((R&3)<<1)&3,fe=3*he;F[G]=X[fe],F[G+1]=X[fe+1],F[G+2]=X[fe+2],F[G+3]=he<J?Y[he]:255}if(D==4)for(var ee=0;ee<x;ee++)for(var ie=ee*C,oe=ee*d,R=0;R<d;R++){var G=oe+R<<2,he=g[ie+(R>>1)]>>4-((R&1)<<2)&15,fe=3*he;F[G]=X[fe],F[G+1]=X[fe+1],F[G+2]=X[fe+2],F[G+3]=he<J?Y[he]:255}if(D==8)for(var R=0;R<S;R++){var G=R<<2,he=g[R],fe=3*he;F[G]=X[fe],F[G+1]=X[fe+1],F[G+2]=X[fe+2],F[G+3]=he<J?Y[he]:255}}else if(k==4){if(D==8)for(var R=0;R<S;R++){var G=R<<2,Se=R<<1,we=g[Se];F[G]=we,F[G+1]=we,F[G+2]=we,F[G+3]=g[Se+1]}if(D==16)for(var R=0;R<S;R++){var G=R<<2,Se=R<<2,we=g[Se];F[G]=we,F[G+1]=we,F[G+2]=we,F[G+3]=g[Se+2]}}else if(k==0)for(var H=b.tabs.tRNS?b.tabs.tRNS:-1,ee=0;ee<x;ee++){var Ee=ee*C,de=ee*d;if(D==1)for(var xe=0;xe<d;xe++){var we=255*(g[Ee+(xe>>>3)]>>>7-(xe&7)&1),Te=we==H*255?0:255;E[de+xe]=Te<<24|we<<16|we<<8|we}else if(D==2)for(var xe=0;xe<d;xe++){var we=85*(g[Ee+(xe>>>2)]>>>6-((xe&3)<<1)&3),Te=we==H*85?0:255;E[de+xe]=Te<<24|we<<16|we<<8|we}else if(D==4)for(var xe=0;xe<d;xe++){var we=17*(g[Ee+(xe>>>1)]>>>4-((xe&1)<<2)&15),Te=we==H*17?0:255;E[de+xe]=Te<<24|we<<16|we<<8|we}else if(D==8)for(var xe=0;xe<d;xe++){var we=g[Ee+xe],Te=we==H?0:255;E[de+xe]=Te<<24|we<<16|we<<8|we}else if(D==16)for(var xe=0;xe<d;xe++){var we=g[Ee+(xe<<1)],Te=M(g,Ee+(xe<<R))==H?0:255;E[de+xe]=Te<<24|we<<16|we<<8|we}}return F};UPNG.decode=function(g){for(var d=new Uint8Array(g),x=8,b=UPNG._bin,S=b.readUshort,w=b.readUint,C={tabs:{},frames:[]},F=new Uint8Array(d.length),E=0,k,D=0,M=[137,80,78,71,13,10,26,10],L=0;L<8;L++)if(d[L]!=M[L])throw"The input is not a PNG file!";for(;x<d.length;){var R=b.readUint(d,x);x+=4;var U=b.readASCII(d,x,4);if(x+=4,U=="IHDR")UPNG.decode._IHDR(d,x,C);else if(U=="IDAT"){for(var L=0;L<R;L++)F[E+L]=d[x+L];E+=R}else if(U=="acTL")C.tabs[U]={num_frames:w(d,x),num_plays:w(d,x+4)},k=new Uint8Array(d.length);else if(U=="fcTL"){if(D!=0){var j=C.frames[C.frames.length-1];j.data=UPNG.decode._decompress(C,k.slice(0,D),j.rect.width,j.rect.height),D=0}var H={x:w(d,x+12),y:w(d,x+16),width:w(d,x+4),height:w(d,x+8)},V=S(d,x+22);V=S(d,x+20)/(V==0?100:V);var z={rect:H,delay:Math.round(V*1e3),dispose:d[x+24],blend:d[x+25]};C.frames.push(z)}else if(U=="fdAT"){for(var L=0;L<R-4;L++)k[D+L]=d[x+L+4];D+=R-4}else if(U=="pHYs")C.tabs[U]=[b.readUint(d,x),b.readUint(d,x+4),d[x+8]];else if(U=="cHRM"){C.tabs[U]=[];for(var L=0;L<8;L++)C.tabs[U].push(b.readUint(d,x+L*4))}else if(U=="tEXt"){C.tabs[U]==null&&(C.tabs[U]={});var G=b.nextZero(d,x),X=b.readASCII(d,x,G-x),Y=b.readASCII(d,G+1,x+R-G-1);C.tabs[U][X]=Y}else if(U=="iTXt"){C.tabs[U]==null&&(C.tabs[U]={});var G=0,J=x;G=b.nextZero(d,J);var X=b.readASCII(d,J,G-J);J=G+1,d[J],d[J+1],J+=2,G=b.nextZero(d,J),b.readASCII(d,J,G-J),J=G+1,G=b.nextZero(d,J),b.readUTF8(d,J,G-J),J=G+1;var Y=b.readUTF8(d,J,R-(J-x));C.tabs[U][X]=Y}else if(U=="PLTE")C.tabs[U]=b.readBytes(d,x,R);else if(U=="hIST"){var ee=C.tabs.PLTE.length/3;C.tabs[U]=[];for(var L=0;L<ee;L++)C.tabs[U].push(S(d,x+L*2))}else if(U=="tRNS")C.ctype==3?C.tabs[U]=b.readBytes(d,x,R):C.ctype==0?C.tabs[U]=S(d,x):C.ctype==2&&(C.tabs[U]=[S(d,x),S(d,x+2),S(d,x+4)]);else if(U=="gAMA")C.tabs[U]=b.readUint(d,x)/1e5;else if(U=="sRGB")C.tabs[U]=d[x];else if(U=="bKGD")C.ctype==0||C.ctype==4?C.tabs[U]=[S(d,x)]:C.ctype==2||C.ctype==6?C.tabs[U]=[S(d,x),S(d,x+2),S(d,x+4)]:C.ctype==3&&(C.tabs[U]=d[x]);else if(U=="IEND")break;x+=R,b.readUint(d,x),x+=4}if(D!=0){var j=C.frames[C.frames.length-1];j.data=UPNG.decode._decompress(C,k.slice(0,D),j.rect.width,j.rect.height),D=0}return C.data=UPNG.decode._decompress(C,F,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C};UPNG.decode._decompress=function(g,d,x,b){var S=UPNG.decode._getBPP(g),w=Math.ceil(x*S/8),C=new Uint8Array((w+1+g.interlace)*b);return d=UPNG.decode._inflate(d,C),g.interlace==0?d=UPNG.decode._filterZero(d,g,0,x,b):g.interlace==1&&(d=UPNG.decode._readInterlace(d,g)),d};UPNG.decode._inflate=function(g,d){var x=UPNG.inflateRaw(new Uint8Array(g.buffer,2,g.length-6),d);return x};UPNG.inflateRaw=function(){var g={};return g.H={},g.H.N=function(d,x){var b=Uint8Array,S=0,w=0,C=0,F=0,E=0,k=0,D=0,M=0,L=0,R,U;if(d[0]==3&&d[1]==0)return x||new b(0);var j=g.H,H=j.b,V=j.e,z=j.R,G=j.n,X=j.A,Y=j.Z,J=j.m,ee=x==null;for(ee&&(x=new b(d.length>>>2<<3));S==0;){if(S=H(d,L,1),w=H(d,L+1,2),L+=3,w==0){L&7&&(L+=8-(L&7));var ie=(L>>>3)+4,oe=d[ie-4]|d[ie-3]<<8;ee&&(x=g.H.W(x,M+oe)),x.set(new b(d.buffer,d.byteOffset+ie,oe),M),L=ie+oe<<3,M+=oe;continue}if(ee&&(x=g.H.W(x,M+(1<<17))),w==1&&(R=J.J,U=J.h,k=511,D=31),w==2){C=V(d,L,5)+257,F=V(d,L+5,5)+1,E=V(d,L+10,4)+4,L+=14;for(var he=1,fe=0;fe<38;fe+=2)J.Q[fe]=0,J.Q[fe+1]=0;for(var fe=0;fe<E;fe++){var Se=V(d,L+fe*3,3);J.Q[(J.X[fe]<<1)+1]=Se,Se>he&&(he=Se)}L+=3*E,G(J.Q,he),X(J.Q,he,J.u),R=J.w,U=J.d,L=z(J.u,(1<<he)-1,C+F,d,L,J.v);var we=j.V(J.v,0,C,J.C);k=(1<<we)-1;var Ee=j.V(J.v,C,F,J.D);D=(1<<Ee)-1,G(J.C,we),X(J.C,we,R),G(J.D,Ee),X(J.D,Ee,U)}for(;;){var de=R[Y(d,L)&k];L+=de&15;var xe=de>>>4;if(!(xe>>>8))x[M++]=xe;else{if(xe==256)break;var Te=M+xe-254;if(xe>264){var Oe=J.q[xe-257];Te=M+(Oe>>>3)+V(d,L,Oe&7),L+=Oe&7}var Ne=U[Y(d,L)&D];L+=Ne&15;var Le=Ne>>>4,Me=J.c[Le],Ie=(Me>>>4)+H(d,L,Me&15);for(L+=Me&15;M<Te;)x[M]=x[M++-Ie],x[M]=x[M++-Ie],x[M]=x[M++-Ie],x[M]=x[M++-Ie];M=Te}}}return x.length==M?x:x.slice(0,M)},g.H.W=function(d,x){var b=d.length;if(x<=b)return d;var S=new Uint8Array(b<<1);return S.set(d,0),S},g.H.R=function(d,x,b,S,w,C){for(var F=g.H.e,E=g.H.Z,k=0;k<b;){var D=d[E(S,w)&x];w+=D&15;var M=D>>>4;if(M<=15)C[k]=M,k++;else{var L=0,R=0;M==16?(R=3+F(S,w,2),w+=2,L=C[k-1]):M==17?(R=3+F(S,w,3),w+=3):M==18&&(R=11+F(S,w,7),w+=7);for(var U=k+R;k<U;)C[k]=L,k++}}return w},g.H.V=function(d,x,b,S){for(var w=0,C=0,F=S.length>>>1;C<b;){var E=d[C+x];S[C<<1]=0,S[(C<<1)+1]=E,E>w&&(w=E),C++}for(;C<F;)S[C<<1]=0,S[(C<<1)+1]=0,C++;return w},g.H.n=function(d,x){for(var b=g.H.m,S=d.length,w,C,F,E,k,D=b.j,E=0;E<=x;E++)D[E]=0;for(E=1;E<S;E+=2)D[d[E]]++;var M=b.K;for(w=0,D[0]=0,C=1;C<=x;C++)w=w+D[C-1]<<1,M[C]=w;for(F=0;F<S;F+=2)k=d[F+1],k!=0&&(d[F]=M[k],M[k]++)},g.H.A=function(d,x,b){for(var S=d.length,w=g.H.m,C=w.r,F=0;F<S;F+=2)if(d[F+1]!=0)for(var E=F>>1,k=d[F+1],D=E<<4|k,M=x-k,L=d[F]<<M,R=L+(1<<M);L!=R;){var U=C[L]>>>15-x;b[U]=D,L++}},g.H.l=function(d,x){for(var b=g.H.m.r,S=15-x,w=0;w<d.length;w+=2){var C=d[w]<<x-d[w+1];d[w]=b[C]>>>S}},g.H.M=function(d,x,b){b=b<<(x&7);var S=x>>>3;d[S]|=b,d[S+1]|=b>>>8},g.H.I=function(d,x,b){b=b<<(x&7);var S=x>>>3;d[S]|=b,d[S+1]|=b>>>8,d[S+2]|=b>>>16},g.H.e=function(d,x,b){return(d[x>>>3]|d[(x>>>3)+1]<<8)>>>(x&7)&(1<<b)-1},g.H.b=function(d,x,b){return(d[x>>>3]|d[(x>>>3)+1]<<8|d[(x>>>3)+2]<<16)>>>(x&7)&(1<<b)-1},g.H.Z=function(d,x){return(d[x>>>3]|d[(x>>>3)+1]<<8|d[(x>>>3)+2]<<16)>>>(x&7)},g.H.i=function(d,x){return(d[x>>>3]|d[(x>>>3)+1]<<8|d[(x>>>3)+2]<<16|d[(x>>>3)+3]<<24)>>>(x&7)},g.H.m=function(){var d=Uint16Array,x=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new x(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new x(286),Y:new x(30),a:new x(19),t:new x(15e3),k:new d(65536),g:new d(32768)}}(),function(){for(var d=g.H.m,x=32768,b=0;b<x;b++){var S=b;S=(S&2863311530)>>>1|(S&1431655765)<<1,S=(S&3435973836)>>>2|(S&858993459)<<2,S=(S&4042322160)>>>4|(S&252645135)<<4,S=(S&4278255360)>>>8|(S&16711935)<<8,d.r[b]=(S>>>16|S<<16)>>>17}function w(C,F,E){for(;F--!=0;)C.push(0,E)}for(var b=0;b<32;b++)d.q[b]=d.S[b]<<3|d.T[b],d.c[b]=d.p[b]<<4|d.z[b];w(d._,144,8),w(d._,112,9),w(d._,24,7),w(d._,8,8),g.H.n(d._,9),g.H.A(d._,9,d.J),g.H.l(d._,9),w(d.$,32,5),g.H.n(d.$,5),g.H.A(d.$,5,d.h),g.H.l(d.$,5),w(d.Q,19,0),w(d.C,286,0),w(d.D,30,0),w(d.v,320,0)}(),g.H.N}();UPNG.decode._readInterlace=function(g,d){for(var x=d.width,b=d.height,S=UPNG.decode._getBPP(d),w=S>>3,C=Math.ceil(x*S/8),F=new Uint8Array(b*C),E=0,k=[0,0,4,0,2,0,1],D=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1],R=0;R<7;){for(var U=M[R],j=L[R],H=0,V=0,z=k[R];z<b;)z+=U,V++;for(var G=D[R];G<x;)G+=j,H++;var X=Math.ceil(H*S/8);UPNG.decode._filterZero(g,d,E,H,V);for(var Y=0,J=k[R];J<b;){for(var ee=D[R],ie=E+Y*X<<3;ee<x;){if(S==1){var oe=g[ie>>3];oe=oe>>7-(ie&7)&1,F[J*C+(ee>>3)]|=oe<<7-((ee&7)<<0)}if(S==2){var oe=g[ie>>3];oe=oe>>6-(ie&7)&3,F[J*C+(ee>>2)]|=oe<<6-((ee&3)<<1)}if(S==4){var oe=g[ie>>3];oe=oe>>4-(ie&7)&15,F[J*C+(ee>>1)]|=oe<<4-((ee&1)<<2)}if(S>=8)for(var he=J*C+ee*w,fe=0;fe<w;fe++)F[he+fe]=g[(ie>>3)+fe];ie+=S,ee+=j}Y++,J+=U}H*V!=0&&(E+=V*(1+X)),R=R+1}return F};UPNG.decode._getBPP=function(g){var d=[1,null,3,1,2,null,4][g.ctype];return d*g.depth};UPNG.decode._filterZero=function(g,d,x,b,S){var w=UPNG.decode._getBPP(d),C=Math.ceil(b*w/8),F=UPNG.decode._paeth;w=Math.ceil(w/8);var E=0,k=1,D=g[x],M=0;if(D>1&&(g[x]=[0,0,1][D-2]),D==3)for(M=w;M<C;M++)g[M+1]=g[M+1]+(g[M+1-w]>>>1)&255;for(var L=0;L<S;L++)if(E=x+L*C,k=E+L+1,D=g[k-1],M=0,D==0)for(;M<C;M++)g[E+M]=g[k+M];else if(D==1){for(;M<w;M++)g[E+M]=g[k+M];for(;M<C;M++)g[E+M]=g[k+M]+g[E+M-w]}else if(D==2)for(;M<C;M++)g[E+M]=g[k+M]+g[E+M-C];else if(D==3){for(;M<w;M++)g[E+M]=g[k+M]+(g[E+M-C]>>>1);for(;M<C;M++)g[E+M]=g[k+M]+(g[E+M-C]+g[E+M-w]>>>1)}else{for(;M<w;M++)g[E+M]=g[k+M]+F(0,g[E+M-C],0);for(;M<C;M++)g[E+M]=g[k+M]+F(g[E+M-w],g[E+M-C],g[E+M-w-C])}return g};UPNG.decode._paeth=function(g,d,x){var b=g+d-x,S=b-g,w=b-d,C=b-x;return S*S<=w*w&&S*S<=C*C?g:w*w<=C*C?d:x};UPNG.decode._IHDR=function(g,d,x){var b=UPNG._bin;x.width=b.readUint(g,d),d+=4,x.height=b.readUint(g,d),d+=4,x.depth=g[d],d++,x.ctype=g[d],d++,x.compress=g[d],d++,x.filter=g[d],d++,x.interlace=g[d],d++};UPNG._bin={nextZero:function(g,d){for(;g[d]!=0;)d++;return d},readUshort:function(g,d){return g[d]<<8|g[d+1]},writeUshort:function(g,d,x){g[d]=x>>8&255,g[d+1]=x&255},readUint:function(g,d){return g[d]*(256*256*256)+(g[d+1]<<16|g[d+2]<<8|g[d+3])},writeUint:function(g,d,x){g[d]=x>>24&255,g[d+1]=x>>16&255,g[d+2]=x>>8&255,g[d+3]=x&255},readASCII:function(g,d,x){for(var b="",S=0;S<x;S++)b+=String.fromCharCode(g[d+S]);return b},writeASCII:function(g,d,x){for(var b=0;b<x.length;b++)g[d+b]=x.charCodeAt(b)},readBytes:function(g,d,x){for(var b=[],S=0;S<x;S++)b.push(g[d+S]);return b},pad:function(g){return g.length<2?"0"+g:g},readUTF8:function(g,d,x){for(var b="",S,w=0;w<x;w++)b+="%"+UPNG._bin.pad(g[d+w].toString(16));try{S=decodeURIComponent(b)}catch{return UPNG._bin.readASCII(g,d,x)}return S}};UPNG._copyTile=function(g,d,x,b,S,w,C,F,E){for(var k=Math.min(d,S),D=Math.min(x,w),M=0,L=0,R=0;R<D;R++)for(var U=0;U<k;U++)if(C>=0&&F>=0?(M=R*d+U<<2,L=(F+R)*S+C+U<<2):(M=(-F+R)*d-C+U<<2,L=R*S+U<<2),E==0)b[L]=g[M],b[L+1]=g[M+1],b[L+2]=g[M+2],b[L+3]=g[M+3];else if(E==1){var j=g[M+3]*.00392156862745098,H=g[M]*j,V=g[M+1]*j,z=g[M+2]*j,G=b[L+3]*(1/255),X=b[L]*G,Y=b[L+1]*G,J=b[L+2]*G,ee=1-j,ie=j+G*ee,oe=ie==0?0:1/ie;b[L+3]=255*ie,b[L+0]=(H+X*ee)*oe,b[L+1]=(V+Y*ee)*oe,b[L+2]=(z+J*ee)*oe}else if(E==2){var j=g[M+3],H=g[M],V=g[M+1],z=g[M+2],G=b[L+3],X=b[L],Y=b[L+1],J=b[L+2];j==G&&H==X&&V==Y&&z==J?(b[L]=0,b[L+1]=0,b[L+2]=0,b[L+3]=0):(b[L]=H,b[L+1]=V,b[L+2]=z,b[L+3]=j)}else if(E==3){var j=g[M+3],H=g[M],V=g[M+1],z=g[M+2],G=b[L+3],X=b[L],Y=b[L+1],J=b[L+2];if(j==G&&H==X&&V==Y&&z==J)continue;if(j<220&&G>20)return!1}return!0};UPNG.encode=function(g,d,x,b,S,w,C){b==null&&(b=0),C==null&&(C=!1);var F=UPNG.encode.compress(g,d,x,b,[!1,!1,!1,0,C]);return UPNG.encode.compressPNG(F,-1),UPNG.encode._main(F,d,x,S,w)};UPNG.encodeLL=function(g,d,x,b,S,w,C,F){for(var E={ctype:0+(b==1?0:2)+(S==0?0:4),depth:w,frames:[]},k=(b+S)*w,D=k*d,M=0;M<g.length;M++)E.frames.push({rect:{x:0,y:0,width:d,height:x},img:new Uint8Array(g[M]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(D/8)});UPNG.encode.compressPNG(E,0,!0);var L=UPNG.encode._main(E,d,x,C,F);return L};UPNG.encode._main=function(g,d,x,b,S){S==null&&(S={});var w=UPNG.crc.crc,C=UPNG._bin.writeUint,F=UPNG._bin.writeUshort,E=UPNG._bin.writeASCII,k=8,D=g.frames.length>1,M=!1,L=33+(D?20:0);if(S.sRGB!=null&&(L+=13),S.pHYs!=null&&(L+=21),g.ctype==3){for(var R=g.plte.length,U=0;U<R;U++)g.plte[U]>>>24!=255&&(M=!0);L+=8+R*3+4+(M?8+R*1+4:0)}for(var j=0;j<g.frames.length;j++){var H=g.frames[j];D&&(L+=38),L+=H.cimg.length+12,j!=0&&(L+=4)}L+=12;for(var V=new Uint8Array(L),z=[137,80,78,71,13,10,26,10],U=0;U<8;U++)V[U]=z[U];if(C(V,k,13),k+=4,E(V,k,"IHDR"),k+=4,C(V,k,d),k+=4,C(V,k,x),k+=4,V[k]=g.depth,k++,V[k]=g.ctype,k++,V[k]=0,k++,V[k]=0,k++,V[k]=0,k++,C(V,k,w(V,k-17,17)),k+=4,S.sRGB!=null&&(C(V,k,1),k+=4,E(V,k,"sRGB"),k+=4,V[k]=S.sRGB,k++,C(V,k,w(V,k-5,5)),k+=4),S.pHYs!=null&&(C(V,k,9),k+=4,E(V,k,"pHYs"),k+=4,C(V,k,S.pHYs[0]),k+=4,C(V,k,S.pHYs[1]),k+=4,V[k]=S.pHYs[2],k++,C(V,k,w(V,k-13,13)),k+=4),D&&(C(V,k,8),k+=4,E(V,k,"acTL"),k+=4,C(V,k,g.frames.length),k+=4,C(V,k,S.loop!=null?S.loop:0),k+=4,C(V,k,w(V,k-12,12)),k+=4),g.ctype==3){var R=g.plte.length;C(V,k,R*3),k+=4,E(V,k,"PLTE"),k+=4;for(var U=0;U<R;U++){var G=U*3,X=g.plte[U],Y=X&255,J=X>>>8&255,ee=X>>>16&255;V[k+G+0]=Y,V[k+G+1]=J,V[k+G+2]=ee}if(k+=R*3,C(V,k,w(V,k-R*3-4,R*3+4)),k+=4,M){C(V,k,R),k+=4,E(V,k,"tRNS"),k+=4;for(var U=0;U<R;U++)V[k+U]=g.plte[U]>>>24&255;k+=R,C(V,k,w(V,k-R-4,R+4)),k+=4}}for(var ie=0,j=0;j<g.frames.length;j++){var H=g.frames[j];D&&(C(V,k,26),k+=4,E(V,k,"fcTL"),k+=4,C(V,k,ie++),k+=4,C(V,k,H.rect.width),k+=4,C(V,k,H.rect.height),k+=4,C(V,k,H.rect.x),k+=4,C(V,k,H.rect.y),k+=4,F(V,k,b[j]),k+=2,F(V,k,1e3),k+=2,V[k]=H.dispose,k++,V[k]=H.blend,k++,C(V,k,w(V,k-30,30)),k+=4);var oe=H.cimg,R=oe.length;C(V,k,R+(j==0?0:4)),k+=4;var he=k;E(V,k,j==0?"IDAT":"fdAT"),k+=4,j!=0&&(C(V,k,ie++),k+=4),V.set(oe,k),k+=R,C(V,k,w(V,he,k-he)),k+=4}return C(V,k,0),k+=4,E(V,k,"IEND"),k+=4,C(V,k,w(V,k-4,4)),k+=4,V.buffer};UPNG.encode.compressPNG=function(g,d,x){for(var b=0;b<g.frames.length;b++){var S=g.frames[b];S.rect.width;var w=S.rect.height,C=new Uint8Array(w*S.bpl+w);S.cimg=UPNG.encode._filterZero(S.img,w,S.bpp,S.bpl,C,d,x)}};UPNG.encode.compress=function(g,d,x,b,S){for(var w=S[0],C=S[1],F=S[2],E=S[3],k=S[4],D=6,M=8,L=255,R=0;R<g.length;R++)for(var U=new Uint8Array(g[R]),j=U.length,H=0;H<j;H+=4)L&=U[H+3];var V=L!=255,z=UPNG.encode.framize(g,d,x,w,C,F),G={},X=[],Y=[];if(b!=0){for(var J=[],H=0;H<z.length;H++)J.push(z[H].img.buffer);for(var ee=UPNG.encode.concatRGBA(J),ie=UPNG.quantize(ee,b),oe=0,he=new Uint8Array(ie.abuf),H=0;H<z.length;H++){var fe=z[H].img,Se=fe.length;Y.push(new Uint8Array(ie.inds.buffer,oe>>2,Se>>2));for(var R=0;R<Se;R+=4)fe[R]=he[oe+R],fe[R+1]=he[oe+R+1],fe[R+2]=he[oe+R+2],fe[R+3]=he[oe+R+3];oe+=Se}for(var H=0;H<ie.plte.length;H++)X.push(ie.plte[H].est.rgba)}else for(var R=0;R<z.length;R++){var we=z[R],Ee=new Uint32Array(we.img.buffer),de=we.rect.width,j=Ee.length,xe=new Uint8Array(j);Y.push(xe);for(var H=0;H<j;H++){var Te=Ee[H];if(H!=0&&Te==Ee[H-1])xe[H]=xe[H-1];else if(H>de&&Te==Ee[H-de])xe[H]=xe[H-de];else{var Oe=G[Te];if(Oe==null&&(G[Te]=Oe=X.length,X.push(Te),X.length>=300))break;xe[H]=Oe}}}var Ne=X.length;Ne<=256&&k==!1&&(Ne<=2?M=1:Ne<=4?M=2:Ne<=16?M=4:M=8,M=Math.max(M,E));for(var R=0;R<z.length;R++){var we=z[R];we.rect.x,we.rect.y;var de=we.rect.width,Le=we.rect.height,Me=we.img;new Uint32Array(Me.buffer);var Ie=4*de,Ve=4;if(Ne<=256&&k==!1){Ie=Math.ceil(M*de/8);for(var De=new Uint8Array(Ie*Le),Pe=Y[R],Ce=0;Ce<Le;Ce++){var H=Ce*Ie,te=Ce*de;if(M==8)for(var re=0;re<de;re++)De[H+re]=Pe[te+re];else if(M==4)for(var re=0;re<de;re++)De[H+(re>>1)]|=Pe[te+re]<<4-(re&1)*4;else if(M==2)for(var re=0;re<de;re++)De[H+(re>>2)]|=Pe[te+re]<<6-(re&3)*2;else if(M==1)for(var re=0;re<de;re++)De[H+(re>>3)]|=Pe[te+re]<<7-(re&7)*1}Me=De,D=3,Ve=1}else if(V==!1&&z.length==1){for(var De=new Uint8Array(de*Le*3),W=de*Le,H=0;H<W;H++){var fe=H*3,$=H*4;De[fe]=Me[$],De[fe+1]=Me[$+1],De[fe+2]=Me[$+2]}Me=De,D=2,Ve=3,Ie=3*de}we.img=Me,we.bpl=Ie,we.bpp=Ve}return{ctype:D,depth:M,plte:X,frames:z}};UPNG.encode.framize=function(g,d,x,b,S,w){for(var C=[],F=0;F<g.length;F++){var E=new Uint8Array(g[F]),k=new Uint32Array(E.buffer),D,M=0,L=0,R=d,U=x,j=b?1:0;if(F!=0){for(var H=w||b||F==1||C[F-2].dispose!=0?1:2,V=0,z=1e9,G=0;G<H;G++){for(var we=new Uint8Array(g[F-1-G]),X=new Uint32Array(g[F-1-G]),Y=d,J=x,ee=-1,ie=-1,oe=0;oe<x;oe++)for(var he=0;he<d;he++){var fe=oe*d+he;k[fe]!=X[fe]&&(he<Y&&(Y=he),he>ee&&(ee=he),oe<J&&(J=oe),oe>ie&&(ie=oe))}ee==-1&&(Y=J=ee=ie=0),S&&((Y&1)==1&&Y--,(J&1)==1&&J--);var Se=(ee-Y+1)*(ie-J+1);Se<z&&(z=Se,V=G,M=Y,L=J,R=ee-Y+1,U=ie-J+1)}var we=new Uint8Array(g[F-1-V]);V==1&&(C[F-1].dispose=2),D=new Uint8Array(R*U*4),UPNG._copyTile(we,d,x,D,R,U,-M,-L,0),j=UPNG._copyTile(E,d,x,D,R,U,-M,-L,3)?1:0,j==1?UPNG.encode._prepareDiff(E,d,x,D,{x:M,y:L,width:R,height:U}):UPNG._copyTile(E,d,x,D,R,U,-M,-L,0)}else D=E.slice(0);C.push({rect:{x:M,y:L,width:R,height:U},img:D,blend:j,dispose:0})}if(b)for(var F=0;F<C.length;F++){var Ee=C[F];if(Ee.blend!=1){var de=Ee.rect,xe=C[F-1].rect,Te=Math.min(de.x,xe.x),Oe=Math.min(de.y,xe.y),Ne=Math.max(de.x+de.width,xe.x+xe.width),Le=Math.max(de.y+de.height,xe.y+xe.height),Me={x:Te,y:Oe,width:Ne-Te,height:Le-Oe};C[F-1].dispose=1,F-1!=0&&UPNG.encode._updateFrame(g,d,x,C,F-1,Me,S),UPNG.encode._updateFrame(g,d,x,C,F,Me,S)}}var Ie=0;if(g.length!=1)for(var fe=0;fe<C.length;fe++){var Ee=C[fe];Ie+=Ee.rect.width*Ee.rect.height}return C};UPNG.encode._updateFrame=function(g,d,x,b,S,w,C){for(var F=Uint8Array,E=Uint32Array,k=new F(g[S-1]),D=new E(g[S-1]),M=S+1<g.length?new F(g[S+1]):null,L=new F(g[S]),R=new E(L.buffer),U=d,j=x,H=-1,V=-1,z=0;z<w.height;z++)for(var G=0;G<w.width;G++){var X=w.x+G,Y=w.y+z,J=Y*d+X,ee=R[J];ee==0||b[S-1].dispose==0&&D[J]==ee&&(M==null||M[J*4+3]!=0)||(X<U&&(U=X),X>H&&(H=X),Y<j&&(j=Y),Y>V&&(V=Y))}H==-1&&(U=j=H=V=0),C&&((U&1)==1&&U--,(j&1)==1&&j--),w={x:U,y:j,width:H-U+1,height:V-j+1};var ie=b[S];ie.rect=w,ie.blend=1,ie.img=new Uint8Array(w.width*w.height*4),b[S-1].dispose==0?(UPNG._copyTile(k,d,x,ie.img,w.width,w.height,-w.x,-w.y,0),UPNG.encode._prepareDiff(L,d,x,ie.img,w)):UPNG._copyTile(L,d,x,ie.img,w.width,w.height,-w.x,-w.y,0)};UPNG.encode._prepareDiff=function(g,d,x,b,S){UPNG._copyTile(g,d,x,b,S.width,S.height,-S.x,-S.y,2)};UPNG.encode._filterZero=function(g,d,x,b,S,w,C){var F=[],E=[0,1,2,3,4];w!=-1?E=[w]:(d*b>5e5||x==1)&&(E=[0]);var k;C&&(k={level:0});for(var D=C&&UZIP!=null?UZIP:pako$1,M=0;M<E.length;M++){for(var L=0;L<d;L++)UPNG.encode._filterLine(S,g,L,b,x,E[M]);F.push(D.deflate(S,k))}for(var R,U=1e9,M=0;M<F.length;M++)F[M].length<U&&(R=M,U=F[M].length);return F[R]};UPNG.encode._filterLine=function(g,d,x,b,S,w){var C=x*b,F=C+x,E=UPNG.decode._paeth;if(g[F]=w,F++,w==0)if(b<500)for(var k=0;k<b;k++)g[F+k]=d[C+k];else g.set(new Uint8Array(d.buffer,C,b),F);else if(w==1){for(var k=0;k<S;k++)g[F+k]=d[C+k];for(var k=S;k<b;k++)g[F+k]=d[C+k]-d[C+k-S]+256&255}else if(x==0){for(var k=0;k<S;k++)g[F+k]=d[C+k];if(w==2)for(var k=S;k<b;k++)g[F+k]=d[C+k];if(w==3)for(var k=S;k<b;k++)g[F+k]=d[C+k]-(d[C+k-S]>>1)+256&255;if(w==4)for(var k=S;k<b;k++)g[F+k]=d[C+k]-E(d[C+k-S],0,0)+256&255}else{if(w==2)for(var k=0;k<b;k++)g[F+k]=d[C+k]+256-d[C+k-b]&255;if(w==3){for(var k=0;k<S;k++)g[F+k]=d[C+k]+256-(d[C+k-b]>>1)&255;for(var k=S;k<b;k++)g[F+k]=d[C+k]+256-(d[C+k-b]+d[C+k-S]>>1)&255}if(w==4){for(var k=0;k<S;k++)g[F+k]=d[C+k]+256-E(0,d[C+k-b],0)&255;for(var k=S;k<b;k++)g[F+k]=d[C+k]+256-E(d[C+k-S],d[C+k-b],d[C+k-S-b])&255}}};UPNG.crc={table:function(){for(var g=new Uint32Array(256),d=0;d<256;d++){for(var x=d,b=0;b<8;b++)x&1?x=3988292384^x>>>1:x=x>>>1;g[d]=x}return g}(),update:function(g,d,x,b){for(var S=0;S<b;S++)g=UPNG.crc.table[(g^d[x+S])&255]^g>>>8;return g},crc:function(g,d,x){return UPNG.crc.update(4294967295,g,d,x)^4294967295}};UPNG.quantize=function(g,d){var x=new Uint8Array(g),b=x.slice(0),S=new Uint32Array(b.buffer),w=UPNG.quantize.getKDtree(b,d),C=w[0],F=w[1];UPNG.quantize.planeDst;for(var E=x,k=S,D=E.length,M=new Uint8Array(x.length>>2),L=0;L<D;L+=4){var R=E[L]*.00392156862745098,U=E[L+1]*(1/255),j=E[L+2]*(1/255),H=E[L+3]*(1/255),V=UPNG.quantize.getNearest(C,R,U,j,H);M[L>>2]=V.ind,k[L>>2]=V.est.rgba}return{abuf:b.buffer,inds:M,plte:F}};UPNG.quantize.getKDtree=function(g,d,x){x==null&&(x=1e-4);var b=new Uint32Array(g.buffer),S={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};S.bst=UPNG.quantize.stats(g,S.i0,S.i1),S.est=UPNG.quantize.estats(S.bst);for(var w=[S];w.length<d;){for(var C=0,F=0,E=0;E<w.length;E++)w[E].est.L>C&&(C=w[E].est.L,F=E);if(C<x)break;var k=w[F],D=UPNG.quantize.splitPixels(g,b,k.i0,k.i1,k.est.e,k.est.eMq255),M=k.i0>=D||k.i1<=D;if(M){k.est.L=0;continue}var L={i0:k.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};L.bst=UPNG.quantize.stats(g,L.i0,L.i1),L.est=UPNG.quantize.estats(L.bst);var R={i0:D,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};R.bst={R:[],m:[],N:k.bst.N-L.bst.N};for(var E=0;E<16;E++)R.bst.R[E]=k.bst.R[E]-L.bst.R[E];for(var E=0;E<4;E++)R.bst.m[E]=k.bst.m[E]-L.bst.m[E];R.est=UPNG.quantize.estats(R.bst),k.left=L,k.right=R,w[F]=L,w.push(R)}w.sort(function(U,j){return j.bst.N-U.bst.N});for(var E=0;E<w.length;E++)w[E].ind=E;return[S,w]};UPNG.quantize.getNearest=function(g,d,x,b,S){if(g.left==null)return g.tdst=UPNG.quantize.dist(g.est.q,d,x,b,S),g;var w=UPNG.quantize.planeDst(g.est,d,x,b,S),C=g.left,F=g.right;w>0&&(C=g.right,F=g.left);var E=UPNG.quantize.getNearest(C,d,x,b,S);if(E.tdst<=w*w)return E;var k=UPNG.quantize.getNearest(F,d,x,b,S);return k.tdst<E.tdst?k:E};UPNG.quantize.planeDst=function(g,d,x,b,S){var w=g.e;return w[0]*d+w[1]*x+w[2]*b+w[3]*S-g.eMq};UPNG.quantize.dist=function(g,d,x,b,S){var w=d-g[0],C=x-g[1],F=b-g[2],E=S-g[3];return w*w+C*C+F*F+E*E};UPNG.quantize.splitPixels=function(g,d,x,b,S,w){var C=UPNG.quantize.vecDot;for(b-=4;x<b;){for(;C(g,x,S)<=w;)x+=4;for(;C(g,b,S)>w;)b-=4;if(x>=b)break;var F=d[x>>2];d[x>>2]=d[b>>2],d[b>>2]=F,x+=4,b-=4}for(;C(g,x,S)>w;)x-=4;return x+4};UPNG.quantize.vecDot=function(g,d,x){return g[d]*x[0]+g[d+1]*x[1]+g[d+2]*x[2]+g[d+3]*x[3]};UPNG.quantize.stats=function(g,d,x){for(var b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=[0,0,0,0],w=x-d>>2,C=d;C<x;C+=4){var F=g[C]*.00392156862745098,E=g[C+1]*(1/255),k=g[C+2]*(1/255),D=g[C+3]*(1/255);S[0]+=F,S[1]+=E,S[2]+=k,S[3]+=D,b[0]+=F*F,b[1]+=F*E,b[2]+=F*k,b[3]+=F*D,b[5]+=E*E,b[6]+=E*k,b[7]+=E*D,b[10]+=k*k,b[11]+=k*D,b[15]+=D*D}return b[4]=b[1],b[8]=b[2],b[9]=b[6],b[12]=b[3],b[13]=b[7],b[14]=b[11],{R:b,m:S,N:w}};UPNG.quantize.estats=function(g){var d=g.R,x=g.m,b=g.N,S=x[0],w=x[1],C=x[2],F=x[3],E=b==0?0:1/b,k=[d[0]-S*S*E,d[1]-S*w*E,d[2]-S*C*E,d[3]-S*F*E,d[4]-w*S*E,d[5]-w*w*E,d[6]-w*C*E,d[7]-w*F*E,d[8]-C*S*E,d[9]-C*w*E,d[10]-C*C*E,d[11]-C*F*E,d[12]-F*S*E,d[13]-F*w*E,d[14]-F*C*E,d[15]-F*F*E],D=k,M=UPNG.M4,L=[.5,.5,.5,.5],R=0,U=0;if(b!=0)for(var j=0;j<10&&(L=M.multVec(D,L),U=Math.sqrt(M.dot(L,L)),L=M.sml(1/U,L),!(Math.abs(U-R)<1e-9));j++)R=U;var H=[S*E,w*E,C*E,F*E],V=M.dot(M.sml(255,H),L);return{Cov:k,q:H,e:L,L:R,eMq255:V,eMq:M.dot(L,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}};UPNG.M4={multVec:function(g,d){return[g[0]*d[0]+g[1]*d[1]+g[2]*d[2]+g[3]*d[3],g[4]*d[0]+g[5]*d[1]+g[6]*d[2]+g[7]*d[3],g[8]*d[0]+g[9]*d[1]+g[10]*d[2]+g[11]*d[3],g[12]*d[0]+g[13]*d[1]+g[14]*d[2]+g[15]*d[3]]},dot:function(g,d){return g[0]*d[0]+g[1]*d[1]+g[2]*d[2]+g[3]*d[3]},sml:function(g,d){return[g*d[0],g*d[1],g*d[2],g*d[3]]}};UPNG.encode.concatRGBA=function(g){for(var d=0,x=0;x<g.length;x++)d+=g[x].byteLength;for(var b=new Uint8Array(d),S=0,x=0;x<g.length;x++){for(var w=new Uint8Array(g[x]),C=w.length,F=0;F<C;F+=4){var E=w[F],k=w[F+1],D=w[F+2],M=w[F+3];M==0&&(E=k=D=0),b[S+F]=E,b[S+F+1]=k,b[S+F+2]=D,b[S+F+3]=M}S+=C}return b.buffer};var getImageType=function(g){if(g===0)return PngType.Greyscale;if(g===2)return PngType.Truecolour;if(g===3)return PngType.IndexedColour;if(g===4)return PngType.GreyscaleWithAlpha;if(g===6)return PngType.TruecolourWithAlpha;throw new Error("Unknown color type: "+g)},splitAlphaChannel=function(g){for(var d=Math.floor(g.length/4),x=new Uint8Array(d*3),b=new Uint8Array(d*1),S=0,w=0,C=0;S<g.length;)x[w++]=g[S++],x[w++]=g[S++],x[w++]=g[S++],b[C++]=g[S++];return{rgbChannel:x,alphaChannel:b}},PngType;(function(g){g.Greyscale="Greyscale",g.Truecolour="Truecolour",g.IndexedColour="IndexedColour",g.GreyscaleWithAlpha="GreyscaleWithAlpha",g.TruecolourWithAlpha="TruecolourWithAlpha"})(PngType||(PngType={}));var PNG=function(){function g(d){var x=UPNG.decode(d),b=UPNG.toRGBA8(x);if(b.length>1)throw new Error("Animated PNGs are not supported");var S=new Uint8Array(b[0]),w=splitAlphaChannel(S),C=w.rgbChannel,F=w.alphaChannel;this.rgbChannel=C;var E=F.some(function(k){return k<255});E&&(this.alphaChannel=F),this.type=getImageType(x.ctype),this.width=x.width,this.height=x.height,this.bitsPerComponent=8}return g.load=function(d){return new g(d)},g}(),PngEmbedder=function(){function g(d){this.image=d,this.bitsPerComponent=d.bitsPerComponent,this.width=d.width,this.height=d.height,this.colorSpace="DeviceRGB"}return g.for=function(d){return __awaiter(this,void 0,void 0,function(){var x;return __generator(this,function(b){return x=PNG.load(d),[2,new g(x)]})})},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,S;return __generator(this,function(w){return b=this.embedAlphaChannel(d),S=d.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:b}),x?(d.assign(x,S),[2,x]):[2,d.register(S)]})})},g.prototype.embedAlphaChannel=function(d){if(this.image.alphaChannel){var x=d.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return d.register(x)}},g}(),Stream=function(){function g(d,x,b){this.bytes=d,this.start=x||0,this.pos=this.start,this.end=x&&b?x+b:this.bytes.length}return Object.defineProperty(g.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),g.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},g.prototype.getUint16=function(){var d=this.getByte(),x=this.getByte();return d===-1||x===-1?-1:(d<<8)+x},g.prototype.getInt32=function(){var d=this.getByte(),x=this.getByte(),b=this.getByte(),S=this.getByte();return(d<<24)+(x<<16)+(b<<8)+S},g.prototype.getBytes=function(d,x){x===void 0&&(x=!1);var b=this.bytes,S=this.pos,w=this.end;if(d){var F=S+d;F>w&&(F=w),this.pos=F;var C=b.subarray(S,F);return x?new Uint8ClampedArray(C):C}else{var C=b.subarray(S,w);return x?new Uint8ClampedArray(C):C}},g.prototype.peekByte=function(){var d=this.getByte();return this.pos--,d},g.prototype.peekBytes=function(d,x){x===void 0&&(x=!1);var b=this.getBytes(d,x);return this.pos-=b.length,b},g.prototype.skip=function(d){d||(d=1),this.pos+=d},g.prototype.reset=function(){this.pos=this.start},g.prototype.moveStart=function(){this.start=this.pos},g.prototype.makeSubStream=function(d,x){return new g(this.bytes,d,x)},g.prototype.decode=function(){return this.bytes},g}(),emptyBuffer=new Uint8Array(0),DecodeStream=function(){function g(d){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,d)for(;this.minBufferLength<d;)this.minBufferLength*=2}return Object.defineProperty(g.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),g.prototype.getByte=function(){for(var d=this.pos;this.bufferLength<=d;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},g.prototype.getUint16=function(){var d=this.getByte(),x=this.getByte();return d===-1||x===-1?-1:(d<<8)+x},g.prototype.getInt32=function(){var d=this.getByte(),x=this.getByte(),b=this.getByte(),S=this.getByte();return(d<<24)+(x<<16)+(b<<8)+S},g.prototype.getBytes=function(d,x){x===void 0&&(x=!1);var b,S=this.pos;if(d){for(this.ensureBuffer(S+d),b=S+d;!this.eof&&this.bufferLength<b;)this.readBlock();var w=this.bufferLength;b>w&&(b=w)}else{for(;!this.eof;)this.readBlock();b=this.bufferLength}this.pos=b;var C=this.buffer.subarray(S,b);return x&&!(C instanceof Uint8ClampedArray)?new Uint8ClampedArray(C):C},g.prototype.peekByte=function(){var d=this.getByte();return this.pos--,d},g.prototype.peekBytes=function(d,x){x===void 0&&(x=!1);var b=this.getBytes(d,x);return this.pos-=b.length,b},g.prototype.skip=function(d){d||(d=1),this.pos+=d},g.prototype.reset=function(){this.pos=0},g.prototype.makeSubStream=function(d,x){for(var b=d+x;this.bufferLength<=b&&!this.eof;)this.readBlock();return new Stream(this.buffer,d,x)},g.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},g.prototype.readBlock=function(){throw new MethodNotImplementedError(this.constructor.name,"readBlock")},g.prototype.ensureBuffer=function(d){var x=this.buffer;if(d<=x.byteLength)return x;for(var b=this.minBufferLength;b<d;)b*=2;var S=new Uint8Array(b);return S.set(x),this.buffer=S},g}(),isSpace=function(g){return g===32||g===9||g===13||g===10},Ascii85Stream=function(g){__extends(d,g);function d(x,b){var S=g.call(this,b)||this;return S.stream=x,S.input=new Uint8Array(5),b&&(b=.8*b),S}return d.prototype.readBlock=function(){for(var x=126,b=122,S=-1,w=this.stream,C=w.getByte();isSpace(C);)C=w.getByte();if(C===S||C===x){this.eof=!0;return}var F=this.bufferLength,E,k;if(C===b){for(E=this.ensureBuffer(F+4),k=0;k<4;++k)E[F+k]=0;this.bufferLength+=4}else{var D=this.input;for(D[0]=C,k=1;k<5;++k){for(C=w.getByte();isSpace(C);)C=w.getByte();if(D[k]=C,C===S||C===x)break}if(E=this.ensureBuffer(F+k-1),this.bufferLength+=k-1,k<5){for(;k<5;++k)D[k]=117;this.eof=!0}var M=0;for(k=0;k<5;++k)M=M*85+(D[k]-33);for(k=3;k>=0;--k)E[F+k]=M&255,M>>=8}},d}(DecodeStream),AsciiHexStream=function(g){__extends(d,g);function d(x,b){var S=g.call(this,b)||this;return S.stream=x,S.firstDigit=-1,b&&(b=.5*b),S}return d.prototype.readBlock=function(){var x=8e3,b=this.stream.getBytes(x);if(!b.length){this.eof=!0;return}for(var S=b.length+1>>1,w=this.ensureBuffer(this.bufferLength+S),C=this.bufferLength,F=this.firstDigit,E=0,k=b.length;E<k;E++){var D=b[E],M=void 0;if(D>=48&&D<=57)M=D&15;else if(D>=65&&D<=70||D>=97&&D<=102)M=(D&15)+9;else if(D===62){this.eof=!0;break}else continue;F<0?F=M:(w[C++]=F<<4|M,F=-1)}F>=0&&this.eof&&(w[C++]=F<<4,F=-1),this.firstDigit=F,this.bufferLength=C},d}(DecodeStream),codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],FlateStream=function(g){__extends(d,g);function d(x,b){var S=g.call(this,b)||this;S.stream=x;var w=x.getByte(),C=x.getByte();if(w===-1||C===-1)throw new Error("Invalid header in flate stream: "+w+", "+C);if((w&15)!==8)throw new Error("Unknown compression method in flate stream: "+w+", "+C);if(((w<<8)+C)%31!==0)throw new Error("Bad FCHECK in flate stream: "+w+", "+C);if(C&32)throw new Error("FDICT bit set in flate stream: "+w+", "+C);return S.codeSize=0,S.codeBuf=0,S}return d.prototype.readBlock=function(){var x,b,S=this.stream,w=this.getBits(3);if(w&1&&(this.eof=!0),w>>=1,w===0){var C=void 0;if((C=S.getByte())===-1)throw new Error("Bad block header in flate stream");var F=C;if((C=S.getByte())===-1)throw new Error("Bad block header in flate stream");if(F|=C<<8,(C=S.getByte())===-1)throw new Error("Bad block header in flate stream");var E=C;if((C=S.getByte())===-1)throw new Error("Bad block header in flate stream");if(E|=C<<8,E!==(~F&65535)&&(F!==0||E!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var k=this.bufferLength;x=this.ensureBuffer(k+F);var D=k+F;if(this.bufferLength=D,F===0)S.peekByte()===-1&&(this.eof=!0);else for(var M=k;M<D;++M){if((C=S.getByte())===-1){this.eof=!0;break}x[M]=C}return}var L,R;if(w===1)L=fixedLitCodeTab,R=fixedDistCodeTab;else if(w===2){var U=this.getBits(5)+257,j=this.getBits(5)+1,H=this.getBits(4)+4,V=new Uint8Array(codeLenCodeMap.length),z=void 0;for(z=0;z<H;++z)V[codeLenCodeMap[z]]=this.getBits(3);var G=this.generateHuffmanTable(V);b=0,z=0;for(var X=U+j,Y=new Uint8Array(X),J=void 0,ee=void 0,ie=void 0;z<X;){var oe=this.getCode(G);if(oe===16)J=2,ee=3,ie=b;else if(oe===17)J=3,ee=3,ie=b=0;else if(oe===18)J=7,ee=11,ie=b=0;else{Y[z++]=b=oe;continue}for(var he=this.getBits(J)+ee;he-- >0;)Y[z++]=ie}L=this.generateHuffmanTable(Y.subarray(0,U)),R=this.generateHuffmanTable(Y.subarray(U,X))}else throw new Error("Unknown block type in flate stream");x=this.buffer;for(var fe=x?x.length:0,Se=this.bufferLength;;){var we=this.getCode(L);if(we<256){Se+1>=fe&&(x=this.ensureBuffer(Se+1),fe=x.length),x[Se++]=we;continue}if(we===256){this.bufferLength=Se;return}we-=257,we=lengthDecode[we];var Ee=we>>16;Ee>0&&(Ee=this.getBits(Ee)),b=(we&65535)+Ee,we=this.getCode(R),we=distDecode[we],Ee=we>>16,Ee>0&&(Ee=this.getBits(Ee));var de=(we&65535)+Ee;Se+b>=fe&&(x=this.ensureBuffer(Se+b),fe=x.length);for(var xe=0;xe<b;++xe,++Se)x[Se]=x[Se-de]}},d.prototype.getBits=function(x){for(var b=this.stream,S=this.codeSize,w=this.codeBuf,C;S<x;){if((C=b.getByte())===-1)throw new Error("Bad encoding in flate stream");w|=C<<S,S+=8}return C=w&(1<<x)-1,this.codeBuf=w>>x,this.codeSize=S-=x,C},d.prototype.getCode=function(x){for(var b=this.stream,S=x[0],w=x[1],C=this.codeSize,F=this.codeBuf,E;C<w&&(E=b.getByte())!==-1;)F|=E<<C,C+=8;var k=S[F&(1<<w)-1];typeof S=="number"&&console.log("FLATE:",k);var D=k>>16,M=k&65535;if(D<1||C<D)throw new Error("Bad encoding in flate stream");return this.codeBuf=F>>D,this.codeSize=C-D,M},d.prototype.generateHuffmanTable=function(x){var b=x.length,S=0,w;for(w=0;w<b;++w)x[w]>S&&(S=x[w]);for(var C=1<<S,F=new Int32Array(C),E=1,k=0,D=2;E<=S;++E,k<<=1,D<<=1)for(var M=0;M<b;++M)if(x[M]===E){var L=0,R=k;for(w=0;w<E;++w)L=L<<1|R&1,R>>=1;for(w=L;w<C;w+=D)F[w]=E<<16|M;++k}return[F,S]},d}(DecodeStream),LZWStream=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,b)||this;w.stream=x,w.cachedData=0,w.bitsCached=0;for(var C=4096,F={earlyChange:S,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(C),dictionaryLengths:new Uint16Array(C),dictionaryPrevCodes:new Uint16Array(C),currentSequence:new Uint8Array(C),currentSequenceLength:0},E=0;E<256;++E)F.dictionaryValues[E]=E,F.dictionaryLengths[E]=1;return w.lzwState=F,w}return d.prototype.readBlock=function(){var x=512,b=x*2,S=x,w,C,F,E=this.lzwState;if(E){var k=E.earlyChange,D=E.nextCode,M=E.dictionaryValues,L=E.dictionaryLengths,R=E.dictionaryPrevCodes,U=E.codeLength,j=E.prevCode,H=E.currentSequence,V=E.currentSequenceLength,z=0,G=this.bufferLength,X=this.ensureBuffer(this.bufferLength+b);for(w=0;w<x;w++){var Y=this.readBits(U),J=V>0;if(!Y||Y<256)H[0]=Y,V=1;else if(Y>=258)if(Y<D)for(V=L[Y],C=V-1,F=Y;C>=0;C--)H[C]=M[F],F=R[F];else H[V++]=H[0];else if(Y===256){U=9,D=258,V=0;continue}else{this.eof=!0,delete this.lzwState;break}if(J&&(R[D]=j,L[D]=L[j]+1,M[D]=H[0],D++,U=D+k&D+k-1?U:Math.min(Math.log(D+k)/.6931471805599453+1,12)|0),j=Y,z+=V,b<z){do b+=S;while(b<z);X=this.ensureBuffer(this.bufferLength+b)}for(C=0;C<V;C++)X[G++]=H[C]}E.nextCode=D,E.codeLength=U,E.prevCode=j,E.currentSequenceLength=V,this.bufferLength=G}},d.prototype.readBits=function(x){for(var b=this.bitsCached,S=this.cachedData;b<x;){var w=this.stream.getByte();if(w===-1)return this.eof=!0,null;S=S<<8|w,b+=8}return this.bitsCached=b-=x,this.cachedData=S,S>>>b&(1<<x)-1},d}(DecodeStream),RunLengthStream=function(g){__extends(d,g);function d(x,b){var S=g.call(this,b)||this;return S.stream=x,S}return d.prototype.readBlock=function(){var x=this.stream.getBytes(2);if(!x||x.length<2||x[0]===128){this.eof=!0;return}var b,S=this.bufferLength,w=x[0];if(w<128){if(b=this.ensureBuffer(S+w+1),b[S++]=x[1],w>0){var C=this.stream.getBytes(w);b.set(C,S),S+=w}}else{w=257-w;var F=x[1];b=this.ensureBuffer(S+w+1);for(var E=0;E<w;E++)b[S++]=F}this.bufferLength=S},d}(DecodeStream),decodeStream=function(g,d,x){if(d===PDFName.of("FlateDecode"))return new FlateStream(g);if(d===PDFName.of("LZWDecode")){var b=1;if(x instanceof PDFDict){var S=x.lookup(PDFName.of("EarlyChange"));S instanceof PDFNumber&&(b=S.asNumber())}return new LZWStream(g,void 0,b)}if(d===PDFName.of("ASCII85Decode"))return new Ascii85Stream(g);if(d===PDFName.of("ASCIIHexDecode"))return new AsciiHexStream(g);if(d===PDFName.of("RunLengthDecode"))return new RunLengthStream(g);throw new UnsupportedEncodingError(d.asString())},decodePDFRawStream=function(g){var d=g.dict,x=g.contents,b=new Stream(x),S=d.lookup(PDFName.of("Filter")),w=d.lookup(PDFName.of("DecodeParms"));if(S instanceof PDFName)b=decodeStream(b,S,w);else if(S instanceof PDFArray)for(var C=0,F=S.size();C<F;C++)b=decodeStream(b,S.lookup(C,PDFName),w&&w.lookupMaybe(C,PDFDict));else if(S)throw new UnexpectedObjectTypeError([PDFName,PDFArray],S);return b},fullPageBoundingBox=function(g){var d=g.MediaBox(),x=d.lookup(2,PDFNumber).asNumber()-d.lookup(0,PDFNumber).asNumber(),b=d.lookup(3,PDFNumber).asNumber()-d.lookup(1,PDFNumber).asNumber();return{left:0,bottom:0,right:x,top:b}},boundingBoxAdjustedMatrix=function(g){return[1,0,0,1,-g.left,-g.bottom]},PDFPageEmbedder=function(){function g(d,x,b){this.page=d;var S=x??fullPageBoundingBox(d);this.width=S.right-S.left,this.height=S.top-S.bottom,this.boundingBox=S,this.transformationMatrix=b??boundingBoxAdjustedMatrix(S)}return g.for=function(d,x,b){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(S){return[2,new g(d,x,b)]})})},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,S,w,C,F,E,k,D,M,L;return __generator(this,function(R){if(b=this.page.normalizedEntries(),S=b.Contents,w=b.Resources,!S)throw new MissingPageContentsEmbeddingError;return C=this.decodeContents(S),F=this.boundingBox,E=F.left,k=F.bottom,D=F.right,M=F.top,L=d.flateStream(C,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[E,k,D,M],Matrix:this.transformationMatrix,Resources:w}),x?(d.assign(x,L),[2,x]):[2,d.register(L)]})})},g.prototype.decodeContents=function(d){for(var x=Uint8Array.of(CharCodes$1.Newline),b=[],S=0,w=d.size();S<w;S++){var C=d.lookup(S,PDFStream),F=void 0;if(C instanceof PDFRawStream)F=decodePDFRawStream(C).decode();else if(C instanceof PDFContentStream)F=C.getUnencodedContents();else throw new UnrecognizedStreamTypeError(C);b.push(F,x)}return mergeIntoTypedArray.apply(void 0,b)},g}(),asEnum=function(g,d){if(g!==void 0)return d[g]},NonFullScreenPageMode;(function(g){g.UseNone="UseNone",g.UseOutlines="UseOutlines",g.UseThumbs="UseThumbs",g.UseOC="UseOC"})(NonFullScreenPageMode||(NonFullScreenPageMode={}));var ReadingDirection;(function(g){g.L2R="L2R",g.R2L="R2L"})(ReadingDirection||(ReadingDirection={}));var PrintScaling;(function(g){g.None="None",g.AppDefault="AppDefault"})(PrintScaling||(PrintScaling={}));var Duplex;(function(g){g.Simplex="Simplex",g.DuplexFlipShortEdge="DuplexFlipShortEdge",g.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Duplex||(Duplex={}));var ViewerPreferences=function(){function g(d){this.dict=d}return g.prototype.lookupBool=function(d){var x=this.dict.lookup(PDFName.of(d));if(x instanceof PDFBool)return x},g.prototype.lookupName=function(d){var x=this.dict.lookup(PDFName.of(d));if(x instanceof PDFName)return x},g.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},g.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},g.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},g.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},g.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},g.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},g.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},g.prototype.Direction=function(){return this.lookupName("Direction")},g.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},g.prototype.Duplex=function(){return this.lookupName("Duplex")},g.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},g.prototype.PrintPageRange=function(){var d=this.dict.lookup(PDFName.of("PrintPageRange"));if(d instanceof PDFArray)return d},g.prototype.NumCopies=function(){var d=this.dict.lookup(PDFName.of("NumCopies"));if(d instanceof PDFNumber)return d},g.prototype.getHideToolbar=function(){var d,x;return(x=(d=this.HideToolbar())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getHideMenubar=function(){var d,x;return(x=(d=this.HideMenubar())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getHideWindowUI=function(){var d,x;return(x=(d=this.HideWindowUI())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getFitWindow=function(){var d,x;return(x=(d=this.FitWindow())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getCenterWindow=function(){var d,x;return(x=(d=this.CenterWindow())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getDisplayDocTitle=function(){var d,x;return(x=(d=this.DisplayDocTitle())===null||d===void 0?void 0:d.asBoolean())!==null&&x!==void 0?x:!1},g.prototype.getNonFullScreenPageMode=function(){var d,x,b=(d=this.NonFullScreenPageMode())===null||d===void 0?void 0:d.decodeText();return(x=asEnum(b,NonFullScreenPageMode))!==null&&x!==void 0?x:NonFullScreenPageMode.UseNone},g.prototype.getReadingDirection=function(){var d,x,b=(d=this.Direction())===null||d===void 0?void 0:d.decodeText();return(x=asEnum(b,ReadingDirection))!==null&&x!==void 0?x:ReadingDirection.L2R},g.prototype.getPrintScaling=function(){var d,x,b=(d=this.PrintScaling())===null||d===void 0?void 0:d.decodeText();return(x=asEnum(b,PrintScaling))!==null&&x!==void 0?x:PrintScaling.AppDefault},g.prototype.getDuplex=function(){var d,x=(d=this.Duplex())===null||d===void 0?void 0:d.decodeText();return asEnum(x,Duplex)},g.prototype.getPickTrayByPDFSize=function(){var d;return(d=this.PickTrayByPDFSize())===null||d===void 0?void 0:d.asBoolean()},g.prototype.getPrintPageRange=function(){var d=this.PrintPageRange();if(!d)return[];for(var x=[],b=0;b<d.size();b+=2){var S=d.lookup(b,PDFNumber).asNumber(),w=d.lookup(b+1,PDFNumber).asNumber();x.push({start:S,end:w})}return x},g.prototype.getNumCopies=function(){var d,x;return(x=(d=this.NumCopies())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:1},g.prototype.setHideToolbar=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("HideToolbar"),x)},g.prototype.setHideMenubar=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("HideMenubar"),x)},g.prototype.setHideWindowUI=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("HideWindowUI"),x)},g.prototype.setFitWindow=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("FitWindow"),x)},g.prototype.setCenterWindow=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("CenterWindow"),x)},g.prototype.setDisplayDocTitle=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("DisplayDocTitle"),x)},g.prototype.setNonFullScreenPageMode=function(d){assertIsOneOf(d,"nonFullScreenPageMode",NonFullScreenPageMode);var x=PDFName.of(d);this.dict.set(PDFName.of("NonFullScreenPageMode"),x)},g.prototype.setReadingDirection=function(d){assertIsOneOf(d,"readingDirection",ReadingDirection);var x=PDFName.of(d);this.dict.set(PDFName.of("Direction"),x)},g.prototype.setPrintScaling=function(d){assertIsOneOf(d,"printScaling",PrintScaling);var x=PDFName.of(d);this.dict.set(PDFName.of("PrintScaling"),x)},g.prototype.setDuplex=function(d){assertIsOneOf(d,"duplex",Duplex);var x=PDFName.of(d);this.dict.set(PDFName.of("Duplex"),x)},g.prototype.setPickTrayByPDFSize=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("PickTrayByPDFSize"),x)},g.prototype.setPrintPageRange=function(d){Array.isArray(d)||(d=[d]);for(var x=[],b=0,S=d.length;b<S;b++)x.push(d[b].start),x.push(d[b].end);assertEachIs(x,"printPageRange",["number"]);var w=this.dict.context.obj(x);this.dict.set(PDFName.of("PrintPageRange"),w)},g.prototype.setNumCopies=function(d){assertRange(d,"numCopies",1,Number.MAX_VALUE),assertInteger(d,"numCopies");var x=this.dict.context.obj(d);this.dict.set(PDFName.of("NumCopies"),x)},g.fromDict=function(d){return new g(d)},g.create=function(d){var x=d.obj({});return new g(x)},g}(),tfRegex$1=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,PDFAcroField=function(){function g(d,x){this.dict=d,this.ref=x}return g.prototype.T=function(){return this.dict.lookupMaybe(PDFName.of("T"),PDFString,PDFHexString)},g.prototype.Ff=function(){var d=this.getInheritableAttribute(PDFName.of("Ff"));return this.dict.context.lookupMaybe(d,PDFNumber)},g.prototype.V=function(){var d=this.getInheritableAttribute(PDFName.of("V"));return this.dict.context.lookup(d)},g.prototype.Kids=function(){return this.dict.lookupMaybe(PDFName.of("Kids"),PDFArray)},g.prototype.DA=function(){var d=this.dict.lookup(PDFName.of("DA"));if(d instanceof PDFString||d instanceof PDFHexString)return d},g.prototype.setKids=function(d){this.dict.set(PDFName.of("Kids"),this.dict.context.obj(d))},g.prototype.getParent=function(){var d=this.dict.get(PDFName.of("Parent"));if(d instanceof PDFRef){var x=this.dict.lookup(PDFName.of("Parent"),PDFDict);return new g(x,d)}},g.prototype.setParent=function(d){d?this.dict.set(PDFName.of("Parent"),d):this.dict.delete(PDFName.of("Parent"))},g.prototype.getFullyQualifiedName=function(){var d=this.getParent();return d?d.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},g.prototype.getPartialName=function(){var d;return(d=this.T())===null||d===void 0?void 0:d.decodeText()},g.prototype.setPartialName=function(d){d?this.dict.set(PDFName.of("T"),PDFHexString.fromText(d)):this.dict.delete(PDFName.of("T"))},g.prototype.setDefaultAppearance=function(d){this.dict.set(PDFName.of("DA"),PDFString.of(d))},g.prototype.getDefaultAppearance=function(){var d=this.DA();return d instanceof PDFHexString?d.decodeText():d?.asString()},g.prototype.setFontSize=function(d){var x,b=(x=this.getFullyQualifiedName())!==null&&x!==void 0?x:"",S=this.getDefaultAppearance();if(!S)throw new MissingDAEntryError(b);var w=findLastMatch(S,tfRegex$1);if(!w.match)throw new MissingTfOperatorError(b);var C=S.slice(0,w.pos-w.match[0].length),F=w.pos<=S.length?S.slice(w.pos):"",E=w.match[1],k=C+" /"+E+" "+d+" Tf "+F;this.setDefaultAppearance(k)},g.prototype.getFlags=function(){var d,x;return(x=(d=this.Ff())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:0},g.prototype.setFlags=function(d){this.dict.set(PDFName.of("Ff"),PDFNumber.of(d))},g.prototype.hasFlag=function(d){var x=this.getFlags();return(x&d)!==0},g.prototype.setFlag=function(d){var x=this.getFlags();this.setFlags(x|d)},g.prototype.clearFlag=function(d){var x=this.getFlags();this.setFlags(x&~d)},g.prototype.setFlagTo=function(d,x){x?this.setFlag(d):this.clearFlag(d)},g.prototype.getInheritableAttribute=function(d){var x;return this.ascend(function(b){x||(x=b.dict.get(d))}),x},g.prototype.ascend=function(d){d(this);var x=this.getParent();x&&x.ascend(d)},g}(),BorderStyle=function(){function g(d){this.dict=d}return g.prototype.W=function(){var d=this.dict.lookup(PDFName.of("W"));if(d instanceof PDFNumber)return d},g.prototype.getWidth=function(){var d,x;return(x=(d=this.W())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:1},g.prototype.setWidth=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("W"),x)},g.fromDict=function(d){return new g(d)},g}(),PDFAnnotation$1=function(){function g(d){this.dict=d}return g.prototype.Rect=function(){return this.dict.lookup(PDFName.of("Rect"),PDFArray)},g.prototype.AP=function(){return this.dict.lookupMaybe(PDFName.of("AP"),PDFDict)},g.prototype.F=function(){var d=this.dict.lookup(PDFName.of("F"));return this.dict.context.lookupMaybe(d,PDFNumber)},g.prototype.getRectangle=function(){var d,x=this.Rect();return(d=x?.asRectangle())!==null&&d!==void 0?d:{x:0,y:0,width:0,height:0}},g.prototype.setRectangle=function(d){var x=d.x,b=d.y,S=d.width,w=d.height,C=this.dict.context.obj([x,b,x+S,b+w]);this.dict.set(PDFName.of("Rect"),C)},g.prototype.getAppearanceState=function(){var d=this.dict.lookup(PDFName.of("AS"));if(d instanceof PDFName)return d},g.prototype.setAppearanceState=function(d){this.dict.set(PDFName.of("AS"),d)},g.prototype.setAppearances=function(d){this.dict.set(PDFName.of("AP"),d)},g.prototype.ensureAP=function(){var d=this.AP();return d||(d=this.dict.context.obj({}),this.dict.set(PDFName.of("AP"),d)),d},g.prototype.getNormalAppearance=function(){var d=this.ensureAP(),x=d.get(PDFName.of("N"));if(x instanceof PDFRef||x instanceof PDFDict)return x;throw new Error("Unexpected N type: "+x?.constructor.name)},g.prototype.setNormalAppearance=function(d){var x=this.ensureAP();x.set(PDFName.of("N"),d)},g.prototype.setRolloverAppearance=function(d){var x=this.ensureAP();x.set(PDFName.of("R"),d)},g.prototype.setDownAppearance=function(d){var x=this.ensureAP();x.set(PDFName.of("D"),d)},g.prototype.removeRolloverAppearance=function(){var d=this.AP();d?.delete(PDFName.of("R"))},g.prototype.removeDownAppearance=function(){var d=this.AP();d?.delete(PDFName.of("D"))},g.prototype.getAppearances=function(){var d=this.AP();if(d){var x=d.lookup(PDFName.of("N"),PDFDict,PDFStream),b=d.lookupMaybe(PDFName.of("R"),PDFDict,PDFStream),S=d.lookupMaybe(PDFName.of("D"),PDFDict,PDFStream);return{normal:x,rollover:b,down:S}}},g.prototype.getFlags=function(){var d,x;return(x=(d=this.F())===null||d===void 0?void 0:d.asNumber())!==null&&x!==void 0?x:0},g.prototype.setFlags=function(d){this.dict.set(PDFName.of("F"),PDFNumber.of(d))},g.prototype.hasFlag=function(d){var x=this.getFlags();return(x&d)!==0},g.prototype.setFlag=function(d){var x=this.getFlags();this.setFlags(x|d)},g.prototype.clearFlag=function(d){var x=this.getFlags();this.setFlags(x&~d)},g.prototype.setFlagTo=function(d,x){x?this.setFlag(d):this.clearFlag(d)},g.fromDict=function(d){return new g(d)},g}(),AppearanceCharacteristics=function(){function g(d){this.dict=d}return g.prototype.R=function(){var d=this.dict.lookup(PDFName.of("R"));if(d instanceof PDFNumber)return d},g.prototype.BC=function(){var d=this.dict.lookup(PDFName.of("BC"));if(d instanceof PDFArray)return d},g.prototype.BG=function(){var d=this.dict.lookup(PDFName.of("BG"));if(d instanceof PDFArray)return d},g.prototype.CA=function(){var d=this.dict.lookup(PDFName.of("CA"));if(d instanceof PDFHexString||d instanceof PDFString)return d},g.prototype.RC=function(){var d=this.dict.lookup(PDFName.of("RC"));if(d instanceof PDFHexString||d instanceof PDFString)return d},g.prototype.AC=function(){var d=this.dict.lookup(PDFName.of("AC"));if(d instanceof PDFHexString||d instanceof PDFString)return d},g.prototype.getRotation=function(){var d;return(d=this.R())===null||d===void 0?void 0:d.asNumber()},g.prototype.getBorderColor=function(){var d=this.BC();if(d){for(var x=[],b=0,S=d?.size();b<S;b++){var w=d.get(b);w instanceof PDFNumber&&x.push(w.asNumber())}return x}},g.prototype.getBackgroundColor=function(){var d=this.BG();if(d){for(var x=[],b=0,S=d?.size();b<S;b++){var w=d.get(b);w instanceof PDFNumber&&x.push(w.asNumber())}return x}},g.prototype.getCaptions=function(){var d=this.CA(),x=this.RC(),b=this.AC();return{normal:d?.decodeText(),rollover:x?.decodeText(),down:b?.decodeText()}},g.prototype.setRotation=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("R"),x)},g.prototype.setBorderColor=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("BC"),x)},g.prototype.setBackgroundColor=function(d){var x=this.dict.context.obj(d);this.dict.set(PDFName.of("BG"),x)},g.prototype.setCaptions=function(d){var x=PDFHexString.fromText(d.normal);if(this.dict.set(PDFName.of("CA"),x),d.rollover){var b=PDFHexString.fromText(d.rollover);this.dict.set(PDFName.of("RC"),b)}else this.dict.delete(PDFName.of("RC"));if(d.down){var S=PDFHexString.fromText(d.down);this.dict.set(PDFName.of("AC"),S)}else this.dict.delete(PDFName.of("AC"))},g.fromDict=function(d){return new g(d)},g}(),PDFWidgetAnnotation=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.MK=function(){var x=this.dict.lookup(PDFName.of("MK"));if(x instanceof PDFDict)return x},d.prototype.BS=function(){var x=this.dict.lookup(PDFName.of("BS"));if(x instanceof PDFDict)return x},d.prototype.DA=function(){var x=this.dict.lookup(PDFName.of("DA"));if(x instanceof PDFString||x instanceof PDFHexString)return x},d.prototype.P=function(){var x=this.dict.get(PDFName.of("P"));if(x instanceof PDFRef)return x},d.prototype.setP=function(x){this.dict.set(PDFName.of("P"),x)},d.prototype.setDefaultAppearance=function(x){this.dict.set(PDFName.of("DA"),PDFString.of(x))},d.prototype.getDefaultAppearance=function(){var x=this.DA();return x instanceof PDFHexString?x.decodeText():x?.asString()},d.prototype.getAppearanceCharacteristics=function(){var x=this.MK();if(x)return AppearanceCharacteristics.fromDict(x)},d.prototype.getOrCreateAppearanceCharacteristics=function(){var x=this.MK();if(x)return AppearanceCharacteristics.fromDict(x);var b=AppearanceCharacteristics.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("MK"),b.dict),b},d.prototype.getBorderStyle=function(){var x=this.BS();if(x)return BorderStyle.fromDict(x)},d.prototype.getOrCreateBorderStyle=function(){var x=this.BS();if(x)return BorderStyle.fromDict(x);var b=BorderStyle.fromDict(this.dict.context.obj({}));return this.dict.set(PDFName.of("BS"),b.dict),b},d.prototype.getOnValue=function(){var x,b=(x=this.getAppearances())===null||x===void 0?void 0:x.normal;if(b instanceof PDFDict)for(var S=b.keys(),w=0,C=S.length;w<C;w++){var F=S[w];if(F!==PDFName.of("Off"))return F}},d.fromDict=function(x){return new d(x)},d.create=function(x,b){var S=x.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:b});return new d(S)},d}(PDFAnnotation$1),PDFAcroTerminal=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.FT=function(){var x=this.getInheritableAttribute(PDFName.of("FT"));return this.dict.context.lookup(x,PDFName)},d.prototype.getWidgets=function(){var x=this.Kids();if(!x)return[PDFWidgetAnnotation.fromDict(this.dict)];for(var b=new Array(x.size()),S=0,w=x.size();S<w;S++){var C=x.lookup(S,PDFDict);b[S]=PDFWidgetAnnotation.fromDict(C)}return b},d.prototype.addWidget=function(x){var b=this.normalizedEntries().Kids;b.push(x)},d.prototype.removeWidget=function(x){var b=this.Kids();if(b){if(x<0||x>b.size())throw new IndexOutOfBoundsError(x,0,b.size());b.remove(x)}else{if(x!==0)throw new IndexOutOfBoundsError(x,0,0);this.setKids([])}},d.prototype.normalizedEntries=function(){var x=this.Kids();return x||(x=this.dict.context.obj([this.ref]),this.dict.set(PDFName.of("Kids"),x)),{Kids:x}},d.fromDict=function(x,b){return new d(x,b)},d}(PDFAcroField),PDFAcroButton=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},d.prototype.setOpt=function(x){this.dict.set(PDFName.of("Opt"),this.dict.context.obj(x))},d.prototype.getExportValues=function(){var x=this.Opt();if(x){if(x instanceof PDFString||x instanceof PDFHexString)return[x];for(var b=[],S=0,w=x.size();S<w;S++){var C=x.lookup(S);(C instanceof PDFString||C instanceof PDFHexString)&&b.push(C)}return b}},d.prototype.removeExportValue=function(x){var b=this.Opt();if(b)if(b instanceof PDFString||b instanceof PDFHexString){if(x!==0)throw new IndexOutOfBoundsError(x,0,0);this.setOpt([])}else{if(x<0||x>b.size())throw new IndexOutOfBoundsError(x,0,b.size());b.remove(x)}},d.prototype.normalizeExportValues=function(){for(var x,b,S,w,C=(x=this.getExportValues())!==null&&x!==void 0?x:[],F=[],E=this.getWidgets(),k=0,D=E.length;k<D;k++){var M=E[k],L=(b=C[k])!==null&&b!==void 0?b:PDFHexString.fromText((w=(S=M.getOnValue())===null||S===void 0?void 0:S.decodeText())!==null&&w!==void 0?w:"");F.push(L)}this.setOpt(F)},d.prototype.addOpt=function(x,b){var S;this.normalizeExportValues();var w=x.decodeText(),C;if(b)for(var F=(S=this.getExportValues())!==null&&S!==void 0?S:[],E=0,k=F.length;E<k;E++){var D=F[E];D.decodeText()===w&&(C=E)}var M=this.Opt();return M.push(x),C??M.size()-1},d.prototype.addWidgetWithOpt=function(x,b,S){var w=this.addOpt(b,S),C=PDFName.of(String(w));return this.addWidget(x),C},d}(PDFAcroTerminal),PDFAcroCheckBox=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.setValue=function(x){var b,S=(b=this.getOnValue())!==null&&b!==void 0?b:PDFName.of("Yes");if(x!==S&&x!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),x);for(var w=this.getWidgets(),C=0,F=w.length;C<F;C++){var E=w[C],k=E.getOnValue()===x?x:PDFName.of("Off");E.setAppearanceState(k)}},d.prototype.getValue=function(){var x=this.V();return x instanceof PDFName?x:PDFName.of("Off")},d.prototype.getOnValue=function(){var x=this.getWidgets()[0];return x?.getOnValue()},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Btn",Kids:[]}),S=x.register(b);return new d(b,S)},d}(PDFAcroButton),flag$1=function(g){return 1<<g},AcroFieldFlags;(function(g){g[g.ReadOnly=flag$1(0)]="ReadOnly",g[g.Required=flag$1(1)]="Required",g[g.NoExport=flag$1(2)]="NoExport"})(AcroFieldFlags||(AcroFieldFlags={}));var AcroButtonFlags;(function(g){g[g.NoToggleToOff=flag$1(14)]="NoToggleToOff",g[g.Radio=flag$1(15)]="Radio",g[g.PushButton=flag$1(16)]="PushButton",g[g.RadiosInUnison=flag$1(25)]="RadiosInUnison"})(AcroButtonFlags||(AcroButtonFlags={}));var AcroTextFlags;(function(g){g[g.Multiline=flag$1(12)]="Multiline",g[g.Password=flag$1(13)]="Password",g[g.FileSelect=flag$1(20)]="FileSelect",g[g.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",g[g.DoNotScroll=flag$1(23)]="DoNotScroll",g[g.Comb=flag$1(24)]="Comb",g[g.RichText=flag$1(25)]="RichText"})(AcroTextFlags||(AcroTextFlags={}));var AcroChoiceFlags;(function(g){g[g.Combo=flag$1(17)]="Combo",g[g.Edit=flag$1(18)]="Edit",g[g.Sort=flag$1(19)]="Sort",g[g.MultiSelect=flag$1(21)]="MultiSelect",g[g.DoNotSpellCheck=flag$1(22)]="DoNotSpellCheck",g[g.CommitOnSelChange=flag$1(26)]="CommitOnSelChange"})(AcroChoiceFlags||(AcroChoiceFlags={}));var PDFAcroChoice=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.setValues=function(x){if(this.hasFlag(AcroChoiceFlags.Combo)&&!this.hasFlag(AcroChoiceFlags.Edit)&&!this.valuesAreValid(x))throw new InvalidAcroFieldValueError;if(x.length===0&&this.dict.delete(PDFName.of("V")),x.length===1&&this.dict.set(PDFName.of("V"),x[0]),x.length>1){if(!this.hasFlag(AcroChoiceFlags.MultiSelect))throw new MultiSelectValueError;this.dict.set(PDFName.of("V"),this.dict.context.obj(x))}this.updateSelectedIndices(x)},d.prototype.valuesAreValid=function(x){for(var b=this.getOptions(),S=function(E,k){var D=x[E].decodeText();if(!b.find(function(M){return D===(M.display||M.value).decodeText()}))return{value:!1}},w=0,C=x.length;w<C;w++){var F=S(w);if(typeof F=="object")return F.value}return!0},d.prototype.updateSelectedIndices=function(x){if(x.length>1){for(var b=new Array(x.length),S=this.getOptions(),w=function(E,k){var D=x[E].decodeText();b[E]=S.findIndex(function(M){return D===(M.display||M.value).decodeText()})},C=0,F=x.length;C<F;C++)w(C,F);this.dict.set(PDFName.of("I"),this.dict.context.obj(b.sort()))}else this.dict.delete(PDFName.of("I"))},d.prototype.getValues=function(){var x=this.V();if(x instanceof PDFString||x instanceof PDFHexString)return[x];if(x instanceof PDFArray){for(var b=[],S=0,w=x.size();S<w;S++){var C=x.lookup(S);(C instanceof PDFString||C instanceof PDFHexString)&&b.push(C)}return b}return[]},d.prototype.Opt=function(){return this.dict.lookupMaybe(PDFName.of("Opt"),PDFString,PDFHexString,PDFArray)},d.prototype.setOptions=function(x){for(var b=new Array(x.length),S=0,w=x.length;S<w;S++){var C=x[S],F=C.value,E=C.display;b[S]=this.dict.context.obj([F,E||F])}this.dict.set(PDFName.of("Opt"),this.dict.context.obj(b))},d.prototype.getOptions=function(){var x=this.Opt();if(x instanceof PDFString||x instanceof PDFHexString)return[{value:x,display:x}];if(x instanceof PDFArray){for(var b=[],S=0,w=x.size();S<w;S++){var C=x.lookup(S);if((C instanceof PDFString||C instanceof PDFHexString)&&b.push({value:C,display:C}),C instanceof PDFArray&&C.size()>0){var F=C.lookup(0,PDFString,PDFHexString),E=C.lookupMaybe(1,PDFString,PDFHexString);b.push({value:F,display:E||F})}}return b}return[]},d}(PDFAcroTerminal),PDFAcroComboBox=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Ch",Ff:AcroChoiceFlags.Combo,Kids:[]}),S=x.register(b);return new d(b,S)},d}(PDFAcroChoice),PDFAcroNonTerminal=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.addField=function(x){var b=this.normalizedEntries().Kids;b?.push(x)},d.prototype.normalizedEntries=function(){var x=this.Kids();return x||(x=this.dict.context.obj([]),this.dict.set(PDFName.of("Kids"),x)),{Kids:x}},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({}),S=x.register(b);return new d(b,S)},d}(PDFAcroField),PDFAcroSignature=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d}(PDFAcroTerminal),PDFAcroText=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.MaxLen=function(){var x=this.dict.lookup(PDFName.of("MaxLen"));if(x instanceof PDFNumber)return x},d.prototype.Q=function(){var x=this.dict.lookup(PDFName.of("Q"));if(x instanceof PDFNumber)return x},d.prototype.setMaxLength=function(x){this.dict.set(PDFName.of("MaxLen"),PDFNumber.of(x))},d.prototype.removeMaxLength=function(){this.dict.delete(PDFName.of("MaxLen"))},d.prototype.getMaxLength=function(){var x;return(x=this.MaxLen())===null||x===void 0?void 0:x.asNumber()},d.prototype.setQuadding=function(x){this.dict.set(PDFName.of("Q"),PDFNumber.of(x))},d.prototype.getQuadding=function(){var x;return(x=this.Q())===null||x===void 0?void 0:x.asNumber()},d.prototype.setValue=function(x){this.dict.set(PDFName.of("V"),x)},d.prototype.removeValue=function(){this.dict.delete(PDFName.of("V"))},d.prototype.getValue=function(){var x=this.V();if(x instanceof PDFString||x instanceof PDFHexString)return x},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Tx",Kids:[]}),S=x.register(b);return new d(b,S)},d}(PDFAcroTerminal),PDFAcroPushButton=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Btn",Ff:AcroButtonFlags.PushButton,Kids:[]}),S=x.register(b);return new d(b,S)},d}(PDFAcroButton),PDFAcroRadioButton=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.setValue=function(x){var b=this.getOnValues();if(!b.includes(x)&&x!==PDFName.of("Off"))throw new InvalidAcroFieldValueError;this.dict.set(PDFName.of("V"),x);for(var S=this.getWidgets(),w=0,C=S.length;w<C;w++){var F=S[w],E=F.getOnValue()===x?x:PDFName.of("Off");F.setAppearanceState(E)}},d.prototype.getValue=function(){var x=this.V();return x instanceof PDFName?x:PDFName.of("Off")},d.prototype.getOnValues=function(){for(var x=this.getWidgets(),b=[],S=0,w=x.length;S<w;S++){var C=x[S].getOnValue();C&&b.push(C)}return b},d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Btn",Ff:AcroButtonFlags.Radio,Kids:[]}),S=x.register(b);return new d(b,S)},d}(PDFAcroButton),PDFAcroListBox=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.fromDict=function(x,b){return new d(x,b)},d.create=function(x){var b=x.obj({FT:"Ch",Kids:[]}),S=x.register(b);return new d(b,S)},d}(PDFAcroChoice),createPDFAcroFields=function(g){if(!g)return[];for(var d=[],x=0,b=g.size();x<b;x++){var S=g.get(x),w=g.lookup(x);S instanceof PDFRef&&w instanceof PDFDict&&d.push([createPDFAcroField(w,S),S])}return d},createPDFAcroField=function(g,d){var x=isNonTerminalAcroField(g);return x?PDFAcroNonTerminal.fromDict(g,d):createPDFAcroTerminal(g,d)},isNonTerminalAcroField=function(g){var d=g.lookup(PDFName.of("Kids"));if(d instanceof PDFArray)for(var x=0,b=d.size();x<b;x++){var S=d.lookup(x),w=S instanceof PDFDict&&S.has(PDFName.of("T"));if(w)return!0}return!1},createPDFAcroTerminal=function(g,d){var x=getInheritableAttribute(g,PDFName.of("FT")),b=g.context.lookup(x,PDFName);return b===PDFName.of("Btn")?createPDFAcroButton(g,d):b===PDFName.of("Ch")?createPDFAcroChoice(g,d):b===PDFName.of("Tx")?PDFAcroText.fromDict(g,d):b===PDFName.of("Sig")?PDFAcroSignature.fromDict(g,d):PDFAcroTerminal.fromDict(g,d)},createPDFAcroButton=function(g,d){var x,b=getInheritableAttribute(g,PDFName.of("Ff")),S=g.context.lookupMaybe(b,PDFNumber),w=(x=S?.asNumber())!==null&&x!==void 0?x:0;return flagIsSet(w,AcroButtonFlags.PushButton)?PDFAcroPushButton.fromDict(g,d):flagIsSet(w,AcroButtonFlags.Radio)?PDFAcroRadioButton.fromDict(g,d):PDFAcroCheckBox.fromDict(g,d)},createPDFAcroChoice=function(g,d){var x,b=getInheritableAttribute(g,PDFName.of("Ff")),S=g.context.lookupMaybe(b,PDFNumber),w=(x=S?.asNumber())!==null&&x!==void 0?x:0;return flagIsSet(w,AcroChoiceFlags.Combo)?PDFAcroComboBox.fromDict(g,d):PDFAcroListBox.fromDict(g,d)},flagIsSet=function(g,d){return(g&d)!==0},getInheritableAttribute=function(g,d){var x;return ascend(g,function(b){x||(x=b.get(d))}),x},ascend=function(g,d){d(g);var x=g.lookupMaybe(PDFName.of("Parent"),PDFDict);x&&ascend(x,d)},PDFAcroForm=function(){function g(d){this.dict=d}return g.prototype.Fields=function(){var d=this.dict.lookup(PDFName.of("Fields"));if(d instanceof PDFArray)return d},g.prototype.getFields=function(){for(var d=this.normalizedEntries().Fields,x=new Array(d.size()),b=0,S=d.size();b<S;b++){var w=d.get(b),C=d.lookup(b,PDFDict);x[b]=[createPDFAcroField(C,w),w]}return x},g.prototype.getAllFields=function(){var d=[],x=function(b){if(b)for(var S=0,w=b.length;S<w;S++){var C=b[S];d.push(C);var F=C[0];F instanceof PDFAcroNonTerminal&&x(createPDFAcroFields(F.Kids()))}};return x(this.getFields()),d},g.prototype.addField=function(d){var x=this.normalizedEntries().Fields;x?.push(d)},g.prototype.removeField=function(d){var x=d.getParent(),b=x===void 0?this.normalizedEntries().Fields:x.Kids(),S=b?.indexOf(d.ref);if(b===void 0||S===void 0)throw new Error("Tried to remove inexistent field "+d.getFullyQualifiedName());b.remove(S),x!==void 0&&b.size()===0&&this.removeField(x)},g.prototype.normalizedEntries=function(){var d=this.Fields();return d||(d=this.dict.context.obj([]),this.dict.set(PDFName.of("Fields"),d)),{Fields:d}},g.fromDict=function(d){return new g(d)},g.create=function(d){var x=d.obj({Fields:[]});return new g(x)},g}(),PDFCatalog=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.Pages=function(){return this.lookup(PDFName.of("Pages"),PDFDict)},d.prototype.AcroForm=function(){return this.lookupMaybe(PDFName.of("AcroForm"),PDFDict)},d.prototype.getAcroForm=function(){var x=this.AcroForm();if(x)return PDFAcroForm.fromDict(x)},d.prototype.getOrCreateAcroForm=function(){var x=this.getAcroForm();if(!x){x=PDFAcroForm.create(this.context);var b=this.context.register(x.dict);this.set(PDFName.of("AcroForm"),b)}return x},d.prototype.ViewerPreferences=function(){return this.lookupMaybe(PDFName.of("ViewerPreferences"),PDFDict)},d.prototype.getViewerPreferences=function(){var x=this.ViewerPreferences();if(x)return ViewerPreferences.fromDict(x)},d.prototype.getOrCreateViewerPreferences=function(){var x=this.getViewerPreferences();if(!x){x=ViewerPreferences.create(this.context);var b=this.context.register(x.dict);this.set(PDFName.of("ViewerPreferences"),b)}return x},d.prototype.insertLeafNode=function(x,b){var S=this.get(PDFName.of("Pages")),w=this.Pages().insertLeafNode(x,b);return w||S},d.prototype.removeLeafNode=function(x){this.Pages().removeLeafNode(x)},d.withContextAndPages=function(x,b){var S=new Map;return S.set(PDFName.of("Type"),PDFName.of("Catalog")),S.set(PDFName.of("Pages"),b),new d(S,x)},d.fromMapWithContext=function(x,b){return new d(x,b)},d}(PDFDict),PDFPageTree=function(g){__extends(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.prototype.Parent=function(){return this.lookup(PDFName.of("Parent"))},d.prototype.Kids=function(){return this.lookup(PDFName.of("Kids"),PDFArray)},d.prototype.Count=function(){return this.lookup(PDFName.of("Count"),PDFNumber)},d.prototype.pushTreeNode=function(x){var b=this.Kids();b.push(x)},d.prototype.pushLeafNode=function(x){var b=this.Kids();this.insertLeafKid(b.size(),x)},d.prototype.insertLeafNode=function(x,b){var S=this.Kids(),w=this.Count().asNumber();if(b>w)throw new InvalidTargetIndexError(b,w);for(var C=b,F=0,E=S.size();F<E;F++){if(C===0){this.insertLeafKid(F,x);return}var k=S.get(F),D=this.context.lookup(k);if(D instanceof d){if(D.Count().asNumber()>C)return D.insertLeafNode(x,C)||k;C-=D.Count().asNumber()}D instanceof PDFPageLeaf&&(C-=1)}if(C===0){this.insertLeafKid(S.size(),x);return}throw new CorruptPageTreeError(b,"insertLeafNode")},d.prototype.removeLeafNode=function(x,b){b===void 0&&(b=!0);var S=this.Kids(),w=this.Count().asNumber();if(x>=w)throw new InvalidTargetIndexError(x,w);for(var C=x,F=0,E=S.size();F<E;F++){var k=S.get(F),D=this.context.lookup(k);if(D instanceof d)if(D.Count().asNumber()>C){D.removeLeafNode(C,b),b&&D.Kids().size()===0&&S.remove(F);return}else C-=D.Count().asNumber();if(D instanceof PDFPageLeaf)if(C===0){this.removeKid(F);return}else C-=1}throw new CorruptPageTreeError(x,"removeLeafNode")},d.prototype.ascend=function(x){x(this);var b=this.Parent();b&&b.ascend(x)},d.prototype.traverse=function(x){for(var b=this.Kids(),S=0,w=b.size();S<w;S++){var C=b.get(S),F=this.context.lookup(C);F instanceof d&&F.traverse(x),x(F,C)}},d.prototype.insertLeafKid=function(x,b){var S=this.Kids();this.ascend(function(w){var C=w.Count().asNumber()+1;w.set(PDFName.of("Count"),PDFNumber.of(C))}),S.insert(x,b)},d.prototype.removeKid=function(x){var b=this.Kids(),S=b.lookup(x);S instanceof PDFPageLeaf&&this.ascend(function(w){var C=w.Count().asNumber()-1;w.set(PDFName.of("Count"),PDFNumber.of(C))}),b.remove(x)},d.withContext=function(x,b){var S=new Map;return S.set(PDFName.of("Type"),PDFName.of("Pages")),S.set(PDFName.of("Kids"),x.obj([])),S.set(PDFName.of("Count"),x.obj(0)),b&&S.set(PDFName.of("Parent"),b),new d(S,x)},d.fromMapWithContext=function(x,b){return new d(x,b)},d}(PDFDict),IsDigit=new Uint8Array(256);IsDigit[CharCodes$1.Zero]=1;IsDigit[CharCodes$1.One]=1;IsDigit[CharCodes$1.Two]=1;IsDigit[CharCodes$1.Three]=1;IsDigit[CharCodes$1.Four]=1;IsDigit[CharCodes$1.Five]=1;IsDigit[CharCodes$1.Six]=1;IsDigit[CharCodes$1.Seven]=1;IsDigit[CharCodes$1.Eight]=1;IsDigit[CharCodes$1.Nine]=1;var IsNumericPrefix=new Uint8Array(256);IsNumericPrefix[CharCodes$1.Period]=1;IsNumericPrefix[CharCodes$1.Plus]=1;IsNumericPrefix[CharCodes$1.Minus]=1;var IsNumeric=new Uint8Array(256);for(var idx=0,len=256;idx<len;idx++)IsNumeric[idx]=IsDigit[idx]||IsNumericPrefix[idx]?1:0;var Newline$1=CharCodes$1.Newline,CarriageReturn$1=CharCodes$1.CarriageReturn,BaseParser=function(){function g(d,x){x===void 0&&(x=!1),this.bytes=d,this.capNumbers=x}return g.prototype.parseRawInt=function(){for(var d="";!this.bytes.done();){var x=this.bytes.peek();if(!IsDigit[x])break;d+=charFromCode(this.bytes.next())}var b=Number(d);if(!d||!isFinite(b))throw new NumberParsingError(this.bytes.position(),d);return b},g.prototype.parseRawNumber=function(){for(var d="";!this.bytes.done();){var x=this.bytes.peek();if(!IsNumeric[x]||(d+=charFromCode(this.bytes.next()),x===CharCodes$1.Period))break}for(;!this.bytes.done();){var x=this.bytes.peek();if(!IsDigit[x])break;d+=charFromCode(this.bytes.next())}var b=Number(d);if(!d||!isFinite(b))throw new NumberParsingError(this.bytes.position(),d);if(b>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var S="Parsed number that is too large for some PDF readers: "+d+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(S),Number.MAX_SAFE_INTEGER}else{var S="Parsed number that is too large for some PDF readers: "+d+", not capping.";console.warn(S)}return b},g.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&IsWhitespace[this.bytes.peek()];)this.bytes.next()},g.prototype.skipLine=function(){for(;!this.bytes.done();){var d=this.bytes.peek();if(d===Newline$1||d===CarriageReturn$1)return;this.bytes.next()}},g.prototype.skipComment=function(){if(this.bytes.peek()!==CharCodes$1.Percent)return!1;for(;!this.bytes.done();){var d=this.bytes.peek();if(d===Newline$1||d===CarriageReturn$1)return!0;this.bytes.next()}return!0},g.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},g.prototype.matchKeyword=function(d){for(var x=this.bytes.offset(),b=0,S=d.length;b<S;b++)if(this.bytes.done()||this.bytes.next()!==d[b])return this.bytes.moveTo(x),!1;return!0},g}(),ByteStream=function(){function g(d){this.idx=0,this.line=0,this.column=0,this.bytes=d,this.length=this.bytes.length}return g.prototype.moveTo=function(d){this.idx=d},g.prototype.next=function(){var d=this.bytes[this.idx++];return d===CharCodes$1.Newline?(this.line+=1,this.column=0):this.column+=1,d},g.prototype.assertNext=function(d){if(this.peek()!==d)throw new NextByteAssertionError(this.position(),d,this.peek());return this.next()},g.prototype.peek=function(){return this.bytes[this.idx]},g.prototype.peekAhead=function(d){return this.bytes[this.idx+d]},g.prototype.peekAt=function(d){return this.bytes[d]},g.prototype.done=function(){return this.idx>=this.length},g.prototype.offset=function(){return this.idx},g.prototype.slice=function(d,x){return this.bytes.slice(d,x)},g.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},g.of=function(d){return new g(d)},g.fromPDFRawStream=function(d){return g.of(decodePDFRawStream(d).decode())},g}(),Space=CharCodes$1.Space,CarriageReturn=CharCodes$1.CarriageReturn,Newline=CharCodes$1.Newline,stream=[CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],endstream=[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.s,CharCodes$1.t,CharCodes$1.r,CharCodes$1.e,CharCodes$1.a,CharCodes$1.m],Keywords={header:[CharCodes$1.Percent,CharCodes$1.P,CharCodes$1.D,CharCodes$1.F,CharCodes$1.Dash],eof:[CharCodes$1.Percent,CharCodes$1.Percent,CharCodes$1.E,CharCodes$1.O,CharCodes$1.F],obj:[CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],endobj:[CharCodes$1.e,CharCodes$1.n,CharCodes$1.d,CharCodes$1.o,CharCodes$1.b,CharCodes$1.j],xref:[CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],trailer:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.a,CharCodes$1.i,CharCodes$1.l,CharCodes$1.e,CharCodes$1.r],startxref:[CharCodes$1.s,CharCodes$1.t,CharCodes$1.a,CharCodes$1.r,CharCodes$1.t,CharCodes$1.x,CharCodes$1.r,CharCodes$1.e,CharCodes$1.f],true:[CharCodes$1.t,CharCodes$1.r,CharCodes$1.u,CharCodes$1.e],false:[CharCodes$1.f,CharCodes$1.a,CharCodes$1.l,CharCodes$1.s,CharCodes$1.e],null:[CharCodes$1.n,CharCodes$1.u,CharCodes$1.l,CharCodes$1.l],stream,streamEOF1:__spreadArrays(stream,[Space,CarriageReturn,Newline]),streamEOF2:__spreadArrays(stream,[CarriageReturn,Newline]),streamEOF3:__spreadArrays(stream,[CarriageReturn]),streamEOF4:__spreadArrays(stream,[Newline]),endstream,EOF1endstream:__spreadArrays([CarriageReturn,Newline],endstream),EOF2endstream:__spreadArrays([CarriageReturn],endstream),EOF3endstream:__spreadArrays([Newline],endstream)},PDFObjectParser=function(g){__extends(d,g);function d(x,b,S){S===void 0&&(S=!1);var w=g.call(this,x,S)||this;return w.context=b,w}return d.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.true))return PDFBool.True;if(this.matchKeyword(Keywords.false))return PDFBool.False;if(this.matchKeyword(Keywords.null))return PDFNull$1;var x=this.bytes.peek();if(x===CharCodes$1.LessThan&&this.bytes.peekAhead(1)===CharCodes$1.LessThan)return this.parseDictOrStream();if(x===CharCodes$1.LessThan)return this.parseHexString();if(x===CharCodes$1.LeftParen)return this.parseString();if(x===CharCodes$1.ForwardSlash)return this.parseName();if(x===CharCodes$1.LeftSquareBracket)return this.parseArray();if(IsNumeric[x])return this.parseNumberOrRef();throw new PDFObjectParsingError(this.bytes.position(),x)},d.prototype.parseNumberOrRef=function(){var x=this.parseRawNumber();this.skipWhitespaceAndComments();var b=this.bytes.offset();if(IsDigit[this.bytes.peek()]){var S=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===CharCodes$1.R)return this.bytes.assertNext(CharCodes$1.R),PDFRef.of(x,S)}return this.bytes.moveTo(b),PDFNumber.of(x)},d.prototype.parseHexString=function(){var x="";for(this.bytes.assertNext(CharCodes$1.LessThan);!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan;)x+=charFromCode(this.bytes.next());return this.bytes.assertNext(CharCodes$1.GreaterThan),PDFHexString.of(x)},d.prototype.parseString=function(){for(var x=0,b=!1,S="";!this.bytes.done();){var w=this.bytes.next();if(S+=charFromCode(w),b||(w===CharCodes$1.LeftParen&&(x+=1),w===CharCodes$1.RightParen&&(x-=1)),w===CharCodes$1.BackSlash?b=!b:b&&(b=!1),x===0)return PDFString.of(S.substring(1,S.length-1))}throw new UnbalancedParenthesisError(this.bytes.position())},d.prototype.parseName=function(){this.bytes.assertNext(CharCodes$1.ForwardSlash);for(var x="";!this.bytes.done();){var b=this.bytes.peek();if(IsWhitespace[b]||IsDelimiter[b])break;x+=charFromCode(b),this.bytes.next()}return PDFName.of(x)},d.prototype.parseArray=function(){this.bytes.assertNext(CharCodes$1.LeftSquareBracket),this.skipWhitespaceAndComments();for(var x=PDFArray.withContext(this.context);this.bytes.peek()!==CharCodes$1.RightSquareBracket;){var b=this.parseObject();x.push(b),this.skipWhitespaceAndComments()}return this.bytes.assertNext(CharCodes$1.RightSquareBracket),x},d.prototype.parseDict=function(){this.bytes.assertNext(CharCodes$1.LessThan),this.bytes.assertNext(CharCodes$1.LessThan),this.skipWhitespaceAndComments();for(var x=new Map;!this.bytes.done()&&this.bytes.peek()!==CharCodes$1.GreaterThan&&this.bytes.peekAhead(1)!==CharCodes$1.GreaterThan;){var b=this.parseName(),S=this.parseObject();x.set(b,S),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(CharCodes$1.GreaterThan),this.bytes.assertNext(CharCodes$1.GreaterThan);var w=x.get(PDFName.of("Type"));return w===PDFName.of("Catalog")?PDFCatalog.fromMapWithContext(x,this.context):w===PDFName.of("Pages")?PDFPageTree.fromMapWithContext(x,this.context):w===PDFName.of("Page")?PDFPageLeaf.fromMapWithContext(x,this.context):PDFDict.fromMapWithContext(x,this.context)},d.prototype.parseDictOrStream=function(){var x=this.bytes.position(),b=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.streamEOF1)&&!this.matchKeyword(Keywords.streamEOF2)&&!this.matchKeyword(Keywords.streamEOF3)&&!this.matchKeyword(Keywords.streamEOF4)&&!this.matchKeyword(Keywords.stream))return b;var S=this.bytes.offset(),w,C=b.get(PDFName.of("Length"));C instanceof PDFNumber?(w=S+C.asNumber(),this.bytes.moveTo(w),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endstream)||(this.bytes.moveTo(S),w=this.findEndOfStreamFallback(x))):w=this.findEndOfStreamFallback(x);var F=this.bytes.slice(S,w);return PDFRawStream.of(b,F)},d.prototype.findEndOfStreamFallback=function(x){for(var b=1,S=this.bytes.offset();!this.bytes.done()&&(S=this.bytes.offset(),this.matchKeyword(Keywords.stream)?b+=1:this.matchKeyword(Keywords.EOF1endstream)||this.matchKeyword(Keywords.EOF2endstream)||this.matchKeyword(Keywords.EOF3endstream)||this.matchKeyword(Keywords.endstream)?b-=1:this.bytes.next(),b!==0););if(b!==0)throw new PDFStreamParsingError(x);return S},d.forBytes=function(x,b,S){return new d(ByteStream.of(x),b,S)},d.forByteStream=function(x,b,S){return S===void 0&&(S=!1),new d(x,b,S)},d}(BaseParser),PDFObjectStreamParser=function(g){__extends(d,g);function d(x,b){var S=g.call(this,ByteStream.fromPDFRawStream(x),x.dict.context)||this,w=x.dict;return S.alreadyParsed=!1,S.shouldWaitForTick=b||function(){return!1},S.firstOffset=w.lookup(PDFName.of("First"),PDFNumber).asNumber(),S.objectCount=w.lookup(PDFName.of("N"),PDFNumber).asNumber(),S}return d.prototype.parseIntoContext=function(){return __awaiter(this,void 0,void 0,function(){var x,b,S,w,C,F,E,k;return __generator(this,function(D){switch(D.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,x=this.parseOffsetsAndObjectNumbers(),b=0,S=x.length,D.label=1;case 1:return b<S?(w=x[b],C=w.objectNumber,F=w.offset,this.bytes.moveTo(this.firstOffset+F),E=this.parseObject(),k=PDFRef.of(C,0),this.context.assign(k,E),this.shouldWaitForTick()?[4,waitForTick()]:[3,3]):[3,4];case 2:D.sent(),D.label=3;case 3:return b++,[3,1];case 4:return[2]}})})},d.prototype.parseOffsetsAndObjectNumbers=function(){for(var x=[],b=0,S=this.objectCount;b<S;b++){this.skipWhitespaceAndComments();var w=this.parseRawInt();this.skipWhitespaceAndComments();var C=this.parseRawInt();x.push({objectNumber:w,offset:C})}return x},d.forStream=function(x,b){return new d(x,b)},d}(PDFObjectParser),PDFXRefStreamParser=function(){function g(d){this.alreadyParsed=!1,this.dict=d.dict,this.bytes=ByteStream.fromPDFRawStream(d),this.context=this.dict.context,this.context.pdfFileDetails.useObjectStreams=!0;var x=this.dict.lookup(PDFName.of("Size"),PDFNumber),b=this.dict.lookup(PDFName.of("Index"));if(b instanceof PDFArray){this.subsections=[];for(var S=0,w=b.size();S<w;S+=2){var C=b.lookup(S+0,PDFNumber).asNumber(),F=b.lookup(S+1,PDFNumber).asNumber();this.subsections.push({firstObjectNumber:C,length:F})}}else this.subsections=[{firstObjectNumber:0,length:x.asNumber()}];var E=this.dict.lookup(PDFName.of("W"),PDFArray);this.byteWidths=[-1,-1,-1];for(var S=0,w=E.size();S<w;S++)this.byteWidths[S]=E.lookup(S,PDFNumber).asNumber()}return g.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new ReparseError("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(PDFName.of("Root")),Encrypt:this.dict.get(PDFName.of("Encrypt")),Info:this.dict.get(PDFName.of("Info")),ID:this.dict.get(PDFName.of("ID"))};var d=this.parseEntries();return d},g.prototype.parseEntries=function(){for(var d=[],x=this.byteWidths,b=x[0],S=x[1],w=x[2],C=0,F=this.subsections.length;C<F;C++)for(var E=this.subsections[C],k=E.firstObjectNumber,D=E.length,M=0;M<D;M++){for(var L=0,R=0,U=b;R<U;R++)L=L<<8|this.bytes.next();for(var j=0,R=0,U=S;R<U;R++)j=j<<8|this.bytes.next();for(var H=0,R=0,U=w;R<U;R++)H=H<<8|this.bytes.next();b===0&&(L=1);var V=k+M,z={ref:PDFRef.of(V,H),offset:j,deleted:L===0,inObjectStream:L===2};d.push(z)}return d},g.forStream=function(d){return new g(d)},g}(),PDFParser=function(g){__extends(d,g);function d(x,b,S,w){b===void 0&&(b=1/0),S===void 0&&(S=!1),w===void 0&&(w=!1);var C=g.call(this,ByteStream.of(x),PDFContext.create(),w)||this;return C.alreadyParsed=!1,C.parsedObjects=0,C.shouldWaitForTick=function(){return C.parsedObjects+=1,C.parsedObjects%C.objectsPerTick===0},C.objectsPerTick=b,C.throwOnInvalidObject=S,C.context.pdfFileDetails.pdfSize=x.length,C}return d.prototype.parseDocument=function(){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(S){switch(S.label){case 0:if(this.alreadyParsed)throw new ReparseError("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),S.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(S.sent(),b=this.bytes.offset(),b===x)throw new StalledParserError(this.bytes.position());return x=b,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(PDFRef.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(PDFRef.of(0))),[2,this.context]}})})},d.prototype.maybeRecoverRoot=function(){var x=function(D){return D instanceof PDFDict&&D.lookup(PDFName.of("Type"))===PDFName.of("Catalog")},b=this.context.lookup(this.context.trailerInfo.Root);if(!x(b))for(var S=this.context.enumerateIndirectObjects(),w=0,C=S.length;w<C;w++){var F=S[w],E=F[0],k=F[1];x(k)&&(this.context.trailerInfo.Root=E)}},d.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Keywords.header)){var x=this.parseRawInt();this.bytes.assertNext(CharCodes$1.Period);var b=this.parseRawInt(),S=PDFHeader.forVersion(x,b);return this.skipBinaryHeaderComment(),S}this.bytes.next()}throw new MissingPDFHeaderError(this.bytes.position())},d.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var x=this.parseRawInt();this.skipWhitespaceAndComments();var b=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Keywords.obj))throw new MissingKeywordError(this.bytes.position(),Keywords.obj);return PDFRef.of(x,b)},d.prototype.matchIndirectObjectHeader=function(){var x=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(x),!1}},d.prototype.parseIndirectObject=function(){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(S){switch(S.label){case 0:return x=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),b=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.endobj),b instanceof PDFRawStream&&b.dict.lookup(PDFName.of("Type"))===PDFName.of("ObjStm")?[4,PDFObjectStreamParser.forStream(b,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return S.sent(),[3,3];case 2:b instanceof PDFRawStream&&b.dict.lookup(PDFName.of("Type"))===PDFName.of("XRef")?PDFXRefStreamParser.forStream(b).parseIntoContext():this.context.assign(x,b),S.label=3;case 3:return[2,x]}})})},d.prototype.tryToParseInvalidIndirectObject=function(){var x=this.bytes.position(),b="Trying to parse invalid object: "+JSON.stringify(x)+")";if(this.throwOnInvalidObject)throw new Error(b);console.warn(b);var S=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+S),this.skipWhitespaceAndComments();for(var w=this.bytes.offset(),C=!0;!this.bytes.done()&&(this.matchKeyword(Keywords.endobj)&&(C=!1),!!C);)this.bytes.next();if(C)throw new PDFInvalidObjectParsingError(x);var F=this.bytes.offset()-Keywords.endobj.length,E=PDFInvalidObject.of(this.bytes.slice(w,F));return this.context.assign(S,E),S},d.prototype.parseIndirectObjects=function(){return __awaiter(this,void 0,void 0,function(){var x;return __generator(this,function(b){switch(b.label){case 0:this.skipWhitespaceAndComments(),b.label=1;case 1:if(!(!this.bytes.done()&&IsDigit[this.bytes.peek()]))return[3,8];x=this.bytes.offset(),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return b.sent(),[3,5];case 4:return b.sent(),this.bytes.moveTo(x),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,waitForTick()]:[3,7];case 6:b.sent(),b.label=7;case 7:return[3,1];case 8:return[2]}})})},d.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.xref)){this.skipWhitespaceAndComments();for(var x=-1,b=PDFCrossRefSection.createEmpty();!this.bytes.done()&&IsDigit[this.bytes.peek()];){var S=this.parseRawInt();this.skipWhitespaceAndComments();var w=this.parseRawInt();this.skipWhitespaceAndComments();var C=this.bytes.peek();if(C===CharCodes$1.n||C===CharCodes$1.f){var F=PDFRef.of(x,w);this.bytes.next()===CharCodes$1.n?b.addEntry(F,S):b.addDeletedEntry(F,S),x+=1}else x=S;this.skipWhitespaceAndComments()}return b}},d.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.trailer)){this.skipWhitespaceAndComments();var x=this.parseDict(),b=this.context;b.trailerInfo={Root:x.get(PDFName.of("Root"))||b.trailerInfo.Root,Encrypt:x.get(PDFName.of("Encrypt"))||b.trailerInfo.Encrypt,Info:x.get(PDFName.of("Info"))||b.trailerInfo.Info,ID:x.get(PDFName.of("ID"))||b.trailerInfo.ID}}},d.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Keywords.startxref)){this.skipWhitespaceAndComments();var x=this.parseRawInt();return this.context.pdfFileDetails.prevStartXRef=x,this.skipWhitespace(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Keywords.eof),this.skipWhitespaceAndComments(),PDFTrailer.forLastCrossRefSectionOffset(x)}},d.prototype.parseDocumentSection=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(x){switch(x.label){case 0:return[4,this.parseIndirectObjects()];case 1:return x.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},d.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var x=this.bytes.offset(),b=this.bytes.peek(),S=b>=CharCodes$1.Space&&b<=CharCodes$1.Tilde;if(S&&(this.matchKeyword(Keywords.xref)||this.matchKeyword(Keywords.trailer)||this.matchKeyword(Keywords.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(x);break}this.bytes.next()}},d.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var x=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(x)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},d.forBytesWithOptions=function(x,b,S,w){return new d(x,b,S,w)},d}(PDFObjectParser),flag=function(g){return 1<<g},AnnotationFlags;(function(g){g[g.Invisible=flag(0)]="Invisible",g[g.Hidden=flag(1)]="Hidden",g[g.Print=flag(2)]="Print",g[g.NoZoom=flag(3)]="NoZoom",g[g.NoRotate=flag(4)]="NoRotate",g[g.NoView=flag(5)]="NoView",g[g.ReadOnly=flag(6)]="ReadOnly",g[g.Locked=flag(7)]="Locked",g[g.ToggleNoView=flag(8)]="ToggleNoView",g[g.LockedContents=flag(9)]="LockedContents"})(AnnotationFlags||(AnnotationFlags={}));var asPDFName=function(g){return g instanceof PDFName?g:PDFName.of(g)},asPDFNumber=function(g){return g instanceof PDFNumber?g:PDFNumber.of(g)},asNumber=function(g){return g instanceof PDFNumber?g.asNumber():g},RotationTypes;(function(g){g.Degrees="degrees",g.Radians="radians"})(RotationTypes||(RotationTypes={}));var degrees=function(g){return assertIs(g,"degreeAngle",["number"]),{type:RotationTypes.Degrees,angle:g}},Radians=RotationTypes.Radians,Degrees=RotationTypes.Degrees,degreesToRadians=function(g){return g*Math.PI/180},radiansToDegrees=function(g){return g*180/Math.PI},toRadians=function(g){return g.type===Radians?g.angle:g.type===Degrees?degreesToRadians(g.angle):error("Invalid rotation: "+JSON.stringify(g))},toDegrees=function(g){return g.type===Radians?radiansToDegrees(g.angle):g.type===Degrees?g.angle:error("Invalid rotation: "+JSON.stringify(g))},reduceRotation=function(g){g===void 0&&(g=0);var d=g/90%4;return d===0?0:d===1?90:d===2?180:d===3?270:0},adjustDimsForRotation=function(g,d){d===void 0&&(d=0);var x=reduceRotation(d);return x===90||x===270?{width:g.height,height:g.width}:{width:g.width,height:g.height}},rotateRectangle=function(g,d,x){d===void 0&&(d=0),x===void 0&&(x=0);var b=g.x,S=g.y,w=g.width,C=g.height,F=reduceRotation(x),E=d/2;return F===0?{x:b-E,y:S-E,width:w,height:C}:F===90?{x:b-C+E,y:S-E,width:C,height:w}:F===180?{x:b-w+E,y:S-C+E,width:w,height:C}:F===270?{x:b-E,y:S-w+E,width:C,height:w}:{x:b-E,y:S-E,width:w,height:C}},clip=function(){return PDFOperator.of(Ops.ClipNonZero)},cos=Math.cos,sin=Math.sin,tan=Math.tan,concatTransformationMatrix=function(g,d,x,b,S,w){return PDFOperator.of(Ops.ConcatTransformationMatrix,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b),asPDFNumber(S),asPDFNumber(w)])},translate=function(g,d){return concatTransformationMatrix(1,0,0,1,g,d)},scale=function(g,d){return concatTransformationMatrix(g,0,0,d,0,0)},rotateRadians=function(g){return concatTransformationMatrix(cos(asNumber(g)),sin(asNumber(g)),-sin(asNumber(g)),cos(asNumber(g)),0,0)},rotateDegrees=function(g){return rotateRadians(degreesToRadians(asNumber(g)))},skewRadians=function(g,d){return concatTransformationMatrix(1,tan(asNumber(g)),tan(asNumber(d)),1,0,0)},setDashPattern=function(g,d){return PDFOperator.of(Ops.SetLineDashPattern,["["+g.map(asPDFNumber).join(" ")+"]",asPDFNumber(d)])},LineCapStyle;(function(g){g[g.Butt=0]="Butt",g[g.Round=1]="Round",g[g.Projecting=2]="Projecting"})(LineCapStyle||(LineCapStyle={}));var setLineCap=function(g){return PDFOperator.of(Ops.SetLineCapStyle,[asPDFNumber(g)])},LineJoinStyle;(function(g){g[g.Miter=0]="Miter",g[g.Round=1]="Round",g[g.Bevel=2]="Bevel"})(LineJoinStyle||(LineJoinStyle={}));var setGraphicsState=function(g){return PDFOperator.of(Ops.SetGraphicsStateParams,[asPDFName(g)])},pushGraphicsState=function(){return PDFOperator.of(Ops.PushGraphicsState)},popGraphicsState=function(){return PDFOperator.of(Ops.PopGraphicsState)},setLineWidth=function(g){return PDFOperator.of(Ops.SetLineWidth,[asPDFNumber(g)])},appendBezierCurve=function(g,d,x,b,S,w){return PDFOperator.of(Ops.AppendBezierCurve,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b),asPDFNumber(S),asPDFNumber(w)])},appendQuadraticCurve=function(g,d,x,b){return PDFOperator.of(Ops.CurveToReplicateInitialPoint,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b)])},closePath=function(){return PDFOperator.of(Ops.ClosePath)},moveTo=function(g,d){return PDFOperator.of(Ops.MoveTo,[asPDFNumber(g),asPDFNumber(d)])},lineTo=function(g,d){return PDFOperator.of(Ops.LineTo,[asPDFNumber(g),asPDFNumber(d)])},stroke=function(){return PDFOperator.of(Ops.StrokePath)},fill=function(){return PDFOperator.of(Ops.FillNonZero)},fillAndStroke=function(){return PDFOperator.of(Ops.FillNonZeroAndStroke)},endPath=function(){return PDFOperator.of(Ops.EndPath)},nextLine=function(){return PDFOperator.of(Ops.NextLine)},showText=function(g){return PDFOperator.of(Ops.ShowText,[g])},beginText=function(){return PDFOperator.of(Ops.BeginText)},endText=function(){return PDFOperator.of(Ops.EndText)},setFontAndSize=function(g,d){return PDFOperator.of(Ops.SetFontAndSize,[asPDFName(g),asPDFNumber(d)])},setLineHeight=function(g){return PDFOperator.of(Ops.SetTextLineHeight,[asPDFNumber(g)])},TextRenderingMode;(function(g){g[g.Fill=0]="Fill",g[g.Outline=1]="Outline",g[g.FillAndOutline=2]="FillAndOutline",g[g.Invisible=3]="Invisible",g[g.FillAndClip=4]="FillAndClip",g[g.OutlineAndClip=5]="OutlineAndClip",g[g.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",g[g.Clip=7]="Clip"})(TextRenderingMode||(TextRenderingMode={}));var setTextMatrix=function(g,d,x,b,S,w){return PDFOperator.of(Ops.SetTextMatrix,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b),asPDFNumber(S),asPDFNumber(w)])},rotateAndSkewTextRadiansAndTranslate=function(g,d,x,b,S){return setTextMatrix(cos(asNumber(g)),sin(asNumber(g))+tan(asNumber(d)),-sin(asNumber(g))+tan(asNumber(x)),cos(asNumber(g)),b,S)},drawObject=function(g){return PDFOperator.of(Ops.DrawObject,[asPDFName(g)])},setFillingGrayscaleColor=function(g){return PDFOperator.of(Ops.NonStrokingColorGray,[asPDFNumber(g)])},setStrokingGrayscaleColor=function(g){return PDFOperator.of(Ops.StrokingColorGray,[asPDFNumber(g)])},setFillingRgbColor=function(g,d,x){return PDFOperator.of(Ops.NonStrokingColorRgb,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x)])},setStrokingRgbColor=function(g,d,x){return PDFOperator.of(Ops.StrokingColorRgb,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x)])},setFillingCmykColor=function(g,d,x,b){return PDFOperator.of(Ops.NonStrokingColorCmyk,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b)])},setStrokingCmykColor=function(g,d,x,b){return PDFOperator.of(Ops.StrokingColorCmyk,[asPDFNumber(g),asPDFNumber(d),asPDFNumber(x),asPDFNumber(b)])},beginMarkedContent=function(g){return PDFOperator.of(Ops.BeginMarkedContent,[asPDFName(g)])},endMarkedContent=function(){return PDFOperator.of(Ops.EndMarkedContent)},ColorTypes;(function(g){g.Grayscale="Grayscale",g.RGB="RGB",g.CMYK="CMYK"})(ColorTypes||(ColorTypes={}));var grayscale=function(g){return assertRange(g,"gray",0,1),{type:ColorTypes.Grayscale,gray:g}},rgb=function(g,d,x){return assertRange(g,"red",0,1),assertRange(d,"green",0,1),assertRange(x,"blue",0,1),{type:ColorTypes.RGB,red:g,green:d,blue:x}},cmyk=function(g,d,x,b){return assertRange(g,"cyan",0,1),assertRange(d,"magenta",0,1),assertRange(x,"yellow",0,1),assertRange(b,"key",0,1),{type:ColorTypes.CMYK,cyan:g,magenta:d,yellow:x,key:b}},Grayscale=ColorTypes.Grayscale,RGB=ColorTypes.RGB,CMYK=ColorTypes.CMYK,setFillingColor=function(g){return g.type===Grayscale?setFillingGrayscaleColor(g.gray):g.type===RGB?setFillingRgbColor(g.red,g.green,g.blue):g.type===CMYK?setFillingCmykColor(g.cyan,g.magenta,g.yellow,g.key):error("Invalid color: "+JSON.stringify(g))},setStrokingColor=function(g){return g.type===Grayscale?setStrokingGrayscaleColor(g.gray):g.type===RGB?setStrokingRgbColor(g.red,g.green,g.blue):g.type===CMYK?setStrokingCmykColor(g.cyan,g.magenta,g.yellow,g.key):error("Invalid color: "+JSON.stringify(g))},componentsToColor=function(g,d){return d===void 0&&(d=1),g?.length===1?grayscale(g[0]*d):g?.length===3?rgb(g[0]*d,g[1]*d,g[2]*d):g?.length===4?cmyk(g[0]*d,g[1]*d,g[2]*d,g[3]*d):void 0},colorToComponents=function(g){return g.type===Grayscale?[g.gray]:g.type===RGB?[g.red,g.green,g.blue]:g.type===CMYK?[g.cyan,g.magenta,g.yellow,g.key]:error("Invalid color: "+JSON.stringify(g))},cx=0,cy=0,px=0,py=0,sx=0,sy=0,parameters=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),parse=function(g){for(var d,x=[],b=[],S="",w=!1,C=0,F=0,E=g;F<E.length;F++){var k=E[F];if(parameters.has(k))C=parameters.get(k),d&&(S.length>0&&(b[b.length]=+S),x[x.length]={cmd:d,args:b},b=[],S="",w=!1),d=k;else if([" ",","].includes(k)||k==="-"&&S.length>0&&S[S.length-1]!=="e"||k==="."&&w){if(S.length===0)continue;b.length===C?(x[x.length]={cmd:d,args:b},b=[+S],d==="M"&&(d="L"),d==="m"&&(d="l")):b[b.length]=+S,w=k===".",S=["-","."].includes(k)?k:""}else S+=k,k==="."&&(w=!0)}return S.length>0&&(b.length===C?(x[x.length]={cmd:d,args:b},b=[+S],d==="M"&&(d="L"),d==="m"&&(d="l")):b[b.length]=+S),x[x.length]={cmd:d,args:b},x},apply=function(g){cx=cy=px=py=sx=sy=0;for(var d=[],x=0;x<g.length;x++){var b=g[x];if(b.cmd&&typeof runners[b.cmd]=="function"){var S=runners[b.cmd](b.args);Array.isArray(S)?d=d.concat(S):d.push(S)}}return d},runners={M:function(g){return cx=g[0],cy=g[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},m:function(g){return cx+=g[0],cy+=g[1],px=py=null,sx=cx,sy=cy,moveTo(cx,cy)},C:function(g){return cx=g[4],cy=g[5],px=g[2],py=g[3],appendBezierCurve(g[0],g[1],g[2],g[3],g[4],g[5])},c:function(g){var d=appendBezierCurve(g[0]+cx,g[1]+cy,g[2]+cx,g[3]+cy,g[4]+cx,g[5]+cy);return px=cx+g[2],py=cy+g[3],cx+=g[4],cy+=g[5],d},S:function(g){(px===null||py===null)&&(px=cx,py=cy);var d=appendBezierCurve(cx-(px-cx),cy-(py-cy),g[0],g[1],g[2],g[3]);return px=g[0],py=g[1],cx=g[2],cy=g[3],d},s:function(g){(px===null||py===null)&&(px=cx,py=cy);var d=appendBezierCurve(cx-(px-cx),cy-(py-cy),cx+g[0],cy+g[1],cx+g[2],cy+g[3]);return px=cx+g[0],py=cy+g[1],cx+=g[2],cy+=g[3],d},Q:function(g){return px=g[0],py=g[1],cx=g[2],cy=g[3],appendQuadraticCurve(g[0],g[1],cx,cy)},q:function(g){var d=appendQuadraticCurve(g[0]+cx,g[1]+cy,g[2]+cx,g[3]+cy);return px=cx+g[0],py=cy+g[1],cx+=g[2],cy+=g[3],d},T:function(g){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var d=appendQuadraticCurve(px,py,g[0],g[1]);return px=cx-(px-cx),py=cy-(py-cy),cx=g[0],cy=g[1],d},t:function(g){px===null||py===null?(px=cx,py=cy):(px=cx-(px-cx),py=cy-(py-cy));var d=appendQuadraticCurve(px,py,cx+g[0],cy+g[1]);return cx+=g[0],cy+=g[1],d},A:function(g){var d=solveArc(cx,cy,g);return cx=g[5],cy=g[6],d},a:function(g){g[5]+=cx,g[6]+=cy;var d=solveArc(cx,cy,g);return cx=g[5],cy=g[6],d},L:function(g){return cx=g[0],cy=g[1],px=py=null,lineTo(cx,cy)},l:function(g){return cx+=g[0],cy+=g[1],px=py=null,lineTo(cx,cy)},H:function(g){return cx=g[0],px=py=null,lineTo(cx,cy)},h:function(g){return cx+=g[0],px=py=null,lineTo(cx,cy)},V:function(g){return cy=g[0],px=py=null,lineTo(cx,cy)},v:function(g){return cy+=g[0],px=py=null,lineTo(cx,cy)},Z:function(){var g=closePath();return cx=sx,cy=sy,g},z:function(){var g=closePath();return cx=sx,cy=sy,g}},solveArc=function(g,d,x){for(var b=x[0],S=x[1],w=x[2],C=x[3],F=x[4],E=x[5],k=x[6],D=arcToSegments(E,k,b,S,C,F,w,g,d),M=[],L=0,R=D;L<R.length;L++){var U=R[L],j=segmentToBezier.apply(void 0,U);M.push(appendBezierCurve.apply(void 0,j))}return M},arcToSegments=function(g,d,x,b,S,w,C,F,E){var k=C*(Math.PI/180),D=Math.sin(k),M=Math.cos(k);x=Math.abs(x),b=Math.abs(b),px=M*(F-g)*.5+D*(E-d)*.5,py=M*(E-d)*.5-D*(F-g)*.5;var L=px*px/(x*x)+py*py/(b*b);L>1&&(L=Math.sqrt(L),x*=L,b*=L);var R=M/x,U=D/x,j=-D/b,H=M/b,V=R*F+U*E,z=j*F+H*E,G=R*g+U*d,X=j*g+H*d,Y=(G-V)*(G-V)+(X-z)*(X-z),J=1/Y-.25;J<0&&(J=0);var ee=Math.sqrt(J);w===S&&(ee=-ee);var ie=.5*(V+G)-ee*(X-z),oe=.5*(z+X)+ee*(G-V),he=Math.atan2(z-oe,V-ie),fe=Math.atan2(X-oe,G-ie),Se=fe-he;Se<0&&w===1?Se+=2*Math.PI:Se>0&&w===0&&(Se-=2*Math.PI);for(var we=Math.ceil(Math.abs(Se/(Math.PI*.5+.001))),Ee=[],de=0;de<we;de++){var xe=he+de*Se/we,Te=he+(de+1)*Se/we;Ee[de]=[ie,oe,xe,Te,x,b,D,M]}return Ee},segmentToBezier=function(g,d,x,b,S,w,C,F){var E=F*S,k=-C*w,D=C*S,M=F*w,L=.5*(b-x),R=8/3*Math.sin(L*.5)*Math.sin(L*.5)/Math.sin(L),U=g+Math.cos(x)-R*Math.sin(x),j=d+Math.sin(x)+R*Math.cos(x),H=g+Math.cos(b),V=d+Math.sin(b),z=H+R*Math.sin(b),G=V-R*Math.cos(b),X=[E*U+k*j,D*U+M*j,E*z+k*G,D*z+M*G,E*H+k*V,D*H+M*V];return X},svgPathToOperators=function(g){return apply(parse(g))},drawLinesOfText=function(g,d){for(var x=[pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),beginText(),setFillingColor(d.color),setFontAndSize(d.font,d.size),setLineHeight(d.lineHeight),rotateAndSkewTextRadiansAndTranslate(toRadians(d.rotate),toRadians(d.xSkew),toRadians(d.ySkew),d.x,d.y)].filter(Boolean),b=0,S=g.length;b<S;b++)x.push(showText(g[b]),nextLine());return x.push(endText(),popGraphicsState()),x},drawImage=function(g,d){return[pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),translate(d.x,d.y),rotateRadians(toRadians(d.rotate)),scale(d.width,d.height),skewRadians(toRadians(d.xSkew),toRadians(d.ySkew)),drawObject(g),popGraphicsState()].filter(Boolean)},drawPage=function(g,d){return[pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),translate(d.x,d.y),rotateRadians(toRadians(d.rotate)),scale(d.xScale,d.yScale),skewRadians(toRadians(d.xSkew),toRadians(d.ySkew)),drawObject(g),popGraphicsState()].filter(Boolean)},drawLine=function(g){var d,x;return[pushGraphicsState(),g.graphicsState&&setGraphicsState(g.graphicsState),g.color&&setStrokingColor(g.color),setLineWidth(g.thickness),setDashPattern((d=g.dashArray)!==null&&d!==void 0?d:[],(x=g.dashPhase)!==null&&x!==void 0?x:0),moveTo(g.start.x,g.start.y),g.lineCap&&setLineCap(g.lineCap),moveTo(g.start.x,g.start.y),lineTo(g.end.x,g.end.y),stroke(),popGraphicsState()].filter(Boolean)},drawRectangle=function(g){var d,x;return[pushGraphicsState(),g.graphicsState&&setGraphicsState(g.graphicsState),g.color&&setFillingColor(g.color),g.borderColor&&setStrokingColor(g.borderColor),setLineWidth(g.borderWidth),g.borderLineCap&&setLineCap(g.borderLineCap),setDashPattern((d=g.borderDashArray)!==null&&d!==void 0?d:[],(x=g.borderDashPhase)!==null&&x!==void 0?x:0),translate(g.x,g.y),rotateRadians(toRadians(g.rotate)),skewRadians(toRadians(g.xSkew),toRadians(g.ySkew)),moveTo(0,0),lineTo(0,g.height),lineTo(g.width,g.height),lineTo(g.width,0),closePath(),g.color&&g.borderWidth?fillAndStroke():g.color?fill():g.borderColor?stroke():closePath(),popGraphicsState()].filter(Boolean)},KAPPA=4*((Math.sqrt(2)-1)/3),drawEllipsePath=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.xScale),S=asNumber(g.yScale);d-=b,x-=S;var w=b*KAPPA,C=S*KAPPA,F=d+b*2,E=x+S*2,k=d+b,D=x+S;return[pushGraphicsState(),moveTo(d,D),appendBezierCurve(d,D-C,k-w,x,k,x),appendBezierCurve(k+w,x,F,D-C,F,D),appendBezierCurve(F,D+C,k+w,E,k,E),appendBezierCurve(k-w,E,d,D+C,d,D),popGraphicsState()]},drawEllipseCurves=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.xScale),S=asNumber(g.yScale),w=-b,C=-S,F=b*KAPPA,E=S*KAPPA,k=w+b*2,D=C+S*2,M=w+b,L=C+S;return[translate(d,x),rotateRadians(toRadians(g.rotate)),moveTo(w,L),appendBezierCurve(w,L-E,M-F,C,M,C),appendBezierCurve(M+F,C,k,L-E,k,L),appendBezierCurve(k,L+E,M+F,D,M,D),appendBezierCurve(M-F,D,w,L+E,w,L)]},drawEllipse=function(g){var d,x,b;return __spreadArrays([pushGraphicsState(),g.graphicsState&&setGraphicsState(g.graphicsState),g.color&&setFillingColor(g.color),g.borderColor&&setStrokingColor(g.borderColor),setLineWidth(g.borderWidth),g.borderLineCap&&setLineCap(g.borderLineCap),setDashPattern((d=g.borderDashArray)!==null&&d!==void 0?d:[],(x=g.borderDashPhase)!==null&&x!==void 0?x:0)],g.rotate===void 0?drawEllipsePath({x:g.x,y:g.y,xScale:g.xScale,yScale:g.yScale}):drawEllipseCurves({x:g.x,y:g.y,xScale:g.xScale,yScale:g.yScale,rotate:(b=g.rotate)!==null&&b!==void 0?b:degrees(0)}),[g.color&&g.borderWidth?fillAndStroke():g.color?fill():g.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawSvgPath=function(g,d){var x,b,S;return __spreadArrays([pushGraphicsState(),d.graphicsState&&setGraphicsState(d.graphicsState),translate(d.x,d.y),rotateRadians(toRadians((x=d.rotate)!==null&&x!==void 0?x:degrees(0))),d.scale?scale(d.scale,-d.scale):scale(1,-1),d.color&&setFillingColor(d.color),d.borderColor&&setStrokingColor(d.borderColor),d.borderWidth&&setLineWidth(d.borderWidth),d.borderLineCap&&setLineCap(d.borderLineCap),setDashPattern((b=d.borderDashArray)!==null&&b!==void 0?b:[],(S=d.borderDashPhase)!==null&&S!==void 0?S:0)],svgPathToOperators(g),[d.color&&d.borderWidth?fillAndStroke():d.color?fill():d.borderColor?stroke():closePath(),popGraphicsState()]).filter(Boolean)},drawCheckMark=function(g){var d=asNumber(g.size),x=-1+.75,b=-1+.51,S=1-.525,w=1-.31,C=-1+.325,F=-((C-x)*(w-x))/(S-b)+b;return[pushGraphicsState(),g.color&&setStrokingColor(g.color),setLineWidth(g.thickness),translate(g.x,g.y),moveTo(C*d,F*d),lineTo(x*d,b*d),lineTo(w*d,S*d),stroke(),popGraphicsState()].filter(Boolean)},rotateInPlace=function(g){return g.rotation===0?[translate(0,0),rotateDegrees(0)]:g.rotation===90?[translate(g.width,0),rotateDegrees(90)]:g.rotation===180?[translate(g.width,g.height),rotateDegrees(180)]:g.rotation===270?[translate(0,g.height),rotateDegrees(270)]:[]},drawCheckBox=function(g){var d=drawRectangle({x:g.x,y:g.y,width:g.width,height:g.height,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});if(!g.filled)return d;var x=asNumber(g.width),b=asNumber(g.height),S=Math.min(x,b)/2,w=drawCheckMark({x:x/2,y:b/2,size:S,thickness:g.thickness,color:g.markColor});return __spreadArrays([pushGraphicsState()],d,w,[popGraphicsState()])},drawRadioButton=function(g){var d=asNumber(g.width),x=asNumber(g.height),b=Math.min(d,x)/2,S=drawEllipse({x:g.x,y:g.y,xScale:b,yScale:b,color:g.color,borderColor:g.borderColor,borderWidth:g.borderWidth});if(!g.filled)return S;var w=drawEllipse({x:g.x,y:g.y,xScale:b*.45,yScale:b*.45,color:g.dotColor,borderColor:void 0,borderWidth:0});return __spreadArrays([pushGraphicsState()],S,w,[popGraphicsState()])},drawButton=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.width),S=asNumber(g.height),w=drawRectangle({x:d,y:x,width:b,height:S,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),C=drawTextLines(g.textLines,{color:g.textColor,font:g.font,size:g.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)});return __spreadArrays([pushGraphicsState()],w,C,[popGraphicsState()])},drawTextLines=function(g,d){for(var x=[beginText(),setFillingColor(d.color),setFontAndSize(d.font,d.size)],b=0,S=g.length;b<S;b++){var w=g[b],C=w.encoded,F=w.x,E=w.y;x.push(rotateAndSkewTextRadiansAndTranslate(toRadians(d.rotate),toRadians(d.xSkew),toRadians(d.ySkew),F,E),showText(C))}return x.push(endText()),x},drawTextField=function(g){var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.width),S=asNumber(g.height),w=asNumber(g.borderWidth),C=asNumber(g.padding),F=d+w/2+C,E=x+w/2+C,k=b-(w/2+C)*2,D=S-(w/2+C)*2,M=[moveTo(F,E),lineTo(F,E+D),lineTo(F+k,E+D),lineTo(F+k,E),closePath(),clip(),endPath()],L=drawRectangle({x:d,y:x,width:b,height:S,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),R=drawTextLines(g.textLines,{color:g.textColor,font:g.font,size:g.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),U=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],R,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],L,M,U,[popGraphicsState()])},drawOptionList=function(g){for(var d=asNumber(g.x),x=asNumber(g.y),b=asNumber(g.width),S=asNumber(g.height),w=asNumber(g.lineHeight),C=asNumber(g.borderWidth),F=asNumber(g.padding),E=d+C/2+F,k=x+C/2+F,D=b-(C/2+F)*2,M=S-(C/2+F)*2,L=[moveTo(E,k),lineTo(E,k+M),lineTo(E+D,k+M),lineTo(E+D,k),closePath(),clip(),endPath()],R=drawRectangle({x:d,y:x,width:b,height:S,borderWidth:g.borderWidth,color:g.color,borderColor:g.borderColor,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),U=[],j=0,H=g.selectedLines.length;j<H;j++){var V=g.textLines[g.selectedLines[j]];U.push.apply(U,drawRectangle({x:V.x-F,y:V.y-(w-V.height)/2,width:b-C,height:V.height+(w-V.height)/2,borderWidth:0,color:g.selectedColor,borderColor:void 0,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}))}var z=drawTextLines(g.textLines,{color:g.textColor,font:g.font,size:g.fontSize,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)}),G=__spreadArrays([beginMarkedContent("Tx"),pushGraphicsState()],z,[popGraphicsState(),endMarkedContent()]);return __spreadArrays([pushGraphicsState()],R,U,L,G,[popGraphicsState()])},EncryptedPDFError=function(g){__extends(d,g);function d(){var x=this,b="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return x=g.call(this,b)||this,x}return d}(Error),FontkitNotRegisteredError=function(g){__extends(d,g);function d(){var x=this,b="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return x=g.call(this,b)||this,x}return d}(Error),ForeignPageError=function(g){__extends(d,g);function d(){var x=this,b="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return x=g.call(this,b)||this,x}return d}(Error),RemovePageFromEmptyDocumentError=function(g){__extends(d,g);function d(){var x=this,b="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return x=g.call(this,b)||this,x}return d}(Error),NoSuchFieldError=function(g){__extends(d,g);function d(x){var b=this,S='PDFDocument has no form field with the name "'+x+'"';return b=g.call(this,S)||this,b}return d}(Error),UnexpectedFieldTypeError=function(g){__extends(d,g);function d(x,b,S){var w,C,F=this,E=b?.name,k=(C=(w=S?.constructor)===null||w===void 0?void 0:w.name)!==null&&C!==void 0?C:S,D='Expected field "'+x+'" to be of type '+E+", "+("but it is actually of type "+k);return F=g.call(this,D)||this,F}return d}(Error);(function(g){__extends(d,g);function d(x){var b=this,S='Failed to select check box due to missing onValue: "'+x+'"';return b=g.call(this,S)||this,b}return d})(Error);var FieldAlreadyExistsError=function(g){__extends(d,g);function d(x){var b=this,S='A field already exists with the specified name: "'+x+'"';return b=g.call(this,S)||this,b}return d}(Error),InvalidFieldNamePartError=function(g){__extends(d,g);function d(x){var b=this,S='Field name contains invalid component: "'+x+'"';return b=g.call(this,S)||this,b}return d}(Error);(function(g){__extends(d,g);function d(x){var b=this,S='A non-terminal field already exists with the specified name: "'+x+'"';return b=g.call(this,S)||this,b}return d})(Error);var RichTextFieldReadError=function(g){__extends(d,g);function d(x){var b=this,S="Reading rich text fields is not supported: Attempted to read rich text field: "+x;return b=g.call(this,S)||this,b}return d}(Error),CombedTextLayoutError=function(g){__extends(d,g);function d(x,b){var S=this,w="Failed to layout combed text as lineLength="+x+" is greater than cellCount="+b;return S=g.call(this,w)||this,S}return d}(Error),ExceededMaxLengthError=function(g){__extends(d,g);function d(x,b,S){var w=this,C="Attempted to set text with length="+x+" for TextField with maxLength="+b+" and name="+S;return w=g.call(this,C)||this,w}return d}(Error),InvalidMaxLengthError=function(g){__extends(d,g);function d(x,b,S){var w=this,C="Attempted to set maxLength="+b+", which is less than "+x+", the length of this field's current value (name="+S+")";return w=g.call(this,C)||this,w}return d}(Error),TextAlignment;(function(g){g[g.Left=0]="Left",g[g.Center=1]="Center",g[g.Right=2]="Right"})(TextAlignment||(TextAlignment={}));var MIN_FONT_SIZE=4,MAX_FONT_SIZE=500,computeFontSize=function(g,d,x,b){b===void 0&&(b=!1);for(var S=MIN_FONT_SIZE;S<MAX_FONT_SIZE;){for(var w=0,C=0,F=g.length;C<F;C++){w+=1;for(var E=g[C],k=E.split(" "),D=x.width,M=0,L=k.length;M<L;M++){var R=M===L-1,U=R?k[M]:k[M]+" ",j=d.widthOfTextAtSize(U,S);D-=j,D<=0&&(w+=1,D=x.width-j)}}if(!b&&w>g.length)return S-1;var H=d.heightAtSize(S),V=H+H*.2,z=V*w;if(z>Math.abs(x.height))return S-1;S+=1}return S},computeCombedFontSize=function(g,d,x,b){for(var S=x.width/b,w=x.height,C=MIN_FONT_SIZE,F=charSplit(g);C<MAX_FONT_SIZE;){for(var E=0,k=F.length;E<k;E++){var D=F[E],M=d.widthOfTextAtSize(D,C)>S*.75;if(M)return C-1}var L=d.heightAtSize(C,{descender:!1});if(L>w)return C-1;C+=1}return C},lastIndexOfWhitespace=function(g){for(var d=g.length;d>0;d--)if(/\s/.test(g[d]))return d},splitOutLines=function(g,d,x,b){for(var S,w=g.length;w>0;){var C=g.substring(0,w),F=x.encodeText(C),E=x.widthOfTextAtSize(C,b);if(E<d){var k=g.substring(w)||void 0;return{line:C,encoded:F,width:E,remainder:k}}w=(S=lastIndexOfWhitespace(C))!==null&&S!==void 0?S:0}return{line:g,encoded:x.encodeText(g),width:x.widthOfTextAtSize(g,b),remainder:void 0}},layoutMultilineText=function(g,d){var x=d.alignment,b=d.fontSize,S=d.font,w=d.bounds,C=lineSplit(cleanText(g));(b===void 0||b===0)&&(b=computeFontSize(C,S,w,!0));for(var F=S.heightAtSize(b),E=F+F*.2,k=[],D=w.x,M=w.y,L=w.x+w.width,R=w.y+w.height,U=w.y+w.height,j=0,H=C.length;j<H;j++)for(var V=C[j];V!==void 0;){var z=splitOutLines(V,w.width,S,b),G=z.line,X=z.encoded,Y=z.width,J=z.remainder,ee=x===TextAlignment.Left?w.x:x===TextAlignment.Center?w.x+w.width/2-Y/2:x===TextAlignment.Right?w.x+w.width-Y:w.x;U-=E,ee<D&&(D=ee),U<M&&(M=U),ee+Y>L&&(L=ee+Y),U+F>R&&(R=U+F),k.push({text:G,encoded:X,width:Y,height:F,x:ee,y:U}),V=J?.trim()}return{fontSize:b,lineHeight:E,lines:k,bounds:{x:D,y:M,width:L-D,height:R-M}}},layoutCombedText=function(g,d){var x=d.fontSize,b=d.font,S=d.bounds,w=d.cellCount,C=mergeLines(cleanText(g));if(C.length>w)throw new CombedTextLayoutError(C.length,w);(x===void 0||x===0)&&(x=computeCombedFontSize(C,b,S,w));for(var F=S.width/w,E=b.heightAtSize(x,{descender:!1}),k=S.y+(S.height/2-E/2),D=[],M=S.x,L=S.y,R=S.x+S.width,U=S.y+S.height,j=0,H=0;j<w;){var V=charAtIndex(C,H),z=V[0],G=V[1],X=b.encodeText(z),Y=b.widthOfTextAtSize(z,x),J=S.x+(F*j+F/2),ee=J-Y/2;ee<M&&(M=ee),k<L&&(L=k),ee+Y>R&&(R=ee+Y),k+E>U&&(U=k+E),D.push({text:C,encoded:X,width:Y,height:E,x:ee,y:k}),j+=1,H+=G}return{fontSize:x,cells:D,bounds:{x:M,y:L,width:R-M,height:U-L}}},layoutSinglelineText=function(g,d){var x=d.alignment,b=d.fontSize,S=d.font,w=d.bounds,C=mergeLines(cleanText(g));(b===void 0||b===0)&&(b=computeFontSize([C],S,w));var F=S.encodeText(C),E=S.widthOfTextAtSize(C,b),k=S.heightAtSize(b,{descender:!1}),D=x===TextAlignment.Left?w.x:x===TextAlignment.Center?w.x+w.width/2-E/2:x===TextAlignment.Right?w.x+w.width-E:w.x,M=w.y+(w.height/2-k/2);return{fontSize:b,line:{text:C,encoded:F,width:E,height:k,x:D,y:M},bounds:{x:D,y:M,width:E,height:k}}},normalizeAppearance=function(g){return"normal"in g?g:{normal:g}},tfRegex=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,getDefaultFontSize=function(g){var d,x,b=(d=g.getDefaultAppearance())!==null&&d!==void 0?d:"",S=(x=findLastMatch(b,tfRegex).match)!==null&&x!==void 0?x:[],w=Number(S[2]);return isFinite(w)?w:void 0},colorRegex=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,getDefaultColor=function(g){var d,x=(d=g.getDefaultAppearance())!==null&&d!==void 0?d:"",b=findLastMatch(x,colorRegex).match,S=b??[],w=S[1],C=S[2],F=S[3],E=S[4],k=S[5];if(k==="g"&&w)return grayscale(Number(w));if(k==="rg"&&w&&C&&F)return rgb(Number(w),Number(C),Number(F));if(k==="k"&&w&&C&&F&&E)return cmyk(Number(w),Number(C),Number(F),Number(E))},updateDefaultAppearance=function(g,d,x,b){var S;b===void 0&&(b=0);var w=[setFillingColor(d).toString(),setFontAndSize((S=x?.name)!==null&&S!==void 0?S:"dummy__noop",b).toString()].join(`
`);g.setDefaultAppearance(w)},defaultCheckBoxAppearanceProvider=function(g,d){var x,b,S,w=getDefaultColor(d),C=getDefaultColor(g.acroField),F=d.getRectangle(),E=d.getAppearanceCharacteristics(),k=d.getBorderStyle(),D=(x=k?.getWidth())!==null&&x!==void 0?x:0,M=reduceRotation(E?.getRotation()),L=adjustDimsForRotation(F,M),R=L.width,U=L.height,j=rotateInPlace(__assign(__assign({},F),{rotation:M})),H=rgb(0,0,0),V=(b=componentsToColor(E?.getBorderColor()))!==null&&b!==void 0?b:H,z=componentsToColor(E?.getBackgroundColor()),G=componentsToColor(E?.getBackgroundColor(),.8),X=(S=w??C)!==null&&S!==void 0?S:H;updateDefaultAppearance(w?d:g.acroField,X);var Y={x:0+D/2,y:0+D/2,width:R-D,height:U-D,thickness:1.5,borderWidth:D,borderColor:V,markColor:X};return{normal:{on:__spreadArrays(j,drawCheckBox(__assign(__assign({},Y),{color:z,filled:!0}))),off:__spreadArrays(j,drawCheckBox(__assign(__assign({},Y),{color:z,filled:!1})))},down:{on:__spreadArrays(j,drawCheckBox(__assign(__assign({},Y),{color:G,filled:!0}))),off:__spreadArrays(j,drawCheckBox(__assign(__assign({},Y),{color:G,filled:!1})))}}},defaultRadioGroupAppearanceProvider=function(g,d){var x,b,S,w=getDefaultColor(d),C=getDefaultColor(g.acroField),F=d.getRectangle(),E=d.getAppearanceCharacteristics(),k=d.getBorderStyle(),D=(x=k?.getWidth())!==null&&x!==void 0?x:0,M=reduceRotation(E?.getRotation()),L=adjustDimsForRotation(F,M),R=L.width,U=L.height,j=rotateInPlace(__assign(__assign({},F),{rotation:M})),H=rgb(0,0,0),V=(b=componentsToColor(E?.getBorderColor()))!==null&&b!==void 0?b:H,z=componentsToColor(E?.getBackgroundColor()),G=componentsToColor(E?.getBackgroundColor(),.8),X=(S=w??C)!==null&&S!==void 0?S:H;updateDefaultAppearance(w?d:g.acroField,X);var Y={x:R/2,y:U/2,width:R-D,height:U-D,borderWidth:D,borderColor:V,dotColor:X};return{normal:{on:__spreadArrays(j,drawRadioButton(__assign(__assign({},Y),{color:z,filled:!0}))),off:__spreadArrays(j,drawRadioButton(__assign(__assign({},Y),{color:z,filled:!1})))},down:{on:__spreadArrays(j,drawRadioButton(__assign(__assign({},Y),{color:G,filled:!0}))),off:__spreadArrays(j,drawRadioButton(__assign(__assign({},Y),{color:G,filled:!1})))}}},defaultButtonAppearanceProvider=function(g,d,x){var b,S,w,C,F,E=getDefaultColor(d),k=getDefaultColor(g.acroField),D=getDefaultFontSize(d),M=getDefaultFontSize(g.acroField),L=d.getRectangle(),R=d.getAppearanceCharacteristics(),U=d.getBorderStyle(),j=R?.getCaptions(),H=(b=j?.normal)!==null&&b!==void 0?b:"",V=(w=(S=j?.down)!==null&&S!==void 0?S:H)!==null&&w!==void 0?w:"",z=(C=U?.getWidth())!==null&&C!==void 0?C:0,G=reduceRotation(R?.getRotation()),X=adjustDimsForRotation(L,G),Y=X.width,J=X.height,ee=rotateInPlace(__assign(__assign({},L),{rotation:G})),ie=rgb(0,0,0),oe=componentsToColor(R?.getBorderColor()),he=componentsToColor(R?.getBackgroundColor()),fe=componentsToColor(R?.getBackgroundColor(),.8),Se={x:z,y:z,width:Y-z*2,height:J-z*2},we=layoutSinglelineText(H,{alignment:TextAlignment.Center,fontSize:D??M,font:x,bounds:Se}),Ee=layoutSinglelineText(V,{alignment:TextAlignment.Center,fontSize:D??M,font:x,bounds:Se}),de=Math.min(we.fontSize,Ee.fontSize),xe=(F=E??k)!==null&&F!==void 0?F:ie;updateDefaultAppearance(E||D!==void 0?d:g.acroField,xe,x,de);var Te={x:0+z/2,y:0+z/2,width:Y-z,height:J-z,borderWidth:z,borderColor:oe,textColor:xe,font:x.name,fontSize:de};return{normal:__spreadArrays(ee,drawButton(__assign(__assign({},Te),{color:he,textLines:[we.line]}))),down:__spreadArrays(ee,drawButton(__assign(__assign({},Te),{color:fe,textLines:[Ee.line]})))}},defaultTextFieldAppearanceProvider=function(g,d,x){var b,S,w,C,F=getDefaultColor(d),E=getDefaultColor(g.acroField),k=getDefaultFontSize(d),D=getDefaultFontSize(g.acroField),M=d.getRectangle(),L=d.getAppearanceCharacteristics(),R=d.getBorderStyle(),U=(b=g.getText())!==null&&b!==void 0?b:"",j=(S=R?.getWidth())!==null&&S!==void 0?S:0,H=reduceRotation(L?.getRotation()),V=adjustDimsForRotation(M,H),z=V.width,G=V.height,X=rotateInPlace(__assign(__assign({},M),{rotation:H})),Y=rgb(0,0,0),J=componentsToColor(L?.getBorderColor()),ee=componentsToColor(L?.getBackgroundColor()),ie,oe,he=g.isCombed()?0:1,fe={x:j+he,y:j+he,width:z-(j+he)*2,height:G-(j+he)*2};if(g.isMultiline()){var Se=layoutMultilineText(U,{alignment:g.getAlignment(),fontSize:k??D,font:x,bounds:fe});ie=Se.lines,oe=Se.fontSize}else if(g.isCombed()){var Se=layoutCombedText(U,{fontSize:k??D,font:x,bounds:fe,cellCount:(w=g.getMaxLength())!==null&&w!==void 0?w:0});ie=Se.cells,oe=Se.fontSize}else{var Se=layoutSinglelineText(U,{alignment:g.getAlignment(),fontSize:k??D,font:x,bounds:fe});ie=[Se.line],oe=Se.fontSize}var we=(C=F??E)!==null&&C!==void 0?C:Y;updateDefaultAppearance(F||k!==void 0?d:g.acroField,we,x,oe);var Ee={x:0+j/2,y:0+j/2,width:z-j,height:G-j,borderWidth:j??0,borderColor:J,textColor:we,font:x.name,fontSize:oe,color:ee,textLines:ie,padding:he};return __spreadArrays(X,drawTextField(Ee))},defaultDropdownAppearanceProvider=function(g,d,x){var b,S,w,C=getDefaultColor(d),F=getDefaultColor(g.acroField),E=getDefaultFontSize(d),k=getDefaultFontSize(g.acroField),D=d.getRectangle(),M=d.getAppearanceCharacteristics(),L=d.getBorderStyle(),R=(b=g.getSelected()[0])!==null&&b!==void 0?b:"",U=(S=L?.getWidth())!==null&&S!==void 0?S:0,j=reduceRotation(M?.getRotation()),H=adjustDimsForRotation(D,j),V=H.width,z=H.height,G=rotateInPlace(__assign(__assign({},D),{rotation:j})),X=rgb(0,0,0),Y=componentsToColor(M?.getBorderColor()),J=componentsToColor(M?.getBackgroundColor()),ee=1,ie={x:U+ee,y:U+ee,width:V-(U+ee)*2,height:z-(U+ee)*2},oe=layoutSinglelineText(R,{alignment:TextAlignment.Left,fontSize:E??k,font:x,bounds:ie}),he=oe.line,fe=oe.fontSize,Se=(w=C??F)!==null&&w!==void 0?w:X;updateDefaultAppearance(C||E!==void 0?d:g.acroField,Se,x,fe);var we={x:0+U/2,y:0+U/2,width:V-U,height:z-U,borderWidth:U??0,borderColor:Y,textColor:Se,font:x.name,fontSize:fe,color:J,textLines:[he],padding:ee};return __spreadArrays(G,drawTextField(we))},defaultOptionListAppearanceProvider=function(g,d,x){var b,S,w=getDefaultColor(d),C=getDefaultColor(g.acroField),F=getDefaultFontSize(d),E=getDefaultFontSize(g.acroField),k=d.getRectangle(),D=d.getAppearanceCharacteristics(),M=d.getBorderStyle(),L=(b=M?.getWidth())!==null&&b!==void 0?b:0,R=reduceRotation(D?.getRotation()),U=adjustDimsForRotation(k,R),j=U.width,H=U.height,V=rotateInPlace(__assign(__assign({},k),{rotation:R})),z=rgb(0,0,0),G=componentsToColor(D?.getBorderColor()),X=componentsToColor(D?.getBackgroundColor()),Y=g.getOptions(),J=g.getSelected();g.isSorted()&&Y.sort();for(var ee="",ie=0,oe=Y.length;ie<oe;ie++)ee+=Y[ie],ie<oe-1&&(ee+=`
`);for(var he=1,fe={x:L+he,y:L+he,width:j-(L+he)*2,height:H-(L+he)*2},Se=layoutMultilineText(ee,{alignment:TextAlignment.Left,fontSize:F??E,font:x,bounds:fe}),we=Se.lines,Ee=Se.fontSize,de=Se.lineHeight,xe=[],ie=0,oe=we.length;ie<oe;ie++){var Te=we[ie];J.includes(Te.text)&&xe.push(ie)}var Oe=rgb(153/255,193/255,218/255),Ne=(S=w??C)!==null&&S!==void 0?S:z;return updateDefaultAppearance(w||F!==void 0?d:g.acroField,Ne,x,Ee),__spreadArrays(V,drawOptionList({x:0+L/2,y:0+L/2,width:j-L,height:H-L,borderWidth:L??0,borderColor:G,textColor:Ne,font:x.name,fontSize:Ee,color:X,textLines:we,lineHeight:de,selectedColor:Oe,selectedLines:xe,padding:he}))},PDFEmbeddedPage=function(){function g(d,x,b){this.alreadyEmbedded=!1,assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(b,"embedder",[[PDFPageEmbedder,"PDFPageEmbedder"]]),this.ref=d,this.doc=x,this.width=b.width,this.height=b.height,this.embedder=b}return g.prototype.scale=function(d){return assertIs(d,"factor",["number"]),{width:this.width*d,height:this.height*d}},g.prototype.size=function(){return this.scale(1)},g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){switch(d.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:d.sent(),this.alreadyEmbedded=!0,d.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),PDFFont=function(){function g(d,x,b){this.modified=!0,assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(b,"embedder",[[CustomFontEmbedder,"CustomFontEmbedder"],[StandardFontEmbedder,"StandardFontEmbedder"]]),this.ref=d,this.doc=x,this.name=b.fontName,this.embedder=b}return g.prototype.encodeText=function(d){return assertIs(d,"text",["string"]),this.modified=!0,this.embedder.encodeText(d)},g.prototype.widthOfTextAtSize=function(d,x){return assertIs(d,"text",["string"]),assertIs(x,"size",["number"]),this.embedder.widthOfTextAtSize(d,x)},g.prototype.heightAtSize=function(d,x){var b;return assertIs(d,"size",["number"]),assertOrUndefined(x?.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(d,{descender:(b=x?.descender)!==null&&b!==void 0?b:!0})},g.prototype.sizeAtHeight=function(d){return assertIs(d,"height",["number"]),this.embedder.sizeOfFontAtHeight(d)},g.prototype.getCharacterSet=function(){return this.embedder instanceof StandardFontEmbedder?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){switch(d.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:d.sent(),this.modified=!1,d.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),PDFImage=function(){function g(d,x,b){assertIs(d,"ref",[[PDFRef,"PDFRef"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),assertIs(b,"embedder",[[JpegEmbedder,"JpegEmbedder"],[PngEmbedder,"PngEmbedder"]]),this.ref=d,this.doc=x,this.width=b.width,this.height=b.height,this.embedder=b}return g.prototype.scale=function(d){return assertIs(d,"factor",["number"]),{width:this.width*d,height:this.height*d}},g.prototype.scaleToFit=function(d,x){assertIs(d,"width",["number"]),assertIs(x,"height",["number"]);var b=d/this.width,S=x/this.height,w=Math.min(b,S);return this.scale(w)},g.prototype.size=function(){return this.scale(1)},g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b;return __generator(this,function(S){switch(S.label){case 0:return this.embedder?(this.embedTask||(d=this,x=d.doc,b=d.ref,this.embedTask=this.embedder.embedIntoContext(x.context,b)),[4,this.embedTask]):[2];case 1:return S.sent(),this.embedder=void 0,[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),ImageAlignment;(function(g){g[g.Left=0]="Left",g[g.Center=1]="Center",g[g.Right=2]="Right"})(ImageAlignment||(ImageAlignment={}));var assertFieldAppearanceOptions=function(g){assertOrUndefined(g?.x,"options.x",["number"]),assertOrUndefined(g?.y,"options.y",["number"]),assertOrUndefined(g?.width,"options.width",["number"]),assertOrUndefined(g?.height,"options.height",["number"]),assertOrUndefined(g?.textColor,"options.textColor",[[Object,"Color"]]),assertOrUndefined(g?.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),assertOrUndefined(g?.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(g?.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(g?.rotate,"options.rotate",[[Object,"Rotation"]])},PDFField=function(){function g(d,x,b){assertIs(d,"acroField",[[PDFAcroTerminal,"PDFAcroTerminal"]]),assertIs(x,"ref",[[PDFRef,"PDFRef"]]),assertIs(b,"doc",[[PDFDocument,"PDFDocument"]]),this.acroField=d,this.ref=x,this.doc=b}return g.prototype.getName=function(){var d;return(d=this.acroField.getFullyQualifiedName())!==null&&d!==void 0?d:""},g.prototype.isReadOnly=function(){return this.acroField.hasFlag(AcroFieldFlags.ReadOnly)},g.prototype.enableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!0)},g.prototype.disableReadOnly=function(){this.acroField.setFlagTo(AcroFieldFlags.ReadOnly,!1)},g.prototype.isRequired=function(){return this.acroField.hasFlag(AcroFieldFlags.Required)},g.prototype.enableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!0)},g.prototype.disableRequired=function(){this.acroField.setFlagTo(AcroFieldFlags.Required,!1)},g.prototype.isExported=function(){return!this.acroField.hasFlag(AcroFieldFlags.NoExport)},g.prototype.enableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!1)},g.prototype.disableExporting=function(){this.acroField.setFlagTo(AcroFieldFlags.NoExport,!0)},g.prototype.needsAppearancesUpdate=function(){throw new MethodNotImplementedError(this.constructor.name,"needsAppearancesUpdate")},g.prototype.defaultUpdateAppearances=function(d){throw new MethodNotImplementedError(this.constructor.name,"defaultUpdateAppearances")},g.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},g.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},g.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},g.prototype.createWidget=function(d){var x,b=d.textColor,S=d.backgroundColor,w=d.borderColor,C=d.borderWidth,F=toDegrees(d.rotate),E=d.caption,k=d.x,D=d.y,M=d.width+C,L=d.height+C,R=!!d.hidden,U=d.page;assertMultiple(F,"degreesAngle",90);var j=PDFWidgetAnnotation.create(this.doc.context,this.ref),H=rotateRectangle({x:k,y:D,width:M,height:L},C,F);j.setRectangle(H),U&&j.setP(U);var V=j.getOrCreateAppearanceCharacteristics();S&&V.setBackgroundColor(colorToComponents(S)),V.setRotation(F),E&&V.setCaptions({normal:E}),w&&V.setBorderColor(colorToComponents(w));var z=j.getOrCreateBorderStyle();if(C!==void 0&&z.setWidth(C),j.setFlagTo(AnnotationFlags.Print,!0),j.setFlagTo(AnnotationFlags.Hidden,R),j.setFlagTo(AnnotationFlags.Invisible,!1),b){var G=(x=this.acroField.getDefaultAppearance())!==null&&x!==void 0?x:"",X=G+`
`+setFillingColor(b).toString();this.acroField.setDefaultAppearance(X)}return j},g.prototype.updateWidgetAppearanceWithFont=function(d,x,b){var S=b.normal,w=b.rollover,C=b.down;this.updateWidgetAppearances(d,{normal:this.createAppearanceStream(d,S,x),rollover:w&&this.createAppearanceStream(d,w,x),down:C&&this.createAppearanceStream(d,C,x)})},g.prototype.updateOnOffWidgetAppearance=function(d,x,b){var S=b.normal,w=b.rollover,C=b.down;this.updateWidgetAppearances(d,{normal:this.createAppearanceDict(d,S,x),rollover:w&&this.createAppearanceDict(d,w,x),down:C&&this.createAppearanceDict(d,C,x)})},g.prototype.updateWidgetAppearances=function(d,x){var b=x.normal,S=x.rollover,w=x.down;d.setNormalAppearance(b),S?d.setRolloverAppearance(S):d.removeRolloverAppearance(),w?d.setDownAppearance(w):d.removeDownAppearance()},g.prototype.createAppearanceStream=function(d,x,b){var S,w=this.acroField.dict.context,C=d.getRectangle(),F=C.width,E=C.height,k=b&&{Font:(S={},S[b.name]=b.ref,S)},D=w.formXObject(x,{Resources:k,BBox:w.obj([0,0,F,E]),Matrix:w.obj([1,0,0,1,0,0])}),M=w.register(D);return M},g.prototype.createImageAppearanceStream=function(d,x,b){var S,w,C=this.acroField.dict.context,F=d.getRectangle(),E=d.getAppearanceCharacteristics(),k=d.getBorderStyle(),D=(w=k?.getWidth())!==null&&w!==void 0?w:0,M=reduceRotation(E?.getRotation()),L=rotateInPlace(__assign(__assign({},F),{rotation:M})),R=adjustDimsForRotation(F,M),U=x.scaleToFit(R.width-D*2,R.height-D*2),j={x:D,y:D,width:U.width,height:U.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)};b===ImageAlignment.Center?(j.x+=(R.width-D*2)/2-U.width/2,j.y+=(R.height-D*2)/2-U.height/2):b===ImageAlignment.Right&&(j.x=R.width-D-U.width,j.y=R.height-D-U.height);var H=this.doc.context.addRandomSuffix("Image",10),V=__spreadArrays(L,drawImage(H,j)),z={XObject:(S={},S[H]=x.ref,S)},G=C.formXObject(V,{Resources:z,BBox:C.obj([0,0,F.width,F.height]),Matrix:C.obj([1,0,0,1,0,0])});return C.register(G)},g.prototype.createAppearanceDict=function(d,x,b){var S=this.acroField.dict.context,w=this.createAppearanceStream(d,x.on),C=this.createAppearanceStream(d,x.off),F=S.obj({});return F.set(b,w),F.set(PDFName.of("Off"),C),F},g}(),PDFCheckBox=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,x,b,S)||this;return assertIs(x,"acroCheckBox",[[PDFAcroCheckBox,"PDFAcroCheckBox"]]),w.acroField=x,w}return d.prototype.check=function(){var x,b=(x=this.acroField.getOnValue())!==null&&x!==void 0?x:PDFName.of("Yes");this.markAsDirty(),this.acroField.setValue(b)},d.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},d.prototype.isChecked=function(){var x=this.acroField.getOnValue();return!!x&&x===this.acroField.getValue()},d.prototype.addToPage=function(x,b){var S,w,C,F,E,k;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var D=this.createWidget({x:(S=b.x)!==null&&S!==void 0?S:0,y:(w=b.y)!==null&&w!==void 0?w:0,width:(C=b.width)!==null&&C!==void 0?C:50,height:(F=b.height)!==null&&F!==void 0?F:50,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),M=this.doc.context.register(D.dict);this.acroField.addWidget(M),D.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(D,PDFName.of("Yes")),x.node.addAnnot(M)},d.prototype.needsAppearancesUpdate=function(){for(var x,b=this.acroField.getWidgets(),S=0,w=b.length;S<w;S++){var C=b[S],F=C.getAppearanceState(),E=(x=C.getAppearances())===null||x===void 0?void 0:x.normal;if(!(E instanceof PDFDict)||F&&!E.has(F))return!0}return!1},d.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},d.prototype.updateAppearances=function(x){var b;assertOrUndefined(x,"provider",[Function]);for(var S=this.acroField.getWidgets(),w=0,C=S.length;w<C;w++){var F=S[w],E=(b=F.getOnValue())!==null&&b!==void 0?b:PDFName.of("Yes");E&&this.updateWidgetAppearance(F,E,x)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,S){var w=S??defaultCheckBoxAppearanceProvider,C=normalizeAppearance(w(this,x));this.updateOnOffWidgetAppearance(x,b,C)},d.of=function(x,b,S){return new d(x,b,S)},d}(PDFField),PDFDropdown=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,x,b,S)||this;return assertIs(x,"acroComboBox",[[PDFAcroComboBox,"PDFAcroComboBox"]]),w.acroField=x,w}return d.prototype.getOptions=function(){for(var x=this.acroField.getOptions(),b=new Array(x.length),S=0,w=b.length;S<w;S++){var C=x[S],F=C.display,E=C.value;b[S]=(F??E).decodeText()}return b},d.prototype.getSelected=function(){for(var x=this.acroField.getValues(),b=new Array(x.length),S=0,w=x.length;S<w;S++)b[S]=x[S].decodeText();return b},d.prototype.setOptions=function(x){assertIs(x,"options",[Array]);for(var b=new Array(x.length),S=0,w=x.length;S<w;S++)b[S]={value:PDFHexString.fromText(x[S])};this.acroField.setOptions(b)},d.prototype.addOptions=function(x){assertIs(x,"options",["string",Array]);for(var b=Array.isArray(x)?x:[x],S=this.acroField.getOptions(),w=new Array(b.length),C=0,F=b.length;C<F;C++)w[C]={value:PDFHexString.fromText(b[C])};this.acroField.setOptions(S.concat(w))},d.prototype.select=function(x,b){b===void 0&&(b=!1),assertIs(x,"options",["string",Array]),assertIs(b,"merge",["boolean"]);var S=Array.isArray(x)?x:[x],w=this.getOptions(),C=S.find(function(M){return!w.includes(M)});C&&this.enableEditing(),this.markAsDirty(),(S.length>1||S.length===1&&b)&&this.enableMultiselect();for(var F=new Array(S.length),E=0,k=S.length;E<k;E++)F[E]=PDFHexString.fromText(S[E]);if(b){var D=this.acroField.getValues();this.acroField.setValues(D.concat(F))}else this.acroField.setValues(F)},d.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.isEditable=function(){return this.acroField.hasFlag(AcroChoiceFlags.Edit)},d.prototype.enableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!0)},d.prototype.disableEditing=function(){this.acroField.setFlagTo(AcroChoiceFlags.Edit,!1)},d.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},d.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},d.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},d.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},d.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},d.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},d.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroChoiceFlags.DoNotSpellCheck)},d.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!1)},d.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroChoiceFlags.DoNotSpellCheck,!0)},d.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},d.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},d.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},d.prototype.addToPage=function(x,b){var S,w,C,F,E,k,D;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var M=this.createWidget({x:(S=b.x)!==null&&S!==void 0?S:0,y:(w=b.y)!==null&&w!==void 0?w:0,width:(C=b.width)!==null&&C!==void 0?C:200,height:(F=b.height)!==null&&F!==void 0?F:50,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),L=this.doc.context.register(M.dict);this.acroField.addWidget(L);var R=(D=b.font)!==null&&D!==void 0?D:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(M,R),x.node.addAnnot(L)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),S=0,w=b.length;S<w;S++){var C=b[S],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var S=this.acroField.getWidgets(),w=0,C=S.length;w<C;w++){var F=S[w];this.updateWidgetAppearance(F,x,b)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,S){var w=S??defaultDropdownAppearanceProvider,C=normalizeAppearance(w(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,S){return new d(x,b,S)},d}(PDFField),PDFOptionList=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,x,b,S)||this;return assertIs(x,"acroListBox",[[PDFAcroListBox,"PDFAcroListBox"]]),w.acroField=x,w}return d.prototype.getOptions=function(){for(var x=this.acroField.getOptions(),b=new Array(x.length),S=0,w=b.length;S<w;S++){var C=x[S],F=C.display,E=C.value;b[S]=(F??E).decodeText()}return b},d.prototype.getSelected=function(){for(var x=this.acroField.getValues(),b=new Array(x.length),S=0,w=x.length;S<w;S++)b[S]=x[S].decodeText();return b},d.prototype.setOptions=function(x){assertIs(x,"options",[Array]),this.markAsDirty();for(var b=new Array(x.length),S=0,w=x.length;S<w;S++)b[S]={value:PDFHexString.fromText(x[S])};this.acroField.setOptions(b)},d.prototype.addOptions=function(x){assertIs(x,"options",["string",Array]),this.markAsDirty();for(var b=Array.isArray(x)?x:[x],S=this.acroField.getOptions(),w=new Array(b.length),C=0,F=b.length;C<F;C++)w[C]={value:PDFHexString.fromText(b[C])};this.acroField.setOptions(S.concat(w))},d.prototype.select=function(x,b){b===void 0&&(b=!1),assertIs(x,"options",["string",Array]),assertIs(b,"merge",["boolean"]);var S=Array.isArray(x)?x:[x],w=this.getOptions();assertIsSubset(S,"option",w),this.markAsDirty(),(S.length>1||S.length===1&&b)&&this.enableMultiselect();for(var C=new Array(S.length),F=0,E=S.length;F<E;F++)C[F]=PDFHexString.fromText(S[F]);if(b){var k=this.acroField.getValues();this.acroField.setValues(k.concat(C))}else this.acroField.setValues(C)},d.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.isSorted=function(){return this.acroField.hasFlag(AcroChoiceFlags.Sort)},d.prototype.enableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!0)},d.prototype.disableSorting=function(){this.acroField.setFlagTo(AcroChoiceFlags.Sort,!1)},d.prototype.isMultiselect=function(){return this.acroField.hasFlag(AcroChoiceFlags.MultiSelect)},d.prototype.enableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!0)},d.prototype.disableMultiselect=function(){this.acroField.setFlagTo(AcroChoiceFlags.MultiSelect,!1)},d.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(AcroChoiceFlags.CommitOnSelChange)},d.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!0)},d.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(AcroChoiceFlags.CommitOnSelChange,!1)},d.prototype.addToPage=function(x,b){var S,w,C,F,E,k,D;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var M=this.createWidget({x:(S=b.x)!==null&&S!==void 0?S:0,y:(w=b.y)!==null&&w!==void 0?w:0,width:(C=b.width)!==null&&C!==void 0?C:200,height:(F=b.height)!==null&&F!==void 0?F:100,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),L=this.doc.context.register(M.dict);this.acroField.addWidget(L);var R=(D=b.font)!==null&&D!==void 0?D:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(M,R),x.node.addAnnot(L)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),S=0,w=b.length;S<w;S++){var C=b[S],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var S=this.acroField.getWidgets(),w=0,C=S.length;w<C;w++){var F=S[w];this.updateWidgetAppearance(F,x,b)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,S){var w=S??defaultOptionListAppearanceProvider,C=normalizeAppearance(w(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,S){return new d(x,b,S)},d}(PDFField),PDFRadioGroup=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,x,b,S)||this;return assertIs(x,"acroRadioButton",[[PDFAcroRadioButton,"PDFAcroRadioButton"]]),w.acroField=x,w}return d.prototype.getOptions=function(){var x=this.acroField.getExportValues();if(x){for(var b=new Array(x.length),S=0,w=x.length;S<w;S++)b[S]=x[S].decodeText();return b}for(var C=this.acroField.getOnValues(),F=new Array(C.length),S=0,w=F.length;S<w;S++)F[S]=C[S].decodeText();return F},d.prototype.getSelected=function(){var x=this.acroField.getValue();if(x!==PDFName.of("Off")){var b=this.acroField.getExportValues();if(b){for(var S=this.acroField.getOnValues(),w=0,C=S.length;w<C;w++)if(S[w]===x)return b[w].decodeText()}return x.decodeText()}},d.prototype.select=function(x){assertIs(x,"option",["string"]);var b=this.getOptions();assertIsOneOf(x,"option",b),this.markAsDirty();var S=this.acroField.getOnValues(),w=this.acroField.getExportValues();if(w)for(var C=0,F=w.length;C<F;C++)w[C].decodeText()===x&&this.acroField.setValue(S[C]);else for(var C=0,F=S.length;C<F;C++){var E=S[C];E.decodeText()===x&&this.acroField.setValue(E)}},d.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(PDFName.of("Off"))},d.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff)},d.prototype.enableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!1)},d.prototype.disableOffToggling=function(){this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff,!0)},d.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison)},d.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!1)},d.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison,!0)},d.prototype.addOptionToPage=function(x,b,S){var w,C,F,E,k,D,M,L,R;assertIs(x,"option",["string"]),assertIs(b,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(S);var U=this.createWidget({x:(w=S?.x)!==null&&w!==void 0?w:0,y:(C=S?.y)!==null&&C!==void 0?C:0,width:(F=S?.width)!==null&&F!==void 0?F:50,height:(E=S?.height)!==null&&E!==void 0?E:50,textColor:(k=S?.textColor)!==null&&k!==void 0?k:rgb(0,0,0),backgroundColor:(D=S?.backgroundColor)!==null&&D!==void 0?D:rgb(1,1,1),borderColor:(M=S?.borderColor)!==null&&M!==void 0?M:rgb(0,0,0),borderWidth:(L=S?.borderWidth)!==null&&L!==void 0?L:1,rotate:(R=S?.rotate)!==null&&R!==void 0?R:degrees(0),hidden:S?.hidden,page:b.ref}),j=this.doc.context.register(U.dict),H=this.acroField.addWidgetWithOpt(j,PDFHexString.fromText(x),!this.isMutuallyExclusive());U.setAppearanceState(PDFName.of("Off")),this.updateWidgetAppearance(U,H),b.node.addAnnot(j)},d.prototype.needsAppearancesUpdate=function(){for(var x,b=this.acroField.getWidgets(),S=0,w=b.length;S<w;S++){var C=b[S],F=C.getAppearanceState(),E=(x=C.getAppearances())===null||x===void 0?void 0:x.normal;if(!(E instanceof PDFDict)||F&&!E.has(F))return!0}return!1},d.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},d.prototype.updateAppearances=function(x){assertOrUndefined(x,"provider",[Function]);for(var b=this.acroField.getWidgets(),S=0,w=b.length;S<w;S++){var C=b[S],F=C.getOnValue();F&&this.updateWidgetAppearance(C,F,x)}},d.prototype.updateWidgetAppearance=function(x,b,S){var w=S??defaultRadioGroupAppearanceProvider,C=normalizeAppearance(w(this,x));this.updateOnOffWidgetAppearance(x,b,C)},d.of=function(x,b,S){return new d(x,b,S)},d}(PDFField),PDFSignature=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,x,b,S)||this;return assertIs(x,"acroSignature",[[PDFAcroSignature,"PDFAcroSignature"]]),w.acroField=x,w}return d.prototype.needsAppearancesUpdate=function(){return!1},d.of=function(x,b,S){return new d(x,b,S)},d}(PDFField),PDFTextField=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,x,b,S)||this;return assertIs(x,"acroText",[[PDFAcroText,"PDFAcroText"]]),w.acroField=x,w}return d.prototype.getText=function(){var x=this.acroField.getValue();if(!x&&this.isRichFormatted())throw new RichTextFieldReadError(this.getName());return x?.decodeText()},d.prototype.setText=function(x){assertOrUndefined(x,"text",["string"]);var b=this.getMaxLength();if(b!==void 0&&x&&x.length>b)throw new ExceededMaxLengthError(x.length,b,this.getName());this.markAsDirty(),this.disableRichFormatting(),x?this.acroField.setValue(PDFHexString.fromText(x)):this.acroField.removeValue()},d.prototype.getAlignment=function(){var x=this.acroField.getQuadding();return x===0?TextAlignment.Left:x===1?TextAlignment.Center:x===2?TextAlignment.Right:TextAlignment.Left},d.prototype.setAlignment=function(x){assertIsOneOf(x,"alignment",TextAlignment),this.markAsDirty(),this.acroField.setQuadding(x)},d.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},d.prototype.setMaxLength=function(x){if(assertRangeOrUndefined(x,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),x===void 0)this.acroField.removeMaxLength();else{var b=this.getText();if(b&&b.length>x)throw new InvalidMaxLengthError(b.length,x,this.getName());this.acroField.setMaxLength(x)}},d.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},d.prototype.setImage=function(x){for(var b=this.getAlignment(),S=b===TextAlignment.Center?ImageAlignment.Center:b===TextAlignment.Right?ImageAlignment.Right:ImageAlignment.Left,w=this.acroField.getWidgets(),C=0,F=w.length;C<F;C++){var E=w[C],k=this.createImageAppearanceStream(E,x,S);this.updateWidgetAppearances(E,{normal:k})}this.markAsClean()},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.isMultiline=function(){return this.acroField.hasFlag(AcroTextFlags.Multiline)},d.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!0)},d.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Multiline,!1)},d.prototype.isPassword=function(){return this.acroField.hasFlag(AcroTextFlags.Password)},d.prototype.enablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!0)},d.prototype.disablePassword=function(){this.acroField.setFlagTo(AcroTextFlags.Password,!1)},d.prototype.isFileSelector=function(){return this.acroField.hasFlag(AcroTextFlags.FileSelect)},d.prototype.enableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!0)},d.prototype.disableFileSelection=function(){this.acroField.setFlagTo(AcroTextFlags.FileSelect,!1)},d.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotSpellCheck)},d.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!1)},d.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotSpellCheck,!0)},d.prototype.isScrollable=function(){return!this.acroField.hasFlag(AcroTextFlags.DoNotScroll)},d.prototype.enableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!1)},d.prototype.disableScrolling=function(){this.acroField.setFlagTo(AcroTextFlags.DoNotScroll,!0)},d.prototype.isCombed=function(){return this.acroField.hasFlag(AcroTextFlags.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},d.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var x="PDFTextFields must have a max length in order to be combed";console.warn(x)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(AcroTextFlags.Comb,!0)},d.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(AcroTextFlags.Comb,!1)},d.prototype.isRichFormatted=function(){return this.acroField.hasFlag(AcroTextFlags.RichText)},d.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!0)},d.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(AcroTextFlags.RichText,!1)},d.prototype.addToPage=function(x,b){var S,w,C,F,E,k,D;assertIs(x,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(b),b||(b={}),"textColor"in b||(b.textColor=rgb(0,0,0)),"backgroundColor"in b||(b.backgroundColor=rgb(1,1,1)),"borderColor"in b||(b.borderColor=rgb(0,0,0)),"borderWidth"in b||(b.borderWidth=1);var M=this.createWidget({x:(S=b.x)!==null&&S!==void 0?S:0,y:(w=b.y)!==null&&w!==void 0?w:0,width:(C=b.width)!==null&&C!==void 0?C:200,height:(F=b.height)!==null&&F!==void 0?F:50,textColor:b.textColor,backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:(E=b.borderWidth)!==null&&E!==void 0?E:0,rotate:(k=b.rotate)!==null&&k!==void 0?k:degrees(0),hidden:b.hidden,page:x.ref}),L=this.doc.context.register(M.dict);this.acroField.addWidget(L);var R=(D=b.font)!==null&&D!==void 0?D:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(M,R),x.node.addAnnot(L)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),S=0,w=b.length;S<w;S++){var C=b[S],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var S=this.acroField.getWidgets(),w=0,C=S.length;w<C;w++){var F=S[w];this.updateWidgetAppearance(F,x,b)}this.markAsClean()},d.prototype.updateWidgetAppearance=function(x,b,S){var w=S??defaultTextFieldAppearanceProvider,C=normalizeAppearance(w(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,S){return new d(x,b,S)},d}(PDFField),StandardFonts;(function(g){g.Courier="Courier",g.CourierBold="Courier-Bold",g.CourierOblique="Courier-Oblique",g.CourierBoldOblique="Courier-BoldOblique",g.Helvetica="Helvetica",g.HelveticaBold="Helvetica-Bold",g.HelveticaOblique="Helvetica-Oblique",g.HelveticaBoldOblique="Helvetica-BoldOblique",g.TimesRoman="Times-Roman",g.TimesRomanBold="Times-Bold",g.TimesRomanItalic="Times-Italic",g.TimesRomanBoldItalic="Times-BoldItalic",g.Symbol="Symbol",g.ZapfDingbats="ZapfDingbats"})(StandardFonts||(StandardFonts={}));var PDFForm=function(){function g(d,x){var b=this;this.embedDefaultFont=function(){return b.doc.embedStandardFont(StandardFonts.Helvetica)},assertIs(d,"acroForm",[[PDFAcroForm,"PDFAcroForm"]]),assertIs(x,"doc",[[PDFDocument,"PDFDocument"]]),this.acroForm=d,this.doc=x,this.dirtyFields=new Set,this.defaultFontCache=Cache.populatedBy(this.embedDefaultFont)}return g.prototype.hasXFA=function(){return this.acroForm.dict.has(PDFName.of("XFA"))},g.prototype.deleteXFA=function(){this.acroForm.dict.delete(PDFName.of("XFA"))},g.prototype.getFields=function(){for(var d=this.acroForm.getAllFields(),x=[],b=0,S=d.length;b<S;b++){var w=d[b],C=w[0],F=w[1],E=convertToPDFField(C,F,this.doc);E&&x.push(E)}return x},g.prototype.getFieldMaybe=function(d){assertIs(d,"name",["string"]);for(var x=this.getFields(),b=0,S=x.length;b<S;b++){var w=x[b];if(w.getName()===d)return w}},g.prototype.getField=function(d){assertIs(d,"name",["string"]);var x=this.getFieldMaybe(d);if(x)return x;throw new NoSuchFieldError(d)},g.prototype.getButton=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFButton$1)return x;throw new UnexpectedFieldTypeError(d,PDFButton$1,x)},g.prototype.getCheckBox=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFCheckBox)return x;throw new UnexpectedFieldTypeError(d,PDFCheckBox,x)},g.prototype.getDropdown=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFDropdown)return x;throw new UnexpectedFieldTypeError(d,PDFDropdown,x)},g.prototype.getOptionList=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFOptionList)return x;throw new UnexpectedFieldTypeError(d,PDFOptionList,x)},g.prototype.getRadioGroup=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFRadioGroup)return x;throw new UnexpectedFieldTypeError(d,PDFRadioGroup,x)},g.prototype.getSignature=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFSignature)return x;throw new UnexpectedFieldTypeError(d,PDFSignature,x)},g.prototype.getTextField=function(d){assertIs(d,"name",["string"]);var x=this.getField(d);if(x instanceof PDFTextField)return x;throw new UnexpectedFieldTypeError(d,PDFTextField,x)},g.prototype.createButton=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),S=PDFAcroPushButton.create(this.doc.context);return S.setPartialName(x.terminal),addFieldToParent(b,[S,S.ref],x.terminal),PDFButton$1.of(S,S.ref,this.doc)},g.prototype.createCheckBox=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),S=PDFAcroCheckBox.create(this.doc.context);return S.setPartialName(x.terminal),addFieldToParent(b,[S,S.ref],x.terminal),PDFCheckBox.of(S,S.ref,this.doc)},g.prototype.createDropdown=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),S=PDFAcroComboBox.create(this.doc.context);return S.setPartialName(x.terminal),addFieldToParent(b,[S,S.ref],x.terminal),PDFDropdown.of(S,S.ref,this.doc)},g.prototype.createOptionList=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),S=PDFAcroListBox.create(this.doc.context);return S.setPartialName(x.terminal),addFieldToParent(b,[S,S.ref],x.terminal),PDFOptionList.of(S,S.ref,this.doc)},g.prototype.createRadioGroup=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),S=PDFAcroRadioButton.create(this.doc.context);return S.setPartialName(x.terminal),addFieldToParent(b,[S,S.ref],x.terminal),PDFRadioGroup.of(S,S.ref,this.doc)},g.prototype.createTextField=function(d){assertIs(d,"name",["string"]);var x=splitFieldName(d),b=this.findOrCreateNonTerminals(x.nonTerminal),S=PDFAcroText.create(this.doc.context);return S.setPartialName(x.terminal),addFieldToParent(b,[S,S.ref],x.terminal),PDFTextField.of(S,S.ref,this.doc)},g.prototype.flatten=function(d){d===void 0&&(d={updateFieldAppearances:!0}),d.updateFieldAppearances&&this.updateFieldAppearances();for(var x=this.getFields(),b=0,S=x.length;b<S;b++){for(var w=x[b],C=w.acroField.getWidgets(),F=0,E=C.length;F<E;F++){var k=C[F],D=this.findWidgetPage(k),M=this.findWidgetAppearanceRef(w,k),L=D.node.newXObject("FlatWidget",M),R=k.getRectangle(),U=__spreadArrays([pushGraphicsState(),translate(R.x,R.y)],rotateInPlace(__assign(__assign({},R),{rotation:0})),[drawObject(L),popGraphicsState()]).filter(Boolean);D.pushOperators.apply(D,U)}this.removeField(w)}},g.prototype.removeField=function(d){for(var x=d.acroField.getWidgets(),b=new Set,S=0,w=x.length;S<w;S++){var C=x[S],F=this.findWidgetAppearanceRef(d,C),E=this.findWidgetPage(C);b.add(E),E.node.removeAnnot(F)}b.forEach(function(R){return R.node.removeAnnot(d.ref)}),this.acroForm.removeField(d.acroField);for(var k=d.acroField.normalizedEntries().Kids,D=k.size(),M=0;M<D;M++){var L=k.get(M);L instanceof PDFRef&&this.doc.context.delete(L)}this.doc.context.delete(d.ref)},g.prototype.updateFieldAppearances=function(d){assertOrUndefined(d,"font",[[PDFFont,"PDFFont"]]),d=d??this.getDefaultFont();for(var x=this.getFields(),b=0,S=x.length;b<S;b++){var w=x[b];w.needsAppearancesUpdate()&&w.defaultUpdateAppearances(d)}},g.prototype.markFieldAsDirty=function(d){assertOrUndefined(d,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.add(d)},g.prototype.markFieldAsClean=function(d){assertOrUndefined(d,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.delete(d)},g.prototype.fieldIsDirty=function(d){return assertOrUndefined(d,"fieldRef",[[PDFRef,"PDFRef"]]),this.dirtyFields.has(d)},g.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},g.prototype.findWidgetPage=function(d){var x=d.P(),b=this.doc.getPages().find(function(w){return w.ref===x});if(b===void 0){var S=this.doc.context.getObjectRef(d.dict);if(S===void 0)throw new Error("Could not find PDFRef for PDFObject");if(b=this.doc.findPageForAnnotationRef(S),b===void 0)throw new Error("Could not find page for PDFRef "+S)}return b},g.prototype.findWidgetAppearanceRef=function(d,x){var b,S=x.getNormalAppearance();if(S instanceof PDFDict&&(d instanceof PDFCheckBox||d instanceof PDFRadioGroup)){var w=d.acroField.getValue(),C=(b=S.get(w))!==null&&b!==void 0?b:S.get(PDFName.of("Off"));C instanceof PDFRef&&(S=C)}if(!(S instanceof PDFRef)){var F=d.getName();throw new Error("Failed to extract appearance ref for: "+F)}return S},g.prototype.findOrCreateNonTerminals=function(d){for(var x=[this.acroForm],b=0,S=d.length;b<S;b++){var w=d[b];if(!w)throw new InvalidFieldNamePartError(w);var C=x[0],F=x[1],E=this.findNonTerminal(w,C);if(E)x=E;else{var k=PDFAcroNonTerminal.create(this.doc.context);k.setPartialName(w),k.setParent(F);var D=this.doc.context.register(k.dict);C.addField(D),x=[k,D]}}return x},g.prototype.findNonTerminal=function(d,x){for(var b=x instanceof PDFAcroForm?this.acroForm.getFields():createPDFAcroFields(x.Kids()),S=0,w=b.length;S<w;S++){var C=b[S],F=C[0],E=C[1];if(F.getPartialName()===d){if(F instanceof PDFAcroNonTerminal)return[F,E];throw new FieldAlreadyExistsError(d)}}},g.of=function(d,x){return new g(d,x)},g}(),convertToPDFField=function(g,d,x){if(g instanceof PDFAcroPushButton)return PDFButton$1.of(g,d,x);if(g instanceof PDFAcroCheckBox)return PDFCheckBox.of(g,d,x);if(g instanceof PDFAcroComboBox)return PDFDropdown.of(g,d,x);if(g instanceof PDFAcroListBox)return PDFOptionList.of(g,d,x);if(g instanceof PDFAcroText)return PDFTextField.of(g,d,x);if(g instanceof PDFAcroRadioButton)return PDFRadioGroup.of(g,d,x);if(g instanceof PDFAcroSignature)return PDFSignature.of(g,d,x)},splitFieldName=function(g){if(g.length===0)throw new Error("PDF field names must not be empty strings");for(var d=g.split("."),x=0,b=d.length;x<b;x++)if(d[x]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+g+'"');return d.length===1?{nonTerminal:[],terminal:d[0]}:{nonTerminal:d.slice(0,d.length-1),terminal:d[d.length-1]}},addFieldToParent=function(g,d,x){for(var b=g[0],S=g[1],w=d[0],C=d[1],F=b.normalizedEntries(),E=createPDFAcroFields("Kids"in F?F.Kids:F.Fields),k=0,D=E.length;k<D;k++)if(E[k][0].getPartialName()===x)throw new FieldAlreadyExistsError(x);b.addField(C),w.setParent(S)},PageSizes={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},ParseSpeeds;(function(g){g[g.Fastest=1/0]="Fastest",g[g.Fast=1500]="Fast",g[g.Medium=500]="Medium",g[g.Slow=100]="Slow"})(ParseSpeeds||(ParseSpeeds={}));var PDFEmbeddedFile=function(){function g(d,x,b){this.alreadyEmbedded=!1,this.ref=d,this.doc=x,this.embedder=b}return g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,S,w;return __generator(this,function(C){switch(C.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:d=C.sent(),this.doc.catalog.has(PDFName.of("Names"))||this.doc.catalog.set(PDFName.of("Names"),this.doc.context.obj({})),x=this.doc.catalog.lookup(PDFName.of("Names"),PDFDict),x.has(PDFName.of("EmbeddedFiles"))||x.set(PDFName.of("EmbeddedFiles"),this.doc.context.obj({})),b=x.lookup(PDFName.of("EmbeddedFiles"),PDFDict),b.has(PDFName.of("Names"))||b.set(PDFName.of("Names"),this.doc.context.obj([])),S=b.lookup(PDFName.of("Names"),PDFArray),S.push(PDFHexString.fromText(this.embedder.fileName)),S.push(d),this.doc.catalog.has(PDFName.of("AF"))||this.doc.catalog.set(PDFName.of("AF"),this.doc.context.obj([])),w=this.doc.catalog.lookup(PDFName.of("AF"),PDFArray),w.push(d),this.alreadyEmbedded=!0,C.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),PDFJavaScript=function(){function g(d,x,b){this.alreadyEmbedded=!1,this.ref=d,this.doc=x,this.embedder=b}return g.prototype.embed=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,S,w,C,F;return __generator(this,function(E){switch(E.label){case 0:return this.alreadyEmbedded?[3,2]:(d=this.doc,x=d.catalog,b=d.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:S=E.sent(),x.has(PDFName.of("Names"))||x.set(PDFName.of("Names"),b.obj({})),w=x.lookup(PDFName.of("Names"),PDFDict),w.has(PDFName.of("JavaScript"))||w.set(PDFName.of("JavaScript"),b.obj({})),C=w.lookup(PDFName.of("JavaScript"),PDFDict),C.has(PDFName.of("Names"))||C.set(PDFName.of("Names"),b.obj([])),F=C.lookup(PDFName.of("Names"),PDFArray),F.push(PDFHexString.fromText(this.embedder.scriptName)),F.push(S),this.alreadyEmbedded=!0,E.label=2;case 2:return[2]}})})},g.of=function(d,x,b){return new g(d,x,b)},g}(),JavaScriptEmbedder=function(){function g(d,x){this.script=d,this.scriptName=x}return g.for=function(d,x){return new g(d,x)},g.prototype.embedIntoContext=function(d,x){return __awaiter(this,void 0,void 0,function(){var b;return __generator(this,function(S){return b=d.obj({Type:"Action",S:"JavaScript",JS:PDFHexString.fromText(this.script)}),x?(d.assign(x,b),[2,x]):[2,d.register(b)]})})},g}(),DefaultDocumentSnapshot=function(){function g(){this.pdfSize=0,this.prevStartXRef=0}return g.prototype.shouldSave=function(d){return!0},g.prototype.markRefForSave=function(d){throw new Error("This method should not be called.")},g.prototype.markRefsForSave=function(d){throw new Error("This method should not be called.")},g.prototype.markObjForSave=function(d){throw new Error("This method should not be called.")},g.prototype.markObjsForSave=function(d){throw new Error("This method should not be called.")},g}(),defaultDocumentSnapshot=new DefaultDocumentSnapshot,IncrementalDocumentSnapshot=function(){function g(d,x,b,S,w){this.lastObjectNumber=d,this.changedObjects=x,this.pdfSize=b,this.prevStartXRef=S,this.context=w}return g.prototype.shouldSave=function(d){return!!(d>this.lastObjectNumber||this.changedObjects.includes(d))},g.prototype.markRefForSave=function(d){this.markRefsForSave([d])},g.prototype.markRefsForSave=function(d){var x=this;d.forEach(function(b){return x.changedObjects.push(b.objectNumber)})},g.prototype.markObjForSave=function(d){this.markObjsForSave([d])},g.prototype.markObjsForSave=function(d){var x=this;d.forEach(function(b){var S=b instanceof PDFRef?b:x.context.getObjectRef(b);x.markRefForSave(S)})},g}(),PDFDocument=function(){function g(d,x,b){var S=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var w=[];return S.catalog.Pages().traverse(function(C,F){if(C instanceof PDFPageLeaf){var E=S.pageMap.get(C);E||(E=PDFPage.of(C,F,S),S.pageMap.set(C,E)),w.push(E)}}),w},this.getOrCreateForm=function(){var w=S.catalog.getOrCreateAcroForm();return PDFForm.of(w,S)},assertIs(d,"context",[[PDFContext,"PDFContext"]]),assertIs(x,"ignoreEncryption",["boolean"]),this.context=d,this.catalog=d.lookup(d.trailerInfo.Root),this.isEncrypted=!!d.lookup(d.trailerInfo.Encrypt),this.pageCache=Cache.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Cache.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!x&&this.isEncrypted)throw new EncryptedPDFError;b&&this.updateInfoDict()}return g.load=function(d,x){return x===void 0&&(x={}),__awaiter(this,void 0,void 0,function(){var b,S,w,C,F,E,k,D,M,L,R,U;return __generator(this,function(j){switch(j.label){case 0:return b=x.ignoreEncryption,S=b===void 0?!1:b,w=x.parseSpeed,C=w===void 0?ParseSpeeds.Slow:w,F=x.throwOnInvalidObject,E=F===void 0?!1:F,k=x.updateMetadata,D=k===void 0?!0:k,M=x.capNumbers,L=M===void 0?!1:M,assertIs(d,"pdf",["string",Uint8Array,ArrayBuffer]),assertIs(S,"ignoreEncryption",["boolean"]),assertIs(C,"parseSpeed",["number"]),assertIs(E,"throwOnInvalidObject",["boolean"]),R=toUint8Array(d),[4,PDFParser.forBytesWithOptions(R,C,E,L).parseDocument()];case 1:return U=j.sent(),[2,new g(U,S,D)]}})})},g.create=function(d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var x,b,S,w,C,F;return __generator(this,function(E){return x=d.updateMetadata,b=x===void 0?!0:x,S=PDFContext.create(),w=PDFPageTree.withContext(S),C=S.register(w),F=PDFCatalog.withContextAndPages(S,C),S.trailerInfo.Root=S.register(F),[2,new g(S,!1,b)]})})},g.prototype.registerFontkit=function(d){this.fontkit=d},g.prototype.getForm=function(){var d=this.formCache.access();return d.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),d.deleteXFA()),d},g.prototype.getTitle=function(){var d=this.getInfoDict().lookup(PDFName.Title);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getAuthor=function(){var d=this.getInfoDict().lookup(PDFName.Author);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getSubject=function(){var d=this.getInfoDict().lookup(PDFName.Subject);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getKeywords=function(){var d=this.getInfoDict().lookup(PDFName.Keywords);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getCreator=function(){var d=this.getInfoDict().lookup(PDFName.Creator);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getProducer=function(){var d=this.getInfoDict().lookup(PDFName.Producer);if(d)return assertIsLiteralOrHexString(d),d.decodeText()},g.prototype.getCreationDate=function(){var d=this.getInfoDict().lookup(PDFName.CreationDate);if(d)return assertIsLiteralOrHexString(d),d.decodeDate()},g.prototype.getModificationDate=function(){var d=this.getInfoDict().lookup(PDFName.ModDate);if(d)return assertIsLiteralOrHexString(d),d.decodeDate()},g.prototype.setTitle=function(d,x){assertIs(d,"title",["string"]);var b=PDFName.of("Title");if(this.getInfoDict().set(b,PDFHexString.fromText(d)),x?.showInWindowTitleBar){var S=this.catalog.getOrCreateViewerPreferences();S.setDisplayDocTitle(!0)}},g.prototype.setAuthor=function(d){assertIs(d,"author",["string"]);var x=PDFName.of("Author");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setSubject=function(d){assertIs(d,"author",["string"]);var x=PDFName.of("Subject");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setKeywords=function(d){assertIs(d,"keywords",[Array]);var x=PDFName.of("Keywords");this.getInfoDict().set(x,PDFHexString.fromText(d.join(" ")))},g.prototype.setCreator=function(d){assertIs(d,"creator",["string"]);var x=PDFName.of("Creator");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setProducer=function(d){assertIs(d,"creator",["string"]);var x=PDFName.of("Producer");this.getInfoDict().set(x,PDFHexString.fromText(d))},g.prototype.setLanguage=function(d){assertIs(d,"language",["string"]);var x=PDFName.of("Lang");this.catalog.set(x,PDFString.of(d))},g.prototype.setCreationDate=function(d){assertIs(d,"creationDate",[[Date,"Date"]]);var x=PDFName.of("CreationDate");this.getInfoDict().set(x,PDFString.fromDate(d))},g.prototype.setModificationDate=function(d){assertIs(d,"modificationDate",[[Date,"Date"]]);var x=PDFName.of("ModDate");this.getInfoDict().set(x,PDFString.fromDate(d))},g.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},g.prototype.getPages=function(){return this.pageCache.access()},g.prototype.getPage=function(d){var x=this.getPages();return assertRange(d,"index",0,x.length-1),x[d]},g.prototype.getPageIndices=function(){return range(0,this.getPageCount())},g.prototype.removePage=function(d){var x=this.getPageCount();if(this.pageCount===0)throw new RemovePageFromEmptyDocumentError;assertRange(d,"index",0,x-1),this.catalog.removeLeafNode(d),this.pageCount=x-1},g.prototype.addPage=function(d){return assertIs(d,"page",["undefined",[PDFPage,"PDFPage"],Array]),this.insertPage(this.getPageCount(),d)},g.prototype.insertPage=function(d,x){var b=this.getPageCount();if(assertRange(d,"index",0,b),assertIs(x,"page",["undefined",[PDFPage,"PDFPage"],Array]),!x||Array.isArray(x)){var S=Array.isArray(x)?x:PageSizes.A4;x=PDFPage.create(this),x.setSize.apply(x,S)}else if(x.doc!==this)throw new ForeignPageError;var w=this.catalog.insertLeafNode(x.ref,d);return x.node.setParent(w),this.pageMap.set(x.node,x),this.pageCache.invalidate(),this.pageCount=b+1,x},g.prototype.copyPages=function(d,x){return __awaiter(this,void 0,void 0,function(){var b,S,w,C,F,E,k,D;return __generator(this,function(M){switch(M.label){case 0:return assertIs(d,"srcDoc",[[g,"PDFDocument"]]),assertIs(x,"indices",[Array]),[4,d.flush()];case 1:for(M.sent(),b=PDFObjectCopier.for(d.context,this.context),S=d.getPages(),w=new Array(x.length),C=0,F=x.length;C<F;C++)E=S[x[C]],k=b.copy(E.node),D=this.context.register(k),w[C]=PDFPage.of(k,D,this);return[2,w]}})})},g.prototype.copy=function(){return __awaiter(this,void 0,void 0,function(){var d,x,b,S;return __generator(this,function(w){switch(w.label){case 0:return[4,g.create()];case 1:return d=w.sent(),[4,d.copyPages(this,this.getPageIndices())];case 2:for(x=w.sent(),b=0,S=x.length;b<S;b++)d.addPage(x[b]);return this.getAuthor()!==void 0&&d.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&d.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&d.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&d.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&d.setProducer(this.getProducer()),this.getSubject()!==void 0&&d.setSubject(this.getSubject()),this.getTitle()!==void 0&&d.setTitle(this.getTitle()),d.defaultWordBreaks=this.defaultWordBreaks,[2,d]}})})},g.prototype.addJavaScript=function(d,x){assertIs(d,"name",["string"]),assertIs(x,"script",["string"]);var b=JavaScriptEmbedder.for(x,d),S=this.context.nextRef(),w=PDFJavaScript.of(S,this,b);this.javaScripts.push(w)},g.prototype.attach=function(d,x,b){return b===void 0&&(b={}),__awaiter(this,void 0,void 0,function(){var S,w,C,F;return __generator(this,function(E){return assertIs(d,"attachment",["string",Uint8Array,ArrayBuffer]),assertIs(x,"name",["string"]),assertOrUndefined(b.mimeType,"mimeType",["string"]),assertOrUndefined(b.description,"description",["string"]),assertOrUndefined(b.creationDate,"options.creationDate",[Date]),assertOrUndefined(b.modificationDate,"options.modificationDate",[Date]),assertIsOneOfOrUndefined(b.afRelationship,"options.afRelationship",AFRelationship),S=toUint8Array(d),w=FileEmbedder.for(S,x,b),C=this.context.nextRef(),F=PDFEmbeddedFile.of(C,this,w),this.embeddedFiles.push(F),[2]})})},g.prototype.embedFont=function(d,x){return x===void 0&&(x={}),__awaiter(this,void 0,void 0,function(){var b,S,w,C,F,E,k,D,M,L;return __generator(this,function(R){switch(R.label){case 0:return b=x.subset,S=b===void 0?!1:b,w=x.customName,C=x.features,assertIs(d,"font",["string",Uint8Array,ArrayBuffer]),assertIs(S,"subset",["boolean"]),isStandardFont(d)?(F=StandardFontEmbedder.for(d,w),[3,7]):[3,1];case 1:return canBeConvertedToUint8Array(d)?(E=toUint8Array(d),k=this.assertFontkit(),S?[4,CustomFontSubsetEmbedder.for(k,E,w,C)]:[3,3]):[3,6];case 2:return D=R.sent(),[3,5];case 3:return[4,CustomFontEmbedder.for(k,E,w,C)];case 4:D=R.sent(),R.label=5;case 5:return F=D,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return M=this.context.nextRef(),L=PDFFont.of(M,this,F),this.fonts.push(L),[2,L]}})})},g.prototype.embedStandardFont=function(d,x){if(assertIs(d,"font",["string"]),!isStandardFont(d))throw new TypeError("`font` must be one of type `StandardFonts`");var b=StandardFontEmbedder.for(d,x),S=this.context.nextRef(),w=PDFFont.of(S,this,b);return this.fonts.push(w),w},g.prototype.embedJpg=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,S,w;return __generator(this,function(C){switch(C.label){case 0:return assertIs(d,"jpg",["string",Uint8Array,ArrayBuffer]),x=toUint8Array(d),[4,JpegEmbedder.for(x)];case 1:return b=C.sent(),S=this.context.nextRef(),w=PDFImage.of(S,this,b),this.images.push(w),[2,w]}})})},g.prototype.embedPng=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,S,w;return __generator(this,function(C){switch(C.label){case 0:return assertIs(d,"png",["string",Uint8Array,ArrayBuffer]),x=toUint8Array(d),[4,PngEmbedder.for(x)];case 1:return b=C.sent(),S=this.context.nextRef(),w=PDFImage.of(S,this,b),this.images.push(w),[2,w]}})})},g.prototype.embedPdf=function(d,x){return x===void 0&&(x=[0]),__awaiter(this,void 0,void 0,function(){var b,S,w;return __generator(this,function(C){switch(C.label){case 0:return assertIs(d,"pdf",["string",Uint8Array,ArrayBuffer,[g,"PDFDocument"]]),assertIs(x,"indices",[Array]),d instanceof g?(S=d,[3,3]):[3,1];case 1:return[4,g.load(d)];case 2:S=C.sent(),C.label=3;case 3:return b=S,w=pluckIndices(b.getPages(),x),[2,this.embedPages(w)]}})})},g.prototype.embedPage=function(d,x,b){return __awaiter(this,void 0,void 0,function(){var S;return __generator(this,function(w){switch(w.label){case 0:return assertIs(d,"page",[[PDFPage,"PDFPage"]]),[4,this.embedPages([d],[x],[b])];case 1:return S=w.sent()[0],[2,S]}})})},g.prototype.embedPages=function(d,x,b){return x===void 0&&(x=[]),b===void 0&&(b=[]),__awaiter(this,void 0,void 0,function(){var k,D,S,w,C,F,E,k,D,M,L,R,U,j,H;return __generator(this,function(V){switch(V.label){case 0:if(d.length===0)return[2,[]];for(k=0,D=d.length-1;k<D;k++)if(S=d[k],w=d[k+1],S.node.context!==w.node.context)throw new PageEmbeddingMismatchedContextError;C=d[0].node.context,F=C===this.context?function(z){return z}:PDFObjectCopier.for(C,this.context).copy,E=new Array(d.length),k=0,D=d.length,V.label=1;case 1:return k<D?(M=F(d[k].node),L=x[k],R=b[k],[4,PDFPageEmbedder.for(M,L,R)]):[3,4];case 2:U=V.sent(),j=this.context.nextRef(),E[k]=PDFEmbeddedPage.of(j,this,U),V.label=3;case 3:return k++,[3,1];case 4:return(H=this.embeddedPages).push.apply(H,E),[2,E]}})})},g.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(d){switch(d.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return d.sent(),[4,this.embedAll(this.images)];case 2:return d.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return d.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return d.sent(),[4,this.embedAll(this.javaScripts)];case 5:return d.sent(),[2]}})})},g.prototype.save=function(d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var x,b,S,w,C;return __generator(this,function(F){switch(F.label){case 0:return x=d.useObjectStreams,b=x===void 0?!0:x,S=d.objectsPerTick,w=S===void 0?50:S,assertIs(b,"useObjectStreams",["boolean"]),assertIs(w,"objectsPerTick",["number"]),[4,this.prepareForSave(d)];case 1:return F.sent(),C=b?PDFStreamWriter:PDFWriter,[2,C.forContext(this.context,w).serializeToBuffer()]}})})},g.prototype.saveIncremental=function(d,x){return x===void 0&&(x={}),__awaiter(this,void 0,void 0,function(){var b,S,w,C;return __generator(this,function(F){switch(F.label){case 0:return b=x.objectsPerTick,S=b===void 0?50:b,assertIs(S,"objectsPerTick",["number"]),w=__assign(__assign({},x),{addDefaultPage:!1,updateFieldAppearances:!1}),[4,this.prepareForSave(w)];case 1:return F.sent(),C=this.context.pdfFileDetails.useObjectStreams?PDFStreamWriter:PDFWriter,[2,C.forContextWithSnapshot(this.context,S,d).serializeToBuffer()]}})})},g.prototype.saveAsBase64=function(d){return d===void 0&&(d={}),__awaiter(this,void 0,void 0,function(){var x,b,S,w,C;return __generator(this,function(F){switch(F.label){case 0:return x=d.dataUri,b=x===void 0?!1:x,S=__rest(d,["dataUri"]),assertIs(b,"dataUri",["boolean"]),[4,this.save(S)];case 1:return w=F.sent(),C=encodeToBase64(w),[2,b?"data:application/pdf;base64,"+C:C]}})})},g.prototype.findPageForAnnotationRef=function(d){for(var x=this.getPages(),b=0,S=x.length;b<S;b++){var w=x[b],C=w.node.Annots();if(C?.indexOf(d)!==void 0)return w}},g.prototype.takeSnapshot=function(){var d=[];return new IncrementalDocumentSnapshot(this.context.largestObjectNumber,d,this.context.pdfFileDetails.pdfSize,this.context.pdfFileDetails.prevStartXRef,this.context)},g.prototype.prepareForSave=function(d){return __awaiter(this,void 0,void 0,function(){var x,b,S,w,C;return __generator(this,function(F){switch(F.label){case 0:return x=d.addDefaultPage,b=x===void 0?!0:x,S=d.updateFieldAppearances,w=S===void 0?!0:S,assertIs(b,"addDefaultPage",["boolean"]),assertIs(w,"updateFieldAppearances",["boolean"]),b&&this.getPageCount()===0&&this.addPage(),w&&(C=this.formCache.getValue(),C&&C.updateFieldAppearances()),[4,this.flush()];case 1:return F.sent(),[2]}})})},g.prototype.embedAll=function(d){return __awaiter(this,void 0,void 0,function(){var x,b;return __generator(this,function(S){switch(S.label){case 0:x=0,b=d.length,S.label=1;case 1:return x<b?[4,d[x].embed()]:[3,4];case 2:S.sent(),S.label=3;case 3:return x++,[3,1];case 4:return[2]}})})},g.prototype.updateInfoDict=function(){var d="pdf-lib (https://github.com/Hopding/pdf-lib)",x=new Date,b=this.getInfoDict();this.setProducer(d),this.setModificationDate(x),b.get(PDFName.of("Creator"))||this.setCreator(d),b.get(PDFName.of("CreationDate"))||this.setCreationDate(x)},g.prototype.getInfoDict=function(){var d=this.context.lookup(this.context.trailerInfo.Info);if(d instanceof PDFDict)return d;var x=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(x),x},g.prototype.assertFontkit=function(){if(!this.fontkit)throw new FontkitNotRegisteredError;return this.fontkit},g}();function assertIsLiteralOrHexString(g){if(!(g instanceof PDFHexString)&&!(g instanceof PDFString))throw new UnexpectedObjectTypeError([PDFHexString,PDFString],g)}var BlendMode;(function(g){g.Normal="Normal",g.Multiply="Multiply",g.Screen="Screen",g.Overlay="Overlay",g.Darken="Darken",g.Lighten="Lighten",g.ColorDodge="ColorDodge",g.ColorBurn="ColorBurn",g.HardLight="HardLight",g.SoftLight="SoftLight",g.Difference="Difference",g.Exclusion="Exclusion"})(BlendMode||(BlendMode={}));var PDFPage=function(){function g(d,x,b){this.fontSize=24,this.fontColor=rgb(0,0,0),this.lineHeight=24,this.x=0,this.y=0,assertIs(d,"leafNode",[[PDFPageLeaf,"PDFPageLeaf"]]),assertIs(x,"ref",[[PDFRef,"PDFRef"]]),assertIs(b,"doc",[[PDFDocument,"PDFDocument"]]),this.node=d,this.ref=x,this.doc=b}return g.prototype.setRotation=function(d){var x=toDegrees(d);assertMultiple(x,"degreesAngle",90),this.node.set(PDFName.of("Rotate"),this.doc.context.obj(x))},g.prototype.getRotation=function(){var d=this.node.Rotate();return degrees(d?d.asNumber():0)},g.prototype.setSize=function(d,x){assertIs(d,"width",["number"]),assertIs(x,"height",["number"]);var b=this.getMediaBox();this.setMediaBox(b.x,b.y,d,x);var S=this.getCropBox(),w=this.getBleedBox(),C=this.getTrimBox(),F=this.getArtBox(),E=this.node.CropBox(),k=this.node.BleedBox(),D=this.node.TrimBox(),M=this.node.ArtBox();E&&rectanglesAreEqual(S,b)&&this.setCropBox(b.x,b.y,d,x),k&&rectanglesAreEqual(w,b)&&this.setBleedBox(b.x,b.y,d,x),D&&rectanglesAreEqual(C,b)&&this.setTrimBox(b.x,b.y,d,x),M&&rectanglesAreEqual(F,b)&&this.setArtBox(b.x,b.y,d,x)},g.prototype.setWidth=function(d){assertIs(d,"width",["number"]),this.setSize(d,this.getSize().height)},g.prototype.setHeight=function(d){assertIs(d,"height",["number"]),this.setSize(this.getSize().width,d)},g.prototype.setMediaBox=function(d,x,b,S){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(S,"height",["number"]);var w=this.doc.context.obj([d,x,d+b,x+S]);this.node.set(PDFName.MediaBox,w)},g.prototype.setCropBox=function(d,x,b,S){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(S,"height",["number"]);var w=this.doc.context.obj([d,x,d+b,x+S]);this.node.set(PDFName.CropBox,w)},g.prototype.setBleedBox=function(d,x,b,S){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(S,"height",["number"]);var w=this.doc.context.obj([d,x,d+b,x+S]);this.node.set(PDFName.BleedBox,w)},g.prototype.setTrimBox=function(d,x,b,S){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(S,"height",["number"]);var w=this.doc.context.obj([d,x,d+b,x+S]);this.node.set(PDFName.TrimBox,w)},g.prototype.setArtBox=function(d,x,b,S){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),assertIs(b,"width",["number"]),assertIs(S,"height",["number"]);var w=this.doc.context.obj([d,x,d+b,x+S]);this.node.set(PDFName.ArtBox,w)},g.prototype.getSize=function(){var d=this.getMediaBox(),x=d.width,b=d.height;return{width:x,height:b}},g.prototype.getWidth=function(){return this.getSize().width},g.prototype.getHeight=function(){return this.getSize().height},g.prototype.getMediaBox=function(){var d=this.node.MediaBox();return d.asRectangle()},g.prototype.getCropBox=function(){var d,x=this.node.CropBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getMediaBox()},g.prototype.getBleedBox=function(){var d,x=this.node.BleedBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getCropBox()},g.prototype.getTrimBox=function(){var d,x=this.node.TrimBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getCropBox()},g.prototype.getArtBox=function(){var d,x=this.node.ArtBox();return(d=x?.asRectangle())!==null&&d!==void 0?d:this.getCropBox()},g.prototype.translateContent=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.node.normalize(),this.getContentStream();var b=this.createContentStream(pushGraphicsState(),translate(d,x)),S=this.doc.context.register(b),w=this.createContentStream(popGraphicsState()),C=this.doc.context.register(w);this.node.wrapContentStreams(S,C)},g.prototype.scale=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.setSize(this.getWidth()*d,this.getHeight()*x),this.scaleContent(d,x),this.scaleAnnotations(d,x)},g.prototype.scaleContent=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.node.normalize(),this.getContentStream();var b=this.createContentStream(pushGraphicsState(),scale(d,x)),S=this.doc.context.register(b),w=this.createContentStream(popGraphicsState()),C=this.doc.context.register(w);this.node.wrapContentStreams(S,C)},g.prototype.scaleAnnotations=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]);var b=this.node.Annots();if(b)for(var S=0;S<b.size();S++){var w=b.lookup(S);w instanceof PDFDict&&this.scaleAnnot(w,d,x)}},g.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},g.prototype.setFont=function(d){assertIs(d,"font",[[PDFFont,"PDFFont"]]),this.font=d,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},g.prototype.setFontSize=function(d){assertIs(d,"fontSize",["number"]),this.fontSize=d},g.prototype.setFontColor=function(d){assertIs(d,"fontColor",[[Object,"Color"]]),this.fontColor=d},g.prototype.setLineHeight=function(d){assertIs(d,"lineHeight",["number"]),this.lineHeight=d},g.prototype.getPosition=function(){return{x:this.x,y:this.y}},g.prototype.getX=function(){return this.x},g.prototype.getY=function(){return this.y},g.prototype.moveTo=function(d,x){assertIs(d,"x",["number"]),assertIs(x,"y",["number"]),this.x=d,this.y=x},g.prototype.moveDown=function(d){assertIs(d,"yDecrease",["number"]),this.y-=d},g.prototype.moveUp=function(d){assertIs(d,"yIncrease",["number"]),this.y+=d},g.prototype.moveLeft=function(d){assertIs(d,"xDecrease",["number"]),this.x-=d},g.prototype.moveRight=function(d){assertIs(d,"xIncrease",["number"]),this.x+=d},g.prototype.pushOperators=function(){for(var d=[],x=0;x<arguments.length;x++)d[x]=arguments[x];assertEachIs(d,"operator",[[PDFOperator,"PDFOperator"]]);var b=this.getContentStream();b.push.apply(b,d)},g.prototype.drawText=function(d,x){var b,S,w,C,F,E,k;x===void 0&&(x={}),assertIs(d,"text",["string"]),assertOrUndefined(x.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertOrUndefined(x.font,"options.font",[[PDFFont,"PDFFont"]]),assertOrUndefined(x.size,"options.size",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(x.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.lineHeight,"options.lineHeight",["number"]),assertOrUndefined(x.maxWidth,"options.maxWidth",["number"]),assertOrUndefined(x.wordBreaks,"options.wordBreaks",[Array]),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);for(var D=this.setOrEmbedFont(x.font),M=D.oldFont,L=D.newFont,R=D.newFontKey,U=x.size||this.fontSize,j=x.wordBreaks||this.doc.defaultWordBreaks,H=function(ee){return L.widthOfTextAtSize(ee,U)},V=x.maxWidth===void 0?lineSplit(cleanText(d)):breakTextIntoLines(d,j,x.maxWidth,H),z=new Array(V.length),G=0,X=V.length;G<X;G++)z[G]=L.encodeText(V[G]);var Y=this.maybeEmbedGraphicsState({opacity:x.opacity,blendMode:x.blendMode}),J=this.getContentStream();J.push.apply(J,drawLinesOfText(z,{color:(b=x.color)!==null&&b!==void 0?b:this.fontColor,font:R,size:U,rotate:(S=x.rotate)!==null&&S!==void 0?S:degrees(0),xSkew:(w=x.xSkew)!==null&&w!==void 0?w:degrees(0),ySkew:(C=x.ySkew)!==null&&C!==void 0?C:degrees(0),x:(F=x.x)!==null&&F!==void 0?F:this.x,y:(E=x.y)!==null&&E!==void 0?E:this.y,lineHeight:(k=x.lineHeight)!==null&&k!==void 0?k:this.lineHeight,graphicsState:Y})),x.font&&(M?this.setFont(M):this.resetFont())},g.prototype.drawImage=function(d,x){var b,S,w,C,F,E,k;x===void 0&&(x={}),assertIs(d,"image",[[PDFImage,"PDFImage"]]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.width,"options.width",["number"]),assertOrUndefined(x.height,"options.height",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(x.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);var D=this.node.newXObject("Image",d.ref),M=this.maybeEmbedGraphicsState({opacity:x.opacity,blendMode:x.blendMode}),L=this.getContentStream();L.push.apply(L,drawImage(D,{x:(b=x.x)!==null&&b!==void 0?b:this.x,y:(S=x.y)!==null&&S!==void 0?S:this.y,width:(w=x.width)!==null&&w!==void 0?w:d.size().width,height:(C=x.height)!==null&&C!==void 0?C:d.size().height,rotate:(F=x.rotate)!==null&&F!==void 0?F:degrees(0),xSkew:(E=x.xSkew)!==null&&E!==void 0?E:degrees(0),ySkew:(k=x.ySkew)!==null&&k!==void 0?k:degrees(0),graphicsState:M}))},g.prototype.drawPage=function(d,x){var b,S,w,C,F;x===void 0&&(x={}),assertIs(d,"embeddedPage",[[PDFEmbeddedPage,"PDFEmbeddedPage"]]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.xScale,"options.xScale",["number"]),assertOrUndefined(x.yScale,"options.yScale",["number"]),assertOrUndefined(x.width,"options.width",["number"]),assertOrUndefined(x.height,"options.height",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(x.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);var E=this.node.newXObject("EmbeddedPdfPage",d.ref),k=this.maybeEmbedGraphicsState({opacity:x.opacity,blendMode:x.blendMode}),D=x.width!==void 0?x.width/d.width:x.xScale!==void 0?x.xScale:1,M=x.height!==void 0?x.height/d.height:x.yScale!==void 0?x.yScale:1,L=this.getContentStream();L.push.apply(L,drawPage(E,{x:(b=x.x)!==null&&b!==void 0?b:this.x,y:(S=x.y)!==null&&S!==void 0?S:this.y,xScale:D,yScale:M,rotate:(w=x.rotate)!==null&&w!==void 0?w:degrees(0),xSkew:(C=x.xSkew)!==null&&C!==void 0?C:degrees(0),ySkew:(F=x.ySkew)!==null&&F!==void 0?F:degrees(0),graphicsState:k}))},g.prototype.drawSvgPath=function(d,x){var b,S,w,C,F,E,k,D,M;x===void 0&&(x={}),assertIs(d,"path",["string"]),assertOrUndefined(x.x,"options.x",["number"]),assertOrUndefined(x.y,"options.y",["number"]),assertOrUndefined(x.scale,"options.scale",["number"]),assertOrUndefined(x.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(x.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(x.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(x.opacity,"opacity.opacity",0,1),assertOrUndefined(x.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(x.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(x.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(x.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(x.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(x.blendMode,"options.blendMode",BlendMode);var L=this.maybeEmbedGraphicsState({opacity:x.opacity,borderOpacity:x.borderOpacity,blendMode:x.blendMode});!("color"in x)&&!("borderColor"in x)&&(x.borderColor=rgb(0,0,0));var R=this.getContentStream();R.push.apply(R,drawSvgPath(d,{x:(b=x.x)!==null&&b!==void 0?b:this.x,y:(S=x.y)!==null&&S!==void 0?S:this.y,scale:x.scale,rotate:(w=x.rotate)!==null&&w!==void 0?w:degrees(0),color:(C=x.color)!==null&&C!==void 0?C:void 0,borderColor:(F=x.borderColor)!==null&&F!==void 0?F:void 0,borderWidth:(E=x.borderWidth)!==null&&E!==void 0?E:0,borderDashArray:(k=x.borderDashArray)!==null&&k!==void 0?k:void 0,borderDashPhase:(D=x.borderDashPhase)!==null&&D!==void 0?D:void 0,borderLineCap:(M=x.borderLineCap)!==null&&M!==void 0?M:void 0,graphicsState:L}))},g.prototype.drawLine=function(d){var x,b,S,w,C;assertIs(d.start,"options.start",[[Object,"{ x: number, y: number }"]]),assertIs(d.end,"options.end",[[Object,"{ x: number, y: number }"]]),assertIs(d.start.x,"options.start.x",["number"]),assertIs(d.start.y,"options.start.y",["number"]),assertIs(d.end.x,"options.end.x",["number"]),assertIs(d.end.y,"options.end.y",["number"]),assertOrUndefined(d.thickness,"options.thickness",["number"]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertOrUndefined(d.dashArray,"options.dashArray",[Array]),assertOrUndefined(d.dashPhase,"options.dashPhase",["number"]),assertIsOneOfOrUndefined(d.lineCap,"options.lineCap",LineCapStyle),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var F=this.maybeEmbedGraphicsState({borderOpacity:d.opacity,blendMode:d.blendMode});"color"in d||(d.color=rgb(0,0,0));var E=this.getContentStream();E.push.apply(E,drawLine({start:d.start,end:d.end,thickness:(x=d.thickness)!==null&&x!==void 0?x:1,color:(b=d.color)!==null&&b!==void 0?b:void 0,dashArray:(S=d.dashArray)!==null&&S!==void 0?S:void 0,dashPhase:(w=d.dashPhase)!==null&&w!==void 0?w:void 0,lineCap:(C=d.lineCap)!==null&&C!==void 0?C:void 0,graphicsState:F}))},g.prototype.drawRectangle=function(d){var x,b,S,w,C,F,E,k,D,M,L,R,U;d===void 0&&(d={}),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.width,"options.width",["number"]),assertOrUndefined(d.height,"options.height",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.xSkew,"options.xSkew",[[Object,"Rotation"]]),assertOrUndefined(d.ySkew,"options.ySkew",[[Object,"Rotation"]]),assertOrUndefined(d.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertOrUndefined(d.borderColor,"options.borderColor",[[Object,"Color"]]),assertOrUndefined(d.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(d.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(d.borderLineCap,"options.borderLineCap",LineCapStyle),assertRangeOrUndefined(d.borderOpacity,"options.borderOpacity",0,1),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var j=this.maybeEmbedGraphicsState({opacity:d.opacity,borderOpacity:d.borderOpacity,blendMode:d.blendMode});!("color"in d)&&!("borderColor"in d)&&(d.color=rgb(0,0,0));var H=this.getContentStream();H.push.apply(H,drawRectangle({x:(x=d.x)!==null&&x!==void 0?x:this.x,y:(b=d.y)!==null&&b!==void 0?b:this.y,width:(S=d.width)!==null&&S!==void 0?S:150,height:(w=d.height)!==null&&w!==void 0?w:100,rotate:(C=d.rotate)!==null&&C!==void 0?C:degrees(0),xSkew:(F=d.xSkew)!==null&&F!==void 0?F:degrees(0),ySkew:(E=d.ySkew)!==null&&E!==void 0?E:degrees(0),borderWidth:(k=d.borderWidth)!==null&&k!==void 0?k:0,color:(D=d.color)!==null&&D!==void 0?D:void 0,borderColor:(M=d.borderColor)!==null&&M!==void 0?M:void 0,borderDashArray:(L=d.borderDashArray)!==null&&L!==void 0?L:void 0,borderDashPhase:(R=d.borderDashPhase)!==null&&R!==void 0?R:void 0,graphicsState:j,borderLineCap:(U=d.borderLineCap)!==null&&U!==void 0?U:void 0}))},g.prototype.drawSquare=function(d){d===void 0&&(d={});var x=d.size;assertOrUndefined(x,"size",["number"]),this.drawRectangle(__assign(__assign({},d),{width:x,height:x}))},g.prototype.drawEllipse=function(d){var x,b,S,w,C,F,E,k,D,M,L;d===void 0&&(d={}),assertOrUndefined(d.x,"options.x",["number"]),assertOrUndefined(d.y,"options.y",["number"]),assertOrUndefined(d.xScale,"options.xScale",["number"]),assertOrUndefined(d.yScale,"options.yScale",["number"]),assertOrUndefined(d.rotate,"options.rotate",[[Object,"Rotation"]]),assertOrUndefined(d.color,"options.color",[[Object,"Color"]]),assertRangeOrUndefined(d.opacity,"opacity.opacity",0,1),assertOrUndefined(d.borderColor,"options.borderColor",[[Object,"Color"]]),assertRangeOrUndefined(d.borderOpacity,"options.borderOpacity",0,1),assertOrUndefined(d.borderWidth,"options.borderWidth",["number"]),assertOrUndefined(d.borderDashArray,"options.borderDashArray",[Array]),assertOrUndefined(d.borderDashPhase,"options.borderDashPhase",["number"]),assertIsOneOfOrUndefined(d.borderLineCap,"options.borderLineCap",LineCapStyle),assertIsOneOfOrUndefined(d.blendMode,"options.blendMode",BlendMode);var R=this.maybeEmbedGraphicsState({opacity:d.opacity,borderOpacity:d.borderOpacity,blendMode:d.blendMode});!("color"in d)&&!("borderColor"in d)&&(d.color=rgb(0,0,0));var U=this.getContentStream();U.push.apply(U,drawEllipse({x:(x=d.x)!==null&&x!==void 0?x:this.x,y:(b=d.y)!==null&&b!==void 0?b:this.y,xScale:(S=d.xScale)!==null&&S!==void 0?S:100,yScale:(w=d.yScale)!==null&&w!==void 0?w:100,rotate:(C=d.rotate)!==null&&C!==void 0?C:void 0,color:(F=d.color)!==null&&F!==void 0?F:void 0,borderColor:(E=d.borderColor)!==null&&E!==void 0?E:void 0,borderWidth:(k=d.borderWidth)!==null&&k!==void 0?k:0,borderDashArray:(D=d.borderDashArray)!==null&&D!==void 0?D:void 0,borderDashPhase:(M=d.borderDashPhase)!==null&&M!==void 0?M:void 0,borderLineCap:(L=d.borderLineCap)!==null&&L!==void 0?L:void 0,graphicsState:R}))},g.prototype.drawCircle=function(d){d===void 0&&(d={});var x=d.size,b=x===void 0?100:x;assertOrUndefined(b,"size",["number"]),this.drawEllipse(__assign(__assign({},d),{xScale:b,yScale:b}))},g.prototype.setOrEmbedFont=function(d){var x=this.font,b=this.fontKey;d?this.setFont(d):this.getFont();var S=this.font,w=this.fontKey;return{oldFont:x,oldFontKey:b,newFont:S,newFontKey:w}},g.prototype.getFont=function(){if(!this.font||!this.fontKey){var d=this.doc.embedStandardFont(StandardFonts.Helvetica);this.setFont(d)}return[this.font,this.fontKey]},g.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},g.prototype.getContentStream=function(d){return d===void 0&&(d=!0),d&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},g.prototype.createContentStream=function(){for(var d=[],x=0;x<arguments.length;x++)d[x]=arguments[x];var b=this.doc.context.obj({}),S=PDFContentStream.of(b,d);return S},g.prototype.maybeEmbedGraphicsState=function(d){var x=d.opacity,b=d.borderOpacity,S=d.blendMode;if(!(x===void 0&&b===void 0&&S===void 0)){var w=this.doc.context.obj({Type:"ExtGState",ca:x,CA:b,BM:S}),C=this.node.newExtGState("GS",w);return C}},g.prototype.scaleAnnot=function(d,x,b){for(var S=["RD","CL","Vertices","QuadPoints","L","Rect"],w=0,C=S.length;w<C;w++){var F=d.lookup(PDFName.of(S[w]));F instanceof PDFArray&&F.scalePDFNumbers(x,b)}var E=d.lookup(PDFName.of("InkList"));if(E instanceof PDFArray)for(var w=0,C=E.size();w<C;w++){var k=E.lookup(w);k instanceof PDFArray&&k.scalePDFNumbers(x,b)}},g.of=function(d,x,b){return new g(d,x,b)},g.create=function(d){assertIs(d,"doc",[[PDFDocument,"PDFDocument"]]);var x=PDFRef.of(-1),b=PDFPageLeaf.withContextAndParent(d.context,x),S=d.context.register(b);return new g(b,S,d)},g}(),PDFButton=function(g){__extends(d,g);function d(x,b,S){var w=g.call(this,x,b,S)||this;return assertIs(x,"acroButton",[[PDFAcroPushButton,"PDFAcroPushButton"]]),w.acroField=x,w}return d.prototype.setImage=function(x,b){b===void 0&&(b=ImageAlignment.Center);for(var S=this.acroField.getWidgets(),w=0,C=S.length;w<C;w++){var F=S[w],E=this.createImageAppearanceStream(F,x,b);this.updateWidgetAppearances(F,{normal:E})}this.markAsClean()},d.prototype.setFontSize=function(x){assertPositive(x,"fontSize"),this.acroField.setFontSize(x),this.markAsDirty()},d.prototype.addToPage=function(x,b,S){var w,C,F,E,k,D,M,L,R,U,j;assertOrUndefined(x,"text",["string"]),assertOrUndefined(b,"page",[[PDFPage,"PDFPage"]]),assertFieldAppearanceOptions(S);var H=this.createWidget({x:((w=S?.x)!==null&&w!==void 0?w:0)-((C=S?.borderWidth)!==null&&C!==void 0?C:0)/2,y:((F=S?.y)!==null&&F!==void 0?F:0)-((E=S?.borderWidth)!==null&&E!==void 0?E:0)/2,width:(k=S?.width)!==null&&k!==void 0?k:100,height:(D=S?.height)!==null&&D!==void 0?D:50,textColor:(M=S?.textColor)!==null&&M!==void 0?M:rgb(0,0,0),backgroundColor:(L=S?.backgroundColor)!==null&&L!==void 0?L:rgb(.75,.75,.75),borderColor:S?.borderColor,borderWidth:(R=S?.borderWidth)!==null&&R!==void 0?R:0,rotate:(U=S?.rotate)!==null&&U!==void 0?U:degrees(0),caption:x,hidden:S?.hidden,page:b.ref}),V=this.doc.context.register(H.dict);this.acroField.addWidget(V);var z=(j=S?.font)!==null&&j!==void 0?j:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(H,z),b.node.addAnnot(V)},d.prototype.needsAppearancesUpdate=function(){var x;if(this.isDirty())return!0;for(var b=this.acroField.getWidgets(),S=0,w=b.length;S<w;S++){var C=b[S],F=((x=C.getAppearances())===null||x===void 0?void 0:x.normal)instanceof PDFStream;if(!F)return!0}return!1},d.prototype.defaultUpdateAppearances=function(x){assertIs(x,"font",[[PDFFont,"PDFFont"]]),this.updateAppearances(x)},d.prototype.updateAppearances=function(x,b){assertIs(x,"font",[[PDFFont,"PDFFont"]]),assertOrUndefined(b,"provider",[Function]);for(var S=this.acroField.getWidgets(),w=0,C=S.length;w<C;w++){var F=S[w];this.updateWidgetAppearance(F,x,b)}},d.prototype.updateWidgetAppearance=function(x,b,S){var w=S??defaultButtonAppearanceProvider,C=normalizeAppearance(w(this,x,b));this.updateWidgetAppearanceWithFont(x,b,C)},d.of=function(x,b,S){return new d(x,b,S)},d}(PDFField);const PDFButton$1=PDFButton;var raf$1={exports:{}},performanceNow={exports:{}};(function(){var g,d,x,b,S,w;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(g()-S)/1e6},d=process.hrtime,g=function(){var C;return C=d(),C[0]*1e9+C[1]},b=g(),w=process.uptime()*1e9,S=b-w):Date.now?(performanceNow.exports=function(){return Date.now()-x},x=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-x},x=new Date().getTime())}).call(commonjsGlobal);var performanceNowExports=performanceNow.exports,now=performanceNowExports,root=typeof window>"u"?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i$1=0;!raf&&i$1<vendors.length;i$1++)raf=root[vendors[i$1]+"Request"+suffix],caf=root[vendors[i$1]+"Cancel"+suffix]||root[vendors[i$1]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(g){if(queue.length===0){var d=now(),x=Math.max(0,frameDuration-(d-last));last=x+d,setTimeout(function(){var b=queue.slice(0);queue.length=0;for(var S=0;S<b.length;S++)if(!b[S].cancelled)try{b[S].callback(last)}catch(w){setTimeout(function(){throw w},0)}},Math.round(x))}return queue.push({handle:++id,callback:g,cancelled:!1}),id},caf=function(g){for(var d=0;d<queue.length;d++)queue[d].handle===g&&(queue[d].cancelled=!0)}}raf$1.exports=function(g){return raf.call(root,g)};raf$1.exports.cancel=function(){caf.apply(root,arguments)};raf$1.exports.polyfill=function(g){g||(g=root),g.requestAnimationFrame=raf,g.cancelAnimationFrame=caf};var rafExports=raf$1.exports;const requestAnimationFrame=getDefaultExportFromCjs(rafExports);var rgbcolor=function(g){this.ok=!1,this.alpha=1,g.charAt(0)=="#"&&(g=g.substr(1,6)),g=g.replace(/ /g,""),g=g.toLowerCase();var d={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};g=d[g]||g;for(var x=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(E){return[parseInt(E[1]),parseInt(E[2]),parseInt(E[3]),parseFloat(E[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(E){return[parseInt(E[1]),parseInt(E[2]),parseInt(E[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(E){return[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(E){return[parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16)]}}],b=0;b<x.length;b++){var S=x[b].re,w=x[b].process,C=S.exec(g);if(C){var F=w(C);this.r=F[0],this.g=F[1],this.b=F[2],F.length>3&&(this.alpha=F[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var E=this.r.toString(16),k=this.g.toString(16),D=this.b.toString(16);return E.length==1&&(E="0"+E),k.length==1&&(k="0"+k),D.length==1&&(D="0"+D),"#"+E+k+D},this.getHelpXML=function(){for(var E=new Array,k=0;k<x.length;k++)for(var D=x[k].example,M=0;M<D.length;M++)E[E.length]=D[M];for(var L in d)E[E.length]=L;var R=document.createElement("ul");R.setAttribute("id","rgbcolor-examples");for(var k=0;k<E.length;k++)try{var U=document.createElement("li"),j=new RGBColor(E[k]),H=document.createElement("div");H.style.cssText="margin: 3px; border: 1px solid black; background:"+j.toHex()+"; color:"+j.toHex(),H.appendChild(document.createTextNode("test"));var V=document.createTextNode(" "+E[k]+" -> "+j.toRGB()+" -> "+j.toHex());U.appendChild(H),U.appendChild(V),R.appendChild(U)}catch{}return R}};const RGBColor$1=getDefaultExportFromCjs(rgbcolor);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t=function(g,d){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(x[S]=b[S])})(g,d)};function r(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function x(){this.constructor=g}t(g,d),g.prototype=d===null?Object.create(d):(x.prototype=d.prototype,new x)}function e(g){var d="";Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++){var b=g[x];if(b.type===_.CLOSE_PATH)d+="z";else if(b.type===_.HORIZ_LINE_TO)d+=(b.relative?"h":"H")+b.x;else if(b.type===_.VERT_LINE_TO)d+=(b.relative?"v":"V")+b.y;else if(b.type===_.MOVE_TO)d+=(b.relative?"m":"M")+b.x+" "+b.y;else if(b.type===_.LINE_TO)d+=(b.relative?"l":"L")+b.x+" "+b.y;else if(b.type===_.CURVE_TO)d+=(b.relative?"c":"C")+b.x1+" "+b.y1+" "+b.x2+" "+b.y2+" "+b.x+" "+b.y;else if(b.type===_.SMOOTH_CURVE_TO)d+=(b.relative?"s":"S")+b.x2+" "+b.y2+" "+b.x+" "+b.y;else if(b.type===_.QUAD_TO)d+=(b.relative?"q":"Q")+b.x1+" "+b.y1+" "+b.x+" "+b.y;else if(b.type===_.SMOOTH_QUAD_TO)d+=(b.relative?"t":"T")+b.x+" "+b.y;else{if(b.type!==_.ARC)throw new Error('Unexpected command type "'+b.type+'" at index '+x+".");d+=(b.relative?"a":"A")+b.rX+" "+b.rY+" "+b.xRot+" "+ +b.lArcFlag+" "+ +b.sweepFlag+" "+b.x+" "+b.y}}return d}function i(g,d){var x=g[0],b=g[1];return[x*Math.cos(d)-b*Math.sin(d),x*Math.sin(d)+b*Math.cos(d)]}function a(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];for(var x=0;x<g.length;x++)if(typeof g[x]!="number")throw new Error("assertNumbers arguments["+x+"] is not a number. "+typeof g[x]+" == typeof "+g[x]);return!0}var n=Math.PI;function o(g,d,x){g.lArcFlag=g.lArcFlag===0?0:1,g.sweepFlag=g.sweepFlag===0?0:1;var b=g.rX,S=g.rY,w=g.x,C=g.y;b=Math.abs(g.rX),S=Math.abs(g.rY);var F=i([(d-w)/2,(x-C)/2],-g.xRot/180*n),E=F[0],k=F[1],D=Math.pow(E,2)/Math.pow(b,2)+Math.pow(k,2)/Math.pow(S,2);1<D&&(b*=Math.sqrt(D),S*=Math.sqrt(D)),g.rX=b,g.rY=S;var M=Math.pow(b,2)*Math.pow(k,2)+Math.pow(S,2)*Math.pow(E,2),L=(g.lArcFlag!==g.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(b,2)*Math.pow(S,2)-M)/M)),R=b*k/S*L,U=-S*E/b*L,j=i([R,U],g.xRot/180*n);g.cX=j[0]+(d+w)/2,g.cY=j[1]+(x+C)/2,g.phi1=Math.atan2((k-U)/S,(E-R)/b),g.phi2=Math.atan2((-k-U)/S,(-E-R)/b),g.sweepFlag===0&&g.phi2>g.phi1&&(g.phi2-=2*n),g.sweepFlag===1&&g.phi2<g.phi1&&(g.phi2+=2*n),g.phi1*=180/n,g.phi2*=180/n}function s(g,d,x){a(g,d,x);var b=g*g+d*d-x*x;if(0>b)return[];if(b===0)return[[g*x/(g*g+d*d),d*x/(g*g+d*d)]];var S=Math.sqrt(b);return[[(g*x+d*S)/(g*g+d*d),(d*x-g*S)/(g*g+d*d)],[(g*x-d*S)/(g*g+d*d),(d*x+g*S)/(g*g+d*d)]]}var u,h=Math.PI/180;function c$1(g,d,x){return(1-x)*g+x*d}function y(g,d,x,b){return g+Math.cos(b/180*n)*d+Math.sin(b/180*n)*x}function p(g,d,x,b){var S=1e-6,w=d-g,C=x-d,F=3*w+3*(b-x)-6*C,E=6*(C-w),k=3*w;return Math.abs(F)<S?[-k/E]:function(D,M,L){L===void 0&&(L=1e-6);var R=D*D/4-M;if(R<-L)return[];if(R<=L)return[-D/2];var U=Math.sqrt(R);return[-D/2-U,-D/2+U]}(E/F,k/F,S)}function m$1(g,d,x,b,S){var w=1-S;return g*(w*w*w)+d*(3*w*w*S)+x*(3*w*S*S)+b*(S*S*S)}(function(g){function d(){return S(function(F,E,k){return F.relative&&(F.x1!==void 0&&(F.x1+=E),F.y1!==void 0&&(F.y1+=k),F.x2!==void 0&&(F.x2+=E),F.y2!==void 0&&(F.y2+=k),F.x!==void 0&&(F.x+=E),F.y!==void 0&&(F.y+=k),F.relative=!1),F})}function x(){var F=NaN,E=NaN,k=NaN,D=NaN;return S(function(M,L,R){return M.type&_.SMOOTH_CURVE_TO&&(M.type=_.CURVE_TO,F=isNaN(F)?L:F,E=isNaN(E)?R:E,M.x1=M.relative?L-F:2*L-F,M.y1=M.relative?R-E:2*R-E),M.type&_.CURVE_TO?(F=M.relative?L+M.x2:M.x2,E=M.relative?R+M.y2:M.y2):(F=NaN,E=NaN),M.type&_.SMOOTH_QUAD_TO&&(M.type=_.QUAD_TO,k=isNaN(k)?L:k,D=isNaN(D)?R:D,M.x1=M.relative?L-k:2*L-k,M.y1=M.relative?R-D:2*R-D),M.type&_.QUAD_TO?(k=M.relative?L+M.x1:M.x1,D=M.relative?R+M.y1:M.y1):(k=NaN,D=NaN),M})}function b(){var F=NaN,E=NaN;return S(function(k,D,M){if(k.type&_.SMOOTH_QUAD_TO&&(k.type=_.QUAD_TO,F=isNaN(F)?D:F,E=isNaN(E)?M:E,k.x1=k.relative?D-F:2*D-F,k.y1=k.relative?M-E:2*M-E),k.type&_.QUAD_TO){F=k.relative?D+k.x1:k.x1,E=k.relative?M+k.y1:k.y1;var L=k.x1,R=k.y1;k.type=_.CURVE_TO,k.x1=((k.relative?0:D)+2*L)/3,k.y1=((k.relative?0:M)+2*R)/3,k.x2=(k.x+2*L)/3,k.y2=(k.y+2*R)/3}else F=NaN,E=NaN;return k})}function S(F){var E=0,k=0,D=NaN,M=NaN;return function(L){if(isNaN(D)&&!(L.type&_.MOVE_TO))throw new Error("path must start with moveto");var R=F(L,E,k,D,M);return L.type&_.CLOSE_PATH&&(E=D,k=M),L.x!==void 0&&(E=L.relative?E+L.x:L.x),L.y!==void 0&&(k=L.relative?k+L.y:L.y),L.type&_.MOVE_TO&&(D=E,M=k),R}}function w(F,E,k,D,M,L){return a(F,E,k,D,M,L),S(function(R,U,j,H){var V=R.x1,z=R.x2,G=R.relative&&!isNaN(H),X=R.x!==void 0?R.x:G?0:U,Y=R.y!==void 0?R.y:G?0:j;function J(Ie){return Ie*Ie}R.type&_.HORIZ_LINE_TO&&E!==0&&(R.type=_.LINE_TO,R.y=R.relative?0:j),R.type&_.VERT_LINE_TO&&k!==0&&(R.type=_.LINE_TO,R.x=R.relative?0:U),R.x!==void 0&&(R.x=R.x*F+Y*k+(G?0:M)),R.y!==void 0&&(R.y=X*E+R.y*D+(G?0:L)),R.x1!==void 0&&(R.x1=R.x1*F+R.y1*k+(G?0:M)),R.y1!==void 0&&(R.y1=V*E+R.y1*D+(G?0:L)),R.x2!==void 0&&(R.x2=R.x2*F+R.y2*k+(G?0:M)),R.y2!==void 0&&(R.y2=z*E+R.y2*D+(G?0:L));var ee=F*D-E*k;if(R.xRot!==void 0&&(F!==1||E!==0||k!==0||D!==1))if(ee===0)delete R.rX,delete R.rY,delete R.xRot,delete R.lArcFlag,delete R.sweepFlag,R.type=_.LINE_TO;else{var ie=R.xRot*Math.PI/180,oe=Math.sin(ie),he=Math.cos(ie),fe=1/J(R.rX),Se=1/J(R.rY),we=J(he)*fe+J(oe)*Se,Ee=2*oe*he*(fe-Se),de=J(oe)*fe+J(he)*Se,xe=we*D*D-Ee*E*D+de*E*E,Te=Ee*(F*D+E*k)-2*(we*k*D+de*F*E),Oe=we*k*k-Ee*F*k+de*F*F,Ne=(Math.atan2(Te,xe-Oe)+Math.PI)%Math.PI/2,Le=Math.sin(Ne),Me=Math.cos(Ne);R.rX=Math.abs(ee)/Math.sqrt(xe*J(Me)+Te*Le*Me+Oe*J(Le)),R.rY=Math.abs(ee)/Math.sqrt(xe*J(Le)-Te*Le*Me+Oe*J(Me)),R.xRot=180*Ne/Math.PI}return R.sweepFlag!==void 0&&0>ee&&(R.sweepFlag=+!R.sweepFlag),R})}function C(){return function(F){var E={};for(var k in F)E[k]=F[k];return E}}g.ROUND=function(F){function E(k){return Math.round(k*F)/F}return F===void 0&&(F=1e13),a(F),function(k){return k.x1!==void 0&&(k.x1=E(k.x1)),k.y1!==void 0&&(k.y1=E(k.y1)),k.x2!==void 0&&(k.x2=E(k.x2)),k.y2!==void 0&&(k.y2=E(k.y2)),k.x!==void 0&&(k.x=E(k.x)),k.y!==void 0&&(k.y=E(k.y)),k.rX!==void 0&&(k.rX=E(k.rX)),k.rY!==void 0&&(k.rY=E(k.rY)),k}},g.TO_ABS=d,g.TO_REL=function(){return S(function(F,E,k){return F.relative||(F.x1!==void 0&&(F.x1-=E),F.y1!==void 0&&(F.y1-=k),F.x2!==void 0&&(F.x2-=E),F.y2!==void 0&&(F.y2-=k),F.x!==void 0&&(F.x-=E),F.y!==void 0&&(F.y-=k),F.relative=!0),F})},g.NORMALIZE_HVZ=function(F,E,k){return F===void 0&&(F=!0),E===void 0&&(E=!0),k===void 0&&(k=!0),S(function(D,M,L,R,U){if(isNaN(R)&&!(D.type&_.MOVE_TO))throw new Error("path must start with moveto");return E&&D.type&_.HORIZ_LINE_TO&&(D.type=_.LINE_TO,D.y=D.relative?0:L),k&&D.type&_.VERT_LINE_TO&&(D.type=_.LINE_TO,D.x=D.relative?0:M),F&&D.type&_.CLOSE_PATH&&(D.type=_.LINE_TO,D.x=D.relative?R-M:R,D.y=D.relative?U-L:U),D.type&_.ARC&&(D.rX===0||D.rY===0)&&(D.type=_.LINE_TO,delete D.rX,delete D.rY,delete D.xRot,delete D.lArcFlag,delete D.sweepFlag),D})},g.NORMALIZE_ST=x,g.QT_TO_C=b,g.INFO=S,g.SANITIZE=function(F){F===void 0&&(F=0),a(F);var E=NaN,k=NaN,D=NaN,M=NaN;return S(function(L,R,U,j,H){var V=Math.abs,z=!1,G=0,X=0;if(L.type&_.SMOOTH_CURVE_TO&&(G=isNaN(E)?0:R-E,X=isNaN(k)?0:U-k),L.type&(_.CURVE_TO|_.SMOOTH_CURVE_TO)?(E=L.relative?R+L.x2:L.x2,k=L.relative?U+L.y2:L.y2):(E=NaN,k=NaN),L.type&_.SMOOTH_QUAD_TO?(D=isNaN(D)?R:2*R-D,M=isNaN(M)?U:2*U-M):L.type&_.QUAD_TO?(D=L.relative?R+L.x1:L.x1,M=L.relative?U+L.y1:L.y2):(D=NaN,M=NaN),L.type&_.LINE_COMMANDS||L.type&_.ARC&&(L.rX===0||L.rY===0||!L.lArcFlag)||L.type&_.CURVE_TO||L.type&_.SMOOTH_CURVE_TO||L.type&_.QUAD_TO||L.type&_.SMOOTH_QUAD_TO){var Y=L.x===void 0?0:L.relative?L.x:L.x-R,J=L.y===void 0?0:L.relative?L.y:L.y-U;G=isNaN(D)?L.x1===void 0?G:L.relative?L.x:L.x1-R:D-R,X=isNaN(M)?L.y1===void 0?X:L.relative?L.y:L.y1-U:M-U;var ee=L.x2===void 0?0:L.relative?L.x:L.x2-R,ie=L.y2===void 0?0:L.relative?L.y:L.y2-U;V(Y)<=F&&V(J)<=F&&V(G)<=F&&V(X)<=F&&V(ee)<=F&&V(ie)<=F&&(z=!0)}return L.type&_.CLOSE_PATH&&V(R-j)<=F&&V(U-H)<=F&&(z=!0),z?[]:L})},g.MATRIX=w,g.ROTATE=function(F,E,k){E===void 0&&(E=0),k===void 0&&(k=0),a(F,E,k);var D=Math.sin(F),M=Math.cos(F);return w(M,D,-D,M,E-E*M+k*D,k-E*D-k*M)},g.TRANSLATE=function(F,E){return E===void 0&&(E=0),a(F,E),w(1,0,0,1,F,E)},g.SCALE=function(F,E){return E===void 0&&(E=F),a(F,E),w(F,0,0,E,0,0)},g.SKEW_X=function(F){return a(F),w(1,0,Math.atan(F),1,0,0)},g.SKEW_Y=function(F){return a(F),w(1,Math.atan(F),0,1,0,0)},g.X_AXIS_SYMMETRY=function(F){return F===void 0&&(F=0),a(F),w(-1,0,0,1,F,0)},g.Y_AXIS_SYMMETRY=function(F){return F===void 0&&(F=0),a(F),w(1,0,0,-1,0,F)},g.A_TO_C=function(){return S(function(F,E,k){return _.ARC===F.type?function(D,M,L){var R,U,j,H;D.cX||o(D,M,L);for(var V=Math.min(D.phi1,D.phi2),z=Math.max(D.phi1,D.phi2)-V,G=Math.ceil(z/90),X=new Array(G),Y=M,J=L,ee=0;ee<G;ee++){var ie=c$1(D.phi1,D.phi2,ee/G),oe=c$1(D.phi1,D.phi2,(ee+1)/G),he=oe-ie,fe=4/3*Math.tan(he*h/4),Se=[Math.cos(ie*h)-fe*Math.sin(ie*h),Math.sin(ie*h)+fe*Math.cos(ie*h)],we=Se[0],Ee=Se[1],de=[Math.cos(oe*h),Math.sin(oe*h)],xe=de[0],Te=de[1],Oe=[xe+fe*Math.sin(oe*h),Te-fe*Math.cos(oe*h)],Ne=Oe[0],Le=Oe[1];X[ee]={relative:D.relative,type:_.CURVE_TO};var Me=function(Ie,Ve){var De=i([Ie*D.rX,Ve*D.rY],D.xRot),Pe=De[0],Ce=De[1];return[D.cX+Pe,D.cY+Ce]};R=Me(we,Ee),X[ee].x1=R[0],X[ee].y1=R[1],U=Me(Ne,Le),X[ee].x2=U[0],X[ee].y2=U[1],j=Me(xe,Te),X[ee].x=j[0],X[ee].y=j[1],D.relative&&(X[ee].x1-=Y,X[ee].y1-=J,X[ee].x2-=Y,X[ee].y2-=J,X[ee].x-=Y,X[ee].y-=J),Y=(H=[X[ee].x,X[ee].y])[0],J=H[1]}return X}(F,F.relative?0:E,F.relative?0:k):F})},g.ANNOTATE_ARCS=function(){return S(function(F,E,k){return F.relative&&(E=0,k=0),_.ARC===F.type&&o(F,E,k),F})},g.CLONE=C,g.CALCULATE_BOUNDS=function(){var F=function(L){var R={};for(var U in L)R[U]=L[U];return R},E=d(),k=b(),D=x(),M=S(function(L,R,U){var j=D(k(E(F(L))));function H(Le){Le>M.maxX&&(M.maxX=Le),Le<M.minX&&(M.minX=Le)}function V(Le){Le>M.maxY&&(M.maxY=Le),Le<M.minY&&(M.minY=Le)}if(j.type&_.DRAWING_COMMANDS&&(H(R),V(U)),j.type&_.HORIZ_LINE_TO&&H(j.x),j.type&_.VERT_LINE_TO&&V(j.y),j.type&_.LINE_TO&&(H(j.x),V(j.y)),j.type&_.CURVE_TO){H(j.x),V(j.y);for(var z=0,G=p(R,j.x1,j.x2,j.x);z<G.length;z++)0<(Ne=G[z])&&1>Ne&&H(m$1(R,j.x1,j.x2,j.x,Ne));for(var X=0,Y=p(U,j.y1,j.y2,j.y);X<Y.length;X++)0<(Ne=Y[X])&&1>Ne&&V(m$1(U,j.y1,j.y2,j.y,Ne))}if(j.type&_.ARC){H(j.x),V(j.y),o(j,R,U);for(var J=j.xRot/180*Math.PI,ee=Math.cos(J)*j.rX,ie=Math.sin(J)*j.rX,oe=-Math.sin(J)*j.rY,he=Math.cos(J)*j.rY,fe=j.phi1<j.phi2?[j.phi1,j.phi2]:-180>j.phi2?[j.phi2+360,j.phi1+360]:[j.phi2,j.phi1],Se=fe[0],we=fe[1],Ee=function(Le){var Me=Le[0],Ie=Le[1],Ve=180*Math.atan2(Ie,Me)/Math.PI;return Ve<Se?Ve+360:Ve},de=0,xe=s(oe,-ee,0).map(Ee);de<xe.length;de++)(Ne=xe[de])>Se&&Ne<we&&H(y(j.cX,ee,oe,Ne));for(var Te=0,Oe=s(he,-ie,0).map(Ee);Te<Oe.length;Te++){var Ne;(Ne=Oe[Te])>Se&&Ne<we&&V(y(j.cY,ie,he,Ne))}}return L});return M.minX=1/0,M.maxX=-1/0,M.minY=1/0,M.maxY=-1/0,M}})(u||(u={}));var O,l=function(){function g(){}return g.prototype.round=function(d){return this.transform(u.ROUND(d))},g.prototype.toAbs=function(){return this.transform(u.TO_ABS())},g.prototype.toRel=function(){return this.transform(u.TO_REL())},g.prototype.normalizeHVZ=function(d,x,b){return this.transform(u.NORMALIZE_HVZ(d,x,b))},g.prototype.normalizeST=function(){return this.transform(u.NORMALIZE_ST())},g.prototype.qtToC=function(){return this.transform(u.QT_TO_C())},g.prototype.aToC=function(){return this.transform(u.A_TO_C())},g.prototype.sanitize=function(d){return this.transform(u.SANITIZE(d))},g.prototype.translate=function(d,x){return this.transform(u.TRANSLATE(d,x))},g.prototype.scale=function(d,x){return this.transform(u.SCALE(d,x))},g.prototype.rotate=function(d,x,b){return this.transform(u.ROTATE(d,x,b))},g.prototype.matrix=function(d,x,b,S,w,C){return this.transform(u.MATRIX(d,x,b,S,w,C))},g.prototype.skewX=function(d){return this.transform(u.SKEW_X(d))},g.prototype.skewY=function(d){return this.transform(u.SKEW_Y(d))},g.prototype.xSymmetry=function(d){return this.transform(u.X_AXIS_SYMMETRY(d))},g.prototype.ySymmetry=function(d){return this.transform(u.Y_AXIS_SYMMETRY(d))},g.prototype.annotateArcs=function(){return this.transform(u.ANNOTATE_ARCS())},g}(),T=function(g){return g===" "||g==="	"||g==="\r"||g===`
`},v=function(g){return 48<=g.charCodeAt(0)&&g.charCodeAt(0)<=57},f=function(g){function d(){var x=g.call(this)||this;return x.curNumber="",x.curCommandType=-1,x.curCommandRelative=!1,x.canParseCommandOrComma=!0,x.curNumberHasExp=!1,x.curNumberHasExpDigits=!1,x.curNumberHasDecimal=!1,x.curArgs=[],x}return r(d,g),d.prototype.finish=function(x){if(x===void 0&&(x=[]),this.parse(" ",x),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return x},d.prototype.parse=function(x,b){var S=this;b===void 0&&(b=[]);for(var w=function(M){b.push(M),S.curArgs.length=0,S.canParseCommandOrComma=!0},C=0;C<x.length;C++){var F=x[C],E=!(this.curCommandType!==_.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),k=v(F)&&(this.curNumber==="0"&&F==="0"||E);if(!v(F)||k)if(F!=="e"&&F!=="E")if(F!=="-"&&F!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(F!=="."||this.curNumberHasExp||this.curNumberHasDecimal||E){if(this.curNumber&&this.curCommandType!==-1){var D=Number(this.curNumber);if(isNaN(D))throw new SyntaxError("Invalid number ending at "+C);if(this.curCommandType===_.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>D)throw new SyntaxError('Expected positive number, got "'+D+'" at index "'+C+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+C+'"')}this.curArgs.push(D),this.curArgs.length===N[this.curCommandType]&&(_.HORIZ_LINE_TO===this.curCommandType?w({type:_.HORIZ_LINE_TO,relative:this.curCommandRelative,x:D}):_.VERT_LINE_TO===this.curCommandType?w({type:_.VERT_LINE_TO,relative:this.curCommandRelative,y:D}):this.curCommandType===_.MOVE_TO||this.curCommandType===_.LINE_TO||this.curCommandType===_.SMOOTH_QUAD_TO?(w({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),_.MOVE_TO===this.curCommandType&&(this.curCommandType=_.LINE_TO)):this.curCommandType===_.CURVE_TO?w({type:_.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===_.SMOOTH_CURVE_TO?w({type:_.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_.QUAD_TO?w({type:_.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===_.ARC&&w({type:_.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!T(F))if(F===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(F!=="+"&&F!=="-"&&F!==".")if(k)this.curNumber=F,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+C+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+F+'" at index '+C+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,F!=="z"&&F!=="Z")if(F==="h"||F==="H")this.curCommandType=_.HORIZ_LINE_TO,this.curCommandRelative=F==="h";else if(F==="v"||F==="V")this.curCommandType=_.VERT_LINE_TO,this.curCommandRelative=F==="v";else if(F==="m"||F==="M")this.curCommandType=_.MOVE_TO,this.curCommandRelative=F==="m";else if(F==="l"||F==="L")this.curCommandType=_.LINE_TO,this.curCommandRelative=F==="l";else if(F==="c"||F==="C")this.curCommandType=_.CURVE_TO,this.curCommandRelative=F==="c";else if(F==="s"||F==="S")this.curCommandType=_.SMOOTH_CURVE_TO,this.curCommandRelative=F==="s";else if(F==="q"||F==="Q")this.curCommandType=_.QUAD_TO,this.curCommandRelative=F==="q";else if(F==="t"||F==="T")this.curCommandType=_.SMOOTH_QUAD_TO,this.curCommandRelative=F==="t";else{if(F!=="a"&&F!=="A")throw new SyntaxError('Unexpected character "'+F+'" at index '+C+".");this.curCommandType=_.ARC,this.curCommandRelative=F==="a"}else b.push({type:_.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=F,this.curNumberHasDecimal=F==="."}else this.curNumber+=F,this.curNumberHasDecimal=!0;else this.curNumber+=F;else this.curNumber+=F,this.curNumberHasExp=!0;else this.curNumber+=F,this.curNumberHasExpDigits=this.curNumberHasExp}return b},d.prototype.transform=function(x){return Object.create(this,{parse:{value:function(b,S){S===void 0&&(S=[]);for(var w=0,C=Object.getPrototypeOf(this).parse.call(this,b);w<C.length;w++){var F=C[w],E=x(F);Array.isArray(E)?S.push.apply(S,E):S.push(E)}return S}}})},d}(l),_=function(g){function d(x){var b=g.call(this)||this;return b.commands=typeof x=="string"?d.parse(x):x,b}return r(d,g),d.prototype.encode=function(){return d.encode(this.commands)},d.prototype.getBounds=function(){var x=u.CALCULATE_BOUNDS();return this.transform(x),x},d.prototype.transform=function(x){for(var b=[],S=0,w=this.commands;S<w.length;S++){var C=x(w[S]);Array.isArray(C)?b.push.apply(b,C):b.push(C)}return this.commands=b,this},d.encode=function(x){return e(x)},d.parse=function(x){var b=new f,S=[];return b.parse(x,S),b.finish(S),S},d.CLOSE_PATH=1,d.MOVE_TO=2,d.HORIZ_LINE_TO=4,d.VERT_LINE_TO=8,d.LINE_TO=16,d.CURVE_TO=32,d.SMOOTH_CURVE_TO=64,d.QUAD_TO=128,d.SMOOTH_QUAD_TO=256,d.ARC=512,d.LINE_COMMANDS=d.LINE_TO|d.HORIZ_LINE_TO|d.VERT_LINE_TO,d.DRAWING_COMMANDS=d.HORIZ_LINE_TO|d.VERT_LINE_TO|d.LINE_TO|d.CURVE_TO|d.SMOOTH_CURVE_TO|d.QUAD_TO|d.SMOOTH_QUAD_TO|d.ARC,d}(l),N=((O={})[_.MOVE_TO]=2,O[_.LINE_TO]=2,O[_.HORIZ_LINE_TO]=1,O[_.VERT_LINE_TO]=1,O[_.CLOSE_PATH]=0,O[_.QUAD_TO]=4,O[_.SMOOTH_QUAD_TO]=2,O[_.CURVE_TO]=6,O[_.SMOOTH_CURVE_TO]=4,O[_.ARC]=7,O);function _typeof(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(d){return typeof d}:_typeof=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},_typeof(g)}function _classCallCheck(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")}var mulTable=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shgTable=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function getImageDataFromCanvas(g,d,x,b,S){if(typeof g=="string"&&(g=document.getElementById(g)),!g||_typeof(g)!=="object"||!("getContext"in g))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var w=g.getContext("2d");try{return w.getImageData(d,x,b,S)}catch(C){throw new Error("unable to access image data: "+C)}}function processCanvasRGBA(g,d,x,b,S,w){if(!(isNaN(w)||w<1)){w|=0;var C=getImageDataFromCanvas(g,d,x,b,S);C=processImageDataRGBA(C,d,x,b,S,w),g.getContext("2d").putImageData(C,d,x)}}function processImageDataRGBA(g,d,x,b,S,w){for(var C=g.data,F=2*w+1,E=b-1,k=S-1,D=w+1,M=D*(D+1)/2,L=new BlurStack,R=L,U,j=1;j<F;j++)R=R.next=new BlurStack,j===D&&(U=R);R.next=L;for(var H=null,V=null,z=0,G=0,X=mulTable[w],Y=shgTable[w],J=0;J<S;J++){R=L;for(var ee=C[G],ie=C[G+1],oe=C[G+2],he=C[G+3],fe=0;fe<D;fe++)R.r=ee,R.g=ie,R.b=oe,R.a=he,R=R.next;for(var Se=0,we=0,Ee=0,de=0,xe=D*ee,Te=D*ie,Oe=D*oe,Ne=D*he,Le=M*ee,Me=M*ie,Ie=M*oe,Ve=M*he,De=1;De<D;De++){var Pe=G+((E<De?E:De)<<2),Ce=C[Pe],te=C[Pe+1],re=C[Pe+2],W=C[Pe+3],$=D-De;Le+=(R.r=Ce)*$,Me+=(R.g=te)*$,Ie+=(R.b=re)*$,Ve+=(R.a=W)*$,Se+=Ce,we+=te,Ee+=re,de+=W,R=R.next}H=L,V=U;for(var Z=0;Z<b;Z++){var K=Ve*X>>>Y;if(C[G+3]=K,K!==0){var Q=255/K;C[G]=(Le*X>>>Y)*Q,C[G+1]=(Me*X>>>Y)*Q,C[G+2]=(Ie*X>>>Y)*Q}else C[G]=C[G+1]=C[G+2]=0;Le-=xe,Me-=Te,Ie-=Oe,Ve-=Ne,xe-=H.r,Te-=H.g,Oe-=H.b,Ne-=H.a;var ae=Z+w+1;ae=z+(ae<E?ae:E)<<2,Se+=H.r=C[ae],we+=H.g=C[ae+1],Ee+=H.b=C[ae+2],de+=H.a=C[ae+3],Le+=Se,Me+=we,Ie+=Ee,Ve+=de,H=H.next;var ce=V,le=ce.r,ge=ce.g,pe=ce.b,ye=ce.a;xe+=le,Te+=ge,Oe+=pe,Ne+=ye,Se-=le,we-=ge,Ee-=pe,de-=ye,V=V.next,G+=4}z+=b}for(var ve=0;ve<b;ve++){G=ve<<2;var be=C[G],me=C[G+1],Fe=C[G+2],Re=C[G+3],ke=D*be,je=D*me,ue=D*Fe,ne=D*Re,se=M*be,Ae=M*me,_e=M*Fe,Be=M*Re;R=L;for(var He=0;He<D;He++)R.r=be,R.g=me,R.b=Fe,R.a=Re,R=R.next;for(var Ue=b,ze=0,Ge=0,Xe=0,$e=0,qe=1;qe<=w;qe++){G=Ue+ve<<2;var Ke=D-qe;se+=(R.r=be=C[G])*Ke,Ae+=(R.g=me=C[G+1])*Ke,_e+=(R.b=Fe=C[G+2])*Ke,Be+=(R.a=Re=C[G+3])*Ke,$e+=be,ze+=me,Ge+=Fe,Xe+=Re,R=R.next,qe<k&&(Ue+=b)}G=ve,H=L,V=U;for(var Ye=0;Ye<S;Ye++){var We=G<<2;C[We+3]=Re=Be*X>>>Y,Re>0?(Re=255/Re,C[We]=(se*X>>>Y)*Re,C[We+1]=(Ae*X>>>Y)*Re,C[We+2]=(_e*X>>>Y)*Re):C[We]=C[We+1]=C[We+2]=0,se-=ke,Ae-=je,_e-=ue,Be-=ne,ke-=H.r,je-=H.g,ue-=H.b,ne-=H.a,We=ve+((We=Ye+D)<k?We:k)*b<<2,se+=$e+=H.r=C[We],Ae+=ze+=H.g=C[We+1],_e+=Ge+=H.b=C[We+2],Be+=Xe+=H.a=C[We+3],H=H.next,ke+=be=V.r,je+=me=V.g,ue+=Fe=V.b,ne+=Re=V.a,$e-=be,ze-=me,Ge-=Fe,Xe-=Re,V=V.next,G+=b}}return g}var BlurStack=function g(){_classCallCheck(this,g),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function compressSpaces(g){return g.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(g){return g.replace(/^[\n \t]+/,"")}function trimRight(g){return g.replace(/[\n \t]+$/,"")}function toNumbers(g){const d=g.match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm);return d?d.map(parseFloat):[]}function toMatrixValue(g){const d=toNumbers(g);return[d[0]||0,d[1]||0,d[2]||0,d[3]||0,d[4]||0,d[5]||0]}const allUppercase=/^[A-Z-]+$/;function normalizeAttributeName(g){return allUppercase.test(g)?g.toLowerCase():g}function parseExternalUrl(g){const d=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(g);return d&&(d[2]||d[3]||d[4])||""}function normalizeColor(g){if(!g.startsWith("rgb"))return g;let d=3;return g.replace(/\d+(\.\d+)?/g,(b,S)=>d--&&S?String(Math.round(parseFloat(b))):b)}const attributeRegex=/(\[[^\]]+\])/g,idRegex=/(#[^\s+>~.[:]+)/g,classRegex=/(\.[^\s+>~.[:]+)/g,pseudoElementRegex=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,pseudoClassWithBracketsRegex=/(:[\w-]+\([^)]*\))/gi,pseudoClassRegex=/(:[^\s+>~.[:]+)/g,elementRegex=/([^\s+>~.[:]+)/g;function findSelectorMatch(g,d){const x=d.exec(g);return x?[g.replace(d," "),x.length]:[g,0]}function getSelectorSpecificity(g){const d=[0,0,0];let x=g.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),b=0;return[x,b]=findSelectorMatch(x,attributeRegex),d[1]+=b,[x,b]=findSelectorMatch(x,idRegex),d[0]+=b,[x,b]=findSelectorMatch(x,classRegex),d[1]+=b,[x,b]=findSelectorMatch(x,pseudoElementRegex),d[2]+=b,[x,b]=findSelectorMatch(x,pseudoClassWithBracketsRegex),d[1]+=b,[x,b]=findSelectorMatch(x,pseudoClassRegex),d[1]+=b,x=x.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[x,b]=findSelectorMatch(x,elementRegex),d[2]+=b,d.join("")}const PSEUDO_ZERO=1e-8;function vectorMagnitude(g){return Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2))}function vectorsRatio(g,d){return(g[0]*d[0]+g[1]*d[1])/(vectorMagnitude(g)*vectorMagnitude(d))}function vectorsAngle(g,d){return(g[0]*d[1]<g[1]*d[0]?-1:1)*Math.acos(vectorsRatio(g,d))}function CB1(g){return g*g*g}function CB2(g){return 3*g*g*(1-g)}function CB3(g){return 3*g*(1-g)*(1-g)}function CB4(g){return(1-g)*(1-g)*(1-g)}function QB1(g){return g*g}function QB2(g){return 2*g*(1-g)}function QB3(g){return(1-g)*(1-g)}class Property{static empty(d){return new Property(d,"EMPTY","")}split(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ";const{document:x,name:b}=this;return compressSpaces(this.getString()).trim().split(d).map(S=>new Property(x,b,S))}hasValue(d){const x=this.value;return x!==null&&x!==""&&(d||x!==0)&&typeof x<"u"}isString(d){const{value:x}=this,b=typeof x=="string";return!b||!d?b:d.test(x)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;const d=this.getString();switch(!0){case d.endsWith("px"):case/^[0-9]+$/.test(d):return!0;default:return!1}}setValue(d){return this.value=d,this}getValue(d){return typeof d>"u"||this.hasValue()?this.value:d}getNumber(d){if(!this.hasValue())return typeof d>"u"?0:parseFloat(d);const{value:x}=this;let b=parseFloat(x);return this.isString(/%$/)&&(b/=100),b}getString(d){return typeof d>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(d)}getColor(d){let x=this.getString(d);return this.isNormalizedColor||(this.isNormalizedColor=!0,x=normalizeColor(x),this.value=x),x}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;const[b,S]=typeof d=="boolean"?[void 0,d]:[d],{viewPort:w}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(w.computeSize("x"),w.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(w.computeSize("x"),w.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*w.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*w.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&S):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*w.computeSize(b);default:{const C=this.getNumber();return x&&C<1?C*w.computeSize(b):C}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){const d=this.getString(),x=/#([^)'"]+)/.exec(d),b=x?.[1]||d;return this.document.definitions[b]}getFillStyleDefinition(d,x){let b=this.getDefinition();if(!b)return null;if(typeof b.createGradient=="function"&&"getBoundingBox"in d)return b.createGradient(this.document.ctx,d,x);if(typeof b.createPattern=="function"){if(b.getHrefAttribute().hasValue()){const S=b.getAttribute("patternTransform");b=b.getHrefAttribute().getDefinition(),b&&S.hasValue()&&b.getAttribute("patternTransform",!0).setValue(S.value)}if(b)return b.createPattern(this.document.ctx,d,x)}return null}getTextBaseline(){if(!this.hasValue())return null;const d=this.getString();return Property.textBaselineMapping[d]||null}addOpacity(d){let x=this.getColor();const b=x.length;let S=0;for(let w=0;w<b&&(x[w]===","&&S++,S!==3);w++);if(d.hasValue()&&this.isString()&&S!==3){const w=new RGBColor$1(x);w.ok&&(w.alpha=d.getNumber(),x=w.toRGBA())}return new Property(this.document,this.name,x)}constructor(d,x,b){this.document=d,this.name=x,this.value=b,this.isNormalizedColor=!1}}Property.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class ViewPort{clear(){this.viewPorts=[]}setCurrent(d,x){this.viewPorts.push({width:d,height:x})}removeCurrent(){this.viewPorts.pop()}getRoot(){const[d]=this.viewPorts;return d||getDefault()}getCurrent(){const{viewPorts:d}=this,x=d[d.length-1];return x||getDefault()}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(d){return typeof d=="number"?d:d==="x"?this.width:d==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}constructor(){this.viewPorts=[]}}ViewPort.DEFAULT_VIEWPORT_WIDTH=800;ViewPort.DEFAULT_VIEWPORT_HEIGHT=600;function getDefault(){return{width:ViewPort.DEFAULT_VIEWPORT_WIDTH,height:ViewPort.DEFAULT_VIEWPORT_HEIGHT}}class Point{static parse(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const[b=x,S=x]=toNumbers(d);return new Point(b,S)}static parseScale(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const[b=x,S=b]=toNumbers(d);return new Point(b,S)}static parsePath(d){const x=toNumbers(d),b=x.length,S=[];for(let w=0;w<b;w+=2)S.push(new Point(x[w],x[w+1]));return S}angleTo(d){return Math.atan2(d.y-this.y,d.x-this.x)}applyTransform(d){const{x,y:b}=this,S=x*d[0]+b*d[2]+d[4],w=x*d[1]+b*d[3]+d[5];this.x=S,this.y=w}constructor(d,x){this.x=d,this.y=x}}class Mouse{isWorking(){return this.working}start(){if(this.working)return;const{screen:d,onClick:x,onMouseMove:b}=this,S=d.ctx.canvas;S.onclick=x,S.onmousemove=b,this.working=!0}stop(){if(!this.working)return;const d=this.screen.ctx.canvas;this.working=!1,d.onclick=null,d.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working)return;const{screen:d,events:x,eventElements:b}=this,{style:S}=d.ctx.canvas;let w;S&&(S.cursor=""),x.forEach((C,F)=>{let{run:E}=C;for(w=b[F];w;)E(w),w=w.parent}),this.events=[],this.eventElements=[]}checkPath(d,x){if(!this.working||!x)return;const{events:b,eventElements:S}=this;b.forEach((w,C)=>{let{x:F,y:E}=w;!S[C]&&x.isPointInPath&&x.isPointInPath(F,E)&&(S[C]=d)})}checkBoundingBox(d,x){if(!this.working||!x)return;const{events:b,eventElements:S}=this;b.forEach((w,C)=>{let{x:F,y:E}=w;!S[C]&&x.isPointInBox(F,E)&&(S[C]=d)})}mapXY(d,x){const{window:b,ctx:S}=this.screen,w=new Point(d,x);let C=S.canvas;for(;C;)w.x-=C.offsetLeft,w.y-=C.offsetTop,C=C.offsetParent;return b?.scrollX&&(w.x+=b.scrollX),b?.scrollY&&(w.y+=b.scrollY),w}onClick(d){const{x,y:b}=this.mapXY(d.clientX,d.clientY);this.events.push({type:"onclick",x,y:b,run(S){S.onClick&&S.onClick()}})}onMouseMove(d){const{x,y:b}=this.mapXY(d.clientX,d.clientY);this.events.push({type:"onmousemove",x,y:b,run(S){S.onMouseMove&&S.onMouseMove()}})}constructor(d){this.screen=d,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}}const defaultWindow=typeof window<"u"?window:null,defaultFetch$1=typeof fetch<"u"?fetch.bind(void 0):void 0;class Screen{wait(d){this.waits.push(d)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;const d=this.waits.every(x=>x());return d&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=d,d}setDefaults(d){d.strokeStyle="rgba(0,0,0,0)",d.lineCap="butt",d.lineJoin="miter",d.miterLimit=4}setViewBox(d){let{document:x,ctx:b,aspectRatio:S,width:w,desiredWidth:C,height:F,desiredHeight:E,minX:k=0,minY:D=0,refX:M,refY:L,clip:R=!1,clipX:U=0,clipY:j=0}=d;const H=compressSpaces(S).replace(/^defer\s/,""),[V,z]=H.split(" "),G=V||"xMidYMid",X=z||"meet",Y=w/C,J=F/E,ee=Math.min(Y,J),ie=Math.max(Y,J);let oe=C,he=E;X==="meet"&&(oe*=ee,he*=ee),X==="slice"&&(oe*=ie,he*=ie);const fe=new Property(x,"refX",M),Se=new Property(x,"refY",L),we=fe.hasValue()&&Se.hasValue();if(we&&b.translate(-ee*fe.getPixels("x"),-ee*Se.getPixels("y")),R){const Ee=ee*U,de=ee*j;b.beginPath(),b.moveTo(Ee,de),b.lineTo(w,de),b.lineTo(w,F),b.lineTo(Ee,F),b.closePath(),b.clip()}if(!we){const Ee=X==="meet"&&ee===J,de=X==="slice"&&ie===J,xe=X==="meet"&&ee===Y,Te=X==="slice"&&ie===Y;G.startsWith("xMid")&&(Ee||de)&&b.translate(w/2-oe/2,0),G.endsWith("YMid")&&(xe||Te)&&b.translate(0,F/2-he/2),G.startsWith("xMax")&&(Ee||de)&&b.translate(w-oe,0),G.endsWith("YMax")&&(xe||Te)&&b.translate(0,F-he)}switch(!0){case G==="none":b.scale(Y,J);break;case X==="meet":b.scale(ee,ee);break;case X==="slice":b.scale(ie,ie);break}b.translate(-k,-D)}start(d){let{enableRedraw:x=!1,ignoreMouse:b=!1,ignoreAnimation:S=!1,ignoreDimensions:w=!1,ignoreClear:C=!1,forceRedraw:F,scaleWidth:E,scaleHeight:k,offsetX:D,offsetY:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{mouse:L}=this,R=1e3/Screen.FRAMERATE;if(this.isReadyLock=!1,this.frameDuration=R,this.readyPromise=new Promise(z=>{this.resolveReady=z}),this.isReady()&&this.render(d,w,C,E,k,D,M),!x)return;let U=Date.now(),j=U,H=0;const V=()=>{U=Date.now(),H=U-j,H>=R&&(j=U-H%R,this.shouldUpdate(S,F)&&(this.render(d,w,C,E,k,D,M),L.runEvents())),this.intervalId=requestAnimationFrame(V)};b||L.start(),this.intervalId=requestAnimationFrame(V)}stop(){this.intervalId&&(requestAnimationFrame.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(d,x){if(!d){const{frameDuration:b}=this;if(this.animations.reduce((w,C)=>C.update(b)||w,!1))return!0}return!!(typeof x=="function"&&x()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(d,x,b,S,w,C,F){const{viewPort:E,ctx:k,isFirstRender:D}=this,M=k.canvas;E.clear(),M.width&&M.height&&E.setCurrent(M.width,M.height);const L=d.getStyle("width"),R=d.getStyle("height");!x&&(D||typeof S!="number"&&typeof w!="number")&&(L.hasValue()&&(M.width=L.getPixels("x"),M.style&&(M.style.width="".concat(M.width,"px"))),R.hasValue()&&(M.height=R.getPixels("y"),M.style&&(M.style.height="".concat(M.height,"px"))));let U=M.clientWidth||M.width,j=M.clientHeight||M.height;if(x&&L.hasValue()&&R.hasValue()&&(U=L.getPixels("x"),j=R.getPixels("y")),E.setCurrent(U,j),typeof C=="number"&&d.getAttribute("x",!0).setValue(C),typeof F=="number"&&d.getAttribute("y",!0).setValue(F),typeof S=="number"||typeof w=="number"){const H=toNumbers(d.getAttribute("viewBox").getString());let V=0,z=0;if(typeof S=="number"){const X=d.getStyle("width");X.hasValue()?V=X.getPixels("x")/S:H[2]&&!isNaN(H[2])&&(V=H[2]/S)}if(typeof w=="number"){const X=d.getStyle("height");X.hasValue()?z=X.getPixels("y")/w:H[3]&&!isNaN(H[3])&&(z=H[3]/w)}V||(V=z),z||(z=V),d.getAttribute("width",!0).setValue(S),d.getAttribute("height",!0).setValue(w);const G=d.getStyle("transform",!0,!0);G.setValue("".concat(G.getString()," scale(").concat(1/V,", ").concat(1/z,")"))}b||k.clearRect(0,0,U,j),d.render(k),D&&(this.isFirstRender=!1)}constructor(d,{fetch:x=defaultFetch$1,window:b=defaultWindow}={}){if(this.ctx=d,this.viewPort=new ViewPort,this.mouse=new Mouse(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=b,!x)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");this.fetch=x}}Screen.defaultWindow=defaultWindow;Screen.defaultFetch=defaultFetch$1;Screen.FRAMERATE=30;Screen.MAX_VIRTUAL_PIXELS=3e4;const{defaultFetch}=Screen,DefaultDOMParser=typeof DOMParser<"u"?DOMParser:void 0;class Parser{async parse(d){return d.startsWith("<")?this.parseFromString(d):this.load(d)}parseFromString(d){const x=new this.DOMParser;try{return this.checkDocument(x.parseFromString(d,"image/svg+xml"))}catch{return this.checkDocument(x.parseFromString(d,"text/xml"))}}checkDocument(d){const x=d.getElementsByTagName("parsererror")[0];if(x)throw new Error(x.textContent||"Unknown parse error");return d}async load(d){const b=await(await this.fetch(d)).text();return this.parseFromString(b)}constructor({fetch:d=defaultFetch,DOMParser:x=DefaultDOMParser}={}){if(!d)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");if(!x)throw new Error("Can't find 'DOMParser' in 'globalThis', please provide it via options");this.fetch=d,this.DOMParser=x}}class Translate{apply(d){const{x,y:b}=this.point;d.translate(x||0,b||0)}unapply(d){const{x,y:b}=this.point;d.translate(-1*x||0,-1*b||0)}applyToPoint(d){const{x,y:b}=this.point;d.applyTransform([1,0,0,1,x||0,b||0])}constructor(d,x){this.type="translate",this.point=Point.parse(x)}}class Rotate{apply(d){const{cx:x,cy:b,originX:S,originY:w,angle:C}=this,F=x+S.getPixels("x"),E=b+w.getPixels("y");d.translate(F,E),d.rotate(C.getRadians()),d.translate(-F,-E)}unapply(d){const{cx:x,cy:b,originX:S,originY:w,angle:C}=this,F=x+S.getPixels("x"),E=b+w.getPixels("y");d.translate(F,E),d.rotate(-1*C.getRadians()),d.translate(-F,-E)}applyToPoint(d){const{cx:x,cy:b,angle:S}=this,w=S.getRadians();d.applyTransform([1,0,0,1,x||0,b||0]),d.applyTransform([Math.cos(w),Math.sin(w),-Math.sin(w),Math.cos(w),0,0]),d.applyTransform([1,0,0,1,-x||0,-b||0])}constructor(d,x,b){this.type="rotate";const S=toNumbers(x);this.angle=new Property(d,"angle",S[0]),this.originX=b[0],this.originY=b[1],this.cx=S[1]||0,this.cy=S[2]||0}}class Scale{apply(d){const{scale:{x,y:b},originX:S,originY:w}=this,C=S.getPixels("x"),F=w.getPixels("y");d.translate(C,F),d.scale(x,b||x),d.translate(-C,-F)}unapply(d){const{scale:{x,y:b},originX:S,originY:w}=this,C=S.getPixels("x"),F=w.getPixels("y");d.translate(C,F),d.scale(1/x,1/b||x),d.translate(-C,-F)}applyToPoint(d){const{x,y:b}=this.scale;d.applyTransform([x||0,0,0,b||0,0,0])}constructor(d,x,b){this.type="scale";const S=Point.parseScale(x);(S.x===0||S.y===0)&&(S.x=PSEUDO_ZERO,S.y=PSEUDO_ZERO),this.scale=S,this.originX=b[0],this.originY=b[1]}}class Matrix{apply(d){const{originX:x,originY:b,matrix:S}=this,w=x.getPixels("x"),C=b.getPixels("y");d.translate(w,C),d.transform(S[0],S[1],S[2],S[3],S[4],S[5]),d.translate(-w,-C)}unapply(d){const{originX:x,originY:b,matrix:S}=this,w=S[0],C=S[2],F=S[4],E=S[1],k=S[3],D=S[5],M=0,L=0,R=1,U=1/(w*(k*R-D*L)-C*(E*R-D*M)+F*(E*L-k*M)),j=x.getPixels("x"),H=b.getPixels("y");d.translate(j,H),d.transform(U*(k*R-D*L),U*(D*M-E*R),U*(F*L-C*R),U*(w*R-F*M),U*(C*D-F*k),U*(F*E-w*D)),d.translate(-j,-H)}applyToPoint(d){d.applyTransform(this.matrix)}constructor(d,x,b){this.type="matrix",this.matrix=toMatrixValue(x),this.originX=b[0],this.originY=b[1]}}class Skew extends Matrix{constructor(d,x,b){super(d,x,b),this.type="skew",this.angle=new Property(d,"angle",x)}}class SkewX extends Skew{constructor(d,x,b){super(d,x,b),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class SkewY extends Skew{constructor(d,x,b){super(d,x,b),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function parseTransforms(g){return compressSpaces(g).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function parseTransform(g){const[d="",x=""]=g.split("(");return[d.trim(),x.trim().replace(")","")]}class Transform{static fromElement(d,x){const b=x.getStyle("transform",!1,!0);if(b.hasValue()){const[S,w=S]=x.getStyle("transform-origin",!1,!0).split();if(S&&w){const C=[S,w];return new Transform(d,b.getString(),C)}}return null}apply(d){this.transforms.forEach(x=>x.apply(d))}unapply(d){this.transforms.forEach(x=>x.unapply(d))}applyToPoint(d){this.transforms.forEach(x=>x.applyToPoint(d))}constructor(d,x,b){this.document=d,this.transforms=[],parseTransforms(x).forEach(w=>{if(w==="none")return;const[C,F]=parseTransform(w),E=Transform.transformTypes[C];E&&this.transforms.push(new E(this.document,F,b))})}}Transform.transformTypes={translate:Translate,rotate:Rotate,scale:Scale,matrix:Matrix,skewX:SkewX,skewY:SkewY};let Element$1=class ut{getAttribute(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const b=this.attributes[d];if(!b&&x){const S=new Property(this.document,d,"");return this.attributes[d]=S,S}return b||Property.empty(this.document)}getHrefAttribute(){let d;for(const x in this.attributes)if(x==="href"||x.endsWith(":href")){d=this.attributes[x];break}return d||Property.empty(this.document)}getStyle(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const S=this.styles[d];if(S)return S;const w=this.getAttribute(d);if(w.hasValue())return this.styles[d]=w,w;if(!b){const{parent:C}=this;if(C){const F=C.getStyle(d);if(F.hasValue())return F}}if(x){const C=new Property(this.document,d,"");return this.styles[d]=C,C}return Property.empty(this.document)}render(d){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(d.save(),this.getStyle("mask").hasValue()){const x=this.getStyle("mask").getDefinition();x&&(this.applyEffects(d),x.apply(d,this))}else if(this.getStyle("filter").getValue("none")!=="none"){const x=this.getStyle("filter").getDefinition();x&&(this.applyEffects(d),x.apply(d,this))}else this.setContext(d),this.renderChildren(d),this.clearContext(d);d.restore()}}setContext(d){}applyEffects(d){const x=Transform.fromElement(this.document,this);x&&x.apply(d);const b=this.getStyle("clip-path",!1,!0);if(b.hasValue()){const S=b.getDefinition();S&&S.apply(d)}}clearContext(d){}renderChildren(d){this.children.forEach(x=>{x.render(d)})}addChild(d){const x=d instanceof ut?d:this.document.createElement(d);x.parent=this,ut.ignoreChildTypes.includes(x.type)||this.children.push(x)}matchesSelector(d){var x;const{node:b}=this;if(typeof b.matches=="function")return b.matches(d);const S=(x=b.getAttribute)===null||x===void 0?void 0:x.call(b,"class");return!S||S===""?!1:S.split(" ").some(w=>".".concat(w)===d)}addStylesFromStyleDefinition(){const{styles:d,stylesSpecificity:x}=this.document;let b;for(const S in d)if(!S.startsWith("@")&&this.matchesSelector(S)){const w=d[S],C=x[S];if(w)for(const F in w){let E=this.stylesSpecificity[F];typeof E>"u"&&(E="000"),C&&C>=E&&(b=w[F],b&&(this.styles[F]=b),this.stylesSpecificity[F]=C)}}}removeStyles(d,x){return x.reduce((S,w)=>{const C=d.getStyle(w);if(!C.hasValue())return S;const F=C.getString();return C.setValue(""),[...S,[w,F]]},[])}restoreStyles(d,x){x.forEach(b=>{let[S,w]=b;d.getStyle(S,!0).setValue(w)})}isFirstChild(){var d;return((d=this.parent)===null||d===void 0?void 0:d.children.indexOf(this))===0}constructor(d,x,b=!1){if(this.document=d,this.node=x,this.captureTextNodes=b,this.type="",this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!x||x.nodeType!==1)return;Array.from(x.attributes).forEach(C=>{const F=normalizeAttributeName(C.nodeName);this.attributes[F]=new Property(d,F,C.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(F=>F.trim()).forEach(F=>{if(!F)return;const[E,k]=F.split(":").map(D=>D.trim());E&&(this.styles[E]=new Property(d,E,k))});const{definitions:S}=d,w=this.getAttribute("id");w.hasValue()&&(S[w.getString()]||(S[w.getString()]=this)),Array.from(x.childNodes).forEach(C=>{if(C.nodeType===1)this.addChild(C);else if(b&&(C.nodeType===3||C.nodeType===4)){const F=d.createTextNode(C);F.getText().length>0&&this.addChild(F)}})}};Element$1.ignoreChildTypes=["title"];class UnknownElement extends Element$1{constructor(d,x,b){super(d,x,b)}}function wrapFontFamily(g){const d=g.trim();return/^('|")/.test(d)?d:'"'.concat(d,'"')}function prepareFontFamily(g){return typeof process>"u"?g:g.trim().split(",").map(wrapFontFamily).join(",")}function prepareFontStyle(g){if(!g)return"";const d=g.trim().toLowerCase();switch(d){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return d;default:return/^oblique\s+(-|)\d+deg$/.test(d)?d:""}}function prepareFontWeight(g){if(!g)return"";const d=g.trim().toLowerCase();switch(d){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return d;default:return/^[\d.]+$/.test(d)?d:""}}class Font{static parse(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",x=arguments.length>1?arguments[1]:void 0,b="",S="",w="",C="",F="";const E=compressSpaces(d).trim().split(" "),k={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return E.forEach(D=>{switch(!0){case(!k.fontStyle&&Font.styles.includes(D)):D!=="inherit"&&(b=D),k.fontStyle=!0;break;case(!k.fontVariant&&Font.variants.includes(D)):D!=="inherit"&&(S=D),k.fontStyle=!0,k.fontVariant=!0;break;case(!k.fontWeight&&Font.weights.includes(D)):D!=="inherit"&&(w=D),k.fontStyle=!0,k.fontVariant=!0,k.fontWeight=!0;break;case!k.fontSize:D!=="inherit"&&(C=D.split("/")[0]||""),k.fontStyle=!0,k.fontVariant=!0,k.fontWeight=!0,k.fontSize=!0;break;default:D!=="inherit"&&(F+=D)}}),new Font(b,S,w,C,F,x)}toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,prepareFontFamily(this.fontFamily)].join(" ").trim()}constructor(d,x,b,S,w,C){const F=C?typeof C=="string"?Font.parse(C):C:{};this.fontFamily=w||F.fontFamily,this.fontSize=S||F.fontSize,this.fontStyle=d||F.fontStyle,this.fontWeight=b||F.fontWeight,this.fontVariant=x||F.fontVariant}}Font.styles="normal|italic|oblique|inherit";Font.variants="normal|small-caps|inherit";Font.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class BoundingBox{get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(d,x){typeof d<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=d,this.x2=d),d<this.x1&&(this.x1=d),d>this.x2&&(this.x2=d)),typeof x<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=x,this.y2=x),x<this.y1&&(this.y1=x),x>this.y2&&(this.y2=x))}addX(d){this.addPoint(d,0)}addY(d){this.addPoint(0,d)}addBoundingBox(d){if(!d)return;const{x1:x,y1:b,x2:S,y2:w}=d;this.addPoint(x,b),this.addPoint(S,w)}sumCubic(d,x,b,S,w){return Math.pow(1-d,3)*x+3*Math.pow(1-d,2)*d*b+3*(1-d)*Math.pow(d,2)*S+Math.pow(d,3)*w}bezierCurveAdd(d,x,b,S,w){const C=6*x-12*b+6*S,F=-3*x+9*b-9*S+3*w,E=3*b-3*x;if(F===0){if(C===0)return;const L=-E/C;0<L&&L<1&&(d?this.addX(this.sumCubic(L,x,b,S,w)):this.addY(this.sumCubic(L,x,b,S,w)));return}const k=Math.pow(C,2)-4*E*F;if(k<0)return;const D=(-C+Math.sqrt(k))/(2*F);0<D&&D<1&&(d?this.addX(this.sumCubic(D,x,b,S,w)):this.addY(this.sumCubic(D,x,b,S,w)));const M=(-C-Math.sqrt(k))/(2*F);0<M&&M<1&&(d?this.addX(this.sumCubic(M,x,b,S,w)):this.addY(this.sumCubic(M,x,b,S,w)))}addBezierCurve(d,x,b,S,w,C,F,E){this.addPoint(d,x),this.addPoint(F,E),this.bezierCurveAdd(!0,d,b,w,F),this.bezierCurveAdd(!1,x,S,C,E)}addQuadraticCurve(d,x,b,S,w,C){const F=d+.6666666666666666*(b-d),E=x+2/3*(S-x),k=F+1/3*(w-d),D=E+1/3*(C-x);this.addBezierCurve(d,x,F,k,E,D,w,C)}isPointInBox(d,x){const{x1:b,y1:S,x2:w,y2:C}=this;return b<=d&&d<=w&&S<=x&&x<=C}constructor(d=Number.NaN,x=Number.NaN,b=Number.NaN,S=Number.NaN){this.x1=d,this.y1=x,this.x2=b,this.y2=S,this.addPoint(d,x),this.addPoint(b,S)}}class RenderedElement extends Element$1{calculateOpacity(){let d=1,x=this;for(;x;){const b=x.getStyle("opacity",!1,!0);b.hasValue(!0)&&(d*=b.getNumber()),x=x.parent}return d}setContext(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!x){const b=this.getStyle("fill"),S=this.getStyle("fill-opacity"),w=this.getStyle("stroke"),C=this.getStyle("stroke-opacity");if(b.isUrlDefinition()){const R=b.getFillStyleDefinition(this,S);R&&(d.fillStyle=R)}else if(b.hasValue()){b.getString()==="currentColor"&&b.setValue(this.getStyle("color").getColor());const R=b.getColor();R!=="inherit"&&(d.fillStyle=R==="none"?"rgba(0,0,0,0)":R)}if(S.hasValue()){const R=new Property(this.document,"fill",d.fillStyle).addOpacity(S).getColor();d.fillStyle=R}if(w.isUrlDefinition()){const R=w.getFillStyleDefinition(this,C);R&&(d.strokeStyle=R)}else if(w.hasValue()){w.getString()==="currentColor"&&w.setValue(this.getStyle("color").getColor());const R=w.getString();R!=="inherit"&&(d.strokeStyle=R==="none"?"rgba(0,0,0,0)":R)}if(C.hasValue()){const R=new Property(this.document,"stroke",d.strokeStyle).addOpacity(C).getString();d.strokeStyle=R}const F=this.getStyle("stroke-width");if(F.hasValue()){const R=F.getPixels();d.lineWidth=R||PSEUDO_ZERO}const E=this.getStyle("stroke-linecap"),k=this.getStyle("stroke-linejoin"),D=this.getStyle("stroke-miterlimit"),M=this.getStyle("stroke-dasharray"),L=this.getStyle("stroke-dashoffset");if(E.hasValue()&&(d.lineCap=E.getString()),k.hasValue()&&(d.lineJoin=k.getString()),D.hasValue()&&(d.miterLimit=D.getNumber()),M.hasValue()&&M.getString()!=="none"){const R=toNumbers(M.getString());typeof d.setLineDash<"u"?d.setLineDash(R):typeof d.webkitLineDash<"u"?d.webkitLineDash=R:typeof d.mozDash<"u"&&!(R.length===1&&R[0]===0)&&(d.mozDash=R);const U=L.getPixels();typeof d.lineDashOffset<"u"?d.lineDashOffset=U:typeof d.webkitLineDashOffset<"u"?d.webkitLineDashOffset=U:typeof d.mozDashOffset<"u"&&(d.mozDashOffset=U)}}if(this.modifiedEmSizeStack=!1,typeof d.font<"u"){const b=this.getStyle("font"),S=this.getStyle("font-style"),w=this.getStyle("font-variant"),C=this.getStyle("font-weight"),F=this.getStyle("font-size"),E=this.getStyle("font-family"),k=new Font(S.getString(),w.getString(),C.getString(),F.hasValue()?"".concat(F.getPixels(!0),"px"):"",E.getString(),Font.parse(b.getString(),d.font));S.setValue(k.fontStyle),w.setValue(k.fontVariant),C.setValue(k.fontWeight),F.setValue(k.fontSize),E.setValue(k.fontFamily),d.font=k.toString(),F.isPixels()&&(this.document.emSize=F.getPixels(),this.modifiedEmSizeStack=!0)}x||(this.applyEffects(d),d.globalAlpha=this.calculateOpacity())}clearContext(d){super.clearContext(d),this.modifiedEmSizeStack&&this.document.popEmSize()}constructor(...d){super(...d),this.modifiedEmSizeStack=!1}}class TextElement extends RenderedElement{setContext(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(d,x);const b=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();b&&(d.textBaseline=b)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(d){if(this.type!=="text")return this.getTElementBoundingBox(d);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(d);let x=null;return this.children.forEach((b,S)=>{const w=this.getChildBoundingBox(d,this,this,S);x?x.addBoundingBox(w):x=w}),x}getFontSize(){const{document:d,parent:x}=this,b=Font.parse(d.ctx.font).fontSize;return x.getStyle("font-size").getNumber(b)}getTElementBoundingBox(d){const x=this.getFontSize();return new BoundingBox(this.x,this.y-x,this.x+this.measureText(d),this.y)}getGlyph(d,x,b){const S=x[b];let w;if(d.isArabic){var C;const F=x.length,E=x[b-1],k=x[b+1];let D="isolated";(b===0||E===" ")&&b<F-1&&k!==" "&&(D="terminal"),b>0&&E!==" "&&b<F-1&&k!==" "&&(D="medial"),b>0&&E!==" "&&(b===F-1||k===" ")&&(D="initial"),w=((C=d.arabicGlyphs[S])===null||C===void 0?void 0:C[D])||d.glyphs[S]}else w=d.glyphs[S];return w||(w=d.missingGlyph),w}getText(){return""}getTextFromNode(d){const x=d||this.node,b=Array.from(x.parentNode.childNodes),S=b.indexOf(x),w=b.length-1;let C=compressSpaces(x.textContent||"");return S===0&&(C=trimLeft(C)),S===w&&(C=trimRight(C)),C}renderChildren(d){if(this.type!=="text"){this.renderTElementChildren(d);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(d),this.children.forEach((b,S)=>{this.renderChild(d,this,this,S)});const{mouse:x}=this.document.screen;x.isWorking()&&x.checkBoundingBox(this,this.getBoundingBox(d))}renderTElementChildren(d){const{document:x,parent:b}=this,S=this.getText(),w=b.getStyle("font-family").getDefinition();if(w){const{unitsPerEm:E}=w.fontFace,k=Font.parse(x.ctx.font),D=b.getStyle("font-size").getNumber(k.fontSize),M=b.getStyle("font-style").getString(k.fontStyle),L=D/E,R=w.isRTL?S.split("").reverse().join(""):S,U=toNumbers(b.getAttribute("dx").getString()),j=R.length;for(let H=0;H<j;H++){const V=this.getGlyph(w,R,H);d.translate(this.x,this.y),d.scale(L,-L);const z=d.lineWidth;d.lineWidth=d.lineWidth*E/D,M==="italic"&&d.transform(1,0,.4,1,0,0),V.render(d),M==="italic"&&d.transform(1,0,-.4,1,0,0),d.lineWidth=z,d.scale(1/L,-1/L),d.translate(-this.x,-this.y),this.x+=D*(V.horizAdvX||w.horizAdvX)/E,typeof U[H]<"u"&&!isNaN(U[H])&&(this.x+=U[H])}return}const{x:C,y:F}=this;d.fillStyle&&d.fillText(S,C,F),d.strokeStyle&&d.strokeText(S,C,F)}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length)return;const d=this.leafTexts[this.textChunkStart],x=d.getStyle("text-anchor").getString("start"),b=!1;let S=0;x==="start"&&!b||x==="end"&&b?S=d.x-this.minX:x==="end"&&!b||x==="start"&&b?S=d.x-this.maxX:S=d.x-(this.minX+this.maxX)/2;for(let w=this.textChunkStart;w<this.leafTexts.length;w++)this.leafTexts[w].x+=S;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(d){this.children.forEach((x,b)=>{this.adjustChildCoordinatesRecursiveCore(d,this,this,b)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(d,x,b,S){const w=b.children[S];w.children.length>0?w.children.forEach((C,F)=>{x.adjustChildCoordinatesRecursiveCore(d,x,w,F)}):this.adjustChildCoordinates(d,x,b,S)}adjustChildCoordinates(d,x,b,S){const w=b.children[S];if(typeof w.measureText!="function")return w;d.save(),w.setContext(d,!0);const C=w.getAttribute("x"),F=w.getAttribute("y"),E=w.getAttribute("dx"),k=w.getAttribute("dy"),D=w.getStyle("font-family").getDefinition(),M=!!D?.isRTL;S===0&&(C.hasValue()||C.setValue(w.getInheritedAttribute("x")),F.hasValue()||F.setValue(w.getInheritedAttribute("y")),E.hasValue()||E.setValue(w.getInheritedAttribute("dx")),k.hasValue()||k.setValue(w.getInheritedAttribute("dy")));const L=w.measureText(d);return M&&(x.x-=L),C.hasValue()?(x.applyAnchoring(),w.x=C.getPixels("x"),E.hasValue()&&(w.x+=E.getPixels("x"))):(E.hasValue()&&(x.x+=E.getPixels("x")),w.x=x.x),x.x=w.x,M||(x.x+=L),F.hasValue()?(w.y=F.getPixels("y"),k.hasValue()&&(w.y+=k.getPixels("y"))):(k.hasValue()&&(x.y+=k.getPixels("y")),w.y=x.y),x.y=w.y,x.leafTexts.push(w),x.minX=Math.min(x.minX,w.x,w.x+L),x.maxX=Math.max(x.maxX,w.x,w.x+L),w.clearContext(d),d.restore(),w}getChildBoundingBox(d,x,b,S){const w=b.children[S];if(typeof w.getBoundingBox!="function")return null;const C=w.getBoundingBox(d);return C&&w.children.forEach((F,E)=>{const k=x.getChildBoundingBox(d,x,w,E);C.addBoundingBox(k)}),C}renderChild(d,x,b,S){const w=b.children[S];w.render(d),w.children.forEach((C,F)=>{x.renderChild(d,x,w,F)})}measureText(d){const{measureCache:x}=this;if(~x)return x;const b=this.getText(),S=this.measureTargetText(d,b);return this.measureCache=S,S}measureTargetText(d,x){if(!x.length)return 0;const{parent:b}=this,S=b.getStyle("font-family").getDefinition();if(S){const C=this.getFontSize(),F=S.isRTL?x.split("").reverse().join(""):x,E=toNumbers(b.getAttribute("dx").getString()),k=F.length;let D=0;for(let M=0;M<k;M++){const L=this.getGlyph(S,F,M);D+=(L.horizAdvX||S.horizAdvX)*C/S.fontFace.unitsPerEm,typeof E[M]<"u"&&!isNaN(E[M])&&(D+=E[M])}return D}if(!d.measureText)return x.length*10;d.save(),this.setContext(d,!0);const{width:w}=d.measureText(x);return this.clearContext(d),d.restore(),w}getInheritedAttribute(d){let x=this;for(;x instanceof TextElement&&x.isFirstChild()&&x.parent;){const b=x.parent.getAttribute(d);if(b.hasValue(!0))return b.getString("0");x=x.parent}return null}constructor(d,x,b){super(d,x,new.target===TextElement?!0:b),this.type="text",this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.measureCache=-1}}class TSpanElement extends TextElement{getText(){return this.text}constructor(d,x,b){super(d,x,new.target===TSpanElement?!0:b),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}}class TextNode extends TSpanElement{constructor(...d){super(...d),this.type="textNode"}}class PathParser extends _{reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Point(0,0),this.control=new Point(0,0),this.current=new Point(0,0),this.points=[],this.angles=[]}isEnd(){const{i:d,commands:x}=this;return d>=x.length-1}next(){const d=this.commands[++this.i];return this.previousCommand=this.command,this.command=d,d}getPoint(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";const b=new Point(this.command[d],this.command[x]);return this.makeAbsolute(b)}getAsControlPoint(d,x){const b=this.getPoint(d,x);return this.control=b,b}getAsCurrentPoint(d,x){const b=this.getPoint(d,x);return this.current=b,b}getReflectedControlPoint(){const d=this.previousCommand.type;if(d!==_.CURVE_TO&&d!==_.SMOOTH_CURVE_TO&&d!==_.QUAD_TO&&d!==_.SMOOTH_QUAD_TO)return this.current;const{current:{x,y:b},control:{x:S,y:w}}=this;return new Point(2*x-S,2*b-w)}makeAbsolute(d){if(this.command.relative){const{x,y:b}=this.current;d.x+=x,d.y+=b}return d}addMarker(d,x,b){const{points:S,angles:w}=this;b&&w.length>0&&!w[w.length-1]&&(w[w.length-1]=S[S.length-1].angleTo(b)),this.addMarkerAngle(d,x?x.angleTo(d):null)}addMarkerAngle(d,x){this.points.push(d),this.angles.push(x)}getMarkerPoints(){return this.points}getMarkerAngles(){const{angles:d}=this,x=d.length;for(let b=0;b<x;b++)if(!d[b]){for(let S=b+1;S<x;S++)if(d[S]){d[b]=d[S];break}}return d}constructor(d){super(d.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=new Point(0,0),this.start=new Point(0,0),this.current=new Point(0,0),this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}}class PathElement extends RenderedElement{path(d){const{pathParser:x}=this,b=new BoundingBox;for(x.reset(),d&&d.beginPath();!x.isEnd();)switch(x.next().type){case PathParser.MOVE_TO:this.pathM(d,b);break;case PathParser.LINE_TO:this.pathL(d,b);break;case PathParser.HORIZ_LINE_TO:this.pathH(d,b);break;case PathParser.VERT_LINE_TO:this.pathV(d,b);break;case PathParser.CURVE_TO:this.pathC(d,b);break;case PathParser.SMOOTH_CURVE_TO:this.pathS(d,b);break;case PathParser.QUAD_TO:this.pathQ(d,b);break;case PathParser.SMOOTH_QUAD_TO:this.pathT(d,b);break;case PathParser.ARC:this.pathA(d,b);break;case PathParser.CLOSE_PATH:this.pathZ(d,b);break}return b}getBoundingBox(d){return this.path()}getMarkers(){const{pathParser:d}=this,x=d.getMarkerPoints(),b=d.getMarkerAngles();return x.map((w,C)=>[w,b[C]])}renderChildren(d){this.path(d),this.document.screen.mouse.checkPath(this,d);const x=this.getStyle("fill-rule");d.fillStyle!==""&&(x.getString("inherit")!=="inherit"?d.fill(x.getString()):d.fill()),d.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(d.save(),d.setTransform(1,0,0,1,0,0),d.stroke(),d.restore()):d.stroke());const b=this.getMarkers();if(b){const S=b.length-1,w=this.getStyle("marker-start"),C=this.getStyle("marker-mid"),F=this.getStyle("marker-end");if(w.isUrlDefinition()){const E=w.getDefinition(),[k,D]=b[0];E.render(d,k,D)}if(C.isUrlDefinition()){const E=C.getDefinition();for(let k=1;k<S;k++){const[D,M]=b[k];E.render(d,D,M)}}if(F.isUrlDefinition()){const E=F.getDefinition(),[k,D]=b[S];E.render(d,k,D)}}}static pathM(d){const x=d.getAsCurrentPoint();return d.start=d.current,{point:x}}pathM(d,x){const{pathParser:b}=this,{point:S}=PathElement.pathM(b),{x:w,y:C}=S;b.addMarker(S),x.addPoint(w,C),d&&d.moveTo(w,C)}static pathL(d){const{current:x}=d,b=d.getAsCurrentPoint();return{current:x,point:b}}pathL(d,x){const{pathParser:b}=this,{current:S,point:w}=PathElement.pathL(b),{x:C,y:F}=w;b.addMarker(w,S),x.addPoint(C,F),d&&d.lineTo(C,F)}static pathH(d){const{current:x,command:b}=d,S=new Point((b.relative?x.x:0)+b.x,x.y);return d.current=S,{current:x,point:S}}pathH(d,x){const{pathParser:b}=this,{current:S,point:w}=PathElement.pathH(b),{x:C,y:F}=w;b.addMarker(w,S),x.addPoint(C,F),d&&d.lineTo(C,F)}static pathV(d){const{current:x,command:b}=d,S=new Point(x.x,(b.relative?x.y:0)+b.y);return d.current=S,{current:x,point:S}}pathV(d,x){const{pathParser:b}=this,{current:S,point:w}=PathElement.pathV(b),{x:C,y:F}=w;b.addMarker(w,S),x.addPoint(C,F),d&&d.lineTo(C,F)}static pathC(d){const{current:x}=d,b=d.getPoint("x1","y1"),S=d.getAsControlPoint("x2","y2"),w=d.getAsCurrentPoint();return{current:x,point:b,controlPoint:S,currentPoint:w}}pathC(d,x){const{pathParser:b}=this,{current:S,point:w,controlPoint:C,currentPoint:F}=PathElement.pathC(b);b.addMarker(F,C,w),x.addBezierCurve(S.x,S.y,w.x,w.y,C.x,C.y,F.x,F.y),d&&d.bezierCurveTo(w.x,w.y,C.x,C.y,F.x,F.y)}static pathS(d){const{current:x}=d,b=d.getReflectedControlPoint(),S=d.getAsControlPoint("x2","y2"),w=d.getAsCurrentPoint();return{current:x,point:b,controlPoint:S,currentPoint:w}}pathS(d,x){const{pathParser:b}=this,{current:S,point:w,controlPoint:C,currentPoint:F}=PathElement.pathS(b);b.addMarker(F,C,w),x.addBezierCurve(S.x,S.y,w.x,w.y,C.x,C.y,F.x,F.y),d&&d.bezierCurveTo(w.x,w.y,C.x,C.y,F.x,F.y)}static pathQ(d){const{current:x}=d,b=d.getAsControlPoint("x1","y1"),S=d.getAsCurrentPoint();return{current:x,controlPoint:b,currentPoint:S}}pathQ(d,x){const{pathParser:b}=this,{current:S,controlPoint:w,currentPoint:C}=PathElement.pathQ(b);b.addMarker(C,w,w),x.addQuadraticCurve(S.x,S.y,w.x,w.y,C.x,C.y),d&&d.quadraticCurveTo(w.x,w.y,C.x,C.y)}static pathT(d){const{current:x}=d,b=d.getReflectedControlPoint();d.control=b;const S=d.getAsCurrentPoint();return{current:x,controlPoint:b,currentPoint:S}}pathT(d,x){const{pathParser:b}=this,{current:S,controlPoint:w,currentPoint:C}=PathElement.pathT(b);b.addMarker(C,w,w),x.addQuadraticCurve(S.x,S.y,w.x,w.y,C.x,C.y),d&&d.quadraticCurveTo(w.x,w.y,C.x,C.y)}static pathA(d){const{current:x,command:b}=d;let{rX:S,rY:w,xRot:C,lArcFlag:F,sweepFlag:E}=b;const k=C*(Math.PI/180),D=d.getAsCurrentPoint(),M=new Point(Math.cos(k)*(x.x-D.x)/2+Math.sin(k)*(x.y-D.y)/2,-Math.sin(k)*(x.x-D.x)/2+Math.cos(k)*(x.y-D.y)/2),L=Math.pow(M.x,2)/Math.pow(S,2)+Math.pow(M.y,2)/Math.pow(w,2);L>1&&(S*=Math.sqrt(L),w*=Math.sqrt(L));let R=(F===E?-1:1)*Math.sqrt((Math.pow(S,2)*Math.pow(w,2)-Math.pow(S,2)*Math.pow(M.y,2)-Math.pow(w,2)*Math.pow(M.x,2))/(Math.pow(S,2)*Math.pow(M.y,2)+Math.pow(w,2)*Math.pow(M.x,2)));isNaN(R)&&(R=0);const U=new Point(R*S*M.y/w,R*-w*M.x/S),j=new Point((x.x+D.x)/2+Math.cos(k)*U.x-Math.sin(k)*U.y,(x.y+D.y)/2+Math.sin(k)*U.x+Math.cos(k)*U.y),H=vectorsAngle([1,0],[(M.x-U.x)/S,(M.y-U.y)/w]),V=[(M.x-U.x)/S,(M.y-U.y)/w],z=[(-M.x-U.x)/S,(-M.y-U.y)/w];let G=vectorsAngle(V,z);return vectorsRatio(V,z)<=-1&&(G=Math.PI),vectorsRatio(V,z)>=1&&(G=0),{currentPoint:D,rX:S,rY:w,sweepFlag:E,xAxisRotation:k,centp:j,a1:H,ad:G}}pathA(d,x){const{pathParser:b}=this,{currentPoint:S,rX:w,rY:C,sweepFlag:F,xAxisRotation:E,centp:k,a1:D,ad:M}=PathElement.pathA(b),L=1-F?1:-1,R=D+L*(M/2),U=new Point(k.x+w*Math.cos(R),k.y+C*Math.sin(R));if(b.addMarkerAngle(U,R-L*Math.PI/2),b.addMarkerAngle(S,R-L*Math.PI),x.addPoint(S.x,S.y),d&&!isNaN(D)&&!isNaN(M)){const j=w>C?w:C,H=w>C?1:w/C,V=w>C?C/w:1;d.translate(k.x,k.y),d.rotate(E),d.scale(H,V),d.arc(0,0,j,D,D+M,!!(1-F)),d.scale(1/H,1/V),d.rotate(-E),d.translate(-k.x,-k.y)}}static pathZ(d){d.current=d.start}pathZ(d,x){PathElement.pathZ(this.pathParser),d&&x.x1!==x.x2&&x.y1!==x.y2&&d.closePath()}constructor(d,x,b){super(d,x,b),this.type="path",this.pathParser=new PathParser(this.getAttribute("d").getString())}}let SVGElement$1=class extends RenderedElement{setContext(d){var x;const{document:b}=this,{screen:S,window:w}=b,C=d.canvas;if(S.setDefaults(d),"style"in C&&typeof d.font<"u"&&w&&typeof w.getComputedStyle<"u"){d.font=w.getComputedStyle(C).getPropertyValue("font");const z=new Property(b,"fontSize",Font.parse(d.font).fontSize);z.hasValue()&&(b.rootEmSize=z.getPixels("y"),b.emSize=b.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);let{width:F,height:E}=S.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");const k=this.getAttribute("refX"),D=this.getAttribute("refY"),M=this.getAttribute("viewBox"),L=M.hasValue()?toNumbers(M.getString()):null,R=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible";let U=0,j=0,H=0,V=0;L&&(U=L[0],j=L[1]),this.root||(F=this.getStyle("width").getPixels("x"),E=this.getStyle("height").getPixels("y"),this.type==="marker"&&(H=U,V=j,U=0,j=0)),S.viewPort.setCurrent(F,E),this.node&&(!this.parent||((x=this.node.parentNode)===null||x===void 0?void 0:x.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(d),d.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),L&&(F=L[2],E=L[3]),b.setViewBox({ctx:d,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:S.viewPort.width,desiredWidth:F,height:S.viewPort.height,desiredHeight:E,minX:U,minY:j,refX:k.getValue(),refY:D.getValue(),clip:R,clipX:H,clipY:V}),L&&(S.viewPort.removeCurrent(),S.viewPort.setCurrent(F,E))}clearContext(d){super.clearContext(d),this.document.screen.viewPort.removeCurrent()}resize(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const S=this.getAttribute("width",!0),w=this.getAttribute("height",!0),C=this.getAttribute("viewBox"),F=this.getAttribute("style"),E=S.getNumber(0),k=w.getNumber(0);if(b)if(typeof b=="string")this.getAttribute("preserveAspectRatio",!0).setValue(b);else{const D=this.getAttribute("preserveAspectRatio");D.hasValue()&&D.setValue(D.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(S.setValue(d),w.setValue(x),C.hasValue()||C.setValue("0 0 ".concat(E||d," ").concat(k||x)),F.hasValue()){const D=this.getStyle("width"),M=this.getStyle("height");D.hasValue()&&D.setValue("".concat(d,"px")),M.hasValue()&&M.setValue("".concat(x,"px"))}}constructor(...d){super(...d),this.type="svg",this.root=!1}};class RectElement extends PathElement{path(d){const x=this.getAttribute("x").getPixels("x"),b=this.getAttribute("y").getPixels("y"),S=this.getStyle("width",!1,!0).getPixels("x"),w=this.getStyle("height",!1,!0).getPixels("y"),C=this.getAttribute("rx"),F=this.getAttribute("ry");let E=C.getPixels("x"),k=F.getPixels("y");if(C.hasValue()&&!F.hasValue()&&(k=E),F.hasValue()&&!C.hasValue()&&(E=k),E=Math.min(E,S/2),k=Math.min(k,w/2),d){const D=4*((Math.sqrt(2)-1)/3);d.beginPath(),w>0&&S>0&&(d.moveTo(x+E,b),d.lineTo(x+S-E,b),d.bezierCurveTo(x+S-E+D*E,b,x+S,b+k-D*k,x+S,b+k),d.lineTo(x+S,b+w-k),d.bezierCurveTo(x+S,b+w-k+D*k,x+S-E+D*E,b+w,x+S-E,b+w),d.lineTo(x+E,b+w),d.bezierCurveTo(x+E-D*E,b+w,x,b+w-k+D*k,x,b+w-k),d.lineTo(x,b+k),d.bezierCurveTo(x,b+k-D*k,x+E-D*E,b,x+E,b),d.closePath())}return new BoundingBox(x,b,x+S,b+w)}getMarkers(){return null}constructor(...d){super(...d),this.type="rect"}}class CircleElement extends PathElement{path(d){const x=this.getAttribute("cx").getPixels("x"),b=this.getAttribute("cy").getPixels("y"),S=this.getAttribute("r").getPixels();return d&&S>0&&(d.beginPath(),d.arc(x,b,S,0,Math.PI*2,!1),d.closePath()),new BoundingBox(x-S,b-S,x+S,b+S)}getMarkers(){return null}constructor(...d){super(...d),this.type="circle"}}class EllipseElement extends PathElement{path(d){const x=4*((Math.sqrt(2)-1)/3),b=this.getAttribute("rx").getPixels("x"),S=this.getAttribute("ry").getPixels("y"),w=this.getAttribute("cx").getPixels("x"),C=this.getAttribute("cy").getPixels("y");return d&&b>0&&S>0&&(d.beginPath(),d.moveTo(w+b,C),d.bezierCurveTo(w+b,C+x*S,w+x*b,C+S,w,C+S),d.bezierCurveTo(w-x*b,C+S,w-b,C+x*S,w-b,C),d.bezierCurveTo(w-b,C-x*S,w-x*b,C-S,w,C-S),d.bezierCurveTo(w+x*b,C-S,w+b,C-x*S,w+b,C),d.closePath()),new BoundingBox(w-b,C-S,w+b,C+S)}getMarkers(){return null}constructor(...d){super(...d),this.type="ellipse"}}class LineElement extends PathElement{getPoints(){return[new Point(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Point(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(d){const[{x,y:b},{x:S,y:w}]=this.getPoints();return d&&(d.beginPath(),d.moveTo(x,b),d.lineTo(S,w)),new BoundingBox(x,b,S,w)}getMarkers(){const[d,x]=this.getPoints(),b=d.angleTo(x);return[[d,b],[x,b]]}constructor(...d){super(...d),this.type="line"}}class PolylineElement extends PathElement{path(d){const{points:x}=this,[{x:b,y:S}]=x,w=new BoundingBox(b,S);return d&&(d.beginPath(),d.moveTo(b,S)),x.forEach(C=>{let{x:F,y:E}=C;w.addPoint(F,E),d&&d.lineTo(F,E)}),w}getMarkers(){const{points:d}=this,x=d.length-1,b=[];return d.forEach((S,w)=>{w!==x&&b.push([S,S.angleTo(d[w+1])])}),b.length>0&&b.push([d[d.length-1],b[b.length-1][1]]),b}constructor(d,x,b){super(d,x,b),this.type="polyline",this.points=[],this.points=Point.parsePath(this.getAttribute("points").getString())}}class PolygonElement extends PolylineElement{path(d){const x=super.path(d),[{x:b,y:S}]=this.points;return d&&(d.lineTo(b,S),d.closePath()),x}constructor(...d){super(...d),this.type="polygon"}}class PatternElement extends Element$1{createPattern(d,x,b){const S=this.getStyle("width").getPixels("x",!0),w=this.getStyle("height").getPixels("y",!0),C=new SVGElement$1(this.document,null);C.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),C.attributes.width=new Property(this.document,"width","".concat(S,"px")),C.attributes.height=new Property(this.document,"height","".concat(w,"px")),C.attributes.transform=new Property(this.document,"transform",this.getAttribute("patternTransform").getValue()),C.children=this.children;const F=this.document.createCanvas(S,w),E=F.getContext("2d"),k=this.getAttribute("x"),D=this.getAttribute("y");k.hasValue()&&D.hasValue()&&E.translate(k.getPixels("x",!0),D.getPixels("y",!0)),b.hasValue()?this.styles["fill-opacity"]=b:Reflect.deleteProperty(this.styles,"fill-opacity");for(let L=-1;L<=1;L++)for(let R=-1;R<=1;R++)E.save(),C.attributes.x=new Property(this.document,"x",L*F.width),C.attributes.y=new Property(this.document,"y",R*F.height),C.render(E),E.restore();return d.createPattern(F,"repeat")}constructor(...d){super(...d),this.type="pattern"}}class MarkerElement extends Element$1{render(d,x,b){if(!x)return;const{x:S,y:w}=x,C=this.getAttribute("orient").getString("auto"),F=this.getAttribute("markerUnits").getString("strokeWidth");d.translate(S,w),C==="auto"&&d.rotate(b),F==="strokeWidth"&&d.scale(d.lineWidth,d.lineWidth),d.save();const E=new SVGElement$1(this.document);E.type=this.type,E.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),E.attributes.refX=new Property(this.document,"refX",this.getAttribute("refX").getValue()),E.attributes.refY=new Property(this.document,"refY",this.getAttribute("refY").getValue()),E.attributes.width=new Property(this.document,"width",this.getAttribute("markerWidth").getValue()),E.attributes.height=new Property(this.document,"height",this.getAttribute("markerHeight").getValue()),E.attributes.overflow=new Property(this.document,"overflow",this.getAttribute("overflow").getValue()),E.attributes.fill=new Property(this.document,"fill",this.getAttribute("fill").getColor("black")),E.attributes.stroke=new Property(this.document,"stroke",this.getAttribute("stroke").getValue("none")),E.children=this.children,E.render(d),d.restore(),F==="strokeWidth"&&d.scale(1/d.lineWidth,1/d.lineWidth),C==="auto"&&d.rotate(-b),d.translate(-S,-w)}constructor(...d){super(...d),this.type="marker"}}class DefsElement extends Element$1{render(){}constructor(...d){super(...d),this.type="defs"}}class GElement extends RenderedElement{getBoundingBox(d){const x=new BoundingBox;return this.children.forEach(b=>{x.addBoundingBox(b.getBoundingBox(d))}),x}constructor(...d){super(...d),this.type="g"}}class GradientElement extends Element$1{getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(d,x,b){let S=this;this.getHrefAttribute().hasValue()&&(S=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(S));const{stops:w}=S,C=this.getGradient(d,x);if(!C)return this.addParentOpacity(b,w[w.length-1].color);if(w.forEach(F=>{C.addColorStop(F.offset,this.addParentOpacity(b,F.color))}),this.getAttribute("gradientTransform").hasValue()){const{document:F}=this,{MAX_VIRTUAL_PIXELS:E}=Screen,{viewPort:k}=F.screen,D=k.getRoot(),M=new RectElement(F);M.attributes.x=new Property(F,"x",-E/3),M.attributes.y=new Property(F,"y",-E/3),M.attributes.width=new Property(F,"width",E),M.attributes.height=new Property(F,"height",E);const L=new GElement(F);L.attributes.transform=new Property(F,"transform",this.getAttribute("gradientTransform").getValue()),L.children=[M];const R=new SVGElement$1(F);R.attributes.x=new Property(F,"x",0),R.attributes.y=new Property(F,"y",0),R.attributes.width=new Property(F,"width",D.width),R.attributes.height=new Property(F,"height",D.height),R.children=[L];const U=F.createCanvas(D.width,D.height),j=U.getContext("2d");return j.fillStyle=C,R.render(j),j.createPattern(U,"no-repeat")}return C}inheritStopContainer(d){this.attributesToInherit.forEach(x=>{!this.getAttribute(x).hasValue()&&d.getAttribute(x).hasValue()&&this.getAttribute(x,!0).setValue(d.getAttribute(x).getValue())})}addParentOpacity(d,x){return d.hasValue()?new Property(this.document,"color",x).addOpacity(d).getColor():x}constructor(d,x,b){super(d,x,b),this.attributesToInherit=["gradientUnits"],this.stops=[];const{stops:S,children:w}=this;w.forEach(C=>{C.type==="stop"&&S.push(C)})}}class LinearGradientElement extends GradientElement{getGradient(d,x){const b=this.getGradientUnits()==="objectBoundingBox",S=b?x.getBoundingBox(d):null;if(b&&!S)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));const w=b?S.x+S.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),C=b?S.y+S.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),F=b?S.x+S.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),E=b?S.y+S.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return w===F&&C===E?null:d.createLinearGradient(w,C,F,E)}constructor(d,x,b){super(d,x,b),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}}class RadialGradientElement extends GradientElement{getGradient(d,x){const b=this.getGradientUnits()==="objectBoundingBox",S=x.getBoundingBox(d);if(b&&!S)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");const w=b?S.x+S.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),C=b?S.y+S.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");let F=w,E=C;this.getAttribute("fx").hasValue()&&(F=b?S.x+S.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(E=b?S.y+S.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));const k=b?(S.width+S.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),D=this.getAttribute("fr").getPixels();return d.createRadialGradient(F,E,D,w,C,k)}constructor(d,x,b){super(d,x,b),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}}class StopElement extends Element$1{constructor(d,x,b){super(d,x,b),this.type="stop";const S=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),w=this.getStyle("stop-opacity");let C=this.getStyle("stop-color",!0);C.getString()===""&&C.setValue("#000"),w.hasValue()&&(C=C.addOpacity(w)),this.offset=S,this.color=C.getColor()}}class AnimateElement extends Element$1{getProperty(){const d=this.getAttribute("attributeType").getString(),x=this.getAttribute("attributeName").getString();return d==="CSS"?this.parent.getStyle(x,!0):this.parent.getAttribute(x,!0)}calcValue(){const{initialUnits:d}=this,{progress:x,from:b,to:S}=this.getProgress();let w=b.getNumber()+(S.getNumber()-b.getNumber())*x;return d==="%"&&(w*=100),"".concat(w).concat(d)}update(d){const{parent:x}=this,b=this.getProperty();if(this.initialValue||(this.initialValue=b.getString(),this.initialUnits=b.getUnits()),this.duration>this.maxDuration){const w=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(w==="freeze"&&!this.frozen)this.frozen=!0,x&&b&&(x.animationFrozen=!0,x.animationFrozenValue=b.getString());else if(w==="remove"&&!this.removed)return this.removed=!0,x&&b&&b.setValue(x.animationFrozen?x.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=d;let S=!1;if(this.begin<this.duration){let w=this.calcValue();const C=this.getAttribute("type");if(C.hasValue()){const F=C.getString();w="".concat(F,"(").concat(w,")")}b.setValue(w),S=!0}return S}getProgress(){const{document:d,values:x}=this;let b=(this.duration-this.begin)/(this.maxDuration-this.begin),S,w;if(x.hasValue()){const C=b*(x.getValue().length-1),F=Math.floor(C),E=Math.ceil(C);let k;k=x.getValue()[F],S=new Property(d,"from",k?parseFloat(k):0),k=x.getValue()[E],w=new Property(d,"to",k?parseFloat(k):0),b=(C-F)/(E-F)}else S=this.from,w=this.to;return{progress:b,from:S,to:w}}constructor(d,x,b){super(d,x,b),this.type="animate",this.duration=0,this.initialUnits="",this.removed=!1,this.frozen=!1,d.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Property(d,"values",null);const S=this.getAttribute("values");S.hasValue()&&this.values.setValue(S.getString().split(";"))}}class AnimateColorElement extends AnimateElement{calcValue(){const{progress:d,from:x,to:b}=this.getProgress(),S=new RGBColor$1(x.getColor()),w=new RGBColor$1(b.getColor());if(S.ok&&w.ok){const C=S.r+(w.r-S.r)*d,F=S.g+(w.g-S.g)*d,E=S.b+(w.b-S.b)*d;return"rgb(".concat(Math.floor(C),", ").concat(Math.floor(F),", ").concat(Math.floor(E),")")}return this.getAttribute("from").getColor()}constructor(...d){super(...d),this.type="animateColor"}}class AnimateTransformElement extends AnimateElement{calcValue(){const{progress:d,from:x,to:b}=this.getProgress(),S=toNumbers(x.getString()),w=toNumbers(b.getString());return S.map((F,E)=>{const k=w[E];return F+(k-F)*d}).join(" ")}constructor(...d){super(...d),this.type="animateTransform"}}class FontFaceElement extends Element$1{constructor(d,x,b){super(d,x,b),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class GlyphElement extends PathElement{constructor(d,x,b){super(d,x,b),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class MissingGlyphElement extends GlyphElement{constructor(...d){super(...d),this.type="missing-glyph",this.horizAdvX=0}}class FontElement extends Element$1{render(){}constructor(d,x,b){super(d,x,b),this.type="font",this.isArabic=!1,this.glyphs={},this.arabicGlyphs={},this.isRTL=!1,this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();const{definitions:S}=d,{children:w}=this;for(const C of w)if(C instanceof FontFaceElement){this.fontFace=C;const F=C.getStyle("font-family");F.hasValue()&&(S[F.getString()]=this)}else if(C instanceof MissingGlyphElement)this.missingGlyph=C;else if(C instanceof GlyphElement)if(C.arabicForm){this.isRTL=!0,this.isArabic=!0;const F=this.arabicGlyphs[C.unicode];typeof F>"u"?this.arabicGlyphs[C.unicode]={[C.arabicForm]:C}:F[C.arabicForm]=C}else this.glyphs[C.unicode]=C}}class TRefElement extends TextElement{getText(){const d=this.getHrefAttribute().getDefinition();if(d){const x=d.children[0];if(x)return x.getText()}return""}constructor(...d){super(...d),this.type="tref"}}class AElement extends TextElement{getText(){return this.text}renderChildren(d){if(this.hasText){super.renderChildren(d);const{document:x,x:b,y:S}=this,{mouse:w}=x.screen,C=new Property(x,"fontSize",Font.parse(x.ctx.font).fontSize);w.isWorking()&&w.checkBoundingBox(this,new BoundingBox(b,S-C.getPixels("y"),b+this.measureText(d),S))}else if(this.children.length>0){const x=new GElement(this.document);x.children=this.children,x.parent=this,x.render(d)}}onClick(){const{window:d}=this.document;d&&d.open(this.getHrefAttribute().getString())}onMouseMove(){const d=this.document.ctx;d.canvas.style.cursor="pointer"}constructor(d,x,b){super(d,x,b),this.type="a";const{childNodes:S}=x,w=S[0],C=S.length>0&&Array.from(S).every(F=>F.nodeType===3);this.hasText=C,this.text=C?this.getTextFromNode(w):""}}class TextPathElement extends TextElement{getText(){return this.text}path(d){const{dataArray:x}=this;d&&d.beginPath(),x.forEach(b=>{let{type:S,points:w}=b;switch(S){case PathParser.LINE_TO:d&&d.lineTo(w[0],w[1]);break;case PathParser.MOVE_TO:d&&d.moveTo(w[0],w[1]);break;case PathParser.CURVE_TO:d&&d.bezierCurveTo(w[0],w[1],w[2],w[3],w[4],w[5]);break;case PathParser.QUAD_TO:d&&d.quadraticCurveTo(w[0],w[1],w[2],w[3]);break;case PathParser.ARC:{const[C,F,E,k,D,M,L,R]=w,U=E>k?E:k,j=E>k?1:E/k,H=E>k?k/E:1;d&&(d.translate(C,F),d.rotate(L),d.scale(j,H),d.arc(0,0,U,D,D+M,!!(1-R)),d.scale(1/j,1/H),d.rotate(-L),d.translate(-C,-F));break}case PathParser.CLOSE_PATH:d&&d.closePath();break}})}renderChildren(d){this.setTextData(d),d.save();const x=this.parent.getStyle("text-decoration").getString(),b=this.getFontSize(),{glyphInfo:S}=this,w=d.fillStyle;x==="underline"&&d.beginPath(),S.forEach((C,F)=>{const{p0:E,p1:k,rotation:D,text:M}=C;d.save(),d.translate(E.x,E.y),d.rotate(D),d.fillStyle&&d.fillText(M,0,0),d.strokeStyle&&d.strokeText(M,0,0),d.restore(),x==="underline"&&(F===0&&d.moveTo(E.x,E.y+b/8),d.lineTo(k.x,k.y+b/5))}),x==="underline"&&(d.lineWidth=b/20,d.strokeStyle=w,d.stroke(),d.closePath()),d.restore()}getLetterSpacingAt(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[d]||0}findSegmentToFitChar(d,x,b,S,w,C,F,E,k){let D=C,M=this.measureText(d,E);E===" "&&x==="justify"&&b<S&&(M+=(S-b)/w),k>-1&&(D+=this.getLetterSpacingAt(k));const L=this.textHeight/20,R=this.getEquidistantPointOnPath(D,L,0),U=this.getEquidistantPointOnPath(D+M,L,0),j={p0:R,p1:U},H=R&&U?Math.atan2(U.y-R.y,U.x-R.x):0;if(F){const V=Math.cos(Math.PI/2+H)*F,z=Math.cos(-H)*F;j.p0={...R,x:R.x+V,y:R.y+z},j.p1={...U,x:U.x+V,y:U.y+z}}return D+=M,{offset:D,segment:j,rotation:H}}measureText(d,x){const{measuresCache:b}=this,S=x||this.getText();if(b.has(S))return b.get(S);const w=this.measureTargetText(d,S);return b.set(S,w),w}setTextData(d){if(this.glyphInfo)return;const x=this.getText(),b=x.split(""),S=x.split(" ").length-1,w=this.parent.getAttribute("dx").split().map(G=>G.getPixels("x")),C=this.parent.getAttribute("dy").getPixels("y"),F=this.parent.getStyle("text-anchor").getString("start"),E=this.getStyle("letter-spacing"),k=this.parent.getStyle("letter-spacing");let D=0;!E.hasValue()||E.getValue()==="inherit"?D=k.getPixels():E.hasValue()&&E.getValue()!=="initial"&&E.getValue()!=="unset"&&(D=E.getPixels());const M=[],L=x.length;this.letterSpacingCache=M;for(let G=0;G<L;G++)M.push(typeof w[G]<"u"?w[G]:D);const R=M.reduce((G,X,Y)=>Y===0?0:G+X||0,0),U=this.measureText(d),j=Math.max(U+R,0);this.textWidth=U,this.textHeight=this.getFontSize(),this.glyphInfo=[];const H=this.getPathLength(),V=this.getStyle("startOffset").getNumber(0)*H;let z=0;(F==="middle"||F==="center")&&(z=-j/2),(F==="end"||F==="right")&&(z=-j),z+=V,b.forEach((G,X)=>{const{offset:Y,segment:J,rotation:ee}=this.findSegmentToFitChar(d,F,j,H,S,z,C,G,X);z=Y,!(!J.p0||!J.p1)&&this.glyphInfo.push({text:b[X],p0:J.p0,p1:J.p1,rotation:ee})})}parsePathData(d){if(this.pathLength=-1,!d)return[];const x=[],{pathParser:b}=d;for(b.reset();!b.isEnd();){const{current:S}=b,w=S?S.x:0,C=S?S.y:0,F=b.next();let E=F.type,k=[];switch(F.type){case PathParser.MOVE_TO:this.pathM(b,k);break;case PathParser.LINE_TO:E=this.pathL(b,k);break;case PathParser.HORIZ_LINE_TO:E=this.pathH(b,k);break;case PathParser.VERT_LINE_TO:E=this.pathV(b,k);break;case PathParser.CURVE_TO:this.pathC(b,k);break;case PathParser.SMOOTH_CURVE_TO:E=this.pathS(b,k);break;case PathParser.QUAD_TO:this.pathQ(b,k);break;case PathParser.SMOOTH_QUAD_TO:E=this.pathT(b,k);break;case PathParser.ARC:k=this.pathA(b);break;case PathParser.CLOSE_PATH:PathElement.pathZ(b);break}F.type!==PathParser.CLOSE_PATH?x.push({type:E,points:k,start:{x:w,y:C},pathLength:this.calcLength(w,C,E,k)}):x.push({type:PathParser.CLOSE_PATH,points:[],pathLength:0})}return x}pathM(d,x){const{x:b,y:S}=PathElement.pathM(d).point;x.push(b,S)}pathL(d,x){const{x:b,y:S}=PathElement.pathL(d).point;return x.push(b,S),PathParser.LINE_TO}pathH(d,x){const{x:b,y:S}=PathElement.pathH(d).point;return x.push(b,S),PathParser.LINE_TO}pathV(d,x){const{x:b,y:S}=PathElement.pathV(d).point;return x.push(b,S),PathParser.LINE_TO}pathC(d,x){const{point:b,controlPoint:S,currentPoint:w}=PathElement.pathC(d);x.push(b.x,b.y,S.x,S.y,w.x,w.y)}pathS(d,x){const{point:b,controlPoint:S,currentPoint:w}=PathElement.pathS(d);return x.push(b.x,b.y,S.x,S.y,w.x,w.y),PathParser.CURVE_TO}pathQ(d,x){const{controlPoint:b,currentPoint:S}=PathElement.pathQ(d);x.push(b.x,b.y,S.x,S.y)}pathT(d,x){const{controlPoint:b,currentPoint:S}=PathElement.pathT(d);return x.push(b.x,b.y,S.x,S.y),PathParser.QUAD_TO}pathA(d){let{rX:x,rY:b,sweepFlag:S,xAxisRotation:w,centp:C,a1:F,ad:E}=PathElement.pathA(d);return S===0&&E>0&&(E-=2*Math.PI),S===1&&E<0&&(E+=2*Math.PI),[C.x,C.y,x,b,F,E,w,S]}calcLength(d,x,b,S){let w=0,C=null,F=null,E=0;switch(b){case PathParser.LINE_TO:return this.getLineLength(d,x,S[0],S[1]);case PathParser.CURVE_TO:for(w=0,C=this.getPointOnCubicBezier(0,d,x,S[0],S[1],S[2],S[3],S[4],S[5]),E=.01;E<=1;E+=.01)F=this.getPointOnCubicBezier(E,d,x,S[0],S[1],S[2],S[3],S[4],S[5]),w+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;return w;case PathParser.QUAD_TO:for(w=0,C=this.getPointOnQuadraticBezier(0,d,x,S[0],S[1],S[2],S[3]),E=.01;E<=1;E+=.01)F=this.getPointOnQuadraticBezier(E,d,x,S[0],S[1],S[2],S[3]),w+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;return w;case PathParser.ARC:{w=0;const k=S[4],D=S[5],M=S[4]+D;let L=Math.PI/180;if(Math.abs(k-M)<L&&(L=Math.abs(k-M)),C=this.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],k,0),D<0)for(E=k-L;E>M;E-=L)F=this.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],E,0),w+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;else for(E=k+L;E<M;E+=L)F=this.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],E,0),w+=this.getLineLength(C.x,C.y,F.x,F.y),C=F;return F=this.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],M,0),w+=this.getLineLength(C.x,C.y,F.x,F.y),w}}return 0}getPointOnLine(d,x,b,S,w){let C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:x,F=arguments.length>6&&arguments[6]!==void 0?arguments[6]:b;const E=(w-b)/(S-x+PSEUDO_ZERO);let k=Math.sqrt(d*d/(1+E*E));S<x&&(k*=-1);let D=E*k,M=null;if(S===x)M={x:C,y:F+D};else if((F-b)/(C-x+PSEUDO_ZERO)===E)M={x:C+k,y:F+D};else{let L=0,R=0;const U=this.getLineLength(x,b,S,w);if(U<PSEUDO_ZERO)return null;let j=(C-x)*(S-x)+(F-b)*(w-b);j/=U*U,L=x+j*(S-x),R=b+j*(w-b);const H=this.getLineLength(C,F,L,R),V=Math.sqrt(d*d-H*H);k=Math.sqrt(V*V/(1+E*E)),S<x&&(k*=-1),D=E*k,M={x:L+k,y:R+D}}return M}getPointOnPath(d){const x=this.getPathLength();let b=0,S=null;if(d<-5e-5||d-5e-5>x)return null;const{dataArray:w}=this;for(const C of w){if(C&&(C.pathLength<5e-5||b+C.pathLength+5e-5<d)){b+=C.pathLength;continue}const F=d-b;let E=0;switch(C.type){case PathParser.LINE_TO:S=this.getPointOnLine(F,C.start.x,C.start.y,C.points[0],C.points[1],C.start.x,C.start.y);break;case PathParser.ARC:{const k=C.points[4],D=C.points[5],M=C.points[4]+D;if(E=k+F/C.pathLength*D,D<0&&E<M||D>=0&&E>M)break;S=this.getPointOnEllipticalArc(C.points[0],C.points[1],C.points[2],C.points[3],E,C.points[6]);break}case PathParser.CURVE_TO:E=F/C.pathLength,E>1&&(E=1),S=this.getPointOnCubicBezier(E,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3],C.points[4],C.points[5]);break;case PathParser.QUAD_TO:E=F/C.pathLength,E>1&&(E=1),S=this.getPointOnQuadraticBezier(E,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3]);break}if(S)return S;break}return null}getLineLength(d,x,b,S){return Math.sqrt((b-d)*(b-d)+(S-x)*(S-x))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((d,x)=>x.pathLength>0?d+x.pathLength:d,0)),this.pathLength}getPointOnCubicBezier(d,x,b,S,w,C,F,E,k){const D=E*CB1(d)+C*CB2(d)+S*CB3(d)+x*CB4(d),M=k*CB1(d)+F*CB2(d)+w*CB3(d)+b*CB4(d);return{x:D,y:M}}getPointOnQuadraticBezier(d,x,b,S,w,C,F){const E=C*QB1(d)+S*QB2(d)+x*QB3(d),k=F*QB1(d)+w*QB2(d)+b*QB3(d);return{x:E,y:k}}getPointOnEllipticalArc(d,x,b,S,w,C){const F=Math.cos(C),E=Math.sin(C),k={x:b*Math.cos(w),y:S*Math.sin(w)};return{x:d+(k.x*F-k.y*E),y:x+(k.x*E+k.y*F)}}buildEquidistantCache(d,x){const b=this.getPathLength(),S=x||.25,w=d||b/100;if(!this.equidistantCache||this.equidistantCache.step!==w||this.equidistantCache.precision!==S){this.equidistantCache={step:w,precision:S,points:[]};let C=0;for(let F=0;F<=b;F+=S){const E=this.getPointOnPath(F),k=this.getPointOnPath(F+S);!E||!k||(C+=this.getLineLength(E.x,E.y,k.x,k.y),C>=w&&(this.equidistantCache.points.push({x:E.x,y:E.y,distance:F}),C-=w))}}}getEquidistantPointOnPath(d,x,b){if(this.buildEquidistantCache(x,b),d<0||d-this.getPathLength()>5e-5)return null;const S=Math.round(d/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[S]||null}constructor(d,x,b){super(d,x,b),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);const S=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(S)}}const dataUriRegex=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ImageElement extends RenderedElement{async loadImage(d){try{const x=await this.document.createImage(d);this.image=x}catch(x){console.error('Error while loading image "'.concat(d,'":'),x)}this.loaded=!0}async loadSvg(d){const x=dataUriRegex.exec(d);if(x){const b=x[5];b&&(x[4]==="base64"?this.image=atob(b):this.image=decodeURIComponent(b))}else try{const S=await(await this.document.fetch(d)).text();this.image=S}catch(b){console.error('Error while loading image "'.concat(d,'":'),b)}this.loaded=!0}renderChildren(d){const{document:x,image:b,loaded:S}=this,w=this.getAttribute("x").getPixels("x"),C=this.getAttribute("y").getPixels("y"),F=this.getStyle("width").getPixels("x"),E=this.getStyle("height").getPixels("y");if(!(!S||!b||!F||!E)){if(d.save(),d.translate(w,C),typeof b=="string"){const k=x.canvg.forkString(d,b,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:F,scaleHeight:E}),{documentElement:D}=k.document;D&&(D.parent=this),k.render()}else x.setViewBox({ctx:d,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:F,desiredWidth:b.width,height:E,desiredHeight:b.height}),this.loaded&&(!("complete"in b)||b.complete)&&d.drawImage(b,0,0);d.restore()}}getBoundingBox(){const d=this.getAttribute("x").getPixels("x"),x=this.getAttribute("y").getPixels("y"),b=this.getStyle("width").getPixels("x"),S=this.getStyle("height").getPixels("y");return new BoundingBox(d,x,d+b,x+S)}constructor(d,x,b){super(d,x,b),this.type="image",this.loaded=!1;const S=this.getHrefAttribute().getString();if(!S)return;const w=S.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(S);d.images.push(this),w?this.loadSvg(S):this.loadImage(S)}}class SymbolElement extends RenderedElement{render(d){}constructor(...d){super(...d),this.type="symbol"}}class SVGFontLoader{async load(d,x){try{const{document:b}=this,w=(await b.canvg.parser.load(x)).getElementsByTagName("font");Array.from(w).forEach(C=>{const F=b.createElement(C);b.definitions[d]=F})}catch(b){console.error('Error while loading font "'.concat(x,'":'),b)}this.loaded=!0}constructor(d){this.document=d,this.loaded=!1,d.fonts.push(this)}}class StyleElement extends Element$1{constructor(d,x,b){super(d,x,b),this.type="style",compressSpaces(Array.from(x.childNodes).map(C=>C.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(C=>{const F=C.trim();if(!F)return;const E=F.split("{"),k=E[0].split(","),D=E[1].split(";");k.forEach(M=>{const L=M.trim();if(!L)return;const R=d.styles[L]||{};if(D.forEach(U=>{const j=U.indexOf(":"),H=U.substr(0,j).trim(),V=U.substr(j+1,U.length-j).trim();H&&V&&(R[H]=new Property(d,H,V))}),d.styles[L]=R,d.stylesSpecificity[L]=getSelectorSpecificity(L),L==="@font-face"){const U=R["font-family"].getString().replace(/"|'/g,"");R.src.getString().split(",").forEach(H=>{if(H.indexOf('format("svg")')>0){const V=parseExternalUrl(H);V&&new SVGFontLoader(d).load(U,V)}})}})})}}StyleElement.parseExternalUrl=parseExternalUrl;class UseElement extends RenderedElement{setContext(d){super.setContext(d);const x=this.getAttribute("x"),b=this.getAttribute("y");x.hasValue()&&d.translate(x.getPixels("x"),0),b.hasValue()&&d.translate(0,b.getPixels("y"))}path(d){const{element:x}=this;x&&x.path(d)}renderChildren(d){const{document:x,element:b}=this;if(b){let S=b;if(b.type==="symbol"&&(S=new SVGElement$1(x),S.attributes.viewBox=new Property(x,"viewBox",b.getAttribute("viewBox").getString()),S.attributes.preserveAspectRatio=new Property(x,"preserveAspectRatio",b.getAttribute("preserveAspectRatio").getString()),S.attributes.overflow=new Property(x,"overflow",b.getAttribute("overflow").getString()),S.children=b.children,b.styles.opacity=new Property(x,"opacity",this.calculateOpacity())),S.type==="svg"){const C=this.getStyle("width",!1,!0),F=this.getStyle("height",!1,!0);C.hasValue()&&(S.attributes.width=new Property(x,"width",C.getString())),F.hasValue()&&(S.attributes.height=new Property(x,"height",F.getString()))}const w=S.parent;S.parent=this,S.render(d),S.parent=w}}getBoundingBox(d){const{element:x}=this;return x?x.getBoundingBox(d):null}elementTransform(){const{document:d,element:x}=this;return x?Transform.fromElement(d,x):null}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}constructor(...d){super(...d),this.type="use"}}function imGet(g,d,x,b,S,w){return g[x*b*4+d*4+w]}function imSet(g,d,x,b,S,w,C){g[x*b*4+d*4+w]=C}function m(g,d,x){return g[d]*x}function c(g,d,x,b){return d+Math.cos(g)*x+Math.sin(g)*b}class FeColorMatrixElement extends Element$1{apply(d,x,b,S,w){const{includeOpacity:C,matrix:F}=this,E=d.getImageData(0,0,S,w);for(let k=0;k<w;k++)for(let D=0;D<S;D++){const M=imGet(E.data,D,k,S,w,0),L=imGet(E.data,D,k,S,w,1),R=imGet(E.data,D,k,S,w,2),U=imGet(E.data,D,k,S,w,3);let j=m(F,0,M)+m(F,1,L)+m(F,2,R)+m(F,3,U)+m(F,4,1),H=m(F,5,M)+m(F,6,L)+m(F,7,R)+m(F,8,U)+m(F,9,1),V=m(F,10,M)+m(F,11,L)+m(F,12,R)+m(F,13,U)+m(F,14,1),z=m(F,15,M)+m(F,16,L)+m(F,17,R)+m(F,18,U)+m(F,19,1);C&&(j=0,H=0,V=0,z*=U/255),imSet(E.data,D,k,S,w,0,j),imSet(E.data,D,k,S,w,1,H),imSet(E.data,D,k,S,w,2,V),imSet(E.data,D,k,S,w,3,z)}d.clearRect(0,0,S,w),d.putImageData(E,0,0)}constructor(d,x,b){super(d,x,b),this.type="feColorMatrix";let S=toNumbers(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{const w=S[0];S=[.213+.787*w,.715-.715*w,.072-.072*w,0,0,.213-.213*w,.715+.285*w,.072-.072*w,0,0,.213-.213*w,.715-.715*w,.072+.928*w,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{const w=S[0]*Math.PI/180;S=[c(w,.213,.787,-.213),c(w,.715,-.715,-.715),c(w,.072,-.072,.928),0,0,c(w,.213,-.213,.143),c(w,.715,.285,.14),c(w,.072,-.072,-.283),0,0,c(w,.213,-.213,-.787),c(w,.715,-.715,.715),c(w,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=S,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}}class MaskElement extends Element$1{apply(d,x){const{document:b}=this;let S=this.getAttribute("x").getPixels("x"),w=this.getAttribute("y").getPixels("y"),C=this.getStyle("width").getPixels("x"),F=this.getStyle("height").getPixels("y");if(!C&&!F){const R=new BoundingBox;this.children.forEach(U=>{R.addBoundingBox(U.getBoundingBox(d))}),S=Math.floor(R.x1),w=Math.floor(R.y1),C=Math.floor(R.width),F=Math.floor(R.height)}const E=this.removeStyles(x,MaskElement.ignoreStyles),k=b.createCanvas(S+C,w+F),D=k.getContext("2d");b.screen.setDefaults(D),this.renderChildren(D),new FeColorMatrixElement(b,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(D,0,0,S+C,w+F);const M=b.createCanvas(S+C,w+F),L=M.getContext("2d");b.screen.setDefaults(L),x.render(L),L.globalCompositeOperation="destination-in",L.fillStyle=D.createPattern(k,"no-repeat"),L.fillRect(0,0,S+C,w+F),d.fillStyle=L.createPattern(M,"no-repeat"),d.fillRect(0,0,S+C,w+F),this.restoreStyles(x,E)}render(d){}constructor(...d){super(...d),this.type="mask"}}MaskElement.ignoreStyles=["mask","transform","clip-path"];const noop=()=>{};class ClipPathElement extends Element$1{apply(d){const{document:x}=this,b=Reflect.getPrototypeOf(d),{beginPath:S,closePath:w}=d;b&&(b.beginPath=noop,b.closePath=noop),Reflect.apply(S,d,[]),this.children.forEach(C=>{if(!("path"in C))return;let F="elementTransform"in C?C.elementTransform():null;F||(F=Transform.fromElement(x,C)),F&&F.apply(d),C.path(d),b&&(b.closePath=w),F&&F.unapply(d)}),Reflect.apply(w,d,[]),d.clip(),b&&(b.beginPath=S,b.closePath=w)}render(d){}constructor(...d){super(...d),this.type="clipPath"}}class FilterElement extends Element$1{apply(d,x){const{document:b,children:S}=this,w="getBoundingBox"in x?x.getBoundingBox(d):null;if(!w)return;let C=0,F=0;S.forEach(V=>{const z=V.extraFilterDistance||0;C=Math.max(C,z),F=Math.max(F,z)});const E=Math.floor(w.width),k=Math.floor(w.height),D=E+2*C,M=k+2*F;if(D<1||M<1)return;const L=Math.floor(w.x),R=Math.floor(w.y),U=this.removeStyles(x,FilterElement.ignoreStyles),j=b.createCanvas(D,M),H=j.getContext("2d");b.screen.setDefaults(H),H.translate(-L+C,-R+F),x.render(H),S.forEach(V=>{typeof V.apply=="function"&&V.apply(H,0,0,D,M)}),d.drawImage(j,0,0,D,M,L-C,R-F,D,M),this.restoreStyles(x,U)}render(d){}constructor(...d){super(...d),this.type="filter"}}FilterElement.ignoreStyles=["filter","transform","clip-path"];class FeDropShadowElement extends Element$1{apply(d,x,b,S,w){}constructor(d,x,b){super(d,x,b),this.type="feDropShadow",this.addStylesFromStyleDefinition()}}class FeMorphologyElement extends Element$1{apply(d,x,b,S,w){}constructor(...d){super(...d),this.type="feMorphology"}}class FeCompositeElement extends Element$1{apply(d,x,b,S,w){}constructor(...d){super(...d),this.type="feComposite"}}class FeGaussianBlurElement extends Element$1{apply(d,x,b,S,w){const{document:C,blurRadius:F}=this,E=C.window?C.window.document.body:null,k=d.canvas;k.id=C.getUniqueId(),E&&(k.style.display="none",E.appendChild(k)),processCanvasRGBA(k,x,b,S,w,F),E&&E.removeChild(k)}constructor(d,x,b){super(d,x,b),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}}class TitleElement extends Element$1{constructor(...d){super(...d),this.type="title"}}class DescElement extends Element$1{constructor(...d){super(...d),this.type="desc"}}const elements={svg:SVGElement$1,rect:RectElement,circle:CircleElement,ellipse:EllipseElement,line:LineElement,polyline:PolylineElement,polygon:PolygonElement,path:PathElement,pattern:PatternElement,marker:MarkerElement,defs:DefsElement,linearGradient:LinearGradientElement,radialGradient:RadialGradientElement,stop:StopElement,animate:AnimateElement,animateColor:AnimateColorElement,animateTransform:AnimateTransformElement,font:FontElement,"font-face":FontFaceElement,"missing-glyph":MissingGlyphElement,glyph:GlyphElement,text:TextElement,tspan:TSpanElement,tref:TRefElement,a:AElement,textPath:TextPathElement,image:ImageElement,g:GElement,symbol:SymbolElement,style:StyleElement,use:UseElement,mask:MaskElement,clipPath:ClipPathElement,filter:FilterElement,feDropShadow:FeDropShadowElement,feMorphology:FeMorphologyElement,feComposite:FeCompositeElement,feColorMatrix:FeColorMatrixElement,feGaussianBlur:FeGaussianBlurElement,title:TitleElement,desc:DescElement};function createCanvas(g,d){const x=document.createElement("canvas");return x.width=g,x.height=d,x}async function createImage(g){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const x=document.createElement("img");return d&&(x.crossOrigin="Anonymous"),new Promise((b,S)=>{x.onload=()=>{b(x)},x.onerror=(w,C,F,E,k)=>{S(k)},x.src=g})}const DEFAULT_EM_SIZE=12;class Document{bindCreateImage(d,x){return typeof x=="boolean"?(b,S)=>d(b,typeof S=="boolean"?S:x):d}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){const{emSizeStack:d}=this;return d[d.length-1]||DEFAULT_EM_SIZE}set emSize(d){const{emSizeStack:x}=this;x.push(d)}popEmSize(){const{emSizeStack:d}=this;d.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(d=>d.loaded)}isFontsLoaded(){return this.fonts.every(d=>d.loaded)}createDocumentElement(d){const x=this.createElement(d.documentElement);return x.root=!0,x.addStylesFromStyleDefinition(),this.documentElement=x,x}createElement(d){const x=d.nodeName.replace(/^[^:]+:/,""),b=Document.elementTypes[x];return b?new b(this,d):new UnknownElement(this,d)}createTextNode(d){return new TextNode(this,d)}setViewBox(d){this.screen.setViewBox({document:this,...d})}constructor(d,{rootEmSize:x=DEFAULT_EM_SIZE,emSize:b=DEFAULT_EM_SIZE,createCanvas:S=Document.createCanvas,createImage:w=Document.createImage,anonymousCrossOrigin:C}={}){this.canvg=d,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=d.screen,this.rootEmSize=x,this.emSize=b,this.createCanvas=S,this.createImage=this.bindCreateImage(w,C),this.screen.wait(()=>this.isImagesLoaded()),this.screen.wait(()=>this.isFontsLoaded())}}Document.createCanvas=createCanvas;Document.createImage=createImage;Document.elementTypes=elements;class Canvg{static async from(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const w=await new Parser(b).parse(x);return new Canvg(d,w,b)}static fromString(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const w=new Parser(b).parseFromString(x);return new Canvg(d,w,b)}fork(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Canvg.from(d,x,{...this.options,...b})}forkString(d,x){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Canvg.fromString(d,x,{...this.options,...b})}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}async render(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.start({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0,...d}),await this.ready(),this.stop()}start(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{documentElement:x,screen:b,options:S}=this;b.start(x,{enableRedraw:!0,...S,...d})}stop(){this.screen.stop()}resize(d){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(d,x,b)}constructor(d,x,b={}){this.parser=new Parser(b),this.screen=new Screen(d,b),this.options=b;const S=new Document(this,b),w=S.createDocumentElement(x);this.document=S,this.documentElement=w}}function getAppPng(g){const d=getSvgString(g),x=document.createElement("canvas");x.width=1315,x.height=500;const b=x.getContext("2d");if(!b)throw alert("  "),Error("  . the context identifier is not supported, or the canvas has already been set to a different context mode.");let S=Canvg.fromString(b,d);S.start();const w=x.toDataURL("image/png");return S.stop(),w}class PDFEmbedAppearance{static async embed(d,x){const b=getAppPng(x);return(await d.embedPng(b)).ref}}class PDFAcroFormCustom{wasSigned=!1;acroForm;widgetCount=0;widgetRefArray=[];context;snap;acroRef;constructor(d,x){this.context=d.context,this.snap=x;const{acroForm:b,acroRef:S,wasSigned:w}=this.getOrCreateAcroForm(d);this.acroForm=b,this.acroRef=S,this.wasSigned=w}getOrCreateAcroForm(d){let x=d.catalog.getAcroForm(),b=!1;if(x){const w=x.getAllFields();this.widgetCount=w.length,this.widgetRefArray=w.map(F=>F[1]),this.widgetCount>=1&&(b=!0);const C=d.context.getObjectRef(x.dict);return console.log(b),{acroForm:x,acroRef:C,wasSigned:b}}x=PDFAcroForm.fromDict(d.context.obj({}));const S=d.context.register(x.dict);return d.catalog.set(PDFName.of("AcroForm"),S),{acroForm:x,acroRef:S,wasSigned:b}}addFields(d){const x=this.acroForm.dict.lookup(PDFName.of("Fields")),b=this.context.obj([...this.widgetRefArray,...d]);x instanceof PDFRef?(this.context.assign(x,b),this.snap.markRefForSave(x)):x instanceof PDFArray?(this.acroForm.dict.set(PDFName.of("Fields"),b),this.snap.markRefForSave(this.acroRef)):(!this.wasSigned||x==null)&&(this.acroForm.dict.set(PDFName.of("Fields"),b),this.acroForm.dict.set(PDFName.of("SigFlags"),PDFNumber.of(3)),this.acroForm.dict.set(PDFName.Type,PDFName.of("AcroForm")),this.snap.markRefForSave(this.acroRef))}}function apStream(g,d,x){const b=g.obj({Type:"XObject",Subtype:"Form",FormType:1,BBox:[0,0,d.width,d.height],Resources:{XObject:{xObjectKey:x}}}),S=[rotateDegrees(0),...drawImage("xObjectKey",{x:0,y:0,width:d.width,height:d.height,rotate:degrees(0),xSkew:degrees(0),ySkew:degrees(0)})],w=PDFContentStream.of(b,S,!0);return g.register(w)}function createRectangle(g){return g.x2=g.x+g.width,g.y2=g.y+g.height,[g.x,g.y,g.x2,g.y2]}class PDFWidgetAnnotationHelper{pdfDoc;context;snap;sigDictRef;sigImageRef;acroFormCustom;constructor(d,x,b,S){this.pdfDoc=d,this.context=d.context,this.snap=x,this.sigDictRef=b,this.sigImageRef=S,this.acroFormCustom=new PDFAcroFormCustom(d,x)}static async of(d,x,b){const S=await PDFEmbedAppearance.embed(d.pdfDoc,b);return new PDFWidgetAnnotationHelper(d.pdfDoc,d.snap,x,S)}async createAllAnnotationWidgets(d){console.debug("creating widgets...");const x=this.pdfDoc.getPages(),b=[];for(let S in d.signDict){const w=d.signDict[S];if(w==null)continue;const C=x[Number(S)-1],F=PDFAnnotation.getOrCreateAnnotsArray(C.node,this.context),E=C.getHeight();for(let k=0;k<w.length;k++){if(w[k]==null)continue;w[k]=normalizeScale(w[k],E),console.debug(w[k]);const D=this.createWidgetDict(C.ref,w[k]);this.acroFormCustom.widgetCount++,this.snap.markRefForSave(D),F.push(D),b.push(D)}PDFAnnotation.saveAnnotations(C,F,this.context,this.snap)}this.acroFormCustom.addFields(b)}createWidgetDict(d,x){const b=createRectangle(x),S=apStream(this.context,x,this.sigImageRef),w=this.context.obj({FT:"Sig",T:PDFString.of(`Sig${this.acroFormCustom.widgetCount}`),V:this.sigDictRef,F:4,Type:"Annot",Subtype:"Widget",Rect:b,P:d,MK:{},AP:{N:S}});return this.context.register(w)}}class PDFAnnotation{static getOrCreateAnnotsArray(d,x){const b=d.lookup(PDFName.Annots);if(b instanceof PDFArray)return b;if(b instanceof PDFRef){const S=x.lookupMaybe(b,PDFArray);if(S)return S}return PDFArray.withContext(x)}static saveAnnotations(d,x,b,S){const w=d.node.lookup(PDFName.Annots);w instanceof PDFRef?(b.assign(w,x),S.markRefForSave(w)):(d.node.set(PDFName.Annots,x),S.markRefForSave(d.ref))}}function normalizeScale(g,d){return g.width*=2/3,g.height*=2/3,g.x*=2/3,g.y*=2/3,g.x=Math.trunc(g.x),g.y=Math.trunc(g.y),g.width=Math.trunc(g.width),g.height=Math.trunc(g.height),g.y=d-g.y-g.height,g}const whitespacePadding=" ".repeat(2048);function createXmlMetadata(g,d){const x=`
    <?xpacket begin="" id="W5M0MpCehiHzreSzNTczkc9d"?>
        <x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 9.1-c001 79.675d0f7, 2023/06/11-19:21:16        ">
            <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
                <rdf:Description rdf:about="" 
                    xmlns:dc="http://purl.org/dc/elements/1.1/"
                    xmlns:xmp="http://ns.adobe.com/xap/1.0/"
                    xmlns:pdf="http://ns.adobe.com/pdf/1.3/"
                    xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/">
                <dc:format>application/pdf</dc:format>
                <dc:creator>
                    <rdf:Seq>
                        <rdf:li>${d.author}</rdf:li>
                    </rdf:Seq>
                </dc:creator>
                <dc:title>
                    <rdf:Alt>
                        <rdf:li xml:lang="x-default">${d.title}</rdf:li>
                    </rdf:Alt>
                </dc:title>
                <dc:subject>
                    <rdf:Bag>
                        ${d.keywords.map(S=>`<rdf:li>${S}</rdf:li>`).join(`
`)}
                    </rdf:Bag>
                </dc:subject>
                <xmp:CreatorTool>${d.creatorTool}</xmp:CreatorTool>
                <xmp:CreateDate>${d.documentCreationDate.toISOString()}</xmp:CreateDate>
                <xmp:ModifyDate>${d.documentModificationDate.toISOString()}</xmp:ModifyDate>
                <xmp:MetadataDate>${d.metadataModificationDate.toISOString()}</xmp:MetadataDate>
                <pdf:Subject>${d.subject}</pdf:Subject>
                <pdf:Producer>${d.producer}</pdf:Producer>
            </rdf:Description>
        </rdf:RDF>
      </x:xmpmeta>
      ${whitespacePadding}
    <?xpacket end="w"?>
  `.trim(),b=g.context.obj({Type:PDFName.of("Metadata"),Subtype:PDFName.of("XML"),Length:PDFNumber.of(x.length)});return PDFRawStream.of(b,new TextEncoder().encode(x))}function updateMetadata(g,d){console.debug("adding metadata...");const x=g.pdfDoc,b=new Date,{info:S,infoRef:w}=getInfoDict(x),C=M=>PDFName.of(M),F=M=>PDFHexString.fromText(M);S.set(C("Title"),F(`${g.fileName} - .`)),S.set(C("Author"),F(d)),S.set(C("Subject"),F("EDS / ")),S.set(C("Keywords"),F(["EDS signed","  "].join(" "))),S.set(C("Producer"),F(".")),S.set(C("Creator"),F("Created with pdf-lib")),S.set(C("ModificationDate"),PDFString.fromDate(b)),S.set(C("CreationDate"),PDFString.fromDate(x.getCreationDate()||b)),x.context.assign(w,S),g.snap.markRefForSave(w);const E=x.catalog.get(PDFName.of("Metadata")),k=createXmlMetadata(x,{title:`${g.fileName} - .`,author:`${d}`,subject:"EDS / ",keywords:["EDS signed","  "],producer:".",creatorTool:"Created with pdf-lib",documentCreationDate:x.getCreationDate()||b,documentModificationDate:b,metadataModificationDate:b});let D;E===void 0?D=x.context.register(k):(D=E,x.context.assign(D,k)),x.catalog.set(PDFName.of("Metadata"),D),g.snap.markRefForSave(D)}function getInfoDict(g){let d=g.context.lookup(g.context.trailerInfo.Info);if(d instanceof PDFDict){const b=g.context.getObjectRef(d);return{info:d,infoRef:b}}d=g.context.obj({});const x=g.context.trailerInfo.Info=g.context.register(d);return{info:d,infoRef:x}}const DEFAULT_SIGNATURE_LENGTH=102416,DEFAULT_BYTE_RANGE_PLACEHOLDER="**********";class PDFSignDictionary{static create(d,x){const b=d.pdfDoc.context,S=propBuildDict(b),w=createByteRangePlaceholder(b),C=b.obj({ByteRange:w,Contents:PDFHexString.of("A".repeat(DEFAULT_SIGNATURE_LENGTH)),Filter:"CryptoPro#20PDF",M:PDFString.fromDate(new Date),Name:PDFHexString.fromText(x.name),Location:PDFHexString.fromText(x.L||"test"),Reason:PDFHexString.fromText("test_reason"),ContactInfo:PDFHexString.fromText(x.subject),Prop_Build:S,SubFilter:"adbe.pkcs7.detached",Type:"Sig"}),F=b.register(C);return d.snap.markRefForSave(F),F}}function propBuildDict(g){return g.obj({App:{Name:PDFHexString.fromText(window.navigator.userAgent),OS:[getOs()],TrustedMode:!1},Filter:{Name:"CryptoPro#20PDF",R:1},PubSec:{Date:PDFString.fromDate(new Date)}})}function createByteRangePlaceholder(g){const d=PDFArray.withContext(g);return d.push(PDFNumber.of(0)),d.push(PDFName.of(DEFAULT_BYTE_RANGE_PLACEHOLDER)),d.push(PDFName.of(DEFAULT_BYTE_RANGE_PLACEHOLDER)),d.push(PDFName.of(DEFAULT_BYTE_RANGE_PLACEHOLDER)),d}function getOs(){let g="Unknown";return window.navigator.userAgent.indexOf("Windows NT 10.0")!==-1&&(g="Windows 10"),window.navigator.userAgent.indexOf("Windows NT 6.3")!==-1&&(g="Windows 8.1"),window.navigator.userAgent.indexOf("Windows NT 6.2")!==-1&&(g="Windows 8"),window.navigator.userAgent.indexOf("Windows NT 6.1")!==-1&&(g="Windows 7"),window.navigator.userAgent.indexOf("Windows NT 6.0")!==-1&&(g="Windows Vista"),window.navigator.userAgent.indexOf("Windows NT 5.1")!==-1&&(g="Windows XP"),window.navigator.userAgent.indexOf("Windows NT 5.0")!==-1&&(g="Windows 2000"),window.navigator.userAgent.indexOf("Mac")!==-1&&(g="Mac/iOS"),window.navigator.userAgent.indexOf("X11")!==-1&&(g="UNIX"),window.navigator.userAgent.indexOf("Linux")!==-1&&(g="Linux"),g}const addSignaturePlaceholder=async(g,d)=>{console.debug("addSignaturePlaceholder");const x=await loadPdfData2(g);updateMetadata(x,d.cert.name);const b=PDFSignDictionary.create(x,d.cert);return await(await PDFWidgetAnnotationHelper.of(x,b,d.cert)).createAllAnnotationWidgets(d),x.snap.markObjForSave(x.pdfDoc.catalog),await save(x)};async function loadPdfData2(g){console.debug("   arraybuffer");let d=await g.arrayBuffer();console.debug("loading...");let x=await PDFDocument.load(d,{updateMetadata:!1});const b=isAlreadySigned(x);if(b)return{pdfDoc:x,snap:x.takeSnapshot(),pdfArrayBuffer:d,wasSigned:b,fileName:g.name};const S=await x.save({useObjectStreams:!1});return x=await PDFDocument.load(S),{pdfDoc:x,snap:x.takeSnapshot(),pdfArrayBuffer:S,wasSigned:b,fileName:g.name}}function isAlreadySigned(g){const d=g.catalog.getAcroForm();return d instanceof PDFAcroForm&&d.getAllFields().length>0}async function save(g){{console.debug("saveInc...");const d=await g.pdfDoc.saveIncremental(g.snap);return console.debug("concat..."),buffer.Buffer.concat([buffer.Buffer.from(g.pdfArrayBuffer),d])}}const byteRange=[0,0,0,0],prepareForHash=g=>{console.debug("fillByteRange"),g=removeTrailingNewLine(g);const d=findByteRangePlaceholder(g);if(d==null||d.byteRangePlaceholder==null)throw Error("byteRange undefined");const x=d.byteRangePlaceholder,b=g.indexOf(x),S=b+x.length,w=g.indexOf("/Contents ",S),C=g.indexOf("<",w),F=g.indexOf(">",C);byteRange[1]=C,byteRange[2]=F+1,byteRange[3]=g.length-byteRange[2];let E="";for(let D=0;D<byteRange.length;D++)E+=` ${byteRange[D]}`;let k=`/ByteRange [${E}]`;return k+=" ".repeat(x.length-k.length),g=buffer.Buffer.concat([g.slice(0,b),buffer.Buffer.from(k),g.slice(S,g.length)]),g=buffer.Buffer.concat([g.slice(0,byteRange[1]),g.slice(byteRange[2],g.length)]),g},removeTrailingNewLine=g=>{let d=g;if(d=sliceLastChar(d,`
`),d=sliceLastChar(d,"\r"),d.slice(d.length-6).toString()!==`
%%EOF`)throw console.error("A PDF file must end with an EOF line."),Error("A PDF file must end with an EOF line.");return d},sliceLastChar=(g,d)=>g.slice(g.length-1).toString()===d?g.slice(0,g.length-1):g,findByteRangePlaceholder=g=>{const d=g.toString().match(/\/ByteRange\s*\[{1}\s*(?:(?:\d*|\/\*{10})\s+){3}(?:\d+|\/\*{10}){1}\s*]{1}/g);if(d==null)throw console.error("No ByteRangeStrings found within PDF buffer"),Error("No ByteRangeStrings found within PDF buffer");const x=d.find(S=>S.includes(`/${DEFAULT_BYTE_RANGE_PLACEHOLDER}`));let b=d.map(S=>S.match(/[^[\s]*(?:\d|\/\*{10})/g));return{byteRangePlaceholder:x,byteRangeStrings:d,byteRanges:b}},fillSignatureResult=(g,d)=>{console.debug(" ");const x=d.base64ToHex(),b=fillRemainString(x);return g=buffer.Buffer.concat([g.slice(0,byteRange[1]),buffer.Buffer.from(`<${b}>`),g.slice(byteRange[1],g.length)]),g};function fillRemainString(g){return`${g}${"0".repeat(DEFAULT_SIGNATURE_LENGTH-g.length)}`}(()=>{var __webpack_modules__={106:()=>{(function(){if(window.cadesplugin)return;var pluginObject,plugin_resolved=0,plugin_reject,plugin_resolve,isOpera=0,isFireFox=0,isSafari=0,isYandex=0,canPromise=!!window.Promise,cadesplugin_loaded_event_recieved=!1,isFireFoxExtensionLoaded=!1,cadesplugin;canPromise?cadesplugin=new Promise(function(g,d){plugin_resolve=g,plugin_reject=d}):cadesplugin={};function check_browser(){var g=navigator.userAgent,d,x=g.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(x[1])?(d=/\brv[ :]+(\d+)/g.exec(g)||[],{name:"IE",version:d[1]||""}):x[1]==="Chrome"&&(d=g.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/),d!=null)?{name:d[1].replace("OPR","Opera"),version:d[2]}:(x=x[2]?[x[1],x[2]]:[navigator.appName,navigator.appVersion,"-?"],(d=g.match(/version\/(\d+)/i))!=null&&x.splice(1,1,d[1]),{name:x[0],version:x[1]})}var browserSpecs=check_browser();function cpcsp_console_log(g,d){if(!(typeof console>"u")&&g<=cadesplugin.current_log_level){g===cadesplugin.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",d),g===cadesplugin.LOG_LEVEL_INFO&&console.info("INFO: %s",d),g===cadesplugin.LOG_LEVEL_ERROR&&console.error("ERROR: %s",d);return}}function set_log_level(g){if(!(g===cadesplugin.LOG_LEVEL_DEBUG||g===cadesplugin.LOG_LEVEL_INFO||g===cadesplugin.LOG_LEVEL_ERROR)){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+g);return}cadesplugin.current_log_level=g,cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),isNativeMessageSupported()&&(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))}function set_constantValues(){cadesplugin.CAPICOM_MEMORY_STORE=0,cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1,cadesplugin.CAPICOM_CURRENT_USER_STORE=2,cadesplugin.CAPICOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_MEMORY_STORE=0,cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1,cadesplugin.CADESCOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_SMART_CARD_USER_STORE=4,cadesplugin.CADESCOM_CONTAINER_STORE=100,cadesplugin.CAPICOM_MY_STORE="My",cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,cadesplugin.CADESCOM_XADES_DEFAULT=16,cadesplugin.CADESCOM_XADES_BES=32,cadesplugin.CADESCOM_XADES_T=80,cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1=1488,cadesplugin.CADESCOM_XMLDSIG_TYPE=0,cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",cadesplugin.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256",cadesplugin.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256",cadesplugin.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512",cadesplugin.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512",cadesplugin.CADESCOM_CADES_DEFAULT=0,cadesplugin.CADESCOM_CADES_BES=1,cadesplugin.CADESCOM_CADES_T=5,cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93,cadesplugin.CADESCOM_PKCS7_TYPE=65535,cadesplugin.CADESCOM_ENCODE_BASE64=0,cadesplugin.CADESCOM_ENCODE_BINARY=1,cadesplugin.CADESCOM_ENCODE_ANY=-1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9,cadesplugin.CAPICOM_OID_OTHER=0,cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10,cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2,cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5,cadesplugin.CAPICOM_EKU_OTHER=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256,cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1,cadesplugin.CADESCOM_STRING_TO_UCS2LE=0,cadesplugin.CADESCOM_BASE64_TO_BINARY=1,cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0,cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1,cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0,cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1,cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2,cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,cadesplugin.LOG_LEVEL_DEBUG=4,cadesplugin.LOG_LEVEL_INFO=2,cadesplugin.LOG_LEVEL_ERROR=1,cadesplugin.CADESCOM_AllowNone=0,cadesplugin.CADESCOM_AllowNoOutstandingRequest=1,cadesplugin.CADESCOM_AllowUntrustedCertificate=2,cadesplugin.CADESCOM_AllowUntrustedRoot=4,cadesplugin.CADESCOM_SkipInstallToStore=268435456,cadesplugin.CADESCOM_InstallCertChainToContainer=536870912,cadesplugin.CADESCOM_UseContainerStore=1073741824,cadesplugin.ENABLE_CARRIER_TYPE_CSP=1,cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM=2,cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM=4,cadesplugin.ENABLE_ANY_CARRIER_TYPE=7,cadesplugin.DISABLE_EVERY_CARRIER_OPERATION=0,cadesplugin.ENABLE_CARRIER_OPEN_ENUM=1,cadesplugin.ENABLE_CARRIER_CREATE=2,cadesplugin.ENABLE_ANY_OPERATION=3,cadesplugin.CADESCOM_PRODUCT_CSP=0,cadesplugin.CADESCOM_PRODUCT_OCSP=1,cadesplugin.CADESCOM_PRODUCT_TSP=2,cadesplugin.MEDIA_TYPE_REGISTRY=1,cadesplugin.MEDIA_TYPE_HDIMAGE=2,cadesplugin.MEDIA_TYPE_CLOUD=4,cadesplugin.MEDIA_TYPE_SCARD=8,cadesplugin.XCN_CRYPT_STRING_BASE64HEADER=0,cadesplugin.AT_KEYEXCHANGE=1,cadesplugin.AT_SIGNATURE=2,cadesplugin.CARRIER_FLAG_REMOVABLE=1,cadesplugin.CARRIER_FLAG_UNIQUE=2,cadesplugin.CARRIER_FLAG_PROTECTED=4,cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER=8,cadesplugin.CARRIER_FLAG_SECURE_MESSAGING=16,cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64,cadesplugin.CARRIER_FLAG_VIRTUAL=128}function async_spawn(g){function d(w,C){var F;try{F=x[w](C)}catch(E){return Promise.reject(E)}return F.done?F.value:Promise.resolve(F.value).then(b,S)}var x=g(Array.prototype.slice.call(arguments,1)),b=d.bind(d,"next"),S=d.bind(d,"throw");return b()}function isIE(){return browserSpecs.name==="IE"||browserSpecs.name==="MSIE"}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){if(isIE())return!1;if(browserSpecs.name==="Edg")return!0;if(browserSpecs.name==="YaBrowser")return isYandex=!0,!0;if(browserSpecs.name==="Opera")return isOpera=!0,browserSpecs.version>=33;if(browserSpecs.name==="Firefox")return isFireFox=!0,browserSpecs.version>=52;if(browserSpecs.name==="Chrome")return browserSpecs.version>=42;if(browserSpecs.name==="Safari")return isSafari=!0,browserSpecs.version>=12}function CreateObject(g){if(isIOS())return call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[g]);if(isIE()){if(g.match(/X509Enrollment/i))try{var d=document.getElementById("webClassFactory");return d.CreateObject(g)}catch{try{var x=document.getElementById("certEnrollClassFactory");return x.CreateObject(g)}catch{throw"   X509Enrollment   -       HTTPS"}}try{var x=document.getElementById("webClassFactory");return x.CreateObject(g)}catch{return new ActiveXObject(g)}}return pluginObject.CreateObject(g)}function decimalToHexString(g){return g<0&&(g=4294967295+g+1),g.toString(16).toUpperCase()}function GetMessageFromException(g){var d=g.message;return d?g.number&&(d+=" (0x"+decimalToHexString(g.number)+")"):d=g,d}function getLastError(g){if(isNativeMessageSupported()||isIE()||isIOS())return GetMessageFromException(g);try{return pluginObject.getLastError()}catch{return GetMessageFromException(g)}}function ReleasePluginObjects(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}function CreateObjectAsync(g){return pluginObject.CreateObjectAsync(g)}var ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function(d,x){var b=ru_cryptopro_npcades_10_native_bridge.callbacks[d];b&&b.apply(null,x)},call:function(d,x,b){var S=b&&typeof b=="function",w=S?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;S&&(ru_cryptopro_npcades_10_native_bridge.callbacks[w]=b);var C=document.createElement("IFRAME"),F=new Array("_CPNP_handle");try{C.setAttribute("src","cpnp-js-call:"+d+":"+w+":"+encodeURIComponent(JSON.stringify(x,F)))}catch(E){alert(E)}document.documentElement.appendChild(C),C.parentNode.removeChild(C),C=null}};function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj,ex;if(ru_cryptopro_npcades_10_native_bridge.call(functionName,array,function(e,response){ex=e;var str="tmpobj="+response;eval(str)}),ex)throw ex;return tmpobj}function show_firefox_missing_extension_dialog(){if(!window.cadesplugin_skip_extension_install){var g=document.createElement("div");g.id="cadesplugin_ovr",g.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",g.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; max-width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>    Browser plugin       . ,        .<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'> </a></p></div>",document.getElementsByTagName("Body")[0].appendChild(g),document.getElementById("cadesplugin_close_install").addEventListener("click",function(){plugin_loaded_error(" "),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),g.addEventListener("click",function(){plugin_loaded_error(" "),document.getElementById("cadesplugin_ovr").style.visibility="hidden"}),g.style.visibility="visible"}}function firefox_or_safari_nmcades_onload(){window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),isFireFoxExtensionLoaded=!0,cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){!isIE()&&!isFireFox&&!isSafari&&window.cadesplugin_extension_loaded_callback&&window.cadesplugin_extension_loaded_callback(),window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",function(g){if(!(typeof g.data!="string"||!g.data.match("cadesplugin_loaded"))&&!cadesplugin_loaded_event_recieved){if(isFireFox||isSafari){var d=g.data.substring(g.data.indexOf("url:")+4);if(!d.match("^(moz|safari)-extension://[a-zA-Z0-9/_-]+/nmcades_plugin_api.js$")){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,'Bad url "'+d+'" for load CryptoPro Extension for CAdES Browser plug-in'),plugin_loaded_error();return}var x=document.createElement("script");x.setAttribute("type","text/javascript"),x.setAttribute("src",d),x.onerror=plugin_loaded_error,x.onload=firefox_or_safari_nmcades_onload,document.getElementsByTagName("head")[0].appendChild(x)}else cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error);cadesplugin_loaded_event_recieved=!0}},!1)}function load_extension(){if(isFireFox||isSafari)nmcades_api_onload();else if(isOpera||isYandex){var g=document.createElement("script");g.setAttribute("type","text/javascript"),g.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),g.onerror=plugin_loaded_error,g.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(g)}else{var g=document.createElement("script");g.setAttribute("type","text/javascript"),g.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),g.onerror=plugin_loaded_error,g.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(g)}}function load_npapi_plugin(){var g=document.createElement("object");if(g.setAttribute("id","cadesplugin_object"),g.setAttribute("type","application/x-cades"),g.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(g),pluginObject=document.getElementById("cadesplugin_object"),isIE()){var d=document.createElement("object");d.setAttribute("id","certEnrollClassFactory"),d.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),d.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(d);var x=document.createElement("object");x.setAttribute("id","webClassFactory"),x.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),x.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(x)}}function plugin_loaded(){plugin_resolved=1,canPromise?plugin_resolve():window.postMessage("cadesplugin_loaded","*")}function plugin_loaded_error(g){(typeof g>"u"||typeof g=="object")&&(g=" "),plugin_resolved=1,canPromise?plugin_reject(g):window.postMessage("cadesplugin_load_error","*")}function check_load_timeout(){plugin_resolved!==1&&(isFireFox&&(isFireFoxExtensionLoaded||show_firefox_missing_extension_dialog()),plugin_resolved=1,canPromise?plugin_reject("    "):window.postMessage("cadesplugin_load_error","*"))}function check_npapi_plugin(){try{var g=CreateObject("CAdESCOM.About");plugin_loaded()}catch{document.getElementById("cadesplugin_object").style.display="none";var d=navigator.mimeTypes["application/x-cades"];if(d){var x=d.enabledPlugin;plugin_loaded_error(x?" ,    ":"   ")}else plugin_loaded_error(" ")}}function check_plugin_working(){var g=document.createElement("div");g.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var d=g.getElementsByTagName("i").length===1;if(d){plugin_loaded_error("Internet Explorer  8    ");return}isNativeMessageSupported()?load_extension():canPromise?document.readyState==="complete"?(load_npapi_plugin(),check_npapi_plugin()):window.addEventListener("load",function(x){load_npapi_plugin(),check_npapi_plugin()},!1):window.addEventListener("message",function(x){x.data==="cadesplugin_echo_request"&&(load_npapi_plugin(),check_npapi_plugin())},!1)}function set_pluginObject(g){pluginObject=g}function is_capilite_enabled(){return!!(typeof cadesplugin.EnableInternalCSP<"u"&&cadesplugin.EnableInternalCSP)}cadesplugin.JSModuleVersion="2.3.3",cadesplugin.async_spawn=async_spawn,cadesplugin.set=set_pluginObject,cadesplugin.set_log_level=set_log_level,cadesplugin.getLastError=getLastError,cadesplugin.is_capilite_enabled=is_capilite_enabled,isNativeMessageSupported()&&(cadesplugin.CreateObjectAsync=CreateObjectAsync,cadesplugin.ReleasePluginObjects=ReleasePluginObjects),isNativeMessageSupported()||(cadesplugin.CreateObject=CreateObject),window.cadesplugin_load_timeout?setTimeout(check_load_timeout,window.cadesplugin_load_timeout):setTimeout(check_load_timeout,2e4),set_constantValues(),cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR,window.cadesplugin=cadesplugin,check_plugin_working()})()}},__webpack_module_cache__={};function __webpack_require__(g){var d=__webpack_module_cache__[g];if(d!==void 0)return d.exports;var x=__webpack_module_cache__[g]={exports:{}};return __webpack_modules__[g](x,x.exports,__webpack_require__),x.exports}(()=>{__webpack_require__(106);const g=function(H){return btoa(unescape(encodeURIComponent(H)))},d=H=>new Promise(V=>{const z=new FileReader;z.onloadend=()=>V(x(z.result)),z.readAsArrayBuffer(H)}),x=H=>{let V="";const z=new Uint8Array(H),G=z.byteLength;for(var X=0;X<G;X++)V+=String.fromCharCode(z[X]);return window.btoa(V)},b=async()=>{const{cadesplugin:H}=window;if(!H)return Promise.reject("  CAdES plugin Browser");await H.catch(V=>Promise.reject(` CAdES plugin Browser  : ${H.getLastError(V)}`))},S=H=>H.getVarDate?H.getVarDate():H,w=async H=>{const{cadesplugin:V}=window;if(!V)return Promise.reject(" CAdES plugin Browser  ");const z=await V.CreateObjectAsync("CAdESCOM.Store");if(await z.Open(V.CAPICOM_CURRENT_USER_STORE,V.CAPICOM_MY_STORE,V.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),!z)return Promise.reject("      ");let G=await z.Certificates;if(!await G.Count)return Promise.reject("  ");if(G=await G.Find(V.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,H),!await G.Count)return Promise.reject(`  : '${H}'  `);const J=await G.Item(1);return await z.Close(),J},C=async H=>{let V;const z={},G={"1.2.643.2.2.9":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411","1.2.643.7.1.1.2.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","1.2.643.7.1.1.2.3":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512","1.2.643.7.1.1.4.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC","1.2.643.7.1.1.4.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC","1.2.643.2.2.30.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC","1.2.643.2.2.19":"XmlDsigGost3410Url","1.2.643.7.1.1.1.1":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","1.2.643.7.1.1.1.2":"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512"};try{V=await H.PublicKey(),V=await V.Algorithm,z.algorithm=await V.FriendlyName,z.oid=await V.Value,z.key=G[z.oid]}catch{return Promise.reject("   ")}return z},F=async()=>{await b();const{cadesplugin:H}=window;let V=[];const z=await H.CreateObjectAsync("CAdESCOM.Store");if(await z.Open(H.CAPICOM_CURRENT_USER_STORE,H.CAPICOM_MY_STORE,H.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),!z)return Promise.reject("      ");let G=await z.Certificates;if(!await G.Count)return Promise.reject("  ");const Y=await G.Count;if(!Y)return Promise.reject("  ");const J=(fe,Se)=>{let we=fe.match(new RegExp(`(^| )${Se}=(".+?"|.*?)(?:,|$)`));return we?we[2]:null},ee=fe=>{let Se=fe.match(/CN=(.+?)(?:,|$)/);return Se?Se[1]:""},ie=(fe,Se)=>{let we={};for(const[Ee,de]of Object.entries(Se))for(const xe of de){let Te=J(fe,xe);if(Te!=null){we[Ee]=Te;break}}return we},oe=fe=>new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(fe));let he={inn:["INN",""],innJur:[" "],ogrn:["OGRN",""],ogrnip:["OGRNIP",""],snils:["SNILS",""],email:["E"],CN:["CN"],SN:["SN"],G:["G","GN"],C:["C"],S:["S"],L:["L"],street:["STREET"],O:["O"],OU:["OU"],T:["T"]};for(let fe=Y;fe>0;fe--){const Se=await G.Item(fe),[we,Ee,de,xe,Te,Oe,Ne,Le]=await Promise.all([Se.SubjectName,Se.Thumbprint,Se.IsValid().then(Me=>Me.Result),C(Se),Se.IssuerName,Se.ValidToDate,Se.ValidFromDate,Se.SerialNumber]);V.push({thumbprint:Ee,...ie(we,he),name:ee(we),algorithm:xe.key,algorithmName:xe.algorithm,valid:de,issuerName:ee(Te),issuer:Te,validFromDate:oe(Ne),validToDate:oe(Oe),serialNumber:Le,subject:we})}return V},E=async(H,V)=>{await b();const{cadesplugin:z}=window,G=z[V||"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256"],X=await z.CreateObjectAsync("CAdESCOM.HashedData");let Y;try{await X.propset_Algorithm(G),await X.propset_DataEncoding(z.CADESCOM_BASE64_TO_BINARY),await X.Hash(H),Y=await X.Value}catch(J){return Promise.reject(`  : ${z.getLastError(J)}`)}return Y},k=async(H,V,z,G,X)=>{await b();const{cadesplugin:Y}=window,J=Y[z||"CADESCOM_CADES_BES"],ee=Y[G||"CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256"],ie=await Y.CreateObjectAsync("CADESCOM.CPAttribute"),oe=S(new Date);try{await ie.propset_Name(Y.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME),await ie.propset_Value(oe)}catch(de){return Promise.reject(`    : ${Y.getLastError(de)}`)}const he=await Y.CreateObjectAsync("CAdESCOM.CPSigner"),fe=await w(H);try{await he.propset_Certificate(fe),await he.propset_Options(Y.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN)}catch(de){return Promise.reject(`   : ${Y.getLastError(de)}`)}const Se=await Y.CreateObjectAsync("CAdESCOM.HashedData");try{await Se.propset_Algorithm(ee),await Se.SetHashValue(V)}catch(de){return Promise.reject(`   : ${Y.getLastError(de)}`)}let we=null;const Ee=await Y.CreateObjectAsync("CAdESCOM.CadesSignedData");try{we=await Ee.SignHash(Se,he,J)}catch(de){return Promise.reject(`   : ${Y.getLastError(de)}`)}return we},D=async H=>{let V;return H instanceof Blob?V=await d(H):H instanceof ArrayBuffer?V=x(H):V=g(H),V},M=async(H,V,z)=>{await b();const{cadesplugin:G}=window,X=G[z||"CADESCOM_CADES_BES"];var Y=await G.CreateObjectAsync("CAdESCOM.CadesSignedData");try{let J=await D(V);await Y.propset_ContentEncoding(G.CADESCOM_BASE64_TO_BINARY),await Y.propset_Content(J),await Y.VerifyCades(H,X,!0)}catch(J){return Promise.reject(`   : ${G.getLastError(J)}`)}return!0},L=function(){return b().then(async H=>new Promise(function(V,z){console.debug("CADES plugin loaded"),F().then(G=>V(G)).catch(G=>z(typeof G=="string"?G:G.message))}))},R=function(H,V){return L().then(z=>new Promise(function(G,X){if(console.debug("CADES plugin loaded"),V==null)return X("    ");const Y=z.find(J=>J.thumbprint===V);return U(Y,H,G,X)}))},U=async function(H,V,z,G){const X=Array.isArray(V),Y=X?[]:{},J=X?V.length:Object.keys(V).length;let ee=0,ie=function(he,fe){Y[he]=fe,ee++,J===ee&&z({certificate:H,signatures:Y})},oe=async function(he,fe){let Se=await D(fe),we=await E(Se,H.algorithm);ie(he,await k(H.thumbprint,we,void 0,H.algorithm))};try{if(X)for(let he=0;he<J;he++)await oe(he,V[he]);else for(let he of Object.keys(V))await oe(he,V[he])}catch(he){return G(typeof he=="string"?he:he.message)}},j=function(H,V){return new Promise(async function(z,G){M(H,V).then(X=>z(X)).catch(X=>G(X))})};window.getCertificates=L,window.signData=R,window.verifySignature=j})()})();function signData$1(g,d){return window.signData(g,d)}const addSignatureToPdf=async(g,d)=>{const x=await addSignaturePlaceholder(g,d),b=prepareForHash(buffer.Buffer.from(x));let S=new Blob([b]),w=await signData$1({data:S},d.cert.thumbprint);if(w===void 0)throw console.error("  "),Error("signature == undefined");console.debug(" ");let C=w.signatures.data;return fillSignatureResult(b,C)};__webpack_exports__GlobalWorkerOptions.workerSrc=pdfWorker;let pdf=null;const _sfc_main$4={components:{PageNavigation,AddSignAppearanceBar,DragResizeCert,CertificateViewAndChange},emits:["update:fileObject","download-file","change-cert","processingOn","processingOff","exception"],props:{fileObject:{},certificate:{}},data:function(){return{currentPage:1,countPages:0,zoom:{scale:1.5},signDict:{},signCount:0,dragAndResize:!1,dragApp:void 0,element:{x:10,y:10,width:400,height:150,isActive:!0}}},watch:{certificate(g){this.startDragResizeComponent()}},computed:{currentPageComputed:{get(){return this.currentPage},set(g){pdf==null||g===this.currentPage||g<=0||g>this.countPages||(this.currentPage=g,this.renderCanvasPage())}},dictIsEmpty:{get(){return this.signDict[this.currentPage]==null||!this.signDict[this.currentPage].length}}},methods:{createSignClick:async function(g){if(this.signCount===0){alert("    ");return}this.$emit("processingOn");const x={signDict:JSON.parse(JSON.stringify(this.signDict)),cert:this.certificate};try{const b=await addSignatureToPdf(this.fileObject.file,x);this.$emit("processingOff"),pdf=null;const S=bufferToFile(b,`${this.fileObject.file.name}`,"application/pdf");this.$emit("update:fileObject",{file:S}),this.$emit("download-file",{file:S})}catch(b){this.$emit("processingOff"),console.error(b),b instanceof Error?this.$emit("exception",b.message):this.$emit("exception",b)}},updateSignDict:function(){this.dictIsEmpty&&(this.signDict[this.currentPage]=[]);const g=JSON.parse(JSON.stringify(this.element));this.signCount++,this.signDict[this.currentPage].push(g),this.createSignAppearance(g),this.initSvgPosition()},renderCanvasPage:async function(){console.debug(pdf);const g=await pdf.getPage(this.currentPage);this.renderCurrentPageSignAppearance();const d=g.getViewport(this.zoom);this.$refs.canvas.height=d.height,this.$refs.canvas.width=d.width;const x=this.$refs.canvas.getContext("2d");g.render({canvasContext:x,viewport:d})},renderCurrentPageSignAppearance:function(){if(document.querySelectorAll(".token").forEach(g=>g.remove()),!this.dictIsEmpty)for(let g of this.signDict[this.currentPage])g!=null&&this.createSignAppearance(g)},createSignAppearance:function(g){const d=createHtmlSign(this.certificate,g),x=createHtmlDeleteSignBth(),b=this.signDict[this.currentPage],S=b.length-1,w=C=>{b[S]=null,this.signCount--,isNull(b)&&(this.signDict[this.currentPage]=[]),console.debug(this.signDict[this.currentPage]),C.target.parentElement.remove(),x.removeEventListener("click",w)};x.addEventListener("click",w),d.appendChild(x),this.$refs.pdf.appendChild(d)},onInputPage:function(g){if(g.target.value===""){g.target.value=this.currentPageComputed;return}const d=g.target.valueAsNumber;this.currentPageComputed!==d&&(this.currentPageComputed=d,this.currentPageComputed!==d&&(g.target.value=this.currentPageComputed))},clearSignDict:function(){this.signDict={},this.signCount=0,document.querySelectorAll(".token").forEach(g=>g.remove())},changeCert:function(){this.$emit("change-cert"),this.clearSignDict()},initSvgPosition(){this.element.x=10,this.element.y=10,this.dragAndResize=!1},startDragResizeComponent(){this.dragApp=createApp(DragResizeCert,{certificate:this.certificate,element:this.element}),this.dragApp.mount("#drag_resize_container")},calculateRect(){this.$refs.drag_resize.style.cssText=`
          height: ${this.$refs.canvas.height}px;
          width: ${this.$refs.canvas.width}px;
      `}},async mounted(){if(this.fileObject.hasOwnProperty("file")===!1){console.error("no file"),this.$emit("exception","The file wasn't uploaded");return}try{const g=await fileToArrayBuffer$1(this.fileObject.file);pdf=await __webpack_exports__getDocument(g).promise,this.countPages=pdf.numPages}catch(g){this.$emit("exception",g)}await this.renderCanvasPage(),this.calculateRect(),this.startDragResizeComponent()}},_hoisted_1$3={class:"divCenter"},_hoisted_2$3={class:"component-container"},_hoisted_3$3={id:"pdf_container",ref:"pdf"},_hoisted_4$2={id:"drag_resize_container",ref:"drag_resize"},_hoisted_5$2={id:"canvas",ref:"canvas"},_hoisted_6$2={id:"toolbarContainer"};function _sfc_render$3(g,d,x,b,S,w){const C=resolveComponent("PageNavigation"),F=resolveComponent("CertificateViewAndChange"),E=resolveComponent("AddSignAppearanceBar");return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,[createVNode(C,{"count-pages":g.countPages,"current-page-computed":w.currentPageComputed,onInput:w.onInputPage,onTryUpdatePage:d[0]||(d[0]=k=>w.currentPageComputed=k)},null,8,["count-pages","current-page-computed","onInput"]),createBaseVNode("div",_hoisted_3$3,[withDirectives(createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$2,null,512)],512),[[vShow,g.dragAndResize]]),createBaseVNode("canvas",_hoisted_5$2,null,512)],512),createBaseVNode("div",_hoisted_6$2,[createVNode(F,{certificate:x.certificate,onChangeCert:w.changeCert,"sign-count":g.signCount},null,8,["certificate","onChangeCert","sign-count"]),createVNode(E,{"drag-and-resize":g.dragAndResize,"onUpdate:dragAndResize":d[1]||(d[1]=k=>g.dragAndResize=k),"sign-count":g.signCount,onUpdateSign:w.updateSignDict,onCancel:w.initSvgPosition,onClearDict:w.clearSignDict,onCreateSignature:w.createSignClick},null,8,["drag-and-resize","sign-count","onUpdateSign","onCancel","onClearDict","onCreateSignature"])])])])}const PageSign=_export_sfc(_sfc_main$4,[["render",_sfc_render$3],["__scopeId","data-v-af94002c"]]),_sfc_main$3={},_hoisted_1$2={class:"modal-mask"},_hoisted_2$2={class:"modal-wrapper"},_hoisted_3$2={class:"modal-container",ondragstart:"return false"},_hoisted_4$1={class:"modal-header"},_hoisted_5$1=createBaseVNode("h2",null,"!",-1),_hoisted_6$1={class:"modal-body"},_hoisted_7$1={class:"modal-footer"};function _sfc_render$2(g,d,x,b,S,w){return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$1,[renderSlot(g.$slots,"header",{},()=>[_hoisted_5$1])]),createBaseVNode("div",_hoisted_6$1,[renderSlot(g.$slots,"body")]),createBaseVNode("div",_hoisted_7$1,[renderSlot(g.$slots,"footer",{},()=>[createBaseVNode("div",{class:"custom-button resume",onClick:d[0]||(d[0]=C=>g.$emit("cancel"))}," ) ")])])])])])}const ExceptionModal=_export_sfc(_sfc_main$3,[["render",_sfc_render$2]]);function initDataSignWithView(){return{showUploadingPage:!0,showSigningPage:!0,preloader:!1,showCertificateWindow:!1,selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}}const _sfc_main$2={components:{PageUpload:PageUpload$1,PageSign,PageDownload,SelectCertModal,Preloader,ExceptionModal},data(){return{showUploadingPage:!0,showSigningPage:!0,preloader:!1,showCertificateWindow:!1,showException:!1,exceptionMessage:"",selectedFile:{},certList:[],selectedCert:{},errorCertificateMessage:"",signResult:{}}},methods:{tryGetCert:async function(){this.showCertificateWindow=!0,getCertificates().then(g=>{g.length?this.certList=g:(this.errorCertificateMessage=" ",console.error(" "))}).catch(g=>{this.errorCertificateMessage=`${g} - ,       .`,this.showCertificateWindow=!1,console.error(g)})},onSelectedCert:function(g){g.name=g.name.removeEnclosingQuotes(),this.selectedCert=g,this.showUploadingPage=!1,this.showCertificateWindow=!1},onCancelSelect:function(){this.errorCertificateMessage=" ,  !",this.showCertificateWindow=!1},showDownloadPage:function(g){this.signResult=g,this.showSigningPage=!1,this.preloader=!1},restartProcess:function(){Object.assign(this.$data,initDataSignWithView())},pdfException:function(g){this.restartProcess(),this.exceptionMessage=g,this.showException=!0},signAgain(){this.showSigningPage=!0}}},_withScopeId$1=g=>(pushScopeId("data-v-e568726c"),g=g(),popScopeId(),g),_hoisted_1$1=_withScopeId$1(()=>createBaseVNode("h1",null,"   ",-1)),_hoisted_2$1={class:"exceptionContainer"},_hoisted_3$1=["textContent"];function _sfc_render$1(g,d,x,b,S,w){const C=resolveComponent("PageUpload"),F=resolveComponent("PageSign"),E=resolveComponent("PageDownload"),k=resolveComponent("SelectCertModal"),D=resolveComponent("ExceptionModal"),M=resolveComponent("Preloader");return openBlock(),createElementBlock(Fragment,null,[S.showUploadingPage?(openBlock(),createBlock(C,{key:0,"mime-type-string":"application/pdf","selected-file":S.selectedFile,"onUpdate:selectedFile":d[0]||(d[0]=L=>S.selectedFile=L),"error-certificate-message":S.errorCertificateMessage,"onUpdate:errorCertificateMessage":d[1]||(d[1]=L=>S.errorCertificateMessage=L),onTryGetCert:w.tryGetCert},{header:withCtx(()=>[_hoisted_1$1]),_:1},8,["selected-file","error-certificate-message","onTryGetCert"])):S.showSigningPage?withDirectives((openBlock(),createBlock(F,{key:1,"file-object":S.selectedFile,"onUpdate:fileObject":d[2]||(d[2]=L=>S.selectedFile=L),certificate:S.selectedCert,onDownloadFile:w.showDownloadPage,onChangeCert:d[3]||(d[3]=L=>S.showCertificateWindow=!0),onProcessingOn:d[4]||(d[4]=L=>this.preloader=!0),onProcessingOff:d[5]||(d[5]=L=>this.preloader=!1),onException:w.pdfException},null,8,["file-object","certificate","onDownloadFile","onException"])),[[vShow,!S.preloader]]):(openBlock(),createBlock(E,{key:2,"pdf-result":S.selectedFile,"sign-result":S.signResult,onRestart:w.restartProcess,onNewSign:w.signAgain},null,8,["pdf-result","sign-result","onRestart","onNewSign"])),withDirectives(createVNode(k,{"cert-list":S.certList,onGetCertificate:w.onSelectedCert,onCancel:w.onCancelSelect},null,8,["cert-list","onGetCertificate","onCancel"]),[[vShow,S.showCertificateWindow]]),withDirectives(createVNode(D,{onCancel:d[6]||(d[6]=L=>this.showException=!1)},{body:withCtx(()=>[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("textarea",{class:"exceptionMessage",textContent:toDisplayString(S.exceptionMessage)},null,8,_hoisted_3$1)])]),_:1},512),[[vShow,S.showException]]),withDirectives(createVNode(M,{height:"600px"},null,512),[[vShow,S.preloader]])],64)}const SignWithView=_export_sfc(_sfc_main$2,[["render",_sfc_render$1],["__scopeId","data-v-e568726c"]]);function readFile(g){return new Promise((d,x)=>{let b=new FileReader;b.onload=()=>{d(b.result)},b.onerror=x,b.readAsText(g)})}async function getSignatureObject(g){const d=getSignType(g);switch(d.type){case"pdf":throw Error("No Implemented");case"detached":{const x=await readFile(d.sig);if(typeof x=="string")return{sign:x,data:d.pdf};throw Error("error load file")}}throw Error("   !")}function getSignType(g){if(g.length>2)throw Error("     (     PDF)");let d,x;for(const b of g){let S=b.name.split(".").pop();if(S==null||b.name==S)throw Error(" .   !");if(S=="pdf"){if(d!=null)throw Error("      ");d=b}else if(S=="sig"){if(x!=null)throw Error("      ");x=b}else throw Error("     (     PDF)")}if(d!=null)return x!=null?{type:"detached",pdf:d,sig:x}:{type:"pdf",pdf:d,sig:void 0};throw x!=null?Error("  (  )"):Error(" ")}const _sfc_main$1={emits:["upload"],data(){return{showFiles:!1,uploadedFiles:[]}},computed:{isValidFilesExtension:{get(){}}},methods:{onChangeFile:function(g){if(g.target.files.length>4){alert("  ");return}this.uploadedFiles.push(...g.target.files),this.showFiles=!0,console.log(this.uploadedFiles)},deleteFile:function(g){const d=g.target.parentElement.getAttribute("itemid"),x=new Array(...this.uploadedFiles);x.splice(d,1),this.uploadedFiles=x},approveCheck:function(){getSignatureObject(this.uploadedFiles).then(g=>{this.$emit("upload",g)}).catch(g=>{alert(g),console.error(g)})}}},_withScopeId=g=>(pushScopeId("data-v-66cdcdd3"),g=g(),popScopeId(),g),_hoisted_1={class:"flex-col row"},_hoisted_2=_withScopeId(()=>createBaseVNode("h1",{class:"title"},"  ",-1)),_hoisted_3={class:"button"},_hoisted_4={class:"custom-button"},_hoisted_5={class:"button"},_hoisted_6={class:"uploaded-files flex-col"},_hoisted_7=["itemid"];function _sfc_render(g,d,x,b,S,w){return openBlock(),createElementBlock("div",_hoisted_1,[_hoisted_2,createBaseVNode("div",_hoisted_3,[createBaseVNode("label",_hoisted_4,[createBaseVNode("input",{type:"file",ref:"file-upload",multiple:"",onChange:d[0]||(d[0]=(...C)=>w.onChangeFile&&w.onChangeFile(...C))},null,544),createTextVNode("      ")])]),createBaseVNode("div",_hoisted_5,[createBaseVNode("label",{class:"custom-button",onClick:d[1]||(d[1]=C=>{this.uploadedFiles=[],this.showFiles=!1})},"  ")]),withDirectives(createBaseVNode("div",_hoisted_6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.uploadedFiles,(C,F)=>(openBlock(),createElementBlock("div",{class:"file flex-row",itemid:F},[createBaseVNode("h4",null,toDisplayString(C.name),1),createBaseVNode("button",{onClick:d[2]||(d[2]=(...E)=>w.deleteFile&&w.deleteFile(...E)),class:"delete custom-button"},"")],8,_hoisted_7))),256)),createBaseVNode("button",{class:"approve",onClick:d[3]||(d[3]=(...C)=>w.approveCheck&&w.approveCheck(...C))},"")],512),[[vShow,S.showFiles]])])}const PageUpload=_export_sfc(_sfc_main$1,[["render",_sfc_render],["__scopeId","data-v-66cdcdd3"]]),_sfc_main={__name:"VerifySign",setup(g){const d=async x=>{console.log(x),verifySignature(x.sign,x.data).then(b=>{b&&alert(" ")}).catch(b=>{alert(b)})};return(x,b)=>(openBlock(),createBlock(PageUpload,{onUpload:d}))}},basePath="/signer",router=createRouter({history:createWebHistory(),routes:[{path:`${basePath}/home`,name:"home",component:Home},{path:`${basePath}/detached`,name:"detached",component:Detached},{path:`${basePath}/signature-with-view`,name:"with-view",component:SignWithView},{path:`${basePath}/verify-signature`,name:"verify",component:_sfc_main},{path:"/",redirect:`${basePath}/home`},{path:`${basePath}`,redirect:`${basePath}/home`}]}),app=createApp(App);app.use(router);app.config.globalProperties.$maxByteSize=150*1024*1024;app.mount("#app");
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}